{"items":[{"tags":["java","arrays","list","multidimensional-array"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1639452515,"post_id":70343304,"comment_id":124346602,"body_markdown":"As the answer to your other question says, use a class to hold a pair of coordinates. Then pick a random index into the `List` and use those coordinates.","body":"As the answer to your other question says, use a class to hold a pair of coordinates. Then pick a random index into the <code>List</code> and use those coordinates."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639496865,"creation_date":1639472222,"answer_id":70346177,"question_id":70343304,"body_markdown":"It&#39;s better to build and use a _typed_ list of pairs of the coordinates:\r\n```java\r\npublic static List&lt;Pair&lt;Integer, Integer&gt;&gt; getEmptyCells(int[][] grid) {\r\n    List&lt;Pair&lt;Integer, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; grid.length; i++) {\r\n        for (int j = 0; j &lt; grid[i].length; j++) {\r\n            if (0 == grid[i][j]) {\r\n                result.add(new Pair(i, j));\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n// ....\r\n\r\nList&lt;Pair&lt;Integer, Integer&gt;&gt; emptyCells = getEmptyCells(grid);\r\n\r\nRandom r = new Random();\r\nPair&lt;Integer, Integer&gt; freeCell = emptyCells.get(r.nextInt(emptyCells.size()));\r\n\r\ngrid[freeCell.getFirst()][freeCell.getSecond()];\r\n```\r\n\r\nIf the list of pairs is not the option and the coordinates are represented as in shown the question in `List&lt;Integer&gt;`, then the size of the list is always even, so the index of the pair is calculated for a half of the list and it is in range [0, list.size()/2), and the coordinates of grid cells can be calculated as: `row = 2 * i; col = 2 * i + 1;` as shown below:\r\n```java\r\npublic static List&lt;Integer&gt; getEmptyCellPairs(int[][] grid) {\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; grid.length; i++) {\r\n        for (int j = 0; j &lt; grid[i].length; j++) {\r\n            if (0 == grid[i][j]) {\r\n                result.add(i);\r\n                result.add(j);\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nList&lt;Integer&gt; emptyCellPairs = getEmptyCellPairs(grid);\r\n\r\nRandom r = new Random();\r\n\r\nint pairIndex = r.nextInt(emptyCellPairs.size() / 2);\r\n\r\n// free cell\r\ngrid[emptyCells.get(2 * pairIndex)][emptyCells.get(2 * pairIndex + 1)];\r\n```","title":"How to choose two near each other values randomly","body":"<p>It's better to build and use a <em>typed</em> list of pairs of the coordinates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Pair&lt;Integer, Integer&gt;&gt; getEmptyCells(int[][] grid) {\n    List&lt;Pair&lt;Integer, Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; grid.length; i++) {\n        for (int j = 0; j &lt; grid[i].length; j++) {\n            if (0 == grid[i][j]) {\n                result.add(new Pair(i, j));\n            }\n        }\n    }\n    return result;\n}\n// ....\n\nList&lt;Pair&lt;Integer, Integer&gt;&gt; emptyCells = getEmptyCells(grid);\n\nRandom r = new Random();\nPair&lt;Integer, Integer&gt; freeCell = emptyCells.get(r.nextInt(emptyCells.size()));\n\ngrid[freeCell.getFirst()][freeCell.getSecond()];\n</code></pre>\n<p>If the list of pairs is not the option and the coordinates are represented as in shown the question in <code>List&lt;Integer&gt;</code>, then the size of the list is always even, so the index of the pair is calculated for a half of the list and it is in range [0, list.size()/2), and the coordinates of grid cells can be calculated as: <code>row = 2 * i; col = 2 * i + 1;</code> as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; getEmptyCellPairs(int[][] grid) {\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; grid.length; i++) {\n        for (int j = 0; j &lt; grid[i].length; j++) {\n            if (0 == grid[i][j]) {\n                result.add(i);\n                result.add(j);\n            }\n        }\n    }\n    return result;\n}\n\n\nList&lt;Integer&gt; emptyCellPairs = getEmptyCellPairs(grid);\n\nRandom r = new Random();\n\nint pairIndex = r.nextInt(emptyCellPairs.size() / 2);\n\n// free cell\ngrid[emptyCells.get(2 * pairIndex)][emptyCells.get(2 * pairIndex + 1)];\n</code></pre>\n"}],"owner":{"account_id":23322301,"reputation":89,"user_id":17399985,"display_name":"Zexxxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639496865,"creation_date":1639450904,"question_id":70343304,"body_markdown":"I have a function to print all coordinates into a list (col and row) wherein the grid I have 0. However, I want to procedure it and use it to randomly choose a place to generate there 1. How do I do it? As for me, the output of the list does look quite messy.\r\n\r\nCode: \r\n \r\n\r\n  \r\n\r\n      public static void addNewNum(int[][]grid) {\r\n    \t\tList freeSpace = new ArrayList();\r\n    \t\tfor(int row=0; row&lt; grid.length; row++)  {\r\n    \t\t\tfor(int col=0; col&lt; grid[row].length; col++) {\r\n    \t\t\t\tif (grid[row][col] ==0) {\r\n    \t\t\t\t\tfreeSpace.add(col);\r\n    \t\t\t\t\tfreeSpace.add(row);\r\n    \t\t        }\r\n    \t\t\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(Arrays.toString(freeSpace.toArray()));\r\n    \t     }\r\n         }\r\n    \t\r\nAs output I have :\r\n\r\n      1   2   3   4   \r\n      ================\r\n     1| 0 | 0 | 0 | 0 | \r\n       --+---+---+--\r\n     2| 0 | 0 | 0 | 0 | \r\n       --+---+---+--\r\n     3| 0 | 0 | 0 | 0 | \r\n       --+---+---+--\r\n     4| 0 | 0 | 0 | 0 | \r\n      ================\r\n    [0, 0, 1, 0, 2, 0, 3, 0]\r\n    [0, 0, 1, 0, 2, 0, 3, 0, 0, 1, 1, 1, 2, 1, 3, 1]\r\n    [0, 0, 1, 0, 2, 0, 3, 0, 0, 1, 1, 1, 2, 1, 3, 1, 0, 2, 1, 2, 2, 2, 3, 2]\r\n    [0, 0, 1, 0, 2, 0, 3, 0, 0, 1, 1, 1, 2, 1, 3, 1, 0, 2, 1, 2, 2, 2, 3, 2, 0, 3, 1, 3, 2, 3, 3, 3]\r\n\r\n\r\n*List is printed in format col1,row1,col2,row2,col3,row3... And i need to choose somehow randomly near each other values so they would be like a valid coordinate ( I cannot choose col1,col2 or row2,col3 ) Maybe it is done easier, and I should create other list, but that is the list that I came up with ( Also output of list looks kind of strange )* \r\n\r\nSO basically it should work like \r\n1) Generated List with coordinates \r\n2) Choose right coordinates ( example: col2,row2 )\r\n3) Change it with value 1 in array","title":"How to choose two near each other values randomly","body":"<p>I have a function to print all coordinates into a list (col and row) wherein the grid I have 0. However, I want to procedure it and use it to randomly choose a place to generate there 1. How do I do it? As for me, the output of the list does look quite messy.</p>\n<p>Code:</p>\n<pre><code>  public static void addNewNum(int[][]grid) {\n        List freeSpace = new ArrayList();\n        for(int row=0; row&lt; grid.length; row++)  {\n            for(int col=0; col&lt; grid[row].length; col++) {\n                if (grid[row][col] ==0) {\n                    freeSpace.add(col);\n                    freeSpace.add(row);\n                }\n        \n            }\n            System.out.println(Arrays.toString(freeSpace.toArray()));\n         }\n     }\n    \n</code></pre>\n<p>As output I have :</p>\n<pre><code>  1   2   3   4   \n  ================\n 1| 0 | 0 | 0 | 0 | \n   --+---+---+--\n 2| 0 | 0 | 0 | 0 | \n   --+---+---+--\n 3| 0 | 0 | 0 | 0 | \n   --+---+---+--\n 4| 0 | 0 | 0 | 0 | \n  ================\n[0, 0, 1, 0, 2, 0, 3, 0]\n[0, 0, 1, 0, 2, 0, 3, 0, 0, 1, 1, 1, 2, 1, 3, 1]\n[0, 0, 1, 0, 2, 0, 3, 0, 0, 1, 1, 1, 2, 1, 3, 1, 0, 2, 1, 2, 2, 2, 3, 2]\n[0, 0, 1, 0, 2, 0, 3, 0, 0, 1, 1, 1, 2, 1, 3, 1, 0, 2, 1, 2, 2, 2, 3, 2, 0, 3, 1, 3, 2, 3, 3, 3]\n</code></pre>\n<p><em>List is printed in format col1,row1,col2,row2,col3,row3... And i need to choose somehow randomly near each other values so they would be like a valid coordinate ( I cannot choose col1,col2 or row2,col3 ) Maybe it is done easier, and I should create other list, but that is the list that I came up with ( Also output of list looks kind of strange )</em></p>\n<p>SO basically it should work like</p>\n<ol>\n<li>Generated List with coordinates</li>\n<li>Choose right coordinates ( example: col2,row2 )</li>\n<li>Change it with value 1 in array</li>\n</ol>\n"},{"tags":["java","mongodb","apache-beam","dataflow"],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624470968,"creation_date":1624470968,"answer_id":68104954,"question_id":68103589,"body_markdown":"If the same details work in the Python SDK, I suggest filing a bug with the steps to reproduce the problem. I did not find [any existing bug for Java&#39;s MongoDbIO](https://issues.apache.org/jira/issues/?filter=12346475&amp;jql=project%20%3D%20BEAM%20AND%20component%20%3D%20io-java-mongodb%20ORDER%20BY%20created%20DESC). See https://beam.apache.org/community/contact-us/ for information about how to file a bug.","title":"Command failed with error 13 (Unauthorized): &#39;not authorized","body":"<p>If the same details work in the Python SDK, I suggest filing a bug with the steps to reproduce the problem. I did not find <a href=\"https://issues.apache.org/jira/issues/?filter=12346475&amp;jql=project%20%3D%20BEAM%20AND%20component%20%3D%20io-java-mongodb%20ORDER%20BY%20created%20DESC\" rel=\"nofollow noreferrer\">any existing bug for Java's MongoDbIO</a>. See <a href=\"https://beam.apache.org/community/contact-us/\" rel=\"nofollow noreferrer\">https://beam.apache.org/community/contact-us/</a> for information about how to file a bug.</p>\n"},{"tags":[],"owner":{"account_id":2638471,"reputation":25863,"user_id":2282634,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624501331,"creation_date":1624501331,"answer_id":68108907,"question_id":68103589,"body_markdown":"[splitVector](https://docs.mongodb.com/manual/reference/command/splitVector/#splitvector) is a MongoDB internal command that should not be called from a driver.\r\n\r\n","title":"Command failed with error 13 (Unauthorized): &#39;not authorized","body":"<p><a href=\"https://docs.mongodb.com/manual/reference/command/splitVector/#splitvector\" rel=\"nofollow noreferrer\">splitVector</a> is a MongoDB internal command that should not be called from a driver.</p>\n"}],"owner":{"account_id":15566616,"reputation":31,"user_id":11230147,"display_name":"Mahesh Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639496834,"creation_date":1624464949,"question_id":68103589,"body_markdown":"I am trying to connect to MongoDB via Java Apachebeam MongoDbIO connector, getting a &quot;not authorized&quot; error.\r\n\r\nThe same connection details are working for Python and able to retrieve the data.\r\n\r\nAny suggestions would be helpful\r\n\r\n**Error:**\r\n\r\n   021-06-23 17:59:09.041 CESTError message from worker: com.mongodb.MongoCommandException: Command failed with error 13 (Unauthorized): &#39;not authorized on test-direkt-dev to execute command { splitVector: &quot;test-direkt-dev.taskLog&quot;, keyPattern: { _id: 1 }, force: false, maxChunkSize: 21, $db: &quot;test-direkt-dev&quot;, $clusterTime: { clusterTime: Timestamp(1624463948, 23), signature: { hash: BinData(0, C92C5EEC1265B01EDB9B51DFC24BAB98D85EAE0D), keyId: 6911535624117813250 } }, lsid: { id: UUID(&quot;05eedc7a-f719-49b5-8c53-3d520dc772c4&quot;) }, $readPreference: { mode: &quot;primaryPreferred&quot; } }&#39; on server 172.29.156.26:27017. The full response is { &quot;operationTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624463948, &quot;i&quot; : 31 } }, &quot;ok&quot; : 0.0, &quot;errmsg&quot; : &quot;not authorized on test-direkt-dev to execute command { splitVector: \\&quot;test-direkt-dev.taskLog\\&quot;, keyPattern: { _id: 1 }, force: false, maxChunkSize: 21, $db: \\&quot;test-direkt-dev\\&quot;, $clusterTime: { clusterTime: Timestamp(1624463948, 23), signature: { hash: BinData(0, C92C5EEC1265B01EDB9B51DFC24BAB98D85EAE0D), keyId: 6911535624117813250 } }, lsid: { id: UUID(\\&quot;05eedc7a-f719-49b5-8c53-3d520dc772c4\\&quot;) }, $readPreference: { mode: \\&quot;primaryPreferred\\&quot; } }&quot;, &quot;code&quot; : 13, &quot;codeName&quot; : &quot;Unauthorized&quot;, &quot;$clusterTime&quot; : { &quot;clusterTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624463948, &quot;i&quot; : 31 } }, &quot;signature&quot; : { &quot;hash&quot; : { &quot;$binary&quot; : &quot;ySxe7BJlsB7bm1HfwkurmNherg0=&quot;, &quot;$type&quot; : &quot;00&quot; }, &quot;keyId&quot; : { &quot;$numberLong&quot; : &quot;6911535624117813250&quot; } } } }\r\n\r\n\r\n\r\n**Code:**\r\n\r\n    return pipeline.apply(MongoDbIO.read()\r\n        \t     \t\t   .withUri(&quot;mongodb://testuser:testpass1@88.200.92.195:27017&quot;)\r\n        \t     \t\t           .withDatabase(&quot;test-direkt-dev&quot;)\r\n        \t     \t\t           .withCollection(&quot;taskLog&quot;));\r\n\r\n\r\n\r\nThanks for the update. \r\n                                                                                                                                                                                                                                     \r\nAs per documentation, \r\nhttps://beam.apache.org/releases/javadoc/2.13.0/org/apache/beam/sdk/io/mongodb/MongoDbIO.Read.html   \r\nneed to pass the database name  &quot;/database name&quot; if the username:password@ syntax is used. \r\n                                                                                                                                                                                                                            \r\n  \r\n\r\n      return pipeline.apply(MongoDbIO.read()\r\n            .withUri(&quot;mongodb://testuser:testpass1@88.200.92.195:27017/test-direkt-dev&quot;)\r\n        .withDatabase(&quot;test-direkt-dev&quot;)\r\n        .withCollection(&quot;taskLog&quot;));\r\n\r\nThis time, I am getting the following error :\r\n\r\n&quot;org.apache.beam.sdk.io.mongodb.MongoDbIO$BoundedMongoDbSource.$closeResource(MongoDbIO.java:407) at org.apache.beam.sdk.io.mongodb.MongoDbIO$BoundedMongoDbSource.split(MongoDbIO.java:537) ... 15 more Caused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;Authentication failed.&#39; on server 88.200.92.195:27017. The full response is { &quot;operationTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624636024, &quot;i&quot; : 24 } }, &quot;ok&quot; : 0.0, &quot;errmsg&quot; : &quot;Authentication failed.&quot;, &quot;code&quot; : 18, &quot;codeName&quot; : &quot;AuthenticationFailed&quot;, &quot;$clusterTime&quot; : { &quot;clusterTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624636024, &quot;i&quot; : 24 } }, &quot;signature&quot; : { &quot;hash&quot; : { &quot;$binary&quot; : &quot;8a1nBS/Wmd5z1SHqhLKnW7Y/g7I=&quot;, &quot;$type&quot; : &quot;00&quot; }, &quot;keyId&quot; : { &quot;$numberLong&quot; : &quot;6911535624117813250&quot; } } } } at&quot;","title":"Command failed with error 13 (Unauthorized): &#39;not authorized","body":"<p>I am trying to connect to MongoDB via Java Apachebeam MongoDbIO connector, getting a &quot;not authorized&quot; error.</p>\n<p>The same connection details are working for Python and able to retrieve the data.</p>\n<p>Any suggestions would be helpful</p>\n<p><strong>Error:</strong></p>\n<p>021-06-23 17:59:09.041 CESTError message from worker: com.mongodb.MongoCommandException: Command failed with error 13 (Unauthorized): 'not authorized on test-direkt-dev to execute command { splitVector: &quot;test-direkt-dev.taskLog&quot;, keyPattern: { _id: 1 }, force: false, maxChunkSize: 21, $db: &quot;test-direkt-dev&quot;, $clusterTime: { clusterTime: Timestamp(1624463948, 23), signature: { hash: BinData(0, C92C5EEC1265B01EDB9B51DFC24BAB98D85EAE0D), keyId: 6911535624117813250 } }, lsid: { id: UUID(&quot;05eedc7a-f719-49b5-8c53-3d520dc772c4&quot;) }, $readPreference: { mode: &quot;primaryPreferred&quot; } }' on server 172.29.156.26:27017. The full response is { &quot;operationTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624463948, &quot;i&quot; : 31 } }, &quot;ok&quot; : 0.0, &quot;errmsg&quot; : &quot;not authorized on test-direkt-dev to execute command { splitVector: &quot;test-direkt-dev.taskLog&quot;, keyPattern: { _id: 1 }, force: false, maxChunkSize: 21, $db: &quot;test-direkt-dev&quot;, $clusterTime: { clusterTime: Timestamp(1624463948, 23), signature: { hash: BinData(0, C92C5EEC1265B01EDB9B51DFC24BAB98D85EAE0D), keyId: 6911535624117813250 } }, lsid: { id: UUID(&quot;05eedc7a-f719-49b5-8c53-3d520dc772c4&quot;) }, $readPreference: { mode: &quot;primaryPreferred&quot; } }&quot;, &quot;code&quot; : 13, &quot;codeName&quot; : &quot;Unauthorized&quot;, &quot;$clusterTime&quot; : { &quot;clusterTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624463948, &quot;i&quot; : 31 } }, &quot;signature&quot; : { &quot;hash&quot; : { &quot;$binary&quot; : &quot;ySxe7BJlsB7bm1HfwkurmNherg0=&quot;, &quot;$type&quot; : &quot;00&quot; }, &quot;keyId&quot; : { &quot;$numberLong&quot; : &quot;6911535624117813250&quot; } } } }</p>\n<p><strong>Code:</strong></p>\n<pre><code>return pipeline.apply(MongoDbIO.read()\n                       .withUri(&quot;mongodb://testuser:testpass1@88.200.92.195:27017&quot;)\n                               .withDatabase(&quot;test-direkt-dev&quot;)\n                               .withCollection(&quot;taskLog&quot;));\n</code></pre>\n<p>Thanks for the update.</p>\n<p>As per documentation,\n<a href=\"https://beam.apache.org/releases/javadoc/2.13.0/org/apache/beam/sdk/io/mongodb/MongoDbIO.Read.html\" rel=\"nofollow noreferrer\">https://beam.apache.org/releases/javadoc/2.13.0/org/apache/beam/sdk/io/mongodb/MongoDbIO.Read.html</a><br />\nneed to pass the database name  &quot;/database name&quot; if the username:password@ syntax is used.</p>\n<pre><code>  return pipeline.apply(MongoDbIO.read()\n        .withUri(&quot;mongodb://testuser:testpass1@88.200.92.195:27017/test-direkt-dev&quot;)\n    .withDatabase(&quot;test-direkt-dev&quot;)\n    .withCollection(&quot;taskLog&quot;));\n</code></pre>\n<p>This time, I am getting the following error :</p>\n<p>&quot;org.apache.beam.sdk.io.mongodb.MongoDbIO$BoundedMongoDbSource.$closeResource(MongoDbIO.java:407) at org.apache.beam.sdk.io.mongodb.MongoDbIO$BoundedMongoDbSource.split(MongoDbIO.java:537) ... 15 more Caused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'Authentication failed.' on server 88.200.92.195:27017. The full response is { &quot;operationTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624636024, &quot;i&quot; : 24 } }, &quot;ok&quot; : 0.0, &quot;errmsg&quot; : &quot;Authentication failed.&quot;, &quot;code&quot; : 18, &quot;codeName&quot; : &quot;AuthenticationFailed&quot;, &quot;$clusterTime&quot; : { &quot;clusterTime&quot; : { &quot;$timestamp&quot; : { &quot;t&quot; : 1624636024, &quot;i&quot; : 24 } }, &quot;signature&quot; : { &quot;hash&quot; : { &quot;$binary&quot; : &quot;8a1nBS/Wmd5z1SHqhLKnW7Y/g7I=&quot;, &quot;$type&quot; : &quot;00&quot; }, &quot;keyId&quot; : { &quot;$numberLong&quot; : &quot;6911535624117813250&quot; } } } } at&quot;</p>\n"},{"tags":["python","java","html"],"comments":[{"owner":{"account_id":6020437,"reputation":11294,"user_id":4727702,"display_name":"Yevhen Kuzmovych"},"score":1,"creation_date":1639496901,"post_id":70351666,"comment_id":124360505,"body_markdown":"And what output do you get?","body":"And what output do you get?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1639497000,"post_id":70351666,"comment_id":124360563,"body_markdown":"Why is this question tagged as &quot;java&quot;?","body":"Why is this question tagged as &quot;java&quot;?"},{"owner":{"account_id":23584079,"reputation":1,"user_id":17622746,"display_name":"PaulParkDoubleP"},"score":0,"creation_date":1639529899,"post_id":70351666,"comment_id":124370735,"body_markdown":"My output is    File &quot;c:/Users/HP/Desktop/NomardCoder/Paint/scrpper.py&quot;, line 28, in &lt;module&gt;\n    b = b(&#39;a&#39;)[&quot;href&quot;]\nTypeError: list indices must be integers or slices, not str","body":"My output is    File &quot;c:/Users/HP/Desktop/NomardCoder/Paint/scrpper.py&quot;, line 28, in &lt;module&gt;     b = b(&#39;a&#39;)[&quot;href&quot;] TypeError: list indices must be integers or slices, not str"},{"owner":{"account_id":23584079,"reputation":1,"user_id":17622746,"display_name":"PaulParkDoubleP"},"score":0,"creation_date":1639529929,"post_id":70351666,"comment_id":124370739,"body_markdown":"oh it&#39;s my fault insert &#39;java&#39; on it","body":"oh it&#39;s my fault insert &#39;java&#39; on it"}],"owner":{"account_id":23584079,"reputation":1,"user_id":17622746,"display_name":"PaulParkDoubleP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639496780,"creation_date":1639496780,"question_id":70351666,"body_markdown":"I can&#39;t solve this problem. What I want to do is extract only one thing that matches `&#39;href&#39; in` \r\n\r\n  `the &lt;a&gt;tag`\r\n\r\nBut, I can&#39;t figure it out with my code. \r\n\r\nhere is HTML structure and code. \r\n\r\n    [\r\n    &lt;li class=&quot;first impact&quot;&gt;&lt;div class=&quot;B_MyAd_&quot;&gt;&lt;/div&gt; \r\n    *&lt;a class=&quot;goodsBox-info&quot; href=&quot;http://barogo.alba.co.kr/&quot;&gt;**\r\n     &lt;span class=&quot;logo&quot;&gt; &lt;img alt=&quot;Baro Inc&quot;src=&quot;//imagelogo.alba.kr/data_image2/logo/brand/\r\n    20200916174910805.gif&quot;/&gt; &lt;/span&gt; &lt;span class=&quot;company&quot;&gt;Baro.Inc&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;&lt;span&gt;New Rider Recruition&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;wrap&quot;&gt; &lt;span class=&quot;local&quot;&gt;National&lt;/span&gt; &lt;span class=&quot;pay&quot;&gt;&lt;span class=&quot;payLetter&quot;&gt;confirm&lt;/span&gt; &lt;span class=&quot;payIcon talk&quot;&gt;&lt;/span&gt;&lt;/span&gt; &lt;/span&gt; &lt;/a&gt;\r\n    *&lt;a class=&quot;brandHover&quot; href=&quot;http://barogo.alba.co.kr/&quot;  &lt;/a&gt;*&lt;/li&gt;, . ,,,,,,.\r\n     ] \r\n=================================================================================\r\n\r\n    browser.get(&quot;http://www.alba.co.kr/&quot;)\r\n    \r\n    alba = BeautifulSoup(browser.page_source, &#39;html.parser&#39;)\r\n    brands = list(alba.find_all(&#39;li&#39;, {&quot;class&quot; : &quot;impact&quot;}, &#39;a.goodsBox-info&#39;))\r\n    #print(brands)\r\n    \r\n    for b in brands :\r\n       if b(&#39;a&#39;, {&quot;class&quot; : &quot;brandHover&quot;}) : \r\n         b = b(&#39;a&#39;)[&quot;href&quot;]\r\n       \r\n       print(b)\r\n\r\n","title":"How do I get the only one attribution in html when it has two or more same tags in that html?","body":"<p>I can't solve this problem. What I want to do is extract only one thing that matches <code>'href' in</code></p>\n<p><code>the &lt;a&gt;tag</code></p>\n<p>But, I can't figure it out with my code.</p>\n<p>here is HTML structure and code.</p>\n<pre><code>[\n&lt;li class=&quot;first impact&quot;&gt;&lt;div class=&quot;B_MyAd_&quot;&gt;&lt;/div&gt; \n*&lt;a class=&quot;goodsBox-info&quot; href=&quot;http://barogo.alba.co.kr/&quot;&gt;**\n &lt;span class=&quot;logo&quot;&gt; &lt;img alt=&quot;Baro Inc&quot;src=&quot;//imagelogo.alba.kr/data_image2/logo/brand/\n20200916174910805.gif&quot;/&gt; &lt;/span&gt; &lt;span class=&quot;company&quot;&gt;Baro.Inc&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;&lt;span&gt;New Rider Recruition&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;wrap&quot;&gt; &lt;span class=&quot;local&quot;&gt;National&lt;/span&gt; &lt;span class=&quot;pay&quot;&gt;&lt;span class=&quot;payLetter&quot;&gt;confirm&lt;/span&gt; &lt;span class=&quot;payIcon talk&quot;&gt;&lt;/span&gt;&lt;/span&gt; &lt;/span&gt; &lt;/a&gt;\n*&lt;a class=&quot;brandHover&quot; href=&quot;http://barogo.alba.co.kr/&quot;  &lt;/a&gt;*&lt;/li&gt;, . ,,,,,,.\n ] \n</code></pre>\n<p>=================================================================================</p>\n<pre><code>browser.get(&quot;http://www.alba.co.kr/&quot;)\n\nalba = BeautifulSoup(browser.page_source, 'html.parser')\nbrands = list(alba.find_all('li', {&quot;class&quot; : &quot;impact&quot;}, 'a.goodsBox-info'))\n#print(brands)\n\nfor b in brands :\n   if b('a', {&quot;class&quot; : &quot;brandHover&quot;}) : \n     b = b('a')[&quot;href&quot;]\n   \n   print(b)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7778850,"reputation":184,"user_id":5885968,"display_name":"M. Gianota"},"score":0,"creation_date":1639495591,"post_id":70350979,"comment_id":124359914,"body_markdown":"What is the point of creating the threads if all you are going to do is execute them synchronously? You might as well just use the single main execution thread and poll the `InputStream.available()` method to see if the stream is blocked.","body":"What is the point of creating the threads if all you are going to do is execute them synchronously? You might as well just use the single main execution thread and poll the <code>InputStream.available()</code> method to see if the stream is blocked."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1639496785,"post_id":70350979,"comment_id":124360458,"body_markdown":"@M.Gianota Looks like a homework assignment. Students are often asked to implement something using multiple threads to *learn* how to do that.","body":"@M.Gianota Looks like a homework assignment. Students are often asked to implement something using multiple threads to <i>learn</i> how to do that."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1639496934,"post_id":70350979,"comment_id":124360531,"body_markdown":"You should not change the question after answers have already been provided.","body":"You should not change the question after answers have already been provided."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639494772,"creation_date":1639494772,"answer_id":70351198,"question_id":70350979,"body_markdown":"The `ReentrantLock` maintains a count of how many times it has been locked by the current thread. This count is decremented every time you call `unlock()` and the lock is release when the count reaches zero. Thus, to unlock the lock, you must call `unlock()` *as many times as you have called `lock()` **or** `tryLock()`*.\r\n\r\nIn your code, you call `tryLock()` and if it is successful, you then call `lock()` inside the try/finally block and then you call `unlock()` ***once***.\r\n\r\nThe first thread to lock the ReentrantLock will thus increment the count to two but only decrement the count to one, so the lock is never released. Therefore, no other thread can ever acquire the lock.\r\n\r\nYou should use `tryLock()` or `lock()` to the lock the `ReentrantLock`, not both.","title":"Why count only one file","body":"<p>The <code>ReentrantLock</code> maintains a count of how many times it has been locked by the current thread. This count is decremented every time you call <code>unlock()</code> and the lock is release when the count reaches zero. Thus, to unlock the lock, you must call <code>unlock()</code> <em>as many times as you have called <code>lock()</code> <strong>or</strong> <code>tryLock()</code></em>.</p>\n<p>In your code, you call <code>tryLock()</code> and if it is successful, you then call <code>lock()</code> inside the try/finally block and then you call <code>unlock()</code> <em><strong>once</strong></em>.</p>\n<p>The first thread to lock the ReentrantLock will thus increment the count to two but only decrement the count to one, so the lock is never released. Therefore, no other thread can ever acquire the lock.</p>\n<p>You should use <code>tryLock()</code> or <code>lock()</code> to the lock the <code>ReentrantLock</code>, not both.</p>\n"}],"owner":{"account_id":21222534,"reputation":13,"user_id":15998003,"display_name":"Vasil Petrovich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70351198,"answer_count":1,"score":0,"last_activity_date":1639496489,"creation_date":1639493780,"question_id":70350979,"body_markdown":"Create a synchronous multithreaded system to determine the total of all integers or fractions in three text files. If a stream is blocked, it must display its name as &quot;LOCKED&quot;. Why count only one file (Thread with lock)? What the programs display:Thread-0 Locked!\r\nThread-2 Locked!\r\n123.321 322099, it&#39;s only for one file\r\n\r\n    import java.io.*;\r\n        import java.util.*;\r\n        import java.util.concurrent.locks.*;\r\n         \r\n        public class Dispatcher {\r\n         \r\n            public static void main(String[] args) throws InterruptedException {\r\n         \r\n                SumOfDigits sumOfDigits = new SumOfDigits();\r\n         \r\n                Thread thread = new Handler(new File(&quot;text.txt&quot;), sumOfDigits);\r\n                Thread thread2 = new Handler(new File(&quot;text2.txt&quot;), sumOfDigits);\r\n                Thread thread3 = new Handler(new File(&quot;text3.txt&quot;), sumOfDigits);\r\n                thread.start();\r\n                thread2.start();\r\n                thread3.start();\r\n                thread.join();\r\n                thread2.join();\r\n                thread3.join();\r\n         \r\n                System.out.println(sumOfDigits.resultDouble + &quot; &quot; + sumOfDigits.resultInt);\r\n            }\r\n         \r\n        }\r\n         \r\n         \r\n        class SumOfDigits {\r\n            double resultDouble;\r\n            int resultInt;\r\n            Lock lock = new ReentrantLock();\r\n         \r\n            void sum(File file) {\r\n                try (Scanner sc = new Scanner(file)) {\r\n                    int tempInt = 0;\r\n                    double tempDouble = 0;\r\n                    while (sc.hasNext()) {\r\n                        String num = sc.next();\r\n                        if (num.contains(&quot;.&quot;)) {\r\n                            tempDouble += Double.parseDouble(num);\r\n                        } else {\r\n                            tempInt += Integer.parseInt(num);\r\n                        }\r\n                    }\r\n                    boolean flag = lock.tryLock();\r\n                    if (flag) {\r\n                        try {\r\n                            resultDouble += tempDouble;\r\n                            resultInt += tempInt;\r\n                        } catch (Exception e) {\r\n                        } finally {\r\n                            lock.unlock();\r\n                        }\r\n                    } else {\r\n                        System.out.println(Thread.currentThread().getName() + &quot; Locked!&quot;);\r\n                    }\r\n         \r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n         \r\n        class Handler extends Thread {\r\n            File file;\r\n            SumOfDigits sumOfDigits;\r\n         \r\n            Handler(File file, SumOfDigits sumOfDigits) {\r\n                this.file = file;\r\n                this.sumOfDigits = sumOfDigits;\r\n            }\r\n         \r\n            @Override\r\n            public void run() {\r\n                sumOfDigits.sum(file);\r\n            }\r\n        }","title":"Why count only one file","body":"<p>Create a synchronous multithreaded system to determine the total of all integers or fractions in three text files. If a stream is blocked, it must display its name as &quot;LOCKED&quot;. Why count only one file (Thread with lock)? What the programs display:Thread-0 Locked!\nThread-2 Locked!\n123.321 322099, it's only for one file</p>\n<pre><code>import java.io.*;\n    import java.util.*;\n    import java.util.concurrent.locks.*;\n     \n    public class Dispatcher {\n     \n        public static void main(String[] args) throws InterruptedException {\n     \n            SumOfDigits sumOfDigits = new SumOfDigits();\n     \n            Thread thread = new Handler(new File(&quot;text.txt&quot;), sumOfDigits);\n            Thread thread2 = new Handler(new File(&quot;text2.txt&quot;), sumOfDigits);\n            Thread thread3 = new Handler(new File(&quot;text3.txt&quot;), sumOfDigits);\n            thread.start();\n            thread2.start();\n            thread3.start();\n            thread.join();\n            thread2.join();\n            thread3.join();\n     \n            System.out.println(sumOfDigits.resultDouble + &quot; &quot; + sumOfDigits.resultInt);\n        }\n     \n    }\n     \n     \n    class SumOfDigits {\n        double resultDouble;\n        int resultInt;\n        Lock lock = new ReentrantLock();\n     \n        void sum(File file) {\n            try (Scanner sc = new Scanner(file)) {\n                int tempInt = 0;\n                double tempDouble = 0;\n                while (sc.hasNext()) {\n                    String num = sc.next();\n                    if (num.contains(&quot;.&quot;)) {\n                        tempDouble += Double.parseDouble(num);\n                    } else {\n                        tempInt += Integer.parseInt(num);\n                    }\n                }\n                boolean flag = lock.tryLock();\n                if (flag) {\n                    try {\n                        resultDouble += tempDouble;\n                        resultInt += tempInt;\n                    } catch (Exception e) {\n                    } finally {\n                        lock.unlock();\n                    }\n                } else {\n                    System.out.println(Thread.currentThread().getName() + &quot; Locked!&quot;);\n                }\n     \n            } catch (Exception e) {\n            }\n        }\n    }\n     \n    class Handler extends Thread {\n        File file;\n        SumOfDigits sumOfDigits;\n     \n        Handler(File file, SumOfDigits sumOfDigits) {\n            this.file = file;\n            this.sumOfDigits = sumOfDigits;\n        }\n     \n        @Override\n        public void run() {\n            sumOfDigits.sum(file);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jvisualvm"],"answers":[{"tags":[],"owner":{"account_id":4666333,"reputation":91,"user_id":3779314,"display_name":"davity"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585065836,"creation_date":1585065836,"answer_id":60834805,"question_id":59359232,"body_markdown":"You have to expose metrics through MBeans setting next property\r\n\r\n```\r\nspring.datasource.hikari.registerMbeans=true\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KHEG6.png","title":"Hikari pool activeConnections not showing in JMX mbean","body":"<p>You have to expose metrics through MBeans setting next property</p>\n\n<pre><code>spring.datasource.hikari.registerMbeans=true\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KHEG6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KHEG6.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639496421,"creation_date":1576508589,"question_id":59359232,"body_markdown":"I was monitoring the `spring boot` application through `java Visual Vm`. I want to monitor the connection pooling . HikariCP is the one used for `connection pooling`.  I am not able to see the number of `active connections` in the details. Attached screenshot. Doesn&#39;t it exposed by default or should we programatically do it? please advice\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V0q8T.png","title":"Hikari pool activeConnections not showing in JMX mbean","body":"<p>I was monitoring the <code>spring boot</code> application through <code>java Visual Vm</code>. I want to monitor the connection pooling . HikariCP is the one used for <code>connection pooling</code>.  I am not able to see the number of <code>active connections</code> in the details. Attached screenshot. Doesn't it exposed by default or should we programatically do it? please advice</p>\n\n<p><a href=\"https://i.stack.imgur.com/V0q8T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V0q8T.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","database"],"owner":{"account_id":1586902,"reputation":368,"user_id":1471019,"display_name":"CrazyJavaLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639496363,"creation_date":1639395432,"question_id":70334011,"body_markdown":"I have an encrypted value (xyz), and I want to find the actual data from the table.\r\neg:\r\n1000 (Actual value) -&gt; XYZ (Encrypted value)\r\n\r\n1000 is the id of the table, I want to fetch the id 1000 row. How can I do that in a simple way?","title":"How to search encrypted value&#39;s actual data in table","body":"<p>I have an encrypted value (xyz), and I want to find the actual data from the table.\neg:\n1000 (Actual value) -&gt; XYZ (Encrypted value)</p>\n<p>1000 is the id of the table, I want to fetch the id 1000 row. How can I do that in a simple way?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1639489080,"post_id":70349585,"comment_id":124357005,"body_markdown":"@user7294900 You haven&#39;t linked to an answer, just to the whole question. It doesn&#39;t look like that would work anyway.","body":"@user7294900 You haven&#39;t linked to an answer, just to the whole question. It doesn&#39;t look like that would work anyway."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1639489532,"post_id":70349585,"comment_id":124357207,"body_markdown":"@Izruo The adjustment would be `([a-zA-Z&#192;-&#255;])-([a-zA-Z&#192;-&#255;])-([a-zA-Z&#192;-&#255;])`. This adjustment makes it work with the first sentence. The original pattern works with the second sentence.","body":"@Izruo The adjustment would be <code>([a-zA-Z&#192;-&#255;])-([a-zA-Z&#192;-&#255;])-([a-zA-Z&#192;-&#255;])</code>. This adjustment makes it work with the first sentence. The original pattern works with the second sentence."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1639489905,"post_id":70349585,"comment_id":124357374,"body_markdown":"@Izruo I added the two regex patterns to match each sentence into my question for clarity.","body":"@Izruo I added the two regex patterns to match each sentence into my question for clarity."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1639490020,"post_id":70349585,"comment_id":124357422,"body_markdown":"@Izruo How would your pattern avoid removing the dash in the second sentence that is not surrounded by characters?","body":"@Izruo How would your pattern avoid removing the dash in the second sentence that is not surrounded by characters?"},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1639490156,"post_id":70349585,"comment_id":124357471,"body_markdown":"@Hasen I just now spotted (and read from the pattern) that the crucial dashes are in the words `int&#233;resse-t-elle` and `l&#224;-dessus`. Before I simply saw one leftover dash with spaces around it and therefore assumed it was what we are looking for. The suggestion I made is therefore wrong and I&#39;ll delete my comment.","body":"@Hasen I just now spotted (and read from the pattern) that the crucial dashes are in the words <code>int&#233;resse-t-elle</code> and <code>l&#224;-dessus</code>. Before I simply saw one leftover dash with spaces around it and therefore assumed it was what we are looking for. The suggestion I made is therefore wrong and I&#39;ll delete my comment."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1639490443,"post_id":70349585,"comment_id":124357600,"body_markdown":"@Izruo Yeah it&#39;s decent answer and probably is useful for what I need it for. But I just wondered on the off chance there was something like &quot;1-2&quot; the dash would be removed there too.","body":"@Izruo Yeah it&#39;s decent answer and probably is useful for what I need it for. But I just wondered on the off chance there was something like &quot;1-2&quot; the dash would be removed there too."}],"answers":[{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639496322,"creation_date":1639488567,"answer_id":70349673,"question_id":70349585,"body_markdown":"This is the regular expression to replace all dashes.\r\n\r\n    stringValue.replaceAll(&quot;[-]&quot;, &quot; &quot;)\r\n\r\nThis is for replacing dashes in between words.\r\n\r\n    stringValue.replaceAll(&quot;(\\\\b-\\\\b)&quot;, &quot; &quot;)\r\n\r\nThis is late but work for the answer:\r\n\r\n    stringValue.replaceAll(&quot;(^[a-zA-Z&#192;-&#255;](?&lt;![a-zA-Z&#192;-&#255;])(?=[a-zA-Z&#192;-&#255;])|(?&lt;=[a-zA-Z&#192;-&#255;])(?![a-zA-Z&#192;-&#255;])-(?&lt;![a-zA-Z&#192;-&#255;])(?=[a-zA-Z&#192;-&#255;])|(?&lt;=[a-zA-Z&#192;-&#255;])(?![a-zA-Z&#192;-&#255;])$[a-zA-Z&#192;-&#255;])&quot;, &quot; &quot;)","title":"Regex flexible remove dash between characters only","body":"<p>This is the regular expression to replace all dashes.</p>\n<pre><code>stringValue.replaceAll(&quot;[-]&quot;, &quot; &quot;)\n</code></pre>\n<p>This is for replacing dashes in between words.</p>\n<pre><code>stringValue.replaceAll(&quot;(\\\\b-\\\\b)&quot;, &quot; &quot;)\n</code></pre>\n<p>This is late but work for the answer:</p>\n<pre><code>stringValue.replaceAll(&quot;(^[a-zA-ZÀ-ÿ](?&lt;![a-zA-ZÀ-ÿ])(?=[a-zA-ZÀ-ÿ])|(?&lt;=[a-zA-ZÀ-ÿ])(?![a-zA-ZÀ-ÿ])-(?&lt;![a-zA-ZÀ-ÿ])(?=[a-zA-ZÀ-ÿ])|(?&lt;=[a-zA-ZÀ-ÿ])(?![a-zA-ZÀ-ÿ])$[a-zA-ZÀ-ÿ])&quot;, &quot; &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639490363,"creation_date":1639489660,"answer_id":70349941,"question_id":70349585,"body_markdown":"That is a tricky one. For one side, you need to specify all the accented characters. You cannot use `\\w` because that would only include non-accented. And even though, having patterns like `-t-` implies that the second character has to be declared as zero width.\r\n\r\nSo, I think this can solve both problems:\r\n\r\n```\r\n&quot;Pourquoi s&#39;int&#233;resse-t-elle &#224; lui. Ma ch&#232;re je comptais l&#224;-dessus - figurez-vous.&quot;\r\n.replaceAll(&quot;([a-zA-Z\\\\u00C0-\\\\u017F])-((?=[a-zA-Z\\\\u00C0-\\\\u017F]))&quot;, &quot;$1 $2&quot;);\r\n```","title":"Regex flexible remove dash between characters only","body":"<p>That is a tricky one. For one side, you need to specify all the accented characters. You cannot use <code>\\w</code> because that would only include non-accented. And even though, having patterns like <code>-t-</code> implies that the second character has to be declared as zero width.</p>\n<p>So, I think this can solve both problems:</p>\n<pre><code>&quot;Pourquoi s'intéresse-t-elle à lui. Ma chère je comptais là-dessus - figurez-vous.&quot;\n.replaceAll(&quot;([a-zA-Z\\\\u00C0-\\\\u017F])-((?=[a-zA-Z\\\\u00C0-\\\\u017F]))&quot;, &quot;$1 $2&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1639492808,"creation_date":1639490851,"answer_id":70350259,"question_id":70349585,"body_markdown":"You can&#39;t match hyphens on both ends of a `t` word because the trailing `([a-zA-Z&#192;-&#255;])` in the regex consumes the `t`, and there is no way for the regex to match it again during the next iteration. Have a look:\r\n```none\r\nPourquoi s&#39;int&#233;resse-t-elle &#224; lui.\r\n                    ^^^\r\n                      First match (replace with &quot; t &quot;)\r\n\r\nPourquoi s&#39;int&#233;resse-t-elle &#224; lui.\r\n                       ^\r\n                       +-- search goes on from here, no more matches!\r\n```\r\n\r\n**You want to only match hyphens between letters**, so use\r\n```java\r\n.replaceAll(&quot;(?&lt;=\\\\p{L})-(?=\\\\p{L})&quot;, &quot; &quot;)\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `(?&lt;=\\p{L})` - a positive lookbehind that matches a location immediately preceded with any Unicode letter\r\n - `-` - a hyphen\r\n - `(?=\\p{L})` - a positive lookahead that matches a location that is immediately followed with any Unicode letter.\r\n\r\n\r\n  [1]: https://regex101.com/r/d8NNLE/1","title":"Regex flexible remove dash between characters only","body":"<p>You can't match hyphens on both ends of a <code>t</code> word because the trailing <code>([a-zA-ZÀ-ÿ])</code> in the regex consumes the <code>t</code>, and there is no way for the regex to match it again during the next iteration. Have a look:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Pourquoi s'intéresse-t-elle à lui.\n                    ^^^\n                      First match (replace with &quot; t &quot;)\n\nPourquoi s'intéresse-t-elle à lui.\n                       ^\n                       +-- search goes on from here, no more matches!\n</code></pre>\n<p><strong>You want to only match hyphens between letters</strong>, so use</p>\n<pre class=\"lang-java prettyprint-override\"><code>.replaceAll(&quot;(?&lt;=\\\\p{L})-(?=\\\\p{L})&quot;, &quot; &quot;)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/d8NNLE/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>(?&lt;=\\p{L})</code> - a positive lookbehind that matches a location immediately preceded with any Unicode letter</li>\n<li><code>-</code> - a hyphen</li>\n<li><code>(?=\\p{L})</code> - a positive lookahead that matches a location that is immediately followed with any Unicode letter.</li>\n</ul>\n"}],"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70350259,"answer_count":3,"score":2,"last_activity_date":1639496322,"creation_date":1639488205,"question_id":70349585,"body_markdown":"I need to remove the dashes between characters only but the way I&#39;m doing it I need to run two separate `replaceAll` commands - is there a way to do it with just one? It must allow for French characters.\r\n\r\n    .replaceAll(&quot;([a-zA-Z&#192;-&#255;])-([a-zA-Z&#192;-&#255;])&quot;, &quot;$1 $2&quot;)\r\n\r\nThe desired outcome is from this:\r\n\r\n    Pourquoi s&#39;int&#233;resse-t-elle &#224; lui.\r\n    Ma ch&#232;re je comptais l&#224;-dessus - figurez-vous.\r\n    Il y a 1-2 chemins que nous pouvons choisir.\r\n\r\n\r\nto this:\r\n\r\n    Pourquoi s&#39;int&#233;resse t elle &#224; lui\r\n    Ma ch&#232;re je comptais l&#224; dessus - figurez vous.\r\n    Il y a 1-2 chemins que nous pouvons choisir.\r\n\r\nWith the above pattern I can only fix the second sentence or with an adjustment, the first sentence but I want to fix them both with one pattern..\r\n\r\nRegex to match the first sentence:\r\n\r\nhttps://regex101.com/r/fHQNYP/1\r\n\r\nand to match the second sentence:\r\n\r\nhttps://regex101.com/r/j4YGrj/1","title":"Regex flexible remove dash between characters only","body":"<p>I need to remove the dashes between characters only but the way I'm doing it I need to run two separate <code>replaceAll</code> commands - is there a way to do it with just one? It must allow for French characters.</p>\n<pre><code>.replaceAll(&quot;([a-zA-ZÀ-ÿ])-([a-zA-ZÀ-ÿ])&quot;, &quot;$1 $2&quot;)\n</code></pre>\n<p>The desired outcome is from this:</p>\n<pre><code>Pourquoi s'intéresse-t-elle à lui.\nMa chère je comptais là-dessus - figurez-vous.\nIl y a 1-2 chemins que nous pouvons choisir.\n</code></pre>\n<p>to this:</p>\n<pre><code>Pourquoi s'intéresse t elle à lui\nMa chère je comptais là dessus - figurez vous.\nIl y a 1-2 chemins que nous pouvons choisir.\n</code></pre>\n<p>With the above pattern I can only fix the second sentence or with an adjustment, the first sentence but I want to fix them both with one pattern..</p>\n<p>Regex to match the first sentence:</p>\n<p><a href=\"https://regex101.com/r/fHQNYP/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/fHQNYP/1</a></p>\n<p>and to match the second sentence:</p>\n<p><a href=\"https://regex101.com/r/j4YGrj/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/j4YGrj/1</a></p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1534431575,"post_id":51879830,"comment_id":90711582,"body_markdown":"Please make it [mcve] by adding  test data and `JFarme`","body":"Please make it <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> by adding  test data and <code>JFarme</code>"},{"owner":{"account_id":12279564,"reputation":917,"user_id":8961642,"display_name":"Alireza Mazochi"},"score":0,"creation_date":1534432350,"post_id":51879830,"comment_id":90712072,"body_markdown":"@c0der I add a GUI class for testing.","body":"@c0der I add a GUI class for testing."}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534440275,"creation_date":1534432807,"answer_id":51880458,"question_id":51879830,"body_markdown":"The key are these rows :\r\n \r\n    //use GridLayout if you want equally spaced columns\r\n    row.setLayout(new BoxLayout(row, BoxLayout.X_AXIS));\r\n\r\nto apply constrains to columns you can use [GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) instead of `BoxLayout`. &lt;br/&gt;\r\n\r\nHere is a very basic mcve of using `GridBagLayout`:\r\n\r\n\timport java.awt.Color;\r\n\timport java.awt.Component;\r\n\timport java.awt.Dimension;\r\n\timport java.awt.Font;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.io.IOException;\r\n\timport javax.swing.BorderFactory;\r\n\timport javax.swing.BoxLayout;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JTextArea;\r\n\t\r\n\tpublic class PanelTable2 extends JPanel {\r\n\t\r\n\t\tpublic PanelTable2() {\r\n\t\r\n\t\t\tsetLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n\t\t\tsetPreferredSize(new Dimension(400, 150));\r\n\t\t\tadd(getRow());\r\n\t\t}\r\n\t\r\n\t\tComponent getRow() {\r\n\t\r\n\t\t\tint[] percent =  {10,40,50};\r\n\t\r\n\t\t\tJPanel row = new JPanel();\r\n\t\t\tGridBagLayout layout = new GridBagLayout();\r\n\t\t\trow.setLayout(layout);\r\n\t\r\n\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n\t\t\tgbc.anchor = GridBagConstraints.CENTER;\r\n\t\r\n\t\t\tfor (int i= 0; i &lt; percent.length; i++) {\r\n\t\t\t\tgbc.gridy = 0 ; gbc.gridx = i;\r\n\t\t\t\tgbc.weightx = percent[i];\r\n\t\t\t\tComponent component =  getCell();\r\n\t\t\t\trow.add(component, gbc);\r\n\t\t\t}\r\n\t\t\treturn row;\r\n\t\t}\r\n\t\r\n\t\tComponent getCell() {\r\n\t\r\n\t\t\tJTextArea ta = new JTextArea(4,11);\r\n\t\t\tta.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n\t\t\tta.setFont(new Font(&quot;Bmitra&quot;, Font.BOLD, 15));\r\n\t\t\treturn ta;\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) throws IOException{\r\n\t\r\n\t\t\tJFrame window = new JFrame();\r\n\t\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\twindow.add(new PanelTable2());\r\n\t\t\twindow.pack();\r\n\t\t\twindow.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\nNote that the mcve should not represent your application. It should be a simple representation of the problem.&lt;br/&gt;\r\n`GridBagLayout` is by no means the only option. There are other alternatives you can explore like [SpringLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html).\r\n\r\n","title":"Making Table With List Of JPanels ( With Applying Percentage Size Columns )","body":"<p>The key are these rows :</p>\n\n<pre><code>//use GridLayout if you want equally spaced columns\nrow.setLayout(new BoxLayout(row, BoxLayout.X_AXIS));\n</code></pre>\n\n<p>to apply constrains to columns you can use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">GridBagLayout</a> instead of <code>BoxLayout</code>. <br/></p>\n\n<p>Here is a very basic mcve of using <code>GridBagLayout</code>:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.io.IOException;\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\n\npublic class PanelTable2 extends JPanel {\n\n    public PanelTable2() {\n\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        setPreferredSize(new Dimension(400, 150));\n        add(getRow());\n    }\n\n    Component getRow() {\n\n        int[] percent =  {10,40,50};\n\n        JPanel row = new JPanel();\n        GridBagLayout layout = new GridBagLayout();\n        row.setLayout(layout);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.anchor = GridBagConstraints.CENTER;\n\n        for (int i= 0; i &lt; percent.length; i++) {\n            gbc.gridy = 0 ; gbc.gridx = i;\n            gbc.weightx = percent[i];\n            Component component =  getCell();\n            row.add(component, gbc);\n        }\n        return row;\n    }\n\n    Component getCell() {\n\n        JTextArea ta = new JTextArea(4,11);\n        ta.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n        ta.setFont(new Font(\"Bmitra\", Font.BOLD, 15));\n        return ta;\n    }\n\n    public static void main(String[] args) throws IOException{\n\n        JFrame window = new JFrame();\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.add(new PanelTable2());\n        window.pack();\n        window.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Note that the mcve should not represent your application. It should be a simple representation of the problem.<br/>\n<code>GridBagLayout</code> is by no means the only option. There are other alternatives you can explore like <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a>.</p>\n"},{"tags":[],"owner":{"account_id":5922030,"reputation":481,"user_id":4659081,"display_name":"Shahid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1534519086,"creation_date":1534436076,"answer_id":51881390,"question_id":51879830,"body_markdown":"Do this:\r\nFirst create an array of width size. for example :\r\n\r\n     final int[] columnsWidth = { 300, 100, 50, 300, 50 };\r\n\r\nthen on your method makeHeader and getCell, where you are setting all the attributes of text area, set preferred size also. See the code below. This should give you the width based on the size array.\r\n\r\n    ta.setPreferredSize(new Dimension(columnsWidth[columnIndex], ta.getHeight())); \r\n\r\nLet me know if it works for you :)\r\n\r\nBelow is the complete code:\r\nFor GUI:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class GUI extends JFrame {\r\n        private PanelTable2 table;\r\n        private JScrollPane scrollPane;\r\n    \r\n        public GUI(){\r\n            super(&quot;Bank Table&quot;);\r\n            JPanel contentPanel = new JPanel();\r\n            setContentPane(contentPanel);\r\n            contentPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\r\n            setLayout(new BorderLayout());\r\n            setMinimumSize(new Dimension(1000,700));\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \tfinal String[] columns = { &quot;Big Column&quot;, &quot;Serodys&quot;, &quot;Ram&#237;rez&quot;, &quot;Entrada&quot;, &quot;MercaSur&quot; };\r\n        \t\r\n        \t\r\n        \tfinal String[][] data = {{&quot;2323&quot;, &quot;Hundreds&quot;,&quot;2323&quot;, &quot;Hundreds&quot;,&quot;2323&quot;},{&quot;2323&quot;, &quot;Hundreds&quot;,&quot;2323&quot;, &quot;Hundreds&quot;,&quot;2323&quot;}}; \r\n        \t// final PanelTable22 panel = new PanelTable22(data, columns);\r\n            \r\n            System.out.println(&quot;Hey&quot;);\r\n            PanelTable2 table = new PanelTable2(data,columns);\r\n            System.out.println(&quot;!!!&quot;);\r\n    \r\n            scrollPane = new JScrollPane(table);\r\n            scrollPane.getVerticalScrollBar().setUnitIncrement(50);\r\n    \r\n            add(scrollPane,BorderLayout.CENTER);\r\n    \r\n            setVisible(true);\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n            GUI gui =new GUI();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nFor Table Model:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.ComponentOrientation;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    \t\r\n    public class PanelTable2 extends JPanel {\r\n        private String data[][];\r\n        private String columns[];\r\n        private int numberOfRows;\r\n        private int numberOfColumns;\r\n        private JTextArea[] header;\r\n        private JTextArea[][] cell;\r\n        final int[] columnsWidth = { 300, 100, 50, 300, 50 };\r\n    \r\n        \r\n        public PanelTable2(String data[][], String columns[]) {\r\n            setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n    \r\n            this.data = data;\r\n            this.columns = columns;\r\n    \r\n    \r\n            numberOfRows = data.length;\r\n            numberOfColumns = columns.length;\r\n    \r\n            makeHeader();\r\n            makeCells();\r\n        }\r\n    \r\n        public void makeCells() {\r\n            cell = new JTextArea[numberOfRows][numberOfColumns];\r\n            for (int rowIndex = 0; rowIndex &lt; numberOfRows; rowIndex++) {\r\n                add(getRow(numberOfColumns, rowIndex));\r\n            }\r\n        }\r\n    \r\n        public void makeHeader() {\r\n            header = new JTextArea[numberOfColumns];\r\n    \r\n    \r\n            for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\r\n                JTextArea ta = new JTextArea();\r\n                ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT); \r\n                ta.setPreferredSize(new Dimension(columnsWidth[columnIndex], ta.getHeight())); \r\n                ta.setBackground(new Color(57, 77, 112));\r\n                ta.setForeground(Color.WHITE);\r\n                ta.setText(columns[columnIndex]);\r\n                ta.setFont(new Font(&quot;Calibri Light&quot;, Font.BOLD, 25));\r\n                ta.setLineWrap(true);\r\n    \r\n                ta.setWrapStyleWord(true);\r\n                ta.setEditable(false);\r\n                header[columnIndex] = ta;\r\n            }\r\n    \r\n            JPanel rowHeader = new JPanel();\r\n            rowHeader.setLayout(new BoxLayout(rowHeader, BoxLayout.X_AXIS));\r\n    \r\n            for (int i = 0; i &lt; numberOfColumns; i++) {\r\n                rowHeader.add(header[i]);\r\n            }\r\n            add(rowHeader);\r\n        }\r\n    \r\n    \r\n        public Component getRow(int numberOfColumns, int rowIndex) {\r\n    \r\n            JPanel row = new JPanel();\r\n            //use GridLayout if you want equally spaced columns\r\n            row.setLayout(new BoxLayout(row, BoxLayout.X_AXIS));\r\n            for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\r\n                row.add(getCell(rowIndex, columnIndex));\r\n            }\r\n            return row;\r\n        }\r\n    \r\n        public Component getCell(int rowIndex, int columnIndex) {\r\n            if (cell[rowIndex][columnIndex] == null) {\r\n                JTextArea ta = new JTextArea();\r\n                ta.setLineWrap(true);\r\n                ta.setWrapStyleWord(true);\r\n                ta.setEditable(false);\r\n    \r\n                ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n                ta.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n                ta.setText(data[rowIndex][columnIndex]);\r\n                ta.setFont(new Font(&quot;Bmitra&quot;, Font.BOLD, 15));\r\n                ta.setPreferredSize(new Dimension(columnsWidth[columnIndex], ta.getHeight())); \r\n                \r\n                cell[rowIndex][columnIndex] = ta;\r\n            }\r\n    \r\n            return cell[rowIndex][columnIndex];\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Making Table With List Of JPanels ( With Applying Percentage Size Columns )","body":"<p>Do this:\nFirst create an array of width size. for example :</p>\n\n<pre><code> final int[] columnsWidth = { 300, 100, 50, 300, 50 };\n</code></pre>\n\n<p>then on your method makeHeader and getCell, where you are setting all the attributes of text area, set preferred size also. See the code below. This should give you the width based on the size array.</p>\n\n<pre><code>ta.setPreferredSize(new Dimension(columnsWidth[columnIndex], ta.getHeight())); \n</code></pre>\n\n<p>Let me know if it works for you :)</p>\n\n<p>Below is the complete code:\nFor GUI:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GUI extends JFrame {\n    private PanelTable2 table;\n    private JScrollPane scrollPane;\n\n    public GUI(){\n        super(\"Bank Table\");\n        JPanel contentPanel = new JPanel();\n        setContentPane(contentPanel);\n        contentPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\n        setLayout(new BorderLayout());\n        setMinimumSize(new Dimension(1000,700));\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        final String[] columns = { \"Big Column\", \"Serodys\", \"Ramírez\", \"Entrada\", \"MercaSur\" };\n\n\n        final String[][] data = {{\"2323\", \"Hundreds\",\"2323\", \"Hundreds\",\"2323\"},{\"2323\", \"Hundreds\",\"2323\", \"Hundreds\",\"2323\"}}; \n        // final PanelTable22 panel = new PanelTable22(data, columns);\n\n        System.out.println(\"Hey\");\n        PanelTable2 table = new PanelTable2(data,columns);\n        System.out.println(\"!!!\");\n\n        scrollPane = new JScrollPane(table);\n        scrollPane.getVerticalScrollBar().setUnitIncrement(50);\n\n        add(scrollPane,BorderLayout.CENTER);\n\n        setVisible(true);\n    }\n\n    public static void main(String args[]){\n        GUI gui =new GUI();\n    }\n\n\n}\n</code></pre>\n\n<p>For Table Model:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.ComponentOrientation;\nimport java.awt.Dimension;\nimport java.awt.Font;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\n\npublic class PanelTable2 extends JPanel {\n    private String data[][];\n    private String columns[];\n    private int numberOfRows;\n    private int numberOfColumns;\n    private JTextArea[] header;\n    private JTextArea[][] cell;\n    final int[] columnsWidth = { 300, 100, 50, 300, 50 };\n\n\n    public PanelTable2(String data[][], String columns[]) {\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n\n        this.data = data;\n        this.columns = columns;\n\n\n        numberOfRows = data.length;\n        numberOfColumns = columns.length;\n\n        makeHeader();\n        makeCells();\n    }\n\n    public void makeCells() {\n        cell = new JTextArea[numberOfRows][numberOfColumns];\n        for (int rowIndex = 0; rowIndex &lt; numberOfRows; rowIndex++) {\n            add(getRow(numberOfColumns, rowIndex));\n        }\n    }\n\n    public void makeHeader() {\n        header = new JTextArea[numberOfColumns];\n\n\n        for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\n            JTextArea ta = new JTextArea();\n            ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT); \n            ta.setPreferredSize(new Dimension(columnsWidth[columnIndex], ta.getHeight())); \n            ta.setBackground(new Color(57, 77, 112));\n            ta.setForeground(Color.WHITE);\n            ta.setText(columns[columnIndex]);\n            ta.setFont(new Font(\"Calibri Light\", Font.BOLD, 25));\n            ta.setLineWrap(true);\n\n            ta.setWrapStyleWord(true);\n            ta.setEditable(false);\n            header[columnIndex] = ta;\n        }\n\n        JPanel rowHeader = new JPanel();\n        rowHeader.setLayout(new BoxLayout(rowHeader, BoxLayout.X_AXIS));\n\n        for (int i = 0; i &lt; numberOfColumns; i++) {\n            rowHeader.add(header[i]);\n        }\n        add(rowHeader);\n    }\n\n\n    public Component getRow(int numberOfColumns, int rowIndex) {\n\n        JPanel row = new JPanel();\n        //use GridLayout if you want equally spaced columns\n        row.setLayout(new BoxLayout(row, BoxLayout.X_AXIS));\n        for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\n            row.add(getCell(rowIndex, columnIndex));\n        }\n        return row;\n    }\n\n    public Component getCell(int rowIndex, int columnIndex) {\n        if (cell[rowIndex][columnIndex] == null) {\n            JTextArea ta = new JTextArea();\n            ta.setLineWrap(true);\n            ta.setWrapStyleWord(true);\n            ta.setEditable(false);\n\n            ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n            ta.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            ta.setText(data[rowIndex][columnIndex]);\n            ta.setFont(new Font(\"Bmitra\", Font.BOLD, 15));\n            ta.setPreferredSize(new Dimension(columnsWidth[columnIndex], ta.getHeight())); \n\n            cell[rowIndex][columnIndex] = ta;\n        }\n\n        return cell[rowIndex][columnIndex];\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12279564,"reputation":917,"user_id":8961642,"display_name":"Alireza Mazochi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51881390,"answer_count":2,"score":2,"last_activity_date":1639496039,"creation_date":1534430852,"question_id":51879830,"body_markdown":"In this post https://stackoverflow.com/questions/51797852/making-table-with-list-of-jpanels I can make a Table with lists of panel. And this table has many features but I need a new feature and it is applying percentage columns. It means I like to width of all columns not equals and with an array of floats determines.   \r\nThis is my class table :  \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.Vector;\r\n    \r\n    public class PanelTable extends JPanel {\r\n        private String data[][];\r\n        private String columns[];\r\n        private int numberOfRows;\r\n        private int numberOfColumns;\r\n        private JTextArea[] header;\r\n        private JTextArea[][] cell;\r\n    \r\n        public PanelTable(String data[][], String columns[]) {\r\n            setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n    \r\n            this.data = data;\r\n            this.columns = columns;\r\n    \r\n    \r\n            numberOfRows = data.length;\r\n            numberOfColumns = columns.length;\r\n    \r\n            makeHeader();\r\n            makeCells();\r\n        }\r\n    \r\n        public void makeCells() {\r\n            cell = new JTextArea[numberOfRows][numberOfColumns];\r\n            for (int rowIndex = 0; rowIndex &lt; numberOfRows; rowIndex++) {\r\n                add(getRow(numberOfColumns, rowIndex));\r\n            }\r\n        }\r\n    \r\n        public void makeHeader() {\r\n            header = new JTextArea[numberOfColumns];\r\n    \r\n    \r\n            for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\r\n                JTextArea ta = new JTextArea();\r\n                ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n                ta.setBackground(new Color(57, 77, 112));\r\n                ta.setForeground(Color.WHITE);\r\n                ta.setText(columns[columnIndex]);\r\n                ta.setFont(new Font(&quot;Calibri Light&quot;, Font.BOLD, 25));\r\n                ta.setLineWrap(true);\r\n                ta.setWrapStyleWord(true);\r\n                ta.setEditable(false);\r\n                header[columnIndex] = ta;\r\n            }\r\n    \r\n            JPanel rowHeader = new JPanel();\r\n            rowHeader.setLayout(new BoxLayout(rowHeader, BoxLayout.X_AXIS));\r\n    \r\n            for (int i = 0; i &lt; numberOfColumns; i++) {\r\n                rowHeader.add(header[i]);\r\n            }\r\n            add(rowHeader);\r\n        }\r\n    \r\n    \r\n        public Component getRow(int numberOfColumns, int rowIndex) {\r\n    \r\n            JPanel row = new JPanel();\r\n            //use GridLayout if you want equally spaced columns\r\n            row.setLayout(new BoxLayout(row, BoxLayout.X_AXIS));\r\n            for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\r\n                row.add(getCell(rowIndex, columnIndex));\r\n            }\r\n            return row;\r\n        }\r\n    \r\n        public Component getCell(int rowIndex, int columnIndex) {\r\n            if (cell[rowIndex][columnIndex] == null) {\r\n                JTextArea ta = new JTextArea();\r\n                ta.setLineWrap(true);\r\n                ta.setWrapStyleWord(true);\r\n                ta.setEditable(false);\r\n                ta.setSize(50, ta.getHeight());\r\n    \r\n                ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n                ta.setBorder(BorderFactory.createLineBorder(Color.BLACK));\r\n                ta.setText(data[rowIndex][columnIndex]);\r\n                ta.setFont(new Font(&quot;Bmitra&quot;, Font.BOLD, 15));\r\n    \r\n                cell[rowIndex][columnIndex] = ta;\r\n            }\r\n    \r\n            return cell[rowIndex][columnIndex];\r\n        }\r\n    \r\n    }\r\n\r\nand this is a gui example for testing :   \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class GUI extends JFrame {\r\n        private PanelTable table;\r\n        private JScrollPane scrollPane;\r\n    \r\n        public GUI(){\r\n            super(&quot;Bank Table&quot;);\r\n            JPanel contentPanel = new JPanel();\r\n            setContentPane(contentPanel);\r\n            contentPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\r\n            setLayout(new BorderLayout());\r\n            setMinimumSize(new Dimension(1000,700));\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            String[][] data= new String[][]{{&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/01&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/02&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/03&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/04&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/05&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/06&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/07&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/08&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/09&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/10&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/11&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/12&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/13&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/14&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/27&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/28&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/29&quot;},\r\n                    {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/30&quot;}};\r\n    \r\n    \r\n            String[] columns= new String[]{&quot;ستون ۲&quot;, &quot;ستون ۱&quot;, &quot;ستون ۱۰&quot;,&quot;ستون ۹&quot;,&quot;ستون ۸&quot;,&quot;ستون ۷&quot;,&quot;ستون ۶&quot;,&quot;ستون ۵&quot;,&quot;ستون ۴&quot;,&quot;ستون ۳&quot;};\r\n            PanelTable table = new PanelTable(data,columns);\r\n    \r\n            scrollPane = new JScrollPane(table);\r\n            scrollPane.getVerticalScrollBar().setUnitIncrement(50);\r\n    \r\n            add(scrollPane,BorderLayout.CENTER);\r\n    \r\n            setVisible(true);\r\n        }\r\n    \r\n        public static void main(String args[]){\r\n            GUI gui =new GUI();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"Making Table With List Of JPanels ( With Applying Percentage Size Columns )","body":"<p>In this post <a href=\"https://stackoverflow.com/questions/51797852/making-table-with-list-of-jpanels\">Making Table With List Of JPanels</a> I can make a Table with lists of panel. And this table has many features but I need a new feature and it is applying percentage columns. It means I like to width of all columns not equals and with an array of floats determines.<br />\nThis is my class table :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.Vector;\n\npublic class PanelTable extends JPanel {\n    private String data[][];\n    private String columns[];\n    private int numberOfRows;\n    private int numberOfColumns;\n    private JTextArea[] header;\n    private JTextArea[][] cell;\n\n    public PanelTable(String data[][], String columns[]) {\n        setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n\n        this.data = data;\n        this.columns = columns;\n\n\n        numberOfRows = data.length;\n        numberOfColumns = columns.length;\n\n        makeHeader();\n        makeCells();\n    }\n\n    public void makeCells() {\n        cell = new JTextArea[numberOfRows][numberOfColumns];\n        for (int rowIndex = 0; rowIndex &lt; numberOfRows; rowIndex++) {\n            add(getRow(numberOfColumns, rowIndex));\n        }\n    }\n\n    public void makeHeader() {\n        header = new JTextArea[numberOfColumns];\n\n\n        for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\n            JTextArea ta = new JTextArea();\n            ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n            ta.setBackground(new Color(57, 77, 112));\n            ta.setForeground(Color.WHITE);\n            ta.setText(columns[columnIndex]);\n            ta.setFont(new Font(&quot;Calibri Light&quot;, Font.BOLD, 25));\n            ta.setLineWrap(true);\n            ta.setWrapStyleWord(true);\n            ta.setEditable(false);\n            header[columnIndex] = ta;\n        }\n\n        JPanel rowHeader = new JPanel();\n        rowHeader.setLayout(new BoxLayout(rowHeader, BoxLayout.X_AXIS));\n\n        for (int i = 0; i &lt; numberOfColumns; i++) {\n            rowHeader.add(header[i]);\n        }\n        add(rowHeader);\n    }\n\n\n    public Component getRow(int numberOfColumns, int rowIndex) {\n\n        JPanel row = new JPanel();\n        //use GridLayout if you want equally spaced columns\n        row.setLayout(new BoxLayout(row, BoxLayout.X_AXIS));\n        for (int columnIndex = 0; columnIndex &lt; numberOfColumns; columnIndex++) {\n            row.add(getCell(rowIndex, columnIndex));\n        }\n        return row;\n    }\n\n    public Component getCell(int rowIndex, int columnIndex) {\n        if (cell[rowIndex][columnIndex] == null) {\n            JTextArea ta = new JTextArea();\n            ta.setLineWrap(true);\n            ta.setWrapStyleWord(true);\n            ta.setEditable(false);\n            ta.setSize(50, ta.getHeight());\n\n            ta.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n            ta.setBorder(BorderFactory.createLineBorder(Color.BLACK));\n            ta.setText(data[rowIndex][columnIndex]);\n            ta.setFont(new Font(&quot;Bmitra&quot;, Font.BOLD, 15));\n\n            cell[rowIndex][columnIndex] = ta;\n        }\n\n        return cell[rowIndex][columnIndex];\n    }\n\n}\n</code></pre>\n<p>and this is a gui example for testing :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GUI extends JFrame {\n    private PanelTable table;\n    private JScrollPane scrollPane;\n\n    public GUI(){\n        super(&quot;Bank Table&quot;);\n        JPanel contentPanel = new JPanel();\n        setContentPane(contentPanel);\n        contentPanel.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\n        setLayout(new BorderLayout());\n        setMinimumSize(new Dimension(1000,700));\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        String[][] data= new String[][]{{&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/01&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/02&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/03&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/04&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/05&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/06&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/07&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/08&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/09&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/10&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/11&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/12&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/13&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/14&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/15&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/16&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/17&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/18&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/19&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/20&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/21&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;380dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd00000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/22&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;3800ddddddddddddddddddddddddddddddddddddddddd0000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/23&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/24&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000ddddddddddddddddddddddddddddddddddddddd000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/25&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/26&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/27&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/28&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/29&quot;},\n                {&quot;0212670003009&quot;, &quot;ص 318&quot;, &quot;77081634&quot;,&quot;38000000&quot;,&quot;0&quot;,&quot;331142&quot;,&quot;2102&quot;,&quot;وصول چک&quot;,&quot;08:56:46&quot;,&quot;1397/05/30&quot;}};\n\n\n        String[] columns= new String[]{&quot;ستون ۲&quot;, &quot;ستون ۱&quot;, &quot;ستون ۱۰&quot;,&quot;ستون ۹&quot;,&quot;ستون ۸&quot;,&quot;ستون ۷&quot;,&quot;ستون ۶&quot;,&quot;ستون ۵&quot;,&quot;ستون ۴&quot;,&quot;ستون ۳&quot;};\n        PanelTable table = new PanelTable(data,columns);\n\n        scrollPane = new JScrollPane(table);\n        scrollPane.getVerticalScrollBar().setUnitIncrement(50);\n\n        add(scrollPane,BorderLayout.CENTER);\n\n        setVisible(true);\n    }\n\n    public static void main(String args[]){\n        GUI gui =new GUI();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639495984,"creation_date":1639495984,"answer_id":70351473,"question_id":70346405,"body_markdown":"After consulting fladdimir&#39;s solution, it gave me an idea and I solved my issue. The problem lied within the @JoinColumn annotation, where I thought the &quot;name = ...&quot; property refers to the column name in the database.\r\n\r\n    @ManyToMany(cascade = CascadeType.MERGE)\r\n    @JoinTable(name = &quot;lists_products&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;list_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;list_id&quot;, referencedColumnName = &quot;product_id&quot;)\r\n    )\r\n    private Set&lt;Product&gt; products;\r\n\r\nHowever, that property refers to the declared variable inside the Entity in Spring Boot, i.e. listId\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;list_id&quot;)\r\n    private Long listId;\r\n\r\nSo, the working implementation of the @JoinTable Annotation should look like the following, where &quot;name = ...&quot; uses that variable name:\r\n\r\n    @ManyToMany(cascade = CascadeType.MERGE)\r\n    @JoinTable(name = &quot;lists_products&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;listId&quot;, referencedColumnName = &quot;list_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;productId&quot;, referencedColumnName = &quot;product_id&quot;)\r\n    )\r\n    private Set&lt;Product&gt; products;","title":"Spring Boot Hibernate inserts Data into wrong Columns in Postgres","body":"<p>After consulting fladdimir's solution, it gave me an idea and I solved my issue. The problem lied within the @JoinColumn annotation, where I thought the &quot;name = ...&quot; property refers to the column name in the database.</p>\n<pre><code>@ManyToMany(cascade = CascadeType.MERGE)\n@JoinTable(name = &quot;lists_products&quot;,\n        joinColumns = @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;list_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;list_id&quot;, referencedColumnName = &quot;product_id&quot;)\n)\nprivate Set&lt;Product&gt; products;\n</code></pre>\n<p>However, that property refers to the declared variable inside the Entity in Spring Boot, i.e. listId</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;list_id&quot;)\nprivate Long listId;\n</code></pre>\n<p>So, the working implementation of the @JoinTable Annotation should look like the following, where &quot;name = ...&quot; uses that variable name:</p>\n<pre><code>@ManyToMany(cascade = CascadeType.MERGE)\n@JoinTable(name = &quot;lists_products&quot;,\n        joinColumns = @JoinColumn(name = &quot;listId&quot;, referencedColumnName = &quot;list_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;productId&quot;, referencedColumnName = &quot;product_id&quot;)\n)\nprivate Set&lt;Product&gt; products;\n</code></pre>\n"}],"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639495984,"creation_date":1639473373,"question_id":70346405,"body_markdown":"**Initial Situation:**\r\nI have these two entities, GroceriesList and Product. \r\n\r\n**GroceriesList:**\r\nA GroceriesList can have several products. \r\n\r\n    @Entity\r\n    @Table(name = &quot;lists&quot;)\r\n    public class GroceriesList {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;list_id&quot;)\r\n        private Long listId;\r\n    \r\n        @Column(name = &quot;list_name&quot;)\r\n        private String listName;\r\n    \r\n    \r\n        @ManyToMany(cascade = CascadeType.MERGE)\r\n        @JoinTable(name = &quot;lists_products&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;list_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;list_id&quot;, referencedColumnName = &quot;product_id&quot;)\r\n        )\r\n        private Set&lt;Product&gt; products;\r\n    \r\n    }\r\n\r\n**Products:**\r\nA Product can be allocated to several GroceriesLists\r\n\r\n    @Entity\r\n    @Table(name = &quot;products&quot;)\r\n    public class Product {\r\n    \r\n        public enum Category {\r\n            Dairy,\r\n            Fruit,\r\n            Vegetable,\r\n            Meat,\r\n            Grains\r\n        }\r\n    \r\n        // Product ID Column, GenerationType.Identity refers to auto incr in Postgres\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;product_id&quot;)\r\n        private Long productId;\r\n    \r\n        @Column(name = &quot;product_name&quot;)\r\n        private String productName;\r\n    \r\n        @Column(name = &quot;product_vendor&quot;)\r\n        private String productVendor;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;product_category&quot;)\r\n        private Category productCategory;\r\n    \r\n        @Column(name = &quot;product_storedquantity&quot;)\r\n        private Integer productStoredQuantity;\r\n    \r\n        @JsonIgnore\r\n        @ManyToMany(mappedBy = &quot;products&quot;)\r\n        private List&lt;GroceriesList&gt; groceriesLists;\r\n    }\r\n\r\nThe entities and relationships are stored in three different tables in Postgres(One for Lists, one for products, and one mapping table for the relationships).\r\n\r\n**The mapping table:**\r\n[Mapping Table &quot;lists_products&quot;][1]\r\n\r\n**A sample Product:**\r\n[Sample Product with Id=4][2]\r\n\r\n**The problem:** I&#39;m trying to create new lists, and that works. However, as you can spot from the Mapping Table Image, Hibernate inserts the IDs into the wrong columns. The list_id in the mapping table is currently getting the product_id, and the product_id in the mapping table is getting the list_id.\r\nI have tried to change the order of column names &amp; references in the @JoinTable annotation in the GroceriesList Entity. However, that throws a mapping Error. I assume my error lies somewhere in that annotation. Interestingly, Hibernate uses the correct [SQL-Query][3]. What am I missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TAKZw.png\r\n  [2]: https://i.stack.imgur.com/9X14L.png\r\n  [3]: https://i.stack.imgur.com/oK5kz.png","title":"Spring Boot Hibernate inserts Data into wrong Columns in Postgres","body":"<p><strong>Initial Situation:</strong>\nI have these two entities, GroceriesList and Product.</p>\n<p><strong>GroceriesList:</strong>\nA GroceriesList can have several products.</p>\n<pre><code>@Entity\n@Table(name = &quot;lists&quot;)\npublic class GroceriesList {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;list_id&quot;)\n    private Long listId;\n\n    @Column(name = &quot;list_name&quot;)\n    private String listName;\n\n\n    @ManyToMany(cascade = CascadeType.MERGE)\n    @JoinTable(name = &quot;lists_products&quot;,\n            joinColumns = @JoinColumn(name = &quot;product_id&quot;, referencedColumnName = &quot;list_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;list_id&quot;, referencedColumnName = &quot;product_id&quot;)\n    )\n    private Set&lt;Product&gt; products;\n\n}\n</code></pre>\n<p><strong>Products:</strong>\nA Product can be allocated to several GroceriesLists</p>\n<pre><code>@Entity\n@Table(name = &quot;products&quot;)\npublic class Product {\n\n    public enum Category {\n        Dairy,\n        Fruit,\n        Vegetable,\n        Meat,\n        Grains\n    }\n\n    // Product ID Column, GenerationType.Identity refers to auto incr in Postgres\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;product_id&quot;)\n    private Long productId;\n\n    @Column(name = &quot;product_name&quot;)\n    private String productName;\n\n    @Column(name = &quot;product_vendor&quot;)\n    private String productVendor;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;product_category&quot;)\n    private Category productCategory;\n\n    @Column(name = &quot;product_storedquantity&quot;)\n    private Integer productStoredQuantity;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;products&quot;)\n    private List&lt;GroceriesList&gt; groceriesLists;\n}\n</code></pre>\n<p>The entities and relationships are stored in three different tables in Postgres(One for Lists, one for products, and one mapping table for the relationships).</p>\n<p><strong>The mapping table:</strong>\n<a href=\"https://i.stack.imgur.com/TAKZw.png\" rel=\"nofollow noreferrer\">Mapping Table &quot;lists_products&quot;</a></p>\n<p><strong>A sample Product:</strong>\n<a href=\"https://i.stack.imgur.com/9X14L.png\" rel=\"nofollow noreferrer\">Sample Product with Id=4</a></p>\n<p><strong>The problem:</strong> I'm trying to create new lists, and that works. However, as you can spot from the Mapping Table Image, Hibernate inserts the IDs into the wrong columns. The list_id in the mapping table is currently getting the product_id, and the product_id in the mapping table is getting the list_id.\nI have tried to change the order of column names &amp; references in the @JoinTable annotation in the GroceriesList Entity. However, that throws a mapping Error. I assume my error lies somewhere in that annotation. Interestingly, Hibernate uses the correct <a href=\"https://i.stack.imgur.com/oK5kz.png\" rel=\"nofollow noreferrer\">SQL-Query</a>. What am I missing here?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639495730,"creation_date":1639495730,"answer_id":70351412,"question_id":70351169,"body_markdown":"The no-argument constructor should **not** be added in the `WalletFragment`. It must be added in the `User` class. Why? Because you need to deserialize the objects that are coming from the Firestore when using the following line of code:\r\n\r\n    user = documentSnapshot.toObject(User.class);\r\n\r\nFor more information, please check my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/51035276/error-in-fetching-data-from-firebase-to-recyclerview-fatal-exception-does/51036439#51036439","title":"How to solve this problems? &quot; Could not deserialize object. &quot;","body":"<p>The no-argument constructor should <strong>not</strong> be added in the <code>WalletFragment</code>. It must be added in the <code>User</code> class. Why? Because you need to deserialize the objects that are coming from the Firestore when using the following line of code:</p>\n<pre><code>user = documentSnapshot.toObject(User.class);\n</code></pre>\n<p>For more information, please check my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51035276/error-in-fetching-data-from-firebase-to-recyclerview-fatal-exception-does/51036439#51036439\">Error in fetching data from Firebase to RecyclerView. FATAL EXCEPTION: ... does not define a no-argument constructor</a></li>\n</ul>\n"}],"owner":{"account_id":20682920,"reputation":3,"user_id":15186059,"display_name":"azad babu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70351412,"answer_count":1,"score":0,"last_activity_date":1639495762,"creation_date":1639494610,"question_id":70351169,"body_markdown":"&gt; java.lang.RuntimeException: Could not deserialize object. Class com.example.knowledgegain.User does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.\r\n\r\nor any other way of getting data from Firestore in this situation?\r\n\r\n[show this exception.][1]\r\n\r\n[problem in this object.][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w1Wrj.png\r\n  [2]: https://i.stack.imgur.com/u2YGx.png\r\n\r\n    \r\n\r\n\r\npublic class WalletFragment extends Fragment {\r\n\r\n\r\n    public WalletFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    FragmentWalletBinding binding;\r\n    FirebaseFirestore database;\r\n    User user;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentWalletBinding.inflate(inflater,container,false);\r\n        database = FirebaseFirestore.getInstance();\r\n\r\n        try {\r\n\r\n            database.collection(&quot;User&quot;).document(FirebaseAuth.getInstance().getUid())\r\n            .get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                    try {\r\n\r\n                        user = documentSnapshot.toObject(User.class);\r\n                        binding.showCoinsId.setText(String.valueOf(user.getCoins()));\r\n\r\n                    }catch (Exception e){\r\n                        Log.e(&quot;TAG&quot;, &quot;onSuccess: &quot;, e );\r\n                    }\r\n                }\r\n            });\r\n\r\n        }catch (Exception e){\r\n            Log.d(&quot;TAg&quot;, e.toString());\r\n            Toast.makeText(getContext(),e.toString(),Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        return binding.getRoot();\r\n    }\r\n}","title":"How to solve this problems? &quot; Could not deserialize object. &quot;","body":"<blockquote>\n<p>java.lang.RuntimeException: Could not deserialize object. Class com.example.knowledgegain.User does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.</p>\n</blockquote>\n<p>or any other way of getting data from Firestore in this situation?</p>\n<p><a href=\"https://i.stack.imgur.com/w1Wrj.png\" rel=\"nofollow noreferrer\">show this exception.</a></p>\n<p><a href=\"https://i.stack.imgur.com/u2YGx.png\" rel=\"nofollow noreferrer\">problem in this object.</a></p>\n<p>public class WalletFragment extends Fragment {</p>\n<pre><code>public WalletFragment() {\n    // Required empty public constructor\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n}\n\nFragmentWalletBinding binding;\nFirebaseFirestore database;\nUser user;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    binding = FragmentWalletBinding.inflate(inflater,container,false);\n    database = FirebaseFirestore.getInstance();\n\n    try {\n\n        database.collection(&quot;User&quot;).document(FirebaseAuth.getInstance().getUid())\n        .get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                try {\n\n                    user = documentSnapshot.toObject(User.class);\n                    binding.showCoinsId.setText(String.valueOf(user.getCoins()));\n\n                }catch (Exception e){\n                    Log.e(&quot;TAG&quot;, &quot;onSuccess: &quot;, e );\n                }\n            }\n        });\n\n    }catch (Exception e){\n        Log.d(&quot;TAg&quot;, e.toString());\n        Toast.makeText(getContext(),e.toString(),Toast.LENGTH_LONG).show();\n    }\n\n    return binding.getRoot();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639495658,"creation_date":1639495658,"answer_id":70351394,"question_id":70340488,"body_markdown":"I found a solution by digging around spring-boot source code.\r\nConditionalOnBean will only work on beans defined inside a configuration (bean methods).\r\nThis is also recommended by spring-boot java doc for @ConditionalOnBean\r\n\r\n&gt;  The condition can only match the bean definitions that have been processed by the\r\n application context so far and, as such, it is strongly recommended to use this\r\n condition on auto-configuration classes only. If a candidate bean may be created by\r\n another auto-configuration, make sure that the one using this condition runs after.\r\n\r\nHere is the basics of the solution I came up with, this may be improved but the basics operate well.\r\n\r\nThe condition:\r\n\r\n\r\n    @Slf4j\r\n    class MissingBeanCondition implements ConfigurationCondition {\r\n        @Override\r\n        public ConfigurationPhase getConfigurationPhase() {\r\n            return ConfigurationPhase.REGISTER_BEAN;\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n            var targetBeanType = metadata.getAnnotations()\r\n                    .get(ConditionalOnMissingBean.class)\r\n                    .getValue(&quot;value&quot;, Class.class)\r\n                    // TODO throw a more informative error\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Failed to evaluate MissingBeanCondition&quot;));\r\n            \r\n            try {\r\n                context.getBeanFactory().getBean(targetBeanType);\r\n            } catch (NoSuchBeanDefinitionException e) {\r\n                return true;\r\n            }\r\n           \r\n            return false;\r\n        }\r\n    }\r\n\r\nThe annotation:\r\n\r\n    @Target({ ElementType.METHOD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Conditional(MissingBeanCondition.class)\r\n    public @interface ConditionalOnMissingBean {\r\n        Class&lt;?&gt; value();\r\n    }\r\n\r\nUsage example:\r\n\r\n    @Bean\r\n    @Singleton\r\n    @ConditionalOnMissingBean(Provider.class)\r\n    public Provider myClass() {\r\n        return new DefaultProvider();\r\n    }\r\n\r\n\r\n","title":"Is it possible to create a custom condition equivalate of @ConditionalOnMissingBean with Spring (no spring-boot)?","body":"<p>I found a solution by digging around spring-boot source code.\nConditionalOnBean will only work on beans defined inside a configuration (bean methods).\nThis is also recommended by spring-boot java doc for @ConditionalOnBean</p>\n<blockquote>\n<p>The condition can only match the bean definitions that have been processed by the\napplication context so far and, as such, it is strongly recommended to use this\ncondition on auto-configuration classes only. If a candidate bean may be created by\nanother auto-configuration, make sure that the one using this condition runs after.</p>\n</blockquote>\n<p>Here is the basics of the solution I came up with, this may be improved but the basics operate well.</p>\n<p>The condition:</p>\n<pre><code>@Slf4j\nclass MissingBeanCondition implements ConfigurationCondition {\n    @Override\n    public ConfigurationPhase getConfigurationPhase() {\n        return ConfigurationPhase.REGISTER_BEAN;\n    }\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        var targetBeanType = metadata.getAnnotations()\n                .get(ConditionalOnMissingBean.class)\n                .getValue(&quot;value&quot;, Class.class)\n                // TODO throw a more informative error\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Failed to evaluate MissingBeanCondition&quot;));\n        \n        try {\n            context.getBeanFactory().getBean(targetBeanType);\n        } catch (NoSuchBeanDefinitionException e) {\n            return true;\n        }\n       \n        return false;\n    }\n}\n</code></pre>\n<p>The annotation:</p>\n<pre><code>@Target({ ElementType.METHOD })\n@Retention(RetentionPolicy.RUNTIME)\n@Conditional(MissingBeanCondition.class)\npublic @interface ConditionalOnMissingBean {\n    Class&lt;?&gt; value();\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>@Bean\n@Singleton\n@ConditionalOnMissingBean(Provider.class)\npublic Provider myClass() {\n    return new DefaultProvider();\n}\n</code></pre>\n"}],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70351394,"answer_count":1,"score":1,"last_activity_date":1639495658,"creation_date":1639427015,"question_id":70340488,"body_markdown":"I am trying to implement a Spring condition that will load my bean only if there is no other beans for a certain class.\r\nThe desired behavior is similar to &quot;@ConditionalOnMissingBean&quot; but without using spring-boot.\r\n\r\nI am using Spring versions 5.3.13.\r\n\r\nIs that possible? thanks.","title":"Is it possible to create a custom condition equivalate of @ConditionalOnMissingBean with Spring (no spring-boot)?","body":"<p>I am trying to implement a Spring condition that will load my bean only if there is no other beans for a certain class.\nThe desired behavior is similar to &quot;@ConditionalOnMissingBean&quot; but without using spring-boot.</p>\n<p>I am using Spring versions 5.3.13.</p>\n<p>Is that possible? thanks.</p>\n"},{"tags":["java","spring-boot","enums"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1639474344,"post_id":70346544,"comment_id":124351623,"body_markdown":"What would be the use of that `EMPTY` value for the enum? Why not just use `IntervalIncrFreq  empty = null`? Is this mean to be a default value for (de)serialization?","body":"What would be the use of that <code>EMPTY</code> value for the enum? Why not just use <code>IntervalIncrFreq  empty = null</code>? Is this mean to be a default value for (de)serialization?"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1639475165,"post_id":70346544,"comment_id":124351916,"body_markdown":"Do you want it to work with empty string &quot;&quot;, with null values, or with an inexistent property field? Or all of them?","body":"Do you want it to work with empty string &quot;&quot;, with null values, or with an inexistent property field? Or all of them?"},{"owner":{"account_id":14576587,"reputation":69,"user_id":12484846,"display_name":"Fragola 86"},"score":0,"creation_date":1639475686,"post_id":70346544,"comment_id":124352126,"body_markdown":"I want an empty string like -&gt; &quot;&quot;","body":"I want an empty string like -&gt; &quot;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639495209,"creation_date":1639490713,"answer_id":70350230,"question_id":70346544,"body_markdown":"Writing `@JsonProperty(&quot;abc&quot;)` is an alias for `@JsonProperty(value = &quot;abc&quot;)`. According to [Jackson&#39;s (2.6) documentation for the value field][1]\r\n\r\n&gt; If value is empty String (which is the default), will try to use name of the field that is annotated\r\n\r\nJackson will interpret the empty String parameter to mean that you want the JSON value to use the default name of the field instead, and it would change it to the default name. Here is an example.\r\n\r\n```\r\nenum Temp {\r\n    \r\n    @JsonProperty(&quot;Apple&quot;)\r\n    A,\r\n    \r\n    @JsonProperty(&quot;&quot;)\r\n    B;\r\n\r\n}\r\n\r\nclass Example\r\n{\r\n\r\n    Temp a = Temp.A;\r\n    Temp b = Temp.B;\r\n\r\n}\r\n\r\n/** That would give you JSON like this */\r\n\r\n{\r\n\r\n    &quot;a&quot;:&quot;Apple&quot;\r\n    &quot;b&quot;:&quot;B&quot;\r\n\r\n}\r\n\r\n```\r\n\r\nI think the best way you can accomplish what you want to do would be to do something like this.\r\n\r\n`@JsonProperty(&quot; &quot;)`\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html#value()\r\n  [2]: https://www.w3schools.com/js/js_json_syntax.asp","title":"How do i set a null value on public enum in Java Spring?","body":"<p>Writing <code>@JsonProperty(&quot;abc&quot;)</code> is an alias for <code>@JsonProperty(value = &quot;abc&quot;)</code>. According to <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.6/com/fasterxml/jackson/annotation/JsonProperty.html#value()\" rel=\"nofollow noreferrer\">Jackson's (2.6) documentation for the value field</a></p>\n<blockquote>\n<p>If value is empty String (which is the default), will try to use name of the field that is annotated</p>\n</blockquote>\n<p>Jackson will interpret the empty String parameter to mean that you want the JSON value to use the default name of the field instead, and it would change it to the default name. Here is an example.</p>\n<pre><code>enum Temp {\n    \n    @JsonProperty(&quot;Apple&quot;)\n    A,\n    \n    @JsonProperty(&quot;&quot;)\n    B;\n\n}\n\nclass Example\n{\n\n    Temp a = Temp.A;\n    Temp b = Temp.B;\n\n}\n\n/** That would give you JSON like this */\n\n{\n\n    &quot;a&quot;:&quot;Apple&quot;\n    &quot;b&quot;:&quot;B&quot;\n\n}\n\n</code></pre>\n<p>I think the best way you can accomplish what you want to do would be to do something like this.</p>\n<p><code>@JsonProperty(&quot; &quot;)</code></p>\n"}],"owner":{"account_id":14576587,"reputation":69,"user_id":12484846,"display_name":"Fragola 86"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1639490954,"answer_count":1,"score":1,"last_activity_date":1639495209,"creation_date":1639473988,"question_id":70346544,"body_markdown":"my public enum is:\r\n```\r\npublic enum IntervalIncrFreq {\r\n\t\t\r\n\t\t@JsonProperty(&quot;1&quot;)\r\n\t\tONE,\r\n\r\n\t\t@JsonProperty(&quot;2&quot;)\r\n\t\tTWO,\r\n\r\n\t\t@JsonProperty(&quot;4&quot;)\r\n\t\tFOUR,\r\n\r\n\t\t@JsonProperty(&quot;6&quot;)\r\n\t\tSIX,\r\n\r\n\t\t@JsonProperty(&quot;8&quot;)\r\n\t\tEIGHT,\r\n\r\n\t\t@JsonProperty(&quot;12&quot;)\r\n\t\tTWELVE\r\n\t}\r\n```\r\n\r\nI would like to add an empty field, and trying this I had an error:\r\n\r\n\t\t@JsonProperty(&quot;&quot;)\r\n\t\tEMPTY,\r\n\r\n\r\nHow should i declare the JsonProperty empty?","title":"How do i set a null value on public enum in Java Spring?","body":"<p>my public enum is:</p>\n<pre><code>public enum IntervalIncrFreq {\n        \n        @JsonProperty(&quot;1&quot;)\n        ONE,\n\n        @JsonProperty(&quot;2&quot;)\n        TWO,\n\n        @JsonProperty(&quot;4&quot;)\n        FOUR,\n\n        @JsonProperty(&quot;6&quot;)\n        SIX,\n\n        @JsonProperty(&quot;8&quot;)\n        EIGHT,\n\n        @JsonProperty(&quot;12&quot;)\n        TWELVE\n    }\n</code></pre>\n<p>I would like to add an empty field, and trying this I had an error:</p>\n<pre><code>    @JsonProperty(&quot;&quot;)\n    EMPTY,\n</code></pre>\n<p>How should i declare the JsonProperty empty?</p>\n"},{"tags":["java","android","google-cloud-firestore","algolia"],"answers":[{"tags":[],"owner":{"account_id":2697969,"reputation":316,"user_id":2329480,"display_name":"Chuck Meyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639495143,"creation_date":1639495143,"answer_id":70351278,"question_id":70345042,"body_markdown":"For data sync between Algolia and Firestore, your best bet is the [official extension](https://firebase.google.com/products/extensions/algolia-firestore-algolia-search), but that only syncs new docs as they&#39;re added to your store.\r\n\r\nThere&#39;s a solid example of importing existing records using a Cloud Function in [this blog](https://ferdinandmarq.medium.com/how-to-import-data-from-firebase-firestore-into-algolia-using-cloud-functions-4c399fac326b).","title":"Firestore database with Algolia","body":"<p>For data sync between Algolia and Firestore, your best bet is the <a href=\"https://firebase.google.com/products/extensions/algolia-firestore-algolia-search\" rel=\"nofollow noreferrer\">official extension</a>, but that only syncs new docs as they're added to your store.</p>\n<p>There's a solid example of importing existing records using a Cloud Function in <a href=\"https://ferdinandmarq.medium.com/how-to-import-data-from-firebase-firestore-into-algolia-using-cloud-functions-4c399fac326b\" rel=\"nofollow noreferrer\">this blog</a>.</p>\n"}],"owner":{"account_id":20711711,"reputation":107,"user_id":15208199,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639495143,"creation_date":1639466217,"question_id":70345042,"body_markdown":"I want to implement a search funtionality in my app and I have at least a hundreds existing documents from my Firestore database that I want to index in Algolia. My question is, how can I convert it to a JsonObject so that I could import it to Algolia? ","title":"Firestore database with Algolia","body":"<p>I want to implement a search funtionality in my app and I have at least a hundreds existing documents from my Firestore database that I want to index in Algolia. My question is, how can I convert it to a JsonObject so that I could import it to Algolia?</p>\n"},{"tags":["java","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639495116,"creation_date":1639495116,"answer_id":70351272,"question_id":70351206,"body_markdown":"You should use the `BlockSpreadEvent` event which is called when grass changed to dirt etc...\r\n\r\nCode example:\r\n```java\r\n@EventHandler\r\npublic void onSpread(BlockSpreadEvent e) {\r\n    // if it&#39;s a colored concrete powder\r\n   if(e.getNewState().getType().name().contains(&quot;CONCRETE_POWDER&quot;)) {\r\n       e.setCancelled(true); // cancel\r\n   }\r\n}\r\n```\r\n\r\n[Documentation](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/BlockSpreadEvent.html)","title":"Cancel concrete forming on a bukkit server","body":"<p>You should use the <code>BlockSpreadEvent</code> event which is called when grass changed to dirt etc...</p>\n<p>Code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void onSpread(BlockSpreadEvent e) {\n    // if it's a colored concrete powder\n   if(e.getNewState().getType().name().contains(&quot;CONCRETE_POWDER&quot;)) {\n       e.setCancelled(true); // cancel\n   }\n}\n</code></pre>\n<p><a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/BlockSpreadEvent.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":11116342,"reputation":1868,"user_id":8160563,"display_name":"Marvin Klar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639495138,"creation_date":1639494835,"question_id":70351206,"body_markdown":"I am trying to cancel the forming of concrete powder and water to concrete on my bukkit server on 1.17.1.\r\n\r\nI already tried to cancel the `BlockFormEvent`. This works perfectly for the current block I am placing. But when a block gets placed next to a concrete powder block, which is near water, the powder will form into concrete. How do I stop the powder to form to concrete in this case (on block update?).\r\n","title":"Cancel concrete forming on a bukkit server","body":"<p>I am trying to cancel the forming of concrete powder and water to concrete on my bukkit server on 1.17.1.</p>\n<p>I already tried to cancel the <code>BlockFormEvent</code>. This works perfectly for the current block I am placing. But when a block gets placed next to a concrete powder block, which is near water, the powder will form into concrete. How do I stop the powder to form to concrete in this case (on block update?).</p>\n"},{"tags":["java","android","list","androidx","listpreference"],"comments":[{"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"score":0,"creation_date":1595942308,"post_id":63134550,"comment_id":111643362,"body_markdown":"I don&#39;t think there is a built-in setting or Preference for this.\nYou need to create your own ListPreference or custom PreferenceDialog","body":"I don&#39;t think there is a built-in setting or Preference for this. You need to create your own ListPreference or custom PreferenceDialog"}],"answers":[{"tags":[],"owner":{"account_id":11547848,"reputation":1276,"user_id":8461344,"display_name":"Code Demon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595956026,"creation_date":1595956026,"answer_id":63139307,"question_id":63134550,"body_markdown":"Best chance is to use a dialog with custom items with a custom adapter.An easy way to do this is by using a spinner with spinnermode set to dalog and populate it with custom items.\r\n\r\nin your activity layout add this spinner \r\n\r\n     &lt;Spinner\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:spinnerMode=&quot;dialog&quot;\r\n                        android:id=&quot;@+id/test_spn&quot;/&gt;\r\n\r\nHave your custom items class\r\n\r\n    public class custom_item {\r\n      public String name,description;\r\n      public int id;\r\n\r\n\r\n    public custom_item(String name, String description)\r\n    {\r\n      this.name=name;\r\n      this.description=description;\r\n    }\r\n     public custom_item(int id, String name, String description)\r\n     {\r\n        this.name=name;\r\n        this.description=description;\r\n        this.id=id;\r\n     }\r\n\r\n    }\r\n\r\n   \r\nIn Your layout folder, have your custom item layout file (custom_item_layout)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;LinearLayout\r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;   android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;5dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    android:id=&quot;@+id/title&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;Title&quot;/&gt;\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/description&quot;\r\n        android:textSize=&quot;10dp&quot;\r\n    android:text=&quot;description&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThen your adapter class to do the adaptation (custom_adapter)\r\n\r\n    public class custom_adapter extends BaseAdapter {\r\n    ArrayList&lt;custom_item&gt; pref_items;\r\n    Context contxt;\r\n    public custom_adapter(Context contxt, ArrayList&lt;custom_item&gt; pref_items)\r\n    {\r\n        this.contxt=contxt;\r\n        this.pref_items=pref_items;\r\n\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        return pref_items.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return pref_items.get(position);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public View getView(final int position, View convertView, ViewGroup parent) {\r\n        convertView=null;\r\n        custom_item item= pref_items.get(position);\r\n        convertView=  LayoutInflater.from(contxt).inflate(R.layout.custom_item_layout,null,false);\r\n        TextView title_=(TextView)convertView.findViewById(R.id.title);\r\n        TextView description=(TextView)convertView.findViewById(R.id.description);\r\n\r\n        title_.setText(item.name);\r\n        description.setText(item.description);\r\n\r\n\r\n        return convertView;\r\n    }\r\n    }\r\n\r\nso with all things set ,just save either the id or the index of the item into a shared preference when selected.\r\nPut this in your activity&#39;s oncreate\r\n\r\n     Spinner my_spn=((Spinner)findViewById(R.id.test_spn));\r\n        final String sp_name=&quot;SharedPrefS_name&quot;;\r\n        SharedPreferences prefs = getSharedPreferences(sp_name, MODE_PRIVATE);\r\n        ArrayList&lt;custom_item&gt; items=new ArrayList&lt;custom_item&gt;();\r\n        items.add(new custom_item(&quot;Systemstandardeinstellung&quot;,&quot;Description for the first title (Systemstandardeinstellung)&quot; ));\r\n        items.add(new custom_item(&quot;Hell&quot;,&quot;Description for the second  title (Hell)&quot; ));\r\n        items.add(new custom_item(&quot;Dunkell&quot;,&quot;Description for the third  title (Dunkell)&quot; ));\r\n        my_spn.setAdapter(new custom_adapter(this,items));\r\n        my_spn.setSelection(prefs.getInt(&quot;my_item_identifier&quot;, 0));\r\n        my_spn.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                SharedPreferences.Editor saver = act.getSharedPreferences(sp_name, MODE_PRIVATE).edit();\r\n\r\n                saver.putInt(&quot;my_item_identifier&quot;, position);\r\n                saver.commit();\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n","title":"Add summary to ListPreference List?","body":"<p>Best chance is to use a dialog with custom items with a custom adapter.An easy way to do this is by using a spinner with spinnermode set to dalog and populate it with custom items.</p>\n<p>in your activity layout add this spinner</p>\n<pre><code> &lt;Spinner\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:spinnerMode=&quot;dialog&quot;\n                    android:id=&quot;@+id/test_spn&quot;/&gt;\n</code></pre>\n<p>Have your custom items class</p>\n<pre><code>public class custom_item {\n  public String name,description;\n  public int id;\n\n\npublic custom_item(String name, String description)\n{\n  this.name=name;\n  this.description=description;\n}\n public custom_item(int id, String name, String description)\n {\n    this.name=name;\n    this.description=description;\n    this.id=id;\n }\n\n}\n</code></pre>\n<p>In Your layout folder, have your custom item layout file (custom_item_layout)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;LinearLayout\n   xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;   android:layout_width=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:padding=&quot;5dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:textStyle=&quot;bold&quot;\nandroid:id=&quot;@+id/title&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;Title&quot;/&gt;\n&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/description&quot;\n    android:textSize=&quot;10dp&quot;\nandroid:text=&quot;description&quot;\n    android:layout_marginLeft=&quot;10dp&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Then your adapter class to do the adaptation (custom_adapter)</p>\n<pre><code>public class custom_adapter extends BaseAdapter {\nArrayList&lt;custom_item&gt; pref_items;\nContext contxt;\npublic custom_adapter(Context contxt, ArrayList&lt;custom_item&gt; pref_items)\n{\n    this.contxt=contxt;\n    this.pref_items=pref_items;\n\n}\n@Override\npublic int getCount() {\n    return pref_items.size();\n}\n\n@Override\npublic Object getItem(int position) {\n    return pref_items.get(position);\n}\n\n@Override\npublic long getItemId(int position) {\n    return 0;\n}\n\n@Override\npublic View getView(final int position, View convertView, ViewGroup parent) {\n    convertView=null;\n    custom_item item= pref_items.get(position);\n    convertView=  LayoutInflater.from(contxt).inflate(R.layout.custom_item_layout,null,false);\n    TextView title_=(TextView)convertView.findViewById(R.id.title);\n    TextView description=(TextView)convertView.findViewById(R.id.description);\n\n    title_.setText(item.name);\n    description.setText(item.description);\n\n\n    return convertView;\n}\n}\n</code></pre>\n<p>so with all things set ,just save either the id or the index of the item into a shared preference when selected.\nPut this in your activity's oncreate</p>\n<pre><code> Spinner my_spn=((Spinner)findViewById(R.id.test_spn));\n    final String sp_name=&quot;SharedPrefS_name&quot;;\n    SharedPreferences prefs = getSharedPreferences(sp_name, MODE_PRIVATE);\n    ArrayList&lt;custom_item&gt; items=new ArrayList&lt;custom_item&gt;();\n    items.add(new custom_item(&quot;Systemstandardeinstellung&quot;,&quot;Description for the first title (Systemstandardeinstellung)&quot; ));\n    items.add(new custom_item(&quot;Hell&quot;,&quot;Description for the second  title (Hell)&quot; ));\n    items.add(new custom_item(&quot;Dunkell&quot;,&quot;Description for the third  title (Dunkell)&quot; ));\n    my_spn.setAdapter(new custom_adapter(this,items));\n    my_spn.setSelection(prefs.getInt(&quot;my_item_identifier&quot;, 0));\n    my_spn.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            SharedPreferences.Editor saver = act.getSharedPreferences(sp_name, MODE_PRIVATE).edit();\n\n            saver.putInt(&quot;my_item_identifier&quot;, position);\n            saver.commit();\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1458297,"reputation":1783,"user_id":1373333,"display_name":"fireb86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639494886,"creation_date":1639494886,"answer_id":70351226,"question_id":63134550,"body_markdown":"You can use `androidx.preference.ListPreference` and `app:useSimpleSummaryProvider` directly in XML:\r\n\r\n    &lt;ListPreference\r\n        android:key=&quot;@string/setting_example_key&quot;\r\n        android:title=&quot;@string/setting_example_title&quot;\r\n        android:entries=&quot;@array/setting_example_labels&quot;\r\n        android:entryValues=&quot;@array/setting_example_values&quot;\r\n        app:useSimpleSummaryProvider=&quot;true&quot;\r\n        android:defaultValue=&quot;@string/setting_example_default&quot; /&gt;","title":"Add summary to ListPreference List?","body":"<p>You can use <code>androidx.preference.ListPreference</code> and <code>app:useSimpleSummaryProvider</code> directly in XML:</p>\n<pre><code>&lt;ListPreference\n    android:key=&quot;@string/setting_example_key&quot;\n    android:title=&quot;@string/setting_example_title&quot;\n    android:entries=&quot;@array/setting_example_labels&quot;\n    android:entryValues=&quot;@array/setting_example_values&quot;\n    app:useSimpleSummaryProvider=&quot;true&quot;\n    android:defaultValue=&quot;@string/setting_example_default&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":18843709,"reputation":29,"user_id":13744559,"display_name":"lespucci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1639494886,"creation_date":1595940642,"question_id":63134550,"body_markdown":"I am trying to add a summary to one of my list items.\r\n(Summary under &#39;Systemstandardeinstellung&#39;)\r\n\r\n[![Summary][1]][1]\r\n\r\n\r\nHow can I do it?\r\nI haven&#39;t found any solution yet, the only thing I found was how to use to currently selected ListItem as the ListPreference summary.\r\n\r\nThis is what I have.:\r\n\r\n**preferences.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;PreferenceCategory\r\n            android:key=&quot;basic_settings_category&quot;\r\n            android:title=&quot;Grundeinstellungen&quot;\r\n            app:iconSpaceReserved=&quot;false&quot;&gt;\r\n    \r\n            &lt;ListPreference\r\n                android:defaultValue=&quot;0&quot;\r\n                android:key=&quot;@string/theme_preferences_key&quot;\r\n                android:title=&quot;Designs&quot;\r\n                app:entries=&quot;@array/themes_entries&quot;\r\n                app:entryValues=&quot;@array/themes_values&quot;\r\n                app:iconSpaceReserved=&quot;false&quot; /&gt;\r\n    \r\n            &lt;SwitchPreference\r\n                android:key=&quot;night_mode&quot;\r\n                android:title=&quot;Nachtmodus&quot;\r\n                app:iconSpaceReserved=&quot;false&quot; /&gt;\r\n    \r\n        &lt;/PreferenceCategory&gt;\r\n    \r\n    \r\n    &lt;/PreferenceScreen&gt;\r\n\r\n**theme_res.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;string-array name=&quot;themes_entries&quot;&gt;\r\n            &lt;item&gt;Systemstandardeinstellung&lt;/item&gt;\r\n            &lt;item&gt;Hell&lt;/item&gt;\r\n            &lt;item&gt;Dunkel&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n        &lt;string-array name=&quot;themes_values&quot;&gt;\r\n            &lt;item&gt;@string/system_theme_preference_value&lt;/item&gt;\r\n            &lt;item&gt;@string/light_theme_preference_value&lt;/item&gt;\r\n            &lt;item&gt;@string/dark_theme_preference_value&lt;/item&gt;\r\n        &lt;/string-array&gt;\r\n    &lt;/resources&gt;\r\n\r\n**strings.xml**\r\n\r\n    &lt;resources&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;TestApp&lt;/string&gt;\r\n        &lt;string name=&quot;settings&quot;&gt;Settings&lt;/string&gt;\r\n    \r\n        &lt;string name=&quot;openNavDrawer&quot;&gt;Navigation Drawer Open&lt;/string&gt;\r\n        &lt;string name=&quot;closeNavDrawer&quot;&gt;Navigation Drawer Close&lt;/string&gt;\r\n    \r\n        &lt;string name=&quot;theme_preferences_key&quot;&gt;theme_preferences_key&lt;/string&gt;\r\n        &lt;string name=&quot;notification_preferences_key&quot;&gt;&lt;/string&gt;\r\n    \r\n        &lt;string name=&quot;system_theme_preference_value&quot;&gt;0&lt;/string&gt;\r\n        &lt;string name=&quot;light_theme_preference_value&quot;&gt;1&lt;/string&gt;\r\n        &lt;string name=&quot;dark_theme_preference_value&quot;&gt;2&lt;/string&gt;\r\n    \r\n        &lt;string name=&quot;system_theme_description&quot;&gt;Systemstandardeinstellung&lt;/string&gt;\r\n        &lt;string name=&quot;light_theme_description&quot;&gt;Hell&lt;/string&gt;\r\n        &lt;string name=&quot;dark_theme_description&quot;&gt;Dunkel&lt;/string&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/r4sKG.png","title":"Add summary to ListPreference List?","body":"<p>I am trying to add a summary to one of my list items.\n(Summary under 'Systemstandardeinstellung')</p>\n<p><a href=\"https://i.stack.imgur.com/r4sKG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r4sKG.png\" alt=\"Summary\" /></a></p>\n<p>How can I do it?\nI haven't found any solution yet, the only thing I found was how to use to currently selected ListItem as the ListPreference summary.</p>\n<p>This is what I have.:</p>\n<p><strong>preferences.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;PreferenceCategory\n        android:key=&quot;basic_settings_category&quot;\n        android:title=&quot;Grundeinstellungen&quot;\n        app:iconSpaceReserved=&quot;false&quot;&gt;\n\n        &lt;ListPreference\n            android:defaultValue=&quot;0&quot;\n            android:key=&quot;@string/theme_preferences_key&quot;\n            android:title=&quot;Designs&quot;\n            app:entries=&quot;@array/themes_entries&quot;\n            app:entryValues=&quot;@array/themes_values&quot;\n            app:iconSpaceReserved=&quot;false&quot; /&gt;\n\n        &lt;SwitchPreference\n            android:key=&quot;night_mode&quot;\n            android:title=&quot;Nachtmodus&quot;\n            app:iconSpaceReserved=&quot;false&quot; /&gt;\n\n    &lt;/PreferenceCategory&gt;\n\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p><strong>theme_res.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;string-array name=&quot;themes_entries&quot;&gt;\n        &lt;item&gt;Systemstandardeinstellung&lt;/item&gt;\n        &lt;item&gt;Hell&lt;/item&gt;\n        &lt;item&gt;Dunkel&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string-array name=&quot;themes_values&quot;&gt;\n        &lt;item&gt;@string/system_theme_preference_value&lt;/item&gt;\n        &lt;item&gt;@string/light_theme_preference_value&lt;/item&gt;\n        &lt;item&gt;@string/dark_theme_preference_value&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><strong>strings.xml</strong></p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;TestApp&lt;/string&gt;\n    &lt;string name=&quot;settings&quot;&gt;Settings&lt;/string&gt;\n\n    &lt;string name=&quot;openNavDrawer&quot;&gt;Navigation Drawer Open&lt;/string&gt;\n    &lt;string name=&quot;closeNavDrawer&quot;&gt;Navigation Drawer Close&lt;/string&gt;\n\n    &lt;string name=&quot;theme_preferences_key&quot;&gt;theme_preferences_key&lt;/string&gt;\n    &lt;string name=&quot;notification_preferences_key&quot;&gt;&lt;/string&gt;\n\n    &lt;string name=&quot;system_theme_preference_value&quot;&gt;0&lt;/string&gt;\n    &lt;string name=&quot;light_theme_preference_value&quot;&gt;1&lt;/string&gt;\n    &lt;string name=&quot;dark_theme_preference_value&quot;&gt;2&lt;/string&gt;\n\n    &lt;string name=&quot;system_theme_description&quot;&gt;Systemstandardeinstellung&lt;/string&gt;\n    &lt;string name=&quot;light_theme_description&quot;&gt;Hell&lt;/string&gt;\n    &lt;string name=&quot;dark_theme_description&quot;&gt;Dunkel&lt;/string&gt;\n\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","sql","postgresql","hibernate","scalar-subquery"],"comments":[{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1558614375,"post_id":56275056,"comment_id":99164797,"body_markdown":"Do I understand you correctly. You would like to have a LAZY loading behaviour for the formula. If I tell you how to make it lazy would this be an answer ?","body":"Do I understand you correctly. You would like to have a LAZY loading behaviour for the formula. If I tell you how to make it lazy would this be an answer ?"},{"owner":{"account_id":2332280,"reputation":2091,"user_id":2140633,"accept_rate":75,"display_name":"Udith Gunaratna"},"score":1,"creation_date":1558614412,"post_id":56275056,"comment_id":99164818,"body_markdown":"Possible duplicate of [Hibernate count collection size without initializing](https://stackoverflow.com/questions/2913160/hibernate-count-collection-size-without-initializing)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2913160/hibernate-count-collection-size-without-initializing\">Hibernate count collection size without initializing</a>"},{"owner":{"account_id":10490454,"reputation":355,"user_id":7732544,"display_name":"SockworkOrange"},"score":0,"creation_date":1558614978,"post_id":56275056,"comment_id":99165147,"body_markdown":"Alexander - not exactly. I know how to have a @OneToMany relationship and have it initialized - but in that case the query executed retrieves the objects from the child table, and I have to perform the count in the code.\nI have no need for the actual objects of the child table, I just need their count per parent row.\n\nUdith - Looks interesting I&#39;ll check it out.","body":"Alexander - not exactly. I know how to have a @OneToMany relationship and have it initialized - but in that case the query executed retrieves the objects from the child table, and I have to perform the count in the code. I have no need for the actual objects of the child table, I just need their count per parent row.  Udith - Looks interesting I&#39;ll check it out."},{"owner":{"account_id":10490454,"reputation":355,"user_id":7732544,"display_name":"SockworkOrange"},"score":0,"creation_date":1558619139,"post_id":56275056,"comment_id":99167652,"body_markdown":"Udith - Yeah, it is actually not helpful. I don&#39;t want to have a lazy initialization: it kinda misses the point for me. I want to always have that attribute (perform the count for each of the parent rows) but in the same query.","body":"Udith - Yeah, it is actually not helpful. I don&#39;t want to have a lazy initialization: it kinda misses the point for me. I want to always have that attribute (perform the count for each of the parent rows) but in the same query."}],"answers":[{"tags":[],"owner":{"account_id":20045809,"reputation":11,"user_id":14695503,"display_name":"Dan Tokarchuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639494653,"creation_date":1639494653,"answer_id":70351181,"question_id":56275056,"body_markdown":"`@Formula(&quot;(SELECT COUNT(*) FROM father f JOIN child c ON f.id = c.father_id WHERE f.id = id)&quot;)`\r\n\r\nWhere last id is your entity field name.","title":"having an Hibernate entity with a count children column - without scalar subquery","body":"<p><code>@Formula(&quot;(SELECT COUNT(*) FROM father f JOIN child c ON f.id = c.father_id WHERE f.id = id)&quot;)</code></p>\n<p>Where last id is your entity field name.</p>\n"}],"owner":{"account_id":10490454,"reputation":355,"user_id":7732544,"display_name":"SockworkOrange"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1639494653,"creation_date":1558613859,"question_id":56275056,"body_markdown":"I have an entity and I want it to have an attribute of the count of the children.\r\nLet&#39;s say I have these two tables:\r\n\r\n    create table father\r\n    (\r\n      id int,\r\n      name\r\n    );\r\n\r\n    create table child\r\n    (\r\n      id int,\r\n      father_id int\r\n    );\r\n\r\nI want the father entity in Hibernate to have an attribute like this:\r\n\r\n    private int countChildren;\r\n\r\nFrom SQL perspective, it is easy:\r\n\r\n    SELECT f.id, f.name, count(father_id) as count_children\r\n    FROM father f JOIN child c ON f.id = c.father_id\r\n    GROUP BY f.id, f.name;\r\n\r\nEasy and efficient. But, since I want to have it as an Hibernate attribute of the entity, the closest I found is:\r\n\r\n    @Formula(&quot;(select count(*) from child c where c.father_id = id)&quot;)\r\n    private int countChildren;\r\n\r\nHowever, behind the scenes it is performed as a Scalar sub-query, where the access to the child table is per every father record - highly inefficient (some databases like Oracle do some optimization for these kind queries, but I don&#39;t want to rely on that, and it is still not optimal compared to the SQL version with GROUP BY).\r\n\r\nIs there an Hibernate way to solve this one? One that behind the scenes is performed in a similar way to the above GROUP BY example?","title":"having an Hibernate entity with a count children column - without scalar subquery","body":"<p>I have an entity and I want it to have an attribute of the count of the children.\nLet's say I have these two tables:</p>\n\n<pre><code>create table father\n(\n  id int,\n  name\n);\n\ncreate table child\n(\n  id int,\n  father_id int\n);\n</code></pre>\n\n<p>I want the father entity in Hibernate to have an attribute like this:</p>\n\n<pre><code>private int countChildren;\n</code></pre>\n\n<p>From SQL perspective, it is easy:</p>\n\n<pre><code>SELECT f.id, f.name, count(father_id) as count_children\nFROM father f JOIN child c ON f.id = c.father_id\nGROUP BY f.id, f.name;\n</code></pre>\n\n<p>Easy and efficient. But, since I want to have it as an Hibernate attribute of the entity, the closest I found is:</p>\n\n<pre><code>@Formula(\"(select count(*) from child c where c.father_id = id)\")\nprivate int countChildren;\n</code></pre>\n\n<p>However, behind the scenes it is performed as a Scalar sub-query, where the access to the child table is per every father record - highly inefficient (some databases like Oracle do some optimization for these kind queries, but I don't want to rely on that, and it is still not optimal compared to the SQL version with GROUP BY).</p>\n\n<p>Is there an Hibernate way to solve this one? One that behind the scenes is performed in a similar way to the above GROUP BY example?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":3625744,"reputation":378,"user_id":3023434,"display_name":"Diego Marcher"},"score":0,"creation_date":1639487508,"post_id":70349411,"comment_id":124356337,"body_markdown":"What do you mean by track them? checking periodically their status? check if they&#39;ve been killed?","body":"What do you mean by track them? checking periodically their status? check if they&#39;ve been killed?"},{"owner":{"account_id":2085163,"reputation":797,"user_id":1856321,"accept_rate":54,"display_name":"saulyasar"},"score":0,"creation_date":1639487607,"post_id":70349411,"comment_id":124356376,"body_markdown":"@DiegoMarcher yes i want to get their status?(alive or sleep or killed) and how many they are ?","body":"@DiegoMarcher yes i want to get their status?(alive or sleep or killed) and how many they are ?"},{"owner":{"account_id":3625744,"reputation":378,"user_id":3023434,"display_name":"Diego Marcher"},"score":0,"creation_date":1639488088,"post_id":70349411,"comment_id":124356555,"body_markdown":"Then I&#39;d simply create a Map with all the threads that have been created for further reference","body":"Then I&#39;d simply create a Map with all the threads that have been created for further reference"},{"owner":{"account_id":2085163,"reputation":797,"user_id":1856321,"accept_rate":54,"display_name":"saulyasar"},"score":0,"creation_date":1639488517,"post_id":70349411,"comment_id":124356757,"body_markdown":"@DiegoMarcher can you give example . I&#39;m new on Kotlin","body":"@DiegoMarcher can you give example . I&#39;m new on Kotlin"},{"owner":{"account_id":3625744,"reputation":378,"user_id":3023434,"display_name":"Diego Marcher"},"score":1,"creation_date":1639488601,"post_id":70349411,"comment_id":124356793,"body_markdown":"I&#39;ll post it as answer","body":"I&#39;ll post it as answer"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1639492903,"post_id":70349411,"comment_id":124358750,"body_markdown":"It doesn&#39;t sound like a good idea to watch threads, manage them manually and kill them if needed. You should implement your threads in a way that they handle themselves correctly. Although, it could make sense to track them for debugging purposes.","body":"It doesn&#39;t sound like a good idea to watch threads, manage them manually and kill them if needed. You should implement your threads in a way that they handle themselves correctly. Although, it could make sense to track them for debugging purposes."},{"owner":{"account_id":7247838,"reputation":8934,"user_id":5529197,"accept_rate":80,"display_name":"Afshin"},"score":0,"creation_date":1639495012,"post_id":70349411,"comment_id":124359672,"body_markdown":"Hm....I&#39;m not sure setting `reuseAddress` has any meaning for an *accepted* socket...","body":"Hm....I&#39;m not sure setting <code>reuseAddress</code> has any meaning for an <i>accepted</i> socket..."}],"answers":[{"tags":[],"owner":{"account_id":3625744,"reputation":378,"user_id":3023434,"display_name":"Diego Marcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639494622,"creation_date":1639489133,"answer_id":70349809,"question_id":70349411,"body_markdown":"You can keep track of the threads and their state by having a Map for further reference\r\n\r\n```language-kotlin\r\nfun ClientHandler() {\r\n    try {\r\n        var count = 0\r\n        val serverSocket = ServerSocket(5000)\r\n\r\n        while (true) {\r\n            val socket: Socket = serverSocket.accept()\r\n            count++\r\n            socket.reuseAddress = true\r\n            threads[&quot;thread name here&quot;] = ServerThread(socket)\r\n        }\r\n    } catch (e: ConnectException) {\r\n        e.printStackTrace()\r\n    } catch (e: IOException) {\r\n        e.printStackTrace()\r\n    } catch (e: Exception) {\r\n        e.printStackTrace()\r\n    }\r\n}\r\n\r\nfun stopServerThread(threadName: String) {\r\n    threads[threadName]?.interrupt()\r\n}\r\n\r\ninternal inner class ServerThread(private val client: Socket) : Thread()  {\r\n    private val reader = Scanner(client.getInputStream())\r\n    private val writer = PrintStream(client.getOutputStream())\r\n    private var receiveString: String = &quot;&quot;\r\n    \r\n    init {\r\n        start()\r\n    }\r\n    \r\n    override fun run() {\r\n        try {\r\n            while(reader.hasNextLine()){\r\n                if (isInterrupted) {\r\n                    break\r\n                }\r\n                receiveString = reader.nextLine() ?: &quot;&quot;\r\n                if (receiveString != &quot;&quot;) {\r\n                    checkMessage(receiveString, writer, client)\r\n                }\r\n            }\r\n        } catch (ex: Exception) {\r\n            _log(&quot;Cannot read the message. Please try again&quot;)\r\n            //_log(ex.localizedMessage)\r\n            val spReq = Error()\r\n            spReq.sendErrorMsg(writer, &quot;Cannot read the message. Please try again&quot;,client)\r\n        }\r\n    }\r\n}\r\n```","title":"How to count number of threads created in Kotlin?","body":"<p>You can keep track of the threads and their state by having a Map for further reference</p>\n<pre><code>fun ClientHandler() {\n    try {\n        var count = 0\n        val serverSocket = ServerSocket(5000)\n\n        while (true) {\n            val socket: Socket = serverSocket.accept()\n            count++\n            socket.reuseAddress = true\n            threads[&quot;thread name here&quot;] = ServerThread(socket)\n        }\n    } catch (e: ConnectException) {\n        e.printStackTrace()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n}\n\nfun stopServerThread(threadName: String) {\n    threads[threadName]?.interrupt()\n}\n\ninternal inner class ServerThread(private val client: Socket) : Thread()  {\n    private val reader = Scanner(client.getInputStream())\n    private val writer = PrintStream(client.getOutputStream())\n    private var receiveString: String = &quot;&quot;\n    \n    init {\n        start()\n    }\n    \n    override fun run() {\n        try {\n            while(reader.hasNextLine()){\n                if (isInterrupted) {\n                    break\n                }\n                receiveString = reader.nextLine() ?: &quot;&quot;\n                if (receiveString != &quot;&quot;) {\n                    checkMessage(receiveString, writer, client)\n                }\n            }\n        } catch (ex: Exception) {\n            _log(&quot;Cannot read the message. Please try again&quot;)\n            //_log(ex.localizedMessage)\n            val spReq = Error()\n            spReq.sendErrorMsg(writer, &quot;Cannot read the message. Please try again&quot;,client)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2085163,"reputation":797,"user_id":1856321,"accept_rate":54,"display_name":"saulyasar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70349809,"answer_count":1,"score":0,"last_activity_date":1639494622,"creation_date":1639487385,"question_id":70349411,"body_markdown":"I have socket programming and for every client i&#39;m creating new threads and using application with multithreads as in below.\r\n\r\n    fun ClientHandler() {\r\n            try {\r\n                var count = 0\r\n                var serverSocket = ServerSocket(5000)\r\n\r\n                while (true) {\r\n                    val socket: Socket = serverSocket!!.accept()\r\n                    count++\r\n                    socket.reuseAddress = true\r\n                    _log(&quot;${socket.remoteSocketAddress} Client Connected. Connected client count is $count&quot;)\r\n                    Thread(ServerThread(socket)).start() //Here i&#39;m creating Threads. \r\n                }\r\n            } catch (e: ConnectException) {\r\n                _logEx(&quot;UnExpected connection error&quot;, e)\r\n            } catch (ex: IOException) {\r\n                _logEx(&quot;ClientHandler&quot;, ex)\r\n            } catch (e: Exception) {\r\n                _logEx(&quot;ServerSocketHandler &quot;, e)\r\n            }\r\n\r\n    }\r\n\r\n    internal inner class ServerThread(socket: Socket) : Runnable  {\r\n        private val client: Socket = socket\r\n        private val reader: Scanner = Scanner(client.getInputStream())\r\n        private val writer = PrintStream(client.getOutputStream())\r\n        private var receiveString: String = &quot;&quot;\r\n        override fun run() {\r\n            try {\r\n                while(reader.hasNextLine()){\r\n                    receiveString = reader.nextLine() ?: &quot;&quot;\r\n                    _log(&quot;Message received: &quot; + receiveString)\r\n                    if (receiveString != null &amp;&amp; receiveString != &quot;&quot;) {\r\n                        checkMessage(receiveString, writer,client)\r\n                    }\r\n                }\r\n            } catch (ex: Exception) {\r\n                _log(&quot;Cannot read the message. Please try again&quot;)\r\n                //_log(ex.localizedMessage)\r\n                val spReq = Error()\r\n                spReq.sendErrorMsg(writer, &quot;Cannot read the message. Please try again&quot;,client)\r\n            }\r\n        }\r\n    }\r\n\r\n**Update** \r\nI added ServerThread code part too.\r\n\r\nHow to follow them and get their statuses?\r\n\r\n\r\n\r\n","title":"How to count number of threads created in Kotlin?","body":"<p>I have socket programming and for every client i'm creating new threads and using application with multithreads as in below.</p>\n<pre><code>fun ClientHandler() {\n        try {\n            var count = 0\n            var serverSocket = ServerSocket(5000)\n\n            while (true) {\n                val socket: Socket = serverSocket!!.accept()\n                count++\n                socket.reuseAddress = true\n                _log(&quot;${socket.remoteSocketAddress} Client Connected. Connected client count is $count&quot;)\n                Thread(ServerThread(socket)).start() //Here i'm creating Threads. \n            }\n        } catch (e: ConnectException) {\n            _logEx(&quot;UnExpected connection error&quot;, e)\n        } catch (ex: IOException) {\n            _logEx(&quot;ClientHandler&quot;, ex)\n        } catch (e: Exception) {\n            _logEx(&quot;ServerSocketHandler &quot;, e)\n        }\n\n}\n\ninternal inner class ServerThread(socket: Socket) : Runnable  {\n    private val client: Socket = socket\n    private val reader: Scanner = Scanner(client.getInputStream())\n    private val writer = PrintStream(client.getOutputStream())\n    private var receiveString: String = &quot;&quot;\n    override fun run() {\n        try {\n            while(reader.hasNextLine()){\n                receiveString = reader.nextLine() ?: &quot;&quot;\n                _log(&quot;Message received: &quot; + receiveString)\n                if (receiveString != null &amp;&amp; receiveString != &quot;&quot;) {\n                    checkMessage(receiveString, writer,client)\n                }\n            }\n        } catch (ex: Exception) {\n            _log(&quot;Cannot read the message. Please try again&quot;)\n            //_log(ex.localizedMessage)\n            val spReq = Error()\n            spReq.sendErrorMsg(writer, &quot;Cannot read the message. Please try again&quot;,client)\n        }\n    }\n}\n</code></pre>\n<p><strong>Update</strong>\nI added ServerThread code part too.</p>\n<p>How to follow them and get their statuses?</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1639493988,"post_id":70350884,"comment_id":124359249,"body_markdown":"You never call `setGrade` on `Remark` `r1` so its `total` as well as its `math`, `programming`, and `oop` fields are all zero.","body":"You never call <code>setGrade</code> on <code>Remark</code> <code>r1</code> so its <code>total</code> as well as its <code>math</code>, <code>programming</code>, and <code>oop</code> fields are all zero."},{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":1,"creation_date":1639494962,"post_id":70350884,"comment_id":124359652,"body_markdown":"Quick comment about inheritance. Your modelling `Course extends Average` doesn&#39;t look correct. This means that `Course` is an `Average` - Not sure if it makes sense in your domain.","body":"Quick comment about inheritance. Your modelling <code>Course extends Average</code> doesn&#39;t look correct. This means that <code>Course</code> is an <code>Average</code> - Not sure if it makes sense in your domain."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639494445,"creation_date":1639493991,"answer_id":70351031,"question_id":70350884,"body_markdown":"Each Remark (including `r1`) and each Course (including `c1`) will have its own copy of all of the fields you define in Average. It is not the case that there is one shared copy of Average; there is one for each instance of Average, and each instance of Remark and Course contains space for all of Average&#39;s fields.\r\n\r\nNo matter what values you enter, `r1.remark()` will always print &quot;Fail&quot; because you&#39;re setting the values in `c1` and not `r1`. Though `r1` will inherit the definition of `getTotal` from Average, you haven&#39;t set the values, so they&#39;ll all have the default value of 0 and consequently `getTotal` will return 0.\r\n\r\n(Side note: Though it works from a technical standpoint, you might not see cases later where classes like Remark and Course extend a class like Average: You are representing that if some other part of your program needed an Average, you could pass in a Remark or a Course, and that doesn&#39;t make as much sense as if (for instance) you had Course, Assignment, and Exam all extend GradableItem. You&#39;ll see that principle referred to as the [Liskov Substitution Principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle).)","title":"Why the class Remark is not inheriting the Average class value?","body":"<p>Each Remark (including <code>r1</code>) and each Course (including <code>c1</code>) will have its own copy of all of the fields you define in Average. It is not the case that there is one shared copy of Average; there is one for each instance of Average, and each instance of Remark and Course contains space for all of Average's fields.</p>\n<p>No matter what values you enter, <code>r1.remark()</code> will always print &quot;Fail&quot; because you're setting the values in <code>c1</code> and not <code>r1</code>. Though <code>r1</code> will inherit the definition of <code>getTotal</code> from Average, you haven't set the values, so they'll all have the default value of 0 and consequently <code>getTotal</code> will return 0.</p>\n<p>(Side note: Though it works from a technical standpoint, you might not see cases later where classes like Remark and Course extend a class like Average: You are representing that if some other part of your program needed an Average, you could pass in a Remark or a Course, and that doesn't make as much sense as if (for instance) you had Course, Assignment, and Exam all extend GradableItem. You'll see that principle referred to as the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitution Principle</a>.)</p>\n"}],"owner":{"display_name":"user14291717"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1639494445,"creation_date":1639493244,"question_id":70350884,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nclass Average {\r\n\tint math, programming, oop, total;\r\n\tpublic void setGrade(int math, int programming, int oop) {\r\n\t    this.math = math;\r\n\t    this.programming = programming;\r\n\t    this.oop = oop;\r\n    \tthis.total = (math + programming + oop) / 3;\r\n\t}\r\n\tpublic int getTotal() {\r\n\t    return total;\r\n\t}\r\n}\r\n\r\nclass Remark extends Average {\r\n    void remark() {\r\n        int totalMark = super.getTotal();\r\n        if(totalMark &gt;= 75) {\r\n            System.out.println(&quot;Pass&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Fail&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Course extends Average {\r\n    void decideCourse() {\r\n        int total = super.getTotal();\r\n        System.out.println(&quot;Average: &quot; + total);\r\n    \tif(total &gt;= 91 &amp;&amp; total &lt;= 100) {\r\n    \t    System.out.print(&quot;Course Offered: \\nBSE, BEED, BSAT&quot;);\r\n    \t}\r\n    \telse if(total &gt;= 81 &amp;&amp; total &lt;= 90) {\r\n    \t    System.out.print(&quot;Course Offered: \\nBSIT, BSCS, BSBA&quot;);\r\n    \t}\r\n    \telse if(total &gt;= 75 &amp;&amp; total &lt;= 80) {\r\n    \t    System.out.print(&quot;Course Offered: \\nBSITECH, DAT, BSHRM&quot;);\r\n    \t}\r\n    \telse if(total &lt; 75) {\r\n    \t    System.out.print(&quot;Average did!&quot;);\r\n    \t}\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t\tint math, programming, oop;\r\n\t\tSystem.out.print(&quot;Enter Grade: &quot;);\r\n    \tSystem.out.print(&quot;\\nMath: &quot;);\r\n    \tmath = sc.nextInt();\r\n    \tSystem.out.print(&quot;Programming: &quot;);\r\n    \tprogramming = sc.nextInt();\r\n    \tSystem.out.print(&quot;Object-Oriented Programming: &quot;);\r\n    \toop = sc.nextInt();\r\n\t\tCourse c1 = new Course();\r\n\t\tRemark r1 = new Remark();\r\n\t\tc1.setGrade(math, programming, oop);\r\n\t\tr1.remark();\r\n\t\tc1.decideCourse();\r\n\t}\r\n}\r\n\r\n\r\n```\r\nThis problem is related to inheritance. A student need to be graded on the average marks.\r\nIn this code class Remark is not extending Average class, when i try to get the total from Average class, its not inheriting.. whats the error here... other parts are working fine\r\n","title":"Why the class Remark is not inheriting the Average class value?","body":"<pre><code>import java.util.Scanner;\n\nclass Average {\n    int math, programming, oop, total;\n    public void setGrade(int math, int programming, int oop) {\n        this.math = math;\n        this.programming = programming;\n        this.oop = oop;\n        this.total = (math + programming + oop) / 3;\n    }\n    public int getTotal() {\n        return total;\n    }\n}\n\nclass Remark extends Average {\n    void remark() {\n        int totalMark = super.getTotal();\n        if(totalMark &gt;= 75) {\n            System.out.println(&quot;Pass&quot;);\n        }\n        else {\n            System.out.println(&quot;Fail&quot;);\n        }\n    }\n}\n\nclass Course extends Average {\n    void decideCourse() {\n        int total = super.getTotal();\n        System.out.println(&quot;Average: &quot; + total);\n        if(total &gt;= 91 &amp;&amp; total &lt;= 100) {\n            System.out.print(&quot;Course Offered: \\nBSE, BEED, BSAT&quot;);\n        }\n        else if(total &gt;= 81 &amp;&amp; total &lt;= 90) {\n            System.out.print(&quot;Course Offered: \\nBSIT, BSCS, BSBA&quot;);\n        }\n        else if(total &gt;= 75 &amp;&amp; total &lt;= 80) {\n            System.out.print(&quot;Course Offered: \\nBSITECH, DAT, BSHRM&quot;);\n        }\n        else if(total &lt; 75) {\n            System.out.print(&quot;Average did!&quot;);\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int math, programming, oop;\n        System.out.print(&quot;Enter Grade: &quot;);\n        System.out.print(&quot;\\nMath: &quot;);\n        math = sc.nextInt();\n        System.out.print(&quot;Programming: &quot;);\n        programming = sc.nextInt();\n        System.out.print(&quot;Object-Oriented Programming: &quot;);\n        oop = sc.nextInt();\n        Course c1 = new Course();\n        Remark r1 = new Remark();\n        c1.setGrade(math, programming, oop);\n        r1.remark();\n        c1.decideCourse();\n    }\n}\n\n\n</code></pre>\n<p>This problem is related to inheritance. A student need to be graded on the average marks.\nIn this code class Remark is not extending Average class, when i try to get the total from Average class, its not inheriting.. whats the error here... other parts are working fine</p>\n"},{"tags":["java","swing","fullscreen","jdialog"],"comments":[{"owner":{"account_id":14800,"reputation":1977,"user_id":30753,"accept_rate":62,"display_name":"Clayton"},"score":0,"creation_date":1258130632,"post_id":1722922,"comment_id":1609895,"body_markdown":"Uh oh.  This doesn&#39;t bode well for me:  &quot;Windows cannot overlap the full-screen window. All other application windows will always appear beneath the full-screen window in the Z-order.&quot;  From the API for GraphicsDevice: http://java.sun.com/j2se/1.4.2/docs/api/java/awt/GraphicsDevice.html#setFullScreenWindow%28java.awt.Window%29","body":"Uh oh.  This doesn&#39;t bode well for me:  &quot;Windows cannot overlap the full-screen window. All other application windows will always appear beneath the full-screen window in the Z-order.&quot;  From the API for GraphicsDevice: <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/awt/GraphicsDevice.html#setFullScreenWindow%28java.awt.Window%29\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/awt/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":41128,"reputation":820,"user_id":119459,"accept_rate":75,"display_name":"M1EK"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1258042577,"creation_date":1258042577,"answer_id":1723425,"question_id":1722922,"body_markdown":"Do you really want to be in full-screen mode for this app? That&#39;s more of a gaming feature - to get more direct access to the frame-buffer, I always thought. Have you read this tutorial:\r\n\r\nhttp://java.sun.com/docs/books/tutorial/extra/fullscreen/index.html\r\n\r\nReally seems to me not to be the best choice for a Swing app with child windows.","title":"JDialog Not Displaying When in Fullscreen Mode","body":"<p>Do you really want to be in full-screen mode for this app? That's more of a gaming feature - to get more direct access to the frame-buffer, I always thought. Have you read this tutorial:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/tutorial/extra/fullscreen/index.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/tutorial/extra/fullscreen/index.html</a></p>\n\n<p>Really seems to me not to be the best choice for a Swing app with child windows.</p>\n"},{"tags":[],"owner":{"account_id":14800,"reputation":1977,"user_id":30753,"accept_rate":62,"display_name":"Clayton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1258148283,"creation_date":1258148283,"answer_id":1732088,"question_id":1722922,"body_markdown":"And in fact, as M1EK alluded in his answer and I mentioned in a comment, Java applications in full screen mode will not allow other windows to show over them.  The [Javadoc API for GraphicsDevice][1] reads:\r\n\r\n&gt; Windows cannot overlap the full-screen window. All other application windows will always appear beneath the full-screen window in the Z-order. \r\n\r\nIn the end, I reconfigured my application so that it doesn&#39;t enter full screen mode until a bit later.  This still gives me a fairly class presentation at the start and allows my JDialog to function as it should.  The transition to full screen mode is quick and smooth, even in the &quot;middle&quot; of my app.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/awt/GraphicsDevice.html#setFullScreenWindow%28java.awt.Window%29","title":"JDialog Not Displaying When in Fullscreen Mode","body":"<p>And in fact, as M1EK alluded in his answer and I mentioned in a comment, Java applications in full screen mode will not allow other windows to show over them.  The <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/awt/GraphicsDevice.html#setFullScreenWindow%28java.awt.Window%29\" rel=\"nofollow noreferrer\">Javadoc API for GraphicsDevice</a> reads:</p>\n\n<blockquote>\n  <p>Windows cannot overlap the full-screen window. All other application windows will always appear beneath the full-screen window in the Z-order. </p>\n</blockquote>\n\n<p>In the end, I reconfigured my application so that it doesn't enter full screen mode until a bit later.  This still gives me a fairly class presentation at the start and allows my JDialog to function as it should.  The transition to full screen mode is quick and smooth, even in the \"middle\" of my app.</p>\n"},{"tags":[],"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285099979,"creation_date":1285099979,"answer_id":3764094,"question_id":1722922,"body_markdown":"JOptionPane.showInternalXXXDialog()\r\nmethods render dialogs as JInternalFrames.\r\nMaybe you could consider using a JIternaFrame to simulate the dialog box.","title":"JDialog Not Displaying When in Fullscreen Mode","body":"<p>JOptionPane.showInternalXXXDialog()\nmethods render dialogs as JInternalFrames.\nMaybe you could consider using a JIternaFrame to simulate the dialog box.</p>\n"},{"tags":[],"owner":{"account_id":895671,"reputation":847,"user_id":933017,"accept_rate":88,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639494227,"creation_date":1328636965,"answer_id":9181182,"question_id":1722922,"body_markdown":"Try to use this. Is not an exclusive full screen but it is close enough.\r\n\r\n    setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n    setUndecorated(true);","title":"JDialog Not Displaying When in Fullscreen Mode","body":"<p>Try to use this. Is not an exclusive full screen but it is close enough.</p>\n<pre><code>setExtendedState(JFrame.MAXIMIZED_BOTH);\nsetUndecorated(true);\n</code></pre>\n"}],"owner":{"account_id":14800,"reputation":1977,"user_id":30753,"accept_rate":62,"display_name":"Clayton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1732088,"answer_count":4,"score":2,"last_activity_date":1639494227,"creation_date":1258038915,"question_id":1722922,"body_markdown":"I have an application that runs in fullscreen mode and has been working fine.  Now I need to add a simple, undecorated dialog and I&#39;m running into trouble.  If I run the application **maximized** but not in fullscreen, the dialog displays and functions as expected.  When I switch back to fullscreen, the dialog will not display.\r\n\r\nThe dialog extends JDialog and only contains a JSlider and a couple of buttons.  It is undecorated and **not modal**.  (I disabled modality for testing purposes -- it was a pain to force exit the app every time the dialog blocked input.)  I&#39;m entering full screen mode using `setFullScreenWindow()`, passing in the main JFrame for the app.  It doesn&#39;t make a difference if I set that very JFrame as the owner of the JDialog or not.  Nor does it seem to help if I call `toFront()` on the dialog.\r\n\r\nThe dialog seems to be active -- especially since it blocks input if I make it modal -- but just not showing or being hidden.  So, **is there any obvious trick to displaying a JDialog in fullscreen mode?**  Something I might be overlooking or omitting?\r\n\r\nIf there&#39;s no obvious solution, I can post some code later.  Unfortunately, I don&#39;t have time right now.\r\n","title":"JDialog Not Displaying When in Fullscreen Mode","body":"<p>I have an application that runs in fullscreen mode and has been working fine.  Now I need to add a simple, undecorated dialog and I'm running into trouble.  If I run the application <strong>maximized</strong> but not in fullscreen, the dialog displays and functions as expected.  When I switch back to fullscreen, the dialog will not display.</p>\n\n<p>The dialog extends JDialog and only contains a JSlider and a couple of buttons.  It is undecorated and <strong>not modal</strong>.  (I disabled modality for testing purposes -- it was a pain to force exit the app every time the dialog blocked input.)  I'm entering full screen mode using <code>setFullScreenWindow()</code>, passing in the main JFrame for the app.  It doesn't make a difference if I set that very JFrame as the owner of the JDialog or not.  Nor does it seem to help if I call <code>toFront()</code> on the dialog.</p>\n\n<p>The dialog seems to be active -- especially since it blocks input if I make it modal -- but just not showing or being hidden.  So, <strong>is there any obvious trick to displaying a JDialog in fullscreen mode?</strong>  Something I might be overlooking or omitting?</p>\n\n<p>If there's no obvious solution, I can post some code later.  Unfortunately, I don't have time right now.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1639544898,"post_id":70351050,"comment_id":124373151,"body_markdown":"check this,https://stackoverflow.com/questions/30365106/reason-for-the-exception-java-lang-verifyerror-bad-type-on-operand-stack","body":"check this,<a href=\"https://stackoverflow.com/questions/30365106/reason-for-the-exception-java-lang-verifyerror-bad-type-on-operand-stack\" title=\"reason for the exception java lang verifyerror bad type on operand stack\">stackoverflow.com/questions/30365106/&hellip;</a>"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1639544933,"post_id":70351050,"comment_id":124373159,"body_markdown":"check this also,https://stackoverflow.com/questions/61021950/exception-in-thread-main-java-lang-verifyerror-bad-type-on-operand-stack-java","body":"check this also,<a href=\"https://stackoverflow.com/questions/61021950/exception-in-thread-main-java-lang-verifyerror-bad-type-on-operand-stack-java\" title=\"exception in thread main java lang verifyerror bad type on operand stack java\">stackoverflow.com/questions/61021950/&hellip;</a>"}],"owner":{"account_id":23645609,"reputation":9,"user_id":17675296,"display_name":"Vrushali Ganar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1639494103,"creation_date":1639494103,"question_id":70351050,"body_markdown":"I have just updated android studio with latest version 2020.3.1. When I try to launch the studio the application crashes automatically with below error:\r\n\r\n    java.util.concurrent.CompletionException: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        it/unimi/dsi/fastutil/ints/IntArrays.lambda$parallelRadixSortIndirect$1(Ljava/util/concurrent/atomic/AtomicInteger;ILjava/util/concurrent/LinkedBlockingQueue;[I[IZ[I)Ljava/lang/Void; @138: iushr\r\n      Reason:\r\n        Type double_2nd (current frame, stack[4]) is not assignable to integer\r\n      Current Frame:\r\n        bci: @138\r\n        flags: { }\r\n        locals: { &#39;java/util/concurrent/atomic/AtomicInteger&#39;, integer, &#39;java/util/concurrent/LinkedBlockingQueue&#39;, &#39;[I&#39;, &#39;[I&#39;, integer, &#39;[I&#39;, &#39;[I&#39;, &#39;[I&#39;, &#39;it/unimi/dsi/fastutil/ints/IntArrays$Segment&#39;, integer, integer, integer, integer, integer, integer }\r\n        stack: { &#39;[I&#39;, integer, float, double, double_2nd }\r\n      Bytecode:\r\n        0000000: 1101 00bc 0a3a 0711 0100 bc0a 3a08 2ab6\r\n        0000010: 0159 9a00 191b 3609 1509 8409 ff99 000e\r\n        0000020: 2cb2 015b b600 f257 a7ff f02c b601 5fc0\r\n        0000030: 00ee 3a09 1909 b201 5ba6 0005 01b0 1909\r\n        0000040: b401 6136 0a19 09b4 0165 360b 1909 b401\r\n        0000050: 6836 0c15 0c07 709a 0009 1100 80a7 0004\r\n        0000060: 0336 0d06 150c 0770 6410 0868 360e 150a\r\n        0000070: 150b 6036 0f15 0f84 0fff 150a 9f00 1e19\r\n        0000080: 072d 1904 150f 2e2e 0b0e 7c11 00ff 7e15\r\n        0000090: 0d82 5c2e 0460 4fa7 ffde 0236 0f03 3610\r\n        00000a0: 150a 3611 1510 1101 00a2 0025 1907 1510\r\n        00000b0: 2e99 0007 1510 360f 1908 1510 1511 1907\r\n        00000c0: 1510 2e60 5936 114f 8410 01a7 ffd9 1505\r\n        00000d0: 9900 b715 0a15 0b60 3610 1510 8410 ff15\r\n        00000e0: 0a9f 0027 1906 1908 2d19 0415 102e 2e0b\r\n        00000f0: 0e7c 1100 ff7e 150d 825c 2e04 645b 4f19\r\n        0000100: 0415 102e 4fa7 ffd5 1906 150a 1904 150a\r\n        0000110: 150b b800 1f03 3610 150a 3611 1510 150f\r\n        0000120: a300 5e15 0c06 a200 4819 0715 102e 04a4\r\n        0000130: 003f 1907 1510 2e11 0400 a200 1819 042d\r\n        0000140: 1511 1511 1907 1510 2e60 1505 b801 2aa7\r\n        0000150: 001f 2ab6 016b 572c bb00 ee59 1511 1907\r\n        0000160: 1510 2e15 0c04 60b7 00f0 b600 f257 1511\r\n        0000170: 1907 1510 2e60 3611 8410 01a7 ffa1 1907\r\n        0000180: 03b8 012e a700 d815 0a15 0b60 1907 150f\r\n        0000190: 2e64 3610 150a 3611 0236 1215 1115 10a3\r\n        00001a0: 00bd 1904 1511 2e36 142d 1514 2e0b 0e7c\r\n        00001b0: 1100 ff7e 150d 8236 1215 1115 10a2 0041\r\n        00001c0: 1908 1512 5c2e 0464 5b4f 5936 1315 11a4\r\n        00001d0: 0028 1514 3615 1904 1513 2e36 1419 0415\r\n        00001e0: 1315 154f 2d15 142e 0b0e 7c11 00ff 7e15\r\n        00001f0: 0d82 3612 a7ff cc19 0415 1115 144f 150c\r\n        0000200: 06a2 0048 1907 1512 2e04 a400 3f19 0715\r\n        0000210: 122e 1104 00a2 0018 1904 2d15 1115 1119\r\n        0000220: 0715 122e 6015 05b8 012a a700 1f2a b601\r\n        0000230: 6b57 2cbb 00ee 5915 1119 0715 122e 150c\r\n        0000240: 0460 b700 f0b6 00f2 5715 1119 0715 122e\r\n        0000250: 6036 1119 0715 1203 4fa7 ff42 2ab6 016e\r\n        0000260: 57a7 fdad                              \r\n      Stackmap Table:\r\n        append_frame(@14,Object[#75],Object[#75])\r\n        append_frame(@24,Integer)\r\n        chop_frame(@43,1)\r\n        append_frame(@62,Object[#238])\r\n        append_frame(@96,Integer,Integer,Integer)\r\n        same_locals_1_stack_item_frame(@97,Integer)\r\n        append_frame(@117,Integer,Integer,Integer)\r\n        chop_frame(@154,1)\r\n        append_frame(@164,Integer,Integer,Integer)\r\n        same_frame(@184)\r\n        chop_frame(@206,2)\r\n        append_frame(@218,Integer)\r\n        chop_frame(@264,1)\r\n        append_frame(@284,Integer,Integer)\r\n        same_frame(@338)\r\n        same_frame(@366)\r\n        chop_frame(@382,2)\r\n        same_frame(@391)\r\n        append_frame(@411,Integer,Integer,Integer)\r\n        append_frame(@448,Top,Integer)\r\n        full_frame(@503,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer},{})\r\n        full_frame(@510,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Top,Integer},{})\r\n        same_frame(@557)\r\n        chop_frame(@585,2)\r\n        chop_frame(@604,3)\r\n    \r\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n        at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:645)\r\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\r\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        it/unimi/dsi/fastutil/ints/IntArrays.lambda$parallelRadixSortIndirect$1(Ljava/util/concurrent/atomic/AtomicInteger;ILjava/util/concurrent/LinkedBlockingQueue;[I[IZ[I)Ljava/lang/Void; @138: iushr\r\n      Reason:\r\n        Type double_2nd (current frame, stack[4]) is not assignable to integer\r\n      Current Frame:\r\n        bci: @138\r\n        flags: { }\r\n        locals: { &#39;java/util/concurrent/atomic/AtomicInteger&#39;, integer, &#39;java/util/concurrent/LinkedBlockingQueue&#39;, &#39;[I&#39;, &#39;[I&#39;, integer, &#39;[I&#39;, &#39;[I&#39;, &#39;[I&#39;, &#39;it/unimi/dsi/fastutil/ints/IntArrays$Segment&#39;, integer, integer, integer, integer, integer, integer }\r\n        stack: { &#39;[I&#39;, integer, float, double, double_2nd }\r\n      Bytecode:\r\n        0000000: 1101 00bc 0a3a 0711 0100 bc0a 3a08 2ab6\r\n        0000010: 0159 9a00 191b 3609 1509 8409 ff99 000e\r\n        0000020: 2cb2 015b b600 f257 a7ff f02c b601 5fc0\r\n        0000030: 00ee 3a09 1909 b201 5ba6 0005 01b0 1909\r\n        0000040: b401 6136 0a19 09b4 0165 360b 1909 b401\r\n        0000050: 6836 0c15 0c07 709a 0009 1100 80a7 0004\r\n        0000060: 0336 0d06 150c 0770 6410 0868 360e 150a\r\n        0000070: 150b 6036 0f15 0f84 0fff 150a 9f00 1e19\r\n        0000080: 072d 1904 150f 2e2e 0b0e 7c11 00ff 7e15\r\n        0000090: 0d82 5c2e 0460 4fa7 ffde 0236 0f03 3610\r\n        00000a0: 150a 3611 1510 1101 00a2 0025 1907 1510\r\n        00000b0: 2e99 0007 1510 360f 1908 1510 1511 1907\r\n        00000c0: 1510 2e60 5936 114f 8410 01a7 ffd9 1505\r\n        00000d0: 9900 b715 0a15 0b60 3610 1510 8410 ff15\r\n        00000e0: 0a9f 0027 1906 1908 2d19 0415 102e 2e0b\r\n        00000f0: 0e7c 1100 ff7e 150d 825c 2e04 645b 4f19\r\n        0000100: 0415 102e 4fa7 ffd5 1906 150a 1904 150a\r\n        0000110: 150b b800 1f03 3610 150a 3611 1510 150f\r\n        0000120: a300 5e15 0c06 a200 4819 0715 102e 04a4\r\n        0000130: 003f 1907 1510 2e11 0400 a200 1819 042d\r\n        0000140: 1511 1511 1907 1510 2e60 1505 b801 2aa7\r\n        0000150: 001f 2ab6 016b 572c bb00 ee59 1511 1907\r\n        0000160: 1510 2e15 0c04 60b7 00f0 b600 f257 1511\r\n        0000170: 1907 1510 2e60 3611 8410 01a7 ffa1 1907\r\n        0000180: 03b8 012e a700 d815 0a15 0b60 1907 150f\r\n        0000190: 2e64 3610 150a 3611 0236 1215 1115 10a3\r\n        00001a0: 00bd 1904 1511 2e36 142d 1514 2e0b 0e7c\r\n        00001b0: 1100 ff7e 150d 8236 1215 1115 10a2 0041\r\n        00001c0: 1908 1512 5c2e 0464 5b4f 5936 1315 11a4\r\n        00001d0: 0028 1514 3615 1904 1513 2e36 1419 0415\r\n        00001e0: 1315 154f 2d15 142e 0b0e 7c11 00ff 7e15\r\n        00001f0: 0d82 3612 a7ff cc19 0415 1115 144f 150c\r\n        0000200: 06a2 0048 1907 1512 2e04 a400 3f19 0715\r\n        0000210: 122e 1104 00a2 0018 1904 2d15 1115 1119\r\n        0000220: 0715 122e 6015 05b8 012a a700 1f2a b601\r\n        0000230: 6b57 2cbb 00ee 5915 1119 0715 122e 150c\r\n        0000240: 0460 b700 f0b6 00f2 5715 1119 0715 122e\r\n        0000250: 6036 1119 0715 1203 4fa7 ff42 2ab6 016e\r\n        0000260: 57a7 fdad                              \r\n      Stackmap Table:\r\n        append_frame(@14,Object[#75],Object[#75])\r\n        append_frame(@24,Integer)\r\n        chop_frame(@43,1)\r\n        append_frame(@62,Object[#238])\r\n        append_frame(@96,Integer,Integer,Integer)\r\n        same_locals_1_stack_item_frame(@97,Integer)\r\n        append_frame(@117,Integer,Integer,Integer)\r\n        chop_frame(@154,1)\r\n        append_frame(@164,Integer,Integer,Integer)\r\n        same_frame(@184)\r\n        chop_frame(@206,2)\r\n        append_frame(@218,Integer)\r\n        chop_frame(@264,1)\r\n        append_frame(@284,Integer,Integer)\r\n        same_frame(@338)\r\n        same_frame(@366)\r\n        chop_frame(@382,2)\r\n        same_frame(@391)\r\n        append_frame(@411,Integer,Integer,Integer)\r\n        append_frame(@448,Top,Integer)\r\n        full_frame(@503,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer},{})\r\n        full_frame(@510,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Top,Integer},{})\r\n        same_frame(@557)\r\n        chop_frame(@585,2)\r\n        chop_frame(@604,3)\r\n    \r\n        at it.unimi.dsi.fastutil.ints.IntArrayList.&lt;init&gt;(IntArrayList.java:86)\r\n        at com.intellij.util.graph.DFSTBuilder.&lt;init&gt;(DFSTBuilder.java:29)\r\n        at com.intellij.util.graph.DFSTBuilder.&lt;init&gt;(DFSTBuilder.java:46)\r\n        at com.intellij.util.graph.DFSTBuilder.&lt;init&gt;(DFSTBuilder.java:39)\r\n        at com.intellij.ide.plugins.PluginManagerCore.checkPluginCycles(PluginManagerCore.java:691)\r\n        at com.intellij.ide.plugins.PluginManagerCore.initializePlugins(PluginManagerCore.java:1058)\r\n        at com.intellij.ide.plugins.PluginManagerCore.loadAndInitializePlugins(PluginManagerCore.java:1358)\r\n        at com.intellij.ide.plugins.PluginManagerCore.lambda$initPlugins$15(PluginManagerCore.java:816)\r\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\r\n        ... 9 more\r\n    \r\n    -----\r\n    Your JRE: 11.0.10+0-b96-7249189 amd64 (Oracle Corporation)\r\n    C:\\Program Files\\Android\\Android Studio\\jre\r\n\r\n\r\nNot sure why this the application crashes. Please help me if there is any open issue with the current.\r\nAlso, any sort of resolution would help. Thanks!","title":"Android Studio version 2020.3.1 crashes automatically after one minute","body":"<p>I have just updated android studio with latest version 2020.3.1. When I try to launch the studio the application crashes automatically with below error:</p>\n<pre><code>java.util.concurrent.CompletionException: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    it/unimi/dsi/fastutil/ints/IntArrays.lambda$parallelRadixSortIndirect$1(Ljava/util/concurrent/atomic/AtomicInteger;ILjava/util/concurrent/LinkedBlockingQueue;[I[IZ[I)Ljava/lang/Void; @138: iushr\n  Reason:\n    Type double_2nd (current frame, stack[4]) is not assignable to integer\n  Current Frame:\n    bci: @138\n    flags: { }\n    locals: { 'java/util/concurrent/atomic/AtomicInteger', integer, 'java/util/concurrent/LinkedBlockingQueue', '[I', '[I', integer, '[I', '[I', '[I', 'it/unimi/dsi/fastutil/ints/IntArrays$Segment', integer, integer, integer, integer, integer, integer }\n    stack: { '[I', integer, float, double, double_2nd }\n  Bytecode:\n    0000000: 1101 00bc 0a3a 0711 0100 bc0a 3a08 2ab6\n    0000010: 0159 9a00 191b 3609 1509 8409 ff99 000e\n    0000020: 2cb2 015b b600 f257 a7ff f02c b601 5fc0\n    0000030: 00ee 3a09 1909 b201 5ba6 0005 01b0 1909\n    0000040: b401 6136 0a19 09b4 0165 360b 1909 b401\n    0000050: 6836 0c15 0c07 709a 0009 1100 80a7 0004\n    0000060: 0336 0d06 150c 0770 6410 0868 360e 150a\n    0000070: 150b 6036 0f15 0f84 0fff 150a 9f00 1e19\n    0000080: 072d 1904 150f 2e2e 0b0e 7c11 00ff 7e15\n    0000090: 0d82 5c2e 0460 4fa7 ffde 0236 0f03 3610\n    00000a0: 150a 3611 1510 1101 00a2 0025 1907 1510\n    00000b0: 2e99 0007 1510 360f 1908 1510 1511 1907\n    00000c0: 1510 2e60 5936 114f 8410 01a7 ffd9 1505\n    00000d0: 9900 b715 0a15 0b60 3610 1510 8410 ff15\n    00000e0: 0a9f 0027 1906 1908 2d19 0415 102e 2e0b\n    00000f0: 0e7c 1100 ff7e 150d 825c 2e04 645b 4f19\n    0000100: 0415 102e 4fa7 ffd5 1906 150a 1904 150a\n    0000110: 150b b800 1f03 3610 150a 3611 1510 150f\n    0000120: a300 5e15 0c06 a200 4819 0715 102e 04a4\n    0000130: 003f 1907 1510 2e11 0400 a200 1819 042d\n    0000140: 1511 1511 1907 1510 2e60 1505 b801 2aa7\n    0000150: 001f 2ab6 016b 572c bb00 ee59 1511 1907\n    0000160: 1510 2e15 0c04 60b7 00f0 b600 f257 1511\n    0000170: 1907 1510 2e60 3611 8410 01a7 ffa1 1907\n    0000180: 03b8 012e a700 d815 0a15 0b60 1907 150f\n    0000190: 2e64 3610 150a 3611 0236 1215 1115 10a3\n    00001a0: 00bd 1904 1511 2e36 142d 1514 2e0b 0e7c\n    00001b0: 1100 ff7e 150d 8236 1215 1115 10a2 0041\n    00001c0: 1908 1512 5c2e 0464 5b4f 5936 1315 11a4\n    00001d0: 0028 1514 3615 1904 1513 2e36 1419 0415\n    00001e0: 1315 154f 2d15 142e 0b0e 7c11 00ff 7e15\n    00001f0: 0d82 3612 a7ff cc19 0415 1115 144f 150c\n    0000200: 06a2 0048 1907 1512 2e04 a400 3f19 0715\n    0000210: 122e 1104 00a2 0018 1904 2d15 1115 1119\n    0000220: 0715 122e 6015 05b8 012a a700 1f2a b601\n    0000230: 6b57 2cbb 00ee 5915 1119 0715 122e 150c\n    0000240: 0460 b700 f0b6 00f2 5715 1119 0715 122e\n    0000250: 6036 1119 0715 1203 4fa7 ff42 2ab6 016e\n    0000260: 57a7 fdad                              \n  Stackmap Table:\n    append_frame(@14,Object[#75],Object[#75])\n    append_frame(@24,Integer)\n    chop_frame(@43,1)\n    append_frame(@62,Object[#238])\n    append_frame(@96,Integer,Integer,Integer)\n    same_locals_1_stack_item_frame(@97,Integer)\n    append_frame(@117,Integer,Integer,Integer)\n    chop_frame(@154,1)\n    append_frame(@164,Integer,Integer,Integer)\n    same_frame(@184)\n    chop_frame(@206,2)\n    append_frame(@218,Integer)\n    chop_frame(@264,1)\n    append_frame(@284,Integer,Integer)\n    same_frame(@338)\n    same_frame(@366)\n    chop_frame(@382,2)\n    same_frame(@391)\n    append_frame(@411,Integer,Integer,Integer)\n    append_frame(@448,Top,Integer)\n    full_frame(@503,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer},{})\n    full_frame(@510,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Top,Integer},{})\n    same_frame(@557)\n    chop_frame(@585,2)\n    chop_frame(@604,3)\n\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:645)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    it/unimi/dsi/fastutil/ints/IntArrays.lambda$parallelRadixSortIndirect$1(Ljava/util/concurrent/atomic/AtomicInteger;ILjava/util/concurrent/LinkedBlockingQueue;[I[IZ[I)Ljava/lang/Void; @138: iushr\n  Reason:\n    Type double_2nd (current frame, stack[4]) is not assignable to integer\n  Current Frame:\n    bci: @138\n    flags: { }\n    locals: { 'java/util/concurrent/atomic/AtomicInteger', integer, 'java/util/concurrent/LinkedBlockingQueue', '[I', '[I', integer, '[I', '[I', '[I', 'it/unimi/dsi/fastutil/ints/IntArrays$Segment', integer, integer, integer, integer, integer, integer }\n    stack: { '[I', integer, float, double, double_2nd }\n  Bytecode:\n    0000000: 1101 00bc 0a3a 0711 0100 bc0a 3a08 2ab6\n    0000010: 0159 9a00 191b 3609 1509 8409 ff99 000e\n    0000020: 2cb2 015b b600 f257 a7ff f02c b601 5fc0\n    0000030: 00ee 3a09 1909 b201 5ba6 0005 01b0 1909\n    0000040: b401 6136 0a19 09b4 0165 360b 1909 b401\n    0000050: 6836 0c15 0c07 709a 0009 1100 80a7 0004\n    0000060: 0336 0d06 150c 0770 6410 0868 360e 150a\n    0000070: 150b 6036 0f15 0f84 0fff 150a 9f00 1e19\n    0000080: 072d 1904 150f 2e2e 0b0e 7c11 00ff 7e15\n    0000090: 0d82 5c2e 0460 4fa7 ffde 0236 0f03 3610\n    00000a0: 150a 3611 1510 1101 00a2 0025 1907 1510\n    00000b0: 2e99 0007 1510 360f 1908 1510 1511 1907\n    00000c0: 1510 2e60 5936 114f 8410 01a7 ffd9 1505\n    00000d0: 9900 b715 0a15 0b60 3610 1510 8410 ff15\n    00000e0: 0a9f 0027 1906 1908 2d19 0415 102e 2e0b\n    00000f0: 0e7c 1100 ff7e 150d 825c 2e04 645b 4f19\n    0000100: 0415 102e 4fa7 ffd5 1906 150a 1904 150a\n    0000110: 150b b800 1f03 3610 150a 3611 1510 150f\n    0000120: a300 5e15 0c06 a200 4819 0715 102e 04a4\n    0000130: 003f 1907 1510 2e11 0400 a200 1819 042d\n    0000140: 1511 1511 1907 1510 2e60 1505 b801 2aa7\n    0000150: 001f 2ab6 016b 572c bb00 ee59 1511 1907\n    0000160: 1510 2e15 0c04 60b7 00f0 b600 f257 1511\n    0000170: 1907 1510 2e60 3611 8410 01a7 ffa1 1907\n    0000180: 03b8 012e a700 d815 0a15 0b60 1907 150f\n    0000190: 2e64 3610 150a 3611 0236 1215 1115 10a3\n    00001a0: 00bd 1904 1511 2e36 142d 1514 2e0b 0e7c\n    00001b0: 1100 ff7e 150d 8236 1215 1115 10a2 0041\n    00001c0: 1908 1512 5c2e 0464 5b4f 5936 1315 11a4\n    00001d0: 0028 1514 3615 1904 1513 2e36 1419 0415\n    00001e0: 1315 154f 2d15 142e 0b0e 7c11 00ff 7e15\n    00001f0: 0d82 3612 a7ff cc19 0415 1115 144f 150c\n    0000200: 06a2 0048 1907 1512 2e04 a400 3f19 0715\n    0000210: 122e 1104 00a2 0018 1904 2d15 1115 1119\n    0000220: 0715 122e 6015 05b8 012a a700 1f2a b601\n    0000230: 6b57 2cbb 00ee 5915 1119 0715 122e 150c\n    0000240: 0460 b700 f0b6 00f2 5715 1119 0715 122e\n    0000250: 6036 1119 0715 1203 4fa7 ff42 2ab6 016e\n    0000260: 57a7 fdad                              \n  Stackmap Table:\n    append_frame(@14,Object[#75],Object[#75])\n    append_frame(@24,Integer)\n    chop_frame(@43,1)\n    append_frame(@62,Object[#238])\n    append_frame(@96,Integer,Integer,Integer)\n    same_locals_1_stack_item_frame(@97,Integer)\n    append_frame(@117,Integer,Integer,Integer)\n    chop_frame(@154,1)\n    append_frame(@164,Integer,Integer,Integer)\n    same_frame(@184)\n    chop_frame(@206,2)\n    append_frame(@218,Integer)\n    chop_frame(@264,1)\n    append_frame(@284,Integer,Integer)\n    same_frame(@338)\n    same_frame(@366)\n    chop_frame(@382,2)\n    same_frame(@391)\n    append_frame(@411,Integer,Integer,Integer)\n    append_frame(@448,Top,Integer)\n    full_frame(@503,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer},{})\n    full_frame(@510,{Object[#246],Integer,Object[#235],Object[#75],Object[#75],Integer,Object[#75],Object[#75],Object[#75],Object[#238],Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Integer,Top,Integer},{})\n    same_frame(@557)\n    chop_frame(@585,2)\n    chop_frame(@604,3)\n\n    at it.unimi.dsi.fastutil.ints.IntArrayList.&lt;init&gt;(IntArrayList.java:86)\n    at com.intellij.util.graph.DFSTBuilder.&lt;init&gt;(DFSTBuilder.java:29)\n    at com.intellij.util.graph.DFSTBuilder.&lt;init&gt;(DFSTBuilder.java:46)\n    at com.intellij.util.graph.DFSTBuilder.&lt;init&gt;(DFSTBuilder.java:39)\n    at com.intellij.ide.plugins.PluginManagerCore.checkPluginCycles(PluginManagerCore.java:691)\n    at com.intellij.ide.plugins.PluginManagerCore.initializePlugins(PluginManagerCore.java:1058)\n    at com.intellij.ide.plugins.PluginManagerCore.loadAndInitializePlugins(PluginManagerCore.java:1358)\n    at com.intellij.ide.plugins.PluginManagerCore.lambda$initPlugins$15(PluginManagerCore.java:816)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\n    ... 9 more\n\n-----\nYour JRE: 11.0.10+0-b96-7249189 amd64 (Oracle Corporation)\nC:\\Program Files\\Android\\Android Studio\\jre\n</code></pre>\n<p>Not sure why this the application crashes. Please help me if there is any open issue with the current.\nAlso, any sort of resolution would help. Thanks!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7778850,"reputation":184,"user_id":5885968,"display_name":"M. Gianota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639493961,"creation_date":1639493961,"answer_id":70351024,"question_id":70350843,"body_markdown":"The exception is being thrown by the `Scanner` object&#39;s `next()` method because the input when you enter a string with spaces does not match the Scanner&#39;s default delimiter pattern used for scanning. When you enter a String with spaces, the Scanner sees a line of characters, not just one word of input. In other words, it it differentiates between a single word and a line of words separated by white spaces. \r\n\r\nThe `java.util.Scanner.nextLine()` method advances the scanner past the current line and returns the input that was skipped and is the method you should use to scan the game type. Modify your code to use `Scanner.nextLine()` for the game type and any other type that may have multiple words in it.","title":"Suspended uncaught exception Thread [main] (Suspended (uncaught exception InputMismatchException))","body":"<p>The exception is being thrown by the <code>Scanner</code> object's <code>next()</code> method because the input when you enter a string with spaces does not match the Scanner's default delimiter pattern used for scanning. When you enter a String with spaces, the Scanner sees a line of characters, not just one word of input. In other words, it it differentiates between a single word and a line of words separated by white spaces.</p>\n<p>The <code>java.util.Scanner.nextLine()</code> method advances the scanner past the current line and returns the input that was skipped and is the method you should use to scan the game type. Modify your code to use <code>Scanner.nextLine()</code> for the game type and any other type that may have multiple words in it.</p>\n"}],"owner":{"account_id":15667646,"reputation":29,"user_id":11305030,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70351024,"answer_count":1,"score":0,"last_activity_date":1639493961,"creation_date":1639493044,"question_id":70350843,"body_markdown":"I&#39;m just practicing java and at the moment I am currently experimenting with getter/setter methods and constructors. The java program works as I am able to store the user inputs into the object but when I input the String &quot;Dice and rollers&quot; into the gametype string variable, a Suspended uncaught exception InputMismatch error comes up.\r\n\r\nThis is the error I&#39;m getting whenever I input &quot;Dice and Rollers&quot;\r\n[![enter image description here][1]][1] \r\n\r\nHowever, if I use String variables that does not include spaces, it works fine.\r\n[![enter image description here][2]][2]\r\n\r\nCan someone please explain to me why this is?\r\n\r\nPs. I&#39;ve shared my source code below.\r\n``` \r\n    package test;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Test8a {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please enter the following information: Boardgame name, Alternative Name, Game Type, Year Released, Price and Maximum amount of Players&quot;);\r\n\t\tString name = in.next();\r\n\t\tString secondaryname = in.next();\r\n\t\tString type = in.next();\r\n\t\tint date = in.nextInt();\r\n\t\tdouble price = in.nextDouble();\r\n\t\tint player = in.nextInt();\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tnew Test8b(name, secondaryname, type, date, price, player);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe one above is the superclass while the source code below is the constructor and getter/setter java file.\r\n\r\n```\r\npackage test;\r\n\r\npublic class Test8b {\r\n\tprivate String boardname;\r\n\tprivate String secondaryname;\r\n\tprivate String gametype;\r\n\tprivate int date;\r\n\tprivate double price;\r\n\tprivate int numberofPlayers;\r\n\t\r\n\tpublic Test8b(String boardname, String secondaryname, String gametype, int date, double price, int players) {\r\n\t\tsetBoardname(boardname);\r\n\t\tsetSecondaryname(secondaryname);\r\n\t\tsetGametype(gametype);\r\n\t\tsetDate(date);\r\n\t\tsetPrice(price);\r\n\t\tsetNumberofPlayers(players);\r\n\t\t\r\n\t\tthis.printDetails();\r\n\t}\r\n\r\n\tpublic String getBoardname() {\r\n\t\treturn boardname;\r\n\t}\r\n\t\r\n\tpublic String getSecondaryname() {\r\n\t\treturn secondaryname;\r\n\t}\r\n\r\n\tpublic String getGametype() {\r\n\t\treturn gametype;\r\n\t}\r\n\r\n\tpublic int getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic double getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\t\r\n\tpublic int getNumberofPlayers() {\r\n\t\treturn numberofPlayers;\r\n\t}\r\n\r\n\tpublic void setBoardname(String boardname) {\r\n\t\tif (boardname.length() &gt;= 15) {\r\n\t\t\tSystem.out.println(&quot;There is no boardgame with this name length! Please enter a valid name!&quot;);\r\n\t\t} else this.boardname = boardname;\r\n\t}\r\n\t\r\n\tpublic void setSecondaryname (String secondaryname) {\r\n\t\tif (secondaryname.length() &gt;= 15) {\r\n\t\t\tSystem.out.println(&quot;There is no boardgame with this name length! Please enter a valid name!&quot;);\r\n\t\t} else this.secondaryname = secondaryname;\r\n\t}\r\n\r\n\tpublic void setGametype(String gametype) {\r\n\t\tthis.gametype = gametype;\r\n\t}\r\n\r\n\tpublic void setDate(int date) {\r\n\t\tif (date &gt; 2021) {\r\n\t\t\tSystem.out.println(&quot;This game haven&#39;t been invented yet or are you a time traveller?&quot;);\r\n\t\t} else this.date = date;\r\n\t}\r\n\r\n\tpublic void setPrice(double price) {\r\n\t\tif (price &lt;= 0) {\r\n\t\t\tSystem.out.println(&quot;Can&#39;t give away free games!&quot;);\r\n\t\t} else this.price = price;\r\n\t}\r\n\r\n\tpublic void setNumberofPlayers(int numberofPlayers) {\r\n\t\tif (numberofPlayers &lt;= 0) {\r\n\t\t\tSystem.out.println(&quot;Need someone to play the game!&quot;);\r\n\t\t} else this.numberofPlayers = numberofPlayers;\r\n\t}\r\n\t\r\n\tpublic void printDetails() {\r\n\t\tSystem.out.print(\r\n\t\t\t\t&quot;Board Game: &quot; + this.getBoardname() + &quot;\\n&quot; +\r\n\t\t\t\t&quot;Alternative Title: &quot; + this.getSecondaryname() + &quot;\\n&quot; +\r\n\t\t\t\t&quot;Game Type: &quot; + this.getGametype() + &quot;\\n&quot; +\r\n\t\t\t\t&quot;Year Released: &quot; + this.getDate() + &quot;\\n&quot; +\r\n\t\t\t\t&quot;Price: &quot; + this.getPrice() + &quot;\\n&quot; +\r\n\t\t\t\t&quot;Maximum # of Players: &quot; + this.getNumberofPlayers() + &quot;\\n&quot;\r\n\t\t\t\t);\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/rn6y3.png\r\n  [2]: https://i.stack.imgur.com/zamTU.png","title":"Suspended uncaught exception Thread [main] (Suspended (uncaught exception InputMismatchException))","body":"<p>I'm just practicing java and at the moment I am currently experimenting with getter/setter methods and constructors. The java program works as I am able to store the user inputs into the object but when I input the String &quot;Dice and rollers&quot; into the gametype string variable, a Suspended uncaught exception InputMismatch error comes up.</p>\n<p>This is the error I'm getting whenever I input &quot;Dice and Rollers&quot;\n<a href=\"https://i.stack.imgur.com/rn6y3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rn6y3.png\" alt=\"enter image description here\" /></a></p>\n<p>However, if I use String variables that does not include spaces, it works fine.\n<a href=\"https://i.stack.imgur.com/zamTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zamTU.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone please explain to me why this is?</p>\n<p>Ps. I've shared my source code below.</p>\n<pre><code>    package test;\n\nimport java.util.Scanner;\n\npublic class Test8a {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        \n        System.out.println(&quot;Please enter the following information: Boardgame name, Alternative Name, Game Type, Year Released, Price and Maximum amount of Players&quot;);\n        String name = in.next();\n        String secondaryname = in.next();\n        String type = in.next();\n        int date = in.nextInt();\n        double price = in.nextDouble();\n        int player = in.nextInt();\n        System.out.println();\n        \n        new Test8b(name, secondaryname, type, date, price, player);\n    }\n}\n\n</code></pre>\n<p>The one above is the superclass while the source code below is the constructor and getter/setter java file.</p>\n<pre><code>package test;\n\npublic class Test8b {\n    private String boardname;\n    private String secondaryname;\n    private String gametype;\n    private int date;\n    private double price;\n    private int numberofPlayers;\n    \n    public Test8b(String boardname, String secondaryname, String gametype, int date, double price, int players) {\n        setBoardname(boardname);\n        setSecondaryname(secondaryname);\n        setGametype(gametype);\n        setDate(date);\n        setPrice(price);\n        setNumberofPlayers(players);\n        \n        this.printDetails();\n    }\n\n    public String getBoardname() {\n        return boardname;\n    }\n    \n    public String getSecondaryname() {\n        return secondaryname;\n    }\n\n    public String getGametype() {\n        return gametype;\n    }\n\n    public int getDate() {\n        return date;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n    \n    public int getNumberofPlayers() {\n        return numberofPlayers;\n    }\n\n    public void setBoardname(String boardname) {\n        if (boardname.length() &gt;= 15) {\n            System.out.println(&quot;There is no boardgame with this name length! Please enter a valid name!&quot;);\n        } else this.boardname = boardname;\n    }\n    \n    public void setSecondaryname (String secondaryname) {\n        if (secondaryname.length() &gt;= 15) {\n            System.out.println(&quot;There is no boardgame with this name length! Please enter a valid name!&quot;);\n        } else this.secondaryname = secondaryname;\n    }\n\n    public void setGametype(String gametype) {\n        this.gametype = gametype;\n    }\n\n    public void setDate(int date) {\n        if (date &gt; 2021) {\n            System.out.println(&quot;This game haven't been invented yet or are you a time traveller?&quot;);\n        } else this.date = date;\n    }\n\n    public void setPrice(double price) {\n        if (price &lt;= 0) {\n            System.out.println(&quot;Can't give away free games!&quot;);\n        } else this.price = price;\n    }\n\n    public void setNumberofPlayers(int numberofPlayers) {\n        if (numberofPlayers &lt;= 0) {\n            System.out.println(&quot;Need someone to play the game!&quot;);\n        } else this.numberofPlayers = numberofPlayers;\n    }\n    \n    public void printDetails() {\n        System.out.print(\n                &quot;Board Game: &quot; + this.getBoardname() + &quot;\\n&quot; +\n                &quot;Alternative Title: &quot; + this.getSecondaryname() + &quot;\\n&quot; +\n                &quot;Game Type: &quot; + this.getGametype() + &quot;\\n&quot; +\n                &quot;Year Released: &quot; + this.getDate() + &quot;\\n&quot; +\n                &quot;Price: &quot; + this.getPrice() + &quot;\\n&quot; +\n                &quot;Maximum # of Players: &quot; + this.getNumberofPlayers() + &quot;\\n&quot;\n                );\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","spring","sap-commerce-cloud"],"answers":[{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639490952,"creation_date":1639490952,"answer_id":70350284,"question_id":70341927,"body_markdown":"based on Exception it&#39;s clear you are referring wrong attribute of product is &quot;inStockStatus&quot;.\r\nplease replace with {s.inStockStatus} instead of {p.inStockStatus}","title":"How resolve &quot;unknown field &#39;TableField&#39;","body":"<p>based on Exception it's clear you are referring wrong attribute of product is &quot;inStockStatus&quot;.\nplease replace with {s.inStockStatus} instead of {p.inStockStatus}</p>\n"}],"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70350284,"answer_count":1,"score":0,"last_activity_date":1639493951,"creation_date":1639436557,"question_id":70341927,"body_markdown":"Hi guys I have a problem with SPEL - Flexible Search, this is my error log when into my entity I click on button search:\r\n\r\n    ERROR [hybrisHTTP6] [PagingDelegateController] cannot search unknown field &#39;TableField(name=&#39;inStockStatus&#39;,langPK=&#39;null&#39;,type=Product)&#39; within type Product unless you disable checking \r\n\r\nand this is the query that I must create :\r\n\r\n    select {p.code},{p.description},{bs.uid}, (CASE WHEN ({p.onlineDate} is not null AND {p.onlineDate} &gt; current_timestamp ) THEN 1 else 0 END)\r\n    from {Product as p join StockLevel as s on {s.productCode} = {p.code} join BaseStore2WarehouseRel as b on {b.target} = {s.warehouse} join BaseStore as bs on {bs.pk} = {b.source}}\r\n    where {bs.uid} in (&#39;baseStorePk&#39;)\r\n\r\n    and {p.code} = &#39;?productCode&#39;\r\n    and {p.description} = &#39;?description&#39;\r\n    and {p.descriptionCics} = &#39;?descriptionCics&#39;\r\n    and {p.onlinedate} &lt;= &#39;?onlineDateFrom&#39;\r\n    and {p.onlinedate} &gt;= &#39;?onlineDateTo&#39;\r\n    and {s.inStockStatus} = &#39;?inStockStatus&#39;\r\n    and {p.doneBy} = &#39;?doneBy&#39;\r\n    and {s.outOfStockCause} = &#39;?oosCause&#39;\r\n    and {p.department} = &#39;?department&#39;\r\n    and {p.grm} = &#39;?grm&#39;\r\n\r\nand in the image the report that I have create into myExtension-items-core.xml\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  \r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rB8M8.png","title":"How resolve &quot;unknown field &#39;TableField&#39;","body":"<p>Hi guys I have a problem with SPEL - Flexible Search, this is my error log when into my entity I click on button search:</p>\n<pre><code>ERROR [hybrisHTTP6] [PagingDelegateController] cannot search unknown field 'TableField(name='inStockStatus',langPK='null',type=Product)' within type Product unless you disable checking \n</code></pre>\n<p>and this is the query that I must create :</p>\n<pre><code>select {p.code},{p.description},{bs.uid}, (CASE WHEN ({p.onlineDate} is not null AND {p.onlineDate} &gt; current_timestamp ) THEN 1 else 0 END)\nfrom {Product as p join StockLevel as s on {s.productCode} = {p.code} join BaseStore2WarehouseRel as b on {b.target} = {s.warehouse} join BaseStore as bs on {bs.pk} = {b.source}}\nwhere {bs.uid} in ('baseStorePk')\n\nand {p.code} = '?productCode'\nand {p.description} = '?description'\nand {p.descriptionCics} = '?descriptionCics'\nand {p.onlinedate} &lt;= '?onlineDateFrom'\nand {p.onlinedate} &gt;= '?onlineDateTo'\nand {s.inStockStatus} = '?inStockStatus'\nand {p.doneBy} = '?doneBy'\nand {s.outOfStockCause} = '?oosCause'\nand {p.department} = '?department'\nand {p.grm} = '?grm'\n</code></pre>\n<p>and in the image the report that I have create into myExtension-items-core.xml\n<a href=\"https://i.stack.imgur.com/rB8M8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rB8M8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","database","controller","modelmapper"],"comments":[{"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"score":0,"creation_date":1638894158,"post_id":70263527,"comment_id":124206425,"body_markdown":"Try using Optional.of() instead of Optional.ofNullable()\n\nhttps://stackoverflow.com/questions/31696485/why-use-optional-of-over-optional-ofnullable","body":"Try using Optional.of() instead of Optional.ofNullable()  <a href=\"https://stackoverflow.com/questions/31696485/why-use-optional-of-over-optional-ofnullable\" title=\"why use optional of over optional ofnullable\">stackoverflow.com/questions/31696485/&hellip;</a>"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1638905031,"post_id":70263527,"comment_id":124210636,"body_markdown":"How about `User user = userService.save(userUntilSave).orElseThrow(SomeException::new);`? No point to  map `Optional`.","body":"How about <code>User user = userService.save(userUntilSave).orElseThrow(SomeException::n&zwnj;&#8203;ew);</code>? No point to  map <code>Optional</code>."}],"answers":[{"tags":[],"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638894469,"creation_date":1638894469,"answer_id":70263671,"question_id":70263527,"body_markdown":"ModelMapper doesn&#39;t directly work on optionals, You need to set converters. Take a look at \r\n\r\nhttps://stackoverflow.com/questions/28603853/modelmapper-handling-java-8-optionalmyobjectdto-fields-to-optionalmyobject","title":"Spring DTO made by modelmapper returns everything null","body":"<p>ModelMapper doesn't directly work on optionals, You need to set converters. Take a look at</p>\n<p><a href=\"https://stackoverflow.com/questions/28603853/modelmapper-handling-java-8-optionalmyobjectdto-fields-to-optionalmyobject\">ModelMapper handling java 8 Optional&lt;MyObjectDto&gt; fields to Optional&lt;MyObject&gt;</a></p>\n"}],"owner":{"account_id":23560994,"reputation":27,"user_id":17602358,"display_name":"freedman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639493942,"creation_date":1638893874,"question_id":70263527,"body_markdown":"When i changed return value from User to Optional&lt;User&gt;  my UserResponseDTO returns null, it works properly when i change Optional&lt;User&gt; to User, how to fix it?Database saves all the values i enter in postman\r\n\r\nUSER dao save method\r\n\r\n     public Optional&lt;User&gt; saveUser(User user) {\r\n        jdbcTemplate.update(&quot;INSERT INTO usr(username,password,email,country,gender) VALUES( ?, ?, ?, ?, ?)&quot;, user.getUsername(), user.getPassword()\r\n                ,user.getEmail(),user.getCountry(),user.getGender().getId());\r\n        return Optional.ofNullable(user);\r\n    }\r\nUSER service save method\r\n\r\n    public Optional&lt;User&gt; save(User user) {\r\n        if(validate(user.getEmail())){\r\n            user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n            user.setRole(Role.USER);\r\n            user.setStatus(Status.ACTIVE);\r\n            Optional&lt;User&gt; userSaved = userDao.saveUser(user);\r\n            return userSaved;\r\n        }\r\n        log.warn(&quot;U entered the wrong email&quot;);\r\n        return Optional.ofNullable(user);\r\n    }\r\nUser controller save method\r\n\r\n    @ApiOperation(value = &quot;getting the user data from request body and saving it to database&quot;)\r\n    @PostMapping(value = &quot;&quot;)\r\n    public ResponseEntity&lt;UserResponse&gt; saveUser(@RequestBody UserRequest userRequest) {\r\n        User userUntilSave = modelMapper.map(userRequest, User.class);\r\n        Optional&lt;User&gt; user = userService.save(userUntilSave);\r\n        UserResponse userResponse = modelMapper.map(user, UserResponse.class);\r\n        return new ResponseEntity&lt;&gt;(userResponse, HttpStatus.CREATED);\r\n    }\r\n\r\nPostman Screen \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TTVj2.png","title":"Spring DTO made by modelmapper returns everything null","body":"<p>When i changed return value from User to Optional  my UserResponseDTO returns null, it works properly when i change Optional to User, how to fix it?Database saves all the values i enter in postman</p>\n<p>USER dao save method</p>\n<pre><code> public Optional&lt;User&gt; saveUser(User user) {\n    jdbcTemplate.update(&quot;INSERT INTO usr(username,password,email,country,gender) VALUES( ?, ?, ?, ?, ?)&quot;, user.getUsername(), user.getPassword()\n            ,user.getEmail(),user.getCountry(),user.getGender().getId());\n    return Optional.ofNullable(user);\n}\n</code></pre>\n<p>USER service save method</p>\n<pre><code>public Optional&lt;User&gt; save(User user) {\n    if(validate(user.getEmail())){\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        user.setRole(Role.USER);\n        user.setStatus(Status.ACTIVE);\n        Optional&lt;User&gt; userSaved = userDao.saveUser(user);\n        return userSaved;\n    }\n    log.warn(&quot;U entered the wrong email&quot;);\n    return Optional.ofNullable(user);\n}\n</code></pre>\n<p>User controller save method</p>\n<pre><code>@ApiOperation(value = &quot;getting the user data from request body and saving it to database&quot;)\n@PostMapping(value = &quot;&quot;)\npublic ResponseEntity&lt;UserResponse&gt; saveUser(@RequestBody UserRequest userRequest) {\n    User userUntilSave = modelMapper.map(userRequest, User.class);\n    Optional&lt;User&gt; user = userService.save(userUntilSave);\n    UserResponse userResponse = modelMapper.map(user, UserResponse.class);\n    return new ResponseEntity&lt;&gt;(userResponse, HttpStatus.CREATED);\n}\n</code></pre>\n<p>Postman Screen\n<a href=\"https://i.stack.imgur.com/TTVj2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","soap","jaxb","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639483027,"creation_date":1639423894,"answer_id":70339979,"question_id":70333885,"body_markdown":"The string `mypackage.ObjectiveObj@5eba0500` in your XML output\r\nis not the memory contents of your object, but it is the \r\noutput of its `toString` method.\r\nYou got this because in your `ObjectiveObj` class\r\nyou didn&#39;t implement a `toString()` method of your own,\r\nand therefore you got the `toString()` inherited from\r\nthe `java.lang.Object` class\r\n\r\nQuoted from [its API doc:][1]\r\n\r\n&gt; `public String toString()`\r\n&gt;\r\n&gt; Returns a string representation of the object. In general, the `toString`\r\n  method returns a string that &quot;textually represents&quot; this object.\r\n  The result should be a concise but informative representation that is easy\r\n  for a person to read. It is recommended that all subclasses override this method.\r\n&gt;\r\n&gt; The `toString` method for class `Object` returns a string consisting of the name\r\n  of the class of which the object is an instance, the at-sign character `@&#39;,\r\n  and the unsigned hexadecimal representation of the hash code of the object.\r\n  In other words, this method returns a string equal to the value of:\r\n&gt;\r\n&gt;      getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())\r\n\r\nTo fix this you can override this method with your own implementation\r\n\r\n    @Override\r\n    public String toString() {\r\n        return ....;\r\n    }\r\n\r\n#### Edit:\r\n\r\nMay be you already have an `XmlAdapter&lt;String, ObjectiveObj&gt;` in place,\r\nwhich in its `marshal` method uses the `toString` method of `ObjectiveObj`.\r\nIf you don&#39;t have an adapter for `ObjectiveObj` yet, then you should\r\ncreate one, implement its `marshal` and `unmarshal` methods, and activate\r\nit for `ObjectiveObj` by using the `@XmlTypeAdapter` annotation.\r\n\r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\r\n ","title":"spring-ws not serialize object correctly","body":"<p>The string <code>mypackage.ObjectiveObj@5eba0500</code> in your XML output\nis not the memory contents of your object, but it is the\noutput of its <code>toString</code> method.\nYou got this because in your <code>ObjectiveObj</code> class\nyou didn't implement a <code>toString()</code> method of your own,\nand therefore you got the <code>toString()</code> inherited from\nthe <code>java.lang.Object</code> class</p>\n<p>Quoted from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\">its API doc:</a></p>\n<blockquote>\n<p><code>public String toString()</code></p>\n<p>Returns a string representation of the object. In general, the <code>toString</code>\nmethod returns a string that &quot;textually represents&quot; this object.\nThe result should be a concise but informative representation that is easy\nfor a person to read. It is recommended that all subclasses override this method.</p>\n<p>The <code>toString</code> method for class <code>Object</code> returns a string consisting of the name\nof the class of which the object is an instance, the at-sign character `@',\nand the unsigned hexadecimal representation of the hash code of the object.\nIn other words, this method returns a string equal to the value of:</p>\n<pre><code> getClass().getName() + '@' + Integer.toHexString(hashCode())\n</code></pre>\n</blockquote>\n<p>To fix this you can override this method with your own implementation</p>\n<pre><code>@Override\npublic String toString() {\n    return ....;\n}\n</code></pre>\n<h4>Edit:</h4>\n<p>May be you already have an <code>XmlAdapter&lt;String, ObjectiveObj&gt;</code> in place,\nwhich in its <code>marshal</code> method uses the <code>toString</code> method of <code>ObjectiveObj</code>.\nIf you don't have an adapter for <code>ObjectiveObj</code> yet, then you should\ncreate one, implement its <code>marshal</code> and <code>unmarshal</code> methods, and activate\nit for <code>ObjectiveObj</code> by using the <code>@XmlTypeAdapter</code> annotation.</p>\n"}],"owner":{"account_id":4398661,"reputation":602,"user_id":3584984,"accept_rate":73,"display_name":"DanutClapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639493696,"creation_date":1639394815,"question_id":70333885,"body_markdown":"I have a problem with serialization of an object into XML and I don&#39;t know where is the problem. The serialization of the object in XML looks like the memory of the object serialized. All other object that I serialize are correclty serialized.\r\n\r\nOn the spring integration tests, the object is serialised correctly. Only when I deploy the app on the weblogic server, it is not serialised corectly. In the weblogic 12 I did not put any special libraries.\r\n\r\nAny idea?\r\n\r\nLike this the object serialized looks like:\r\n\r\n     &lt;ns1:Objectives&gt;mypackage.ObjectiveObj@5eba0500&lt;/ns1:Objectives&gt;\r\n\r\nThe class that needs to be serialised looks like this:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n    name = &quot;ObjectiveObj&quot;,\r\n    propOrder = {&quot;objective&quot;}\r\n    )\r\n    public class ObjectiveObj {\r\n    @XmlElement(\r\n        name = &quot;Objective&quot;\r\n    )\r\n    protected List&lt;Objective&gt; objective;\r\n\r\n    public ObjectiveListType() {\r\n    }\r\n\r\n    public List&lt;Objective&gt; getObjective() {\r\n        if (this.objective == null) {\r\n            this.objective = new ArrayList();\r\n        }\r\n\r\n        return this.objective;\r\n    }\r\n}\r\n\r\nEdit:\r\njust need to clarify things a bit.\r\nThe class is genrated form xsd file using jaxB\r\nspring-ws use that class to marshal it when sending the Soap response.\r\nI dotn know if this is helpful.\r\n","title":"spring-ws not serialize object correctly","body":"<p>I have a problem with serialization of an object into XML and I don't know where is the problem. The serialization of the object in XML looks like the memory of the object serialized. All other object that I serialize are correclty serialized.</p>\n<p>On the spring integration tests, the object is serialised correctly. Only when I deploy the app on the weblogic server, it is not serialised corectly. In the weblogic 12 I did not put any special libraries.</p>\n<p>Any idea?</p>\n<p>Like this the object serialized looks like:</p>\n<pre><code> &lt;ns1:Objectives&gt;mypackage.ObjectiveObj@5eba0500&lt;/ns1:Objectives&gt;\n</code></pre>\n<p>The class that needs to be serialised looks like this:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\nname = &quot;ObjectiveObj&quot;,\npropOrder = {&quot;objective&quot;}\n)\npublic class ObjectiveObj {\n@XmlElement(\n    name = &quot;Objective&quot;\n)\nprotected List&lt;Objective&gt; objective;\n\npublic ObjectiveListType() {\n}\n\npublic List&lt;Objective&gt; getObjective() {\n    if (this.objective == null) {\n        this.objective = new ArrayList();\n    }\n\n    return this.objective;\n}\n</code></pre>\n<p>}</p>\n<p>Edit:\njust need to clarify things a bit.\nThe class is genrated form xsd file using jaxB\nspring-ws use that class to marshal it when sending the Soap response.\nI dotn know if this is helpful.</p>\n"},{"tags":["java","jasper-reports","java-11"],"comments":[{"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"score":1,"creation_date":1636706718,"post_id":69929978,"comment_id":123633110,"body_markdown":"What jdt/ecj version do you have?","body":"What jdt/ecj version do you have?"},{"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"score":0,"creation_date":1636956898,"post_id":69929978,"comment_id":123686791,"body_markdown":"There is no jar like this in the classpath. Checked the ClassFormatException class and it&#39;s in core-3.2.3.v_686_R32x.jar.","body":"There is no jar like this in the classpath. Checked the ClassFormatException class and it&#39;s in core-3.2.3.v_686_R32x.jar."}],"answers":[{"tags":[],"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636728634,"creation_date":1636728634,"answer_id":69944773,"question_id":69929978,"body_markdown":"org.tolven.library.jboss-rules.core-3.2.3.v_686_R32x.jar, assuming that it&#39;s the same file as [the one here][1], seems to be a very old ([released in 2007][2]) JDT compiler implementation that&#39;s not able to read classes compiled for Java 11.\r\n\r\nFor Java 11 you&#39;ll need a more recent JDT version, for instance [4.4.2][3].  But then there&#39;s a risk that the code that depends on the 3.2.3 JDT implementation no longer works with the more recent JDT version, in which case I don&#39;t know what you can do.\r\n\r\nYou might also need to upgrade the JasperReports version, according to [the change log][4] support for Java 11 has been introduced in 6.8.0.\r\n\r\n  [1]: https://github.com/dubrsl/tolven/tree/master/org.tolven.library.jboss-rules/jars\r\n  [2]: https://mvnrepository.com/artifact/org.eclipse.jdt/core/3.2.3.v_686_R32x\r\n  [3]: https://mvnrepository.com/artifact/org.eclipse.jdt.core.compiler/ecj/4.4.2\r\n  [4]: https://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/changes.txt#L205","title":"Java 11 Jasper report compilation error: org.eclipse.jdt.internal.compiler.classfmt.ClassFormatException","body":"<p>org.tolven.library.jboss-rules.core-3.2.3.v_686_R32x.jar, assuming that it's the same file as <a href=\"https://github.com/dubrsl/tolven/tree/master/org.tolven.library.jboss-rules/jars\" rel=\"nofollow noreferrer\">the one here</a>, seems to be a very old (<a href=\"https://mvnrepository.com/artifact/org.eclipse.jdt/core/3.2.3.v_686_R32x\" rel=\"nofollow noreferrer\">released in 2007</a>) JDT compiler implementation that's not able to read classes compiled for Java 11.</p>\n<p>For Java 11 you'll need a more recent JDT version, for instance <a href=\"https://mvnrepository.com/artifact/org.eclipse.jdt.core.compiler/ecj/4.4.2\" rel=\"nofollow noreferrer\">4.4.2</a>.  But then there's a risk that the code that depends on the 3.2.3 JDT implementation no longer works with the more recent JDT version, in which case I don't know what you can do.</p>\n<p>You might also need to upgrade the JasperReports version, according to <a href=\"https://github.com/TIBCOSoftware/jasperreports/blob/master/jasperreports/changes.txt#L205\" rel=\"nofollow noreferrer\">the change log</a> support for Java 11 has been introduced in 6.8.0.</p>\n"}],"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2369,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69944773,"answer_count":1,"score":-1,"last_activity_date":1639493444,"creation_date":1636640859,"question_id":69929978,"body_markdown":"Getting following error when jasper report compile in Java 11:\r\n\r\n&gt; ERROR [net.sf.jasperreports.engine.design.JRJdtCompiler] (default\r\n&gt; task-94) Compilation error:\r\n&gt; org.eclipse.jdt.internal.compiler.classfmt.ClassFormatException\r\n&gt; [Server:app-node-00] \tat\r\n&gt; deployment.app.ear//org.eclipse.jdt.internal.compiler.classfmt.ClassFileReader.&lt;init&gt;(ClassFileReader.java:329)\r\n&gt; [Server:app-node-00] \tat\r\n&gt; deployment.app.ear//net.sf.jasperreports.engine.design.JRJdtCompiler$1.findType(JRJdtCompiler.java:251)\r\n&gt; [Server:app-node-00] \tat\r\n&gt; deployment.app.ear//net.sf.jasperreports.engine.design.JRJdtCompiler$1.findType(JRJdtCompiler.java:187)\r\n&gt; [Server:app-node-00] \tat\r\n&gt; deployment.app.ear//org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:97)\r\n\r\nWe are using jasperreports-javaflow-6.5.1.jar.\r\n","title":"Java 11 Jasper report compilation error: org.eclipse.jdt.internal.compiler.classfmt.ClassFormatException","body":"<p>Getting following error when jasper report compile in Java 11:</p>\n<blockquote>\n<p>ERROR [net.sf.jasperreports.engine.design.JRJdtCompiler] (default\ntask-94) Compilation error:\norg.eclipse.jdt.internal.compiler.classfmt.ClassFormatException\n[Server:app-node-00]  at\ndeployment.app.ear//org.eclipse.jdt.internal.compiler.classfmt.ClassFileReader.(ClassFileReader.java:329)\n[Server:app-node-00]  at\ndeployment.app.ear//net.sf.jasperreports.engine.design.JRJdtCompiler$1.findType(JRJdtCompiler.java:251)\n[Server:app-node-00]  at\ndeployment.app.ear//net.sf.jasperreports.engine.design.JRJdtCompiler$1.findType(JRJdtCompiler.java:187)\n[Server:app-node-00]  at\ndeployment.app.ear//org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:97)</p>\n</blockquote>\n<p>We are using jasperreports-javaflow-6.5.1.jar.</p>\n"},{"tags":["java","audio"],"answers":[{"tags":[],"owner":{"account_id":4765297,"reputation":1063,"user_id":3851538,"accept_rate":67,"display_name":"KingFeming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409910664,"creation_date":1409910664,"answer_id":25683101,"question_id":25682568,"body_markdown":"You can use this method to play a audio clip using java application\r\n\r\n    public static synchronized void playSound(final String url) {\r\n        \r\n        new Thread(new Runnable() {\r\n        // The wrapper thread is unnecessary, unless it blocks on the\r\n        // Clip finishing; see comments.\r\n             \r\n               public void run() {\r\n                  try {\r\n                      Clip clip = AudioSystem.getClip();\r\n                      AudioInputStream inputStream = AudioSystem.getAudioInputStream(\r\n                      Main.class.getResourceAsStream(&quot;/path/to/sounds/&quot; + url));\r\n                      clip.open(inputStream);\r\n                      clip.start(); \r\n                      } catch (Exception e) {\r\n                      System.err.println(e.getMessage());\r\n                      }\r\n              }\r\n        }).start();\r\n    }\r\n\r\n\r\n\r\nHere&#39;s another tutorial on java how to add audio clips. You can check this too [Tutorial in playing sounds in Java][1]\r\n\r\n\r\n  [1]: http://www.dreamincode.net/forums/topic/14083-incredibly-easy-way-to-play-sounds/","title":"What is the easiest way to load and play sounds in a java application?","body":"<p>You can use this method to play a audio clip using java application</p>\n\n<pre><code>public static synchronized void playSound(final String url) {\n\n    new Thread(new Runnable() {\n    // The wrapper thread is unnecessary, unless it blocks on the\n    // Clip finishing; see comments.\n\n           public void run() {\n              try {\n                  Clip clip = AudioSystem.getClip();\n                  AudioInputStream inputStream = AudioSystem.getAudioInputStream(\n                  Main.class.getResourceAsStream(\"/path/to/sounds/\" + url));\n                  clip.open(inputStream);\n                  clip.start(); \n                  } catch (Exception e) {\n                  System.err.println(e.getMessage());\n                  }\n          }\n    }).start();\n}\n</code></pre>\n\n<p>Here's another tutorial on java how to add audio clips. You can check this too <a href=\"http://www.dreamincode.net/forums/topic/14083-incredibly-easy-way-to-play-sounds/\" rel=\"nofollow\">Tutorial in playing sounds in Java</a></p>\n"},{"tags":[],"owner":{"account_id":18418347,"reputation":67,"user_id":13416645,"display_name":"WetzelSchultz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639493283,"creation_date":1639492975,"answer_id":70350827,"question_id":25682568,"body_markdown":"You will need to import the following:\r\n\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n\r\nI created a method for playing the audio clip, as shown below:\r\n\r\n    public static void myMusic() throws FileNotFoundException {\r\n        try {\r\n            File wavFile = new File(/*file path*/);\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(AudioSystem.getAudioInputStream(wavFile));\r\n            clip.start();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\nLet&#39;s say for example, if your audio clip&#39;s file name is **music.wav**, your file path may be:\r\n\r\n    File wavFile = new File(&quot;music.wav&quot;);\r\n\r\nFinally, to play the audio clip, you will need to call the method.","title":"What is the easiest way to load and play sounds in a java application?","body":"<p>You will need to import the following:</p>\n<pre><code>import javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport java.io.File;\nimport java.io.FileNotFoundException;\n</code></pre>\n<p>I created a method for playing the audio clip, as shown below:</p>\n<pre><code>public static void myMusic() throws FileNotFoundException {\n    try {\n        File wavFile = new File(/*file path*/);\n        Clip clip = AudioSystem.getClip();\n        clip.open(AudioSystem.getAudioInputStream(wavFile));\n        clip.start();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n<p>Let's say for example, if your audio clip's file name is <strong>music.wav</strong>, your file path may be:</p>\n<pre><code>File wavFile = new File(&quot;music.wav&quot;);\n</code></pre>\n<p>Finally, to play the audio clip, you will need to call the method.</p>\n"}],"owner":{"account_id":4988119,"reputation":26,"user_id":4011133,"display_name":"Alfred Brewer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1639493283,"creation_date":1409908887,"question_id":25682568,"body_markdown":"I&#39;m relatively new to java (I took a 1 semester online class, so I know the basic structure of the language but my knowledge has lots of gaps). I&#39;m trying to write a simple ear training application for a class in microtonal music I&#39;m taking, and I obviously need to be able to play sound with this application. Looking on the web, a lot of the info I&#39;ve found is out of date and I&#39;m having trouble figuring out the APIs for Clip, Dataline, etc. (again, I&#39;m new!) Is there a simple way to load sounds onto some kind of object (like an AudioClip maybe?) so they can be played back when necessary? If it&#39;s more complicated than that, I would appreciate being directed to resources that would help me figure how this process works.","title":"What is the easiest way to load and play sounds in a java application?","body":"<p>I'm relatively new to java (I took a 1 semester online class, so I know the basic structure of the language but my knowledge has lots of gaps). I'm trying to write a simple ear training application for a class in microtonal music I'm taking, and I obviously need to be able to play sound with this application. Looking on the web, a lot of the info I've found is out of date and I'm having trouble figuring out the APIs for Clip, Dataline, etc. (again, I'm new!) Is there a simple way to load sounds onto some kind of object (like an AudioClip maybe?) so they can be played back when necessary? If it's more complicated than that, I would appreciate being directed to resources that would help me figure how this process works.</p>\n"},{"tags":["java","selenium","testng"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1639493885,"post_id":70350878,"comment_id":124359211,"body_markdown":"1) What have YOU tried so far? 2) Start accepting given you excellent answers. This may increase your chances getting answers","body":"1) What have YOU tried so far? 2) Start accepting given you excellent answers. This may increase your chances getting answers"},{"owner":{"account_id":9003457,"reputation":19,"user_id":6711155,"display_name":"MashaEdu Abdiyev"},"score":0,"creation_date":1639498312,"post_id":70350878,"comment_id":124361178,"body_markdown":"i have got  WebElements of all Texts. I tried to use  List but each WebElemnt has a specific location. so it&#39;s hard to get them and verify them in sequence order.","body":"i have got  WebElements of all Texts. I tried to use  List but each WebElemnt has a specific location. so it&#39;s hard to get them and verify them in sequence order."}],"owner":{"account_id":9003457,"reputation":19,"user_id":6711155,"display_name":"MashaEdu Abdiyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639493210,"creation_date":1639493210,"question_id":70350878,"body_markdown":"there are three lines of text on the web page. I need to verify each line of text and I  have to verify that the first line of text is first on-page  there is no text before it and the second line is located in the second line and so on, Selenium WebDriver\r\nany solution for this ","title":"how can i verify texts on page in sequence order in Selenium","body":"<p>there are three lines of text on the web page. I need to verify each line of text and I  have to verify that the first line of text is first on-page  there is no text before it and the second line is located in the second line and so on, Selenium WebDriver\nany solution for this</p>\n"},{"tags":["java","md5"],"comments":[{"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"score":0,"creation_date":1330428433,"post_id":9480977,"comment_id":11999142,"body_markdown":"@Vache - this is Java, not C#.","body":"@Vache - this is Java, not C#."},{"owner":{"account_id":200586,"reputation":23868,"user_id":446515,"accept_rate":64,"display_name":"dee-see"},"score":0,"creation_date":1330428483,"post_id":9480977,"comment_id":11999162,"body_markdown":"Wow sorry, I shouldn&#39;t vote to close when I just woke up.","body":"Wow sorry, I shouldn&#39;t vote to close when I just woke up."}],"answers":[{"tags":[],"owner":{"account_id":1240431,"reputation":4072,"user_id":1205715,"display_name":"jbowes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330428442,"creation_date":1330428442,"answer_id":9481044,"question_id":9480977,"body_markdown":"`new BigInteger(sigBytes)` is interpreting your signature as a signed integer, so yes, it would be possible to get a negative number. If you want Your string to contain the hex representation of your md5 value, have a look at some of the answers here: https://stackoverflow.com/questions/415953/generate-md5-hash-in-java","title":"getting a negative value on md5","body":"<p><code>new BigInteger(sigBytes)</code> is interpreting your signature as a signed integer, so yes, it would be possible to get a negative number. If you want Your string to contain the hex representation of your md5 value, have a look at some of the answers here: <a href=\"https://stackoverflow.com/questions/415953/generate-md5-hash-in-java\">How can I generate an MD5 hash?</a></p>\n"},{"tags":[],"owner":{"account_id":1284218,"reputation":338,"user_id":1237636,"display_name":"Břetislav Wajtr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330428929,"creation_date":1330428929,"answer_id":9481144,"question_id":9480977,"body_markdown":"I use following method to get right MD5 hash String (and it never gave me &quot;negative&quot; value):\r\n\r\n    public static String createMD5Hash(String input) {\r\n        try {\r\n            MessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            byte[] out = m.digest(input.getBytes());\r\n            return new String(Base64.encodeBase64(out));\r\n        } catch (NoSuchAlgorithmException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nNote that Base64 is class from apache commons:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n","title":"getting a negative value on md5","body":"<p>I use following method to get right MD5 hash String (and it never gave me \"negative\" value):</p>\n\n<pre><code>public static String createMD5Hash(String input) {\n    try {\n        MessageDigest m = MessageDigest.getInstance(\"MD5\");\n        byte[] out = m.digest(input.getBytes());\n        return new String(Base64.encodeBase64(out));\n    } catch (NoSuchAlgorithmException e) {\n        return null;\n    }\n}\n</code></pre>\n\n<p>Note that Base64 is class from apache commons:</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369418526,"creation_date":1369418526,"answer_id":16741010,"question_id":9480977,"body_markdown":"As [jbowes](https://stackoverflow.com/a/9481044/14731) alluded to, `new BigInteger(sigBytes)` is interpreting the signature as a signed integer (meaning the first bit denotes whether the number is positive or negative). If you want it to interpret the bytes as an unsigned number, you should use `new BigInteger(1, sigBytes)` instead.","title":"getting a negative value on md5","body":"<p>As <a href=\"https://stackoverflow.com/a/9481044/14731\">jbowes</a> alluded to, <code>new BigInteger(sigBytes)</code> is interpreting the signature as a signed integer (meaning the first bit denotes whether the number is positive or negative). If you want it to interpret the bytes as an unsigned number, you should use <code>new BigInteger(1, sigBytes)</code> instead.</p>\n"}],"owner":{"account_id":143951,"reputation":1396,"user_id":352660,"accept_rate":33,"display_name":"Ari M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1639493177,"creation_date":1330428131,"question_id":9480977,"body_markdown":"Im trying to get an MD5 with java and I receive a negative value.\r\nCan an MD5 result in a negative value?\r\n\r\nThis is my code:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n\t\t\tMessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n\t\t\tbyte[] sigBytes = md5.digest((sharedSecret+&quot;api_key&quot;+API_KEY).getBytes());\r\n\t\t\tapi_sig = new BigInteger(sigBytes).toString(16);\r\n\r\nThank You.","title":"getting a negative value on md5","body":"<p>Im trying to get an MD5 with java and I receive a negative value.\nCan an MD5 result in a negative value?</p>\n\n<p>This is my code:\n</p>\n\n<pre><code>        MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n        byte[] sigBytes = md5.digest((sharedSecret+\"api_key\"+API_KEY).getBytes());\n        api_sig = new BigInteger(sigBytes).toString(16);\n</code></pre>\n\n<p>Thank You.</p>\n"},{"tags":["java","google-chrome","google-chrome-extension"],"comments":[{"owner":{"account_id":4915933,"reputation":67612,"user_id":3959875,"display_name":"wOxxOm"},"score":1,"creation_date":1470028919,"post_id":38690817,"comment_id":64761918,"body_markdown":"Possible duplicate of [Google Chrome Extension Installation using Registry Entries?](http://stackoverflow.com/questions/33699134/google-chrome-extension-installation-using-registry-entries)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/33699134/google-chrome-extension-installation-using-registry-entries\">Google Chrome Extension Installation using Registry Entries?</a>"},{"owner":{"account_id":8928049,"reputation":23,"user_id":6661595,"display_name":"Eliza Amy"},"score":0,"creation_date":1470043454,"post_id":38690817,"comment_id":64769087,"body_markdown":"on this question they said you can only provide the chrome web store url of that extension. so user download and install it but IDM is not doing like this it has already **.crx** file in local machine and it install automatically","body":"on this question they said you can only provide the chrome web store url of that extension. so user download and install it but IDM is not doing like this it has already <b>.crx</b> file in local machine and it install automatically"},{"owner":{"account_id":4915933,"reputation":67612,"user_id":3959875,"display_name":"wOxxOm"},"score":0,"creation_date":1470043660,"post_id":38690817,"comment_id":64769208,"body_markdown":"Modern Chrome doesn&#39;t use this crx.","body":"Modern Chrome doesn&#39;t use this crx."},{"owner":{"account_id":8928049,"reputation":23,"user_id":6661595,"display_name":"Eliza Amy"},"score":0,"creation_date":1470060582,"post_id":38690817,"comment_id":64779780,"body_markdown":"But just a few hour ago I install IDM and it automatically install chrome extension. Only option appear when I run chrome is &quot;enable or disable this extension&quot;. If you see the `chrome://extension` it show this extension is install by third party.","body":"But just a few hour ago I install IDM and it automatically install chrome extension. Only option appear when I run chrome is &quot;enable or disable this extension&quot;. If you see the <code>chrome:&#47;&#47;extension</code> it show this extension is install by third party."},{"owner":{"account_id":4915933,"reputation":67612,"user_id":3959875,"display_name":"wOxxOm"},"score":0,"creation_date":1470063041,"post_id":38690817,"comment_id":64781406,"body_markdown":"The answer in the linked question explains what happens. There&#39;s no &quot;but&quot;. IDM extension&#39;s manifest.json provides `update_url` and Chrome uses it to download the extension.","body":"The answer in the linked question explains what happens. There&#39;s no &quot;but&quot;. IDM extension&#39;s manifest.json provides <code>update_url</code> and Chrome uses it to download the extension."},{"owner":{"account_id":8928049,"reputation":23,"user_id":6661595,"display_name":"Eliza Amy"},"score":0,"creation_date":1470067365,"post_id":38690817,"comment_id":64784355,"body_markdown":"So, how can I do that for my extension that will be added to chrome automatically. WHat method I used to do like IDM.","body":"So, how can I do that for my extension that will be added to chrome automatically. WHat method I used to do like IDM."}],"answers":[{"tags":[],"owner":{"account_id":16421021,"reputation":51,"user_id":11893899,"display_name":"Akash Patra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639493037,"creation_date":1639493037,"answer_id":70350839,"question_id":38690817,"body_markdown":"After facing a same problem, I found this [Google article][1]  which will help you to Load Chrome extension from outside. \r\n\r\n&gt; An extension that is not installed from the Chrome Web Store is known as an external extension. For developers who want to distribute an extension as part of the installation process for other software, or for network admins that want to distribute an extension throughout their organization, Google Chrome supports the following extension installation methods:\r\n&gt; \r\n&gt; Using a preferences JSON file (for Mac OS X and Linux only) Using the\r\n&gt; Windows registry (for Windows only) Both ways support installing an\r\n&gt; extension hosted at an update_URL. On Windows and Mac, the update_URL\r\n&gt; must point to the Chrome Web Store where the extension must be hosted.\r\n\r\n\r\n  [1]: https://developer.chrome.com/docs/extensions/mv3/external_extensions/","title":"Load chrome extension using java programming","body":"<p>After facing a same problem, I found this <a href=\"https://developer.chrome.com/docs/extensions/mv3/external_extensions/\" rel=\"nofollow noreferrer\">Google article</a>  which will help you to Load Chrome extension from outside.</p>\n<blockquote>\n<p>An extension that is not installed from the Chrome Web Store is known as an external extension. For developers who want to distribute an extension as part of the installation process for other software, or for network admins that want to distribute an extension throughout their organization, Google Chrome supports the following extension installation methods:</p>\n<p>Using a preferences JSON file (for Mac OS X and Linux only) Using the\nWindows registry (for Windows only) Both ways support installing an\nextension hosted at an update_URL. On Windows and Mac, the update_URL\nmust point to the Chrome Web Store where the extension must be hosted.</p>\n</blockquote>\n"}],"owner":{"account_id":8928049,"reputation":23,"user_id":6661595,"display_name":"Eliza Amy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639493037,"creation_date":1470023904,"question_id":38690817,"body_markdown":"I have create a download manager like **IDM** and I want to install chrome extension.  \r\nAs you see when you install IDM it automatically add chrome extension in it.\r\nI want to do it like that whenever mine Downloader install it will automatically add chrome extension same as IDM.  \r\nI&#39;m new in software development so, how to do that I&#39;m using java programming.\r\n\r\nI checked IDM folder and found **.crx** file which mean this is chrome extension.\r\nAnd I think IDM load extension from this folder to chrome.\r\nBut according to my search Google disable to install chrome extension out of Chrome web store then how IDM do it.\r\n\r\nAny suggestion which things I need to do that ?\r\n\r\n**UPDATE:**  \r\n\r\nI try to install it using `preference JSON` but its not working. \r\nI followed a method which is described [here.][1]\r\n please check out this link.\r\n\r\n\r\n  [1]: http://www.adambarth.com/experimental/crx/docs/external_extensions.html","title":"Load chrome extension using java programming","body":"<p>I have create a download manager like <strong>IDM</strong> and I want to install chrome extension.<br>\nAs you see when you install IDM it automatically add chrome extension in it.\nI want to do it like that whenever mine Downloader install it will automatically add chrome extension same as IDM.<br>\nI'm new in software development so, how to do that I'm using java programming.</p>\n\n<p>I checked IDM folder and found <strong>.crx</strong> file which mean this is chrome extension.\nAnd I think IDM load extension from this folder to chrome.\nBut according to my search Google disable to install chrome extension out of Chrome web store then how IDM do it.</p>\n\n<p>Any suggestion which things I need to do that ?</p>\n\n<p><strong>UPDATE:</strong>  </p>\n\n<p>I try to install it using <code>preference JSON</code> but its not working. \nI followed a method which is described <a href=\"http://www.adambarth.com/experimental/crx/docs/external_extensions.html\" rel=\"nofollow\">here.</a>\n please check out this link.</p>\n"},{"tags":["java","jsonpath","indefinite"],"owner":{"account_id":8634690,"reputation":91,"user_id":6465315,"display_name":"RainerZufall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639492877,"creation_date":1639492877,"question_id":70350802,"body_markdown":"I have a JSON structure where some objects can have arbitrary names and i want to normalize this structure, such that the objects become anonymous, but can be identified by a &quot;name&quot; property.  \r\nFrom\r\n\r\n    {\r\n        {\r\n            &quot;arbitrary_name&quot;: {\r\n                ...\r\n        }\r\n    }\r\nto\r\n\r\n    {\r\n        &quot;name&quot;: &quot;arbitrary_name&quot;,\r\n        ...\r\n    }\r\nFor the first step, i want to add a name property to the &quot;arbitrary-name&quot; object and in the next step remove the &quot;arbitrary-name&quot; object and move it&#39;s properties one level up.  \r\n\r\nFirst, i&#39;m querying the JSON structure (using https://github.com/json-path/JsonPath) for all paths pointing to objects, which need to be normalized. They are all positioned under an array with name &quot;children&quot;. Then i&#39;m iterating this paths, get the objects&#39; values and add a name property.  \r\nMy approach works fine on the top-level object, but if they are nested (child objects -&gt; service.children[0].arbitrary_name1.children[0]), JsonPath throws an exception and i don&#39;t get it what property is missing. I printed all possible paths in this structure and the queried path (which causes the exception) is printed too.  \r\nMy input looks like this:\r\n\r\n    {\r\n\t    &quot;service&quot;: {\r\n\t\t    &quot;foo&quot;: &quot;bar&quot;,\r\n    \t\t&quot;children&quot;: [\r\n\t    \t\t{\r\n\t\t    \t\t&quot;arbitrary_name1&quot;: {\r\n\t\t\t    \t\t&quot;foo&quot;: &quot;bar&quot;,\r\n\t\t\t\t    \t&quot;children&quot;: [\r\n\t\t\t\t\t    \t{\r\n\t\t\t\t\t\t    \t&quot;arbitrary_name_2&quot;: {\r\n    \t\t\t\t\t\t\t\t&quot;foo&quot;: &quot;bar&quot;\r\n\t    \t\t\t\t\t\t}\r\n\t\t    \t\t\t\t}\r\n\t\t\t    \t\t]\r\n\t\t\t\t    }\r\n    \t\t\t}\r\n\t    \t]\r\n    \t}\r\n    }\r\n\r\nMy code:\r\n\r\n        final File src = Files.readString(xxx); // Path to file with JSON content\r\n        final Configuration c = Configuration.defaultConfiguration().setOptions(Option.ALWAYS_RETURN_LIST, Option.AS_PATH_LIST);\r\n        final DocumentContext pathsContext = JsonPath.parse(src, c);\r\n        final DocumentContext valuesContext = JsonPath.parse(src);\r\n        final Collection&lt;String&gt; pathsToObjects = pathsContext.read(&quot;$..children[*]&quot;);\r\n        /* prints:\r\n            $[&#39;service&#39;][&#39;children&#39;][0]\r\n            $[&#39;service&#39;][&#39;children&#39;][0][&#39;arbitrary_name1&#39;][&#39;children&#39;][0]\r\n        */\r\n        for (String jsonPath : pathsToObjects) {\r\n            Map&lt;String, Map&gt; valuesOfOuterObject = valuesContext.read(jsonPath);    // Exception on 2nd path\r\n            String name = valuesOfOuterObject.keySet().stream().findFirst().get();\r\n            final Map&lt;String, Object&gt; valuesOfInnerObject = valuesOfOuterObject.get(name);\r\n            valuesOfInnerObject.put(&quot;name&quot;, name);\r\n            valuesContext.set(jsonPath, valuesOfInnerObject);\r\n        }\r\n\r\nThe corresponding exception says:\r\n\r\n    com.jayway.jsonpath.PathNotFoundException: Missing property in path $[&#39;service&#39;][&#39;children&#39;][0][&#39;arbitrary_name1&#39;]\r\n\r\nWhat am i missing or is there an easier approach?","title":"PathNotFoundException: Missing property in path while iterating over recursive JSON structure","body":"<p>I have a JSON structure where some objects can have arbitrary names and i want to normalize this structure, such that the objects become anonymous, but can be identified by a &quot;name&quot; property.<br />\nFrom</p>\n<pre><code>{\n    {\n        &quot;arbitrary_name&quot;: {\n            ...\n    }\n}\n</code></pre>\n<p>to</p>\n<pre><code>{\n    &quot;name&quot;: &quot;arbitrary_name&quot;,\n    ...\n}\n</code></pre>\n<p>For the first step, i want to add a name property to the &quot;arbitrary-name&quot; object and in the next step remove the &quot;arbitrary-name&quot; object and move it's properties one level up.</p>\n<p>First, i'm querying the JSON structure (using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath</a>) for all paths pointing to objects, which need to be normalized. They are all positioned under an array with name &quot;children&quot;. Then i'm iterating this paths, get the objects' values and add a name property.<br />\nMy approach works fine on the top-level object, but if they are nested (child objects -&gt; service.children[0].arbitrary_name1.children[0]), JsonPath throws an exception and i don't get it what property is missing. I printed all possible paths in this structure and the queried path (which causes the exception) is printed too.<br />\nMy input looks like this:</p>\n<pre><code>{\n    &quot;service&quot;: {\n        &quot;foo&quot;: &quot;bar&quot;,\n        &quot;children&quot;: [\n            {\n                &quot;arbitrary_name1&quot;: {\n                    &quot;foo&quot;: &quot;bar&quot;,\n                    &quot;children&quot;: [\n                        {\n                            &quot;arbitrary_name_2&quot;: {\n                                &quot;foo&quot;: &quot;bar&quot;\n                            }\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>My code:</p>\n<pre><code>    final File src = Files.readString(xxx); // Path to file with JSON content\n    final Configuration c = Configuration.defaultConfiguration().setOptions(Option.ALWAYS_RETURN_LIST, Option.AS_PATH_LIST);\n    final DocumentContext pathsContext = JsonPath.parse(src, c);\n    final DocumentContext valuesContext = JsonPath.parse(src);\n    final Collection&lt;String&gt; pathsToObjects = pathsContext.read(&quot;$..children[*]&quot;);\n    /* prints:\n        $['service']['children'][0]\n        $['service']['children'][0]['arbitrary_name1']['children'][0]\n    */\n    for (String jsonPath : pathsToObjects) {\n        Map&lt;String, Map&gt; valuesOfOuterObject = valuesContext.read(jsonPath);    // Exception on 2nd path\n        String name = valuesOfOuterObject.keySet().stream().findFirst().get();\n        final Map&lt;String, Object&gt; valuesOfInnerObject = valuesOfOuterObject.get(name);\n        valuesOfInnerObject.put(&quot;name&quot;, name);\n        valuesContext.set(jsonPath, valuesOfInnerObject);\n    }\n</code></pre>\n<p>The corresponding exception says:</p>\n<pre><code>com.jayway.jsonpath.PathNotFoundException: Missing property in path $['service']['children'][0]['arbitrary_name1']\n</code></pre>\n<p>What am i missing or is there an easier approach?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1639492613,"post_id":70350631,"comment_id":124358608,"body_markdown":"I don&#39;t think you need that `for` loop in `main`. Enter the numbers: `passengers[0] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);`, etc.","body":"I don&#39;t think you need that <code>for</code> loop in <code>main</code>. Enter the numbers: <code>passengers[0] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);</code>, etc."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1639492666,"post_id":70350631,"comment_id":124358634,"body_markdown":"You need to show us `SubwayManager` code. `passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);` is the only value you ever insert into your array, I suspect the 2 lines following it don&#39;t do a thing to the array contents while the 2 lines before it do not matter since `passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);` is what is inserted at index i.","body":"You need to show us <code>SubwayManager</code> code. <code>passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);</code> is the only value you ever insert into your array, I suspect the 2 lines following it don&#39;t do a thing to the array contents while the 2 lines before it do not matter since <code>passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);</code> is what is inserted at index i."}],"answers":[{"tags":[],"owner":{"account_id":15222117,"reputation":133,"user_id":10983729,"display_name":"Satvik Nema"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639492671,"creation_date":1639492671,"answer_id":70350747,"question_id":70350631,"body_markdown":"Not sure what you are trying to do here\r\n\r\n    passengers[i] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\r\n    passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\r\n    passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\r\n    passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n    passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n\r\nYou are overwriting the ith element in the passengers array 4 times each loop. \r\n\r\nThis assignment is giving a `DateTimeParseException` and hence the same is being printed for each iteration:\r\n\r\n    passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);","title":"Message keeps repeating through every element of array Java","body":"<p>Not sure what you are trying to do here</p>\n<pre><code>passengers[i] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\npassengers[i] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\npassengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\npassengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\npassengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n</code></pre>\n<p>You are overwriting the ith element in the passengers array 4 times each loop.</p>\n<p>This assignment is giving a <code>DateTimeParseException</code> and hence the same is being printed for each iteration:</p>\n<pre><code>passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639492690,"creation_date":1639492690,"answer_id":70350749,"question_id":70350631,"body_markdown":"In this block:\r\n\r\n```\r\n        for (int i = 0; i &lt; passengers.length; i++) {\r\n\r\n            passengers[i] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\r\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\r\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\r\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n        }\r\n```\r\n\r\nYou are running all the lines for every loop step. I mean, if the array has 10 elements, and inside the loop you all paserngers[i] 5 times. You are running 10*5 = 50 array assignations.\r\n\r\nEach and every passenger[i] (but the first one) overrides the previous one.\r\n\r\nFor instace, in the first iteration, i = 0. So you run:\r\n\r\n```\r\n            passengers[0] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\r\n            passengers[0] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\r\n            passengers[0] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\r\n            passengers[0] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n            passengers[0] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n```\r\n\r\nIn the second iteration:\r\n\r\n```\r\n            passengers[1] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\r\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\r\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\r\n            passengers[1] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n            passengers[1] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n```\r\n\r\nAnd like that, 10 times. In very one of the iterations you call the constructor with the wrong date (apart from the other 4 with the correct day).","title":"Message keeps repeating through every element of array Java","body":"<p>In this block:</p>\n<pre><code>        for (int i = 0; i &lt; passengers.length; i++) {\n\n            passengers[i] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n        }\n</code></pre>\n<p>You are running all the lines for every loop step. I mean, if the array has 10 elements, and inside the loop you all paserngers[i] 5 times. You are running 10*5 = 50 array assignations.</p>\n<p>Each and every passenger[i] (but the first one) overrides the previous one.</p>\n<p>For instace, in the first iteration, i = 0. So you run:</p>\n<pre><code>            passengers[0] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\n            passengers[0] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\n            passengers[0] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\n            passengers[0] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n            passengers[0] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n</code></pre>\n<p>In the second iteration:</p>\n<pre><code>            passengers[1] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\n            passengers[1] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n            passengers[1] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n</code></pre>\n<p>And like that, 10 times. In very one of the iterations you call the constructor with the wrong date (apart from the other 4 with the correct day).</p>\n"},{"tags":[],"owner":{"account_id":7778850,"reputation":184,"user_id":5885968,"display_name":"M. Gianota"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639492827,"creation_date":1639492827,"answer_id":70350794,"question_id":70350631,"body_markdown":"The problem is that your For loop is repeatedly executing the code that constructs the `Passenger` objects 10 times. So you will see the same error message displayed for 10 times if there is one bad date in a `Passenger` constructor.\r\n\r\nRemove the `For loop` from the code creating the `Passenger` objects and create the `Passenger` objects individually like so:\r\n\r\n```\r\n            passengers[0] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\r\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\r\n            passengers[2] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\r\n            passengers[3] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n            passengers[4] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n```\r\n\r\nThat way you will see the error message just one time for each bad date supplied to a `Passenger` constructor.\r\n","title":"Message keeps repeating through every element of array Java","body":"<p>The problem is that your For loop is repeatedly executing the code that constructs the <code>Passenger</code> objects 10 times. So you will see the same error message displayed for 10 times if there is one bad date in a <code>Passenger</code> constructor.</p>\n<p>Remove the <code>For loop</code> from the code creating the <code>Passenger</code> objects and create the <code>Passenger</code> objects individually like so:</p>\n<pre><code>            passengers[0] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\n            passengers[1] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\n            passengers[2] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\n            passengers[3] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n            passengers[4] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n</code></pre>\n<p>That way you will see the error message just one time for each bad date supplied to a <code>Passenger</code> constructor.</p>\n"}],"owner":{"account_id":18583410,"reputation":127,"user_id":13542396,"display_name":"Nayana "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70350794,"answer_count":3,"score":0,"last_activity_date":1639492827,"creation_date":1639492212,"question_id":70350631,"body_markdown":"I&#39;m new at Java and I have an array of objects of Passenger constructor class. I&#39;m trying to display an error message if a Passenger object is being created and the birth date inserted isn&#39;t in the correct format I specify below. The problem is the error message keeps repeating through the entire array when I only have one birth date not formatted correctly.\r\n\r\nThis is my main class:\r\n\r\n```\r\npublic class IPOO_P2 {\r\n\r\n    private static Passenger[] passengers = new Passenger[10];\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SubwayManager man1 = new SubwayManager(passengers);\r\n\r\n        for (int i = 0; i &lt; passengers.length; i++) {\r\n\r\n            passengers[i] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\r\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\r\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\r\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe Passenger class:\r\n\r\n```\r\npublic class Passenger {\r\n\r\n    private String name;\r\n    private String nif;\r\n    private String birthDate;\r\n    private Trip[] tripsLog;\r\n    private boolean student;\r\n\r\n    public Passenger(String name, String nif, String birthDate) {\r\n        if (name != null || name != &quot;&quot;) {\r\n\r\n           if(isDateValid(birthDate)) {\r\n               \r\n                this.name = name;\r\n                this.nif = nif;\r\n                this.birthDate = birthDate;\r\n                this.student = false;\r\n                this.tripsLog = new Trip[10];\r\n                \r\n            } \r\n           else{ \r\n               System.out.println(&quot;Birth Date formatt should be: yyyy-MM-dd&quot;);\r\n           }\r\n        }\r\n    }\r\n\r\n    public boolean isDateValid(String bDate) {\r\n\r\n        if(bDate != null){\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n        try {\r\n            LocalDate.parse(bDate, formatter);\r\n            return true;\r\n        } catch (DateTimeParseException e) {\r\n\r\n            return false;\r\n        }\r\n    }return false;\r\n    }\r\n```","title":"Message keeps repeating through every element of array Java","body":"<p>I'm new at Java and I have an array of objects of Passenger constructor class. I'm trying to display an error message if a Passenger object is being created and the birth date inserted isn't in the correct format I specify below. The problem is the error message keeps repeating through the entire array when I only have one birth date not formatted correctly.</p>\n<p>This is my main class:</p>\n<pre><code>public class IPOO_P2 {\n\n    private static Passenger[] passengers = new Passenger[10];\n\n    public static void main(String[] args) {\n\n        SubwayManager man1 = new SubwayManager(passengers);\n\n        for (int i = 0; i &lt; passengers.length; i++) {\n\n            passengers[i] = new Passenger(&quot;nomee&quot;, &quot;12&quot;, &quot;2011-10-02&quot;);\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;1&quot;, &quot;1957-10-02&quot;);\n            passengers[i] = new Passenger(&quot;nomee2&quot;, &quot;0&quot;, &quot;19-101-02&quot;);\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n            passengers[i] = man1.createPassenger(&quot;name&quot;, &quot;3&quot;, &quot;1997-10-02&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The Passenger class:</p>\n<pre><code>public class Passenger {\n\n    private String name;\n    private String nif;\n    private String birthDate;\n    private Trip[] tripsLog;\n    private boolean student;\n\n    public Passenger(String name, String nif, String birthDate) {\n        if (name != null || name != &quot;&quot;) {\n\n           if(isDateValid(birthDate)) {\n               \n                this.name = name;\n                this.nif = nif;\n                this.birthDate = birthDate;\n                this.student = false;\n                this.tripsLog = new Trip[10];\n                \n            } \n           else{ \n               System.out.println(&quot;Birth Date formatt should be: yyyy-MM-dd&quot;);\n           }\n        }\n    }\n\n    public boolean isDateValid(String bDate) {\n\n        if(bDate != null){\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n\n        try {\n            LocalDate.parse(bDate, formatter);\n            return true;\n        } catch (DateTimeParseException e) {\n\n            return false;\n        }\n    }return false;\n    }\n</code></pre>\n"},{"tags":["javascript","java","encoding","base64"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1639492855,"post_id":70350764,"comment_id":124358723,"body_markdown":"https://stackoverflow.com/questions/607176/java-equivalent-to-javascripts-encodeuricomponent-that-produces-identical-outpu","body":"<a href=\"https://stackoverflow.com/questions/607176/java-equivalent-to-javascripts-encodeuricomponent-that-produces-identical-outpu\" title=\"java equivalent to javascripts encodeuricomponent that produces identical outpu\">stackoverflow.com/questions/607176/&hellip;</a>"},{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1639492909,"post_id":70350764,"comment_id":124358751,"body_markdown":"https://stackoverflow.com/questions/25298063/how-to-get-java-to-match-javascript-encodeuricomponent-method/25298843","body":"<a href=\"https://stackoverflow.com/questions/25298063/how-to-get-java-to-match-javascript-encodeuricomponent-method/25298843\" title=\"how to get java to match javascript encodeuricomponent method\">stackoverflow.com/questions/25298063/&hellip;</a>"}],"owner":{"account_id":17893211,"reputation":31,"user_id":12999247,"display_name":"prat desh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639492721,"creation_date":1639492721,"question_id":70350764,"body_markdown":"I have a client API call that I need to make from a Java code.\r\n\r\nFor that I need to pass in a secret code for authentication. \r\n\r\nI have the code generation logic with me but in JavaScript. \r\n\r\nI am stuck trying to replicate this function. \r\n\r\n    unescape(encodeURIComponent(str))\r\n\r\nCould someone help me out, how can I create this in Java. \r\n\r\nI tried to use \r\n\r\n    `URLDecoder.decode(URLEncoder.encode(str, &quot;UTF-8&quot;), &quot;UTF-8&quot;)`\r\n\r\nBut it is not giving me the same result. ","title":"Javascript unescape(encodeURIComponent( str )) equivalent in Java","body":"<p>I have a client API call that I need to make from a Java code.</p>\n<p>For that I need to pass in a secret code for authentication.</p>\n<p>I have the code generation logic with me but in JavaScript.</p>\n<p>I am stuck trying to replicate this function.</p>\n<pre><code>unescape(encodeURIComponent(str))\n</code></pre>\n<p>Could someone help me out, how can I create this in Java.</p>\n<p>I tried to use</p>\n<pre><code>`URLDecoder.decode(URLEncoder.encode(str, &quot;UTF-8&quot;), &quot;UTF-8&quot;)`\n</code></pre>\n<p>But it is not giving me the same result.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":23312007,"reputation":27,"user_id":17391095,"display_name":"ttgqwe456"},"score":0,"creation_date":1639491381,"post_id":70350126,"comment_id":124358042,"body_markdown":"@FahimazazBhanej  I am working on a Spring Boot project. The Controller above will take care of login functionality. I will input username and password on login page. If login success, the index page will display fullname of the customer","body":"@FahimazazBhanej  I am working on a Spring Boot project. The Controller above will take care of login functionality. I will input username and password on login page. If login success, the index page will display fullname of the customer"}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639492660,"creation_date":1639492660,"answer_id":70350745,"question_id":70350126,"body_markdown":"Your result might be vary due to @ModelAttribute\r\n\r\n    @ModelAttribute(&quot;customer&quot;)\r\n    public Customer getCustomer(@ModelAttribute Customer customer) {\r\n    \tCustomer c = customService.getCustomer(customer.getUsername(), customer.getPassword());\t\r\n    \treturn c;\r\n    }\r\n\r\nIt&#39;s similar to:\r\n\r\n    @ModelAttribute\r\n    \r\n        public void initCustomer(@ModelAttribute Customer customer,Model model) {\r\n        \tCustomer c = customService.getCustomer(customer.getUsername(), customer.getPassword());\t\r\n        \tmodel.addAttribute(&quot;customer&quot;,c);\r\n        }\r\n\r\ninitCustomer(@ModelAttribute Customer customer,...)\r\nThe customer instance above is resolved as follows\r\n- From the model if already added via Model.\r\n- From the HTTP session via @SessionAttributes.\r\n- From a URI path variable passed through a Converter (example below).\r\n- From the invocation of a default constructor.\r\n- From the invocation of a &quot;primary constructor&quot; with arguments matching to Servlet request parameters; \r\nargument names are determined via JavaBeans @ConstructorProperties \r\nor via runtime-retained parameter names in the bytecode.\r\n\r\nAs you can see, with first call, parameter values will be assigned to Customer customer...\r\n\r\nBut later call, session attributes is used with priority. \r\n\r\nPS: your code might get a lot confusion. Please refer:\r\nhttps://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation\r\n","title":"@ModelAttribute confusing","body":"<p>Your result might be vary due to @ModelAttribute</p>\n<pre><code>@ModelAttribute(&quot;customer&quot;)\npublic Customer getCustomer(@ModelAttribute Customer customer) {\n    Customer c = customService.getCustomer(customer.getUsername(), customer.getPassword()); \n    return c;\n}\n</code></pre>\n<p>It's similar to:</p>\n<pre><code>@ModelAttribute\n\n    public void initCustomer(@ModelAttribute Customer customer,Model model) {\n        Customer c = customService.getCustomer(customer.getUsername(), customer.getPassword()); \n        model.addAttribute(&quot;customer&quot;,c);\n    }\n</code></pre>\n<p>initCustomer(@ModelAttribute Customer customer,...)\nThe customer instance above is resolved as follows</p>\n<ul>\n<li>From the model if already added via Model.</li>\n<li>From the HTTP session via @SessionAttributes.</li>\n<li>From a URI path variable passed through a Converter (example below).</li>\n<li>From the invocation of a default constructor.</li>\n<li>From the invocation of a &quot;primary constructor&quot; with arguments matching to Servlet request parameters;\nargument names are determined via JavaBeans @ConstructorProperties\nor via runtime-retained parameter names in the bytecode.</li>\n</ul>\n<p>As you can see, with first call, parameter values will be assigned to Customer customer...</p>\n<p>But later call, session attributes is used with priority.</p>\n<p>PS: your code might get a lot confusion. Please refer:\n<a href=\"https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-and-the-modelattribute-annotation</a></p>\n"}],"owner":{"account_id":23312007,"reputation":27,"user_id":17391095,"display_name":"ttgqwe456"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639492660,"creation_date":1639490294,"question_id":70350126,"body_markdown":"I have a Controller class that have login functionality. When I enter username and password and press submit, it will call this controller and store customer infor in the session. But one thing make me confusing is the @ModelAttribute \r\n``` \r\n@Controller\r\n@SessionAttributes(&quot;customer&quot;)\r\npublic class LoginController {\r\n\t\r\n\t@Autowired\r\n\tCustomerService customService;\r\n\t\r\n\t@ModelAttribute(&quot;customer&quot;)\r\n\tpublic Customer getCustomer(@ModelAttribute Customer customer) {\r\n\t\tCustomer c = customService.getCustomer(customer.getUsername(), customer.getPassword());\r\n\t\t\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\t@RequestMapping(method=RequestMethod.POST,value=&quot;/login&quot;)\r\n\tpublic String submitLoginForm( Model model) {\r\n\t\t\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n\t\r\n}```\r\n\r\n\r\n```\r\n\r\nI will use the @ModelAttribute Customer customer to store username and password I have inputted and use Customer c to store all information I got from customService and store it to the session. But the session store the Customer customer instead.\r\n\r\nIf I change the argument like this. It work normally\r\n\r\n```\r\npublic Customer getCustomer(@RequestParam String username, @RequestParam String password) {\r\n\t\tCustomer c = customService.getCustomer(username, password);\r\n\t\t\r\n\t\treturn c;\r\n\t}\r\n```\r\n","title":"@ModelAttribute confusing","body":"<p>I have a Controller class that have login functionality. When I enter username and password and press submit, it will call this controller and store customer infor in the session. But one thing make me confusing is the @ModelAttribute</p>\n<pre><code>@Controller\n@SessionAttributes(&quot;customer&quot;)\npublic class LoginController {\n    \n    @Autowired\n    CustomerService customService;\n    \n    @ModelAttribute(&quot;customer&quot;)\n    public Customer getCustomer(@ModelAttribute Customer customer) {\n        Customer c = customService.getCustomer(customer.getUsername(), customer.getPassword());\n        \n        return c;\n    }\n    \n    @RequestMapping(method=RequestMethod.POST,value=&quot;/login&quot;)\n    public String submitLoginForm( Model model) {\n        \n        return &quot;redirect:/&quot;;\n    }\n    \n}```\n\n\n</code></pre>\n<p>I will use the @ModelAttribute Customer customer to store username and password I have inputted and use Customer c to store all information I got from customService and store it to the session. But the session store the Customer customer instead.</p>\n<p>If I change the argument like this. It work normally</p>\n<pre><code>public Customer getCustomer(@RequestParam String username, @RequestParam String password) {\n        Customer c = customService.getCustomer(username, password);\n        \n        return c;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","eclipse","macos","debugging"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1639495664,"post_id":70350689,"comment_id":124359955,"body_markdown":"Why is there an infinite loop in the `ActualTask` constructor? Why does the constructor call the `run()` method directly (in the same thread)? What is `lib.SwingWorker`? That doesn&#39;t appear to be a `javax.swing.SwingWorker`. What calls `construct()`? It certainly will not ever return, since the `ActualTask` constructor can never complete. What is the `done` variable used for? You don&#39;t show any loops that go until done is true.","body":"Why is there an infinite loop in the <code>ActualTask</code> constructor? Why does the constructor call the <code>run()</code> method directly (in the same thread)? What is <code>lib.SwingWorker</code>? That doesn&#39;t appear to be a <code>javax.swing.SwingWorker</code>. What calls <code>construct()</code>? It certainly will not ever return, since the <code>ActualTask</code> constructor can never complete. What is the <code>done</code> variable used for? You don&#39;t show any loops that go until done is true."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1639510067,"post_id":70350689,"comment_id":124365656,"body_markdown":"David - Thanks so much for reading and commenting.","body":"David - Thanks so much for reading and commenting."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1639510526,"post_id":70350689,"comment_id":124365824,"body_markdown":"David - Thanks so much for reading and commenting.  Answers: ActualTask stays alive for the duration of the application, only calling run() when there is a task given to it by the GUI. (I&#39;m wondering whether to change this). My guess is lib.SwingWorker is Apple&#39;s implementation of javax.swing.SwingWorker. The GUI call the constructor (my second example) in the start code.  As far as I can see, the &quot;done&quot; variable is never used.  Thanks so much for your thoughts !  Paul","body":"David - Thanks so much for reading and commenting.  Answers: ActualTask stays alive for the duration of the application, only calling run() when there is a task given to it by the GUI. (I&#39;m wondering whether to change this). My guess is lib.SwingWorker is Apple&#39;s implementation of javax.swing.SwingWorker. The GUI call the constructor (my second example) in the start code.  As far as I can see, the &quot;done&quot; variable is never used.  Thanks so much for your thoughts !  Paul"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1639514093,"post_id":70350689,"comment_id":124366922,"body_markdown":"Staying alive for the duration of the application sounds like something that would be done by starting a thread, not by putting an infinite loop inside the constructor so that it can never finish. Typically a class with a run() method implements Runnable, and the run() method is called by the Thread when it starts. Of course, there&#39;s no reason a method can&#39;t be called `run()` even if it doesn&#39;t implement the &#39;meat&#39; of a thread, but this code is, to say the least, pretty strange. I would say that a constructor that never completes is not something you would ever, ever want to do.","body":"Staying alive for the duration of the application sounds like something that would be done by starting a thread, not by putting an infinite loop inside the constructor so that it can never finish. Typically a class with a run() method implements Runnable, and the run() method is called by the Thread when it starts. Of course, there&#39;s no reason a method can&#39;t be called <code>run()</code> even if it doesn&#39;t implement the &#39;meat&#39; of a thread, but this code is, to say the least, pretty strange. I would say that a constructor that never completes is not something you would ever, ever want to do."},{"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"score":0,"creation_date":1639606659,"post_id":70350689,"comment_id":124395252,"body_markdown":"David - Thanks so much for your comments.  I am quite new to Java, and have no real idea what it is supposed to look like.  (I have written zillions of lines of C code, mostly for real-time microcontrollers in instruments.   It&#39;s quite different).  I&#39;ve analyzed the code for what code is in which thread, and determined that there is a communications problem between threads &quot;AWT-EventQueue-0&quot; and &quot;Thread-1&quot;.  I added debug code and a short delay (Thread.sleep(2) and now the threads are communicating. I don&#39;t know how much re-writing I&#39;m willing to do for this port, but welcome any suggestions","body":"David - Thanks so much for your comments.  I am quite new to Java, and have no real idea what it is supposed to look like.  (I have written zillions of lines of C code, mostly for real-time microcontrollers in instruments.   It&#39;s quite different).  I&#39;ve analyzed the code for what code is in which thread, and determined that there is a communications problem between threads &quot;AWT-EventQueue-0&quot; and &quot;Thread-1&quot;.  I added debug code and a short delay (Thread.sleep(2) and now the threads are communicating. I don&#39;t know how much re-writing I&#39;m willing to do for this port, but welcome any suggestions"}],"owner":{"account_id":11962775,"reputation":11,"user_id":8753394,"display_name":"Paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639492426,"creation_date":1639492426,"question_id":70350689,"body_markdown":"I am trying to update a large (~150,000 line) Java/Eclipse program from 2009 that has several threads, and communicates with a TCP-IP telescope.  I wrote new code to do the communications, and that all works fine when separately tested.  This is on a Mac - the original worked on Mac OSX 10.6 and nothing later - I&#39;m writing this for current Mac OS 12.xx\r\n\r\nIn the overall program, there is a thread that receives mouse clicks from the GUI and initiates operation of a thread with runs the communications code.  The communications thread stays alive, using parameters passed to it to determine which communication function to execute.\r\n\r\nHere&#39;s some of the code:\r\n\r\n \r\n\r\n    class ActualTask {\r\n\t\tActualTask ()  {\r\n\t\t\t// PRAA Dec 7 2021\r\n\t\t\tSystem.out.println(&quot;What thread are we in? it&#39;s: &quot;+ Thread.currentThread().getName());\r\n\t\t\t\r\n\t\t\twhile (true) // this is true so we can keep reusing this task!\r\n\t\t\t{\r\n\t\t\t\t// PRAA Dec 7 2021\r\n\t\t\t\t//System.out.println(&quot;What thread are we in? it&#39;s: &quot;+ Thread.currentThread().getName());\r\n\r\n\t\t\t\tif (running)\r\n\t\t\t\t{\r\n\t\t\t\t\t// PRAA Dec 7 2021\r\n\t\t\t\t\tSystem.out.println(&quot;Just before call to run() - What thread are we in? it&#39;s: &quot;+ Thread.currentThread().getName());\r\n\t\t\t\t\t\r\n\t\t\t\t\trun();\r\n\t\t\t\t\t// PRAA Dec 7 2021\r\n\t\t\t\t\tSystem.out.println(&quot;What thread are we in? it&#39;s: &quot;+ Thread.currentThread().getName());\r\n\t\t\t\t\t\r\n\t\t\t\t\trunning = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// ------------------------------------\r\n\r\n\t\tvoid run()\r\n\t\t{\t\t\t\t\t\r\n\t\t\tdone = false;\r\n\t\t\tsuccessful = true;\r\n\t\t\ttelescopeException = null;\r\n\t\t\t// PRAA Dec 7 2021\r\n\t\t\tSystem.out.println(&quot;In run() -  thread is: &quot;+ Thread.currentThread().getName());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry\r\n\t\t\t{\t// *** execute the telescope task ***\r\n\t\t\t\r\n\t\t\t\tTelescopeGlobals.telescopeProgressTaskData.setBackgroundColor(Color.red); // red when active\r\n\t\t\t\t\r\n\t\t\t\ttelescopeTask.execute();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tdone = true;\r\n\t\t\t\t\r\n\t\t\t\tTelescopeGlobals.telescopeProgressTaskData.setBackgroundColor(Color.white); // white when NOT active\r\n\t\t\t}\r\n\t\t\tcatch (TelescopeException te)\r\n\t\t\t{\r\n\t\t\t\t// Clear progress bar before throwing up dialog\r\n\t\t\t\t\r\n\t\t\t\tTelescopeGlobals.telescopeProgressTaskData.setBackgroundColor(Color.white); // white when NOT active\r\n\r\n\t\t\t\tTelescopeGlobals.telescopeProgressTaskData.clear();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tdone = true;\r\n\t\t\t\tsuccessful = false;\r\n\t\t\t\ttelescopeException = te;\r\n\t\t\t\t\r\n\t\t\t\tReporting.selctiveAlert(te.getMessage() + &quot;\\n&quot; + te.getWhereExceptionOccured()); \r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tTelescopeGlobals.telescopeProgressTaskData.setText1(&quot;Error: &quot; + te.getMessage()); \t\r\n\t\t\t\tTelescopeGlobals.telescopeProgressTaskData.setText2(&quot;Where: &quot; + te.getWhereExceptionOccured()); \t\r\n\r\n\t\t\t}\r\n\r\n\t\t\tdone = true;\r\n\t\t}\r\n\t}\r\n\r\n\r\nWhen I am in &quot;debug&quot; mode, and I single-step through the communications code, things usually execute properly - however, when I hit &quot;Run&quot;, things don&#39;t go so well - \r\n\r\n - the first call works ok\r\n - the second call appears to do nothing - that is, it doesn&#39;t seem to be executing, and none of my print statements print \r\n - subsequent calls only print an error message saying the previous task has not completed. \r\n\r\n\r\n\r\nSo I&#39;m wondering - what is the difference between the &quot;run&quot; and &quot;debug&quot; modes - why would one work and the other behave differently - and\r\n\r\nDoes all of the &quot;SwingWorker&quot; stuff from 2009 still work? \r\n\r\nShould creating the communications thread be done differently?  It is just created once, as shown in the code snippet below:\r\n\r\n    // Static member above of HighLevelTaskWorker makes sure that one command is dispatched to the telescope at a time.\r\n\r\nclass HighLevelTaskWorker { // SwingWorker wrapper class\r\n \r\n\tprivate lib.SwingWorker worker = null;\r\n\t\r\n\tprivate boolean done;\r\n\tprivate boolean successful;\r\n\tprivate TelescopeException telescopeException;\r\n\t\r\n\tprivate boolean running;\r\n\t\r\n\tprivate TelescopeTask telescopeTask;\r\n\t\r\n\tpublic HighLevelTaskWorker()\r\n\t{\r\n\t}\r\n\t\r\n    public void start(TelescopeTask telescopeTask) {\r\n\t\t\t\r\n\t\tthis.telescopeTask = telescopeTask;\r\n\t\t\r\n\t\t// PRAA Dec 7 2021\r\n\t\tSystem.out.println(&quot;What thread are we in? it&#39;s: &quot;+ Thread.currentThread().getName());\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tdone = false;\r\n\t\tsuccessful = false;\r\n\t\ttelescopeException = null;\r\n\t\trunning = true;\r\n\r\n\t\tif (worker == null) // no need to create this tread over and over again, think of all that Garbage Collecting and tread creation!\r\n\t\t{\r\n\t\t\tworker = new lib.SwingWorker() {\r\n\t\t\t\tpublic Object construct() {\r\n\t\t\t\t\treturn new ActualTask();\r\n\t\t\t\t}\r\n\t\t\r\n\r\n\t\t\t};\r\n\t\t\tworker.start();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nThanks so much for any help !!!\r\n\r\n\r\n","title":"&quot;Run&quot;ing vs. Single stepping in Java Eclipse -","body":"<p>I am trying to update a large (~150,000 line) Java/Eclipse program from 2009 that has several threads, and communicates with a TCP-IP telescope.  I wrote new code to do the communications, and that all works fine when separately tested.  This is on a Mac - the original worked on Mac OSX 10.6 and nothing later - I'm writing this for current Mac OS 12.xx</p>\n<p>In the overall program, there is a thread that receives mouse clicks from the GUI and initiates operation of a thread with runs the communications code.  The communications thread stays alive, using parameters passed to it to determine which communication function to execute.</p>\n<p>Here's some of the code:</p>\n<pre><code>class ActualTask {\n    ActualTask ()  {\n        // PRAA Dec 7 2021\n        System.out.println(&quot;What thread are we in? it's: &quot;+ Thread.currentThread().getName());\n        \n        while (true) // this is true so we can keep reusing this task!\n        {\n            // PRAA Dec 7 2021\n            //System.out.println(&quot;What thread are we in? it's: &quot;+ Thread.currentThread().getName());\n\n            if (running)\n            {\n                // PRAA Dec 7 2021\n                System.out.println(&quot;Just before call to run() - What thread are we in? it's: &quot;+ Thread.currentThread().getName());\n                \n                run();\n                // PRAA Dec 7 2021\n                System.out.println(&quot;What thread are we in? it's: &quot;+ Thread.currentThread().getName());\n                \n                running = false;\n            }\n        }\n    }\n    \n    // ------------------------------------\n\n    void run()\n    {                   \n        done = false;\n        successful = true;\n        telescopeException = null;\n        // PRAA Dec 7 2021\n        System.out.println(&quot;In run() -  thread is: &quot;+ Thread.currentThread().getName());\n        \n        \n        try\n        {   // *** execute the telescope task ***\n        \n            TelescopeGlobals.telescopeProgressTaskData.setBackgroundColor(Color.red); // red when active\n            \n            telescopeTask.execute();\n                            \n            done = true;\n            \n            TelescopeGlobals.telescopeProgressTaskData.setBackgroundColor(Color.white); // white when NOT active\n        }\n        catch (TelescopeException te)\n        {\n            // Clear progress bar before throwing up dialog\n            \n            TelescopeGlobals.telescopeProgressTaskData.setBackgroundColor(Color.white); // white when NOT active\n\n            TelescopeGlobals.telescopeProgressTaskData.clear();\n                            \n            done = true;\n            successful = false;\n            telescopeException = te;\n            \n            Reporting.selctiveAlert(te.getMessage() + &quot;\\n&quot; + te.getWhereExceptionOccured()); \n            \n            \n            TelescopeGlobals.telescopeProgressTaskData.setText1(&quot;Error: &quot; + te.getMessage());   \n            TelescopeGlobals.telescopeProgressTaskData.setText2(&quot;Where: &quot; + te.getWhereExceptionOccured());     \n\n        }\n\n        done = true;\n    }\n}\n</code></pre>\n<p>When I am in &quot;debug&quot; mode, and I single-step through the communications code, things usually execute properly - however, when I hit &quot;Run&quot;, things don't go so well -</p>\n<ul>\n<li>the first call works ok</li>\n<li>the second call appears to do nothing - that is, it doesn't seem to be executing, and none of my print statements print</li>\n<li>subsequent calls only print an error message saying the previous task has not completed.</li>\n</ul>\n<p>So I'm wondering - what is the difference between the &quot;run&quot; and &quot;debug&quot; modes - why would one work and the other behave differently - and</p>\n<p>Does all of the &quot;SwingWorker&quot; stuff from 2009 still work?</p>\n<p>Should creating the communications thread be done differently?  It is just created once, as shown in the code snippet below:</p>\n<pre><code>// Static member above of HighLevelTaskWorker makes sure that one command is dispatched to the telescope at a time.\n</code></pre>\n<p>class HighLevelTaskWorker { // SwingWorker wrapper class</p>\n<pre><code>private lib.SwingWorker worker = null;\n\nprivate boolean done;\nprivate boolean successful;\nprivate TelescopeException telescopeException;\n\nprivate boolean running;\n\nprivate TelescopeTask telescopeTask;\n\npublic HighLevelTaskWorker()\n{\n}\n\npublic void start(TelescopeTask telescopeTask) {\n        \n    this.telescopeTask = telescopeTask;\n    \n    // PRAA Dec 7 2021\n    System.out.println(&quot;What thread are we in? it's: &quot;+ Thread.currentThread().getName());\n    \n    \n    \n    \n    done = false;\n    successful = false;\n    telescopeException = null;\n    running = true;\n\n    if (worker == null) // no need to create this tread over and over again, think of all that Garbage Collecting and tread creation!\n    {\n        worker = new lib.SwingWorker() {\n            public Object construct() {\n                return new ActualTask();\n            }\n    \n\n        };\n        worker.start();\n    }\n\n}\n</code></pre>\n<p>Thanks so much for any help !!!</p>\n"},{"tags":["java","maven","pom.xml","log4j2"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1639334779,"post_id":70326613,"comment_id":124316918,"body_markdown":"Look at the output from `dependency:tree`","body":"Look at the output from <code>dependency:tree</code>"},{"owner":{"account_id":5958823,"reputation":43,"user_id":4684583,"display_name":"kiran chand kothuru"},"score":0,"creation_date":1639335083,"post_id":70326613,"comment_id":124316986,"body_markdown":"hi ,am new to maven .please can you share the snippet code","body":"hi ,am new to maven .please can you share the snippet code"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1639335094,"post_id":70326613,"comment_id":124316989,"body_markdown":"You could read your pom file which is obvious that you are using log4j 2.x what&#39;s interesting are those two `-api` deps?... Also typical using a version 2.3 which is of 2015 !!! which means not updated a very long time...","body":"You could read your pom file which is obvious that you are using log4j 2.x what&#39;s interesting are those two <code>-api</code> deps?... Also typical using a version 2.3 which is of 2015 !!! which means not updated a very long time..."},{"owner":{"account_id":5958823,"reputation":43,"user_id":4684583,"display_name":"kiran chand kothuru"},"score":0,"creation_date":1639335258,"post_id":70326613,"comment_id":124317034,"body_markdown":"hi @khmarbaise thanks for confirmation ie log4j2.v version ,what is log4j2 maven latest version?","body":"hi @khmarbaise thanks for confirmation ie log4j2.v version ,what is log4j2 maven latest version?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1639336393,"post_id":70326613,"comment_id":124317309,"body_markdown":"You should check central repository: https://search.maven.org/search?q=g:org.apache.logging.log4j and also check https://logging.apache.org/log4j/2.x/","body":"You should check central repository: <a href=\"https://search.maven.org/search?q=g:org.apache.logging.log4j\" rel=\"nofollow noreferrer\">search.maven.org/search?q=g:org.apache.logging.log4j</a> and also check <a href=\"https://logging.apache.org/log4j/2.x/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1639336437,"post_id":70326613,"comment_id":124317321,"body_markdown":"@kiranchandkothuru do you have a more experienced developer on your team?","body":"@kiranchandkothuru do you have a more experienced developer on your team?"}],"answers":[{"tags":[],"owner":{"account_id":8684080,"reputation":3411,"user_id":6499075,"display_name":"Sma Ma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639492376,"creation_date":1639491880,"answer_id":70350552,"question_id":70326613,"body_markdown":"You can use `mvn dependency:tree -Dverbose` to print the tree of dependencies including the version.\r\n\r\nAfterward just look for `log4`:\r\n\r\n```mvn dependency:tree -Dverbose | grep log4```\r\n\r\nAlternatively use `mvn dependency:list` to list the dependencies.\r\n\r\n```mvn dependency:list | grep log4```","title":"how to identify log4j2 or log4j in maven project?","body":"<p>You can use <code>mvn dependency:tree -Dverbose</code> to print the tree of dependencies including the version.</p>\n<p>Afterward just look for <code>log4</code>:</p>\n<p><code>mvn dependency:tree -Dverbose | grep log4</code></p>\n<p>Alternatively use <code>mvn dependency:list</code> to list the dependencies.</p>\n<p><code>mvn dependency:list | grep log4</code></p>\n"}],"owner":{"account_id":5958823,"reputation":43,"user_id":4684583,"display_name":"kiran chand kothuru"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6709,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1639492376,"creation_date":1639334629,"question_id":70326613,"body_markdown":"We are using maven project and need to check we are using log4j or log4j2 in the java application .\r\nPlease guide me the best practice  \r\nbelow is my pom.xml \r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;!-- Avoid warnings about platform encoding --&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\r\n\t\t&lt;powermock.version&gt;1.6.2&lt;/powermock.version&gt;\r\n\t\t&lt;log4j.version&gt;2.3&lt;/log4j.version&gt;\r\n\t&lt;/properties&gt;&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${log4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;/project&gt;\r\n","title":"how to identify log4j2 or log4j in maven project?","body":"<p>We are using maven project and need to check we are using log4j or log4j2 in the java application .\nPlease guide me the best practice<br />\nbelow is my pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;!-- Avoid warnings about platform encoding --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    \n    &lt;powermock.version&gt;1.6.2&lt;/powermock.version&gt;\n    &lt;log4j.version&gt;2.3&lt;/log4j.version&gt;\n&lt;/properties&gt;&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":0,"creation_date":1638969355,"post_id":70275538,"comment_id":124227858,"body_markdown":"you test in developing or production environment? also consider break points if you are debugging","body":"you test in developing or production environment? also consider break points if you are debugging"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1638973596,"post_id":70275538,"comment_id":124229665,"body_markdown":"Increase the fetch size of your query, however creating about 50k of objects will require some time. Object creation is relatively slow, Also make sure you have proper equals and hashcode implementations for your beans.","body":"Increase the fetch size of your query, however creating about 50k of objects will require some time. Object creation is relatively slow, Also make sure you have proper equals and hashcode implementations for your beans."},{"owner":{"account_id":3215437,"reputation":496,"user_id":2714296,"accept_rate":43,"display_name":"pillesoft"},"score":0,"creation_date":1639491516,"post_id":70275538,"comment_id":124358104,"body_markdown":"increasing fetch size didn&#39;t help","body":"increasing fetch size didn&#39;t help"}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639085354,"creation_date":1638969366,"answer_id":70275635,"question_id":70275538,"body_markdown":"Certainly the serialization/deserialization process which is cumbersome and need too much memory. You can do many things about that :\r\n\r\n - Increase the memory params of your application. See JVM memory options.\r\n - Use a java library which can handle serialization faster/better than default JDK system. [Jackson][1] is pretty good.\r\n - Put a cache system in place to store objects and retrieve them faster. You can use Spring `@Cacheable` annotation, @see [https://www.baeldung.com/spring-cache-tutorial][2], or you can use Google [guava][3] libs to get a pretty good cache system.\r\n - Optimize your datamodel to have faster request/responses. See loading objects with [Fetch.EAGER / Fetch.LAZY diffs][4] and how you can do to get an optimized way to go for your application. \r\n - Use [Pagination][5] explained very well by John Thompson. It will be a faster way to retrieve a small set of results and let the users navigate inside them from 10 to 10 or 50 to 50.\r\n - Use NoSQL databases like Redis or MongoDB to get JSON objects for your frontend : [https://www.mongodb.com/compatibility/spring-boot][6]\r\n\r\n\r\nWith Pagination example, you can achieve a fast display of your dataset in your spring boot application : \r\n\r\n    public interface ProductRepository extends PagingAndSortingRepository&lt;Product, Integer&gt; {\r\n    \r\n        List&lt;Product&gt; findAllByPrice(double price, Pageable pageable);\r\n    }\r\n\r\nStarting point code from [https://www.baeldung.com/spring-data-jpa-pagination-sorting][7], with instructions you can follow to get it working pretty well, and it is certainly the best way for you to get things working very well.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://www.baeldung.com/spring-cache-tutorial\r\n  [3]: https://github.com/google/guava\r\n  [4]: https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\r\n  [5]: https://springframework.guru/spring-boot-pagination/\r\n  [6]: https://www.mongodb.com/compatibility/spring-boot\r\n  [7]: https://www.baeldung.com/spring-data-jpa-pagination-sorting","title":"spring boot repository findAll() too slow","body":"<p>Certainly the serialization/deserialization process which is cumbersome and need too much memory. You can do many things about that :</p>\n<ul>\n<li>Increase the memory params of your application. See JVM memory options.</li>\n<li>Use a java library which can handle serialization faster/better than default JDK system. <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> is pretty good.</li>\n<li>Put a cache system in place to store objects and retrieve them faster. You can use Spring <code>@Cacheable</code> annotation, @see <a href=\"https://www.baeldung.com/spring-cache-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cache-tutorial</a>, or you can use Google <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">guava</a> libs to get a pretty good cache system.</li>\n<li>Optimize your datamodel to have faster request/responses. See loading objects with <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\">Fetch.EAGER / Fetch.LAZY diffs</a> and how you can do to get an optimized way to go for your application.</li>\n<li>Use <a href=\"https://springframework.guru/spring-boot-pagination/\" rel=\"nofollow noreferrer\">Pagination</a> explained very well by John Thompson. It will be a faster way to retrieve a small set of results and let the users navigate inside them from 10 to 10 or 50 to 50.</li>\n<li>Use NoSQL databases like Redis or MongoDB to get JSON objects for your frontend : <a href=\"https://www.mongodb.com/compatibility/spring-boot\" rel=\"nofollow noreferrer\">https://www.mongodb.com/compatibility/spring-boot</a></li>\n</ul>\n<p>With Pagination example, you can achieve a fast display of your dataset in your spring boot application :</p>\n<pre><code>public interface ProductRepository extends PagingAndSortingRepository&lt;Product, Integer&gt; {\n\n    List&lt;Product&gt; findAllByPrice(double price, Pageable pageable);\n}\n</code></pre>\n<p>Starting point code from <a href=\"https://www.baeldung.com/spring-data-jpa-pagination-sorting\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-pagination-sorting</a>, with instructions you can follow to get it working pretty well, and it is certainly the best way for you to get things working very well.</p>\n"},{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638970633,"creation_date":1638970633,"answer_id":70275928,"question_id":70275538,"body_markdown":"@Benda has given good pointers and It would be helpful to attach jvisualvm and use CPU profiling to see where is the time spent. Since the rows are large in number drivers generally make multiple round trips to fetch large amount of data to avoid out of memory scenario and while they are being loaded by hibernate - it gets accumulated it in fist level cache. I once came across a scenario where the transaction was not marked readonly and so at the end Hibernate was trying to dirty check to see if something changed. \r\nAlso I would recommend you to integrate [Javamelody][1]. It&#39;s free, open-source and super easy to setup with Spring Boot ( just include a dependency in build). It can tell you the time spent in each use case with service level details and SQL timings - all with a good visual dashboard.\r\n\r\n\r\n  [1]: https://github.com/javamelody/javamelody","title":"spring boot repository findAll() too slow","body":"<p>@Benda has given good pointers and It would be helpful to attach jvisualvm and use CPU profiling to see where is the time spent. Since the rows are large in number drivers generally make multiple round trips to fetch large amount of data to avoid out of memory scenario and while they are being loaded by hibernate - it gets accumulated it in fist level cache. I once came across a scenario where the transaction was not marked readonly and so at the end Hibernate was trying to dirty check to see if something changed.\nAlso I would recommend you to integrate <a href=\"https://github.com/javamelody/javamelody\" rel=\"nofollow noreferrer\">Javamelody</a>. It's free, open-source and super easy to setup with Spring Boot ( just include a dependency in build). It can tell you the time spent in each use case with service level details and SQL timings - all with a good visual dashboard.</p>\n"},{"tags":[],"owner":{"account_id":3215437,"reputation":496,"user_id":2714296,"accept_rate":43,"display_name":"pillesoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639492190,"creation_date":1639492190,"answer_id":70350625,"question_id":70275538,"body_markdown":"Finally the solution for this issue was to change from JPA repository to JdbcTemplate.\r\n\r\nI constructed a query, and with a data mapper parameter I could get my list into a DTO type in Java.\r\nThe speed is unbelievable after those many trials with JPA query. which was 5 mins with JPA, it became 2 seconds with JdbcTemplate.query().\r\n\r\nafter all i would like to know what is changed from Spring 4.3 to Spring Boot 2.5.5","title":"spring boot repository findAll() too slow","body":"<p>Finally the solution for this issue was to change from JPA repository to JdbcTemplate.</p>\n<p>I constructed a query, and with a data mapper parameter I could get my list into a DTO type in Java.\nThe speed is unbelievable after those many trials with JPA query. which was 5 mins with JPA, it became 2 seconds with JdbcTemplate.query().</p>\n<p>after all i would like to know what is changed from Spring 4.3 to Spring Boot 2.5.5</p>\n"}],"owner":{"account_id":3215437,"reputation":496,"user_id":2714296,"accept_rate":43,"display_name":"pillesoft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70350625,"answer_count":3,"score":0,"last_activity_date":1639492288,"creation_date":1638968895,"question_id":70275538,"body_markdown":"I&#39;m experiencing a strange slowness in my new spring boot application, when I fetch a table for reporting purposes.\r\n\r\nThis is a simple table, no reference to other tables, and it has 5 columns. Rows are 50k.\r\nSo, I use the simple findAll() method, which is available in JpaRepository.\r\n\r\nWhen the &quot;destination&quot; result is the entity, the findAll() execution takes 5 minutes.\r\nWhen I setup DTO class projection, or interface projection, the execution takes 1-2 minutes.\r\n\r\nI believe this is still too much for that amount of data.\r\n\r\nMoreover hibernate statistics provides execution time like 0.5 seconds. What takes the remaining 1-2 minutes to get the data in DTO type?\r\n","title":"spring boot repository findAll() too slow","body":"<p>I'm experiencing a strange slowness in my new spring boot application, when I fetch a table for reporting purposes.</p>\n<p>This is a simple table, no reference to other tables, and it has 5 columns. Rows are 50k.\nSo, I use the simple findAll() method, which is available in JpaRepository.</p>\n<p>When the &quot;destination&quot; result is the entity, the findAll() execution takes 5 minutes.\nWhen I setup DTO class projection, or interface projection, the execution takes 1-2 minutes.</p>\n<p>I believe this is still too much for that amount of data.</p>\n<p>Moreover hibernate statistics provides execution time like 0.5 seconds. What takes the remaining 1-2 minutes to get the data in DTO type?</p>\n"},{"tags":["java","lastaccesstime"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1639480209,"post_id":70347832,"comment_id":124353738,"body_markdown":"i&#39;m not sure. but cant you copy the file and read it. once done you remove it the copie ?","body":"i&#39;m not sure. but cant you copy the file and read it. once done you remove it the copie ?"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639487497,"post_id":70347832,"comment_id":124356335,"body_markdown":"Copying a file requires accessing (reading) it @Hamza.","body":"Copying a file requires accessing (reading) it @Hamza."}],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639492262,"creation_date":1639489066,"answer_id":70349793,"question_id":70347832,"body_markdown":"I don&#39;t think there&#39;s a way to do this in Java (apart from implementing it natively with JNI OFC). I grepped [JDK sources at Github](https://github.com/openjdk/jdk) for instances of `O_NOATIME` and didn&#39;t get any hits.\r\n\r\nIf you peek into the [UnixChannelFactory class](https://github.com/openjdk/jdk/blob/07669e3bc65b1728d784e21ec83b437374f9fa19/src/java.base/unix/classes/sun/nio/fs/UnixChannelFactory.java) you can see the [Flags class](https://github.com/openjdk/jdk/blob/07669e3bc65b1728d784e21ec83b437374f9fa19/src/java.base/unix/classes/sun/nio/fs/UnixChannelFactory.java#L56) which, I think, lists all supported options:\r\n\r\n    protected static class Flags {\r\n        boolean read;\r\n        boolean write;\r\n        boolean append;\r\n        boolean truncateExisting;\r\n        boolean noFollowLinks;\r\n        boolean create;\r\n        boolean createNew;\r\n        boolean deleteOnClose;\r\n        boolean sync;\r\n        boolean dsync;\r\n        boolean direct;\r\n\r\n        static Flags toFlags(Set&lt;? extends OpenOption&gt; options) {\r\n            Flags flags = new Flags();\r\n            for (OpenOption option: options) {\r\n                if (option instanceof StandardOpenOption) {\r\n                    switch ((StandardOpenOption)option) {\r\n                        case READ : flags.read = true; break;\r\n                        case WRITE : flags.write = true; break;\r\n                        case APPEND : flags.append = true; break;\r\n                        case TRUNCATE_EXISTING : flags.truncateExisting = true; break;\r\n                        case CREATE : flags.create = true; break;\r\n                        case CREATE_NEW : flags.createNew = true; break;\r\n                        case DELETE_ON_CLOSE : flags.deleteOnClose = true; break;\r\n                        case SPARSE : /* ignore */ break;\r\n                        case SYNC : flags.sync = true; break;\r\n                        case DSYNC : flags.dsync = true; break;\r\n                        default: throw new UnsupportedOperationException();\r\n                    }\r\n                    continue;\r\n                }\r\n                if (option == LinkOption.NOFOLLOW_LINKS &amp;&amp; O_NOFOLLOW != 0) {\r\n                    flags.noFollowLinks = true;\r\n                    continue;\r\n                }\r\n\r\n                if (ExtendedOptions.DIRECT.matches(option)) {\r\n                    flags.direct = true;\r\n                    continue;\r\n                }\r\n\r\n                if (option == null)\r\n                    throw new NullPointerException();\r\n               throw new UnsupportedOperationException(option + &quot; not supported&quot;);\r\n            }\r\n            return flags;\r\n        }\r\n    }\r\n\r\nAs a workaround you can revert the last access time after accessing the file:\r\n\r\n    // Create a file and write some content (empty files don&#39;t have their last access time updated after accessing - at least on Windows)\r\n\tPath file = Files.createTempFile(null, null);\r\n\tFiles.write(file, Arrays.asList(&quot;line 1&quot;, &quot;line 2&quot;));\r\n\r\n    // Retrieve the last access time attribute before accessing the file\t\r\n\tFileTime lastAccessTimeBeforeAccessing = getLastAccessTime(file);\r\n\r\n    // Access the file\r\n\tFiles.readAllLines(file);\r\n\r\n    // Retrieve the last access time attribute after accessing the file\t\r\n\tFileTime lastAccessTimeAfterAccessing = getLastAccessTime(file);\r\n\r\n    // Revert the last access time\r\n\tFiles.setAttribute(file, &quot;basic:lastAccessTime&quot;, lastAccessTimeBeforeAccessing);\r\n\r\n    // Retrieve the last access time attribute after reverting it\t\r\n\tFileTime lastAccessTimeAfterReverting = getLastAccessTime(file);\r\n\r\n    // at this point:\r\n\t// * lastAccessTimeBeforeAccessing.equals(lastAccessTimeAfterAccessing) is false\r\n\t// * lastAccessTimeBeforeAccessing.equals(lastAccessTimeAfterReverting) is true\r\n\r\nThe `getLastAccessTime` function is:\r\n\r\n    private static FileTime getLastAccessTime(Path file) throws IOException {\r\n        BasicFileAttributes basicFileAttributes = Files.readAttributes(\r\n            file, BasicFileAttributes.class);\r\n        return basicFileAttributes.lastAccessTime();\r\n    }","title":"Read content of file in Java without updating last access time","body":"<p>I don't think there's a way to do this in Java (apart from implementing it natively with JNI OFC). I grepped <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">JDK sources at Github</a> for instances of <code>O_NOATIME</code> and didn't get any hits.</p>\n<p>If you peek into the <a href=\"https://github.com/openjdk/jdk/blob/07669e3bc65b1728d784e21ec83b437374f9fa19/src/java.base/unix/classes/sun/nio/fs/UnixChannelFactory.java\" rel=\"nofollow noreferrer\">UnixChannelFactory class</a> you can see the <a href=\"https://github.com/openjdk/jdk/blob/07669e3bc65b1728d784e21ec83b437374f9fa19/src/java.base/unix/classes/sun/nio/fs/UnixChannelFactory.java#L56\" rel=\"nofollow noreferrer\">Flags class</a> which, I think, lists all supported options:</p>\n<pre><code>protected static class Flags {\n    boolean read;\n    boolean write;\n    boolean append;\n    boolean truncateExisting;\n    boolean noFollowLinks;\n    boolean create;\n    boolean createNew;\n    boolean deleteOnClose;\n    boolean sync;\n    boolean dsync;\n    boolean direct;\n\n    static Flags toFlags(Set&lt;? extends OpenOption&gt; options) {\n        Flags flags = new Flags();\n        for (OpenOption option: options) {\n            if (option instanceof StandardOpenOption) {\n                switch ((StandardOpenOption)option) {\n                    case READ : flags.read = true; break;\n                    case WRITE : flags.write = true; break;\n                    case APPEND : flags.append = true; break;\n                    case TRUNCATE_EXISTING : flags.truncateExisting = true; break;\n                    case CREATE : flags.create = true; break;\n                    case CREATE_NEW : flags.createNew = true; break;\n                    case DELETE_ON_CLOSE : flags.deleteOnClose = true; break;\n                    case SPARSE : /* ignore */ break;\n                    case SYNC : flags.sync = true; break;\n                    case DSYNC : flags.dsync = true; break;\n                    default: throw new UnsupportedOperationException();\n                }\n                continue;\n            }\n            if (option == LinkOption.NOFOLLOW_LINKS &amp;&amp; O_NOFOLLOW != 0) {\n                flags.noFollowLinks = true;\n                continue;\n            }\n\n            if (ExtendedOptions.DIRECT.matches(option)) {\n                flags.direct = true;\n                continue;\n            }\n\n            if (option == null)\n                throw new NullPointerException();\n           throw new UnsupportedOperationException(option + &quot; not supported&quot;);\n        }\n        return flags;\n    }\n}\n</code></pre>\n<p>As a workaround you can revert the last access time after accessing the file:</p>\n<pre><code>// Create a file and write some content (empty files don't have their last access time updated after accessing - at least on Windows)\nPath file = Files.createTempFile(null, null);\nFiles.write(file, Arrays.asList(&quot;line 1&quot;, &quot;line 2&quot;));\n\n// Retrieve the last access time attribute before accessing the file    \nFileTime lastAccessTimeBeforeAccessing = getLastAccessTime(file);\n\n// Access the file\nFiles.readAllLines(file);\n\n// Retrieve the last access time attribute after accessing the file \nFileTime lastAccessTimeAfterAccessing = getLastAccessTime(file);\n\n// Revert the last access time\nFiles.setAttribute(file, &quot;basic:lastAccessTime&quot;, lastAccessTimeBeforeAccessing);\n\n// Retrieve the last access time attribute after reverting it   \nFileTime lastAccessTimeAfterReverting = getLastAccessTime(file);\n\n// at this point:\n// * lastAccessTimeBeforeAccessing.equals(lastAccessTimeAfterAccessing) is false\n// * lastAccessTimeBeforeAccessing.equals(lastAccessTimeAfterReverting) is true\n</code></pre>\n<p>The <code>getLastAccessTime</code> function is:</p>\n<pre><code>private static FileTime getLastAccessTime(Path file) throws IOException {\n    BasicFileAttributes basicFileAttributes = Files.readAttributes(\n        file, BasicFileAttributes.class);\n    return basicFileAttributes.lastAccessTime();\n}\n</code></pre>\n"}],"owner":{"account_id":586,"reputation":18207,"user_id":755,"accept_rate":59,"display_name":"pauldoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639492262,"creation_date":1639479895,"question_id":70347832,"body_markdown":"I am looking for a way to read the content of a file in Java without updating the last access time of the file.  In C on Linux this is achieved by passing the [`O_NOATIME` flag to `open`](https://man7.org/linux/man-pages/man2/open.2.html), and I&#39;m sure other languages and platforms have similar mechanisms.\r\n\r\nI&#39;m using [`Files.newInputStream`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#newInputStream(java.nio.file.Path,java.nio.file.OpenOption...)) which has various options that can be passed, but none that appear to match `O_NOATIME`.\r\n\r\nIs there a way to read the content of a file in Java on a unix-like platform without updating the last access time of the file?","title":"Read content of file in Java without updating last access time","body":"<p>I am looking for a way to read the content of a file in Java without updating the last access time of the file.  In C on Linux this is achieved by passing the <a href=\"https://man7.org/linux/man-pages/man2/open.2.html\" rel=\"nofollow noreferrer\"><code>O_NOATIME</code> flag to <code>open</code></a>, and I'm sure other languages and platforms have similar mechanisms.</p>\n<p>I'm using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#newInputStream(java.nio.file.Path,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.newInputStream</code></a> which has various options that can be passed, but none that appear to match <code>O_NOATIME</code>.</p>\n<p>Is there a way to read the content of a file in Java on a unix-like platform without updating the last access time of the file?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1639498761,"post_id":70350524,"comment_id":124361385,"body_markdown":"Where did you define the following classes: `Bombs`, `Bomb`, `InputLogic`, `ControlKeys`? I can&#39;t run your example without them.","body":"Where did you define the following classes: <code>Bombs</code>, <code>Bomb</code>, <code>InputLogic</code>, <code>ControlKeys</code>? I can&#39;t run your example without them."},{"owner":{"account_id":22905449,"reputation":71,"user_id":17221819,"display_name":"coderhelp"},"score":0,"creation_date":1639499361,"post_id":70350524,"comment_id":124361655,"body_markdown":"I defined those classes in a separate package titled ```games.MathIsBomb```. The button that was used to call it is in ```games``` package. If you need the github link, https://github.com/LirakR/Math-is-bomb_Educative-Java-Game","body":"I defined those classes in a separate package titled <code>games.MathIsBomb</code>. The button that was used to call it is in <code>games</code> package. If you need the github link, <a href=\"https://github.com/LirakR/Math-is-bomb_Educative-Java-Game\" rel=\"nofollow noreferrer\">github.com/LirakR/Math-is-bomb_Educative-Java-Game</a>"}],"owner":{"account_id":22905449,"reputation":71,"user_id":17221819,"display_name":"coderhelp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639492257,"creation_date":1639491766,"question_id":70350524,"body_markdown":"In my application, I called a MathIsBomb game from another package. I got the game from github and it works perfectly fine when I run the MathIsBomb.java file. However, when I click a button to call it, it only shows a blank page. Then, when the game ends (after losing 3 lives), suddenly you can see all the background and stuff.\r\n\r\nButton that calls it:\r\n```\r\n    private void MathIsBombButtonActionPerformed(java.awt.event.ActionEvent evt) {                                                 \r\n        MathIsBomb kbm = new MathIsBomb();\r\n    }    \r\n```\r\n\r\nMathIsBomb.java:\r\n```\r\npublic class MathIsBomb {\r\n    Bombs bs = new Bombs();\r\n    InputLogic il = new InputLogic();\r\n    ControllKeys ck = new ControllKeys();\r\n\t\r\n    int width = 1280;\r\n    int height=720;\r\n\t\r\n    int score = 0;\r\n    int lives=3;\r\n    int counter =0;\r\n    int sleep = 3;\r\n    int module = 400;\r\n\t\r\n    JLabel scoreL = new JLabel();\r\n    JLabel livesL = new JLabel();\r\n    JFrame f = new JFrame();\r\n\r\n    List&lt;Bomb&gt; bArray= new ArrayList&lt;Bomb&gt;(4);\r\n\t\r\n    public MathIsBomb() {\r\n        String[] options = new String[] {&quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication&quot;, &quot;All of them&quot;, &quot;Exit&quot;};\r\n        int response = JOptionPane.showOptionDialog(null, &quot;Type the answer and hit enter before the bomb touches the ground!&quot;, &quot;MathIsBomb&quot;,\r\n                JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[1]);\r\n        System.out.println(response);\r\n\t\t\r\n        Gui g= new Gui(width,height,f);\r\n\t\t\r\n        f.addKeyListener(ck);\r\n\t\t\r\n        scoreL.setText(&quot;Score: &quot;+score);\r\n        scoreL.setForeground(Color.white);\r\n        scoreL.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 30));\r\n        scoreL.setBounds(10,10,200,40);\r\n\t\t\r\n        livesL.setText(&quot;Lives: &quot;+lives);\r\n        livesL.setForeground(Color.red);\r\n        livesL.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 30));\r\n        livesL.setBounds(10,50,200,40);\r\n\t\t\r\n        g.add(scoreL);\r\n        g.add(livesL);\r\n\t\t\r\n        while(true) {\r\n            if(counter%module==0) {\r\n                switch(response) {\r\n                    case 0:bArray.add(bs.newPlusBomb(width)); break;\r\n                    case 1:bArray.add(bs.newMinusBomb(width)); break;\r\n                    case 2:bArray.add(bs.newMultiplyBomb(width)); break;\r\n                    case 3:bArray.add(bs.newAllBomb(width)); break;\r\n                    case 4: f.dispose();\r\n                }\r\n                g.add(bArray.get(bArray.size()-1));\r\n            }\r\n        try {\r\n            Thread.sleep(sleep);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\t\t\t\r\n        for(int i=0;i&lt;bArray.size();i++) {\r\n            bArray.get(i).move(1);\r\n            if(bArray.get(0).getY()&gt;height-200) {\r\n                ck.initArray();\r\n                lives--;\r\n                livesL.setText(&quot;Lives: &quot;+lives);\r\n                bArray.get(0).endofTime();\r\n                bArray.get(0).setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 50));\r\n                bArray.get(0).setForeground(Color.red);\r\n                bArray.get(0).setText(&quot;&quot;+bArray.get(0).output());\r\n                \r\n                try {\r\n                    Thread.sleep(300);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                bArray.get(0).setVisible(false);\r\n                bArray.remove(0);\r\n                \r\n                if(lives==0) {\r\n                    JOptionPane.showMessageDialog(null,&quot;Game Over.\\nYour score is : &quot;+score+&quot; points.&quot;); \r\n                    response = JOptionPane.showOptionDialog(null, &quot;Would you like to play again?&quot;, &quot;Math is BOMB&quot;,\r\n                            JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[1]);\r\n\t\t\t\t\t\t    \r\n                    System.out.println(response);\r\n                    for(int k=0;k&lt;bArray.size();k++) {\r\n                        bArray.get(k).setVisible(false);\r\n                        g.remove(bArray.get(k));\r\n                    }\r\n                    bArray.clear();\r\n                    lives=3;\r\n                    score=0;\r\n                    scoreL.setText(&quot;Score: &quot;+score);\r\n                    livesL.setText(&quot;Lives: &quot;+lives);\r\n                    counter =0;\r\n                    sleep = 4;\r\n                    module = 300;\r\n                    break;\t\t\t\t\r\n                }\r\n            }\r\n            \r\n            if(il.correctInput(ck.getArray(), bArray.get(0).output())) {\r\n                ck.initArray();\r\n                score++;\r\n                scoreL.setText(&quot;Score: &quot;+score);\r\n                bArray.get(0).endofTime();\r\n                bArray.get(0).setText(&quot;&quot;+bArray.get(0).output());\r\n                bArray.get(0).setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 50));\r\n\t\r\n                try {\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                bArray.get(0).setVisible(false);\r\n                bArray.remove(0);\r\n            }\r\n            \r\n            if(score&gt;=10 &amp;&amp; score&lt;20) {\r\n                sleep=3;\r\n                module=275;\r\n            }\r\n            else if(score&gt;=20) {\r\n                sleep=2;\r\n                module=225;\r\n            }\r\n        }\t\t\r\n            counter++;\r\n        }\r\n    }\r\n\t\r\n    public static void main(String[] args) {\r\n        new MathIsBomb();\r\n    }\r\n}\r\n```\r\n\r\nHow do I make all of it display correctly? Did I call the class incorrectly?","title":"Java Application game shows blank page and then loads after the game is complete","body":"<p>In my application, I called a MathIsBomb game from another package. I got the game from github and it works perfectly fine when I run the MathIsBomb.java file. However, when I click a button to call it, it only shows a blank page. Then, when the game ends (after losing 3 lives), suddenly you can see all the background and stuff.</p>\n<p>Button that calls it:</p>\n<pre><code>    private void MathIsBombButtonActionPerformed(java.awt.event.ActionEvent evt) {                                                 \n        MathIsBomb kbm = new MathIsBomb();\n    }    \n</code></pre>\n<p>MathIsBomb.java:</p>\n<pre><code>public class MathIsBomb {\n    Bombs bs = new Bombs();\n    InputLogic il = new InputLogic();\n    ControllKeys ck = new ControllKeys();\n    \n    int width = 1280;\n    int height=720;\n    \n    int score = 0;\n    int lives=3;\n    int counter =0;\n    int sleep = 3;\n    int module = 400;\n    \n    JLabel scoreL = new JLabel();\n    JLabel livesL = new JLabel();\n    JFrame f = new JFrame();\n\n    List&lt;Bomb&gt; bArray= new ArrayList&lt;Bomb&gt;(4);\n    \n    public MathIsBomb() {\n        String[] options = new String[] {&quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication&quot;, &quot;All of them&quot;, &quot;Exit&quot;};\n        int response = JOptionPane.showOptionDialog(null, &quot;Type the answer and hit enter before the bomb touches the ground!&quot;, &quot;MathIsBomb&quot;,\n                JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[1]);\n        System.out.println(response);\n        \n        Gui g= new Gui(width,height,f);\n        \n        f.addKeyListener(ck);\n        \n        scoreL.setText(&quot;Score: &quot;+score);\n        scoreL.setForeground(Color.white);\n        scoreL.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 30));\n        scoreL.setBounds(10,10,200,40);\n        \n        livesL.setText(&quot;Lives: &quot;+lives);\n        livesL.setForeground(Color.red);\n        livesL.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 30));\n        livesL.setBounds(10,50,200,40);\n        \n        g.add(scoreL);\n        g.add(livesL);\n        \n        while(true) {\n            if(counter%module==0) {\n                switch(response) {\n                    case 0:bArray.add(bs.newPlusBomb(width)); break;\n                    case 1:bArray.add(bs.newMinusBomb(width)); break;\n                    case 2:bArray.add(bs.newMultiplyBomb(width)); break;\n                    case 3:bArray.add(bs.newAllBomb(width)); break;\n                    case 4: f.dispose();\n                }\n                g.add(bArray.get(bArray.size()-1));\n            }\n        try {\n            Thread.sleep(sleep);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n            \n        for(int i=0;i&lt;bArray.size();i++) {\n            bArray.get(i).move(1);\n            if(bArray.get(0).getY()&gt;height-200) {\n                ck.initArray();\n                lives--;\n                livesL.setText(&quot;Lives: &quot;+lives);\n                bArray.get(0).endofTime();\n                bArray.get(0).setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 50));\n                bArray.get(0).setForeground(Color.red);\n                bArray.get(0).setText(&quot;&quot;+bArray.get(0).output());\n                \n                try {\n                    Thread.sleep(300);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                bArray.get(0).setVisible(false);\n                bArray.remove(0);\n                \n                if(lives==0) {\n                    JOptionPane.showMessageDialog(null,&quot;Game Over.\\nYour score is : &quot;+score+&quot; points.&quot;); \n                    response = JOptionPane.showOptionDialog(null, &quot;Would you like to play again?&quot;, &quot;Math is BOMB&quot;,\n                            JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, options, options[1]);\n                            \n                    System.out.println(response);\n                    for(int k=0;k&lt;bArray.size();k++) {\n                        bArray.get(k).setVisible(false);\n                        g.remove(bArray.get(k));\n                    }\n                    bArray.clear();\n                    lives=3;\n                    score=0;\n                    scoreL.setText(&quot;Score: &quot;+score);\n                    livesL.setText(&quot;Lives: &quot;+lives);\n                    counter =0;\n                    sleep = 4;\n                    module = 300;\n                    break;              \n                }\n            }\n            \n            if(il.correctInput(ck.getArray(), bArray.get(0).output())) {\n                ck.initArray();\n                score++;\n                scoreL.setText(&quot;Score: &quot;+score);\n                bArray.get(0).endofTime();\n                bArray.get(0).setText(&quot;&quot;+bArray.get(0).output());\n                bArray.get(0).setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 50));\n    \n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                bArray.get(0).setVisible(false);\n                bArray.remove(0);\n            }\n            \n            if(score&gt;=10 &amp;&amp; score&lt;20) {\n                sleep=3;\n                module=275;\n            }\n            else if(score&gt;=20) {\n                sleep=2;\n                module=225;\n            }\n        }       \n            counter++;\n        }\n    }\n    \n    public static void main(String[] args) {\n        new MathIsBomb();\n    }\n}\n</code></pre>\n<p>How do I make all of it display correctly? Did I call the class incorrectly?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1639494076,"post_id":70350618,"comment_id":124359282,"body_markdown":"Spring boot already gracefully shutsdown. So instead of doing this, do it the other way around, let Spring Boot manage this and trigger your stops.","body":"Spring boot already gracefully shutsdown. So instead of doing this, do it the other way around, let Spring Boot manage this and trigger your stops."},{"owner":{"account_id":19056850,"reputation":1,"user_id":13913804,"display_name":"Stewart Little"},"score":0,"creation_date":1639500193,"post_id":70350618,"comment_id":124361999,"body_markdown":"@M.Deinum how would I then do all the finishing tasks if Spring Boot manages the termination?","body":"@M.Deinum how would I then do all the finishing tasks if Spring Boot manages the termination?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639549845,"post_id":70350618,"comment_id":124374210,"body_markdown":"Spring has callbacks which are triggered when an application shutsdown. Use those instead of this. That way it is part of the termination of the Spring Boot application.","body":"Spring has callbacks which are triggered when an application shutsdown. Use those instead of this. That way it is part of the termination of the Spring Boot application."}],"owner":{"account_id":19056850,"reputation":1,"user_id":13913804,"display_name":"Stewart Little"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639492148,"creation_date":1639492148,"question_id":70350618,"body_markdown":"I have a function that catches the terminate signal and does some finishing touches to the application (logging, closing some of the internal app components, etc.) After doing so, I want to relay this terminate signal onto Spring Boot so it gracefully terminates/shuts down. Right now it just hangs for 3 minutes before dying. \r\n\r\n```\r\n{\r\n...\r\nfinal Signal signal = new Signal(&quot;TERM&quot;);\r\nSignal.handle(signal, Signal -&gt; { terminate(signal); });\r\n}\r\n\r\nprivate static void terminate(Signal signal) {\r\n     EZLog.getGlobalInstance().info(&quot;Signal received: &quot; + signal.getName());\r\n     app.shutdown();\r\n     updateECSTaskStatusToStopped();\r\n     // relay shutdown onto spring boot\r\n}\r\n\r\n```\r\n\r\nHow would I approach that correctly?","title":"How to relay the terminate signal onto Spring Boot if handling the signal in code?","body":"<p>I have a function that catches the terminate signal and does some finishing touches to the application (logging, closing some of the internal app components, etc.) After doing so, I want to relay this terminate signal onto Spring Boot so it gracefully terminates/shuts down. Right now it just hangs for 3 minutes before dying.</p>\n<pre><code>{\n...\nfinal Signal signal = new Signal(&quot;TERM&quot;);\nSignal.handle(signal, Signal -&gt; { terminate(signal); });\n}\n\nprivate static void terminate(Signal signal) {\n     EZLog.getGlobalInstance().info(&quot;Signal received: &quot; + signal.getName());\n     app.shutdown();\n     updateECSTaskStatusToStopped();\n     // relay shutdown onto spring boot\n}\n\n</code></pre>\n<p>How would I approach that correctly?</p>\n"},{"tags":["java","properties","config"],"answers":[{"tags":[],"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639469085,"creation_date":1639469085,"answer_id":70345569,"question_id":70344614,"body_markdown":"You should be able to do that (with a little change in your properties file structure) using Jackson library [HERE][1]\r\n\r\nThe file format has to follow the commonly used convention with a period (“.”) as a logical path separator. \r\n\r\nExample:\r\n\r\n    proceedings[1].name = NameOfProc\r\n    proceedings[1].implementation = path.to.main.class.of.jar\r\n    proceedings[1].libraryPath  = lib/somejar.jar\r\n    \r\n    proceedings[2].name = NameOfProc2\r\n    proceedings[2].implementation = path2.to.main.class.of.jar\r\n    proceedings[2].libraryPath  = lib/somejar2.jar\r\n\r\nOnce done - you should now be able to bind it to the following structure:\r\n\r\n    public class Configuration {\r\n       public List&lt;Proceeding&gt; proceedings;\r\n    }\r\n    \r\n    public class Proceeding {\r\n        String name;\r\n        String implementation;\r\n        String libraryPath;\r\n    }\r\n\r\nUsing something like this:\r\n\r\n    JavaPropsMapper mapper = new JavaPropsMapper();\r\n    \r\n    Configuration cfg = mapper.readValue(new File(&quot;path_to_your.properties&quot;),\r\n       Configuration.class);\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-text/tree/2.14/properties","title":"How to create a relationship between specific pairs of a config.properties file in java?","body":"<p>You should be able to do that (with a little change in your properties file structure) using Jackson library <a href=\"https://github.com/FasterXML/jackson-dataformats-text/tree/2.14/properties\" rel=\"nofollow noreferrer\">HERE</a></p>\n<p>The file format has to follow the commonly used convention with a period (“.”) as a logical path separator.</p>\n<p>Example:</p>\n<pre><code>proceedings[1].name = NameOfProc\nproceedings[1].implementation = path.to.main.class.of.jar\nproceedings[1].libraryPath  = lib/somejar.jar\n\nproceedings[2].name = NameOfProc2\nproceedings[2].implementation = path2.to.main.class.of.jar\nproceedings[2].libraryPath  = lib/somejar2.jar\n</code></pre>\n<p>Once done - you should now be able to bind it to the following structure:</p>\n<pre><code>public class Configuration {\n   public List&lt;Proceeding&gt; proceedings;\n}\n\npublic class Proceeding {\n    String name;\n    String implementation;\n    String libraryPath;\n}\n</code></pre>\n<p>Using something like this:</p>\n<pre><code>JavaPropsMapper mapper = new JavaPropsMapper();\n\nConfiguration cfg = mapper.readValue(new File(&quot;path_to_your.properties&quot;),\n   Configuration.class);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639491920,"creation_date":1639470875,"answer_id":70345887,"question_id":70344614,"body_markdown":"You can convert it to a nested Map.\r\n\r\n    public static void main(String[] args) {\r\n        Properties prop = new Properties();\r\n        prop.setProperty(&quot;PROC.1&quot;, &quot;procOne&quot;);\r\n        prop.setProperty(&quot;IMPL.1&quot;, &quot;implOne&quot;);\r\n        prop.setProperty(&quot;LIB.1&quot;, &quot;libOne&quot;);\r\n        prop.setProperty(&quot;PROC.2&quot;, &quot;procTwo&quot;);\r\n        prop.setProperty(&quot;IMPL.2&quot;, &quot;implTwo&quot;);\r\n        prop.setProperty(&quot;LIB.2&quot;, &quot;libTwo&quot;);\r\n        System.out.println(&quot;prop=&quot; + prop);\r\n\r\n        Map&lt;String, Map&lt;String, String&gt;&gt; mappedProp = prop.entrySet().stream()\r\n            .map(e -&gt; Map.entry(e.getKey().toString(), e.getValue().toString()))\r\n            .collect(Collectors.groupingBy(\r\n                e -&gt; e.getKey().replaceFirst(&quot;\\\\..*$&quot;, &quot;&quot;),\r\n                Collectors.mapping(Function.identity(),\r\n                    Collectors.toMap(e -&gt; e.getKey().replaceFirst(&quot;^.*\\\\.&quot;, &quot;&quot;),\r\n                        Map.Entry::getValue))));\r\n\r\n        System.out.println(&quot;mappedProp=&quot; + mappedProp);\r\n        System.out.println(&quot;PROC=&quot; + mappedProp.get(&quot;PROC&quot;));\r\n        System.out.println(&quot;PROC.1=&quot; + mappedProp.get(&quot;PROC&quot;).get(&quot;1&quot;));\r\n    }\r\n\r\noutput:\r\n\r\n    prop={IMPL.2=implTwo, PROC.1=procOne, PROC.2=procTwo, IMPL.1=implOne, LIB.2=libTwo, LIB.1=libOne}\r\n    mappedProp={IMPL={1=implOne, 2=implTwo}, PROC={1=procOne, 2=procTwo}, LIB={1=libOne, 2=libTwo}}\r\n    PROC={1=procOne, 2=procTwo}\r\n    PROC.1=procOne\r\n\r\nAlternatively, you can do it with a simple loop.\r\n\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; mappedProp = new LinkedHashMap&lt;&gt;();\r\n    for (Map.Entry&lt;Object, Object&gt; e : prop.entrySet()) {\r\n        String key = e.getKey().toString();\r\n        String key1 = key.replaceFirst(&quot;\\\\..*$&quot;, &quot;&quot;);\r\n        String key2 = key.replaceFirst(&quot;^.*\\\\.&quot;, &quot;&quot;);\r\n        String value = e.getValue().toString();\r\n        mappedProp.computeIfAbsent(key1, k -&gt; new LinkedHashMap&lt;&gt;()).put(key2, value);\r\n    }\r\n\r\n\r\n","title":"How to create a relationship between specific pairs of a config.properties file in java?","body":"<p>You can convert it to a nested Map.</p>\n<pre><code>public static void main(String[] args) {\n    Properties prop = new Properties();\n    prop.setProperty(&quot;PROC.1&quot;, &quot;procOne&quot;);\n    prop.setProperty(&quot;IMPL.1&quot;, &quot;implOne&quot;);\n    prop.setProperty(&quot;LIB.1&quot;, &quot;libOne&quot;);\n    prop.setProperty(&quot;PROC.2&quot;, &quot;procTwo&quot;);\n    prop.setProperty(&quot;IMPL.2&quot;, &quot;implTwo&quot;);\n    prop.setProperty(&quot;LIB.2&quot;, &quot;libTwo&quot;);\n    System.out.println(&quot;prop=&quot; + prop);\n\n    Map&lt;String, Map&lt;String, String&gt;&gt; mappedProp = prop.entrySet().stream()\n        .map(e -&gt; Map.entry(e.getKey().toString(), e.getValue().toString()))\n        .collect(Collectors.groupingBy(\n            e -&gt; e.getKey().replaceFirst(&quot;\\\\..*$&quot;, &quot;&quot;),\n            Collectors.mapping(Function.identity(),\n                Collectors.toMap(e -&gt; e.getKey().replaceFirst(&quot;^.*\\\\.&quot;, &quot;&quot;),\n                    Map.Entry::getValue))));\n\n    System.out.println(&quot;mappedProp=&quot; + mappedProp);\n    System.out.println(&quot;PROC=&quot; + mappedProp.get(&quot;PROC&quot;));\n    System.out.println(&quot;PROC.1=&quot; + mappedProp.get(&quot;PROC&quot;).get(&quot;1&quot;));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>prop={IMPL.2=implTwo, PROC.1=procOne, PROC.2=procTwo, IMPL.1=implOne, LIB.2=libTwo, LIB.1=libOne}\nmappedProp={IMPL={1=implOne, 2=implTwo}, PROC={1=procOne, 2=procTwo}, LIB={1=libOne, 2=libTwo}}\nPROC={1=procOne, 2=procTwo}\nPROC.1=procOne\n</code></pre>\n<p>Alternatively, you can do it with a simple loop.</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; mappedProp = new LinkedHashMap&lt;&gt;();\nfor (Map.Entry&lt;Object, Object&gt; e : prop.entrySet()) {\n    String key = e.getKey().toString();\n    String key1 = key.replaceFirst(&quot;\\\\..*$&quot;, &quot;&quot;);\n    String key2 = key.replaceFirst(&quot;^.*\\\\.&quot;, &quot;&quot;);\n    String value = e.getValue().toString();\n    mappedProp.computeIfAbsent(key1, k -&gt; new LinkedHashMap&lt;&gt;()).put(key2, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639481786,"creation_date":1639481786,"answer_id":70348217,"question_id":70344614,"body_markdown":"Match keySet of properties against a RegEx patern as shown in this example where the collection of interresting keys is done in method grepPropertyKey()\r\n\r\n    public class PropertySample {\r\n\r\n\tProperties properties = new Properties();\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tPropertySample me = new PropertySample();\r\n\t\tme.run();\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tprotected void run() {\r\n\r\n\t\t// Setup some properties\r\n\t\tproperties.put(&quot;PROC.1&quot;, &quot;NameOfProc&quot;);\r\n\t\tproperties.put(&quot;IMPL.1&quot;, &quot;path.to.main.class.of.jar&quot;);\r\n\t\tproperties.put(&quot;LIB.1&quot;, &quot;lib/somejar.jar&quot;);\r\n\r\n\t\tproperties.put(&quot;PROC.2&quot;, &quot;NameOfOtherProc&quot;);\r\n\t\tproperties.put(&quot;IMPL.2&quot;, &quot;path.to.main.someOtherClass.of.jar&quot;);\r\n\t\tproperties.put(&quot;LIB.2&quot;, &quot;lib/someOtherjar.jar&quot;);\r\n\t\t\r\n\t\tfor(int index = 1; index &lt;=2; index++) {\r\n\t\t\r\n\t\t\t/* get list of keys filtered by the RegEx:\r\n\t\t\t *   a: From begin of the string consume all characters NOT matching a literal dot\r\n\t\t\t *   b: consume one literal dot\r\n\t\t\t *   c: MATCH the literal number given by index\r\n\t\t\t *   d: match anything else up to end of string\r\n\t\t\t */\r\n\t\t\tString regEx = &quot;^[^\\\\.]+\\\\.&quot; + Integer.toString(index) + &quot;.*&quot;;\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; keyList = grepPropertyKey(regEx);\r\n\t\t\t\r\n\t\t\tfor(String key: keyList) {\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;index: &quot; + index \r\n\t\t\t\t  + &quot; key: &quot; + key\r\n\t\t\t\t  + &quot;\\t value: &quot; + properties.get(key)\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t} // index\r\n\t\t\t\t\r\n\t} // main()\r\n\r\n\r\n\tprotected List&lt;String&gt; grepPropertyKey(final String aPattern) {\r\n\t\t\r\n\t\t// prepare result set\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\t// get the key set from properties\r\n\t\tfor(Object key : properties.keySet()) {\r\n\t\t\t\r\n\t\t\t// and match each key against the filter given in aPatern \r\n\t\t\tif(((String)key).matches(aPattern)) {\r\n\t\t\t\t\r\n\t\t\t\t// add match to result\r\n\t\t\t\tresult.add((String)key);\r\n\t\t\t\t\r\n\t\t\t} // fi\r\n\t\t\t\r\n\t\t} // rof\r\n\t\t\r\n\t\treturn result;\r\n\t\t\r\n\t} // grepPropertyKey()\r\n\r\n\r\n}\r\n\r\nThe output is \r\n\r\n    index: 1 key: LIB.1\t     value: lib/somejar.jar\r\n    index: 1 key: PROC.1\t value: NameOfProc\r\n    index: 1 key: IMPL.1\t value: path.to.main.class.of.jar\r\n\r\n    index: 2 key: LIB.2\t     value: lib/someOtherjar.jar\r\n    index: 2 key: PROC.2\t value: NameOfOtherProc\r\n    index: 2 key: IMPL.2\t value: path.to.main.someOtherClass.of.jar\r\n    \r\n","title":"How to create a relationship between specific pairs of a config.properties file in java?","body":"<p>Match keySet of properties against a RegEx patern as shown in this example where the collection of interresting keys is done in method grepPropertyKey()</p>\n<pre><code>public class PropertySample {\n\nProperties properties = new Properties();\n\n\npublic static void main(String[] args) {\n    \n    PropertySample me = new PropertySample();\n    me.run();\n    \n}\n\n\nprotected void run() {\n\n    // Setup some properties\n    properties.put(&quot;PROC.1&quot;, &quot;NameOfProc&quot;);\n    properties.put(&quot;IMPL.1&quot;, &quot;path.to.main.class.of.jar&quot;);\n    properties.put(&quot;LIB.1&quot;, &quot;lib/somejar.jar&quot;);\n\n    properties.put(&quot;PROC.2&quot;, &quot;NameOfOtherProc&quot;);\n    properties.put(&quot;IMPL.2&quot;, &quot;path.to.main.someOtherClass.of.jar&quot;);\n    properties.put(&quot;LIB.2&quot;, &quot;lib/someOtherjar.jar&quot;);\n    \n    for(int index = 1; index &lt;=2; index++) {\n    \n        /* get list of keys filtered by the RegEx:\n         *   a: From begin of the string consume all characters NOT matching a literal dot\n         *   b: consume one literal dot\n         *   c: MATCH the literal number given by index\n         *   d: match anything else up to end of string\n         */\n        String regEx = &quot;^[^\\\\.]+\\\\.&quot; + Integer.toString(index) + &quot;.*&quot;;\n        \n        List&lt;String&gt; keyList = grepPropertyKey(regEx);\n        \n        for(String key: keyList) {\n            System.out.println(\n                &quot;index: &quot; + index \n              + &quot; key: &quot; + key\n              + &quot;\\t value: &quot; + properties.get(key)\n            );\n            \n        }\n        \n        System.out.println();\n        \n    } // index\n            \n} // main()\n\n\nprotected List&lt;String&gt; grepPropertyKey(final String aPattern) {\n    \n    // prepare result set\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    \n    // get the key set from properties\n    for(Object key : properties.keySet()) {\n        \n        // and match each key against the filter given in aPatern \n        if(((String)key).matches(aPattern)) {\n            \n            // add match to result\n            result.add((String)key);\n            \n        } // fi\n        \n    } // rof\n    \n    return result;\n    \n} // grepPropertyKey()\n</code></pre>\n<p>}</p>\n<p>The output is</p>\n<pre><code>index: 1 key: LIB.1      value: lib/somejar.jar\nindex: 1 key: PROC.1     value: NameOfProc\nindex: 1 key: IMPL.1     value: path.to.main.class.of.jar\n\nindex: 2 key: LIB.2      value: lib/someOtherjar.jar\nindex: 2 key: PROC.2     value: NameOfOtherProc\nindex: 2 key: IMPL.2     value: path.to.main.someOtherClass.of.jar\n</code></pre>\n"}],"owner":{"account_id":21739961,"reputation":1106,"user_id":16047487,"display_name":"Maik Hasler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70345569,"answer_count":3,"score":1,"last_activity_date":1639491920,"creation_date":1639463419,"question_id":70344614,"body_markdown":"I&#39;ve multiple external JAR files, which include special proceedings for my application. The application itself just needs one proceeding at the time, depending on the proceeding name entered by the user. \r\n\r\nWith that beeing said, I&#39;ve created a `config.properties` file, which contains relevant informations about each proceeding.\r\n\r\n**config.properties**\r\n```\r\nPROC.1=NameOfProc\r\nIMPL.1=path.to.main.class.of.jar\r\nLIB.1=lib/somejar.jar\r\n\r\nPROC.2=NameOfProc\r\nIMPL.2=path.to.main.class.of.jar\r\nLIB.2=lib/somejar.jar\r\n\r\n...\r\n```\r\n\r\nI&#39;m already able to read the `config.properties` file, but I can&#39;t create a relationship between the pairs, which belong together.\r\n\r\n**java code**\r\n```java\r\ntry {\r\n    Properties prop = new Properties();\r\n    prop.load(new FileInputStream(&quot;path/to/config.properties&quot;));\r\n    String proc = properties.getProperty(&quot;PROC.1&quot;);\r\n    String impl = properties.getProperty(&quot;IMPL.1&quot;);\r\n    String lib = properties.getProperty(&quot;LIB.1&quot;);\r\n} catch (Exception e) {\r\n\r\n}\r\n```\r\n\r\nI am now wondering how I can create a relationship between the pairs, so that I can recieve the `IMPL.X` value and `LIB.X` value by only having the `PROC.X` name.\r\n\r\nDoes anybody knows how I can achieve this? I highly appreciate any kind of help, sheers!","title":"How to create a relationship between specific pairs of a config.properties file in java?","body":"<p>I've multiple external JAR files, which include special proceedings for my application. The application itself just needs one proceeding at the time, depending on the proceeding name entered by the user.</p>\n<p>With that beeing said, I've created a <code>config.properties</code> file, which contains relevant informations about each proceeding.</p>\n<p><strong>config.properties</strong></p>\n<pre><code>PROC.1=NameOfProc\nIMPL.1=path.to.main.class.of.jar\nLIB.1=lib/somejar.jar\n\nPROC.2=NameOfProc\nIMPL.2=path.to.main.class.of.jar\nLIB.2=lib/somejar.jar\n\n...\n</code></pre>\n<p>I'm already able to read the <code>config.properties</code> file, but I can't create a relationship between the pairs, which belong together.</p>\n<p><strong>java code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    Properties prop = new Properties();\n    prop.load(new FileInputStream(&quot;path/to/config.properties&quot;));\n    String proc = properties.getProperty(&quot;PROC.1&quot;);\n    String impl = properties.getProperty(&quot;IMPL.1&quot;);\n    String lib = properties.getProperty(&quot;LIB.1&quot;);\n} catch (Exception e) {\n\n}\n</code></pre>\n<p>I am now wondering how I can create a relationship between the pairs, so that I can recieve the <code>IMPL.X</code> value and <code>LIB.X</code> value by only having the <code>PROC.X</code> name.</p>\n<p>Does anybody knows how I can achieve this? I highly appreciate any kind of help, sheers!</p>\n"},{"tags":["java","file-io","parameters"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":2,"creation_date":1412764393,"post_id":26254665,"comment_id":41185523,"body_markdown":"XML or JSON. I think Spring uses Jackson. You also have SAX/StaX/DOM in-house.","body":"XML or JSON. I think Spring uses Jackson. You also have SAX/StaX/DOM in-house."},{"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"score":0,"creation_date":1412766460,"post_id":26254665,"comment_id":41186611,"body_markdown":"I see votes on closing the question as &quot;to broad&quot;. I expected duplicate or maybe opinion-based, but not this reason because I actually fill my question is quite precise. Could anyone explain why it would be too broad? Basically I hope for answers to state one (or 2) way(s) to answer my requirement, if possible with some positionning w.r.t the &quot;practical&quot; points I listed. A real plus would be an example parameter file to evaluate point 3, and/or a little code example to evaluate point 2.","body":"I see votes on closing the question as &quot;to broad&quot;. I expected duplicate or maybe opinion-based, but not this reason because I actually fill my question is quite precise. Could anyone explain why it would be too broad? Basically I hope for answers to state one (or 2) way(s) to answer my requirement, if possible with some positionning w.r.t the &quot;practical&quot; points I listed. A real plus would be an example parameter file to evaluate point 3, and/or a little code example to evaluate point 2."}],"answers":[{"tags":[],"owner":{"account_id":1886487,"reputation":396557,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1412774898,"creation_date":1412767901,"answer_id":26255871,"question_id":26254665,"body_markdown":"I recommend using XML files and using [JAXB][1] to load them.\r\n\r\nWhy? Because of the following pros:\r\n\r\n- Because it is awefully simple.\r\n- No external libraries are needed.\r\n- The config file is well readable (simple XML), it can be edited with any text editors or advanced XML editors.\r\n- It is flexible enough to add other data later on to the parameters.\r\n- Also very easy to modify/save parameters from code at runtime (see at the end).\r\n- Thanks to XML you don&#39;t have to worry about character encoding (like in case of properties files).\r\n\r\n**Modelling:**\r\n\r\nFirst you need to create classes to &quot;model&quot; your parameters:\r\n\r\n    class Parameters {\r\n        @XmlElement(name = &quot;item&quot;)\r\n        public List&lt;Item&gt; items;\r\n    }\r\n    \r\n    class Item {\r\n        public String fileName;\r\n        public String contentType;\r\n    }\r\n\r\n**Example input XML file:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;parameters&gt;\r\n        &lt;item&gt;\r\n            &lt;fileName&gt;item1.txt&lt;/fileName&gt;\r\n            &lt;contentType&gt;individual&lt;/contentType&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n            &lt;fileName&gt;item2.txt&lt;/fileName&gt;\r\n            &lt;contentType&gt;group&lt;/contentType&gt;\r\n        &lt;/item&gt;\r\n    &lt;/parameters&gt;\r\n\r\n**Loading the parameters**\r\n\r\nAnd this is how you can load it, it&#39;s only 1 method call:\r\n\r\n    Parameters p = JAXB.unmarshal(new File(&quot;params.xml&quot;), Parameters.class);\r\n    \r\n    for (Item item : p.items)\r\n        System.out.println(item.fileName + &quot;: &quot; + item.contentType);\r\n\r\n**Output:**\r\n\r\n    item1.txt: individual\r\n    item2.txt: group\r\n\r\nAlternative (simplified) XML input\r\n---\r\n\r\nTo make the input XML file shorter, more easily readable, we can make the following change:\r\n\r\n    class Item {\r\n        @XmlAttribute\r\n        public String fileName;\r\n        @XmlAttribute\r\n        public String contentType;\r\n    }\r\n\r\nHere we basically specified to store/read the data of an `Item` as XML attributes and not as child elements. With this modification the input XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;parameters&gt;\r\n        &lt;item fileName=&quot;item1.txt&quot; contentType=&quot;individual&quot; /&gt;\r\n        &lt;item fileName=&quot;item2.txt&quot; contentType=&quot;group&quot; /&gt;\r\n    &lt;/parameters&gt;\r\n\r\n\r\nModifying and Saving parameters at runtime\r\n---\r\n\r\nIf we want to modify the parameters and save them at runtime, it is just as easy as loading them: one line only. Below I modify the first item, and I also create and add a new third item:\r\n\r\n    // Modify item #1\r\n    p.items.get(0).fileName = &quot;item11.txt&quot;;\r\n    p.items.get(0).contentType = &quot;short&quot;;\r\n    \r\n    // Create and add a new item\r\n    Item item3 = new Item();\r\n    item3.fileName = &quot;item3.txt&quot;;\r\n    item3.contentType = &quot;newtype&quot;;\r\n    p.items.add(item3);\r\n    \r\n    // Save the modified parameters: 1 line:\r\n    JAXB.marshal(p, new File(&quot;params-out.xml&quot;));\r\n\r\n\r\n**Output of the modified parameters:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;parameters&gt;\r\n        &lt;item fileName=&quot;item11.txt&quot; contentType=&quot;short&quot;/&gt;\r\n        &lt;item fileName=&quot;item2.txt&quot; contentType=&quot;group&quot;/&gt;\r\n        &lt;item fileName=&quot;item3.txt&quot; contentType=&quot;newtype&quot;/&gt;\r\n    &lt;/parameters&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXB.html","title":"Practical parameter file reading in java","body":"<p>I recommend using XML files and using <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXB.html\" rel=\"nofollow\">JAXB</a> to load them.</p>\n\n<p>Why? Because of the following pros:</p>\n\n<ul>\n<li>Because it is awefully simple.</li>\n<li>No external libraries are needed.</li>\n<li>The config file is well readable (simple XML), it can be edited with any text editors or advanced XML editors.</li>\n<li>It is flexible enough to add other data later on to the parameters.</li>\n<li>Also very easy to modify/save parameters from code at runtime (see at the end).</li>\n<li>Thanks to XML you don't have to worry about character encoding (like in case of properties files).</li>\n</ul>\n\n<p><strong>Modelling:</strong></p>\n\n<p>First you need to create classes to \"model\" your parameters:</p>\n\n<pre><code>class Parameters {\n    @XmlElement(name = \"item\")\n    public List&lt;Item&gt; items;\n}\n\nclass Item {\n    public String fileName;\n    public String contentType;\n}\n</code></pre>\n\n<p><strong>Example input XML file:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;parameters&gt;\n    &lt;item&gt;\n        &lt;fileName&gt;item1.txt&lt;/fileName&gt;\n        &lt;contentType&gt;individual&lt;/contentType&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;fileName&gt;item2.txt&lt;/fileName&gt;\n        &lt;contentType&gt;group&lt;/contentType&gt;\n    &lt;/item&gt;\n&lt;/parameters&gt;\n</code></pre>\n\n<p><strong>Loading the parameters</strong></p>\n\n<p>And this is how you can load it, it's only 1 method call:</p>\n\n<pre><code>Parameters p = JAXB.unmarshal(new File(\"params.xml\"), Parameters.class);\n\nfor (Item item : p.items)\n    System.out.println(item.fileName + \": \" + item.contentType);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>item1.txt: individual\nitem2.txt: group\n</code></pre>\n\n<h2>Alternative (simplified) XML input</h2>\n\n<p>To make the input XML file shorter, more easily readable, we can make the following change:</p>\n\n<pre><code>class Item {\n    @XmlAttribute\n    public String fileName;\n    @XmlAttribute\n    public String contentType;\n}\n</code></pre>\n\n<p>Here we basically specified to store/read the data of an <code>Item</code> as XML attributes and not as child elements. With this modification the input XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;parameters&gt;\n    &lt;item fileName=\"item1.txt\" contentType=\"individual\" /&gt;\n    &lt;item fileName=\"item2.txt\" contentType=\"group\" /&gt;\n&lt;/parameters&gt;\n</code></pre>\n\n<h2>Modifying and Saving parameters at runtime</h2>\n\n<p>If we want to modify the parameters and save them at runtime, it is just as easy as loading them: one line only. Below I modify the first item, and I also create and add a new third item:</p>\n\n<pre><code>// Modify item #1\np.items.get(0).fileName = \"item11.txt\";\np.items.get(0).contentType = \"short\";\n\n// Create and add a new item\nItem item3 = new Item();\nitem3.fileName = \"item3.txt\";\nitem3.contentType = \"newtype\";\np.items.add(item3);\n\n// Save the modified parameters: 1 line:\nJAXB.marshal(p, new File(\"params-out.xml\"));\n</code></pre>\n\n<p><strong>Output of the modified parameters:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;parameters&gt;\n    &lt;item fileName=\"item11.txt\" contentType=\"short\"/&gt;\n    &lt;item fileName=\"item2.txt\" contentType=\"group\"/&gt;\n    &lt;item fileName=\"item3.txt\" contentType=\"newtype\"/&gt;\n&lt;/parameters&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639491513,"creation_date":1639491513,"answer_id":70350444,"question_id":26254665,"body_markdown":"## Spring boot\r\n\r\nI asked that question long time ago, when starting with spring and (properly with) java. But I do now hav a proper answer:\r\n\r\nWhen using Spring, it is customary to use one if the externalized configuration tools of spring-boot (see https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html). Spring-boot will read all .properties and/or .yml resources files. And use its content to fill java properties. There is two methods to access those:\r\n - using `@Value` on a property of inside a `@Component` class. it&#39;s the easiest method, but I don&#39;t recommend it as it is very difficult to track which properties are required for a project\r\n - Using `@ConfigurationProperties(prefix=&quot;my-project&quot;)` decorated class and spring boot will fill up the class fields accordingly\r\n\r\n---\r\n## Typesafe config \r\n\r\nI&#39;d like to add the for non-spring project, or even with those, I recommend to use the very practical and lightweight typesafe config lib: https://github.com/lightbend/config\r\n\r\nSame principle in practice, but without the Spring hidden/IoC system. Add property files in your resource (or jvm start config) and access it using typesafe config tool.","title":"Practical parameter file reading in java","body":"<h2>Spring boot</h2>\n<p>I asked that question long time ago, when starting with spring and (properly with) java. But I do now hav a proper answer:</p>\n<p>When using Spring, it is customary to use one if the externalized configuration tools of spring-boot (see <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html</a>). Spring-boot will read all .properties and/or .yml resources files. And use its content to fill java properties. There is two methods to access those:</p>\n<ul>\n<li>using <code>@Value</code> on a property of inside a <code>@Component</code> class. it's the easiest method, but I don't recommend it as it is very difficult to track which properties are required for a project</li>\n<li>Using <code>@ConfigurationProperties(prefix=&quot;my-project&quot;)</code> decorated class and spring boot will fill up the class fields accordingly</li>\n</ul>\n<hr />\n<h2>Typesafe config</h2>\n<p>I'd like to add the for non-spring project, or even with those, I recommend to use the very practical and lightweight typesafe config lib: <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">https://github.com/lightbend/config</a></p>\n<p>Same principle in practice, but without the Spring hidden/IoC system. Add property files in your resource (or jvm start config) and access it using typesafe config tool.</p>\n"}],"owner":{"account_id":1245419,"reputation":14808,"user_id":1206998,"accept_rate":80,"display_name":"Juh_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26255871,"answer_count":2,"score":2,"last_activity_date":1639491513,"creation_date":1412764116,"question_id":26254665,"body_markdown":"I am starting with java and I am wondering which (text) file format I should use to read some parameter sets, such as:\r\n\r\n    Item1:   // the item name is not important\r\n      - filename: item1.txt\r\n      - contentType: individual\r\n      - ...\r\n\r\n    Item2:\r\n      - filename: item2.txt\r\n      - contentType: group\r\n      - ...\r\n\r\n    ...\r\n\r\nThe purpose is to give a list of files to be loaded into a DB, as well as some description of file content.\r\n\r\nSo my question is:\r\n\r\n  - What practical parameter file format should I use?\r\n\r\nAnd by practical I mean: \r\n\r\n  1. no (additional) external libraries required, so typically &quot;standard&quot; java and spring (the framework used)\r\n  2. low development cost: easy parsing of the loaded file content, such as:\r\n\r\n```List&lt;Header&gt; headers = read_file(headerFileName);\r\nfor(Header header : headers){\r\n    MyTable table = new MyTable(header.contentType);\r\n    table.loadFromFile(header.filename);\r\n}```\r\n\r\n  3. file format readability (yaml&#39;d be nice, but it seems to require an external lib)\r\n\r\nNote: this question is similar to https://stackoverflow.com/q/883858/1206998, but I don&#39;t know much about the java ecosystem so I cannot be sure (eg. I understood that spring is an alternative to JavaEE). Here I tried to be more precise on my needs, and in particular on the &quot;shape&quot; of the parameters.","title":"Practical parameter file reading in java","body":"<p>I am starting with java and I am wondering which (text) file format I should use to read some parameter sets, such as:</p>\n\n<pre><code>Item1:   // the item name is not important\n  - filename: item1.txt\n  - contentType: individual\n  - ...\n\nItem2:\n  - filename: item2.txt\n  - contentType: group\n  - ...\n\n...\n</code></pre>\n\n<p>The purpose is to give a list of files to be loaded into a DB, as well as some description of file content.</p>\n\n<p>So my question is:</p>\n\n<ul>\n<li>What practical parameter file format should I use?</li>\n</ul>\n\n<p>And by practical I mean: </p>\n\n<ol>\n<li>no (additional) external libraries required, so typically \"standard\" java and spring (the framework used)</li>\n<li>low development cost: easy parsing of the loaded file content, such as:</li>\n</ol>\n\n<p><code>List&lt;Header&gt; headers = read_file(headerFileName);\nfor(Header header : headers){\n    MyTable table = new MyTable(header.contentType);\n    table.loadFromFile(header.filename);\n}</code></p>\n\n<ol start=\"3\">\n<li>file format readability (yaml'd be nice, but it seems to require an external lib)</li>\n</ol>\n\n<p>Note: this question is similar to <a href=\"https://stackoverflow.com/q/883858/1206998\">What is the best practice for reading property files in Java EE?</a>, but I don't know much about the java ecosystem so I cannot be sure (eg. I understood that spring is an alternative to JavaEE). Here I tried to be more precise on my needs, and in particular on the \"shape\" of the parameters.</p>\n"},{"tags":["java","string","jvm","pool"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1639477652,"post_id":70346805,"comment_id":124352851,"body_markdown":"No.  It has absolutely nothing to do with it.  But rather than arguing about it ... or asking for other peoples&#39; input ... you should BOTH download the OpenJDK source code and look at the evidence.","body":"No.  It has absolutely nothing to do with it.  But rather than arguing about it ... or asking for other peoples&#39; input ... you should BOTH download the OpenJDK source code and look at the evidence."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1639478372,"post_id":70346805,"comment_id":124353086,"body_markdown":"The constant pool is not the same as the String poo (used by `intern()`)l, BUT they are somehow *related* **&#185;** as described by [this](https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1-300-A-A) and the following point of the same section that you linked to (that is: before the class initialization is done, string entries in the constant pool will be the same as the corresponding one in the String pool) || **&#185;** &quot;has anything to do&quot; was the question","body":"The constant pool is not the same as the String poo (used by <code>intern()</code>)l, BUT they are somehow <i>related</i> <b>&#185;</b> as described by <a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1-300-A-A\" rel=\"nofollow noreferrer\">this</a> and the following point of the same section that you linked to (that is: before the class initialization is done, string entries in the constant pool will be the same as the corresponding one in the String pool) || <b>&#185;</b> &quot;has anything to do&quot; was the question"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639487931,"creation_date":1639487931,"answer_id":70349521,"question_id":70346805,"body_markdown":"The [JVMS&#160;&#167;5.1] says\r\n\r\n&gt; The Java Virtual Machine maintains a run-time constant pool for each class and interface ([&#167;2.5.5]).\r\n\r\nThe term “for each” means that there is not one run-time constant pool, but each class or interface has its own dedicated pool. The subsequent sentences make even clear that this data structure corresponds to the constant pool of a class file.\r\n\r\n&gt; The `constant_pool` table in the binary representation of a class or interface ([&#167;4.4]) is used to construct the run-time constant pool upon class or interface creation ([&#167;5.3]).\r\n\r\nIt should be clear that this per-class structure is not the same as the single global data structure used to canonicalize string instances throughout the entire runtime.\r\n\r\nBut since all uses of string constants in a class file are expressed as indices into the class file’s constant pool which is then used to construct the class’s run-time constant pool, there is a relationship between these uses and the global data structure. As stated [within &#167;5.1]\r\n\r\n&gt; The static constants in the run-time constant pool are also derived from entries in the `constant_pool` table in accordance with the structure of each entry:\r\n&gt; - A string constant is a `reference` to an instance of class `String`, and is derived from a `CONSTANT_String_info` structure ([&#167;4.4.3]). To derive a string constant, the Java Virtual Machine examines the sequence of code points given by the `CONSTANT_String_info` structure:\r\n&gt;   - If the method `String.intern` has previously been invoked on an instance of class `String` containing a sequence of Unicode code points identical to that given by the `CONSTANT_String_info` structure, then the string constant is a `reference` to that same instance of class `String`.\r\n&gt;   - Otherwise, a new instance of class `String` is created containing the sequence of Unicode code points given by the `CONSTANT_String_info` structure. The string constant is a `reference` to the new instance. Finally, the method `String.intern` is invoked on the new instance.\r\n\r\nSo formally, the `String` instances corresponding to the string constants used in a class are part of that class’s runtime constant pool but initialized in terms of `String.intern` to ensure that each class has canonicalized string instances in its pool.\r\n\r\nBut this relationship has only one direction. When application code invokes `String.intern()` explicitly, it won’t access a class’s run-time constant pool. It wouldn’t even be clear, which run-time constant pool we shall expect to be accessed.\r\n\r\n*So `intern()` has nothing do to with the run-time constant pool, at least not more than it has to do with every other caller.*\r\n\r\nA source of confusion is the fact that the data structure used by the JVM to implement `intern()` has no name in the JVMS or JLS at all. So, without a formal name, different names appear in different media. E.g., the [API documentation of `intern()`] says\r\n\r\n&gt; A pool of strings, initially empty, is maintained privately by the class `String`.\r\n\r\nIt’s typically some kind of hash table, but the term “pool” matches its purpose and since it exists at runtime, it’s not surprising that people come up with terms easy to confuse with the run-time constant pools of JVMS&#160;&#167;5.1.\r\n\r\nSo before starting a heated discussion with another developer, it’s important to clarify, whether everyone is talking about the same pool.\r\n\r\n---\r\n\r\nAs an addendum, I said above that the `String` is *formally* part of the run-time constant pool, as this hits implementation specific aspects.\r\n\r\nIn principle, a JVM could initialize all string entries of a class’s run-time constant pool with `String` instances when creating the pool. But as [this answer] demonstrates, this is not the case for the widely used HotSpot&#160;JVM which looks up or creates a `String` instance on the first use rather than class initialization time.\r\n\r\nThis implies that the run-time constant pool contains the raw character data in some form instead of a reference to a `String` instance. Once the `String` is constructed, it is referenced and reused by the code, but whether the run-time constant pool is modified to reference the `String` now or the bytecode instruction (`ldc`) keeps it, is not observable from the Java application. All we can observe, is that the `String` instance does not get garbage collected as long as the class exist.\r\n\r\n[JVMS&#160;&#167;5.1]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.1 (5.1. The Run-Time Constant Pool)\r\n[&#167;2.5.5]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.5 (2.5.5. Run-Time Constant Pool)\r\n[&#167;4.4]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.4 (4.4. The Constant Pool)\r\n[&#167;5.3]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.3 (5.3. Creation and Loading)\r\n[within &#167;5.1]: https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1-300\r\n[&#167;4.4.3]: https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.4.3 (4.4.3. The CONSTANT_String_info Structure)\r\n[API documentation of `intern()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#intern()\r\n[this answer]: https://stackoverflow.com/a/44929935/2711488 (answer to “the timing of String Literal loaded into StringTable in Java HotSpot vm”)","title":"Does String.intern has anything to to with JVM Run-Time Constant pool","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.1\" rel=\"nofollow noreferrer\" title=\"5.1. The Run-Time Constant Pool\">JVMS §5.1</a> says</p>\n<blockquote>\n<p>The Java Virtual Machine maintains a run-time constant pool for each class and interface (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.5\" rel=\"nofollow noreferrer\" title=\"2.5.5. Run-Time Constant Pool\">§2.5.5</a>).</p>\n</blockquote>\n<p>The term “for each” means that there is not one run-time constant pool, but each class or interface has its own dedicated pool. The subsequent sentences make even clear that this data structure corresponds to the constant pool of a class file.</p>\n<blockquote>\n<p>The <code>constant_pool</code> table in the binary representation of a class or interface (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.4\" rel=\"nofollow noreferrer\" title=\"4.4. The Constant Pool\">§4.4</a>) is used to construct the run-time constant pool upon class or interface creation (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.3\" rel=\"nofollow noreferrer\" title=\"5.3. Creation and Loading\">§5.3</a>).</p>\n</blockquote>\n<p>It should be clear that this per-class structure is not the same as the single global data structure used to canonicalize string instances throughout the entire runtime.</p>\n<p>But since all uses of string constants in a class file are expressed as indices into the class file’s constant pool which is then used to construct the class’s run-time constant pool, there is a relationship between these uses and the global data structure. As stated <a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1-300\" rel=\"nofollow noreferrer\">within §5.1</a></p>\n<blockquote>\n<p>The static constants in the run-time constant pool are also derived from entries in the <code>constant_pool</code> table in accordance with the structure of each entry:</p>\n<ul>\n<li>A string constant is a <code>reference</code> to an instance of class <code>String</code>, and is derived from a <code>CONSTANT_String_info</code> structure (<a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.4.3\" rel=\"nofollow noreferrer\" title=\"4.4.3. The CONSTANT_String_info Structure\">§4.4.3</a>). To derive a string constant, the Java Virtual Machine examines the sequence of code points given by the <code>CONSTANT_String_info</code> structure:\n<ul>\n<li>If the method <code>String.intern</code> has previously been invoked on an instance of class <code>String</code> containing a sequence of Unicode code points identical to that given by the <code>CONSTANT_String_info</code> structure, then the string constant is a <code>reference</code> to that same instance of class <code>String</code>.</li>\n<li>Otherwise, a new instance of class <code>String</code> is created containing the sequence of Unicode code points given by the <code>CONSTANT_String_info</code> structure. The string constant is a <code>reference</code> to the new instance. Finally, the method <code>String.intern</code> is invoked on the new instance.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>So formally, the <code>String</code> instances corresponding to the string constants used in a class are part of that class’s runtime constant pool but initialized in terms of <code>String.intern</code> to ensure that each class has canonicalized string instances in its pool.</p>\n<p>But this relationship has only one direction. When application code invokes <code>String.intern()</code> explicitly, it won’t access a class’s run-time constant pool. It wouldn’t even be clear, which run-time constant pool we shall expect to be accessed.</p>\n<p><em>So <code>intern()</code> has nothing do to with the run-time constant pool, at least not more than it has to do with every other caller.</em></p>\n<p>A source of confusion is the fact that the data structure used by the JVM to implement <code>intern()</code> has no name in the JVMS or JLS at all. So, without a formal name, different names appear in different media. E.g., the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#intern()\" rel=\"nofollow noreferrer\">API documentation of <code>intern()</code></a> says</p>\n<blockquote>\n<p>A pool of strings, initially empty, is maintained privately by the class <code>String</code>.</p>\n</blockquote>\n<p>It’s typically some kind of hash table, but the term “pool” matches its purpose and since it exists at runtime, it’s not surprising that people come up with terms easy to confuse with the run-time constant pools of JVMS §5.1.</p>\n<p>So before starting a heated discussion with another developer, it’s important to clarify, whether everyone is talking about the same pool.</p>\n<hr />\n<p>As an addendum, I said above that the <code>String</code> is <em>formally</em> part of the run-time constant pool, as this hits implementation specific aspects.</p>\n<p>In principle, a JVM could initialize all string entries of a class’s run-time constant pool with <code>String</code> instances when creating the pool. But as <a href=\"https://stackoverflow.com/a/44929935/2711488\" title=\"answer to “the timing of String Literal loaded into StringTable in Java HotSpot vm”\">this answer</a> demonstrates, this is not the case for the widely used HotSpot JVM which looks up or creates a <code>String</code> instance on the first use rather than class initialization time.</p>\n<p>This implies that the run-time constant pool contains the raw character data in some form instead of a reference to a <code>String</code> instance. Once the <code>String</code> is constructed, it is referenced and reused by the code, but whether the run-time constant pool is modified to reference the <code>String</code> now or the bytecode instruction (<code>ldc</code>) keeps it, is not observable from the Java application. All we can observe, is that the <code>String</code> instance does not get garbage collected as long as the class exist.</p>\n"}],"owner":{"account_id":3731942,"reputation":367,"user_id":3103993,"accept_rate":40,"display_name":"dingjsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70349521,"answer_count":1,"score":0,"last_activity_date":1639490967,"creation_date":1639475188,"question_id":70346805,"body_markdown":"According to the `jvms11`, there are two kinds of entry in the run-time constant pool: symbolic references, which may later be resolved, and static constants, which require no further processing. The static constants in the run-time constant pool are also derived from entries in the constant_pool table in accordance with the structure of each entry.\r\n\r\nMy understanding is String.intern has nothing to to with JVM Run-Time Constant pool, but someone who is one of the greatest programmer in China said `String.intern` would _&quot;put something in the Run-Time Constant pool during runtime&quot;_ in his popular book. We argued about this for a long time，we both can&#39;t convince each other.\r\n\r\nSo my question is, does String.intern has anything to to with JVM Run-Time Constant pool?\r\n\r\nHere is the jvms5.1 about [Rum-Time Constant pool](https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1)","title":"Does String.intern has anything to to with JVM Run-Time Constant pool","body":"<p>According to the <code>jvms11</code>, there are two kinds of entry in the run-time constant pool: symbolic references, which may later be resolved, and static constants, which require no further processing. The static constants in the run-time constant pool are also derived from entries in the constant_pool table in accordance with the structure of each entry.</p>\n<p>My understanding is String.intern has nothing to to with JVM Run-Time Constant pool, but someone who is one of the greatest programmer in China said <code>String.intern</code> would <em>&quot;put something in the Run-Time Constant pool during runtime&quot;</em> in his popular book. We argued about this for a long time，we both can't convince each other.</p>\n<p>So my question is, does String.intern has anything to to with JVM Run-Time Constant pool?</p>\n<p>Here is the jvms5.1 about <a href=\"https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-5.html#jvms-5.1\" rel=\"nofollow noreferrer\">Rum-Time Constant pool</a></p>\n"},{"tags":["java","spring-boot","openldap"],"comments":[{"owner":{"account_id":1509111,"reputation":794,"user_id":1766417,"accept_rate":33,"display_name":"horatius"},"score":2,"creation_date":1532695882,"post_id":51558193,"comment_id":90083502,"body_markdown":"I would put my money on you not having the permissions to query the LDAP user using your ldap credentials. It clearly tells you that you have Insufficient Access Rights to be running that LDAP query.","body":"I would put my money on you not having the permissions to query the LDAP user using your ldap credentials. It clearly tells you that you have Insufficient Access Rights to be running that LDAP query."},{"owner":{"account_id":1509111,"reputation":794,"user_id":1766417,"accept_rate":33,"display_name":"horatius"},"score":0,"creation_date":1532695938,"post_id":51558193,"comment_id":90083540,"body_markdown":"Another option is to turn on the debug logs for spring security and look for log messages related to ldap.","body":"Another option is to turn on the debug logs for spring security and look for log messages related to ldap."},{"owner":{"account_id":14043453,"reputation":37,"user_id":10144322,"display_name":"Stefanos"},"score":0,"creation_date":1532697020,"post_id":51558193,"comment_id":90084160,"body_markdown":"@horatius Thank for the reply. Why don&#39;t I have the permissions? Only admin has them ? And how can I get the permission ? I can query LDAP from my terminal anyway.","body":"@horatius Thank for the reply. Why don&#39;t I have the permissions? Only admin has them ? And how can I get the permission ? I can query LDAP from my terminal anyway."},{"owner":{"account_id":14043453,"reputation":37,"user_id":10144322,"display_name":"Stefanos"},"score":0,"creation_date":1532697183,"post_id":51558193,"comment_id":90084248,"body_markdown":"logging.level.org.springframework.web: DEBUG  I can&#39;t see any error message other than what I&#39;ve stated ---&gt;  javax.naming.NoPermissionException:","body":"logging.level.org.springframework.web: DEBUG  I can&#39;t see any error message other than what I&#39;ve stated ---&gt;  javax.naming.NoPermissionException:"},{"owner":{"account_id":13817616,"reputation":2000,"user_id":9973881,"display_name":"Michael Powers"},"score":0,"creation_date":1532697303,"post_id":51558193,"comment_id":90084316,"body_markdown":"How are you querying LDAP from the command line? Are you also getting the userPassword attribute on the command line like you&#39;re trying to get from Spring? This attribute is normally protected on most LDAP servers.","body":"How are you querying LDAP from the command line? Are you also getting the userPassword attribute on the command line like you&#39;re trying to get from Spring? This attribute is normally protected on most LDAP servers."},{"owner":{"account_id":14043453,"reputation":37,"user_id":10144322,"display_name":"Stefanos"},"score":0,"creation_date":1532697864,"post_id":51558193,"comment_id":90084644,"body_markdown":"Like ldapsearch -xLLL -b &quot;dc=companyName,dc=org&quot;. Hhmm no... I am not using userPassword in terminal tbh.","body":"Like ldapsearch -xLLL -b &quot;dc=companyName,dc=org&quot;. Hhmm no... I am not using userPassword in terminal tbh."},{"owner":{"account_id":1509111,"reputation":794,"user_id":1766417,"accept_rate":33,"display_name":"horatius"},"score":0,"creation_date":1532701253,"post_id":51558193,"comment_id":90086697,"body_markdown":"@Stefanos LDAP is covered by spring security. So your log settings should be logging.level.org.springframework.security: DEBUG","body":"@Stefanos LDAP is covered by spring security. So your log settings should be logging.level.org.springframework.security: DEBUG"}],"answers":[{"tags":[],"owner":{"account_id":13817616,"reputation":2000,"user_id":9973881,"display_name":"Michael Powers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639490566,"creation_date":1532699368,"answer_id":51559401,"question_id":51558193,"body_markdown":"The issue is most likely with you trying to pull userPassword as part of the LDAP search query. Most servers protect this attribute as described in [this RFC](https://tools.ietf.org/id/draft-stroeder-hashed-userpassword-values-01.html#rfc.section.2).\r\n\r\nSo there&#39;s potentially two different solutions to this problem:\r\n\r\n * Talk to your LDAP server administrator and create a process account capable of reading that attribute ([manual for OpenLDAP here](https://wiki.gentoo.org/wiki/Centralized_authentication_using_OpenLDAP#Access_management_.28ACLs.29)). This assumes your userPassword attribute is a cleartext password, if it&#39;s not you&#39;ll need to use a password encoder as [described here](https://spring.io/guides/gs/authenticating-ldap/).\r\n\r\n * Switch to bind authentication. Instead of using a privileged account to retrieve the password from the user this binds to LDAP as the user you&#39;re trying to authenticate as which doesn&#39;t require any special permissions. It would only give you access to attributes the user has access to however. This is [described here](https://web.archive.org/web/20161121082619/https://docs.spring.io/spring-security/site/docs/current/reference/html/ldap.html#using-bind-authentication). You can configure it like this:\r\n\r\n```&lt;ldap-authentication-provider user-dn-pattern=&quot;uid={0},ou=people&quot;/&gt;```\r\n\r\nIn either case you should probably switch to ldaps:// instead of ldap:// since passwords (or hashes) will be going over the network in the clear.","title":"Error authenticating with LDAP in Spring Boot Reason: [LDAP: error code 50 - Insufficient Access Rights]","body":"<p>The issue is most likely with you trying to pull userPassword as part of the LDAP search query. Most servers protect this attribute as described in <a href=\"https://tools.ietf.org/id/draft-stroeder-hashed-userpassword-values-01.html#rfc.section.2\" rel=\"nofollow noreferrer\">this RFC</a>.</p>\n<p>So there's potentially two different solutions to this problem:</p>\n<ul>\n<li><p>Talk to your LDAP server administrator and create a process account capable of reading that attribute (<a href=\"https://wiki.gentoo.org/wiki/Centralized_authentication_using_OpenLDAP#Access_management_.28ACLs.29\" rel=\"nofollow noreferrer\">manual for OpenLDAP here</a>). This assumes your userPassword attribute is a cleartext password, if it's not you'll need to use a password encoder as <a href=\"https://spring.io/guides/gs/authenticating-ldap/\" rel=\"nofollow noreferrer\">described here</a>.</p>\n</li>\n<li><p>Switch to bind authentication. Instead of using a privileged account to retrieve the password from the user this binds to LDAP as the user you're trying to authenticate as which doesn't require any special permissions. It would only give you access to attributes the user has access to however. This is <a href=\"https://web.archive.org/web/20161121082619/https://docs.spring.io/spring-security/site/docs/current/reference/html/ldap.html#using-bind-authentication\" rel=\"nofollow noreferrer\">described here</a>. You can configure it like this:</p>\n</li>\n</ul>\n<p><code>&lt;ldap-authentication-provider user-dn-pattern=&quot;uid={0},ou=people&quot;/&gt;</code></p>\n<p>In either case you should probably switch to ldaps:// instead of ldap:// since passwords (or hashes) will be going over the network in the clear.</p>\n"},{"tags":[],"owner":{"account_id":13969105,"reputation":1278,"user_id":10088178,"display_name":"Michael Str&#246;der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532701430,"creation_date":1532701430,"answer_id":51560001,"question_id":51558193,"body_markdown":"I&#39;m not familiar with the Spring API.\r\n\r\nBut I read the API call as this does two things:\r\n\r\n 1. Send a search operation for getting the distinguished name (DN) of the user&#39;s LDAP entry.\r\n 1. Send a compare operation for this DN with assertion type _userPassord_ and the input password as assertion value.\r\n\r\nOne of this operations fail. Which one can be probably seen in the exception traceback.\r\n\r\nIn any case validating a password with a compare operation against OpenLDAP makes no sense because it only works when storing clear-text password. That&#39;s something skilled LDAP admins likely don&#39;t do.\r\n\r\nSo try to find the API method for using a bind operation for checking the password for the located user DN. Note that this might require to use a system account authentication in your client application for getting search results.\r\n\r\nThere are cases where you can directly derive a user DN from a username. In this case you could just send the bind operation without prior system binding. But this requires a fixed directory information tree (DIT) layout.","title":"Error authenticating with LDAP in Spring Boot Reason: [LDAP: error code 50 - Insufficient Access Rights]","body":"<p>I'm not familiar with the Spring API.</p>\n\n<p>But I read the API call as this does two things:</p>\n\n<ol>\n<li>Send a search operation for getting the distinguished name (DN) of the user's LDAP entry.</li>\n<li>Send a compare operation for this DN with assertion type <em>userPassord</em> and the input password as assertion value.</li>\n</ol>\n\n<p>One of this operations fail. Which one can be probably seen in the exception traceback.</p>\n\n<p>In any case validating a password with a compare operation against OpenLDAP makes no sense because it only works when storing clear-text password. That's something skilled LDAP admins likely don't do.</p>\n\n<p>So try to find the API method for using a bind operation for checking the password for the located user DN. Note that this might require to use a system account authentication in your client application for getting search results.</p>\n\n<p>There are cases where you can directly derive a user DN from a username. In this case you could just send the bind operation without prior system binding. But this requires a fixed directory information tree (DIT) layout.</p>\n"}],"owner":{"account_id":14043453,"reputation":37,"user_id":10144322,"display_name":"Stefanos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51559401,"answer_count":2,"score":0,"last_activity_date":1639490566,"creation_date":1532695357,"question_id":51558193,"body_markdown":"I am trying to make a validation page with spring boot that validates user that exists in an LDAP server. My code is this: \r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.encoding.LdapShaPasswordEncoder;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.ldap.DefaultSpringSecurityContextSource;\r\n\r\n    import java.util.Arrays;\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n            .anyRequest().fullyAuthenticated()\r\n            .and()\r\n            .formLogin();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n            .ldapAuthentication()\r\n            .userSearchBase(&quot;ou=people&quot;)\r\n            .userSearchFilter(&quot;(cn={0})&quot;)\r\n            .contextSource(contextSource())\r\n            .passwordCompare()\r\n            .passwordAttribute(&quot;userPassword&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public DefaultSpringSecurityContextSource contextSource(){\r\n        return new DefaultSpringSecurityContextSource(Arrays.asList(&quot;ldap://localhost:389&quot;),&quot;dc=myCompany,dc=org&quot;);\r\n    }\r\n\r\n}\r\n\r\n\r\nThe problem is that I am getting the following error and I don&#39;t seem to understand where it is coming from. \r\n\r\n&gt; Reason: [LDAP: error code 50 - Insufficient Access Rights]; nested exception is javax.naming.NoPermissionException: [LDAP: error code 50 - Insufficient Access Rights]; remaining name &#39;cn=nameEntered,ou=people&#39;\r\n\r\n\r\nAny help would helpful. ","title":"Error authenticating with LDAP in Spring Boot Reason: [LDAP: error code 50 - Insufficient Access Rights]","body":"<p>I am trying to make a validation page with spring boot that validates user that exists in an LDAP server. My code is this: </p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.encoding.LdapShaPasswordEncoder;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.ldap.DefaultSpringSecurityContextSource;\n\nimport java.util.Arrays;\n\n@Configuration\n@EnableGlobalMethodSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n        .anyRequest().fullyAuthenticated()\n        .and()\n        .formLogin();\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n        .ldapAuthentication()\n        .userSearchBase(\"ou=people\")\n        .userSearchFilter(\"(cn={0})\")\n        .contextSource(contextSource())\n        .passwordCompare()\n        .passwordAttribute(\"userPassword\");\n}\n\n@Bean\npublic DefaultSpringSecurityContextSource contextSource(){\n    return new DefaultSpringSecurityContextSource(Arrays.asList(\"ldap://localhost:389\"),\"dc=myCompany,dc=org\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The problem is that I am getting the following error and I don't seem to understand where it is coming from. </p>\n\n<blockquote>\n  <p>Reason: [LDAP: error code 50 - Insufficient Access Rights]; nested exception is javax.naming.NoPermissionException: [LDAP: error code 50 - Insufficient Access Rights]; remaining name 'cn=nameEntered,ou=people'</p>\n</blockquote>\n\n<p>Any help would helpful. </p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1639449627,"post_id":70343009,"comment_id":124346227,"body_markdown":"What happens if you write `null as Void`?  (That said, that method signature should, by definition, be uncallable.)","body":"What happens if you write <code>null as Void</code>?  (That said, that method signature should, by definition, be uncallable.)"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1639449707,"post_id":70343009,"comment_id":124346239,"body_markdown":"It fails the cast, gives me `null cannot be cast to non-null type java.lang.Void`","body":"It fails the cast, gives me <code>null cannot be cast to non-null type java.lang.Void</code>"},{"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"score":0,"creation_date":1639452171,"post_id":70343009,"comment_id":124346560,"body_markdown":"it adds an annotation to force to pass no null value, but you try to give it null, it is weird, I think if you can call, but it will cause some bugs. except that the annotation does not use in the function.","body":"it adds an annotation to force to pass no null value, but you try to give it null, it is weird, I think if you can call, but it will cause some bugs. except that the annotation does not use in the function."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1639452274,"post_id":70343009,"comment_id":124346574,"body_markdown":"@Lenoarod I was passing null because I cannot instantiate a `Void` object, now the `@NonNull` prevents that and I am looking for a way to call that method","body":"@Lenoarod I was passing null because I cannot instantiate a <code>Void</code> object, now the <code>@NonNull</code> prevents that and I am looking for a way to call that method"}],"answers":[{"tags":[],"owner":{"account_id":7510184,"reputation":3451,"user_id":5705408,"display_name":"Lenoarod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639490551,"creation_date":1639452908,"answer_id":70343482,"question_id":70343009,"body_markdown":"If you only want to pass the Void object, but its constructor is private, you can use reflection.\r\n\r\n    Constructor&lt;Void&gt; c = Void.class.getDeclaredConstructor();\r\n    c.setAccessible(true);\r\n    Void v = c.newInstance();\r\n\r\nthen you can pass it.\r\n\r\nSince the question was about how to do this from Kotlin, here is the Kotlin version\r\n\r\n    fun makeVoid(): Void {\r\n        val c: Constructor&lt;Void&gt; = Void::class.java.getDeclaredConstructor()\r\n        c.isAccessible = true\r\n        return c.newInstance()\r\n    }\r\n\r\nand\r\n\r\n    val u = Uncallable()\r\n    u.myMethod(makeVoid())\r\n\r\n\r\n","title":"How do I call a Java method that takes a Non-null Void parameter from Kotlin?","body":"<p>If you only want to pass the Void object, but its constructor is private, you can use reflection.</p>\n<pre><code>Constructor&lt;Void&gt; c = Void.class.getDeclaredConstructor();\nc.setAccessible(true);\nVoid v = c.newInstance();\n</code></pre>\n<p>then you can pass it.</p>\n<p>Since the question was about how to do this from Kotlin, here is the Kotlin version</p>\n<pre><code>fun makeVoid(): Void {\n    val c: Constructor&lt;Void&gt; = Void::class.java.getDeclaredConstructor()\n    c.isAccessible = true\n    return c.newInstance()\n}\n</code></pre>\n<p>and</p>\n<pre><code>val u = Uncallable()\nu.myMethod(makeVoid())\n</code></pre>\n"}],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70343482,"answer_count":1,"score":0,"last_activity_date":1639490551,"creation_date":1639447859,"question_id":70343009,"body_markdown":"\r\n**Primary Question**\r\n\r\nIs it possible to call a Java method with a signature like this (from a third-party library, so the method signature cannot be changed) from Kotlin? If so, how?\r\n\r\n    class Uncallable {\r\n        void myMethod(@NonNull Void a) {\r\n            System.out.println(&quot;Ran myMethod&quot;);\r\n        }\r\n    }\r\n\r\nI can call this from another Java class with\r\n\r\n    Uncallable u = new Uncallable();\r\n    u.myMethod(null); // IDE warns about nullability but still runs fine\r\n    \r\nbut from Kotlin, none of these options work\r\n\r\n    val u = Uncallable()\r\n    u.myMethod() // No value passed for parameter &#39;a&#39;\r\n    u.myMethod(null) // Null can not be a value of a non-null type Void\r\n    u.myMethod(Unit as Void) // ClassCastException: class kotlin.Unit cannot be cast to class java.lang.Void\r\n    u.myMethod(Void)\r\n    u.myMethod(Unit)\r\n    u.myMethod(Nothing)\r\n    \r\nSimilar questions (like [this one](https://stackoverflow.com/questions/58917088/pass-null-to-non-nullable-java-method-from-kotlin)) suggest making a Java interface layer to let me get around the nullability rules. That works here, but I&#39;d like to know if there&#39;s any way to call this without such an extra layer. I don&#39;t actually need to pass a null value, just to call the method.\r\n\r\n[This question](https://stackoverflow.com/questions/33808076/using-java-void-type-in-kotlin) addresses a similar issue, but there they have control of the interface and can just use `Void?` as the type.\r\n\r\n**Why do I want to do this?**\r\n\r\nI don&#39;t really... However, I have some unit tests that intercept the `addOnSuccessListener` callback added to some Firebase methods and call `onSuccess` on the provided listener. The signature of that callback uses `Void` for its parameter type, and previously I could call `listener.onSuccess(null)`\r\n\r\n    doAnswer { invocation -&gt;\r\n        val args = invocation.arguments\r\n        @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n        val l = args[0] as OnSuccessListener&lt;Void&gt;\r\n        l.onSuccess(null)\r\n        mMockTask\r\n    }.`when`(mMockTask).addOnSuccessListener(ArgumentMatchers.any())\r\n\r\nAfter a recent update of Firebase libraries, it seems that either a `@NonNull` annotation was added to the parameter for `onSuccess`, or Kotlin changed to start enforcing it\r\n\r\n    public interface OnSuccessListener&lt;TResult&gt; {\r\n        void onSuccess(@NonNull TResult var1);\r\n    }\r\n\r\nAs a result, I can no longer call `listener.onSuccess(null)` - I get a build error about null being passed for a non-null parameter.\r\n\r\nI am able to make a `VoidCaller` Java interface to get around this,\r\n\r\n    public class VoidCaller {\r\n        static void callSuccessCallback(OnSuccessListener&lt;Void&gt; callback) {\r\n            callback.onSuccess(null);\r\n        }\r\n\r\n        static void callFailureCallback(OnFailureListener callback) {\r\n            callback.onFailure(null);\r\n        }\r\n    }\r\n    \r\nwhich works, but only if I change my callbacks from\r\n\r\n    fileRef.delete().addOnSuccessListener { onSuccess() }\r\n    \r\nto\r\n\r\n    fileRef.delete().addOnSuccessListener { _ : Void? -&gt; onSuccess() }\r\n    \r\nor I get an error attempting to set `it` of a non-null type to null.\r\n\r\n    Parameter specified as non-null is null: method com.app.firebaseHelper.deleteImage$lambda-11$lambda-10, parameter it\r\n\r\nIdeally I would like to find a way to call such a method directly from Kotlin.","title":"How do I call a Java method that takes a Non-null Void parameter from Kotlin?","body":"<p><strong>Primary Question</strong></p>\n<p>Is it possible to call a Java method with a signature like this (from a third-party library, so the method signature cannot be changed) from Kotlin? If so, how?</p>\n<pre><code>class Uncallable {\n    void myMethod(@NonNull Void a) {\n        System.out.println(&quot;Ran myMethod&quot;);\n    }\n}\n</code></pre>\n<p>I can call this from another Java class with</p>\n<pre><code>Uncallable u = new Uncallable();\nu.myMethod(null); // IDE warns about nullability but still runs fine\n</code></pre>\n<p>but from Kotlin, none of these options work</p>\n<pre><code>val u = Uncallable()\nu.myMethod() // No value passed for parameter 'a'\nu.myMethod(null) // Null can not be a value of a non-null type Void\nu.myMethod(Unit as Void) // ClassCastException: class kotlin.Unit cannot be cast to class java.lang.Void\nu.myMethod(Void)\nu.myMethod(Unit)\nu.myMethod(Nothing)\n</code></pre>\n<p>Similar questions (like <a href=\"https://stackoverflow.com/questions/58917088/pass-null-to-non-nullable-java-method-from-kotlin\">this one</a>) suggest making a Java interface layer to let me get around the nullability rules. That works here, but I'd like to know if there's any way to call this without such an extra layer. I don't actually need to pass a null value, just to call the method.</p>\n<p><a href=\"https://stackoverflow.com/questions/33808076/using-java-void-type-in-kotlin\">This question</a> addresses a similar issue, but there they have control of the interface and can just use <code>Void?</code> as the type.</p>\n<p><strong>Why do I want to do this?</strong></p>\n<p>I don't really... However, I have some unit tests that intercept the <code>addOnSuccessListener</code> callback added to some Firebase methods and call <code>onSuccess</code> on the provided listener. The signature of that callback uses <code>Void</code> for its parameter type, and previously I could call <code>listener.onSuccess(null)</code></p>\n<pre><code>doAnswer { invocation -&gt;\n    val args = invocation.arguments\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    val l = args[0] as OnSuccessListener&lt;Void&gt;\n    l.onSuccess(null)\n    mMockTask\n}.`when`(mMockTask).addOnSuccessListener(ArgumentMatchers.any())\n</code></pre>\n<p>After a recent update of Firebase libraries, it seems that either a <code>@NonNull</code> annotation was added to the parameter for <code>onSuccess</code>, or Kotlin changed to start enforcing it</p>\n<pre><code>public interface OnSuccessListener&lt;TResult&gt; {\n    void onSuccess(@NonNull TResult var1);\n}\n</code></pre>\n<p>As a result, I can no longer call <code>listener.onSuccess(null)</code> - I get a build error about null being passed for a non-null parameter.</p>\n<p>I am able to make a <code>VoidCaller</code> Java interface to get around this,</p>\n<pre><code>public class VoidCaller {\n    static void callSuccessCallback(OnSuccessListener&lt;Void&gt; callback) {\n        callback.onSuccess(null);\n    }\n\n    static void callFailureCallback(OnFailureListener callback) {\n        callback.onFailure(null);\n    }\n}\n</code></pre>\n<p>which works, but only if I change my callbacks from</p>\n<pre><code>fileRef.delete().addOnSuccessListener { onSuccess() }\n</code></pre>\n<p>to</p>\n<pre><code>fileRef.delete().addOnSuccessListener { _ : Void? -&gt; onSuccess() }\n</code></pre>\n<p>or I get an error attempting to set <code>it</code> of a non-null type to null.</p>\n<pre><code>Parameter specified as non-null is null: method com.app.firebaseHelper.deleteImage$lambda-11$lambda-10, parameter it\n</code></pre>\n<p>Ideally I would like to find a way to call such a method directly from Kotlin.</p>\n"},{"tags":["linux","ubuntu","java"],"comments":[{"owner":{"account_id":2255564,"reputation":4422,"user_id":1986826,"accept_rate":81,"display_name":"Gangaraju"},"score":1,"creation_date":1453697255,"post_id":34985203,"comment_id":57699351,"body_markdown":"try `sudo update-alternatives --config java`","body":"try <code>sudo update-alternatives --config java</code>"},{"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"score":0,"creation_date":1453697911,"post_id":34985203,"comment_id":57699561,"body_markdown":"You could add your desired java binary directory to **PATH** environment variable. \n``export PATH=$PATH:/usr/java/jdk1.5.0_07/bin``","body":"You could add your desired java binary directory to <b>PATH</b> environment variable.  <code>export PATH=$PATH:&#47;usr&#47;java&#47;jdk1.5.0_07&#47;bin</code>"},{"owner":{"account_id":2255564,"reputation":4422,"user_id":1986826,"accept_rate":81,"display_name":"Gangaraju"},"score":0,"creation_date":1453698081,"post_id":34985203,"comment_id":57699608,"body_markdown":"http://askubuntu.com/questions/56104/how-can-i-install-sun-oracles-proprietary-java-jdk-6-7-8-or-jre","body":"<a href=\"http://askubuntu.com/questions/56104/how-can-i-install-sun-oracles-proprietary-java-jdk-6-7-8-or-jre\" title=\"how can i install sun oracles proprietary java jdk 6 7 8 or jre\">askubuntu.com/questions/56104/&hellip;</a>"},{"owner":{"account_id":6366366,"reputation":463,"user_id":4940241,"accept_rate":44,"display_name":"munish"},"score":0,"creation_date":1453698309,"post_id":34985203,"comment_id":57699682,"body_markdown":"mmuzahid I have added the $JAVA_HOME/bin to the PATH environment variable. but still not using this java for\n\n    java -version","body":"mmuzahid I have added the $JAVA_HOME/bin to the PATH environment variable. but still not using this java for      java -version"},{"owner":{"account_id":4891569,"reputation":2250,"user_id":3942569,"accept_rate":100,"display_name":"mmuzahid"},"score":0,"creation_date":1453698868,"post_id":34985203,"comment_id":57699848,"body_markdown":"@munish, did you reload your bashrc file after modifying PATH by running command something like that ``source ~/.bashrc``","body":"@munish, did you reload your bashrc file after modifying PATH by running command something like that <code>source ~&#47;.bashrc</code>"}],"answers":[{"tags":[],"owner":{"account_id":5548613,"reputation":186,"user_id":4402505,"display_name":"Prem Kurian Philip"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481531471,"creation_date":1481531471,"answer_id":41096827,"question_id":34985203,"body_markdown":"Try:\r\n\r\n        whereis java\r\n\r\nThis will give you the path to the java binary as your system is finding it from the path.\r\n\r\nIf the path to the java binary is pointing to a different directory, then see the output of\r\n\r\n        echo $PATH\r\n\r\nYou may find that the path to the OpenJDK bin directory is already in the PATH variable. You will need to remove this from the path.\r\n\r\nAlso, please do run the command given below to ensure that the alternatives have been updated correctly.\r\n   \r\n       sudo update-alternatives --config java\r\n\r\nFollow the steps given here:\r\n[How to install Oracle Java in Ubuntu 16.04][1]\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04","title":"java -version is giving me the version of openJDK installed, instead of JRE in $JAVA_HOME","body":"<p>Try:</p>\n\n<pre><code>    whereis java\n</code></pre>\n\n<p>This will give you the path to the java binary as your system is finding it from the path.</p>\n\n<p>If the path to the java binary is pointing to a different directory, then see the output of</p>\n\n<pre><code>    echo $PATH\n</code></pre>\n\n<p>You may find that the path to the OpenJDK bin directory is already in the PATH variable. You will need to remove this from the path.</p>\n\n<p>Also, please do run the command given below to ensure that the alternatives have been updated correctly.</p>\n\n<pre><code>   sudo update-alternatives --config java\n</code></pre>\n\n<p>Follow the steps given here:\n<a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\" rel=\"nofollow noreferrer\">How to install Oracle Java in Ubuntu 16.04</a></p>\n"}],"owner":{"account_id":6366366,"reputation":463,"user_id":4940241,"accept_rate":44,"display_name":"munish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639490489,"creation_date":1453696738,"question_id":34985203,"body_markdown":"I have downloaded the java jdk from Oracle website and extracted it in the system. I have also don the entry of $JAVA_HOME to this one.\r\n\r\nBut I have to install dbeaver (sql client) software which also installs openjdk with it.\r\n\r\nNow my system has two jres. OpenJDK and Oracle($JAVA_HOME). Whenever I am doing\r\n\r\n    java -version\r\n\r\nIt&#39;s giving me the version of that OpenJDK jre. Is it possible to make system use the Oracle jre(manually installed) instead of OpenJDK jre(keeping that installed in the system)","title":"java -version is giving me the version of openJDK installed, instead of JRE in $JAVA_HOME","body":"<p>I have downloaded the java jdk from Oracle website and extracted it in the system. I have also don the entry of $JAVA_HOME to this one.</p>\n\n<p>But I have to install dbeaver (sql client) software which also installs openjdk with it.</p>\n\n<p>Now my system has two jres. OpenJDK and Oracle($JAVA_HOME). Whenever I am doing</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>It's giving me the version of that OpenJDK jre. Is it possible to make system use the Oracle jre(manually installed) instead of OpenJDK jre(keeping that installed in the system)</p>\n"},{"tags":["java","append","bufferedreader","txt"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":2,"creation_date":1639488005,"post_id":70349394,"comment_id":124356531,"body_markdown":"show code of that program","body":"show code of that program"}],"answers":[{"tags":[],"owner":{"account_id":7778850,"reputation":184,"user_id":5885968,"display_name":"M. Gianota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639489019,"creation_date":1639489019,"answer_id":70349784,"question_id":70349394,"body_markdown":"To read say every fourth line from a text file you would read a line and update a counter. When the counter reaches `4`, you save the line in a String variable. Something like this would do the job:\r\n```\r\nimport java.io.*;\r\npublic class SkipLineReader {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String line = &quot;&quot;;\r\n        String savedLine = &quot;&quot;;\r\n        int counter = 0;\r\n        FileInputStream fin = new FileInputStream(&quot;text_file.txt&quot;);\r\n        BufferedReader bufIn = new BufferedReader(new InputStreamReader(fin));\r\n        \r\n        // Save every fourth line\r\n        while( (line = bufIn.readLine()) != null) {\r\n            counter++;\r\n            if( counter == 4 ) {\r\n                savedLine = line;\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\n\r\nTo save every alternate line, you would save the line every time the counter reaches two and then reset the counter back to zero. Like this:\r\n\r\n```\r\n        // Save every alternate line\r\n        while( (line = bufIn.readLine()) != null) {\r\n            counter++;\r\n            if( counter % 2 == 0 ) {\r\n                counter = 0;\r\n                savedLine = line;\r\n                System.out.println(line);\r\n            }\r\n        }\r\n```\r\n\r\nAs for reading doubles from a file, you could do it with a `BufferedReader` and then use Double&#39;s `parseDouble(string)` method to retrieve the double value, but a better method is to use the `Scanner` object in `java.util`. The constructor for this class will accept a `FileInputStream` and there is a `nextDouble()` method that you can use to read a double value.\r\n\r\nHere&#39;s some code that illustrates using a `Scanner` object to grab double values from a String (to read from a file, supply a `FileInputStream` into the `Scanner` class&#39;s constructor):\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class ScannerDemo {\r\n   public static void main(String[] args) {\r\n\r\n      String s = &quot;Hello World! 3 + 3.0 = 6 true&quot;;\r\n\r\n      // create a new scanner with the specified String Object\r\n      Scanner scanner = new Scanner(s);\r\n\r\n      // use US locale to be able to identify doubles in the string\r\n      scanner.useLocale(Locale.US);\r\n\r\n      // find the next double token and print it\r\n      // loop for the whole scanner\r\n      while (scanner.hasNext()) {\r\n\r\n         // if the next is a double, print found and the double\r\n         if (scanner.hasNextDouble()) {\r\n            System.out.println(&quot;Found :&quot; + scanner.nextDouble());\r\n         }\r\n\r\n         // if a double is not found, print &quot;Not Found&quot; and the token\r\n         System.out.println(&quot;Not Found :&quot; + scanner.next());\r\n      }\r\n\r\n      // close the scanner\r\n      scanner.close();\r\n   }\r\n}\r\n```","title":"Reading txt files in Java","body":"<p>To read say every fourth line from a text file you would read a line and update a counter. When the counter reaches <code>4</code>, you save the line in a String variable. Something like this would do the job:</p>\n<pre><code>import java.io.*;\npublic class SkipLineReader {\n\n    public static void main(String[] args) throws IOException {\n        String line = &quot;&quot;;\n        String savedLine = &quot;&quot;;\n        int counter = 0;\n        FileInputStream fin = new FileInputStream(&quot;text_file.txt&quot;);\n        BufferedReader bufIn = new BufferedReader(new InputStreamReader(fin));\n        \n        // Save every fourth line\n        while( (line = bufIn.readLine()) != null) {\n            counter++;\n            if( counter == 4 ) {\n                savedLine = line;\n                System.out.println(line);\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>To save every alternate line, you would save the line every time the counter reaches two and then reset the counter back to zero. Like this:</p>\n<pre><code>        // Save every alternate line\n        while( (line = bufIn.readLine()) != null) {\n            counter++;\n            if( counter % 2 == 0 ) {\n                counter = 0;\n                savedLine = line;\n                System.out.println(line);\n            }\n        }\n</code></pre>\n<p>As for reading doubles from a file, you could do it with a <code>BufferedReader</code> and then use Double's <code>parseDouble(string)</code> method to retrieve the double value, but a better method is to use the <code>Scanner</code> object in <code>java.util</code>. The constructor for this class will accept a <code>FileInputStream</code> and there is a <code>nextDouble()</code> method that you can use to read a double value.</p>\n<p>Here's some code that illustrates using a <code>Scanner</code> object to grab double values from a String (to read from a file, supply a <code>FileInputStream</code> into the <code>Scanner</code> class's constructor):</p>\n<pre><code>import java.util.*;\n\npublic class ScannerDemo {\n   public static void main(String[] args) {\n\n      String s = &quot;Hello World! 3 + 3.0 = 6 true&quot;;\n\n      // create a new scanner with the specified String Object\n      Scanner scanner = new Scanner(s);\n\n      // use US locale to be able to identify doubles in the string\n      scanner.useLocale(Locale.US);\n\n      // find the next double token and print it\n      // loop for the whole scanner\n      while (scanner.hasNext()) {\n\n         // if the next is a double, print found and the double\n         if (scanner.hasNextDouble()) {\n            System.out.println(&quot;Found :&quot; + scanner.nextDouble());\n         }\n\n         // if a double is not found, print &quot;Not Found&quot; and the token\n         System.out.println(&quot;Not Found :&quot; + scanner.next());\n      }\n\n      // close the scanner\n      scanner.close();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639490335,"creation_date":1639490335,"answer_id":70350140,"question_id":70349394,"body_markdown":"This is my code example.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\t// Read file by BufferedReader line by line.\r\n\t\tBufferedReader reader;\r\n\t\ttry {\r\n\t\t\treader = new BufferedReader(new FileReader(&quot;test.txt&quot;));\r\n\t\t\tString line = reader.readLine();\r\n\t\t\twhile (line != null) {\r\n\t\t\t\tline = line.trim();\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\t\r\n\t\t\t\t// Using regular expression to check line is valid number\r\n\t\t\t\tif (!line.trim().equals(&quot;&quot;) &amp;&amp; line.trim().matches(&quot;^\\\\d+||^\\\\d+(\\\\.)\\\\d+$&quot;)) {\r\n\t\t\t\t\tdouble value = Double.valueOf(line.trim());\r\n\t\t\t\t\tSystem.out.println(value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tString value = line.trim();\r\n\t\t\t\t\tSystem.out.println(value);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Read next line\r\n\t\t\t\tline = reader.readLine();\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Reading txt files in Java","body":"<p>This is my code example.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    // Read file by BufferedReader line by line.\n    BufferedReader reader;\n    try {\n        reader = new BufferedReader(new FileReader(&quot;test.txt&quot;));\n        String line = reader.readLine();\n        while (line != null) {\n            line = line.trim();\n            System.out.println(line);\n            \n            // Using regular expression to check line is valid number\n            if (!line.trim().equals(&quot;&quot;) &amp;&amp; line.trim().matches(&quot;^\\\\d+||^\\\\d+(\\\\.)\\\\d+$&quot;)) {\n                double value = Double.valueOf(line.trim());\n                System.out.println(value);\n            } else {\n                String value = line.trim();\n                System.out.println(value);\n            }\n            \n            // Read next line\n            line = reader.readLine();\n        }\n        reader.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23441348,"reputation":1,"user_id":17498807,"display_name":"Pelican"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639490335,"creation_date":1639487321,"question_id":70349394,"body_markdown":"I have program that has a section that requires me to read and append items to a txt file. I know how to do basic reading and appending but I am confused as to how I would read every 4th line in a txt file and then store it in a variable. Or even every alternate line.\r\nAlso, if there are double valued numbers, can I read it as a number and not a string?","title":"Reading txt files in Java","body":"<p>I have program that has a section that requires me to read and append items to a txt file. I know how to do basic reading and appending but I am confused as to how I would read every 4th line in a txt file and then store it in a variable. Or even every alternate line.\nAlso, if there are double valued numbers, can I read it as a number and not a string?</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1639483373,"post_id":70348542,"comment_id":124354791,"body_markdown":"Both will be used","body":"Both will be used"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639485786,"post_id":70348542,"comment_id":124355686,"body_markdown":"Well either or both *could* be used.  It actually depends on how the service + library *configure* the logging.","body":"Well either or both <i>could</i> be used.  It actually depends on how the service + library <i>configure</i> the logging."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639485855,"post_id":70348542,"comment_id":124355716,"body_markdown":"Solution: replace the log4j v2 JAR with the patched version ... whether or not it is currently used.","body":"Solution: replace the log4j v2 JAR with the patched version ... whether or not it is currently used."}],"answers":[{"tags":[],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639490034,"creation_date":1639490034,"answer_id":70350043,"question_id":70348542,"body_markdown":"If you have a Maven project then you can use [Maven Dependency plugin](https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html):\r\n\r\n`mvn dependency:tree -Dverbose -Dincludes=*log4j*`\r\n\r\nYou&#39;ll see then in the output that some jars are `omitted for duplicate`. \r\nHow Maven decides what to use and what to omit in case of duplicates is not trivial, they don&#39;t call it dependency hell for nothing. See https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#transitive-dependencies\r\n","title":"how to verify what version of Log4j is used within a service","body":"<p>If you have a Maven project then you can use <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\">Maven Dependency plugin</a>:</p>\n<p><code>mvn dependency:tree -Dverbose -Dincludes=*log4j*</code></p>\n<p>You'll see then in the output that some jars are <code>omitted for duplicate</code>.\nHow Maven decides what to use and what to omit in case of duplicates is not trivial, they don't call it dependency hell for nothing. See <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#transitive-dependencies\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#transitive-dependencies</a></p>\n"}],"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639490034,"creation_date":1639483282,"question_id":70348542,"body_markdown":"Say I have a lib `foo` that uses `Log4J` lib with version `V1`\r\n\r\nThis Library is used in a service called `bar` that also uses `Log4J` lib with Version `V2`\r\n\r\nMy Question is when we run the service `bar`, is it going to use Log4J V1 or V2 (or both)?","title":"how to verify what version of Log4j is used within a service","body":"<p>Say I have a lib <code>foo</code> that uses <code>Log4J</code> lib with version <code>V1</code></p>\n<p>This Library is used in a service called <code>bar</code> that also uses <code>Log4J</code> lib with Version <code>V2</code></p>\n<p>My Question is when we run the service <code>bar</code>, is it going to use Log4J V1 or V2 (or both)?</p>\n"},{"tags":["java","maven","gradle","lwjgl","maven-publish"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1639496858,"post_id":70349264,"comment_id":124360483,"body_markdown":"I think feature variants may help, although not entirely sure since have not used them myself: https://docs.gradle.org/current/userguide/feature_variants.html","body":"I think feature variants may help, although not entirely sure since have not used them myself: <a href=\"https://docs.gradle.org/current/userguide/feature_variants.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/feature_variants.html</a>"}],"owner":{"account_id":2488138,"reputation":63,"user_id":2166180,"display_name":"Jo&#227;o Alves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639489926,"creation_date":1639486676,"question_id":70349264,"body_markdown":"I&#39;m trying to publish a Java library that has native runtime dependencies (LWJGL) - this is done by stating a classifier to determine which native binaries to include (for eg. Windows, Linux, etc).\r\n\r\nGradle example:\r\n\r\n    api group: &quot;org.lwjgl&quot;, name: &quot;lwjgl&quot;, version: lwjglVersion\r\n    runtimeOnly group: &quot;org.lwjgl&quot;, name: &quot;lwjgl&quot;, version: lwjglVersion, classifier: &quot;natives-linux&quot;\r\n\r\nI&#39;m wondering the best way to publish **my library** artifacts (Maven Central using the maven-publish gradle plugin) which is built on top of those. \r\n\r\nI could generate a different artifact-id per each native classifier (for eg. mylib-linux:1.0.0 or mylib-windows:1.0.0) but that seems non-optimal - this happens because the .POM is automatically filled with whatever runtime classifier is assigned while executing the publish task.\r\n\r\nCurrent way of importing my library:\r\n\r\n    api group: &quot;io.my&quot;, name: &quot;mylib-windows&quot;, version: &quot;1.0&quot;\r\n\r\nIntended:\r\n\r\n    api group: &quot;io.my&quot;, name: &quot;mylib&quot;, version: &quot;1.0&quot;, classifier: &quot;windows&quot;\r\n\r\n\r\nIs there any way to make the dependency classifiers dynamic based on my lib classifier (for example with transitive classifiers values instead of hard-coded ones)?\r\n\r\nMy publish task:\r\n\r\n        publishing {\r\n            publications {\r\n                mavenJava(MavenPublication) {\r\n                    groupId &#39;&lt;group-id&gt;&#39;\r\n                    artifactId project.name\r\n                    version rootProject.version\r\n    \r\n                    from components.java\r\n    \r\n                    artifact(sourceJar) {\r\n                        classifier = &#39;sources&#39;\r\n                    }\r\n    \r\n                    artifact(javadocJar) {\r\n                        classifier = &#39;javadoc&#39;\r\n                    }\r\n    \r\n                    pom {\r\n                        name = &#39;&lt;my-project-name&gt;&#39;\r\n                        description = &#39;&lt;my-project-description&gt;.&#39;\r\n                        url = &#39;&lt;my-project-url&gt;&#39;\r\n                        developers {\r\n                            developer {\r\n                                // ...\r\n                            }\r\n                        }\r\n                        scm {\r\n                            // ...\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nThanks!\r\n","title":"Maven-publish with multi-platform runtime dependencies","body":"<p>I'm trying to publish a Java library that has native runtime dependencies (LWJGL) - this is done by stating a classifier to determine which native binaries to include (for eg. Windows, Linux, etc).</p>\n<p>Gradle example:</p>\n<pre><code>api group: &quot;org.lwjgl&quot;, name: &quot;lwjgl&quot;, version: lwjglVersion\nruntimeOnly group: &quot;org.lwjgl&quot;, name: &quot;lwjgl&quot;, version: lwjglVersion, classifier: &quot;natives-linux&quot;\n</code></pre>\n<p>I'm wondering the best way to publish <strong>my library</strong> artifacts (Maven Central using the maven-publish gradle plugin) which is built on top of those.</p>\n<p>I could generate a different artifact-id per each native classifier (for eg. mylib-linux:1.0.0 or mylib-windows:1.0.0) but that seems non-optimal - this happens because the .POM is automatically filled with whatever runtime classifier is assigned while executing the publish task.</p>\n<p>Current way of importing my library:</p>\n<pre><code>api group: &quot;io.my&quot;, name: &quot;mylib-windows&quot;, version: &quot;1.0&quot;\n</code></pre>\n<p>Intended:</p>\n<pre><code>api group: &quot;io.my&quot;, name: &quot;mylib&quot;, version: &quot;1.0&quot;, classifier: &quot;windows&quot;\n</code></pre>\n<p>Is there any way to make the dependency classifiers dynamic based on my lib classifier (for example with transitive classifiers values instead of hard-coded ones)?</p>\n<p>My publish task:</p>\n<pre><code>    publishing {\n        publications {\n            mavenJava(MavenPublication) {\n                groupId '&lt;group-id&gt;'\n                artifactId project.name\n                version rootProject.version\n\n                from components.java\n\n                artifact(sourceJar) {\n                    classifier = 'sources'\n                }\n\n                artifact(javadocJar) {\n                    classifier = 'javadoc'\n                }\n\n                pom {\n                    name = '&lt;my-project-name&gt;'\n                    description = '&lt;my-project-description&gt;.'\n                    url = '&lt;my-project-url&gt;'\n                    developers {\n                        developer {\n                            // ...\n                        }\n                    }\n                    scm {\n                        // ...\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","maven","jsp","jersey"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639481889,"post_id":70348127,"comment_id":124354290,"body_markdown":"1. Use the `spring-boot-maven-plugin` to build your executable archive. 2. Remove `@EnableWebMvc`. 3. Ditch your `web.xml` and 4. JSP generally only work in a WAR archive **not** a jar archive.","body":"1. Use the <code>spring-boot-maven-plugin</code> to build your executable archive. 2. Remove <code>@EnableWebMvc</code>. 3. Ditch your <code>web.xml</code> and 4. JSP generally only work in a WAR archive <b>not</b> a jar archive."},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1639489311,"post_id":70348127,"comment_id":124357110,"body_markdown":"It&#39;s still the same: I deleted web.xml, removed @EnableWebMvc annotation, added spring-boot-maven-plugin dependency and executed mvn clean install, however it&#39;s still the same problem. Did I miss anything?","body":"It&#39;s still the same: I deleted web.xml, removed @EnableWebMvc annotation, added spring-boot-maven-plugin dependency and executed mvn clean install, however it&#39;s still the same problem. Did I miss anything?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639490056,"post_id":70348127,"comment_id":124357440,"body_markdown":"You seem to be missing a jar, and not sure how you are launching/building things.","body":"You seem to be missing a jar, and not sure how you are launching/building things."},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1639490558,"post_id":70348127,"comment_id":124357651,"body_markdown":"I feel like I&#39;m doing something incredibly stupid but this is what I did:\n\n1.) Right click on pom.xml -&gt; Run As -&gt; Maven build.. (in goal section I add clean install) and Run\n2.) Right click on the main class (@SpringBootApplication class) -&gt; Debug as -&gt; Java Application.\n\nAnd this starts the application so when I navigate to: http://localhost:8383/  my breakpoints stops in the controller and after that I get that error.\n\nIs my building / launching process wrong?","body":"I feel like I&#39;m doing something incredibly stupid but this is what I did:  1.) Right click on pom.xml -&gt; Run As -&gt; Maven build.. (in goal section I add clean install) and Run 2.) Right click on the main class (@SpringBootApplication class) -&gt; Debug as -&gt; Java Application.  And this starts the application so when I navigate to: <a href=\"http://localhost:8383/\" rel=\"nofollow noreferrer\">localhost:8383</a>  my breakpoints stops in the controller and after that I get that error.  Is my building / launching process wrong?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1639490647,"post_id":70348127,"comment_id":124357683,"body_markdown":"yes your running is wrong. As you should run the resulting war file. JSP are terrible and limited when using from an embedded container due to the loading of those files. So JSP only works with a packaging of war and as run as a war (or deployed). However your build is complaining about a missing/unreadable jar so not sure how that relates to this.","body":"yes your running is wrong. As you should run the resulting war file. JSP are terrible and limited when using from an embedded container due to the loading of those files. So JSP only works with a packaging of war and as run as a war (or deployed). However your build is complaining about a missing/unreadable jar so not sure how that relates to this."},{"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"score":0,"creation_date":1639491388,"post_id":70348127,"comment_id":124358048,"body_markdown":"/JerseyJSP/target/jersey-mvc-hello-world.war - have war package now, however it&#39;s still the same for some reason. When I run this jersey-mvc-hello-world.war I&#39;m getting same error as before.\n\nThanks for the suggestions, I&#39;m out of ideas (and articles to read) :/","body":"/JerseyJSP/target/jersey-mvc-hello-world.war - have war package now, however it&#39;s still the same for some reason. When I run this jersey-mvc-hello-world.war I&#39;m getting same error as before.  Thanks for the suggestions, I&#39;m out of ideas (and articles to read) :/"}],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639489850,"creation_date":1639481350,"question_id":70348127,"body_markdown":"I created simple Jersey web app using Spring boot but I keep getting this weird error:\r\n\r\nThis localhost page can’t be foundNo webpage was found for the web address: http://localhost:8383/\r\nHTTP ERROR 404\r\n\r\n**POM.XML**\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;logs&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;logs&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jersey-mvc-jsp&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t    &lt;finalName&gt;jersey-mvc-hello-world&lt;/finalName&gt;\r\n    \t    &lt;plugins&gt;\r\n    \t        &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t            &lt;inherited&gt;true&lt;/inherited&gt;\r\n    \t            &lt;configuration&gt;\r\n    \t                &lt;source&gt;1.8&lt;/source&gt;\r\n    \t                &lt;target&gt;1.8&lt;/target&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t        &lt;/plugin&gt;\r\n    \t\r\n    \t        &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;9.3.8.v20160314&lt;/version&gt;\r\n    \t        &lt;/plugin&gt;\r\n    \t    &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**WEB.XML**\r\n\r\n    &lt;web-app&gt;\r\n    \r\n    \t&lt;filter&gt;\r\n    \t\t&lt;filter-name&gt;Jersey&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.glassfish.jersey.servlet.ServletContainer\r\n    \t\t&lt;/filter-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.example.AppConfig&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/filter&gt;\r\n    \t\r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t\t&lt;filter-name&gt;Jersey&lt;/filter-name&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\n**AppConfig.java**\r\n\r\n    package com.example.logs;\r\n    \r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.server.mvc.jsp.JspMvcFeature;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    \r\n        @Configuration\r\n        @EnableWebMvc\r\n        public class AppConfig extends ResourceConfig {\r\n        \r\n        \t\r\n            public AppConfig() {\r\n                packages(&quot;com.example.logs&quot;);\r\n                property(JspMvcFeature.TEMPLATE_BASE_PATH, &quot;/WEB-INF/jsp&quot;);\r\n                register(JspMvcFeature.class);\r\n            }\r\n        }\r\n\r\n**HomeController**\r\n\r\n    package com.example.logs;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    import org.glassfish.jersey.server.mvc.Viewable;\r\n    \r\n    @Path(&quot;/&quot;)\r\n    public class HomeController {\r\n    \r\n        @GET\r\n        @Produces(MediaType.TEXT_HTML)\r\n        public Viewable index() {\r\n        \tSystem.out.println(&quot;Test message!--------------------&quot;);\r\n            Map&lt;String, String&gt; model = new HashMap&lt;&gt;();\r\n            model.put(&quot;hello&quot;, &quot;Hello&quot;);\r\n            model.put(&quot;world&quot;, &quot;World&quot;);\r\n            return new Viewable(&quot;/index&quot;, model);\r\n        }\r\n    }\r\n\r\n**webapp/WEB-INF/jsp/index.jsp**\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;JSP Page&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;${it.hello} ${it.world}&lt;/h1&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nIt seems that I have everything, when I navigate to: http://localhost:8383/ my breakpoint stops at method in the HomeController, so that is linked properly. However after this function I&#39;m getting this screen:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how my project structure looks like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WYtno.png\r\n  [2]: https://i.stack.imgur.com/eeLr7.png\r\n\r\n\r\nDo you see any problem here? I spent days trying to create simple Jersey App that will return some jsp but without any luck. If you have any idea why I&#39;m getting this 404 screen please let me know. I read docs, read bunch of other articles but it seems that I did everything right..\r\n\r\n\r\n**EDIT:** This is the error that I&#39;m having when I start up the application, maybe it has something to do with this problem..\r\n\r\n    java.io.IOException: java.lang.reflect.InvocationTargetException\r\n    \tat org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:209) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:383) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:318) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:282) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:233) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-embed-jasper-9.0.55.jar:9.0.55]\r\n    \tat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-embed-jasper-9.0.55.jar:9.0.55]\r\n    \tat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-embed-jasper-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat com.example.logs.ApplicationMain.main(ApplicationMain.java:11) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.1.jar:2.6.1]\r\n    Caused by: java.lang.reflect.InvocationTargetException: null\r\n    \tat java.base/jdk.internal.reflect.GeneratedConstructorAccessor18.newInstance(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\r\n    \tat org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:206) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \t... 51 common frames omitted\r\n    Caused by: java.nio.file.NoSuchFileException: C:\\Users\\just.quest\\.m2\\repository\\org\\glassfish\\hk2\\hk2\\2.6.1\\hk2-utils.jar\r\n    \tat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85) ~[na:na]\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[na:na]\r\n    \tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[na:na]\r\n    \tat java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:53) ~[na:na]\r\n    \tat java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:38) ~[na:na]\r\n    \tat java.base/sun.nio.fs.WindowsFileSystemProvider.readAttributes(WindowsFileSystemProvider.java:198) ~[na:na]\r\n    \tat java.base/java.nio.file.Files.readAttributes(Files.java:1843) ~[na:na]\r\n    \tat java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1198) ~[na:na]\r\n    \tat java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:701) ~[na:na]\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:240) ~[na:na]\r\n    \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:171) ~[na:na]\r\n    \tat java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:347) ~[na:na]\r\n    \t... 56 common frames omitted","title":"SpringBoot - This localhost page can’t be found - Error (Jersey WebApp)","body":"<p>I created simple Jersey web app using Spring boot but I keep getting this weird error:</p>\n<p>This localhost page can’t be foundNo webpage was found for the web address: http://localhost:8383/\nHTTP ERROR 404</p>\n<p><strong>POM.XML</strong></p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;logs&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;logs&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.ext&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-mvc-jsp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;jersey-mvc-hello-world&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n    \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.3.8.v20160314&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>WEB.XML</strong></p>\n<pre><code>&lt;web-app&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;Jersey&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.glassfish.jersey.servlet.ServletContainer\n        &lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.example.AppConfig&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    \n    &lt;filter-mapping&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;filter-name&gt;Jersey&lt;/filter-name&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>AppConfig.java</strong></p>\n<pre><code>package com.example.logs;\n\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.server.mvc.jsp.JspMvcFeature;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n    @Configuration\n    @EnableWebMvc\n    public class AppConfig extends ResourceConfig {\n    \n        \n        public AppConfig() {\n            packages(&quot;com.example.logs&quot;);\n            property(JspMvcFeature.TEMPLATE_BASE_PATH, &quot;/WEB-INF/jsp&quot;);\n            register(JspMvcFeature.class);\n        }\n    }\n</code></pre>\n<p><strong>HomeController</strong></p>\n<pre><code>package com.example.logs;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport org.glassfish.jersey.server.mvc.Viewable;\n\n@Path(&quot;/&quot;)\npublic class HomeController {\n\n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public Viewable index() {\n        System.out.println(&quot;Test message!--------------------&quot;);\n        Map&lt;String, String&gt; model = new HashMap&lt;&gt;();\n        model.put(&quot;hello&quot;, &quot;Hello&quot;);\n        model.put(&quot;world&quot;, &quot;World&quot;);\n        return new Viewable(&quot;/index&quot;, model);\n    }\n}\n</code></pre>\n<p><strong>webapp/WEB-INF/jsp/index.jsp</strong></p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;${it.hello} ${it.world}&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>It seems that I have everything, when I navigate to: http://localhost:8383/ my breakpoint stops at method in the HomeController, so that is linked properly. However after this function I'm getting this screen:</p>\n<p><a href=\"https://i.stack.imgur.com/WYtno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WYtno.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how my project structure looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/eeLr7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eeLr7.png\" alt=\"enter image description here\" /></a></p>\n<p>Do you see any problem here? I spent days trying to create simple Jersey App that will return some jsp but without any luck. If you have any idea why I'm getting this 404 screen please let me know. I read docs, read bunch of other articles but it seems that I did everything right..</p>\n<p><strong>EDIT:</strong> This is the error that I'm having when I start up the application, maybe it has something to do with this problem..</p>\n<pre><code>java.io.IOException: java.lang.reflect.InvocationTargetException\n    at org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:209) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:383) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:318) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:282) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:233) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-embed-jasper-9.0.55.jar:9.0.55]\n    at org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-embed-jasper-9.0.55.jar:9.0.55]\n    at org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-embed-jasper-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\n    at com.example.logs.ApplicationMain.main(ApplicationMain.java:11) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.1.jar:2.6.1]\nCaused by: java.lang.reflect.InvocationTargetException: null\n    at java.base/jdk.internal.reflect.GeneratedConstructorAccessor18.newInstance(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481) ~[na:na]\n    at org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:206) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    ... 51 common frames omitted\nCaused by: java.nio.file.NoSuchFileException: C:\\Users\\just.quest\\.m2\\repository\\org\\glassfish\\hk2\\hk2\\2.6.1\\hk2-utils.jar\n    at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85) ~[na:na]\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[na:na]\n    at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[na:na]\n    at java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:53) ~[na:na]\n    at java.base/sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(WindowsFileAttributeViews.java:38) ~[na:na]\n    at java.base/sun.nio.fs.WindowsFileSystemProvider.readAttributes(WindowsFileSystemProvider.java:198) ~[na:na]\n    at java.base/java.nio.file.Files.readAttributes(Files.java:1843) ~[na:na]\n    at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1198) ~[na:na]\n    at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:701) ~[na:na]\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:240) ~[na:na]\n    at java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:171) ~[na:na]\n    at java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:347) ~[na:na]\n    ... 56 common frames omitted\n</code></pre>\n"},{"tags":["java","math","double"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1639486659,"post_id":70349192,"comment_id":124356017,"body_markdown":"Java 1.5? Seriously? The version that hasn&#39;t gotten public updates for 12 years and hasn&#39;t gotten a paid-for update for 6 years? If this is actually stil maintained/developer then there is basically no reason to stay with that ancient version. That being said: you could take a look at [the OpenJDK implementation](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/lang/Math.java) if licensing allows that.","body":"Java 1.5? Seriously? The version that hasn&#39;t gotten public updates for 12 years and hasn&#39;t gotten a paid-for update for 6 years? If this is actually stil maintained/developer then there is basically no reason to stay with that ancient version. That being said: you could take a look at <a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/lang/Math.java\" rel=\"nofollow noreferrer\">the OpenJDK implementation</a> if licensing allows that."},{"owner":{"display_name":"user6743474"},"score":0,"creation_date":1639488044,"post_id":70349192,"comment_id":124356542,"body_markdown":"Thankyou @joachim-sauer.  I have tested the code in the OpenJDK implementation and it also works.","body":"Thankyou @joachim-sauer.  I have tested the code in the OpenJDK implementation and it also works."}],"answers":[{"tags":[],"owner":{"account_id":9591025,"reputation":423,"user_id":7121906,"accept_rate":100,"display_name":"Andrea Nardi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639489681,"creation_date":1639487282,"answer_id":70349386,"question_id":70349192,"body_markdown":"You can find the implementation of the function made by OpenJDK [here][1] (be careful of their license, you may or may not be able to use their code depending on the licence you have in your project).  \r\nFrom what I see what their code does is the following:\r\n\r\n 1. Copy byte per byte the double to an unsigned integer (or long in the case of Java)\r\n 2. Do an unsigned increment(or decrement depending on the direction) to the unsigned integer (in Java you have to consider the negative and positive values separately, so +1 if the value is positive or -1 if the value is negative, this is because of how 2&#39;s complement work)\r\n 3. Copy byte per byte the unsigned integer back to a double\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/3f9638d124076019f49eb77bc3ff8b466e4beb53/src/java.base/share/classes/java/lang/Math.java#L2804","title":"Method of Implementing Java Math.nextAfter() for JDK 5","body":"<p>You can find the implementation of the function made by OpenJDK <a href=\"https://github.com/openjdk/jdk/blob/3f9638d124076019f49eb77bc3ff8b466e4beb53/src/java.base/share/classes/java/lang/Math.java#L2804\" rel=\"nofollow noreferrer\">here</a> (be careful of their license, you may or may not be able to use their code depending on the licence you have in your project).<br />\nFrom what I see what their code does is the following:</p>\n<ol>\n<li>Copy byte per byte the double to an unsigned integer (or long in the case of Java)</li>\n<li>Do an unsigned increment(or decrement depending on the direction) to the unsigned integer (in Java you have to consider the negative and positive values separately, so +1 if the value is positive or -1 if the value is negative, this is because of how 2's complement work)</li>\n<li>Copy byte per byte the unsigned integer back to a double</li>\n</ol>\n"}],"owner":{"display_name":"user6743474"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70349386,"answer_count":1,"score":1,"last_activity_date":1639489681,"creation_date":1639486272,"question_id":70349192,"body_markdown":"I need to use JDK1.5 for a particular application and have noticed that the Math library does not contain the `Math.nextAfter()` function.  I can probably kludge a version of this but I am wondering if anyone has a clever method of getting the next `Double` value in a manner that emulates the `Math.nextAfter()` function.","title":"Method of Implementing Java Math.nextAfter() for JDK 5","body":"<p>I need to use JDK1.5 for a particular application and have noticed that the Math library does not contain the <code>Math.nextAfter()</code> function.  I can probably kludge a version of this but I am wondering if anyone has a clever method of getting the next <code>Double</code> value in a manner that emulates the <code>Math.nextAfter()</code> function.</p>\n"},{"tags":["java","spring-boot","distributed-transactions","xa","atomikos"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1639489127,"post_id":70348242,"comment_id":124357021,"body_markdown":"Is it possible to consume the outbound messages on the other side? Either they have in fact been rolled back and only seem published or (more likely) you have an error in your configuration. It is possible to enlist the outbound messages in the same XA transaction as the inbound, but setting things up can be tricky.","body":"Is it possible to consume the outbound messages on the other side? Either they have in fact been rolled back and only seem published or (more likely) you have an error in your configuration. It is possible to enlist the outbound messages in the same XA transaction as the inbound, but setting things up can be tricky."},{"owner":{"account_id":12598421,"reputation":31,"user_id":9162049,"display_name":"Mitesh Parikh"},"score":0,"creation_date":1639489880,"post_id":70348242,"comment_id":124357364,"body_markdown":"when i shut down my spring boot application, these outbound messages should have got rolled back (removed) from MQ but that&#39;s not the case - I have inbound and outbound wrapped up in 1 XA transaction and so am curious to know if XA should have rolled back (removed) the messages after timeout as the application was not able to publish all the outbound messages within the specified time","body":"when i shut down my spring boot application, these outbound messages should have got rolled back (removed) from MQ but that&#39;s not the case - I have inbound and outbound wrapped up in 1 XA transaction and so am curious to know if XA should have rolled back (removed) the messages after timeout as the application was not able to publish all the outbound messages within the specified time"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1639492238,"post_id":70348242,"comment_id":124358437,"body_markdown":"If things are configured correctly the messages should not be there before the application commits. If it times out there is presumably no commit, so there should be no messages. Note that a message can be visible but not readable in some products (not sure about MQ), so if you want to be sure try to consume it. If that works before you have committed then you have an error in your code or configuration.","body":"If things are configured correctly the messages should not be there before the application commits. If it times out there is presumably no commit, so there should be no messages. Note that a message can be visible but not readable in some products (not sure about MQ), so if you want to be sure try to consume it. If that works before you have committed then you have an error in your code or configuration."}],"owner":{"account_id":12598421,"reputation":31,"user_id":9162049,"display_name":"Mitesh Parikh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639488855,"creation_date":1639481923,"question_id":70348242,"body_markdown":"We have a specific requirement to consume one inbound messages from IBM MQ (source), generate around 3k outbound messages and publish all of them one by one to a destination IBM MQ - All this in 1 transaction - Transaction time out duration is 5 mins.    \r\nWe are using Atomikos XA for our spring boot application to implement this requirement but getting a major issue when the transaction is timing out after 5 mins and within this time not all outbound messages were published to destination IBM MQ. I can see that 1k messages got published to the destination queue and the inbound message was rolled back to the source queue.   \r\nAs we are using XA, none of outbound messages should have got published is my expectation but that&#39;s not the case - Is this not how XA works? Am i missing something here? Please clarify","title":"XA Transaction Issue","body":"<p>We have a specific requirement to consume one inbound messages from IBM MQ (source), generate around 3k outbound messages and publish all of them one by one to a destination IBM MQ - All this in 1 transaction - Transaction time out duration is 5 mins.<br />\nWe are using Atomikos XA for our spring boot application to implement this requirement but getting a major issue when the transaction is timing out after 5 mins and within this time not all outbound messages were published to destination IBM MQ. I can see that 1k messages got published to the destination queue and the inbound message was rolled back to the source queue.<br />\nAs we are using XA, none of outbound messages should have got published is my expectation but that's not the case - Is this not how XA works? Am i missing something here? Please clarify</p>\n"},{"tags":["java","hibernate","drop-down-menu","pojo","openxava"],"answers":[{"tags":[],"owner":{"account_id":1461508,"reputation":692,"user_id":1866119,"display_name":"javierpaniza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420809302,"creation_date":1420809302,"answer_id":27861412,"question_id":27801156,"body_markdown":"Define your property as an enum, thus:\r\n\r\n\tprivate Sex sex;\r\n\tpublic enum Sex { MALE, FEMALE, OTHER }\r\n\r\nOpenXava will generate a combo for that.\r\n","title":"How to create dropdown list in OpenXava?","body":"<p>Define your property as an enum, thus:</p>\n\n<pre><code>private Sex sex;\npublic enum Sex { MALE, FEMALE, OTHER }\n</code></pre>\n\n<p>OpenXava will generate a combo for that.</p>\n"}],"owner":{"account_id":4005953,"reputation":2281,"user_id":3300593,"accept_rate":81,"display_name":"Vinod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27861412,"answer_count":1,"score":0,"last_activity_date":1639488718,"creation_date":1420555895,"question_id":27801156,"body_markdown":"how can we create the dropdown list type question in OpenXava? Let&#39;s say Gender is the question with (Male, Female, Other) with respective answers.\r\n\r\nHow can I declare the variable in the POJO class. Or do we have any hibernate annotations for the same.\r\n\r\nPlease suggest.\r\n\r\n","title":"How to create dropdown list in OpenXava?","body":"<p>how can we create the dropdown list type question in OpenXava? Let's say Gender is the question with (Male, Female, Other) with respective answers.</p>\n\n<p>How can I declare the variable in the POJO class. Or do we have any hibernate annotations for the same.</p>\n\n<p>Please suggest.</p>\n"},{"tags":["java","ssh","java.util.logging"],"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1425561500,"post_id":28875423,"comment_id":46019231,"body_markdown":"When you tell the library to invoke, say, a zip command, you log the fact that you invoked a zip command.","body":"When you tell the library to invoke, say, a zip command, you log the fact that you invoked a zip command."},{"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"score":0,"creation_date":1425624270,"post_id":28875423,"comment_id":46047408,"body_markdown":"yes, i can add additional logging, however when i look through the source code of ganymed i can see many degug log statememnts that are not proucing any log output all. how do i enable these log statements?","body":"yes, i can add additional logging, however when i look through the source code of ganymed i can see many degug log statememnts that are not proucing any log output all. how do i enable these log statements?"}],"answers":[{"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1510742556,"creation_date":1510742556,"answer_id":47305291,"question_id":28875423,"body_markdown":"A little late answer but maybe someone still needs this info.\r\n\r\nI managed to get the debug statements visible like this:\r\n\r\n        public void enableFineLogging() {\r\n        try {\r\n            ch.ethz.ssh2.log.Logger.enabled = true;\r\n            String name = &quot;myDynamicFileNamePart&quot;;\r\n\r\n            FileHandler fileHandler = new FileHandler(&quot;./logs/&quot;\r\n                    + name + &quot;_SFTP.log&quot;, 10000000, 1000, true);\r\n            fileHandler.setLevel(Level.FINE);\r\n            fileHandler.setFormatter(new SimpleFormatter());\r\n\r\n            final Logger app = Logger.getLogger(&quot;ch.ethz&quot;);\r\n            app.setLevel(Level.FINE);\r\n            app.addHandler(fileHandler);\r\n            app.setUseParentHandlers(false);\r\n\r\n        } catch (Exception e) {\r\n            // Catchalog\r\n        }\r\n    }\r\n\r\nWith result in file with:\r\n\r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter info\r\n&gt; \r\n&gt; INFO: Client identity string: SSH-2.0-SSHJ_0.19.1\r\n&gt; \r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter info\r\n&gt; \r\n&gt; INFO: Server identity string: SSH-2.0-OpenSSH_6.6.1\r\n&gt; \r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug\r\n&gt; \r\n&gt; FINE: Setting &lt;&lt;kex done&gt;&gt; to `null`\r\n&gt; \r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug\r\n&gt; \r\n&gt; FINE: Sending SSH_MSG_KEXINIT\r\n&gt; \r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug\r\n&gt; \r\n&gt; FINE: Setting &lt;&lt;kexinit sent&gt;&gt; to `SOME`\r\n&gt; \r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug\r\n&gt; \r\n&gt; FINE: Awaiting &lt;&lt;kex done&gt;&gt;\r\n&gt; \r\n&gt; marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug\r\n&gt; \r\n&gt; FINE: Received SSH_MSG_KEXINIT\r\n\r\nUse ConsoleHandler if you wish logs in console.\r\nAlso closing the log file needs to be considered with `fileHandler.close()` after you quit logging.\r\n\r\nTune the log level by choosing from `SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST, ALL`","title":"How to enable FULL Logging with Ganymed SSH-2","body":"<p>A little late answer but maybe someone still needs this info.</p>\n\n<p>I managed to get the debug statements visible like this:</p>\n\n<pre><code>    public void enableFineLogging() {\n    try {\n        ch.ethz.ssh2.log.Logger.enabled = true;\n        String name = \"myDynamicFileNamePart\";\n\n        FileHandler fileHandler = new FileHandler(\"./logs/\"\n                + name + \"_SFTP.log\", 10000000, 1000, true);\n        fileHandler.setLevel(Level.FINE);\n        fileHandler.setFormatter(new SimpleFormatter());\n\n        final Logger app = Logger.getLogger(\"ch.ethz\");\n        app.setLevel(Level.FINE);\n        app.addHandler(fileHandler);\n        app.setUseParentHandlers(false);\n\n    } catch (Exception e) {\n        // Catchalog\n    }\n}\n</code></pre>\n\n<p>With result in file with:</p>\n\n<blockquote>\n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter info</p>\n  \n  <p>INFO: Client identity string: SSH-2.0-SSHJ_0.19.1</p>\n  \n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter info</p>\n  \n  <p>INFO: Server identity string: SSH-2.0-OpenSSH_6.6.1</p>\n  \n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug</p>\n  \n  <p>FINE: Setting &lt;> to <code>null</code></p>\n  \n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug</p>\n  \n  <p>FINE: Sending SSH_MSG_KEXINIT</p>\n  \n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug</p>\n  \n  <p>FINE: Setting &lt;> to <code>SOME</code></p>\n  \n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug</p>\n  \n  <p>FINE: Awaiting &lt;></p>\n  \n  <p>marras 15, 2017 12:16:56 IP. org.slf4j.impl.JCLLoggerAdapter debug</p>\n  \n  <p>FINE: Received SSH_MSG_KEXINIT</p>\n</blockquote>\n\n<p>Use ConsoleHandler if you wish logs in console.\nAlso closing the log file needs to be considered with <code>fileHandler.close()</code> after you quit logging.</p>\n\n<p>Tune the log level by choosing from <code>SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST, ALL</code></p>\n"}],"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47305291,"answer_count":1,"score":4,"last_activity_date":1639488495,"creation_date":1425550884,"question_id":28875423,"body_markdown":"I am developing a java application that executes ssh commands using `Ganymed SSH-2`\r\n\r\nI need to produce full logs for each sequence of commands, e.g. zip file transfer, unzipping, zipping etc..\r\n\r\nHaving searched the source code for `ch.ethz.ssh2.log.Logger` i can set the boolean `public static volatile boolean enabled = false;` to true\r\n\r\nthis provides the following output\r\n\r\n\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: kex_algo=diffie-hellman-group-exchange-sha1\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: server_host_key_algo=ssh-rsa\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: enc_algo_client_to_server=aes128-ctr\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: enc_algo_server_to_client=aes128-ctr\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: mac_algo_client_to_server=hmac-sha1-96\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: mac_algo_server_to_client=hmac-sha1-96\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: comp_algo_client_to_server=none\r\n    Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\r\n    INFO: comp_algo_server_to_client=none\r\n\r\nHowever I also require ALL level logging for command execution including file transfers.\r\n\r\nHow do i configure the Logger to produce all the information available?\r\n","title":"How to enable FULL Logging with Ganymed SSH-2","body":"<p>I am developing a java application that executes ssh commands using <code>Ganymed SSH-2</code></p>\n\n<p>I need to produce full logs for each sequence of commands, e.g. zip file transfer, unzipping, zipping etc..</p>\n\n<p>Having searched the source code for <code>ch.ethz.ssh2.log.Logger</code> i can set the boolean <code>public static volatile boolean enabled = false;</code> to true</p>\n\n<p>this provides the following output</p>\n\n<pre><code>Mar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: kex_algo=diffie-hellman-group-exchange-sha1\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: server_host_key_algo=ssh-rsa\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: enc_algo_client_to_server=aes128-ctr\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: enc_algo_server_to_client=aes128-ctr\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: mac_algo_client_to_server=hmac-sha1-96\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: mac_algo_server_to_client=hmac-sha1-96\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: comp_algo_client_to_server=none\nMar 05, 2015 10:17:25 AM ch.ethz.ssh2.log.Logger info\nINFO: comp_algo_server_to_client=none\n</code></pre>\n\n<p>However I also require ALL level logging for command execution including file transfers.</p>\n\n<p>How do i configure the Logger to produce all the information available?</p>\n"},{"tags":["java","android","multithreading","web-services","sqlite"],"answers":[{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639488473,"creation_date":1299620573,"answer_id":5238689,"question_id":5238270,"body_markdown":"More than likely you have a race condition in that the web service calls are not completed before the wait period has ended and the activity is finished.\r\n\r\nA better approach may be to:\r\n\r\n - remove the waiting, finish(), and\r\n   startActivity() from the splash\r\n   thread.\r\n - combine all the web service\r\n   calls into on AsyncTask.\r\n - move all the db operations to the\r\n   task&#39;s doInBackground method.\r\n - in the task&#39;s onPostExecuteMethod, do\r\n   your finish and startActivity().\r\n","title":"Android several Web Service Calls on load","body":"<p>More than likely you have a race condition in that the web service calls are not completed before the wait period has ended and the activity is finished.</p>\n<p>A better approach may be to:</p>\n<ul>\n<li>remove the waiting, finish(), and\nstartActivity() from the splash\nthread.</li>\n<li>combine all the web service\ncalls into on AsyncTask.</li>\n<li>move all the db operations to the\ntask's doInBackground method.</li>\n<li>in the task's onPostExecuteMethod, do\nyour finish and startActivity().</li>\n</ul>\n"}],"owner":{"account_id":18735,"reputation":12072,"user_id":43222,"accept_rate":87,"display_name":"Zack Marrapese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639488473,"creation_date":1299618089,"question_id":5238270,"body_markdown":"I have been learning Android for the past 3 months or so. However, I haven&#39;t come across anything like this yet.\r\n\r\nI want to access several different web services when the application is initially loaded.  The response from these web services should go into the DB for retrieval where needed in the application.  I have a splash screen from which I am attempting to do this:\r\n\r\n    public class SplashScreen extends BaseActivity {\r\n    \t\r\n        protected static final int SPLASH_DURATION = 2000;\r\n    \t\r\n        protected ContactInfoRetriever contactInfoRetriever = new ContactInfoRetriever();\r\n    \r\n        public void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \tsetContentView(R.layout.splash_screen);\r\n    \tstartSplashThread();\r\n        }\r\n    \r\n        private void startSplashThread() {\r\n    \tThread splashThread = new Thread() {\r\n    \t\t@Override\r\n    \t\t    public void run() {\r\n    \t\t    try {\r\n    \t\t\tLooper.prepare();\r\n    \t\t\t// fire off the calls to the different web services.\r\n    \t\t\tupdateContactInfo();\r\n    \t\t\tupdateFooInfo();\r\n    \t\t\tupdateBarInfo();\r\n    \r\n    \t\t\tint waited = 0;\r\n    \t\t\twhile (waited &lt; SPLASH_DURATION) {\r\n    \t\t\t    sleep(100);\r\n    \t\t\t    waited += 100;\r\n    \t\t\t}\t\t\t\t\t\r\n    \t\t    }\r\n    \t\t    catch (InterruptedException e) {\r\n    \t\t\tLog.e(SplashScreen.class.getSimpleName(), &quot;The splash thread was interrupted.&quot;);\r\n    \t\t    }\r\n    \t\t    finally {\r\n    \t\t\tfinish();\r\n    \t\t\tstartActivity(new Intent(SplashScreen.this, LandingPageActivity.class));\r\n    \t\t    }\r\n    \t\t}\r\n    \r\n    \t    };\r\n    \tsplashThread.start();\r\n        }\r\n    \r\n        protected void updateContactInfo() {\r\n    \t\t\r\n    \tPerformContactInfoSearchTask task = new PerformContactInfoSearchTask();\r\n    \ttask.execute();\r\n        }    \r\n    \r\n        protected void updateFooInfo() {\r\n    \tPerformFooTask task = new PerformFooTask();\r\n    \ttask.execute();\r\n        }\r\n    \r\n        protected void updateBarInfo() {\r\n    \tPerformBarTask task = new PerformBarTask();\r\n    \ttask.execute();\r\n        }\r\n    \t\r\n        private class PerformContactInfoSearchTask extends AsyncTask&lt;String, Void, ContactInfo&gt; {\r\n    \r\n    \r\n    \t@Override\r\n    \t    protected ContactInfo doInBackground(String... params) {\r\n    \t    // this calls a class which calls a web service, and is then passed to an XML parser.\r\n    \t    // the result is a ContactInfo object\r\n    \t    return contactInfoRetriever.retrieve();\r\n    \t}\r\n    \t\t\r\n    \t@Override\r\n    \t    protected void onPostExecute(final ContactInfo result) {\r\n    \t    runOnUiThread(new Runnable() {\r\n    \t\t\t\t\r\n    \t\t    public void run() {\r\n    \t\t\tInsuranceDB db = new InsuranceDB(SplashScreen.this);\r\n    \t\t\t// insert the ContactInfo into the DB\r\n    \t\t\tdb.insertContactInfo(result);\r\n    \t\t    }\r\n    \t\t});\r\n    \t}\r\n    \t\t\r\n        }\t\r\n    \r\n        private class PerformFooTask extends AsyncTask&lt;String, Void, FooInfo&gt; {\r\n    \t// similar to the PerformContactInfoSearchTask\r\n        }\r\n    \r\n        private class PerformBarTask extends AsyncTask&lt;String, Void, BarInfo&gt; {\r\n    \t// similar to the PerformContactInfoSearchTask\r\n        }\r\n    \r\n    }\r\n\r\nI haven&#39;t been successful with this yet.  What is the best way to do this?  I don&#39;t need to update the UI thread when the tasks are completed.  Does this mean I should be using something other than `AsyncTask`?  I read something about a Looper and Handler.  Is this the correct thing to use?  Any code samples would be wonderful.\r\n\r\nThanks,\r\nZack","title":"Android several Web Service Calls on load","body":"<p>I have been learning Android for the past 3 months or so. However, I haven't come across anything like this yet.</p>\n\n<p>I want to access several different web services when the application is initially loaded.  The response from these web services should go into the DB for retrieval where needed in the application.  I have a splash screen from which I am attempting to do this:</p>\n\n<pre><code>public class SplashScreen extends BaseActivity {\n\n    protected static final int SPLASH_DURATION = 2000;\n\n    protected ContactInfoRetriever contactInfoRetriever = new ContactInfoRetriever();\n\n    public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_screen);\n    startSplashThread();\n    }\n\n    private void startSplashThread() {\n    Thread splashThread = new Thread() {\n        @Override\n            public void run() {\n            try {\n            Looper.prepare();\n            // fire off the calls to the different web services.\n            updateContactInfo();\n            updateFooInfo();\n            updateBarInfo();\n\n            int waited = 0;\n            while (waited &lt; SPLASH_DURATION) {\n                sleep(100);\n                waited += 100;\n            }                   \n            }\n            catch (InterruptedException e) {\n            Log.e(SplashScreen.class.getSimpleName(), \"The splash thread was interrupted.\");\n            }\n            finally {\n            finish();\n            startActivity(new Intent(SplashScreen.this, LandingPageActivity.class));\n            }\n        }\n\n        };\n    splashThread.start();\n    }\n\n    protected void updateContactInfo() {\n\n    PerformContactInfoSearchTask task = new PerformContactInfoSearchTask();\n    task.execute();\n    }    \n\n    protected void updateFooInfo() {\n    PerformFooTask task = new PerformFooTask();\n    task.execute();\n    }\n\n    protected void updateBarInfo() {\n    PerformBarTask task = new PerformBarTask();\n    task.execute();\n    }\n\n    private class PerformContactInfoSearchTask extends AsyncTask&lt;String, Void, ContactInfo&gt; {\n\n\n    @Override\n        protected ContactInfo doInBackground(String... params) {\n        // this calls a class which calls a web service, and is then passed to an XML parser.\n        // the result is a ContactInfo object\n        return contactInfoRetriever.retrieve();\n    }\n\n    @Override\n        protected void onPostExecute(final ContactInfo result) {\n        runOnUiThread(new Runnable() {\n\n            public void run() {\n            InsuranceDB db = new InsuranceDB(SplashScreen.this);\n            // insert the ContactInfo into the DB\n            db.insertContactInfo(result);\n            }\n        });\n    }\n\n    }   \n\n    private class PerformFooTask extends AsyncTask&lt;String, Void, FooInfo&gt; {\n    // similar to the PerformContactInfoSearchTask\n    }\n\n    private class PerformBarTask extends AsyncTask&lt;String, Void, BarInfo&gt; {\n    // similar to the PerformContactInfoSearchTask\n    }\n\n}\n</code></pre>\n\n<p>I haven't been successful with this yet.  What is the best way to do this?  I don't need to update the UI thread when the tasks are completed.  Does this mean I should be using something other than <code>AsyncTask</code>?  I read something about a Looper and Handler.  Is this the correct thing to use?  Any code samples would be wonderful.</p>\n\n<p>Thanks,\nZack</p>\n"},{"tags":["java","multithreading","static"],"comments":[{"owner":{"account_id":29016,"reputation":5672,"user_id":78054,"accept_rate":93,"display_name":"n00b"},"score":0,"creation_date":1299619263,"post_id":5238397,"comment_id":5896323,"body_markdown":"besides the mentioned race condition i really dont think that array should be final...","body":"besides the mentioned race condition i really dont think that array should be final..."},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":1,"creation_date":1299619368,"post_id":5238397,"comment_id":5896343,"body_markdown":"And I don&#39;t think `respTimes[i]` works inside an anonymous inner class when the variable `i` is declared non-final!","body":"And I don&#39;t think <code>respTimes[i]</code> works inside an anonymous inner class when the variable <code>i</code> is declared non-final!"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1299619420,"post_id":5238397,"comment_id":5896355,"body_markdown":"@n00b32 - I don&#39;t see what&#39;s wrong in the array being final","body":"@n00b32 - I don&#39;t see what&#39;s wrong in the array being final"},{"owner":{"account_id":29016,"reputation":5672,"user_id":78054,"accept_rate":93,"display_name":"n00b"},"score":0,"creation_date":1299619639,"post_id":5238397,"comment_id":5896405,"body_markdown":"well final vars are assigned in the constructor, and can be set only once... as far as i know it should be used for lookup tables / vars that are constant but may be generated @runtime","body":"well final vars are assigned in the constructor, and can be set only once... as far as i know it should be used for lookup tables / vars that are constant but may be generated @runtime"},{"owner":{"account_id":29016,"reputation":5672,"user_id":78054,"accept_rate":93,"display_name":"n00b"},"score":0,"creation_date":1299619792,"post_id":5238397,"comment_id":5896440,"body_markdown":"im not saying it wont work , it may, but `static long respTimes` is enough and more &quot;by the book&quot;","body":"im not saying it wont work , it may, but <code>static long respTimes</code> is enough and more &quot;by the book&quot;"},{"owner":{"account_id":29016,"reputation":5672,"user_id":78054,"accept_rate":93,"display_name":"n00b"},"score":0,"creation_date":1299620071,"post_id":5238397,"comment_id":5896510,"body_markdown":"it will lead to problems later, when he will maybe want to reassign the array so i think itd be better to do it correctly now ...","body":"it will lead to problems later, when he will maybe want to reassign the array so i think itd be better to do it correctly now ..."},{"owner":{"account_id":718863,"reputation":11,"user_id":650510,"display_name":"IgorM"},"score":0,"creation_date":1299620397,"post_id":5238397,"comment_id":5896568,"body_markdown":"adarshr, you are 100% correct about inner class problem but I removed all irrelevant code, including final declarations.","body":"adarshr, you are 100% correct about inner class problem but I removed all irrelevant code, including final declarations."}],"answers":[{"tags":[],"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1299619052,"creation_date":1299619052,"answer_id":5238436,"question_id":5238397,"body_markdown":"That&#39;s not the problem. Your problem is that you print out the results before you had a chance to generate them. Do this:\r\n\r\n    Thread [] theThreads = new Thread[10];\r\n    \r\n    for (...) {\r\n      theThreads[i] = new Thread() { ... }.start();\r\n    }\r\n    \r\n    // now make sure all the threads are done\r\n    for (...) {\r\n      // this waits for the thread to finish\r\n      theThreads[i].join();\r\n    }\r\n    \r\n    // now print things out","title":"Populating Array from different threads","body":"<p>That's not the problem. Your problem is that you print out the results before you had a chance to generate them. Do this:</p>\n\n<pre><code>Thread [] theThreads = new Thread[10];\n\nfor (...) {\n  theThreads[i] = new Thread() { ... }.start();\n}\n\n// now make sure all the threads are done\nfor (...) {\n  // this waits for the thread to finish\n  theThreads[i].join();\n}\n\n// now print things out\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639488443,"creation_date":1299619128,"answer_id":5238459,"question_id":5238397,"body_markdown":"You are probably experiencing a race condition.  The for loop is completed before any of the threads have actually started and/or finished.\r\n\r\nIf you are using JDK 1.5 or higher, look into using the java.lang.concurrent classes.  They make these types of thread joining operations quite easy.\r\n","title":"Populating Array from different threads","body":"<p>You are probably experiencing a race condition.  The for loop is completed before any of the threads have actually started and/or finished.</p>\n<p>If you are using JDK 1.5 or higher, look into using the java.lang.concurrent classes.  They make these types of thread joining operations quite easy.</p>\n"},{"tags":[],"owner":{"account_id":323802,"reputation":1020,"user_id":644037,"display_name":"mohaps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299624449,"creation_date":1299620532,"answer_id":5238683,"question_id":5238397,"body_markdown":"Since I have a clinical aversion to static methods :P and a thing for organizing code (Also noticed you didn&#39;t handle any exceptions coming out of send method)\r\n\r\n\r\n\r\n    public class MultiClient\r\n    {\r\n      private long[] responseTimes = null;\r\n      private Throwable[] errors = null;\r\n      public MultiClient(int count)\r\n      {\r\n        responseTimes = new long[count];\r\n        errors = new Throwable[count];\r\n      }\r\n      protected void sendRequestWrapper(int index)\r\n      {\r\n        long startTime = System.nanoTime();\r\n        try\r\n        {\r\n          //original send request\r\n          sendRequest();\r\n        }\r\n        // optionally you may put a catch() here to process errors\r\n        catch(Throwable t)\r\n        {\r\n          errors[index] = t;\r\n        }\r\n        finally\r\n        {\r\n          //this will guarantee response times filled up even in case of \r\n          //sendRequest raising an exception\r\n          responseTimes[index] = System.nanoTime() - startTime;\r\n        }\r\n      }\r\n      public void doStuff()\r\n      {\r\n        Thread[] threads = new Thread[count];\r\n        //separete create thread calls\r\n        for(int i = 0; i &lt; threads.length; i++)\r\n        {\r\n            threads[i] = new Worker(i);\r\n        }\r\n        //... from start calls\r\n        for(int i = 0; i &lt; threads.length; i++)\r\n        {\r\n            threads[i].start();\r\n        }\r\n        // wait till all threads are done\r\n        for(int i = 0; i &lt; threads.length; i++)\r\n        {\r\n            threads[i].join();\r\n        }\r\n      }\r\n      private class Worker extends Thread\r\n      {\r\n        private int index = -1;\r\n        public Worker(int index)\r\n        {\r\n          super(&quot;worker &quot;+index);\r\n          this.index = index;\r\n        }\r\n        public void run()\r\n        {\r\n          MultiClient.this.sendRequestWrapper(index);\r\n        }\r\n      }\r\n      public long[] getResponseTimes(){ return responeTimes; }\r\n      public Throwable[] getErrors(){ return errors; }\r\n      public boolean sendFailed(int indeX){ return errors[index] != null; }\r\n      \r\n      public static void main(String[] args)\r\n      {\r\n        int count = ...; // get count from somewhere (cmd line, hard coded etc.)\r\n        MultiClient multiClient = new MultiClient(count); //create an array filler\r\n        multiClient.doStuff(); //this will block till all the threads are done\r\n        long[] responseTimes = multiClient.getResponseTimes();\r\n        \r\n        //do whatever you want with the response times\r\n      }\r\n      \r\n    }","title":"Populating Array from different threads","body":"<p>Since I have a clinical aversion to static methods :P and a thing for organizing code (Also noticed you didn't handle any exceptions coming out of send method)</p>\n\n<pre><code>public class MultiClient\n{\n  private long[] responseTimes = null;\n  private Throwable[] errors = null;\n  public MultiClient(int count)\n  {\n    responseTimes = new long[count];\n    errors = new Throwable[count];\n  }\n  protected void sendRequestWrapper(int index)\n  {\n    long startTime = System.nanoTime();\n    try\n    {\n      //original send request\n      sendRequest();\n    }\n    // optionally you may put a catch() here to process errors\n    catch(Throwable t)\n    {\n      errors[index] = t;\n    }\n    finally\n    {\n      //this will guarantee response times filled up even in case of \n      //sendRequest raising an exception\n      responseTimes[index] = System.nanoTime() - startTime;\n    }\n  }\n  public void doStuff()\n  {\n    Thread[] threads = new Thread[count];\n    //separete create thread calls\n    for(int i = 0; i &lt; threads.length; i++)\n    {\n        threads[i] = new Worker(i);\n    }\n    //... from start calls\n    for(int i = 0; i &lt; threads.length; i++)\n    {\n        threads[i].start();\n    }\n    // wait till all threads are done\n    for(int i = 0; i &lt; threads.length; i++)\n    {\n        threads[i].join();\n    }\n  }\n  private class Worker extends Thread\n  {\n    private int index = -1;\n    public Worker(int index)\n    {\n      super(\"worker \"+index);\n      this.index = index;\n    }\n    public void run()\n    {\n      MultiClient.this.sendRequestWrapper(index);\n    }\n  }\n  public long[] getResponseTimes(){ return responeTimes; }\n  public Throwable[] getErrors(){ return errors; }\n  public boolean sendFailed(int indeX){ return errors[index] != null; }\n\n  public static void main(String[] args)\n  {\n    int count = ...; // get count from somewhere (cmd line, hard coded etc.)\n    MultiClient multiClient = new MultiClient(count); //create an array filler\n    multiClient.doStuff(); //this will block till all the threads are done\n    long[] responseTimes = multiClient.getResponseTimes();\n\n    //do whatever you want with the response times\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":718863,"reputation":11,"user_id":650510,"display_name":"IgorM"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1639488443,"creation_date":1299618823,"question_id":5238397,"body_markdown":"I&#39;m trying to write a very simple program that creates several threads to send concurrent requests to a particular URL. I measure and store response times. The problem I’m having is that although I create my Response Times array as static and final, the values I store in this array exist only while I am inside of one of my generated threads. As soon as I am out of the loop and into the main thread, the array is empty (contains 0 values). So the sum in my code snippet is always zero. I realize that my error is probably a very basic one but unfortunately I was unable to find similar topic online. Could you please point me to the right direction? Thanks.  \r\n\r\n    public class MyClass {      \r\n\tstatic final long[] respTimes = new long[l];\r\n\r\n\tpublic static void sendRequest() {...}\r\n\r\n\tpublic static void main(String[] args) throws Exception {  \r\n\t\tfor(int i=0; i&lt;l; i++) {\r\n\t\t\tnew Thread(&quot;&quot; + i) {\r\n\t\t\t\tpublic void run() { \r\n\t\t\t\t\tlong startTime = System.nanoTime();\r\n\t\t\t\t\tsendRequest();\r\n\t\t\t\t\tlong estimatedTime = System.nanoTime() - startTime;\r\n\t\t\t\t\trespTimes[i] = estimatedTime;\r\n\t\t\t\t}\r\n\t\t\t}.start();\r\n\t\t}\r\n        \tfor(int i=0; i&lt;l; i++) { sum += respTimes[i]; }\r\n\t}  \r\n}","title":"Populating Array from different threads","body":"<p>I'm trying to write a very simple program that creates several threads to send concurrent requests to a particular URL. I measure and store response times. The problem I’m having is that although I create my Response Times array as static and final, the values I store in this array exist only while I am inside of one of my generated threads. As soon as I am out of the loop and into the main thread, the array is empty (contains 0 values). So the sum in my code snippet is always zero. I realize that my error is probably a very basic one but unfortunately I was unable to find similar topic online. Could you please point me to the right direction? Thanks.  </p>\n\n<pre><code>public class MyClass {      \nstatic final long[] respTimes = new long[l];\n\npublic static void sendRequest() {...}\n\npublic static void main(String[] args) throws Exception {  \n    for(int i=0; i&lt;l; i++) {\n        new Thread(\"\" + i) {\n            public void run() { \n                long startTime = System.nanoTime();\n                sendRequest();\n                long estimatedTime = System.nanoTime() - startTime;\n                respTimes[i] = estimatedTime;\n            }\n        }.start();\n    }\n        for(int i=0; i&lt;l; i++) { sum += respTimes[i]; }\n}  \n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","eclipse","import","pkcs#11"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1598528817,"post_id":63614152,"comment_id":112491819,"body_markdown":"Since Java 9 the system library is now modularized. Only the packages exported by a module are accessible. This is why you get the error. Your conclusion that Eclipse does not recognize these packages is wrong (the error message is `The package ... is not accessible`, not `The import ... cannot be resolved`). Instead, `SunPKCS11` is provided as a service. See https://docs.oracle.com/en/java/javase/11/security/pkcs11-reference-guide1.html","body":"Since Java 9 the system library is now modularized. Only the packages exported by a module are accessible. This is why you get the error. Your conclusion that Eclipse does not recognize these packages is wrong (the error message is <code>The package ... is not accessible</code>, not <code>The import ... cannot be resolved</code>). Instead, <code>SunPKCS11</code> is provided as a service. See <a href=\"https://docs.oracle.com/en/java/javase/11/security/pkcs11-reference-guide1.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/security/&hellip;</a>"},{"owner":{"account_id":7966863,"reputation":87,"user_id":6012849,"display_name":"Mohini"},"score":0,"creation_date":1630473332,"post_id":63614152,"comment_id":121961894,"body_markdown":"Did you found any solution to use SUNPKCS11 wrapper in jdk 14","body":"Did you found any solution to use SUNPKCS11 wrapper in jdk 14"}],"answers":[{"tags":[],"owner":{"account_id":12738989,"reputation":11,"user_id":10394089,"display_name":"user10394089"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608148224,"creation_date":1608148224,"answer_id":65330221,"question_id":63614152,"body_markdown":"In my case, I switched to JRE instead JDK in the build path. \r\n\r\nAs far as I know it is because JRE has the security policies.","title":"import sun.security.pkcs11 cannot be resolved","body":"<p>In my case, I switched to JRE instead JDK in the build path.</p>\n<p>As far as I know it is because JRE has the security policies.</p>\n"}],"owner":{"account_id":12274321,"reputation":51,"user_id":8958675,"display_name":"Bruno Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4677,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1639488268,"creation_date":1598524485,"question_id":63614152,"body_markdown":"I&#39;m updating a code from Java8 to Java11 and eclipse is not recognizing these packages: \r\n\r\n    import sun.security.pkcs11.*; \r\n    import sun.security.pkcs11.wrapper.*;\r\n\r\n&gt; The error is &quot;The package is not acessible&quot;\r\n\r\nBut the package is available in JDK \r\n\r\n    module jdk.crypto.cryptoki {\r\n        // Depends on SunEC provider for EC related functionality\r\n        requires jdk.crypto.ec;\r\n    \r\n        provides java.security.Provider with sun.security.pkcs11.SunPKCS11; }\r\n\r\nI tryed to add this line to maven args without success\r\n\r\n    &lt;arg&gt;-XDignore.symbol.file&lt;/arg&gt;\r\n\r\nAny suggestions?\r\n","title":"import sun.security.pkcs11 cannot be resolved","body":"<p>I'm updating a code from Java8 to Java11 and eclipse is not recognizing these packages:</p>\n<pre><code>import sun.security.pkcs11.*; \nimport sun.security.pkcs11.wrapper.*;\n</code></pre>\n<blockquote>\n<p>The error is &quot;The package is not acessible&quot;</p>\n</blockquote>\n<p>But the package is available in JDK</p>\n<pre><code>module jdk.crypto.cryptoki {\n    // Depends on SunEC provider for EC related functionality\n    requires jdk.crypto.ec;\n\n    provides java.security.Provider with sun.security.pkcs11.SunPKCS11; }\n</code></pre>\n<p>I tryed to add this line to maven args without success</p>\n<pre><code>&lt;arg&gt;-XDignore.symbol.file&lt;/arg&gt;\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","hashmap","memory-management"],"comments":[{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1298929658,"post_id":5147887,"comment_id":5778228,"body_markdown":"Why, dont you require &lt;K,V&gt; while creating a map?","body":"Why, dont you require &lt;K,V&gt; while creating a map?"},{"owner":{"account_id":259071,"reputation":206364,"user_id":541686,"accept_rate":81,"display_name":"user541686"},"score":1,"creation_date":1298931140,"post_id":5147887,"comment_id":5778584,"body_markdown":"@Travis: Whoa there, chill! I didn&#39;t prevent him from doing anything, just asked him what he&#39;s trying to do so we might be able to better help him.","body":"@Travis: Whoa there, chill! I didn&#39;t prevent him from doing anything, just asked him what he&#39;s trying to do so we might be able to better help him."},{"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"score":0,"creation_date":1298934862,"post_id":5147887,"comment_id":5779316,"body_markdown":"Sorry mistake in code.  I&#39;m testing performance when managing large amounts of data with different collections/maps.  quick insert quick retrieval based on a excellent hash algorithms and no re-hashing.","body":"Sorry mistake in code.  I&#39;m testing performance when managing large amounts of data with different collections/maps.  quick insert quick retrieval based on a excellent hash algorithms and no re-hashing."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1298941473,"post_id":5147887,"comment_id":5780341,"body_markdown":"hashmap is no current structure, nothing big shall be managed by a single core nowadays; to your question - 1048576*8+ per entry 48. Keep in mind that HashMap &#39;scrambles&#39; the bits and uses pow2 table (no prime), so the hash function may not be excellent. Allocation on put is a high cost to pay overall, both footprint/performance (on get as well due to extra indirection)","body":"hashmap is no current structure, nothing big shall be managed by a single core nowadays; to your question - 1048576*8+ per entry 48. Keep in mind that HashMap &#39;scrambles&#39; the bits and uses pow2 table (no prime), so the hash function may not be excellent. Allocation on put is a high cost to pay overall, both footprint/performance (on get as well due to extra indirection)"}],"answers":[{"tags":[],"owner":{"account_id":204648,"reputation":2155,"user_id":452991,"display_name":"Argote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298929479,"creation_date":1298929479,"answer_id":5147920,"question_id":5147887,"body_markdown":"You could probably use a profiler like [VisualVM][1] and track memory use.\r\n\r\nHave a look at this too: [http://www.velocityreviews.com/forums/t148009-java-hashmap-size.html][2]\r\n\r\n\r\n  [1]: http://java.net/projects/visualvm/content/\r\n  [2]: http://www.velocityreviews.com/forums/t148009-java-hashmap-size.html","title":"In Java, empty HashMap space allocation","body":"<p>You could probably use a profiler like <a href=\"http://java.net/projects/visualvm/content/\" rel=\"nofollow\">VisualVM</a> and track memory use.</p>\n\n<p>Have a look at this too: <a href=\"http://www.velocityreviews.com/forums/t148009-java-hashmap-size.html\" rel=\"nofollow\">http://www.velocityreviews.com/forums/t148009-java-hashmap-size.html</a></p>\n"},{"tags":[],"owner":{"account_id":109969,"reputation":14788,"user_id":291180,"accept_rate":80,"display_name":"Travis Webb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298930553,"creation_date":1298929491,"answer_id":5147924,"question_id":5147887,"body_markdown":"I&#39;d have a look at this article: http://www.javaworld.com/javaworld/javatips/jw-javatip130.html\r\n\r\nIn short, java does not have a C-style `sizeof` operator. You could use profiling tools, but IMO the above link gives the simplest solution.\r\n\r\nAnother piece of info that may be helpful: an empty java String consumes 40 bytes. One million of them would probably be at least 40MB...","title":"In Java, empty HashMap space allocation","body":"<p>I'd have a look at this article: <a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip130.html\" rel=\"nofollow\">http://www.javaworld.com/javaworld/javatips/jw-javatip130.html</a></p>\n\n<p>In short, java does not have a C-style <code>sizeof</code> operator. You could use profiling tools, but IMO the above link gives the simplest solution.</p>\n\n<p>Another piece of info that may be helpful: an empty java String consumes 40 bytes. One million of them would probably be at least 40MB...</p>\n"},{"tags":[],"owner":{"account_id":282303,"reputation":2923,"user_id":579115,"accept_rate":100,"display_name":"dmcnelis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298929506,"creation_date":1298929506,"answer_id":5147926,"question_id":5147887,"body_markdown":"You could check memory usage before and after creation of the variable.  For example:\r\n\r\n    long preMemUsage = Runtime.getRuntime().totalMemory() -\r\n          Runtime.getRuntime().freeMemory();\r\n    HashMap&lt;String&gt; map = new HashMap&lt;String&gt;(1000000);\r\n    long postMemUsage = Runtime.getRuntime().totalMemory() -\r\n          Runtime.getRuntime().freeMemory();","title":"In Java, empty HashMap space allocation","body":"<p>You could check memory usage before and after creation of the variable.  For example:</p>\n\n<pre><code>long preMemUsage = Runtime.getRuntime().totalMemory() -\n      Runtime.getRuntime().freeMemory();\nHashMap&lt;String&gt; map = new HashMap&lt;String&gt;(1000000);\nlong postMemUsage = Runtime.getRuntime().totalMemory() -\n      Runtime.getRuntime().freeMemory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639488256,"creation_date":1298929876,"answer_id":5147984,"question_id":5147887,"body_markdown":"You should be able to use VisualVM (comes with JDK 6 or can be [downloaded][1]) to create a memory snapshot and inspect the allocated objects for their size.\r\n\r\n  [1]: http://visualvm.java.net/","title":"In Java, empty HashMap space allocation","body":"<p>You should be able to use VisualVM (comes with JDK 6 or can be <a href=\"http://visualvm.java.net/\" rel=\"nofollow noreferrer\">downloaded</a>) to create a memory snapshot and inspect the allocated objects for their size.</p>\n"},{"tags":[],"owner":{"account_id":259651,"reputation":607,"user_id":542692,"display_name":"Jeremy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298931886,"creation_date":1298931886,"answer_id":5148315,"question_id":5147887,"body_markdown":"I agree that a profiler is really the only way to tell.  The other bit of relevant information is whether you&#39;re using a 32-bit or 64-bit JVM.  The amount of overhead due to memory references (pointers) varies depending on that and whether you have compressed oops turned on.  I&#39;ve found that for smaller data sets the overhead of objects and pointers is significant.","title":"In Java, empty HashMap space allocation","body":"<p>I agree that a profiler is really the only way to tell.  The other bit of relevant information is whether you're using a 32-bit or 64-bit JVM.  The amount of overhead due to memory references (pointers) varies depending on that and whether you have compressed oops turned on.  I've found that for smaller data sets the overhead of objects and pointers is significant.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1298940927,"creation_date":1298940285,"answer_id":5149303,"question_id":5147887,"body_markdown":"The exact answer will depend on the version of Java you are using, the JVM vendor and the target platform, and is best determined by direct measurement, as described in other answers.\r\n\r\nBut as a simple estimate, the size is likely to be either `~4 * 2^20` or `~8 * 2^20` bytes, for a 32 bit or 64 bit jvm respectively.\r\n\r\nReasoning:\r\n\r\n  - The Sun Java 1.6 implementation of HashMap has a fixed side top-level object and a `table` field that points to the array of references to hash chains. \r\n\r\n  - In a newly created (empty) HashMap the references are all `null` and the array size is the next power of two larger that the supplied `initialCapacity`.  (Yes ... I checked the source code.)\r\n\r\n  - A reference occupies 4 bytes on a typical 32bit JVM and 8 bytes on a typical 64 bit JVM.  Some 64 bit JVMs support compact references (&quot;compressed oops&quot;), but you need to set JVM options to enable this.\r\n\r\n  - The top object has 5 fields including the `table` array reference, but this is a relatively small constant overhead.\r\n\r\n  - The top object and the array have object header overheads, but these are constant and relatively small.\r\n\r\nThus the size of the `table` array dominates, and it is `2^20` (the next power of 2 greater than `1,000,000`) multiplied by the size of a reference.\r\n\r\n-----------------\r\n\r\nSo, this tells you that setting a large initial capacity really does use a lot of memory.  On the other hand, if the initial capacity is a good estimate of the map&#39;s capacity when fully populated, you will save significant amounts of time by setting it.  (This avoids a number of cycles of reallocating the array and rebuilding of the hash chains.)","title":"In Java, empty HashMap space allocation","body":"<p>The exact answer will depend on the version of Java you are using, the JVM vendor and the target platform, and is best determined by direct measurement, as described in other answers.</p>\n\n<p>But as a simple estimate, the size is likely to be either <code>~4 * 2^20</code> or <code>~8 * 2^20</code> bytes, for a 32 bit or 64 bit jvm respectively.</p>\n\n<p>Reasoning:</p>\n\n<ul>\n<li><p>The Sun Java 1.6 implementation of HashMap has a fixed side top-level object and a <code>table</code> field that points to the array of references to hash chains. </p></li>\n<li><p>In a newly created (empty) HashMap the references are all <code>null</code> and the array size is the next power of two larger that the supplied <code>initialCapacity</code>.  (Yes ... I checked the source code.)</p></li>\n<li><p>A reference occupies 4 bytes on a typical 32bit JVM and 8 bytes on a typical 64 bit JVM.  Some 64 bit JVMs support compact references (\"compressed oops\"), but you need to set JVM options to enable this.</p></li>\n<li><p>The top object has 5 fields including the <code>table</code> array reference, but this is a relatively small constant overhead.</p></li>\n<li><p>The top object and the array have object header overheads, but these are constant and relatively small.</p></li>\n</ul>\n\n<p>Thus the size of the <code>table</code> array dominates, and it is <code>2^20</code> (the next power of 2 greater than <code>1,000,000</code>) multiplied by the size of a reference.</p>\n\n<hr>\n\n<p>So, this tells you that setting a large initial capacity really does use a lot of memory.  On the other hand, if the initial capacity is a good estimate of the map's capacity when fully populated, you will save significant amounts of time by setting it.  (This avoids a number of cycles of reallocating the array and rebuilding of the hash chains.)</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298940832,"creation_date":1298940832,"answer_id":5149361,"question_id":5147887,"body_markdown":"In principle, you can:\r\n\r\n* calculate it by theory:\r\n    * look at the implementation of HashMap to figure out what this method does.\r\n    * look at the implementation of the VM to know how much space the individual created objects take.\r\n* measure it somehow.\r\n\r\nMost of the other answers are about the second way, so I&#39;ll look at the first one (in OpenJDK source, 1.6.0_20).\r\n\r\nThe constructor uses a `capacity` that is the next power of two &gt;= your initialCapacity parameter, thus 1048576 = 2^20 in our case.\r\nIt then creates an `new Entry[capacity]` and assigns it to the `table` variable. (Additionally it assigns some primitive variables).\r\n\r\nSo, we now have one quite small HashMap object (it contains only 3 ints, one float and one reference variable), and one quite big Entry[] object. This array needs space for their array elements (which are normal reference variables) and some metadata (size, class).\r\n\r\nSo, it comes down to how big a reference variable is. This depends on VM implementation - usually in 32-bit VMs it is 32 bit (= 4 bytes), in 64-bit VMs 64 bit (= 8 bytes).\r\n\r\nSo, basically on 32-bit VMs your array takes 4 MB, on 64-bit VMs it takes 8 MB, plus some tiny administration data.\r\n\r\n------\r\n\r\nIf you then fill your HashTable with mappings, each mapping corresponds to a `Entry` object. This entry object consists of one int and three references, taking about 24 bytes on 32-bit VMs, maybe the double on 64-bit VMs. Thus your 1000000-mappings HashMap (assuming an load factor &gt; 1) would take ~28 MB on 32-bit-VMs and ~56 MB on 64-bit VMs.\r\n\r\nAdditionally to the key and value objects themselves, of course.","title":"In Java, empty HashMap space allocation","body":"<p>In principle, you can:</p>\n\n<ul>\n<li>calculate it by theory:\n<ul>\n<li>look at the implementation of HashMap to figure out what this method does.</li>\n<li>look at the implementation of the VM to know how much space the individual created objects take.</li>\n</ul></li>\n<li>measure it somehow.</li>\n</ul>\n\n<p>Most of the other answers are about the second way, so I'll look at the first one (in OpenJDK source, 1.6.0_20).</p>\n\n<p>The constructor uses a <code>capacity</code> that is the next power of two >= your initialCapacity parameter, thus 1048576 = 2^20 in our case.\nIt then creates an <code>new Entry[capacity]</code> and assigns it to the <code>table</code> variable. (Additionally it assigns some primitive variables).</p>\n\n<p>So, we now have one quite small HashMap object (it contains only 3 ints, one float and one reference variable), and one quite big Entry[] object. This array needs space for their array elements (which are normal reference variables) and some metadata (size, class).</p>\n\n<p>So, it comes down to how big a reference variable is. This depends on VM implementation - usually in 32-bit VMs it is 32 bit (= 4 bytes), in 64-bit VMs 64 bit (= 8 bytes).</p>\n\n<p>So, basically on 32-bit VMs your array takes 4 MB, on 64-bit VMs it takes 8 MB, plus some tiny administration data.</p>\n\n<hr>\n\n<p>If you then fill your HashTable with mappings, each mapping corresponds to a <code>Entry</code> object. This entry object consists of one int and three references, taking about 24 bytes on 32-bit VMs, maybe the double on 64-bit VMs. Thus your 1000000-mappings HashMap (assuming an load factor > 1) would take ~28 MB on 32-bit-VMs and ~56 MB on 64-bit VMs.</p>\n\n<p>Additionally to the key and value objects themselves, of course.</p>\n"},{"tags":[],"owner":{"account_id":119421,"reputation":78,"user_id":2135646,"display_name":"Duncan Armstrong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401978276,"creation_date":1401978276,"answer_id":24062783,"question_id":5147887,"body_markdown":"In the latest version of Java 1.7 (I&#39;m looking at 1.7.0_55) HashMap actually **lazily instantiates its internal table**.  It&#39;s only instantiated when put() is called - see the private method &quot;inflateTable()&quot;.  So your HashMap, before you add anything to it at least, will occupy only the handful of bytes of object overhead and instance fields.","title":"In Java, empty HashMap space allocation","body":"<p>In the latest version of Java 1.7 (I'm looking at 1.7.0_55) HashMap actually <strong>lazily instantiates its internal table</strong>.  It's only instantiated when put() is called - see the private method \"inflateTable()\".  So your HashMap, before you add anything to it at least, will occupy only the handful of bytes of object overhead and instance fields.</p>\n"}],"owner":{"account_id":20044,"reputation":4699,"user_id":47508,"accept_rate":62,"display_name":"richs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7044,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1639488256,"creation_date":1298929269,"question_id":5147887,"body_markdown":"How can i tell how much space a pre-sized HashMap takes up before any elements are added?  For example how do i determine how much memory the following takes up?\r\n\r\n    HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(1000000);","title":"In Java, empty HashMap space allocation","body":"<p>How can i tell how much space a pre-sized HashMap takes up before any elements are added?  For example how do i determine how much memory the following takes up?</p>\n\n<pre><code>HashMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;(1000000);\n</code></pre>\n"},{"tags":["java","eclipse","ide"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1639485116,"post_id":70348283,"comment_id":124355463,"body_markdown":"The java.awt.* classes are filtered out, see the duplicate for how to change this. This is fixed in the current 2021-12 release.","body":"The java.awt.* classes are filtered out, see the duplicate for how to change this. This is fixed in the current 2021-12 release."},{"owner":{"account_id":709587,"reputation":3,"user_id":619942,"display_name":"TheIngo"},"score":0,"creation_date":1639488274,"post_id":70348283,"comment_id":124356631,"body_markdown":"There was a bug in eclipse and after an update it is working well again! Thanks @greg-449!  \nI have updated my question with this solution.","body":"There was a bug in eclipse and after an update it is working well again! Thanks @greg-449!   I have updated my question with this solution."}],"owner":{"account_id":709587,"reputation":3,"user_id":619942,"display_name":"TheIngo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1639485072,"answer_count":0,"score":0,"last_activity_date":1639488240,"creation_date":1639482128,"question_id":70348283,"body_markdown":"&lt;h1&gt;Problem&lt;/h1&gt;\r\nWeird thing:\r\nMy Eclipse (and also the one of my colleague) does not know &quot;Desktop&quot;.&lt;br/&gt;\r\nWhat I mean: I type &quot;Desk&quot; in my Java code and try to autocomplete but Eclipse does not suggest &quot;Desktop&quot;. So it seems, like there is no &quot;Desktop&quot;-Class.&lt;br/&gt;\r\nBut the java.awt.Desktop class is still available, it just seems to be &quot;secret&quot;/hidden.&lt;br/&gt;\r\n**Any explanation, why Eclipse hides &quot;Desktop&quot; from us?**&lt;br/&gt;\r\nI use Java 8 in my project. Eclipse itself starts with Java 11 or 13. (how can I check?) &lt;br/&gt;\r\n&lt;br/&gt;\r\nThis code is an example and working, so the java.awt.Desktop itself is there, only &quot;hidden&quot; in Eclipse:&lt;br/&gt;\r\n\r\n```\r\npackage mystuff;\r\n\r\nimport java.awt.Desktop;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardCopyOption;\r\n\r\npublic class PDFStuff {\r\n\tpublic static final String dummyPDF = &quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;;\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString FILE_URL = dummyPDF;\r\n\t\tString FILE_NAME = &quot;dummy.pdf&quot;;\r\n\t\t\r\n\t\tInputStream in = new URL(FILE_URL).openStream();\r\n\t\tFiles.copy(in, Paths.get(FILE_NAME), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t\r\n\t\tDesktop.getDesktop().open(Paths.get(FILE_NAME).toFile());\r\n\t}\r\n}\r\n```\r\n\r\n\r\n&lt;h1&gt;Solution&lt;/h1&gt;\r\n\r\nThere was a bug in eclipse and after an update it is working well again! Thanks @greg-449!&lt;br/&gt;\r\n&lt;br/&gt;\r\nPS: I had another bug, so first I could not update Eclipse.  \r\nProblem was, that Eclipse could not remove eclipse.exe during the update process. &lt;br/&gt;\r\nThis is how I fixed it:&lt;br/&gt;\r\n* Run eclipse&lt;br/&gt;  \r\n* Rename eclipse.exe to eclipse.exe.backup&lt;br/&gt;  \r\n* Run updates&lt;br/&gt;\r\n* Updates executed successfully&lt;br/&gt;\r\n* Remove eclipse.exe.backup&lt;br/&gt;","title":"Eclipse doesn&#39;t know &quot;Desktop&quot;","body":"<h1>Problem</h1>\nWeird thing:\nMy Eclipse (and also the one of my colleague) does not know \"Desktop\".<br/>\nWhat I mean: I type \"Desk\" in my Java code and try to autocomplete but Eclipse does not suggest \"Desktop\". So it seems, like there is no \"Desktop\"-Class.<br/>\nBut the java.awt.Desktop class is still available, it just seems to be \"secret\"/hidden.<br/>\n**Any explanation, why Eclipse hides \"Desktop\" from us?**<br/>\nI use Java 8 in my project. Eclipse itself starts with Java 11 or 13. (how can I check?) <br/>\n<br/>\nThis code is an example and working, so the java.awt.Desktop itself is there, only \"hidden\" in Eclipse:<br/>\n<pre><code>package mystuff;\n\nimport java.awt.Desktop;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\n\npublic class PDFStuff {\n    public static final String dummyPDF = &quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;;\n    \n    public static void main(String[] args) throws Exception {\n        String FILE_URL = dummyPDF;\n        String FILE_NAME = &quot;dummy.pdf&quot;;\n        \n        InputStream in = new URL(FILE_URL).openStream();\n        Files.copy(in, Paths.get(FILE_NAME), StandardCopyOption.REPLACE_EXISTING);\n        \n        Desktop.getDesktop().open(Paths.get(FILE_NAME).toFile());\n    }\n}\n</code></pre>\n<h1>Solution</h1>\n<p>There was a bug in eclipse and after an update it is working well again! Thanks @greg-449!<br/>\n<br/>\nPS: I had another bug, so first I could not update Eclipse.<br />\nProblem was, that Eclipse could not remove eclipse.exe during the update process. <br/>\nThis is how I fixed it:<br/></p>\n<ul>\n<li>Run eclipse<br/></li>\n<li>Rename eclipse.exe to eclipse.exe.backup<br/></li>\n<li>Run updates<br/></li>\n<li>Updates executed successfully<br/></li>\n<li>Remove eclipse.exe.backup<br/></li>\n</ul>\n"},{"tags":["java","multithreading","rx-java","rx-java2"],"comments":[{"owner":{"account_id":1076737,"reputation":622,"user_id":1074714,"display_name":"nsawaya"},"score":0,"creation_date":1519395217,"post_id":48949675,"comment_id":84905839,"body_markdown":"This is kind of related to this one https://stackoverflow.com/questions/48267688/rxjava-single-thread-asynchronous-processing\nRxJava implements a reactive behavior and as such it can operate (in a non-blocking way) with a single thread.","body":"This is kind of related to this one <a href=\"https://stackoverflow.com/questions/48267688/rxjava-single-thread-asynchronous-processing\" title=\"rxjava single thread asynchronous processing\">stackoverflow.com/questions/48267688/&hellip;</a> RxJava implements a reactive behavior and as such it can operate (in a non-blocking way) with a single thread."},{"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"score":0,"creation_date":1519395541,"post_id":48949675,"comment_id":84906075,"body_markdown":"`found few manuals state`, in this case it would be prudent to provide references to the manuals.","body":"<code>found few manuals state</code>, in this case it would be prudent to provide references to the manuals."},{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":0,"creation_date":1519395575,"post_id":48949675,"comment_id":84906098,"body_markdown":"As you can see in my question it not works in one thread, instead it creates new thread for every observer I started. More over the main thread, where they are started from, still exist too. So 3 observers application uses 1 main thread and 3 threads for observers. Not a single thread but 4.","body":"As you can see in my question it not works in one thread, instead it creates new thread for every observer I started. More over the main thread, where they are started from, still exist too. So 3 observers application uses 1 main thread and 3 threads for observers. Not a single thread but 4."},{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":0,"creation_date":1519395903,"post_id":48949675,"comment_id":84906324,"body_markdown":"I updated post with link. Please check.","body":"I updated post with link. Please check."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1519399662,"post_id":48949675,"comment_id":84908851,"body_markdown":"RxJava is synchronous by default, which is not the same as single threaded. JavaScript and Node.js are single threaded. In RxJava, the asynchrony is explicitly defined via operators using Schedulers or implicitly in combinators working with arbitrary sources being potentially concurrent with respect to each other.","body":"RxJava is synchronous by default, which is not the same as single threaded. JavaScript and Node.js are single threaded. In RxJava, the asynchrony is explicitly defined via operators using Schedulers or implicitly in combinators working with arbitrary sources being potentially concurrent with respect to each other."},{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":0,"creation_date":1519404160,"post_id":48949675,"comment_id":84911721,"body_markdown":"Do you mean the statement: &quot;Rx is single-threaded by default&quot; is wrong as RxJava is synchronous but it is not the same as single threaded? Can I know how you get this and where this difference explicitly described?","body":"Do you mean the statement: &quot;Rx is single-threaded by default&quot; is wrong as RxJava is synchronous but it is not the same as single threaded? Can I know how you get this and where this difference explicitly described?"}],"answers":[{"tags":[],"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519396305,"creation_date":1519396305,"answer_id":48950127,"question_id":48949675,"body_markdown":"RxJava is single-threaded has two parts to it:\r\n\r\n1. Most operations are executed sequentially. This means that when the source produces a value it is immediately processed by the next step in the chain unless:\r\n    * The operator is one of the asynchronous operators, which require delays and threads to work. Examples include `observeOn` and `interval`. Since your example uses `interval` which would require blocking to be truely single-threaded, the more efficient scheduler-based solution is used.\r\n    * From memory the only operators that use blocking are the operators that convert from other formats that use blocking such as `Callable&lt;T&gt;` and `Future&lt;T&gt;`.\r\n2. Most of the RxJava standard and operators assume that the input is *sequential*, this means that when you implement your own observable you need to make sure that calls to `onNext` do not happen in parallel. This is presumably what the rule &quot;RxJava is single-threaded&quot; is based on since it does not natively support parallel operations. `RxJava2` adds the `ParallelObservable` family of operations to support true parallelism.","title":"RxJava Rx is single-threaded by default. Really?","body":"<p>RxJava is single-threaded has two parts to it:</p>\n\n<ol>\n<li>Most operations are executed sequentially. This means that when the source produces a value it is immediately processed by the next step in the chain unless:\n\n<ul>\n<li>The operator is one of the asynchronous operators, which require delays and threads to work. Examples include <code>observeOn</code> and <code>interval</code>. Since your example uses <code>interval</code> which would require blocking to be truely single-threaded, the more efficient scheduler-based solution is used.</li>\n<li>From memory the only operators that use blocking are the operators that convert from other formats that use blocking such as <code>Callable&lt;T&gt;</code> and <code>Future&lt;T&gt;</code>.</li>\n</ul></li>\n<li>Most of the RxJava standard and operators assume that the input is <em>sequential</em>, this means that when you implement your own observable you need to make sure that calls to <code>onNext</code> do not happen in parallel. This is presumably what the rule \"RxJava is single-threaded\" is based on since it does not natively support parallel operations. <code>RxJava2</code> adds the <code>ParallelObservable</code> family of operations to support true parallelism.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23644836,"reputation":1,"user_id":17674612,"display_name":"stani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639488197,"creation_date":1639488197,"answer_id":70349583,"question_id":48949675,"body_markdown":"The reason is that Observable.interval(), because it operates on a timer, it needs to run on a separate thread and will run on the computation Scheduler by default. So it allows multithreading by default","title":"RxJava Rx is single-threaded by default. Really?","body":"<p>The reason is that Observable.interval(), because it operates on a timer, it needs to run on a separate thread and will run on the computation Scheduler by default. So it allows multithreading by default</p>\n"}],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639488197,"creation_date":1519394811,"question_id":48949675,"body_markdown":"Hi I found few manuals state: **Rx is single-threaded by default.** \r\n\r\nYou can find this phrase here https://github.com/Froussios/Intro-To-RxJava/blob/master/Part%204%20-%20Concurrency/1.%20Scheduling%20and%20threading.md but this is not just one place to get it from.\r\n\r\nI tried to play a bit with it and got it multi-threaded actually. Here simple code I tried with:\r\n\r\n        Observable&lt;Long&gt; values1 = Observable.interval(1000, TimeUnit.MILLISECONDS);\r\n        values1.subscribe(\r\n            v -&gt; {\r\n            \tSystem.out.println(&quot;Received 1: &quot; + v + &quot;, Thread: &quot; + Thread.currentThread().getName());\r\n            },\r\n            e -&gt; System.out.println(&quot;Error: &quot; + e),\r\n            () -&gt; System.out.println(&quot;Completed&quot;)\r\n        );\r\n    \t\r\n        Observable&lt;Long&gt; values2 = Observable.interval(1000, TimeUnit.MILLISECONDS);\r\n        values2.subscribe(\r\n            v -&gt; {\r\n            \tSystem.out.println(&quot;Received 2: &quot; + v + &quot;, Thread: &quot; + Thread.currentThread().getName());\r\n            },\r\n            e -&gt; System.out.println(&quot;Error: &quot; + e),\r\n            () -&gt; System.out.println(&quot;Completed&quot;)\r\n        );\r\n\r\n        values1.subscribe(\r\n                v -&gt; {\r\n                \tSystem.out.println(&quot;Received 3: &quot; + v + &quot;, Thread: &quot; + Thread.currentThread().getName());\r\n                },\r\n                e -&gt; System.out.println(&quot;Error: &quot; + e),\r\n                () -&gt; System.out.println(&quot;Completed&quot;)\r\n            );\r\n        \r\n        System.in.read();\r\n\r\nHere just two observables and 3 readers. This code outputs:\r\n\r\n    Received 1: 0, Thread: RxComputationThreadPool-1\r\n    Received 3: 0, Thread: RxComputationThreadPool-3\r\n    Received 2: 0, Thread: RxComputationThreadPool-2\r\n    Received 1: 1, Thread: RxComputationThreadPool-1\r\n    Received 2: 1, Thread: RxComputationThreadPool-2\r\n    Received 3: 1, Thread: RxComputationThreadPool-3\r\n    ...\r\n\r\nas I see from output every reader takes new thread, and I never mentioned explicitly to create new thread for every new observer. So is this single threaded default behavior or not? Am I miss somewhere?","title":"RxJava Rx is single-threaded by default. Really?","body":"<p>Hi I found few manuals state: <strong>Rx is single-threaded by default.</strong> </p>\n\n<p>You can find this phrase here <a href=\"https://github.com/Froussios/Intro-To-RxJava/blob/master/Part%204%20-%20Concurrency/1.%20Scheduling%20and%20threading.md\" rel=\"nofollow noreferrer\">https://github.com/Froussios/Intro-To-RxJava/blob/master/Part%204%20-%20Concurrency/1.%20Scheduling%20and%20threading.md</a> but this is not just one place to get it from.</p>\n\n<p>I tried to play a bit with it and got it multi-threaded actually. Here simple code I tried with:</p>\n\n<pre><code>    Observable&lt;Long&gt; values1 = Observable.interval(1000, TimeUnit.MILLISECONDS);\n    values1.subscribe(\n        v -&gt; {\n            System.out.println(\"Received 1: \" + v + \", Thread: \" + Thread.currentThread().getName());\n        },\n        e -&gt; System.out.println(\"Error: \" + e),\n        () -&gt; System.out.println(\"Completed\")\n    );\n\n    Observable&lt;Long&gt; values2 = Observable.interval(1000, TimeUnit.MILLISECONDS);\n    values2.subscribe(\n        v -&gt; {\n            System.out.println(\"Received 2: \" + v + \", Thread: \" + Thread.currentThread().getName());\n        },\n        e -&gt; System.out.println(\"Error: \" + e),\n        () -&gt; System.out.println(\"Completed\")\n    );\n\n    values1.subscribe(\n            v -&gt; {\n                System.out.println(\"Received 3: \" + v + \", Thread: \" + Thread.currentThread().getName());\n            },\n            e -&gt; System.out.println(\"Error: \" + e),\n            () -&gt; System.out.println(\"Completed\")\n        );\n\n    System.in.read();\n</code></pre>\n\n<p>Here just two observables and 3 readers. This code outputs:</p>\n\n<pre><code>Received 1: 0, Thread: RxComputationThreadPool-1\nReceived 3: 0, Thread: RxComputationThreadPool-3\nReceived 2: 0, Thread: RxComputationThreadPool-2\nReceived 1: 1, Thread: RxComputationThreadPool-1\nReceived 2: 1, Thread: RxComputationThreadPool-2\nReceived 3: 1, Thread: RxComputationThreadPool-3\n...\n</code></pre>\n\n<p>as I see from output every reader takes new thread, and I never mentioned explicitly to create new thread for every new observer. So is this single threaded default behavior or not? Am I miss somewhere?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1639483518,"post_id":70348491,"comment_id":124354845,"body_markdown":"isn&#39;t this better suited on https://codereview.stackexchange.com/ ?","body":"isn&#39;t this better suited on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> ?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1639483844,"post_id":70348491,"comment_id":124354975,"body_markdown":"it probably would be faster if you will record position of placed ship and remove it from random posibilities then also when position will be randomized check if it&#39;s possible to place it including length of a ship etc. And as @a_local_nobody said it&#39;s working code so it&#39;s better for codereview","body":"it probably would be faster if you will record position of placed ship and remove it from random posibilities then also when position will be randomized check if it&#39;s possible to place it including length of a ship etc. And as @a_local_nobody said it&#39;s working code so it&#39;s better for codereview"},{"owner":{"account_id":17542247,"reputation":21,"user_id":12724216,"display_name":"xKiba"},"score":0,"creation_date":1639484323,"post_id":70348491,"comment_id":124355159,"body_markdown":"Thanks for the advice, i will post this on codereview (didn&#39;t know that existed).\n\n@Szprota21 That is exactly what&#39;s happening (not every ship gets tested on every position, it depends on placed ships in current recursive &quot;path&quot;, check code for &quot;currentShips&quot; and &quot;currentPositions&quot;)","body":"Thanks for the advice, i will post this on codereview (didn&#39;t know that existed).  @Szprota21 That is exactly what&#39;s happening (not every ship gets tested on every position, it depends on placed ships in current recursive &quot;path&quot;, check code for &quot;currentShips&quot; and &quot;currentPositions&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639488157,"creation_date":1639484332,"answer_id":70348774,"question_id":70348491,"body_markdown":"Multiple things to consider here, where improvement can take place:\r\n\r\n1. **This point is INVALID, because the OP has actually accounted for that. But this is still a basic thing to keep in mind:** NEVER try to hit positions with random addresses. As soon as the field has a few ships, this will decrease speed drastically. In addition, &#39;random&#39; functions can be really really slow, depending on their implementation\r\n\r\n2. a) Your code is also slow because you search items in linear lists, so in average your additional effort will be `(list size) / 2`. Use HashMaps or TreeMaps or HeapMaps, or their `Set` version.\r\n\r\n2. b) Your code uses `remove(anyIndex)`. In `ArrayList`s, this will start to copy (on average) half of the array data to another position on every call. \r\n - And it does not play a role, whether you &#39;pop&#39; from the very top (index 0) or not.\r\n - Worst of all, you use this `remove()` in loops, exploding your runtime.\r\n - Use an unstable removal (order will not be maintained), or `LinkedList`s, or some Map. \r\n\r\n3. a) instead of targeting random positions, build a map of ALL available spaces (on a 30x30 board, this will add 900 entries to the hashmap).\r\n*The advantage of this approach is that build-up is slow, but all other operations are linear or minimized.*\r\n - have a parameter for the size of a ship\r\n - create the HashMap (should be its own method, because we might need this at different locations in the code):\r\n - - iterate over all positions, add the free ones (where you could validly place a ship of required length and rotation) to a hashmap, use coordinates as key\r\n - - alternatively, if you expect coverage to be less than 85%, add ALL positions, then iterate over already placed ships and remove their positions from the HashMap\r\n - - placement collisions for future placements would be possible at this point, but get removed once we hit (y)\r\n - place the ships:\r\n - - x) selecting a random &#39;index&#39; from a hashmap is a little challenge here, but you&#39;ll figure that out\r\n - - y) once you start placing ships, remove all affected positions from the hashmap (include the ship&#39;s length and orientation in your calculations)\r\n - - resume at (x)\r\n\r\n3. b) extension of that algorithm - improvement for differing sizes\r\n - if you run this algorithm for ships with differing sizes, calculate the available positions for the longest ships first, then you can also re-use the created hashmap for shorter ones. if the hashmap is empty but there are still ships remaining: when you run the &#39;create hashmap of valid positions&#39; algorithm again, adjust/reduce the searched ship length to the currently required one. (*This then will not be &#39;truly random&#39; anymore, but random enough that no player will ever realize it. But in cryptography for example, this here would break the algorithm*)\r\n - - this will greatly increase speed while coverage is below ~80%\r\n\r\n\r\n4. A little hint on switches: use fall-through for combined code blocks:\r\n\r\nYour code is\r\n\r\n            switch(ship.getRotation()) {\r\n                case HORIZONTAL:\r\n                    nextX = pos.x - 1 + i;\r\n                    nextY = pos.y - 1 + j;\r\n                    break;\r\n                case VERTICAL:\r\n                    nextX = pos.x - 1 + j;\r\n                    nextY = pos.y - 1 + i;\r\n                    break;\r\n                default:\r\n                    nextX = pos.x - 1 + j;\r\n                    nextY = pos.y - 1 + i;\r\n                    break;\r\n            }\r\n\r\nit can easily be reduced to \r\n\r\n            switch(ship.getRotation()) {\r\n                case HORIZONTAL:\r\n                    nextX = pos.x - 1 + i;\r\n                    nextY = pos.y - 1 + j;\r\n                    break;\r\n                case VERTICAL: // fall-through to default, as VERTICAL seems to be the default^^\r\n                default:\r\n                    nextX = pos.x - 1 + j;\r\n                    nextY = pos.y - 1 + i;\r\n                    break;\r\n            }\r\n\r\n","title":"Battleship Game - Random Ship Placement","body":"<p>Multiple things to consider here, where improvement can take place:</p>\n<ol>\n<li><p><strong>This point is INVALID, because the OP has actually accounted for that. But this is still a basic thing to keep in mind:</strong> NEVER try to hit positions with random addresses. As soon as the field has a few ships, this will decrease speed drastically. In addition, 'random' functions can be really really slow, depending on their implementation</p>\n</li>\n<li><p>a) Your code is also slow because you search items in linear lists, so in average your additional effort will be <code>(list size) / 2</code>. Use HashMaps or TreeMaps or HeapMaps, or their <code>Set</code> version.</p>\n</li>\n<li><p>b) Your code uses <code>remove(anyIndex)</code>. In <code>ArrayList</code>s, this will start to copy (on average) half of the array data to another position on every call.</p>\n</li>\n</ol>\n<ul>\n<li>And it does not play a role, whether you 'pop' from the very top (index 0) or not.</li>\n<li>Worst of all, you use this <code>remove()</code> in loops, exploding your runtime.</li>\n<li>Use an unstable removal (order will not be maintained), or <code>LinkedList</code>s, or some Map.</li>\n</ul>\n<ol start=\"3\">\n<li>a) instead of targeting random positions, build a map of ALL available spaces (on a 30x30 board, this will add 900 entries to the hashmap).\n<em>The advantage of this approach is that build-up is slow, but all other operations are linear or minimized.</em></li>\n</ol>\n<ul>\n<li>have a parameter for the size of a ship</li>\n<li>create the HashMap (should be its own method, because we might need this at different locations in the code):</li>\n<li>\n<ul>\n<li>iterate over all positions, add the free ones (where you could validly place a ship of required length and rotation) to a hashmap, use coordinates as key</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>alternatively, if you expect coverage to be less than 85%, add ALL positions, then iterate over already placed ships and remove their positions from the HashMap</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>placement collisions for future placements would be possible at this point, but get removed once we hit (y)</li>\n</ul>\n</li>\n<li>place the ships:</li>\n<li>\n<ul>\n<li>x) selecting a random 'index' from a hashmap is a little challenge here, but you'll figure that out</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>y) once you start placing ships, remove all affected positions from the hashmap (include the ship's length and orientation in your calculations)</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>resume at (x)</li>\n</ul>\n</li>\n</ul>\n<ol start=\"3\">\n<li>b) extension of that algorithm - improvement for differing sizes</li>\n</ol>\n<ul>\n<li>if you run this algorithm for ships with differing sizes, calculate the available positions for the longest ships first, then you can also re-use the created hashmap for shorter ones. if the hashmap is empty but there are still ships remaining: when you run the 'create hashmap of valid positions' algorithm again, adjust/reduce the searched ship length to the currently required one. (<em>This then will not be 'truly random' anymore, but random enough that no player will ever realize it. But in cryptography for example, this here would break the algorithm</em>)</li>\n<li>\n<ul>\n<li>this will greatly increase speed while coverage is below ~80%</li>\n</ul>\n</li>\n</ul>\n<ol start=\"4\">\n<li>A little hint on switches: use fall-through for combined code blocks:</li>\n</ol>\n<p>Your code is</p>\n<pre><code>        switch(ship.getRotation()) {\n            case HORIZONTAL:\n                nextX = pos.x - 1 + i;\n                nextY = pos.y - 1 + j;\n                break;\n            case VERTICAL:\n                nextX = pos.x - 1 + j;\n                nextY = pos.y - 1 + i;\n                break;\n            default:\n                nextX = pos.x - 1 + j;\n                nextY = pos.y - 1 + i;\n                break;\n        }\n</code></pre>\n<p>it can easily be reduced to</p>\n<pre><code>        switch(ship.getRotation()) {\n            case HORIZONTAL:\n                nextX = pos.x - 1 + i;\n                nextY = pos.y - 1 + j;\n                break;\n            case VERTICAL: // fall-through to default, as VERTICAL seems to be the default^^\n            default:\n                nextX = pos.x - 1 + j;\n                nextY = pos.y - 1 + i;\n                break;\n        }\n</code></pre>\n"}],"owner":{"account_id":17542247,"reputation":21,"user_id":12724216,"display_name":"xKiba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1451,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639488157,"creation_date":1639483059,"question_id":70348491,"body_markdown":"I have to do a Battleship game. The game should have some kind of AI. The AI CAN place ships with a hard coded pattern, but i want to take things a step further and make the ship placement random.\r\n\r\nI have implemented a &quot;trial and error&quot; method, where ships get randomly placed on the field with a random rotation, until the algorithm runs out of either ships to be placed or fields to place the ships in. In the second case the recursive implementation allows to try out other ship/field/rotation combos, until the first condition is reached. So to speak: try all possible ship/rotation/field combo&#39;s (picked randomly) until you find one valid one, where all ships are placed.\r\n\r\nAs you can imagine, this is a terrible effort, when it comes to runtime.\r\nThe size of the &quot;board&quot; can be 5x5 up to 30x30 with exactly 30% of the fields beeing occupied by a ship.\r\n\r\nNow, Runtime isn&#39;t my concern for sizes up to 14x14, but then runtime increases so badly, that i have to think of a way to reduce runtime.\r\n\r\nAny suggestions? (I would like to get general thinking advice/idea&#39;s, not code)\r\n\r\nIn case, my explenation wasn&#39;t enough: Here&#39;s the class that tries to place the ships on the field:\r\n\r\n``` lang-java\r\npublic class RandomShipFactory {\r\n\r\n\tprivate int size;\r\n\tprivate Game game;\r\n\tprivate ArrayList&lt;Ship&gt; toBeCheckedShips = new ArrayList&lt;Ship&gt;();\r\n\tprivate ArrayList&lt;Position&gt; toBeCheckedPositions = new ArrayList&lt;Position&gt;();\r\n\t\r\n\tpublic RandomShipFactory(int size, Game game) {\r\n\t\tthis.size = size;\r\n\t\tthis.game = game;\r\n\t\tthis.toBeCheckedShips.addAll(game.ownBoard.getShips());\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; this.size; i++) {\r\n\t\t\tfor(int j = 0; j &lt; this.size; j++) {\r\n\t\t\t\tthis.toBeCheckedPositions.add(new Position(i,j));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void makeRandomShipPlacements() {\r\n\t\tthis.makeRandomShipPlacements(this.toBeCheckedPositions, this.toBeCheckedShips);\r\n\t\tgame.ownBoard.printBoard();\r\n\t}\r\n\t\r\n\tprivate boolean makeRandomShipPlacements(ArrayList&lt;Position&gt; currentPositions, ArrayList&lt;Ship&gt; currentShips) {\r\n\t\tif(currentPositions.isEmpty()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;Position&gt; checkedPositionsInThisRun = new ArrayList&lt;Position&gt;();\r\n\r\n\t\tRandom r = new Random();\r\n\t\tboolean success = false;\r\n\t\t\r\n\t\twhile(!success &amp;&amp; !currentShips.isEmpty() &amp;&amp; !currentPositions.isEmpty()) {\r\n\t\t\tint randomPositionIndex = r.nextInt(currentPositions.size());\r\n\t\t\tPosition randomPosition = currentPositions.remove(randomPositionIndex);\r\n\t\t\tcheckedPositionsInThisRun.add(randomPosition);\r\n\t\t\t\r\n\t\t\tArrayList&lt;Ship&gt; currentShipQueue = new ArrayList&lt;Ship&gt;();\r\n\t\t\tcurrentShipQueue.addAll(currentShips);\r\n\t\t\twhile(!success &amp;&amp; !currentShipQueue.isEmpty()) {\r\n\t\t\t\tShip currentShip = currentShipQueue.remove(0);\r\n\t\t\t\t\r\n\t\t\t\tboolean shouldRotate = r.nextBoolean();\r\n\t\t\t\tif(shouldRotate) {\r\n\t\t\t\t\tcurrentShip.rotate();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tboolean canPlaceShip = this.game.placeShipOnOwnBoard(currentShip, randomPosition.x, randomPosition.y);\r\n\t\t\t\tif(canPlaceShip) {\r\n\t\t\t\t\tcurrentShips.remove(currentShip);\r\n\t\t\t\t\tArrayList&lt;Position&gt; boxPositions = removeBoxSquarePositions(currentPositions, currentShip, randomPosition);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currentShips.isEmpty()) {\r\n\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tboolean recursiveSuccess = this.makeRandomShipPlacements(currentPositions, currentShips);\r\n\t\t\t\t\t\tif(!recursiveSuccess) {\r\n\t\t\t\t\t\t\tthis.game.removeShipFromOwnBoard(currentShip);\r\n\t\t\t\t\t\t\tcurrentPositions.addAll(boxPositions);\r\n\t\t\t\t\t\t\tcurrentShips.add(currentShip);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\t\tcurrentShip.rotate();\r\n\t\t\t\t\t\r\n\t\t\t\t\tcanPlaceShip = this.game.placeShipOnOwnBoard(currentShip, randomPosition.x, randomPosition.y);\r\n\t\t\t\t\tif(canPlaceShip) {\r\n\t\t\t\t\t\tcurrentShips.remove(currentShip);\r\n\t\t\t\t\t\tArrayList&lt;Position&gt; boxPositions = removeBoxSquarePositions(currentPositions, currentShip, randomPosition);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(currentShips.isEmpty()) {\r\n\t\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tboolean recursiveSuccess = this.makeRandomShipPlacements(currentPositions, currentShips);\r\n\t\t\t\t\t\t\tif(!recursiveSuccess) {\r\n\t\t\t\t\t\t\t\tthis.game.removeShipFromOwnBoard(currentShip);\r\n\t\t\t\t\t\t\t\tcurrentPositions.addAll(boxPositions);\r\n\t\t\t\t\t\t\t\tcurrentShips.add(currentShip);\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tcurrentPositions.addAll(checkedPositionsInThisRun);\r\n\t\treturn success;\r\n\t}\r\n\t\r\n\tprivate ArrayList&lt;Position&gt; removeBoxSquarePositions(ArrayList&lt;Position&gt; positionList, Ship ship, Position pos) {\r\n\t\tArrayList&lt;Position&gt; boxPositions = new ArrayList&lt;Position&gt;();\r\n\t\tfor(int i = 0; i &lt; ship.length + 2; i++) {\r\n\t\t\tfor(int j = 0; j &lt; 3; j++) {\r\n\t\t\t\tint nextX, nextY;\r\n\t\t\t\t\r\n\t\t\t\tswitch(ship.getRotation()) {\r\n\t\t\t\tcase HORIZONTAL:\r\n\t\t\t\t\tnextX = pos.x - 1 + i;\r\n\t\t\t\t\tnextY = pos.y - 1 + j;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase VERTICAL:\r\n\t\t\t\t\tnextX = pos.x - 1 + j;\r\n\t\t\t\t\tnextY = pos.y - 1 + i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnextX = pos.x - 1 + j;\r\n\t\t\t\t\tnextY = pos.y - 1 + i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(nextX &gt;= 0 &amp;&amp; nextX &lt; this.size &amp;&amp; nextY &gt;= 0 &amp;&amp; nextY &lt; this.size) {\r\n\t\t\t\t\tPosition currentPosition = Position.findPosInList(positionList, nextX, nextY);\r\n\t\t\t\t\tif(currentPosition != null) {\r\n\t\t\t\t\t\tpositionList.remove(currentPosition);\r\n\t\t\t\t\t\tboxPositions.add(currentPosition);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn boxPositions;\r\n\t}\r\n}\r\n```","title":"Battleship Game - Random Ship Placement","body":"<p>I have to do a Battleship game. The game should have some kind of AI. The AI CAN place ships with a hard coded pattern, but i want to take things a step further and make the ship placement random.</p>\n<p>I have implemented a &quot;trial and error&quot; method, where ships get randomly placed on the field with a random rotation, until the algorithm runs out of either ships to be placed or fields to place the ships in. In the second case the recursive implementation allows to try out other ship/field/rotation combos, until the first condition is reached. So to speak: try all possible ship/rotation/field combo's (picked randomly) until you find one valid one, where all ships are placed.</p>\n<p>As you can imagine, this is a terrible effort, when it comes to runtime.\nThe size of the &quot;board&quot; can be 5x5 up to 30x30 with exactly 30% of the fields beeing occupied by a ship.</p>\n<p>Now, Runtime isn't my concern for sizes up to 14x14, but then runtime increases so badly, that i have to think of a way to reduce runtime.</p>\n<p>Any suggestions? (I would like to get general thinking advice/idea's, not code)</p>\n<p>In case, my explenation wasn't enough: Here's the class that tries to place the ships on the field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RandomShipFactory {\n\n    private int size;\n    private Game game;\n    private ArrayList&lt;Ship&gt; toBeCheckedShips = new ArrayList&lt;Ship&gt;();\n    private ArrayList&lt;Position&gt; toBeCheckedPositions = new ArrayList&lt;Position&gt;();\n    \n    public RandomShipFactory(int size, Game game) {\n        this.size = size;\n        this.game = game;\n        this.toBeCheckedShips.addAll(game.ownBoard.getShips());\n        \n        for(int i = 0; i &lt; this.size; i++) {\n            for(int j = 0; j &lt; this.size; j++) {\n                this.toBeCheckedPositions.add(new Position(i,j));\n            }\n        }\n    }\n    \n    public void makeRandomShipPlacements() {\n        this.makeRandomShipPlacements(this.toBeCheckedPositions, this.toBeCheckedShips);\n        game.ownBoard.printBoard();\n    }\n    \n    private boolean makeRandomShipPlacements(ArrayList&lt;Position&gt; currentPositions, ArrayList&lt;Ship&gt; currentShips) {\n        if(currentPositions.isEmpty()) {\n            return false;\n        }\n        \n        ArrayList&lt;Position&gt; checkedPositionsInThisRun = new ArrayList&lt;Position&gt;();\n\n        Random r = new Random();\n        boolean success = false;\n        \n        while(!success &amp;&amp; !currentShips.isEmpty() &amp;&amp; !currentPositions.isEmpty()) {\n            int randomPositionIndex = r.nextInt(currentPositions.size());\n            Position randomPosition = currentPositions.remove(randomPositionIndex);\n            checkedPositionsInThisRun.add(randomPosition);\n            \n            ArrayList&lt;Ship&gt; currentShipQueue = new ArrayList&lt;Ship&gt;();\n            currentShipQueue.addAll(currentShips);\n            while(!success &amp;&amp; !currentShipQueue.isEmpty()) {\n                Ship currentShip = currentShipQueue.remove(0);\n                \n                boolean shouldRotate = r.nextBoolean();\n                if(shouldRotate) {\n                    currentShip.rotate();\n                }\n                \n                boolean canPlaceShip = this.game.placeShipOnOwnBoard(currentShip, randomPosition.x, randomPosition.y);\n                if(canPlaceShip) {\n                    currentShips.remove(currentShip);\n                    ArrayList&lt;Position&gt; boxPositions = removeBoxSquarePositions(currentPositions, currentShip, randomPosition);\n                    \n                    if(currentShips.isEmpty()) {\n                        success = true;\n                    }else {\n                        boolean recursiveSuccess = this.makeRandomShipPlacements(currentPositions, currentShips);\n                        if(!recursiveSuccess) {\n                            this.game.removeShipFromOwnBoard(currentShip);\n                            currentPositions.addAll(boxPositions);\n                            currentShips.add(currentShip);\n                        }else {\n                            success = true;\n                        }\n                    }\n                }else {\n                    currentShip.rotate();\n                    \n                    canPlaceShip = this.game.placeShipOnOwnBoard(currentShip, randomPosition.x, randomPosition.y);\n                    if(canPlaceShip) {\n                        currentShips.remove(currentShip);\n                        ArrayList&lt;Position&gt; boxPositions = removeBoxSquarePositions(currentPositions, currentShip, randomPosition);\n                        \n                        if(currentShips.isEmpty()) {\n                            success = true;\n                        }else {\n                            boolean recursiveSuccess = this.makeRandomShipPlacements(currentPositions, currentShips);\n                            if(!recursiveSuccess) {\n                                this.game.removeShipFromOwnBoard(currentShip);\n                                currentPositions.addAll(boxPositions);\n                                currentShips.add(currentShip);\n                            }else {\n                                success = true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        \n        currentPositions.addAll(checkedPositionsInThisRun);\n        return success;\n    }\n    \n    private ArrayList&lt;Position&gt; removeBoxSquarePositions(ArrayList&lt;Position&gt; positionList, Ship ship, Position pos) {\n        ArrayList&lt;Position&gt; boxPositions = new ArrayList&lt;Position&gt;();\n        for(int i = 0; i &lt; ship.length + 2; i++) {\n            for(int j = 0; j &lt; 3; j++) {\n                int nextX, nextY;\n                \n                switch(ship.getRotation()) {\n                case HORIZONTAL:\n                    nextX = pos.x - 1 + i;\n                    nextY = pos.y - 1 + j;\n                    break;\n                case VERTICAL:\n                    nextX = pos.x - 1 + j;\n                    nextY = pos.y - 1 + i;\n                    break;\n                default:\n                    nextX = pos.x - 1 + j;\n                    nextY = pos.y - 1 + i;\n                    break;\n                }\n                \n                if(nextX &gt;= 0 &amp;&amp; nextX &lt; this.size &amp;&amp; nextY &gt;= 0 &amp;&amp; nextY &lt; this.size) {\n                    Position currentPosition = Position.findPosInList(positionList, nextX, nextY);\n                    if(currentPosition != null) {\n                        positionList.remove(currentPosition);\n                        boxPositions.add(currentPosition);\n                    }\n                }\n            }\n        }\n        return boxPositions;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","binary"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":1,"creation_date":1639397187,"post_id":70334366,"comment_id":124330085,"body_markdown":"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"<a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"},{"owner":{"account_id":16005109,"reputation":121,"user_id":11550804,"display_name":"Cerealz"},"score":0,"creation_date":1639397277,"post_id":70334366,"comment_id":124330103,"body_markdown":"@sidgate this is NOT a homework question. It&#39;s for a personal project. Also looking less for an complete algorithm and more for hints/explanation on how to deal with integer &lt;-&gt; binary matching.","body":"@sidgate this is NOT a homework question. It&#39;s for a personal project. Also looking less for an complete algorithm and more for hints/explanation on how to deal with integer &lt;-&gt; binary matching."},{"owner":{"account_id":3854593,"reputation":2852,"user_id":3193876,"display_name":"Ronald"},"score":1,"creation_date":1639398198,"post_id":70334366,"comment_id":124330432,"body_markdown":"You could create your algorithm first and use a function to retrieve the &quot;bits&quot;. If that works, you can change the internal representation and store the strings as bit arrays. In the last step it could be interesting to &quot;inline&quot; the get-bit functions in order to gain some processing speed. And as a hint, if I&#39;d like to know if bit 5 (zero based) of a byte `a` is 1, an expression like `(a &amp; 0x20 == 0 ? 0 : 1)` yields 1 if the bit is set, 0 otherwise.","body":"You could create your algorithm first and use a function to retrieve the &quot;bits&quot;. If that works, you can change the internal representation and store the strings as bit arrays. In the last step it could be interesting to &quot;inline&quot; the get-bit functions in order to gain some processing speed. And as a hint, if I&#39;d like to know if bit 5 (zero based) of a byte <code>a</code> is 1, an expression like <code>(a &amp; 0x20 == 0 ? 0 : 1)</code> yields 1 if the bit is set, 0 otherwise."}],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639487972,"creation_date":1639398399,"answer_id":70334658,"question_id":70334366,"body_markdown":"Don&#39;t work with &quot;0&quot;, &quot;1&quot; text, use binary representations.\r\n\r\nCompare the &#39;input&#39; with each &#39;row&#39; using bitwise `&amp;`, then calculate the number of ones in the result by wrangling an acceptable solution from one of the answers here: [Count number of 1&#39;s in binary representation][1].\r\n\r\nEDIT:\r\n\r\nTo expand this idea a bit in response to @gidds comment:\r\n\r\nYou have expressed a willingness to pad with zeros (&#39;to go on uInt8; I would need to add &quot;0000&quot;&#39;), so maybe use `int` (too bad each line isn&#39;t of length 96!), which trades a bit of space for the convenience of comparinging 32 columns in one primitive operation. Really it won&#39;t waste much space though because you can read each line of the file in a loop into a single re-useable ByteBuffer. ByteBuffer#allocate initializes to zeros already, so padding is taken care of. There&#39;s no reason you couldn&#39;t use a `long`, an `int`, and a `byte` for a total of 104 bits, but probably that&#39;s not worth the trouble - there&#39;s no nibble in Java/Kotlin so no way to get exactly 100. I&#39;ve chosen 4 `int`s over 2 `long`s solely to be able to take advantage of the `bitCount` algorithm found at the above link.\r\n\r\nHere is a fairly comprehensive sketch in pure Java:\r\n\r\n```java\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.Channels;\r\nimport java.nio.channels.ReadableByteChannel;\r\n\r\npublic class BitSimilarityChecker {\r\n    \r\n    public void main(String[] args) throws Exception {\r\n        \r\n        // int[] input = ... \r\n        assert input.length == 4;\r\n        \r\n        try (ByteFileReader reader = new ByteFileReader(args[0])) {\r\n            while (/* TODO: When has file been fully read? */) {\r\n                int[] row = reader.read(); \r\n                assert row.length == 4;\r\n                int sum = 0;\r\n                for (int i = 0; i &lt; 4; ++i) {\r\n                    sum += bitCount(and(input[i], row[i]));\r\n                }\r\n                // TODO: Keep track of the max sum, row pair...\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static int and(int left, int right) {\r\n        return left &amp; right;\r\n    }\r\n    \r\n    // Taken from https://stackoverflow.com/a/8871435 - unverified.\r\n    private static int bitCount(int u) {\r\n         int uCount = u - ((u &gt;&gt; 1) &amp; 033333333333) - ((u &gt;&gt; 2) &amp; 011111111111);\r\n         return ((uCount + (uCount &gt;&gt; 3)) &amp; 030707070707) % 63;\r\n    }\r\n    \r\n    private static class ByteFileReader implements AutoCloseable {\r\n\r\n        private static final int CAPACITY = 4 * 8 * Integer.BYTES;\r\n        private static final int LIMIT = 100;\r\n        \r\n        private final ReadableByteChannel channel;\r\n        private final ByteBuffer buffer;\r\n        \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        public ByteFileReader(String file) throws FileNotFoundException {\r\n            channel = Channels.newChannel(new FileInputStream(file));\r\n            buffer = ByteBuffer.allocate(CAPACITY);\r\n        }\r\n        \r\n        public int[] read() throws IOException {\r\n            buffer.position(0);\r\n            buffer.limit(LIMIT);\r\n            int bytesRead = channel.read(buffer);\r\n            buffer.limit(CAPACITY);\r\n            // TODO: Check bytesRead to see the status of the read.\r\n            // Pass this information on to the caller somehow. \r\n            return new int[] {\r\n                    buffer.getInt(),\r\n                    buffer.getInt(),\r\n                    buffer.getInt(),\r\n                    buffer.getInt()\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public void close() throws Exception {\r\n            channel.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8871435","title":"Efficient data store / algorithm to pattern match binary strings of 0s and 1s","body":"<p>Don't work with &quot;0&quot;, &quot;1&quot; text, use binary representations.</p>\n<p>Compare the 'input' with each 'row' using bitwise <code>&amp;</code>, then calculate the number of ones in the result by wrangling an acceptable solution from one of the answers here: <a href=\"https://stackoverflow.com/a/8871435\">Count number of 1's in binary representation</a>.</p>\n<p>EDIT:</p>\n<p>To expand this idea a bit in response to @gidds comment:</p>\n<p>You have expressed a willingness to pad with zeros ('to go on uInt8; I would need to add &quot;0000&quot;'), so maybe use <code>int</code> (too bad each line isn't of length 96!), which trades a bit of space for the convenience of comparinging 32 columns in one primitive operation. Really it won't waste much space though because you can read each line of the file in a loop into a single re-useable ByteBuffer. ByteBuffer#allocate initializes to zeros already, so padding is taken care of. There's no reason you couldn't use a <code>long</code>, an <code>int</code>, and a <code>byte</code> for a total of 104 bits, but probably that's not worth the trouble - there's no nibble in Java/Kotlin so no way to get exactly 100. I've chosen 4 <code>int</code>s over 2 <code>long</code>s solely to be able to take advantage of the <code>bitCount</code> algorithm found at the above link.</p>\n<p>Here is a fairly comprehensive sketch in pure Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\n\npublic class BitSimilarityChecker {\n    \n    public void main(String[] args) throws Exception {\n        \n        // int[] input = ... \n        assert input.length == 4;\n        \n        try (ByteFileReader reader = new ByteFileReader(args[0])) {\n            while (/* TODO: When has file been fully read? */) {\n                int[] row = reader.read(); \n                assert row.length == 4;\n                int sum = 0;\n                for (int i = 0; i &lt; 4; ++i) {\n                    sum += bitCount(and(input[i], row[i]));\n                }\n                // TODO: Keep track of the max sum, row pair...\n            }\n        }\n    }\n    \n    private static int and(int left, int right) {\n        return left &amp; right;\n    }\n    \n    // Taken from https://stackoverflow.com/a/8871435 - unverified.\n    private static int bitCount(int u) {\n         int uCount = u - ((u &gt;&gt; 1) &amp; 033333333333) - ((u &gt;&gt; 2) &amp; 011111111111);\n         return ((uCount + (uCount &gt;&gt; 3)) &amp; 030707070707) % 63;\n    }\n    \n    private static class ByteFileReader implements AutoCloseable {\n\n        private static final int CAPACITY = 4 * 8 * Integer.BYTES;\n        private static final int LIMIT = 100;\n        \n        private final ReadableByteChannel channel;\n        private final ByteBuffer buffer;\n        \n        @SuppressWarnings(&quot;resource&quot;)\n        public ByteFileReader(String file) throws FileNotFoundException {\n            channel = Channels.newChannel(new FileInputStream(file));\n            buffer = ByteBuffer.allocate(CAPACITY);\n        }\n        \n        public int[] read() throws IOException {\n            buffer.position(0);\n            buffer.limit(LIMIT);\n            int bytesRead = channel.read(buffer);\n            buffer.limit(CAPACITY);\n            // TODO: Check bytesRead to see the status of the read.\n            // Pass this information on to the caller somehow. \n            return new int[] {\n                    buffer.getInt(),\n                    buffer.getInt(),\n                    buffer.getInt(),\n                    buffer.getInt()\n            };\n        }\n\n        @Override\n        public void close() throws Exception {\n            channel.close();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16005109,"reputation":121,"user_id":11550804,"display_name":"Cerealz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70334658,"answer_count":1,"score":-1,"last_activity_date":1639487972,"creation_date":1639397054,"question_id":70334366,"body_markdown":"I have generated a .txt file containing hundreds of rows.\r\nEach of the rows looks like this:\r\n```\r\n0000000000000000000000000000000000000000100000000010000000001000000000100000000010000000000000000000\r\n```\r\nNow I have an input function where an string like this gets submitted:\r\n```\r\n0000000000000000000000000000000000000000000011000010000000001000000000100000000010000000000000000000\r\n```\r\nIf the input string has a 1 where a string from the .txt has a 0 it doesn&#39;t matter.\r\nThe question the algorithm should solve is following:\r\n- find the &quot;best matching&quot; rows in the .txt where input string has as much 1s at the same indices the row has\r\n- output at which indices theses &quot;best matching rows&quot; have 1s and the input hasn&#39;t\r\n\r\nCircumstances:\r\n- There are a maximum of five 1s in each row of the .txt\r\n- There can be up to a hundred 1s in the input string.\r\n- Each row and the input are exactly 100 characters long.\r\n- Each row and the input will always only contain 0 or 1; no other characters.\r\n\r\nHere is an example that&#39;s smaller than the real problem assuming length 6 with max 3 ones (I will count indices starting from 1 not 0 for this example):\r\n\r\nrows.txt\r\n```\r\n000111\r\n010101\r\n110010\r\n001011\r\n```\r\ninput string:\r\n```\r\n001110\r\n```\r\n\r\nExpected output of the algorithm\r\n```\r\nClosest matching rows are:\r\n\r\nRow 1: two matching 1s; your input misses a 1 on index 6\r\nRow 4: two matching 1s; your input misses a 1 on index 4\r\n```\r\n\r\nQuestion / possible solutions:\r\n\r\nI choose 0s and 1s to represent the information I need as I planned on putting them in a binary file. I was expecting better performance and lower file size when using binary representation and unsigned integers in the code (Java/Kotlin).\r\nHowever to go on uInt8; I would need to add &quot;0000&quot; on each line to make each line 104 characters long which is dividable by 8.\r\nThat&#39;s surely possible, but than I have everything saved as integers and I just can&#39;t get my head around on how to compare these on a byte-representation level to basically do the pattern matching I need in the code.\r\n\r\nLooking for the best performing storage/pattern matching solution for the given problem.\r\n\r\n---\r\n\r\nHere is why I am doing this:\r\nI have a frontend with a clickable grid. An unckecked item is represented by a 0. Clicking on a item and thus selecting it is represented by a 1. Users can select up to 50 of the 100 available items. However, there some items depend on other items. Every item always depends on 4 other items. These are the rows of the (currently) .txt file. And that&#39;s why I need to figure out what ones are missing to recommend a configuration that has a full dependency of five 1s working while I don&#39;t need to care if there are additional selections (1s). Maybe this use-case clarifies how an abstract problem like this is a real world problem and not a school assignment. Prior solution involved representing the grid by a matrix, but having a binary string seemed to be more efficient.\r\n\r\nClarifying on the problem:\r\nBinary three:\r\n```\r\n00000011\r\n```\r\nBinary thirteen:\r\n```\r\n00001101\r\n```\r\nIf there is a row representing binary 3 and the input is binary 13,\r\nhow could I compare\r\n```\r\nval row: uint8 = 3u\r\nval input: uint8 = 13u\r\n```\r\nto get the result\r\n```\r\nmissing value 2 (-&gt; a one on index 7\r\n```","title":"Efficient data store / algorithm to pattern match binary strings of 0s and 1s","body":"<p>I have generated a .txt file containing hundreds of rows.\nEach of the rows looks like this:</p>\n<pre><code>0000000000000000000000000000000000000000100000000010000000001000000000100000000010000000000000000000\n</code></pre>\n<p>Now I have an input function where an string like this gets submitted:</p>\n<pre><code>0000000000000000000000000000000000000000000011000010000000001000000000100000000010000000000000000000\n</code></pre>\n<p>If the input string has a 1 where a string from the .txt has a 0 it doesn't matter.\nThe question the algorithm should solve is following:</p>\n<ul>\n<li>find the &quot;best matching&quot; rows in the .txt where input string has as much 1s at the same indices the row has</li>\n<li>output at which indices theses &quot;best matching rows&quot; have 1s and the input hasn't</li>\n</ul>\n<p>Circumstances:</p>\n<ul>\n<li>There are a maximum of five 1s in each row of the .txt</li>\n<li>There can be up to a hundred 1s in the input string.</li>\n<li>Each row and the input are exactly 100 characters long.</li>\n<li>Each row and the input will always only contain 0 or 1; no other characters.</li>\n</ul>\n<p>Here is an example that's smaller than the real problem assuming length 6 with max 3 ones (I will count indices starting from 1 not 0 for this example):</p>\n<p>rows.txt</p>\n<pre><code>000111\n010101\n110010\n001011\n</code></pre>\n<p>input string:</p>\n<pre><code>001110\n</code></pre>\n<p>Expected output of the algorithm</p>\n<pre><code>Closest matching rows are:\n\nRow 1: two matching 1s; your input misses a 1 on index 6\nRow 4: two matching 1s; your input misses a 1 on index 4\n</code></pre>\n<p>Question / possible solutions:</p>\n<p>I choose 0s and 1s to represent the information I need as I planned on putting them in a binary file. I was expecting better performance and lower file size when using binary representation and unsigned integers in the code (Java/Kotlin).\nHowever to go on uInt8; I would need to add &quot;0000&quot; on each line to make each line 104 characters long which is dividable by 8.\nThat's surely possible, but than I have everything saved as integers and I just can't get my head around on how to compare these on a byte-representation level to basically do the pattern matching I need in the code.</p>\n<p>Looking for the best performing storage/pattern matching solution for the given problem.</p>\n<hr />\n<p>Here is why I am doing this:\nI have a frontend with a clickable grid. An unckecked item is represented by a 0. Clicking on a item and thus selecting it is represented by a 1. Users can select up to 50 of the 100 available items. However, there some items depend on other items. Every item always depends on 4 other items. These are the rows of the (currently) .txt file. And that's why I need to figure out what ones are missing to recommend a configuration that has a full dependency of five 1s working while I don't need to care if there are additional selections (1s). Maybe this use-case clarifies how an abstract problem like this is a real world problem and not a school assignment. Prior solution involved representing the grid by a matrix, but having a binary string seemed to be more efficient.</p>\n<p>Clarifying on the problem:\nBinary three:</p>\n<pre><code>00000011\n</code></pre>\n<p>Binary thirteen:</p>\n<pre><code>00001101\n</code></pre>\n<p>If there is a row representing binary 3 and the input is binary 13,\nhow could I compare</p>\n<pre><code>val row: uint8 = 3u\nval input: uint8 = 13u\n</code></pre>\n<p>to get the result</p>\n<pre><code>missing value 2 (-&gt; a one on index 7\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1639424022,"post_id":70339582,"comment_id":124340357,"body_markdown":"Scoring in bowling is complicated.  It&#39;s the sum of two balls in a frame unless you bowl a spare or a strike.  For a spare, the frame counts as 10 plus the pin count of the next ball.  For a strike, the frame counts as 10 plus the pin count of the next two balls.  Multiple strikes in a row count up to 30 for each frame.  i suggest getting the scoring math correct before you try and code anything else.","body":"Scoring in bowling is complicated.  It&#39;s the sum of two balls in a frame unless you bowl a spare or a strike.  For a spare, the frame counts as 10 plus the pin count of the next ball.  For a strike, the frame counts as 10 plus the pin count of the next two balls.  Multiple strikes in a row count up to 30 for each frame.  i suggest getting the scoring math correct before you try and code anything else."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639487324,"creation_date":1639469860,"answer_id":70345711,"question_id":70339582,"body_markdown":"Prelude\r\n-------\r\n\r\nI copied your starting `BowlingScoreboard` class and `BowlingScoring` interface into my Eclipse IDE.  Here&#39;s the GUI that popped up.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSurely, this assignment came with more instruction than &quot;Create a `BowlingScore` class using the `BowlingScoring` interface&quot;.\r\n\r\nLooking at the GUI, I have no idea how to proceed.\r\n\r\nI have no idea how the GUI works.\r\n\r\nI have no idea how I can test any code I write in the `BowlingScore` class.\r\n\r\nEdited to add:\r\n--------------\r\n\r\nIt took me a while to figure out what the `BowlingScoring` interface methods were doing.  The documentation was lacking, to say the least.\r\n\r\nI&#39;m not going to provide the complete code, since this is an assignment.  I will provide code snippets and hopefully, better descriptions of what the `BowlingScoring` interface methods actually do.\r\n\r\nI did not write the entire `BowlingScore` class at once.  I wrote maybe 5 lines of code at a time and ran one or more tests.  I probably ran between 150 and 200 individual tests before I thought the code was complete.\r\n\r\nI know you were given the GUI, but the GUI user experience stinks on ice.  Running an individual test always took 21 button presses.\r\n\r\nI defined these class fields in the `BowlingScore` class.  The `game` array is 10 by 3.  10 frames by 3 throws in each frame.  Yes, I&#39;m aware that only the 10th frame has three throws.  All the other frame third throws are initialized to zero and never used.\r\n\r\n\tprivate int currentFrame, throwNumber;\r\n\t\r\n\tprivate int[][] game;\r\n\r\nThe `newMatch` method initializes those class fields.  I initialized all the class fields to zero.  The `currentFrame` and `throwNumber` values are zero-based counts.\r\n\r\nOne trick I did was to define `game[9][2]` as -1.  This trick came in handy when writing the code for the `pinsNotFallenYet` method.\r\n\r\nI created a class constructor that calls the `newMatch` method.\r\n\r\nThe `scoring` method is responsible for incrementing the `currentFrame` and `throwNumber` values.  Frames 0 - 8 have two throws.  Frame 9 has 3 throws.\r\n\r\nThe return from the `getCurrentFrame` method is zero-based, so just return the `currentFrame` value.\r\n\r\nthe `result` method calculates the sum of all of the frames up to and including the `frame` parameter passed in.  This frame number is 1 - 10, so you have to subtract one before you reference your `game` array.\r\n\r\nYou have to sum each frame and sum all the frames up to but not including the `frame` parameter.\r\n\r\nScoring in bowling is complicated. It&#39;s the sum of two balls in a frame unless you bowl a spare or a strike. For a spare, the frame counts as 10 plus the pin count of the next ball. For a strike, the frame counts as 10 plus the pin count of the next two balls. Multiple strikes in a row count up to 30 for each frame.\r\n\r\nI wound up writing two private methods for calculating spares and strikes.  Since they are so complex, I&#39;ll just post them here.\r\n\r\n\tprivate int getNextThrow(int frame) {\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\tif (frame &lt; 9) {\r\n\t\t\t// 1st through 9th frames\r\n\t\t\tsum += game[frame + 1][0];\r\n\t\t} else {\r\n\t\t\t// 10th frame\r\n\t\t\tsum += game[frame][1];\r\n\t\t}\r\n\t\t\r\n\t\treturn sum;\r\n\t}\r\n\t\r\n\tprivate int getNextTwoThrows(int frame) {\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\tif (frame &lt; 8) {\r\n\t\t\t// 1st through 8th frames\r\n\t\t\tsum += game[frame + 1][0];\r\n\t\t\tif (game[frame + 1][0] == 10) {\r\n\t\t\t\tsum += game[frame + 2][0];\r\n\t\t\t}\r\n\t\t} else if (frame &lt; 9) {\r\n\t\t\t// 9th frame\r\n\t\t\tsum += game[frame + 1][0] + game[frame + 1][1];\r\n\t\t} else {\r\n\t\t\t// 10th frame\r\n\t\t\tsum += game[frame][1] + game[frame][2];\r\n\t\t}\r\n\t\t\r\n\t\treturn sum;\r\n\t}\r\n\r\nThe `getPins` method parameters `frame` and `thrw` are one-based, so subtract one from both parameters to get the game subscripts.\r\n\r\nThe `pinsNotFallenYet` method turned out to be super complex.  I probably wrote this method 10 times before I was satisfied with the result.\r\n\r\nI&#39;m just posting the code.  I don&#39;t think I can explain in words what the method is supposed to do.  \r\n\r\n\t@Override\r\n\tpublic int pinsNotFallenYet() {\r\n    // System.out.println(&quot;pinsNotFallenYet&quot;);\r\n\t\t\r\n\t\t// Test if user keeps pressing the zero button\r\n\t\tif (currentFrame &gt;= game.length) {\r\n\t\t\t// Game over\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\tif (currentFrame &lt; (game.length - 1)) {\r\n\t\t\t// 1st through 9th frames\r\n\t\t\treturn 10 - game[currentFrame][0];\r\n\t\t} else if (currentFrame &gt;= (game.length - 1)) {\r\n\t\t\tint firstThrow = game[9][0];\r\n\t\t\tint secondThrow = game[9][1];\r\n\t\t\tint thirdThrow = game[9][2];\r\n\t\t\t\r\n\t\t\tif (thirdThrow &gt;= 0) {\r\n\t\t\t\t// Game over\r\n\t\t\t\treturn 0;\r\n\t\t\t} else if (secondThrow &gt;= 10) {\r\n\t\t\t\treturn 10;\r\n\t\t\t} else if (firstThrow &gt;= 10) {\r\n\t\t\t\treturn 10 - secondThrow;\r\n\t\t\t} else {\r\n\t\t\t\treturn 10 - firstThrow;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t\t// Should never get here\r\n\t\treturn 0;\r\n\t}\r\n\r\nTests to verify your code:\r\n--------------------------\r\n\r\n- 12 strikes (buttons 10 and zero, except in the 10th frame) - 300 game\r\n- 11 strikes and a 6 - 296 game.\r\n- 10 strikes, an 8, and a 1 - 289 game.\r\n- 20 ones and a zero - 20 game.\r\n- 20 fives and a zero - 150 game.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3vfY.png","title":"Ten pin bowling calculator with some GUI","body":"<h2>Prelude</h2>\n<p>I copied your starting <code>BowlingScoreboard</code> class and <code>BowlingScoring</code> interface into my Eclipse IDE.  Here's the GUI that popped up.</p>\n<p><a href=\"https://i.stack.imgur.com/E3vfY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E3vfY.png\" alt=\"enter image description here\" /></a></p>\n<p>Surely, this assignment came with more instruction than &quot;Create a <code>BowlingScore</code> class using the <code>BowlingScoring</code> interface&quot;.</p>\n<p>Looking at the GUI, I have no idea how to proceed.</p>\n<p>I have no idea how the GUI works.</p>\n<p>I have no idea how I can test any code I write in the <code>BowlingScore</code> class.</p>\n<h2>Edited to add:</h2>\n<p>It took me a while to figure out what the <code>BowlingScoring</code> interface methods were doing.  The documentation was lacking, to say the least.</p>\n<p>I'm not going to provide the complete code, since this is an assignment.  I will provide code snippets and hopefully, better descriptions of what the <code>BowlingScoring</code> interface methods actually do.</p>\n<p>I did not write the entire <code>BowlingScore</code> class at once.  I wrote maybe 5 lines of code at a time and ran one or more tests.  I probably ran between 150 and 200 individual tests before I thought the code was complete.</p>\n<p>I know you were given the GUI, but the GUI user experience stinks on ice.  Running an individual test always took 21 button presses.</p>\n<p>I defined these class fields in the <code>BowlingScore</code> class.  The <code>game</code> array is 10 by 3.  10 frames by 3 throws in each frame.  Yes, I'm aware that only the 10th frame has three throws.  All the other frame third throws are initialized to zero and never used.</p>\n<pre><code>private int currentFrame, throwNumber;\n\nprivate int[][] game;\n</code></pre>\n<p>The <code>newMatch</code> method initializes those class fields.  I initialized all the class fields to zero.  The <code>currentFrame</code> and <code>throwNumber</code> values are zero-based counts.</p>\n<p>One trick I did was to define <code>game[9][2]</code> as -1.  This trick came in handy when writing the code for the <code>pinsNotFallenYet</code> method.</p>\n<p>I created a class constructor that calls the <code>newMatch</code> method.</p>\n<p>The <code>scoring</code> method is responsible for incrementing the <code>currentFrame</code> and <code>throwNumber</code> values.  Frames 0 - 8 have two throws.  Frame 9 has 3 throws.</p>\n<p>The return from the <code>getCurrentFrame</code> method is zero-based, so just return the <code>currentFrame</code> value.</p>\n<p>the <code>result</code> method calculates the sum of all of the frames up to and including the <code>frame</code> parameter passed in.  This frame number is 1 - 10, so you have to subtract one before you reference your <code>game</code> array.</p>\n<p>You have to sum each frame and sum all the frames up to but not including the <code>frame</code> parameter.</p>\n<p>Scoring in bowling is complicated. It's the sum of two balls in a frame unless you bowl a spare or a strike. For a spare, the frame counts as 10 plus the pin count of the next ball. For a strike, the frame counts as 10 plus the pin count of the next two balls. Multiple strikes in a row count up to 30 for each frame.</p>\n<p>I wound up writing two private methods for calculating spares and strikes.  Since they are so complex, I'll just post them here.</p>\n<pre><code>private int getNextThrow(int frame) {\n    int sum = 0;\n    \n    if (frame &lt; 9) {\n        // 1st through 9th frames\n        sum += game[frame + 1][0];\n    } else {\n        // 10th frame\n        sum += game[frame][1];\n    }\n    \n    return sum;\n}\n\nprivate int getNextTwoThrows(int frame) {\n    int sum = 0;\n    \n    if (frame &lt; 8) {\n        // 1st through 8th frames\n        sum += game[frame + 1][0];\n        if (game[frame + 1][0] == 10) {\n            sum += game[frame + 2][0];\n        }\n    } else if (frame &lt; 9) {\n        // 9th frame\n        sum += game[frame + 1][0] + game[frame + 1][1];\n    } else {\n        // 10th frame\n        sum += game[frame][1] + game[frame][2];\n    }\n    \n    return sum;\n}\n</code></pre>\n<p>The <code>getPins</code> method parameters <code>frame</code> and <code>thrw</code> are one-based, so subtract one from both parameters to get the game subscripts.</p>\n<p>The <code>pinsNotFallenYet</code> method turned out to be super complex.  I probably wrote this method 10 times before I was satisfied with the result.</p>\n<p>I'm just posting the code.  I don't think I can explain in words what the method is supposed to do.</p>\n<pre><code>@Override\npublic int pinsNotFallenYet() {\n// System.out.println(&quot;pinsNotFallenYet&quot;);\n    \n    // Test if user keeps pressing the zero button\n    if (currentFrame &gt;= game.length) {\n        // Game over\n        return 0;\n    }\n    \n    if (currentFrame &lt; (game.length - 1)) {\n        // 1st through 9th frames\n        return 10 - game[currentFrame][0];\n    } else if (currentFrame &gt;= (game.length - 1)) {\n        int firstThrow = game[9][0];\n        int secondThrow = game[9][1];\n        int thirdThrow = game[9][2];\n        \n        if (thirdThrow &gt;= 0) {\n            // Game over\n            return 0;\n        } else if (secondThrow &gt;= 10) {\n            return 10;\n        } else if (firstThrow &gt;= 10) {\n            return 10 - secondThrow;\n        } else {\n            return 10 - firstThrow;\n        }\n\n    }\n    \n    // Should never get here\n    return 0;\n}\n</code></pre>\n<h2>Tests to verify your code:</h2>\n<ul>\n<li>12 strikes (buttons 10 and zero, except in the 10th frame) - 300 game</li>\n<li>11 strikes and a 6 - 296 game.</li>\n<li>10 strikes, an 8, and a 1 - 289 game.</li>\n<li>20 ones and a zero - 20 game.</li>\n<li>20 fives and a zero - 150 game.</li>\n</ul>\n"}],"owner":{"account_id":20798423,"reputation":436,"user_id":15275012,"display_name":"Bogdan Onyshenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1639487324,"creation_date":1639421677,"question_id":70339582,"body_markdown":"Recently I was given a task to implement a bowling calculator from predefined methods:\r\n\r\n    package labs.lab2.bowling;\r\n    \r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    \r\n    public class BowlingScoreboard extends JFrame implements ActionListener {\r\n    \r\n      // Attributes \r\n      private BowlingScoring score;    // the object that manages the score\r\n      private JButton pinButtons[];    // buttons to press telling how many pins are fallen \r\n      private JButton newGameButton;   // button to press if a new match shall be started\r\n      private JLabel label[][];        // bunch of labels for the score\r\n    \r\n      //Constructor\r\n      /**\r\n       * Constructs a simple window showing the current score.\r\n       * \r\n       * @param score a BowlingScoring object containing the scoring information. \r\n       */\r\n      public BowlingScoreboard(BowlingScoring score){\r\n        super(&quot;Bowling Scoreboard&quot;); // Title of the window\r\n        this.score=score;\r\n    \r\n        // construction of the window\r\n        setLayout(new GridLayout(0,23,2,2));     // Layout-Style defined: 23 columns, 2p distance\r\n        setMinimumSize(new Dimension(1000,300)); // should be large    \r\n    \r\n        // creating the GUI elements\r\n        label = new JLabel[11][4];\r\n        for (int i=0; i&lt;label.length; i++) {\r\n          for (int j=0; j&lt;label[i].length; j++) {\r\n            label[i][j] = new JLabel(&quot;-&quot;);\r\n          }\r\n        }\r\n    \r\n        // create the buttons\r\n        newGameButton = new JButton(&quot;Reset&quot;);\r\n        pinButtons = new JButton[11];\r\n        for (int i=0; i&lt;pinButtons.length; i++) {\r\n          pinButtons[i] = new JButton(&quot;&quot;+i);\r\n        }\r\n    \r\n        // listen to the buttons!\r\n        newGameButton.addActionListener(this);\r\n        for (JButton aButton : pinButtons) {\r\n          aButton.addActionListener(this);\r\n        }\r\n    \r\n        // now put all elements into the window panel \r\n        // the order is from left to right - from top to bottom\r\n    \r\n        // first row\r\n        add(new JLabel(&quot;Frame:&quot;));\r\n        for (int i=1; i&lt;=10; i++) {\r\n          add(new JLabel(&quot;&quot;+i));\r\n          add(new JLabel(&quot;&quot;)); // empty\r\n        }\r\n        add(new JLabel(&quot;&quot;)); // empty\r\n        add(new JLabel(&quot;Sum&quot;));\r\n    \r\n        // second row\r\n        add(new JLabel(&quot;Pins:&quot;));\r\n        for (int i=0; i&lt;10; i++) {\r\n          add(label[i][0]); // 1st throw\r\n          add(label[i][1]); // 2nd throw\r\n          if (i==9) add(label[i][2]); // extra in frame #10\r\n        }\r\n        add(new JLabel(&quot;&quot;)); //empty\r\n    \r\n        // third row\r\n        add(new JLabel(&quot;Sum:&quot;));\r\n        for (int i=0; i&lt;10; i++) {\r\n          add(new JLabel(&quot;&quot;)); // empty\r\n          if (i==9) add(new JLabel(&quot;&quot;)); // extra in frame #10\r\n          add(label[i][3]); // sum of frame\r\n        }\r\n        add(label[10][3]); // current sum of all points\r\n    \r\n        // fourth row: buttons\r\n        add(newGameButton);\r\n        for (int i=0; i&lt;pinButtons.length; i++) {\r\n          add(pinButtons[i]); \r\n          if (i&lt;10) add(new JLabel(&quot;&quot;)); // empty        \r\n        }\r\n    \r\n        setDefaultCloseOperation(EXIT_ON_CLOSE); // close-button behaviour\r\n        setSize(1400, 500); // start with this\r\n    \r\n        // show time!\r\n        setVisible(true);\r\n        updateLabels();\r\n        updateButtons();\r\n    \r\n      }\r\n    \r\n    \r\n      /**\r\n       * Simplest main possible: Start just one scoreboard window.\r\n       * \r\n       * @param args not used here\r\n       */\r\n      public static void main(String[] args) {\r\n        new BowlingScoreboard(new BowlingScore());\r\n      \r\n      }\r\n    \r\n      /**\r\n       * This method is called by the system when a button is pressed. \r\n       */\r\n      @Override\r\n      public void actionPerformed(ActionEvent event) {\r\n    \r\n        if (event.getSource()==newGameButton) { // someone pressed &quot;New match&quot;\r\n          score.newMatch(); // tell it the scoring object\r\n        } else { // someone pressed a button to tell us how many pins are fallen\r\n          for (int i=0; i&lt;pinButtons.length; i++) {\r\n            if (event.getSource()==pinButtons[i]) { // number of fallen pins == i \r\n              score.scoring(i); // tell it the scoring object\r\n            }\r\n          }\r\n        } \r\n        // update the GUI\r\n        updateLabels();\r\n        updateButtons();\r\n      }\r\n    \r\n      /**\r\n       * Update the buttons.\r\n       * \r\n       * The buttons for the players shall only be enabled when the game\r\n       * is not finished. \r\n       */\r\n    \r\n      private void updateButtons() {\r\n        // if (for example) 5 pins are not fallen yet it is impossible to score 6 pins!\r\n        for (int i=0; i&lt;pinButtons.length; i++) {\r\n          pinButtons[i].setEnabled( i&lt;=score.pinsNotFallenYet() );\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Update the labels.\r\n       * \r\n       * Gathers all the various elements from the scoring object and\r\n       * puts them into the right place.  \r\n       */\r\n      private void updateLabels() { \r\n    \r\n        // which frame is played at the moment?\r\n        int currentFrame = score.getCurrentFrame();\r\n        // now consider the 3rd row: the summed points of the frames\r\n        for (int fr=1; fr&lt;=currentFrame &amp;&amp; fr&lt;=10; fr++) {\r\n         //System.out.println(fr);\r\n        \tlabel[fr-1][3].setText(&quot;&quot;+score.result(fr));\r\n        }\r\n        // overall sum:\r\n        label[10][3].setText(&quot;&quot;+score.result(Math.min(10,currentFrame)));\r\n    \r\n        // 2nd row: the pins for each throw\r\n        for (int fr=1; fr&lt;=10; fr++) {\r\n          if (fr&lt;=currentFrame) {\r\n            int pins = score.getPins(fr,1);\r\n          \r\n            // 1st throw of the frame\r\n            label[fr-1][0].setText(&quot;&quot;+pins);\r\n    \r\n            // 2nd throw of the frame\r\n            \r\n            label[fr-1][1].setText(&quot;&quot;+score.getPins(fr,2));\r\n            if (fr==10) { \r\n              label[fr-1][2].setText(&quot;&quot;+score.getPins(fr,3));\r\n            }\r\n          } else { // frames which are played in the future\r\n            for (int j=0; j&lt;4; j++) {\r\n              label[fr-1][j].setText(&quot;ft&quot;);        \r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThis is the main class for it. Also, I have an interface as follows:\r\n\r\n    package labs.lab2.bowling;\r\n    \r\n    /**\r\n     * Communication interface between BowlingScoreboard and BowlingScore.\r\n     * \r\n     * @author jjj\r\n     * @date 2020-12-01\r\n     */\r\n    public interface BowlingScoring {\r\n    \r\n      // Methods to inform BowlingScore that a button was pressed\r\n      /**\r\n       * User wants to start a new bowling match.\r\n       */\r\n      public void newMatch();\r\n    \r\n      /**\r\n       * User pressed button that tells us how many pins are fallen.\r\n       * \r\n       * @param fallenPins number of pins fallen\r\n       */\r\n      public void scoring(int fallenPins);\r\n    \r\n      \r\n      /**\r\n       * Computes the frame that is played at the moment.\r\n       * \r\n       * @return the current set (1-10)\r\n       */\r\n      public int getCurrentFrame();\r\n    \r\n      \r\n      /**\r\n       * Computes the points achieved in given frame at the moment.\r\n       * \r\n       * @param frame the frame of interest (1-10)\r\n       * @return the points achieved so far in this frame\r\n       */\r\n      public int result(int frame);\r\n    \r\n      \r\n      /**\r\n       * Computes the fallen pins for each individual throw.\r\n       * \r\n       * @param frame the frame of the throw (1-10)\r\n       * @param thrw the throw within that frame (1-2) or (1-3) in last frame\r\n       * @return the fallen pins \r\n       */\r\n      public int getPins(int frame, int thrw);\r\n    \r\n      \r\n      \r\n      /**\r\n       * Computes the pins that are not fallen yet at the moment (1-10).\r\n       * \r\n       * @return the pins still standing \r\n       */\r\n      public int pinsNotFallenYet();\r\n    \r\n    }\r\n\r\nAnd here I am trying to implement those methods\r\n\r\n    package labs.lab2.bowling;\r\n\r\n    public class BowlingScore implements BowlingScoring {\r\n    //////////////////////////////////////////////////////////////////////////////\r\n    \tprivate int standing = 10; //Количество кегль 10 по умолчанию\r\n    \tprivate int currentframe=1;\r\n    \tprivate int sum=0;\r\n    \tint[] rolls=new int[100];\r\n    \t//roles = new int[21];\r\n    \r\n    \tint currentRoll;\r\n    \r\n    \t// Methods to inform BowlingScore that a button was pressed\r\n    \t  /**\r\n    \t   * User wants to start a new bowling match.\r\n    \t   */\r\n    \t@Override\r\n    \tpublic void newMatch() {\r\n    \t\t// начнем новый матч 10 кегль опять стоят\r\n    \t\tstanding=10;\r\n    \t\tthis.rolls = new int[21];\r\n    \r\n    \t}\r\n    //////////////////////////////////////////////////////////////////////////////\r\n    \t/**\r\n    \t   * User pressed button that tells us how many pins are fallen.\r\n    \t   * \r\n    \t   * @param fallenPins number of pins fallen\r\n    \t   */\r\n    \t@Override\r\n    \tpublic void scoring(int fallenPins) {\r\n    \t\t\r\n    \t\tstanding=standing-fallenPins; //узнаем сколько кегль упало\r\n    \t\trolls[currentRoll++] = fallenPins;\r\n    \t  standing=10;\r\n    \t\t\r\n    \t}\r\n    /////////////////////////////////////////////////////////////////////////////////\r\n    \t/**\r\n    \t   * Computes the frame that is played at the moment.\r\n    \t   * \r\n    \t   * @return the current set (1-10)\r\n    \t   */\r\n    \t@Override\r\n    \tpublic int getCurrentFrame() {\r\n    \t\t{\r\n    \t\t\r\n    \t\tcurrentframe++;\r\n    \t\tif(currentframe&gt;10)\r\n    \t\t{\r\n    \t\t\tcurrentframe=0;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn currentframe;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    \t/**\r\n    \t   * Computes the points achieved in given frame at the moment.\r\n    \t   * \r\n    \t   * @param frame the frame of interest (1-10)\r\n    \t   * @return the points achieved so far in this frame\r\n    \t   */\r\n    \t@Override\r\n    \tpublic int result(int frame) {\r\n    \t\tint score = 0;\r\n    \t\t//frame=1;\r\n    \t\t//int score = 0;\r\n    \t\t//int frame = 0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; currentframe; i++) {\r\n    \t\t\tif (isStrike(frame)) {\r\n    \t\t\t\tscore += 10 + strikeBonus(frame);\r\n    \t\t\t\tframe++;\r\n    \t\t\t} else if (isSpare(frame)) {\r\n    \t\t\t\tscore += 10 + spareBonus(frame);\r\n    \t\t\t\tframe += 2;\r\n    \t\t\t} else {\r\n    \t\t\t\tscore += sumOfRolls(frame);\r\n    \t\t\t\tframe += 2;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(score);\r\n    \t\treturn score;\r\n    \t}\r\n    \t\r\n    \t//check if strike etc\r\n    \tprivate boolean isStrike(int frame) {\r\n    \t\t//frame=1;\r\n    \t\treturn rolls[frame] == 10;\r\n    \t}\r\n    \r\n    \tprivate boolean isSpare(int frame) {\r\n    \t\treturn sumOfRolls(frame) == 10;\r\n    \t}\r\n    \r\n    \tprivate int strikeBonus(int frame) {\r\n    \t\treturn sumOfRolls(frame+1);\r\n    \t}\r\n    \r\n    \tprivate int spareBonus(int frame) {\r\n    \t\treturn rolls[frame+2];\r\n    \t}\r\n    \r\n    \tprivate int sumOfRolls(int frame) {\r\n    \t\t//frame=0;\r\n    \t\treturn rolls[frame] + rolls[frame+1];\r\n    \r\n    \t}\r\n    \t//end\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    \t/**\r\n    \t   * Computes the fallen pins for each individual throw.\r\n    \t   * \r\n    \t   * @param frame the frame of the throw (1-10)\r\n    \t   * @param thrw the throw within that frame (1-2) or (1-3) in last frame\r\n    \t   * @return the fallen pins \r\n    \t   */\r\n    \t@Override\r\n    \tpublic int getPins(int frame, int thrw) {\r\n    \t\r\n    \t\treturn 0;\t\r\n    \t}\r\n    ////////////////////////////////////////////////////////////////////////////////////\r\n    \t/**\r\n    \t   * Computes the pins that are not fallen yet at the moment (1-10).\r\n    \t   * \r\n    \t   * @return the pins still standing \r\n    \t   */\r\n    \t@Override\r\n    \tpublic int pinsNotFallenYet() {\r\n    \t\t\r\n    \t\t\r\n    \t\treturn standing; //вернем текущее количество кегль после нажатия одной из кнопок 0-10 причем 0 остается всегда доступным\r\n    \t}\r\n    //////////////////////////////////////////////////////////////////////////////////\r\n    \r\n    \t\r\n    }\r\n\r\nThe first 2 classes I am not allowed to change. My question is how to count fallen pins for each frame and the sum of the result of 2 tries in a frame? I know that my implementation is bad, but how to do it correctly?","title":"Ten pin bowling calculator with some GUI","body":"<p>Recently I was given a task to implement a bowling calculator from predefined methods:</p>\n<pre><code>package labs.lab2.bowling;\n\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class BowlingScoreboard extends JFrame implements ActionListener {\n\n  // Attributes \n  private BowlingScoring score;    // the object that manages the score\n  private JButton pinButtons[];    // buttons to press telling how many pins are fallen \n  private JButton newGameButton;   // button to press if a new match shall be started\n  private JLabel label[][];        // bunch of labels for the score\n\n  //Constructor\n  /**\n   * Constructs a simple window showing the current score.\n   * \n   * @param score a BowlingScoring object containing the scoring information. \n   */\n  public BowlingScoreboard(BowlingScoring score){\n    super(&quot;Bowling Scoreboard&quot;); // Title of the window\n    this.score=score;\n\n    // construction of the window\n    setLayout(new GridLayout(0,23,2,2));     // Layout-Style defined: 23 columns, 2p distance\n    setMinimumSize(new Dimension(1000,300)); // should be large    \n\n    // creating the GUI elements\n    label = new JLabel[11][4];\n    for (int i=0; i&lt;label.length; i++) {\n      for (int j=0; j&lt;label[i].length; j++) {\n        label[i][j] = new JLabel(&quot;-&quot;);\n      }\n    }\n\n    // create the buttons\n    newGameButton = new JButton(&quot;Reset&quot;);\n    pinButtons = new JButton[11];\n    for (int i=0; i&lt;pinButtons.length; i++) {\n      pinButtons[i] = new JButton(&quot;&quot;+i);\n    }\n\n    // listen to the buttons!\n    newGameButton.addActionListener(this);\n    for (JButton aButton : pinButtons) {\n      aButton.addActionListener(this);\n    }\n\n    // now put all elements into the window panel \n    // the order is from left to right - from top to bottom\n\n    // first row\n    add(new JLabel(&quot;Frame:&quot;));\n    for (int i=1; i&lt;=10; i++) {\n      add(new JLabel(&quot;&quot;+i));\n      add(new JLabel(&quot;&quot;)); // empty\n    }\n    add(new JLabel(&quot;&quot;)); // empty\n    add(new JLabel(&quot;Sum&quot;));\n\n    // second row\n    add(new JLabel(&quot;Pins:&quot;));\n    for (int i=0; i&lt;10; i++) {\n      add(label[i][0]); // 1st throw\n      add(label[i][1]); // 2nd throw\n      if (i==9) add(label[i][2]); // extra in frame #10\n    }\n    add(new JLabel(&quot;&quot;)); //empty\n\n    // third row\n    add(new JLabel(&quot;Sum:&quot;));\n    for (int i=0; i&lt;10; i++) {\n      add(new JLabel(&quot;&quot;)); // empty\n      if (i==9) add(new JLabel(&quot;&quot;)); // extra in frame #10\n      add(label[i][3]); // sum of frame\n    }\n    add(label[10][3]); // current sum of all points\n\n    // fourth row: buttons\n    add(newGameButton);\n    for (int i=0; i&lt;pinButtons.length; i++) {\n      add(pinButtons[i]); \n      if (i&lt;10) add(new JLabel(&quot;&quot;)); // empty        \n    }\n\n    setDefaultCloseOperation(EXIT_ON_CLOSE); // close-button behaviour\n    setSize(1400, 500); // start with this\n\n    // show time!\n    setVisible(true);\n    updateLabels();\n    updateButtons();\n\n  }\n\n\n  /**\n   * Simplest main possible: Start just one scoreboard window.\n   * \n   * @param args not used here\n   */\n  public static void main(String[] args) {\n    new BowlingScoreboard(new BowlingScore());\n  \n  }\n\n  /**\n   * This method is called by the system when a button is pressed. \n   */\n  @Override\n  public void actionPerformed(ActionEvent event) {\n\n    if (event.getSource()==newGameButton) { // someone pressed &quot;New match&quot;\n      score.newMatch(); // tell it the scoring object\n    } else { // someone pressed a button to tell us how many pins are fallen\n      for (int i=0; i&lt;pinButtons.length; i++) {\n        if (event.getSource()==pinButtons[i]) { // number of fallen pins == i \n          score.scoring(i); // tell it the scoring object\n        }\n      }\n    } \n    // update the GUI\n    updateLabels();\n    updateButtons();\n  }\n\n  /**\n   * Update the buttons.\n   * \n   * The buttons for the players shall only be enabled when the game\n   * is not finished. \n   */\n\n  private void updateButtons() {\n    // if (for example) 5 pins are not fallen yet it is impossible to score 6 pins!\n    for (int i=0; i&lt;pinButtons.length; i++) {\n      pinButtons[i].setEnabled( i&lt;=score.pinsNotFallenYet() );\n    }\n  }\n\n  /**\n   * Update the labels.\n   * \n   * Gathers all the various elements from the scoring object and\n   * puts them into the right place.  \n   */\n  private void updateLabels() { \n\n    // which frame is played at the moment?\n    int currentFrame = score.getCurrentFrame();\n    // now consider the 3rd row: the summed points of the frames\n    for (int fr=1; fr&lt;=currentFrame &amp;&amp; fr&lt;=10; fr++) {\n     //System.out.println(fr);\n        label[fr-1][3].setText(&quot;&quot;+score.result(fr));\n    }\n    // overall sum:\n    label[10][3].setText(&quot;&quot;+score.result(Math.min(10,currentFrame)));\n\n    // 2nd row: the pins for each throw\n    for (int fr=1; fr&lt;=10; fr++) {\n      if (fr&lt;=currentFrame) {\n        int pins = score.getPins(fr,1);\n      \n        // 1st throw of the frame\n        label[fr-1][0].setText(&quot;&quot;+pins);\n\n        // 2nd throw of the frame\n        \n        label[fr-1][1].setText(&quot;&quot;+score.getPins(fr,2));\n        if (fr==10) { \n          label[fr-1][2].setText(&quot;&quot;+score.getPins(fr,3));\n        }\n      } else { // frames which are played in the future\n        for (int j=0; j&lt;4; j++) {\n          label[fr-1][j].setText(&quot;ft&quot;);        \n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This is the main class for it. Also, I have an interface as follows:</p>\n<pre><code>package labs.lab2.bowling;\n\n/**\n * Communication interface between BowlingScoreboard and BowlingScore.\n * \n * @author jjj\n * @date 2020-12-01\n */\npublic interface BowlingScoring {\n\n  // Methods to inform BowlingScore that a button was pressed\n  /**\n   * User wants to start a new bowling match.\n   */\n  public void newMatch();\n\n  /**\n   * User pressed button that tells us how many pins are fallen.\n   * \n   * @param fallenPins number of pins fallen\n   */\n  public void scoring(int fallenPins);\n\n  \n  /**\n   * Computes the frame that is played at the moment.\n   * \n   * @return the current set (1-10)\n   */\n  public int getCurrentFrame();\n\n  \n  /**\n   * Computes the points achieved in given frame at the moment.\n   * \n   * @param frame the frame of interest (1-10)\n   * @return the points achieved so far in this frame\n   */\n  public int result(int frame);\n\n  \n  /**\n   * Computes the fallen pins for each individual throw.\n   * \n   * @param frame the frame of the throw (1-10)\n   * @param thrw the throw within that frame (1-2) or (1-3) in last frame\n   * @return the fallen pins \n   */\n  public int getPins(int frame, int thrw);\n\n  \n  \n  /**\n   * Computes the pins that are not fallen yet at the moment (1-10).\n   * \n   * @return the pins still standing \n   */\n  public int pinsNotFallenYet();\n\n}\n</code></pre>\n<p>And here I am trying to implement those methods</p>\n<pre><code>package labs.lab2.bowling;\n\npublic class BowlingScore implements BowlingScoring {\n//////////////////////////////////////////////////////////////////////////////\n    private int standing = 10; //Количество кегль 10 по умолчанию\n    private int currentframe=1;\n    private int sum=0;\n    int[] rolls=new int[100];\n    //roles = new int[21];\n\n    int currentRoll;\n\n    // Methods to inform BowlingScore that a button was pressed\n      /**\n       * User wants to start a new bowling match.\n       */\n    @Override\n    public void newMatch() {\n        // начнем новый матч 10 кегль опять стоят\n        standing=10;\n        this.rolls = new int[21];\n\n    }\n//////////////////////////////////////////////////////////////////////////////\n    /**\n       * User pressed button that tells us how many pins are fallen.\n       * \n       * @param fallenPins number of pins fallen\n       */\n    @Override\n    public void scoring(int fallenPins) {\n        \n        standing=standing-fallenPins; //узнаем сколько кегль упало\n        rolls[currentRoll++] = fallenPins;\n      standing=10;\n        \n    }\n/////////////////////////////////////////////////////////////////////////////////\n    /**\n       * Computes the frame that is played at the moment.\n       * \n       * @return the current set (1-10)\n       */\n    @Override\n    public int getCurrentFrame() {\n        {\n        \n        currentframe++;\n        if(currentframe&gt;10)\n        {\n            currentframe=0;\n        }\n        \n        return currentframe;\n        }\n        \n    }\n//////////////////////////////////////////////////////////////////////////////////\n    /**\n       * Computes the points achieved in given frame at the moment.\n       * \n       * @param frame the frame of interest (1-10)\n       * @return the points achieved so far in this frame\n       */\n    @Override\n    public int result(int frame) {\n        int score = 0;\n        //frame=1;\n        //int score = 0;\n        //int frame = 0;\n\n        for (int i = 0; i &lt; currentframe; i++) {\n            if (isStrike(frame)) {\n                score += 10 + strikeBonus(frame);\n                frame++;\n            } else if (isSpare(frame)) {\n                score += 10 + spareBonus(frame);\n                frame += 2;\n            } else {\n                score += sumOfRolls(frame);\n                frame += 2;\n            }\n        }\n        System.out.println(score);\n        return score;\n    }\n    \n    //check if strike etc\n    private boolean isStrike(int frame) {\n        //frame=1;\n        return rolls[frame] == 10;\n    }\n\n    private boolean isSpare(int frame) {\n        return sumOfRolls(frame) == 10;\n    }\n\n    private int strikeBonus(int frame) {\n        return sumOfRolls(frame+1);\n    }\n\n    private int spareBonus(int frame) {\n        return rolls[frame+2];\n    }\n\n    private int sumOfRolls(int frame) {\n        //frame=0;\n        return rolls[frame] + rolls[frame+1];\n\n    }\n    //end\n//////////////////////////////////////////////////////////////////////////////////\n    /**\n       * Computes the fallen pins for each individual throw.\n       * \n       * @param frame the frame of the throw (1-10)\n       * @param thrw the throw within that frame (1-2) or (1-3) in last frame\n       * @return the fallen pins \n       */\n    @Override\n    public int getPins(int frame, int thrw) {\n    \n        return 0;   \n    }\n////////////////////////////////////////////////////////////////////////////////////\n    /**\n       * Computes the pins that are not fallen yet at the moment (1-10).\n       * \n       * @return the pins still standing \n       */\n    @Override\n    public int pinsNotFallenYet() {\n        \n        \n        return standing; //вернем текущее количество кегль после нажатия одной из кнопок 0-10 причем 0 остается всегда доступным\n    }\n//////////////////////////////////////////////////////////////////////////////////\n\n    \n}\n</code></pre>\n<p>The first 2 classes I am not allowed to change. My question is how to count fallen pins for each frame and the sum of the result of 2 tries in a frame? I know that my implementation is bad, but how to do it correctly?</p>\n"},{"tags":["java","unit-testing","runtime"],"comments":[{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":1,"creation_date":1557095825,"post_id":55996946,"comment_id":98640948,"body_markdown":"you could use a parameter on your config or just a hardcoded static final boolean that tells if the code is for testing or production","body":"you could use a parameter on your config or just a hardcoded static final boolean that tells if the code is for testing or production"},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":3,"creation_date":1557097059,"post_id":55996946,"comment_id":98641151,"body_markdown":"You could take in the `String` in a constructor.  You could have a `setMyString` method in `Common`.  You could Reflectively change it.  You could make a `getter` method for the `myString` and then mock that.  There&#39;s a lot of different options depending on what makes the most sense to you and your project.","body":"You could take in the <code>String</code> in a constructor.  You could have a <code>setMyString</code> method in <code>Common</code>.  You could Reflectively change it.  You could make a <code>getter</code> method for the <code>myString</code> and then mock that.  There&#39;s a lot of different options depending on what makes the most sense to you and your project."},{"owner":{"account_id":560256,"reputation":487,"user_id":922391,"accept_rate":67,"display_name":"Afshin"},"score":0,"creation_date":1557097289,"post_id":55996946,"comment_id":98641183,"body_markdown":"having a `getter` and mocking seems to be a good fit for my case. Thanks","body":"having a <code>getter</code> and mocking seems to be a good fit for my case. Thanks"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1557169935,"post_id":55996946,"comment_id":98667287,"body_markdown":"*&quot;having a getter and mocking seems to be a good fit for my case.&quot;* - I discourage from doing so for two reasons: **1:** getters/setters expose internal details of your class and therefore break the *encapsulation/information hiding* paradigm. **2:**  You should avoid code in your production that exists only for testing.  --- I&#39;d suggest the constructor parameter approach.","body":"<i>&quot;having a getter and mocking seems to be a good fit for my case.&quot;</i> - I discourage from doing so for two reasons: <b>1:</b> getters/setters expose internal details of your class and therefore break the <i>encapsulation/information hiding</i> paradigm. <b>2:</b>  You should avoid code in your production that exists only for testing.  --- I&#39;d suggest the constructor parameter approach."}],"answers":[{"tags":[],"owner":{"account_id":22213633,"reputation":1,"user_id":16452390,"display_name":"RajeevSingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639486977,"creation_date":1639486977,"answer_id":70349318,"question_id":55996946,"body_markdown":"You can do something like below,\r\n\r\n//Function Definition\r\n\r\n    public void setDrivers(Class&lt;?&gt; clazz, String fieldName, Object value) throws NoSuchFieldException, IllegalAccessException{\r\n        Field field = clazz.getDeclaredField(fieldName);\r\n    \tfield.setAccessible(true);\r\n    \tField modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n    \tmodifiers.setAccessible(true);\r\n    \tmodifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n    \tfield.set(null, value);\r\n    }\r\n\r\n","title":"Java - How to assign a value to a variable during unit test different than a value at runtime","body":"<p>You can do something like below,</p>\n<p>//Function Definition</p>\n<pre><code>public void setDrivers(Class&lt;?&gt; clazz, String fieldName, Object value) throws NoSuchFieldException, IllegalAccessException{\n    Field field = clazz.getDeclaredField(fieldName);\n    field.setAccessible(true);\n    Field modifiers = Field.class.getDeclaredField(&quot;modifiers&quot;);\n    modifiers.setAccessible(true);\n    modifiers.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n    field.set(null, value);\n}\n</code></pre>\n"}],"owner":{"account_id":560256,"reputation":487,"user_id":922391,"accept_rate":67,"display_name":"Afshin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639486977,"creation_date":1557095239,"question_id":55996946,"body_markdown":"Let&#39;s say that I have a method which uses a `final static String` from another class such as a common class. \r\n\r\n    public class Common {\r\n        public static final String MY_STRING = &quot;This is my string&quot;;\r\n        public static final String TEST_STRING = &quot;This is a test time string&quot;;\r\n    }\r\n\r\n`Common` class may be used by multiple classes. Here is a sample class that uses the `Common` class.\r\n\r\n    public class MyClass {\r\n\r\n        private String variable = Common.MY_STRING;\r\n\r\n        public void myMethod() {\r\n            System.out.println(variable);\r\n\r\n            // some other codes\r\n        }\r\n    }\r\n\r\nNow, assume that I want `myMethod` to use `Common.TEST_STRING` during the unit test, but still use `Common.MY_STRING` at runtime. In other words, how can I manage `variable` in `MyClass` to be assigned with different values for test and runtime?\r\n\r\nThe most intuitive solution would be just to pass the string as a parameter to the method. But, I don&#39;t want to use this approach, as I only have a simplified case on this example.","title":"Java - How to assign a value to a variable during unit test different than a value at runtime","body":"<p>Let's say that I have a method which uses a <code>final static String</code> from another class such as a common class. </p>\n\n<pre><code>public class Common {\n    public static final String MY_STRING = \"This is my string\";\n    public static final String TEST_STRING = \"This is a test time string\";\n}\n</code></pre>\n\n<p><code>Common</code> class may be used by multiple classes. Here is a sample class that uses the <code>Common</code> class.</p>\n\n<pre><code>public class MyClass {\n\n    private String variable = Common.MY_STRING;\n\n    public void myMethod() {\n        System.out.println(variable);\n\n        // some other codes\n    }\n}\n</code></pre>\n\n<p>Now, assume that I want <code>myMethod</code> to use <code>Common.TEST_STRING</code> during the unit test, but still use <code>Common.MY_STRING</code> at runtime. In other words, how can I manage <code>variable</code> in <code>MyClass</code> to be assigned with different values for test and runtime?</p>\n\n<p>The most intuitive solution would be just to pass the string as a parameter to the method. But, I don't want to use this approach, as I only have a simplified case on this example.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"display_name":"user5957595"},"score":0,"creation_date":1639472051,"post_id":70345551,"comment_id":124350804,"body_markdown":"Why don&#39;t you just use `inputType=&quot;number&quot;`?","body":"Why don&#39;t you just use <code>inputType=&quot;number&quot;</code>?"},{"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"score":0,"creation_date":1639476887,"post_id":70345551,"comment_id":124352590,"body_markdown":"@SagarBalyan i did before , because if i use number user cant put Double values in editText using (.) and i should use &#39; android:digits=&quot;1234567890.&quot; &#39; and it would be the same thing.","body":"@SagarBalyan i did before , because if i use number user cant put Double values in editText using (.) and i should use &#39; android:digits=&quot;1234567890.&quot; &#39; and it would be the same thing."},{"owner":{"display_name":"user5957595"},"score":0,"creation_date":1639478830,"post_id":70345551,"comment_id":124353236,"body_markdown":"What problem are you facing with your trimString() method?","body":"What problem are you facing with your trimString() method?"},{"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"score":0,"creation_date":1639479059,"post_id":70345551,"comment_id":124353336,"body_markdown":"@SagarBalyan The problem is when i type (.) the app will crash with this Error : &#39;     java.lang.StringIndexOutOfBoundsException: length=0; index=0 &#39;","body":"@SagarBalyan The problem is when i type (.) the app will crash with this Error : &#39;     java.lang.StringIndexOutOfBoundsException: length=0; index=0 &#39;"},{"owner":{"display_name":"user5957595"},"score":1,"creation_date":1639479643,"post_id":70345551,"comment_id":124353531,"body_markdown":"Try writing your logic inside `afterTextChanged` instead of `onTextChanged`","body":"Try writing your logic inside <code>afterTextChanged</code> instead of <code>onTextChanged</code>"},{"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"score":0,"creation_date":1639480272,"post_id":70345551,"comment_id":124353758,"body_markdown":"@SagarBalyan I just did and it worked mate , Thanks a lot!","body":"@SagarBalyan I just did and it worked mate , Thanks a lot!"},{"owner":{"display_name":"user5957595"},"score":0,"creation_date":1639480317,"post_id":70345551,"comment_id":124353772,"body_markdown":"Happy to Help :)","body":"Happy to Help :)"}],"answers":[{"tags":[],"owner":{"account_id":15363078,"reputation":86,"user_id":11083366,"display_name":"Maryam Behzi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639486914,"creation_date":1639486914,"answer_id":70349309,"question_id":70345551,"body_markdown":"I see you also have another problem. if you use &quot;numberSigned&quot; as the input type you cant use &quot;.&quot; character and if you add `android:digits=&quot;1234567890.&quot;` there will be no limit of how many times the &quot;.&quot; char will appear in your EditText. it can be \r\n\r\n&gt; ..\r\n\r\n or\r\n\r\n&gt; ..58\r\n\r\n or \r\n\r\n&gt; 2..5\r\n\r\n or even \r\n\r\n&gt; 35.67.12\r\n\r\nso you see, it&#39;s not a ***number*** any more.\r\n\r\nYou can use `android:inputType=&quot;numberDecimal&quot;` instead of `numberSigned`.\r\nThis way you only can call &quot;.&quot; once in a number (as  numbers should be ) and as there is no &quot;,&quot; in Decimal numbers user can not use that key even by mistake. so you are already two problems ahead.\r\n\r\nAs for the &quot;.&quot; character at the start of the input, I personally see no problem in that. It is totally OK to have `.7` instead of `0.7` but if you want to prevent it you can simply check if it start with &quot;.&quot; or not and replace &quot;.&quot; with &quot;0.&quot;\r\n\r\nin conclusion replace the `android:inputType=&quot;numberSigned&quot;` with `android:inputType=&quot;numberDecimal&quot;`; delete the `android:digits=&quot;1234567890.&quot;` and you are good to go.\r\n\r\n\r\n\r\n","title":"How to pervent Edittext value To start with (.) and contains two (.) in a row?","body":"<p>I see you also have another problem. if you use &quot;numberSigned&quot; as the input type you cant use &quot;.&quot; character and if you add <code>android:digits=&quot;1234567890.&quot;</code> there will be no limit of how many times the &quot;.&quot; char will appear in your EditText. it can be</p>\n<blockquote>\n<p>..</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>..58</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>2..5</p>\n</blockquote>\n<p>or even</p>\n<blockquote>\n<p>35.67.12</p>\n</blockquote>\n<p>so you see, it's not a <em><strong>number</strong></em> any more.</p>\n<p>You can use <code>android:inputType=&quot;numberDecimal&quot;</code> instead of <code>numberSigned</code>.\nThis way you only can call &quot;.&quot; once in a number (as  numbers should be ) and as there is no &quot;,&quot; in Decimal numbers user can not use that key even by mistake. so you are already two problems ahead.</p>\n<p>As for the &quot;.&quot; character at the start of the input, I personally see no problem in that. It is totally OK to have <code>.7</code> instead of <code>0.7</code> but if you want to prevent it you can simply check if it start with &quot;.&quot; or not and replace &quot;.&quot; with &quot;0.&quot;</p>\n<p>in conclusion replace the <code>android:inputType=&quot;numberSigned&quot;</code> with <code>android:inputType=&quot;numberDecimal&quot;</code>; delete the <code>android:digits=&quot;1234567890.&quot;</code> and you are good to go.</p>\n"}],"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70349309,"answer_count":1,"score":1,"last_activity_date":1639486914,"creation_date":1639468955,"question_id":70345551,"body_markdown":"in my situation i have EditText to get the value for my math operation , So i have set inputType of this EditText to **android:inputType=&quot;numberSigned&quot;** also add this tag\r\n**android:digits=&quot;1234567890.&quot;** to only get numbers and (.) because my value can be Double , but i don&#39;t want the user to start his value with (.) like &quot;.58&quot; also use two (.) in row like &quot;2..5&quot; so i have add the code below but unfortunately it&#39;s not working for me. also I&#39;m using TextChangedListener for my EditText.\r\n\r\n\r\n        public static String trimString(String string) {\r\n        if (string.startsWith(&quot;.&quot;)) {\r\n            return string.replace(&quot;.&quot;, &quot;&quot;);\r\n        } else if (string.contains(&quot;,&quot;) &amp; string.contains(&quot;..&quot;)) {\r\n            return string.replace(&quot;,&quot;, &quot;&quot;).replace(&quot;..&quot;, &quot;.&quot;);\r\n        } else {\r\n            return string;\r\n        }\r\n    }\r\n\r\nTextChangedListener code:\r\n\r\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n        if (isEmpty(editTextAmount)) {\r\n             tvResult.setTextColor(Color.parseColor(&quot;#ff0033&quot;));\r\n             tvResult.setText(R.string.error_text);\r\n          } else {\r\n             String firstData = autoCompleteTextView.getText().toString();\r\n             String secondData = autoCompleteTextView2.getText().toString();\r\n             String amount = trimString(editTextAmount.getText().toString());\r\n             doMath(firstData, secondData, amount);\r\n          }\r\n\r\n       }\r\n\r\n \r\n        ","title":"How to pervent Edittext value To start with (.) and contains two (.) in a row?","body":"<p>in my situation i have EditText to get the value for my math operation , So i have set inputType of this EditText to <strong>android:inputType=&quot;numberSigned&quot;</strong> also add this tag\n<strong>android:digits=&quot;1234567890.&quot;</strong> to only get numbers and (.) because my value can be Double , but i don't want the user to start his value with (.) like &quot;.58&quot; also use two (.) in row like &quot;2..5&quot; so i have add the code below but unfortunately it's not working for me. also I'm using TextChangedListener for my EditText.</p>\n<pre><code>    public static String trimString(String string) {\n    if (string.startsWith(&quot;.&quot;)) {\n        return string.replace(&quot;.&quot;, &quot;&quot;);\n    } else if (string.contains(&quot;,&quot;) &amp; string.contains(&quot;..&quot;)) {\n        return string.replace(&quot;,&quot;, &quot;&quot;).replace(&quot;..&quot;, &quot;.&quot;);\n    } else {\n        return string;\n    }\n}\n</code></pre>\n<p>TextChangedListener code:</p>\n<pre><code>public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n    if (isEmpty(editTextAmount)) {\n         tvResult.setTextColor(Color.parseColor(&quot;#ff0033&quot;));\n         tvResult.setText(R.string.error_text);\n      } else {\n         String firstData = autoCompleteTextView.getText().toString();\n         String secondData = autoCompleteTextView2.getText().toString();\n         String amount = trimString(editTextAmount.getText().toString());\n         doMath(firstData, secondData, amount);\n      }\n\n   }\n\n\n    \n</code></pre>\n"},{"tags":["java","android","google-maps","android-mapview"],"owner":{"account_id":20668805,"reputation":11,"user_id":15175007,"display_name":"Jake O&#39;Kane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639486885,"creation_date":1639486858,"question_id":70349297,"body_markdown":"I am creating an app with a MapView that will have markers added to it when the user presses a button. The code for the buttons has not been implemented yet. When the app is run on an emulator the MapView only displays a grey screen with the google logo in the corner. I have had similar problems with apps in the past there the solution was to add a new API Key. \r\n\r\nHowever, I have added a new API Key and enabled it and I am still presented with a blank MapView, I have also made sure that the app is granted access to the location services of the emulator.\r\n\r\nHere is the logcat while the app is running:\r\n```\r\n2021-12-14 12:49:00.442 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\r\n2021-12-14 12:49:00.442 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getObject(Ljava/lang/Object;J)Ljava/lang/Object; (greylist, linking, allowed)\r\n2021-12-14 12:49:00.442 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\r\n2021-12-14 12:49:00.445 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getLong(Ljava/lang/Object;J)J (greylist,core-platform-api, linking, allowed)\r\n2021-12-14 12:49:00.445 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putLong(Ljava/lang/Object;JJ)V (greylist, linking, allowed)\r\n2021-12-14 12:49:00.445 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\r\n2021-12-14 12:49:00.446 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getObject(Ljava/lang/Object;J)Ljava/lang/Object; (greylist, linking, allowed)\r\n2021-12-14 12:49:00.446 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\r\n```\r\nAnd Here is the MainActivty Code\r\n ```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n//import android.support.v4.widget.Toolbar;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.MapView;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n    private MapView mapView;\r\n    private GoogleMap gmap;\r\n\r\n    private static final String MAP_VIEW_BUNDLE_KEY = &quot;MapViewBundleKey&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Bundle mapViewBundle = null;\r\n        if(savedInstanceState != null){\r\n            mapViewBundle = savedInstanceState.getBundle(MAP_VIEW_BUNDLE_KEY);\r\n        }\r\n\r\n        mapView = findViewById(R.id.map_View);\r\n        mapView.onCreate(mapViewBundle);\r\n        mapView.getMapAsync(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState){\r\n        super.onSaveInstanceState(outState);\r\n\r\n        Bundle mapViewBundle = outState.getBundle(MAP_VIEW_BUNDLE_KEY);\r\n        if(mapViewBundle == null){\r\n            mapViewBundle = new Bundle();\r\n            outState.putBundle(MAP_VIEW_BUNDLE_KEY, mapViewBundle);\r\n        }\r\n\r\n        mapView.onSaveInstanceState(mapViewBundle);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume(){\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onStart(){\r\n        super.onStart();\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop(){\r\n        super.onStop();\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause(){\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy(){\r\n        super.onDestroy();\r\n        mapView.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory(){\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap){\r\n      /*  gmap = googleMap;\r\n        gmap.setMinZoomPreference(12);\r\n        LatLng ny = new LatLng(40.7143528, -74.0059731);\r\n        gmap.moveCamera(CameraUpdateFactory.newLatLng(ny));*/\r\n\r\n        gmap = googleMap;\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        /*LatLng sydney = new LatLng(-34, 151);\r\n        mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));*/\r\n\r\n        //Add a marker in Belfast City Airport\r\n        LatLng bca = new LatLng (54.617611, -5.8718491);\r\n        gmap.addMarker(new MarkerOptions().position(bca).title(&quot;Belfast City Airport&quot;));\r\n        gmap.moveCamera(CameraUpdateFactory.newLatLng(bca));\r\n        gmap.moveCamera(CameraUpdateFactory.newLatLngZoom(bca, 12.0f));\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nDoes anybody have any suggestions on how to fix this?","title":"Why is my MapView displaying a blank screen?","body":"<p>I am creating an app with a MapView that will have markers added to it when the user presses a button. The code for the buttons has not been implemented yet. When the app is run on an emulator the MapView only displays a grey screen with the google logo in the corner. I have had similar problems with apps in the past there the solution was to add a new API Key.</p>\n<p>However, I have added a new API Key and enabled it and I am still presented with a blank MapView, I have also made sure that the app is granted access to the location services of the emulator.</p>\n<p>Here is the logcat while the app is running:</p>\n<pre><code>2021-12-14 12:49:00.442 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\n2021-12-14 12:49:00.442 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getObject(Ljava/lang/Object;J)Ljava/lang/Object; (greylist, linking, allowed)\n2021-12-14 12:49:00.442 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\n2021-12-14 12:49:00.445 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getLong(Ljava/lang/Object;J)J (greylist,core-platform-api, linking, allowed)\n2021-12-14 12:49:00.445 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putLong(Ljava/lang/Object;JJ)V (greylist, linking, allowed)\n2021-12-14 12:49:00.445 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\n2021-12-14 12:49:00.446 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;getObject(Ljava/lang/Object;J)Ljava/lang/Object; (greylist, linking, allowed)\n2021-12-14 12:49:00.446 13690-13734/com.example.myapplication W/e.myapplicatio: Accessing hidden method Lsun/misc/Unsafe;-&gt;putInt(Ljava/lang/Object;JI)V (greylist, linking, allowed)\n</code></pre>\n<p>And Here is the MainActivty Code</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n//import android.support.v4.widget.Toolbar;\n\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.MapView;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\n   private MapView mapView;\n   private GoogleMap gmap;\n\n   private static final String MAP_VIEW_BUNDLE_KEY = &quot;MapViewBundleKey&quot;;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n\n       Bundle mapViewBundle = null;\n       if(savedInstanceState != null){\n           mapViewBundle = savedInstanceState.getBundle(MAP_VIEW_BUNDLE_KEY);\n       }\n\n       mapView = findViewById(R.id.map_View);\n       mapView.onCreate(mapViewBundle);\n       mapView.getMapAsync(this);\n\n   }\n\n   @Override\n   public void onSaveInstanceState(Bundle outState){\n       super.onSaveInstanceState(outState);\n\n       Bundle mapViewBundle = outState.getBundle(MAP_VIEW_BUNDLE_KEY);\n       if(mapViewBundle == null){\n           mapViewBundle = new Bundle();\n           outState.putBundle(MAP_VIEW_BUNDLE_KEY, mapViewBundle);\n       }\n\n       mapView.onSaveInstanceState(mapViewBundle);\n   }\n\n   @Override\n   protected void onResume(){\n       super.onResume();\n       mapView.onResume();\n   }\n\n   @Override\n   protected void onStart(){\n       super.onStart();\n       mapView.onStart();\n   }\n\n   @Override\n   protected void onStop(){\n       super.onStop();\n       mapView.onStop();\n   }\n\n   @Override\n   protected void onPause(){\n       super.onPause();\n       mapView.onPause();\n   }\n\n   @Override\n   protected void onDestroy(){\n       super.onDestroy();\n       mapView.onDestroy();\n   }\n\n   @Override\n   public void onLowMemory(){\n       super.onLowMemory();\n       mapView.onLowMemory();\n   }\n\n   @Override\n   public void onMapReady(GoogleMap googleMap){\n     /*  gmap = googleMap;\n       gmap.setMinZoomPreference(12);\n       LatLng ny = new LatLng(40.7143528, -74.0059731);\n       gmap.moveCamera(CameraUpdateFactory.newLatLng(ny));*/\n\n       gmap = googleMap;\n\n       // Add a marker in Sydney and move the camera\n       /*LatLng sydney = new LatLng(-34, 151);\n       mMap.addMarker(new MarkerOptions().position(sydney).title(&quot;Marker in Sydney&quot;));\n       mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));*/\n\n       //Add a marker in Belfast City Airport\n       LatLng bca = new LatLng (54.617611, -5.8718491);\n       gmap.addMarker(new MarkerOptions().position(bca).title(&quot;Belfast City Airport&quot;));\n       gmap.moveCamera(CameraUpdateFactory.newLatLng(bca));\n       gmap.moveCamera(CameraUpdateFactory.newLatLngZoom(bca, 12.0f));\n\n   }\n\n}\n\n\n\n</code></pre>\n<p>Does anybody have any suggestions on how to fix this?</p>\n"},{"tags":["java","apache-kafka","out-of-memory","heap-memory","apache-samza"],"owner":{"account_id":23644421,"reputation":11,"user_id":17674244,"display_name":"Noobie Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639486184,"creation_date":1639486184,"question_id":70349165,"body_markdown":"I am having microservices run in Samza containers connected using Kafka messaging streams. In a few tasks, memory being used is constantly increasing even though no process is being performed. Not sure why is this happening and sometimes the container is failing because of a lack of space issues. Does anyone know why is this happening and how to get it fixed?","title":"Samza task is taking more space even though no process is being performed","body":"<p>I am having microservices run in Samza containers connected using Kafka messaging streams. In a few tasks, memory being used is constantly increasing even though no process is being performed. Not sure why is this happening and sometimes the container is failing because of a lack of space issues. Does anyone know why is this happening and how to get it fixed?</p>\n"},{"tags":["java","cucumber","cucumber-jvm","gherkin","cucumber-java"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1639133928,"post_id":70303107,"comment_id":124276488,"body_markdown":"Sounds like you may want to file a feature request with Cucumber for a universal step definition annotation. Something like `@Step`.","body":"Sounds like you may want to file a feature request with Cucumber for a universal step definition annotation. Something like <code>@Step</code>."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1639133958,"post_id":70303107,"comment_id":124276497,"body_markdown":"Also sounds like you should file a bug report with IDEA.","body":"Also sounds like you should file a bug report with IDEA."},{"owner":{"account_id":13102289,"reputation":3,"user_id":9466248,"display_name":"Arcca"},"score":0,"creation_date":1639135416,"post_id":70303107,"comment_id":124277007,"body_markdown":"Wasn&#39;t sure, but since the second opinion is exactly what I was thinking, then maybe I will do just that, thanks. Will still leave the question open, in case there is a workaround from someone in the mean time.","body":"Wasn&#39;t sure, but since the second opinion is exactly what I was thinking, then maybe I will do just that, thanks. Will still leave the question open, in case there is a workaround from someone in the mean time."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1639142766,"post_id":70303107,"comment_id":124279460,"body_markdown":"What&#39;s the natural language that you are using? And what&#39;s the cucumber version you are using?","body":"What&#39;s the natural language that you are using? And what&#39;s the cucumber version you are using?"},{"owner":{"account_id":13102289,"reputation":3,"user_id":9466248,"display_name":"Arcca"},"score":0,"creation_date":1639143630,"post_id":70303107,"comment_id":124279782,"body_markdown":"@AlexeyR. - Latvian. And cucumber version is 6.10.4.","body":"@AlexeyR. - Latvian. And cucumber version is 6.10.4."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1639144193,"post_id":70303107,"comment_id":124279998,"body_markdown":"So you need the same as Given When Then but written in your language? Like &quot;duota, kai, tada&quot;?","body":"So you need the same as Given When Then but written in your language? Like &quot;duota, kai, tada&quot;?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1639144659,"post_id":70303107,"comment_id":124280160,"body_markdown":"Or you just need a way to introduce some very custom key words?","body":"Or you just need a way to introduce some very custom key words?"},{"owner":{"account_id":13102289,"reputation":3,"user_id":9466248,"display_name":"Arcca"},"score":0,"creation_date":1639144697,"post_id":70303107,"comment_id":124280178,"body_markdown":"No, as I said - using my native language will not make sense due to test specifics. The problem is using step in feature file with asterisk and connecting that to a logical annotation in step definition, and using step definition generation.","body":"No, as I said - using my native language will not make sense due to test specifics. The problem is using step in feature file with asterisk and connecting that to a logical annotation in step definition, and using step definition generation."},{"owner":{"account_id":13102289,"reputation":3,"user_id":9466248,"display_name":"Arcca"},"score":0,"creation_date":1639144766,"post_id":70303107,"comment_id":124280201,"body_markdown":"In any case, following @M.P.Korstanje advice, filed a feature request - https://github.com/cucumber/cucumber-jvm/issues/2435","body":"In any case, following @M.P.Korstanje advice, filed a feature request - <a href=\"https://github.com/cucumber/cucumber-jvm/issues/2435\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/issues/2435</a>"}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639486143,"creation_date":1639405897,"answer_id":70336266,"question_id":70303107,"body_markdown":"I think you can achieve this with few coding steps.\r\n\r\n0. Say you have the scenario like this:\r\n\r\n```gherkin\r\nFeature: Generic annotation\r\n\r\n  Scenario: Testing annotations\r\n    * having asterix\r\n    * use custom generic annotation\r\n```\r\n\r\n1. Add custom annotation to your sources\r\n\r\n```java\r\npackage click.webelement.cucumber;\r\n\r\nimport io.cucumber.java.StepDefinitionAnnotation;\r\nimport io.cucumber.java.StepDefinitionAnnotations;\r\nimport org.apiguardian.api.API;\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\n@StepDefinitionAnnotation\r\n@Documented\r\n@Repeatable(MyStep.MySteps.class)\r\n@API(status = API.Status.STABLE)\r\npublic @interface MyStep {\r\n\r\n    String value();\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @StepDefinitionAnnotations\r\n    @Documented\r\n    @interface MySteps {\r\n        MyStep[] value();\r\n    }\r\n}\r\n```\r\n\r\n3. Now use it in your Step Definition\r\n\r\n```java\r\npackage click.webelement.cucumber;\r\n\r\npublic class StepDef {\r\n\r\n    @MyStep(&quot;having asterix&quot;)\r\n    public void doOne(){\r\n        System.out.println(&quot;Running having asterix&quot;);\r\n    }\r\n\r\n    @MyStep(&quot;use custom generic annotation&quot;)\r\n    public void doTwo(){\r\n        System.out.println(&quot;Running use custom generic annotation&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**UPD**\r\n\r\nIn order to make your Idea plugin work with your custom annotation you need to place that annotation to \r\n\r\n`io.cucumber.java.LANG`  package where *LANG* is the sub-package for your chosen language.\r\n\r\nTo make everything work as default you place it to\r\n\r\n`io.cucumber.java.en`\r\n","title":"Cucumber step definition with asterisk","body":"<p>I think you can achieve this with few coding steps.</p>\n<ol start=\"0\">\n<li>Say you have the scenario like this:</li>\n</ol>\n<pre><code>Feature: Generic annotation\n\n  Scenario: Testing annotations\n    * having asterix\n    * use custom generic annotation\n</code></pre>\n<ol>\n<li>Add custom annotation to your sources</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package click.webelement.cucumber;\n\nimport io.cucumber.java.StepDefinitionAnnotation;\nimport io.cucumber.java.StepDefinitionAnnotations;\nimport org.apiguardian.api.API;\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\n@StepDefinitionAnnotation\n@Documented\n@Repeatable(MyStep.MySteps.class)\n@API(status = API.Status.STABLE)\npublic @interface MyStep {\n\n    String value();\n\n    @Target(ElementType.METHOD)\n    @Retention(RetentionPolicy.RUNTIME)\n    @StepDefinitionAnnotations\n    @Documented\n    @interface MySteps {\n        MyStep[] value();\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Now use it in your Step Definition</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package click.webelement.cucumber;\n\npublic class StepDef {\n\n    @MyStep(&quot;having asterix&quot;)\n    public void doOne(){\n        System.out.println(&quot;Running having asterix&quot;);\n    }\n\n    @MyStep(&quot;use custom generic annotation&quot;)\n    public void doTwo(){\n        System.out.println(&quot;Running use custom generic annotation&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>UPD</strong></p>\n<p>In order to make your Idea plugin work with your custom annotation you need to place that annotation to</p>\n<p><code>io.cucumber.java.LANG</code>  package where <em>LANG</em> is the sub-package for your chosen language.</p>\n<p>To make everything work as default you place it to</p>\n<p><code>io.cucumber.java.en</code></p>\n"}],"owner":{"account_id":13102289,"reputation":3,"user_id":9466248,"display_name":"Arcca"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70336266,"answer_count":1,"score":0,"last_activity_date":1639486143,"creation_date":1639132366,"question_id":70303107,"body_markdown":"We have feature files that have long tests that validate multiple things written in non-english language, the `Given -&gt; When -&gt; Then` structure doesn&#39;t make sense.\r\nI tried replacing feature file keywords with `*`, and that works just fine, however here are the problems:\r\n\r\n1) When writing a new step in a form of `* Some step`, and using Alt-&gt;Enter shortcut to generate a step definition, IntelliJ IDEA does... Nothing. It only opens the file where I wanted to put the definition without any added code. I&#39;ve updated IDE and plugins to be latest.\r\n2) There doesn&#39;t seem to be any way to have a &quot;universal&quot; annotation to use for asterisk steps, only `Given`, `When`, `Then`, `And`, `But` exists. It&#39;s not very logical to have a `* Some step` feature and `@Given(&quot;Some step&quot;)` definition. \r\n\r\nIs there any workaround that I might use?","title":"Cucumber step definition with asterisk","body":"<p>We have feature files that have long tests that validate multiple things written in non-english language, the <code>Given -&gt; When -&gt; Then</code> structure doesn't make sense.\nI tried replacing feature file keywords with <code>*</code>, and that works just fine, however here are the problems:</p>\n<ol>\n<li>When writing a new step in a form of <code>* Some step</code>, and using Alt-&gt;Enter shortcut to generate a step definition, IntelliJ IDEA does... Nothing. It only opens the file where I wanted to put the definition without any added code. I've updated IDE and plugins to be latest.</li>\n<li>There doesn't seem to be any way to have a &quot;universal&quot; annotation to use for asterisk steps, only <code>Given</code>, <code>When</code>, <code>Then</code>, <code>And</code>, <code>But</code> exists. It's not very logical to have a <code>* Some step</code> feature and <code>@Given(&quot;Some step&quot;)</code> definition.</li>\n</ol>\n<p>Is there any workaround that I might use?</p>\n"},{"tags":["java","google-bigquery"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1639487016,"post_id":70349092,"comment_id":124356154,"body_markdown":"You seem to have this value interpreted as **_microseconds_** on server side, which must be wrong (and below the lower bound of the valid **milliseconds** from 1970-01-01... See the error message at `…1639484762470 microseconds…`, the value is a valid unix time when interpreted as milliseconds.","body":"You seem to have this value interpreted as <b><i>microseconds</i></b> on server side, which must be wrong (and below the lower bound of the valid <b>milliseconds</b> from 1970-01-01... See the error message at <code>…1639484762470 microseconds…</code>, the value is a valid unix time when interpreted as milliseconds."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1639487131,"post_id":70349092,"comment_id":124356188,"body_markdown":"If you can use `java.time` (Java 8+), consider using that. The way with `Date` and `Calendar` is outdated.","body":"If you can use <code>java.time</code> (Java 8+), consider using that. The way with <code>Date</code> and <code>Calendar</code> is outdated."},{"owner":{"account_id":17607430,"reputation":11,"user_id":12776215,"display_name":"Sergey Gubenko"},"score":0,"creation_date":1639489037,"post_id":70349092,"comment_id":124356988,"body_markdown":"Some result was obtained with\n3 899 232 054 000 000 000\nit\n(((((2021L * 12) + 11) * 31 + 13) * 24 + 16) * 60 + 15) * 60 * 1000 * 1000);\nBut for some reason in the database it is displayed as\n0923-08-12T03: 52: 09.485632","body":"Some result was obtained with 3 899 232 054 000 000 000 it (((((2021L * 12) + 11) * 31 + 13) * 24 + 16) * 60 + 15) * 60 * 1000 * 1000); But for some reason in the database it is displayed as 0923-08-12T03: 52: 09.485632"}],"owner":{"account_id":17607430,"reputation":11,"user_id":12776215,"display_name":"Sergey Gubenko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639485858,"creation_date":1639485858,"question_id":70349092,"body_markdown":"I am trying to insert data into a datetime field in BigQuery via WriteStream in Java and keep getting the error\r\n\r\n    java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Cannot return an invalid datetime value of 1639484762470 microseconds relative to the Unix epoch. The range of valid datetime values is [0001-01-01 00:00:00, 9999-12-31 23:59:59.999999] on field date_time.\r\n    \r\nI tried different options: seconds, milliseconds, microseconds, cast from Unix format to Microsoft, insert formatted string (then I get an error that it should be INT64).\r\n\r\nWhere am I going wrong?\r\n\r\nCode is pretty simple\r\n\r\n    try (JsonStreamWriter writer = JsonStreamWriter.newBuilder(writeStream.getName(), writeStream.getTableSchema(), client).build()) {\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            JSONArray jsonArr = new JSONArray();\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                JSONObject record = new JSONObject();\r\n                Date date = new Date();\r\n                record.put(&quot;date_hash&quot;, date.hashCode());\r\n                record.put(&quot;date_string&quot;, date.toString());\r\n                record.put(&quot;date_time&quot;, date.getTime());\r\n                jsonArr.put(record);\r\n            }\r\n            \r\n            ApiFuture&lt;AppendRowsResponse&gt; future = writer.append(jsonArr, i * 10);\r\n            AppendRowsResponse response = future.get();\r\n        }\r\n    }","title":"Insert DateTime into BigQuery in Stream","body":"<p>I am trying to insert data into a datetime field in BigQuery via WriteStream in Java and keep getting the error</p>\n<pre><code>java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Cannot return an invalid datetime value of 1639484762470 microseconds relative to the Unix epoch. The range of valid datetime values is [0001-01-01 00:00:00, 9999-12-31 23:59:59.999999] on field date_time.\n</code></pre>\n<p>I tried different options: seconds, milliseconds, microseconds, cast from Unix format to Microsoft, insert formatted string (then I get an error that it should be INT64).</p>\n<p>Where am I going wrong?</p>\n<p>Code is pretty simple</p>\n<pre><code>try (JsonStreamWriter writer = JsonStreamWriter.newBuilder(writeStream.getName(), writeStream.getTableSchema(), client).build()) {\n    for (int i = 0; i &lt; 2; i++) {\n        JSONArray jsonArr = new JSONArray();\n        for (int j = 0; j &lt; 10; j++) {\n            JSONObject record = new JSONObject();\n            Date date = new Date();\n            record.put(&quot;date_hash&quot;, date.hashCode());\n            record.put(&quot;date_string&quot;, date.toString());\n            record.put(&quot;date_time&quot;, date.getTime());\n            jsonArr.put(record);\n        }\n        \n        ApiFuture&lt;AppendRowsResponse&gt; future = writer.append(jsonArr, i * 10);\n        AppendRowsResponse response = future.get();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resttemplate","ocsp"],"comments":[{"owner":{"account_id":5989971,"reputation":142,"user_id":6168139,"display_name":"rushi"},"score":0,"creation_date":1639464361,"post_id":70344719,"comment_id":124348533,"body_markdown":"Please show your work.","body":"Please show your work."},{"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"score":0,"creation_date":1639465212,"post_id":70344719,"comment_id":124348752,"body_markdown":"@rushi - not Sure how to proceed further or the right way to implement","body":"@rushi - not Sure how to proceed further or the right way to implement"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639486552,"post_id":70344719,"comment_id":124355979,"body_markdown":"Using PEM with RestTemplate: https://stackoverflow.com/questions/33497874/resttemplate-with-pem-certificate","body":"Using PEM with RestTemplate: <a href=\"https://stackoverflow.com/questions/33497874/resttemplate-with-pem-certificate\" title=\"resttemplate with pem certificate\">stackoverflow.com/questions/33497874/&hellip;</a>"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1639486724,"post_id":70344719,"comment_id":124356041,"body_markdown":"The converter posted by [sai manoj](https://stackoverflow.com/users/14554871/sai-manoj) in [this answer](https://stackoverflow.com/a/70347946/4494577) should get you started with the rest: https://reqbin.com/curl","body":"The converter posted by <a href=\"https://stackoverflow.com/users/14554871/sai-manoj\">sai manoj</a> in <a href=\"https://stackoverflow.com/a/70347946/4494577\">this answer</a> should get you started with the rest: <a href=\"https://reqbin.com/curl\" rel=\"nofollow noreferrer\">reqbin.com/curl</a>"}],"answers":[{"tags":[],"owner":{"account_id":19868059,"reputation":72,"user_id":14554871,"display_name":"sai manoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639480445,"creation_date":1639480445,"answer_id":70347946,"question_id":70344719,"body_markdown":"This url has how to make ssl request in Java spring boot using Rest Template: https://stackoverflow.com/questions/30770280/spring-boot-ssl-client\r\n\r\nUsing the below url we can convert curl request to java code directly:\r\nhttps://reqbin.com/curl\r\n\r\nHope this references might be useful","title":"Convert Curl Request in to java Rest Template Call","body":"<p>This url has how to make ssl request in Java spring boot using Rest Template: <a href=\"https://stackoverflow.com/questions/30770280/spring-boot-ssl-client\">Spring Boot SSL Client</a></p>\n<p>Using the below url we can convert curl request to java code directly:\n<a href=\"https://reqbin.com/curl\" rel=\"nofollow noreferrer\">https://reqbin.com/curl</a></p>\n<p>Hope this references might be useful</p>\n"}],"owner":{"account_id":994891,"reputation":305,"user_id":1011105,"accept_rate":0,"display_name":"dheeraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1639485736,"creation_date":1639464309,"question_id":70344719,"body_markdown":"I have to make a OCSP cert verification call with the cert issued by some system . The OCSP team shared the below curl url as sample\r\n\r\n    curl --cert &lt;XYZ&gt;.pem.txt --key &lt;XYZprivatekey&gt;.key.pem --cacert ABCASDStaging.cer.txt https://osd.staging.sd.sd.sg --data-binary @request.der --header &quot;Content-Type:application/ocsp-requests&quot; --header &quot;Host:ocsp.staging.xvc.sdf.sg&quot; --output asdasd-ocsp-resp.der --insecure -v &gt;&gt; STG CDNS.txt2&gt;&amp;1\r\n\r\n\r\nIm trying to code the above curl request in to java rest template request but unable to proceed. Can help to convert this request in to java rest template\r\n\r\nCreated the header\r\n\r\n     HttpHeaders headers = new HttpHeaders();\r\n        headers.add(HttpHeaders.CONTENT_TYPE, &quot;ocsp-requests&quot;);\r\n        headers.add(&quot;Host&quot;, &quot;ocsp.staging.xvc.sdf.sg&quot;);","title":"Convert Curl Request in to java Rest Template Call","body":"<p>I have to make a OCSP cert verification call with the cert issued by some system . The OCSP team shared the below curl url as sample</p>\n<pre><code>curl --cert &lt;XYZ&gt;.pem.txt --key &lt;XYZprivatekey&gt;.key.pem --cacert ABCASDStaging.cer.txt https://osd.staging.sd.sd.sg --data-binary @request.der --header &quot;Content-Type:application/ocsp-requests&quot; --header &quot;Host:ocsp.staging.xvc.sdf.sg&quot; --output asdasd-ocsp-resp.der --insecure -v &gt;&gt; STG CDNS.txt2&gt;&amp;1\n</code></pre>\n<p>Im trying to code the above curl request in to java rest template request but unable to proceed. Can help to convert this request in to java rest template</p>\n<p>Created the header</p>\n<pre><code> HttpHeaders headers = new HttpHeaders();\n    headers.add(HttpHeaders.CONTENT_TYPE, &quot;ocsp-requests&quot;);\n    headers.add(&quot;Host&quot;, &quot;ocsp.staging.xvc.sdf.sg&quot;);\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-cloudwatch"],"owner":{"account_id":9853620,"reputation":111,"user_id":7298897,"display_name":"Bilal Fakih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639485650,"creation_date":1639485650,"question_id":70349047,"body_markdown":"In my application, I create a new metric with those dimensions\r\n```\r\nCollection&lt;Dimension&gt; dimensions =\r\n    Arrays.asList(\r\n      new Dimension().withName(&quot;PlacementString&quot;).withValue(form.getPlacementString()),\r\n      new Dimension().withName(&quot;PlacementPage&quot;).withValue(String.valueOf(form.getPlacementPage())),\r\n      new Dimension().withName(&quot;Domain&quot;).withValue(form.getDomain()));\r\n```\r\nand the Metric is \r\n```\r\nCollection&lt;MetricDatum&gt; metricData =\r\n  Collections.singletonList(\r\n    new MetricDatum()\r\n      .withDimensions(dimensions)\r\n      .withMetricName(&quot;XYZ&quot;)\r\n      .withValue(1D)\r\n      .withUnit(&quot;Count&quot;));\r\n```\r\nIn the above example, `PlacementString` could be something like foo or bar and the `PlacementPage` could be 1000 or any integer.\r\n\r\nSo, with every different combination of dimensions, a new metric will be created and published to cloudwatch\r\nwhat I intend to do is to have a widget in the dashboard on cloudwatch that logs metrics that are published from the app in a dynamic way, I checked the docs, and all that I saw was that we have to pre-define the metrics and the thing is that I don&#39;t know what I&#39;m expecting\r\n\r\nso, is there a way to have a wildcard so that if a new metric is published from the app to add it automatically in the widget?","title":"Add metrics automatically in aws cloud watch widgets","body":"<p>In my application, I create a new metric with those dimensions</p>\n<pre><code>Collection&lt;Dimension&gt; dimensions =\n    Arrays.asList(\n      new Dimension().withName(&quot;PlacementString&quot;).withValue(form.getPlacementString()),\n      new Dimension().withName(&quot;PlacementPage&quot;).withValue(String.valueOf(form.getPlacementPage())),\n      new Dimension().withName(&quot;Domain&quot;).withValue(form.getDomain()));\n</code></pre>\n<p>and the Metric is</p>\n<pre><code>Collection&lt;MetricDatum&gt; metricData =\n  Collections.singletonList(\n    new MetricDatum()\n      .withDimensions(dimensions)\n      .withMetricName(&quot;XYZ&quot;)\n      .withValue(1D)\n      .withUnit(&quot;Count&quot;));\n</code></pre>\n<p>In the above example, <code>PlacementString</code> could be something like foo or bar and the <code>PlacementPage</code> could be 1000 or any integer.</p>\n<p>So, with every different combination of dimensions, a new metric will be created and published to cloudwatch\nwhat I intend to do is to have a widget in the dashboard on cloudwatch that logs metrics that are published from the app in a dynamic way, I checked the docs, and all that I saw was that we have to pre-define the metrics and the thing is that I don't know what I'm expecting</p>\n<p>so, is there a way to have a wildcard so that if a new metric is published from the app to add it automatically in the widget?</p>\n"},{"tags":["java","dolphindb"],"comments":[{"owner":{"account_id":9023797,"reputation":917,"user_id":6723872,"display_name":"zolastro"},"score":0,"creation_date":1639668021,"post_id":70299410,"comment_id":124412344,"body_markdown":"Hi! Welcome to Stackoverflow! Is a good practice to paste your code instead of putting an image, as it is easier both to read and fiddle around with it! And, if you got time, I would invite you to read this post about &quot;How do I ask a good question?&quot; https://stackoverflow.com/help/how-to-ask.","body":"Hi! Welcome to Stackoverflow! Is a good practice to paste your code instead of putting an image, as it is easier both to read and fiddle around with it! And, if you got time, I would invite you to read this post about &quot;How do I ask a good question?&quot; <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."},{"owner":{"account_id":9023797,"reputation":917,"user_id":6723872,"display_name":"zolastro"},"score":0,"creation_date":1639668057,"post_id":70299410,"comment_id":124412359,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":20439610,"reputation":633,"user_id":14996650,"display_name":"Polly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639485314,"creation_date":1639453325,"answer_id":70343517,"question_id":70299410,"body_markdown":"I have made two corrections to your code:\r\n 1. Assigned the replaced value to &quot;database&quot; because the string method\r\n    does not make in-place changes. Use `database=database.replace()`\r\n 2. Changed the vector to scalar type, namely change `BasicStringVector`\r\n    to `BasicString` in this case.\r\n\r\nThe modified code is as follows:\r\n\r\n    String database = &quot;[dfs://valuedb]&quot;;\r\n    database = database.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n    List&lt;Entity&gt; arguments = new ArrayList&lt;&gt;(1);\r\n    BasicString y = new BasicString(database);\r\n    arguments.add(y);\r\n    BasicStringVector o1 = (BasicStringVector)conn.run(&quot;getDFSTablesByDatabase&quot;,arguments);\r\n    System.out.println(o1.getString());\r\n\r\n","title":"Failed to retrieve the table information with function call via DolphinDB Java API","body":"<p>I have made two corrections to your code:</p>\n<ol>\n<li>Assigned the replaced value to &quot;database&quot; because the string method\ndoes not make in-place changes. Use <code>database=database.replace()</code></li>\n<li>Changed the vector to scalar type, namely change <code>BasicStringVector</code>\nto <code>BasicString</code> in this case.</li>\n</ol>\n<p>The modified code is as follows:</p>\n<pre><code>String database = &quot;[dfs://valuedb]&quot;;\ndatabase = database.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\nList&lt;Entity&gt; arguments = new ArrayList&lt;&gt;(1);\nBasicString y = new BasicString(database);\narguments.add(y);\nBasicStringVector o1 = (BasicStringVector)conn.run(&quot;getDFSTablesByDatabase&quot;,arguments);\nSystem.out.println(o1.getString());\n</code></pre>\n"}],"owner":{"account_id":23605583,"reputation":157,"user_id":17641382,"display_name":"FFF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639485314,"creation_date":1639106887,"question_id":70299410,"body_markdown":"I&#39;m trying to call getDFSTablesByDatabase through java API in DolphinDB to obtain the table information.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I ran the code it failed to obtain the expected information. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nDoes anyone know what&#39;s wrong with my code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C5yVT.png\r\n  [2]: https://i.stack.imgur.com/bWMfu.png","title":"Failed to retrieve the table information with function call via DolphinDB Java API","body":"<p>I'm trying to call getDFSTablesByDatabase through java API in DolphinDB to obtain the table information.</p>\n<p><a href=\"https://i.stack.imgur.com/C5yVT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5yVT.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I ran the code it failed to obtain the expected information.</p>\n<p><a href=\"https://i.stack.imgur.com/bWMfu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWMfu.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know what's wrong with my code?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1282416,"reputation":12126,"user_id":1236217,"accept_rate":100,"display_name":"Namphibian"},"score":1,"creation_date":1638840091,"post_id":70234321,"comment_id":124189713,"body_markdown":"The id variable only exists in the process you never set it to the exchange again. Either set it as a property or header and then use it.","body":"The id variable only exists in the process you never set it to the exchange again. Either set it as a property or header and then use it."}],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638716258,"creation_date":1638716258,"answer_id":70235526,"question_id":70234321,"body_markdown":"Use **dynamic** to , aka &quot;toD&quot;:\r\n\r\n    .toD(&quot;rest:get:&quot; + endpoint + &quot;/${body}&quot;)","title":"Pass body value to another processing step","body":"<p>Use <strong>dynamic</strong> to , aka &quot;toD&quot;:</p>\n<pre><code>.toD(&quot;rest:get:&quot; + endpoint + &quot;/${body}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19383629,"reputation":118,"user_id":14174293,"display_name":"jwwallin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639485164,"creation_date":1639485164,"answer_id":70348938,"question_id":70234321,"body_markdown":"To explain why the id is null more simply: the value of that class variable is only read at the time of route instantiation.\r\n\r\nThe reason for it only being read once is that the endpoint URI is constructed once during route building and every execution uses it after the route has been built and started.\r\n\r\nTo get the result you want you need to use a dynamic to, like @TachaDeChoco said.\r\n\r\nIn dynamic to you can use simple-syntax to construct the final URI during route execution.","title":"Pass body value to another processing step","body":"<p>To explain why the id is null more simply: the value of that class variable is only read at the time of route instantiation.</p>\n<p>The reason for it only being read once is that the endpoint URI is constructed once during route building and every execution uses it after the route has been built and started.</p>\n<p>To get the result you want you need to use a dynamic to, like @TachaDeChoco said.</p>\n<p>In dynamic to you can use simple-syntax to construct the final URI during route execution.</p>\n"}],"owner":{"account_id":23552027,"reputation":11,"user_id":17594589,"display_name":"PowerfullDeveloper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1639485164,"creation_date":1638707561,"question_id":70234321,"body_markdown":"My problem is, I have to pass exchange body value (which is set in previous route) into `.to(&quot;rest:get ...&quot;)` step. I&#39;m trying something like in the code below, but class variable `id` is equal to `null` in the important step, even though I&#39;m setting its value in a custom processor one step before. I&#39;ve also tried using `simple()` function, which can evaluate into exchange body, but the problem is I don&#39;t have access to exchange in `.to(&quot;rest:get ...&quot;)` method, I can only access it inside processor.\r\n\r\nHow can I pass exchange body value into `.to(&quot;rest:get ...&quot;)` step? \r\n\r\n```java\r\npublic class SomeRoute extends RouteBuilder {\r\n\r\n    @ConfigProperty(name = &quot;rest.external.host&quot;)\r\n    String host;\r\n\r\n    @ConfigProperty(name = &quot;rest.external.endpoint&quot;)\r\n    String endpoint;\r\n\r\n    String id;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        restConfiguration().host(host);\r\n\r\n        from(&quot;direct:routeEntry&quot;)\r\n                .log(LoggingLevel.INFO, log, body().toString())\r\n                .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\r\n                .removeHeader(Exchange.HTTP_PATH)\r\n                .removeHeaders(&quot;Camel*&quot;)\r\n                .process(exchange -&gt; {\r\n                    id = exchange.getIn().getBody().toString();\r\n                })\r\n                .to(&quot;rest:get:&quot; + endpoint + &quot;/&quot; + id)\r\n                .convertBodyTo(String.class);\r\n       }\r\n    }\r\n```","title":"Pass body value to another processing step","body":"<p>My problem is, I have to pass exchange body value (which is set in previous route) into <code>.to(&quot;rest:get ...&quot;)</code> step. I'm trying something like in the code below, but class variable <code>id</code> is equal to <code>null</code> in the important step, even though I'm setting its value in a custom processor one step before. I've also tried using <code>simple()</code> function, which can evaluate into exchange body, but the problem is I don't have access to exchange in <code>.to(&quot;rest:get ...&quot;)</code> method, I can only access it inside processor.</p>\n<p>How can I pass exchange body value into <code>.to(&quot;rest:get ...&quot;)</code> step?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeRoute extends RouteBuilder {\n\n    @ConfigProperty(name = &quot;rest.external.host&quot;)\n    String host;\n\n    @ConfigProperty(name = &quot;rest.external.endpoint&quot;)\n    String endpoint;\n\n    String id;\n\n    @Override\n    public void configure() throws Exception {\n        restConfiguration().host(host);\n\n        from(&quot;direct:routeEntry&quot;)\n                .log(LoggingLevel.INFO, log, body().toString())\n                .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\n                .removeHeader(Exchange.HTTP_PATH)\n                .removeHeaders(&quot;Camel*&quot;)\n                .process(exchange -&gt; {\n                    id = exchange.getIn().getBody().toString();\n                })\n                .to(&quot;rest:get:&quot; + endpoint + &quot;/&quot; + id)\n                .convertBodyTo(String.class);\n       }\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639308039,"creation_date":1639308039,"answer_id":70323087,"question_id":70322398,"body_markdown":"Usually there are two main directions for resolving such types of tasks:\r\n\r\n 1. Fake objects\r\n 2. Mocking\r\n\r\n**Fake objects** approach is plain implementation of your repo without any third-party libs for lightweight/simple cases:\r\n```java\r\npublic class FakeRepo implements Repo&lt;T&gt; {\r\n   private final Collection&lt;T&gt; all;\r\n\r\n   public FakeRepo(){\r\n      this(Collections.emptySet());\r\n   }\r\n\r\n   public FakeRepo(Collection&lt;T&gt; all){\r\n       this.all = all;\r\n   }\r\n\r\n   @Override\r\n   public Collection&lt;T&gt; findAll(){\r\n       return this.all;\r\n   }\r\n}\r\n```\r\nand in your test  may looks like\r\n```java\r\n@Test\r\npublic void justdoit(){\r\n   MyService service = new MyService(\r\n       new FakeRepo(Arrays.asList(1,2))\r\n   );\r\n   // test the service &amp; methods\r\n}\r\n```\r\n\r\n**Mocking** allows you to make much more complex solutions.\r\nPlease make attention on methods `Mockito.mock(ArrayList.class)` and `Mockito.spy(new ArrayList&lt;String&gt;())`. You need to assemble your complex objects using Mockito engine like\r\nhttps://www.baeldung.com/mockito-annotations\r\n```java\r\n@Test\r\npublic void whenNotUseMockAnnotation_thenCorrect() {\r\n    List mockList = Mockito.mock(ArrayList.class);\r\n    \r\n    mockList.add(&quot;one&quot;);\r\n    Mockito.verify(mockList).add(&quot;one&quot;);\r\n    assertEquals(0, mockList.size());\r\n\r\n    Mockito.when(mockList.size()).thenReturn(100);\r\n    assertEquals(100, mockList.size());\r\n}\r\n```\r\nor \r\n```java\r\n@Test\r\npublic void whenNotUseSpyAnnotation_thenCorrect() {\r\n    List&lt;String&gt; spyList = Mockito.spy(new ArrayList&lt;String&gt;());\r\n    \r\n    spyList.add(&quot;one&quot;);\r\n    spyList.add(&quot;two&quot;);\r\n\r\n    Mockito.verify(spyList).add(&quot;one&quot;);\r\n    Mockito.verify(spyList).add(&quot;two&quot;);\r\n\r\n    assertEquals(2, spyList.size());\r\n\r\n    Mockito.doReturn(100).when(spyList).size();\r\n    assertEquals(100, spyList.size());\r\n}\r\n```","title":"How to deal with Page while unit testing with mockito and Junit","body":"<p>Usually there are two main directions for resolving such types of tasks:</p>\n<ol>\n<li>Fake objects</li>\n<li>Mocking</li>\n</ol>\n<p><strong>Fake objects</strong> approach is plain implementation of your repo without any third-party libs for lightweight/simple cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FakeRepo implements Repo&lt;T&gt; {\n   private final Collection&lt;T&gt; all;\n\n   public FakeRepo(){\n      this(Collections.emptySet());\n   }\n\n   public FakeRepo(Collection&lt;T&gt; all){\n       this.all = all;\n   }\n\n   @Override\n   public Collection&lt;T&gt; findAll(){\n       return this.all;\n   }\n}\n</code></pre>\n<p>and in your test  may looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void justdoit(){\n   MyService service = new MyService(\n       new FakeRepo(Arrays.asList(1,2))\n   );\n   // test the service &amp; methods\n}\n</code></pre>\n<p><strong>Mocking</strong> allows you to make much more complex solutions.\nPlease make attention on methods <code>Mockito.mock(ArrayList.class)</code> and <code>Mockito.spy(new ArrayList&lt;String&gt;())</code>. You need to assemble your complex objects using Mockito engine like\n<a href=\"https://www.baeldung.com/mockito-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-annotations</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void whenNotUseMockAnnotation_thenCorrect() {\n    List mockList = Mockito.mock(ArrayList.class);\n    \n    mockList.add(&quot;one&quot;);\n    Mockito.verify(mockList).add(&quot;one&quot;);\n    assertEquals(0, mockList.size());\n\n    Mockito.when(mockList.size()).thenReturn(100);\n    assertEquals(100, mockList.size());\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void whenNotUseSpyAnnotation_thenCorrect() {\n    List&lt;String&gt; spyList = Mockito.spy(new ArrayList&lt;String&gt;());\n    \n    spyList.add(&quot;one&quot;);\n    spyList.add(&quot;two&quot;);\n\n    Mockito.verify(spyList).add(&quot;one&quot;);\n    Mockito.verify(spyList).add(&quot;two&quot;);\n\n    assertEquals(2, spyList.size());\n\n    Mockito.doReturn(100).when(spyList).size();\n    assertEquals(100, spyList.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5543,"reputation":25609,"user_id":8976,"accept_rate":100,"display_name":"EricSchaefer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639310664,"creation_date":1639310664,"answer_id":70323368,"question_id":70322398,"body_markdown":"Just create what you want to be returned and pass it to `thenReturn()`.\r\n\r\nIn your case it could look like this:\r\n\r\n```lang-java\r\n// I making this up, because you did not state what &#39;Page&#39; actually is\r\nvar result = new Page();\r\nresult.add(new SampleDto(1));\r\nresult.add(new SampleDto(2));\r\nwhen(myRepo.findAllSample()).thenReturn(result);\r\n```\r\n\r\nYou might not be able to do this, depending on the actual implementation of `Page`, for instance if this is a JPA `Page`. In this case you should not really return `Page` into your Service anyway, but wrap the JPA repository into a adapter repository that returns a `List&lt;SampleDto&gt;` or `Set&lt;SampleDto&gt;` instead. Otherwise your Service, which belongs to the Domain, would depend on an implementation detail of infrastructure code like JPA, which is rarely a good idea.","title":"How to deal with Page while unit testing with mockito and Junit","body":"<p>Just create what you want to be returned and pass it to <code>thenReturn()</code>.</p>\n<p>In your case it could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I making this up, because you did not state what 'Page' actually is\nvar result = new Page();\nresult.add(new SampleDto(1));\nresult.add(new SampleDto(2));\nwhen(myRepo.findAllSample()).thenReturn(result);\n</code></pre>\n<p>You might not be able to do this, depending on the actual implementation of <code>Page</code>, for instance if this is a JPA <code>Page</code>. In this case you should not really return <code>Page</code> into your Service anyway, but wrap the JPA repository into a adapter repository that returns a <code>List&lt;SampleDto&gt;</code> or <code>Set&lt;SampleDto&gt;</code> instead. Otherwise your Service, which belongs to the Domain, would depend on an implementation detail of infrastructure code like JPA, which is rarely a good idea.</p>\n"},{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1639315216,"creation_date":1639315216,"answer_id":70323931,"question_id":70322398,"body_markdown":"You can mock the `Page` object also if there is a aneed to handle some other functionality inside your service class. Assuming that your service class is actually something like:\r\n\r\n    public class MyService {\r\n        @Resource\r\n        private SampleRepository repo;\r\n\r\n        public Page&lt;SampleDto&gt; findAllSample() {\r\n            var sampleData = repo.findAllSample();\r\n            // perhaps some operations with sample data and page\r\n            return sampleData;\r\n        }\r\n    }\r\nthen the test class could be something like (JUnit4):\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class MySampleTest {\r\n        @Mock\r\n        private SampleRepository repo;\r\n        @Mock\r\n        private Page&lt;SampleDto&gt; page;\r\n        @InjectMocks\r\n        private MyService myService;\r\n    \r\n        @Test\r\n        public void test() {\r\n    \tdoReturn(page).when(repo).findAll();\r\n    \tvar listSampleDtos = List.of(new SampleDto()); // populate with what you need\r\n    \tdoReturn(listSampleDtos).when(page).getContent();\r\n    \tvar page = myService.findAllSample();\r\n    \t// ... do the asserts, just as an example:\r\n    \tverify(repo).findAll(); // called\r\n    \tassertEquals(1, page.getContent().size());\r\n        }","title":"How to deal with Page while unit testing with mockito and Junit","body":"<p>You can mock the <code>Page</code> object also if there is a aneed to handle some other functionality inside your service class. Assuming that your service class is actually something like:</p>\n<pre><code>public class MyService {\n    @Resource\n    private SampleRepository repo;\n\n    public Page&lt;SampleDto&gt; findAllSample() {\n        var sampleData = repo.findAllSample();\n        // perhaps some operations with sample data and page\n        return sampleData;\n    }\n}\n</code></pre>\n<p>then the test class could be something like (JUnit4):</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MySampleTest {\n    @Mock\n    private SampleRepository repo;\n    @Mock\n    private Page&lt;SampleDto&gt; page;\n    @InjectMocks\n    private MyService myService;\n\n    @Test\n    public void test() {\n    doReturn(page).when(repo).findAll();\n    var listSampleDtos = List.of(new SampleDto()); // populate with what you need\n    doReturn(listSampleDtos).when(page).getContent();\n    var page = myService.findAllSample();\n    // ... do the asserts, just as an example:\n    verify(repo).findAll(); // called\n    assertEquals(1, page.getContent().size());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22904348,"reputation":44,"user_id":17042627,"display_name":"Ravan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639484944,"creation_date":1639484944,"answer_id":70348902,"question_id":70322398,"body_markdown":"You can mock the page and make sample object. May be this is the exact answer you are searching.\r\n\r\nMySampleTest\r\n\r\n    public class MySampleTest {\r\n\r\n    @Test\r\n    void myTest() {\r\n\r\n        // initialisation and all stuff\r\n\r\n        List&lt;SampleDto&gt; sampleDtos = new ArrayList&lt;&gt;();\r\n\r\n        //now add any number of sample dto\r\n        dtos.add(new SampleDto());\r\n\r\n        //mock page class here\r\n        Page page = mock(Page.class);\r\n\r\n        //stub page.getContent\r\n         when(page.getContent()).thenReturn(Collections.singletonList(sampleDtos));\r\n\r\n        // No need to do this  when(myRepo.findAll()).thenReturn()\r\n      \r\n    }\r\n}\r\n\r\n","title":"How to deal with Page while unit testing with mockito and Junit","body":"<p>You can mock the page and make sample object. May be this is the exact answer you are searching.</p>\n<p>MySampleTest</p>\n<pre><code>public class MySampleTest {\n\n@Test\nvoid myTest() {\n\n    // initialisation and all stuff\n\n    List&lt;SampleDto&gt; sampleDtos = new ArrayList&lt;&gt;();\n\n    //now add any number of sample dto\n    dtos.add(new SampleDto());\n\n    //mock page class here\n    Page page = mock(Page.class);\n\n    //stub page.getContent\n     when(page.getContent()).thenReturn(Collections.singletonList(sampleDtos));\n\n    // No need to do this  when(myRepo.findAll()).thenReturn()\n  \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21621986,"reputation":110,"user_id":15946869,"display_name":"Sujit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70323931,"answer_count":4,"score":1,"last_activity_date":1639484944,"creation_date":1639301917,"question_id":70322398,"body_markdown":"I want to mock database call with fake data but I got stuck in the following scenario:\r\n\r\nMyService\r\n\r\n```lang-java\r\npublic class MyService {\r\n    // some stuff\r\n\r\n    Page&lt;SampleDto&gt; sample = repo.findAllSample();\r\n\r\n    // other stuff\r\n}\r\n```\r\n\r\nI want to stub this with `when()` but I am not able to do this. My test is:\r\nMyServiceTest\r\n\r\n```lang-java\r\npublic class MySampleTest {\r\n\r\n    @Test\r\n    void myTest() {\r\n        // initialisation and all stuff\r\n\r\n        when(myRepo.findAll()).thenReturn(......)\r\n        // I want to pass 2 fake SampleDto from \r\n        // here but don&#39;t know how to do that\r\n    }\r\n}\r\n```","title":"How to deal with Page while unit testing with mockito and Junit","body":"<p>I want to mock database call with fake data but I got stuck in the following scenario:</p>\n<p>MyService</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n    // some stuff\n\n    Page&lt;SampleDto&gt; sample = repo.findAllSample();\n\n    // other stuff\n}\n</code></pre>\n<p>I want to stub this with <code>when()</code> but I am not able to do this. My test is:\nMyServiceTest</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySampleTest {\n\n    @Test\n    void myTest() {\n        // initialisation and all stuff\n\n        when(myRepo.findAll()).thenReturn(......)\n        // I want to pass 2 fake SampleDto from \n        // here but don't know how to do that\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string","loops"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1639478645,"post_id":70347389,"comment_id":124353172,"body_markdown":"You can convert the char to string `String.contains(Character.toString(c))`","body":"You can convert the char to string <code>String.contains(Character.toString(c))</code>"}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639480318,"creation_date":1639479200,"answer_id":70347678,"question_id":70347389,"body_markdown":"Here&#39;s a sample solution:\r\n\r\n    public class Main{\r\n    \r\n       public static void main(String[] args){\r\n          String stringText = &quot;Hello my dear friend&quot;;\r\n          char [] charLetterArray = {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;o&#39;, &#39;m&#39;};\r\n          System.out.println(howManyWordsCalc(stringText, charLetterArray));\r\n       }\r\n    \r\n       // Only words from stringText that can be typed in whole should be printed.\r\n       // If the letters present in the word aren&#39;t present in charLetterArray they don&#39;t get printed\r\n       public static int howManyWordsCalc(String text, char[] letters){\r\n          int wordCount = 0;\r\n          // sanitise input\r\n          if (text.isEmpty()){\r\n             return 0;\r\n          }\r\n          else{\r\n             text = text.toLowerCase();\r\n             String[] stringSeparated = text.split(&quot; &quot;);\r\n    \r\n             for (int i = 0; i &lt; stringSeparated.length; i++){\r\n                int validLetters = 0;\r\n                for(int j = 0; j &lt; stringSeparated[i].length(); j++){\r\n                  for(char c: letters){\r\n                    if(c == stringSeparated[i].charAt(j)){\r\n                      validLetters++;\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n                if(validLetters == stringSeparated[i].length()){\r\n                  wordCount++;\r\n                }\r\n             }\r\n             return wordCount;\r\n          }\r\n       }\r\n    \r\n    }\r\n\r\nThe way that this code works is exactly the same as yours, except the algorithm for checking whether or not a word can be made up of available letters. \r\n\r\nThe algorithm that I first iterate through every word in the array. Then, I create an integer called validLetters, where we will check how many letters in the word we can type. If the number of validLetters is equal to the length of the word, then the word can be typed. \r\n\r\nTo check whether a letter can be typed, we will loop through every letter in the word, and see if it is inside of the array letters. If it is, we increase our validLetters and exit the loop.\r\n\r\nAlternatively, if you want to strictly do this in two for loops, this is a shortened version:\r\n\r\n    import java.util.*;\r\n    public class Main{\r\n    \r\n       public static void main(String[] args){\r\n          String stringText = &quot;Hello my dear friend&quot;;\r\n          char [] charLetterArray = {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;o&#39;, &#39;m&#39;};\r\n          System.out.println(howManyWordsCalc(stringText, charLetterArray));\r\n       }\r\n    \r\n       // Only words from stringText that can be typed in whole should be printed.\r\n       // If the letters present in the word aren&#39;t present in charLetterArray they don&#39;t get printed\r\n       public static int howManyWordsCalc(String text, char[] letters){\r\n          int wordCount = 0;\r\n          // sanitise input\r\n          if (text.isEmpty()){\r\n             return 0;\r\n          }\r\n          else{\r\n             text = text.toLowerCase();\r\n             String[] stringSeparated = text.split(&quot; &quot;);\r\n    \r\n             for (int i = 0; i &lt; stringSeparated.length; i++){\r\n                int validLetters = 0;\r\n                for(int j = 0; j &lt; stringSeparated[i].length(); j++){\r\n                  if (new String(letters).indexOf(stringSeparated[i].charAt(j)) != -1) {\r\n                     validLetters++;\r\n                  }\r\n                }\r\n                if(validLetters == stringSeparated[i].length()){\r\n                  wordCount++;\r\n                }\r\n             }\r\n             return wordCount;\r\n          }\r\n       }\r\n    \r\n    }\r\n\r\nLet me know if you have any questions/clarifications!\r\n","title":"Checking a String (sentence space separated) to see if it contains any of the chars in an array","body":"<p>Here's a sample solution:</p>\n<pre><code>public class Main{\n\n   public static void main(String[] args){\n      String stringText = &quot;Hello my dear friend&quot;;\n      char [] charLetterArray = {'h', 'e', 'l', 'o', 'm'};\n      System.out.println(howManyWordsCalc(stringText, charLetterArray));\n   }\n\n   // Only words from stringText that can be typed in whole should be printed.\n   // If the letters present in the word aren't present in charLetterArray they don't get printed\n   public static int howManyWordsCalc(String text, char[] letters){\n      int wordCount = 0;\n      // sanitise input\n      if (text.isEmpty()){\n         return 0;\n      }\n      else{\n         text = text.toLowerCase();\n         String[] stringSeparated = text.split(&quot; &quot;);\n\n         for (int i = 0; i &lt; stringSeparated.length; i++){\n            int validLetters = 0;\n            for(int j = 0; j &lt; stringSeparated[i].length(); j++){\n              for(char c: letters){\n                if(c == stringSeparated[i].charAt(j)){\n                  validLetters++;\n                  break;\n                }\n              }\n            }\n            if(validLetters == stringSeparated[i].length()){\n              wordCount++;\n            }\n         }\n         return wordCount;\n      }\n   }\n\n}\n</code></pre>\n<p>The way that this code works is exactly the same as yours, except the algorithm for checking whether or not a word can be made up of available letters.</p>\n<p>The algorithm that I first iterate through every word in the array. Then, I create an integer called validLetters, where we will check how many letters in the word we can type. If the number of validLetters is equal to the length of the word, then the word can be typed.</p>\n<p>To check whether a letter can be typed, we will loop through every letter in the word, and see if it is inside of the array letters. If it is, we increase our validLetters and exit the loop.</p>\n<p>Alternatively, if you want to strictly do this in two for loops, this is a shortened version:</p>\n<pre><code>import java.util.*;\npublic class Main{\n\n   public static void main(String[] args){\n      String stringText = &quot;Hello my dear friend&quot;;\n      char [] charLetterArray = {'h', 'e', 'l', 'o', 'm'};\n      System.out.println(howManyWordsCalc(stringText, charLetterArray));\n   }\n\n   // Only words from stringText that can be typed in whole should be printed.\n   // If the letters present in the word aren't present in charLetterArray they don't get printed\n   public static int howManyWordsCalc(String text, char[] letters){\n      int wordCount = 0;\n      // sanitise input\n      if (text.isEmpty()){\n         return 0;\n      }\n      else{\n         text = text.toLowerCase();\n         String[] stringSeparated = text.split(&quot; &quot;);\n\n         for (int i = 0; i &lt; stringSeparated.length; i++){\n            int validLetters = 0;\n            for(int j = 0; j &lt; stringSeparated[i].length(); j++){\n              if (new String(letters).indexOf(stringSeparated[i].charAt(j)) != -1) {\n                 validLetters++;\n              }\n            }\n            if(validLetters == stringSeparated[i].length()){\n              wordCount++;\n            }\n         }\n         return wordCount;\n      }\n   }\n\n}\n</code></pre>\n<p>Let me know if you have any questions/clarifications!</p>\n"},{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639480046,"creation_date":1639480046,"answer_id":70347866,"question_id":70347389,"body_markdown":"I changed it a little bit, have a look: \r\n\r\n    public static void wordCalc(String input, char[] chars) {\r\n        String[] inputWords = input.toLowerCase().split(&quot; &quot;);\r\n\r\n        boolean[] allLetters = new boolean[26];\r\n        for(int i=0; i&lt;chars.length; i++) {\r\n            allLetters[chars[i] - &#39;a&#39;] = true;\r\n        }\r\n\r\n        int wordCount = 0;\r\n        for(String word : inputWords) {\r\n            boolean isWordPossible = true;\r\n            for(int i=0; i&lt;word.length(); i++){\r\n                if(!allLetters[word.charAt(i) - &#39;a&#39;]){\r\n                    isWordPossible = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if(isWordPossible) {\r\n                System.out.println(&quot;word &quot; + word + &quot; is possible&quot;);\r\n                wordCount++;\r\n            }\r\n        }\r\n\r\n        System.out.println(wordCount);\r\n    }\r\n\r\nI found this really neat trick on the internets once. Storing the allowed letters in a boolean array. That way, when you want to check if a `char` is allowed, you can just check the value of the array at index corresponding to that char! \r\n\r\nThis does bring me to an important note however. Chars are stored as ints, which is why you can cast them back and forth and do funky stuff like `word.charAt(i) - &#39;a&#39;` (that will give you the position in the boolean array because it will give you the distance between the letter &quot;a&quot; and whatever letter is at position &quot;i&quot; in the word&quot;). \r\n\r\nStrings are ultimately char arrays. So you can do: \r\n\r\n    char[] stuff = someString.toCharArray();\r\n\r\nIts also pretty important to note that strings are immutable, and string literals point to the same object. \r\n\r\nFinal note on time complexity, its best to avoid nesting loops as much as possible. If you have loads of input, it will become really slow! If you have one loop, it&#39;s O(n) time, 2 loops its already O(n^2), which is quite slow as far as time complexity goes. I can&#39;t think of a different way for this case however. The structures you use and method of access can hugely impact performance. I think you&#39;ll really like [HashSets], especially for this problem where allowed characters are unique anyway. \r\n\r\n[HashSets]:https://www.javatpoint.com/java-hashset","title":"Checking a String (sentence space separated) to see if it contains any of the chars in an array","body":"<p>I changed it a little bit, have a look:</p>\n<pre><code>public static void wordCalc(String input, char[] chars) {\n    String[] inputWords = input.toLowerCase().split(&quot; &quot;);\n\n    boolean[] allLetters = new boolean[26];\n    for(int i=0; i&lt;chars.length; i++) {\n        allLetters[chars[i] - 'a'] = true;\n    }\n\n    int wordCount = 0;\n    for(String word : inputWords) {\n        boolean isWordPossible = true;\n        for(int i=0; i&lt;word.length(); i++){\n            if(!allLetters[word.charAt(i) - 'a']){\n                isWordPossible = false;\n                break;\n            }\n        }\n\n        if(isWordPossible) {\n            System.out.println(&quot;word &quot; + word + &quot; is possible&quot;);\n            wordCount++;\n        }\n    }\n\n    System.out.println(wordCount);\n}\n</code></pre>\n<p>I found this really neat trick on the internets once. Storing the allowed letters in a boolean array. That way, when you want to check if a <code>char</code> is allowed, you can just check the value of the array at index corresponding to that char!</p>\n<p>This does bring me to an important note however. Chars are stored as ints, which is why you can cast them back and forth and do funky stuff like <code>word.charAt(i) - 'a'</code> (that will give you the position in the boolean array because it will give you the distance between the letter &quot;a&quot; and whatever letter is at position &quot;i&quot; in the word&quot;).</p>\n<p>Strings are ultimately char arrays. So you can do:</p>\n<pre><code>char[] stuff = someString.toCharArray();\n</code></pre>\n<p>Its also pretty important to note that strings are immutable, and string literals point to the same object.</p>\n<p>Final note on time complexity, its best to avoid nesting loops as much as possible. If you have loads of input, it will become really slow! If you have one loop, it's O(n) time, 2 loops its already O(n^2), which is quite slow as far as time complexity goes. I can't think of a different way for this case however. The structures you use and method of access can hugely impact performance. I think you'll really like <a href=\"https://www.javatpoint.com/java-hashset\" rel=\"nofollow noreferrer\">HashSets</a>, especially for this problem where allowed characters are unique anyway.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639482167,"creation_date":1639482167,"answer_id":70348289,"question_id":70347389,"body_markdown":"You could just check if _all_ the characters in the word are contained in `letters` character array by using another loop (which actually has the same complexity as `String::contains`).\r\n\r\nAlso, I&#39;d suggest to get the words by splitting on repeated punctuation and/or whitespace characters using `[\\p{Z}\\p{P}]+` regex where `\\p{Z}` stands for whitespaces and `\\p{P}` for punctuation.\r\n\r\n```java\r\npublic static int howManyWordsCalc(String text, char[] letters) {\r\n    int wordCount = 0;\r\n    \r\n    String[] words = text.toLowerCase().split(&quot;[\\\\p{P}\\\\p{Z}]+&quot;);\r\n    \r\n    for (String word : words) {\r\n        // System.out.print(&quot;&#39;&quot; + word + &quot;&#39;\\t&quot;);\r\n        boolean allFound = true;\r\n        for (char c : word.toCharArray()) {\r\n            boolean found = false;\r\n            for (char letter : letters) {\r\n                if (c == letter) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                // System.out.println(&quot;not found letter: &quot; + c + &quot; in word &quot; + word);\r\n                allFound = false;\r\n                break;\r\n            }\r\n        }\r\n        if (allFound) {\r\n            wordCount++;\r\n            // System.out.println(&quot;all found&quot;);\r\n        }\r\n    }\r\n    return wordCount;\r\n}    \r\n```\r\nTest:\r\n```java\r\nSystem.out.println(howManyWordsCalc(\r\n    &quot;Hello, my dear friend!&quot;, new char[] {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;o&#39;, &#39;m&#39;, &#39;y&#39;}\r\n));\r\n```\r\nOutput (with debug prints enabled):\r\n```\r\n&#39;hello&#39;\tall found\r\n&#39;my&#39;\tall found\r\n&#39;dear&#39;\tnot found letter: d in word dear\r\n&#39;friend&#39;\tnot found letter: f in word friend\r\n2\r\n```","title":"Checking a String (sentence space separated) to see if it contains any of the chars in an array","body":"<p>You could just check if <em>all</em> the characters in the word are contained in <code>letters</code> character array by using another loop (which actually has the same complexity as <code>String::contains</code>).</p>\n<p>Also, I'd suggest to get the words by splitting on repeated punctuation and/or whitespace characters using <code>[\\p{Z}\\p{P}]+</code> regex where <code>\\p{Z}</code> stands for whitespaces and <code>\\p{P}</code> for punctuation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int howManyWordsCalc(String text, char[] letters) {\n    int wordCount = 0;\n    \n    String[] words = text.toLowerCase().split(&quot;[\\\\p{P}\\\\p{Z}]+&quot;);\n    \n    for (String word : words) {\n        // System.out.print(&quot;'&quot; + word + &quot;'\\t&quot;);\n        boolean allFound = true;\n        for (char c : word.toCharArray()) {\n            boolean found = false;\n            for (char letter : letters) {\n                if (c == letter) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                // System.out.println(&quot;not found letter: &quot; + c + &quot; in word &quot; + word);\n                allFound = false;\n                break;\n            }\n        }\n        if (allFound) {\n            wordCount++;\n            // System.out.println(&quot;all found&quot;);\n        }\n    }\n    return wordCount;\n}    \n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(howManyWordsCalc(\n    &quot;Hello, my dear friend!&quot;, new char[] {'h', 'e', 'l', 'o', 'm', 'y'}\n));\n</code></pre>\n<p>Output (with debug prints enabled):</p>\n<pre><code>'hello' all found\n'my'    all found\n'dear'  not found letter: d in word dear\n'friend'    not found letter: f in word friend\n2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597609,"reputation":914,"user_id":5096847,"display_name":"Sanket Parchande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639484758,"creation_date":1639484758,"answer_id":70348860,"question_id":70347389,"body_markdown":"I have tried same in c#, but you also can use the HashSet&lt;Char&gt; collection and try the same. Java HashSet also has Contains().\r\n\r\nI hope this will be helpful.\r\n\r\n\r\n    class Program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            string a = &quot;Hello, my dear friend!&quot;;\r\n            string A = a.ToUpper();\r\n            string[] seperate = A.Split(new Char[] { &#39; &#39;, &#39;,&#39;, &#39;.&#39;, &#39;-&#39;, &#39;\\n&#39;, &#39;\\t&#39;, &#39;!&#39; });\r\n            HashSet&lt;Char&gt; hash = new HashSet&lt;char&gt;();\r\n            hash.Add(&#39;H&#39;);\r\n            hash.Add(&#39;E&#39;);\r\n            hash.Add(&#39;L&#39;);\r\n            hash.Add(&#39;O&#39;);\r\n            hash.Add(&#39;M&#39;);\r\n            int count = 0;\r\n            bool flag = true;\r\n            foreach (var w in seperate)\r\n            {\r\n                if (w.Length &gt; 0) { \r\n                    Char[] ca = w.ToCharArray();\r\n                    foreach (var d in ca)\r\n                    {\r\n                        if(!hash.Contains(d))\r\n                        {\r\n                            flag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(flag)\r\n                    {\r\n                        flag = true;\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            Console.WriteLine(&quot;Count : &quot; + count);\r\n            Console.Read();\r\n        }\r\n    }\r\n\r\n","title":"Checking a String (sentence space separated) to see if it contains any of the chars in an array","body":"<p>I have tried same in c#, but you also can use the HashSet collection and try the same. Java HashSet also has Contains().</p>\n<p>I hope this will be helpful.</p>\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        string a = &quot;Hello, my dear friend!&quot;;\n        string A = a.ToUpper();\n        string[] seperate = A.Split(new Char[] { ' ', ',', '.', '-', '\\n', '\\t', '!' });\n        HashSet&lt;Char&gt; hash = new HashSet&lt;char&gt;();\n        hash.Add('H');\n        hash.Add('E');\n        hash.Add('L');\n        hash.Add('O');\n        hash.Add('M');\n        int count = 0;\n        bool flag = true;\n        foreach (var w in seperate)\n        {\n            if (w.Length &gt; 0) { \n                Char[] ca = w.ToCharArray();\n                foreach (var d in ca)\n                {\n                    if(!hash.Contains(d))\n                    {\n                        flag = false;\n                        break;\n                    }\n                }\n                if(flag)\n                {\n                    flag = true;\n                    count++;\n                }\n            }\n        }\n        Console.WriteLine(&quot;Count : &quot; + count);\n        Console.Read();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70347678,"answer_count":4,"score":1,"last_activity_date":1639484758,"creation_date":1639477945,"question_id":70347389,"body_markdown":"I&#39;ve been trying to see if there is a way of solving this problem with a double loop. Looping over each word in the array and checking to see if all of the chars provided exist in that word.\r\n\r\n**Broken keyboard Problem:**\r\n\r\nInput A = &quot;Hello, my dear friend!&quot;\r\n\r\nInput B = [&#39;h&#39;, &#39;e&#39;, &#39;l, &#39;o&#39;, &#39;m&#39;]\r\n\r\n\r\nWe have a broken keyboard here in which only the alphabet keys (both lower case and upper case) in list B, number keys and punctuation keys work. \r\n\r\nWrite the function which take a string A and list of char B, and return how many words we can type.\r\n\r\nExplanation\r\ninput: A &quot;Hello, my dear friend!&quot;, B = [&#39;h&#39;, &#39;e&#39;, &#39;l, &#39;o&#39;, &#39;m&#39;] output: 1 \r\n\r\nExplanation: For the first word &quot;Hello,&quot; (including the comma), we can find every char in list B. \r\nSince all punctation key works fine, so output++. \r\n\r\nFor the second word &quot;my&quot;, we only can find char &#39;m&#39; in list B, so we can&#39;t type the whole word. Then the same, &quot;dear&quot;, can&#39;t find char &#39;d&#39;, so continue; &quot;friend!&quot;, can&#39;t find char &#39;f&#39;, so continue;\r\n\r\nThis is what I have tried so far, but I can&#39;t use String&#39;s .contain() method as it only accepts a char sequence not a char array. How can I check each individual word for an array of chars using JAVA?\r\n\r\nThanks in advance, any support is appreciated.  \r\n\r\n        public class BrokenKeyboard\r\n    {\r\n    \r\n       public static void main(String[] args)\r\n       {\r\n          String stringText = &quot;Hello my dear friend&quot;;\r\n          char [] charLetterArray = {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;o&#39;, &#39;m&#39;};\r\n    \r\n          howManyWordsCalc(stringText, charLetterArray);\r\n       }\r\n    \r\n       // Only words from stringText that can be typed in whole should be printed.\r\n       // If the letters present in the word aren&#39;t present in charLetterArray they don&#39;t get printed\r\n       public static int howManyWordsCalc(String text, char[] letters)\r\n       {\r\n          int wordCount = 0;\r\n          // sanitise input\r\n          if (text.isEmpty())\r\n          {\r\n             return 0;\r\n          }\r\n          else\r\n          {\r\n             text = text.toLowerCase();\r\n             String[] stringSeparated = text.split(&quot; &quot;);\r\n    \r\n             for (int i = 0; i &lt; stringSeparated.length; i++)\r\n             {\r\n                System.out.println(stringSeparated[i]);\r\n    \r\n                for (int j = 0; j &lt; letters.length; j++)\r\n                {\r\n                   // stringSeparated[i].contains(letters)\r\n                   if (stringSeparated[i].contains())\r\n                   {\r\n                      wordCount++;\r\n    \r\n                   }\r\n                }\r\n             }\r\n             return wordCount;\r\n          }\r\n       }\r\n    \r\n    }","title":"Checking a String (sentence space separated) to see if it contains any of the chars in an array","body":"<p>I've been trying to see if there is a way of solving this problem with a double loop. Looping over each word in the array and checking to see if all of the chars provided exist in that word.</p>\n<p><strong>Broken keyboard Problem:</strong></p>\n<p>Input A = &quot;Hello, my dear friend!&quot;</p>\n<p>Input B = ['h', 'e', 'l, 'o', 'm']</p>\n<p>We have a broken keyboard here in which only the alphabet keys (both lower case and upper case) in list B, number keys and punctuation keys work.</p>\n<p>Write the function which take a string A and list of char B, and return how many words we can type.</p>\n<p>Explanation\ninput: A &quot;Hello, my dear friend!&quot;, B = ['h', 'e', 'l, 'o', 'm'] output: 1</p>\n<p>Explanation: For the first word &quot;Hello,&quot; (including the comma), we can find every char in list B.\nSince all punctation key works fine, so output++.</p>\n<p>For the second word &quot;my&quot;, we only can find char 'm' in list B, so we can't type the whole word. Then the same, &quot;dear&quot;, can't find char 'd', so continue; &quot;friend!&quot;, can't find char 'f', so continue;</p>\n<p>This is what I have tried so far, but I can't use String's .contain() method as it only accepts a char sequence not a char array. How can I check each individual word for an array of chars using JAVA?</p>\n<p>Thanks in advance, any support is appreciated.</p>\n<pre><code>    public class BrokenKeyboard\n{\n\n   public static void main(String[] args)\n   {\n      String stringText = &quot;Hello my dear friend&quot;;\n      char [] charLetterArray = {'h', 'e', 'l', 'o', 'm'};\n\n      howManyWordsCalc(stringText, charLetterArray);\n   }\n\n   // Only words from stringText that can be typed in whole should be printed.\n   // If the letters present in the word aren't present in charLetterArray they don't get printed\n   public static int howManyWordsCalc(String text, char[] letters)\n   {\n      int wordCount = 0;\n      // sanitise input\n      if (text.isEmpty())\n      {\n         return 0;\n      }\n      else\n      {\n         text = text.toLowerCase();\n         String[] stringSeparated = text.split(&quot; &quot;);\n\n         for (int i = 0; i &lt; stringSeparated.length; i++)\n         {\n            System.out.println(stringSeparated[i]);\n\n            for (int j = 0; j &lt; letters.length; j++)\n            {\n               // stringSeparated[i].contains(letters)\n               if (stringSeparated[i].contains())\n               {\n                  wordCount++;\n\n               }\n            }\n         }\n         return wordCount;\n      }\n   }\n\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-mongodb","acid"],"owner":{"account_id":23586018,"reputation":11,"user_id":17624454,"display_name":"donna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639484736,"creation_date":1638958773,"question_id":70273328,"body_markdown":"My transactions are like this - \r\n1. findById(id) -- version 1\r\n2. do some operations on object -- version 1\r\n3. save(data) and return latest object -- version 2\r\n4. again perform some action on object -- version 2\r\n5. save(data) object in database again (version should be 3 after update)\r\n\r\nIn some cases, i&#39;m getting Optimistic lock exception at point 5 even though db version and update object version are correct.\r\n\r\nmongo, java\r\n\r\n&lt;pre&gt;\r\norg.springframework.dao.OptimisticLockingFailureException:\r\n   at org.springframework.data.mongodb.core.MongoTemplate.doSaveVersioned (MongoTemplate.java:1458)\r\n   at org.springframework.data.mongodb.core.MongoTemplate.save (MongoTemplate.java:1420)\r\n   at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.save (SimpleMongoRepository.java:87)\r\n   at sun.reflect.GeneratedMethodAccessor237.invoke\r\n   at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n   at java.lang.reflect.Method.invoke (Method.java:498)\r\n   at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke (RepositoryComposition.java:371)\r\n   at org.springframework.data.repository.core.support.RepositoryComposition.invoke (RepositoryComposition.java:204)\r\n   at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke (RepositoryFactorySupport.java:657)\r\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\r\n   at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke (RepositoryFactorySupport.java:621)\r\n   at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke (RepositoryFactorySupport.java:605)\r\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\r\n   at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke (DefaultMethodInvokingMethodInterceptor.java:80)\r\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\r\n   at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke (ExposeInvocationInterceptor.java:95)\r\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\r\n   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke (JdkDynamicAopProxy.java:212)\r\n   at com.sun.proxy.$Proxy239.save\r\n&lt;/pre&gt;\r\n\r\n","title":"Error with second save operation - Optimistic lock exception on saving entity","body":"<p>My transactions are like this -</p>\n<ol>\n<li>findById(id) -- version 1</li>\n<li>do some operations on object -- version 1</li>\n<li>save(data) and return latest object -- version 2</li>\n<li>again perform some action on object -- version 2</li>\n<li>save(data) object in database again (version should be 3 after update)</li>\n</ol>\n<p>In some cases, i'm getting Optimistic lock exception at point 5 even though db version and update object version are correct.</p>\n<p>mongo, java</p>\n<pre>\norg.springframework.dao.OptimisticLockingFailureException:\n   at org.springframework.data.mongodb.core.MongoTemplate.doSaveVersioned (MongoTemplate.java:1458)\n   at org.springframework.data.mongodb.core.MongoTemplate.save (MongoTemplate.java:1420)\n   at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.save (SimpleMongoRepository.java:87)\n   at sun.reflect.GeneratedMethodAccessor237.invoke\n   at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n   at java.lang.reflect.Method.invoke (Method.java:498)\n   at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke (RepositoryComposition.java:371)\n   at org.springframework.data.repository.core.support.RepositoryComposition.invoke (RepositoryComposition.java:204)\n   at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke (RepositoryFactorySupport.java:657)\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\n   at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke (RepositoryFactorySupport.java:621)\n   at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke (RepositoryFactorySupport.java:605)\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\n   at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke (DefaultMethodInvokingMethodInterceptor.java:80)\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\n   at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke (ExposeInvocationInterceptor.java:95)\n   at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed (ReflectiveMethodInvocation.java:186)\n   at org.springframework.aop.framework.JdkDynamicAopProxy.invoke (JdkDynamicAopProxy.java:212)\n   at com.sun.proxy.$Proxy239.save\n</pre>\n"},{"tags":["java","mongodb","database-migration","mongock"],"comments":[{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1639433820,"post_id":70337064,"comment_id":124343199,"body_markdown":"what is the size of the biggest collection? In term of documents and how big are those documents","body":"what is the size of the biggest collection? In term of documents and how big are those documents"},{"owner":{"account_id":8067689,"reputation":381,"user_id":6081331,"display_name":"Constantine"},"score":0,"creation_date":1639472356,"post_id":70337064,"comment_id":124350914,"body_markdown":"It can be from 100k to 1kk of documents which vary in size. I am now trying to find a tool to use instead of apache beam, which we used for such migrations on Datastore, but we are moving towards mongo and its not supported there properly, and amount of documents can be pretty huge","body":"It can be from 100k to 1kk of documents which vary in size. I am now trying to find a tool to use instead of apache beam, which we used for such migrations on Datastore, but we are moving towards mongo and its not supported there properly, and amount of documents can be pretty huge"},{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1639478747,"post_id":70337064,"comment_id":124353209,"body_markdown":"So I understand you are moving from another database(sql or whatever) to MongoDB. Are you thinking in implementing the mapping details? or or your expectation is to provide source and target database and this tool to the the magic?\nIf the answer is that you are writing the mapping details and expect the tool to provide a generic framework to run the migration, then Mongock will e probably helpful. Otherwise, it still doesn&#39;t provide such a feature(although it will)","body":"So I understand you are moving from another database(sql or whatever) to MongoDB. Are you thinking in implementing the mapping details? or or your expectation is to provide source and target database and this tool to the the magic? If the answer is that you are writing the mapping details and expect the tool to provide a generic framework to run the migration, then Mongock will e probably helpful. Otherwise, it still doesn&#39;t provide such a feature(although it will)"},{"owner":{"account_id":8067689,"reputation":381,"user_id":6081331,"display_name":"Constantine"},"score":0,"creation_date":1639483858,"post_id":70337064,"comment_id":124354984,"body_markdown":"No, we already migrated and just looking for a tool to support data model changes on mongo, but as I see that for example there is no way to partition this data during migration if I will run the migration on the entire collection. Am I right, or there is a way?","body":"No, we already migrated and just looking for a tool to support data model changes on mongo, but as I see that for example there is no way to partition this data during migration if I will run the migration on the entire collection. Am I right, or there is a way?"},{"owner":{"account_id":8067689,"reputation":381,"user_id":6081331,"display_name":"Constantine"},"score":0,"creation_date":1639484343,"post_id":70337064,"comment_id":124355167,"body_markdown":"Updated post with sample which causes conserns","body":"Updated post with sample which causes conserns"},{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":1,"creation_date":1639487311,"post_id":70337064,"comment_id":124356261,"body_markdown":"Ok, Still I would need a bit more information to make a proper suggestion. Why time is a concern? What other concerns you have? Is this migration required to be as part of the application&#39;s startup or can be in an independent process? Are you using any orchestration layer like K8s? are the target collections being already used by other services? Is HA a requirement? Can you afford locking the target collections?...","body":"Ok, Still I would need a bit more information to make a proper suggestion. Why time is a concern? What other concerns you have? Is this migration required to be as part of the application&#39;s startup or can be in an independent process? Are you using any orchestration layer like K8s? are the target collections being already used by other services? Is HA a requirement? Can you afford locking the target collections?..."}],"owner":{"account_id":8067689,"reputation":381,"user_id":6081331,"display_name":"Constantine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639484326,"creation_date":1639409262,"question_id":70337064,"body_markdown":"I am trying o migrate data in MongoDB with mongock and stumbled upon an issue when I need to run migration across a big amount of data.\r\n\r\nIs there a way to partition this data in any way? I didn&#39;t find support for that on documentation.\r\n\r\nProblem is that it takes a lot of time to make queries on this data and to load all of it into memory at once also can cause problems.\r\n\r\nUPD:\r\nProblem is that sample code can bring 1 or 1kk documents and it can take huge amount of time\r\n\r\n    mongoTemplate.findAll(User.class).stream()\r\n        .map(this::migrateUser)\r\n        .forEach(mongoTemplate::save);\r\n","title":"Mongock data partitioning","body":"<p>I am trying o migrate data in MongoDB with mongock and stumbled upon an issue when I need to run migration across a big amount of data.</p>\n<p>Is there a way to partition this data in any way? I didn't find support for that on documentation.</p>\n<p>Problem is that it takes a lot of time to make queries on this data and to load all of it into memory at once also can cause problems.</p>\n<p>UPD:\nProblem is that sample code can bring 1 or 1kk documents and it can take huge amount of time</p>\n<pre><code>mongoTemplate.findAll(User.class).stream()\n    .map(this::migrateUser)\n    .forEach(mongoTemplate::save);\n</code></pre>\n"},{"tags":["java","android","kotlin","android-layout"],"comments":[{"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"score":1,"creation_date":1664300960,"post_id":70348575,"comment_id":130438684,"body_markdown":"did you find anything?","body":"did you find anything?"},{"owner":{"account_id":12671920,"reputation":463,"user_id":9209166,"display_name":"Micha&#235;l Randria"},"score":0,"creation_date":1664379095,"post_id":70348575,"comment_id":130459533,"body_markdown":"Nothing unfortunately! Hoping that Google will someday give us proper shadow settings api. For now we can only use elevation or the terrible gradient hack.","body":"Nothing unfortunately! Hoping that Google will someday give us proper shadow settings api. For now we can only use elevation or the terrible gradient hack."}],"owner":{"account_id":12671920,"reputation":463,"user_id":9209166,"display_name":"Micha&#235;l Randria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1639484249,"creation_date":1639483460,"question_id":70348575,"body_markdown":"I want to create this button considering performance and backward compatibility but I&#39;m struggling to implement the box shadow.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qnt1U.png\r\n\r\nThis is the CSS given by my designing tool (Framer):\r\n```\r\n.round {\r\n  width: 140px;\r\n  height: 40px;\r\n  box-shadow: 0px 10px 30px 0px rgba(20, 122, 255, 0.5);\r\n  background-color: var(--token-589222af-8822-45b2-90c2-ff6f2729b888, #147aff);\r\n  overflow: visible;\r\n  border-radius: 22px;\r\n}\r\n```","title":"Android equivalence of CSS box shadow","body":"<p>I want to create this button considering performance and backward compatibility but I'm struggling to implement the box shadow.</p>\n<p><a href=\"https://i.stack.imgur.com/Qnt1U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qnt1U.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the CSS given by my designing tool (Framer):</p>\n<pre><code>.round {\n  width: 140px;\n  height: 40px;\n  box-shadow: 0px 10px 30px 0px rgba(20, 122, 255, 0.5);\n  background-color: var(--token-589222af-8822-45b2-90c2-ff6f2729b888, #147aff);\n  overflow: visible;\n  border-radius: 22px;\n}\n</code></pre>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1639483097,"post_id":70348483,"comment_id":124354694,"body_markdown":"Unclear. Do you mean something like `Reader reader = new FileReader(oldFileName);`?","body":"Unclear. Do you mean something like <code>Reader reader = new FileReader(oldFileName);</code>?"},{"owner":{"account_id":20662456,"reputation":17,"user_id":15170137,"display_name":"codeitforfuture"},"score":0,"creation_date":1639484177,"post_id":70348483,"comment_id":124355101,"body_markdown":"no the two lines are not directly related .. i just give examples of how i am calling files along the project","body":"no the two lines are not directly related .. i just give examples of how i am calling files along the project"},{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1639486125,"post_id":70348483,"comment_id":124355815,"body_markdown":"Maybe [this answer](https://stackoverflow.com/questions/4917326/how-to-iterate-over-the-files-of-a-certain-directory-in-java) can point you the right way.","body":"Maybe <a href=\"https://stackoverflow.com/questions/4917326/how-to-iterate-over-the-files-of-a-certain-directory-in-java\">this answer</a> can point you the right way."}],"owner":{"account_id":20662456,"reputation":17,"user_id":15170137,"display_name":"codeitforfuture"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639484203,"creation_date":1639483023,"question_id":70348483,"body_markdown":"I have an application that is converting a type of files.\r\nwhile working on the project, i&#39;ve been testing files by calling them by name, but i want to dynamise that call. \r\n\r\nExample 1: \r\n    ```String oldFileName = &quot;2015.xls&quot;;```\r\n\r\nExample 2\r\n    ```Reader reader = new FileReader(&quot;2015.xls&quot;);```\r\n\r\n\r\n","title":"call files by directory not by name in java","body":"<p>I have an application that is converting a type of files.\nwhile working on the project, i've been testing files by calling them by name, but i want to dynamise that call.</p>\n<p>Example 1:\n<code>String oldFileName = &quot;2015.xls&quot;;</code></p>\n<p>Example 2\n<code>Reader reader = new FileReader(&quot;2015.xls&quot;);</code></p>\n"},{"tags":["java","android","android-recyclerview","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639482768,"creation_date":1639482768,"answer_id":70348429,"question_id":70347954,"body_markdown":"You should end with `&lt;View&gt;.requestLayout()` to refresh with a new size (currently `employeeRecyclerView`).\r\n\r\nAlso views are not correctly measured in `onCreate()`. In order to get `editText` width you can use `post`, `postDelayed`, `doOnPreDraw` (`onPreDrawListener`) or `viewTreeObserver`.","title":"How to get EditText width dynamically and set it to a recyclerView width","body":"<p>You should end with <code>&lt;View&gt;.requestLayout()</code> to refresh with a new size (currently <code>employeeRecyclerView</code>).</p>\n<p>Also views are not correctly measured in <code>onCreate()</code>. In order to get <code>editText</code> width you can use <code>post</code>, <code>postDelayed</code>, <code>doOnPreDraw</code> (<code>onPreDrawListener</code>) or <code>viewTreeObserver</code>.</p>\n"}],"owner":{"account_id":13067247,"reputation":155,"user_id":9442125,"display_name":"ISHAN KALANSOORIYA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70348429,"answer_count":1,"score":2,"last_activity_date":1639483806,"creation_date":1639480486,"question_id":70347954,"body_markdown":"I have an edittext and its width is set to wrap-content.I also have an recycler view and its width is set to wrap-content. i want to make recycler view width to be equals to edit text width programmatically.I used below code but its not working.width returns from getMeasuredWidth() is not equal to edittext width.\r\n\r\n        editText= findViewById(R.id.edit_text);\r\n        editText.measure(0, 0);\r\n        testRecyclerView= findViewById(R.id.employee_recycler_view);\r\n        testRecyclerView.setLayoutManager(new LinearLayoutManager(context));\r\n        ViewGroup.LayoutParams layoutParams =  testRecyclerView.getLayoutParams();\r\n        layoutParams.width =  editText.getMeasuredWidth();\r\n        testRecyclerView.setLayoutParams(layoutParams);","title":"How to get EditText width dynamically and set it to a recyclerView width","body":"<p>I have an edittext and its width is set to wrap-content.I also have an recycler view and its width is set to wrap-content. i want to make recycler view width to be equals to edit text width programmatically.I used below code but its not working.width returns from getMeasuredWidth() is not equal to edittext width.</p>\n<pre><code>    editText= findViewById(R.id.edit_text);\n    editText.measure(0, 0);\n    testRecyclerView= findViewById(R.id.employee_recycler_view);\n    testRecyclerView.setLayoutManager(new LinearLayoutManager(context));\n    ViewGroup.LayoutParams layoutParams =  testRecyclerView.getLayoutParams();\n    layoutParams.width =  editText.getMeasuredWidth();\n    testRecyclerView.setLayoutParams(layoutParams);\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":59056,"reputation":50006,"user_id":176741,"accept_rate":90,"display_name":"Dolph"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1267574146,"creation_date":1267574146,"answer_id":2367841,"question_id":2367816,"body_markdown":"Dropping frames from the stack using the debugger essentially lets you &quot;rewind&quot; the execution of your application to reach a previous state. Variables outside the stack frame are not reverted.\r\n\r\nAs a side note, I believe this feature is called &quot;Drop *to* Frame&quot; in Eclipse, but it serves the same purpose.","title":"When using the Java debugger in IntelliJ, what does &quot;Drop Frame&quot; mean?","body":"<p>Dropping frames from the stack using the debugger essentially lets you \"rewind\" the execution of your application to reach a previous state. Variables outside the stack frame are not reverted.</p>\n\n<p>As a side note, I believe this feature is called \"Drop <em>to</em> Frame\" in Eclipse, but it serves the same purpose.</p>\n"},{"tags":[],"owner":{"account_id":4357,"reputation":96489,"user_id":6508,"accept_rate":71,"display_name":"Jorge Ferreira"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1639483604,"creation_date":1267574174,"answer_id":2367844,"question_id":2367816,"body_markdown":"&gt; Drop Frame within the debugger pops\r\n&gt; the current stack frame and puts\r\n&gt; control back out to the calling\r\n&gt; method, resetting any local variables.\r\n&gt; This is very useful to repeatedly step\r\n&gt; through a function, but be warned:\r\n&gt; field mutations or global state\r\n&gt; changes will remain.\r\n\r\nSee more info [here](https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#breakpoint-expressions).","title":"When using the Java debugger in IntelliJ, what does &quot;Drop Frame&quot; mean?","body":"<blockquote>\n<p>Drop Frame within the debugger pops\nthe current stack frame and puts\ncontrol back out to the calling\nmethod, resetting any local variables.\nThis is very useful to repeatedly step\nthrough a function, but be warned:\nfield mutations or global state\nchanges will remain.</p>\n</blockquote>\n<p>See more info <a href=\"https://www.jetbrains.com/help/idea/altering-the-program-s-execution-flow.html#breakpoint-expressions\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":8410,"reputation":13778,"user_id":1252368,"accept_rate":75,"display_name":"Daniel Schneller"},"down_vote_count":0,"up_vote_count":152,"is_accepted":true,"score":152,"last_activity_date":1410532993,"creation_date":1267574464,"answer_id":2367864,"question_id":2367816,"body_markdown":"The call stack of your application can be viewed in the debugger. Using the &quot;Drop Frame&quot; functionality you can &quot;fall back&quot; to a previous stack frame, in a sense going back in time. This can be helpful to re-enter a function if you missed a critical spot you would like to see again.\r\n\r\nAs the name &quot;Stack Frame&quot; suggests, changes that were already made to global state (like static variables, changes to field values and the like) will not be undone, only local variables are reset. This can lead to a different execution path than the one that originally led to your break point. You need to be aware of this - I often consider it a useful feature to explore different paths of execution without having to restart the application or a particular lengthy process that led to the current stack. Combined with the change of variable values also available through the debugger, you can do all sorts of interesting things.\r\n\r\nPlease note, that of course, any side effects that might have occurred - e. g. network traffic, file manipulations, console output etc. - cannot be rewound.","title":"When using the Java debugger in IntelliJ, what does &quot;Drop Frame&quot; mean?","body":"<p>The call stack of your application can be viewed in the debugger. Using the \"Drop Frame\" functionality you can \"fall back\" to a previous stack frame, in a sense going back in time. This can be helpful to re-enter a function if you missed a critical spot you would like to see again.</p>\n\n<p>As the name \"Stack Frame\" suggests, changes that were already made to global state (like static variables, changes to field values and the like) will not be undone, only local variables are reset. This can lead to a different execution path than the one that originally led to your break point. You need to be aware of this - I often consider it a useful feature to explore different paths of execution without having to restart the application or a particular lengthy process that led to the current stack. Combined with the change of variable values also available through the debugger, you can do all sorts of interesting things.</p>\n\n<p>Please note, that of course, any side effects that might have occurred - e. g. network traffic, file manipulations, console output etc. - cannot be rewound.</p>\n"}],"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28051,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":2367864,"answer_count":3,"score":112,"last_activity_date":1639483604,"creation_date":1267573743,"question_id":2367816,"body_markdown":"I was using the Java debugger within IntelliJ 8 and noticed a button labeled &quot;drop frame&quot;. Does anybody know what purpose this serves?  How/why would this be used/useful?\r\n","title":"When using the Java debugger in IntelliJ, what does &quot;Drop Frame&quot; mean?","body":"<p>I was using the Java debugger within IntelliJ 8 and noticed a button labeled &quot;drop frame&quot;. Does anybody know what purpose this serves?  How/why would this be used/useful?</p>\n"},{"tags":["java","netbeans-8","javacard","emv","globalplatform"],"answers":[{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638463254,"creation_date":1638463254,"answer_id":70203324,"question_id":70196732,"body_markdown":"Your found file is fine. There is a file `globalplatform.exp` contained in the file. You have to add the path to this file to the class path when using the Java Card converter.\r\n\r\nHere is a configuration for Maven:\r\n\r\n~~~xml\r\n     &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.7&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;tasks&gt;\r\n                                &lt;echo message=&quot;Converting to CAP file&quot;/&gt;\r\n                                &lt;java classname=&quot;com.sun.javacard.converter.Converter&quot;\r\n                                      failonerror=&quot;true&quot; fork=&quot;true&quot;&gt;\r\n                                    &lt;arg value=&quot;-verbose&quot;/&gt;\r\n                                    &lt;arg value=&quot;-classdir&quot;/&gt;\r\n                                    &lt;arg value=&quot;target/classes/&quot;/&gt;\r\n                                    &lt;arg value=&quot;-applet&quot;/&gt;\r\n                                    &lt;arg value=&quot;${javacard.applet.aid}&quot;/&gt;\r\n                                    &lt;arg value=&quot;${javacard.applet.name}&quot;/&gt;\r\n                                    &lt;arg value=&quot;${javacard.package.name}&quot;/&gt;\r\n                                    &lt;arg value=&quot;${javacard.package.aid}&quot;/&gt;\r\n                                    &lt;arg value=&quot;${javacard.major.version}.${javacard.minor.version}&quot;/&gt;\r\n                                    &lt;arg value=&quot;-nowarn&quot;/&gt;\r\n                                    &lt;classpath&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/api_export_files&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/apduio.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/apdutool.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/jcwde.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/converter.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/scriptgen.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/offcardverifier.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${jc.home}/lib/capdump.jar&quot;/&gt;\r\n                                        &lt;pathelement location=&quot;${project.basedir}/gp/export_files&quot;/&gt;\r\n                                    &lt;/classpath&gt;\r\n                                &lt;/java&gt;\r\n                                &lt;copy todir=&quot;target/&quot;&gt;\r\n                                    &lt;flattenmapper/&gt;\r\n                                    &lt;fileset dir=&quot;target/classes/&quot;&gt;\r\n                                        &lt;include name=&quot;**/*.cap&quot;/&gt;\r\n                                    &lt;/fileset&gt;\r\n                                &lt;/copy&gt;\r\n                            &lt;/tasks&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n~~~\r\n\r\nSet the placeholders and properties as necessary.\r\n\r\nThere might be a newer version on the [GlobalPlatform Specification Page](https://globalplatform.org/specs-library/?filter-committee=se#collapse-33). Under the section &quot;GlobalPlatform Card API&quot; you should find a zip file with the latest export definitions. But this should not matter.","title":"Netbeans 8.0 - error: export file globalplatform.exp of package org.globalplatform not found. [ INFO: ] Converter [v3.0.2]","body":"<p>Your found file is fine. There is a file <code>globalplatform.exp</code> contained in the file. You have to add the path to this file to the class path when using the Java Card converter.</p>\n<p>Here is a configuration for Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>     &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.7&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;run&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;tasks&gt;\n                                &lt;echo message=&quot;Converting to CAP file&quot;/&gt;\n                                &lt;java classname=&quot;com.sun.javacard.converter.Converter&quot;\n                                      failonerror=&quot;true&quot; fork=&quot;true&quot;&gt;\n                                    &lt;arg value=&quot;-verbose&quot;/&gt;\n                                    &lt;arg value=&quot;-classdir&quot;/&gt;\n                                    &lt;arg value=&quot;target/classes/&quot;/&gt;\n                                    &lt;arg value=&quot;-applet&quot;/&gt;\n                                    &lt;arg value=&quot;${javacard.applet.aid}&quot;/&gt;\n                                    &lt;arg value=&quot;${javacard.applet.name}&quot;/&gt;\n                                    &lt;arg value=&quot;${javacard.package.name}&quot;/&gt;\n                                    &lt;arg value=&quot;${javacard.package.aid}&quot;/&gt;\n                                    &lt;arg value=&quot;${javacard.major.version}.${javacard.minor.version}&quot;/&gt;\n                                    &lt;arg value=&quot;-nowarn&quot;/&gt;\n                                    &lt;classpath&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/api_export_files&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/apduio.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/apdutool.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/jcwde.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/converter.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/scriptgen.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/offcardverifier.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${jc.home}/lib/capdump.jar&quot;/&gt;\n                                        &lt;pathelement location=&quot;${project.basedir}/gp/export_files&quot;/&gt;\n                                    &lt;/classpath&gt;\n                                &lt;/java&gt;\n                                &lt;copy todir=&quot;target/&quot;&gt;\n                                    &lt;flattenmapper/&gt;\n                                    &lt;fileset dir=&quot;target/classes/&quot;&gt;\n                                        &lt;include name=&quot;**/*.cap&quot;/&gt;\n                                    &lt;/fileset&gt;\n                                &lt;/copy&gt;\n                            &lt;/tasks&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n<p>Set the placeholders and properties as necessary.</p>\n<p>There might be a newer version on the <a href=\"https://globalplatform.org/specs-library/?filter-committee=se#collapse-33\" rel=\"nofollow noreferrer\">GlobalPlatform Specification Page</a>. Under the section &quot;GlobalPlatform Card API&quot; you should find a zip file with the latest export definitions. But this should not matter.</p>\n"}],"owner":{"account_id":303610,"reputation":3511,"user_id":612645,"accept_rate":80,"display_name":"Arjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1639483533,"creation_date":1638436307,"question_id":70196732,"body_markdown":"I am using Netbeans IDE 8.0 and writing java code with the option classic Applet Project. Here all goes well till using the below import\r\n\r\npackage wallet;\r\n\r\n    import javacard.framework.*;\r\n    import javacard.framework.ISO7816;\r\n    import javacard.framework.Applet;\r\n    import javacard.framework.OwnerPIN;\r\n\r\nbut I wanted to use the global platform function so I download the JAR ( gpapi-globalplatform.jar) file from [HERE][1] and add like below,\r\n\r\n[![enter image description here][2]][2]\r\n\r\nadding new imports like below\r\n\r\n    import org.globalplatform.GPSystem;\r\n    import org.globalplatform.SecureChannel;\r\n\r\nno error shown in IDE but during the building of code, getting the error below. Any advice here would be great.  \r\n\r\n    error: export file globalplatform.exp of package org.globalplatform not found. [ INFO: ] Converter [v3.0.2]\r\n\r\n   \r\n\r\n\r\n  [1]: https://globalplatform.org/wp-content/themes/globalplatform/ajax/file-download.php?f=https://globalplatform.org/wp-content/uploads/2018/06/GlobalPlatform_Card_API-org.globalplatform_1.6.zip\r\n  [2]: https://i.stack.imgur.com/ozhgD.png","title":"Netbeans 8.0 - error: export file globalplatform.exp of package org.globalplatform not found. [ INFO: ] Converter [v3.0.2]","body":"<p>I am using Netbeans IDE 8.0 and writing java code with the option classic Applet Project. Here all goes well till using the below import</p>\n<p>package wallet;</p>\n<pre><code>import javacard.framework.*;\nimport javacard.framework.ISO7816;\nimport javacard.framework.Applet;\nimport javacard.framework.OwnerPIN;\n</code></pre>\n<p>but I wanted to use the global platform function so I download the JAR ( gpapi-globalplatform.jar) file from <a href=\"https://globalplatform.org/wp-content/themes/globalplatform/ajax/file-download.php?f=https://globalplatform.org/wp-content/uploads/2018/06/GlobalPlatform_Card_API-org.globalplatform_1.6.zip\" rel=\"nofollow noreferrer\">HERE</a> and add like below,</p>\n<p><a href=\"https://i.stack.imgur.com/ozhgD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ozhgD.png\" alt=\"enter image description here\" /></a></p>\n<p>adding new imports like below</p>\n<pre><code>import org.globalplatform.GPSystem;\nimport org.globalplatform.SecureChannel;\n</code></pre>\n<p>no error shown in IDE but during the building of code, getting the error below. Any advice here would be great.</p>\n<pre><code>error: export file globalplatform.exp of package org.globalplatform not found. [ INFO: ] Converter [v3.0.2]\n</code></pre>\n"},{"tags":["java","oracle","weblogic","weblogic12c"],"owner":{"account_id":10855584,"reputation":531,"user_id":10597842,"display_name":"Adarsh D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639483474,"creation_date":1639483474,"question_id":70348580,"body_markdown":"I&#39;m getting this error instead of my custom exception when a ConstraintViolationException occurs during POST operation. This occurs when my spring boot project is deployed in the WebLogic Server.\r\n\r\nHere is the full error\r\n\r\n    JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is weblogic.transaction.RollbackException: Unexpected exception in beforeCompletion: sync=org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization@74a8e6a3\\r\\norg.hibernate.exception.ConstraintViolationException: could not execute batch&quot;\r\n\r\nFrom this post https://stackoverflow.com/questions/32456284/unexpectedrollbackexception-jta-transaction-unexpectedly-rolled-back I know it is due to Hibernate adding it&#39;s own wrapper to my custom exception. But I couldn&#39;t find a way to prevent this. Also I tried changing the JTA transaction timeout. None of it worked.\r\n\r\nThis is how I catch the DataIntegrityViolationException\r\n\r\n    catch (DataIntegrityViolationException | PersistenceException ex) {\r\n                throw new AccountValidationException(Markers.ACC_SER_ADD_2.toString(), &quot;Account Number should be unique&quot;);\r\n            }\r\nAny workaround for this?? Thanks in advance","title":"JTA transaction unexpectedly rolled back - weblogic.transaction.RollbackException","body":"<p>I'm getting this error instead of my custom exception when a ConstraintViolationException occurs during POST operation. This occurs when my spring boot project is deployed in the WebLogic Server.</p>\n<p>Here is the full error</p>\n<pre><code>JTA transaction unexpectedly rolled back (maybe due to a timeout); nested exception is weblogic.transaction.RollbackException: Unexpected exception in beforeCompletion: sync=org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization@74a8e6a3\\r\\norg.hibernate.exception.ConstraintViolationException: could not execute batch&quot;\n</code></pre>\n<p>From this post <a href=\"https://stackoverflow.com/questions/32456284/unexpectedrollbackexception-jta-transaction-unexpectedly-rolled-back\">UnexpectedRollbackException - JTA transaction unexpectedly rolled back</a> I know it is due to Hibernate adding it's own wrapper to my custom exception. But I couldn't find a way to prevent this. Also I tried changing the JTA transaction timeout. None of it worked.</p>\n<p>This is how I catch the DataIntegrityViolationException</p>\n<pre><code>catch (DataIntegrityViolationException | PersistenceException ex) {\n            throw new AccountValidationException(Markers.ACC_SER_ADD_2.toString(), &quot;Account Number should be unique&quot;);\n        }\n</code></pre>\n<p>Any workaround for this?? Thanks in advance</p>\n"},{"tags":["java","swing","jcombobox"],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1323380181,"creation_date":1323380181,"answer_id":8438033,"question_id":8437950,"body_markdown":"Since you mentions characters, I assume the editor on your `JCombobox` can be a `JTextField`. In that case, you can limit the number of characters the `JTextField` accepts by setting a custom `Document`, as explained in full detail [here][1]\r\n\r\n[1]: http://www.rgagnon.com/javadetails/java-0198.html","title":"Editable JComboBox limit length","body":"<p>Since you mentions characters, I assume the editor on your <code>JCombobox</code> can be a <code>JTextField</code>. In that case, you can limit the number of characters the <code>JTextField</code> accepts by setting a custom <code>Document</code>, as explained in full detail <a href=\"http://www.rgagnon.com/javadetails/java-0198.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":23644126,"reputation":1,"user_id":17673994,"display_name":"user17673994"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639483450,"creation_date":1639483450,"answer_id":70348573,"question_id":8437950,"body_markdown":"You can modify maximum number of characters changing the comboBox editor as you can see below (**Max 4** characters):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    JComboBox comboBox==new JComboBox();\r\n    ComboBoxEditor editor = comboBox.getEditor();\r\n    JTextField textField = (JTextField)editor.getEditorComponent();\r\n    textField.setDocument(new JTextFieldLimit(4));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Editable JComboBox limit length","body":"<p>You can modify maximum number of characters changing the comboBox editor as you can see below (<strong>Max 4</strong> characters):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>JComboBox comboBox==new JComboBox();\nComboBoxEditor editor = comboBox.getEditor();\nJTextField textField = (JTextField)editor.getEditorComponent();\ntextField.setDocument(new JTextFieldLimit(4));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14460,"reputation":1610,"user_id":29770,"accept_rate":73,"display_name":"Cesar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":8438033,"answer_count":2,"score":0,"last_activity_date":1639483450,"creation_date":1323379785,"question_id":8437950,"body_markdown":"i have an editable JCombobox and need to set a limit to the number of characters that can be set by the user. \r\n\r\nThanks\r\n","title":"Editable JComboBox limit length","body":"<p>i have an editable JCombobox and need to set a limit to the number of characters that can be set by the user. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","pact","pact-jvm","pact-broker","pact-java"],"answers":[{"tags":[],"owner":{"account_id":16903991,"reputation":217,"user_id":12224653,"display_name":"Syed Muhammad Dawoud Sheraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639483011,"creation_date":1639483011,"answer_id":70348480,"question_id":69461050,"body_markdown":"As per the discussion on an open issue on pact-ruby(https://github.com/pact-foundation/pact-ruby/issues/115), this is something that has been talked about but never implemented. From personal experience, having the result of each interaction present in the pact is needed. If any of the interactions is missing, the verification will not be green. For state setup, you can skip the state from state-state_setup mapping. Doing so might cause issues with the interactions verification.","title":"Pact Verification: Can i skip a particular providerState","body":"<p>As per the discussion on an open issue on pact-ruby(<a href=\"https://github.com/pact-foundation/pact-ruby/issues/115\" rel=\"nofollow noreferrer\">https://github.com/pact-foundation/pact-ruby/issues/115</a>), this is something that has been talked about but never implemented. From personal experience, having the result of each interaction present in the pact is needed. If any of the interactions is missing, the verification will not be green. For state setup, you can skip the state from state-state_setup mapping. Doing so might cause issues with the interactions verification.</p>\n"}],"owner":{"account_id":7191680,"reputation":54,"user_id":5491757,"display_name":"dev-rgupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1639483011,"creation_date":1633502912,"question_id":69461050,"body_markdown":"Can I skip a particular provider state at the time of pact verification execution? like in my pact file I have 10 interactions and I want to skip an interaction or a provider state from StateChangeController. I&#39;m using &#39;au.com.dius.pact.provider&#39; maven plugin for pact verification ","title":"Pact Verification: Can i skip a particular providerState","body":"<p>Can I skip a particular provider state at the time of pact verification execution? like in my pact file I have 10 interactions and I want to skip an interaction or a provider state from StateChangeController. I'm using 'au.com.dius.pact.provider' maven plugin for pact verification</p>\n"},{"tags":["java","android","kotlin","push-notification","firebase-cloud-messaging"],"owner":{"account_id":20971467,"reputation":11,"user_id":15408532,"display_name":"Amjad Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639482994,"creation_date":1639482994,"question_id":70348477,"body_markdown":"app is open Notification is showing but app is in the background Notification is not showing\r\n The notification should be working 8 , but android 9,10  not working. The Notification isn&#39;t showing at all. I don&#39;t know what am I missing.\r\n\r\n\r\nthis is a MyFCMservise file\r\n\r\n```\r\nclass MyFCMService : FirebaseMessagingService() {\r\n    private var fireManager = FireManager()\r\n    private var disposables = CompositeDisposable()\r\n    private lateinit var newMessageHandler: NewMessageHandler\r\n\r\n    private val parentJob = SupervisorJob()\r\n    private val scope = CoroutineScope(Main + parentJob)\r\n\r\n\r\n   \r\n\r\n    \r\n\r\n\r\n    override fun onNewToken(s: String) {\r\n        super.onNewToken(s)\r\n        if (!isLoggedIn()) return \r\n\r\n\r\n        SharedPreferencesManager.setTokenSaved(false)\r\n        ServiceHelper.saveToken(this, s)\r\n    }\r\n\r\n    override fun onMessageReceived(remoteMessage: RemoteMessage) {\r\n        super.onMessageReceived(remoteMessage)\r\n        if (FireManager.isLoggedIn()\r\n                .not()\r\n        ) return  \r\n        if (updateChecker.needsUpdate()) return\r\n\r\n        val mainHandler = Handler(mainLooper)\r\n        //run on main thread\r\n        val myRunnable = Runnable {\r\n            newMessageHandler = NewMessageHandler(this, fireManager, messageDecryptor, disposables)\r\n\r\n\r\n\r\n            if (remoteMessage.data.containsKey(&quot;event&quot;)) {\r\n                \r\n                when {\r\n                    remoteMessage.data[&quot;event&quot;] == &quot;group_event&quot; -&gt; {\r\n                        handleGroupEvent(remoteMessage)\r\n                    }\r\n                    remoteMessage.data[&quot;event&quot;] == &quot;new_group&quot; -&gt; {\r\n                        handleNewGroup(remoteMessage)\r\n                    }\r\n                    remoteMessage.data[&quot;event&quot;] == &quot;message_deleted&quot; -&gt; {\r\n                        handleDeletedMessage(remoteMessage)\r\n                    }\r\n                    remoteMessage.data[&quot;event&quot;] == &quot;new_call&quot; -&gt; {\r\n                        handleNewCall(remoteMessage)\r\n                    }\r\n\r\n                    remoteMessage.data[&quot;event&quot;] == &quot;logout&quot; -&gt; {\r\n                        val newDeviceId = remoteMessage.data[&quot;deviceId&quot;]\r\n\r\n                        if (newDeviceId != null &amp;&amp; newDeviceId != DeviceId.id) {\r\n                            LocalBroadcastManager.getInstance(this)\r\n                                .sendBroadcast(Intent(IntentUtils.ACTION_LOGOUT))\r\n                            FireManager.logout()\r\n                            NotificationHelper(this).fireUserLoggedOutNotification()\r\n                        }\r\n                    }\r\n\r\n                }\r\n            } else {\r\n                if (remoteMessage.data.containsKey(DBConstants.MESSAGE_ID)) {\r\n                    handleNewMessage(remoteMessage)\r\n                }\r\n            }\r\n        }\r\n        mainHandler.post(myRunnable)\r\n    }\r\n\r\n    private fun handleNewCall(map: RemoteMessage) {\r\n        val data = map.data\r\n\r\n        data[&quot;callId&quot;]?.let { callId -&gt;\r\n\r\n\r\n            val fromId = data[&quot;callerId&quot;] ?: &quot;&quot;\r\n\r\n            val typeInt = data[&quot;callType&quot;]?.toIntOrNull() ?: CallType.VOICE.value\r\n            val type = CallType.fromInt(typeInt)\r\n\r\n\r\n            val groupId = data[&quot;groupId&quot;] ?: &quot;&quot;\r\n\r\n            val isGroupCall = type.isGroupCall()\r\n\r\n            if (!isGroupCall &amp;&amp; uid.isEmpty()) return@let\r\n            if (isGroupCall &amp;&amp; groupId.isEmpty()) return@let\r\n            val channel = data[&quot;channel&quot;] ?: return@let\r\n\r\n            val groupName = data[&quot;groupName&quot;] ?: &quot;&quot;\r\n\r\n            val timestamp = data[&quot;timestamp&quot;]?.toLongOrNull() ?: System.currentTimeMillis()\r\n            val phoneNumber = data[&quot;phoneNumber&quot;] ?: &quot;&quot;\r\n\r\n            val isVideo = type.isVideo()\r\n\r\n            val uid = if (isGroupCall) groupId else fromId\r\n\r\n\r\n            var user: User\r\n\r\n            val storedUser = RealmHelper.getInstance().getUser(uid)\r\n\r\n            if (storedUser == null) {\r\n                //make dummy user temporarily\r\n                user = User().apply {\r\n                    if (isGroupCall) {\r\n                        this.uid = groupId!!\r\n                        this.isGroupBool = true\r\n                        this.userName = groupName\r\n                        this.group = Group().apply {\r\n                            this.groupId = groupId\r\n                            this.isActive = true\r\n                            this.setUsers(mutableListOf(SharedPreferencesManager.getCurrentUser()))\r\n                        }\r\n\r\n                    } else {\r\n                        this.uid = uid\r\n                        this.phone = phoneNumber\r\n                    }\r\n                }\r\n            } else {\r\n                user = storedUser\r\n            }\r\n\r\n            val fireCall = FireCall(\r\n                callId,\r\n                user,\r\n                FireCallDirection.INCOMING,\r\n                timestamp,\r\n                phoneNumber,\r\n                isVideo,\r\n                typeInt,\r\n                channel\r\n            )\r\n\r\n\r\n            newMessageHandler.handleNewCall(fireCall)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private fun handleNewMessage(remoteMessage: RemoteMessage) {\r\n        val messageId = remoteMessage.data[DBConstants.MESSAGE_ID]\r\n\r\n        //if message is deleted do not save it\r\n        if (RealmHelper.getInstance().getDeletedMessage(messageId) != null) return\r\n        if (RealmHelper.getInstance().getTempMessage(messageId) != null) return\r\n\r\n\r\n        val isGroup = remoteMessage.data.containsKey(&quot;isGroup&quot;)\r\n        //getting data from fcm message and convert it to a message\r\n        val phone = remoteMessage.data[DBConstants.PHONE] ?: &quot;&quot;\r\n        val content = remoteMessage.data[DBConstants.CONTENT]\r\n        val timestamp = remoteMessage.data[DBConstants.TIMESTAMP]\r\n        val type = remoteMessage.data[DBConstants.TYPE]?.toInt() ?: 0\r\n        //get sender uid\r\n        val fromId = remoteMessage.data[DBConstants.FROM_ID]\r\n        val toId = remoteMessage.data[DBConstants.TOID]\r\n        val metadata = remoteMessage.data[DBConstants.METADATA]\r\n        val partialText = remoteMessage.data[DBConstants.PARTIAL_TEXT]\r\n\r\n        \r\n\r\n        //if it&#39;s a group message and the message sender is the same\r\n        if (fromId == uid) return\r\n\r\n        //create the message\r\n        val message = Message()\r\n        message.content = content\r\n        message.partialText = partialText\r\n        message.timestamp = timestamp\r\n\r\n        message.fromId = fromId\r\n        message.type = convertedType\r\n        message.messageId = messageId\r\n        message.metadata = metadata\r\n        message.toId = toId\r\n        val chatId = if (isGroup) toId else fromId\r\n        message.chatId = chatId\r\n        message.isGroup = isGroup\r\n        if (isGroup) message.fromPhone = phone\r\n        //set default state\r\n        message.downloadUploadStat = DownloadUploadStat.FAILED\r\n\r\n       \r\n        if (MessageType.isSentText(type)) {\r\n            //set the state to default\r\n            message.downloadUploadStat = DownloadUploadStat.DEFAULT\r\n} else if (remoteMessage.data.containsKey(DBConstants.LOCATION)) {\r\n\r\n\r\n            message.downloadUploadStat = DownloadUploadStat.DEFAULT\r\n            //get the json location as String\r\n            val lat = remoteMessage.data[&quot;lat&quot;] ?: &quot;&quot;\r\n            val lng = remoteMessage.data[&quot;lng&quot;] ?: &quot;&quot;\r\n            if (lat.isNotEmpty() &amp;&amp; lng.isNotEmpty()) {\r\n                val name = remoteMessage.data[&quot;name&quot;] ?: &quot;&quot;\r\n                val address = remoteMessage.data[&quot;address&quot;] ?: &quot;&quot;\r\n                val location = RealmLocation(address, name, lat, lng)\r\n                message.location = location\r\n            }\r\n        } else if (remoteMessage.data.containsKey(DBConstants.THUMB)) {\r\n            val thumb = remoteMessage.data[DBConstants.THUMB]\r\n\r\n            //Check if it&#39;s Video and set Video Duration\r\n            if (remoteMessage.data.containsKey(DBConstants.MEDIADURATION)) {\r\n                val mediaDuration = remoteMessage.data[DBConstants.MEDIADURATION]\r\n                message.mediaDuration = mediaDuration\r\n            }\r\n            message.thumb = thumb\r\n\r\n\r\n            //check if it&#39;s Voice Message or Audio File\r\n        } else if (remoteMessage.data.containsKey(DBConstants.MEDIADURATION)\r\n            &amp;&amp; type == MessageType.SENT_VOICE_MESSAGE || type == MessageType.SENT_AUDIO\r\n        ) {\r\n\r\n            //set audio duration\r\n            val mediaDuration = remoteMessage.data[DBConstants.MEDIADURATION]\r\n            message.mediaDuration = mediaDuration\r\n\r\n            //check if it&#39;s a File\r\n        } else if (remoteMessage.data.containsKey(DBConstants.FILESIZE)) {\r\n            val fileSize = remoteMessage.data[DBConstants.FILESIZE]\r\n            message.fileSize = fileSize\r\n        }\r\n\r\n        \r\n        if (remoteMessage.data.containsKey(&quot;quotedMessageId&quot;)) {\r\n            val quotedMessageId = remoteMessage.data[&quot;quotedMessageId&quot;]\r\n            \r\n            RealmHelper.getInstance().refresh()\r\n            val quotedMessage = RealmHelper.getInstance().getMessage(quotedMessageId, chatId)\r\n            if (quotedMessage != null)\r\n                message.quotedMessage = QuotedMessage.messageToQuotedMessage(quotedMessage)\r\n        }\r\n\r\n        \r\n        if (remoteMessage.data.containsKey(&quot;statusId&quot;)) {\r\n            val statusId = remoteMessage.data[&quot;statusId&quot;]\r\n            \r\n            RealmHelper.getInstance().refresh()\r\n            val status = RealmHelper.getInstance().getStatus(statusId)\r\n            if (status != null) {\r\n                message.status = status\r\n                val quotedMessage = Status.statusToMessage(status, fromId)\r\n                quotedMessage?.fromId = uid\r\n                quotedMessage?.chatId = fromId\r\n                if (quotedMessage != null)\r\n                    message.quotedMessage = QuotedMessage.messageToQuotedMessage(quotedMessage)\r\n\r\n\r\n            }\r\n            \r\n        }\r\n\r\n\r\n        scope.launch(Main) {\r\n            newMessageHandler.handleNewMessage(phone, message)\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private fun handleDeletedMessage(remoteMessage: RemoteMessage) {\r\n        newMessageHandler.handleDeletedMessage(remoteMessage.data)\r\n    }\r\n\r\n    private fun handleNewGroup(remoteMessage: RemoteMessage) {\r\n        newMessageHandler.handleNewGroup(remoteMessage.data)\r\n    }\r\n\r\n    private fun handleGroupEvent(remoteMessage: RemoteMessage) {\r\n        newMessageHandler.handleGroupEvent(remoteMessage.data)\r\n    }\r\n\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        disposables.dispose()\r\n        cancelCoroutineJob()\r\n    }\r\n\r\n    private fun cancelCoroutineJob() = try {\r\n//        parentJob.cancel()\r\n    } catch (e: Exception) {\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\nNotification Builder\r\n\r\n```\r\n\r\n\r\npublic class NotificationHelper extends ContextWrapper {\r\n\r\n    \r\n    \r\n\r\n    private NotificationManager manager;\r\n\r\n\r\n    public NotificationHelper(Context base) {\r\n        super(base);\r\n        \r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n\r\n            NotificationChannel messagesChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_MESSAGES,\r\n                    NOTIFICATION_CHANNEL_NAME_MESSAGES, NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            messagesChannel.setVibrationPattern(getVibrationPattern());\r\n            getManager().createNotificationChannel(messagesChannel);\r\n\r\n            NotificationChannel audioChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_AUDIO,\r\n                    NOTIFICATION_CHANNEL_NAME_AUDIO, NotificationManager.IMPORTANCE_HIGH);\r\n            audioChannel.setSound(null, null);\r\n\r\n            getManager().createNotificationChannel(audioChannel);\r\n\r\n\r\n            NotificationChannel callsChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_CALLING,\r\n                    NOTIFICATION_CHANNEL_NAME_CALLING, NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            callsChannel.setSound(null, null);\r\n\r\n            getManager().createNotificationChannel(callsChannel);\r\n\r\n\r\n            NotificationChannel incomingCallsChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_INCOMING_CALLS,\r\n                    NOTIFICATION_CHANNEL_NAME_INCOMING_CALLS, NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            incomingCallsChannel.setSound(null, null);\r\n\r\n            getManager().createNotificationChannel(incomingCallsChannel);\r\n\r\n            NotificationChannel backupChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_BACKUP,\r\n                    NOTIFICATION_CHANNEL_NAME_BACKUP, NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            backupChannel.setSound(null, null);\r\n\r\n            getManager().createNotificationChannel(backupChannel);\r\n\r\n\r\n            NotificationChannel restoreChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_RESTORE,\r\n                    NOTIFICATION_CHANNEL_NAME_RESTORE, NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            restoreChannel.setSound(null, null);\r\n\r\n            getManager().createNotificationChannel(restoreChannel);\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n    private long[] getVibrationPattern() {\r\n        return SharedPreferencesManager.isVibrateEnabled() ? new long[]{200, 200} : new long[0];\r\n    }\r\n\r\n\r\n    //get summary text (30 messages from 2 chats for example)\r\n    private String getSubText(int messagesCount, int chatsCount) {\r\n        String chats = chatsCount == 1 ? &quot; Chat&quot; : &quot; Chats&quot;;\r\n        String messages = messagesCount == 1 ? &quot; Message&quot; : &quot; Messages&quot;;\r\n        if (chatsCount &lt;= 1) {\r\n            return messagesCount + &quot; New &quot; + messages;\r\n        }\r\n        return messagesCount + messages + &quot; from &quot; + chatsCount + chats;\r\n    }\r\n\r\n    private String getUserNameWithNumOfMessages(int unreadCount,\r\n                                                String userName) {\r\n        if (unreadCount == 0 || unreadCount == 1)\r\n            return userName;\r\n\r\n        return userName + &quot; &quot; + &quot;(&quot; + unreadCount + &quot; Messages&quot; + &quot;)&quot; + &quot; &quot;;\r\n\r\n    }\r\n\r\n    public static boolean isBelowApi24() {\r\n        return Build.VERSION.SDK_INT &lt; 24;\r\n    }\r\n\r\n\r\n    private Bitmap getProfilePhotoAsBitmap(String thumbImg) {\r\n        if (thumbImg != null)\r\n            return BitmapUtils.encodeImage(thumbImg);\r\n\r\n        \r\n        \r\n        return BitmapUtils.getBitmapFromVectorDrawable(this, R.drawable.user_img);\r\n\r\n    }\r\n\r\n    private String getSenderName(String userName, String groupName) {\r\n\r\n        if (isBelowApi24() &amp;&amp; groupName != null) {\r\n            return userName + &quot; @ &quot; + groupName;\r\n        }\r\n\r\n\r\n        return userName;\r\n    }\r\n\r\n    \r\n    public void dismissNotification(String chatId, boolean decrementCount) {\r\n\r\n        Chat chat = RealmHelper.getInstance().getChat(chatId);\r\n        if (chat != null) {\r\n\r\n            int notificationId = isBelowApi24() ? ID_NOTIFICATION : chat.getNotificationId();\r\n            getManager().cancel(notificationId);\r\n            if (decrementCount) {\r\n                updateNotificationCount(0);\r\n                RealmHelper.getInstance().deleteUnReadMessages(chatId);\r\n            }\r\n            \r\n            if (!isBelowApi24() &amp;&amp; !RealmHelper.getInstance().areThereUnreadChats()) {\r\n                \r\n                getManager().cancel(ID_GROUP_NOTIFICATION);\r\n            }\r\n        }\r\n    }\r\n\r\n    //update Notification Count badge (in launcher)\r\n    public void updateNotificationCount(int messagesCount) {\r\n\r\n        if (messagesCount &gt;= 0) {\r\n            ShortcutBadger.applyCount(this, messagesCount);\r\n        }\r\n    }\r\n\r\n\r\n    public void fireNotification(String newMessageChatId) {\r\n        boolean isNotificationsEnabled = SharedPreferencesManager.isNotificationEnabled();\r\n        long unreadMessagesCount = RealmHelper.getInstance().getUnreadMessagesCount();\r\nif (isBelowApi24()) {\r\n            \r\n            HashMap&lt;String, Chat&gt; chatHashMap = new HashMap&lt;&gt;();\r\n            \r\n            List&lt;Message&gt; last7UnreadMessages = RealmHelper.getInstance().getLast7UnreadMessages();\r\n            final NotificationCompat.MessagingStyle messagingStyle = new NotificationCompat.MessagingStyle(&quot;&quot;);\r\n            \r\n            int chatsCount = (int) RealmHelper.getInstance().getUnreadChatsCount();\r\n            String lastMessageTimestamp;\r\n\r\n            Chat lastChat;\r\n\r\n            \r\n            if (last7UnreadMessages.isEmpty()) {\r\n                getManager().cancel(ID_NOTIFICATION);\r\n            } else {\r\n\r\n                for (int i = 0; i &lt; last7UnreadMessages.size(); i++) {\r\n\r\n                    Message unreadMessage = last7UnreadMessages.get(i);\r\n\r\n                    String chatId = unreadMessage.getChatId();\r\n                    Chat chat;\r\n                    \r\n                    if (chatHashMap.containsKey(chatId)) {\r\n                        chat = chatHashMap.get(chatId);\r\n                        \r\n                    } else {\r\n                        chat = RealmHelper.getInstance().getChat(chatId);\r\n                        chatHashMap.put(chatId, chat);\r\n                    }\r\n\r\n                    lastChat = chat;\r\n\r\n                    lastMessageTimestamp = unreadMessage.getTimestamp();\r\n\r\n                    \r\n                   \r\n                    if (isNotificationsEnabled &amp;&amp; !chat.isMuted()) {\r\n                        String sender = &quot;&quot;;\r\n                        if (chat.getUser().isGroupBool()) {\r\n                            RealmList&lt;User&gt; users = chat.getUser().getGroup().getUsers();\r\n                            User user = ListUtil.getUserById(unreadMessage.getFromId(), users);\r\n                            if (user != null) {\r\n                                sender = getSenderName(user.getProperUserName(), chat.getUser().getProperUserName());\r\n                            }\r\n                        } else {\r\n                            if (chatsCount &gt; 1)\r\n                                sender = getSenderName(chat.getUser().getProperUserName(), null);\r\n                        }\r\n\r\n                        messagingStyle.addMessage(getMessageContent(unreadMessage, true), Long.parseLong(unreadMessage.getTimestamp()), sender);\r\n\r\n                    }\r\n\r\n\r\n                    NotificationCompat.Builder notificationBuilder =\r\n                            createNotificationBuilder(\r\n                                    &quot;&quot;\r\n                                    , &quot;&quot;\r\n                                    , chat, chatsCount);\r\n\r\n\r\n                    if (chatHashMap.size() &gt; 1) {\r\n                        String appName = this.getResources().getString(R.string.app_name);\r\n                        messagingStyle.setConversationTitle(appName);\r\n                        notificationBuilder.setContentIntent(getPendingIntent(null));\r\n\r\n                    } else {\r\n                        messagingStyle.setConversationTitle(lastChat.getUser().getProperUserName());\r\n                        notificationBuilder.setContentIntent(getPendingIntent(lastChat));\r\n                    }\r\n\r\n\r\n                    notificationBuilder.setSubText(getSubText((int) unreadMessagesCount, chatsCount));\r\n\r\n\r\n                    notificationBuilder.setStyle(messagingStyle);\r\n\r\n                    //set the timestamp of the last message\r\n                    if (!lastMessageTimestamp.equals(&quot;&quot;))\r\n                        notificationBuilder.setWhen(Long.parseLong(lastMessageTimestamp));\r\n\r\n\r\n                    //notify once after filling the messages\r\n                    if (i == last7UnreadMessages.size() - 1)\r\n                        getManager().notify(ID_NOTIFICATION, notificationBuilder.build());\r\n                }\r\n            }\r\n\r\n            updateNotificationCount((int) unreadMessagesCount);\r\n\r\n            //api24+ (grouping feature)\r\n        } else {\r\n\r\n            List&lt;Chat&gt; unreadChats = RealmHelper.getInstance().getUnreadChats();\r\n\r\n            for (Chat unreadChat : unreadChats) {\r\n\r\n                final NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle();\r\n                final NotificationCompat.MessagingStyle messagingStyle = new NotificationCompat.MessagingStyle(&quot;&quot;);\r\n\r\n                if (isNotificationsEnabled &amp;&amp; !unreadChat.isMuted()) {\r\n\r\n\r\n                    String userNameWithNumOfMessages = getUserNameWithNumOfMessages(unreadChat.getUnReadCount(), unreadChat.getUser().getProperUserName());\r\n\r\n                    messagingStyle.setConversationTitle(userNameWithNumOfMessages);\r\n\r\n\r\n                    //if it&#39;s a group or it&#39;s below api24 we will use messaging style\r\n                    boolean isGroup = unreadChat.getUser().isGroupBool();\r\n\r\n                    List&lt;Message&gt; messageList = RealmHelper.getInstance().filterUnreadMessages(unreadChat.getUnreadMessages());\r\n                    if (isGroup) {\r\n                        RealmList&lt;User&gt; users = unreadChat.getUser().getGroup().getUsers();\r\n\r\n                        for (Message unreadMessage : messageList) {\r\n                            User user = ListUtil.getUserById(unreadMessage.getFromId(), users);\r\n                            if (user != null) {\r\n                                String sender = getSenderName(user.getProperUserName(), unreadChat.getUser().getProperUserName());\r\n                                messagingStyle.addMessage(getMessageContent(unreadMessage, true), Long.parseLong(unreadMessage.getTimestamp()), sender);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (Message unreadMessage : messageList) {\r\n                            inboxStyle.addLine(getMessageContent(unreadMessage, true));\r\n                        }\r\n                    }\r\n\r\n\r\n                    NotificationCompat.Builder notificationBuilder =\r\n                            createNotificationBuilder(\r\n                                    userNameWithNumOfMessages\r\n                                    , getMessageContent(unreadChat.getUnreadMessages().last(), true)\r\n                                    , unreadChat, unreadChats.size());\r\n\r\n                    //if it&#39;s a group we will use messaging style,otherwise we will user inboxStyle\r\n                    notificationBuilder.setStyle(isGroup || isBelowApi24() ? messagingStyle : inboxStyle);\r\n\r\n                    if (!unreadChat.getLastMessageTimestamp().equals(&quot;&quot;))\r\n                        notificationBuilder.setWhen(Long.parseLong(unreadChat.getLastMessageTimestamp()));\r\n\r\n\r\n                    NotificationCompat.Builder groupNotification;\r\n\r\n                    PendingIntent pendingIntent = getPendingIntent(unreadChat);\r\n                    notificationBuilder.setContentIntent(pendingIntent);\r\n\r\n                    \r\n                    notificationBuilder.setOnlyAlertOnce(newMessageChatId.equals(unreadChat.getChatId()) ? false : true);\r\n\r\n\r\n                    int notificationId = unreadChat.getNotificationId();\r\n                    //group multiple notification in one grouped notification\r\n                    groupNotification = createNotificationBuilder(&quot;&quot;, &quot;&quot;, null, unreadChats.size());\r\n\r\n                    if (!unreadChat.getLastMessageTimestamp().equals(&quot;&quot;))\r\n                        groupNotification.setWhen(Long.parseLong(unreadChat.getLastMessageTimestamp()));\r\n\r\n\r\n                    //group notification by user id\r\n                    groupNotification.setGroupSummary(true).setGroup(KEY_NOTIFICATION_GROUP);\r\n\r\n                    \r\n                    groupNotification.setOnlyAlertOnce(true);\r\n\r\n                    groupNotification.setContentTitle(&quot;&quot;);\r\n\r\n                    //set Summary (eg. 10 Messages from 3 Chat)\r\n                    String subText = getSubText((int) unreadMessagesCount, unreadChats.size());\r\n\r\n                    groupNotification.setSubText(subText);\r\n\r\n                    notificationBuilder.setGroup(KEY_NOTIFICATION_GROUP);\r\n\r\n\r\n                    notificationBuilder.addAction(getReplyActionInput(unreadChat));\r\n                    notificationBuilder.addAction(getMarkAsReadAction(unreadChat));\r\n\r\n\r\n                    getManager().notify(notificationId, notificationBuilder.build());\r\n                    getManager().notify(ID_GROUP_NOTIFICATION, groupNotification.build());\r\n\r\n                }\r\n            }\r\n            updateNotificationCount((int) unreadMessagesCount);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //get onClick intent\r\n    private PendingIntent getPendingIntent(Chat chat) {\r\n        PendingIntent pendingIntent;\r\n        if (isBelowApi24()) {\r\n            //if it&#39;s only from one user then open the chatActivity with this user\r\n            if (chat != null) {\r\n                Intent intent = new Intent(this, ChatActivity.class);\r\n                intent.putExtra(IntentUtils.UID, chat.getChatId());\r\n                //adding stack for user (to prevent kill the app when click back since there is no previous activity launched\r\n                TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\r\n                stackBuilder.addNextIntentWithParentStack(intent);\r\n                pendingIntent = stackBuilder.getPendingIntent(ID_NOTIFICATION, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            } else {\r\n                \r\n                Intent intent = new Intent(this, MainActivity.class);\r\n                pendingIntent = PendingIntent.getActivity(this, 1, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n\r\n        } else {\r\n\r\n            Intent intent = new Intent(this, ChatActivity.class);\r\n            intent.putExtra(IntentUtils.UID, chat.getChatId());\r\n            \r\n            TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\r\n            stackBuilder.addNextIntentWithParentStack(intent);\r\n            pendingIntent = stackBuilder.getPendingIntent(chat.getNotificationId(), PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n        return pendingIntent;\r\n    }\r\n\r\n    private NotificationCompat.Builder createNotificationBuilder(\r\n            String title, String message, Chat chat, int chatsCount) {\r\n\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(getApplicationContext(), NOTIFICATION_CHANNEL_ID_MESSAGES)\r\n                //set app icon\r\n                .setSmallIcon(R.drawable.ic_noti_icon)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                //color\r\n                .setColor(ContextCompat.getColor(this, R.color.colorPrimary))\r\n                .setDefaults(NotificationCompat.DEFAULT_LIGHTS)\r\n                //Notification Sound (get it from shared preferences)\r\n                .setSound(SharedPreferencesManager.getRingtone())\r\n                //high priority to make it show as heads-up\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                //set vibrate if it&#39;s enabled by the user\r\n                .setVibrate(getVibrationPattern());\r\n\r\n        if (chat != null) {\r\n            User user = chat.getUser();\r\n            Bitmap largeIcon = getProfilePhotoAsBitmap(user.getThumbImg());\r\n\r\n            if (!isBelowApi24() || chatsCount == 1)\r\n                builder.setLargeIcon(largeIcon);\r\n\r\n        } else {\r\n            Bitmap largeIcon = getProfilePhotoAsBitmap(null);\r\n            builder.setLargeIcon(largeIcon);\r\n        }\r\n\r\n\r\n        return builder;\r\n    }\r\n\r\n    private NotificationManager getManager() {\r\n        if (manager == null) {\r\n            manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        }\r\n        return manager;\r\n    }\r\n\r\n    \r\n\r\n    \r\n    \r\n\r\n\r\n```\r\n\r\napp is open Notification is showing but app is in the background Notification is not showing","title":"Android notification is not showing in the background","body":"<p>app is open Notification is showing but app is in the background Notification is not showing\nThe notification should be working 8 , but android 9,10  not working. The Notification isn't showing at all. I don't know what am I missing.</p>\n<p>this is a MyFCMservise file</p>\n<pre><code>class MyFCMService : FirebaseMessagingService() {\n    private var fireManager = FireManager()\n    private var disposables = CompositeDisposable()\n    private lateinit var newMessageHandler: NewMessageHandler\n\n    private val parentJob = SupervisorJob()\n    private val scope = CoroutineScope(Main + parentJob)\n\n\n   \n\n    \n\n\n    override fun onNewToken(s: String) {\n        super.onNewToken(s)\n        if (!isLoggedIn()) return \n\n\n        SharedPreferencesManager.setTokenSaved(false)\n        ServiceHelper.saveToken(this, s)\n    }\n\n    override fun onMessageReceived(remoteMessage: RemoteMessage) {\n        super.onMessageReceived(remoteMessage)\n        if (FireManager.isLoggedIn()\n                .not()\n        ) return  \n        if (updateChecker.needsUpdate()) return\n\n        val mainHandler = Handler(mainLooper)\n        //run on main thread\n        val myRunnable = Runnable {\n            newMessageHandler = NewMessageHandler(this, fireManager, messageDecryptor, disposables)\n\n\n\n            if (remoteMessage.data.containsKey(&quot;event&quot;)) {\n                \n                when {\n                    remoteMessage.data[&quot;event&quot;] == &quot;group_event&quot; -&gt; {\n                        handleGroupEvent(remoteMessage)\n                    }\n                    remoteMessage.data[&quot;event&quot;] == &quot;new_group&quot; -&gt; {\n                        handleNewGroup(remoteMessage)\n                    }\n                    remoteMessage.data[&quot;event&quot;] == &quot;message_deleted&quot; -&gt; {\n                        handleDeletedMessage(remoteMessage)\n                    }\n                    remoteMessage.data[&quot;event&quot;] == &quot;new_call&quot; -&gt; {\n                        handleNewCall(remoteMessage)\n                    }\n\n                    remoteMessage.data[&quot;event&quot;] == &quot;logout&quot; -&gt; {\n                        val newDeviceId = remoteMessage.data[&quot;deviceId&quot;]\n\n                        if (newDeviceId != null &amp;&amp; newDeviceId != DeviceId.id) {\n                            LocalBroadcastManager.getInstance(this)\n                                .sendBroadcast(Intent(IntentUtils.ACTION_LOGOUT))\n                            FireManager.logout()\n                            NotificationHelper(this).fireUserLoggedOutNotification()\n                        }\n                    }\n\n                }\n            } else {\n                if (remoteMessage.data.containsKey(DBConstants.MESSAGE_ID)) {\n                    handleNewMessage(remoteMessage)\n                }\n            }\n        }\n        mainHandler.post(myRunnable)\n    }\n\n    private fun handleNewCall(map: RemoteMessage) {\n        val data = map.data\n\n        data[&quot;callId&quot;]?.let { callId -&gt;\n\n\n            val fromId = data[&quot;callerId&quot;] ?: &quot;&quot;\n\n            val typeInt = data[&quot;callType&quot;]?.toIntOrNull() ?: CallType.VOICE.value\n            val type = CallType.fromInt(typeInt)\n\n\n            val groupId = data[&quot;groupId&quot;] ?: &quot;&quot;\n\n            val isGroupCall = type.isGroupCall()\n\n            if (!isGroupCall &amp;&amp; uid.isEmpty()) return@let\n            if (isGroupCall &amp;&amp; groupId.isEmpty()) return@let\n            val channel = data[&quot;channel&quot;] ?: return@let\n\n            val groupName = data[&quot;groupName&quot;] ?: &quot;&quot;\n\n            val timestamp = data[&quot;timestamp&quot;]?.toLongOrNull() ?: System.currentTimeMillis()\n            val phoneNumber = data[&quot;phoneNumber&quot;] ?: &quot;&quot;\n\n            val isVideo = type.isVideo()\n\n            val uid = if (isGroupCall) groupId else fromId\n\n\n            var user: User\n\n            val storedUser = RealmHelper.getInstance().getUser(uid)\n\n            if (storedUser == null) {\n                //make dummy user temporarily\n                user = User().apply {\n                    if (isGroupCall) {\n                        this.uid = groupId!!\n                        this.isGroupBool = true\n                        this.userName = groupName\n                        this.group = Group().apply {\n                            this.groupId = groupId\n                            this.isActive = true\n                            this.setUsers(mutableListOf(SharedPreferencesManager.getCurrentUser()))\n                        }\n\n                    } else {\n                        this.uid = uid\n                        this.phone = phoneNumber\n                    }\n                }\n            } else {\n                user = storedUser\n            }\n\n            val fireCall = FireCall(\n                callId,\n                user,\n                FireCallDirection.INCOMING,\n                timestamp,\n                phoneNumber,\n                isVideo,\n                typeInt,\n                channel\n            )\n\n\n            newMessageHandler.handleNewCall(fireCall)\n\n        }\n\n    }\n\n    private fun handleNewMessage(remoteMessage: RemoteMessage) {\n        val messageId = remoteMessage.data[DBConstants.MESSAGE_ID]\n\n        //if message is deleted do not save it\n        if (RealmHelper.getInstance().getDeletedMessage(messageId) != null) return\n        if (RealmHelper.getInstance().getTempMessage(messageId) != null) return\n\n\n        val isGroup = remoteMessage.data.containsKey(&quot;isGroup&quot;)\n        //getting data from fcm message and convert it to a message\n        val phone = remoteMessage.data[DBConstants.PHONE] ?: &quot;&quot;\n        val content = remoteMessage.data[DBConstants.CONTENT]\n        val timestamp = remoteMessage.data[DBConstants.TIMESTAMP]\n        val type = remoteMessage.data[DBConstants.TYPE]?.toInt() ?: 0\n        //get sender uid\n        val fromId = remoteMessage.data[DBConstants.FROM_ID]\n        val toId = remoteMessage.data[DBConstants.TOID]\n        val metadata = remoteMessage.data[DBConstants.METADATA]\n        val partialText = remoteMessage.data[DBConstants.PARTIAL_TEXT]\n\n        \n\n        //if it's a group message and the message sender is the same\n        if (fromId == uid) return\n\n        //create the message\n        val message = Message()\n        message.content = content\n        message.partialText = partialText\n        message.timestamp = timestamp\n\n        message.fromId = fromId\n        message.type = convertedType\n        message.messageId = messageId\n        message.metadata = metadata\n        message.toId = toId\n        val chatId = if (isGroup) toId else fromId\n        message.chatId = chatId\n        message.isGroup = isGroup\n        if (isGroup) message.fromPhone = phone\n        //set default state\n        message.downloadUploadStat = DownloadUploadStat.FAILED\n\n       \n        if (MessageType.isSentText(type)) {\n            //set the state to default\n            message.downloadUploadStat = DownloadUploadStat.DEFAULT\n} else if (remoteMessage.data.containsKey(DBConstants.LOCATION)) {\n\n\n            message.downloadUploadStat = DownloadUploadStat.DEFAULT\n            //get the json location as String\n            val lat = remoteMessage.data[&quot;lat&quot;] ?: &quot;&quot;\n            val lng = remoteMessage.data[&quot;lng&quot;] ?: &quot;&quot;\n            if (lat.isNotEmpty() &amp;&amp; lng.isNotEmpty()) {\n                val name = remoteMessage.data[&quot;name&quot;] ?: &quot;&quot;\n                val address = remoteMessage.data[&quot;address&quot;] ?: &quot;&quot;\n                val location = RealmLocation(address, name, lat, lng)\n                message.location = location\n            }\n        } else if (remoteMessage.data.containsKey(DBConstants.THUMB)) {\n            val thumb = remoteMessage.data[DBConstants.THUMB]\n\n            //Check if it's Video and set Video Duration\n            if (remoteMessage.data.containsKey(DBConstants.MEDIADURATION)) {\n                val mediaDuration = remoteMessage.data[DBConstants.MEDIADURATION]\n                message.mediaDuration = mediaDuration\n            }\n            message.thumb = thumb\n\n\n            //check if it's Voice Message or Audio File\n        } else if (remoteMessage.data.containsKey(DBConstants.MEDIADURATION)\n            &amp;&amp; type == MessageType.SENT_VOICE_MESSAGE || type == MessageType.SENT_AUDIO\n        ) {\n\n            //set audio duration\n            val mediaDuration = remoteMessage.data[DBConstants.MEDIADURATION]\n            message.mediaDuration = mediaDuration\n\n            //check if it's a File\n        } else if (remoteMessage.data.containsKey(DBConstants.FILESIZE)) {\n            val fileSize = remoteMessage.data[DBConstants.FILESIZE]\n            message.fileSize = fileSize\n        }\n\n        \n        if (remoteMessage.data.containsKey(&quot;quotedMessageId&quot;)) {\n            val quotedMessageId = remoteMessage.data[&quot;quotedMessageId&quot;]\n            \n            RealmHelper.getInstance().refresh()\n            val quotedMessage = RealmHelper.getInstance().getMessage(quotedMessageId, chatId)\n            if (quotedMessage != null)\n                message.quotedMessage = QuotedMessage.messageToQuotedMessage(quotedMessage)\n        }\n\n        \n        if (remoteMessage.data.containsKey(&quot;statusId&quot;)) {\n            val statusId = remoteMessage.data[&quot;statusId&quot;]\n            \n            RealmHelper.getInstance().refresh()\n            val status = RealmHelper.getInstance().getStatus(statusId)\n            if (status != null) {\n                message.status = status\n                val quotedMessage = Status.statusToMessage(status, fromId)\n                quotedMessage?.fromId = uid\n                quotedMessage?.chatId = fromId\n                if (quotedMessage != null)\n                    message.quotedMessage = QuotedMessage.messageToQuotedMessage(quotedMessage)\n\n\n            }\n            \n        }\n\n\n        scope.launch(Main) {\n            newMessageHandler.handleNewMessage(phone, message)\n        }\n\n\n    }\n\n    private fun handleDeletedMessage(remoteMessage: RemoteMessage) {\n        newMessageHandler.handleDeletedMessage(remoteMessage.data)\n    }\n\n    private fun handleNewGroup(remoteMessage: RemoteMessage) {\n        newMessageHandler.handleNewGroup(remoteMessage.data)\n    }\n\n    private fun handleGroupEvent(remoteMessage: RemoteMessage) {\n        newMessageHandler.handleGroupEvent(remoteMessage.data)\n    }\n\n\n    override fun onDestroy() {\n        super.onDestroy()\n        disposables.dispose()\n        cancelCoroutineJob()\n    }\n\n    private fun cancelCoroutineJob() = try {\n//        parentJob.cancel()\n    } catch (e: Exception) {\n    }\n}\n\n\n\n</code></pre>\n<p>Notification Builder</p>\n<pre><code>\n\npublic class NotificationHelper extends ContextWrapper {\n\n    \n    \n\n    private NotificationManager manager;\n\n\n    public NotificationHelper(Context base) {\n        super(base);\n        \n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n\n            NotificationChannel messagesChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_MESSAGES,\n                    NOTIFICATION_CHANNEL_NAME_MESSAGES, NotificationManager.IMPORTANCE_HIGH);\n\n            messagesChannel.setVibrationPattern(getVibrationPattern());\n            getManager().createNotificationChannel(messagesChannel);\n\n            NotificationChannel audioChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_AUDIO,\n                    NOTIFICATION_CHANNEL_NAME_AUDIO, NotificationManager.IMPORTANCE_HIGH);\n            audioChannel.setSound(null, null);\n\n            getManager().createNotificationChannel(audioChannel);\n\n\n            NotificationChannel callsChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_CALLING,\n                    NOTIFICATION_CHANNEL_NAME_CALLING, NotificationManager.IMPORTANCE_HIGH);\n\n            callsChannel.setSound(null, null);\n\n            getManager().createNotificationChannel(callsChannel);\n\n\n            NotificationChannel incomingCallsChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_INCOMING_CALLS,\n                    NOTIFICATION_CHANNEL_NAME_INCOMING_CALLS, NotificationManager.IMPORTANCE_HIGH);\n\n            incomingCallsChannel.setSound(null, null);\n\n            getManager().createNotificationChannel(incomingCallsChannel);\n\n            NotificationChannel backupChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_BACKUP,\n                    NOTIFICATION_CHANNEL_NAME_BACKUP, NotificationManager.IMPORTANCE_HIGH);\n\n            backupChannel.setSound(null, null);\n\n            getManager().createNotificationChannel(backupChannel);\n\n\n            NotificationChannel restoreChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID_RESTORE,\n                    NOTIFICATION_CHANNEL_NAME_RESTORE, NotificationManager.IMPORTANCE_HIGH);\n\n            restoreChannel.setSound(null, null);\n\n            getManager().createNotificationChannel(restoreChannel);\n\n\n\n        }\n    }\n\n    private long[] getVibrationPattern() {\n        return SharedPreferencesManager.isVibrateEnabled() ? new long[]{200, 200} : new long[0];\n    }\n\n\n    //get summary text (30 messages from 2 chats for example)\n    private String getSubText(int messagesCount, int chatsCount) {\n        String chats = chatsCount == 1 ? &quot; Chat&quot; : &quot; Chats&quot;;\n        String messages = messagesCount == 1 ? &quot; Message&quot; : &quot; Messages&quot;;\n        if (chatsCount &lt;= 1) {\n            return messagesCount + &quot; New &quot; + messages;\n        }\n        return messagesCount + messages + &quot; from &quot; + chatsCount + chats;\n    }\n\n    private String getUserNameWithNumOfMessages(int unreadCount,\n                                                String userName) {\n        if (unreadCount == 0 || unreadCount == 1)\n            return userName;\n\n        return userName + &quot; &quot; + &quot;(&quot; + unreadCount + &quot; Messages&quot; + &quot;)&quot; + &quot; &quot;;\n\n    }\n\n    public static boolean isBelowApi24() {\n        return Build.VERSION.SDK_INT &lt; 24;\n    }\n\n\n    private Bitmap getProfilePhotoAsBitmap(String thumbImg) {\n        if (thumbImg != null)\n            return BitmapUtils.encodeImage(thumbImg);\n\n        \n        \n        return BitmapUtils.getBitmapFromVectorDrawable(this, R.drawable.user_img);\n\n    }\n\n    private String getSenderName(String userName, String groupName) {\n\n        if (isBelowApi24() &amp;&amp; groupName != null) {\n            return userName + &quot; @ &quot; + groupName;\n        }\n\n\n        return userName;\n    }\n\n    \n    public void dismissNotification(String chatId, boolean decrementCount) {\n\n        Chat chat = RealmHelper.getInstance().getChat(chatId);\n        if (chat != null) {\n\n            int notificationId = isBelowApi24() ? ID_NOTIFICATION : chat.getNotificationId();\n            getManager().cancel(notificationId);\n            if (decrementCount) {\n                updateNotificationCount(0);\n                RealmHelper.getInstance().deleteUnReadMessages(chatId);\n            }\n            \n            if (!isBelowApi24() &amp;&amp; !RealmHelper.getInstance().areThereUnreadChats()) {\n                \n                getManager().cancel(ID_GROUP_NOTIFICATION);\n            }\n        }\n    }\n\n    //update Notification Count badge (in launcher)\n    public void updateNotificationCount(int messagesCount) {\n\n        if (messagesCount &gt;= 0) {\n            ShortcutBadger.applyCount(this, messagesCount);\n        }\n    }\n\n\n    public void fireNotification(String newMessageChatId) {\n        boolean isNotificationsEnabled = SharedPreferencesManager.isNotificationEnabled();\n        long unreadMessagesCount = RealmHelper.getInstance().getUnreadMessagesCount();\nif (isBelowApi24()) {\n            \n            HashMap&lt;String, Chat&gt; chatHashMap = new HashMap&lt;&gt;();\n            \n            List&lt;Message&gt; last7UnreadMessages = RealmHelper.getInstance().getLast7UnreadMessages();\n            final NotificationCompat.MessagingStyle messagingStyle = new NotificationCompat.MessagingStyle(&quot;&quot;);\n            \n            int chatsCount = (int) RealmHelper.getInstance().getUnreadChatsCount();\n            String lastMessageTimestamp;\n\n            Chat lastChat;\n\n            \n            if (last7UnreadMessages.isEmpty()) {\n                getManager().cancel(ID_NOTIFICATION);\n            } else {\n\n                for (int i = 0; i &lt; last7UnreadMessages.size(); i++) {\n\n                    Message unreadMessage = last7UnreadMessages.get(i);\n\n                    String chatId = unreadMessage.getChatId();\n                    Chat chat;\n                    \n                    if (chatHashMap.containsKey(chatId)) {\n                        chat = chatHashMap.get(chatId);\n                        \n                    } else {\n                        chat = RealmHelper.getInstance().getChat(chatId);\n                        chatHashMap.put(chatId, chat);\n                    }\n\n                    lastChat = chat;\n\n                    lastMessageTimestamp = unreadMessage.getTimestamp();\n\n                    \n                   \n                    if (isNotificationsEnabled &amp;&amp; !chat.isMuted()) {\n                        String sender = &quot;&quot;;\n                        if (chat.getUser().isGroupBool()) {\n                            RealmList&lt;User&gt; users = chat.getUser().getGroup().getUsers();\n                            User user = ListUtil.getUserById(unreadMessage.getFromId(), users);\n                            if (user != null) {\n                                sender = getSenderName(user.getProperUserName(), chat.getUser().getProperUserName());\n                            }\n                        } else {\n                            if (chatsCount &gt; 1)\n                                sender = getSenderName(chat.getUser().getProperUserName(), null);\n                        }\n\n                        messagingStyle.addMessage(getMessageContent(unreadMessage, true), Long.parseLong(unreadMessage.getTimestamp()), sender);\n\n                    }\n\n\n                    NotificationCompat.Builder notificationBuilder =\n                            createNotificationBuilder(\n                                    &quot;&quot;\n                                    , &quot;&quot;\n                                    , chat, chatsCount);\n\n\n                    if (chatHashMap.size() &gt; 1) {\n                        String appName = this.getResources().getString(R.string.app_name);\n                        messagingStyle.setConversationTitle(appName);\n                        notificationBuilder.setContentIntent(getPendingIntent(null));\n\n                    } else {\n                        messagingStyle.setConversationTitle(lastChat.getUser().getProperUserName());\n                        notificationBuilder.setContentIntent(getPendingIntent(lastChat));\n                    }\n\n\n                    notificationBuilder.setSubText(getSubText((int) unreadMessagesCount, chatsCount));\n\n\n                    notificationBuilder.setStyle(messagingStyle);\n\n                    //set the timestamp of the last message\n                    if (!lastMessageTimestamp.equals(&quot;&quot;))\n                        notificationBuilder.setWhen(Long.parseLong(lastMessageTimestamp));\n\n\n                    //notify once after filling the messages\n                    if (i == last7UnreadMessages.size() - 1)\n                        getManager().notify(ID_NOTIFICATION, notificationBuilder.build());\n                }\n            }\n\n            updateNotificationCount((int) unreadMessagesCount);\n\n            //api24+ (grouping feature)\n        } else {\n\n            List&lt;Chat&gt; unreadChats = RealmHelper.getInstance().getUnreadChats();\n\n            for (Chat unreadChat : unreadChats) {\n\n                final NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle();\n                final NotificationCompat.MessagingStyle messagingStyle = new NotificationCompat.MessagingStyle(&quot;&quot;);\n\n                if (isNotificationsEnabled &amp;&amp; !unreadChat.isMuted()) {\n\n\n                    String userNameWithNumOfMessages = getUserNameWithNumOfMessages(unreadChat.getUnReadCount(), unreadChat.getUser().getProperUserName());\n\n                    messagingStyle.setConversationTitle(userNameWithNumOfMessages);\n\n\n                    //if it's a group or it's below api24 we will use messaging style\n                    boolean isGroup = unreadChat.getUser().isGroupBool();\n\n                    List&lt;Message&gt; messageList = RealmHelper.getInstance().filterUnreadMessages(unreadChat.getUnreadMessages());\n                    if (isGroup) {\n                        RealmList&lt;User&gt; users = unreadChat.getUser().getGroup().getUsers();\n\n                        for (Message unreadMessage : messageList) {\n                            User user = ListUtil.getUserById(unreadMessage.getFromId(), users);\n                            if (user != null) {\n                                String sender = getSenderName(user.getProperUserName(), unreadChat.getUser().getProperUserName());\n                                messagingStyle.addMessage(getMessageContent(unreadMessage, true), Long.parseLong(unreadMessage.getTimestamp()), sender);\n                            }\n                        }\n                    } else {\n                        for (Message unreadMessage : messageList) {\n                            inboxStyle.addLine(getMessageContent(unreadMessage, true));\n                        }\n                    }\n\n\n                    NotificationCompat.Builder notificationBuilder =\n                            createNotificationBuilder(\n                                    userNameWithNumOfMessages\n                                    , getMessageContent(unreadChat.getUnreadMessages().last(), true)\n                                    , unreadChat, unreadChats.size());\n\n                    //if it's a group we will use messaging style,otherwise we will user inboxStyle\n                    notificationBuilder.setStyle(isGroup || isBelowApi24() ? messagingStyle : inboxStyle);\n\n                    if (!unreadChat.getLastMessageTimestamp().equals(&quot;&quot;))\n                        notificationBuilder.setWhen(Long.parseLong(unreadChat.getLastMessageTimestamp()));\n\n\n                    NotificationCompat.Builder groupNotification;\n\n                    PendingIntent pendingIntent = getPendingIntent(unreadChat);\n                    notificationBuilder.setContentIntent(pendingIntent);\n\n                    \n                    notificationBuilder.setOnlyAlertOnce(newMessageChatId.equals(unreadChat.getChatId()) ? false : true);\n\n\n                    int notificationId = unreadChat.getNotificationId();\n                    //group multiple notification in one grouped notification\n                    groupNotification = createNotificationBuilder(&quot;&quot;, &quot;&quot;, null, unreadChats.size());\n\n                    if (!unreadChat.getLastMessageTimestamp().equals(&quot;&quot;))\n                        groupNotification.setWhen(Long.parseLong(unreadChat.getLastMessageTimestamp()));\n\n\n                    //group notification by user id\n                    groupNotification.setGroupSummary(true).setGroup(KEY_NOTIFICATION_GROUP);\n\n                    \n                    groupNotification.setOnlyAlertOnce(true);\n\n                    groupNotification.setContentTitle(&quot;&quot;);\n\n                    //set Summary (eg. 10 Messages from 3 Chat)\n                    String subText = getSubText((int) unreadMessagesCount, unreadChats.size());\n\n                    groupNotification.setSubText(subText);\n\n                    notificationBuilder.setGroup(KEY_NOTIFICATION_GROUP);\n\n\n                    notificationBuilder.addAction(getReplyActionInput(unreadChat));\n                    notificationBuilder.addAction(getMarkAsReadAction(unreadChat));\n\n\n                    getManager().notify(notificationId, notificationBuilder.build());\n                    getManager().notify(ID_GROUP_NOTIFICATION, groupNotification.build());\n\n                }\n            }\n            updateNotificationCount((int) unreadMessagesCount);\n        }\n\n    }\n\n\n    //get onClick intent\n    private PendingIntent getPendingIntent(Chat chat) {\n        PendingIntent pendingIntent;\n        if (isBelowApi24()) {\n            //if it's only from one user then open the chatActivity with this user\n            if (chat != null) {\n                Intent intent = new Intent(this, ChatActivity.class);\n                intent.putExtra(IntentUtils.UID, chat.getChatId());\n                //adding stack for user (to prevent kill the app when click back since there is no previous activity launched\n                TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\n                stackBuilder.addNextIntentWithParentStack(intent);\n                pendingIntent = stackBuilder.getPendingIntent(ID_NOTIFICATION, PendingIntent.FLAG_UPDATE_CURRENT);\n            } else {\n                \n                Intent intent = new Intent(this, MainActivity.class);\n                pendingIntent = PendingIntent.getActivity(this, 1, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n            }\n\n        } else {\n\n            Intent intent = new Intent(this, ChatActivity.class);\n            intent.putExtra(IntentUtils.UID, chat.getChatId());\n            \n            TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);\n            stackBuilder.addNextIntentWithParentStack(intent);\n            pendingIntent = stackBuilder.getPendingIntent(chat.getNotificationId(), PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n        return pendingIntent;\n    }\n\n    private NotificationCompat.Builder createNotificationBuilder(\n            String title, String message, Chat chat, int chatsCount) {\n\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(getApplicationContext(), NOTIFICATION_CHANNEL_ID_MESSAGES)\n                //set app icon\n                .setSmallIcon(R.drawable.ic_noti_icon)\n                .setContentTitle(title)\n                .setContentText(message)\n                //color\n                .setColor(ContextCompat.getColor(this, R.color.colorPrimary))\n                .setDefaults(NotificationCompat.DEFAULT_LIGHTS)\n                //Notification Sound (get it from shared preferences)\n                .setSound(SharedPreferencesManager.getRingtone())\n                //high priority to make it show as heads-up\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                //set vibrate if it's enabled by the user\n                .setVibrate(getVibrationPattern());\n\n        if (chat != null) {\n            User user = chat.getUser();\n            Bitmap largeIcon = getProfilePhotoAsBitmap(user.getThumbImg());\n\n            if (!isBelowApi24() || chatsCount == 1)\n                builder.setLargeIcon(largeIcon);\n\n        } else {\n            Bitmap largeIcon = getProfilePhotoAsBitmap(null);\n            builder.setLargeIcon(largeIcon);\n        }\n\n\n        return builder;\n    }\n\n    private NotificationManager getManager() {\n        if (manager == null) {\n            manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        }\n        return manager;\n    }\n\n    \n\n    \n    \n\n\n</code></pre>\n<p>app is open Notification is showing but app is in the background Notification is not showing</p>\n"},{"tags":["java","android","kotlin","realm","build.gradle"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1547735519,"post_id":54229459,"comment_id":95300762,"body_markdown":"You probably didn&#39;t add `apply plugin: &#39;kotlin-kapt&#39;`","body":"You probably didn&#39;t add <code>apply plugin: &#39;kotlin-kapt&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1639308,"reputation":425,"user_id":1512072,"accept_rate":83,"display_name":"Adi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548239873,"creation_date":1548239873,"answer_id":54325295,"question_id":54229459,"body_markdown":"Finally Solved this myself , I had missed registering the Realm-Transformer which is responsible for generating the RealmProxy.\r\n\r\nWe need to add below code to build.gradle of required module/app\r\n\r\n    buildscript {\r\n        \r\n       repositories {\r\n           jcenter()\r\n           mavenCentral()\r\n       }\r\n        \r\n       dependencies {\r\n           classpath &quot;io.realm:realm-transformer:5.8.0&quot;\r\n       }\r\n    }\r\n    import io.realm.transformer.RealmTransformer\r\n    android.registerTransform(new RealmTransformer(rootProject))","title":"Model cannot be cast to ModelRealmProxyInterface","body":"<p>Finally Solved this myself , I had missed registering the Realm-Transformer which is responsible for generating the RealmProxy.</p>\n\n<p>We need to add below code to build.gradle of required module/app</p>\n\n<pre><code>buildscript {\n\n   repositories {\n       jcenter()\n       mavenCentral()\n   }\n\n   dependencies {\n       classpath \"io.realm:realm-transformer:5.8.0\"\n   }\n}\nimport io.realm.transformer.RealmTransformer\nandroid.registerTransform(new RealmTransformer(rootProject))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17979144,"reputation":11,"user_id":14824536,"display_name":"Vlad Kuzmin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639482921,"creation_date":1639482601,"answer_id":70348388,"question_id":54229459,"body_markdown":"I had this problem, I tried many solutions, but only this\r\n\r\n    realm.deleteAll();\r\n\r\ncould help me","title":"Model cannot be cast to ModelRealmProxyInterface","body":"<p>I had this problem, I tried many solutions, but only this</p>\n<pre><code>realm.deleteAll();\n</code></pre>\n<p>could help me</p>\n"}],"owner":{"account_id":1639308,"reputation":425,"user_id":1512072,"accept_rate":83,"display_name":"Adi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54325295,"answer_count":2,"score":2,"last_activity_date":1639482921,"creation_date":1547702296,"question_id":54229459,"body_markdown":"I&#39;m trying to use [Realm-java library][1] built from source, I have used the below JARs and AARs \r\n\r\n - a jar file for the Realm Gradle plugin \r\n - an aar file for the Realm library \r\n - a jar file for the annotations \r\n - a jar file for the annotations\r\n   processor\r\n\r\nI have added Realm-annotations-processor as below in dependencies\r\n\r\n    kapt project(&#39;:realm-annotations-processor-5.8.0&#39;)\r\n\r\nWhen we do \r\n\r\n    val realm = Realm.getDefaultInstance()\r\n    try {\r\n      realm.executeTransaction { realmInstance -&gt;\r\n        realmInstance.copyToRealm(user)// ClassCastException thrown\r\n      }\r\n    } finally {\r\n      realm.refreshAndClose()\r\n    }\r\n\r\nThe precise exception we have encountered is: \r\n\r\n    UserModel cannot be cast to io.realm.com_example_mobile_test_auth_model_UserModelRealmProxyInterface\r\n\r\n\r\n  [1]: https://github.com/realm/realm-java#building-realm","title":"Model cannot be cast to ModelRealmProxyInterface","body":"<p>I'm trying to use <a href=\"https://github.com/realm/realm-java#building-realm\" rel=\"nofollow noreferrer\">Realm-java library</a> built from source, I have used the below JARs and AARs </p>\n\n<ul>\n<li>a jar file for the Realm Gradle plugin </li>\n<li>an aar file for the Realm library </li>\n<li>a jar file for the annotations </li>\n<li>a jar file for the annotations\nprocessor</li>\n</ul>\n\n<p>I have added Realm-annotations-processor as below in dependencies</p>\n\n<pre><code>kapt project(':realm-annotations-processor-5.8.0')\n</code></pre>\n\n<p>When we do </p>\n\n<pre><code>val realm = Realm.getDefaultInstance()\ntry {\n  realm.executeTransaction { realmInstance -&gt;\n    realmInstance.copyToRealm(user)// ClassCastException thrown\n  }\n} finally {\n  realm.refreshAndClose()\n}\n</code></pre>\n\n<p>The precise exception we have encountered is: </p>\n\n<pre><code>UserModel cannot be cast to io.realm.com_example_mobile_test_auth_model_UserModelRealmProxyInterface\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1639482930,"post_id":70348457,"comment_id":124354628,"body_markdown":"what error are you getting to say that it&#39;s to large for String to store? Because from my knowledge String can store up to 2,147,483,647 characters","body":"what error are you getting to say that it&#39;s to large for String to store? Because from my knowledge String can store up to 2,147,483,647 characters"},{"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"score":0,"creation_date":1639483052,"post_id":70348457,"comment_id":124354673,"body_markdown":"There is no error but responseString  got truncated.","body":"There is no error but responseString  got truncated."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1639483171,"post_id":70348457,"comment_id":124354723,"body_markdown":"count returned characters, if it&#39;s less than 2,147,483,647 then increase your heap size times 2, count returned characters if number it&#39;s the same as in first count then your error is not about String at all","body":"count returned characters, if it&#39;s less than 2,147,483,647 then increase your heap size times 2, count returned characters if number it&#39;s the same as in first count then your error is not about String at all"},{"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"score":0,"creation_date":1639483555,"post_id":70348457,"comment_id":124354865,"body_markdown":"Thanks, length of line shows 43,800 (char count without line ending 43,800). But it is not throwing error.\nwhile debugging i see line truncated with .......\n &quot;iso&quot;: &quot;2021-12-10T01:52:25-08:00&quot;, &quot;timestamp&quot;: ...","body":"Thanks, length of line shows 43,800 (char count without line ending 43,800). But it is not throwing error. while debugging i see line truncated with .......  &quot;iso&quot;: &quot;2021-12-10T01:52:25-08:00&quot;, &quot;timestamp&quot;: ..."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1639483658,"post_id":70348457,"comment_id":124354907,"body_markdown":"welll... that text sounds more like truncated by ide for viewing. Try to print it to console or to file, then check if it&#39;s still truncated","body":"welll... that text sounds more like truncated by ide for viewing. Try to print it to console or to file, then check if it&#39;s still truncated"},{"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"score":0,"creation_date":1639486784,"post_id":70348457,"comment_id":124356066,"body_markdown":"Hi I tried  to create file using string response \nPrintWriter outFile = new PrintWriter(&quot;src/test/resources/response.json&quot;);\noutFile.println(responseString);\n\nbut only 32,768 characters were written","body":"Hi I tried  to create file using string response  PrintWriter outFile = new PrintWriter(&quot;src/test/resources/response.json&quot;); outFile.println(responseString);  but only 32,768 characters were written"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1639487199,"post_id":70348457,"comment_id":124356215,"body_markdown":"check what EntityUtils.toString does in code","body":"check what EntityUtils.toString does in code"},{"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"score":0,"creation_date":1639488165,"post_id":70348457,"comment_id":124356582,"body_markdown":"EntityUtils just returns HTTP Response \n\n\nContent-Length: 46906 returned from HTTP Response \nIs it a reason that sting is getting truncated?","body":"EntityUtils just returns HTTP Response    Content-Length: 46906 returned from HTTP Response  Is it a reason that sting is getting truncated?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1639488392,"post_id":70348457,"comment_id":124356689,"body_markdown":"I must disagree with you. Look here: https://stackoverflow.com/questions/30642237/what-exactly-returns-entityutils-tostringresponse?noredirect=1&amp;lq=1","body":"I must disagree with you. Look here: <a href=\"https://stackoverflow.com/questions/30642237/what-exactly-returns-entityutils-tostringresponse?noredirect=1&amp;lq=1\" title=\"what exactly returns entityutils tostringresponse\">stackoverflow.com/questions/30642237/&hellip;</a>"},{"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"score":0,"creation_date":1639489139,"post_id":70348457,"comment_id":124357024,"body_markdown":"thanks I will check","body":"thanks I will check"},{"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"score":0,"creation_date":1639494699,"post_id":70348457,"comment_id":124359543,"body_markdown":"Tried lot of combinations for entity response but no success.\nwhen converting to string response is getting trucated.\nCould you please suggest?","body":"Tried lot of combinations for entity response but no success. when converting to string response is getting trucated. Could you please suggest?"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1639553588,"post_id":70348457,"comment_id":124375138,"body_markdown":"can you provide code to replicate that request?","body":"can you provide code to replicate that request?"}],"owner":{"account_id":9857302,"reputation":35,"user_id":7301426,"display_name":"Vishal"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639482874,"creation_date":1639482874,"question_id":70348457,"body_markdown":"I am trying to get JSONObject from following snippet of code.\r\n\r\nBut since response body is large it can not store results completely.\r\n\r\nFinal aim is to convert it to jsonobject or store as Json File\r\n\r\n    CloseableHttpResponse apiResponse;\r\n    apiResponse = getReorting(authToken);\r\n    \r\n    \r\n    String responseString = EntityUtils.toString(apiResponse.getEntity(), &quot;UTF-8&quot;);\r\n    JSONObject responseJson = new JSONObject(responseString);\r\n\r\n","title":"String can not store large CloseableHttpResponse response","body":"<p>I am trying to get JSONObject from following snippet of code.</p>\n<p>But since response body is large it can not store results completely.</p>\n<p>Final aim is to convert it to jsonobject or store as Json File</p>\n<pre><code>CloseableHttpResponse apiResponse;\napiResponse = getReorting(authToken);\n\n\nString responseString = EntityUtils.toString(apiResponse.getEntity(), &quot;UTF-8&quot;);\nJSONObject responseJson = new JSONObject(responseString);\n</code></pre>\n"},{"tags":["java","okhttp","noclassdeffounderror","java.util.concurrent"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1639421468,"post_id":70339467,"comment_id":124339538,"body_markdown":"As [here](https://stackoverflow.com/q/34413/1426891), note that the presence or absence of the JAR is not relevant as it would be for ClassNotFoundException. Something is happening in the static init of HTTPClient (likely in the instantiation of `CLIENT`, OkHttpClient) that keeps the class def of your HTTPClient from completing its initialization, which would likely be represented as [a `&lt;clinit&gt;` method](https://stackoverflow.com/q/8517121/1426891). Can you post the logs and look for any exceptions thrown on the affected machine during `com.myprogram.http.HTTPClient.&lt;clinit&gt;`?","body":"As <a href=\"https://stackoverflow.com/q/34413/1426891\">here</a>, note that the presence or absence of the JAR is not relevant as it would be for ClassNotFoundException. Something is happening in the static init of HTTPClient (likely in the instantiation of <code>CLIENT</code>, OkHttpClient) that keeps the class def of your HTTPClient from completing its initialization, which would likely be represented as <a href=\"https://stackoverflow.com/q/8517121/1426891\">a <code>&lt;clinit&gt;</code> method</a>. Can you post the logs and look for any exceptions thrown on the affected machine during <code>com.myprogram.http.HTTPClient.&lt;clinit&gt;</code>?"},{"owner":{"account_id":9121648,"reputation":3234,"user_id":6786876,"display_name":"Alexander Leithner"},"score":1,"creation_date":1639421656,"post_id":70339467,"comment_id":124339591,"body_markdown":"@Jeff Sure, will do! I was sure that I had already logged that exception, but that was not the case, as I have noticed while writing this question. I&#39;ll come back with the results tomorrow (UTC+1) since I don&#39;t currently have access to the machine.","body":"@Jeff Sure, will do! I was sure that I had already logged that exception, but that was not the case, as I have noticed while writing this question. I&#39;ll come back with the results tomorrow (UTC+1) since I don&#39;t currently have access to the machine."},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1639422187,"post_id":70339467,"comment_id":124339761,"body_markdown":"Thanks. Bear in mind that this might be much further up the logs than your call to `testServerAvailability` and even your TimeoutException, since the first interaction with the HTTPClient class will cause its loading and (presumably) the root cause of the later failures you posted.","body":"Thanks. Bear in mind that this might be much further up the logs than your call to <code>testServerAvailability</code> and even your TimeoutException, since the first interaction with the HTTPClient class will cause its loading and (presumably) the root cause of the later failures you posted."},{"owner":{"account_id":9121648,"reputation":3234,"user_id":6786876,"display_name":"Alexander Leithner"},"score":1,"creation_date":1639482284,"post_id":70339467,"comment_id":124354406,"body_markdown":"@Jeff Please have a look at the updated question – a bit of trial and error, however, fixed my problem, I will include an answer shortly.","body":"@Jeff Please have a look at the updated question – a bit of trial and error, however, fixed my problem, I will include an answer shortly."}],"answers":[{"tags":[],"owner":{"account_id":9121648,"reputation":3234,"user_id":6786876,"display_name":"Alexander Leithner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639482689,"creation_date":1639482689,"answer_id":70348409,"question_id":70339467,"body_markdown":"In my case, since I had set a timeout of 1,500 milliseconds on the future and because of the slower CPU clock speed of the misbehaving machine, the class was not fully initialised when the timeout occurred. Turns out, OkHttp is more or less the culprit, it takes more than 5 seconds to inistalise the client on the given machine.\r\n\r\nAll in all, I am no longer applying any timeout on the first try of the connection test to give OkHttp enough time to initialise itself.\r\n\r\nNote that this would not solve the problem if the initialisation of the `HTTPClient` was to fail at a different point in the application lifecycle. But since the first try of the connection test is the first place to call into `HTTPClient`, this is the only place where it can be initialised.","title":"What could cause a NoClassDefFoundError on one specific system only?","body":"<p>In my case, since I had set a timeout of 1,500 milliseconds on the future and because of the slower CPU clock speed of the misbehaving machine, the class was not fully initialised when the timeout occurred. Turns out, OkHttp is more or less the culprit, it takes more than 5 seconds to inistalise the client on the given machine.</p>\n<p>All in all, I am no longer applying any timeout on the first try of the connection test to give OkHttp enough time to initialise itself.</p>\n<p>Note that this would not solve the problem if the initialisation of the <code>HTTPClient</code> was to fail at a different point in the application lifecycle. But since the first try of the connection test is the first place to call into <code>HTTPClient</code>, this is the only place where it can be initialised.</p>\n"}],"owner":{"account_id":9121648,"reputation":3234,"user_id":6786876,"display_name":"Alexander Leithner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70348409,"answer_count":1,"score":2,"last_activity_date":1639482689,"creation_date":1639420971,"question_id":70339467,"body_markdown":"I&#39;m currently working on a desktop application using Swing, communicating with a server over HTTPS. However, on one production machine which I will have to support, the current development build throws a `NoClassDefFoundError` despite the class being actually included in the JAR.\r\n\r\nThe situation is quite simple: I&#39;m starting up the Swing application and configure a server to contact, which will then be used for a quick HTTPS connection test (in the class `HTTPClient`). I facilitate OkHttp for all communication with the server.\r\n\r\nMy `HTTPClient` resembles this code:\r\n\r\n```java\r\npackage com.myprogram.http;\r\n\r\nimport okhttp3.*;\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class HTTPClient {\r\n    private static final OkHttpClient CLIENT = new OkHttpClient ();\r\n\r\n    static boolean sendHeartbeat (String server, int port) {\r\n        URL url;\r\n        try { url = new URL (&quot;https&quot;, server, port, &quot;/api/v1/heartbeat&quot;); }\r\n        catch (MalformedURLException e) { return false; }\r\n\r\n        Request request = new Request.Builder ().url (url).build ();\r\n        try (Response resonse = CLIENT.newCall (request).execute ()) {\r\n            return true;\r\n        } catch (IOException | NullPointerException e) { return false; }\r\n    }\r\n}\r\n```\r\n\r\nThis code is being called from middleware which also does state checking etc. and is the real interface between UI and HTTP code. This is the `HTTPConnector` class:\r\n\r\n```java\r\npackage com.myprogram.http;\r\n\r\nimport java.util.concurrent.*;\r\n\r\npublic class HTTPConnector {\r\n    private static final ExecutorService THREAD_POOL = Executors.newFixedThreadPool (10);\r\n    private static String server; // Set by UI code\r\n    private static int port;      // Set by UI code\r\n    \r\n    public static void setServer (String server, int port) {\r\n        HTTPConnector.server = server;\r\n        HTTPConnector.port = port;\r\n    }\r\n\r\n    public static void testServerAvailability () {\r\n        if (server == null) throw new IllegalStateException (&quot;Must set server first!&quot;);\r\n        \r\n        boolean success = false;\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            Future &lt;Boolean&gt; future = null;\r\n            try {\r\n/* line x */    future = THREAD_POOL.submit (() -&gt; HTTPClient.sendHeartbeat (server, port));\r\n/* line y */    success = future.get (1500, TimeUnit.MILLISECONDS);\r\n                if (success) break;\r\n            } catch (TimeoutException e) {\r\n                e.printStackTrace ();\r\n                System.out.println (&quot;Server status timed out&quot;);\r\n                future.cancel (true);\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace ();\r\n                System.out.println (&quot;Server status could not be queried&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n(Please note that I abridged and simplified my code here, for the sake of an MCVE. In reality, I make sure that only one single thread dispatches calls into the `HTTPConnector`.)\r\n\r\nHowever, upon calling `HTTPConnector.testServerAvailability ()`, I get first a `TimeoutException` and then four `NoClassDefFoundError`s, which read:\r\n\r\n```\r\njava.util.concurrent.TimeoutException\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:204)\r\n\tat com.myprogram.http.HTTPConnector.testServerAvailability(HTTPConnector.java:x)\r\n\tat [REDACTED]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\njava.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Could not initialize class com.myprogram.http.HTTPClient\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\r\n\tat com.myprogram.http.HTTPConnector.testServerAvailability(HTTPConnector.java:y)\r\n\tat [REDACTED]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.myprogram.http.HTTPClient\r\n\tat com.myprogram.http.HTTPConnector.lambda$testServerAvailability$6(HTTPConnector.java:x)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t... 3 more\r\n```\r\n\r\nI have confirmed that this Lambda is the very first place where any call into the `HTTPClient` happens, thus is the only place where the class can be initialised.\r\n\r\nThe only machine I&#39;m seeing this behaviour so far is a Windows 7 Professional (SP1 build 7601) with a Dual-Core 64-bit CPU and 4 GiB RAM. On my Windows 7 Professional (SP1 build 7601) virtual machine with a virtual Dual-Core 64-bit CPU and 10 GiB of RAM, the very same program works. What bothers me is the fact that the JVM uses the very same amount of RAM on both systems. (I&#39;m bundling OpenJDK 17.0.1 next to the JAR, the same executable is used in both cases.)\r\n\r\nTo me, that would mean that I have a classpath issue but given that the exact same test layout works in my VM, I tend to believe that it is RAM-related. This, however, is even more curious, because of the exact same memory consumption of the JVM.\r\n\r\nUpgrading RAM on the production machine is sadly out of discussion, but since I am unsure what actually causes the problems (could it actually be RAM?) I wanted to make sure that I am not doing something blatantly wrong before going to great lengths in searching for an alternative to running the program on this very machine.\r\n\r\nIn any case, can RAM actually be the culprit here? Or is it CPU clock-speed (3.3 GHz on the production machine vs 3.6 GHz in the VM) and OkHttp needs more than 1500 ms to initialise, hence the `TimeoutException` when submitting the future?","title":"What could cause a NoClassDefFoundError on one specific system only?","body":"<p>I'm currently working on a desktop application using Swing, communicating with a server over HTTPS. However, on one production machine which I will have to support, the current development build throws a <code>NoClassDefFoundError</code> despite the class being actually included in the JAR.</p>\n<p>The situation is quite simple: I'm starting up the Swing application and configure a server to contact, which will then be used for a quick HTTPS connection test (in the class <code>HTTPClient</code>). I facilitate OkHttp for all communication with the server.</p>\n<p>My <code>HTTPClient</code> resembles this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myprogram.http;\n\nimport okhttp3.*;\nimport java.net.*;\nimport java.io.*;\n\npublic class HTTPClient {\n    private static final OkHttpClient CLIENT = new OkHttpClient ();\n\n    static boolean sendHeartbeat (String server, int port) {\n        URL url;\n        try { url = new URL (&quot;https&quot;, server, port, &quot;/api/v1/heartbeat&quot;); }\n        catch (MalformedURLException e) { return false; }\n\n        Request request = new Request.Builder ().url (url).build ();\n        try (Response resonse = CLIENT.newCall (request).execute ()) {\n            return true;\n        } catch (IOException | NullPointerException e) { return false; }\n    }\n}\n</code></pre>\n<p>This code is being called from middleware which also does state checking etc. and is the real interface between UI and HTTP code. This is the <code>HTTPConnector</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myprogram.http;\n\nimport java.util.concurrent.*;\n\npublic class HTTPConnector {\n    private static final ExecutorService THREAD_POOL = Executors.newFixedThreadPool (10);\n    private static String server; // Set by UI code\n    private static int port;      // Set by UI code\n    \n    public static void setServer (String server, int port) {\n        HTTPConnector.server = server;\n        HTTPConnector.port = port;\n    }\n\n    public static void testServerAvailability () {\n        if (server == null) throw new IllegalStateException (&quot;Must set server first!&quot;);\n        \n        boolean success = false;\n        for (int i = 0; i &lt; 5; i++) {\n            Future &lt;Boolean&gt; future = null;\n            try {\n/* line x */    future = THREAD_POOL.submit (() -&gt; HTTPClient.sendHeartbeat (server, port));\n/* line y */    success = future.get (1500, TimeUnit.MILLISECONDS);\n                if (success) break;\n            } catch (TimeoutException e) {\n                e.printStackTrace ();\n                System.out.println (&quot;Server status timed out&quot;);\n                future.cancel (true);\n            } catch (InterruptedException | ExecutionException e) {\n                e.printStackTrace ();\n                System.out.println (&quot;Server status could not be queried&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>(Please note that I abridged and simplified my code here, for the sake of an MCVE. In reality, I make sure that only one single thread dispatches calls into the <code>HTTPConnector</code>.)</p>\n<p>However, upon calling <code>HTTPConnector.testServerAvailability ()</code>, I get first a <code>TimeoutException</code> and then four <code>NoClassDefFoundError</code>s, which read:</p>\n<pre><code>java.util.concurrent.TimeoutException\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:204)\n    at com.myprogram.http.HTTPConnector.testServerAvailability(HTTPConnector.java:x)\n    at [REDACTED]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\njava.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Could not initialize class com.myprogram.http.HTTPClient\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:205)\n    at com.myprogram.http.HTTPConnector.testServerAvailability(HTTPConnector.java:y)\n    at [REDACTED]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.myprogram.http.HTTPClient\n    at com.myprogram.http.HTTPConnector.lambda$testServerAvailability$6(HTTPConnector.java:x)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    ... 3 more\n</code></pre>\n<p>I have confirmed that this Lambda is the very first place where any call into the <code>HTTPClient</code> happens, thus is the only place where the class can be initialised.</p>\n<p>The only machine I'm seeing this behaviour so far is a Windows 7 Professional (SP1 build 7601) with a Dual-Core 64-bit CPU and 4 GiB RAM. On my Windows 7 Professional (SP1 build 7601) virtual machine with a virtual Dual-Core 64-bit CPU and 10 GiB of RAM, the very same program works. What bothers me is the fact that the JVM uses the very same amount of RAM on both systems. (I'm bundling OpenJDK 17.0.1 next to the JAR, the same executable is used in both cases.)</p>\n<p>To me, that would mean that I have a classpath issue but given that the exact same test layout works in my VM, I tend to believe that it is RAM-related. This, however, is even more curious, because of the exact same memory consumption of the JVM.</p>\n<p>Upgrading RAM on the production machine is sadly out of discussion, but since I am unsure what actually causes the problems (could it actually be RAM?) I wanted to make sure that I am not doing something blatantly wrong before going to great lengths in searching for an alternative to running the program on this very machine.</p>\n<p>In any case, can RAM actually be the culprit here? Or is it CPU clock-speed (3.3 GHz on the production machine vs 3.6 GHz in the VM) and OkHttp needs more than 1500 ms to initialise, hence the <code>TimeoutException</code> when submitting the future?</p>\n"},{"tags":["java","project-reactor"],"owner":{"account_id":16898606,"reputation":51,"user_id":12220581,"display_name":"Alexander Tsvetkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1639482480,"creation_date":1639482480,"question_id":70348370,"body_markdown":"I have the following reactive stream where `logs` is `Flux&lt;String&gt;`:\r\n```\r\nlogs.bufferTimeout(50, Duration.ofSeconds(20))\r\n    .doOnNext(logs -&gt; sendLogs(logs))\r\n    .doOnDiscard(String.class, log -&gt; sendLogs(List.of(log)));\r\n```\r\nThe purpose of the stream is to send logs to another microservice for long-term storage. As you can see, the logs are buffered and sent in batches of 50. The intent is to limit the number of requests made to the second microservice.\r\n\r\nFor reasons that are not relevant to this question, the logs stream can be canceled at any time. Whenever this happens, I want all log messages that are still in the buffer to also be sent to the second microservice. The `doOnDiscard` operator I&#39;ve added does just that, but perhaps not in the most performant/safe way. Let&#39;s say that there are 49 logs in the buffer at the time of cancellation. The lambda in `doOnDiscard` will then be called 49 times (once for each discarded log message) and this will result in 49 requests to the second microservice is a short amount of time.\r\n\r\nYou can reproduce this behavior by executing the following code:\r\n```\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Disposable disposable = Flux.interval(Duration.ofSeconds(1))\r\n                .bufferTimeout(10, Duration.ofSeconds(5))\r\n                .doOnNext(System.out::println)\r\n                .doOnDiscard(Long.class, i -&gt; System.out.println(&quot;Discarded: &quot; + i))\r\n                .subscribe();\r\n        Thread.sleep(8000);\r\n        disposable.dispose();\r\n        Thread.sleep(2000);\r\n    }\r\n```\r\nIs there any way to buffer the discarded elements and process them together? I&#39;ve tried the following:\r\n```\r\n    public static void main(String[] args) throws InterruptedException {\r\n        List&lt;Long&gt; discardedElements = new ArrayList&lt;&gt;();\r\n        Disposable disposable = Flux.interval(Duration.ofSeconds(1))\r\n                .bufferTimeout(10, Duration.ofSeconds(5))\r\n                .doOnNext(System.out::println)\r\n                .doOnDiscard(Long.class, discardedElements::add)\r\n                .doFinally(signal -&gt; System.out.println(&quot;Discarded elements: &quot; + discardedElements))\r\n                .subscribe();\r\n        Thread.sleep(8000);\r\n        disposable.dispose();\r\n        Thread.sleep(2000);\r\n    }\r\n```\r\nIt does what I want, but I feel like using a variable outside of the stream for temporary storage is not the &quot;cleanest&quot; solution. Is there a better one? Is the pattern of using an external variable a &quot;recommended&quot; one?","title":"Deal efficiently with a lot of discarded objects","body":"<p>I have the following reactive stream where <code>logs</code> is <code>Flux&lt;String&gt;</code>:</p>\n<pre><code>logs.bufferTimeout(50, Duration.ofSeconds(20))\n    .doOnNext(logs -&gt; sendLogs(logs))\n    .doOnDiscard(String.class, log -&gt; sendLogs(List.of(log)));\n</code></pre>\n<p>The purpose of the stream is to send logs to another microservice for long-term storage. As you can see, the logs are buffered and sent in batches of 50. The intent is to limit the number of requests made to the second microservice.</p>\n<p>For reasons that are not relevant to this question, the logs stream can be canceled at any time. Whenever this happens, I want all log messages that are still in the buffer to also be sent to the second microservice. The <code>doOnDiscard</code> operator I've added does just that, but perhaps not in the most performant/safe way. Let's say that there are 49 logs in the buffer at the time of cancellation. The lambda in <code>doOnDiscard</code> will then be called 49 times (once for each discarded log message) and this will result in 49 requests to the second microservice is a short amount of time.</p>\n<p>You can reproduce this behavior by executing the following code:</p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n        Disposable disposable = Flux.interval(Duration.ofSeconds(1))\n                .bufferTimeout(10, Duration.ofSeconds(5))\n                .doOnNext(System.out::println)\n                .doOnDiscard(Long.class, i -&gt; System.out.println(&quot;Discarded: &quot; + i))\n                .subscribe();\n        Thread.sleep(8000);\n        disposable.dispose();\n        Thread.sleep(2000);\n    }\n</code></pre>\n<p>Is there any way to buffer the discarded elements and process them together? I've tried the following:</p>\n<pre><code>    public static void main(String[] args) throws InterruptedException {\n        List&lt;Long&gt; discardedElements = new ArrayList&lt;&gt;();\n        Disposable disposable = Flux.interval(Duration.ofSeconds(1))\n                .bufferTimeout(10, Duration.ofSeconds(5))\n                .doOnNext(System.out::println)\n                .doOnDiscard(Long.class, discardedElements::add)\n                .doFinally(signal -&gt; System.out.println(&quot;Discarded elements: &quot; + discardedElements))\n                .subscribe();\n        Thread.sleep(8000);\n        disposable.dispose();\n        Thread.sleep(2000);\n    }\n</code></pre>\n<p>It does what I want, but I feel like using a variable outside of the stream for temporary storage is not the &quot;cleanest&quot; solution. Is there a better one? Is the pattern of using an external variable a &quot;recommended&quot; one?</p>\n"},{"tags":["java","mysql","linux","jdbc","raspberry-pi"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1639052456,"post_id":70275087,"comment_id":124252707,"body_markdown":"Please post the full exception stacktrace","body":"Please post the full exception stacktrace"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1639224073,"post_id":70275087,"comment_id":124296866,"body_markdown":"If you managed to solve the problem, then post the solution as an **answer** and accept it after the timeout. Please don&#39;t edit solutions in the question itself. BTW: If this was the solution, then you probably have a highly outdated MySQL server version, and the better solution is to upgrade your MySQL server.","body":"If you managed to solve the problem, then post the solution as an <b>answer</b> and accept it after the timeout. Please don&#39;t edit solutions in the question itself. BTW: If this was the solution, then you probably have a highly outdated MySQL server version, and the better solution is to upgrade your MySQL server."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639482281,"creation_date":1639482281,"answer_id":70348321,"question_id":70275087,"body_markdown":"Problem solved by commenting these lines in file `/usr/lib/jvm/java-11-openjdk-armhf/conf/security/java.security`\r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n         DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n         include jdk.disabled.namedCurves","title":"Java communication link failure when executing jar on Raspbian GNU/Linux 11 (bullseye)","body":"<p>Problem solved by commenting these lines in file <code>/usr/lib/jvm/java-11-openjdk-armhf/conf/security/java.security</code></p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n     DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n     include jdk.disabled.namedCurves\n</code></pre>\n"}],"owner":{"account_id":15818128,"reputation":1,"user_id":11413220,"display_name":"Wazer94"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639482281,"creation_date":1638966814,"question_id":70275087,"body_markdown":"I created a java program on Windows with Eclipse which connect to a Mysql database hosted on Hostinger. I setup the connection to be able to access to the database from outside the world. When I run the program on Windows, I can access to my database with no error.\r\n\r\nThen I exported this program to a jar file and created a localhost database on my Raspberry and try this program, it works perfectly.\r\nNow when I change the database to access to the database on Hostinger, I get this error on my Raspberry :\r\n\r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\nWhy I&#39;m getting this error on my Raspberry but not on windows ?\r\nI&#39;m running the program with the commmand : `java -jar myprogram.jar`\r\n\r\nHere is the code :\r\n`db.properties`\r\n\r\n    # mysql properties\r\n    mysql.driver=com.mysql.jdbc.Driver\r\n    mysql.url=jdbc:mysql://ip_hostinger:3306/database_name\r\n    mysql.username=user\r\n    mysql.password=pwd\r\n\r\n`Database.java`\r\n\r\n    public static MysqlDataSource getMySQLDataSource() throws FileNotFoundException, IOException {\r\n    \t\t\r\n    \t\tProperties props = new Properties();\r\n    \t\tInputStream is = null;\r\n    \t\tMysqlDataSource ds = null;\r\n    \r\n    \t\tis = Database.class.getResourceAsStream(&quot;db.properties&quot;);\r\n    \t\tprops.load(is);\r\n    \r\n    \t\tds = new MysqlConnectionPoolDataSource();\r\n    \t\tds.setURL(props.getProperty(&quot;mysql.url&quot;));\r\n    \t\tds.setUser(props.getProperty(&quot;mysql.username&quot;));\r\n    \t\tds.setPassword(props.getProperty(&quot;mysql.password&quot;));\r\n    \r\n    \t\treturn ds;\r\n    \t}\r\n    \r\n            public static ArrayList&lt;String&gt; DatabaseSelect() throws IOException, SQLException {\r\n    \t\t\r\n    \t\tConnection con = null;\r\n    \t\tStatement stm = null;\r\n    \t\tResultSet rs = null;\r\n    \t\t\r\n    \t\tArrayList&lt;String&gt; resultSelect = new ArrayList&lt;String&gt;();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tcon = getMySQLDataSource().getConnection();\r\n    \t\t\tstm = con.createStatement();\r\n    \t\t\trs = stm.executeQuery(&quot;SELECT * from table&quot;);\r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tString str = rs.getString(&quot;str&quot;);\r\n    \t\t\t\tresultSelect.add(str);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t    } finally {\r\n    \t\t\tif (con != null) {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn resultSelect;\r\n    \t}\r\n\r\n\r\n","title":"Java communication link failure when executing jar on Raspbian GNU/Linux 11 (bullseye)","body":"<p>I created a java program on Windows with Eclipse which connect to a Mysql database hosted on Hostinger. I setup the connection to be able to access to the database from outside the world. When I run the program on Windows, I can access to my database with no error.</p>\n<p>Then I exported this program to a jar file and created a localhost database on my Raspberry and try this program, it works perfectly.\nNow when I change the database to access to the database on Hostinger, I get this error on my Raspberry :</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n<p>Why I'm getting this error on my Raspberry but not on windows ?\nI'm running the program with the commmand : <code>java -jar myprogram.jar</code></p>\n<p>Here is the code :\n<code>db.properties</code></p>\n<pre><code># mysql properties\nmysql.driver=com.mysql.jdbc.Driver\nmysql.url=jdbc:mysql://ip_hostinger:3306/database_name\nmysql.username=user\nmysql.password=pwd\n</code></pre>\n<p><code>Database.java</code></p>\n<pre><code>public static MysqlDataSource getMySQLDataSource() throws FileNotFoundException, IOException {\n        \n        Properties props = new Properties();\n        InputStream is = null;\n        MysqlDataSource ds = null;\n\n        is = Database.class.getResourceAsStream(&quot;db.properties&quot;);\n        props.load(is);\n\n        ds = new MysqlConnectionPoolDataSource();\n        ds.setURL(props.getProperty(&quot;mysql.url&quot;));\n        ds.setUser(props.getProperty(&quot;mysql.username&quot;));\n        ds.setPassword(props.getProperty(&quot;mysql.password&quot;));\n\n        return ds;\n    }\n\n        public static ArrayList&lt;String&gt; DatabaseSelect() throws IOException, SQLException {\n        \n        Connection con = null;\n        Statement stm = null;\n        ResultSet rs = null;\n        \n        ArrayList&lt;String&gt; resultSelect = new ArrayList&lt;String&gt;();\n        \n        try {\n            con = getMySQLDataSource().getConnection();\n            stm = con.createStatement();\n            rs = stm.executeQuery(&quot;SELECT * from table&quot;);\n            while (rs.next()) {\n                String str = rs.getString(&quot;str&quot;);\n                resultSelect.add(str);\n            }\n            \n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            if (con != null) {\n                con.close();\n            }\n        }\n        return resultSelect;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","junit4","program-entry-point","load-time-weaving"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1583286324,"post_id":60499573,"comment_id":107062161,"body_markdown":"I know that AspectJ support (AJDT) in Eclipse is better in most respects than in IntelliJ IDEA, but still there are issues and there is a lack of maintenance due to a lack of manpower. I usually compile my aspects statically or use a weaving agent, not dynamic weaver attachment because it is sensitive to the order of class-loading. But you could try writing your own instrumenting JUnit runner. Anyway, in order to reproduce &amp; analyse your problem an [MCVE](https://stackoverflow.com/help/mcve) would be nice, ideally on GitHub. We might end up with a workaround and/or an Eclipse bug ticket.","body":"I know that AspectJ support (AJDT) in Eclipse is better in most respects than in IntelliJ IDEA, but still there are issues and there is a lack of maintenance due to a lack of manpower. I usually compile my aspects statically or use a weaving agent, not dynamic weaver attachment because it is sensitive to the order of class-loading. But you could try writing your own instrumenting JUnit runner. Anyway, in order to reproduce &amp; analyse your problem an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> would be nice, ideally on GitHub. We might end up with a workaround and/or an Eclipse bug ticket."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":1,"creation_date":1583289102,"post_id":60499573,"comment_id":107062733,"body_markdown":"My WeavingRunner class above was a (poor) attempt at writing my own instrumenting runner but something is not playing well timing-wise in certain scenarios.  I will try to put together a complete example.","body":"My WeavingRunner class above was a (poor) attempt at writing my own instrumenting runner but something is not playing well timing-wise in certain scenarios.  I will try to put together a complete example."}],"answers":[{"tags":[],"owner":{"account_id":26053,"reputation":1832,"user_id":67492,"accept_rate":62,"display_name":"subes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639481975,"creation_date":1639481975,"answer_id":70348250,"question_id":60499573,"body_markdown":"JUnit might do classpath scanning to discover unit tests. Also junit classes with all their dependencies will be loaded before invesdwin-instrument can be invoked inside the test. Thus the unit test class itself can not use aspects. The only workaround I know for this is to put the aspect usage into a nested class which gets loaded after the test class is initialized and thus invesdwin-instrument is loaded. An example for this pattern where @Transactional aspects are tested is here: https://github.com/invesdwin/invesdwin-context-persistence/blob/master/invesdwin-context-persistence-parent/invesdwin-context-persistence-jpa-hibernate/src/test/java/de/invesdwin/context/persistence/jpa/hibernate/MultiplePersistenceUnitsTest.java","title":"How to dynamically instrument JUnit tests?","body":"<p>JUnit might do classpath scanning to discover unit tests. Also junit classes with all their dependencies will be loaded before invesdwin-instrument can be invoked inside the test. Thus the unit test class itself can not use aspects. The only workaround I know for this is to put the aspect usage into a nested class which gets loaded after the test class is initialized and thus invesdwin-instrument is loaded. An example for this pattern where @Transactional aspects are tested is here: <a href=\"https://github.com/invesdwin/invesdwin-context-persistence/blob/master/invesdwin-context-persistence-parent/invesdwin-context-persistence-jpa-hibernate/src/test/java/de/invesdwin/context/persistence/jpa/hibernate/MultiplePersistenceUnitsTest.java\" rel=\"nofollow noreferrer\">https://github.com/invesdwin/invesdwin-context-persistence/blob/master/invesdwin-context-persistence-parent/invesdwin-context-persistence-jpa-hibernate/src/test/java/de/invesdwin/context/persistence/jpa/hibernate/MultiplePersistenceUnitsTest.java</a></p>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70348250,"answer_count":1,"score":0,"last_activity_date":1639481975,"creation_date":1583205329,"question_id":60499573,"body_markdown":"I am using Invesdwin (https://github.com/subes/invesdwin-instrument) to dynamically load java agents into my Spring Boot project in the main method, before the context starts :\r\n\r\n    DynamicInstrumentationLoader.waitForInitialized();\r\n    DynamicInstrumentationLoader.initLoadTimeWeavingContext();\r\n\r\n    ApplicationContext springContext = SpringApplication.run(Some_Service.class);\r\n    ...\r\n\r\nThis works great because it eliminates the need for adding -javaagent parameters when running the java -jar command from the command line.  \r\n\r\nThe issue arises when it comes to unit tests.  Since they don&#39;t have a main method (that I can tap into that is), I cannot make those 2 lines run before the Spring Context initializes.  Without those arguments, each test will cause the context to fail to load with this error :\r\n\r\n    ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader] does NOT provide an &#39;addTransformer(ClassFileTransformer)&#39; method. Specify a custom LoadTimeWeaver or start your Java virtual machine with Spring&#39;s agent: -javaagent:spring-instrument-{version}.jar\r\n\r\nI can work around this during the final build by setting up the Surefire plugin this way in my POM :\r\n\r\n    &lt;!--Maven Surefire Plugin--&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;executions&gt;\r\n\t\t        \t&lt;execution&gt;\r\n\t\t        \t\t&lt;goals&gt;\r\n\t\t        \t\t\t&lt;goal&gt;test&lt;/goal&gt;\r\n\t        \t\t\t&lt;/goals&gt;\r\n        \t\t\t&lt;/execution&gt;\r\n       \t\t\t&lt;/executions&gt;\r\n\t\t        &lt;configuration&gt;\r\n\t\t        \t&lt;argLine&gt;\r\n\t\t\t\t\t\t-javaagent:lib/aspectjweaver-1.9.5.jar \r\n\t\t\t\t\t\t-javaagent:lib/spring-instrument-5.2.3.RELEASE.jar\r\n\t\t\t\t\t&lt;/argLine&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t\t      &lt;/plugin&gt;\r\n\r\nUnfortunately this only works during the final build phase.  Running an individual test method in Eclipse will fail unless I manually add those arguments into the run configuration for that test which is a pain to say the least.  \r\n\r\nI made a custom runner class in an attempt to make code run before the Spring context initializes, like so :  \r\n\r\n    public class WeavingRunner extends SpringJUnit4ClassRunner\r\n    {\r\n\t    public WeavingRunner(Class&lt;?&gt; clazz) throws InitializationError \r\n\t    {\r\n\t\t    super(clazz);\r\n\t\t\r\n\t\t    DynamicInstrumentationLoader.waitForInitialized();\r\n            DynamicInstrumentationLoader.initLoadTimeWeavingContext();\r\n\t    }\r\n    }\r\n\r\nAlthough the Eclipse console does give me hints that the weaving is happening when my base test uses this runner class instead of SpringRunner, I get all sorts of weaving errors that seem to indicate the dynamic weaving hasn&#39;t happened soon enough :\r\n\r\n    java.lang.NoSuchMethodException: com.something.SomeAspectClass.aspectOf()\r\n\r\nIs there a known way to replicate code running in a main method when running JUnit tests?\r\n\r\n******EDIT******\r\n\r\nI noticed something extremely weird with this.  If I run the package enclosing the tests as a JUnit test, it works!  The above weaving errors only appear when running the src/test/java folder as a JUnit test in Eclipse or running the app itself as a JUnit test (which I ultimately need).  The dynamic weaving is working but somehow something is making it only work when running individual tests or up to the enclosing package as a JUnit test.  I hope that makes sense!\r\n\r\nI was starting to suspect issues with my aop.xml file but how could that be the issue if running individual tests and even entire packages works fine?!","title":"How to dynamically instrument JUnit tests?","body":"<p>I am using Invesdwin (<a href=\"https://github.com/subes/invesdwin-instrument\" rel=\"nofollow noreferrer\">https://github.com/subes/invesdwin-instrument</a>) to dynamically load java agents into my Spring Boot project in the main method, before the context starts :</p>\n\n<pre><code>DynamicInstrumentationLoader.waitForInitialized();\nDynamicInstrumentationLoader.initLoadTimeWeavingContext();\n\nApplicationContext springContext = SpringApplication.run(Some_Service.class);\n...\n</code></pre>\n\n<p>This works great because it eliminates the need for adding -javaagent parameters when running the java -jar command from the command line.  </p>\n\n<p>The issue arises when it comes to unit tests.  Since they don't have a main method (that I can tap into that is), I cannot make those 2 lines run before the Spring Context initializes.  Without those arguments, each test will cause the context to fail to load with this error :</p>\n\n<pre><code>ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader] does NOT provide an 'addTransformer(ClassFileTransformer)' method. Specify a custom LoadTimeWeaver or start your Java virtual machine with Spring's agent: -javaagent:spring-instrument-{version}.jar\n</code></pre>\n\n<p>I can work around this during the final build by setting up the Surefire plugin this way in my POM :</p>\n\n<pre><code>&lt;!--Maven Surefire Plugin--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;\n                    -javaagent:lib/aspectjweaver-1.9.5.jar \n                    -javaagent:lib/spring-instrument-5.2.3.RELEASE.jar\n                &lt;/argLine&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n</code></pre>\n\n<p>Unfortunately this only works during the final build phase.  Running an individual test method in Eclipse will fail unless I manually add those arguments into the run configuration for that test which is a pain to say the least.  </p>\n\n<p>I made a custom runner class in an attempt to make code run before the Spring context initializes, like so :  </p>\n\n<pre><code>public class WeavingRunner extends SpringJUnit4ClassRunner\n{\n    public WeavingRunner(Class&lt;?&gt; clazz) throws InitializationError \n    {\n        super(clazz);\n\n        DynamicInstrumentationLoader.waitForInitialized();\n        DynamicInstrumentationLoader.initLoadTimeWeavingContext();\n    }\n}\n</code></pre>\n\n<p>Although the Eclipse console does give me hints that the weaving is happening when my base test uses this runner class instead of SpringRunner, I get all sorts of weaving errors that seem to indicate the dynamic weaving hasn't happened soon enough :</p>\n\n<pre><code>java.lang.NoSuchMethodException: com.something.SomeAspectClass.aspectOf()\n</code></pre>\n\n<p>Is there a known way to replicate code running in a main method when running JUnit tests?</p>\n\n<p>******EDIT******</p>\n\n<p>I noticed something extremely weird with this.  If I run the package enclosing the tests as a JUnit test, it works!  The above weaving errors only appear when running the src/test/java folder as a JUnit test in Eclipse or running the app itself as a JUnit test (which I ultimately need).  The dynamic weaving is working but somehow something is making it only work when running individual tests or up to the enclosing package as a JUnit test.  I hope that makes sense!</p>\n\n<p>I was starting to suspect issues with my aop.xml file but how could that be the issue if running individual tests and even entire packages works fine?!</p>\n"},{"tags":["java","basic-authentication","apache-commons-httpclient"],"answers":[{"tags":[],"owner":{"account_id":48447,"reputation":44848,"user_id":143938,"display_name":"Jonathan Feinberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262797900,"creation_date":1262797900,"answer_id":2014740,"question_id":2014700,"body_markdown":"I don&#39;t quite get your closing comment. It&#39;s the HttpClient that has all of that machinery for doing preemptive auth, and you only have to do that once (when you construct and configure your HttpClient). Once you&#39;ve done that, you construct your method instances the same way as always. You don&#39;t &quot;add the BasicHttpContext&quot; to the method.\r\n\r\nYour best bet, I&#39;d think, is to have your own object that sets up all of the junk required for preemptive auth, and has a simple method or methods for executing requests on given HTTPMethod objects.","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>I don't quite get your closing comment. It's the HttpClient that has all of that machinery for doing preemptive auth, and you only have to do that once (when you construct and configure your HttpClient). Once you've done that, you construct your method instances the same way as always. You don't \"add the BasicHttpContext\" to the method.</p>\n\n<p>Your best bet, I'd think, is to have your own object that sets up all of the junk required for preemptive auth, and has a simple method or methods for executing requests on given HTTPMethod objects.</p>\n"},{"tags":[],"owner":{"account_id":4226,"reputation":3333,"user_id":6282,"display_name":"Mat Mannion"},"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1281966560,"creation_date":1281966560,"answer_id":3493746,"question_id":2014700,"body_markdown":"It&#39;s difficult to do this without passing a context through every time, but you can probably do it by using a request interceptor. Here is some code that we use (found from their JIRA, iirc):\r\n\r\n    // Pre-emptive authentication to speed things up\r\n    BasicHttpContext localContext = new BasicHttpContext();\r\n    \r\n    BasicScheme basicAuth = new BasicScheme();\r\n    localContext.setAttribute(&quot;preemptive-auth&quot;, basicAuth);\r\n    \r\n    httpClient.addRequestInterceptor(new PreemptiveAuthInterceptor(), 0);\r\n    \r\n    (...)\r\n    \r\n    static class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\r\n        \r\n        public void process(final HttpRequest request, final HttpContext context) throws HttpException, IOException {\r\n            AuthState authState = (AuthState) context.getAttribute(ClientContext.TARGET_AUTH_STATE);\r\n    \r\n            // If no auth scheme avaialble yet, try to initialize it\r\n            // preemptively\r\n            if (authState.getAuthScheme() == null) {\r\n                AuthScheme authScheme = (AuthScheme) context.getAttribute(&quot;preemptive-auth&quot;);\r\n                CredentialsProvider credsProvider = (CredentialsProvider) context.getAttribute(ClientContext.CREDS_PROVIDER);\r\n                HttpHost targetHost = (HttpHost) context.getAttribute(ExecutionContext.HTTP_TARGET_HOST);\r\n                if (authScheme != null) {\r\n                    Credentials creds = credsProvider.getCredentials(new AuthScope(targetHost.getHostName(), targetHost.getPort()));\r\n                    if (creds == null) {\r\n                        throw new HttpException(&quot;No credentials for preemptive authentication&quot;);\r\n                    }\r\n                    authState.setAuthScheme(authScheme);\r\n                    authState.setCredentials(creds);\r\n                }\r\n            }\r\n    \r\n        }\r\n        \r\n    }","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>It's difficult to do this without passing a context through every time, but you can probably do it by using a request interceptor. Here is some code that we use (found from their JIRA, iirc):</p>\n\n<pre><code>// Pre-emptive authentication to speed things up\nBasicHttpContext localContext = new BasicHttpContext();\n\nBasicScheme basicAuth = new BasicScheme();\nlocalContext.setAttribute(\"preemptive-auth\", basicAuth);\n\nhttpClient.addRequestInterceptor(new PreemptiveAuthInterceptor(), 0);\n\n(...)\n\nstatic class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\n\n    public void process(final HttpRequest request, final HttpContext context) throws HttpException, IOException {\n        AuthState authState = (AuthState) context.getAttribute(ClientContext.TARGET_AUTH_STATE);\n\n        // If no auth scheme avaialble yet, try to initialize it\n        // preemptively\n        if (authState.getAuthScheme() == null) {\n            AuthScheme authScheme = (AuthScheme) context.getAttribute(\"preemptive-auth\");\n            CredentialsProvider credsProvider = (CredentialsProvider) context.getAttribute(ClientContext.CREDS_PROVIDER);\n            HttpHost targetHost = (HttpHost) context.getAttribute(ExecutionContext.HTTP_TARGET_HOST);\n            if (authScheme != null) {\n                Credentials creds = credsProvider.getCredentials(new AuthScope(targetHost.getHostName(), targetHost.getPort()));\n                if (creds == null) {\n                    throw new HttpException(\"No credentials for preemptive authentication\");\n                }\n                authState.setAuthScheme(authScheme);\n                authState.setCredentials(creds);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41545,"reputation":52021,"user_id":120808,"accept_rate":90,"display_name":"Adam Batkin"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1291234833,"creation_date":1291234833,"answer_id":4328694,"question_id":2014700,"body_markdown":"If you are looking to force HttpClient 4 to authenticate with a single request, the following will work:\r\n\r\n    String username = ...\r\n    String password = ...\r\n    UsernamePasswordCredentials creds = new UsernamePasswordCredentials(username, password);\r\n\r\n    HttpRequest request = ...\r\n    request.addHeader(new BasicScheme().authenticate(creds, request));","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>If you are looking to force HttpClient 4 to authenticate with a single request, the following will work:</p>\n\n<pre><code>String username = ...\nString password = ...\nUsernamePasswordCredentials creds = new UsernamePasswordCredentials(username, password);\n\nHttpRequest request = ...\nrequest.addHeader(new BasicScheme().authenticate(creds, request));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1310050601,"creation_date":1310050601,"answer_id":6612658,"question_id":2014700,"body_markdown":"A little late to the party but I came accross the thread trying to solve this for proxy pre-authorization of a post request. To add to Adam&#39;s response, I found the following worked for me:\r\n\r\n    HttpPost httppost = new HttpPost(url);\r\n    UsernamePasswordCredentials creds = new UsernamePasswordCredentials(username, password);\r\n    Header bs = new BasicScheme().authenticate(creds, httppost);\r\n    httppost.addHeader(&quot;Proxy-Authorization&quot;, bs.getValue());\r\n\r\nThought that might be helpful for anyone else who runs into this.","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>A little late to the party but I came accross the thread trying to solve this for proxy pre-authorization of a post request. To add to Adam's response, I found the following worked for me:</p>\n\n<pre><code>HttpPost httppost = new HttpPost(url);\nUsernamePasswordCredentials creds = new UsernamePasswordCredentials(username, password);\nHeader bs = new BasicScheme().authenticate(creds, httppost);\nhttppost.addHeader(\"Proxy-Authorization\", bs.getValue());\n</code></pre>\n\n<p>Thought that might be helpful for anyone else who runs into this.</p>\n"},{"tags":[],"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1639481969,"creation_date":1344439908,"answer_id":11868040,"question_id":2014700,"body_markdown":"This is the same solution as Mat&#39;s Mannion&#39;s, but you don&#39;t have to put localContext to each request. It&#39;s simpler, but it adds authentication to ALL requests. Useful, if you don&#39;t have control over individual requests, as in my case when using Apache Solr, which uses HttpClient internally.\r\n  \r\n    import org.apache.http.HttpException;\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.HttpRequest;\r\n    import org.apache.http.HttpRequestInterceptor;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.AuthState;\r\n    import org.apache.http.auth.Credentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.client.protocol.HttpClientContext;\r\n    import org.apache.http.impl.auth.BasicScheme;\r\n    import org.apache.http.protocol.HttpContext;\r\n    import org.apache.http.protocol.HttpCoreContext;\r\n\r\n    httpClient.addRequestInterceptor(new PreemptiveAuthInterceptor(), 0);\r\n    \r\n    (...)\r\n    \r\n    static class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\r\n    \r\n        public void process(final HttpRequest request, final HttpContext context) throws HttpException, IOException {\r\n             AuthState authState = (AuthState) context.getAttribute(HttpClientContext.TARGET_AUTH_STATE);\r\n\r\n             // If no auth scheme available yet, try to initialize it\r\n             // preemptively\r\n             if (authState.getAuthScheme() == null) {\r\n                 CredentialsProvider credsProvider = (CredentialsProvider) context.getAttribute(HttpClientContext.CREDS_PROVIDER);\r\n                 HttpHost targetHost = (HttpHost) context.getAttribute(HttpCoreContext.HTTP_TARGET_HOST);\r\n                 Credentials creds = credsProvider.getCredentials(new AuthScope(targetHost.getHostName(), targetHost.getPort()));\r\n                 if (creds == null) {\r\n                     throw new HttpException(&quot;No credentials for preemptive authentication&quot;);\r\n                 }\r\n                 authState.update(new BasicScheme(), creds);\r\n             }\r\n         }\r\n    }\r\n    \r\n\r\nOf course, you have to set the credentials provider:\r\n\r\n    httpClient.getCredentialsProvider().setCredentials(\r\n                    new AuthScope(url.getHost(), url.getPort()),\r\n                    new UsernamePasswordCredentials(username, password))\r\n\r\nThe `AuthScope` must not contain realm, as it is not known in advance.","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>This is the same solution as Mat's Mannion's, but you don't have to put localContext to each request. It's simpler, but it adds authentication to ALL requests. Useful, if you don't have control over individual requests, as in my case when using Apache Solr, which uses HttpClient internally.</p>\n<pre><code>import org.apache.http.HttpException;\nimport org.apache.http.HttpHost;\nimport org.apache.http.HttpRequest;\nimport org.apache.http.HttpRequestInterceptor;\nimport org.apache.http.auth.AuthScope;\nimport org.apache.http.auth.AuthState;\nimport org.apache.http.auth.Credentials;\nimport org.apache.http.client.CredentialsProvider;\nimport org.apache.http.client.protocol.HttpClientContext;\nimport org.apache.http.impl.auth.BasicScheme;\nimport org.apache.http.protocol.HttpContext;\nimport org.apache.http.protocol.HttpCoreContext;\n\nhttpClient.addRequestInterceptor(new PreemptiveAuthInterceptor(), 0);\n\n(...)\n\nstatic class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\n\n    public void process(final HttpRequest request, final HttpContext context) throws HttpException, IOException {\n         AuthState authState = (AuthState) context.getAttribute(HttpClientContext.TARGET_AUTH_STATE);\n\n         // If no auth scheme available yet, try to initialize it\n         // preemptively\n         if (authState.getAuthScheme() == null) {\n             CredentialsProvider credsProvider = (CredentialsProvider) context.getAttribute(HttpClientContext.CREDS_PROVIDER);\n             HttpHost targetHost = (HttpHost) context.getAttribute(HttpCoreContext.HTTP_TARGET_HOST);\n             Credentials creds = credsProvider.getCredentials(new AuthScope(targetHost.getHostName(), targetHost.getPort()));\n             if (creds == null) {\n                 throw new HttpException(&quot;No credentials for preemptive authentication&quot;);\n             }\n             authState.update(new BasicScheme(), creds);\n         }\n     }\n}\n</code></pre>\n<p>Of course, you have to set the credentials provider:</p>\n<pre><code>httpClient.getCredentialsProvider().setCredentials(\n                new AuthScope(url.getHost(), url.getPort()),\n                new UsernamePasswordCredentials(username, password))\n</code></pre>\n<p>The <code>AuthScope</code> must not contain realm, as it is not known in advance.</p>\n"},{"tags":[],"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1390428004,"creation_date":1390171579,"answer_id":21223682,"question_id":2014700,"body_markdown":"I think the best way may be to just do it manually. I added the following function\r\n\r\nClassic Java:\r\n-------------\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n...\r\n    \r\n    private static void addAuthHeader(HttpRequestBase http, String username, String password) throws UnsupportedEncodingException {\r\n    \t\tString encoded = DatatypeConverter.printBase64Binary((username + &quot;:&quot; + password).getBytes(&quot;UTF-8&quot;));\r\n    \t\thttp.addHeader(&quot;AUTHORIZATION&quot;, &quot;Basic &quot; + encoded);\r\n    \t}\r\n\r\n\r\n`HTTPRequestBase` can be an instance of `HttpGet` or `HttpPost`\r\n\r\nAndroid:\r\n-------------\r\n\r\n\r\n    import android.util.Base64;\r\n...\r\n\r\n\tprivate static void addAuthHeader(HttpRequestBase http, String username, String password) throws UnsupportedEncodingException {\r\n\t\tString encoded = Base64.encodeToString((username + &quot;:&quot; + password).getBytes(&quot;UTF-8&quot;), Base64.NO_WRAP);\r\n\t\thttp.addHeader(&quot;AUTHORIZATION&quot;, &quot;Basic &quot; + encoded);\r\n\t}","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>I think the best way may be to just do it manually. I added the following function</p>\n\n<h2>Classic Java:</h2>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private static void addAuthHeader(HttpRequestBase http, String username, String password) throws UnsupportedEncodingException {\n        String encoded = DatatypeConverter.printBase64Binary((username + \":\" + password).getBytes(\"UTF-8\"));\n        http.addHeader(\"AUTHORIZATION\", \"Basic \" + encoded);\n    }\n</code></pre>\n\n<p><code>HTTPRequestBase</code> can be an instance of <code>HttpGet</code> or <code>HttpPost</code></p>\n\n<h2>Android:</h2>\n\n<pre><code>import android.util.Base64;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private static void addAuthHeader(HttpRequestBase http, String username, String password) throws UnsupportedEncodingException {\n    String encoded = Base64.encodeToString((username + \":\" + password).getBytes(\"UTF-8\"), Base64.NO_WRAP);\n    http.addHeader(\"AUTHORIZATION\", \"Basic \" + encoded);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194933,"reputation":976,"user_id":1565522,"display_name":"ljian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390962409,"creation_date":1390962032,"answer_id":21420850,"question_id":2014700,"body_markdown":"in android,Mat Mannion&#39;s answer can&#39;t resolve https,still send two requests,you can do like below,the trick is append authHeader with user-agent：\r\n\r\n        public static DefaultHttpClient createProxyHttpClient() {\r\n            try {\r\n                final DefaultHttpClient client = createPlaintHttpClient();\r\n                client.setRoutePlanner(new HttpRoutePlanner() {\r\n                    @Override\r\n                    public HttpRoute determineRoute(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\r\n                        boolean isSecure = &quot;https&quot;.equalsIgnoreCase(target.getSchemeName());\r\n                        if (needProxy) {\r\n                            Header header = isSecure ? ProxyUtils.createHttpsAuthHeader() : ProxyUtils.createAuthHeader();\r\n                            if (isSecure) {\r\n                                client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT + &quot;\\r\\n&quot; + header.getName() + &quot;:&quot; + header.getValue());\r\n                            } else {\r\n                                client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT);\r\n                                if (request instanceof RequestWrapper) {\r\n                                    request = ((RequestWrapper) request).getOriginal();\r\n                                }\r\n                                request.setHeader(header);\r\n                            }\r\n                            String host = isSecure ? ProxyUtils.SECURE_HOST : ProxyUtils.HOST;\r\n                            int port = isSecure ? ProxyUtils.SECURE_PORT : ProxyUtils.PORT;\r\n                            return new HttpRoute(target, null,  new HttpHost(host, port), isSecure);\r\n                        } else {\r\n                            client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT);\r\n                            return new HttpRoute(target, null, isSecure);\r\n                        }\r\n                    }\r\n                });\r\n                return client;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return new DefaultHttpClient();\r\n            }\r\n        }\r\n    \r\n    public static DefaultHttpClient createPlaintHttpClient() {\r\n           try {\r\n                KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                trustStore.load(null, null);\r\n                PlainSSLSocketFactory socketFactory = new PlainSSLSocketFactory(trustStore);\r\n                socketFactory.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n                BasicHttpParams params = new BasicHttpParams();\r\n                HttpConnectionParams.setConnectionTimeout(params, 30000);\r\n                HttpConnectionParams.setSoTimeout(params, 30000);\r\n                HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n                HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\r\n                SchemeRegistry registry = new SchemeRegistry();\r\n                registry.register(new Scheme(&quot;http&quot;, PlainSocketFactory.getSocketFactory(), 80));\r\n                registry.register(new Scheme(&quot;https&quot;, socketFactory, 443));\r\n                ThreadSafeClientConnManager ccm = new ThreadSafeClientConnManager(params, registry);\r\n                HttpClientParams.setCookiePolicy(params, CookiePolicy.BROWSER_COMPATIBILITY);\r\n                final DefaultHttpClient client = new DefaultHttpClient(ccm, params);\r\n                client.setRoutePlanner(new HttpRoutePlanner() {\r\n    \t\t@Override\r\n    \t\tpublic HttpRoute determineRoute(HttpHost target, HttpRequest arg1, HttpContext arg2) throws HttpException {\r\n    \t\t       client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT);\r\n    \t\t\treturn new HttpRoute(target, null, &quot;https&quot;.equalsIgnoreCase(target.getSchemeName()));\r\n    \t\t}\r\n    \t    });\r\n                return client;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return new DefaultHttpClient();\r\n            }\r\n    }","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>in android,Mat Mannion's answer can't resolve https,still send two requests,you can do like below,the trick is append authHeader with user-agent：</p>\n\n<pre><code>    public static DefaultHttpClient createProxyHttpClient() {\n        try {\n            final DefaultHttpClient client = createPlaintHttpClient();\n            client.setRoutePlanner(new HttpRoutePlanner() {\n                @Override\n                public HttpRoute determineRoute(HttpHost target, HttpRequest request, HttpContext context) throws HttpException {\n                    boolean isSecure = \"https\".equalsIgnoreCase(target.getSchemeName());\n                    if (needProxy) {\n                        Header header = isSecure ? ProxyUtils.createHttpsAuthHeader() : ProxyUtils.createAuthHeader();\n                        if (isSecure) {\n                            client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT + \"\\r\\n\" + header.getName() + \":\" + header.getValue());\n                        } else {\n                            client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT);\n                            if (request instanceof RequestWrapper) {\n                                request = ((RequestWrapper) request).getOriginal();\n                            }\n                            request.setHeader(header);\n                        }\n                        String host = isSecure ? ProxyUtils.SECURE_HOST : ProxyUtils.HOST;\n                        int port = isSecure ? ProxyUtils.SECURE_PORT : ProxyUtils.PORT;\n                        return new HttpRoute(target, null,  new HttpHost(host, port), isSecure);\n                    } else {\n                        client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT);\n                        return new HttpRoute(target, null, isSecure);\n                    }\n                }\n            });\n            return client;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return new DefaultHttpClient();\n        }\n    }\n\npublic static DefaultHttpClient createPlaintHttpClient() {\n       try {\n            KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n            trustStore.load(null, null);\n            PlainSSLSocketFactory socketFactory = new PlainSSLSocketFactory(trustStore);\n            socketFactory.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n            BasicHttpParams params = new BasicHttpParams();\n            HttpConnectionParams.setConnectionTimeout(params, 30000);\n            HttpConnectionParams.setSoTimeout(params, 30000);\n            HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\n            HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\n            SchemeRegistry registry = new SchemeRegistry();\n            registry.register(new Scheme(\"http\", PlainSocketFactory.getSocketFactory(), 80));\n            registry.register(new Scheme(\"https\", socketFactory, 443));\n            ThreadSafeClientConnManager ccm = new ThreadSafeClientConnManager(params, registry);\n            HttpClientParams.setCookiePolicy(params, CookiePolicy.BROWSER_COMPATIBILITY);\n            final DefaultHttpClient client = new DefaultHttpClient(ccm, params);\n            client.setRoutePlanner(new HttpRoutePlanner() {\n        @Override\n        public HttpRoute determineRoute(HttpHost target, HttpRequest arg1, HttpContext arg2) throws HttpException {\n               client.getParams().setParameter(CoreProtocolPNames.USER_AGENT, com.netease.cloudmusic.utils.HttpRequest.USER_AGENT);\n            return new HttpRoute(target, null, \"https\".equalsIgnoreCase(target.getSchemeName()));\n        }\n        });\n            return client;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return new DefaultHttpClient();\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5927904,"reputation":111,"user_id":4663281,"display_name":"Brian teggart"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1426170438,"creation_date":1426170438,"answer_id":29012443,"question_id":2014700,"body_markdown":"A lot of the answers above use deprecated code. I am using Apache SOLRJ version 5.0.0.\r\nMy code consists of \r\n\r\n    private HttpSolrClient solrClient; \r\n\r\n    private void initialiseSOLRClient() {\r\n        \t\tURL solrURL = null;\r\n        \t\ttry {\r\n        \t\t\tsolrURL = new URL(urlString);\r\n        \t\t} catch (MalformedURLException e) {\r\n        \t\t\tLOG.error(&quot;Cannot parse the SOLR URL!!&quot; + urlString);\r\n        \t\t\tthrow new SystemException(&quot;Cannot parse the SOLR URL!! &quot; + urlString, e);\r\n        \t\t}\r\n                String host = solrURL.getHost();\r\n                int port = solrURL.getPort();\r\n        \t\tAuthScope authScope = new AuthScope(host, port);\r\n    \t\t\r\n\t\tBasicTextEncryptor textEncryptor = new BasicTextEncryptor();\r\n\t\ttextEncryptor.setPassword(&quot;red bananas in the spring&quot;);\r\n\t\tString decryptPass = textEncryptor.decrypt(pass);\r\n\t\tUsernamePasswordCredentials creds = new UsernamePasswordCredentials(userName, decryptPass);\r\n\t\t\r\n\t\tCredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n        credsProvider.setCredentials(\r\n                authScope,\r\n                creds);\r\n      \r\n\t\tHttpClientBuilder builder = HttpClientBuilder.create();\r\n\t\tbuilder.addInterceptorFirst(new PreemptiveAuthInterceptor());\r\n\t\tbuilder.setDefaultCredentialsProvider(credsProvider);\r\n\t\tCloseableHttpClient httpClient = builder.build();\r\n        \r\n        solrClient = new HttpSolrClient(urlString, httpClient);\r\n\t}\r\n\r\nThe PreemptiveAuthInterceptor is now as follows:-\r\n\r\n    static class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\r\n\t\t\r\n\t    public void process(final HttpRequest request, final HttpContext context) throws HttpException, IOException {\r\n\t        AuthState authState = (AuthState) context.getAttribute(HttpClientContext.TARGET_AUTH_STATE);\r\n\t        // If no auth scheme available yet, try to initialize it\r\n\t        // preemptively\r\n\t        if (authState.getAuthScheme() == null) {\r\n\t        \tCredentialsProvider credsProvider = (CredentialsProvider) \r\n\t        \t\t\t\tcontext.getAttribute(HttpClientContext.CREDS_PROVIDER);\r\n\t            HttpHost targetHost = (HttpHost) context.getAttribute(HttpCoreContext.HTTP_TARGET_HOST);\r\n\t            AuthScope authScope = new AuthScope(targetHost.getHostName(), targetHost.getPort());\r\n\t            Credentials creds = credsProvider.getCredentials(authScope);\r\n\t            if(creds == null){\r\n\t            \t\r\n\t            }\r\n\t            authState.update(new BasicScheme(), creds);\r\n\t        }\r\n\t           \r\n\t    }\r\n\t}","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>A lot of the answers above use deprecated code. I am using Apache SOLRJ version 5.0.0.\nMy code consists of </p>\n\n<pre><code>private HttpSolrClient solrClient; \n\nprivate void initialiseSOLRClient() {\n            URL solrURL = null;\n            try {\n                solrURL = new URL(urlString);\n            } catch (MalformedURLException e) {\n                LOG.error(\"Cannot parse the SOLR URL!!\" + urlString);\n                throw new SystemException(\"Cannot parse the SOLR URL!! \" + urlString, e);\n            }\n            String host = solrURL.getHost();\n            int port = solrURL.getPort();\n            AuthScope authScope = new AuthScope(host, port);\n\n    BasicTextEncryptor textEncryptor = new BasicTextEncryptor();\n    textEncryptor.setPassword(\"red bananas in the spring\");\n    String decryptPass = textEncryptor.decrypt(pass);\n    UsernamePasswordCredentials creds = new UsernamePasswordCredentials(userName, decryptPass);\n\n    CredentialsProvider credsProvider = new BasicCredentialsProvider();\n    credsProvider.setCredentials(\n            authScope,\n            creds);\n\n    HttpClientBuilder builder = HttpClientBuilder.create();\n    builder.addInterceptorFirst(new PreemptiveAuthInterceptor());\n    builder.setDefaultCredentialsProvider(credsProvider);\n    CloseableHttpClient httpClient = builder.build();\n\n    solrClient = new HttpSolrClient(urlString, httpClient);\n}\n</code></pre>\n\n<p>The PreemptiveAuthInterceptor is now as follows:-</p>\n\n<pre><code>static class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\n\n    public void process(final HttpRequest request, final HttpContext context) throws HttpException, IOException {\n        AuthState authState = (AuthState) context.getAttribute(HttpClientContext.TARGET_AUTH_STATE);\n        // If no auth scheme available yet, try to initialize it\n        // preemptively\n        if (authState.getAuthScheme() == null) {\n            CredentialsProvider credsProvider = (CredentialsProvider) \n                        context.getAttribute(HttpClientContext.CREDS_PROVIDER);\n            HttpHost targetHost = (HttpHost) context.getAttribute(HttpCoreContext.HTTP_TARGET_HOST);\n            AuthScope authScope = new AuthScope(targetHost.getHostName(), targetHost.getPort());\n            Credentials creds = credsProvider.getCredentials(authScope);\n            if(creds == null){\n\n            }\n            authState.update(new BasicScheme(), creds);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37546,"reputation":4944,"user_id":107357,"accept_rate":75,"display_name":"Chris Jones"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489691521,"creation_date":1489691521,"answer_id":42842916,"question_id":2014700,"body_markdown":"I&#39;m using this code, based on my reading of [the HTTPClient 4.5 docs](https://hc.apache.org/httpcomponents-client-4.5.x/tutorial/html/authentication.html#d5e717):\r\n\r\n    HttpClientContext ctx = HttpClientContext.create()\r\n    ctx.setCredentialsProvider(new BasicCredentialsProvider())\r\n    ctx.setAuthCache(new BasicAuthCache())\r\n    UsernamePasswordCredentials creds = new UsernamePasswordCredentials(user, pass)\r\n    AuthScope authScope = new AuthScope(host, port)\r\n    ctx.getCredentialsProvider.setCredentials(authScope, credentials)\r\n    \r\n    // This part makes authentication preemptive:\r\n    HttpHost targetHost = new HttpHost(host, port, scheme)\r\n    ctx.getAuthCache.put(targetHost, new BasicScheme())\r\n\r\n...and make sure you always pass that context to `HTTPClient.execute()`.","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>I'm using this code, based on my reading of <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/tutorial/html/authentication.html#d5e717\" rel=\"nofollow noreferrer\">the HTTPClient 4.5 docs</a>:</p>\n\n<pre><code>HttpClientContext ctx = HttpClientContext.create()\nctx.setCredentialsProvider(new BasicCredentialsProvider())\nctx.setAuthCache(new BasicAuthCache())\nUsernamePasswordCredentials creds = new UsernamePasswordCredentials(user, pass)\nAuthScope authScope = new AuthScope(host, port)\nctx.getCredentialsProvider.setCredentials(authScope, credentials)\n\n// This part makes authentication preemptive:\nHttpHost targetHost = new HttpHost(host, port, scheme)\nctx.getAuthCache.put(targetHost, new BasicScheme())\n</code></pre>\n\n<p>...and make sure you always pass that context to <code>HTTPClient.execute()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4177787,"reputation":1649,"user_id":3423785,"display_name":"Yersin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627989529,"creation_date":1627989529,"answer_id":68635105,"question_id":2014700,"body_markdown":"## SolrConfig: ##\r\n    @Configuration\r\n    public class SolrConfig {\r\n\r\n        @Value(&quot;${solr.http.url}&quot;)\r\n        private String solrUrl;\r\n    \r\n        @Value(&quot;${solr.http.username}&quot;)\r\n        private String solrUser;\r\n    \r\n        @Value(&quot;${solr.http.password}&quot;)\r\n        private String solrPassword;\r\n    \r\n        @Value(&quot;${solr.http.pool.maxTotal}&quot;)\r\n        private int poolMaxTotal;\r\n    \r\n        @Value(&quot;${solr.http.pool.maxPerRoute}&quot;)\r\n        private int pollMaxPerRoute;\r\n    \r\n        @Bean\r\n        public SolrClient solrClient() {\r\n            PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n            connectionManager.setMaxTotal(poolMaxTotal);\r\n            connectionManager.setDefaultMaxPerRoute(pollMaxPerRoute);\r\n    \r\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(solrUser, solrPassword));\r\n    \r\n            CloseableHttpClient httpClient = HttpClientBuilder.create()\r\n                    .addInterceptorFirst(new PreemptiveAuthInterceptor())\r\n                    .setConnectionManager(connectionManager)\r\n                    .setDefaultCredentialsProvider(credentialsProvider)\r\n                    .build();\r\n    \r\n            return new HttpSolrClient.Builder(solrUrl).withHttpClient(httpClient).build();\r\n        }\r\n\r\n\r\n    }\r\n\r\n## PreemptiveAuthInterceptor: ##\r\n\r\n    public class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\r\n    \r\n        public void process(final HttpRequest request, final HttpContext context)\r\n                throws HttpException {\r\n            AuthState authState = (AuthState) context\r\n                    .getAttribute(HttpClientContext.TARGET_AUTH_STATE);\r\n    \r\n            // If no auth scheme available yet, try to initialize it\r\n            // preemptively\r\n            if (authState.getAuthScheme() == null) {\r\n                CredentialsProvider credentialsProvider = (CredentialsProvider) context\r\n                        .getAttribute(HttpClientContext.CREDS_PROVIDER);\r\n                HttpHost targetHost = (HttpHost) context\r\n                        .getAttribute(HttpCoreContext.HTTP_TARGET_HOST);\r\n                Credentials credentials = credentialsProvider.getCredentials(new AuthScope(\r\n                        targetHost.getHostName(), targetHost.getPort()));\r\n                if (credentials == null) {\r\n                    throw new HttpException(\r\n                            &quot;No credentials for preemptive authentication&quot;);\r\n                }\r\n                authState.update(new BasicScheme(), credentials);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<h2>SolrConfig:</h2>\n<pre><code>@Configuration\npublic class SolrConfig {\n\n    @Value(&quot;${solr.http.url}&quot;)\n    private String solrUrl;\n\n    @Value(&quot;${solr.http.username}&quot;)\n    private String solrUser;\n\n    @Value(&quot;${solr.http.password}&quot;)\n    private String solrPassword;\n\n    @Value(&quot;${solr.http.pool.maxTotal}&quot;)\n    private int poolMaxTotal;\n\n    @Value(&quot;${solr.http.pool.maxPerRoute}&quot;)\n    private int pollMaxPerRoute;\n\n    @Bean\n    public SolrClient solrClient() {\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(poolMaxTotal);\n        connectionManager.setDefaultMaxPerRoute(pollMaxPerRoute);\n\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(solrUser, solrPassword));\n\n        CloseableHttpClient httpClient = HttpClientBuilder.create()\n                .addInterceptorFirst(new PreemptiveAuthInterceptor())\n                .setConnectionManager(connectionManager)\n                .setDefaultCredentialsProvider(credentialsProvider)\n                .build();\n\n        return new HttpSolrClient.Builder(solrUrl).withHttpClient(httpClient).build();\n    }\n\n\n}\n</code></pre>\n<h2>PreemptiveAuthInterceptor:</h2>\n<pre><code>public class PreemptiveAuthInterceptor implements HttpRequestInterceptor {\n\n    public void process(final HttpRequest request, final HttpContext context)\n            throws HttpException {\n        AuthState authState = (AuthState) context\n                .getAttribute(HttpClientContext.TARGET_AUTH_STATE);\n\n        // If no auth scheme available yet, try to initialize it\n        // preemptively\n        if (authState.getAuthScheme() == null) {\n            CredentialsProvider credentialsProvider = (CredentialsProvider) context\n                    .getAttribute(HttpClientContext.CREDS_PROVIDER);\n            HttpHost targetHost = (HttpHost) context\n                    .getAttribute(HttpCoreContext.HTTP_TARGET_HOST);\n            Credentials credentials = credentialsProvider.getCredentials(new AuthScope(\n                    targetHost.getHostName(), targetHost.getPort()));\n            if (credentials == null) {\n                throw new HttpException(\n                        &quot;No credentials for preemptive authentication&quot;);\n            }\n            authState.update(new BasicScheme(), credentials);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26282,"reputation":1253,"user_id":68237,"display_name":"yossis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82818,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":3493746,"answer_count":10,"score":55,"last_activity_date":1639481969,"creation_date":1262797545,"question_id":2014700,"body_markdown":"Is there an easier way to setup the http client for preemptive basic authentication than what described [here][1]?  \r\nIn previous version (3.x) it used to be a simple method call (eg, `httpClient.getParams().setAuthenticationPreemptive(true)`).  \r\nThe main thing I want to avoid is adding the BasicHttpContext to each method I execute.\r\n\r\n\r\n  [1]: http://svn.apache.org/repos/asf/httpcomponents/httpclient/branches/4.0.x/httpclient/src/examples/org/apache/http/examples/client/ClientPreemptiveBasicAuthentication.java","title":"Preemptive Basic authentication with Apache HttpClient 4","body":"<p>Is there an easier way to setup the http client for preemptive basic authentication than what described <a href=\"http://svn.apache.org/repos/asf/httpcomponents/httpclient/branches/4.0.x/httpclient/src/examples/org/apache/http/examples/client/ClientPreemptiveBasicAuthentication.java\" rel=\"noreferrer\">here</a>?<br>\nIn previous version (3.x) it used to be a simple method call (eg, <code>httpClient.getParams().setAuthenticationPreemptive(true)</code>).<br>\nThe main thing I want to avoid is adding the BasicHttpContext to each method I execute.</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480443,"post_id":70347901,"comment_id":124353825,"body_markdown":"There are not 100,000 nanoseconds in a millisecond.","body":"There are not 100,000 nanoseconds in a millisecond."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1639480564,"post_id":70347901,"comment_id":124353862,"body_markdown":"also it could be a matter of integer division since you didn&#39;t specify the denominator to be long. use for example / 1000L in getMilli","body":"also it could be a matter of integer division since you didn&#39;t specify the denominator to be long. use for example / 1000L in getMilli"},{"owner":{"account_id":9596560,"reputation":271,"user_id":8039793,"accept_rate":100,"display_name":"Henry Weinert"},"score":0,"creation_date":1639480634,"post_id":70347901,"comment_id":124353886,"body_markdown":"Fixed it, but that doesnt seem to be the actual problem. Seconds and the other units still differ.","body":"Fixed it, but that doesnt seem to be the actual problem. Seconds and the other units still differ."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480648,"post_id":70347901,"comment_id":124353889,"body_markdown":"Nor are there 1,000 nanoseconds in a millisecond.","body":"Nor are there 1,000 nanoseconds in a millisecond."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480694,"post_id":70347901,"comment_id":124353906,"body_markdown":"I assume you&#39;ve read the javadoc for `getNano()` and `getSeconds()` and understand what `getNano()` does?","body":"I assume you&#39;ve read the javadoc for <code>getNano()</code> and <code>getSeconds()</code> and understand what <code>getNano()</code> does?"},{"owner":{"account_id":9596560,"reputation":271,"user_id":8039793,"accept_rate":100,"display_name":"Henry Weinert"},"score":0,"creation_date":1639480745,"post_id":70347901,"comment_id":124353925,"body_markdown":"Ive read it but I didnt understand it fine. Maybe I should continue using the old time classes...","body":"Ive read it but I didnt understand it fine. Maybe I should continue using the old time classes..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480993,"post_id":70347901,"comment_id":124353992,"body_markdown":"A Duration contains two fields. `seconds` is the number of whole seconds in the duration (obviously as it is an integer). `nanos` is the additional number of nanoseconds. It is always less than one second.","body":"A Duration contains two fields. <code>seconds</code> is the number of whole seconds in the duration (obviously as it is an integer). <code>nanos</code> is the additional number of nanoseconds. It is always less than one second."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1639481293,"post_id":70347901,"comment_id":124354094,"body_markdown":"In `getMilli()`, why not just call `getDuration().toMillis()`? That will do the right thing, without you having to hard-code any numbers etc... Basically, it sounds like you shouldn&#39;t use `getNano()` anywhere - not in `getMilli()` and not in your `main` method.","body":"In <code>getMilli()</code>, why not just call <code>getDuration().toMillis()</code>? That will do the right thing, without you having to hard-code any numbers etc... Basically, it sounds like you shouldn&#39;t use <code>getNano()</code> anywhere - not in <code>getMilli()</code> and not in your <code>main</code> method."},{"owner":{"account_id":9596560,"reputation":271,"user_id":8039793,"accept_rate":100,"display_name":"Henry Weinert"},"score":0,"creation_date":1639481914,"post_id":70347901,"comment_id":124354297,"body_markdown":"Thank you, this is the solution!","body":"Thank you, this is the solution!"}],"answers":[{"tags":[],"owner":{"account_id":9596560,"reputation":271,"user_id":8039793,"accept_rate":100,"display_name":"Henry Weinert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639481759,"creation_date":1639481759,"answer_id":70348211,"question_id":70347901,"body_markdown":"I missunderstood how objects of the class Duration work. getNano() does not return the total amount of nanoseconds between a range, but the rest of nanoseconds that do not fit into a whole second. I deleted getDuration() and reimplemented getMilli() like that:\r\n\r\n\tpublic long getMilli() {\r\n\t\tif (startDate != null &amp;&amp; stopDate != null) {\r\n\t\t\tDuration duration = Duration.between(startDate, stopDate);\r\n\t\t\tlong nanos = duration.getSeconds() * 1000000000 + duration.getNano(); \r\n\t\t\treturn nanos / 1000000;\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}","title":"My StopWatch has wrong nano and millis, but right seconds","body":"<p>I missunderstood how objects of the class Duration work. getNano() does not return the total amount of nanoseconds between a range, but the rest of nanoseconds that do not fit into a whole second. I deleted getDuration() and reimplemented getMilli() like that:</p>\n<pre><code>public long getMilli() {\n    if (startDate != null &amp;&amp; stopDate != null) {\n        Duration duration = Duration.between(startDate, stopDate);\n        long nanos = duration.getSeconds() * 1000000000 + duration.getNano(); \n        return nanos / 1000000;\n    }\n    \n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":9596560,"reputation":271,"user_id":8039793,"accept_rate":100,"display_name":"Henry Weinert"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639481759,"creation_date":1639480224,"question_id":70347901,"body_markdown":"I&#39;ve implemented a stopwatch class for my own little library and tested it by executing the following snippet:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tStopWatch sw = new StopWatch();\r\n    \t\tsw.start();\r\n    \t\tThread.sleep(3000);\r\n    \t\tsw.stop();\r\n    \t\tSystem.out.println(sw.getMilli());\r\n    \t\tSystem.out.println(sw.getDuration().getNano());\r\n    \t\tSystem.out.println(sw.getDuration().getSeconds());\r\n    \t}\r\n    }\r\n\r\nI get the following result: \r\n\r\n    20\r\n    2011600\r\n    3\r\n\r\nYou can see that the numbers differ. I checked my StopWatch class round about 10 times, but I cant find mistakes. Can you find them?\r\n\r\n**This is my stopwatch-implementation:** \r\n\r\n    import java.time.Instant;\r\n    import java.time.Duration;\r\n    \r\n    public class StopWatch {\r\n    \tprivate Instant startDate;\r\n    \tprivate Instant stopDate;\r\n    \t\r\n    \tpublic StopWatch() {\r\n    \t\treset();\r\n    \t}\r\n    \t\r\n    \tpublic void start() {\r\n    \t\tif (startDate == null) {\r\n    \t\t\tstartDate = Instant.now();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void stop() {\r\n    \t\tif (stopDate == null &amp;&amp; startDate != null) {\r\n    \t\t\tstopDate = Instant.now();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void reset() {\r\n    \t\tstartDate = null;\r\n    \t\tstopDate = null;\r\n    \t}\r\n    \t\r\n    \tpublic Duration getDuration() {\r\n    \t\tif (startDate != null &amp;&amp; stopDate != null) {\r\n    \t\t\treturn Duration.between(startDate, stopDate);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic long getMilli() {\r\n    \t\tif (startDate != null &amp;&amp; stopDate != null) {\r\n    \t\t\treturn Duration.between(startDate, stopDate).getNano() / 1000000L;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn 0;\r\n    \t}\r\n    }","title":"My StopWatch has wrong nano and millis, but right seconds","body":"<p>I've implemented a stopwatch class for my own little library and tested it by executing the following snippet:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        StopWatch sw = new StopWatch();\n        sw.start();\n        Thread.sleep(3000);\n        sw.stop();\n        System.out.println(sw.getMilli());\n        System.out.println(sw.getDuration().getNano());\n        System.out.println(sw.getDuration().getSeconds());\n    }\n}\n</code></pre>\n<p>I get the following result:</p>\n<pre><code>20\n2011600\n3\n</code></pre>\n<p>You can see that the numbers differ. I checked my StopWatch class round about 10 times, but I cant find mistakes. Can you find them?</p>\n<p><strong>This is my stopwatch-implementation:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.Duration;\n\npublic class StopWatch {\n    private Instant startDate;\n    private Instant stopDate;\n    \n    public StopWatch() {\n        reset();\n    }\n    \n    public void start() {\n        if (startDate == null) {\n            startDate = Instant.now();\n        }\n    }\n    \n    public void stop() {\n        if (stopDate == null &amp;&amp; startDate != null) {\n            stopDate = Instant.now();\n        }\n    }\n    \n    public void reset() {\n        startDate = null;\n        stopDate = null;\n    }\n    \n    public Duration getDuration() {\n        if (startDate != null &amp;&amp; stopDate != null) {\n            return Duration.between(startDate, stopDate);\n        }\n        \n        return null;\n    }\n    \n    public long getMilli() {\n        if (startDate != null &amp;&amp; stopDate != null) {\n            return Duration.between(startDate, stopDate).getNano() / 1000000L;\n        }\n        \n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","reflection","enums"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639081625,"post_id":70296197,"comment_id":124264531,"body_markdown":"Why do you ask how iterate? You have code that built a set of `Word`. Just loop that set.","body":"Why do you ask how iterate? You have code that built a set of <code>Word</code>. Just loop that set."},{"owner":{"account_id":22731858,"reputation":108,"user_id":16894632,"display_name":"Timothy Egenton"},"score":0,"creation_date":1639081672,"post_id":70296197,"comment_id":124264553,"body_markdown":"@roccobaroccoSC The interface contains a method (getWord) that each enum implements, which allows the retrieval of the string literal it represents, as some of them include illegal characters for an enum (such as &quot;and/or&quot;).\nThe question is about whether I can use reflection to get a list of all the words of every type.\nI could simply move all of the enums to one &quot;Word&quot; class, and have an attribute representing whether it is a particular type, but I would much rather keep the logical groups separate.","body":"@roccobaroccoSC The interface contains a method (getWord) that each enum implements, which allows the retrieval of the string literal it represents, as some of them include illegal characters for an enum (such as &quot;and/or&quot;). The question is about whether I can use reflection to get a list of all the words of every type. I could simply move all of the enums to one &quot;Word&quot; class, and have an attribute representing whether it is a particular type, but I would much rather keep the logical groups separate."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1639081950,"post_id":70296197,"comment_id":124264649,"body_markdown":"Your question and comment is confusing. Perhaps you should describe your overall goal.","body":"Your question and comment is confusing. Perhaps you should describe your overall goal."},{"owner":{"account_id":22731858,"reputation":108,"user_id":16894632,"display_name":"Timothy Egenton"},"score":0,"creation_date":1639082230,"post_id":70296197,"comment_id":124264760,"body_markdown":"The overall goal is to convert from an input string to a Word enum value. This could be done with either directly checking each enum with valueOf(), or by checking against a dictionary set like I intended. Either way, I have to check against each of the separate enum classes, and I&#39;d prefer to do it iteratively.","body":"The overall goal is to convert from an input string to a Word enum value. This could be done with either directly checking each enum with valueOf(), or by checking against a dictionary set like I intended. Either way, I have to check against each of the separate enum classes, and I&#39;d prefer to do it iteratively."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1639091594,"post_id":70296197,"comment_id":124267509,"body_markdown":"You are saying that you want something like a dictionary? I think a map could be a better solution compared to iterating over each entry.","body":"You are saying that you want something like a dictionary? I think a map could be a better solution compared to iterating over each entry."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1639118034,"post_id":70296197,"comment_id":124271835,"body_markdown":"Small suggestion: Instead of using `Arrays.asList(Article.values())`, use `EnumSet.allOf(Article.class)`.","body":"Small suggestion: Instead of using <code>Arrays.asList(Article.values())</code>, use <code>EnumSet.allOf(Article.class)</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639132181,"post_id":70296197,"comment_id":124275853,"body_markdown":"If you want to look up a `Word` by string, just build a `Map&lt;String,Word&gt;`. It’s not clear why you claim you had “to check against each of the separate enum classes” when the code you’ve posted yourself proves that you don’t have to.","body":"If you want to look up a <code>Word</code> by string, just build a <code>Map&lt;String,Word&gt;</code>. It’s not clear why you claim you had “to check against each of the separate enum classes” when the code you’ve posted yourself proves that you don’t have to."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639137019,"creation_date":1639084599,"answer_id":70296819,"question_id":70296197,"body_markdown":"Reflection only makes sense if you do not already know the enums\r\n(i.e. you have to discover the enums in a package).\r\n\r\nIf you already know the enums,\r\nthen a variation of your code is reasonable.\r\n\r\nFor example:\r\n```Java\r\npublic List&lt;Word&gt; allWords()\r\n{\r\n\tList&lt;Word&gt; returnValue = new LinkedList&lt;&gt;();\r\n\treturnValue.addAll(Arrays.asList(Article.values()));\r\n\treturnValue.addAll(Arrays.asList(Conjunction.values()));\r\n\treturnValue.addAll(Arrays.asList(Verb.values()));\r\n\t// And so on...\r\n\treturn returnValue;\r\n}\r\n```\r\n\r\nI suggest a `List`. &lt;strike&gt;because the `Set` will remove duplicates by name.&lt;/strike&gt;\r\n\r\nEdit:\r\nMy List suggestion now seems unnecessary.\r\n\r\nEdit2:\r\nPer comment,\r\nset is not as bad as I want to believe it.\r\nStill,\r\nyou are using the collection as a &quot;list of junk&quot;,\r\nI suggest `List` is the better choice.","title":"Iterate over enums (the class objects) with shared interface in Java","body":"<p>Reflection only makes sense if you do not already know the enums\n(i.e. you have to discover the enums in a package).</p>\n<p>If you already know the enums,\nthen a variation of your code is reasonable.</p>\n<p>For example:</p>\n<pre><code>public List&lt;Word&gt; allWords()\n{\n    List&lt;Word&gt; returnValue = new LinkedList&lt;&gt;();\n    returnValue.addAll(Arrays.asList(Article.values()));\n    returnValue.addAll(Arrays.asList(Conjunction.values()));\n    returnValue.addAll(Arrays.asList(Verb.values()));\n    // And so on...\n    return returnValue;\n}\n</code></pre>\n<p>I suggest a <code>List</code>. <strike>because the <code>Set</code> will remove duplicates by name.</strike></p>\n<p>Edit:\nMy List suggestion now seems unnecessary.</p>\n<p>Edit2:\nPer comment,\nset is not as bad as I want to believe it.\nStill,\nyou are using the collection as a &quot;list of junk&quot;,\nI suggest <code>List</code> is the better choice.</p>\n"},{"tags":[],"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639086799,"creation_date":1639086799,"answer_id":70297181,"question_id":70296197,"body_markdown":"You can iterate through the values using Stream API or plain `for-loop`\r\n```java\r\nallWords()\r\n   .stream()\r\n   .forEach(System.out::println);\r\n// or\r\nStream.of(Article.values())\r\n       .map(Article::text) // .text is a method from your interface Word\r\n       .forEach(System.out::println);\r\n```\r\nbut honestly, you are trying to do something strange with these enums.\r\n\r\nWhat is your task? Why you are trying to solve it via enums at all?","title":"Iterate over enums (the class objects) with shared interface in Java","body":"<p>You can iterate through the values using Stream API or plain <code>for-loop</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>allWords()\n   .stream()\n   .forEach(System.out::println);\n// or\nStream.of(Article.values())\n       .map(Article::text) // .text is a method from your interface Word\n       .forEach(System.out::println);\n</code></pre>\n<p>but honestly, you are trying to do something strange with these enums.</p>\n<p>What is your task? Why you are trying to solve it via enums at all?</p>\n"}],"owner":{"account_id":22731858,"reputation":108,"user_id":16894632,"display_name":"Timothy Egenton"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1639917619,"accepted_answer_id":70296819,"answer_count":2,"score":2,"last_activity_date":1639481426,"creation_date":1639081060,"question_id":70296197,"body_markdown":"I have several enums that implement the interface `Word`. I want to generate a list of all of the values of these enums.\r\n\r\nThe way I am currently doing this is:\r\n```java\r\n    public Set&lt;Word&gt; allWords() {\r\n        Set&lt;Word&gt; dictionary = new HashSet&lt;&gt;();\r\n        dictionary.addAll(Arrays.asList(Article.values()));\r\n        dictionary.addAll(Arrays.asList(Conjunction.values()));\r\n        dictionary.addAll(Arrays.asList(Verb.values()));\r\n        // And so on...\r\n        return dictionary;\r\n    }\r\n```\r\nIs there a way to iterate over these enums? I imagine it would involve creating a list of Class objects, but I&#39;m not sure how to convert that back the the actual values.\r\n\r\nIn case it&#39;s relevant, Word and each of the enums are in the same package (lexicon).","title":"Iterate over enums (the class objects) with shared interface in Java","body":"<p>I have several enums that implement the interface <code>Word</code>. I want to generate a list of all of the values of these enums.</p>\n<p>The way I am currently doing this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Set&lt;Word&gt; allWords() {\n        Set&lt;Word&gt; dictionary = new HashSet&lt;&gt;();\n        dictionary.addAll(Arrays.asList(Article.values()));\n        dictionary.addAll(Arrays.asList(Conjunction.values()));\n        dictionary.addAll(Arrays.asList(Verb.values()));\n        // And so on...\n        return dictionary;\n    }\n</code></pre>\n<p>Is there a way to iterate over these enums? I imagine it would involve creating a list of Class objects, but I'm not sure how to convert that back the the actual values.</p>\n<p>In case it's relevant, Word and each of the enums are in the same package (lexicon).</p>\n"},{"tags":["java","generics","types"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1639433978,"post_id":70341587,"comment_id":124343242,"body_markdown":"I&#39;m not sure I understand. Why does a class representing a container *need* any shared state? Certainly, two instances of `EContainer` shouldn&#39;t be needing to access any common memory; they&#39;re completely distinct.","body":"I&#39;m not sure I understand. Why does a class representing a container <i>need</i> any shared state? Certainly, two instances of <code>EContainer</code> shouldn&#39;t be needing to access any common memory; they&#39;re completely distinct."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1639433980,"post_id":70341587,"comment_id":124343244,"body_markdown":"I suggest you post the code you&#39;re working with instead of trying to describe it.","body":"I suggest you post the code you&#39;re working with instead of trying to describe it."},{"owner":{"account_id":22873166,"reputation":23,"user_id":17405034,"display_name":"Anton Bogun"},"score":0,"creation_date":1639477183,"post_id":70341587,"comment_id":124352702,"body_markdown":"@shmosel I just posted my own comment with a working code.","body":"@shmosel I just posted my own comment with a working code."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639451837,"creation_date":1639440538,"answer_id":70342332,"question_id":70341587,"body_markdown":"&gt; How can I give a promise to the compiler that what I am doing is type safe?\r\n\r\nGenerally speaking, that is what the `@SuppressWarnings(&quot;unchecked&quot;)` does.  \r\n\r\nIt is not clear if it will work for your use-case.  (Show us your actual code ... if you want a more specific answer.)\r\n\r\nHowever, there will still be a hidden runtime check to detect that you are not violating runtime type safety.  There is *no way* you can turn off those checks.\r\n\r\n\r\n-----------------\r\n\r\n&gt; Just had an idea of having `getDelimiter` return everything as `Object` and then casting to `T` right after, sounds like that should work and would minimize boilerplate.\r\n\r\nHmm ... you can&#39;t cast something statically typed as `Object` to `T`.  The fundamental problem is that the actual type of `T` is erased, so the runtime doesn&#39;t know what type to cast to.\r\n\r\nOne possible workaround is to represent the actual type of `T` as a `Class` object, and use reflection to do the type check / cast.  Indeed, this is the general workaround when you need to do type checks in spite of type erasure.  Unfortunately this is cumbersome, because at some point you need to pass an extra *explicit* `Class` object as a parameter to make it work.","title":"How to promise type safety to the compiler in Java","body":"<blockquote>\n<p>How can I give a promise to the compiler that what I am doing is type safe?</p>\n</blockquote>\n<p>Generally speaking, that is what the <code>@SuppressWarnings(&quot;unchecked&quot;)</code> does.</p>\n<p>It is not clear if it will work for your use-case.  (Show us your actual code ... if you want a more specific answer.)</p>\n<p>However, there will still be a hidden runtime check to detect that you are not violating runtime type safety.  There is <em>no way</em> you can turn off those checks.</p>\n<hr />\n<blockquote>\n<p>Just had an idea of having <code>getDelimiter</code> return everything as <code>Object</code> and then casting to <code>T</code> right after, sounds like that should work and would minimize boilerplate.</p>\n</blockquote>\n<p>Hmm ... you can't cast something statically typed as <code>Object</code> to <code>T</code>.  The fundamental problem is that the actual type of <code>T</code> is erased, so the runtime doesn't know what type to cast to.</p>\n<p>One possible workaround is to represent the actual type of <code>T</code> as a <code>Class</code> object, and use reflection to do the type check / cast.  Indeed, this is the general workaround when you need to do type checks in spite of type erasure.  Unfortunately this is cumbersome, because at some point you need to pass an extra <em>explicit</em> <code>Class</code> object as a parameter to make it work.</p>\n"},{"tags":[],"owner":{"account_id":22873166,"reputation":23,"user_id":17405034,"display_name":"Anton Bogun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639480881,"creation_date":1639477124,"answer_id":70347200,"question_id":70341587,"body_markdown":"```java\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    \r\n    public class StackOverflowNonsense {\r\n        public static abstract class Container{\r\n            public String sharedFunc(){return &quot;this is a shared function&quot;;}\r\n        }\r\n        public static class EContainer{\r\n            public int _int; //id=0\r\n            public float _float; //id=!0\r\n            public EContainer(int _int,float _float){\r\n                this._int=_int;\r\n                this._float=_float;\r\n            }\r\n            protected enum Delimiters{\r\n                INT(new ArrayList&lt;Object&gt;(Arrays.asList(0,21,51))),\r\n                FLOAT(new ArrayList&lt;Object&gt;(Arrays.asList((float)0,(float)0.5,(float)1)));\r\n                final ArrayList&lt;Object&gt; delim;\r\n                Delimiters(ArrayList&lt;Object&gt; delim){\r\n                    this.delim=delim;\r\n                }\r\n            }\r\n            public Object getDelimiter(int id){\r\n                if (id==0){\r\n                    int pos=Collections.binarySearch(Delimiters.INT.delim, (Object)_int,Comparator.comparingInt(key-&gt;(int)key));\r\n                    return (Object)Delimiters.INT.delim.get(pos&lt;0?-2-pos:pos);\r\n                }else{\r\n                    int pos=Collections.binarySearch(Delimiters.FLOAT.delim, (Object)_float,Comparator.comparingDouble(key-&gt;(Float)key));\r\n                    return (Object)Delimiters.FLOAT.delim.get(pos&lt;0?-2-pos:pos);\r\n                }\r\n            }\r\n            @Override\r\n            public String toString(){\r\n                return String.format(&quot;EContainer with (%d, %f)&quot;, _int,_float);\r\n            }\r\n        }\r\n            public static void main(String[] args){\r\n                ArrayList&lt;EContainer&gt; ContainerList=new ArrayList&lt;&gt;(\r\n                Arrays.asList(new EContainer(0,(float)2.0),new EContainer(69,(float)0.69))\r\n                );\r\n                Collections.sort(ContainerList,Comparator.comparingInt(key-&gt;(int)key.getDelimiter(0)));\r\n                System.out.println(ContainerList);\r\n                Collections.sort(ContainerList,Comparator.comparingDouble(key-&gt;(Float)key.getDelimiter(1)));\r\n                System.out.println(ContainerList);\r\n            }\r\n    }\r\n```\r\n\r\nThis appears to provide the functionality I want, however I&#39;m not sure if this code breaks some holy scripts, so maybe there is a better solution?\r\n\r\n\r\n[![Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D6vfj.png","title":"How to promise type safety to the compiler in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>    import java.util.ArrayList;\n    import java.util.Arrays;\n    import java.util.Collections;\n    import java.util.Comparator;\n    \n    public class StackOverflowNonsense {\n        public static abstract class Container{\n            public String sharedFunc(){return &quot;this is a shared function&quot;;}\n        }\n        public static class EContainer{\n            public int _int; //id=0\n            public float _float; //id=!0\n            public EContainer(int _int,float _float){\n                this._int=_int;\n                this._float=_float;\n            }\n            protected enum Delimiters{\n                INT(new ArrayList&lt;Object&gt;(Arrays.asList(0,21,51))),\n                FLOAT(new ArrayList&lt;Object&gt;(Arrays.asList((float)0,(float)0.5,(float)1)));\n                final ArrayList&lt;Object&gt; delim;\n                Delimiters(ArrayList&lt;Object&gt; delim){\n                    this.delim=delim;\n                }\n            }\n            public Object getDelimiter(int id){\n                if (id==0){\n                    int pos=Collections.binarySearch(Delimiters.INT.delim, (Object)_int,Comparator.comparingInt(key-&gt;(int)key));\n                    return (Object)Delimiters.INT.delim.get(pos&lt;0?-2-pos:pos);\n                }else{\n                    int pos=Collections.binarySearch(Delimiters.FLOAT.delim, (Object)_float,Comparator.comparingDouble(key-&gt;(Float)key));\n                    return (Object)Delimiters.FLOAT.delim.get(pos&lt;0?-2-pos:pos);\n                }\n            }\n            @Override\n            public String toString(){\n                return String.format(&quot;EContainer with (%d, %f)&quot;, _int,_float);\n            }\n        }\n            public static void main(String[] args){\n                ArrayList&lt;EContainer&gt; ContainerList=new ArrayList&lt;&gt;(\n                Arrays.asList(new EContainer(0,(float)2.0),new EContainer(69,(float)0.69))\n                );\n                Collections.sort(ContainerList,Comparator.comparingInt(key-&gt;(int)key.getDelimiter(0)));\n                System.out.println(ContainerList);\n                Collections.sort(ContainerList,Comparator.comparingDouble(key-&gt;(Float)key.getDelimiter(1)));\n                System.out.println(ContainerList);\n            }\n    }\n</code></pre>\n<p>This appears to provide the functionality I want, however I'm not sure if this code breaks some holy scripts, so maybe there is a better solution?</p>\n<p><a href=\"https://i.stack.imgur.com/D6vfj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6vfj.png\" alt=\"Output\" /></a></p>\n"}],"owner":{"account_id":22873166,"reputation":23,"user_id":17405034,"display_name":"Anton Bogun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1639480881,"creation_date":1639433810,"question_id":70341587,"body_markdown":"How can I give a promise to the compiler that what I am doing is type safe?\r\n\r\nI have a class &quot;Container&quot; that can have some info. I extend said class into what I will refer to as `EContainer `(E for Extended) and define that it can have some specific info, like say an `int` and a `string`. Now, I want to be able to make a list of `EContainers `and sort it by either `int` or `string`, and my solution was to have a `ContainerList&lt;T&gt;` class where `T` is what you sort by, and you pass in a lambda to act as an adapter for `EContainer` to extract `T`. \r\n\r\nSo far so good, however now say I want to delimit the list in some way into groups, so if the hypothetical `EContainer` has ints ranging from 0 to 100, I would want to say &quot;*group `EContainer`s like this: 0-20, 21-50, 51-100*&quot;. \r\n\r\nMy initial guess was that I would add a function I&#39;ll refer to as `getDelimiter` inside `EContainer` that would be able to return the &quot;group&quot; it is in, utilizing a protected predefined enum that would define delimiters, however, this is where I ran into problems - the way I would return a group is by having a shared value of `T` that multiple `EContainers` would return after running `getDelimiter`, and so I would group based on that, but unfortunately that would mean that `getDelimiter` would be a multi-type return function and I do not know how exactly I would tell the compiler that &quot;*yes, I know what I am doing, and that I will definitely get back `T` from `getDelimiter`*&quot;\r\n\r\nI could probably get around this by adding another lambda in there that would define the function to call on the `EContainer` to get the delimiter function, and that should be type safe and everything, but I thought that would end up in an unnecessary boilerplate in `EContainer`, so maybe there is a better option I don&#39;t know of? I have to say, it is very difficult to find the keywords I could use for this problem, so I couldn&#39;t do much initial research.\r\n\r\nEdit: Just had an idea of having `getDelimiter` return everything as `Object` and then casting to `T` right after, sounds like that should work and would minimize boilerplate.","title":"How to promise type safety to the compiler in Java","body":"<p>How can I give a promise to the compiler that what I am doing is type safe?</p>\n<p>I have a class &quot;Container&quot; that can have some info. I extend said class into what I will refer to as <code>EContainer </code>(E for Extended) and define that it can have some specific info, like say an <code>int</code> and a <code>string</code>. Now, I want to be able to make a list of <code>EContainers </code>and sort it by either <code>int</code> or <code>string</code>, and my solution was to have a <code>ContainerList&lt;T&gt;</code> class where <code>T</code> is what you sort by, and you pass in a lambda to act as an adapter for <code>EContainer</code> to extract <code>T</code>.</p>\n<p>So far so good, however now say I want to delimit the list in some way into groups, so if the hypothetical <code>EContainer</code> has ints ranging from 0 to 100, I would want to say &quot;<em>group <code>EContainer</code>s like this: 0-20, 21-50, 51-100</em>&quot;.</p>\n<p>My initial guess was that I would add a function I'll refer to as <code>getDelimiter</code> inside <code>EContainer</code> that would be able to return the &quot;group&quot; it is in, utilizing a protected predefined enum that would define delimiters, however, this is where I ran into problems - the way I would return a group is by having a shared value of <code>T</code> that multiple <code>EContainers</code> would return after running <code>getDelimiter</code>, and so I would group based on that, but unfortunately that would mean that <code>getDelimiter</code> would be a multi-type return function and I do not know how exactly I would tell the compiler that &quot;<em>yes, I know what I am doing, and that I will definitely get back <code>T</code> from <code>getDelimiter</code></em>&quot;</p>\n<p>I could probably get around this by adding another lambda in there that would define the function to call on the <code>EContainer</code> to get the delimiter function, and that should be type safe and everything, but I thought that would end up in an unnecessary boilerplate in <code>EContainer</code>, so maybe there is a better option I don't know of? I have to say, it is very difficult to find the keywords I could use for this problem, so I couldn't do much initial research.</p>\n<p>Edit: Just had an idea of having <code>getDelimiter</code> return everything as <code>Object</code> and then casting to <code>T</code> right after, sounds like that should work and would minimize boilerplate.</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639480780,"creation_date":1639480780,"answer_id":70348020,"question_id":70347924,"body_markdown":"I&#39;m assuming you&#39;re already using the code generator. Now you can just use that generated method in the generated `Routines` class like this:\r\n\r\n```java\r\nctx.select(Routines.processTimeReportsDirectBufPortion(100)).fetch();\r\n```","title":"How can I execute the command of routines JOOQ","body":"<p>I'm assuming you're already using the code generator. Now you can just use that generated method in the generated <code>Routines</code> class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.select(Routines.processTimeReportsDirectBufPortion(100)).fetch();\n</code></pre>\n"}],"owner":{"account_id":20704915,"reputation":53,"user_id":15392934,"display_name":"Oleksii Hlovatskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1639480780,"creation_date":1639480347,"question_id":70347924,"body_markdown":"I need to execute the command - \r\n\r\n```sql\r\nSELECT sbcm_ref.process_time_reports_direct_buf_portion(100)\r\n```\r\n\r\n`process_time_reports_direct_buf_portion` is a class of Routines package in the sbcm_ref schema.\r\n\r\nHow can I do it?\r\nThank you for the answer!","title":"How can I execute the command of routines JOOQ","body":"<p>I need to execute the command -</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT sbcm_ref.process_time_reports_direct_buf_portion(100)\n</code></pre>\n<p><code>process_time_reports_direct_buf_portion</code> is a class of Routines package in the sbcm_ref schema.</p>\n<p>How can I do it?\nThank you for the answer!</p>\n"},{"tags":["java","string","format","jsoup"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1544761064,"post_id":53771169,"comment_id":94398381,"body_markdown":"From your &quot;desired&quot; html output, **exactly** which numbers do you really want to extract and use?","body":"From your &quot;desired&quot; html output, <b>exactly</b> which numbers do you really want to extract and use?"},{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1544778658,"post_id":53771169,"comment_id":94404197,"body_markdown":"I managed to access the data I wanted from that last output by using .get(number) but there is one which I actually can not access and thus made me update the question.","body":"I managed to access the data I wanted from that last output by using .get(number) but there is one which I actually can not access and thus made me update the question."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639480430,"creation_date":1544944634,"answer_id":53800192,"question_id":53771169,"body_markdown":"To scrape data from HTML source I use a little method I created named **getBetween()** to carry out the task. Of course the data I personally want seems to always be between strings of some sort:\r\n\r\n    /**\r\n     * Retrieves any string data located between the supplied string leftString\r\n     * parameter and the supplied string rightString parameter.&lt;br&gt;&lt;br&gt;\r\n     * &lt;p&gt;\r\n     * &lt;p&gt;\r\n     * This method will return all instances of a substring located between the\r\n     * supplied Left String and the supplied Right String which may be found\r\n     * within the supplied Input String.&lt;br&gt;\r\n     *\r\n     * @param inputString (String) The string to look for substring(s) in.\r\n     *\r\n     * @param leftString  (String) What may be to the Left side of the substring\r\n     *                    we want within the main input string. Sometimes the\r\n     *                    substring you want may be contained at the very\r\n     *                    beginning of a string and therefore there is no\r\n     *                    Left-String available. In this case you would simply\r\n     *                    pass a Null String (&quot;&quot;) to this parameter which\r\n     *                    basically informs the method of this fact. Null can\r\n     *                    not be supplied and will ultimately generate a\r\n     *                    NullPointerException.\r\n     *\r\n     * @param rightString (String) What may be to the Right side of the\r\n     *                    substring we want within the main input string.\r\n     *                    Sometimes the substring you want may be contained at\r\n     *                    the very end of a string and therefore there is no\r\n     *                    Right-String available. In this case you would simply\r\n     *                    pass a Null String (&quot;&quot;) to this parameter which\r\n     *                    basically informs the method of this fact. Null can\r\n     *                    not be supplied and will ultimately generate a\r\n     *                    NullPointerException.\r\n     *\r\n     * @param options     (Optional - Boolean - 2 Parameters):&lt;pre&gt;\r\n     *\r\n     *      ignoreLetterCase    - Default is false. This option works against the\r\n     *                            string supplied within the leftString parameter\r\n     *                            and the string supplied within the rightString\r\n     *                            parameter. If set to true then letter case is\r\n     *                            ignored when searching for strings supplied in\r\n     *                            these two parameters. If left at default false\r\n     *                            then letter case is not ignored.\r\n     *\r\n     *      trimFound           - Default is true. By default this method will trim\r\n     *                            off leading and trailing white-spaces from found\r\n     *                            sub-string items. General sentences which obviously\r\n     *                            contain spaces will almost always give you a white-\r\n     *                            space within an extracted sub-string. By setting\r\n     *                            this parameter to false, leading and trailing white-\r\n     *                            spaces are not trimmed off before they are placed\r\n     *                            into the returned Array.&lt;/pre&gt;\r\n     *\r\n     * @return (1D String Array) Returns a Single Dimensional String Array\r\n     *         containing all the sub-strings found within the supplied Input\r\n     *         String which are between the supplied Left String and supplied\r\n     *         Right String. You can shorten this method up a little by\r\n     *         returning a List&amp;lt;String&amp;gt; ArrayList and removing the &#39;List\r\n     *         to 1D Array&#39; conversion code at the end of this method. This\r\n     *         method initially stores its findings within a List object\r\n     *         anyways.\r\n     */\r\n    public String[] getBetween(String inputString, String leftString, \r\n                        String rightString, boolean... options) {\r\n        // Return nothing if nothing was supplied.\r\n        if (inputString.equals(&quot;&quot;) || (leftString.equals(&quot;&quot;) &amp;&amp; rightString.equals(&quot;&quot;))) {\r\n            return null;\r\n        }\r\n\r\n        // Prepare optional parameters if any supplied.\r\n        // If none supplied then use Defaults...\r\n        boolean ignoreCase = false; // Default.\r\n        boolean trimFound = true;   // Default.\r\n        if (options.length &gt; 0) {\r\n            if (options.length &gt;= 1) {\r\n                ignoreCase = options[0];\r\n            }\r\n            if (options.length &gt;= 2) {\r\n                trimFound = options[1];\r\n            }\r\n        }\r\n\r\n        // Remove any ASCII control characters from the\r\n        // supplied string (if they exist).\r\n        String modString = inputString.replaceAll(&quot;\\\\p{Cntrl}&quot;, &quot;&quot;);\r\n\r\n        // Establish a List String Array Object to hold\r\n        // our found substrings between the supplied Left\r\n        // String and supplied Right String.\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        // Use Pattern Matching to locate our possible\r\n        // substrings within the supplied Input String.\r\n        String regEx = Pattern.quote(leftString)\r\n                + (!rightString.equals(&quot;&quot;) ? &quot;(.*?)&quot; : &quot;(.*)?&quot;)\r\n                + Pattern.quote(rightString);\r\n        if (ignoreCase) {\r\n            regEx = &quot;(?i)&quot; + regEx;\r\n        }\r\n        Pattern pattern = Pattern.compile(regEx);\r\n        Matcher matcher = pattern.matcher(modString);\r\n        while (matcher.find()) {\r\n            // Add the found substrings into the List.\r\n            String found = matcher.group(1);\r\n            if (trimFound) {\r\n                found = found.trim();\r\n            }\r\n            list.add(found);\r\n        }\r\n\r\n        String[] res;\r\n        // Convert the ArrayList to a 1D String Array.\r\n        // If the List contains something then convert\r\n        if (list.size() &gt; 0) {\r\n            res = new String[list.size()];\r\n            res = list.toArray(res);\r\n        } // Otherwise return Null.\r\n        else {\r\n            res = null;\r\n        }\r\n        // Return the String Array.\r\n        return res;\r\n    }\r\n\r\nGetting the web-page HTML source is the easy part. To get the needed numerical values from the &quot;desired output&quot; you initially posted (shown below) \r\n\r\n&gt; HTML Source:\r\n\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \r\n     doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \r\n     onclick=&quot;doWindow(this.href, &#39;1024&#39;, &#39;768&#39;); return false;&quot;&gt;10 000&lt;/a&gt; [10 \r\n     000]&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;20.48&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$28.65&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$894.69&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10.11&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.21&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \r\n      doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \r\n     onclick=&quot;doWindow(this.href, &#39;1024&#39;, &#39;768&#39;); return false;&quot;&gt;10 000&lt;/a&gt; [10 \r\n     000]&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;46.21&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$53.82&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$1 151.78&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;8.01&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \r\n     doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \r\n     onclick=&quot;doWindow(this.href, &#39;1024&#39;, &#39;768&#39;); return false;&quot;&gt;5 000&lt;/a&gt; [5 \r\n     000]&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5 000&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;22.51&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$222.53&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$2 399.92&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5.94&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.01&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return\r\n     &lt;td align=&quot;center&quot;&gt;\r\n         &lt;input type=&quot;text&quot; tabindex=&quot;2&quot; name=&quot;productData[price]       \r\n         [{33013477}]&quot; size=&quot;10&quot; value=&quot;3000.00&quot;&gt;    \r\n     &lt;/td&gt; \r\n\r\nI would use the **getBetween()** method something like this:\r\n\r\n    // Let&#39;s assume the &quot;desired output&quot; you acquired \r\n    // is contained within a Text file named &quot;HtmlData.txt&quot;.\r\n   \r\n    // Hold our scraped data in a 2D List inteface.\r\n    List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    // Read File using BufferedReader in a Try With Resources block...\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;HtmlData.txt&quot;))) {\r\n        String line;\r\n        List&lt;String&gt; numbers = null;\r\n        while ((line = reader.readLine()) != null) {\r\n            numbers = new ArrayList&lt;&gt;();\r\n            line = line.trim();\r\n            if (line.equals(&quot;&quot;)) {\r\n                continue;\r\n            }\r\n            if (line.startsWith(&quot;onclick=\\&quot;doWindow(this.href,&quot;)) {\r\n                while ((line = reader.readLine()) != null) {\r\n                    line = line.trim();\r\n                    if (line.endsWith(&quot;return&quot;)) {\r\n                        list.add(numbers);\r\n                        break;\r\n                    }\r\n                    if (line.equals(&quot;&quot;)) {\r\n                        continue;\r\n                    }\r\n                    if (line.startsWith(&quot;&lt;td align=\\&quot;right\\&quot; class=\\&quot;nowrap\\&quot;&gt;&quot;)) {\r\n                        numbers.add(getBetween(line, &quot;&lt;td align=\\&quot;right\\&quot; class=\\&quot;nowrap\\&quot;&gt;&quot;, &quot;&lt;/td&gt;&quot;, true, true)[0]);\r\n                    }\r\n                }\r\n            }\r\n            if (line.contains(&quot;name=\\&quot;productData[price]&quot;)) {\r\n                while ((line = reader.readLine()) != null) {\r\n                    line = line.trim();\r\n                    if (line.equals(&quot;&quot;)) {\r\n                        continue;\r\n                    }\r\n                    if (line.startsWith(&quot;[{33013477}]&quot;)) {\r\n                        numbers.add(&quot;Product Price: &quot; + getBetween(line, &quot;value=\\&quot;&quot;, &quot;\\&quot;&gt;&quot;, true, true)[0]);\r\n                        list.add(numbers);\r\n                        break;  // DONE\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (numbers != null &amp;&amp; !numbers.isEmpty()) {\r\n            list.add(numbers);\r\n        }\r\n    }\r\n    catch (IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n    // Display our findings to the Console Window in a \r\n    // table style format:\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        for (int j = 0; j &lt; list.get(i).size(); j++) {\r\n            System.out.printf(&quot;%-10s &quot;, list.get(i).get(j));\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\nIn case you didn&#39;t notice, the other portion you desire from the lines:\r\n\r\n    &lt;td align=&quot;center&quot;&gt;\r\n        &lt;input type=&quot;text&quot; tabindex=&quot;2&quot; name=&quot;productData[price]       \r\n        [{33013477}]&quot; size=&quot;10&quot; value=&quot;3000.00&quot;&gt;    \r\n    &lt;/td&gt;\r\n\r\nwas also contained within the file data. When the code is run you will see the following displayed within the Console Window:\r\n\r\n    10 000     20.48      0.00       $28.65     0.00 %     $894.69    10.11      0.21       \r\n    10 000     46.21      0.00       $53.82     0.00 %     $1 151.78  8.01       0.00       \r\n    5 000      22.51      0.00       $222.53    0.00 %     $2 399.92  5.94       0.01       \r\n    Product Price: 3000.00 ","title":"Extracting data from HTML and formatting the output","body":"<p>To scrape data from HTML source I use a little method I created named <strong>getBetween()</strong> to carry out the task. Of course the data I personally want seems to always be between strings of some sort:</p>\n<pre><code>/**\n * Retrieves any string data located between the supplied string leftString\n * parameter and the supplied string rightString parameter.&lt;br&gt;&lt;br&gt;\n * &lt;p&gt;\n * &lt;p&gt;\n * This method will return all instances of a substring located between the\n * supplied Left String and the supplied Right String which may be found\n * within the supplied Input String.&lt;br&gt;\n *\n * @param inputString (String) The string to look for substring(s) in.\n *\n * @param leftString  (String) What may be to the Left side of the substring\n *                    we want within the main input string. Sometimes the\n *                    substring you want may be contained at the very\n *                    beginning of a string and therefore there is no\n *                    Left-String available. In this case you would simply\n *                    pass a Null String (&quot;&quot;) to this parameter which\n *                    basically informs the method of this fact. Null can\n *                    not be supplied and will ultimately generate a\n *                    NullPointerException.\n *\n * @param rightString (String) What may be to the Right side of the\n *                    substring we want within the main input string.\n *                    Sometimes the substring you want may be contained at\n *                    the very end of a string and therefore there is no\n *                    Right-String available. In this case you would simply\n *                    pass a Null String (&quot;&quot;) to this parameter which\n *                    basically informs the method of this fact. Null can\n *                    not be supplied and will ultimately generate a\n *                    NullPointerException.\n *\n * @param options     (Optional - Boolean - 2 Parameters):&lt;pre&gt;\n *\n *      ignoreLetterCase    - Default is false. This option works against the\n *                            string supplied within the leftString parameter\n *                            and the string supplied within the rightString\n *                            parameter. If set to true then letter case is\n *                            ignored when searching for strings supplied in\n *                            these two parameters. If left at default false\n *                            then letter case is not ignored.\n *\n *      trimFound           - Default is true. By default this method will trim\n *                            off leading and trailing white-spaces from found\n *                            sub-string items. General sentences which obviously\n *                            contain spaces will almost always give you a white-\n *                            space within an extracted sub-string. By setting\n *                            this parameter to false, leading and trailing white-\n *                            spaces are not trimmed off before they are placed\n *                            into the returned Array.&lt;/pre&gt;\n *\n * @return (1D String Array) Returns a Single Dimensional String Array\n *         containing all the sub-strings found within the supplied Input\n *         String which are between the supplied Left String and supplied\n *         Right String. You can shorten this method up a little by\n *         returning a List&amp;lt;String&amp;gt; ArrayList and removing the 'List\n *         to 1D Array' conversion code at the end of this method. This\n *         method initially stores its findings within a List object\n *         anyways.\n */\npublic String[] getBetween(String inputString, String leftString, \n                    String rightString, boolean... options) {\n    // Return nothing if nothing was supplied.\n    if (inputString.equals(&quot;&quot;) || (leftString.equals(&quot;&quot;) &amp;&amp; rightString.equals(&quot;&quot;))) {\n        return null;\n    }\n\n    // Prepare optional parameters if any supplied.\n    // If none supplied then use Defaults...\n    boolean ignoreCase = false; // Default.\n    boolean trimFound = true;   // Default.\n    if (options.length &gt; 0) {\n        if (options.length &gt;= 1) {\n            ignoreCase = options[0];\n        }\n        if (options.length &gt;= 2) {\n            trimFound = options[1];\n        }\n    }\n\n    // Remove any ASCII control characters from the\n    // supplied string (if they exist).\n    String modString = inputString.replaceAll(&quot;\\\\p{Cntrl}&quot;, &quot;&quot;);\n\n    // Establish a List String Array Object to hold\n    // our found substrings between the supplied Left\n    // String and supplied Right String.\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    // Use Pattern Matching to locate our possible\n    // substrings within the supplied Input String.\n    String regEx = Pattern.quote(leftString)\n            + (!rightString.equals(&quot;&quot;) ? &quot;(.*?)&quot; : &quot;(.*)?&quot;)\n            + Pattern.quote(rightString);\n    if (ignoreCase) {\n        regEx = &quot;(?i)&quot; + regEx;\n    }\n    Pattern pattern = Pattern.compile(regEx);\n    Matcher matcher = pattern.matcher(modString);\n    while (matcher.find()) {\n        // Add the found substrings into the List.\n        String found = matcher.group(1);\n        if (trimFound) {\n            found = found.trim();\n        }\n        list.add(found);\n    }\n\n    String[] res;\n    // Convert the ArrayList to a 1D String Array.\n    // If the List contains something then convert\n    if (list.size() &gt; 0) {\n        res = new String[list.size()];\n        res = list.toArray(res);\n    } // Otherwise return Null.\n    else {\n        res = null;\n    }\n    // Return the String Array.\n    return res;\n}\n</code></pre>\n<p>Getting the web-page HTML source is the easy part. To get the needed numerical values from the &quot;desired output&quot; you initially posted (shown below)</p>\n<blockquote>\n<p>HTML Source:</p>\n</blockquote>\n<pre><code> &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \n doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \n onclick=&quot;doWindow(this.href, '1024', '768'); return false;&quot;&gt;10 000&lt;/a&gt; [10 \n 000]&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;20.48&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$28.65&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$894.69&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10.11&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.21&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \n  doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \n onclick=&quot;doWindow(this.href, '1024', '768'); return false;&quot;&gt;10 000&lt;/a&gt; [10 \n 000]&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;46.21&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$53.82&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$1 151.78&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;8.01&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \n doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \n onclick=&quot;doWindow(this.href, '1024', '768'); return false;&quot;&gt;5 000&lt;/a&gt; [5 \n 000]&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5 000&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;22.51&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$222.53&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$2 399.92&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5.94&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.01&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return\n &lt;td align=&quot;center&quot;&gt;\n     &lt;input type=&quot;text&quot; tabindex=&quot;2&quot; name=&quot;productData[price]       \n     [{33013477}]&quot; size=&quot;10&quot; value=&quot;3000.00&quot;&gt;    \n &lt;/td&gt; \n</code></pre>\n<p>I would use the <strong>getBetween()</strong> method something like this:</p>\n<pre><code>// Let's assume the &quot;desired output&quot; you acquired \n// is contained within a Text file named &quot;HtmlData.txt&quot;.\n\n// Hold our scraped data in a 2D List inteface.\nList&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\n\n// Read File using BufferedReader in a Try With Resources block...\ntry (BufferedReader reader = new BufferedReader(new FileReader(&quot;HtmlData.txt&quot;))) {\n    String line;\n    List&lt;String&gt; numbers = null;\n    while ((line = reader.readLine()) != null) {\n        numbers = new ArrayList&lt;&gt;();\n        line = line.trim();\n        if (line.equals(&quot;&quot;)) {\n            continue;\n        }\n        if (line.startsWith(&quot;onclick=\\&quot;doWindow(this.href,&quot;)) {\n            while ((line = reader.readLine()) != null) {\n                line = line.trim();\n                if (line.endsWith(&quot;return&quot;)) {\n                    list.add(numbers);\n                    break;\n                }\n                if (line.equals(&quot;&quot;)) {\n                    continue;\n                }\n                if (line.startsWith(&quot;&lt;td align=\\&quot;right\\&quot; class=\\&quot;nowrap\\&quot;&gt;&quot;)) {\n                    numbers.add(getBetween(line, &quot;&lt;td align=\\&quot;right\\&quot; class=\\&quot;nowrap\\&quot;&gt;&quot;, &quot;&lt;/td&gt;&quot;, true, true)[0]);\n                }\n            }\n        }\n        if (line.contains(&quot;name=\\&quot;productData[price]&quot;)) {\n            while ((line = reader.readLine()) != null) {\n                line = line.trim();\n                if (line.equals(&quot;&quot;)) {\n                    continue;\n                }\n                if (line.startsWith(&quot;[{33013477}]&quot;)) {\n                    numbers.add(&quot;Product Price: &quot; + getBetween(line, &quot;value=\\&quot;&quot;, &quot;\\&quot;&gt;&quot;, true, true)[0]);\n                    list.add(numbers);\n                    break;  // DONE\n                }\n            }\n        }\n    }\n    if (numbers != null &amp;&amp; !numbers.isEmpty()) {\n        list.add(numbers);\n    }\n}\ncatch (IOException ex) {\n    ex.printStackTrace();\n}\n\n// Display our findings to the Console Window in a \n// table style format:\nfor (int i = 0; i &lt; list.size(); i++) {\n    for (int j = 0; j &lt; list.get(i).size(); j++) {\n        System.out.printf(&quot;%-10s &quot;, list.get(i).get(j));\n    }\n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>In case you didn't notice, the other portion you desire from the lines:</p>\n<pre><code>&lt;td align=&quot;center&quot;&gt;\n    &lt;input type=&quot;text&quot; tabindex=&quot;2&quot; name=&quot;productData[price]       \n    [{33013477}]&quot; size=&quot;10&quot; value=&quot;3000.00&quot;&gt;    \n&lt;/td&gt;\n</code></pre>\n<p>was also contained within the file data. When the code is run you will see the following displayed within the Console Window:</p>\n<pre><code>10 000     20.48      0.00       $28.65     0.00 %     $894.69    10.11      0.21       \n10 000     46.21      0.00       $53.82     0.00 %     $1 151.78  8.01       0.00       \n5 000      22.51      0.00       $222.53    0.00 %     $2 399.92  5.94       0.01       \nProduct Price: 3000.00 \n</code></pre>\n"}],"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53800192,"answer_count":1,"score":0,"last_activity_date":1639480430,"creation_date":1544741306,"question_id":53771169,"body_markdown":"**Introduction**\r\n\r\nI am currently learning about WebScraping on my own as a personal project for acquiring new tricks and pure hobby.\r\n\r\nSo far I was able to **extract data** from a website (after studying a bit the structure) by using this code I made with **Java** and **Jsoup** library.\r\n\r\n    //To input the html file\r\n       File inputFile = new File(&quot;test2.html&quot;);\r\n       Document doc = Jsoup.parse(inputFile, &quot;Unicode&quot;);\r\n       \r\n       //To grab the part we are working with (knowing the website for sure)\r\n       Element content = doc.getElementById(&quot;mainContent&quot;);\r\n       Elements tds = doc.select(&quot;[class=nowrap]&quot;);\r\n       System.out.println(tds.text());\r\n       \r\n\r\n        (Note that I am working from a HTML file)\r\n\r\n   So far so good I got this &quot;desired&quot; output\r\n\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \r\n     doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \r\n     onclick=&quot;doWindow(this.href, &#39;1024&#39;, &#39;768&#39;); return false;&quot;&gt;10 000&lt;/a&gt; [10 \r\n     000]&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;20.48&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$28.65&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$894.69&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10.11&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.21&lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \r\n      doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \r\n      onclick=&quot;doWindow(this.href, &#39;1024&#39;, &#39;768&#39;); return false;&quot;&gt;10 000&lt;/a&gt; [10 \r\n      000]&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;46.21&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$53.82&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$1 151.78&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;8.01&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \r\n     doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\r\n     &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \r\n      onclick=&quot;doWindow(this.href, &#39;1024&#39;, &#39;768&#39;); return false;&quot;&gt;5 000&lt;/a&gt; [5 \r\n      000]&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5 000&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;22.51&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$222.53&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$2 399.92&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5.94&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.01&lt;/td&gt;\r\n\r\n**Problem**\r\n\r\nI am more **interested in the text** that contains (the numbers to be exact (Strings)) to do some math afterwards.\r\n\r\nSo I continued reading the Documentation about Jsoup and found out that I could use `.text()` to get rid of the HTML stuff obtaining a long string of the numbers from the HTML file as such:\r\n\r\n    0 10 000 [10 000] 10 000 20.48 0.00 $28.65 0.00 % $894.69 10.11 0.21 0 10 \r\n    000 [10 000] 10 000 46.21 0.00 $53.82 0.00 % $1 151.78 8.01 0.00 0 5 000 [5 \r\n    000] 5 000 22.51 0.00 $222.53 0.00 % $2 399.92 5.94 0.01\r\n\r\n**How do I separate it in 3 strings and be able to use the numbers?**\r\n\r\nOne approach might be RegEx as I saw in other questions but still can&#39;t get the desired result.\r\n\r\nEDIT: **Some progress made**\r\n\r\nAfter some research I found out the way to **convert to text AND access the data** I wanted by doing:\r\n\r\n    tds.get(key).text(); \r\nWhere key is a int number referring to the position in the last String obtained\r\n\r\nThis solved part of my question as there is one attribute from the HTML which I am not able to get it.\r\n\r\n    &lt;td align=&quot;center&quot;&gt;\r\n\t\t\t&lt;input type=&quot;text&quot; tabindex=&quot;2&quot; name=&quot;productData[price]       \r\n            [{33013477}]&quot; size=&quot;10&quot; value=&quot;3000.00&quot;&gt;  \t\r\n\t&lt;/td&gt;\r\n\r\n**Where the value that I need is at the attribute value=&quot;3000.0&quot;**\r\n\r\n\r\n\r\nThanks for the interest in this question.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Extracting data from HTML and formatting the output","body":"<p><strong>Introduction</strong></p>\n<p>I am currently learning about WebScraping on my own as a personal project for acquiring new tricks and pure hobby.</p>\n<p>So far I was able to <strong>extract data</strong> from a website (after studying a bit the structure) by using this code I made with <strong>Java</strong> and <strong>Jsoup</strong> library.</p>\n<pre><code>//To input the html file\n   File inputFile = new File(&quot;test2.html&quot;);\n   Document doc = Jsoup.parse(inputFile, &quot;Unicode&quot;);\n   \n   //To grab the part we are working with (knowing the website for sure)\n   Element content = doc.getElementById(&quot;mainContent&quot;);\n   Elements tds = doc.select(&quot;[class=nowrap]&quot;);\n   System.out.println(tds.text());\n   \n\n    (Note that I am working from a HTML file)\n</code></pre>\n<p>So far so good I got this &quot;desired&quot; output</p>\n<pre><code> &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \n doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \n onclick=&quot;doWindow(this.href, '1024', '768'); return false;&quot;&gt;10 000&lt;/a&gt; [10 \n 000]&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;20.48&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$28.65&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$894.69&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10.11&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.21&lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \n  doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \n  onclick=&quot;doWindow(this.href, '1024', '768'); return false;&quot;&gt;10 000&lt;/a&gt; [10 \n  000]&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;10 000&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;46.21&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$53.82&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$1 151.78&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;8.01&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt; &lt;a href=&quot;website&quot; onclick=&quot;return \n doWindow(this, 700, 500);&quot; class=&quot;popup&quot;&gt;0&lt;/a&gt; &lt;/td&gt;\n &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;&lt;a href=&quot;website&quot; \n  onclick=&quot;doWindow(this.href, '1024', '768'); return false;&quot;&gt;5 000&lt;/a&gt; [5 \n  000]&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5 000&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;22.51&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$222.53&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.00 %&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;$2 399.92&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;5.94&lt;/td&gt;\n  &lt;td align=&quot;right&quot; class=&quot;nowrap&quot;&gt;0.01&lt;/td&gt;\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>I am more <strong>interested in the text</strong> that contains (the numbers to be exact (Strings)) to do some math afterwards.</p>\n<p>So I continued reading the Documentation about Jsoup and found out that I could use <code>.text()</code> to get rid of the HTML stuff obtaining a long string of the numbers from the HTML file as such:</p>\n<pre><code>0 10 000 [10 000] 10 000 20.48 0.00 $28.65 0.00 % $894.69 10.11 0.21 0 10 \n000 [10 000] 10 000 46.21 0.00 $53.82 0.00 % $1 151.78 8.01 0.00 0 5 000 [5 \n000] 5 000 22.51 0.00 $222.53 0.00 % $2 399.92 5.94 0.01\n</code></pre>\n<p><strong>How do I separate it in 3 strings and be able to use the numbers?</strong></p>\n<p>One approach might be RegEx as I saw in other questions but still can't get the desired result.</p>\n<p>EDIT: <strong>Some progress made</strong></p>\n<p>After some research I found out the way to <strong>convert to text AND access the data</strong> I wanted by doing:</p>\n<pre><code>tds.get(key).text(); \n</code></pre>\n<p>Where key is a int number referring to the position in the last String obtained</p>\n<p>This solved part of my question as there is one attribute from the HTML which I am not able to get it.</p>\n<pre><code>&lt;td align=&quot;center&quot;&gt;\n        &lt;input type=&quot;text&quot; tabindex=&quot;2&quot; name=&quot;productData[price]       \n        [{33013477}]&quot; size=&quot;10&quot; value=&quot;3000.00&quot;&gt;    \n&lt;/td&gt;\n</code></pre>\n<p><strong>Where the value that I need is at the attribute value=&quot;3000.0&quot;</strong></p>\n<p>Thanks for the interest in this question.</p>\n"},{"tags":["java","mysql","xml","hibernate","maven"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1639476469,"post_id":70346812,"comment_id":124352428,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"score":0,"creation_date":1639476625,"post_id":70346812,"comment_id":124352482,"body_markdown":"Okay, I wanted the post to be transparent. I&#39;ll take it into account next time.","body":"Okay, I wanted the post to be transparent. I&#39;ll take it into account next time."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1639476743,"post_id":70346812,"comment_id":124352531,"body_markdown":"Instead of image add it as text.","body":"Instead of image add it as text."},{"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"score":0,"creation_date":1639479692,"post_id":70346812,"comment_id":124353543,"body_markdown":"Okay, but I have exception: INFO: HHH000318: Could not find any META-INF/persistence.xml file in the classpath and like before.","body":"Okay, but I have exception: INFO: HHH000318: Could not find any META-INF/persistence.xml file in the classpath and like before."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639480077,"post_id":70346812,"comment_id":124353675,"body_markdown":"Add your exceptions and any other information to your question, not as comments or images.","body":"Add your exceptions and any other information to your question, not as comments or images."},{"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"score":0,"creation_date":1639480537,"post_id":70346812,"comment_id":124353855,"body_markdown":"I changed this.","body":"I changed this."},{"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"score":0,"creation_date":1639481073,"post_id":70346812,"comment_id":124354016,"body_markdown":"When I did it throws even more exceptions.","body":"When I did it throws even more exceptions."}],"answers":[{"tags":[],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639475687,"creation_date":1639475687,"answer_id":70346904,"question_id":70346812,"body_markdown":"&quot;dirver&quot; class? - I did not go through the complete Stack Trace since it is quite difficult to read :) Could you maybe write it as a code? :)\r\n\r\nTry changing &quot;dirver&quot; -&gt; &quot;driver&quot;\r\n\r\n[![dirver_class][1]][1]\r\n\r\n\r\nAlso some drivers need setters and they need to be written correctly:\r\n\r\n[![setNazwa][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uvNSr.png\r\n  [2]: https://i.stack.imgur.com/74f3w.png","title":"How to connect mysql with Java using hibernate? Exception:No Persistence provider for EntityManager named org.hibernate.tutorial_jpa","body":"<p>&quot;dirver&quot; class? - I did not go through the complete Stack Trace since it is quite difficult to read :) Could you maybe write it as a code? :)</p>\n<p>Try changing &quot;dirver&quot; -&gt; &quot;driver&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/uvNSr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvNSr.png\" alt=\"dirver_class\" /></a></p>\n<p>Also some drivers need setters and they need to be written correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/74f3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/74f3w.png\" alt=\"setNazwa\" /></a></p>\n"}],"owner":{"account_id":21686239,"reputation":19,"user_id":16001648,"display_name":"Kacper Bielak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1639480044,"answer_count":1,"score":1,"last_activity_date":1639480363,"creation_date":1639475226,"question_id":70346812,"body_markdown":"At the beginning I wanted to write a simple program to connect in Java to MySQL using hibernate. Program don&#39;t find a persistence provider for EntityManager. Unfortunately, there are still some exceptions. At this point, they are like this:\r\n\r\nExceptions at this moment:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe&quot; &quot;-javaagent:D:\\IntelliJ IDEA Community Edition 2021.2.2\\lib\\idea_rt.jar=53702:D:\\IntelliJ IDEA Community Edition 2021.2.2\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\User\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.1.Final\\hibernate-core-5.4.1.Final.jar;C:\\Users\\User\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\User\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\User\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.5\\byte-buddy-1.9.5.jar;C:\\Users\\User\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\User\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\User\\.m2\\repository\\org\\jboss\\jandex\\2.0.5.Final\\jandex-2.0.5.Final.jar;C:\\Users\\User\\.m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;C:\\Users\\User\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\User\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\User\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\User\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\User\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\User\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\User\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\User\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\User\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\User\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\5.4.1.Final\\hibernate-entitymanager-5.4.1.Final.jar;C:\\Users\\User\\.m2\\repository\\mysql\\mysql-connector-java\\5.1.47\\mysql-connector-java-5.1.47.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-controls\\17-ea+11\\javafx-controls-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17-ea+11\\javafx-graphics-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-base\\17-ea+11\\javafx-base-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17-ea+11\\javafx-fxml-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-web\\17-ea+11\\javafx-web-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-media\\17-ea+11\\javafx-media-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\springframework\\spring-beans\\3.2.0.RELEASE\\spring-beans-3.2.0.RELEASE.jar;C:\\Users\\User\\.m2\\repository\\org\\springframework\\spring-core\\3.2.0.RELEASE\\spring-core-3.2.0.RELEASE.jar;C:\\Users\\User\\.m2\\repository\\commons-logging\\commons-logging\\1.1.1\\commons-logging-1.1.1.jar -p C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-media\\17-ea+11\\javafx-media-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.2.0\\ikonli-core-12.2.0.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-web\\17-ea+11\\javafx-web-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17-ea+11\\javafx-fxml-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.2.0\\ikonli-javafx-12.2.0.jar;C:\\Users\\User\\.m2\\repository\\eu\\hansolo\\tilesfx\\11.48\\tilesfx-11.48.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-base\\17-ea+11\\javafx-base-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-controls\\17-ea+11\\javafx-controls-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\net\\synedra\\validatorfx\\0.1.13\\validatorfx-0.1.13.jar;C:\\Users\\User\\Desktop\\Uczelnia\\Java\\demo1232\\target\\classes;C:\\Users\\User\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.0\\controlsfx-11.1.0.jar;C:\\Users\\User\\.m2\\repository\\com\\dlsc\\formsfx\\formsfx-core\\11.3.2\\formsfx-core-11.3.2.jar;C:\\Users\\User\\.m2\\repository\\org\\kordamp\\bootstrapfx\\bootstrapfx-core\\0.4.0\\bootstrapfx-core-0.4.0.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17-ea+11\\javafx-graphics-17-ea+11-win.jar -m lab2.dziennik/lab2.dziennik.Main\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:467)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:366)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\r\n    Caused by: javax.persistence.PersistenceException: No Persistence provider for EntityManager named org.hibernate.tutorial_jpa\r\n    \tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\r\n    \tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n    \tat lab2.dziennik/lab2.dziennik.Main.main(Main.java:26)\r\n    \t... 11 more\r\n    Exception running application lab2.dziennik.Main\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy code:\r\n- peristence.xml:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n                 xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n        &lt;persistence-unit name=&quot;org.hibernate.tutorial.jpa&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistenceProvider&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;Kacper&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQL5Dialect&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.CharSet&quot; value=&quot;utf8&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.characterEncoding&quot; value=&quot;utf8&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.useUnicode&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n- main:\r\n   \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     public static void main(String[] args) {\r\n            EntityManagerFactory e = Persistence.createEntityManagerFactory(&quot;org.hibernate.tutorial.jpa&quot;);\r\n            testBaza1 t = new testBaza1();\r\n            t.setId(2);\r\n            t.setNazwa(&quot;bob&quot;);\r\n\r\n            testBaza t1 = new testBaza();\r\n            t1.setNazwa(&quot;xxx&quot;);\r\n\r\n\r\n            EntityManager e1 = e.createEntityManager();\r\n            e1.persist(t);\r\n            e1.persist(t1);\r\n            e1.getTransaction().commit();\r\n            \r\n            e.close();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- testBaza:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package lab2.dziennik;\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name=&quot;TEST&quot;)\r\n    public class testBaza {\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n\r\n        public Integer getId()\r\n        {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id1){\r\n            id=id1;\r\n        }\r\n\r\n        @Column(name=&quot;nazwa&quot;)\r\n        private String nazwa;\r\n\r\n        public String getNazwa()\r\n        {\r\n            return nazwa;\r\n        }\r\n\r\n        public void setNazwa(String n){\r\n            nazwa=n;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- testBaza1\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package lab2.dziennik;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;TEST1&quot;)\r\n    public class testBaza1 {\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private Integer id;\r\n\r\n        public Integer getId()\r\n        {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id1){\r\n            id=id1;\r\n        }\r\n\r\n        @Column(name=&quot;nazwa&quot;)\r\n        private String nazwa;\r\n\r\n        public String getNazwa()\r\n        {\r\n            return nazwa;\r\n        }\r\n\r\n        public void setNazwa(String n){\r\n            nazwa=n;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n- maven dependency:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.47&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tm3ZE.png","title":"How to connect mysql with Java using hibernate? Exception:No Persistence provider for EntityManager named org.hibernate.tutorial_jpa","body":"<p>At the beginning I wanted to write a simple program to connect in Java to MySQL using hibernate. Program don't find a persistence provider for EntityManager. Unfortunately, there are still some exceptions. At this point, they are like this:</p>\n<p>Exceptions at this moment:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\"C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe\" \"-javaagent:D:\\IntelliJ IDEA Community Edition 2021.2.2\\lib\\idea_rt.jar=53702:D:\\IntelliJ IDEA Community Edition 2021.2.2\\bin\" -Dfile.encoding=UTF-8 -classpath C:\\Users\\User\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.4.1.Final\\hibernate-core-5.4.1.Final.jar;C:\\Users\\User\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\User\\.m2\\repository\\org\\javassist\\javassist\\3.24.0-GA\\javassist-3.24.0-GA.jar;C:\\Users\\User\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.5\\byte-buddy-1.9.5.jar;C:\\Users\\User\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\User\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\User\\.m2\\repository\\org\\jboss\\jandex\\2.0.5.Final\\jandex-2.0.5.Final.jar;C:\\Users\\User\\.m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;C:\\Users\\User\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\User\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\User\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.1.0.Final\\hibernate-commons-annotations-5.1.0.Final.jar;C:\\Users\\User\\.m2\\repository\\javax\\xml\\bind\\jaxb-api\\2.3.1\\jaxb-api-2.3.1.jar;C:\\Users\\User\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-runtime-2.3.1.jar;C:\\Users\\User\\.m2\\repository\\org\\glassfish\\jaxb\\txw2\\2.3.1\\txw2-2.3.1.jar;C:\\Users\\User\\.m2\\repository\\com\\sun\\istack\\istack-commons-runtime\\3.0.7\\istack-commons-runtime-3.0.7.jar;C:\\Users\\User\\.m2\\repository\\org\\jvnet\\staxex\\stax-ex\\1.8\\stax-ex-1.8.jar;C:\\Users\\User\\.m2\\repository\\com\\sun\\xml\\fastinfoset\\FastInfoset\\1.2.15\\FastInfoset-1.2.15.jar;C:\\Users\\User\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\5.4.1.Final\\hibernate-entitymanager-5.4.1.Final.jar;C:\\Users\\User\\.m2\\repository\\mysql\\mysql-connector-java\\5.1.47\\mysql-connector-java-5.1.47.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-controls\\17-ea+11\\javafx-controls-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17-ea+11\\javafx-graphics-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-base\\17-ea+11\\javafx-base-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17-ea+11\\javafx-fxml-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-web\\17-ea+11\\javafx-web-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-media\\17-ea+11\\javafx-media-17-ea+11.jar;C:\\Users\\User\\.m2\\repository\\org\\springframework\\spring-beans\\3.2.0.RELEASE\\spring-beans-3.2.0.RELEASE.jar;C:\\Users\\User\\.m2\\repository\\org\\springframework\\spring-core\\3.2.0.RELEASE\\spring-core-3.2.0.RELEASE.jar;C:\\Users\\User\\.m2\\repository\\commons-logging\\commons-logging\\1.1.1\\commons-logging-1.1.1.jar -p C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-media\\17-ea+11\\javafx-media-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-core\\12.2.0\\ikonli-core-12.2.0.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-web\\17-ea+11\\javafx-web-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17-ea+11\\javafx-fxml-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\org\\kordamp\\ikonli\\ikonli-javafx\\12.2.0\\ikonli-javafx-12.2.0.jar;C:\\Users\\User\\.m2\\repository\\eu\\hansolo\\tilesfx\\11.48\\tilesfx-11.48.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-base\\17-ea+11\\javafx-base-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-controls\\17-ea+11\\javafx-controls-17-ea+11-win.jar;C:\\Users\\User\\.m2\\repository\\net\\synedra\\validatorfx\\0.1.13\\validatorfx-0.1.13.jar;C:\\Users\\User\\Desktop\\Uczelnia\\Java\\demo1232\\target\\classes;C:\\Users\\User\\.m2\\repository\\org\\controlsfx\\controlsfx\\11.1.0\\controlsfx-11.1.0.jar;C:\\Users\\User\\.m2\\repository\\com\\dlsc\\formsfx\\formsfx-core\\11.3.2\\formsfx-core-11.3.2.jar;C:\\Users\\User\\.m2\\repository\\org\\kordamp\\bootstrapfx\\bootstrapfx-core\\0.4.0\\bootstrapfx-core-0.4.0.jar;C:\\Users\\User\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17-ea+11\\javafx-graphics-17-ea+11-win.jar -m lab2.dziennik/lab2.dziennik.Main\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:467)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:366)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1071)\nCaused by: javax.persistence.PersistenceException: No Persistence provider for EntityManager named org.hibernate.tutorial_jpa\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:85)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at lab2.dziennik/lab2.dziennik.Main.main(Main.java:26)\n    ... 11 more\nException running application lab2.dziennik.Main\n\nProcess finished with exit code 1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My code:</p>\n<ul>\n<li>peristence.xml:</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;persistence version=\"2.0\"\n             xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n    &lt;persistence-unit name=\"org.hibernate.tutorial.jpa\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\"/&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/test\"/&gt;\n            &lt;property name=\"hibernate.connection.autocommit\" value=\"false\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"Kacper\"/&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQL5Dialect\"/&gt;\n            &lt;property name=\"hibernate.connection.CharSet\" value=\"utf8\"/&gt;\n            &lt;property name=\"hibernate.connection.characterEncoding\" value=\"utf8\"/&gt;\n            &lt;property name=\"hibernate.connection.useUnicode\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>main:</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> public static void main(String[] args) {\n        EntityManagerFactory e = Persistence.createEntityManagerFactory(\"org.hibernate.tutorial.jpa\");\n        testBaza1 t = new testBaza1();\n        t.setId(2);\n        t.setNazwa(\"bob\");\n\n        testBaza t1 = new testBaza();\n        t1.setNazwa(\"xxx\");\n\n\n        EntityManager e1 = e.createEntityManager();\n        e1.persist(t);\n        e1.persist(t1);\n        e1.getTransaction().commit();\n        \n        e.close();\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>testBaza:</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package lab2.dziennik;\nimport javax.persistence.*;\n\n@Entity\n@Table(name=\"TEST\")\npublic class testBaza {\n    @Id\n    @Column(name=\"id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    public Integer getId()\n    {\n        return id;\n    }\n\n    public void setId(int id1){\n        id=id1;\n    }\n\n    @Column(name=\"nazwa\")\n    private String nazwa;\n\n    public String getNazwa()\n    {\n        return nazwa;\n    }\n\n    public void setNazwa(String n){\n        nazwa=n;\n    }\n\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>testBaza1</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package lab2.dziennik;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=\"TEST1\")\npublic class testBaza1 {\n    @Id\n    @Column(name=\"id\")\n    private Integer id;\n\n    public Integer getId()\n    {\n        return id;\n    }\n\n    public void setId(int id1){\n        id=id1;\n    }\n\n    @Column(name=\"nazwa\")\n    private String nazwa;\n\n    public String getNazwa()\n    {\n        return nazwa;\n    }\n\n    public void setNazwa(String n){\n        nazwa=n;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ul>\n<li>maven dependency:</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.47&lt;/version&gt;\n        &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Please help.</p>\n"},{"tags":["java","timer","delay"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1639480340,"post_id":70347881,"comment_id":124353784,"body_markdown":"What is the issue with your code ? why it doesn&#39;t works ?","body":"What is the issue with your code ? why it doesn&#39;t works ?"},{"owner":{"account_id":20257580,"reputation":3,"user_id":14856926,"display_name":"Andrei Beșleagă"},"score":0,"creation_date":1639481163,"post_id":70347881,"comment_id":124354047,"body_markdown":"Variable &#39;stare&#39; is accessed from within inner class, needs to be final or effectively final.","body":"Variable &#39;stare&#39; is accessed from within inner class, needs to be final or effectively final."},{"owner":{"account_id":20257580,"reputation":3,"user_id":14856926,"display_name":"Andrei Beșleagă"},"score":0,"creation_date":1639481184,"post_id":70347881,"comment_id":124354056,"body_markdown":"And if a put final the error is :","body":"And if a put final the error is :"},{"owner":{"account_id":20257580,"reputation":3,"user_id":14856926,"display_name":"Andrei Beșleagă"},"score":0,"creation_date":1639481202,"post_id":70347881,"comment_id":124354066,"body_markdown":"Cannot assign a value to final variable &#39;stare&#39;","body":"Cannot assign a value to final variable &#39;stare&#39;"}],"owner":{"account_id":20257580,"reputation":3,"user_id":14856926,"display_name":"Andrei Beșleagă"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1639480303,"creation_date":1639480136,"question_id":70347881,"body_markdown":"I don&#39;t know how to add a delay time for 10 minutes after a actionListener was executed.\r\n\r\nI&#39;m progaming with IntelliJ IDEA.\r\n\r\nThe code:\r\n\r\n```java\r\npublic MainPage(){\r\n    firstStepGroup1.addActionListener(e -&gt; {\r\n        familiar.setVisible(false);\r\n        nefamiliar.setVisible(false);\r\n\r\n        Images firstNImages;\r\n        firstNImages = images.getFirstN(6);\r\n        firstNImages.add(new ImageIcon());\r\n        public int stare = 0;\r\n        Timer timer;\r\n        timer = new Timer(1, new ActionListener() {\r\n            public int counter = 0;\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n\r\n                rightLabel.setIcon(firstNImages.get(counter));\r\n                counter++;\r\n                if (counter == 2) {\r\n                    rightLabel.setText(&quot;Thank you for watching!&quot;);\r\n                    ((Timer) e.getSource()).stop();\r\n                    stare = 1 ;  //I can&#39;t use this variable it should be array.But I \r\n                                    tried and is not working\r\n                }\r\n            }\r\n\r\n        });\r\n        if(stare == 1){\r\n            for(int i=600;i&gt;=0;i--){\r\n                timer.setDelay(1000);\r\n                rightLabel.setText(&quot;Time remaining\\&quot;&quot;+i+&quot;&quot;);\r\n            }\r\n        }\r\n\r\n        timer.setRepeats(true);\r\n        timer.setDelay(5000);\r\n        timer.start();\r\n    });\r\n}\r\n```","title":"How to use a variable into a structure of timer in Java","body":"<p>I don't know how to add a delay time for 10 minutes after a actionListener was executed.</p>\n<p>I'm progaming with IntelliJ IDEA.</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MainPage(){\n    firstStepGroup1.addActionListener(e -&gt; {\n        familiar.setVisible(false);\n        nefamiliar.setVisible(false);\n\n        Images firstNImages;\n        firstNImages = images.getFirstN(6);\n        firstNImages.add(new ImageIcon());\n        public int stare = 0;\n        Timer timer;\n        timer = new Timer(1, new ActionListener() {\n            public int counter = 0;\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n                rightLabel.setIcon(firstNImages.get(counter));\n                counter++;\n                if (counter == 2) {\n                    rightLabel.setText(&quot;Thank you for watching!&quot;);\n                    ((Timer) e.getSource()).stop();\n                    stare = 1 ;  //I can't use this variable it should be array.But I \n                                    tried and is not working\n                }\n            }\n\n        });\n        if(stare == 1){\n            for(int i=600;i&gt;=0;i--){\n                timer.setDelay(1000);\n                rightLabel.setText(&quot;Time remaining\\&quot;&quot;+i+&quot;&quot;);\n            }\n        }\n\n        timer.setRepeats(true);\n        timer.setDelay(5000);\n        timer.start();\n    });\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":1,"creation_date":1304455389,"post_id":5875414,"comment_id":6755953,"body_markdown":"here&#39;s a site that you might find helpful: http://www.javapractices.com/topic/TopicAction.do?Id=129","body":"here&#39;s a site that you might find helpful: <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=129\" rel=\"nofollow noreferrer\">javapractices.com/topic/TopicAction.do?Id=129</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":174,"is_accepted":true,"score":174,"last_activity_date":1464706202,"creation_date":1304455282,"answer_id":5875455,"question_id":5875414,"body_markdown":"It means that if a method declares to throw a given exception, the overriding method in a subclass can only declare to throw that exception or its subclass. For example:\r\n\r\n    class A {\r\n       public void foo() throws IOException {..}\r\n    }\r\n    \r\n    class B extends A {\r\n       @Override\r\n       public void foo() throws SocketException {..} // allowed\r\n    \r\n       @Override\r\n       public void foo() throws SQLException {..} // NOT allowed\r\n    }\r\n\r\n`SocketException extends IOException`, but `SQLException` does not.\r\n\r\nThis is because of polymorphism:\r\n\r\n    A a = new B();\r\n    try {\r\n        a.foo();\r\n    } catch (IOException ex) {\r\n        // forced to catch this by the compiler\r\n    }\r\n\r\nIf `B` had decided to throw `SQLException`, then the compiler could not force you to catch it, because you are referring to the instance of `B` by its superclass - `A`. On the other hand, any subclass of `IOException` will be handled by clauses (catch or throws) that handle `IOException`\r\n\r\nThe rule that you need to be able to refer to objects by their superclass is the [Liskov Substitution Principle.][1]\r\n\r\nSince unchecked exceptions can be thrown anywhere then they are not subject to this rule. You can add an unchecked exception to the throws clause as a form of documentation if you want, but the compiler doesn&#39;t enforce anything about it. \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>It means that if a method declares to throw a given exception, the overriding method in a subclass can only declare to throw that exception or its subclass. For example:</p>\n\n<pre><code>class A {\n   public void foo() throws IOException {..}\n}\n\nclass B extends A {\n   @Override\n   public void foo() throws SocketException {..} // allowed\n\n   @Override\n   public void foo() throws SQLException {..} // NOT allowed\n}\n</code></pre>\n\n<p><code>SocketException extends IOException</code>, but <code>SQLException</code> does not.</p>\n\n<p>This is because of polymorphism:</p>\n\n<pre><code>A a = new B();\ntry {\n    a.foo();\n} catch (IOException ex) {\n    // forced to catch this by the compiler\n}\n</code></pre>\n\n<p>If <code>B</code> had decided to throw <code>SQLException</code>, then the compiler could not force you to catch it, because you are referring to the instance of <code>B</code> by its superclass - <code>A</code>. On the other hand, any subclass of <code>IOException</code> will be handled by clauses (catch or throws) that handle <code>IOException</code></p>\n\n<p>The rule that you need to be able to refer to objects by their superclass is the <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"noreferrer\">Liskov Substitution Principle.</a></p>\n\n<p>Since unchecked exceptions can be thrown anywhere then they are not subject to this rule. You can add an unchecked exception to the throws clause as a form of documentation if you want, but the compiler doesn't enforce anything about it. </p>\n"},{"tags":[],"owner":{"account_id":29332,"reputation":12535,"user_id":79207,"accept_rate":72,"display_name":"planetjones"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304455480,"creation_date":1304455480,"answer_id":5875492,"question_id":5875414,"body_markdown":"Well java.lang.Exception extends java.lang.Throwable.  java.io.FileNotFoundException extends java.lang.Exception.  So if a method throws java.io.FileNotFoundException then in the override method you cannot throw anything higher up the hierarchy than FileNotFoundException e.g. you can&#39;t throw java.lang.Exception.  You could throw a subclass of FileNotFoundException though.  However you would be forced to handle the FileNotFoundException in the overriden method.  Knock up some code and give it a try!\r\n\r\nThe rules are there so you don&#39;t lose the original throws declaration by widening the specificity, as the polymorphism means you can invoke the overriden method on the superclass.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>Well java.lang.Exception extends java.lang.Throwable.  java.io.FileNotFoundException extends java.lang.Exception.  So if a method throws java.io.FileNotFoundException then in the override method you cannot throw anything higher up the hierarchy than FileNotFoundException e.g. you can't throw java.lang.Exception.  You could throw a subclass of FileNotFoundException though.  However you would be forced to handle the FileNotFoundException in the overriden method.  Knock up some code and give it a try!</p>\n\n<p>The rules are there so you don't lose the original throws declaration by widening the specificity, as the polymorphism means you can invoke the overriden method on the superclass.</p>\n"},{"tags":[],"owner":{"account_id":30014,"reputation":20532,"user_id":81520,"accept_rate":84,"display_name":"Peter Perh&#225;č"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1304455503,"creation_date":1304455503,"answer_id":5875497,"question_id":5875414,"body_markdown":"say you have super class A with method M1 throwin E1 and class B deriving from A with method M2 overriding M1. M2 can not throw anything DIFFERENT or LESS SPECIALIZED than E1.\r\n\r\nBecause of polymorphism, the client using class A should be able to treat B as if it were A. Inharitance ===&gt; Is-a (B is-a A). What if this code dealing with class A was handling exception E1, as M1 declares it throws this checked exception, but then different type of exception was thrown? If M1 was throwing IOException M2 could well throw FileNotFoundException, as it is-a IOException. Clients of A could handle this without a problem. If the exception thrown was wider, clients of A would not have a chance of knowing about this and therefore would not have a chance to catch it.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>say you have super class A with method M1 throwin E1 and class B deriving from A with method M2 overriding M1. M2 can not throw anything DIFFERENT or LESS SPECIALIZED than E1.</p>\n\n<p>Because of polymorphism, the client using class A should be able to treat B as if it were A. Inharitance ===> Is-a (B is-a A). What if this code dealing with class A was handling exception E1, as M1 declares it throws this checked exception, but then different type of exception was thrown? If M1 was throwing IOException M2 could well throw FileNotFoundException, as it is-a IOException. Clients of A could handle this without a problem. If the exception thrown was wider, clients of A would not have a chance of knowing about this and therefore would not have a chance to catch it.</p>\n"},{"tags":[],"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1304455643,"creation_date":1304455643,"answer_id":5875517,"question_id":5875414,"body_markdown":"To illustrate this, consider:\r\n\r\n    public interface FileOperation {\r\n      void perform(File file) throws FileNotFoundException;\r\n    }\r\n\r\n    public class OpenOnly implements FileOperation {\r\n      void perform(File file) throws FileNotFoundException {\r\n        FileReader r = new FileReader(file);\r\n      }\r\n    }\r\n\r\nSuppose you then write:\r\n\r\n    public class OpenClose implements FileOperation {\r\n      void perform(File file) throws FileNotFoundException {\r\n        FileReader r = new FileReader(file);\r\n        r.close();\r\n      }\r\n    }\r\n\r\nThis will give you a compilation error, because r.close() throws an IOException, which is broader than FileNotFoundException.\r\n\r\nTo fix this, if you write:\r\n\r\n    public class OpenClose implements FileOperation {\r\n      void perform(File file) throws IOException {\r\n        FileReader r = new FileReader(file);\r\n        r.close();\r\n      }\r\n    }\r\n\r\nYou will get a different compilation error, because you are implementing the perform(...) operation, but throwing an exception not included in the interface&#39;s definition of the method.\r\n\r\nWhy is this important? Well a consumer of the interface may have:\r\n\r\n    FileOperation op = ...;\r\n    try {\r\n      op.perform(file);\r\n    }\r\n    catch (FileNotFoundException x) {\r\n      log(...);\r\n    }\r\n\r\nIf the IOException were allowed to be thrown, the client&#39;s code is nolonger correct. \r\n\r\nNote that you can avoid this sort of issue if you use unchecked exceptions. (I am not suggesting you do or don&#39;t, that is a philosophical issue)","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>To illustrate this, consider:</p>\n\n<pre><code>public interface FileOperation {\n  void perform(File file) throws FileNotFoundException;\n}\n\npublic class OpenOnly implements FileOperation {\n  void perform(File file) throws FileNotFoundException {\n    FileReader r = new FileReader(file);\n  }\n}\n</code></pre>\n\n<p>Suppose you then write:</p>\n\n<pre><code>public class OpenClose implements FileOperation {\n  void perform(File file) throws FileNotFoundException {\n    FileReader r = new FileReader(file);\n    r.close();\n  }\n}\n</code></pre>\n\n<p>This will give you a compilation error, because r.close() throws an IOException, which is broader than FileNotFoundException.</p>\n\n<p>To fix this, if you write:</p>\n\n<pre><code>public class OpenClose implements FileOperation {\n  void perform(File file) throws IOException {\n    FileReader r = new FileReader(file);\n    r.close();\n  }\n}\n</code></pre>\n\n<p>You will get a different compilation error, because you are implementing the perform(...) operation, but throwing an exception not included in the interface's definition of the method.</p>\n\n<p>Why is this important? Well a consumer of the interface may have:</p>\n\n<pre><code>FileOperation op = ...;\ntry {\n  op.perform(file);\n}\ncatch (FileNotFoundException x) {\n  log(...);\n}\n</code></pre>\n\n<p>If the IOException were allowed to be thrown, the client's code is nolonger correct. </p>\n\n<p>Note that you can avoid this sort of issue if you use unchecked exceptions. (I am not suggesting you do or don't, that is a philosophical issue)</p>\n"},{"tags":[],"owner":{"account_id":1103390,"reputation":341,"user_id":1095298,"display_name":"syrus.phoenix"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1354193528,"creation_date":1354193528,"answer_id":13626264,"question_id":5875414,"body_markdown":"The overriding method CAN throw any unchecked (runtime) exception, regardless of whether the\r\noverridden method declares the exception\r\n\r\nExample:\r\n\r\n    class Super {\r\n        public void test() {\r\n            System.out.println(&quot;Super.test()&quot;);\r\n        }\r\n    }\r\n\r\n    class Sub extends Super {\r\n        @Override\r\n        public void test() throws IndexOutOfBoundsException {\r\n            // Method can throw any Unchecked Exception\r\n            System.out.println(&quot;Sub.test()&quot;);\r\n        }\r\n    }\r\n\r\n    class Sub2 extends Sub {\r\n        @Override\r\n        public void test() throws ArrayIndexOutOfBoundsException {\r\n            // Any Unchecked Exception\r\n            System.out.println(&quot;Sub2.test()&quot;);\r\n        }\r\n    }\r\n\r\n    class Sub3 extends Sub2 {\r\n        @Override\r\n        public void test() {\r\n            // Any Unchecked Exception or no exception\r\n            System.out.println(&quot;Sub3.test()&quot;);\r\n        }\r\n    }\r\n\r\n    class Sub4 extends Sub2 {\r\n        @Override\r\n        public void test() throws AssertionError {\r\n            // Unchecked Exception IS-A RuntimeException or IS-A Error\r\n            System.out.println(&quot;Sub4.test()&quot;);\r\n        }\r\n    }","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>The overriding method CAN throw any unchecked (runtime) exception, regardless of whether the\noverridden method declares the exception</p>\n\n<p>Example:</p>\n\n<pre><code>class Super {\n    public void test() {\n        System.out.println(\"Super.test()\");\n    }\n}\n\nclass Sub extends Super {\n    @Override\n    public void test() throws IndexOutOfBoundsException {\n        // Method can throw any Unchecked Exception\n        System.out.println(\"Sub.test()\");\n    }\n}\n\nclass Sub2 extends Sub {\n    @Override\n    public void test() throws ArrayIndexOutOfBoundsException {\n        // Any Unchecked Exception\n        System.out.println(\"Sub2.test()\");\n    }\n}\n\nclass Sub3 extends Sub2 {\n    @Override\n    public void test() {\n        // Any Unchecked Exception or no exception\n        System.out.println(\"Sub3.test()\");\n    }\n}\n\nclass Sub4 extends Sub2 {\n    @Override\n    public void test() throws AssertionError {\n        // Unchecked Exception IS-A RuntimeException or IS-A Error\n        System.out.println(\"Sub4.test()\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1103390,"reputation":341,"user_id":1095298,"display_name":"syrus.phoenix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354195357,"creation_date":1354195357,"answer_id":13626803,"question_id":5875414,"body_markdown":"The overriding method must NOT throw checked exceptions that are new or broader than those\r\ndeclared by the overridden method.\r\n\r\nExample:\r\n\r\n    class Super {\r\n        public void throwCheckedExceptionMethod() throws IOException {\r\n            FileReader r = new FileReader(new File(&quot;aFile.txt&quot;));\r\n            r.close();\r\n        }\r\n    }\r\n\r\n    class Sub extends Super {    \r\n        @Override\r\n        public void throwCheckedExceptionMethod() throws FileNotFoundException {\r\n            // FileNotFoundException extends IOException\r\n            FileReader r = new FileReader(new File(&quot;afile.txt&quot;));\r\n            try {\r\n                // close() method throws IOException (that is unhandled)\r\n                r.close();\r\n            } catch (IOException e) {\r\n            }\r\n        }\r\n    }\r\n\r\n    class Sub2 extends Sub {\r\n        @Override\r\n        public void throwCheckedExceptionMethod() {\r\n            // Overriding method can throw no exception\r\n        }\r\n    }","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>The overriding method must NOT throw checked exceptions that are new or broader than those\ndeclared by the overridden method.</p>\n\n<p>Example:</p>\n\n<pre><code>class Super {\n    public void throwCheckedExceptionMethod() throws IOException {\n        FileReader r = new FileReader(new File(\"aFile.txt\"));\n        r.close();\n    }\n}\n\nclass Sub extends Super {    \n    @Override\n    public void throwCheckedExceptionMethod() throws FileNotFoundException {\n        // FileNotFoundException extends IOException\n        FileReader r = new FileReader(new File(\"afile.txt\"));\n        try {\n            // close() method throws IOException (that is unhandled)\n            r.close();\n        } catch (IOException e) {\n        }\n    }\n}\n\nclass Sub2 extends Sub {\n    @Override\n    public void throwCheckedExceptionMethod() {\n        // Overriding method can throw no exception\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277301,"reputation":621,"user_id":571217,"accept_rate":50,"display_name":"abhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383576647,"creation_date":1357569643,"answer_id":14198088,"question_id":5875414,"body_markdown":"What explanation do we attribute to the below\r\n\r\n    class BaseClass {\r\n\t\r\n        public  void print() {\r\n            System.out.println(&quot;In Parent Class , Print Method&quot;);\r\n        }\r\n\t\r\n        public static void display() {\r\n            System.out.println(&quot;In Parent Class, Display Method&quot;);\r\n        }\r\n\r\n    }\r\n\r\n  \r\n    class DerivedClass extends BaseClass {\r\n\t\r\n        public  void print() throws Exception {\r\n            System.out.println(&quot;In Derived Class, Print Method&quot;);\r\n        }\r\n\r\n        public static void display() {\r\n            System.out.println(&quot;In Derived Class, Display Method&quot;);\r\n        }\r\n    }\r\n\r\nClass DerivedClass.java throws a compile time exception when the print method throws a Exception , print () method of baseclass does not throw any exception \r\n\r\nI am able to attribute this to the fact that Exception is narrower than RuntimeException , it can be either No Exception (Runtime error ), RuntimeException and their child exceptions\r\n","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>What explanation do we attribute to the below</p>\n\n<pre><code>class BaseClass {\n\n    public  void print() {\n        System.out.println(\"In Parent Class , Print Method\");\n    }\n\n    public static void display() {\n        System.out.println(\"In Parent Class, Display Method\");\n    }\n\n}\n\n\nclass DerivedClass extends BaseClass {\n\n    public  void print() throws Exception {\n        System.out.println(\"In Derived Class, Print Method\");\n    }\n\n    public static void display() {\n        System.out.println(\"In Derived Class, Display Method\");\n    }\n}\n</code></pre>\n\n<p>Class DerivedClass.java throws a compile time exception when the print method throws a Exception , print () method of baseclass does not throw any exception </p>\n\n<p>I am able to attribute this to the fact that Exception is narrower than RuntimeException , it can be either No Exception (Runtime error ), RuntimeException and their child exceptions</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473551540,"creation_date":1380810908,"answer_id":19162030,"question_id":5875414,"body_markdown":"**The overriding method must NOT throw checked exceptions that are new or broader than those declared by the overridden method.**\r\n\r\nThis simply means **when you override an existing method, the exception that this overloaded method throws should be either the same exception which the original method throws or any of its subclasses**.\r\n\r\nNote that checking whether all checked exceptions are handled is done at compile time and not at runtime. So at compile time itself, the Java compiler checks the type of exception the overridden method is throwing. Since which overridden method will be executed can be decided only at runtime, we cannot know what kind of Exception we have to catch. \r\n\r\n---\r\n**Example**\r\n\r\nLet&#39;s say we have class `A` and its subclass `B`. `A` has method `m1` and class `B` has overridden this method (lets call it `m2` to avoid confusion..). Now let&#39;s say `m1` throws `E1`, and `m2` throws `E2`, which is `E1`&#39;s superclass. Now we write the following piece of code: \r\n\r\n    A myAObj = new B();\r\n    myAObj.m1();\r\n\r\nNote that `m1` is nothing but a call to `m2` (again, method signatures are same in overloaded methods so do not get confuse with `m1` and `m2`.. they are just to differentiate in this example... they both have same signature).\r\nBut at compile time, all java compiler does is goes to the reference type (Class `A` in this case) checks the method if it is present and expects the programmer to handle it. So obviously, you will throw or catch `E1`. Now, at runtime, if the overloaded method throws `E2`, which is `E1`&#39;s superclass, then ... well, it&#39;s very wrong (for the same reason we cannot say `B myBObj = new A()`). Hence, Java does not allow it. **Unchecked exceptions thrown by the overloaded method must be same, subclasses, or non-existent.**","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p><strong>The overriding method must NOT throw checked exceptions that are new or broader than those declared by the overridden method.</strong></p>\n\n<p>This simply means <strong>when you override an existing method, the exception that this overloaded method throws should be either the same exception which the original method throws or any of its subclasses</strong>.</p>\n\n<p>Note that checking whether all checked exceptions are handled is done at compile time and not at runtime. So at compile time itself, the Java compiler checks the type of exception the overridden method is throwing. Since which overridden method will be executed can be decided only at runtime, we cannot know what kind of Exception we have to catch. </p>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p>Let's say we have class <code>A</code> and its subclass <code>B</code>. <code>A</code> has method <code>m1</code> and class <code>B</code> has overridden this method (lets call it <code>m2</code> to avoid confusion..). Now let's say <code>m1</code> throws <code>E1</code>, and <code>m2</code> throws <code>E2</code>, which is <code>E1</code>'s superclass. Now we write the following piece of code: </p>\n\n<pre><code>A myAObj = new B();\nmyAObj.m1();\n</code></pre>\n\n<p>Note that <code>m1</code> is nothing but a call to <code>m2</code> (again, method signatures are same in overloaded methods so do not get confuse with <code>m1</code> and <code>m2</code>.. they are just to differentiate in this example... they both have same signature).\nBut at compile time, all java compiler does is goes to the reference type (Class <code>A</code> in this case) checks the method if it is present and expects the programmer to handle it. So obviously, you will throw or catch <code>E1</code>. Now, at runtime, if the overloaded method throws <code>E2</code>, which is <code>E1</code>'s superclass, then ... well, it's very wrong (for the same reason we cannot say <code>B myBObj = new A()</code>). Hence, Java does not allow it. <strong>Unchecked exceptions thrown by the overloaded method must be same, subclasses, or non-existent.</strong></p>\n"},{"tags":[],"owner":{"account_id":215438,"reputation":2110,"user_id":470091,"display_name":"caligari"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1381490895,"creation_date":1381490895,"answer_id":19317026,"question_id":5875414,"body_markdown":"In my opinion, it is a fail in the Java syntax design. Polymorphism shouldn&#39;t limit the usage of exception handling. In fact, other computer languages don&#39;t do it (C#).\r\n\r\nMoreover, a method is overriden in a more specialiced subclass so that it is more complex and, for this reason, more probable to throwing new exceptions.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>In my opinion, it is a fail in the Java syntax design. Polymorphism shouldn't limit the usage of exception handling. In fact, other computer languages don't do it (C#).</p>\n\n<p>Moreover, a method is overriden in a more specialiced subclass so that it is more complex and, for this reason, more probable to throwing new exceptions.</p>\n"},{"tags":[],"owner":{"account_id":1927754,"reputation":5883,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1476760693,"creation_date":1456724687,"answer_id":35692725,"question_id":5875414,"body_markdown":"I provide this answer here to the old question since no answers tell the fact that **the overriding method can throw nothing** here&#39;s again what the overriding method can throw:\r\n\r\n1) throw the same exception\r\n\r\n    public static class A \r\n\t{\r\n\t\tpublic void m1()\r\n\t\t   throws IOException\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;A m1&quot;);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\r\n    public static class B \r\n        extends A\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void m1()\r\n\t\t    throws IOException\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;B m1&quot;);\r\n\t\t}\r\n    }\r\n\r\n\r\n2) throw subclass of the overriden method&#39;s thrown exception\r\n\r\n    public static class A \r\n\t{\r\n\t\tpublic void m2()\r\n\t\t   throws Exception\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;A m2&quot;);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\r\n    public static class B \r\n        extends A\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void m2()\r\n\t\t    throws IOException\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;B m2&quot;);\r\n\t\t}\r\n    }\r\n\r\n\r\n**3) throw nothing.**\r\n\r\n\tpublic static class A \r\n\t{\t\r\n\t\tpublic void m3()\r\n\t\t   throws IOException\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;A m3&quot;);\r\n\t\t}\r\n\t}\r\n\r\n    public static class B \r\n        extends A\r\n\t{\t\r\n\t\t@Override\r\n\t\tpublic void m3()\r\n\t\t    //throws NOTHING\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;B m3&quot;);\r\n\t\t}\r\n    }\r\n\r\n4) Having RuntimeExceptions in throws is not required.\r\n\r\nThere can be RuntimeExceptions in throws or not, compiler won&#39;t complain about it. RuntimeExceptions are not checked exceptions. **Only checked exceptions are required to appear in throws if not catched.**\r\n","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>I provide this answer here to the old question since no answers tell the fact that <strong>the overriding method can throw nothing</strong> here's again what the overriding method can throw:</p>\n\n<p>1) throw the same exception</p>\n\n<pre><code>public static class A \n{\n    public void m1()\n       throws IOException\n    {\n        System.out.println(\"A m1\");\n    }\n\n}\n\npublic static class B \n    extends A\n{\n    @Override\n    public void m1()\n        throws IOException\n    {\n        System.out.println(\"B m1\");\n    }\n}\n</code></pre>\n\n<p>2) throw subclass of the overriden method's thrown exception</p>\n\n<pre><code>public static class A \n{\n    public void m2()\n       throws Exception\n    {\n        System.out.println(\"A m2\");\n    }\n\n}\n\npublic static class B \n    extends A\n{\n    @Override\n    public void m2()\n        throws IOException\n    {\n        System.out.println(\"B m2\");\n    }\n}\n</code></pre>\n\n<p><strong>3) throw nothing.</strong></p>\n\n<pre><code>public static class A \n{   \n    public void m3()\n       throws IOException\n    {\n        System.out.println(\"A m3\");\n    }\n}\n\npublic static class B \n    extends A\n{   \n    @Override\n    public void m3()\n        //throws NOTHING\n    {\n        System.out.println(\"B m3\");\n    }\n}\n</code></pre>\n\n<p>4) Having RuntimeExceptions in throws is not required.</p>\n\n<p>There can be RuntimeExceptions in throws or not, compiler won't complain about it. RuntimeExceptions are not checked exceptions. <strong>Only checked exceptions are required to appear in throws if not catched.</strong></p>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547565754,"creation_date":1513932866,"answer_id":47938530,"question_id":5875414,"body_markdown":"To understand this let&#39;s consider an example where we have a class `Mammal` which defines `readAndGet` method which is reading some file, doing some operation on it and returning an instance of class `Mammal`.\r\n\r\n    class Mammal {\r\n        public Mammal readAndGet() throws IOException {//read file and return Mammal`s object}\r\n    }\r\n    \r\nClass `Human` extends class `Mammal` and overrides `readAndGet` method to return the instance of `Human` instead of the instance of `Mammal`.\r\n\r\n    class Human extends Mammal {\r\n        @Override\r\n        public Human readAndGet() throws FileNotFoundException {//read file and return Human object}\r\n    }\r\n\r\nTo call `readAndGet` we will need to handle `IOException` because its a checked exception and mammal&#39;s `readAndMethod` is throwing it.\r\n\r\n    Mammal mammal = new Human();\r\n    try {\r\n        Mammal obj = mammal.readAndGet();\r\n    } catch (IOException ex) {..}\r\n\r\nAnd we know that for compiler `mammal.readAndGet()` is getting called from the object of class `Mammal` but at, runtime JVM will resolve `mammal.readAndGet()` method call to a call from class `Human` because `mammal` is holding `new Human()`.\r\n\r\nMethod `readAndMethod` from `Mammal` is throwing `IOException` and because it is a checked exception compiler will force us to catch it whenever we call `readAndGet` on `mammal`\r\n\r\nNow suppose `readAndGet` in `Human` is throwing any other checked exception e.g. Exception and we know `readAndGet` will get called from the instance of `Human` because `mammal` is holding `new Human()`.\r\n\r\nBecause for compiler the method is getting called from `Mammal`, so the compiler will force us to handle only `IOException` but at runtime we know method will be throwing `Exception` exception which is not getting handled and our code will break if the method throws the exception.\r\n\r\nThat&#39;s why it is prevented at the compiler level itself and we are not allowed to throw any new or broader checked exception because it will not be handled by JVM at the end.\r\n\r\nThere are other rules as well which we need to follow while overriding the methods and you can read more on [Why We Should Follow Method Overriding Rules][1] to know the reasons.\r\n\r\n\r\n  [1]: https://programmingmitra.com/2017/12/why-we-should-follow-method-overriding-rules.html","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>To understand this let's consider an example where we have a class <code>Mammal</code> which defines <code>readAndGet</code> method which is reading some file, doing some operation on it and returning an instance of class <code>Mammal</code>.</p>\n\n<pre><code>class Mammal {\n    public Mammal readAndGet() throws IOException {//read file and return Mammal`s object}\n}\n</code></pre>\n\n<p>Class <code>Human</code> extends class <code>Mammal</code> and overrides <code>readAndGet</code> method to return the instance of <code>Human</code> instead of the instance of <code>Mammal</code>.</p>\n\n<pre><code>class Human extends Mammal {\n    @Override\n    public Human readAndGet() throws FileNotFoundException {//read file and return Human object}\n}\n</code></pre>\n\n<p>To call <code>readAndGet</code> we will need to handle <code>IOException</code> because its a checked exception and mammal's <code>readAndMethod</code> is throwing it.</p>\n\n<pre><code>Mammal mammal = new Human();\ntry {\n    Mammal obj = mammal.readAndGet();\n} catch (IOException ex) {..}\n</code></pre>\n\n<p>And we know that for compiler <code>mammal.readAndGet()</code> is getting called from the object of class <code>Mammal</code> but at, runtime JVM will resolve <code>mammal.readAndGet()</code> method call to a call from class <code>Human</code> because <code>mammal</code> is holding <code>new Human()</code>.</p>\n\n<p>Method <code>readAndMethod</code> from <code>Mammal</code> is throwing <code>IOException</code> and because it is a checked exception compiler will force us to catch it whenever we call <code>readAndGet</code> on <code>mammal</code></p>\n\n<p>Now suppose <code>readAndGet</code> in <code>Human</code> is throwing any other checked exception e.g. Exception and we know <code>readAndGet</code> will get called from the instance of <code>Human</code> because <code>mammal</code> is holding <code>new Human()</code>.</p>\n\n<p>Because for compiler the method is getting called from <code>Mammal</code>, so the compiler will force us to handle only <code>IOException</code> but at runtime we know method will be throwing <code>Exception</code> exception which is not getting handled and our code will break if the method throws the exception.</p>\n\n<p>That's why it is prevented at the compiler level itself and we are not allowed to throw any new or broader checked exception because it will not be handled by JVM at the end.</p>\n\n<p>There are other rules as well which we need to follow while overriding the methods and you can read more on <a href=\"https://programmingmitra.com/2017/12/why-we-should-follow-method-overriding-rules.html\" rel=\"nofollow noreferrer\">Why We Should Follow Method Overriding Rules</a> to know the reasons.</p>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518020860,"creation_date":1518020860,"answer_id":48668688,"question_id":5875414,"body_markdown":"\r\nLet us take an interview Question.\r\nThere is a method that throws NullPointerException in the superclass. Can we override it with a\r\nmethod that throws RuntimeException?\r\n\r\nTo answer this question, let us know what is an Unchecked and Checked exception.\r\n\r\n 1. Checked exceptions must be explicitly caught or propagated as described in\r\n   Basic try-catch-finally Exception Handling. Unchecked exceptions do not have this requirement.\r\n    They don&#39;t have to be caught or declared thrown.\r\n\r\n 2. Checked exceptions in Java extend the java.lang.Exception class. Unchecked exceptions extend the java.lang.RuntimeException.\r\n\r\n\r\npublic class NullPointerException extends RuntimeException\r\n\r\nUnchecked exceptions extend the java.lang.RuntimeException. \r\nThst&#39;s why NullPointerException is an Uncheked exception.\r\n\r\n Let&#39;s take an example:\r\nExample 1 : \r\n\r\n        public class Parent {\r\n           public void name()  throws NullPointerException {\r\n        \t   System.out.println(&quot; this is parent&quot;);\r\n           }\r\n    }\r\n    \r\n    public class Child  extends Parent{\r\n         public  void name() throws RuntimeException{\r\n        \t     System.out.println(&quot; child &quot;);\r\n         }\r\n         \r\n         public static void main(String[] args) {\r\n    \t\tParent parent  = new Child();\r\n    \t\tparent.name();// output =&gt; child\r\n    \t}\r\n    }\r\nThe program will compile successfully.\r\nExample 2:\r\n\r\n        public class Parent {\r\n           public void name()  throws RuntimeException {\r\n        \t   System.out.println(&quot; this is parent&quot;);\r\n           }\r\n    }\r\n    \r\n    public class Child  extends Parent{\r\n         public  void name() throws  NullPointerException {\r\n        \t     System.out.println(&quot; child &quot;);\r\n         }\r\n         \r\n         public static void main(String[] args) {\r\n    \t\tParent parent  = new Child();\r\n    \t\tparent.name();// output =&gt; child\r\n    \t}\r\n    }\r\nThe program will also compile successfully.\r\nTherefore it is evident, that nothing happens in case of Unchecked exceptions.\r\nNow, let&#39;s take a look what happens in case of Checked exceptions.\r\n Example 3:\r\nWhen base class and child class both throws a checked exception\r\n\r\n        public class Parent {\r\n           public void name()  throws IOException {\r\n        \t   System.out.println(&quot; this is parent&quot;);\r\n           }\r\n    }\r\n    public class Child  extends Parent{\r\n         public  void name() throws IOException{\r\n        \t     System.out.println(&quot; child &quot;);\r\n         }\r\n         \r\n         public static void main(String[] args) {\r\n    \t\tParent parent  = new Child();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tparent.name();// output=&gt; child\r\n    \t\t}catch( Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    }\r\n\r\nThe program will compile successfully.\r\nExample 4:\r\nWhen child class method is throwing border checked exception compared to the same method of base class.\r\n\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Parent {\r\n           public void name()  throws IOException {\r\n        \t   System.out.println(&quot; this is parent&quot;);\r\n           }\r\n    }\r\n    public class Child  extends Parent{\r\n         public  void name() throws Exception{ // broader exception\r\n        \t     System.out.println(&quot; child &quot;);\r\n         }\r\n         \r\n         public static void main(String[] args) {\r\n    \t\tParent parent  = new Child();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tparent.name();//output=&gt; Compilation failure\r\n    \t\t}catch( Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    }\r\nThe program will fail to compile. So, we have to be careful when we are using Checked exceptions.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>Let us take an interview Question.\nThere is a method that throws NullPointerException in the superclass. Can we override it with a\nmethod that throws RuntimeException?</p>\n\n<p>To answer this question, let us know what is an Unchecked and Checked exception.</p>\n\n<ol>\n<li><p>Checked exceptions must be explicitly caught or propagated as described in\nBasic try-catch-finally Exception Handling. Unchecked exceptions do not have this requirement.\nThey don't have to be caught or declared thrown.</p></li>\n<li><p>Checked exceptions in Java extend the java.lang.Exception class. Unchecked exceptions extend the java.lang.RuntimeException.</p></li>\n</ol>\n\n<p>public class NullPointerException extends RuntimeException</p>\n\n<p>Unchecked exceptions extend the java.lang.RuntimeException. \nThst's why NullPointerException is an Uncheked exception.</p>\n\n<p>Let's take an example:\nExample 1 : </p>\n\n<pre><code>    public class Parent {\n       public void name()  throws NullPointerException {\n           System.out.println(\" this is parent\");\n       }\n}\n\npublic class Child  extends Parent{\n     public  void name() throws RuntimeException{\n             System.out.println(\" child \");\n     }\n\n     public static void main(String[] args) {\n        Parent parent  = new Child();\n        parent.name();// output =&gt; child\n    }\n}\n</code></pre>\n\n<p>The program will compile successfully.\nExample 2:</p>\n\n<pre><code>    public class Parent {\n       public void name()  throws RuntimeException {\n           System.out.println(\" this is parent\");\n       }\n}\n\npublic class Child  extends Parent{\n     public  void name() throws  NullPointerException {\n             System.out.println(\" child \");\n     }\n\n     public static void main(String[] args) {\n        Parent parent  = new Child();\n        parent.name();// output =&gt; child\n    }\n}\n</code></pre>\n\n<p>The program will also compile successfully.\nTherefore it is evident, that nothing happens in case of Unchecked exceptions.\nNow, let's take a look what happens in case of Checked exceptions.\n Example 3:\nWhen base class and child class both throws a checked exception</p>\n\n<pre><code>    public class Parent {\n       public void name()  throws IOException {\n           System.out.println(\" this is parent\");\n       }\n}\npublic class Child  extends Parent{\n     public  void name() throws IOException{\n             System.out.println(\" child \");\n     }\n\n     public static void main(String[] args) {\n        Parent parent  = new Child();\n\n        try {\n            parent.name();// output=&gt; child\n        }catch( Exception e) {\n            System.out.println(e);\n        }\n\n    }\n}\n</code></pre>\n\n<p>The program will compile successfully.\nExample 4:\nWhen child class method is throwing border checked exception compared to the same method of base class.</p>\n\n<pre><code>import java.io.IOException;\n\npublic class Parent {\n       public void name()  throws IOException {\n           System.out.println(\" this is parent\");\n       }\n}\npublic class Child  extends Parent{\n     public  void name() throws Exception{ // broader exception\n             System.out.println(\" child \");\n     }\n\n     public static void main(String[] args) {\n        Parent parent  = new Child();\n\n        try {\n            parent.name();//output=&gt; Compilation failure\n        }catch( Exception e) {\n            System.out.println(e);\n        }\n\n    }\n}\n</code></pre>\n\n<p>The program will fail to compile. So, we have to be careful when we are using Checked exceptions.</p>\n"},{"tags":[],"owner":{"account_id":13021296,"reputation":155,"user_id":9410625,"display_name":"Fego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539758680,"creation_date":1539758680,"answer_id":52848763,"question_id":5875414,"body_markdown":"The subclass&#39;s overriding method can only throw multiple checked exceptions that are subclasses of the superclass&#39;s method&#39;s checked exception, but cannot throw multiple checked exceptions that are unrelated to the superclass&#39;s method&#39;s checked exception","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>The subclass's overriding method can only throw multiple checked exceptions that are subclasses of the superclass's method's checked exception, but cannot throw multiple checked exceptions that are unrelated to the superclass's method's checked exception</p>\n"},{"tags":[],"owner":{"account_id":1866281,"reputation":6799,"user_id":1689770,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543959768,"creation_date":1543959768,"answer_id":53621868,"question_id":5875414,"body_markdown":"Java is _giving you the choice_ to restrict exceptions in the parent class, because it&#39;s assuming _the client will restrict what is caught_. IMHO you should essentially _never_ use this &quot;feature&quot;, because your clients may need flexibility down the road.\r\n\r\nJava is an old language that is poorly designed. Modern languages don&#39;t have such restrictions. \r\nThe easiest way around this flaw is make your base class `throw Exception` always. Clients can throw more specific Exceptions but make your base classes really broad.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>Java is <em>giving you the choice</em> to restrict exceptions in the parent class, because it's assuming <em>the client will restrict what is caught</em>. IMHO you should essentially <em>never</em> use this \"feature\", because your clients may need flexibility down the road.</p>\n\n<p>Java is an old language that is poorly designed. Modern languages don't have such restrictions. \nThe easiest way around this flaw is make your base class <code>throw Exception</code> always. Clients can throw more specific Exceptions but make your base classes really broad.</p>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570219842,"creation_date":1570219842,"answer_id":58242676,"question_id":5875414,"body_markdown":"**Rule of handling check and unchecked exceptions on overridden methods**\r\n\r\n -**When parent-class method declares no exception, then child-class overriding- \r\n    method can declare**,\r\n\r\n     1. No exception or\r\n     2. Any number of unchecked exception\r\n     3. but strictly no checked exception\r\n\r\n**-When parent-class method declares unchecked exception, then child-class overriding-method can declare**,\r\n\r\n     1. No exception or\r\n     2. Any number of unchecked exception \r\n     3. but strictly no checked exception\r\n\r\n-**When parent-class method declares checked exception, then child-class overriding-method can declare**,\r\n\r\n     1. No exception or\r\n     2. Same checked exception or\r\n     3. Sub-type of checked exception or\r\n     4. any number of unchecked exception\r\nAll above conclusion hold true, even if combination of both checked &amp; unchecked exception is declared in parent-class’ method\r\n\r\n\r\n[Ref][1]\r\n\r\n\r\n  [1]: https://www.benchresources.net/rules-for-exception-handling-w-r-t-method-overriding-in-java/","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p><strong>Rule of handling check and unchecked exceptions on overridden methods</strong></p>\n\n<p>-<strong>When parent-class method declares no exception, then child-class overriding- \n    method can declare</strong>,</p>\n\n<pre><code> 1. No exception or\n 2. Any number of unchecked exception\n 3. but strictly no checked exception\n</code></pre>\n\n<p><strong>-When parent-class method declares unchecked exception, then child-class overriding-method can declare</strong>,</p>\n\n<pre><code> 1. No exception or\n 2. Any number of unchecked exception \n 3. but strictly no checked exception\n</code></pre>\n\n<p>-<strong>When parent-class method declares checked exception, then child-class overriding-method can declare</strong>,</p>\n\n<pre><code> 1. No exception or\n 2. Same checked exception or\n 3. Sub-type of checked exception or\n 4. any number of unchecked exception\n</code></pre>\n\n<p>All above conclusion hold true, even if combination of both checked &amp; unchecked exception is declared in parent-class’ method</p>\n\n<p><a href=\"https://www.benchresources.net/rules-for-exception-handling-w-r-t-method-overriding-in-java/\" rel=\"nofollow noreferrer\">Ref</a></p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628608068,"creation_date":1628359145,"answer_id":68694893,"question_id":5875414,"body_markdown":"Overriding method can (yet, it does *not* have to) throw:\r\n1. any *unchecked*,\r\n\r\n   and\r\n\r\n2. only those *checked* exceptions that are covariant types (same or extender) of whatever overridden method throws.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>Overriding method can (yet, it does <em>not</em> have to) throw:</p>\n<ol>\n<li><p>any <em>unchecked</em>,</p>\n<p>and</p>\n</li>\n<li><p>only those <em>checked</em> exceptions that are covariant types (same or extender) of whatever overridden method throws.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23572389,"reputation":1,"user_id":17612398,"display_name":"prathamesh hukkeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639480273,"creation_date":1639480273,"answer_id":70347910,"question_id":5875414,"body_markdown":"Consider following three statements\r\n1. Overloaded method must change the argument list\r\nI. Overloaded method may change the return type\r\nI. Overloaded method may declare broader checked exception\r\nChoose all that are true.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>Consider following three statements</p>\n<ol>\n<li>Overloaded method must change the argument list\nI. Overloaded method may change the return type\nI. Overloaded method may declare broader checked exception\nChoose all that are true.</li>\n</ol>\n"}],"owner":{"account_id":106186,"reputation":2123,"user_id":282957,"accept_rate":71,"display_name":"arpanoid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113099,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":5875455,"answer_count":17,"score":114,"last_activity_date":1639480273,"creation_date":1304455093,"question_id":5875414,"body_markdown":"I was going through SCJP 6 book by Kathe sierra and came across this explanations of throwing exceptions in overridden method. I quite didn&#39;t get it. Can any one explain it to me ?\r\n\r\n&gt;  The overriding method must NOT throw checked exceptions that are new \r\nor broader than those declared by the overridden method. For example, a \r\nmethod that declares a FileNotFoundException cannot be overridden by a \r\nmethod that declares a SQLException, Exception, or any other non-runtime \r\nexception unless it&#39;s a subclass of FileNotFoundException.","title":"Why can&#39;t overriding methods throw exceptions broader than the overridden method?","body":"<p>I was going through SCJP 6 book by Kathe sierra and came across this explanations of throwing exceptions in overridden method. I quite didn't get it. Can any one explain it to me ?</p>\n\n<blockquote>\n  <p>The overriding method must NOT throw checked exceptions that are new \n  or broader than those declared by the overridden method. For example, a \n  method that declares a FileNotFoundException cannot be overridden by a \n  method that declares a SQLException, Exception, or any other non-runtime \n  exception unless it's a subclass of FileNotFoundException.</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8231,"page":1761,"page_size":100}
