{"items":[{"tags":["java","spring-boot","foreach","collections","classcastexception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683562833,"post_id":76202291,"comment_id":134382146,"body_markdown":"are you sure the map is mapping to `List&lt;Integer&gt;`? Based on the error message, it looks like there is actually a `String` inside an `ArrayList` (despite the type of the `map` parameter)","body":"are you sure the map is mapping to <code>List&lt;Integer&gt;</code>? Based on the error message, it looks like there is actually a <code>String</code> inside an <code>ArrayList</code> (despite the type of the <code>map</code> parameter)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683563324,"post_id":76202291,"comment_id":134382251,"body_markdown":"I get the same Exception at exactly the same location - line 1511 from `ArrayList` - when doing `( (List&lt;Integer&gt;) new ArrayList(List.of(&quot;test&quot;)) ).forEach(System.out::println)`","body":"I get the same Exception at exactly the same location - line 1511 from <code>ArrayList</code> - when doing <code>( (List&lt;Integer&gt;) new ArrayList(List.of(&quot;test&quot;)) ).forEach(System.out::println)</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683563432,"post_id":76202291,"comment_id":134382282,"body_markdown":"You are using raw types and creating an `ArrayList&lt;String&gt;` and trying to cast it to a `List&lt;Integer&gt;`. `&quot;test&quot;` is not an `Integer`.","body":"You are using raw types and creating an <code>ArrayList&lt;String&gt;</code> and trying to cast it to a <code>List&lt;Integer&gt;</code>. <code>&quot;test&quot;</code> is not an <code>Integer</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683563477,"post_id":76202291,"comment_id":134382287,"body_markdown":"@David that is intentional - to show that the problem is having a `String` inside a `List&lt;Integer&gt;` (&quot;*I get the same Exception at exactly the same location ...*&quot;)","body":"@David that is intentional - to show that the problem is having a <code>String</code> inside a <code>List&lt;Integer&gt;</code> (&quot;<i>I get the same Exception at exactly the same location ...</i>&quot;)"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683563586,"post_id":76202291,"comment_id":134382318,"body_markdown":"@user16320675 I&#39;m sorry, I mistook you for the OP. I should read more carefully.","body":"@user16320675 I&#39;m sorry, I mistook you for the OP. I should read more carefully."},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683565879,"post_id":76202291,"comment_id":134382799,"body_markdown":"@user16320675 I tried to extract the value in `String` but it is giving compilation error which means it is not `String`  inside `ArrayList`  `keysLocalRates.forEach(key -&gt; { String x = map.get(key).get(0); System.out.println(x);});`","body":"@user16320675 I tried to extract the value in <code>String</code> but it is giving compilation error which means it is not <code>String</code>  inside <code>ArrayList</code>  <code>keysLocalRates.forEach(key -&gt; { String x = map.get(key).get(0); System.out.println(x);});</code>"},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683566072,"post_id":76202291,"comment_id":134382854,"body_markdown":"@user16320675 I even tried to get what type is inside `ArrayList` using `getClass()` like this `map.get(key).get(0).getClass();`  but even this is giving me classCastException","body":"@user16320675 I even tried to get what type is inside <code>ArrayList</code> using <code>getClass()</code> like this <code>map.get(key).get(0).getClass();</code>  but even this is giving me classCastException"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683566356,"post_id":76202291,"comment_id":134382907,"body_markdown":"if the list contains a `String` instead of the declared `Integer`, the `get(0)` method will throw that Exception (before you can assign it or call `getClass()`)","body":"if the list contains a <code>String</code> instead of the declared <code>Integer</code>, the <code>get(0)</code> method will throw that Exception (before you can assign it or call <code>getClass()</code>)"},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683566615,"post_id":76202291,"comment_id":134382978,"body_markdown":"@user16320675 I still don&#39;t understand how can be there string in `ArrayList` if I have already declared it `List&lt;Integer&gt;`","body":"@user16320675 I still don&#39;t understand how can be there string in <code>ArrayList</code> if I have already declared it <code>List&lt;Integer&gt;</code>"},{"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"score":0,"creation_date":1683566972,"post_id":76202291,"comment_id":134383065,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253543/discussion-between-sandeep-shiven-and-user16320675).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253543/discussion-between-sandeep-shiven-and-user16320675\">continue this discussion in chat</a>."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1683567015,"post_id":76202291,"comment_id":134383076,"body_markdown":"For debugging I&#39;d suggest breaking it down into `for()` loops and intermediate variables to get a better sense of exactly what step the error is occurring in, and lets you add print/log statements (or use a debugger if that&#39;s available). You can put it back together then.","body":"For debugging I&#39;d suggest breaking it down into <code>for()</code> loops and intermediate variables to get a better sense of exactly what step the error is occurring in, and lets you add print/log statements (or use a debugger if that&#39;s available). You can put it back together then."}],"owner":{"account_id":13930502,"reputation":21,"user_id":10058815,"display_name":"Sandeep Shiven"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683568161,"creation_date":1683561677,"question_id":76202291,"body_markdown":"I was learning about Matrix Variables in spring boot but I encountered problems while extracting the data.\r\n\r\n ``` java\r\n@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\r\n\tpublic ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\r\n\t\t\r\n\t\tSet&lt;String&gt; keysLocalRates = map.keySet();\r\n\t\tSet&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tkeysLocalRates.forEach(key -&gt; {\r\n\t\t\tmap.get(key).forEach(val -&gt; localRates.add(val)); // throwing exception here\r\n\t\t});\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\r\n\t\t\r\n\t}\r\n```\r\nIt is throwing following error\r\n&gt;java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Integer (java.lang.String and java.lang.Integer are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat com.infy.controller.PlanController.lambda$0(PlanController.java:51) ~[classes/:na]\r\n\tat java.base/java.util.LinkedHashMap$LinkedKeySet.forEach(LinkedHashMap.java:589) ~[na:na]\r\n\tat com.infy.controller.PlanController.fetchPlansByLocalRate(PlanController.java:50) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat \r\n\r\n\r\nI can&#39;t understand where am I going wrong.\r\n\r\n\r\nEdit:\r\n\r\nI still can&#39;t understand this strange behaviour as I have already declared List as `List&lt;Integer&gt;` but it is having `List&lt;Object&gt;` so I tried following code and it works fine\r\n\r\n``` java\r\n@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\r\n\tpublic ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\r\n\t\t\r\n\t\tSet&lt;String&gt; keysLocalRates = map.keySet();\r\n\t\tSet&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tkeysLocalRates.forEach(key -&gt; {\r\n\t           map.get(key).forEach((Object val) -&gt; localRates.add(Integer.parseInt((String)val)));\r\n\t       });\t\t\r\n\t\t\r\n\t\treturn ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\r\n\t}\r\n```","title":"Java throwing class cast exception even if types are correct","body":"<p>I was learning about Matrix Variables in spring boot but I encountered problems while extracting the data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\n   public ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\n       \n       Set&lt;String&gt; keysLocalRates = map.keySet();\n       Set&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\n       \n       keysLocalRates.forEach(key -&gt; {\n           map.get(key).forEach(val -&gt; localRates.add(val)); // throwing exception here\n       });\n       \n       return ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\n       \n   }\n</code></pre>\n<p>It is throwing following error</p>\n<blockquote>\n<p>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Integer (java.lang.String and java.lang.Integer are in module java.base of loader 'bootstrap')\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\nat com.infy.controller.PlanController.lambda$0(PlanController.java:51) ~[classes/:na]\nat java.base/java.util.LinkedHashMap$LinkedKeySet.forEach(LinkedHashMap.java:589) ~[na:na]\nat com.infy.controller.PlanController.fetchPlansByLocalRate(PlanController.java:50) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat</p>\n</blockquote>\n<p>I can't understand where am I going wrong.</p>\n<p>Edit:</p>\n<p>I still can't understand this strange behaviour as I have already declared List as <code>List&lt;Integer&gt;</code> but it is having <code>List&lt;Object&gt;</code> so I tried following code and it works fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/{query}/plan&quot;, produces = {&quot;application/xml&quot;})\n    public ResponseEntity&lt;List&lt;PlanDTO&gt;&gt; fetchPlansByLocalRate(@MatrixVariable(pathVar = &quot;query&quot;) Map&lt;String, List&lt;Integer&gt;&gt; map){\n        \n        Set&lt;String&gt; keysLocalRates = map.keySet();\n        Set&lt;Integer&gt; localRates = new HashSet&lt;Integer&gt;();\n        \n        keysLocalRates.forEach(key -&gt; {\n               map.get(key).forEach((Object val) -&gt; localRates.add(Integer.parseInt((String)val)));\n           });      \n        \n        return ResponseEntity.status(HttpStatus.OK).body(planService.fetchPlansByLocalRate(localRates));\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":6743318,"reputation":1,"user_id":5195774,"display_name":"Saunders Cox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683566424,"creation_date":1683566183,"answer_id":76202834,"question_id":76202333,"body_markdown":"I&#39;ve been using Awaitility to mock ExplicitWait for conditions beyond those given in ExpectedConditions where you may want to discard exceptions until it&#39;s no longer thrown. It also works with ImplicitWait if you choose to use that.\r\n\r\nSince you have no guarantee that some event has happened once, twice, or however many times, until you find a condition that strictly satisfies what you&#39;re looking for, you&#39;re shooting in the dark. Given you say &quot;within a second or so&quot;, that&#39;s really all you have to work with right now. \r\n\r\nYou might try something like this:\r\n\r\n    WebElement uiLoader ...\r\n    Awaitility.await().atLeast(Duration.ofSeconds(2))\r\n      .ignoreException(ClassOfExceptionThatMayBeThrown.class)\r\n      .until(() -&gt; !uiLoader.isDisplayed());","title":"How do I wait for a UI Loading WebElement to be invisible twice?","body":"<p>I've been using Awaitility to mock ExplicitWait for conditions beyond those given in ExpectedConditions where you may want to discard exceptions until it's no longer thrown. It also works with ImplicitWait if you choose to use that.</p>\n<p>Since you have no guarantee that some event has happened once, twice, or however many times, until you find a condition that strictly satisfies what you're looking for, you're shooting in the dark. Given you say &quot;within a second or so&quot;, that's really all you have to work with right now.</p>\n<p>You might try something like this:</p>\n<pre><code>WebElement uiLoader ...\nAwaitility.await().atLeast(Duration.ofSeconds(2))\n  .ignoreException(ClassOfExceptionThatMayBeThrown.class)\n  .until(() -&gt; !uiLoader.isDisplayed());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683567351,"creation_date":1683567351,"answer_id":76202969,"question_id":76202333,"body_markdown":"Something like this may work for you\r\n\r\nFirst iteration code just wait for Disappearance of uiLoader and in second Iteration we wait for uiLoader Appearance and Disappearance \r\nor you can remove the if condition if you want to wait for first uiLoader also\r\n\r\n   \r\n\r\n    public void waitForLoaderToAppearAndDisappear(WebDriver driver) {\r\n    \t\tBy uiLoader = By.xpath(&quot;&quot;);\r\n    \t\tWebDriverWait wait = new WebDriverWait(driver, 50);\r\n    \r\n    \t\tint loadingBarCount = 0;\r\n    \t\twhile (loadingBarCount &lt; 2) {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (loadingBarCount == 1) {\r\n    \t\t\t\t\twait.until(ExpectedConditions.visibilityOfElementLocated(uiLoader));\r\n    \t\t\t\t}\r\n    \t\t\t\twait.until(ExpectedConditions.invisibilityOfElementLocated(uiLoader));\r\n    \t\t\t\tloadingBarCount++;\r\n    \t\t\t} catch (TimeoutException e) {\r\n    \t\t\t\t// The loading bar did not appear within the timeout\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}","title":"How do I wait for a UI Loading WebElement to be invisible twice?","body":"<p>Something like this may work for you</p>\n<p>First iteration code just wait for Disappearance of uiLoader and in second Iteration we wait for uiLoader Appearance and Disappearance\nor you can remove the if condition if you want to wait for first uiLoader also</p>\n<pre><code>public void waitForLoaderToAppearAndDisappear(WebDriver driver) {\n        By uiLoader = By.xpath(&quot;&quot;);\n        WebDriverWait wait = new WebDriverWait(driver, 50);\n\n        int loadingBarCount = 0;\n        while (loadingBarCount &lt; 2) {\n            try {\n                if (loadingBarCount == 1) {\n                    wait.until(ExpectedConditions.visibilityOfElementLocated(uiLoader));\n                }\n                wait.until(ExpectedConditions.invisibilityOfElementLocated(uiLoader));\n                loadingBarCount++;\n            } catch (TimeoutException e) {\n                // The loading bar did not appear within the timeout\n                break;\n            }\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":9117009,"reputation":41,"user_id":6784319,"accept_rate":100,"display_name":"Toy_Soldier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683568079,"creation_date":1683561943,"question_id":76202333,"body_markdown":"I have a **WebElement uiLoader**. \r\nIt is basically an ajax call for loading animation that appears on the screen after certian actions.\r\n\r\nI have written a function with explicit wait to handle uiLoader like the following,\r\n\r\n    public void handleUILoading(){\r\n    \tWebDriver wait = new WebDriverWait(driver,50);\r\n        wait.until(ExpectedConditions.invisibilityOfElementLocatedBy(uiLoader));\r\n    }\r\n\r\nThis works fine except when the **uiLoader** gets visible **twice** one after the other within a second or so. I want the driver to interact with other WebElements only after both the instances of the **uiLoader** become invisible.\r\n\r\nCalling the function **handleUILoading()** twice also does not help as it simply executes both the wait statements when the **uiLoader** disappears the first time.\r\n\r\nIs there a way I can handle this without using Thread.sleep()?\r\n","title":"How do I wait for a UI Loading WebElement to be invisible twice?","body":"<p>I have a <strong>WebElement uiLoader</strong>.\nIt is basically an ajax call for loading animation that appears on the screen after certian actions.</p>\n<p>I have written a function with explicit wait to handle uiLoader like the following,</p>\n<pre><code>public void handleUILoading(){\n    WebDriver wait = new WebDriverWait(driver,50);\n    wait.until(ExpectedConditions.invisibilityOfElementLocatedBy(uiLoader));\n}\n</code></pre>\n<p>This works fine except when the <strong>uiLoader</strong> gets visible <strong>twice</strong> one after the other within a second or so. I want the driver to interact with other WebElements only after both the instances of the <strong>uiLoader</strong> become invisible.</p>\n<p>Calling the function <strong>handleUILoading()</strong> twice also does not help as it simply executes both the wait statements when the <strong>uiLoader</strong> disappears the first time.</p>\n<p>Is there a way I can handle this without using Thread.sleep()?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683117579,"creation_date":1683115462,"answer_id":76163604,"question_id":76162952,"body_markdown":"In your particular case, you can nest with `JOIN` and `GROUP BY` / [`MULTISET_AGG`][1], instead of using the [`MULTISET` value constructor][2], because you&#39;re nesting only one level of nested collections (the second nesting is not a collection). The main difference will be what happens when you don&#39;t have any `BAR` for a `FOO`. With aggregation, this produces a `NULL` value, not an empty collection.\r\n\r\nHowever, there are a few limitations in the API (e.g. [#15008][3], [#15007][4], [#13937][5]) making this a bit difficult using the `DefaultRecordMapper` (the `fetchInto(X.class)` call). Here&#39;s a solution using [ad-hoc conversion][6] and type safety:\r\n\r\n\r\n```java\r\nctx().select(\r\n        FOO.FOO_NAME,\r\n        multisetAgg(\r\n\r\n          // Add more BAR columns here, if needed\r\n          row(\r\n\r\n            // Add more BAZZ columns here, if needed\r\n            BAR.bazz().NAME\r\n          ).mapping(Bazz::new)\r\n        ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new)))\r\n      )\r\n     .from(FOO)\r\n     .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n     .groupBy(FOO.ID)\r\n     .where(FOO.FOO_NAME.eq(fooName))\r\n     .fetch(Records.mapping(Foo::new));\r\n```\r\n\r\nThis is assuming you have the relevant constructors. If you don&#39;t, you can always revert to `into(X.class)` calls on each level.\r\n\r\nOne of the benefits of using [jOOQ&#39;s code generator][7] is that you have type safe nested collection mapping as shown above.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/15008\r\n  [4]: https://github.com/jOOQ/jOOQ/issues/15007\r\n  [5]: https://github.com/jOOQ/jOOQ/issues/13937\r\n  [6]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [7]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"jOOQ multiple levels of nesting","body":"<p>In your particular case, you can nest with <code>JOIN</code> and <code>GROUP BY</code> / <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>MULTISET_AGG</code></a>, instead of using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code> value constructor</a>, because you're nesting only one level of nested collections (the second nesting is not a collection). The main difference will be what happens when you don't have any <code>BAR</code> for a <code>FOO</code>. With aggregation, this produces a <code>NULL</code> value, not an empty collection.</p>\n<p>However, there are a few limitations in the API (e.g. <a href=\"https://github.com/jOOQ/jOOQ/issues/15008\" rel=\"nofollow noreferrer\">#15008</a>, <a href=\"https://github.com/jOOQ/jOOQ/issues/15007\" rel=\"nofollow noreferrer\">#15007</a>, <a href=\"https://github.com/jOOQ/jOOQ/issues/13937\" rel=\"nofollow noreferrer\">#13937</a>) making this a bit difficult using the <code>DefaultRecordMapper</code> (the <code>fetchInto(X.class)</code> call). Here's a solution using <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a> and type safety:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx().select(\n        FOO.FOO_NAME,\n        multisetAgg(\n\n          // Add more BAR columns here, if needed\n          row(\n\n            // Add more BAZZ columns here, if needed\n            BAR.bazz().NAME\n          ).mapping(Bazz::new)\n        ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new)))\n      )\n     .from(FOO)\n     .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n     .groupBy(FOO.ID)\n     .where(FOO.FOO_NAME.eq(fooName))\n     .fetch(Records.mapping(Foo::new));\n</code></pre>\n<p>This is assuming you have the relevant constructors. If you don't, you can always revert to <code>into(X.class)</code> calls on each level.</p>\n<p>One of the benefits of using <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">jOOQ's code generator</a> is that you have type safe nested collection mapping as shown above.</p>\n"},{"tags":[],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683568028,"creation_date":1683567052,"answer_id":76202936,"question_id":76162952,"body_markdown":"I&#39;ve made a little research and found several solutions to the aforementioned problem.\r\n\r\n 1. Using multiset() -&gt; the previous example\r\n\r\n    \r\n     - PROS: \r\n         - least verbose way\r\n         - Java part is pretty simple if you know what you are doing\r\n     - CONS: \r\n         - besides knowing SQL, you&#39;ll have to research how `DSL.multiset()` works\r\n         - you have to use subselect\r\n         - the generated SQL might look very complicated, probably hard to debug\r\n\r\n 2. Using multisetAgg()\r\n\r\n    ```\r\n    return ctx().select(FOO.ID,\r\n                        FOO.FOO_NAME,\r\n                        multisetAgg(\r\n                                BAR.ID,\r\n                                row(BAR.bazz().ID,\r\n                                        BAR.bazz().NAME\r\n                                ).mapping(Bazz::new),\r\n                                BAR.SOME_ATTRIBUTE,\r\n                                BAR.SOME_OTHER_ATTRIBUTE\r\n                        ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new))).as(&quot;bars&quot;),\r\n                        FOO.CREATED_AT,\r\n                        FOO.MODIFIED_AT\r\n                )\r\n                .from(FOO)\r\n                .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n                .groupBy(FOO.ID)\r\n                .having(FOO.FOO_NAME.eq(fooName))\r\n                .fetchInto(Foo.class);\r\n    ```\r\n\r\n     - PROS: \r\n         - still looks pretty simple\r\n         - you don&#39;t have to use subselect\r\n     - CONS:\r\n         - besides knowing SQL, you&#39;ll have to research how `DSL.multisetAgg()` works\r\n         - the order of the columns in the `SELECT` statement must match the order of the parameters in constructors\r\n         - the generated SQL might look very complicated, probably hard to debug\r\n\r\n 3. Using [modelmapper][1]\r\n\r\n    ```\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        var modelMapper = new ModelMapper();\r\n        modelMapper.getConfiguration()\r\n                .addValueReader(new RecordValueReader())\r\n                .setSourceNameTokenizer(NameTokenizers.UNDERSCORE);\r\n        return modelMapper;\r\n    }\r\n    ```\r\n\r\n    ```\r\n    return ctx().select(FOO.asterisk(),\r\n                            BAR.asterisk(),\r\n                            BAZZ.asterisk()\r\n                    )\r\n                    .from(FOO)\r\n                    .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n                    .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\r\n                    .where(FOO.FOO_NAME.eq(fooName))\r\n                    .orderBy(FOO.ID, BAR.ID)\r\n                    .collect(groupingBy(\r\n                            r -&gt; modelMapper.map(r.into(FOO), Foo.class), filtering(\r\n                                    r -&gt; r.get(BAR.ID) != null, mapping(\r\n                                            r -&gt; new Pair(modelMapper.map(r.into(BAR), Bar.class),\r\n                                                    modelMapper.map(r.into(BAZZ), Bazz.class)),\r\n                                            toList()\r\n                                    )\r\n                            )\r\n                    ))\r\n                    .entrySet().stream().map(o -&gt; {\r\n                        var foo = o.getKey();\r\n                        return foo.setBars(o.getValue().stream().map(v -&gt; {\r\n                            var bar = (Bar) v.getValue0();\r\n                            var bazz = (Bazz) v.getValue1();\r\n                            return bar.setBazz(bazz);\r\n                        }).toList());\r\n                    }).toList();\r\n    ```\r\n\r\n     - PROS: \r\n         - 1:1 equivalence between SQL syntax and the jOOQ API\r\n     - CONS: \r\n         - pretty verbose\r\n         - easy to mess up (manual grouping and mapping)\r\n         - external library\r\n 4. Using [SimpleFlatMapper][2]\r\n\r\n    ```\r\n    private final JdbcMapper&lt;Foo&gt; fooResponseJdbcMapper;\r\n\r\n    public FooRepository(...) {\r\n        this.fooResponseJdbcMapper = JdbcMapperFactory.newInstance()\r\n                .addKeys(&quot;id&quot;)\r\n                .ignorePropertyNotFound()\r\n                .newMapper(Foo.class);\r\n        }\r\n    .\r\n    .\r\n    .\r\n    public List&lt;Foo&gt; findByCustomerId(Long id) {\r\n        try (var result = ctx().select(FOO.ID,\r\n                            FOO.FOO_NAME,\r\n                            FOO.CREATED_AT,\r\n                            FOO.MODIFIED_AT,\r\n                            BAR.ID.as(&quot;bars_id&quot;),\r\n                            BAR.SOME_ATTRIBUTE.as(&quot;bars_some_attribute&quot;),\r\n                            BAR.SOME_OTHER_ATTRIBUTE.as(&quot;bars_some_other_attribute&quot;),\r\n                            BAZZ.ID.as(&quot;bars_bazz_id&quot;),\r\n                            BAZZ.NAME.as(&quot;bars_bazz_name&quot;)\r\n                    )\r\n                    .from(FOO)\r\n                    .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\r\n                    .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\r\n                    .where(FOO.FOO_NAME.eq(fooName))\r\n                    .orderBy(FOO.ID, BAR.ID)\r\n                    .fetchResultSet()) {\r\n                return fooResponseJdbcMapper.stream(result).toList();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    ```\r\n\r\n     - PROS: \r\n         - 1:1 equivalence between SQL syntax and the jOOQ API\r\n         - looks pretty simple\r\n     - CONS:\r\n         - external library\r\n         - you have to assign aliases to selected columns if you want SimpleFlatMapper to map everything correctly\r\n\r\n  [1]: https://modelmapper.org/\r\n  [2]: https://simpleflatmapper.org/0106-getting-started-jooq.html","title":"jOOQ multiple levels of nesting","body":"<p>I've made a little research and found several solutions to the aforementioned problem.</p>\n<ol>\n<li><p>Using multiset() -&gt; the previous example</p>\n<ul>\n<li>PROS:\n<ul>\n<li>least verbose way</li>\n<li>Java part is pretty simple if you know what you are doing</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>besides knowing SQL, you'll have to research how <code>DSL.multiset()</code> works</li>\n<li>you have to use subselect</li>\n<li>the generated SQL might look very complicated, probably hard to debug</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Using multisetAgg()</p>\n<pre><code>return ctx().select(FOO.ID,\n                    FOO.FOO_NAME,\n                    multisetAgg(\n                            BAR.ID,\n                            row(BAR.bazz().ID,\n                                    BAR.bazz().NAME\n                            ).mapping(Bazz::new),\n                            BAR.SOME_ATTRIBUTE,\n                            BAR.SOME_OTHER_ATTRIBUTE\n                    ).convertFrom(r -&gt; r.map(Records.mapping(Bar::new))).as(&quot;bars&quot;),\n                    FOO.CREATED_AT,\n                    FOO.MODIFIED_AT\n            )\n            .from(FOO)\n            .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n            .groupBy(FOO.ID)\n            .having(FOO.FOO_NAME.eq(fooName))\n            .fetchInto(Foo.class);\n</code></pre>\n<ul>\n<li>PROS:\n<ul>\n<li>still looks pretty simple</li>\n<li>you don't have to use subselect</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>besides knowing SQL, you'll have to research how <code>DSL.multisetAgg()</code> works</li>\n<li>the order of the columns in the <code>SELECT</code> statement must match the order of the parameters in constructors</li>\n<li>the generated SQL might look very complicated, probably hard to debug</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Using <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">modelmapper</a></p>\n<pre><code>@Bean\npublic ModelMapper modelMapper() {\n    var modelMapper = new ModelMapper();\n    modelMapper.getConfiguration()\n            .addValueReader(new RecordValueReader())\n            .setSourceNameTokenizer(NameTokenizers.UNDERSCORE);\n    return modelMapper;\n}\n</code></pre>\n<pre><code>return ctx().select(FOO.asterisk(),\n                        BAR.asterisk(),\n                        BAZZ.asterisk()\n                )\n                .from(FOO)\n                .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n                .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\n                .where(FOO.FOO_NAME.eq(fooName))\n                .orderBy(FOO.ID, BAR.ID)\n                .collect(groupingBy(\n                        r -&gt; modelMapper.map(r.into(FOO), Foo.class), filtering(\n                                r -&gt; r.get(BAR.ID) != null, mapping(\n                                        r -&gt; new Pair(modelMapper.map(r.into(BAR), Bar.class),\n                                                modelMapper.map(r.into(BAZZ), Bazz.class)),\n                                        toList()\n                                )\n                        )\n                ))\n                .entrySet().stream().map(o -&gt; {\n                    var foo = o.getKey();\n                    return foo.setBars(o.getValue().stream().map(v -&gt; {\n                        var bar = (Bar) v.getValue0();\n                        var bazz = (Bazz) v.getValue1();\n                        return bar.setBazz(bazz);\n                    }).toList());\n                }).toList();\n</code></pre>\n<ul>\n<li>PROS:\n<ul>\n<li>1:1 equivalence between SQL syntax and the jOOQ API</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>pretty verbose</li>\n<li>easy to mess up (manual grouping and mapping)</li>\n<li>external library</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Using <a href=\"https://simpleflatmapper.org/0106-getting-started-jooq.html\" rel=\"nofollow noreferrer\">SimpleFlatMapper</a></p>\n<pre><code>private final JdbcMapper&lt;Foo&gt; fooResponseJdbcMapper;\n\npublic FooRepository(...) {\n    this.fooResponseJdbcMapper = JdbcMapperFactory.newInstance()\n            .addKeys(&quot;id&quot;)\n            .ignorePropertyNotFound()\n            .newMapper(Foo.class);\n    }\n.\n.\n.\npublic List&lt;Foo&gt; findByCustomerId(Long id) {\n    try (var result = ctx().select(FOO.ID,\n                        FOO.FOO_NAME,\n                        FOO.CREATED_AT,\n                        FOO.MODIFIED_AT,\n                        BAR.ID.as(&quot;bars_id&quot;),\n                        BAR.SOME_ATTRIBUTE.as(&quot;bars_some_attribute&quot;),\n                        BAR.SOME_OTHER_ATTRIBUTE.as(&quot;bars_some_other_attribute&quot;),\n                        BAZZ.ID.as(&quot;bars_bazz_id&quot;),\n                        BAZZ.NAME.as(&quot;bars_bazz_name&quot;)\n                )\n                .from(FOO)\n                .join(BAR).on(BAR.FOO_ID.eq(FOO.ID))\n                .join(BAZZ).on(BAZZ.ID.eq(BAR.BAZZ_ID))\n                .where(FOO.FOO_NAME.eq(fooName))\n                .orderBy(FOO.ID, BAR.ID)\n                .fetchResultSet()) {\n            return fooResponseJdbcMapper.stream(result).toList();\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<ul>\n<li>PROS:\n<ul>\n<li>1:1 equivalence between SQL syntax and the jOOQ API</li>\n<li>looks pretty simple</li>\n</ul>\n</li>\n<li>CONS:\n<ul>\n<li>external library</li>\n<li>you have to assign aliases to selected columns if you want SimpleFlatMapper to map everything correctly</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683568028,"creation_date":1683110844,"question_id":76162952,"body_markdown":"I am trying to fetch complex structure from the database using jOOQ. I will try to explain on an example where the problem is.\r\n\r\nSo, let&#39;s imagine we have classes Foo, Bar and Bazz:\r\n\r\n```\r\npublic class Foo {\r\n    private String fooName;\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n\r\npublic class Bar {\r\n    private Bazz bazz;\r\n}\r\n\r\npublic class Bazz {\r\n    private String name;\r\n}\r\n```\r\n\r\nI want to fetch and populate Foo -\\&gt; List\\&lt;Bar\\&gt; -\\&gt; Bazz relationship.\r\n\r\nI tried with `MULTISET` and it works, but I want to avoid subqueries. I want to fetch and map that using `JOIN`. I wonder if it is possible to fetch that using reflection, something like [this](https://stackoverflow.com/a/75723738/7840215).\r\n\r\nHere is an example with `MULTISET` :\r\n\r\n```\r\npublic List&lt;FooResponse&gt; findByFooName(String fooName) {\r\n        return ctx().select(FOO.asterisk(),\r\n                        multiset(select(BAR.asterisk(),\r\n                                BAR.bazz().as(&quot;bazz&quot;))\r\n                              .from(BAR)\r\n                              .where(BAR.FOO_ID.eq(FOO.ID))).as(&quot;bars&quot;))\r\n        .from(FOO)\r\n        .where(FOO.FOO_NAME.eq(fooName))\r\n        .fetchInto(FooResponse.class);\r\n    }\r\n```","title":"jOOQ multiple levels of nesting","body":"<p>I am trying to fetch complex structure from the database using jOOQ. I will try to explain on an example where the problem is.</p>\n<p>So, let's imagine we have classes Foo, Bar and Bazz:</p>\n<pre><code>public class Foo {\n    private String fooName;\n    private List&lt;Bar&gt; bars;\n}\n\npublic class Bar {\n    private Bazz bazz;\n}\n\npublic class Bazz {\n    private String name;\n}\n</code></pre>\n<p>I want to fetch and populate Foo -&gt; List&lt;Bar&gt; -&gt; Bazz relationship.</p>\n<p>I tried with <code>MULTISET</code> and it works, but I want to avoid subqueries. I want to fetch and map that using <code>JOIN</code>. I wonder if it is possible to fetch that using reflection, something like <a href=\"https://stackoverflow.com/a/75723738/7840215\">this</a>.</p>\n<p>Here is an example with <code>MULTISET</code> :</p>\n<pre><code>public List&lt;FooResponse&gt; findByFooName(String fooName) {\n        return ctx().select(FOO.asterisk(),\n                        multiset(select(BAR.asterisk(),\n                                BAR.bazz().as(&quot;bazz&quot;))\n                              .from(BAR)\n                              .where(BAR.FOO_ID.eq(FOO.ID))).as(&quot;bars&quot;))\n        .from(FOO)\n        .where(FOO.FOO_NAME.eq(fooName))\n        .fetchInto(FooResponse.class);\n    }\n</code></pre>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1683568709,"post_id":76203034,"comment_id":134383430,"body_markdown":"I&#39;m not sure what the problem is. Not including the dependencies in the JAR file is the _default behavior_. And if you&#39;ve published to a Maven repository (e.g., Maven Central), then when other projects declare your project as a dependency then the declared dependencies of your project become _transitive dependencies_.","body":"I&#39;m not sure what the problem is. Not including the dependencies in the JAR file is the <i>default behavior</i>. And if you&#39;ve published to a Maven repository (e.g., Maven Central), then when other projects declare your project as a dependency then the declared dependencies of your project become <i>transitive dependencies</i>."},{"owner":{"account_id":183460,"reputation":857,"user_id":418836,"accept_rate":33,"display_name":"user418836"},"score":0,"creation_date":1683569372,"post_id":76203034,"comment_id":134383581,"body_markdown":"@Slaw We don&#39;t publish to maven central. We place them in remote repository and where should  I declare the dependencies ?","body":"@Slaw We don&#39;t publish to maven central. We place them in remote repository and where should  I declare the dependencies ?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1683570019,"post_id":76203034,"comment_id":134383721,"body_markdown":"Maven Central was only an example (hence the &quot;e.g.&quot; and the parentheses). And you declare dependencies in the POM like normal.","body":"Maven Central was only an example (hence the &quot;e.g.&quot; and the parentheses). And you declare dependencies in the POM like normal."},{"owner":{"account_id":183460,"reputation":857,"user_id":418836,"accept_rate":33,"display_name":"user418836"},"score":0,"creation_date":1683571410,"post_id":76203034,"comment_id":134384019,"body_markdown":"@Slaw I was doing mvn package. Once I did mvn install, I could see the pom file with dependencies.","body":"@Slaw I was doing mvn package. Once I did mvn install, I could see the pom file with dependencies."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683586530,"post_id":76203034,"comment_id":134386593,"body_markdown":"Please show the full POM in the question text. As Slaw said, the behaviour you want is the default, so something in the POM must be changing that.","body":"Please show the full POM in the question text. As Slaw said, the behaviour you want is the default, so something in the POM must be changing that."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1683625871,"post_id":76203034,"comment_id":134391751,"body_markdown":"Usually you dont create a fat jar without specific pom to build it (e.g. jar-with-dependencies). try looking for this part and disable it. Otherwise you can specify &quot;provided&quot; under scope for your dependencies","body":"Usually you dont create a fat jar without specific pom to build it (e.g. jar-with-dependencies). try looking for this part and disable it. Otherwise you can specify &quot;provided&quot; under scope for your dependencies"}],"owner":{"account_id":183460,"reputation":857,"user_id":418836,"accept_rate":33,"display_name":"user418836"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683567883,"creation_date":1683567883,"question_id":76203034,"body_markdown":"I want to create a util jar ( 80KB) using Maven project. This Jar has dependency on apache.poi.jar, apache.poi-api.jar, apache commons-lang3.jar  and few other. These are available in Maven central repository and I provided them as dependency in pom of util project.\r\n\r\nNote: This jar is not a runnable jar with main class. It will be used by other teams and include as dependency. We have all artifacts added in remote repository\r\n\r\nWhen I create a jar, I don&#39;t want to add dependencies inside util jar and make it a fat jar  ( 4 MB). \r\n\r\nWhen users include this jar as dependency, I want the using application to download downstream dependencies and they can package in their WAR.\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.test.proj&lt;/groupId&gt;\r\n&lt;artifactId&gt;util&lt;/artifactId&gt;\r\n&lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIn the packaged jar, Is there a possibility to include the dependencies as POM and maven will read this and download them also.","title":"How to create a maven jar with out including all the dependencies","body":"<p>I want to create a util jar ( 80KB) using Maven project. This Jar has dependency on apache.poi.jar, apache.poi-api.jar, apache commons-lang3.jar  and few other. These are available in Maven central repository and I provided them as dependency in pom of util project.</p>\n<p>Note: This jar is not a runnable jar with main class. It will be used by other teams and include as dependency. We have all artifacts added in remote repository</p>\n<p>When I create a jar, I don't want to add dependencies inside util jar and make it a fat jar  ( 4 MB).</p>\n<p>When users include this jar as dependency, I want the using application to download downstream dependencies and they can package in their WAR.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.test.proj&lt;/groupId&gt;\n&lt;artifactId&gt;util&lt;/artifactId&gt;\n&lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In the packaged jar, Is there a possibility to include the dependencies as POM and maven will read this and download them also.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683309128,"post_id":76184776,"comment_id":134352515,"body_markdown":"Showing the value of `RECORD_SEPARATOR_REGEX` might be helpful...","body":"Showing the value of <code>RECORD_SEPARATOR_REGEX</code> might be helpful..."},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":0,"creation_date":1683313915,"post_id":76184776,"comment_id":134353525,"body_markdown":"@JimGarrison added. Will that matter?","body":"@JimGarrison added. Will that matter?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1683316952,"post_id":76184776,"comment_id":134354093,"body_markdown":"Did you try the regex manually on a small snippet? Do you really want to split by &quot;|END&quot; followed by any kind of newline? (CRLF, CR or LF) Just asking cause of the first `|`, but may be totally legit.","body":"Did you try the regex manually on a small snippet? Do you really want to split by &quot;|END&quot; followed by any kind of newline? (CRLF, CR or LF) Just asking cause of the first <code>|</code>, but may be totally legit."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683323541,"post_id":76184776,"comment_id":134355019,"body_markdown":"@Halley Yes, if it&#39;s particularly complex.","body":"@Halley Yes, if it&#39;s particularly complex."},{"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"score":0,"creation_date":1683405118,"post_id":76184776,"comment_id":134362727,"body_markdown":"@cyberbrain doesn&#39;t matter. The moment I use a regex, the streaming stops working.","body":"@cyberbrain doesn&#39;t matter. The moment I use a regex, the streaming stops working."}],"owner":{"account_id":1236305,"reputation":521,"user_id":1199832,"accept_rate":50,"display_name":"Halley"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1683567776,"creation_date":1683309047,"question_id":76184776,"body_markdown":"I am trying to read a very large flat file of around 1 GB using Camel. The records are separated by a set of strings, and I am trying the below route. \r\n```\r\nfrom(incomingFilePath+&quot;?delete=true&quot;)\r\n                .split()\r\n                .tokenize(&quot;ENDRECORD&quot;)\r\n                .streaming()\r\n                .bean(bean, &quot;method&quot;)\r\n                .bean(bean,&quot;method&quot;)\r\n                .end();\r\n```\r\n\r\nThe streaming works in the above case. But when I try to tokenize using a regex, my streaming fails and I am getting an Out of Memory Exception. \r\n\r\n```\r\nfrom(incomingFilePath+&quot;?delete=true&quot;)\r\n                .split()\r\n                .tokenize(&quot;\\\\|END(\\\\r\\\\n|\\\\r|\\\\n)&quot;, true)\r\n                .streaming()\r\n                .bean(bean, &quot;method&quot;)\r\n                .bean(bean,&quot;method&quot;)\r\n                .end();\r\n```\r\n\r\n```java.lang.OutOfMemoryError: Java heap space```\r\n\r\nSome references: \r\n\r\n - https://stackoverflow.com/questions/8122748/best-strategy-for-processing-large-csv-files-in-apache-camel\r\n - https://stackoverflow.com/questions/51419529/apache-camel-out-of-memory-exception\r\n\r\n\r\n","title":"Split and tokenize a large file with regex using Apache Camel","body":"<p>I am trying to read a very large flat file of around 1 GB using Camel. The records are separated by a set of strings, and I am trying the below route.</p>\n<pre><code>from(incomingFilePath+&quot;?delete=true&quot;)\n                .split()\n                .tokenize(&quot;ENDRECORD&quot;)\n                .streaming()\n                .bean(bean, &quot;method&quot;)\n                .bean(bean,&quot;method&quot;)\n                .end();\n</code></pre>\n<p>The streaming works in the above case. But when I try to tokenize using a regex, my streaming fails and I am getting an Out of Memory Exception.</p>\n<pre><code>from(incomingFilePath+&quot;?delete=true&quot;)\n                .split()\n                .tokenize(&quot;\\\\|END(\\\\r\\\\n|\\\\r|\\\\n)&quot;, true)\n                .streaming()\n                .bean(bean, &quot;method&quot;)\n                .bean(bean,&quot;method&quot;)\n                .end();\n</code></pre>\n<p><code>java.lang.OutOfMemoryError: Java heap space</code></p>\n<p>Some references:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/8122748/best-strategy-for-processing-large-csv-files-in-apache-camel\">Best strategy for processing large CSV files in Apache Camel</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51419529/apache-camel-out-of-memory-exception\">Apache Camel out of memory exception</a></li>\n</ul>\n"},{"tags":["java","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348140511,"creation_date":1348140511,"answer_id":12511675,"question_id":12502498,"body_markdown":"Reference : [Spring AOP][1], Check your `@Pointcut` configuration.\r\n\r\n\r\n  [1]: http://veerasundar.com/blog/2010/01/spring-aop-example-profiling-method-execution-time-tutorial/","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>Reference : <a href=\"http://veerasundar.com/blog/2010/01/spring-aop-example-profiling-method-execution-time-tutorial/\" rel=\"nofollow\">Spring AOP</a>, Check your <code>@Pointcut</code> configuration.</p>\n"},{"tags":[],"owner":{"account_id":2150178,"reputation":101,"user_id":1906790,"display_name":"kamal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355945658,"creation_date":1355945658,"answer_id":13959799,"question_id":12502498,"body_markdown":"Yes, it can be because of old jars. As i assume your using spring 3.x jars and confiduration . Try using latest jar&#39;s\r\n\r\nI had a similar issue few day back , **org.springframework.beans.factory.BeanCreationException: Error creating bean**\r\n\r\nIn my case it was an issue of old jars [My issue][1]\r\n\r\ncan you try to run your app using latest jars:\r\n\r\n    aopalliance-1.0.jar\r\n    asm-3.3.1.jar\r\n    aspectj-1.7.1.jar\r\n    aspectjrt-1.7.0.jar\r\n    aspectjweaver-1.7.0.jar\r\n    cglib-2.2.2.jar\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13895963/aspectj-based-aop-with-spring-3-1","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>Yes, it can be because of old jars. As i assume your using spring 3.x jars and confiduration . Try using latest jar's</p>\n\n<p>I had a similar issue few day back , <strong>org.springframework.beans.factory.BeanCreationException: Error creating bean</strong></p>\n\n<p>In my case it was an issue of old jars <a href=\"https://stackoverflow.com/questions/13895963/aspectj-based-aop-with-spring-3-1\">My issue</a></p>\n\n<p>can you try to run your app using latest jars:</p>\n\n<pre><code>aopalliance-1.0.jar\nasm-3.3.1.jar\naspectj-1.7.1.jar\naspectjrt-1.7.0.jar\naspectjweaver-1.7.0.jar\ncglib-2.2.2.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3593277,"reputation":1,"user_id":2998748,"display_name":"ExRajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447318212,"creation_date":1384584013,"answer_id":20015582,"question_id":12502498,"body_markdown":"Adding Dependencies for 1.7 jars had solved the problem for me.\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>Adding Dependencies for 1.7 jars had solved the problem for me.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1859218,"reputation":273,"user_id":1684161,"accept_rate":15,"display_name":"migAlex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6719,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1683567665,"creation_date":1348086948,"question_id":12502498,"body_markdown":"I&#39;m new with AOP. Reading the book &quot;Spring in Action&quot;. There is the chapter with AOP and the example. I have made it with XML and all works good. There is the example of annotated configuration of Aspects. I have made one in one like in the book, but it doesn&#39;t work. Please, help.\r\n\r\n**Error:**\r\n\t\t\r\n        Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: \r\n\t\tError creating bean with name &#39;guitar&#39; defined in class path resource [springIdolBeansAnnotation.xml]: \r\n\t\tInitialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 c\r\n\t\tan&#39;t find referenced pointcut performance\r\n       \r\nFile with beans named springIdolBeansAnnotation.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/aop\r\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;guitar&quot; class=&quot;com.springinaction.springidol.Guitar&quot;/&gt;\r\n    \t&lt;aop:aspectj-autoproxy/&gt;\r\n    \t&lt;bean id=&quot;kenny2&quot; class=&quot;com.springinaction.springidol.Instrumentalist&quot;&gt;\r\n    \t\t&lt;property name=&quot;song&quot; value=&quot;Jingle B&quot;/&gt;\r\n    \t\t&lt;property name=&quot;instrument&quot; ref=&quot;guitar&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;audience&quot; class=&quot;com.springinaction.springidol.Audience&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n**File Guitar:**\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    public class Guitar implements Instrument {\r\n    \r\n    \t@Override\r\n    \tpublic void play() {\r\n    \t\tSystem.out.println(&quot;Guitar playing&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**file Instrumentalist:**\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    public class Instrumentalist implements Performer {\r\n    \r\n    \tprivate String song;\r\n    \t\r\n    \tprivate Instrument instrument;\r\n    \t\r\n    \tpublic Instrumentalist(){}\r\n    \t\r\n    \t@Override\r\n    \tpublic void perform() throws Exception {\r\n    \t\tSystem.out.println(&quot;Playing &quot;+song + &quot; : &quot;);\r\n    \t\tinstrument.play();\r\n    \t}\r\n    \r\n    \tpublic String getSong() {\r\n    \t\treturn song;\r\n    \t}\r\n    \r\n    \tpublic void setSong(String song) {\r\n    \t\tthis.song = song;\r\n    \t}\r\n    \r\n    \tpublic String screamSong(){\r\n    \t\treturn song;\r\n    \t}\r\n    \r\n    \tpublic void setInstrument(Instrument instrument) {\r\n    \t\tthis.instrument = instrument;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nfile Audience(Aspect):\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.AfterReturning;\r\n    import org.aspectj.lang.annotation.AfterThrowing;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Before;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    \r\n    @Aspect\r\n    public class Audience {\r\n    \t@Pointcut(&quot;execution(* com.springinaction.springidol.Performer.perform(..))&quot;)\r\n    \tpublic void performance(){}\r\n    \t\r\n    \t@Before(&quot;performance()&quot;)\r\n    \tpublic void takeSeats(){\r\n    \t\tSystem.out.println(&quot;The audience is takig their seats&quot;);\r\n    \t}\r\n    \t\r\n    \t@Before(&quot;performance()&quot;)\r\n    \tpublic void turnOffCellPhones(){\r\n    \t\tSystem.out.println(&quot;The audience is turning off their cellphones&quot;);\r\n    \t}\r\n    \t\r\n    \t@AfterReturning(&quot;performance()&quot;)\r\n    \tpublic void applaud(){\r\n    \t\tSystem.out.println(&quot;CLAP CLAP CLAP CLAP CLAP&quot;);\r\n    \t}\r\n    \t\r\n    \t@AfterThrowing(&quot;performance()&quot;)\r\n    \tpublic void demandRefund(){\r\n    \t\tSystem.out.println(&quot;Boo! We want our money back&quot;);\r\n    \t}\r\n    \t\r\n    \t@Around(&quot;performance()&quot;)\r\n    \tpublic void watchPerformance(ProceedingJoinPoint joinpoint){\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Theaudienceistakingtheirseats.&quot;);\r\n    \t\t\tSystem.out.println(&quot;Theaudienceisturningofftheircellphones&quot;);\r\n    \t\t\tlong start=System.currentTimeMillis();\r\n    \t\t\tjoinpoint.proceed();\r\n    \t\t\tlong end=System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;CLAP CLAP CLAP CLAP CLAP&quot;);\r\n    \t\t\tSystem.out.println(&quot;Theperformancetook&quot;+(end-start)\r\n    \t\t\t+ &quot;milliseconds.&quot;);\r\n    \t\t} catch(Throwable t){\r\n    \t\t\tSystem.out.println(&quot;Boo!Wewantourmoneyback!&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Main file:**\r\n\r\n    package com.springinaction.springidol;\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class SpringIdolMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;springIdolBeansAnnotation.xml&quot;);\r\n    \t\tPerformer performer = (Performer) ctx.getBean(&quot;kenny2&quot;);\r\n    \t\ttry {\r\n    \t\t\tperformer.perform();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"nested exception is java.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut","body":"<p>I'm new with AOP. Reading the book \"Spring in Action\". There is the chapter with AOP and the example. I have made it with XML and all works good. There is the example of annotated configuration of Aspects. I have made one in one like in the book, but it doesn't work. Please, help.</p>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>    Exception in thread \"main\" org.springframework.beans.factory.BeanCreationException: \n    Error creating bean with name 'guitar' defined in class path resource [springIdolBeansAnnotation.xml]: \n    Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 c\n    an't find referenced pointcut performance\n</code></pre>\n\n<p>File with beans named springIdolBeansAnnotation.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/aop\nhttp://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt;\n\n    &lt;bean id=\"guitar\" class=\"com.springinaction.springidol.Guitar\"/&gt;\n    &lt;aop:aspectj-autoproxy/&gt;\n    &lt;bean id=\"kenny2\" class=\"com.springinaction.springidol.Instrumentalist\"&gt;\n        &lt;property name=\"song\" value=\"Jingle B\"/&gt;\n        &lt;property name=\"instrument\" ref=\"guitar\"/&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"audience\" class=\"com.springinaction.springidol.Audience\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>File Guitar:</strong></p>\n\n<pre><code>package com.springinaction.springidol;\n\npublic class Guitar implements Instrument {\n\n    @Override\n    public void play() {\n        System.out.println(\"Guitar playing\");\n    }\n\n}\n</code></pre>\n\n<p><strong>file Instrumentalist:</strong></p>\n\n<pre><code>package com.springinaction.springidol;\n\npublic class Instrumentalist implements Performer {\n\n    private String song;\n\n    private Instrument instrument;\n\n    public Instrumentalist(){}\n\n    @Override\n    public void perform() throws Exception {\n        System.out.println(\"Playing \"+song + \" : \");\n        instrument.play();\n    }\n\n    public String getSong() {\n        return song;\n    }\n\n    public void setSong(String song) {\n        this.song = song;\n    }\n\n    public String screamSong(){\n        return song;\n    }\n\n    public void setInstrument(Instrument instrument) {\n        this.instrument = instrument;\n    }\n\n}\n</code></pre>\n\n<p>file Audience(Aspect):</p>\n\n<pre><code>package com.springinaction.springidol;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.AfterThrowing;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class Audience {\n    @Pointcut(\"execution(* com.springinaction.springidol.Performer.perform(..))\")\n    public void performance(){}\n\n    @Before(\"performance()\")\n    public void takeSeats(){\n        System.out.println(\"The audience is takig their seats\");\n    }\n\n    @Before(\"performance()\")\n    public void turnOffCellPhones(){\n        System.out.println(\"The audience is turning off their cellphones\");\n    }\n\n    @AfterReturning(\"performance()\")\n    public void applaud(){\n        System.out.println(\"CLAP CLAP CLAP CLAP CLAP\");\n    }\n\n    @AfterThrowing(\"performance()\")\n    public void demandRefund(){\n        System.out.println(\"Boo! We want our money back\");\n    }\n\n    @Around(\"performance()\")\n    public void watchPerformance(ProceedingJoinPoint joinpoint){\n        try {\n            System.out.println(\"Theaudienceistakingtheirseats.\");\n            System.out.println(\"Theaudienceisturningofftheircellphones\");\n            long start=System.currentTimeMillis();\n            joinpoint.proceed();\n            long end=System.currentTimeMillis();\n            System.out.println(\"CLAP CLAP CLAP CLAP CLAP\");\n            System.out.println(\"Theperformancetook\"+(end-start)\n            + \"milliseconds.\");\n        } catch(Throwable t){\n            System.out.println(\"Boo!Wewantourmoneyback!\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Main file:</strong></p>\n\n<pre><code>package com.springinaction.springidol;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class SpringIdolMain {\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(\"springIdolBeansAnnotation.xml\");\n        Performer performer = (Performer) ctx.getBean(\"kenny2\");\n        try {\n            performer.perform();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","formatting","bigdecimal","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":2963,"reputation":5270,"user_id":4206,"accept_rate":75,"display_name":"Luca Molteni"},"down_vote_count":0,"up_vote_count":167,"is_accepted":true,"score":167,"last_activity_date":1564461873,"creation_date":1280833288,"answer_id":3395845,"question_id":3395825,"body_markdown":"    public static String currencyFormat(BigDecimal n) {\r\n        return NumberFormat.getCurrencyInstance().format(n);\r\n    }\r\n\r\nIt will use your JVMs current default [`Locale`][1] to choose your currency symbol. Or you can specify a `Locale`.\r\n\r\n    NumberFormat.getInstance(Locale.US)\r\n\r\nFor more info, see [`NumberFormat`][2] class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/NumberFormat.html","title":"How to print formatted BigDecimal values?","body":"<pre><code>public static String currencyFormat(BigDecimal n) {\n    return NumberFormat.getCurrencyInstance().format(n);\n}\n</code></pre>\n\n<p>It will use your JVMs current default <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Locale.html\" rel=\"noreferrer\"><code>Locale</code></a> to choose your currency symbol. Or you can specify a <code>Locale</code>.</p>\n\n<pre><code>NumberFormat.getInstance(Locale.US)\n</code></pre>\n\n<p>For more info, see <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1388026301,"creation_date":1324414939,"answer_id":8581941,"question_id":3395825,"body_markdown":"Another way which could make sense for the given situation is\r\n\r\n    BigDecimal newBD = oldBD.setScale(2);\r\n\r\nI just say this because *in some cases* when it comes to money going beyond 2 decimal places does not make sense.  Taking this a step further, this could lead to\r\n\r\n    String displayString = oldBD.setScale(2).toPlainString();\r\n\r\nbut I merely wanted to highlight the setScale method (which can also take a second rounding mode argument to control how that last decimal place is handled.  In some situations, Java forces you to specify this rounding method).","title":"How to print formatted BigDecimal values?","body":"<p>Another way which could make sense for the given situation is</p>\n\n<pre><code>BigDecimal newBD = oldBD.setScale(2);\n</code></pre>\n\n<p>I just say this because <em>in some cases</em> when it comes to money going beyond 2 decimal places does not make sense.  Taking this a step further, this could lead to</p>\n\n<pre><code>String displayString = oldBD.setScale(2).toPlainString();\n</code></pre>\n\n<p>but I merely wanted to highlight the setScale method (which can also take a second rounding mode argument to control how that last decimal place is handled.  In some situations, Java forces you to specify this rounding method).</p>\n"},{"tags":[],"owner":{"account_id":364237,"reputation":2712,"user_id":708510,"accept_rate":0,"display_name":"Jeff_Alieffson"},"down_vote_count":0,"up_vote_count":96,"is_accepted":false,"score":96,"last_activity_date":1641575365,"creation_date":1437457500,"answer_id":31531227,"question_id":3395825,"body_markdown":"To set thousand separator, say `123,456.78` you have to use [DecimalFormat](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html):\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\r\n    System.out.println(df.format(new BigDecimal(123456.75)));\r\n    System.out.println(df.format(new BigDecimal(123456.00)));\r\n    System.out.println(df.format(new BigDecimal(123456123456.78)));\r\n\r\nHere is the result:\r\n\r\n    123,456.75\r\n    123,456.00\r\n    123,456,123,456.78\r\nAlthough I set `#,###.00` mask, it successfully formats the longer values too.\r\nNote that the comma(,) separator in result depends on your locale. It may be just space( ) for Russian locale.","title":"How to print formatted BigDecimal values?","body":"<p>To set thousand separator, say <code>123,456.78</code> you have to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\">DecimalFormat</a>:</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot;#,###.00&quot;);\nSystem.out.println(df.format(new BigDecimal(123456.75)));\nSystem.out.println(df.format(new BigDecimal(123456.00)));\nSystem.out.println(df.format(new BigDecimal(123456123456.78)));\n</code></pre>\n<p>Here is the result:</p>\n<pre><code>123,456.75\n123,456.00\n123,456,123,456.78\n</code></pre>\n<p>Although I set <code>#,###.00</code> mask, it successfully formats the longer values too.\nNote that the comma(,) separator in result depends on your locale. It may be just space( ) for Russian locale.</p>\n"},{"tags":[],"owner":{"account_id":1559832,"reputation":8600,"user_id":1449982,"accept_rate":67,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683567662,"creation_date":1466923871,"answer_id":38035936,"question_id":3395825,"body_markdown":"    BigDecimal(&quot;19.0001&quot;).setScale(2, BigDecimal.RoundingMode.DOWN)","title":"How to print formatted BigDecimal values?","body":"<pre><code>BigDecimal(&quot;19.0001&quot;).setScale(2, BigDecimal.RoundingMode.DOWN)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624046,"reputation":333,"user_id":7824218,"display_name":"Fluch"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1505879183,"creation_date":1505879183,"answer_id":46312954,"question_id":3395825,"body_markdown":"   \r\n\r\n     BigDecimal pi = new BigDecimal(3.14);\r\n     BigDecimal pi4 = new BigDecimal(12.56);\r\n\r\n     System.out.printf(&quot;%.2f&quot;,pi);\r\n\r\n \r\n// prints 3.14\r\n\r\n    System.out.printf(&quot;%.0f&quot;,pi4);\r\n\r\n// prints 13\r\n","title":"How to print formatted BigDecimal values?","body":"<pre><code> BigDecimal pi = new BigDecimal(3.14);\n BigDecimal pi4 = new BigDecimal(12.56);\n\n System.out.printf(\"%.2f\",pi);\n</code></pre>\n\n<p>// prints 3.14</p>\n\n<pre><code>System.out.printf(\"%.0f\",pi4);\n</code></pre>\n\n<p>// prints 13</p>\n"},{"tags":[],"owner":{"account_id":1373030,"reputation":1153,"user_id":1307586,"display_name":"volkovs"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1557143686,"creation_date":1557143686,"answer_id":56004704,"question_id":3395825,"body_markdown":"Similar to answer by @Jeff_Alieffson, but not relying on default `Locale`:\r\n\r\nUse `DecimalFormatSymbols` for explicit locale:\r\n\r\n    DecimalFormatSymbols decimalFormatSymbols  = DecimalFormatSymbols.getInstance(new Locale(&quot;ru&quot;, &quot;RU&quot;));\r\n\r\nOr explicit separator symbols:\r\n\r\n    DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\r\n    decimalFormatSymbols.setDecimalSeparator(&#39;.&#39;);\r\n    decimalFormatSymbols.setGroupingSeparator(&#39; &#39;);\r\n\r\nThen:\r\n\r\n    new DecimalFormat(&quot;#,##0.00&quot;, decimalFormatSymbols).format(new BigDecimal(&quot;12345&quot;));\r\n\r\nResult:\r\n\r\n    12 345.00","title":"How to print formatted BigDecimal values?","body":"<p>Similar to answer by @Jeff_Alieffson, but not relying on default <code>Locale</code>:</p>\n\n<p>Use <code>DecimalFormatSymbols</code> for explicit locale:</p>\n\n<pre><code>DecimalFormatSymbols decimalFormatSymbols  = DecimalFormatSymbols.getInstance(new Locale(\"ru\", \"RU\"));\n</code></pre>\n\n<p>Or explicit separator symbols:</p>\n\n<pre><code>DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\ndecimalFormatSymbols.setDecimalSeparator('.');\ndecimalFormatSymbols.setGroupingSeparator(' ');\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>new DecimalFormat(\"#,##0.00\", decimalFormatSymbols).format(new BigDecimal(\"12345\"));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>12 345.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11827568,"reputation":165,"user_id":8655128,"display_name":"Nick Wilde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611763904,"creation_date":1611763904,"answer_id":65922999,"question_id":3395825,"body_markdown":"I know this question is very old, but I was making similar thing in my kotlin app recently. So here is an example if anyone needs it:\r\n\r\n```\r\nval dfs = DecimalFormatSymbols.getInstance(Locale.getDefault())\r\nval bigD = BigDecimal(&quot;1e+30&quot;)\r\nval formattedBigD = DecimalFormat(&quot;#,##0.#&quot;,dfs).format(bigD)\r\n```\r\nResult displaying $formattedBigD:\r\n```\r\n1,000,000,000,000,000,000,000,000,000,000\r\n```","title":"How to print formatted BigDecimal values?","body":"<p>I know this question is very old, but I was making similar thing in my kotlin app recently. So here is an example if anyone needs it:</p>\n<pre><code>val dfs = DecimalFormatSymbols.getInstance(Locale.getDefault())\nval bigD = BigDecimal(&quot;1e+30&quot;)\nval formattedBigD = DecimalFormat(&quot;#,##0.#&quot;,dfs).format(bigD)\n</code></pre>\n<p>Result displaying $formattedBigD:</p>\n<pre><code>1,000,000,000,000,000,000,000,000,000,000\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277674,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":3395845,"answer_count":7,"score":137,"last_activity_date":1683567662,"creation_date":1280833048,"question_id":3395825,"body_markdown":"I have a `BigDecimal` field `amount` which represents money, and I need to print its value in the browser in a format like `$123.00`, `$15.50`, `$0.33`.\r\n\r\nHow can I do that?\r\n\r\n(The only simple solution which I see myself is getting `floatValue` from `BigDecimal` and then using `NumberFormat` to make two-digit precision for the fraction part).","title":"How to print formatted BigDecimal values?","body":"<p>I have a <code>BigDecimal</code> field <code>amount</code> which represents money, and I need to print its value in the browser in a format like <code>$123.00</code>, <code>$15.50</code>, <code>$0.33</code>.</p>\n\n<p>How can I do that?</p>\n\n<p>(The only simple solution which I see myself is getting <code>floatValue</code> from <code>BigDecimal</code> and then using <code>NumberFormat</code> to make two-digit precision for the fraction part).</p>\n"},{"tags":["java","jpa","tomcat","jersey"],"owner":{"account_id":2089079,"reputation":449,"user_id":1859305,"display_name":"braunpet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683567156,"creation_date":1683567156,"question_id":76202945,"body_markdown":"I implemented a Java Web service with Jersey that should run in an embedded Tomcat. After I added JPA (Hibernate), I had a problem that the `@Entity` classes were not found (IllegalArgumentException &quot;Not an entity&quot;). The exception is thrown in class `JpaMetamodelImpl` method `entity(Class&lt;X&gt; cls)`. \r\n\r\nDebugging this method has shown that Hibernate knows about the entity class and uses a class loader of type `AppClassLoader`. The Web app also knows the entity class but uses a class loader of type `ParallelWebAppClassLoader`. This class loader knows the `AppClassLoader` as a parent but `delegate` is set to `false`. Therefore, the entity class exists twice, and both classes are not considered equal. \r\n\r\nSome version information: Java 11, Jersey 2.37, JPA 3.1, Hibernate 6.2.0, Tomcat 8.5.88\r\n\r\nWhen starting Jersey (in my class that extends `ResourceConfig`) I added the following two lines:\r\n\r\n```\r\nParallelWebappClassLoader classloader = (ParallelWebappClassLoader) this.getClass().getClassLoader();\r\nclassloader.setDelegate( true );\r\n```\r\n\r\nNow it works. My question is: Is there any better solution to this problem?","title":"Problem with Java classloaders in Tomcat (embedded) when using JPA","body":"<p>I implemented a Java Web service with Jersey that should run in an embedded Tomcat. After I added JPA (Hibernate), I had a problem that the <code>@Entity</code> classes were not found (IllegalArgumentException &quot;Not an entity&quot;). The exception is thrown in class <code>JpaMetamodelImpl</code> method <code>entity(Class&lt;X&gt; cls)</code>.</p>\n<p>Debugging this method has shown that Hibernate knows about the entity class and uses a class loader of type <code>AppClassLoader</code>. The Web app also knows the entity class but uses a class loader of type <code>ParallelWebAppClassLoader</code>. This class loader knows the <code>AppClassLoader</code> as a parent but <code>delegate</code> is set to <code>false</code>. Therefore, the entity class exists twice, and both classes are not considered equal.</p>\n<p>Some version information: Java 11, Jersey 2.37, JPA 3.1, Hibernate 6.2.0, Tomcat 8.5.88</p>\n<p>When starting Jersey (in my class that extends <code>ResourceConfig</code>) I added the following two lines:</p>\n<pre><code>ParallelWebappClassLoader classloader = (ParallelWebappClassLoader) this.getClass().getClassLoader();\nclassloader.setDelegate( true );\n</code></pre>\n<p>Now it works. My question is: Is there any better solution to this problem?</p>\n"},{"tags":["java","http","jax-rs","http-status-code-404","specifications"],"answers":[{"tags":[],"owner":{"account_id":15219472,"reputation":1287,"user_id":10981777,"display_name":"G. Putnam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683566289,"creation_date":1683566289,"answer_id":76202849,"question_id":76177409,"body_markdown":"Since you&#39;re effectively asking about the developers logic in this decision, the best I can do is quote them:\r\n\r\nFrom [this cached copy of RESTfu&#173;&#173;l Jav&#173;a&#173; wit&#173;h &#173;JAX&#173;-&#173;&#173;RS 2.&#173;0&#173; (Second Edition)](http://webcache.googleusercontent.com/search?q=cache:8fpOYwSk9f8J:https://dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edition/content/en/part1/chapter7/exception_handling.html&amp;hl=en&amp;gl=us&amp;strip=1&amp;vwsrc=0)\r\n\r\n[Full PDF of RESTfu&#173;&#173;l Jav&#173;a&#173; wit&#173;h &#173;JAX&#173;-&#173;&#173;RS 2.&#173;0&#173;](https://raw.githubusercontent.com/AngelSanchezT/books-1/master/rest/RESTful%20Java%20with%20JAX-RS%202.0%2C%202nd%20Edition.pdf) can also be found here.\r\n\r\n&quot;NotFoundException is used when you want to tell the client that the resource it is requesting does not exist. There are also some error conditions where the JAX-RS runtime will throw this exception automatically. If the JAX-RS runtime fails to inject into an @PathParam, @QueryParam, or @MatrixParam, it will throw this exception. Like in the conditions discussed for BadRequestException, this can happen if you are trying to convert to a type the parameter value isnt meant for.&quot;\r\n\r\nLater on in Chapter 7, there&#39;s some further description of the logic:\r\n\r\n&quot;if a client mistypes the request URI, for example, to customers, it will result in the server not finding a JAX-RS resource method that can service the request. In this case, a 404, Not Found, response code will be sent back to the client.&quot;\r\n\r\nEffectively, they&#39;re saying that if the error involves any of the URI related fields, then it counts as a 404, because JAVA will not even be able to create the correct URI, and effectively not be able to find a page.  Whereas, if it involves the @HeaderParam or @CookieParam then its just a poorly formed request, where the URI was found, but the Header or Cookie cannot be handled properly.","title":"Is there any valid reason why JAX RS 3.0 suggests to throw a 404 in an obvious case of bad request?","body":"<p>Since you're effectively asking about the developers logic in this decision, the best I can do is quote them:</p>\n<p>From <a href=\"http://webcache.googleusercontent.com/search?q=cache:8fpOYwSk9f8J:https://dennis-xlc.gitbooks.io/restful-java-with-jax-rs-2-0-2rd-edition/content/en/part1/chapter7/exception_handling.html&amp;hl=en&amp;gl=us&amp;strip=1&amp;vwsrc=0\" rel=\"nofollow noreferrer\">this cached copy of RESTful Java with JAX-RS 2.0 (Second Edition)</a></p>\n<p><a href=\"https://raw.githubusercontent.com/AngelSanchezT/books-1/master/rest/RESTful%20Java%20with%20JAX-RS%202.0%2C%202nd%20Edition.pdf\" rel=\"nofollow noreferrer\">Full PDF of RESTful Java with JAX-RS 2.0</a> can also be found here.</p>\n<p>&quot;NotFoundException is used when you want to tell the client that the resource it is requesting does not exist. There are also some error conditions where the JAX-RS runtime will throw this exception automatically. If the JAX-RS runtime fails to inject into an @PathParam, @QueryParam, or @MatrixParam, it will throw this exception. Like in the conditions discussed for BadRequestException, this can happen if you are trying to convert to a type the parameter value isnt meant for.&quot;</p>\n<p>Later on in Chapter 7, there's some further description of the logic:</p>\n<p>&quot;if a client mistypes the request URI, for example, to customers, it will result in the server not finding a JAX-RS resource method that can service the request. In this case, a 404, Not Found, response code will be sent back to the client.&quot;</p>\n<p>Effectively, they're saying that if the error involves any of the URI related fields, then it counts as a 404, because JAVA will not even be able to create the correct URI, and effectively not be able to find a page.  Whereas, if it involves the @HeaderParam or @CookieParam then its just a poorly formed request, where the URI was found, but the Header or Cookie cannot be handled properly.</p>\n"}],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76202849,"answer_count":1,"score":0,"last_activity_date":1683566289,"creation_date":1683234963,"question_id":76177409,"body_markdown":"The [specification][1] specifies this\r\n\r\n&gt; A WebApplicationException thrown during construction of field or property values using any of the 5 steps listed above is processed directly as described in Exceptions. **Other exceptions thrown during construction of field or property values using any of the 5 steps listed above are treated as client errors: if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity**; if the field or property is annotated with @HeaderParam or @CookieParam then an implementation MUST generate an instance of BadRequestException (400 status) that wraps the thrown exception and no entity. Exceptions MUST be processed as described in Exceptions.\r\n\r\nThis is confusing, even for developers with years of experience. Receiving a 404 when a 400 is expected shouldn&#39;t be a valid behaviour for a server.\r\n\r\nWhy is the specification written in such way ?\r\n\r\nAnd why do they make a difference between url parameters and meta parameters ?\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/restful-ws/3.0/jakarta-restful-ws-spec-3.0.html#resource_field","title":"Is there any valid reason why JAX RS 3.0 suggests to throw a 404 in an obvious case of bad request?","body":"<p>The <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/jakarta-restful-ws-spec-3.0.html#resource_field\" rel=\"nofollow noreferrer\">specification</a> specifies this</p>\n<blockquote>\n<p>A WebApplicationException thrown during construction of field or property values using any of the 5 steps listed above is processed directly as described in Exceptions. <strong>Other exceptions thrown during construction of field or property values using any of the 5 steps listed above are treated as client errors: if the field or property is annotated with @MatrixParam, @QueryParam or @PathParam then an implementation MUST generate an instance of NotFoundException (404 status) that wraps the thrown exception and no entity</strong>; if the field or property is annotated with @HeaderParam or @CookieParam then an implementation MUST generate an instance of BadRequestException (400 status) that wraps the thrown exception and no entity. Exceptions MUST be processed as described in Exceptions.</p>\n</blockquote>\n<p>This is confusing, even for developers with years of experience. Receiving a 404 when a 400 is expected shouldn't be a valid behaviour for a server.</p>\n<p>Why is the specification written in such way ?</p>\n<p>And why do they make a difference between url parameters and meta parameters ?</p>\n"},{"tags":["java","logging","netty","slf4j","logback"],"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":0,"score":15,"last_activity_date":1683565704,"creation_date":1424675525,"question_id":28668560,"body_markdown":"What I want to do is in essence what  https://stackoverflow.com/questions/6073019/how-to-use-mdc-with-thread-pools is asking, but with Netty.\r\n\r\nI want MDC information associated per `Channel`.  What options are there for Netty?  If I need to reset MDC manually, what methods can I hook up to do this from one place?","title":"Using org.slf4j.MDC with Netty channels?","body":"<p>What I want to do is in essence what  <a href=\"https://stackoverflow.com/questions/6073019/how-to-use-mdc-with-thread-pools\">How to use MDC with thread pools?</a> is asking, but with Netty.</p>\n\n<p>I want MDC information associated per <code>Channel</code>.  What options are there for Netty?  If I need to reset MDC manually, what methods can I hook up to do this from one place?</p>\n"},{"tags":["java","thread-safety","jco"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1321030932,"post_id":8087023,"comment_id":9926717,"body_markdown":"The advice I&#39;ve seen is that if the documentatino for some code does not say it is thread-safe, you should assume it is not.","body":"The advice I&#39;ve seen is that if the documentatino for some code does not say it is thread-safe, you should assume it is not."}],"answers":[{"tags":[],"owner":{"account_id":439682,"reputation":94,"user_id":828785,"display_name":"openyourstackoverflow"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1321023601,"creation_date":1321023601,"answer_id":8095764,"question_id":8087023,"body_markdown":"Have you read the documentation of connector?\r\n\r\nhttps://websmp105.sap-ag.de/~sapidb/011000358700000730362009D/SAPJCo_Doku_3.0_EN.pdf\r\n\r\nI don&#39;t understand your question, you try to call a RFC and you have not achieved?\r\n\r\n","title":"Is SAP JCo thread safe?","body":"<p>Have you read the documentation of connector?</p>\n\n<p><a href=\"https://websmp105.sap-ag.de/~sapidb/011000358700000730362009D/SAPJCo_Doku_3.0_EN.pdf\" rel=\"nofollow\">https://websmp105.sap-ag.de/~sapidb/011000358700000730362009D/SAPJCo_Doku_3.0_EN.pdf</a></p>\n\n<p>I don't understand your question, you try to call a RFC and you have not achieved?</p>\n"},{"tags":[],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1321025181,"creation_date":1321024359,"answer_id":8095960,"question_id":8087023,"body_markdown":"I think I have found it finally. http://help.sap.com/saphelp_nwpi711/helpdata/en/48/6437ccbdbc51eee10000000a421937/content.htm\r\n\r\n&gt; CAUTION\r\nIn a multi-thread environment, distribution of objects (for example, JCoTable objects) between different threads must be implemented carefully. Note that it is not possible to make multiple concurrent SAP calls for the same direct connection.\r\n\r\nSo its not thread safe","title":"Is SAP JCo thread safe?","body":"<p>I think I have found it finally. <a href=\"http://help.sap.com/saphelp_nwpi711/helpdata/en/48/6437ccbdbc51eee10000000a421937/content.htm\" rel=\"nofollow\">http://help.sap.com/saphelp_nwpi711/helpdata/en/48/6437ccbdbc51eee10000000a421937/content.htm</a></p>\n\n<blockquote>\n  <p>CAUTION\n  In a multi-thread environment, distribution of objects (for example, JCoTable objects) between different threads must be implemented carefully. Note that it is not possible to make multiple concurrent SAP calls for the same direct connection.</p>\n</blockquote>\n\n<p>So its not thread safe</p>\n"},{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482743299,"creation_date":1482693381,"answer_id":41323848,"question_id":8087023,"body_markdown":"One cannot say for the whole JCo framework that it would be thread-safe or not.\r\nIt depends on the used classes and instances.\r\n\r\nData container instances in JCo like &lt;code&gt;JCoFunction&lt;/code&gt;, &lt;code&gt;JCoTable&lt;/code&gt;, &lt;code&gt;JCoStructure&lt;/code&gt; and &lt;code&gt;JCoRecord&lt;/code&gt;, are not thread-safe - luckily, because usually they are not accessed from different threads simultaneously, so not automatically synchronizing these instances leads to better performance.\r\n\r\nBut classes and static methods are thread-safe in JCo. You do not need to synchronize calls to the &lt;code&gt;JCoDestinationManager&lt;/code&gt;, for example.\r\n\r\nAnd with &lt;code&gt;JCoDestination&lt;/code&gt; it&#39;s a special case. Usually you don&#39;t need to synchronize your calls to this instance because it will internally create and use distinct RFC client connection objects for each session. In JCo&#39;s default implementation every thread is treated as separate session, so you cannot get into trouble with the thread-safety here. Only if the infrastructure environment registers its own &lt;code&gt;SessionReferenceProvider&lt;/code&gt; at the JCo runtime and would assign the same session ID to multiple threads at the same time, then there *might be* thread-safety conflicts for *stateful* RFC calls to the same destination. In this case JCo detects such an error situation and throws a &lt;code&gt;JCoException&lt;/code&gt; with error group &lt;code&gt;JCO_ERROR_CONCURRENT_CALL&lt;/code&gt;.","title":"Is SAP JCo thread safe?","body":"<p>One cannot say for the whole JCo framework that it would be thread-safe or not.\nIt depends on the used classes and instances.</p>\n\n<p>Data container instances in JCo like <code>JCoFunction</code>, <code>JCoTable</code>, <code>JCoStructure</code> and <code>JCoRecord</code>, are not thread-safe - luckily, because usually they are not accessed from different threads simultaneously, so not automatically synchronizing these instances leads to better performance.</p>\n\n<p>But classes and static methods are thread-safe in JCo. You do not need to synchronize calls to the <code>JCoDestinationManager</code>, for example.</p>\n\n<p>And with <code>JCoDestination</code> it's a special case. Usually you don't need to synchronize your calls to this instance because it will internally create and use distinct RFC client connection objects for each session. In JCo's default implementation every thread is treated as separate session, so you cannot get into trouble with the thread-safety here. Only if the infrastructure environment registers its own <code>SessionReferenceProvider</code> at the JCo runtime and would assign the same session ID to multiple threads at the same time, then there <em>might be</em> thread-safety conflicts for <em>stateful</em> RFC calls to the same destination. In this case JCo detects such an error situation and throws a <code>JCoException</code> with error group <code>JCO_ERROR_CONCURRENT_CALL</code>.</p>\n"}],"owner":{"account_id":135067,"reputation":9676,"user_id":337621,"accept_rate":70,"display_name":"G&#225;bor Lipt&#225;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2993,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":8095960,"answer_count":3,"score":5,"last_activity_date":1683565285,"creation_date":1320962792,"question_id":8087023,"body_markdown":"I did not really manage to find proper documentation about this. There are the classes in JCO `com.sap.conn.jco.JCoDestination` and `com.sap.conn.jco.JCoDestinationManager`. My questions about them:\r\n\r\n- are they thread safe?\r\n- if not, are they expensive to create?\r\n","title":"Is SAP JCo thread safe?","body":"<p>I did not really manage to find proper documentation about this. There are the classes in JCO <code>com.sap.conn.jco.JCoDestination</code> and <code>com.sap.conn.jco.JCoDestinationManager</code>. My questions about them:</p>\n<ul>\n<li>are they thread safe?</li>\n<li>if not, are they expensive to create?</li>\n</ul>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1323796031,"creation_date":1323796031,"answer_id":8493188,"question_id":8492893,"body_markdown":"Depending on which JCo version you use (you didn&#39;t state that), you need one or two platform-specific native libraries. They come bundled with the JCo package, along with some installation documentation. If you don&#39;t have this, you&#39;ve got an incomplete and probably illegal package (redistribution is not allowed). Go to http://service.sap.com/connectors and get the valid one.","title":"Connect SAP System","body":"<p>Depending on which JCo version you use (you didn't state that), you need one or two platform-specific native libraries. They come bundled with the JCo package, along with some installation documentation. If you don't have this, you've got an incomplete and probably illegal package (redistribution is not allowed). Go to <a href=\"http://service.sap.com/connectors\" rel=\"nofollow\">http://service.sap.com/connectors</a> and get the valid one.</p>\n"}],"owner":{"account_id":155226,"reputation":1791,"user_id":371730,"accept_rate":59,"display_name":"tt0686"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8493188,"answer_count":1,"score":1,"last_activity_date":1683565245,"creation_date":1323794856,"question_id":8492893,"body_markdown":"I am working in a Java EE project that integrates with SAP system, and I am trying to run a simple standalone Java class that calls a RFC. My snippet of code is \r\n\r\n    JCO.Client mConnection =\r\n        JCO.createClient(&quot;dummy&quot;, // SAP client\r\n    \t\t     &quot;dummy&quot;, // userid\r\n    \t\t     &quot;dummy&quot;, // password\r\n    \t             &quot;dummy&quot;, // language (null for the default language)\r\n    \t             &quot;dummy&quot;, // application server host name\r\n    \t             &quot;dummy&quot;); // system number\r\n\r\nIt throws the following exception\r\n&gt; JCO.classInitialize(): Could not load middleware layer &#39;com.sap.mw.jco.rfc.MiddlewareRFC&#39;\r\n&gt;\r\n&gt; JCO.nativeInit(): Could not initialize dynamic link library sapjcorfc\r\n\r\nThe only library that I have in this moment is `sapjco.jar`, I have seen in some forums that I need this two libraries (`librfc32.dll`, `sapjcorfc.dll`) to be able to run this code in an standalone application.\r\n\r\nIs that right? Where can I get these two libraries? The last one is to put in the same folder than the `sapjco.jar`, is that ok too?\r\n\r\nIf I cannot run this in my local computer I will have to deploy the application every time that I want to test it :(","title":"Connect SAP System","body":"<p>I am working in a Java EE project that integrates with SAP system, and I am trying to run a simple standalone Java class that calls a RFC. My snippet of code is</p>\n<pre><code>JCO.Client mConnection =\n    JCO.createClient(&quot;dummy&quot;, // SAP client\n             &quot;dummy&quot;, // userid\n             &quot;dummy&quot;, // password\n                 &quot;dummy&quot;, // language (null for the default language)\n                 &quot;dummy&quot;, // application server host name\n                 &quot;dummy&quot;); // system number\n</code></pre>\n<p>It throws the following exception</p>\n<blockquote>\n<p>JCO.classInitialize(): Could not load middleware layer 'com.sap.mw.jco.rfc.MiddlewareRFC'</p>\n<p>JCO.nativeInit(): Could not initialize dynamic link library sapjcorfc</p>\n</blockquote>\n<p>The only library that I have in this moment is <code>sapjco.jar</code>, I have seen in some forums that I need this two libraries (<code>librfc32.dll</code>, <code>sapjcorfc.dll</code>) to be able to run this code in an standalone application.</p>\n<p>Is that right? Where can I get these two libraries? The last one is to put in the same folder than the <code>sapjco.jar</code>, is that ok too?</p>\n<p>If I cannot run this in my local computer I will have to deploy the application every time that I want to test it :(</p>\n"},{"tags":["java","android","multithreading","android-activity"],"comments":[{"owner":{"display_name":"user8412632"},"score":0,"creation_date":1517393085,"post_id":37672261,"comment_id":84073828,"body_markdown":"did you find the solution, I am facing the same problem?","body":"did you find the solution, I am facing the same problem?"},{"owner":{"account_id":2008575,"reputation":1252,"user_id":2827591,"accept_rate":84,"display_name":"Achin"},"score":0,"creation_date":1517457364,"post_id":37672261,"comment_id":84106377,"body_markdown":"no , i didn&#39;t find any solution","body":"no , i didn&#39;t find any solution"},{"owner":{"display_name":"user8412632"},"score":0,"creation_date":1517460436,"post_id":37672261,"comment_id":84107111,"body_markdown":"ok let me know if you do and if i find one i will let you know","body":"ok let me know if you do and if i find one i will let you know"},{"owner":{"account_id":4500804,"reputation":2165,"user_id":3659361,"accept_rate":62,"display_name":"May Rest in Peace"},"score":2,"creation_date":1547164901,"post_id":37672261,"comment_id":95108748,"body_markdown":"I know it&#39;s extremely late but are you trying to refer context in onCreate or is any function called from onCreate trying to access Context ? In any case, can you please post your onCreate method ?","body":"I know it&#39;s extremely late but are you trying to refer context in onCreate or is any function called from onCreate trying to access Context ? In any case, can you please post your onCreate method ?"},{"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"score":0,"creation_date":1638030287,"post_id":37672261,"comment_id":123981065,"body_markdown":"please share your full code.","body":"please share your full code."}],"owner":{"account_id":2008575,"reputation":1252,"user_id":2827591,"accept_rate":84,"display_name":"Achin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4355,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":0,"score":14,"last_activity_date":1683565199,"creation_date":1465281860,"question_id":37672261,"body_markdown":"I have created an activity with sms fetching from an android DB. When I run my app on a Lenovo A7010a48 (Android version: 5.1) an error occurs.\r\nIt is working fine on other phones and operating systems.\r\n\r\n    **AccessibilityManager setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\r\n        java.lang.Throwable: setStateLocked\r\n                at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)**\r\n\r\n\r\n     D/AccessibilityManager setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\r\n        java.lang.Throwable: setStateLocked\r\n                at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)\r\n                at android.view.accessibility.AccessibilityManager.tryConnectToServiceLocked(AccessibilityManager.java:636)\r\n                at android.view.accessibility.AccessibilityManager.&lt;init&gt;(AccessibilityManager.java:226)\r\n                at android.view.accessibility.AccessibilityManager.getInstance(AccessibilityManager.java:206)\r\n                at android.view.View.setFlags(View.java:9874)\r\n                at android.view.View.&lt;init&gt;(View.java:4228)\r\n                at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:524)\r\n                at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:215)\r\n                at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:211)\r\n                at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:206)\r\n                at android.support.v7.widget.FitWindowsLinearLayout.&lt;init&gt;(FitWindowsLinearLayout.java:36)\r\n                at java.lang.reflect.Constructor.newInstance(Native Method)\r\n                at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\r\n                at android.view.LayoutInflater.createView(LayoutInflater.java:607)\r\n                at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:482)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\r\n                at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\r\n                at android.support.v7.app.AppCompatDelegateImplV7.createSubDecor(AppCompatDelegateImplV7.java:413)\r\n                at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:309)\r\n                at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:273)\r\n                at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:136)\r\n                at competent.groove.swalok.MainActivity.onCreate(MainActivity.java:116)\r\n                at android.app.Activity.performCreate(Activity.java:6220)\r\n                at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1112)\r\n                at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2513)\r\n                at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2646)\r\n                at android.app.ActivityThread.access$800(ActivityThread.java:182)\r\n                at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1488)\r\n                at android.os.Handler.dispatchMessage(Handler.java:111)\r\n                at android.os.Looper.loop(Looper.java:194)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5763)\r\n                at java.lang.reflect.Method.invoke(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:372)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)","title":"Why does Android: java.lang.Throwable: setStateLocked error occur?","body":"<p>I have created an activity with sms fetching from an android DB. When I run my app on a Lenovo A7010a48 (Android version: 5.1) an error occurs.\nIt is working fine on other phones and operating systems.</p>\n\n<pre><code>**AccessibilityManager setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\n    java.lang.Throwable: setStateLocked\n            at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)**\n\n\n D/AccessibilityManager setStateLocked: wasEnabled = false, mIsEnabled = false, wasTouchExplorationEnabled = false, mIsTouchExplorationEnabled = false, wasHighTextContrastEnabled = false, mIsHighTextContrastEnabled = false\n    java.lang.Throwable: setStateLocked\n            at android.view.accessibility.AccessibilityManager.setStateLocked(AccessibilityManager.java:553)\n            at android.view.accessibility.AccessibilityManager.tryConnectToServiceLocked(AccessibilityManager.java:636)\n            at android.view.accessibility.AccessibilityManager.&lt;init&gt;(AccessibilityManager.java:226)\n            at android.view.accessibility.AccessibilityManager.getInstance(AccessibilityManager.java:206)\n            at android.view.View.setFlags(View.java:9874)\n            at android.view.View.&lt;init&gt;(View.java:4228)\n            at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:524)\n            at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:215)\n            at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:211)\n            at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:206)\n            at android.support.v7.widget.FitWindowsLinearLayout.&lt;init&gt;(FitWindowsLinearLayout.java:36)\n            at java.lang.reflect.Constructor.newInstance(Native Method)\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:288)\n            at android.view.LayoutInflater.createView(LayoutInflater.java:607)\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:743)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:482)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n            at android.support.v7.app.AppCompatDelegateImplV7.createSubDecor(AppCompatDelegateImplV7.java:413)\n            at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:309)\n            at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:273)\n            at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:136)\n            at competent.groove.swalok.MainActivity.onCreate(MainActivity.java:116)\n            at android.app.Activity.performCreate(Activity.java:6220)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1112)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2513)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2646)\n            at android.app.ActivityThread.access$800(ActivityThread.java:182)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1488)\n            at android.os.Handler.dispatchMessage(Handler.java:111)\n            at android.os.Looper.loop(Looper.java:194)\n            at android.app.ActivityThread.main(ActivityThread.java:5763)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n"},{"tags":["java","sapjco3"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1366699565,"post_id":16157145,"comment_id":23097688,"body_markdown":"Could you please specify exactly which version of the JCo you&#39;re using? There are huge API differences between version 2 and 3, maybe that&#39;s why you&#39;re confused by various examples that don&#39;t work.","body":"Could you please specify exactly which version of the JCo you&#39;re using? There are huge API differences between version 2 and 3, maybe that&#39;s why you&#39;re confused by various examples that don&#39;t work."},{"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"score":0,"creation_date":1366725719,"post_id":16157145,"comment_id":23112896,"body_markdown":"@vwegert, I&#39;m using JCo 3.  I presume that because I use the sapjco3.dll and sapjco3.jar.","body":"@vwegert, I&#39;m using JCo 3.  I presume that because I use the sapjco3.dll and sapjco3.jar."}],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1366742875,"creation_date":1366742875,"answer_id":16176937,"question_id":16157145,"body_markdown":"Assuming that you want to iterate over the rows of the table, I&#39;d say you&#39;re using `JCoTable.getStructure()` out of place. As the name suggests, it takes the nth field of the  record that is currently selected and attempts to return it as a structure. This is of course only possible if that individual column is a structured column - if it is a single (atomic) field, then I&#39;d expect this conversion to fail with exactly the error message you&#39;re encountering.","title":"Getting error attempting to Iterate over a JCoTable using java.util.iterator","body":"<p>Assuming that you want to iterate over the rows of the table, I'd say you're using <code>JCoTable.getStructure()</code> out of place. As the name suggests, it takes the nth field of the  record that is currently selected and attempts to return it as a structure. This is of course only possible if that individual column is a structured column - if it is a single (atomic) field, then I'd expect this conversion to fail with exactly the error message you're encountering.</p>\n"}],"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16176937,"answer_count":1,"score":0,"last_activity_date":1683565096,"creation_date":1366666566,"question_id":16157145,"body_markdown":"Am trying to implement some Java patterns (Facade, and Iterator) against JCo objects.  \r\n\r\nHere, I&#39;m trying to create an Iterator over the `JCoTable` much like I would any collection in Java.  Below is my class snippet. In `MyClass` I have an inner class that performs the iteration.\r\n\r\nI&#39;m using the `table.getStructure(...)` methods, but am missing something.  I&#39;ve seen some snippets where they&#39;re explicitly creating a structure using metadata, but honestly, the code is not present in those examples, and I struggle a little there, worrying that I&#39;m trading one complexity for another.\r\n\r\nMy goal is to simplify SAP BAPI calls and table handling for other Java programmers.  This is a refactoring exercise.  My return variables are incompatible in the Iterator.\r\n\r\nThank you in advance.  \r\n\r\nMy class:\r\n\r\n    class MyClass \r\n    ...\r\n    protected JCoTable table;\r\n    ...\r\n    \r\n    private class JCoTableIterator implements Iterator&lt;JCoRecord&gt; {\r\n    \r\n    \tpublic boolean hasNext() {\r\n    \t\treturn table.getRow() &lt; table.getNumRows();\r\n    \t}\r\n    \t@Override\r\n    \tpublic JCoRecord next() {\r\n    \t\treturn table.getStructure(table.getRow() + 1);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void remove() {\r\n    \t\ttable.deleteRow();\r\n    \t}\r\n    }\r\n\r\nMy implementation:\r\n\r\n    Iterator&lt;JCoRecord&gt; it = table.iterator();\r\n    while(it.hasNext()) {\r\n    \tJCoRecord record = it.next(); &lt;&lt;&lt;&lt;&lt; *Exception\r\n    \tlogger.info(record.getString(&quot;WERKS&quot;));\r\n    \t... other field procesing ... \r\n    }  \r\n\r\nBut on the `JCoRecord record = it.next()` line I get the following error.\r\n\r\n&gt; ```\r\n&gt; com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert \r\n&gt;                                 field VBELN of type CHAR to StructureRecord\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:415)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:410)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:2472)\t\r\n&gt; ```\r\n","title":"Getting error attempting to Iterate over a JCoTable using java.util.iterator","body":"<p>Am trying to implement some Java patterns (Facade, and Iterator) against JCo objects.</p>\n<p>Here, I'm trying to create an Iterator over the <code>JCoTable</code> much like I would any collection in Java.  Below is my class snippet. In <code>MyClass</code> I have an inner class that performs the iteration.</p>\n<p>I'm using the <code>table.getStructure(...)</code> methods, but am missing something.  I've seen some snippets where they're explicitly creating a structure using metadata, but honestly, the code is not present in those examples, and I struggle a little there, worrying that I'm trading one complexity for another.</p>\n<p>My goal is to simplify SAP BAPI calls and table handling for other Java programmers.  This is a refactoring exercise.  My return variables are incompatible in the Iterator.</p>\n<p>Thank you in advance.</p>\n<p>My class:</p>\n<pre><code>class MyClass \n...\nprotected JCoTable table;\n...\n\nprivate class JCoTableIterator implements Iterator&lt;JCoRecord&gt; {\n\n    public boolean hasNext() {\n        return table.getRow() &lt; table.getNumRows();\n    }\n    @Override\n    public JCoRecord next() {\n        return table.getStructure(table.getRow() + 1);\n    }\n    @Override\n    public void remove() {\n        table.deleteRow();\n    }\n}\n</code></pre>\n<p>My implementation:</p>\n<pre><code>Iterator&lt;JCoRecord&gt; it = table.iterator();\nwhile(it.hasNext()) {\n    JCoRecord record = it.next(); &lt;&lt;&lt;&lt;&lt; *Exception\n    logger.info(record.getString(&quot;WERKS&quot;));\n    ... other field procesing ... \n}  \n</code></pre>\n<p>But on the <code>JCoRecord record = it.next()</code> line I get the following error.</p>\n<blockquote>\n<pre><code>com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert \n                                field VBELN of type CHAR to StructureRecord\n    at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:415)\n    at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:410)\n    at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:2472)  \n</code></pre>\n</blockquote>\n"},{"tags":["java","android","string","split"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683562554,"post_id":76202279,"comment_id":134382068,"body_markdown":"Something like `List&lt;String&gt; urlEnds = links.stream().map(link -&gt;link.replaceAll(&quot;.*/([^/ ]+)&quot;, &quot;$1&quot;)).collect(Collectors.toList());`","body":"Something like <code>List&lt;String&gt; urlEnds = links.stream().map(link -&gt;link.replaceAll(&quot;.*&#47;([^&#47; ]+)&quot;, &quot;$1&quot;)).collect(Collectors.toList());</code>"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683562926,"post_id":76202279,"comment_id":134382167,"body_markdown":"It doesn&#39;t work, it only returns the last letter of the code.","body":"It doesn&#39;t work, it only returns the last letter of the code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683563431,"post_id":76202279,"comment_id":134382280,"body_markdown":"Then there must be something strange in your `List`. If I add *either* the whole of your sample text *or* the url in it to a `List` I get the output: `[codeToTake]` in my terminal","body":"Then there must be something strange in your <code>List</code>. If I add <i>either</i> the whole of your sample text <i>or</i> the url in it to a <code>List</code> I get the output: <code>[codeToTake]</code> in my terminal"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683564644,"post_id":76202279,"comment_id":134382543,"body_markdown":"I&#39;m trying it on android studio.","body":"I&#39;m trying it on android studio."}],"answers":[{"tags":[],"owner":{"account_id":22372737,"reputation":41,"user_id":16587554,"display_name":"trojanMorse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683564959,"creation_date":1683564959,"answer_id":76202693,"question_id":76202279,"body_markdown":"I&#39;m assuming the last of the string always comes after a /.\r\n\r\n```\r\npublic static String extractLinks(String text) {\r\n        int index  = text.lastIndexOf(&quot;/&quot;);\r\n        String subString = text.substring(index+1);\r\n        System.out.println(subString);\r\n        return subString;\r\n}\r\n\r\n```","title":"Java rewrite function compact and readable which allows you to extract code from long enough text","body":"<p>I'm assuming the last of the string always comes after a /.</p>\n<pre><code>public static String extractLinks(String text) {\n        int index  = text.lastIndexOf(&quot;/&quot;);\n        String subString = text.substring(index+1);\n        System.out.println(subString);\n        return subString;\n}\n\n</code></pre>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76202693,"answer_count":1,"score":1,"last_activity_date":1683564959,"creation_date":1683561603,"question_id":76202279,"body_markdown":"I have the following sample text like:\r\n\r\n`I sent you the link, very long test...... here: https://example.com/d/codeToTake`\r\n\r\nI have to make sure that I get the final code, which would be `codeToTake`.\r\n\r\nI have the following function but I would like it to be more compact and readable:\r\n```java\r\npublic static String extractLinks(String text) {\r\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\r\n        Matcher m = Patterns.WEB_URL.matcher(text);\r\n        while (m.find()) {\r\n            String url = m.group();\r\n            links.add(url);\r\n        }\r\n\r\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\r\n}\r\n```\r\n\r\nCan you help me out?","title":"Java rewrite function compact and readable which allows you to extract code from long enough text","body":"<p>I have the following sample text like:</p>\n<p><code>I sent you the link, very long test...... here: https://example.com/d/codeToTake</code></p>\n<p>I have to make sure that I get the final code, which would be <code>codeToTake</code>.</p>\n<p>I have the following function but I would like it to be more compact and readable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String extractLinks(String text) {\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\n        Matcher m = Patterns.WEB_URL.matcher(text);\n        while (m.find()) {\n            String url = m.group();\n            links.add(url);\n        }\n\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\n}\n</code></pre>\n<p>Can you help me out?</p>\n"},{"tags":["java","servlets","jco"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1367563733,"post_id":16353128,"comment_id":23427685,"body_markdown":"Can this help : http://stackoverflow.com/questions/13643905/exception-while-connecting-sap-through-java","body":"Can this help : <a href=\"http://stackoverflow.com/questions/13643905/exception-while-connecting-sap-through-java\" title=\"exception while connecting sap through java\">stackoverflow.com/questions/13643905/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15754,"reputation":8442,"user_id":33622,"accept_rate":88,"display_name":"fglez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367916587,"creation_date":1367916587,"answer_id":16414920,"question_id":16353128,"body_markdown":"There are several issues in your approach\r\n\r\n 1. It is not recommended to change `java.library.path` programmatically, since the property is cached at the JVM start. See [Setting &quot;java.library.path&quot; programmatically][1] for more details.\r\n\r\n 2. You are overwriting `java.library.path` instead of adding your directory at the end. It&#39;s very likely your application server needs some native libraries of its own.\r\n\r\n 3. `/WEB-INF/lib` is a relative path which your JVM is not going to find as the JVM root directory is different from your app root directory (not to mention if you are deploying a WAR file)\r\n\r\nIn general, you should configure your SAP JCo as a server library, not an application library. The exact procedure depends of your application server.\r\n\r\n  [1]: http://blog.cedarsoft.com/2010/11/setting-java-library-path-programmatically/","title":"Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path","body":"<p>There are several issues in your approach</p>\n\n<ol>\n<li><p>It is not recommended to change <code>java.library.path</code> programmatically, since the property is cached at the JVM start. See <a href=\"http://blog.cedarsoft.com/2010/11/setting-java-library-path-programmatically/\" rel=\"nofollow\">Setting \"java.library.path\" programmatically</a> for more details.</p></li>\n<li><p>You are overwriting <code>java.library.path</code> instead of adding your directory at the end. It's very likely your application server needs some native libraries of its own.</p></li>\n<li><p><code>/WEB-INF/lib</code> is a relative path which your JVM is not going to find as the JVM root directory is different from your app root directory (not to mention if you are deploying a WAR file)</p></li>\n</ol>\n\n<p>In general, you should configure your SAP JCo as a server library, not an application library. The exact procedure depends of your application server.</p>\n"},{"tags":[],"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392883779,"creation_date":1392883779,"answer_id":21901789,"question_id":16353128,"body_markdown":"If you are on Windows like me you can put the **sapjco3.dll** anywhere you want in the file system (except for the Windows **system32** and **sysWOW64** directories, as stated in the sapjco3 documentation) and then add the path to it to your **Path** system variable:\r\n\r\n![sapjco3.dll in Path system variable][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ty4lu.png\r\n\r\nOn Linux you add the path to the **libsapjco3.so** file to the environment variable **LD_LIBRARY_PATH**\r\n\r\nIf you are on JBoss and need to get sapjco3.jar into you project see my answer over here:\r\nhttps://stackoverflow.com/a/21901220/1592796","title":"Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path","body":"<p>If you are on Windows like me you can put the <strong>sapjco3.dll</strong> anywhere you want in the file system (except for the Windows <strong>system32</strong> and <strong>sysWOW64</strong> directories, as stated in the sapjco3 documentation) and then add the path to it to your <strong>Path</strong> system variable:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ty4lu.png\" alt=\"sapjco3.dll in Path system variable\"></p>\n\n<p>On Linux you add the path to the <strong>libsapjco3.so</strong> file to the environment variable <strong>LD_LIBRARY_PATH</strong></p>\n\n<p>If you are on JBoss and need to get sapjco3.jar into you project see my answer over here:\n<a href=\"https://stackoverflow.com/a/21901220/1592796\">https://stackoverflow.com/a/21901220/1592796</a></p>\n"}],"owner":{"account_id":1034596,"reputation":2386,"user_id":1042226,"accept_rate":52,"display_name":"Master Mind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683564947,"creation_date":1367563366,"question_id":16353128,"body_markdown":"In my Java Web application, trying to connect SAP Server. This error is generated:\r\n&gt; Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path\r\n\r\nI have placed the `sapjco3.dll` and `sapjco3.jar` in `WEB-INF/lib/` and also configured in the Java Build Path.\r\n\r\nI have also set the Path in servlet as \t\r\n\r\n    System.setProperty(&quot;java.library.path&quot;, &quot;/WEB-INF/lib&quot;);\r\n\r\nBut also error existing.","title":"Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path","body":"<p>In my Java Web application, trying to connect SAP Server. This error is generated:</p>\n<blockquote>\n<p>Error getting the version of the native layer: java.lang.UnsatisfiedLinkError: no sapjco3 in java.library.path</p>\n</blockquote>\n<p>I have placed the <code>sapjco3.dll</code> and <code>sapjco3.jar</code> in <code>WEB-INF/lib/</code> and also configured in the Java Build Path.</p>\n<p>I have also set the Path in servlet as</p>\n<pre><code>System.setProperty(&quot;java.library.path&quot;, &quot;/WEB-INF/lib&quot;);\n</code></pre>\n<p>But also error existing.</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","openfeign"],"answers":[{"tags":[],"owner":{"account_id":30920,"reputation":997,"user_id":84612,"accept_rate":36,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1600281588,"creation_date":1600281588,"answer_id":63926128,"question_id":63924863,"body_markdown":"Found the answer.\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SortJacksonModule.java\r\n\r\n```java\r\n    return new ObjectMapper()\r\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\r\n        .registerModule(new PageJacksonModule())\r\n        .registerModule(new SortJacksonModule()); // &lt;-- This.  duh.\r\n```","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>Found the answer.</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SortJacksonModule.java\" rel=\"noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/SortJacksonModule.java</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    return new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\n        .registerModule(new PageJacksonModule())\n        .registerModule(new SortJacksonModule()); // &lt;-- This.  duh.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1612961661,"creation_date":1612954779,"answer_id":66135597,"question_id":63924863,"body_markdown":"If you use autoconfigured Feign client you can follow [Spring Cloud OpenFeign docs][1] by turning on corresponding configuration property:\r\n\r\n&gt; You may consider enabling Jackson Modules for the support\r\n&gt; `org.springframework.data.domain.Page` and\r\n&gt; `org.springframework.data.domain.Sort` decoding.\r\n&gt; \r\n&gt;     feign.autoconfiguration.jackson.enabled=true\r\n\r\n\r\n  \r\n\r\n[1]: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#spring-data-support","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>If you use autoconfigured Feign client you can follow <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#spring-data-support\" rel=\"noreferrer\">Spring Cloud OpenFeign docs</a> by turning on corresponding configuration property:</p>\n<blockquote>\n<p>You may consider enabling Jackson Modules for the support\n<code>org.springframework.data.domain.Page</code> and\n<code>org.springframework.data.domain.Sort</code> decoding.</p>\n<pre><code>feign.autoconfiguration.jackson.enabled=true\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656327881,"creation_date":1656327881,"answer_id":72771054,"question_id":63924863,"body_markdown":"try to add :\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-openfeign-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>try to add :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-openfeign-core&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683564016,"creation_date":1683564016,"answer_id":76202563,"question_id":63924863,"body_markdown":"You can get these modules by adding the openfeign-core dependency:\r\n\r\n\timplementation &quot;org.springframework.cloud:spring-cloud-openfeign-core&quot;\r\n\r\nBut this doesn&#39;t work in Spring Boot 3 for the `SortJacksonModule` anymore. \r\n\r\n### For example:\r\n\r\n##### Code (Kotlin)\r\n\r\n    private val mapper = jacksonObjectMapper().registerModules(\r\n        PageJacksonModule(),\r\n        SortJacksonModule(),\r\n        JavaTimeModule(),\r\n    )\r\n\r\n##### Config:\r\n\r\n[![Config Not Found][1]][1]\r\n\r\n##### Throws this exception: \r\n\r\n`java.lang.NoClassDefFoundError: feign/codec/EncodeException\r\n\tat org.springframework.cloud.openfeign.support.SortJacksonModule.setupModule(SortJacksonModule.java:47)`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/acfv2.png\r\n\r\n### Resolution\r\nThe OpenFeign spring team are waiting for votes in order to spend the time to fix this issue. Make sure to vote on the issue here:\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/issues/675","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>You can get these modules by adding the openfeign-core dependency:</p>\n<pre><code>implementation &quot;org.springframework.cloud:spring-cloud-openfeign-core&quot;\n</code></pre>\n<p>But this doesn't work in Spring Boot 3 for the <code>SortJacksonModule</code> anymore.</p>\n<h3>For example:</h3>\n<h5>Code (Kotlin)</h5>\n<pre><code>private val mapper = jacksonObjectMapper().registerModules(\n    PageJacksonModule(),\n    SortJacksonModule(),\n    JavaTimeModule(),\n)\n</code></pre>\n<h5>Config:</h5>\n<p><a href=\"https://i.stack.imgur.com/acfv2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acfv2.png\" alt=\"Config Not Found\" /></a></p>\n<h5>Throws this exception:</h5>\n<p><code>java.lang.NoClassDefFoundError: feign/codec/EncodeException at org.springframework.cloud.openfeign.support.SortJacksonModule.setupModule(SortJacksonModule.java:47)</code></p>\n<h3>Resolution</h3>\n<p>The OpenFeign spring team are waiting for votes in order to spend the time to fix this issue. Make sure to vote on the issue here:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/675\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/675</a></p>\n"}],"owner":{"account_id":30920,"reputation":997,"user_id":84612,"accept_rate":36,"display_name":"Erik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13046,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1683564016,"creation_date":1600275857,"question_id":63924863,"body_markdown":"The problem: A feign client, making an API call to a Spring boot Rest API that returns a `Page&lt;T&gt;` can&#39;t deserialize the `sort` property of that page.\r\n\r\n - Spring Boot: 2.3.3.Release\r\n - Spring Cloud Feign: 2.2.5.RELEASE\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\r\n&gt; construct instance of `org.springframework.data.domain.Sort` (no\r\n&gt; Creators, like default constructor, exist): cannot deserialize from\r\n&gt; Object value (no delegate- or property-based Creator)  at [Source:\r\n&gt; (BufferedReader); line: 1, column: 238] (through reference chain:\r\n&gt; org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])\r\n\r\nNot sure why the registered `PageJacksonModule` doesn&#39;t seem to support that. \r\n\r\nGiven a manually configured Feign client:\r\n\r\n```java\r\npublic class TelematicsConfig {\r\n\r\n  private String host;\r\n\r\n  ObjectMapper provideObjectMapper() {\r\n    return new ObjectMapper()\r\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\r\n        .registerModule(new PageJacksonModule());\r\n  }\r\n\r\n  @Bean\r\n  TelematicsClient provideTelematicsClient() {\r\n    return Feign.builder()\r\n        .client(new OkHttpClient())\r\n        .encoder(new JacksonEncoder(provideObjectMapper()))\r\n        .decoder(new JacksonDecoder(provideObjectMapper()))\r\n        .logger(new Slf4jLogger(TelematicsClient.class))\r\n        .logLevel(Logger.Level.FULL)\r\n        .target(TelematicsClient.class, host);\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe client itself:\r\n\r\n```java\r\npublic interface TelematicsClient {\r\n\r\n  @RequestLine(&quot;GET /api/v1/telematics/devices&quot;)\r\n  Page&lt;TelematicsDevice&gt; getDevices();\r\n\r\n}\r\n```\r\n\r\nWhen invoking this I get:\r\n\r\n```\r\n2020-09-16 12:38:49.707 ERROR 96244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;]) reading GET http://localhost:8081/api/v1/telematics/devices] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1611)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1077)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1320)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\r\n\tat com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:535)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:419)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1310)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3463)\r\n\tat feign.jackson.JacksonDecoder.decode(JacksonDecoder.java:61)\r\n\r\n```\r\n\r\nAny insights into why this isn&#39;t working would be greatly appreciated.\r\n\r\nEdit: The following class seems to hint at support for sorting, no?\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/PageJacksonModule.java#L69\r\n\r\n","title":"Jackson with Feign can&#39;t deserialized Spring&#39;s org.springframework.data.domain.Sort","body":"<p>The problem: A feign client, making an API call to a Spring boot Rest API that returns a <code>Page&lt;T&gt;</code> can't deserialize the <code>sort</code> property of that page.</p>\n<ul>\n<li>Spring Boot: 2.3.3.Release</li>\n<li>Spring Cloud Feign: 2.2.5.RELEASE</li>\n</ul>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\nconstruct instance of <code>org.springframework.data.domain.Sort</code> (no\nCreators, like default constructor, exist): cannot deserialize from\nObject value (no delegate- or property-based Creator)  at [Source:\n(BufferedReader); line: 1, column: 238] (through reference chain:\norg.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])</p>\n</blockquote>\n<p>Not sure why the registered <code>PageJacksonModule</code> doesn't seem to support that.</p>\n<p>Given a manually configured Feign client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TelematicsConfig {\n\n  private String host;\n\n  ObjectMapper provideObjectMapper() {\n    return new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        .setPropertyNamingStrategy(SnakeCaseStrategy.SNAKE_CASE)\n        .registerModule(new PageJacksonModule());\n  }\n\n  @Bean\n  TelematicsClient provideTelematicsClient() {\n    return Feign.builder()\n        .client(new OkHttpClient())\n        .encoder(new JacksonEncoder(provideObjectMapper()))\n        .decoder(new JacksonDecoder(provideObjectMapper()))\n        .logger(new Slf4jLogger(TelematicsClient.class))\n        .logLevel(Logger.Level.FULL)\n        .target(TelematicsClient.class, host);\n  }\n\n}\n</code></pre>\n<p>The client itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface TelematicsClient {\n\n  @RequestLine(&quot;GET /api/v1/telematics/devices&quot;)\n  Page&lt;TelematicsDevice&gt; getDevices();\n\n}\n</code></pre>\n<p>When invoking this I get:</p>\n<pre><code>2020-09-16 12:38:49.707 ERROR 96244 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;]) reading GET http://localhost:8081/api/v1/telematics/devices] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Sort` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (BufferedReader); line: 1, column: 238] (through reference chain: org.springframework.cloud.openfeign.support.PageJacksonModule$SimplePageImpl[&quot;sort&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1611)\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1077)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1320)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\n    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:535)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:419)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1310)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:331)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3463)\n    at feign.jackson.JacksonDecoder.decode(JacksonDecoder.java:61)\n\n</code></pre>\n<p>Any insights into why this isn't working would be greatly appreciated.</p>\n<p>Edit: The following class seems to hint at support for sorting, no?</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/PageJacksonModule.java#L69\" rel=\"noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/PageJacksonModule.java#L69</a></p>\n"},{"tags":["java","spring","spring-boot-actuator"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1683562838,"post_id":76202406,"comment_id":134382150,"body_markdown":"Why would you be defining the actuator endpoint? The library defines it.","body":"Why would you be defining the actuator endpoint? The library defines it."},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683563175,"post_id":76202406,"comment_id":134382220,"body_markdown":"I mean I have to annotate using actuator library itself for Service level I can use &#39;EndPoint&#39; annotation or Controller level I should &#39;RestControllerEndPoint&#39; annotation","body":"I mean I have to annotate using actuator library itself for Service level I can use &#39;EndPoint&#39; annotation or Controller level I should &#39;RestControllerEndPoint&#39; annotation"},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683563263,"post_id":76202406,"comment_id":134382239,"body_markdown":"my question is that I can use both annotation but in which I should prefer controller level annnotation and in what situtation service level annotation. You can rephrase the question if it doesn&#39;t mean what I want to ask","body":"my question is that I can use both annotation but in which I should prefer controller level annnotation and in what situtation service level annotation. You can rephrase the question if it doesn&#39;t mean what I want to ask"},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683563744,"post_id":76202406,"comment_id":134382346,"body_markdown":"One more thing, I meant for custom endpoints not the ones which are defined llibrary already","body":"One more thing, I meant for custom endpoints not the ones which are defined llibrary already"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683563847,"post_id":76202406,"comment_id":134382365,"body_markdown":"Oh, I see, I didn&#39;t realize you meant custom endpoints. I&#39;m not sure but I think the difference is if you want them to be [exposed via JMX or HTTP](https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/production-ready-endpoints.html).","body":"Oh, I see, I didn&#39;t realize you meant custom endpoints. I&#39;m not sure but I think the difference is if you want them to be <a href=\"https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/production-ready-endpoints.html\" rel=\"nofollow noreferrer\">exposed via JMX or HTTP</a>."},{"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"score":0,"creation_date":1683564214,"post_id":76202406,"comment_id":134382440,"body_markdown":"but i think both can be exposed as http but not sure if controller be expose as JMX","body":"but i think both can be exposed as http but not sure if controller be expose as JMX"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683566466,"post_id":76202406,"comment_id":134382939,"body_markdown":"It&#39;s my understanding, from the document I linked to, that an endpoint in a controller is not exposed as JMX.","body":"It&#39;s my understanding, from the document I linked to, that an endpoint in a controller is not exposed as JMX."}],"owner":{"account_id":2269373,"reputation":3064,"user_id":1997212,"accept_rate":29,"display_name":"Yogesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683563699,"creation_date":1683562563,"question_id":76202406,"body_markdown":"I was trying to understand what is the criteria to decide for **custom endpoints** &#39;Should I annotate Actuator custom endpoint on Controller level or Service level. \r\nIn what situation, I annotate at Controller level and in what situation I should annotate at service level method.\r\n","title":"Should Actuator custom endpoint be annotated on Controller level or Service level?","body":"<p>I was trying to understand what is the criteria to decide for <strong>custom endpoints</strong> 'Should I annotate Actuator custom endpoint on Controller level or Service level.\nIn what situation, I annotate at Controller level and in what situation I should annotate at service level method.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1383231664,"creation_date":1383231664,"answer_id":19709934,"question_id":19709897,"body_markdown":"If you use [json validator](http://jsonlint.com/), you can see more detailed error message:\r\n\r\n    Parse error on line 6:\r\n    ...ntry&quot;,            },    {        &quot;id\r\n    ---------------------^\r\n    Expecting &#39;STRING&#39;\r\n\r\nyou have extra comma there after `&quot;xx-xx-xxxx,x - street, x - country&quot;`. If you remove it from both two places, you have valid JSON and Jackson parsing works.","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>If you use <a href=\"http://jsonlint.com/\">json validator</a>, you can see more detailed error message:</p>\n\n<pre><code>Parse error on line 6:\n...ntry\",            },    {        \"id\n---------------------^\nExpecting 'STRING'\n</code></pre>\n\n<p>you have extra comma there after <code>\"xx-xx-xxxx,x - street, x - country\"</code>. If you remove it from both two places, you have valid JSON and Jackson parsing works.</p>\n"},{"tags":[],"owner":{"account_id":1592276,"reputation":6902,"user_id":1475346,"accept_rate":100,"display_name":"Martin Seeler"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1383231743,"creation_date":1383231743,"answer_id":19709968,"question_id":19709897,"body_markdown":"It&#39;s because your last entries, there is an `,` after your last value. Thats why jackson expects another field.","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>It's because your last entries, there is an <code>,</code> after your last value. Thats why jackson expects another field.</p>\n"},{"tags":[],"owner":{"account_id":1195103,"reputation":166,"user_id":1167010,"display_name":"madalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683563431,"creation_date":1683563431,"answer_id":76202496,"question_id":19709897,"body_markdown":"You can enable ALLOW_TRAILING_COMMA (allowing a comma after the last value in an object or array), and then it parses it correctly, not having to modify the json and remove the comma:\r\n\r\n    jsonFactory.configure(JsonReadFeature.ALLOW_TRAILING_COMMA.mappedFeature(), true)","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>You can enable ALLOW_TRAILING_COMMA (allowing a comma after the last value in an object or array), and then it parses it correctly, not having to modify the json and remove the comma:</p>\n<pre><code>jsonFactory.configure(JsonReadFeature.ALLOW_TRAILING_COMMA.mappedFeature(), true)\n</code></pre>\n"}],"owner":{"account_id":2448376,"reputation":1387,"user_id":2135191,"accept_rate":43,"display_name":"Rollyng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66999,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":19709934,"answer_count":3,"score":30,"last_activity_date":1683563431,"creation_date":1383231579,"question_id":19709897,"body_markdown":"Hey i got an issue based on deserialization with jackson, here what i&#39;ve tried and the error i got. \r\n\r\n**ERROR** : com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;}&#39; (code 125)): was expecting double-quote to start field name\r\n\r\n**Java Code**\r\n\r\n    List&lt;Contact&gt; ds = mapper.readValue(data, mapper.getTypeFactory().constructCollectionType(List.class, Contact.class));\r\n\r\n     //OR this one\r\n\r\n    List&lt;Contact&gt; ds = mapper.readValue(data, new TypeReference&lt;List&lt;Contact&gt;&gt;() {});\r\n\r\n\r\n*My JSON*\r\n\r\n    [\t\r\n\t\t{\r\n\t        &quot;id&quot;: &quot;200&quot;,\r\n\t        &quot;name&quot;: &quot;Alexia Milano&quot;,\r\n\t        &quot;email&quot;: &quot;minalo@gmail.com&quot;,\r\n\t        &quot;prenom&quot;: &quot;xx-xx-xxxx,x - street, x - country&quot;,\r\n\r\n\t    }, {\r\n\t        &quot;id&quot;: &quot;201&quot;,\r\n\t        &quot;name&quot;: &quot;Johnny Depp&quot;,\r\n\t        &quot;email&quot;: &quot;johnny_depp@gmail.com&quot;,\r\n\t        &quot;prenom&quot;: &quot;xx-xx-xxxx,x - street, x - country&quot;,\r\n\r\n\t    }\r\n    ]","title":"Jackson Error Unexpected character (&#39;}&#39; (code 125))","body":"<p>Hey i got an issue based on deserialization with jackson, here what i've tried and the error i got. </p>\n\n<p><strong>ERROR</strong> : com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name</p>\n\n<p><strong>Java Code</strong></p>\n\n<pre><code>List&lt;Contact&gt; ds = mapper.readValue(data, mapper.getTypeFactory().constructCollectionType(List.class, Contact.class));\n\n //OR this one\n\nList&lt;Contact&gt; ds = mapper.readValue(data, new TypeReference&lt;List&lt;Contact&gt;&gt;() {});\n</code></pre>\n\n<p><em>My JSON</em></p>\n\n<pre><code>[   \n    {\n        \"id\": \"200\",\n        \"name\": \"Alexia Milano\",\n        \"email\": \"minalo@gmail.com\",\n        \"prenom\": \"xx-xx-xxxx,x - street, x - country\",\n\n    }, {\n        \"id\": \"201\",\n        \"name\": \"Johnny Depp\",\n        \"email\": \"johnny_depp@gmail.com\",\n        \"prenom\": \"xx-xx-xxxx,x - street, x - country\",\n\n    }\n]\n</code></pre>\n"},{"tags":["java","eclipse","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1682066203,"post_id":76069537,"comment_id":134160416,"body_markdown":"[tag:jfreechart] v1.5.4 is current; more [here](https://stackoverflow.com/a/69653678/230513).","body":"<a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a> v1.5.4 is current; more <a href=\"https://stackoverflow.com/a/69653678/230513\">here</a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1682076071,"post_id":76069537,"comment_id":134162506,"body_markdown":"If you have a `module-info.java` file, delete it (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules) and move the other code into packages. If this does not help, in the _Package Explorer_ expand the `jfreechart-1.0.19.jar` node to show whether there is a `org.jfree.chart` package.","body":"If you have a <code>module-info.java</code> file, delete it (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a> and move the other code into packages. If this does not help, in the <i>Package Explorer</i> expand the <code>jfreechart-1.0.19.jar</code> node to show whether there is a <code>org.jfree.chart</code> package."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1682104601,"post_id":76069537,"comment_id":134168787,"body_markdown":"Aside: For version 1.0.19, you only need `jfreechart` and `jcommon`, e.g. `java -cp jfreechart-1.0.19.jar:jcommon-1.0.23.jar org.jfree.chart.demo.BarChartDemo1`.","body":"Aside: For version 1.0.19, you only need <code>jfreechart</code> and <code>jcommon</code>, e.g. <code>java -cp jfreechart-1.0.19.jar:jcommon-1.0.23.jar org.jfree.chart.demo.BarChartDemo1</code>."}],"owner":{"account_id":15117434,"reputation":1,"user_id":10909292,"display_name":"Satish Varma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683563003,"answer_count":0,"score":0,"last_activity_date":1683563248,"creation_date":1682045212,"question_id":76069537,"body_markdown":"I am trying to use jfreechart - release jfreechart-1.0-2.19 available on the website https://www.jfree.org/jfreechart/download.html\r\n\r\nIDE: Eclipse on Mac\r\n\r\nRegular java project.\r\n\r\nThe import fails for pretty much everything in the jar files I tried to add from jfree library.\r\n\r\n[![Eclipse - jfreechart import failure](https://i.stack.imgur.com/z1Nwf.png)](https://i.stack.imgur.com/z1Nwf.png)\r\n\r\nAdded the jar files available under jfreechart-1.0-2.19-&gt;lib folder to the project on Eclipse with following steps:\r\n\r\nRight Click on Project-&gt; BuildPath-&gt; Configure Build Path -&gt; Libraries -&gt; Add External Jars \r\nand added all files in the library folder mentioned above.\r\n\r\nNot sure what else can be done and I am unable to resolve.","title":"Not able to import the classes with jar file for jfreechart","body":"<p>I am trying to use jfreechart - release jfreechart-1.0-2.19 available on the website <a href=\"https://www.jfree.org/jfreechart/download.html\" rel=\"nofollow noreferrer\">https://www.jfree.org/jfreechart/download.html</a></p>\n<p>IDE: Eclipse on Mac</p>\n<p>Regular java project.</p>\n<p>The import fails for pretty much everything in the jar files I tried to add from jfree library.</p>\n<p><a href=\"https://i.stack.imgur.com/z1Nwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z1Nwf.png\" alt=\"Eclipse - jfreechart import failure\" /></a></p>\n<p>Added the jar files available under jfreechart-1.0-2.19-&gt;lib folder to the project on Eclipse with following steps:</p>\n<p>Right Click on Project-&gt; BuildPath-&gt; Configure Build Path -&gt; Libraries -&gt; Add External Jars\nand added all files in the library folder mentioned above.</p>\n<p>Not sure what else can be done and I am unable to resolve.</p>\n"},{"tags":["java","struts2","pattern-matching","wildcard-mapping"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1415124579,"post_id":26741967,"comment_id":42069795,"body_markdown":"See http://stackoverflow.com/q/26235071/1700321.","body":"See <a href=\"http://stackoverflow.com/q/26235071/1700321\">stackoverflow.com/q/26235071/1700321</a>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1415128203,"post_id":26741967,"comment_id":42071803,"body_markdown":"What a pattern matcher is configured?","body":"What a pattern matcher is configured?"},{"owner":{"account_id":3591616,"reputation":323,"user_id":2997534,"accept_rate":40,"display_name":"user2997534"},"score":0,"creation_date":1415129994,"post_id":26741967,"comment_id":42072803,"body_markdown":"in my struts.xml `&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot; /&gt;\n\t&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot; /&gt;`. sorry @RomanC &quot;/partner/*/*&quot; this pattern?","body":"in my struts.xml <code>&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot; &#47;&gt; \t&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot; &#47;&gt;</code>. sorry @RomanC &quot;/partner/*/*&quot; this pattern?"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683563158,"creation_date":1415145754,"answer_id":26747410,"question_id":26741967,"body_markdown":"Try `&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;` the only viable matcher for the constants above. This is usually used with advanced wildcards mode, explained [here][1]. \r\n\r\n&gt;Advanced Wildcards\r\n&gt;From 2.1.9+ regular expressions can be defined defined in the action name. To use this form of wild card, the following constants must be set:\r\n```xml\r\n&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\r\n&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\r\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot; /&gt;\r\n```\r\nThe URL splitted into namespace `/` and action name `partner/partnerName`. The last matches a pattern compiled from the name in the action config using a wildcard mapper, which is a default mapper.\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/wildcard-mappings#advanced-wildcards","title":"Wrong URL match in action mapping","body":"<p>Try <code>&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;</code> the only viable matcher for the constants above. This is usually used with advanced wildcards mode, explained <a href=\"https://struts.apache.org/core-developers/wildcard-mappings#advanced-wildcards\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Advanced Wildcards\nFrom 2.1.9+ regular expressions can be defined defined in the action name. To use this form of wild card, the following constants must be set:</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\n&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot; /&gt;\n</code></pre>\n<p>The URL splitted into namespace <code>/</code> and action name <code>partner/partnerName</code>. The last matches a pattern compiled from the name in the action config using a wildcard mapper, which is a default mapper.</p>\n"}],"owner":{"account_id":3591616,"reputation":323,"user_id":2997534,"accept_rate":40,"display_name":"user2997534"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26747410,"answer_count":1,"score":1,"last_activity_date":1683563158,"creation_date":1415124297,"question_id":26741967,"body_markdown":"&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;/partner/*/*&quot; class=&quot;webStoreAction&quot;&gt;\r\n\t    &lt;param name=&quot;saveUrl&quot;&gt;true&lt;/param&gt;\r\n\t    &lt;param name=&quot;homeName&quot;&gt;HomePartner&lt;/param&gt;\r\n        &lt;param name=&quot;partner&quot;&gt;{1}&lt;/param&gt;\r\n\t\t&lt;param name=&quot;partnerId&quot;&gt;{2}&lt;/param&gt;\r\n\t\t&lt;param name=&quot;homeFromMenu&quot;&gt;false&lt;/param&gt;\r\n\t\t&lt;result name=&quot;success&quot; type=&quot;jsf&quot;&gt;\r\n\t\t\t/WEB-INF/pages/load.xhtml\r\n\t\t&lt;/result&gt;\r\n\t&lt;/action&gt;\r\n\r\nWhy `localhost:8080/partner/partnerName` matches with this action?","title":"Wrong URL match in action mapping","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"/partner/*/*\" class=\"webStoreAction\"&gt;\n    &lt;param name=\"saveUrl\"&gt;true&lt;/param&gt;\n    &lt;param name=\"homeName\"&gt;HomePartner&lt;/param&gt;\n    &lt;param name=\"partner\"&gt;{1}&lt;/param&gt;\n    &lt;param name=\"partnerId\"&gt;{2}&lt;/param&gt;\n    &lt;param name=\"homeFromMenu\"&gt;false&lt;/param&gt;\n    &lt;result name=\"success\" type=\"jsf\"&gt;\n        /WEB-INF/pages/load.xhtml\n    &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Why <code>localhost:8080/partner/partnerName</code> matches with this action?</p>\n"},{"tags":["java","android","android-intent","shared","url-scheme"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683556551,"creation_date":1683556551,"answer_id":76201624,"question_id":76201491,"body_markdown":"you can&#39;t place app widget on home screen programmatically in any way, user must take some system action to place it, e.g. pick from app launcher menu and drag to home\r\n\r\nbut starting Android 8 / API 26 there is a new method [`requestPinAppWidget`](https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)) - so pass your data/link do dedicated `Activity` and use linked method to force system to show add-app-widget-dialog. some example, including passing data in `Bundle`, in [HERE](https://stackoverflow.com/questions/22829647/programmatically-add-the-widget-to-home-screen-in-android)","title":"Android share text/plain to be able to use in the widget","body":"<p>you can't place app widget on home screen programmatically in any way, user must take some system action to place it, e.g. pick from app launcher menu and drag to home</p>\n<p>but starting Android 8 / API 26 there is a new method <a href=\"https://developer.android.com/reference/android/appwidget/AppWidgetManager#requestPinAppWidget(android.content.ComponentName,%20android.os.Bundle,%20android.app.PendingIntent)\" rel=\"nofollow noreferrer\"><code>requestPinAppWidget</code></a> - so pass your data/link do dedicated <code>Activity</code> and use linked method to force system to show add-app-widget-dialog. some example, including passing data in <code>Bundle</code>, in <a href=\"https://stackoverflow.com/questions/22829647/programmatically-add-the-widget-to-home-screen-in-android\">HERE</a></p>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683562571,"creation_date":1683555565,"question_id":76201491,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O4OaZ.png\r\n\r\nI need to share a text/plain, between an external app and my app and use this shared text as url for the widget I need to insert, see example image.\r\n\r\nSo every widget must have instance which depends on this text.\r\n\r\nHow can I make sure that when the share is clicked and then on the specific app, the widget is automatically inserted on the home screen.\r\n\r\nCan you give me a hand?\r\n\r\nManifest:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Test&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.MyWidget&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.appwidget.provider&quot;\r\n                android:resource=&quot;@xml/widget_info&quot; /&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.WidgetService&quot;\r\n            android:enabled=&quot;true&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nAlarmHandler:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\n\r\nimport java.util.Calendar;\r\n\r\npublic class AlarmHandler {\r\n\r\n    private final Context context;\r\n\r\n    public AlarmHandler(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public void setAlarmManager() {\r\n        Intent intent = new Intent(context, WidgetService.class);\r\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\r\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\r\n\r\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n\r\n        //get current time and add 1 hour\r\n        Calendar c = Calendar.getInstance();\r\n        long l = c.getTimeInMillis() + 10000;//1000*60*60=3600000\r\n\r\n        //set the alarm for 10 seconds in the future\r\n        if (am != null) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                am.setAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, l, sender);\r\n            } else {\r\n                am.set(AlarmManager.RTC_WAKEUP, l, sender);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void cancelAlarmManager() {\r\n        Intent intent = new Intent(context, WidgetService.class);\r\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\r\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\r\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        if (am != null) {\r\n            am.cancel(sender);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWakeLocker:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.content.Context;\r\nimport android.os.PowerManager;\r\n\r\npublic abstract class WakeLocker {\r\n\r\n    private static PowerManager.WakeLock wakeLock;\r\n\r\n    //wake the device\r\n    public static void acquire(Context context) {\r\n        if (wakeLock != null) {\r\n            wakeLock.release();\r\n        }\r\n\r\n        PowerManager powerManager = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\r\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK |\r\n                PowerManager.ACQUIRE_CAUSES_WAKEUP |\r\n                PowerManager.ON_AFTER_RELEASE, &quot;WIDGET: Wake lock acquired!&quot;);\r\n        wakeLock.acquire(2000);\r\n    }\r\n\r\n    public static void release() {\r\n        if (wakeLock != null) {\r\n            wakeLock.release();\r\n        }\r\n        wakeLock = null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMainActivity:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.content.ComponentName;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Patterns;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.regex.Matcher;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if (&quot;text/plain&quot;.equals(type)) {\r\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n                String url = extractLinks(sharedText);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    AppWidgetManager mAppWidgetManager = getSystemService(AppWidgetManager.class);\r\n\r\n                    ComponentName myProvider = new ComponentName(MainActivity.this, MyWidget.class);\r\n\r\n                    Bundle b = new Bundle();\r\n                    b.putString(&quot;url&quot;, url);\r\n                    if (mAppWidgetManager.isRequestPinAppWidgetSupported()) {\r\n                        Intent pinnedWidgetCallbackIntent = new Intent(MainActivity.this, MyWidget.class);\r\n                        PendingIntent successCallback = PendingIntent.getBroadcast(MainActivity.this, 0,\r\n                                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n                        mAppWidgetManager.requestPinAppWidget(myProvider, b, successCallback);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static String extractLinks(String text) {\r\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\r\n        Matcher m = Patterns.WEB_URL.matcher(text);\r\n        while (m.find()) {\r\n            String url = m.group();\r\n            links.add(url);\r\n        }\r\n\r\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\r\n    }\r\n}\r\n```\r\n\r\nWidgetService: \r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.util.Log;\r\n\r\npublic class WidgetService extends BroadcastReceiver {\r\n    String values = &quot;Test&quot;;\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        //wake the device\r\n        WakeLocker.acquire(context);\r\n\r\n        //increase the number in the widget\r\n        SharedPreferences preferences = context.getSharedPreferences(&quot;PREFS&quot;, 0);\r\n        //int value = preferences.getInt(&quot;value&quot;, 1);\r\n\r\n        //String url = intent.getStringExtra(&quot;url&quot;);\r\n        //Log.d(&quot;WidgetService&quot;, url.toString());\r\n        Log.d(&quot;WidgetService&quot;, values);\r\n\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        editor.putString(&quot;value&quot;, values);\r\n        editor.apply();\r\n\r\n        //force widget update\r\n        Intent widgetIntent = new Intent(context, MyWidget.class);\r\n        widgetIntent.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);\r\n        int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, MyWidget.class));\r\n        widgetIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, ids);\r\n        context.sendBroadcast(widgetIntent);\r\n\r\n        Log.d(&quot;WIDGET&quot;, &quot;Widget set to update!&quot;);\r\n\r\n        //go back to sleep\r\n        WakeLocker.release();\r\n    }\r\n}\r\n```\r\n\r\nMyWidget:\r\n```java\r\npackage com.myapp.test;\r\n\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.appwidget.AppWidgetProvider;\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.widget.RemoteViews;\r\n\r\n\r\npublic class MyWidget extends AppWidgetProvider {\r\n    String values = &quot;MyWidget&quot;;\r\n\r\n    void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_design);\r\n\r\n        Log.d(&quot;MyWidget3&quot;, values);\r\n\r\n        //set the value in the textview\r\n        views.setTextViewText(R.id.text, values);\r\n\r\n        //update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n\r\n        //reschedule the widget refresh\r\n        AlarmHandler alarmHandler = new AlarmHandler(context);\r\n        alarmHandler.cancelAlarmManager();\r\n        alarmHandler.setAlarmManager();\r\n\r\n        Log.d(&quot;WIDGET&quot;, &quot;Widget updated!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        for (int appWidgetId: appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        //stop updating the widget\r\n        AlarmHandler alarmHandler = new AlarmHandler(context);\r\n        alarmHandler.cancelAlarmManager();\r\n\r\n        Log.d(&quot;WIDGET&quot;, &quot;Widget removed!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nEdits:\r\n\r\nI&#39;ve added all the classes I&#39;m using that come into play, I&#39;ve managed to get the widget to be added when text is shared.\r\n\r\nBut I was unable to retrieve the text on the widget side.\r\n\r\nCan you give me a hand?","title":"Android share text/plain to be able to use in the widget","body":"<p><a href=\"https://i.stack.imgur.com/O4OaZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O4OaZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to share a text/plain, between an external app and my app and use this shared text as url for the widget I need to insert, see example image.</p>\n<p>So every widget must have instance which depends on this text.</p>\n<p>How can I make sure that when the share is clicked and then on the specific app, the widget is automatically inserted on the home screen.</p>\n<p>Can you give me a hand?</p>\n<p>Manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Test&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.MyWidget&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.appwidget.provider&quot;\n                android:resource=&quot;@xml/widget_info&quot; /&gt;\n        &lt;/receiver&gt;\n\n        &lt;receiver\n            android:name=&quot;.WidgetService&quot;\n            android:enabled=&quot;true&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>AlarmHandler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\n\nimport java.util.Calendar;\n\npublic class AlarmHandler {\n\n    private final Context context;\n\n    public AlarmHandler(Context context) {\n        this.context = context;\n    }\n\n    public void setAlarmManager() {\n        Intent intent = new Intent(context, WidgetService.class);\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\n\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n\n        //get current time and add 1 hour\n        Calendar c = Calendar.getInstance();\n        long l = c.getTimeInMillis() + 10000;//1000*60*60=3600000\n\n        //set the alarm for 10 seconds in the future\n        if (am != null) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                am.setAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, l, sender);\n            } else {\n                am.set(AlarmManager.RTC_WAKEUP, l, sender);\n            }\n        }\n    }\n\n    public void cancelAlarmManager() {\n        Intent intent = new Intent(context, WidgetService.class);\n        int FlagPendingIntent = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M ? PendingIntent.FLAG_IMMUTABLE : 0;\n        PendingIntent sender = PendingIntent.getBroadcast(context, 2, intent, FlagPendingIntent);\n        AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n        if (am != null) {\n            am.cancel(sender);\n        }\n    }\n}\n</code></pre>\n<p>WakeLocker:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.content.Context;\nimport android.os.PowerManager;\n\npublic abstract class WakeLocker {\n\n    private static PowerManager.WakeLock wakeLock;\n\n    //wake the device\n    public static void acquire(Context context) {\n        if (wakeLock != null) {\n            wakeLock.release();\n        }\n\n        PowerManager powerManager = (PowerManager) context.getSystemService(Context.POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK |\n                PowerManager.ACQUIRE_CAUSES_WAKEUP |\n                PowerManager.ON_AFTER_RELEASE, &quot;WIDGET: Wake lock acquired!&quot;);\n        wakeLock.acquire(2000);\n    }\n\n    public static void release() {\n        if (wakeLock != null) {\n            wakeLock.release();\n        }\n        wakeLock = null;\n    }\n\n}\n</code></pre>\n<p>MainActivity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.appwidget.AppWidgetManager;\nimport android.content.ComponentName;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Patterns;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.regex.Matcher;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Intent intent = getIntent();\n        String action = intent.getAction();\n        String type = intent.getType();\n\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n            if (&quot;text/plain&quot;.equals(type)) {\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n                String url = extractLinks(sharedText);\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    AppWidgetManager mAppWidgetManager = getSystemService(AppWidgetManager.class);\n\n                    ComponentName myProvider = new ComponentName(MainActivity.this, MyWidget.class);\n\n                    Bundle b = new Bundle();\n                    b.putString(&quot;url&quot;, url);\n                    if (mAppWidgetManager.isRequestPinAppWidgetSupported()) {\n                        Intent pinnedWidgetCallbackIntent = new Intent(MainActivity.this, MyWidget.class);\n                        PendingIntent successCallback = PendingIntent.getBroadcast(MainActivity.this, 0,\n                                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE);\n\n                        mAppWidgetManager.requestPinAppWidget(myProvider, b, successCallback);\n                    }\n                }\n            }\n        }\n    }\n\n    public static String extractLinks(String text) {\n        List&lt;String&gt; links = new ArrayList&lt;String&gt;();\n        Matcher m = Patterns.WEB_URL.matcher(text);\n        while (m.find()) {\n            String url = m.group();\n            links.add(url);\n        }\n\n        return links.toArray(new String[links.size()])[0].split(&quot;/&quot;)[4];\n    }\n}\n</code></pre>\n<p>WidgetService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.appwidget.AppWidgetManager;\nimport android.content.BroadcastReceiver;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.util.Log;\n\npublic class WidgetService extends BroadcastReceiver {\n    String values = &quot;Test&quot;;\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        //wake the device\n        WakeLocker.acquire(context);\n\n        //increase the number in the widget\n        SharedPreferences preferences = context.getSharedPreferences(&quot;PREFS&quot;, 0);\n        //int value = preferences.getInt(&quot;value&quot;, 1);\n\n        //String url = intent.getStringExtra(&quot;url&quot;);\n        //Log.d(&quot;WidgetService&quot;, url.toString());\n        Log.d(&quot;WidgetService&quot;, values);\n\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putString(&quot;value&quot;, values);\n        editor.apply();\n\n        //force widget update\n        Intent widgetIntent = new Intent(context, MyWidget.class);\n        widgetIntent.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);\n        int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, MyWidget.class));\n        widgetIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, ids);\n        context.sendBroadcast(widgetIntent);\n\n        Log.d(&quot;WIDGET&quot;, &quot;Widget set to update!&quot;);\n\n        //go back to sleep\n        WakeLocker.release();\n    }\n}\n</code></pre>\n<p>MyWidget:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.test;\n\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.Context;\nimport android.util.Log;\nimport android.widget.RemoteViews;\n\n\npublic class MyWidget extends AppWidgetProvider {\n    String values = &quot;MyWidget&quot;;\n\n    void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_design);\n\n        Log.d(&quot;MyWidget3&quot;, values);\n\n        //set the value in the textview\n        views.setTextViewText(R.id.text, values);\n\n        //update the widget\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n\n        //reschedule the widget refresh\n        AlarmHandler alarmHandler = new AlarmHandler(context);\n        alarmHandler.cancelAlarmManager();\n        alarmHandler.setAlarmManager();\n\n        Log.d(&quot;WIDGET&quot;, &quot;Widget updated!&quot;);\n    }\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        for (int appWidgetId: appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId);\n        }\n    }\n\n    @Override\n    public void onDisabled(Context context) {\n        //stop updating the widget\n        AlarmHandler alarmHandler = new AlarmHandler(context);\n        alarmHandler.cancelAlarmManager();\n\n        Log.d(&quot;WIDGET&quot;, &quot;Widget removed!&quot;);\n    }\n}\n</code></pre>\n<p>Edits:</p>\n<p>I've added all the classes I'm using that come into play, I've managed to get the widget to be added when text is shared.</p>\n<p>But I was unable to retrieve the text on the widget side.</p>\n<p>Can you give me a hand?</p>\n"},{"tags":["java","ssl","permissions","rmi","truststore"],"answers":[{"tags":[],"owner":{"account_id":28205517,"reputation":1,"user_id":21558667,"display_name":"SophieW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683562542,"creation_date":1683562542,"answer_id":76202405,"question_id":76183714,"body_markdown":"Found the solution!  I need to sign the jar files to enable the JVM to access the property values.","title":"AccessControlException on (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;) from DGCClient.java","body":"<p>Found the solution!  I need to sign the jar files to enable the JVM to access the property values.</p>\n"}],"owner":{"account_id":28205517,"reputation":1,"user_id":21558667,"display_name":"SophieW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683562542,"creation_date":1683300075,"question_id":76183714,"body_markdown":"Thank you if you can point me to a resolution.  I am using JRE 8.\r\n\r\nAfter the server and client have successfully performed handshake and connection, and while no I/O stream is present, an exception occurs from the line where trustStore is set in System property below:\r\n\r\n```\r\n    public class CustomClientSocketFactory implements RMIClientSocketFactory, Serializable {\r\n\t@Override\r\n\tpublic Socket createSocket(String host, int port) throws IOException {\r\n\t\t\r\n\t\tSSLSocket socket = null;\r\n\t\ttry {\r\n\t\t\tFile tsFile = new File(&quot;truststore.pfx&quot;);\r\n\t\t\t\r\n\t\t\tFileInputStream is = AccessController.doPrivileged(new PrivilegedAction&lt;FileInputStream&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileInputStream run() {\r\n\t\t\t\t\tFileInputStream fs = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tfs = new FileInputStream(tsFile);\r\n\t\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Expected file unfound: &quot; + truststore + &quot;; &quot; + e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn fs;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n\t\t\tks.load(is, phrase.toCharArray());\r\n\t\t\t\r\n\t\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttmf.init(ks);\r\n\t\t\t\r\n\t\t\tSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tcontext.init(null, tmf.getTrustManagers(), new SecureRandom());\r\n\t\t\t\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.pfx&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, phrase);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;PKCS12&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\tSSLSocketFactory socketFactory = context.getSocketFactory();\r\n\t\t\tsocket = (SSLSocket) socketFactory.createSocket(host, port);\r\n\t\t\tsocket.setEnabledProtocols(new String[] {&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;});\r\n\t\t\tsocket.setEnabledCipherSuites(socket.getSupportedCipherSuites());\r\n\t    } catch (Throwable t) {\r\n\t    \tthrow new IOException(t.getMessage(), t);\r\n\t\t}\r\n\t\t\r\n\t\treturn socket;\r\n\t}\r\n    }\r\n```\r\n\r\nThis is the stacktrace:\r\n\r\n```\r\n    java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:886)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1294)\r\n    \tat java.lang.System.getProperty(System.java:733)\r\n\t...\r\n\tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\r\n\tat sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\r\n\tat sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\r\n\tat sun.rmi.server.UnicastRef.newCall(UnicastRef.java:343)\r\n\tat sun.rmi.transport.DGCImpl_Stub.clean(DGCImpl_Stub.java:74)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry.makeCleanCalls(DGCClient.java:700)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry.access$1700(DGCClient.java:192)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:610)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:603)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread.run(DGCClient.java:603)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\n\r\nWhat am I missing?  Thank you again.\r\n\r\nThe caller (from a window service using JavaService exe) has Security Manager set as well as pointing to a policy file containing these settings:\r\n```\r\ngrant {\r\n    permission java.security.AllPermission;         \r\n    permission java.net.SocketPermission &quot;localhost:1024-&quot;,&quot;connect,accept&quot;;         \r\n    permission java.util.PropertyPermission &quot;javax.net.ssl.trustStore&quot;,&quot;read&quot;;\r\n};\r\n\r\n```","title":"AccessControlException on (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;) from DGCClient.java","body":"<p>Thank you if you can point me to a resolution.  I am using JRE 8.</p>\n<p>After the server and client have successfully performed handshake and connection, and while no I/O stream is present, an exception occurs from the line where trustStore is set in System property below:</p>\n<pre><code>    public class CustomClientSocketFactory implements RMIClientSocketFactory, Serializable {\n    @Override\n    public Socket createSocket(String host, int port) throws IOException {\n        \n        SSLSocket socket = null;\n        try {\n            File tsFile = new File(&quot;truststore.pfx&quot;);\n            \n            FileInputStream is = AccessController.doPrivileged(new PrivilegedAction&lt;FileInputStream&gt;() {\n                @Override\n                public FileInputStream run() {\n                    FileInputStream fs = null;\n                    try {\n                        fs = new FileInputStream(tsFile);\n                    } catch (FileNotFoundException e) {\n                        System.out.println(&quot;Expected file unfound: &quot; + truststore + &quot;; &quot; + e.getMessage());\n                    }\n                    return fs;\n                }\n                \n            });\n            \n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n            ks.load(is, phrase.toCharArray());\n            \n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            tmf.init(ks);\n            \n            SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n            context.init(null, tmf.getTrustManagers(), new SecureRandom());\n            \n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;truststore.pfx&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, phrase);\n            System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;PKCS12&quot;);\n                        \n            SSLSocketFactory socketFactory = context.getSocketFactory();\n            socket = (SSLSocket) socketFactory.createSocket(host, port);\n            socket.setEnabledProtocols(new String[] {&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;});\n            socket.setEnabledCipherSuites(socket.getSupportedCipherSuites());\n        } catch (Throwable t) {\n            throw new IOException(t.getMessage(), t);\n        }\n        \n        return socket;\n    }\n    }\n</code></pre>\n<p>This is the stacktrace:</p>\n<pre><code>    java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;javax.net.ssl.trustStore&quot; &quot;read&quot;)\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n        at java.security.AccessController.checkPermission(AccessController.java:886)\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n        at java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1294)\n        at java.lang.System.getProperty(System.java:733)\n    ...\n    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:617)\n    at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\n    at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n    at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:343)\n    at sun.rmi.transport.DGCImpl_Stub.clean(DGCImpl_Stub.java:74)\n    at sun.rmi.transport.DGCClient$EndpointEntry.makeCleanCalls(DGCClient.java:700)\n    at sun.rmi.transport.DGCClient$EndpointEntry.access$1700(DGCClient.java:192)\n    at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:610)\n    at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread$1.run(DGCClient.java:603)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread.run(DGCClient.java:603)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>What am I missing?  Thank you again.</p>\n<p>The caller (from a window service using JavaService exe) has Security Manager set as well as pointing to a policy file containing these settings:</p>\n<pre><code>grant {\n    permission java.security.AllPermission;         \n    permission java.net.SocketPermission &quot;localhost:1024-&quot;,&quot;connect,accept&quot;;         \n    permission java.util.PropertyPermission &quot;javax.net.ssl.trustStore&quot;,&quot;read&quot;;\n};\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","asynchronous"],"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683562201,"creation_date":1683559817,"question_id":76202062,"body_markdown":"I am currently working on a Spring Boot REST API that uses the @Async(&quot;asyncExecutor&quot;) annotation in the controller to make it non-blocking and available to the client after each request. I have intentionally added Thread.sleep for testing purposes only.\r\n\r\nThe controller is designed to work in the following three cases:\r\n\r\n1. If the msisdn is unique, then save the payload to the database.\r\n2. If the msisdn value is already in the database, then send a bad request to the client.\r\n3. If none of the above cases work, then I want to return an internal server error.\r\nI have included the code below. However, I am having trouble sending a response to the client when a catch block is triggered.\r\n\r\n\r\n\r\n\r\n\r\n// Controller\r\n```\r\n  @PostMapping(&quot;/changeMode&quot;)\r\n    @Async(&quot;asyncExecutor&quot;)\r\n    public ResponseEntity&lt;String&gt; SaveSubscriber(@RequestBody Subscribers subscribers) {\r\n        System.out.println(&quot;inside changeMode ------------&quot;+subscribers.getMsisdn());\r\n        CompletableFuture&lt;Subscribers&gt; future = userService.SaveSubscriber(subscribers);\r\n        try {\r\n            Subscribers savedUser = future.get(); // wait for the result of the async operation\r\n            System.out.println(&quot;sending response changeMode ------------&quot;+subscribers.getMsisdn());\r\n            System.out.println(savedUser != null);\r\n            if (savedUser != null) {\r\n                System.out.println(&quot;inside if statement ------------&quot;+subscribers.getMsisdn());\r\n                return ResponseEntity.ok(&quot;SUCCESS&quot;);\r\n            } else {\r\n                System.out.println(&quot;inside else statement ------------&quot;+subscribers.getMsisdn());\r\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Error saving data.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;inside catch statement ------------&quot;+subscribers.getMsisdn());\r\n            System.out.println(e);\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error saving data.&quot;);\r\n        }\r\n```\r\n// service\r\n\r\n```\r\n @Async(&quot;asyncExecutor&quot;)\r\n    public CompletableFuture&lt;Subscribers&gt; SaveSubscriber(Subscribers subscribers) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------&quot;+subscribers.getMsisdn()+&quot;------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\r\n        try {\r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(&quot;inside service method ------------------------------------------&quot;+subscribers.getMsisdn());\r\n        Subscribers savedUser = userRepository.save(subscribers);\r\n        return CompletableFuture.completedFuture(savedUser);\r\n    }\r\n```\r\nIt would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.\r\n\r\n","title":"Trouble returning proper response to client when using @Async in Spring Boot REST API controller","body":"<p>I am currently working on a Spring Boot REST API that uses the @Async(&quot;asyncExecutor&quot;) annotation in the controller to make it non-blocking and available to the client after each request. I have intentionally added Thread.sleep for testing purposes only.</p>\n<p>The controller is designed to work in the following three cases:</p>\n<ol>\n<li>If the msisdn is unique, then save the payload to the database.</li>\n<li>If the msisdn value is already in the database, then send a bad request to the client.</li>\n<li>If none of the above cases work, then I want to return an internal server error.\nI have included the code below. However, I am having trouble sending a response to the client when a catch block is triggered.</li>\n</ol>\n<p>// Controller</p>\n<pre><code>  @PostMapping(&quot;/changeMode&quot;)\n    @Async(&quot;asyncExecutor&quot;)\n    public ResponseEntity&lt;String&gt; SaveSubscriber(@RequestBody Subscribers subscribers) {\n        System.out.println(&quot;inside changeMode ------------&quot;+subscribers.getMsisdn());\n        CompletableFuture&lt;Subscribers&gt; future = userService.SaveSubscriber(subscribers);\n        try {\n            Subscribers savedUser = future.get(); // wait for the result of the async operation\n            System.out.println(&quot;sending response changeMode ------------&quot;+subscribers.getMsisdn());\n            System.out.println(savedUser != null);\n            if (savedUser != null) {\n                System.out.println(&quot;inside if statement ------------&quot;+subscribers.getMsisdn());\n                return ResponseEntity.ok(&quot;SUCCESS&quot;);\n            } else {\n                System.out.println(&quot;inside else statement ------------&quot;+subscribers.getMsisdn());\n                return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Error saving data.&quot;);\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;inside catch statement ------------&quot;+subscribers.getMsisdn());\n            System.out.println(e);\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error saving data.&quot;);\n        }\n</code></pre>\n<p>// service</p>\n<pre><code> @Async(&quot;asyncExecutor&quot;)\n    public CompletableFuture&lt;Subscribers&gt; SaveSubscriber(Subscribers subscribers) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------&quot;+subscribers.getMsisdn()+&quot;------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(&quot;inside service method ------------------------------------------&quot;+subscribers.getMsisdn());\n        Subscribers savedUser = userRepository.save(subscribers);\n        return CompletableFuture.completedFuture(savedUser);\n    }\n</code></pre>\n<p>It would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.</p>\n"},{"tags":["java","android","opc-ua","opc","milo"],"owner":{"account_id":25698144,"reputation":13,"user_id":19458528,"display_name":"Antonino Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683562009,"creation_date":1683553269,"question_id":76201184,"body_markdown":"I am trying to get an opc ua client running on an android device. I tried jitpack method\r\nhttps://jitpack.io/#eclipse/milo/v0.6.8\r\nit compiles but gives error when i run the app. \r\ni downloaded the jar file using Maven \r\nhttps://mavenlibs.com/jar/file/org.eclipse.milo/sdk-client\r\nand that seemed to work but when i implement the code bellow I am getting an error with the .stack. part. When I look up the stack jar file from Maven \r\nhttps://mavenlibs.com/jar/file/org.eclipse.milo/opc-ua-stack i get an xml file. I&#39;m stuck on what the next thing is to do.\r\n\r\n```\r\nOpcUaClientConfig config = new OpcUaClientConfig() {\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.LocalizedText getApplicationName() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String getApplicationUri() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String getProductUri() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Supplier&lt;String&gt; getSessionName() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public String[] getSessionLocaleIds() {\r\n                return new String[0];\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getSessionTimeout() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxResponseMessageSize() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxPendingPublishRequests() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public IdentityProvider getIdentityProvider() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveFailuresAllowed() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveInterval() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveTimeout() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public double getSubscriptionWatchdogMultiplier() {\r\n                return 0;\r\n            }\r\n        }; \r\n```","title":"How to add eclipse milo to android project","body":"<p>I am trying to get an opc ua client running on an android device. I tried jitpack method\n<a href=\"https://jitpack.io/#eclipse/milo/v0.6.8\" rel=\"nofollow noreferrer\">https://jitpack.io/#eclipse/milo/v0.6.8</a>\nit compiles but gives error when i run the app.\ni downloaded the jar file using Maven\n<a href=\"https://mavenlibs.com/jar/file/org.eclipse.milo/sdk-client\" rel=\"nofollow noreferrer\">https://mavenlibs.com/jar/file/org.eclipse.milo/sdk-client</a>\nand that seemed to work but when i implement the code bellow I am getting an error with the .stack. part. When I look up the stack jar file from Maven\n<a href=\"https://mavenlibs.com/jar/file/org.eclipse.milo/opc-ua-stack\" rel=\"nofollow noreferrer\">https://mavenlibs.com/jar/file/org.eclipse.milo/opc-ua-stack</a> i get an xml file. I'm stuck on what the next thing is to do.</p>\n<pre><code>OpcUaClientConfig config = new OpcUaClientConfig() {\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.LocalizedText getApplicationName() {\n                return null;\n            }\n\n            @Override\n            public String getApplicationUri() {\n                return null;\n            }\n\n            @Override\n            public String getProductUri() {\n                return null;\n            }\n\n            @Override\n            public Supplier&lt;String&gt; getSessionName() {\n                return null;\n            }\n\n            @Override\n            public String[] getSessionLocaleIds() {\n                return new String[0];\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getSessionTimeout() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxResponseMessageSize() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getMaxPendingPublishRequests() {\n                return null;\n            }\n\n            @Override\n            public IdentityProvider getIdentityProvider() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveFailuresAllowed() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveInterval() {\n                return null;\n            }\n\n            @Override\n            public org.eclipse.milo.opcua.stack.core.types.builtin.unsigned.UInteger getKeepAliveTimeout() {\n                return null;\n            }\n\n            @Override\n            public double getSubscriptionWatchdogMultiplier() {\n                return 0;\n            }\n        }; \n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683562582,"post_id":76202123,"comment_id":134382074,"body_markdown":"It might be related to this (https://github.com/spring-cloud/spring-cloud-stream/issues/2673) which is fixed in the next release (4.0.3). The work around is to put the security properties under Boot&#39;s global `spring.kafka` namespace instead of in the binder configuration.","body":"It might be related to this (<a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues/2673\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream/issues/2673</a>) which is fixed in the next release (4.0.3). The work around is to put the security properties under Boot&#39;s global <code>spring.kafka</code> namespace instead of in the binder configuration."},{"owner":{"account_id":120189,"reputation":383,"user_id":312460,"accept_rate":0,"display_name":"Alexey Khudyakov"},"score":0,"creation_date":1683570670,"post_id":76202123,"comment_id":134383851,"body_markdown":"@GaryRussell, yes! I&#39;ve added as you suggest and it works!\nThank you very much :)","body":"@GaryRussell, yes! I&#39;ve added as you suggest and it works! Thank you very much :)"}],"owner":{"account_id":120189,"reputation":383,"user_id":312460,"accept_rate":0,"display_name":"Alexey Khudyakov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683561646,"creation_date":1683560408,"question_id":76202123,"body_markdown":"I&#39;m developing a simple microservice that is consuming messages from Kafka&#39;s topic and producing modified messages to another topic\r\n\r\nWithout an authentification all works perfectly. But when I&#39;m tring to use SASL Plaintext authentification broker is writing  authentication errors to log. It looks like what auth settings were ignored, I get the messages in the application log during startup\r\n\r\n```\r\n...\r\n\tsasl.jaas.config = null\r\n....\r\n\tsasl.mechanism = GSSAPI\r\n...\r\n\tsecurity.protocol = PLAINTEXT\r\n```\r\n\r\nHere my application.yml file. I used this [github][1] file as an example.\r\n\r\n```yaml\r\nspring.cloud:\r\n  function.definition: stocksProcessor\r\nspring.cloud.stream:\r\n  bindings:\r\n    stocksProcessor-in-0:\r\n      destination: input-stocks\r\n      group: ms-pos-stocks-provider-dev\r\n    stocksProcessor-out-0:\r\n      destination: output-stocks.pretty\r\n  kafka.streams:\r\n    binder.applicationId: ms-pos-stocks-provider\r\n  kafka.binder:\r\n    brokers: kafka-01:19092,kafka-02:29092, kafka-03:39092\r\n    jaas.enabled: true\r\n    configuration.security.protocol: SASL_PLAINTEXT\r\n    configuration.sasl.mechanism: PLAIN\r\n    configuration.sasl.jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;user&quot; password=&quot;password&quot;;\r\n  kafka.bindings:\r\n    stocksProcessor-in-0:\r\n      consumer:\r\n        enableDlq: true\r\n        dlqName: dlq-stocks\r\n        configuration:\r\n          value:\r\n            deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n    stocksProcessor-out-0:\r\n      producer:\r\n        compression: lz4\r\n        configuration:\r\n          value:\r\n            serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\n\r\nAnd here snippet from my pom.xml\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka-streams&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThank you\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml#L25","title":"Spring Cloud Stream ignores authentication settings","body":"<p>I'm developing a simple microservice that is consuming messages from Kafka's topic and producing modified messages to another topic</p>\n<p>Without an authentification all works perfectly. But when I'm tring to use SASL Plaintext authentification broker is writing  authentication errors to log. It looks like what auth settings were ignored, I get the messages in the application log during startup</p>\n<pre><code>...\n    sasl.jaas.config = null\n....\n    sasl.mechanism = GSSAPI\n...\n    security.protocol = PLAINTEXT\n</code></pre>\n<p>Here my application.yml file. I used this <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/blob/main/multi-binder-samples/kafka-multi-binder-jaas/src/main/resources/application.yml#L25\" rel=\"nofollow noreferrer\">github</a> file as an example.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.cloud:\n  function.definition: stocksProcessor\nspring.cloud.stream:\n  bindings:\n    stocksProcessor-in-0:\n      destination: input-stocks\n      group: ms-pos-stocks-provider-dev\n    stocksProcessor-out-0:\n      destination: output-stocks.pretty\n  kafka.streams:\n    binder.applicationId: ms-pos-stocks-provider\n  kafka.binder:\n    brokers: kafka-01:19092,kafka-02:29092, kafka-03:39092\n    jaas.enabled: true\n    configuration.security.protocol: SASL_PLAINTEXT\n    configuration.sasl.mechanism: PLAIN\n    configuration.sasl.jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;user&quot; password=&quot;password&quot;;\n  kafka.bindings:\n    stocksProcessor-in-0:\n      consumer:\n        enableDlq: true\n        dlqName: dlq-stocks\n        configuration:\n          value:\n            deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n    stocksProcessor-out-0:\n      producer:\n        compression: lz4\n        configuration:\n          value:\n            serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>And here snippet from my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-stream-binder-kafka-streams&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","android","kotlin","clipboard"],"comments":[{"owner":{"account_id":7934148,"reputation":2972,"user_id":5990846,"display_name":"Jay"},"score":1,"creation_date":1683566733,"post_id":76202222,"comment_id":134383010,"body_markdown":"[Avoid duplicate notifications](https://developer.android.com/develop/ui/views/touch-and-input/copy-paste#duplicate-notifications) might help you to understand the recommended way to notify users about the copied text using `ClipboardManager` API.","body":"<a href=\"https://developer.android.com/develop/ui/views/touch-and-input/copy-paste#duplicate-notifications\" rel=\"nofollow noreferrer\">Avoid duplicate notifications</a> might help you to understand the recommended way to notify users about the copied text using <code>ClipboardManager</code> API."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1683567504,"post_id":76202222,"comment_id":134383173,"body_markdown":"Specifically Jay&#39;s link is saying don&#39;t notify on Android 13+, because there&#39;s a standard system notification when the clipboard is accessed. So you should do an API version check, and only post the Toast for version *32* and below","body":"Specifically Jay&#39;s link is saying don&#39;t notify on Android 13+, because there&#39;s a standard system notification when the clipboard is accessed. So you should do an API version check, and only post the Toast for version <i>32</i> and below"}],"answers":[{"tags":[],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683561559,"creation_date":1683561559,"answer_id":76202273,"question_id":76202222,"body_markdown":"To disable the &quot;Copied to Clipboard&quot; toast, you can set the duration of the Toast to 0. This will prevent the toast from showing.\r\n```\r\nval clipboard = ContextCompat.getSystemService(\r\n                applicationContext,\r\n                ClipboardManager::class.java\r\n            )\r\n            val clip =\r\n                ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\r\n            clipboard?.setPrimaryClip(clip)\r\n            Toast.makeText(\r\n                applicationContext,\r\n                &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\r\n                0 // set duration to 0\r\n            ).show()\r\n```","title":"How to disable &quot;Copied to Clipboard&quot; toast after copying a sentence programmatically using kotlin?","body":"<p>To disable the &quot;Copied to Clipboard&quot; toast, you can set the duration of the Toast to 0. This will prevent the toast from showing.</p>\n<pre><code>val clipboard = ContextCompat.getSystemService(\n                applicationContext,\n                ClipboardManager::class.java\n            )\n            val clip =\n                ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\n            clipboard?.setPrimaryClip(clip)\n            Toast.makeText(\n                applicationContext,\n                &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\n                0 // set duration to 0\n            ).show()\n</code></pre>\n"}],"owner":{"account_id":24141999,"reputation":53,"user_id":18108080,"display_name":"Tommy -"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683561559,"creation_date":1683561144,"question_id":76202222,"body_markdown":"So I provide a user a button that copy a list of paragraph after they have clicked a button, so they won&#39;t need to select the paragraph themselves and waste so much effort.\r\n\r\nAfter they have copied using the button, a toast with a text &quot;your paragraph for chapter xx has been copied&quot; will show up\r\n\r\nAll is well, but the problem is, there is &quot;copied to clipboard&quot; toast comes out as well after the &quot;your paragraph for chapter xx has been copied&quot; toast disappear. It feels like double information, which looks redundant.\r\n\r\nis there anyway to disable the &quot;copied to clipboard&quot; toast programmatically?\r\n\r\nBelow is my copy button&#39;s code:\r\n\r\n    val clipboard = ContextCompat.getSystemService(\r\n                    applicationContext,\r\n                    ClipboardManager::class.java\r\n                )\r\n                val clip =\r\n                    ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\r\n                clipboard?.setPrimaryClip(clip)\r\n                Toast.makeText(\r\n                    applicationContext,\r\n                    &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n\r\nThank you.","title":"How to disable &quot;Copied to Clipboard&quot; toast after copying a sentence programmatically using kotlin?","body":"<p>So I provide a user a button that copy a list of paragraph after they have clicked a button, so they won't need to select the paragraph themselves and waste so much effort.</p>\n<p>After they have copied using the button, a toast with a text &quot;your paragraph for chapter xx has been copied&quot; will show up</p>\n<p>All is well, but the problem is, there is &quot;copied to clipboard&quot; toast comes out as well after the &quot;your paragraph for chapter xx has been copied&quot; toast disappear. It feels like double information, which looks redundant.</p>\n<p>is there anyway to disable the &quot;copied to clipboard&quot; toast programmatically?</p>\n<p>Below is my copy button's code:</p>\n<pre><code>val clipboard = ContextCompat.getSystemService(\n                applicationContext,\n                ClipboardManager::class.java\n            )\n            val clip =\n                ClipData.newPlainText(&quot;label&quot;, &quot;${chapter_number.text}&quot;)\n            clipboard?.setPrimaryClip(clip)\n            Toast.makeText(\n                applicationContext,\n                &quot;Your paragraph for chapter ${chapter_number.text()} has been copied.&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","constructor","setter"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1663952468,"post_id":73830863,"comment_id":130368574,"body_markdown":"The constructor of `Account` expects an initial password. `new Account(int Pwd)` is illegal syntax and wouldn&#39;t make sense because `int Pwd` is a variable name, not a concrete value like `5`","body":"The constructor of <code>Account</code> expects an initial password. <code>new Account(int Pwd)</code> is illegal syntax and wouldn&#39;t make sense because <code>int Pwd</code> is a variable name, not a concrete value like <code>5</code>"},{"owner":{"account_id":26424805,"reputation":21,"user_id":20071933,"display_name":"Karthi Keyan"},"score":0,"creation_date":1663988627,"post_id":73830863,"comment_id":130374723,"body_markdown":"How to initially get Password from user","body":"How to initially get Password from user"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664011264,"post_id":73830863,"comment_id":130377288,"body_markdown":"You could print like &quot;hey what&#39;s your initial password?&quot;, then get a password from the user like you do `int initial = s.nextInt()` and then create the account. That&#39;s usually how account creation works :) btw, variable names usually start lowercase `int pwd`, only class names start UpperCase","body":"You could print like &quot;hey what&#39;s your initial password?&quot;, then get a password from the user like you do <code>int initial = s.nextInt()</code> and then create the account. That&#39;s usually how account creation works :) btw, variable names usually start lowercase <code>int pwd</code>, only class names start UpperCase"},{"owner":{"account_id":26424805,"reputation":21,"user_id":20071933,"display_name":"Karthi Keyan"},"score":0,"creation_date":1664043261,"post_id":73830863,"comment_id":130383100,"body_markdown":"Example U try me any program ?","body":"Example U try me any program ?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664138047,"post_id":73830863,"comment_id":130397304,"body_markdown":"You should be able to translate this to `int initalPwd=s.nextInt();` and `Account a=new Account(initalPwd);`. The `Scanner` needs to exist beforehand obviously","body":"You should be able to translate this to <code>int initalPwd=s.nextInt();</code> and <code>Account a=new Account(initalPwd);</code>. The <code>Scanner</code> needs to exist beforehand obviously"}],"owner":{"account_id":26424805,"reputation":21,"user_id":20071933,"display_name":"Karthi Keyan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1683561443,"creation_date":1663952183,"question_id":73830863,"body_markdown":"I need to get a new password instead of old password\r\nI have two java classes, while one contains the getters and setters the other is a driver class. I need the user input from the scanner in the driver class to be in one of the setters in the first class. The user input has to be a int because it will be used as a formula in the setter.\r\n\r\n\r\n    class Account\r\n    {\r\n    \tprivate int Pwd;\r\n    \tAccount(int Pwd)                                         \r\n        {\r\n            this.Pwd=Pwd;\r\n        }\r\n        public void setPwd(int oldPwd, int newPwd)\r\n    \t{\r\n    \t\tif(this.Pwd==oldPwd)\r\n    \t\t{\r\n    \t\t\tthis.Pwd=newPwd;\r\n    \t\t\tSystem.out.println(&quot;Password is changed&quot;);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;password mismatch&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tpublic boolean verifyPwd(int pwd)\r\n    \t{\r\n    \t\tif(this.pwd==pwd)\r\n    \t\t{\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n    import java.util.Scanner;\r\n    class SbiDriver\r\n    {\r\n        public static void main(String[] args)\r\n    \t{\r\n    \t\tScanner s=new Scanner(System.in); //scanner\r\n    \t\tAccount a=new Account(int Pwd); \r\n    \t\tint oldPwd=s.nextInt();\r\n    \t\tint newPwd=s.nextInt();\r\n    \t\tsetPwd(oldPwd,newPwd);  \r\n    \t}                                \r\n    }\r\n\r\nConstructor does not work well. I think I need to get a new password.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How update Setter password(Pwd) using scanner class and Constructor also there?","body":"<p>I need to get a new password instead of old password\nI have two java classes, while one contains the getters and setters the other is a driver class. I need the user input from the scanner in the driver class to be in one of the setters in the first class. The user input has to be a int because it will be used as a formula in the setter.</p>\n<pre><code>class Account\n{\n    private int Pwd;\n    Account(int Pwd)                                         \n    {\n        this.Pwd=Pwd;\n    }\n    public void setPwd(int oldPwd, int newPwd)\n    {\n        if(this.Pwd==oldPwd)\n        {\n            this.Pwd=newPwd;\n            System.out.println(&quot;Password is changed&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;password mismatch&quot;);\n        }\n    }\n    public boolean verifyPwd(int pwd)\n    {\n        if(this.pwd==pwd)\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n}\n\n\nimport java.util.Scanner;\nclass SbiDriver\n{\n    public static void main(String[] args)\n    {\n        Scanner s=new Scanner(System.in); //scanner\n        Account a=new Account(int Pwd); \n        int oldPwd=s.nextInt();\n        int newPwd=s.nextInt();\n        setPwd(oldPwd,newPwd);  \n    }                                \n}\n</code></pre>\n<p>Constructor does not work well. I think I need to get a new password.</p>\n"},{"tags":["java","regex","url-rewriting","struts2","tuckey-urlrewrite-filter"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683561418,"creation_date":1388854434,"answer_id":20923824,"question_id":20918076,"body_markdown":"You have escaped `&amp;` symbol in the url and you see in the source code it&#39;s `&amp;amp;`. This doesn&#39;t allow the pattern to match the url. Try to change the pattern to match both escaped and unescaped ampersand.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;from&gt;^/articleList\\?category=(\\d*)(\\&amp;|&amp;amp;){1}page=(\\d*)(;jsessionid=.*)?$&lt;/from&gt;","title":"How to use &amp;amp in tuckey outbound rules in Struts 2","body":"<p>You have escaped <code>&amp;</code> symbol in the url and you see in the source code it's <code>&amp;amp;</code>. This doesn't allow the pattern to match the url. Try to change the pattern to match both escaped and unescaped ampersand.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;from&gt;^/articleList\\?category=(\\d*)(\\&amp;|&amp;amp;){1}page=(\\d*)(;jsessionid=.*)?$&lt;/from&gt;\n</code></pre>\n"}],"owner":{"account_id":3807790,"reputation":23,"user_id":3159659,"display_name":"user3159659"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20923824,"answer_count":1,"score":2,"last_activity_date":1683561418,"creation_date":1388818984,"question_id":20918076,"body_markdown":"I&#39;m having trouble with Tuckey URL outbound rules. \r\nWe are using Tuckey with Struts2.\r\n\r\n**Outbound rule:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;outbound-rule&gt;\r\n\t\t&lt;from&gt;^/articleList\\?category=(\\d*)&amp;amp;page=(\\d*)(;jsessionid=.*)?$&lt;/from&gt;\r\n\t\t&lt;to last=&quot;true&quot;&gt;/list/$1/$2&lt;/to&gt;\r\n\t&lt;/outbound-rule&gt;\r\n\r\n**JSP:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;a href=&quot;&lt;s:url value=&quot;/articleList&quot; &gt;&lt;s:param name=&quot;category&quot;\r\n    value=&quot;#article.category&quot; /&gt;&lt;s:param name=&quot;page&quot; value=&quot;1&quot; /&gt;&lt;/s:url&gt;&quot;    target=&quot;_blank[articlelist]&lt;/a&gt;\r\n\r\nAlthough it says processing outbound rule it&#39;s not forwarding to my URL.\r\nIn the `url-rewritestatus` it shows all my rules but doesn&#39;t show matched ones. \r\ndebug log:\r\n\r\n    org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: processing outbound url for /articleList?category=3&amp;amp;page=1\r\n    org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 0 run called with /articleList?category=3&amp;amp;page=1\r\n    org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 1 run called with /articleList?category=3&amp;amp;page=1\r\n    org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 2 run called with /articleList?category=3&amp;amp;page=1\r\n    org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 3 run called with /articleList?category=3&amp;amp;page=1\r\n    org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 4 run called with /articleList?category=3&amp;amp;page=1\r\n\r\ndebuging the source I see\r\n\r\n    url:/articleList?category=1&amp;amp;page=1\r\n    pattern:^/articleList\\?category=(\\d*)&amp;page=(\\d*)(;jsessionid=.*)?$\r\n\r\nWhat I am doing wrong?\r\n\r\nevn:`struts2 + spring3  jetty`","title":"How to use &amp;amp in tuckey outbound rules in Struts 2","body":"<p>I'm having trouble with Tuckey URL outbound rules.\nWe are using Tuckey with Struts2.</p>\n<p><strong>Outbound rule:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;outbound-rule&gt;\n    &lt;from&gt;^/articleList\\?category=(\\d*)&amp;amp;page=(\\d*)(;jsessionid=.*)?$&lt;/from&gt;\n    &lt;to last=&quot;true&quot;&gt;/list/$1/$2&lt;/to&gt;\n&lt;/outbound-rule&gt;\n</code></pre>\n<p><strong>JSP:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a href=&quot;&lt;s:url value=&quot;/articleList&quot; &gt;&lt;s:param name=&quot;category&quot;\nvalue=&quot;#article.category&quot; /&gt;&lt;s:param name=&quot;page&quot; value=&quot;1&quot; /&gt;&lt;/s:url&gt;&quot;    target=&quot;_blank[articlelist]&lt;/a&gt;\n</code></pre>\n<p>Although it says processing outbound rule it's not forwarding to my URL.\nIn the <code>url-rewritestatus</code> it shows all my rules but doesn't show matched ones.\ndebug log:</p>\n<pre><code>org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: processing outbound url for /articleList?category=3&amp;amp;page=1\norg.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 0 run called with /articleList?category=3&amp;amp;page=1\norg.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 1 run called with /articleList?category=3&amp;amp;page=1\norg.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 2 run called with /articleList?category=3&amp;amp;page=1\norg.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 3 run called with /articleList?category=3&amp;amp;page=1\norg.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Outbound Rule 4 run called with /articleList?category=3&amp;amp;page=1\n</code></pre>\n<p>debuging the source I see</p>\n<pre><code>url:/articleList?category=1&amp;amp;page=1\npattern:^/articleList\\?category=(\\d*)&amp;page=(\\d*)(;jsessionid=.*)?$\n</code></pre>\n<p>What I am doing wrong?</p>\n<p>evn:<code>struts2 + spring3  jetty</code></p>\n"},{"tags":["python","java","pip","jython","pdfminer"],"owner":{"account_id":18539657,"reputation":21,"user_id":21391846,"display_name":"Cuervo 616"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683561393,"creation_date":1683561393,"question_id":76202252,"body_markdown":"I trying to connect a Python script with a Java project that uses Maven. To achieve this, I need to install a module into the Jython environment. I have tried the following approach.\r\n\r\n```\r\nC:\\Users\\lordonez\\.m2\\repository&gt;java -jar C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\jython-standalone-2.7.2rc1.jar -m pip install pdfminer-20191010\r\nDEPRECATION: A future version of pip will drop support for Python 2.7.\r\nCollecting pdfminer-20191010\r\n  ERROR: Certificate did not match expected hostname: pypi.org. Certificate: {&#39;notAfter&#39;: &#39;May 30 18:53:39 2024 GMT&#39;, &#39;subject&#39;: (((&#39;commonName&#39;, &#39;www.python.org&#39;),),), &#39;subjectAltName&#39;: ((&#39;DNS&#39;, &#39;www.python.org&#39;), (&#39;DNS&#39;, &#39;*.python.org&#39;), (&#39;DNS&#39;, &#39;docs.python.org&#39;), (&#39;DNS&#39;, &#39;downloads.python.org&#39;), (&#39;DNS&#39;, &#39;pypi.python.org&#39;))}\r\n```\r\n\r\n```\r\nC:\\Users\\lordonez\\.m2\\repository&gt;java -jar C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\jython-standalone-2.7.2rc1.jar -m pip install --trusted-host pypi.org --trusted-host files.pythonhosted.org C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.tar.gz\r\nDEPRECATION: A future version of pip will drop support for Python 2.7.\r\nProcessing c:\\users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.tar.gz\r\n    ERROR: Error [Errno 2] No such file or directory while executing command python setup.py egg_info\r\nERROR: Could not install packages due to an EnvironmentError: [Errno 2] No such file or directory\r\n\r\n\r\nC:\\Users\\lordonez\\.m2\\repository&gt;java -jar C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\jython-standalone-2.7.2rc1.jar -m pip install --trusted-host pypi.org --trusted-host files.pythonhosted.org C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.zip\r\nDEPRECATION: A future version of pip will drop support for Python 2.7.\r\nProcessing c:\\users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.zip\r\n    ERROR: Error [Errno 2] No such file or directory while executing command python setup.py egg_info\r\nERROR: Could not install packages due to an EnvironmentError: [Errno 2] No such file or directory\r\n```\r\n\r\n\r\n\r\nI need help to connect a Python script. I don&#39;t mind if I don&#39;t use Jython, but it&#39;s currently the only solution I can find.","title":"Install Module pdfminer in Jython","body":"<p>I trying to connect a Python script with a Java project that uses Maven. To achieve this, I need to install a module into the Jython environment. I have tried the following approach.</p>\n<pre><code>C:\\Users\\lordonez\\.m2\\repository&gt;java -jar C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\jython-standalone-2.7.2rc1.jar -m pip install pdfminer-20191010\nDEPRECATION: A future version of pip will drop support for Python 2.7.\nCollecting pdfminer-20191010\n  ERROR: Certificate did not match expected hostname: pypi.org. Certificate: {'notAfter': 'May 30 18:53:39 2024 GMT', 'subject': ((('commonName', 'www.python.org'),),), 'subjectAltName': (('DNS', 'www.python.org'), ('DNS', '*.python.org'), ('DNS', 'docs.python.org'), ('DNS', 'downloads.python.org'), ('DNS', 'pypi.python.org'))}\n</code></pre>\n<pre><code>C:\\Users\\lordonez\\.m2\\repository&gt;java -jar C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\jython-standalone-2.7.2rc1.jar -m pip install --trusted-host pypi.org --trusted-host files.pythonhosted.org C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.tar.gz\nDEPRECATION: A future version of pip will drop support for Python 2.7.\nProcessing c:\\users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.tar.gz\n    ERROR: Error [Errno 2] No such file or directory while executing command python setup.py egg_info\nERROR: Could not install packages due to an EnvironmentError: [Errno 2] No such file or directory\n\n\nC:\\Users\\lordonez\\.m2\\repository&gt;java -jar C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\jython-standalone-2.7.2rc1.jar -m pip install --trusted-host pypi.org --trusted-host files.pythonhosted.org C:\\Users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.zip\nDEPRECATION: A future version of pip will drop support for Python 2.7.\nProcessing c:\\users\\lordonez\\.m2\\repository\\org\\python\\jython-standalone\\2.7.2rc1\\pdfminer-20191010.zip\n    ERROR: Error [Errno 2] No such file or directory while executing command python setup.py egg_info\nERROR: Could not install packages due to an EnvironmentError: [Errno 2] No such file or directory\n</code></pre>\n<p>I need help to connect a Python script. I don't mind if I don't use Jython, but it's currently the only solution I can find.</p>\n"},{"tags":["java","regex","jsp","struts2","ognl"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1407223624,"post_id":25129245,"comment_id":39120262,"body_markdown":"Use links for remove actions.","body":"Use links for remove actions."},{"owner":{"account_id":3070277,"reputation":216,"user_id":2601120,"accept_rate":80,"display_name":"tzimnoch"},"score":0,"creation_date":1407259495,"post_id":25129245,"comment_id":39141658,"body_markdown":"Whether right or wrong, there&#39;s a design philosophy here that links provide navigation without performing action on data and that buttons are used to perform actions on data. I agree that using links would be much easier to implement but I also see the wisdom in the design philosophy.","body":"Whether right or wrong, there&#39;s a design philosophy here that links provide navigation without performing action on data and that buttons are used to perform actions on data. I agree that using links would be much easier to implement but I also see the wisdom in the design philosophy."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1407269302,"post_id":25129245,"comment_id":39146956,"body_markdown":"You can easily style a link to look like a button. You are over complicating simple things.","body":"You can easily style a link to look like a button. You are over complicating simple things."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683561318,"creation_date":1407231823,"answer_id":25135691,"question_id":25129245,"body_markdown":"This getter you need if you want to use quotes in indexes. It allows to use `String` keys to the `Map` and you should use quotes in indexes to let OGNL to use string values as keys and evaluate corresponding getter. \r\n\r\n    private Map&lt;String, String&gt; removeButtons = new HashMap&lt;&gt;();\r\n    public Map&lt;String, String&gt; getRemoveButtons() {\r\n        return removeButtons;\r\n    }\r\n\r\nFor example\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:hidden name=&quot;removeButtons[&#39;0&#39;]&quot; /&gt;\r\n                                   ^ ------ //the string key\r\n    &lt;s:submit value=&quot;Remove&quot; /&gt;\r\n\r\nor use the string variable, or property of the action\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:set var=&quot;idx&quot; value=&quot;&#39;0&#39;&quot;/&gt;\r\n                             ^ ------ //the string key\r\n    &lt;s:hidden name=&quot;removeButtons[%{#idx}]&quot; /&gt;                               \r\n    &lt;s:submit value=&quot;Remove&quot; /&gt;\r\n\r\nEDIT:\r\n\r\nWho knows that you will use non-standard keys for the parameters that doesn&#39;t pass the default accepted pattern. Your parameters names like `&quot;removeButtons[&#39;GN 00501.013&#39;]&quot;`.\r\n\r\nUse the pattern `&quot;\\\\w+((\\\\[&#39;\\\\w+((\\\\s\\\\w+)|(\\\\.\\\\w+))*&#39;\\\\]))*&quot;` to `acceptParamNames` parameter of `params` interceptor to overcome the hardcoded pattern like was done in [this][1] answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21282401/573032\r\n  ","title":"How to handle indexed-property buttons on a form in Struts 2","body":"<p>This getter you need if you want to use quotes in indexes. It allows to use <code>String</code> keys to the <code>Map</code> and you should use quotes in indexes to let OGNL to use string values as keys and evaluate corresponding getter.</p>\n<pre><code>private Map&lt;String, String&gt; removeButtons = new HashMap&lt;&gt;();\npublic Map&lt;String, String&gt; getRemoveButtons() {\n    return removeButtons;\n}\n</code></pre>\n<p>For example</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:hidden name=&quot;removeButtons['0']&quot; /&gt;\n                               ^ ------ //the string key\n&lt;s:submit value=&quot;Remove&quot; /&gt;\n</code></pre>\n<p>or use the string variable, or property of the action</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:set var=&quot;idx&quot; value=&quot;'0'&quot;/&gt;\n                         ^ ------ //the string key\n&lt;s:hidden name=&quot;removeButtons[%{#idx}]&quot; /&gt;                               \n&lt;s:submit value=&quot;Remove&quot; /&gt;\n</code></pre>\n<p>EDIT:</p>\n<p>Who knows that you will use non-standard keys for the parameters that doesn't pass the default accepted pattern. Your parameters names like <code>&quot;removeButtons['GN 00501.013']&quot;</code>.</p>\n<p>Use the pattern <code>&quot;\\\\w+((\\\\['\\\\w+((\\\\s\\\\w+)|(\\\\.\\\\w+))*'\\\\]))*&quot;</code> to <code>acceptParamNames</code> parameter of <code>params</code> interceptor to overcome the hardcoded pattern like was done in <a href=\"https://stackoverflow.com/a/21282401/573032\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":3070277,"reputation":216,"user_id":2601120,"accept_rate":80,"display_name":"tzimnoch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407263984,"creation_date":1407263984,"answer_id":25146048,"question_id":25129245,"body_markdown":"The syntax Roman provides is correct, but there is a caveat, perhaps a bug.\r\n\r\nIn further debugging, I changed getRemoveButtons to\r\n\r\n    public Map&lt;String, String&gt; getRemoveButtons() {\r\n        log.debug(&quot;Call to &#39;RemoveButtons&#39;&quot;);\r\n        return removeButtons;\r\n    }\r\n\r\nI got the appropriate log message when using Long, but when I converted to Map&lt;String, String&gt;, no syntax I&#39;ve tried would get this function called until I discovered that white space in the string breaks the functionality. i.e. &#39;GN 00501.013&#39; would not work, but &#39;GN00501.013&#39; does. I&#39;ll enquire on the Struts2 mailing lists if this is by design or some other issue unrelated to Struts that cannot be overcome.","title":"How to handle indexed-property buttons on a form in Struts 2","body":"<p>The syntax Roman provides is correct, but there is a caveat, perhaps a bug.</p>\n\n<p>In further debugging, I changed getRemoveButtons to</p>\n\n<pre><code>public Map&lt;String, String&gt; getRemoveButtons() {\n    log.debug(\"Call to 'RemoveButtons'\");\n    return removeButtons;\n}\n</code></pre>\n\n<p>I got the appropriate log message when using Long, but when I converted to Map, no syntax I've tried would get this function called until I discovered that white space in the string breaks the functionality. i.e. 'GN 00501.013' would not work, but 'GN00501.013' does. I'll enquire on the Struts2 mailing lists if this is by design or some other issue unrelated to Struts that cannot be overcome.</p>\n"}],"owner":{"account_id":3070277,"reputation":216,"user_id":2601120,"accept_rate":80,"display_name":"tzimnoch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25135691,"answer_count":2,"score":1,"last_activity_date":1683561318,"creation_date":1407196225,"question_id":25129245,"body_markdown":"I need to implement a table where each row has editable information that the user expects to submit as a whole yet buttons on each row to delete that row immediately. Because I care about the form as a whole and forms cannot be nested, the action receiving the button press probably has to handle it as an indexed property so that&#39;s the way I built it.\r\n\r\nWhat I am currently doing is indexing via a Long.\r\n\r\nMy JSP renders the following HTML:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;input type=&quot;submit&quot; value=&quot;Remove&quot; name=&quot;removeButtons[## numbers go here ##]&quot; /&gt;\r\n\r\nWhile in my action class I am exposing and using the property like so:\r\n\r\n    private Map&lt;Long, String&gt; removeButtons = new HashMap&lt;Long, String&gt;();\r\n    public Map&lt;Long, String&gt; getRemoveButtons() {\r\n        return removeButtons;\r\n    }\r\n\r\n    // Later when the action is called\r\n    for(Long button : removeButtons.keySet()) {\r\n        // this only ever returns nothing or the one button that was pressed\r\n    }\r\n\r\nThis works perfectly fine for numerical indices.\r\n\r\nI now need to do this again for a different table, but the rows are indexed with a `String`. Converting `Long` to `String`, putting or not putting quotes inside the square brackets, changing the square brackets to parentheses... Nothing seems to work.\r\n\r\nI already know how to make it work with numbered indices and I&#39;m capable of implementing it by adding a numerical index value to each row, however, I&#39;d like to know how to make this work with a `String` key for the `Map`.\r\n\r\nAlternately, is there a better way to achieve what I&#39;m trying to do (arbitrarily many buttons on a single form)?","title":"How to handle indexed-property buttons on a form in Struts 2","body":"<p>I need to implement a table where each row has editable information that the user expects to submit as a whole yet buttons on each row to delete that row immediately. Because I care about the form as a whole and forms cannot be nested, the action receiving the button press probably has to handle it as an indexed property so that's the way I built it.</p>\n<p>What I am currently doing is indexing via a Long.</p>\n<p>My JSP renders the following HTML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;input type=&quot;submit&quot; value=&quot;Remove&quot; name=&quot;removeButtons[## numbers go here ##]&quot; /&gt;\n</code></pre>\n<p>While in my action class I am exposing and using the property like so:</p>\n<pre><code>private Map&lt;Long, String&gt; removeButtons = new HashMap&lt;Long, String&gt;();\npublic Map&lt;Long, String&gt; getRemoveButtons() {\n    return removeButtons;\n}\n\n// Later when the action is called\nfor(Long button : removeButtons.keySet()) {\n    // this only ever returns nothing or the one button that was pressed\n}\n</code></pre>\n<p>This works perfectly fine for numerical indices.</p>\n<p>I now need to do this again for a different table, but the rows are indexed with a <code>String</code>. Converting <code>Long</code> to <code>String</code>, putting or not putting quotes inside the square brackets, changing the square brackets to parentheses... Nothing seems to work.</p>\n<p>I already know how to make it work with numbered indices and I'm capable of implementing it by adding a numerical index value to each row, however, I'd like to know how to make this work with a <code>String</code> key for the <code>Map</code>.</p>\n<p>Alternately, is there a better way to achieve what I'm trying to do (arbitrarily many buttons on a single form)?</p>\n"},{"tags":["java","regex","servlets","struts2","servlet-mapping"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1426545242,"post_id":29084423,"comment_id":46409136,"body_markdown":"possible duplicate of [How to use Servlet in Struts2](http://stackoverflow.com/questions/5295491/how-to-use-servlet-in-struts2)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5295491/how-to-use-servlet-in-struts2\">How to use Servlet in Struts2</a>"},{"owner":{"account_id":5938922,"reputation":23,"user_id":4670909,"display_name":"Atark"},"score":0,"creation_date":1426546168,"post_id":29084423,"comment_id":46409482,"body_markdown":"from first view duplication, don&#39;t know to accept it or not, the point is I knew that Servlet and Struts can work together, it is why I didn&#39;t find that you specified, my question is more precise to problem, for me question was exactly concerned to patterns.","body":"from first view duplication, don&#39;t know to accept it or not, the point is I knew that Servlet and Struts can work together, it is why I didn&#39;t find that you specified, my question is more precise to problem, for me question was exactly concerned to patterns."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1509483477,"post_id":29084423,"comment_id":81036179,"body_markdown":"Possible duplicate of [Jersey with Struts2](https://stackoverflow.com/questions/17293115/jersey-with-struts2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/17293115/jersey-with-struts2\">Jersey with Struts2</a>"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683561250,"creation_date":1426541745,"answer_id":29087379,"question_id":29084423,"body_markdown":"You should add `excludePattern` constant to `struts.xml` to exclude servlet mapping URL from Struts processing. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;struts&gt;\r\n        &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/gameservlet/?.*&quot;/&gt;\r\n        ...\r\n    &lt;/struts&gt; \r\n\r\n","title":"How to configure URL patterns to have servlet and Struts2 to work simultaneously?","body":"<p>You should add <code>excludePattern</code> constant to <code>struts.xml</code> to exclude servlet mapping URL from Struts processing.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/gameservlet/?.*&quot;/&gt;\n    ...\n&lt;/struts&gt; \n</code></pre>\n"}],"owner":{"account_id":5938922,"reputation":23,"user_id":4670909,"display_name":"Atark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2728,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29087379,"answer_count":1,"score":2,"last_activity_date":1683561250,"creation_date":1426530922,"question_id":29084423,"body_markdown":"Why my filtering does not work for me and how to setup it to work?\r\n\r\nThere is my `web.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;display-name&gt;GameServlet&lt;/display-name&gt;\r\n        &lt;servlet-name&gt;GameServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;ajaxdemo.action.GameServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;GameServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/gameservlet&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;\r\n            org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n        &lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\nOn this configuration `GameServlet` does not receive anything and web server reports that there are no action mapping for `/gameservlet` URL.\r\n\r\nIf I comment filter-mapping this servlet works fine by this URL. \r\n\r\nHow to get working Struts filters and servlet filter simultaneously, the point is servlet should work only with `/gameservlet` URL, all others should be processed by Struts. I cannot understand how to create URL patterns for my case.","title":"How to configure URL patterns to have servlet and Struts2 to work simultaneously?","body":"<p>Why my filtering does not work for me and how to setup it to work?</p>\n\n<p>There is my <code>web.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n&lt;servlet&gt;\n    &lt;display-name&gt;GameServlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;GameServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;ajaxdemo.action.GameServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;GameServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/gameservlet&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;\n        org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n    &lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>On this configuration <code>GameServlet</code> does not receive anything and web server reports that there are no action mapping for <code>/gameservlet</code> URL.</p>\n\n<p>If I comment filter-mapping this servlet works fine by this URL. </p>\n\n<p>How to get working Struts filters and servlet filter simultaneously, the point is servlet should work only with <code>/gameservlet</code> URL, all others should be processed by Struts. I cannot understand how to create URL patterns for my case.</p>\n"},{"tags":["java","regex","jsp","struts2","ognl"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1617335547,"creation_date":1390392144,"answer_id":21282401,"question_id":21282400,"body_markdown":"The `name` is the property of the model and also the property of the action class. The [`modelDriven` interceptor][2] pushes the model on top of the value stack, so it is easy to use it in JSP. The action object is below the model. So, it could be referenced directly using `[1]` prefix. See [OGNL basics][1]. \r\n\r\nBut it&#39;s not necessary if there&#39;s no duplicate property names in the model and action object. When the name such as `name` is evaluated by OGNL it searches from the top of the `valueStack` to down the stack for the property accessor. The first found accessor will be executed. So, the model property has a priority because the model is on top of the value stack. \r\n\r\nIf the property with the name `name` should be set on the action then you could directly name that property as `[1].name`. But, such parameter name is not accepted by default pattern of [`params` interceptor][3]. However, it is a valid OGNL expression. So, to get it pass through the interceptor you need to add it to a pattern of accepted parameter names. Like that\r\n\r\n    @Action(value=&quot;modelDrivenResult&quot;, results=@Result(location = &quot;/modelDriven/modelDrivenResult.jsp&quot;),\r\n      interceptorRefs = @InterceptorRef(value=&quot;defaultStack&quot;, params={\r\n        &quot;params.acceptParamNames&quot;, &quot;(\\\\[\\\\d+\\\\]\\\\.)*\\\\w+((\\\\.\\\\w+)|(\\\\[\\\\d+\\\\])|(\\\\(\\\\d+\\\\))|(\\\\[&#39;\\\\w+&#39;\\\\])|(\\\\(&#39;\\\\w+&#39;\\\\)))*&quot;\r\n      })\r\n    )\r\n\r\nThis is because OGNL also checks the pattern of accepted parameters and this regex pattern allows to match both `params` and OGNL matchers.\r\n\r\n\r\n  [1]: https://struts.apache.org/tag-developers/ognl-basics.html\r\n  [2]: https://struts.apache.org/core-developers/model-driven-interceptor.html\r\n  [3]: https://struts.apache.org/core-developers/parameters-interceptor.html","title":"Passing parameters to action through ModelDriven in Struts 2","body":"<p>The <code>name</code> is the property of the model and also the property of the action class. The <a href=\"https://struts.apache.org/core-developers/model-driven-interceptor.html\" rel=\"nofollow noreferrer\"><code>modelDriven</code> interceptor</a> pushes the model on top of the value stack, so it is easy to use it in JSP. The action object is below the model. So, it could be referenced directly using <code>[1]</code> prefix. See <a href=\"https://struts.apache.org/tag-developers/ognl-basics.html\" rel=\"nofollow noreferrer\">OGNL basics</a>.</p>\n<p>But it's not necessary if there's no duplicate property names in the model and action object. When the name such as <code>name</code> is evaluated by OGNL it searches from the top of the <code>valueStack</code> to down the stack for the property accessor. The first found accessor will be executed. So, the model property has a priority because the model is on top of the value stack.</p>\n<p>If the property with the name <code>name</code> should be set on the action then you could directly name that property as <code>[1].name</code>. But, such parameter name is not accepted by default pattern of <a href=\"https://struts.apache.org/core-developers/parameters-interceptor.html\" rel=\"nofollow noreferrer\"><code>params</code> interceptor</a>. However, it is a valid OGNL expression. So, to get it pass through the interceptor you need to add it to a pattern of accepted parameter names. Like that</p>\n<pre><code>@Action(value=&quot;modelDrivenResult&quot;, results=@Result(location = &quot;/modelDriven/modelDrivenResult.jsp&quot;),\n  interceptorRefs = @InterceptorRef(value=&quot;defaultStack&quot;, params={\n    &quot;params.acceptParamNames&quot;, &quot;(\\\\[\\\\d+\\\\]\\\\.)*\\\\w+((\\\\.\\\\w+)|(\\\\[\\\\d+\\\\])|(\\\\(\\\\d+\\\\))|(\\\\['\\\\w+'\\\\])|(\\\\('\\\\w+'\\\\)))*&quot;\n  })\n)\n</code></pre>\n<p>This is because OGNL also checks the pattern of accepted parameters and this regex pattern allows to match both <code>params</code> and OGNL matchers.</p>\n"}],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3772,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":21282401,"answer_count":1,"score":3,"last_activity_date":1683561222,"creation_date":1390392144,"question_id":21282400,"body_markdown":"The issue is related to the `ModelDriven` and Struts 2.3.16. Since the behavior of the `params` interceptor changed to access parameters passed to the action requires to configure `acceptParamNames` list to use with `ModelDriven` action. If `acceptParamNames` list is empty, it works by default accepting params via default pattern. Suppose we have a \r\n\r\n**`ModelDriven` action:**\r\n\r\n    @Namespace(&quot;/modelDriven&quot;)\r\n    public class ModelDrivenAction extends ActionSupport implements ModelDriven {\r\n    \r\n      private Gangster model = new Gangster();\r\n    \r\n      private String name; //getter and setter\r\n    \r\n      public Object getModel() {\r\n     \treturn model;\r\n      }\r\n    \r\n      @Actions({\r\n        @Action(value=&quot;modelDriven&quot;, results=@Result(location = &quot;/modelDriven/modelDriven.jsp&quot;)),\r\n        @Action(value=&quot;modelDrivenResult&quot;, results=@Result(location = &quot;/modelDriven/modelDrivenResult.jsp&quot;))\r\n      })\r\n      public String execute() throws Exception {\r\n        model.setName(name);\r\n    \treturn SUCCESS;\r\n      }\r\n    }\r\n\r\n**the model:**\r\n\r\n    public class Gangster {\r\n      private String name; //getter and setter\r\n    }\r\n\r\n**modelDriven.jsp:**\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;s:form id=&quot;modelDrivenForm&quot; action=&quot;modelDrivenResult&quot; method=&quot;POST&quot; namespace=&quot;/modelDriven&quot;&gt;    \r\n    \t&lt;s:textfield\r\n\t\t\tlabel=&quot;Gangster Name&quot;\r\n\t\t\tname=&quot;[1].name&quot;/&gt;\r\n\t\t&lt;sj:submit cssClass=&quot;btn btn-primary&quot; executeScripts=&quot;true&quot; targets=&quot;div1&quot;/&gt;\r\n\t&lt;/s:form&gt;\r\n\r\n    &lt;div id=&quot;div1&quot;/&gt;\r\n\r\n**modelDrivenResult.jsp:**\r\n\r\n\t&lt;s:label\r\n\t\tlabel=&quot;Gangster Name&quot;\r\n\t\tname=&quot;name&quot;/&gt;&lt;br/&gt;\r\n\r\n\r\nIn the action `execute` method we are getting parameter `name` which should be populated by the `params` interceptor and initializing the model property to display it in the result. But the problem is the parameter is not populated. How to get parameter `name` being populated by the params interceptor, so the action could display the value?\r\n\r\n","title":"Passing parameters to action through ModelDriven in Struts 2","body":"<p>The issue is related to the <code>ModelDriven</code> and Struts 2.3.16. Since the behavior of the <code>params</code> interceptor changed to access parameters passed to the action requires to configure <code>acceptParamNames</code> list to use with <code>ModelDriven</code> action. If <code>acceptParamNames</code> list is empty, it works by default accepting params via default pattern. Suppose we have a</p>\n<p><strong><code>ModelDriven</code> action:</strong></p>\n<pre><code>@Namespace(&quot;/modelDriven&quot;)\npublic class ModelDrivenAction extends ActionSupport implements ModelDriven {\n\n  private Gangster model = new Gangster();\n\n  private String name; //getter and setter\n\n  public Object getModel() {\n    return model;\n  }\n\n  @Actions({\n    @Action(value=&quot;modelDriven&quot;, results=@Result(location = &quot;/modelDriven/modelDriven.jsp&quot;)),\n    @Action(value=&quot;modelDrivenResult&quot;, results=@Result(location = &quot;/modelDriven/modelDrivenResult.jsp&quot;))\n  })\n  public String execute() throws Exception {\n    model.setName(name);\n    return SUCCESS;\n  }\n}\n</code></pre>\n<p><strong>the model:</strong></p>\n<pre><code>public class Gangster {\n  private String name; //getter and setter\n}\n</code></pre>\n<p><strong>modelDriven.jsp:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:form id=&quot;modelDrivenForm&quot; action=&quot;modelDrivenResult&quot; method=&quot;POST&quot; namespace=&quot;/modelDriven&quot;&gt;    \n    &lt;s:textfield\n        label=&quot;Gangster Name&quot;\n        name=&quot;[1].name&quot;/&gt;\n    &lt;sj:submit cssClass=&quot;btn btn-primary&quot; executeScripts=&quot;true&quot; targets=&quot;div1&quot;/&gt;\n&lt;/s:form&gt;\n\n&lt;div id=&quot;div1&quot;/&gt;\n</code></pre>\n<p><strong>modelDrivenResult.jsp:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:label\n    label=&quot;Gangster Name&quot;\n    name=&quot;name&quot;/&gt;&lt;br/&gt;\n</code></pre>\n<p>In the action <code>execute</code> method we are getting parameter <code>name</code> which should be populated by the <code>params</code> interceptor and initializing the model property to display it in the result. But the problem is the parameter is not populated. How to get parameter <code>name</code> being populated by the params interceptor, so the action could display the value?</p>\n"},{"tags":["java","regex","struts2"],"comments":[{"owner":{"account_id":377569,"reputation":104,"user_id":729778,"display_name":"Dennis Degryse"},"score":0,"creation_date":1403194206,"post_id":24311171,"comment_id":37573842,"body_markdown":"Why are you replacing a string instead of just printing the content at the right place? ie. using `&lt;%@ include file=&quot;filename&quot; %&gt; `","body":"Why are you replacing a string instead of just printing the content at the right place? ie. using <code>&lt;%@ include file=&quot;filename&quot; %&gt; </code>"},{"owner":{"account_id":2637431,"reputation":3932,"user_id":2281770,"accept_rate":60,"display_name":"Nibin"},"score":0,"creation_date":1403194281,"post_id":24311171,"comment_id":37573895,"body_markdown":"@Dennis Would like to explain it to u ,but its a long story.. :)","body":"@Dennis Would like to explain it to u ,but its a long story.. :)"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1403194549,"post_id":24311171,"comment_id":37574082,"body_markdown":"It workds. Try    `System.out.println(&quot;&lt;ul&gt;#myLinks&lt;/ul&gt;&quot;.replaceAll(&quot;#myLinks&quot;,\n            &quot;&lt;li&gt;abc&lt;/li&gt;&lt;li&gt;abc&lt;/li&gt;&lt;li&gt;abc&lt;/li&gt;&lt;li&gt;abc&lt;/li&gt;&quot;));`","body":"It workds. Try    <code>System.out.println(&quot;&lt;ul&gt;#myLinks&lt;&#47;ul&gt;&quot;.replaceAll(&quot;#myLinks&quot;&zwnj;&#8203;,             &quot;&lt;li&gt;abc&lt;&#47;li&gt;&lt;li&gt;abc&lt;&#47;li&gt;&lt;li&gt;abc&lt;&#47;li&gt;&lt;li&gt;abc&lt;&#47;li&gt;&quot;));</code>"},{"owner":{"account_id":2637431,"reputation":3932,"user_id":2281770,"accept_rate":60,"display_name":"Nibin"},"score":0,"creation_date":1403196137,"post_id":24311171,"comment_id":37575057,"body_markdown":"@Braj yep that workd.But my issue is still there","body":"@Braj yep that workd.But my issue is still there"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":1,"creation_date":1403252909,"post_id":24311171,"comment_id":37595934,"body_markdown":"`Would like to explain it to u ,but its a long story.. :)` **WE WANT THE LONG STORY (short) :)** and more details too: do you need to change the HTML, the DOM, or the visibility of that section ? Or do you need to alter the JSP before it&#39;s rendered to HTML ? What exactly are you trying to achieve and why ?","body":"<code>Would like to explain it to u ,but its a long story.. :)</code> <b>WE WANT THE LONG STORY (short) :)</b> and more details too: do you need to change the HTML, the DOM, or the visibility of that section ? Or do you need to alter the JSP before it&#39;s rendered to HTML ? What exactly are you trying to achieve and why ?"}],"answers":[{"tags":[],"owner":{"account_id":2105982,"reputation":183,"user_id":1872300,"display_name":"Sandip Vora"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1403194999,"creation_date":1403194999,"answer_id":24311612,"question_id":24311171,"body_markdown":"You can do this using javascript.\r\nFirst give some id to sublink container tag `&lt;ul id=&quot;test&quot;&gt;`\r\n\r\nthen hope you get sublinks as string. like sublinks = &quot;`&lt;li&gt;abc&lt;/li&gt;&lt;li&gt;abc&lt;/li&gt;...`&quot;\r\n\r\nNow write following javascript code at last in body.\r\n\r\n`&lt;script type=&quot;text/javascript&quot;&gt;\r\ndocument.getElementById(&#39;test&#39;).innerHTML = sublinks;\r\n&lt;/script&gt;\r\n`\r\n\r\nThat&#39;s it.\r\n\r\nHope this will be helpful to you.","title":"Replace html content with another html content","body":"<p>You can do this using javascript.\nFirst give some id to sublink container tag <code>&lt;ul id=\"test\"&gt;</code></p>\n\n<p>then hope you get sublinks as string. like sublinks = \"<code>&lt;li&gt;abc&lt;/li&gt;&lt;li&gt;abc&lt;/li&gt;...</code>\"</p>\n\n<p>Now write following javascript code at last in body.</p>\n\n<p><code>&lt;script type=\"text/javascript\"&gt;\ndocument.getElementById('test').innerHTML = sublinks;\n&lt;/script&gt;\n</code></p>\n\n<p>That's it.</p>\n\n<p>Hope this will be helpful to you.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683561136,"creation_date":1403205498,"answer_id":24314630,"question_id":24311171,"body_markdown":"You can use different ways to do it, but the most simple way is to use some property or method in the action class that returns a string which contains a generated html. Then you you can write this HTML directly to the out.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;ul&gt;&lt;s:property value=&quot;%{subLinks}&quot; escapeHtml=&quot;false&quot; /&gt;&lt;/ul&gt;\r\n\r\nof course you should provide a getter for `subLinks` property.","title":"Replace html content with another html content","body":"<p>You can use different ways to do it, but the most simple way is to use some property or method in the action class that returns a string which contains a generated html. Then you you can write this HTML directly to the out.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ul&gt;&lt;s:property value=&quot;%{subLinks}&quot; escapeHtml=&quot;false&quot; /&gt;&lt;/ul&gt;\n</code></pre>\n<p>of course you should provide a getter for <code>subLinks</code> property.</p>\n"}],"owner":{"account_id":2637431,"reputation":3932,"user_id":2281770,"accept_rate":60,"display_name":"Nibin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683561136,"creation_date":1403193786,"question_id":24311171,"body_markdown":"I have a JSP page `new.jsp` which has the following content say \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;div class=&quot;parentClass&quot;&gt;\r\n       &lt;ul&gt;#myLinks&lt;/ul&gt;\r\n     &lt;/div&gt;\r\n     &lt;a href=&quot;javaScript:void(0)&quot; class=&quot;seeAll&quot;&gt;More&lt;/a&gt;\r\n\r\nI have to replace the `#myLinks` with another HTML that I generate in my action class. I read the content of the JSP page using htmlReader which is working correctly. But I tried using replaceAll function to replace my unwanted content. `myPage` contains the content of my JSP page.\r\n\r\n`subLinks` content is a follows\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;li&gt;abc&lt;/li&gt;\r\n    &lt;li&gt;abc&lt;/li&gt;\r\n    &lt;li&gt;abc&lt;/li&gt;\r\n    &lt;li&gt;abc&lt;/li&gt;\r\n\r\nBut even after using this, the output of `replacedContent` is the same.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    replacedContent = myPage.replaceAll(&quot;#myLinks&quot;, subLinks);\r\n\r\nI need the final output as\r\n\r\n&lt;!-- language: lang-xml --&gt; \r\n\r\n    &lt;div class=&quot;parentClass&quot;&gt;\r\n       &lt;ul&gt;\r\n          &lt;li&gt;abc&lt;/li&gt;\r\n          &lt;li&gt;abc&lt;/li&gt;\r\n          &lt;li&gt;abc&lt;/li&gt;\r\n          &lt;li&gt;abc&lt;/li&gt;\r\n      &lt;/ul&gt;\r\n     &lt;/div&gt;\r\n     &lt;a href=&quot;javaScript:void(0)&quot; class=&quot;seeAll&quot;&gt;More&lt;/a&gt;\r\n\r\nCould someone help me on this.","title":"Replace html content with another html content","body":"<p>I have a JSP page <code>new.jsp</code> which has the following content say</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div class=&quot;parentClass&quot;&gt;\n   &lt;ul&gt;#myLinks&lt;/ul&gt;\n &lt;/div&gt;\n &lt;a href=&quot;javaScript:void(0)&quot; class=&quot;seeAll&quot;&gt;More&lt;/a&gt;\n</code></pre>\n<p>I have to replace the <code>#myLinks</code> with another HTML that I generate in my action class. I read the content of the JSP page using htmlReader which is working correctly. But I tried using replaceAll function to replace my unwanted content. <code>myPage</code> contains the content of my JSP page.</p>\n<p><code>subLinks</code> content is a follows</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;li&gt;abc&lt;/li&gt;\n&lt;li&gt;abc&lt;/li&gt;\n&lt;li&gt;abc&lt;/li&gt;\n&lt;li&gt;abc&lt;/li&gt;\n</code></pre>\n<p>But even after using this, the output of <code>replacedContent</code> is the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>replacedContent = myPage.replaceAll(&quot;#myLinks&quot;, subLinks);\n</code></pre>\n<p>I need the final output as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;div class=&quot;parentClass&quot;&gt;\n   &lt;ul&gt;\n      &lt;li&gt;abc&lt;/li&gt;\n      &lt;li&gt;abc&lt;/li&gt;\n      &lt;li&gt;abc&lt;/li&gt;\n      &lt;li&gt;abc&lt;/li&gt;\n  &lt;/ul&gt;\n &lt;/div&gt;\n &lt;a href=&quot;javaScript:void(0)&quot; class=&quot;seeAll&quot;&gt;More&lt;/a&gt;\n</code></pre>\n<p>Could someone help me on this.</p>\n"},{"tags":["java","regex","struts2"],"comments":[{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473077917,"post_id":39330329,"comment_id":65992328,"body_markdown":"please try it once with just /mystring , i know here  value should be regex but sometimes it will treate / as simple string also","body":"please try it once with just /mystring , i know here  value should be regex but sometimes it will treate / as simple string also"},{"owner":{"account_id":89940,"reputation":2016,"user_id":247814,"accept_rate":100,"display_name":"ilovetolearn"},"score":0,"creation_date":1473078295,"post_id":39330329,"comment_id":65992581,"body_markdown":"like this? &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/mystring$&quot;/&gt;","body":"like this? &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;/mystring$&quot;/&gt;"},{"owner":{"account_id":2492602,"reputation":3495,"user_id":2169777,"accept_rate":79,"display_name":"Jekin Kalariya"},"score":0,"creation_date":1473078459,"post_id":39330329,"comment_id":65992687,"body_markdown":"i think it should work without $ at end also","body":"i think it should work without $ at end also"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683561096,"creation_date":1473100350,"answer_id":39336001,"question_id":39330329,"body_markdown":"Incorrectly. The pattern should be \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;.*/mystring$&quot;/&gt;\r\n\r\nthis pattern is compiled and matched against the URI. The code\r\n\r\n&gt;     String uri = RequestUtils.getUri(request);\r\n&gt;     for ( Pattern pattern : excludedPatterns ) {\r\n&gt;         if (pattern.matcher(uri).matches()) {\r\n&gt;             return true;\r\n&gt;         }\r\n&gt;     }\r\n&gt;     return false;\r\n\r\nbecause it matches against whole URI string you should make your pattern greedy at the beginning.","title":"struts.action.excludePattern not working","body":"<p>Incorrectly. The pattern should be</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;.*/mystring$&quot;/&gt;\n</code></pre>\n<p>this pattern is compiled and matched against the URI. The code</p>\n<blockquote>\n<pre><code>String uri = RequestUtils.getUri(request);\nfor ( Pattern pattern : excludedPatterns ) {\n    if (pattern.matcher(uri).matches()) {\n        return true;\n    }\n}\nreturn false;\n</code></pre>\n</blockquote>\n<p>because it matches against whole URI string you should make your pattern greedy at the beginning.</p>\n"}],"owner":{"account_id":89940,"reputation":2016,"user_id":247814,"accept_rate":100,"display_name":"ilovetolearn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39336001,"answer_count":1,"score":2,"last_activity_date":1683561096,"creation_date":1473077432,"question_id":39330329,"body_markdown":"I wanted to exclude a specific string in my URL. I have tested the regular expression using online reg tester and it works.\r\n\r\nHowever, when I access the URL, it seems that struts2 is still handling the request.\r\n\r\nDid I configure my exclusion incorrectly?\r\n\r\n    &lt;constant name=&quot;struts.action.excludePattern&quot; value=&quot;\\/mystring$&quot;/&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vNJkZ.png\r\n\r\n\r\n\r\nI extracted the following codes from struts2 framework and created my own test class to test the regular expression.\r\n\r\n\r\n    public static List&lt;Pattern&gt; buildExcludedPatternsList(String patterns) {\r\n\t\tif ((null != patterns) &amp;&amp; (patterns.trim().length() != 0)) {\r\n\t\t\tList&lt;Pattern&gt; list = new ArrayList();\r\n\t\t\tString[] tokens = patterns.split(&quot;,&quot;);\r\n\t\t\tfor (String token : tokens) {\r\n\t\t\t\tSystem.out.println(&quot;Token=&quot; + token);\r\n\t\t\t\tlist.add(Pattern.compile(token.trim()));\r\n\t\t\t}\r\n\t\t\treturn Collections.unmodifiableList(list);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n    \r\n    public static boolean isUrlExcluded(String uri, List&lt;Pattern&gt; excludedPatterns) {\r\n\t\tif (excludedPatterns != null) {\r\n\t\t\tfor (Pattern pattern : excludedPatterns) {\r\n\t\t\t\tif (pattern.matcher(uri).matches()) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n","title":"struts.action.excludePattern not working","body":"<p>I wanted to exclude a specific string in my URL. I have tested the regular expression using online reg tester and it works.</p>\n\n<p>However, when I access the URL, it seems that struts2 is still handling the request.</p>\n\n<p>Did I configure my exclusion incorrectly?</p>\n\n<pre><code>&lt;constant name=\"struts.action.excludePattern\" value=\"\\/mystring$\"/&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vNJkZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vNJkZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I extracted the following codes from struts2 framework and created my own test class to test the regular expression.</p>\n\n<pre><code>public static List&lt;Pattern&gt; buildExcludedPatternsList(String patterns) {\n    if ((null != patterns) &amp;&amp; (patterns.trim().length() != 0)) {\n        List&lt;Pattern&gt; list = new ArrayList();\n        String[] tokens = patterns.split(\",\");\n        for (String token : tokens) {\n            System.out.println(\"Token=\" + token);\n            list.add(Pattern.compile(token.trim()));\n        }\n        return Collections.unmodifiableList(list);\n    }\n    return null;\n}\n\n\npublic static boolean isUrlExcluded(String uri, List&lt;Pattern&gt; excludedPatterns) {\n    if (excludedPatterns != null) {\n        for (Pattern pattern : excludedPatterns) {\n            if (pattern.matcher(uri).matches()) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","jsp","url","struts2","wildcard-mapping"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1400667815,"post_id":23780282,"comment_id":36571352,"body_markdown":"So why do you put `profiles/` in front of the action name if you don&#39;t want it to be there?","body":"So why do you put <code>profiles&#47;</code> in front of the action name if you don&#39;t want it to be there?"},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":1,"creation_date":1400667899,"post_id":23780282,"comment_id":36571416,"body_markdown":"i dont need profiles to be in URL...for users it should be simple...like Domainname/username...simple one..","body":"i dont need profiles to be in URL...for users it should be simple...like Domainname/username...simple one.."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1400667995,"post_id":23780282,"comment_id":36571478,"body_markdown":"So remove it from action name.","body":"So remove it from action name."},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":0,"creation_date":1400668258,"post_id":23780282,"comment_id":36571637,"body_markdown":"U mean to tell... http://www.SocialNetwork/jasmine but the problem is jasmine is a username...i dont have any action class so that i can process the name and redirect to his profile page...","body":"U mean to tell... <a href=\"http://www.SocialNetwork/jasmine\" rel=\"nofollow noreferrer\">SocialNetwork/jasmine</a> but the problem is jasmine is a username...i dont have any action class so that i can process the name and redirect to his profile page..."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1400669795,"post_id":23780282,"comment_id":36572720,"body_markdown":"@goodyzian How do you distinguish between user names and and other actions?","body":"@goodyzian How do you distinguish between user names and and other actions?"},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":0,"creation_date":1400670041,"post_id":23780282,"comment_id":36572907,"body_markdown":"Yeah...that was other case...i will assign them a unique Id...like the username not going to be just Jhon...i will give something like this...Jhon+unique id...like  http://www.SocialNetwork/jasmine$8383992Juuf, Roman C sir i am just finding a way where i can provide Unique urls to every user...:)in simple fashion like domainname/username..is this achievable.??","body":"Yeah...that was other case...i will assign them a unique Id...like the username not going to be just Jhon...i will give something like this...Jhon+unique id...like  <a href=\"http://www.SocialNetwork/jasmine$8383992Juuf\" rel=\"nofollow noreferrer\">SocialNetwork/jasmine$8383992Juuf</a>, Roman C sir i am just finding a way where i can provide Unique urls to every user...:)in simple fashion like domainname/username..is this achievable.??"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1400670623,"post_id":23780282,"comment_id":36573286,"body_markdown":"Why not if you have only one action in the root namespace that gets the username as a parameter in url?","body":"Why not if you have only one action in the root namespace that gets the username as a parameter in url?"},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":2,"creation_date":1400670814,"post_id":23780282,"comment_id":36573424,"body_markdown":"like this...&lt;package name=&quot;default&quot; extends=&quot;struts-default,json-default,jasperreports-default&quot; namespace=&quot;profiles&quot;&gt; Or can u tell me How to do this...??","body":"like this...&lt;package name=&quot;default&quot; extends=&quot;struts-default,json-default,jasperreports-default&quot; namespace=&quot;profiles&quot;&gt; Or can u tell me How to do this...??"},{"owner":{"account_id":1010577,"reputation":815,"user_id":1023236,"accept_rate":42,"display_name":"Rajeshkumar"},"score":0,"creation_date":1400837954,"post_id":23780282,"comment_id":36657052,"body_markdown":"I made a complete sample for the above. If any one wants please refer [here](http://tech.learnerandtutor.com/custom-url-in-struts2-for-each-user/)","body":"I made a complete sample for the above. If any one wants please refer <a href=\"http://tech.learnerandtutor.com/custom-url-in-struts2-for-each-user/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":0,"creation_date":1400839633,"post_id":23780282,"comment_id":36658137,"body_markdown":"@Rajesh its mine...:p :p :p","body":"@Rajesh its mine...:p :p :p"},{"owner":{"account_id":1010577,"reputation":815,"user_id":1023236,"accept_rate":42,"display_name":"Rajeshkumar"},"score":0,"creation_date":1400839750,"post_id":23780282,"comment_id":36658211,"body_markdown":"@goodyzain I accept. But I made that for the new users to understand completely and easily all discussions made here.","body":"@goodyzain I accept. But I made that for the new users to understand completely and easily all discussions made here."}],"answers":[{"tags":[],"owner":{"account_id":4266152,"reputation":845,"user_id":3489227,"accept_rate":89,"display_name":"Paresh3489227"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400827351,"creation_date":1400670719,"answer_id":23781551,"question_id":23780282,"body_markdown":"Try this out. It may work. Use **Freemarker** USE `$`.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;profiles/${username}&quot; class=&quot;com.example.actions.ViewProfileAction&quot;&gt;\r\n        &lt;result name=&quot;input&quot;&gt;/WEB-INF/jsp/profile.jsp&lt;/result&gt;\r\n    &lt;/action&gt; \r\n\r\nIt may work","title":"How to create custom URL in Struts 2? Like www.twitter.com/goodyzain","body":"<p>Try this out. It may work. Use <strong>Freemarker</strong> USE <code>$</code>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=\"profiles/${username}\" class=\"com.example.actions.ViewProfileAction\"&gt;\n    &lt;result name=\"input\"&gt;/WEB-INF/jsp/profile.jsp&lt;/result&gt;\n&lt;/action&gt; \n</code></pre>\n\n<p>It may work</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683560834,"creation_date":1400688180,"answer_id":23788400,"question_id":23780282,"body_markdown":"If you want to use named patterns in wildcard mapping then you should configure following in the `struts.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\r\n    &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\r\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\r\n\r\nnow assume `com.example.actions.ViewProfileAction` bean has a property `username`, and method `execute` that returns a `SUCCESS` result. Then you can map the action in the root namespace `&quot;/&quot;` configured to your package.  \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;{username}&quot; class=&quot;com.example.actions.ViewProfileAction&quot;&gt;\r\n      &lt;result&gt;/WEB-INF/jsp/profile.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nyou can get the name in the JSP using OGNL \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:property value=&quot;username&quot;/&gt;\r\n\r\nAlso note that you should deploy to the root context to have \r\n\r\n`your.domain.com/username` mapped to your action.","title":"How to create custom URL in Struts 2? Like www.twitter.com/goodyzain","body":"<p>If you want to use named patterns in wildcard mapping then you should configure following in the <code>struts.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\n&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\n</code></pre>\n<p>now assume <code>com.example.actions.ViewProfileAction</code> bean has a property <code>username</code>, and method <code>execute</code> that returns a <code>SUCCESS</code> result. Then you can map the action in the root namespace <code>&quot;/&quot;</code> configured to your package.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;{username}&quot; class=&quot;com.example.actions.ViewProfileAction&quot;&gt;\n  &lt;result&gt;/WEB-INF/jsp/profile.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>you can get the name in the JSP using OGNL</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:property value=&quot;username&quot;/&gt;\n</code></pre>\n<p>Also note that you should deploy to the root context to have</p>\n<p><code>your.domain.com/username</code> mapped to your action.</p>\n"}],"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":23788400,"answer_count":2,"score":6,"last_activity_date":1683560834,"creation_date":1400667401,"question_id":23780282,"body_markdown":"I am working on a project where I want to provide unique URL for each user. \r\n\r\nFor example:\r\n\r\n * `www.SocialNetwork.com/jhon`  \r\n * `www.SocialNetwork.com/jasmine`\r\n    \r\nSo far I&#39;m able to achieve this:   \r\n\r\n * `www.SocialNetwork.com/profiles/jasmine`  \r\n\r\nhere `profiles` is my action where I can get the user name by \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n    &lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\r\n    &lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\r\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;namedVariable&quot;/&gt; \r\n    \r\n    \r\n    &lt;action name=&quot;profiles/{username}&quot; class=&quot;com.example.actions.ViewProfileAction&quot;&gt;\r\n      &lt;result name=&quot;input&quot;&gt;/WEB-INF/jsp/profile.jsp&lt;/result&gt;\r\n    &lt;/action&gt; \r\n    \r\n    \r\nbut I want to achieve something *like* this:\r\n\r\n * `www.SocialNetwork.com/jasmine`\r\n\r\nJust use *domain name* and *username*.\r\n\r\nLike Twitter does:\r\n\r\n * `www.twitter.com/username`\r\n\r\nHow to achieve this? ","title":"How to create custom URL in Struts 2? Like www.twitter.com/goodyzain","body":"<p>I am working on a project where I want to provide unique URL for each user.</p>\n<p>For example:</p>\n<ul>\n<li><code>www.SocialNetwork.com/jhon</code></li>\n<li><code>www.SocialNetwork.com/jasmine</code></li>\n</ul>\n<p>So far I'm able to achieve this:</p>\n<ul>\n<li><code>www.SocialNetwork.com/profiles/jasmine</code></li>\n</ul>\n<p>here <code>profiles</code> is my action where I can get the user name by</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot; value=&quot;false&quot;/&gt;\n&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot;/&gt;\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;namedVariable&quot;/&gt; \n\n\n&lt;action name=&quot;profiles/{username}&quot; class=&quot;com.example.actions.ViewProfileAction&quot;&gt;\n  &lt;result name=&quot;input&quot;&gt;/WEB-INF/jsp/profile.jsp&lt;/result&gt;\n&lt;/action&gt; \n</code></pre>\n<p>but I want to achieve something <em>like</em> this:</p>\n<ul>\n<li><code>www.SocialNetwork.com/jasmine</code></li>\n</ul>\n<p>Just use <em>domain name</em> and <em>username</em>.</p>\n<p>Like Twitter does:</p>\n<ul>\n<li><code>www.twitter.com/username</code></li>\n</ul>\n<p>How to achieve this?</p>\n"},{"tags":["java","android","firebase","android-fragments","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683560634,"creation_date":1683560634,"answer_id":76202153,"question_id":76202101,"body_markdown":"You are setting arguments to a different fragment rather than navigating fragment\r\n```\r\nString userid = getRef(holder.getBindingAdapterPosition()).getKey().toString();\r\n//you are navigating to this fragment, so set arguments to this\r\nFragment fragment = new AnotherUserFragment();\r\n\r\nBundle args = new Bundle();\r\nargs.putString(&quot;userid&quot;, userid);\r\n\r\nAddUserFragment addUserFragment = new AddUserFragment();\r\naddUserFragment.setArguments(args);\r\n\r\n//add this line to set arguments for the actual target fragment\r\nfragment.setArguments(args);\r\n\r\nFragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\r\ntransaction.replace(R.id.main_body, fragment);\r\ntransaction.addToBackStack(null);\r\ntransaction.commit();\r\n\r\n```","title":"How to pass data from one fragment to another through RecyclerView?","body":"<p>You are setting arguments to a different fragment rather than navigating fragment</p>\n<pre><code>String userid = getRef(holder.getBindingAdapterPosition()).getKey().toString();\n//you are navigating to this fragment, so set arguments to this\nFragment fragment = new AnotherUserFragment();\n\nBundle args = new Bundle();\nargs.putString(&quot;userid&quot;, userid);\n\nAddUserFragment addUserFragment = new AddUserFragment();\naddUserFragment.setArguments(args);\n\n//add this line to set arguments for the actual target fragment\nfragment.setArguments(args);\n\nFragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\ntransaction.replace(R.id.main_body, fragment);\ntransaction.addToBackStack(null);\ntransaction.commit();\n\n</code></pre>\n"}],"owner":{"account_id":28548187,"reputation":5,"user_id":21853369,"display_name":"UserName"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76202153,"answer_count":1,"score":0,"last_activity_date":1683560634,"creation_date":1683560146,"question_id":76202101,"body_markdown":"I need to pass user id from Firebase from one fragment to another when clicking on RecyclerView item. I tried to do it via Bundle, but I get the following error: \r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object android.os.Bundle.get(java.lang.String)&#39; on a null object reference\r\n\r\nSending Fragment:\r\n\r\n```\r\nFirebaseRecyclerAdapter firebaseRecyclerAdapter =\r\n    new FirebaseRecyclerAdapter&lt;User, FindFriendsViewHolder&gt;(options) {\r\n  @Override\r\n  protected void onBindViewHolder(@NonNull FindFriendsViewHolder holder, int position, @NonNull User model) {\r\n    holder.setUserName(model.getName());\r\n    Picasso.get().load(model.getImageURL()).placeholder(R.drawable.ic_baseline_person_24).into(holder.userImage);\r\n\r\n    holder.mView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            String userid = getRef(holder.getBindingAdapterPosition()).getKey().toString();\r\n            Fragment fragment= new AnotherUserFragment();\r\n\r\n            Bundle args = new Bundle();\r\n            args.putString(&quot;userid&quot;, userid);\r\n\r\n            AddUserFragment addUserFragment = new AddUserFragment();\r\n            addUserFragment.setArguments(args);\r\n\r\n            FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\r\n            transaction.replace(R.id.main_body, fragment);\r\n            transaction.addToBackStack(null);\r\n            transaction.commit();\r\n\r\n        }\r\n    });\r\n  }\r\n```\r\nReceiving Fragment:\r\n\r\n\r\n```\r\nBundle args = getArguments();\r\nString receiverUserId = args.get(&quot;userid&quot;).toString();\r\nToast.makeText(getActivity(), &quot;your id: &quot; + receiverUserId, Toast.LENGTH_SHORT).show();\r\n```\r\n\r\n","title":"How to pass data from one fragment to another through RecyclerView?","body":"<p>I need to pass user id from Firebase from one fragment to another when clicking on RecyclerView item. I tried to do it via Bundle, but I get the following error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.os.Bundle.get(java.lang.String)' on a null object reference</p>\n</blockquote>\n<p>Sending Fragment:</p>\n<pre><code>FirebaseRecyclerAdapter firebaseRecyclerAdapter =\n    new FirebaseRecyclerAdapter&lt;User, FindFriendsViewHolder&gt;(options) {\n  @Override\n  protected void onBindViewHolder(@NonNull FindFriendsViewHolder holder, int position, @NonNull User model) {\n    holder.setUserName(model.getName());\n    Picasso.get().load(model.getImageURL()).placeholder(R.drawable.ic_baseline_person_24).into(holder.userImage);\n\n    holder.mView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            String userid = getRef(holder.getBindingAdapterPosition()).getKey().toString();\n            Fragment fragment= new AnotherUserFragment();\n\n            Bundle args = new Bundle();\n            args.putString(&quot;userid&quot;, userid);\n\n            AddUserFragment addUserFragment = new AddUserFragment();\n            addUserFragment.setArguments(args);\n\n            FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\n            transaction.replace(R.id.main_body, fragment);\n            transaction.addToBackStack(null);\n            transaction.commit();\n\n        }\n    });\n  }\n</code></pre>\n<p>Receiving Fragment:</p>\n<pre><code>Bundle args = getArguments();\nString receiverUserId = args.get(&quot;userid&quot;).toString();\nToast.makeText(getActivity(), &quot;your id: &quot; + receiverUserId, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":["java","parameters","struts2","ognl"],"answers":[{"tags":[],"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368746619,"creation_date":1368746619,"answer_id":16599081,"question_id":16598049,"body_markdown":"Yes, you need to remove the [Struts params interceptor][1] mapping for this specific action. I believe you can take an approach similar to the one in [this related question][2]. Otherwise you will have to create another interceptor stack with the interceptors you desire, minus the parameter interceptor and map the action to that stack in struts.xml or use the [@InterceptorRef][3] annotation on your action class, assuming you&#39;re using the convention plugin.\r\n\r\n\r\n  [1]: http://struts.apache.org/release/2.0.x/docs/parameters-interceptor.html\r\n  [2]: https://stackoverflow.com/questions/8116076/struts-2-excluding-method-from-validation-from-just-the-defaultstack-intercepto\r\n  [3]: https://cwiki.apache.org/WW/convention-plugin.html#ConventionPlugin-InterceptorRefannotation","title":"How to awoid ognl.OgnlException: target is null for setProperty in Struts 2","body":"<p>Yes, you need to remove the <a href=\"http://struts.apache.org/release/2.0.x/docs/parameters-interceptor.html\" rel=\"nofollow noreferrer\">Struts params interceptor</a> mapping for this specific action. I believe you can take an approach similar to the one in <a href=\"https://stackoverflow.com/questions/8116076/struts-2-excluding-method-from-validation-from-just-the-defaultstack-intercepto\">this related question</a>. Otherwise you will have to create another interceptor stack with the interceptors you desire, minus the parameter interceptor and map the action to that stack in struts.xml or use the <a href=\"https://cwiki.apache.org/WW/convention-plugin.html#ConventionPlugin-InterceptorRefannotation\" rel=\"nofollow noreferrer\">@InterceptorRef</a> annotation on your action class, assuming you're using the convention plugin.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683560324,"creation_date":1368778799,"answer_id":16604527,"question_id":16598049,"body_markdown":"You can exclude some properties from the accepted parameters for [`params`][1] interceptor by setting parameter `excludeParams` to the interceptor. By default this parameter is initialized with \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;interceptor-ref name=&quot;params&quot;&gt;\r\n      &lt;param name=&quot;excludeParams&quot;&gt;dojo\\..*,^struts\\..*,^session\\..*,^request\\..*,^application\\..*,^servlet(Request|Response)\\..*,parameters\\...*&lt;/param&gt;\r\n    &lt;/interceptor-ref&gt;\r\n\r\nYou should add you properties here, it accepts the regex pattern to match the property names. The strategy applied with accepted parameter names could be compromised via the [`ParameterNameAware`][2] implemented actions where you could remove the restriction given above.    \r\n\r\nTo be more specific about &quot;data coming from the user interface&quot; I&#39;d adhere that parameters to the `interceptor-ref` element is applied to the interceptor on start up and is not stored elsewhere in the configuration manager. This means you can&#39;t get this parameters at runtime and only could change via updating and reloading the configuration file `struts.xml`. If you keep your configuration in the safe place and it&#39;s protected from modification then you could make more claims toward your running application safety. \r\n\r\n  [1]: http://struts.apache.org/development/2.x/docs/parameters-interceptor.html\r\n  [2]: http://struts.apache.org/release/2.0.x/struts2-core/apidocs/com/opensymphony/xwork2/interceptor/ParameterNameAware.html","title":"How to awoid ognl.OgnlException: target is null for setProperty in Struts 2","body":"<p>You can exclude some properties from the accepted parameters for <a href=\"http://struts.apache.org/development/2.x/docs/parameters-interceptor.html\" rel=\"nofollow noreferrer\"><code>params</code></a> interceptor by setting parameter <code>excludeParams</code> to the interceptor. By default this parameter is initialized with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;interceptor-ref name=&quot;params&quot;&gt;\n  &lt;param name=&quot;excludeParams&quot;&gt;dojo\\..*,^struts\\..*,^session\\..*,^request\\..*,^application\\..*,^servlet(Request|Response)\\..*,parameters\\...*&lt;/param&gt;\n&lt;/interceptor-ref&gt;\n</code></pre>\n<p>You should add you properties here, it accepts the regex pattern to match the property names. The strategy applied with accepted parameter names could be compromised via the <a href=\"http://struts.apache.org/release/2.0.x/struts2-core/apidocs/com/opensymphony/xwork2/interceptor/ParameterNameAware.html\" rel=\"nofollow noreferrer\"><code>ParameterNameAware</code></a> implemented actions where you could remove the restriction given above.</p>\n<p>To be more specific about &quot;data coming from the user interface&quot; I'd adhere that parameters to the <code>interceptor-ref</code> element is applied to the interceptor on start up and is not stored elsewhere in the configuration manager. This means you can't get this parameters at runtime and only could change via updating and reloading the configuration file <code>struts.xml</code>. If you keep your configuration in the safe place and it's protected from modification then you could make more claims toward your running application safety.</p>\n"}],"owner":{"account_id":48583,"reputation":2213,"user_id":144414,"accept_rate":68,"display_name":"Laxmikanth Samudrala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1957,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16604527,"answer_count":2,"score":3,"last_activity_date":1683560393,"creation_date":1368740896,"question_id":16598049,"body_markdown":"I would like to create an action class with no setter and getter on properties for the data coming from the user interface. Instead, I would like to use `ServletActionContext.getRequest().getParameterMap()` in my own builder class to construct the object. \r\n\r\nI had created my `Action` class with no properties. When I am submitting my form I am running into `ognl.OgnlException: target is null for setProperty(null, &quot;field-name&quot;, [Ljava.lang.String;@5513fab7)`\r\n\r\nIs there any additional conventions or configurations required to convey Struts2 framework to not set properties and stop avoid the exception I am receiving above?","title":"How to awoid ognl.OgnlException: target is null for setProperty in Struts 2","body":"<p>I would like to create an action class with no setter and getter on properties for the data coming from the user interface. Instead, I would like to use <code>ServletActionContext.getRequest().getParameterMap()</code> in my own builder class to construct the object. </p>\n\n<p>I had created my <code>Action</code> class with no properties. When I am submitting my form I am running into <code>ognl.OgnlException: target is null for setProperty(null, \"field-name\", [Ljava.lang.String;@5513fab7)</code></p>\n\n<p>Is there any additional conventions or configurations required to convey Struts2 framework to not set properties and stop avoid the exception I am receiving above?</p>\n"},{"tags":["java","android","maven","gradle","cordova-plugins"],"comments":[{"owner":{"account_id":7883507,"reputation":306,"user_id":10869204,"display_name":"Konstantin"},"score":0,"creation_date":1691671839,"post_id":76199924,"comment_id":135524854,"body_markdown":"Did you find solution?","body":"Did you find solution?"}],"owner":{"account_id":28545302,"reputation":11,"user_id":21850812,"display_name":"antoniomp17"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683560353,"creation_date":1683543720,"question_id":76199924,"body_markdown":"Since about a month ago my Android project with Cordova is giving problems when applying the plugin &quot;com.github.dcendents.android-maven&quot;. The error is as follows:\r\n\r\n\r\n```\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:CordovaLib&#39;.\r\n&gt; Failed to apply plugin &#39;com.github.dcendents.android-maven&#39;.\r\n   &gt; Could not create plugin of type &#39;AndroidMavenPlugin&#39;.\r\n      &gt; Could not generate a decorated class for type AndroidMavenPlugin.\r\n         &gt; org/gradle/api/publication/maven/internal/MavenPomMetaInfoProvider\r\n```\r\n\r\n\r\n\r\nAnd the gradle code is the next:\r\n\r\n```\r\next {\r\n    apply from: &#39;cordova.gradle&#39;\r\n    cdvCompileSdkVersion = privateHelpers.getProjectTarget()\r\n    cdvBuildToolsVersion = privateHelpers.findLatestInstalledBuildTools()\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n        jcenter()\r\n    }\r\n\r\n    dependencies {\r\n        // The gradle plugin and the maven plugin have to be updated after each version of Android\r\n        // studio comes out\r\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\n        classpath &#39;com.github.dcendents:android-maven-gradle-plugin:2.1&#39;\r\n        classpath &#39;com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3&#39;\r\n        classpath &#39;com.android.support:support-compat:28.0.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenCentral()\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.android.library&#39;\r\napply plugin: &#39;com.github.dcendents.android-maven&#39;\r\napply plugin: &#39;com.jfrog.bintray&#39;\r\n\r\ngroup = &#39;org.apache.cordova&#39;\r\nversion = &#39;8.1.0&#39;\r\n```\r\n\r\n\r\nAnother thing that catches my attention is that Android Studio is not able to detect the file &#39;gradle-wrapper.properties&#39;.\r\n\r\n[&#39;gradle-wrapper.properties&#39; not found](https://i.stack.imgur.com/ZFPEt.png)\r\n\r\nThe gradle-wrapper.properties must exists, because is in the gradle/wrapper directory, and is write as follows:\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.1-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```\r\n\r\nI have tried updating java to different versions, java 1.8, 11, 17, 19. \r\nI&#39;ve tried upgrading cordova to different versions.\r\nI&#39;ve tried invalidating cache and restarting Android Studio.\r\nI tried reinstalling Android Studio.\r\nI have tried deleting Android cache files.\r\nI have tried all the related things I have found on the forum.\r\n\r\nNothing works.\r\n\r\nThis error is making me desperate, please help.","title":"Failed to apply cordova-plugin","body":"<p>Since about a month ago my Android project with Cordova is giving problems when applying the plugin &quot;com.github.dcendents.android-maven&quot;. The error is as follows:</p>\n<pre><code>* What went wrong:\nA problem occurred evaluating project ':CordovaLib'.\n&gt; Failed to apply plugin 'com.github.dcendents.android-maven'.\n   &gt; Could not create plugin of type 'AndroidMavenPlugin'.\n      &gt; Could not generate a decorated class for type AndroidMavenPlugin.\n         &gt; org/gradle/api/publication/maven/internal/MavenPomMetaInfoProvider\n</code></pre>\n<p>And the gradle code is the next:</p>\n<pre><code>ext {\n    apply from: 'cordova.gradle'\n    cdvCompileSdkVersion = privateHelpers.getProjectTarget()\n    cdvBuildToolsVersion = privateHelpers.findLatestInstalledBuildTools()\n}\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        // The gradle plugin and the maven plugin have to be updated after each version of Android\n        // studio comes out\n        classpath 'com.android.tools.build:gradle:4.2.2'\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:2.1'\n        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.7.3'\n        classpath 'com.android.support:support-compat:28.0.0'\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        google()\n        jcenter()\n    }\n}\n\napply plugin: 'com.android.library'\napply plugin: 'com.github.dcendents.android-maven'\napply plugin: 'com.jfrog.bintray'\n\ngroup = 'org.apache.cordova'\nversion = '8.1.0'\n</code></pre>\n<p>Another thing that catches my attention is that Android Studio is not able to detect the file 'gradle-wrapper.properties'.</p>\n<p><a href=\"https://i.stack.imgur.com/ZFPEt.png\" rel=\"nofollow noreferrer\">'gradle-wrapper.properties' not found</a></p>\n<p>The gradle-wrapper.properties must exists, because is in the gradle/wrapper directory, and is write as follows:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7.1-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p>I have tried updating java to different versions, java 1.8, 11, 17, 19.\nI've tried upgrading cordova to different versions.\nI've tried invalidating cache and restarting Android Studio.\nI tried reinstalling Android Studio.\nI have tried deleting Android cache files.\nI have tried all the related things I have found on the forum.</p>\n<p>Nothing works.</p>\n<p>This error is making me desperate, please help.</p>\n"},{"tags":["java","maven-2","configuration"],"comments":[{"owner":{"account_id":2214,"reputation":20109,"user_id":3045,"accept_rate":90,"display_name":"Paul D. Eden"},"score":0,"creation_date":1308160670,"post_id":6358637,"comment_id":7448282,"body_markdown":"FYI, I found out that doing mvn install hasn&#39;t been working for anyone on the team, but mvn package has due to failOnWarning being true.  I am going to update our pom.xml file so we can do mvn install again.","body":"FYI, I found out that doing mvn install hasn&#39;t been working for anyone on the team, but mvn package has due to failOnWarning being true.  I am going to update our pom.xml file so we can do mvn install again."}],"answers":[{"tags":[],"owner":{"display_name":"user7094"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1308146584,"creation_date":1308146584,"answer_id":6358943,"question_id":6358637,"body_markdown":"This may be a bit over the top, but could you not specify it as a property? e.g. something like `&lt;failOnWarnings&gt;${config.failOnWarning}&lt;/failOnWarning&gt;`\r\n\r\nSpecify the property in the properties section of your POM to be true. Then you can override it to be false when you run from the command-line.","title":"How to turn off maven dependency:analyze-only failOnWarning","body":"<p>This may be a bit over the top, but could you not specify it as a property? e.g. something like <code>&lt;failOnWarnings&gt;${config.failOnWarning}&lt;/failOnWarning&gt;</code></p>\n\n<p>Specify the property in the properties section of your POM to be true. Then you can override it to be false when you run from the command-line.</p>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683560231,"creation_date":1683500143,"answer_id":76196606,"question_id":6358637,"body_markdown":"Add `-Dmdep.analyze.skip` to your command. Supported as of 2.7.0\r\n\r\n&gt; `&lt;skip&gt;`\r\n&gt; \r\n&gt; boolean\r\n&gt; \r\n&gt; 2.7\r\n&gt; \r\n&gt; Skip plugin execution completely.\r\n&gt; \r\n&gt; Default value is: false.\r\n&gt;\r\n&gt; User property is: mdep.analyze.skip.\r\n\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html","title":"How to turn off maven dependency:analyze-only failOnWarning","body":"<p>Add <code>-Dmdep.analyze.skip</code> to your command. Supported as of 2.7.0</p>\n<blockquote>\n<p><code>&lt;skip&gt;</code></p>\n<p>boolean</p>\n<p>2.7</p>\n<p>Skip plugin execution completely.</p>\n<p>Default value is: false.</p>\n<p>User property is: mdep.analyze.skip.</p>\n</blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html</a></p>\n"}],"owner":{"account_id":2214,"reputation":20109,"user_id":3045,"accept_rate":90,"display_name":"Paul D. Eden"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6358943,"answer_count":2,"score":1,"last_activity_date":1683560231,"creation_date":1308145347,"question_id":6358637,"body_markdown":"I&#39;m building a java project with maven-2 and due to some dependencies listed, and others not listed, in the pom.xml file and the fact that failOnWarning is set to true in the dependency:analyze-only mojo configuration I am not able to build the project without using the maven -fn flag.\r\n\r\nHere is more detail.\r\n\r\n    $ mvn install -X\r\n    ...snip...\r\n    [DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-dependency-plugin:2.0:analyze-only&#39; --&gt;\r\n    ...snip...\r\n    [DEBUG]   (f) failOnWarning = true\r\n    [DEBUG]   (f) ignoreNonCompile = true\r\n    ...snip...\r\n    [DEBUG] -- end configuration --\r\n    [INFO] [dependency:analyze-only {execution: default}]\r\n    [INFO] Used declared dependencies found:\r\n    [INFO]    javax.servlet.jsp:jsp-api:jar:2.1:provided\r\n    [INFO]    javax.servlet:servlet-api:jar:2.5:provided\r\n    [INFO]    org.springframework:spring-webmvc:jar:3.0.5.RELEASE:compile\r\n    [INFO]    flexson:json:jar:1.7:compile\r\n    [INFO]    org.springframework:spring-web:jar:3.0.5.RELEASE:compile\r\n    [WARNING] Used undeclared dependencies found:\r\n    [WARNING]    org.springframework.security:spring-security-core:jar:3.0.5.RELEASE:compile\r\n    [WARNING]    log4j:log4j:jar:1.2.16:compile\r\n    ...snip...\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] BUILD ERROR\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Dependency problems found\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nMy question is this:\r\n\r\nHow can I set failOnWarning = false without changing the pom.xml file for the project?&lt;br&gt;\r\n- The pom.xml file is checked into source control and others on the project don&#39;t need to change it to build the project so I expect there is something different about my maven setup.&lt;br&gt;\r\n- We are all using maven 2.2.1 with the same settings.xml file.","title":"How to turn off maven dependency:analyze-only failOnWarning","body":"<p>I'm building a java project with maven-2 and due to some dependencies listed, and others not listed, in the pom.xml file and the fact that failOnWarning is set to true in the dependency:analyze-only mojo configuration I am not able to build the project without using the maven -fn flag.</p>\n\n<p>Here is more detail.</p>\n\n<pre><code>$ mvn install -X\n...snip...\n[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-dependency-plugin:2.0:analyze-only' --&gt;\n...snip...\n[DEBUG]   (f) failOnWarning = true\n[DEBUG]   (f) ignoreNonCompile = true\n...snip...\n[DEBUG] -- end configuration --\n[INFO] [dependency:analyze-only {execution: default}]\n[INFO] Used declared dependencies found:\n[INFO]    javax.servlet.jsp:jsp-api:jar:2.1:provided\n[INFO]    javax.servlet:servlet-api:jar:2.5:provided\n[INFO]    org.springframework:spring-webmvc:jar:3.0.5.RELEASE:compile\n[INFO]    flexson:json:jar:1.7:compile\n[INFO]    org.springframework:spring-web:jar:3.0.5.RELEASE:compile\n[WARNING] Used undeclared dependencies found:\n[WARNING]    org.springframework.security:spring-security-core:jar:3.0.5.RELEASE:compile\n[WARNING]    log4j:log4j:jar:1.2.16:compile\n...snip...\n[INFO] ------------------------------------------------------------------------\n[ERROR] BUILD ERROR\n[INFO] ------------------------------------------------------------------------\n[INFO] Dependency problems found\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>My question is this:</p>\n\n<p>How can I set failOnWarning = false without changing the pom.xml file for the project?<br>\n- The pom.xml file is checked into source control and others on the project don't need to change it to build the project so I expect there is something different about my maven setup.<br>\n- We are all using maven 2.2.1 with the same settings.xml file.</p>\n"},{"tags":["java","connection","jco"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1373894431,"creation_date":1373894431,"answer_id":17655245,"question_id":17654298,"body_markdown":"The naming `ET_` suggests that `ET_CUSTOMERS` is a table. You can&#39;t treat a table like a structure - you have to obtain a table reference first, then either navigate to an existing row or create a new one, and maybe then you can treat that row like a structure. Please also see [this answer][1] which has a similar background.\r\n\r\n(&quot;Maybe&quot; because tables may also be created based on unstructured types, which leads to really weird situation when combined with the JCo, so you should avoid this.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16157145/getting-error-attempting-to-iterate-over-a-jcotable-using-java-util-iterator","title":"JCO_CONVERTION_ERROR (122) Table to StructureRecord type","body":"<p>The naming <code>ET_</code> suggests that <code>ET_CUSTOMERS</code> is a table. You can't treat a table like a structure - you have to obtain a table reference first, then either navigate to an existing row or create a new one, and maybe then you can treat that row like a structure. Please also see <a href=\"https://stackoverflow.com/questions/16157145/getting-error-attempting-to-iterate-over-a-jcotable-using-java-util-iterator\">this answer</a> which has a similar background.</p>\n\n<p>(\"Maybe\" because tables may also be created based on unstructured types, which leads to really weird situation when combined with the JCo, so you should avoid this.)</p>\n"}],"owner":{"account_id":3048372,"reputation":1,"user_id":2583486,"display_name":"user2583486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":17655245,"answer_count":1,"score":-1,"last_activity_date":1683560197,"creation_date":1373891406,"question_id":17654298,"body_markdown":"I use `SAPJCo3.jar` for Java to SAP connection and communication but when execute the program, get error at `JcoStructure` part. The debugger pass successfully to function module connection part I see at debugger, but in this line I get interesting error :\r\n\r\n    JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\r\n\r\nand I get this exception when run to the program : \r\n&gt; ```\r\n&gt; Exception in thread &quot;main&quot; com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert field ET_CUSTOMERS of type TABLE to StructureRecord\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:416)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:411)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:2585)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:3060)\r\n&gt;     at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:53)\r\n&gt;     at SAP.GetCustomers.step4WorkWithTable(GetCustomers.java:100)\r\n&gt;     at SAP.Main.main(Main.java:13)\r\n&gt; ```\r\n\r\nThat is the complete code of my function :\r\n\r\n    public static void step4WorkWithTable() throws JCoException\r\n\t    {\r\n\t        JCoDestination destination = JCoDestinationManager.getDestination(DESTINATION_NAME2);\r\n\t        JCoFunction function = destination.getRepository().getFunction(&quot;Z_SYCLO1_GET_CUSTOMERS&quot;);\r\n\t        if(function == null)\r\n\t            throw new RuntimeException(&quot;Z_SYCLO1_GET_CUSTOMERS not found in SAP.&quot;);\r\n\r\n\t        \r\n\t        JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\r\n\t        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))) \r\n\t        {\r\n\t           throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n\t        }\r\n\t        \r\n\t        JCoTable codes = function.getTableParameterList().getTable(&quot;Z_SYCLO1_CUSTOMERS_LIST_TT&quot;);\r\n\t        for (int i = 0; i &lt; codes.getNumRows(); i++) \r\n\t        {\r\n\t            codes.setRow(i);\r\n\t            System.out.println(codes.getString(&quot;KUNNR&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;NAME1&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;NAME2&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;TELF1&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;STRAS&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;ORT01&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;REGIO&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;PSTLZ&quot;) + &#39;\\t&#39; + \r\n\t            \t\t\t\t   codes.getString(&quot;LAND1&quot;));\r\n\t        }\r\n\r\n\t        \r\n\t        codes.firstRow();\r\n\t        for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \r\n\t        {\r\n\t            function = destination.getRepository().getFunction(&quot;Z_SYCLO1_GET_CUSTOMERS&quot;);\r\n\t            if (function == null) \r\n\t                throw new RuntimeException(&quot;Z_SYCLO1_GET_CUSTOMERS not found in SAP.&quot;);\r\n\t            function.getImportParameterList().setValue(&quot;IV_USERNAME&quot;, codes.getString(&quot;UOZKER&quot;));\r\n\t            \r\n\t            function.getExportParameterList().setActive(&quot;ET_CUSTOMERS&quot;,false);\r\n\t            \r\n\t            try\r\n\t            {\r\n\t                function.execute(destination);\r\n\t            }\r\n\t            catch (AbapException e)\r\n\t            {\r\n\t                System.out.println(e.toString());\r\n\t                return;\r\n\t            }\r\n\r\n\t            returnStructure = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\r\n\t            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\r\n\t                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\r\n\t                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \r\n\t            {\r\n\t                throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n\t            }\r\n\t            \r\n\t            JCoStructure detail = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\r\n\t            \r\n\t            System.out.println(codes.getString(&quot;KUNNR&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;NAME1&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;NAME2&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;TELF1&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;STRAS&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;ORT01&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;REGIO&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;PSTLZ&quot;) + &#39;\\t&#39; + \r\n     \t\t\t\t   codes.getString(&quot;LAND1&quot;));\r\n\t        }\r\n\r\n\r\n","title":"JCO_CONVERTION_ERROR (122) Table to StructureRecord type","body":"<p>I use <code>SAPJCo3.jar</code> for Java to SAP connection and communication but when execute the program, get error at <code>JcoStructure</code> part. The debugger pass successfully to function module connection part I see at debugger, but in this line I get interesting error :</p>\n<pre><code>JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\n</code></pre>\n<p>and I get this exception when run to the program :</p>\n<blockquote>\n<pre><code>Exception in thread &quot;main&quot; com.sap.conn.jco.ConversionException: (122) JCO_ERROR_CONVERSION: Cannot convert field ET_CUSTOMERS of type TABLE to StructureRecord\n    at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:416)\n    at com.sap.conn.jco.rt.AbstractRecord.createConversionException(AbstractRecord.java:411)\n    at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:2585)\n    at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:3060)\n    at com.sap.conn.jco.rt.AbstractRecord.getStructure(AbstractRecord.java:53)\n    at SAP.GetCustomers.step4WorkWithTable(GetCustomers.java:100)\n    at SAP.Main.main(Main.java:13)\n</code></pre>\n</blockquote>\n<p>That is the complete code of my function :</p>\n<pre><code>public static void step4WorkWithTable() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(DESTINATION_NAME2);\n        JCoFunction function = destination.getRepository().getFunction(&quot;Z_SYCLO1_GET_CUSTOMERS&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;Z_SYCLO1_GET_CUSTOMERS not found in SAP.&quot;);\n\n        \n        JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))) \n        {\n           throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n        }\n        \n        JCoTable codes = function.getTableParameterList().getTable(&quot;Z_SYCLO1_CUSTOMERS_LIST_TT&quot;);\n        for (int i = 0; i &lt; codes.getNumRows(); i++) \n        {\n            codes.setRow(i);\n            System.out.println(codes.getString(&quot;KUNNR&quot;) + '\\t' + \n                               codes.getString(&quot;NAME1&quot;) + '\\t' + \n                               codes.getString(&quot;NAME2&quot;) + '\\t' + \n                               codes.getString(&quot;TELF1&quot;) + '\\t' + \n                               codes.getString(&quot;STRAS&quot;) + '\\t' + \n                               codes.getString(&quot;ORT01&quot;) + '\\t' + \n                               codes.getString(&quot;REGIO&quot;) + '\\t' + \n                               codes.getString(&quot;PSTLZ&quot;) + '\\t' + \n                               codes.getString(&quot;LAND1&quot;));\n        }\n\n        \n        codes.firstRow();\n        for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \n        {\n            function = destination.getRepository().getFunction(&quot;Z_SYCLO1_GET_CUSTOMERS&quot;);\n            if (function == null) \n                throw new RuntimeException(&quot;Z_SYCLO1_GET_CUSTOMERS not found in SAP.&quot;);\n            function.getImportParameterList().setValue(&quot;IV_USERNAME&quot;, codes.getString(&quot;UOZKER&quot;));\n            \n            function.getExportParameterList().setActive(&quot;ET_CUSTOMERS&quot;,false);\n            \n            try\n            {\n                function.execute(destination);\n            }\n            catch (AbapException e)\n            {\n                System.out.println(e.toString());\n                return;\n            }\n\n            returnStructure = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \n            {\n                throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n            }\n            \n            JCoStructure detail = function.getExportParameterList().getStructure(&quot;ET_CUSTOMERS&quot;);\n            \n            System.out.println(codes.getString(&quot;KUNNR&quot;) + '\\t' + \n                   codes.getString(&quot;NAME1&quot;) + '\\t' + \n                   codes.getString(&quot;NAME2&quot;) + '\\t' + \n                   codes.getString(&quot;TELF1&quot;) + '\\t' + \n                   codes.getString(&quot;STRAS&quot;) + '\\t' + \n                   codes.getString(&quot;ORT01&quot;) + '\\t' + \n                   codes.getString(&quot;REGIO&quot;) + '\\t' + \n                   codes.getString(&quot;PSTLZ&quot;) + '\\t' + \n                   codes.getString(&quot;LAND1&quot;));\n        }\n</code></pre>\n"},{"tags":["java","aop","completable-future","thread-local"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1683702868,"post_id":76202008,"comment_id":134405245,"body_markdown":"Welcome to SO. I am not an active Spring user and not experienced in reactive programming. I can certainly help you with the AOP solution, but I would like to have a complete, minimal example (incl. dummy database, H2 or so), ideally as a Maven project on GitHub. If you can provide one, I shall take a look.","body":"Welcome to SO. I am not an active Spring user and not experienced in reactive programming. I can certainly help you with the AOP solution, but I would like to have a complete, minimal example (incl. dummy database, H2 or so), ideally as a Maven project on GitHub. If you can provide one, I shall take a look."}],"owner":{"account_id":19153192,"reputation":5,"user_id":21853070,"display_name":"Naim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683560039,"creation_date":1683559417,"question_id":76202008,"body_markdown":"I am workin on a multi-tenant REST API project using Spring Boot 3. Our Repository layer is non-reactive (a design decision that i cannot change), while using WebFlux on Controller layer. Current solution to pick correct datasource is using Spring&#39;s AbstractRoutingDatasource.\r\n\r\nWe are setting/removing ThreadLocal tenant-id on Service layer by extracting tenant-id from method parameter inside CompletableFuture.supplyAsync() block. \r\n\r\nFor every Service layer method that needs to invoke database have to set/remove tenant-id manually, which I don&#39;t like.\r\n\r\nI am looking for a more neat solution (maybe using AOP/ or other approach) to set/remove tenant-id on each Service layer method (**inside CompletableFuture.supplyAsync() block**) without writing repeated code manually.\r\n\r\nThank you!\r\n\r\n**Service Layer Method** \r\n\r\n    public Mono findMyData(MyRequest req) {\r\n\r\n        return Mono.fromFuture(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\r\n\r\n            // Setting Tenant Id on ThreadLocal object\r\n            TenantContext.setCurrentTenant(req.getTenantId());\r\n            \r\n            repository.findAll();\r\n\r\n            // Removing Tenant Id from ThreadLocal object\r\n            TenantContext.remove();\r\n\r\n        }));\r\n    }\r\n\r\n \r\n\r\n**TenantContext class that holds ThreadLocal**\r\n\r\n    public class TenantContext {\r\n    private static final ThreadLocal&lt;String&gt; CURRENT_TENANT = new ThreadLocal&lt;&gt;();\r\n\r\n    public static String getCurrentTenant() {\r\n        return CURRENT_TENANT.get();\r\n    }\r\n\r\n    public static void setCurrentTenant(String tenant) {\r\n        CURRENT_TENANT.set(tenant);\r\n    }\r\n\r\n    public static void remove() {\r\n        CURRENT_TENANT.remove();\r\n    }\r\n}\r\n\r\n**My Implementation of AbstractRoutingDataSource**\r\n\r\n    public class MultiTenantDataSource extends AbstractRoutingDataSource {\r\n    @Override\r\n    protected String determineCurrentLookupKey() {\r\n        return TenantContext.getCurrentTenant();\r\n    }\r\n}\r\n\r\n\r\nRelatively new to AOP and not sure if I can access to method parameter object and inject statements  inside method. ","title":"ThreadLocal set/remove using AOP inside Completable.supplyAsync() block","body":"<p>I am workin on a multi-tenant REST API project using Spring Boot 3. Our Repository layer is non-reactive (a design decision that i cannot change), while using WebFlux on Controller layer. Current solution to pick correct datasource is using Spring's AbstractRoutingDatasource.</p>\n<p>We are setting/removing ThreadLocal tenant-id on Service layer by extracting tenant-id from method parameter inside CompletableFuture.supplyAsync() block.</p>\n<p>For every Service layer method that needs to invoke database have to set/remove tenant-id manually, which I don't like.</p>\n<p>I am looking for a more neat solution (maybe using AOP/ or other approach) to set/remove tenant-id on each Service layer method (<strong>inside CompletableFuture.supplyAsync() block</strong>) without writing repeated code manually.</p>\n<p>Thank you!</p>\n<p><strong>Service Layer Method</strong></p>\n<pre><code>public Mono findMyData(MyRequest req) {\n\n    return Mono.fromFuture(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\n\n        // Setting Tenant Id on ThreadLocal object\n        TenantContext.setCurrentTenant(req.getTenantId());\n        \n        repository.findAll();\n\n        // Removing Tenant Id from ThreadLocal object\n        TenantContext.remove();\n\n    }));\n}\n</code></pre>\n<p><strong>TenantContext class that holds ThreadLocal</strong></p>\n<pre><code>public class TenantContext {\nprivate static final ThreadLocal&lt;String&gt; CURRENT_TENANT = new ThreadLocal&lt;&gt;();\n\npublic static String getCurrentTenant() {\n    return CURRENT_TENANT.get();\n}\n\npublic static void setCurrentTenant(String tenant) {\n    CURRENT_TENANT.set(tenant);\n}\n\npublic static void remove() {\n    CURRENT_TENANT.remove();\n}\n</code></pre>\n<p>}</p>\n<p><strong>My Implementation of AbstractRoutingDataSource</strong></p>\n<pre><code>public class MultiTenantDataSource extends AbstractRoutingDataSource {\n@Override\nprotected String determineCurrentLookupKey() {\n    return TenantContext.getCurrentTenant();\n}\n</code></pre>\n<p>}</p>\n<p>Relatively new to AOP and not sure if I can access to method parameter object and inject statements  inside method.</p>\n"},{"tags":["java","osgi","jco"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378293303,"creation_date":1378293303,"answer_id":18612316,"question_id":18609179,"body_markdown":"It is possible to use the SAP JCo in an OSGi environment. Take a look at [RCER][1] - although that specific project is somewhat dormant now, I have provided some tools to bundle the JCo up as an Eclipse Plugin (which is little more than an OSGi bundle). You have to take some precautions thought so that the class loader is able to access the native library - you won&#39;t be able to get any communication going without that library. RCER uses fragments to add the platform-dependent library while the host plug-in contains the platform-independent jar.\r\n\r\n\r\n  [1]: http://rcer.sourceforge.net","title":"How to connect OSGi to SAP?","body":"<p>It is possible to use the SAP JCo in an OSGi environment. Take a look at <a href=\"http://rcer.sourceforge.net\" rel=\"nofollow\">RCER</a> - although that specific project is somewhat dormant now, I have provided some tools to bundle the JCo up as an Eclipse Plugin (which is little more than an OSGi bundle). You have to take some precautions thought so that the class loader is able to access the native library - you won't be able to get any communication going without that library. RCER uses fragments to add the platform-dependent library while the host plug-in contains the platform-independent jar.</p>\n"}],"owner":{"account_id":1399470,"reputation":6117,"user_id":1328513,"accept_rate":53,"display_name":"Zhenya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683560013,"creation_date":1378284159,"question_id":18609179,"body_markdown":"I need to connect Adobe CQ5 (OSGi based CMS) to SAP server to get some information from SAP. I don&#39;t have access to SAP server, meaning I cannot install anything there.\r\n\r\nAccording to what I&#39;ve found out it&#39;s possible to connect Java application to SAP server using one of the following methods.\r\n\r\n**1) Through Web services** &lt;br&gt;\r\nUnfortunately, it doesn&#39;t fit our needs because additional configuration on the server side is required.\r\n\r\n**2) Through SAP Java Connector** &lt;br&gt;\r\nAccording to this page I can connect to SAP server using JCo without any configuration on the server side. http://help.sap.com/saphelp_nw04/helpdata/en/8b/912229a9e611d6b28f00508b6b8a93/content.htm \r\n\r\nHere it is described how to install the SAP Java Connector http://help.sap.com/saphelp_nw04/helpdata/en/47/80f671ee6e4b41b63c0fe46bd6e4f8/content.htm\r\n&lt;br&gt;But it uses not only .jar but also some .dll. But AFAIK .dll is a Windows thing, OSGi knows nothing about .dlls.\r\n&lt;br&gt;&lt;br&gt;\r\nSo, how to connect OSGi to SAP server without additional SAP-side configuration? Is it possible to do it with SAP JCo? If yes, how? ","title":"How to connect OSGi to SAP?","body":"<p>I need to connect Adobe CQ5 (OSGi based CMS) to SAP server to get some information from SAP. I don't have access to SAP server, meaning I cannot install anything there.</p>\n<p>According to what I've found out it's possible to connect Java application to SAP server using one of the following methods.</p>\n<p><strong>1) Through Web services</strong> <br>\nUnfortunately, it doesn't fit our needs because additional configuration on the server side is required.</p>\n<p><strong>2) Through SAP Java Connector</strong> <br>\nAccording to this page I can connect to SAP server using JCo without any configuration on the server side. <a href=\"http://help.sap.com/saphelp_nw04/helpdata/en/8b/912229a9e611d6b28f00508b6b8a93/content.htm\" rel=\"nofollow noreferrer\">http://help.sap.com/saphelp_nw04/helpdata/en/8b/912229a9e611d6b28f00508b6b8a93/content.htm</a></p>\n<p>Here it is described how to install the SAP Java Connector <a href=\"http://help.sap.com/saphelp_nw04/helpdata/en/47/80f671ee6e4b41b63c0fe46bd6e4f8/content.htm\" rel=\"nofollow noreferrer\">http://help.sap.com/saphelp_nw04/helpdata/en/47/80f671ee6e4b41b63c0fe46bd6e4f8/content.htm</a>\n<br>But it uses not only .jar but also some .dll. But AFAIK .dll is a Windows thing, OSGi knows nothing about .dlls.\n<br><br>\nSo, how to connect OSGi to SAP server without additional SAP-side configuration? Is it possible to do it with SAP JCo? If yes, how?</p>\n"},{"tags":["java","jsp","struts2","wildcard-mapping"],"answers":[{"tags":[],"owner":{"account_id":4266152,"reputation":845,"user_id":3489227,"accept_rate":89,"display_name":"Paresh3489227"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400826488,"creation_date":1400819875,"answer_id":23821055,"question_id":23819733,"body_markdown":"Try `$` before {username}. `$` Stands for `Freemarker` \r\n\r\n    &lt;action name=&quot;{username}&quot; class=&quot;com.rajesh.struts2.CustomURL&quot; \r\n     method=&quot;customUrl&quot;&gt;\r\n\r\n**[Freemarker Tutorial][2]**\r\n\r\n**[How to use OGNL Expression Example link][1]**\r\n\r\n    &lt;s:property value=&quot;username&quot;/&gt; for calling username on welcome page.\r\n\r\nIt may help you to get your answer.\r\n\r\n\r\n  [1]: http://www.tutorials4u.net/struts2-tutorial/struts2_ognl_expression_language_example.html\r\n  [2]: http://freemarker.org/","title":"How to call custome URL action from Form action?","body":"<p>Try <code>$</code> before {username}. <code>$</code> Stands for <code>Freemarker</code> </p>\n\n<pre><code>&lt;action name=\"{username}\" class=\"com.rajesh.struts2.CustomURL\" \n method=\"customUrl\"&gt;\n</code></pre>\n\n<p><strong><a href=\"http://freemarker.org/\" rel=\"nofollow\">Freemarker Tutorial</a></strong></p>\n\n<p><strong><a href=\"http://www.tutorials4u.net/struts2-tutorial/struts2_ognl_expression_language_example.html\" rel=\"nofollow\">How to use OGNL Expression Example link</a></strong></p>\n\n<pre><code>&lt;s:property value=\"username\"/&gt; for calling username on welcome page.\n</code></pre>\n\n<p>It may help you to get your answer.</p>\n"},{"tags":[],"owner":{"account_id":4346013,"reputation":1904,"user_id":3547935,"display_name":"hari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400823732,"creation_date":1400823732,"answer_id":23821737,"question_id":23819733,"body_markdown":"try it..\r\n\r\n     public String customUrl() {\r\n\r\n       HttpServletRequest request=(HttpServletRequest) ActionContext.getContext().get(ServletActionContext.HTTP_REQUEST);\r\n       String url=&quot;http://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+&quot;&quot;+request.getContextPath()+&quot;/&quot;+request.getParameter(&quot;username&quot;);\r\n \r\n       logger.info(&quot; Current url : &quot;+url);  //check it here\r\n\r\n        return SUCCESS;\r\n     }\r\n\r\n\r\n","title":"How to call custome URL action from Form action?","body":"<p>try it..</p>\n\n<pre><code> public String customUrl() {\n\n   HttpServletRequest request=(HttpServletRequest) ActionContext.getContext().get(ServletActionContext.HTTP_REQUEST);\n   String url=\"http://\"+request.getServerName()+\":\"+request.getServerPort()+\"\"+request.getContextPath()+\"/\"+request.getParameter(\"username\");\n\n   logger.info(\" Current url : \"+url);  //check it here\n\n    return SUCCESS;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683559999,"creation_date":1400825235,"answer_id":23822062,"question_id":23819733,"body_markdown":"First of all you should get rid of action extension, if you don&#39;t want user to think their name has an extension.\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;constant name=&quot;struts.action.extension&quot; value=&quot;,,action&quot;/&gt; \r\n\r\nNext the pattern matcher should be `regex`.\r\n\r\n    &lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\r\n\r\nAction mapping \r\n\r\n    &lt;action name=&quot;/CustomURL/{username}&quot; class=&quot;com.rajesh.struts2.CustomURL&quot; method=&quot;customUrl&quot;&gt;\r\n        &lt;result name=&quot;success&quot;&gt;welcome.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nIn the JSP you don&#39;t need to use `form` tag, but anchor tag. And use known names.\r\n\r\n    &lt;a href=&quot;http://localhost:8080/CustomURL/rajesh&quot;&gt;Click my name&lt;/a&gt;","title":"How to call custome URL action from Form action?","body":"<p>First of all you should get rid of action extension, if you don't want user to think their name has an extension.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.action.extension&quot; value=&quot;,,action&quot;/&gt; \n</code></pre>\n<p>Next the pattern matcher should be <code>regex</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;regex&quot;/&gt;\n</code></pre>\n<p>Action mapping</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;/CustomURL/{username}&quot; class=&quot;com.rajesh.struts2.CustomURL&quot; method=&quot;customUrl&quot;&gt;\n    &lt;result name=&quot;success&quot;&gt;welcome.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n<p>In the JSP you don't need to use <code>form</code> tag, but anchor tag. And use known names.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a href=&quot;http://localhost:8080/CustomURL/rajesh&quot;&gt;Click my name&lt;/a&gt;\n</code></pre>\n"}],"owner":{"account_id":1010577,"reputation":815,"user_id":1023236,"accept_rate":42,"display_name":"Rajeshkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2586,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23822062,"answer_count":3,"score":0,"last_activity_date":1683559999,"creation_date":1400809059,"question_id":23819733,"body_markdown":"I followed [this post][1] and created a custom URL application. The action is getting called but the url shows with  session id like\r\n\r\n `http://localhost:8080/CustomURL%7Busername%7D.action;jsessionid=9C1FB3EB633209C18625BBB40EA61000`\r\n\r\nI want simply like `http://localhost:8080/CustomURL/rajesh`\r\n\r\n**See my `struts.xml`:**\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;struts&gt;\r\n\t&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot;\r\n\t\tvalue=&quot;false&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;namedVariable&quot; /&gt;\r\n\t&lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;\r\n\t\t&lt;action name=&quot;&quot;&gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;home.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\r\n\t\t&lt;action name=&quot;{username}&quot; class=&quot;com.rajesh.struts2.CustomURL&quot;\r\n\t\t\tmethod=&quot;customUrl&quot;&gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;welcome.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n\r\n**See my JSP page:**\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    \r\n    &lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Struts 2 Custom URL&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;h1&gt;Struts 2 Custom URL&lt;/h1&gt;\r\n    \t&lt;h3&gt;Enter your name below&lt;/h3&gt;\r\n    \t&lt;s:form action=&quot;{username}&quot;&gt;\r\n    \t\t&lt;s:textfield name=&quot;username&quot; /&gt;\r\n    \t\t&lt;s:submit /&gt;\r\n    \t&lt;/s:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**See java file below:**\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class CustomURL extends ActionSupport {\r\n    \r\n    \tprivate String username;\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\tSystem.out.println(&quot;Getter&quot;);\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tSystem.out.println(&quot;Setter&quot;);\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tprivate static final long serialVersionUID = -4337790298641431230L;\r\n    \r\n    \tpublic String customUrl() {\r\n    \t\treturn SUCCESS;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23780282/how-to-create-custom-urls-with-struts2like-twitterwww-twitter-com-goodyzain","title":"How to call custome URL action from Form action?","body":"<p>I followed <a href=\"https://stackoverflow.com/questions/23780282/how-to-create-custom-urls-with-struts2like-twitterwww-twitter-com-goodyzain\">this post</a> and created a custom URL application. The action is getting called but the url shows with  session id like</p>\n<p><code>http://localhost:8080/CustomURL%7Busername%7D.action;jsessionid=9C1FB3EB633209C18625BBB40EA61000</code></p>\n<p>I want simply like <code>http://localhost:8080/CustomURL/rajesh</code></p>\n<p><strong>See my <code>struts.xml</code>:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;struts&gt;\n&lt;constant name=&quot;struts.mapper.alwaysSelectFullNamespace&quot;\n    value=&quot;false&quot; /&gt;\n&lt;constant name=&quot;struts.enable.SlashesInActionNames&quot; value=&quot;true&quot; /&gt;\n&lt;constant name=&quot;struts.patternMatcher&quot; value=&quot;namedVariable&quot; /&gt;\n&lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;\n    &lt;action name=&quot;&quot;&gt;\n        &lt;result name=&quot;success&quot;&gt;home.jsp&lt;/result&gt;\n    &lt;/action&gt;\n\n    &lt;action name=&quot;{username}&quot; class=&quot;com.rajesh.struts2.CustomURL&quot;\n        method=&quot;customUrl&quot;&gt;\n        &lt;result name=&quot;success&quot;&gt;welcome.jsp&lt;/result&gt;\n    &lt;/action&gt;\n\n&lt;/package&gt;\n</code></pre>\n\n<p><strong>See my JSP page:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Struts 2 Custom URL&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Struts 2 Custom URL&lt;/h1&gt;\n    &lt;h3&gt;Enter your name below&lt;/h3&gt;\n    &lt;s:form action=&quot;{username}&quot;&gt;\n        &lt;s:textfield name=&quot;username&quot; /&gt;\n        &lt;s:submit /&gt;\n    &lt;/s:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>See java file below:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomURL extends ActionSupport {\n\n    private String username;\n\n    public String getUsername() {\n        System.out.println(&quot;Getter&quot;);\n        return username;\n    }\n\n    public void setUsername(String username) {\n        System.out.println(&quot;Setter&quot;);\n        this.username = username;\n    }\n\n    private static final long serialVersionUID = -4337790298641431230L;\n\n    public String customUrl() {\n        return SUCCESS;\n    }\n}\n</code></pre>\n"},{"tags":["java","security","kerberos","fips","gssapi"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1683571067,"post_id":76200088,"comment_id":134383929,"body_markdown":"The latter. FIPS140 applies only to implementation of cryptographic primitives; higher-level protocols such as GSS, SASL, TLS and XML among the Java providers -- and SSH, PGP, SMIME, JOSE etc outside -- must (on a govt system) _use_ FIPS but are not themselves tested or validated. It&#39;s at best debatable if this is about programming, and would probably be better on crypto.SX or security.SX.","body":"The latter. FIPS140 applies only to implementation of cryptographic primitives; higher-level protocols such as GSS, SASL, TLS and XML among the Java providers -- and SSH, PGP, SMIME, JOSE etc outside -- must (on a govt system) <i>use</i> FIPS but are not themselves tested or validated. It&#39;s at best debatable if this is about programming, and would probably be better on crypto.SX or security.SX."},{"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"score":0,"creation_date":1683654230,"post_id":76200088,"comment_id":134398818,"body_markdown":"Thanks so much @dave_thompson_085 for the info. Is there any official FIPS/Java documentation supporting the claim that you can point me to? I could not find that.","body":"Thanks so much @dave_thompson_085 for the info. Is there any official FIPS/Java documentation supporting the claim that you can point me to? I could not find that."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1683791194,"post_id":76200088,"comment_id":134421355,"body_markdown":"For the functions that can be validated in a FIPS140 module, see SP800-140C and D linked from https://csrc.nist.gov/Projects/cryptographic-module-validation-program/fips-140-3-standards; you&#39;ll see they are all primitives (cipher, signature, hash/XOF, MAC, RBG) and &#39;parameter&#39; (which in this context means key) generation. Official &#39;Java&#39; (i.e. JLS+library spec and TCK) doesn&#39;t include crypto at all; OpenJDK (which is the de facto Java standard since things like Apple&#39;s variant and gcj fell by the wayside) doesn&#39;t include any FIPS except that SunPKCS11 can _interface to_ a PKCS11 module ...","body":"For the functions that can be validated in a FIPS140 module, see SP800-140C and D linked from <a href=\"https://csrc.nist.gov/Projects/cryptographic-module-validation-program/fips-140-3-standards\" rel=\"nofollow noreferrer\">csrc.nist.gov/Projects/cryptographic-module-validation-progr&zwnj;&#8203;am/&hellip;</a>; you&#39;ll see they are all primitives (cipher, signature, hash/XOF, MAC, RBG) and &#39;parameter&#39; (which in this context means key) generation. Official &#39;Java&#39; (i.e. JLS+library spec and TCK) doesn&#39;t include crypto at all; OpenJDK (which is the de facto Java standard since things like Apple&#39;s variant and gcj fell by the wayside) doesn&#39;t include any FIPS except that SunPKCS11 can <i>interface to</i> a PKCS11 module ..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1683791357,"post_id":76200088,"comment_id":134421386,"body_markdown":"... that is validated -- see https://docs.oracle.com/en/java/javase/17/security/pkcs11-reference-guide1.html#GUID-85EA1017-E59C-49B9-9207-65B7B2BF171E for one example -- and this can provide only the functions defined in the PKCS11 interface and those are all primitives, though a broader set of primitives (especially ciphers) than allowed in FIPS140.","body":"... that is validated -- see <a href=\"https://docs.oracle.com/en/java/javase/17/security/pkcs11-reference-guide1.html#GUID-85EA1017-E59C-49B9-9207-65B7B2BF171E\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/security/&hellip;</a> for one example -- and this can provide only the functions defined in the PKCS11 interface and those are all primitives, though a broader set of primitives (especially ciphers) than allowed in FIPS140."}],"owner":{"account_id":2131038,"reputation":270,"user_id":1891875,"accept_rate":62,"display_name":"Kedarnath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683559983,"creation_date":1683544766,"question_id":76200088,"body_markdown":"I need to use &quot;SunJGSS&quot; as one of the security providers in a FIPS environment. Is there a FIPS version of the &quot;SunJGSS&quot; Provider or if the underlying JCE/JCA is a FIPS provider meant to use the FIPS crypto impl and qualify to be a FIPS provider?\r\n\r\nTIA\r\n\r\n\r\n\r\n","title":"SunJGSS in FIPS mode","body":"<p>I need to use &quot;SunJGSS&quot; as one of the security providers in a FIPS environment. Is there a FIPS version of the &quot;SunJGSS&quot; Provider or if the underlying JCE/JCA is a FIPS provider meant to use the FIPS crypto impl and qualify to be a FIPS provider?</p>\n<p>TIA</p>\n"},{"tags":["java","regex","jsp","validation","struts2"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403104910,"creation_date":1403104910,"answer_id":24289373,"question_id":24289006,"body_markdown":"&lt;!-- language-all: lang-xml --&gt;\r\n\r\nRemove `.action` extension from action name in `&lt;s:form&gt;`, and make sure your struts.xml is copied under `WEB-INF/classes` when deploying.\r\n\r\n    &lt;s:form action=&quot;getRegistered&quot; method=&quot;post&quot; validate=&quot;true&quot;&gt;\r\n\r\nAn cleaner approach would be to use `&lt;s:url&gt;` and reference the created URL in `&lt;s:form&gt;`.\r\n\r\n    &lt;s:url var=&quot;actionUrl&quot; action=&quot;getRegistered&quot; namespace=&quot;&quot; /&gt;\r\n    &lt;s:form action=&quot;%{actionUrl}&quot; method=&quot;post&quot; validate=&quot;true&quot;&gt;","title":"Not able to call two different methods under same action class without using validation.excludeMethods","body":"\n\n<p>Remove <code>.action</code> extension from action name in <code>&lt;s:form&gt;</code>, and make sure your struts.xml is copied under <code>WEB-INF/classes</code> when deploying.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:form action=\"getRegistered\" method=\"post\" validate=\"true\"&gt;\n</code></pre>\n\n<p>An cleaner approach would be to use <code>&lt;s:url&gt;</code> and reference the created URL in <code>&lt;s:form&gt;</code>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:url var=\"actionUrl\" action=\"getRegistered\" namespace=\"\" /&gt;\n&lt;s:form action=\"%{actionUrl}\" method=\"post\" validate=\"true\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683559665,"creation_date":1403105280,"answer_id":24289507,"question_id":24289006,"body_markdown":"In your validation file which is per class, so it validates all actions/methods in this class that are intercepted by `validation` interceptor. You should separate validation logic for the first action `getLogin` like `LoginAction-getLogin-validation.xml` and define another validation file for `getRegistered` action like `LoginAction-getRegistered-validation.xml`. They would be processed per action. Also `regex` validator has a parameter `regex` instead of `expression`.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;field-validator type=&quot;regex&quot;&gt;\r\n      &lt;param name=&quot;regex&quot;&gt;&lt;![CDATA[((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{5,10})]]&gt;&lt;/param&gt;\r\n      &lt;message&gt;Password must &lt;/message&gt;\r\n    &lt;/field-validator&gt;","title":"Not able to call two different methods under same action class without using validation.excludeMethods","body":"<p>In your validation file which is per class, so it validates all actions/methods in this class that are intercepted by <code>validation</code> interceptor. You should separate validation logic for the first action <code>getLogin</code> like <code>LoginAction-getLogin-validation.xml</code> and define another validation file for <code>getRegistered</code> action like <code>LoginAction-getRegistered-validation.xml</code>. They would be processed per action. Also <code>regex</code> validator has a parameter <code>regex</code> instead of <code>expression</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;field-validator type=&quot;regex&quot;&gt;\n  &lt;param name=&quot;regex&quot;&gt;&lt;![CDATA[((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{5,10})]]&gt;&lt;/param&gt;\n  &lt;message&gt;Password must &lt;/message&gt;\n&lt;/field-validator&gt;\n</code></pre>\n"}],"owner":{"account_id":4623160,"reputation":43,"user_id":3747665,"display_name":"user3747665"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1015,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":24289507,"answer_count":2,"score":1,"last_activity_date":1683559665,"creation_date":1403103938,"question_id":24289006,"body_markdown":"**Struts.xml:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE struts PUBLIC\r\n    &quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n    &quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n    &lt;struts&gt;\r\n    \t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\r\n    \r\n    \t\t&lt;action name=&quot;getLogin&quot; class=&quot;login.action.LoginAction&quot;  \r\n    \t\t\tmethod=&quot;login&quot;&gt;\r\n    \t\t\t&lt;result name=&quot;success&quot;&gt;/Profile.jsp&lt;/result&gt;\r\n    \t\t\t&lt;result name=&quot;input&quot;&gt;/LoginError.jsp&lt;/result&gt;\r\n    \t\t&lt;/action&gt;\r\n    \r\n    \t\t&lt;action name=&quot;getRegistered&quot; class=&quot;login.action.LoginAction&quot;\r\n    \t\t\tmethod=&quot;register&quot;&gt;\r\n    \t\t\t&lt;result name=&quot;success&quot;&gt;/Success.jsp&lt;/result&gt;\r\n    \t\t\t&lt;result name=&quot;input&quot;&gt;/login.jsp&lt;/result&gt;\r\n    \t\t&lt;/action&gt;\r\n    \r\n    \t&lt;/package&gt;\r\n    &lt;/struts&gt;\r\n\r\nI&#39;m trying to map two Action in this XML to two different methods in Action class\r\n\r\n\r\n**LoginAction.java:**\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    package login.action;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.apache.struts2.interceptor.ServletRequestAware;\r\n    import org.apache.struts2.interceptor.ServletResponseAware;\r\n    import com.opensymphony.xwork2.ActionSupport;\r\n    import login.service.LoginDao;\r\n    import login.service.RegisterDao;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class LoginAction extends ActionSupport implements ServletRequestAware,\r\n    \t\tServletResponseAware {\r\n    \r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate HttpServletRequest httpServletRequest;\r\n    \tprivate String firstname;\r\n    \tprivate String lastname;\r\n    \tprivate String regpassword;\r\n    \tprivate String conpassword;\r\n    \tprivate String regemail;\r\n    \tprivate String conemail;\r\n    \tprivate String phone;\r\n    \t\r\n    \tpublic String register(){\r\n    \t\tRegisterDao rdao = new RegisterDao();\r\n    \t\tString registered = rdao.registerdao(firstname,lastname,regpassword,conpassword,regemail,conemail,phone);\r\n    \t\tif(registered == &quot;TRUE&quot;){\r\n    \t\t\treturn SUCCESS;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn INPUT;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String login() {\r\n    \t\tSystem.out.println(&quot;user name::: &quot;+username);\r\n    \t\thttpServletRequest.getSession().setAttribute(&quot;key&quot;, username);\r\n    \t\thttpServletRequest.getSession().setAttribute(&quot;key&quot;, password);\r\n    \t\tLoginDao db = new LoginDao();\r\n    \t\tBoolean validate = db.loginresult(username, password);\r\n    \t\tif (validate == true) {\r\n    \t\t\treturn SUCCESS;\r\n    \r\n    \t\t} else {\r\n    \t\t\treturn INPUT;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic HttpServletRequest getHttpServletRequest() {\r\n    \t\treturn httpServletRequest;\r\n    \t}\r\n    \r\n    \tpublic void setHttpServletRequest(HttpServletRequest httpServletRequest) {\r\n    \t\tthis.httpServletRequest = httpServletRequest;\r\n    \t}\r\n    \r\n    \tpublic String getFirstname() {\r\n    \t\treturn firstname;\r\n    \t}\r\n    \r\n    \tpublic void setFirstname(String firstname) {\r\n    \t\tthis.firstname = firstname;\r\n    \t}\r\n    \r\n    \tpublic String getLastname() {\r\n    \t\treturn lastname;\r\n    \t}\r\n    \r\n    \tpublic void setLastname(String lastname) {\r\n    \t\tthis.lastname = lastname;\r\n    \t}\r\n    \r\n    \tpublic String getRegpassword() {\r\n    \t\treturn regpassword;\r\n    \t}\r\n    \r\n    \tpublic void setRegpassword(String regpassword) {\r\n    \t\tthis.regpassword = regpassword;\r\n    \t}\r\n    \r\n    \tpublic String getConpassword() {\r\n    \t\treturn conpassword;\r\n    \t}\r\n    \r\n    \tpublic void setConpassword(String conpassword) {\r\n    \t\tthis.conpassword = conpassword;\r\n    \t}\r\n    \r\n    \tpublic String getRegemail() {\r\n    \t\treturn regemail;\r\n    \t}\r\n    \r\n    \tpublic void setRegemail(String regemail) {\r\n    \t\tthis.regemail = regemail;\r\n    \t}\r\n    \r\n    \tpublic String getConemail() {\r\n    \t\treturn conemail;\r\n    \t}\r\n    \r\n    \tpublic void setConemail(String conemail) {\r\n    \t\tthis.conemail = conemail;\r\n    \t}\r\n    \r\n    \tpublic String getPhone() {\r\n    \t\treturn phone;\r\n    \t}\r\n    \r\n    \tpublic void setPhone(String phone) {\r\n    \t\tthis.phone = phone;\r\n    \t}\r\n    \r\n    \tpublic void setServletRequest(HttpServletRequest request) {\r\n    \t\tthis.httpServletRequest = request;\r\n    \r\n    \t}\r\n    \r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setServletResponse(HttpServletResponse arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\nAction Class with login and register methods:\r\n \r\n**login.jsp**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    \tpageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;center&gt;\r\n    \t\t&lt;%@ taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;\r\n    \t\t&lt;s:form action=&quot;getLogin.action&quot; method=&quot;post&quot; validate=&quot;true&quot;&gt;\r\n    \t\t\t&lt;s:textfield label=&quot;Name&quot;  key=&quot;username&quot;/&gt;\r\n    \t\t\t&lt;s:password label=&quot;Password&quot; key=&quot;password&quot;/&gt;\r\n    \t\t\t&lt;s:checkbox name=&quot;Rememberme&quot; label=&quot;Remember Me&quot; value=&quot;yes&quot;\r\n    \t\t\t\tchecked=&quot;checked&quot;/&gt;\r\n    \t\t\t&lt;s:submit value=&quot;Sign in&quot;/&gt;\r\n    \t\t&lt;/s:form&gt;\r\n    \t&lt;/center&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nLogin.jsp which is redirecting to the login method in Action class. Earlier it was working fine. Now this action gives trouble:\r\n\r\n   \r\n**Registration.jsp**\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    \r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    \tpageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;center&gt;\r\n    \t\t&lt;%@ taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;\r\n    \t\t&lt;s:form action=&quot;getRegistered.action&quot; method=&quot;post&quot; validate=&quot;true&quot;&gt;\r\n    \t\t\t&lt;div&gt;\r\n    \t\t\t\t&lt;table&gt;\r\n    \t\t\t\t\t&lt;s:textfield label=&quot;First Name&quot; key=&quot;firstname&quot; /&gt;\r\n    \t\t\t\t\t&lt;s:textfield label=&quot;Last Name&quot; key=&quot;lastname&quot; /&gt;\r\n    \t\t\t\t\t&lt;s:password label=&quot;Create your password&quot; key=&quot;regpassword&quot; /&gt;\r\n    \t\t\t\t\t&lt;s:password label=&quot;Confirm your password&quot; key=&quot;conpassword&quot; /&gt;\r\n    \t\t\t\t\t&lt;s:textfield label=&quot;Email&quot; key=&quot;regemail1&quot; /&gt;\r\n    \t\t\t\t\t&lt;s:textfield label=&quot;Re-Type Email&quot; key=&quot;conemail&quot; /&gt;\r\n    \t\t\t\t\t&lt;s:textfield label=&quot;Phone&quot; key=&quot;phone&quot; /&gt;\t\r\n    \t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;s:submit value=&quot;Register&quot; theme=&quot;simple&quot;/&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;td&gt;&lt;s:submit value=&quot;Cancel&quot; theme=&quot;simple&quot; onclick=&quot;document.forms[0].action=&#39;login.jsp&#39;;&quot; /&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t&lt;/table&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/s:form&gt;\r\n    \t&lt;/center&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nRegistration.jsp redirecting to the getRegistered action:\r\n\r\n   \r\n**LoginAction-Validation.xml**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE validators PUBLIC &quot;-//Apache Struts//XWork Validator 1.0.3//EN&quot;  \r\n        &quot;http://struts.apache.org/dtds/xwork-validator-1.0.3.dtd&quot;&gt;\r\n    &lt;validators&gt;\r\n    \t&lt;!-- Login page validation Starts --&gt;\r\n    \t&lt;field name=&quot;username&quot;&gt;\r\n    \t\t&lt;field-validator type=&quot;requiredstring&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;User Name is mandatory&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t\t&lt;field-validator type=&quot;stringlength&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;User Name must be between 5 to 10 characters long&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t&lt;/field&gt;\r\n    \r\n    \t&lt;field name=&quot;password&quot;&gt;\r\n    \t\t&lt;field-validator type=&quot;requiredstring&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;Enter your password&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t\t&lt;field-validator type=&quot;stringlength&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;Password must be between 5 to 10 characters long&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t\t&lt;field-validator type=&quot;regex&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;expression&quot;&gt;((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{5,10})&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;Password must &lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t&lt;/field&gt;\r\n    \t&lt;!-- Login page validation ends --&gt;\r\n    &lt;/validators&gt;\r\n\r\nValidation xml for the login user name and the password..\r\n\r\nWhen I run this code, it is always returning the &quot;INPUT&quot; string and redirecting to LoginError.jsp in the case of login action and login.jsp in the case of register action. Please suggest how I can resolve this issue without using validation.excludeMethods\r\n\r\n**LoginAction-getRegistered-validation.xml**:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE validators PUBLIC &quot;-//Apache Struts//XWork Validator 1.0.3//EN&quot;  \r\n        &quot;http://struts.apache.org/dtds/xwork-validator-1.0.3.dtd&quot;&gt;\r\n    &lt;validators&gt;\r\n    &lt;!-- Registration validation Starts --&gt;\r\n    \t&lt;field name=&quot;firstname&quot;&gt;\r\n    \t\t&lt;field-validator type=&quot;requiredstring&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;Firstname is mandatory&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t\t&lt;field-validator type=&quot;stringlength&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;First Name must be between 5 to 10 characters long&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t&lt;/field&gt;\r\n    \t&lt;field name=&quot;lastname&quot;&gt;\r\n    \t\t&lt;field-validator type=&quot;requiredstring&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;Lastname is mandatory&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t\t&lt;field-validator type=&quot;stringlength&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\r\n    \t\t\t&lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\r\n    \t\t\t&lt;message&gt;Last Name must be between 5 to 10 characters long&lt;/message&gt;\r\n    \t\t&lt;/field-validator&gt;\r\n    \t&lt;/field&gt;\r\n    \t&lt;!-- Registration validation ends --&gt;\r\n    &lt;/validators&gt;\r\n\r\nI have made validation for the first and the last name\r\n","title":"Not able to call two different methods under same action class without using validation.excludeMethods","body":"<p><strong>Struts.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\n&quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\n&lt;struts&gt;\n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\n\n        &lt;action name=&quot;getLogin&quot; class=&quot;login.action.LoginAction&quot;  \n            method=&quot;login&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/Profile.jsp&lt;/result&gt;\n            &lt;result name=&quot;input&quot;&gt;/LoginError.jsp&lt;/result&gt;\n        &lt;/action&gt;\n\n        &lt;action name=&quot;getRegistered&quot; class=&quot;login.action.LoginAction&quot;\n            method=&quot;register&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/Success.jsp&lt;/result&gt;\n            &lt;result name=&quot;input&quot;&gt;/login.jsp&lt;/result&gt;\n        &lt;/action&gt;\n\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p>I'm trying to map two Action in this XML to two different methods in Action class</p>\n<p><strong>LoginAction.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package login.action;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.apache.struts2.interceptor.ServletRequestAware;\nimport org.apache.struts2.interceptor.ServletResponseAware;\nimport com.opensymphony.xwork2.ActionSupport;\nimport login.service.LoginDao;\nimport login.service.RegisterDao;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class LoginAction extends ActionSupport implements ServletRequestAware,\n        ServletResponseAware {\n\n    private String username;\n    private String password;\n    private HttpServletRequest httpServletRequest;\n    private String firstname;\n    private String lastname;\n    private String regpassword;\n    private String conpassword;\n    private String regemail;\n    private String conemail;\n    private String phone;\n    \n    public String register(){\n        RegisterDao rdao = new RegisterDao();\n        String registered = rdao.registerdao(firstname,lastname,regpassword,conpassword,regemail,conemail,phone);\n        if(registered == &quot;TRUE&quot;){\n            return SUCCESS;\n        }\n        \n        return INPUT;\n    }\n    \n    \n    public String login() {\n        System.out.println(&quot;user name::: &quot;+username);\n        httpServletRequest.getSession().setAttribute(&quot;key&quot;, username);\n        httpServletRequest.getSession().setAttribute(&quot;key&quot;, password);\n        LoginDao db = new LoginDao();\n        Boolean validate = db.loginresult(username, password);\n        if (validate == true) {\n            return SUCCESS;\n\n        } else {\n            return INPUT;\n        }\n    }\n    \n    public HttpServletRequest getHttpServletRequest() {\n        return httpServletRequest;\n    }\n\n    public void setHttpServletRequest(HttpServletRequest httpServletRequest) {\n        this.httpServletRequest = httpServletRequest;\n    }\n\n    public String getFirstname() {\n        return firstname;\n    }\n\n    public void setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getLastname() {\n        return lastname;\n    }\n\n    public void setLastname(String lastname) {\n        this.lastname = lastname;\n    }\n\n    public String getRegpassword() {\n        return regpassword;\n    }\n\n    public void setRegpassword(String regpassword) {\n        this.regpassword = regpassword;\n    }\n\n    public String getConpassword() {\n        return conpassword;\n    }\n\n    public void setConpassword(String conpassword) {\n        this.conpassword = conpassword;\n    }\n\n    public String getRegemail() {\n        return regemail;\n    }\n\n    public void setRegemail(String regemail) {\n        this.regemail = regemail;\n    }\n\n    public String getConemail() {\n        return conemail;\n    }\n\n    public void setConemail(String conemail) {\n        this.conemail = conemail;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n\n    public void setServletRequest(HttpServletRequest request) {\n        this.httpServletRequest = request;\n\n    }\n\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public void setServletResponse(HttpServletResponse arg0) {\n        // TODO Auto-generated method stub\n\n    }\n    \n    \n\n}\n</code></pre>\n<p>Action Class with login and register methods:</p>\n<p><strong>login.jsp</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;%@ taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;\n        &lt;s:form action=&quot;getLogin.action&quot; method=&quot;post&quot; validate=&quot;true&quot;&gt;\n            &lt;s:textfield label=&quot;Name&quot;  key=&quot;username&quot;/&gt;\n            &lt;s:password label=&quot;Password&quot; key=&quot;password&quot;/&gt;\n            &lt;s:checkbox name=&quot;Rememberme&quot; label=&quot;Remember Me&quot; value=&quot;yes&quot;\n                checked=&quot;checked&quot;/&gt;\n            &lt;s:submit value=&quot;Sign in&quot;/&gt;\n        &lt;/s:form&gt;\n    &lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Login.jsp which is redirecting to the login method in Action class. Earlier it was working fine. Now this action gives trouble:</p>\n<p><strong>Registration.jsp</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;%@ taglib uri=&quot;/struts-tags&quot; prefix=&quot;s&quot;%&gt;\n        &lt;s:form action=&quot;getRegistered.action&quot; method=&quot;post&quot; validate=&quot;true&quot;&gt;\n            &lt;div&gt;\n                &lt;table&gt;\n                    &lt;s:textfield label=&quot;First Name&quot; key=&quot;firstname&quot; /&gt;\n                    &lt;s:textfield label=&quot;Last Name&quot; key=&quot;lastname&quot; /&gt;\n                    &lt;s:password label=&quot;Create your password&quot; key=&quot;regpassword&quot; /&gt;\n                    &lt;s:password label=&quot;Confirm your password&quot; key=&quot;conpassword&quot; /&gt;\n                    &lt;s:textfield label=&quot;Email&quot; key=&quot;regemail1&quot; /&gt;\n                    &lt;s:textfield label=&quot;Re-Type Email&quot; key=&quot;conemail&quot; /&gt;\n                    &lt;s:textfield label=&quot;Phone&quot; key=&quot;phone&quot; /&gt;   \n                    &lt;tr&gt;\n                    &lt;td&gt;&lt;s:submit value=&quot;Register&quot; theme=&quot;simple&quot;/&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;s:submit value=&quot;Cancel&quot; theme=&quot;simple&quot; onclick=&quot;document.forms[0].action='login.jsp';&quot; /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/div&gt;\n        &lt;/s:form&gt;\n    &lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Registration.jsp redirecting to the getRegistered action:</p>\n<p><strong>LoginAction-Validation.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE validators PUBLIC &quot;-//Apache Struts//XWork Validator 1.0.3//EN&quot;  \n    &quot;http://struts.apache.org/dtds/xwork-validator-1.0.3.dtd&quot;&gt;\n&lt;validators&gt;\n    &lt;!-- Login page validation Starts --&gt;\n    &lt;field name=&quot;username&quot;&gt;\n        &lt;field-validator type=&quot;requiredstring&quot;&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;User Name is mandatory&lt;/message&gt;\n        &lt;/field-validator&gt;\n        &lt;field-validator type=&quot;stringlength&quot;&gt;\n            &lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\n            &lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;User Name must be between 5 to 10 characters long&lt;/message&gt;\n        &lt;/field-validator&gt;\n    &lt;/field&gt;\n\n    &lt;field name=&quot;password&quot;&gt;\n        &lt;field-validator type=&quot;requiredstring&quot;&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;Enter your password&lt;/message&gt;\n        &lt;/field-validator&gt;\n        &lt;field-validator type=&quot;stringlength&quot;&gt;\n            &lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\n            &lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;Password must be between 5 to 10 characters long&lt;/message&gt;\n        &lt;/field-validator&gt;\n        &lt;field-validator type=&quot;regex&quot;&gt;\n            &lt;param name=&quot;expression&quot;&gt;((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{5,10})&lt;/param&gt;\n            &lt;message&gt;Password must &lt;/message&gt;\n        &lt;/field-validator&gt;\n    &lt;/field&gt;\n    &lt;!-- Login page validation ends --&gt;\n&lt;/validators&gt;\n</code></pre>\n<p>Validation xml for the login user name and the password..</p>\n<p>When I run this code, it is always returning the &quot;INPUT&quot; string and redirecting to LoginError.jsp in the case of login action and login.jsp in the case of register action. Please suggest how I can resolve this issue without using validation.excludeMethods</p>\n<p><strong>LoginAction-getRegistered-validation.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE validators PUBLIC &quot;-//Apache Struts//XWork Validator 1.0.3//EN&quot;  \n    &quot;http://struts.apache.org/dtds/xwork-validator-1.0.3.dtd&quot;&gt;\n&lt;validators&gt;\n&lt;!-- Registration validation Starts --&gt;\n    &lt;field name=&quot;firstname&quot;&gt;\n        &lt;field-validator type=&quot;requiredstring&quot;&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;Firstname is mandatory&lt;/message&gt;\n        &lt;/field-validator&gt;\n        &lt;field-validator type=&quot;stringlength&quot;&gt;\n            &lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\n            &lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;First Name must be between 5 to 10 characters long&lt;/message&gt;\n        &lt;/field-validator&gt;\n    &lt;/field&gt;\n    &lt;field name=&quot;lastname&quot;&gt;\n        &lt;field-validator type=&quot;requiredstring&quot;&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;Lastname is mandatory&lt;/message&gt;\n        &lt;/field-validator&gt;\n        &lt;field-validator type=&quot;stringlength&quot;&gt;\n            &lt;param name=&quot;minLength&quot;&gt;5&lt;/param&gt;\n            &lt;param name=&quot;maxLength&quot;&gt;10&lt;/param&gt;\n            &lt;param name=&quot;trim&quot;&gt;true&lt;/param&gt;\n            &lt;message&gt;Last Name must be between 5 to 10 characters long&lt;/message&gt;\n        &lt;/field-validator&gt;\n    &lt;/field&gt;\n    &lt;!-- Registration validation ends --&gt;\n&lt;/validators&gt;\n</code></pre>\n<p>I have made validation for the first and the last name</p>\n"},{"tags":["java","jquery","regex","json","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1406534897,"post_id":24990853,"comment_id":38853151,"body_markdown":"Are you using json plugin and what is your action configuration?","body":"Are you using json plugin and what is your action configuration?"},{"owner":{"account_id":1783282,"reputation":1732,"user_id":14938772,"display_name":"Vivek Mishra"},"score":0,"creation_date":1406535132,"post_id":24990853,"comment_id":38853266,"body_markdown":"yes I am using struts2 json plugin 2.3.12.jar","body":"yes I am using struts2 json plugin 2.3.12.jar"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1406535817,"creation_date":1406535817,"answer_id":24991109,"question_id":24990853,"body_markdown":"By default `json` result serializes all bean properties specified by the `root` parameter which is set by default to the action. But you can use `includeProperties` parameter of the result to filter only those properties from the `root` that matched regex expressions.  \r\n\r\n    @Result(type=&quot;json&quot;, params = {&quot;includeProperties&quot;, &quot;^s2&quot;})","title":"How to get only particular fields in response in Struts 2","body":"<p>By default <code>json</code> result serializes all bean properties specified by the <code>root</code> parameter which is set by default to the action. But you can use <code>includeProperties</code> parameter of the result to filter only those properties from the <code>root</code> that matched regex expressions.  </p>\n\n<pre><code>@Result(type=\"json\", params = {\"includeProperties\", \"^s2\"})\n</code></pre>\n"}],"owner":{"account_id":1783282,"reputation":1732,"user_id":14938772,"display_name":"Vivek Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24991109,"answer_count":1,"score":2,"last_activity_date":1683559412,"creation_date":1406534604,"question_id":24990853,"body_markdown":"I have an action class in which many action methods are defined and appropriate getters and setters methods are also defined. I have some action methods from which I get the data as json  by calling them from jQuery. but when I get the json data it includes all the fields for which getters and setters are defined but i want to get only that field which is filled by that method to which i am calling. for example-\r\n\r\n    public class ApplicantRegistration extends ActionSupport{\r\n    private String s1;\r\n    private XyzBean bean;\r\n    private String s2;\r\n    // respective getters and setters....\r\n    \r\n    public String m1(){\r\n    // some work\r\n     return SUCCESS;\r\n    }\r\n    \r\n    public String m2(){\r\n       //some work\r\n        s2=&quot;abc&quot;;\r\n        return SUCCESS;\r\n    }\r\n\r\n    \r\n    }\r\n\r\nwhen i call method m2 via jQuery and get json response it gives \r\n\r\n    {\r\n     s1: null,\r\n     bean: null,\r\n     s2:&quot;abc&quot;,\r\n     m2: &quot;success&quot;,\r\n\r\n    }\r\n\r\nbut I want only  \r\n\r\n    {\r\n     s2:&quot;abc&quot;\r\n    }","title":"How to get only particular fields in response in Struts 2","body":"<p>I have an action class in which many action methods are defined and appropriate getters and setters methods are also defined. I have some action methods from which I get the data as json  by calling them from jQuery. but when I get the json data it includes all the fields for which getters and setters are defined but i want to get only that field which is filled by that method to which i am calling. for example-</p>\n\n<pre><code>public class ApplicantRegistration extends ActionSupport{\nprivate String s1;\nprivate XyzBean bean;\nprivate String s2;\n// respective getters and setters....\n\npublic String m1(){\n// some work\n return SUCCESS;\n}\n\npublic String m2(){\n   //some work\n    s2=\"abc\";\n    return SUCCESS;\n}\n\n\n}\n</code></pre>\n\n<p>when i call method m2 via jQuery and get json response it gives </p>\n\n<pre><code>{\n s1: null,\n bean: null,\n s2:\"abc\",\n m2: \"success\",\n\n}\n</code></pre>\n\n<p>but I want only  </p>\n\n<pre><code>{\n s2:\"abc\"\n}\n</code></pre>\n"},{"tags":["java","saprfc","jco"],"answers":[{"tags":[],"owner":{"account_id":3002990,"reputation":29,"user_id":2548099,"display_name":"niccolo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1378752432,"creation_date":1378752432,"answer_id":18704870,"question_id":18702777,"body_markdown":"Behind the scenes, SAP makes several calls within one RFC call.  In addition, SAP makes security calls to ensure you have the rights to invoke what you&#39;re invoking.  It does this for &lt;b&gt;any&lt;/b&gt; function module call, not just RFC ones.&lt;br&gt;&lt;br&gt;I don&#39;t know what DDIF_FIELDINFO_GET does in particular - it may be one of the calls SAP makes to satisfy your overall call RFC_SYSTEM_INFO.&lt;br&gt;&lt;br&gt;In addition, to be eligible to be called as part of an RFC, the SAP function module has to be &quot;remote enabled&quot; (that may be in SE37 but don&#39;t quote me on that).","title":"What minimum permissions/access rights does a SAP user need to be able to make RFC calls using JCo?","body":"<p>Behind the scenes, SAP makes several calls within one RFC call.  In addition, SAP makes security calls to ensure you have the rights to invoke what you're invoking.  It does this for <b>any</b> function module call, not just RFC ones.<br><br>I don't know what DDIF_FIELDINFO_GET does in particular - it may be one of the calls SAP makes to satisfy your overall call RFC_SYSTEM_INFO.<br><br>In addition, to be eligible to be called as part of an RFC, the SAP function module has to be \"remote enabled\" (that may be in SE37 but don't quote me on that).</p>\n"},{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378816329,"creation_date":1378816329,"answer_id":18719059,"question_id":18702777,"body_markdown":"There is a specific authorisation object for RFC call.   \r\n\r\nIn your role you add the object S_RFC (RFC calls auth. check) in the class AAAB (auth. object, all applications). You fill it with object &#39;FUGR&#39; and the set of function group that you want to use (as always, &#39;*&#39; is possible but ***not*** recommanded)\r\n\r\nThis limit the RFC function call that you user can perform to the list you defined.\r\n\r\nalso, as niccolo said, the function module you call must be RFC enabled.\r\n\r\nAlso, an abbaper may also use the ST01 transaction to get a system trace on the authorizations check of your user for RFC calls, and get the list of function module you need.\r\n","title":"What minimum permissions/access rights does a SAP user need to be able to make RFC calls using JCo?","body":"<p>There is a specific authorisation object for RFC call.   </p>\n\n<p>In your role you add the object S_RFC (RFC calls auth. check) in the class AAAB (auth. object, all applications). You fill it with object 'FUGR' and the set of function group that you want to use (as always, '*' is possible but <strong><em>not</em></strong> recommanded)</p>\n\n<p>This limit the RFC function call that you user can perform to the list you defined.</p>\n\n<p>also, as niccolo said, the function module you call must be RFC enabled.</p>\n\n<p>Also, an abbaper may also use the ST01 transaction to get a system trace on the authorizations check of your user for RFC calls, and get the list of function module you need.</p>\n"},{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1378891521,"creation_date":1378891521,"answer_id":18737365,"question_id":18702777,"body_markdown":"[It&#39;s all in the documentation.][1] :-)\r\n\r\nThe Java connector needs some basic permissions to read the metadata of the function module - otherwise it wouldn&#39;t know how to encode and decode the data for this specific backend system. `DDIF_FIELDINFO_GET` is a part of that process.\r\n\r\n(One has to keep in mind that besides the release-dependent changes, many structures can be extended or modified, so even if you&#39;re calling the same function module in different systems, there&#39;s no guarantee that the structures will be exactly the same.)\r\n\r\n  [1]: http://help.sap.com/javadocs/nw04/current/jc/com/sap/mw/jco/JCO.Repository.html","title":"What minimum permissions/access rights does a SAP user need to be able to make RFC calls using JCo?","body":"<p><a href=\"http://help.sap.com/javadocs/nw04/current/jc/com/sap/mw/jco/JCO.Repository.html\" rel=\"nofollow\">It's all in the documentation.</a> :-)</p>\n\n<p>The Java connector needs some basic permissions to read the metadata of the function module - otherwise it wouldn't know how to encode and decode the data for this specific backend system. <code>DDIF_FIELDINFO_GET</code> is a part of that process.</p>\n\n<p>(One has to keep in mind that besides the release-dependent changes, many structures can be extended or modified, so even if you're calling the same function module in different systems, there's no guarantee that the structures will be exactly the same.)</p>\n"},{"tags":[],"owner":{"account_id":8069526,"reputation":11,"user_id":9349716,"display_name":"snipersap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525449805,"creation_date":1525449805,"answer_id":50179013,"question_id":18702777,"body_markdown":"Since SAP has removed the SAP documentation referred to in the answer by vwegert, adding the available info scattered through &quot;archive.sap.com&quot; answering this question. \r\n\r\nThe reference JCO user to check for the required role is *SAPJCF*. The closes role that seems to work for many is *SAP_BC_JSF_COMMUNICATION*. The user should also not have dialog authorization.\r\n\r\nReferences:\r\n\r\nhttps://archive.sap.com/discussions/thread/631020\r\nhttps://archive.sap.com/discussions/thread/375125","title":"What minimum permissions/access rights does a SAP user need to be able to make RFC calls using JCo?","body":"<p>Since SAP has removed the SAP documentation referred to in the answer by vwegert, adding the available info scattered through \"archive.sap.com\" answering this question. </p>\n\n<p>The reference JCO user to check for the required role is <em>SAPJCF</em>. The closes role that seems to work for many is <em>SAP_BC_JSF_COMMUNICATION</em>. The user should also not have dialog authorization.</p>\n\n<p>References:</p>\n\n<p><a href=\"https://archive.sap.com/discussions/thread/631020\" rel=\"nofollow noreferrer\">https://archive.sap.com/discussions/thread/631020</a>\n<a href=\"https://archive.sap.com/discussions/thread/375125\" rel=\"nofollow noreferrer\">https://archive.sap.com/discussions/thread/375125</a></p>\n"},{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525533903,"creation_date":1525533903,"answer_id":50191064,"question_id":18702777,"body_markdown":"SAP has documented the required minimum RFC user authorizations for several usage scenarios in detail in the following note:\r\n\r\n - [460089 - Minimum authorization profile for external RFC programs][1]\r\n\r\n\r\n  [1]: https://launchpad.support.sap.com/#/notes/460089","title":"What minimum permissions/access rights does a SAP user need to be able to make RFC calls using JCo?","body":"<p>SAP has documented the required minimum RFC user authorizations for several usage scenarios in detail in the following note:</p>\n\n<ul>\n<li><a href=\"https://launchpad.support.sap.com/#/notes/460089\" rel=\"nofollow noreferrer\">460089 - Minimum authorization profile for external RFC programs</a></li>\n</ul>\n"}],"owner":{"account_id":1399470,"reputation":6117,"user_id":1328513,"accept_rate":53,"display_name":"Zhenya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18737365,"answer_count":5,"score":1,"last_activity_date":1683559339,"creation_date":1378744067,"question_id":18702777,"body_markdown":"I&#39;m trying to call a SAP function `RFC_SYSTEM_INFO` from Java application. I am using JCo 3.0 for that. I&#39;m using the example code provided from JCo documentation.\r\n\r\nI get an exception \r\n\r\n&gt; ```\r\n&gt; Caused by: RfcException: [IA1|CZVBIIN101] \r\n&gt; message: No RFC authorization for function module DDIF_FIELDINFO_GET. \r\n&gt; Return code: RFC_SYS_EXCEPTION(3) \r\n&gt; error group: 104 \r\n&gt; key: RFC_ERROR_SYSTEM_FAILURE \r\n&gt; message class: 00 \r\n&gt; message type: X \r\n&gt; message number: 341 \r\n&gt; message parameter 0: RFC_NO_AUTHORITY \r\n&gt; ```\r\n\r\nAccording to my colleague who was looking in the SAP log (I know nothing about SAP, he knows), before calling the function `RFC_SYSTEM_INFO`, JCo makes about 7 calls, some of which require the &quot;developer&#39;s permissions&quot;. So, what we don&#39;t understand is why we would need developer&#39;s permissions for such a simple call? Why does JCo make so many calls instead of making only one call?\r\n\r\nFor example, I don&#39;t understand why we need to call the function module `DDIF_FIELDINFO_GET`? I just want to call `RFC_SYSTEM_INFO`, not `DDIF_FIELDINFO_GET`. Is it possible to call `RFC_SYSTEM_INFO` without calling `RFC_SYSTEM_INFO`?\r\n\r\nWhat are the minimum access rights the user should have to be able to make RFC calls?\r\n","title":"What minimum permissions/access rights does a SAP user need to be able to make RFC calls using JCo?","body":"<p>I'm trying to call a SAP function <code>RFC_SYSTEM_INFO</code> from Java application. I am using JCo 3.0 for that. I'm using the example code provided from JCo documentation.</p>\n<p>I get an exception</p>\n<blockquote>\n<pre><code>Caused by: RfcException: [IA1|CZVBIIN101] \nmessage: No RFC authorization for function module DDIF_FIELDINFO_GET. \nReturn code: RFC_SYS_EXCEPTION(3) \nerror group: 104 \nkey: RFC_ERROR_SYSTEM_FAILURE \nmessage class: 00 \nmessage type: X \nmessage number: 341 \nmessage parameter 0: RFC_NO_AUTHORITY \n</code></pre>\n</blockquote>\n<p>According to my colleague who was looking in the SAP log (I know nothing about SAP, he knows), before calling the function <code>RFC_SYSTEM_INFO</code>, JCo makes about 7 calls, some of which require the &quot;developer's permissions&quot;. So, what we don't understand is why we would need developer's permissions for such a simple call? Why does JCo make so many calls instead of making only one call?</p>\n<p>For example, I don't understand why we need to call the function module <code>DDIF_FIELDINFO_GET</code>? I just want to call <code>RFC_SYSTEM_INFO</code>, not <code>DDIF_FIELDINFO_GET</code>. Is it possible to call <code>RFC_SYSTEM_INFO</code> without calling <code>RFC_SYSTEM_INFO</code>?</p>\n<p>What are the minimum access rights the user should have to be able to make RFC calls?</p>\n"},{"tags":["java","regex","json","jsp","struts2"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1429612846,"post_id":29769757,"comment_id":47670237,"body_markdown":"Can you just specify `atomAddressList` as a `root` instead of using `includeProperties` parameter?","body":"Can you just specify <code>atomAddressList</code> as a <code>root</code> instead of using <code>includeProperties</code> parameter?"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1429613036,"post_id":29769757,"comment_id":47670377,"body_markdown":"showing `null`     .","body":"showing <code>null</code>     ."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1429613222,"post_id":29769757,"comment_id":47670505,"body_markdown":"Try with `&lt;result type=&quot;json&quot;/&gt;` w/o parameters and post json response.","body":"Try with <code>&lt;result type=&quot;json&quot;&#47;&gt;</code> w/o parameters and post json response."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1429614046,"post_id":29769757,"comment_id":47671113,"body_markdown":"showing error `org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: java.lang.reflect.InvocationTargetException`","body":"showing error <code>org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: java.lang.reflect.InvocationTargetException</code>"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1429614543,"post_id":29769757,"comment_id":47671429,"body_markdown":"Well... Are you sure that `&lt;param name=&quot;root&quot;&gt;atomAddressList&lt;/param&gt;` w/o any additional parameters doesn&#39;t work?","body":"Well... Are you sure that <code>&lt;param name=&quot;root&quot;&gt;atomAddressList&lt;&#47;param&gt;</code> w/o any additional parameters doesn&#39;t work?"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1429614712,"post_id":29769757,"comment_id":47671522,"body_markdown":"Yes not showing any parameter output is null","body":"Yes not showing any parameter output is null"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1429615005,"post_id":29769757,"comment_id":47671740,"body_markdown":"for checking I am using url `http://localhost:8085/tt/SingleAddressDetail?pageId=44&amp;id=1` showing null","body":"for checking I am using url <code>http:&#47;&#47;localhost:8085&#47;tt&#47;SingleAddressDetail?pageId=44&amp;id=1</code> showing null"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1429615135,"post_id":29769757,"comment_id":47671824,"body_markdown":"Where do you see null?","body":"Where do you see null?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1429615861,"post_id":29769757,"comment_id":47672314,"body_markdown":"One more try... How do you access json response? With this `alert(data.atomAddressList[0].placeByCountryId.id);`? Try print just `data`.","body":"One more try... How do you access json response? With this <code>alert(data.atomAddressList[0].placeByCountryId.id);</code>? Try print just <code>data</code>."},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1429619612,"post_id":29769757,"comment_id":47675090,"body_markdown":"Can you post more parts of your action ? Getters, initializazion of the atomAddressList, etc","body":"Can you post more parts of your action ? Getters, initializazion of the atomAddressList, etc"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1429681914,"post_id":29769757,"comment_id":47706765,"body_markdown":"@AndreaLigios Added other data of action","body":"@AndreaLigios Added other data of action"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1429688226,"post_id":29769757,"comment_id":47710409,"body_markdown":"Please add the real exception. `java.lang.reflect.InvocationTargetException` is just an extra layer over the real exception, that you will find by traversing the `Caused By` exception chain","body":"Please add the real exception. <code>java.lang.reflect.InvocationTargetException</code> is just an extra layer over the real exception, that you will find by traversing the <code>Caused By</code> exception chain"},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1429693841,"post_id":29769757,"comment_id":47714150,"body_markdown":"Now it is not showing error I checked it again","body":"Now it is not showing error I checked it again"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683558462,"creation_date":1430037166,"answer_id":29875428,"question_id":29769757,"body_markdown":"You haven&#39;t included some properties in the json result because they should be valid regex expressions for each property. A period character should be escaped. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;param name=&quot;includeProperties&quot;&gt;\r\n        ^atomAddressList\\[\\d+\\]\\.id,\r\n        ^atomAddressList\\[\\d+\\]\\.houseno,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByAreaId\\.id,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByAreaId\\.name,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByCityId\\.id,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByCityId\\.name,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByStateId\\.id,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByStateId\\.name,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByCountryId\\.id,\r\n        ^atomAddressList\\[\\d+\\]\\.placeByCountryId\\.name\r\n    &lt;/param&gt;","title":"Not able to fetch all json response from server","body":"<p>You haven't included some properties in the json result because they should be valid regex expressions for each property. A period character should be escaped.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;param name=&quot;includeProperties&quot;&gt;\n    ^atomAddressList\\[\\d+\\]\\.id,\n    ^atomAddressList\\[\\d+\\]\\.houseno,\n    ^atomAddressList\\[\\d+\\]\\.placeByAreaId\\.id,\n    ^atomAddressList\\[\\d+\\]\\.placeByAreaId\\.name,\n    ^atomAddressList\\[\\d+\\]\\.placeByCityId\\.id,\n    ^atomAddressList\\[\\d+\\]\\.placeByCityId\\.name,\n    ^atomAddressList\\[\\d+\\]\\.placeByStateId\\.id,\n    ^atomAddressList\\[\\d+\\]\\.placeByStateId\\.name,\n    ^atomAddressList\\[\\d+\\]\\.placeByCountryId\\.id,\n    ^atomAddressList\\[\\d+\\]\\.placeByCountryId\\.name\n&lt;/param&gt;\n</code></pre>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29875428,"answer_count":1,"score":2,"last_activity_date":1683559317,"creation_date":1429612508,"question_id":29769757,"body_markdown":"I want to fetch json response from server for that I am using following code\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class AtomAddressDetail implements java.io.Serializable {\r\n    \r\n        private Long id;\r\n        private Place placeByStateId;\r\n        private Atom atom;\r\n        private Place placeByCountryId;\r\n        private Place placeByCityId;\r\n        private Place placeByStreetId;\r\n        private Place placeByAreaId;\r\n        private String houseno;\r\n       //getter and setter\r\n    }\r\n\r\n    public class Place implements java.io.Serializable {\r\n        private Long id;\r\n        private String name;\r\n        private String about;\r\n        //getter and setter\r\n    }\r\n\r\nIn action\r\n   \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class SettingAction extends ActionSupport {\r\n        private long pageId; //getter and setter\r\n        private long id;  //getter and setter\r\n        private List&lt;AtomAddressDetail&gt; atomAddressList;\r\n        public String singleAddress() {\r\n             setAtomAddressList(cdao.singleAddress(getId(), getPageId()));\r\n             for (AtomAddressDetail a : getAtomAddressList()) {\r\n                                System.out.println(&quot;Country &quot; + a.getPlaceByCountryId().getId() + &quot; &quot; + a.getPlaceByCountryId().getName());\r\n                                System.out.println(&quot;state &quot; + a.getPlaceByStateId().getId() + &quot; &quot; + a.getPlaceByStateId().getName());\r\n                                System.out.println(&quot;city &quot; + a.getPlaceByCityId().getId() + &quot; &quot; + a.getPlaceByCityId().getName());\r\n                                 System.out.println(&quot;area &quot; + a.getPlaceByAreaId().getId() + &quot; &quot; + a.getPlaceByAreaId().getName());\r\n                                System.out.println(&quot;street &quot; + a.getPlaceByStreetId().getId() + &quot; &quot; + a.getPlaceByStreetId().getName());\r\n             }\r\n        }\r\n        public List&lt;AtomAddressDetail&gt; getAtomAddressList() {\r\n                    return atomAddressList;\r\n        }\r\n            \r\n        public void setAtomAddressList(List&lt;AtomAddressDetail&gt; atomAddressList) {\r\n                    this.atomAddressList = atomAddressList;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Country 2 India\r\n    state 3 asdf\r\n    city 4 sdfsd\r\n    area 5 www\r\n    street 6 sdfdsa f\r\n\r\nIn `struts.xml`\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;action name=&quot;SingleAddressDetail&quot; class=&quot;.SettingAction&quot; method=&quot;singleAddress&quot;&gt;\r\n        &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;\r\n            &lt;param name=&quot;includeProperties&quot;&gt;\r\n                ^atomAddressList\\[\\d+\\]\\.id,\r\n                ^atomAddressList\\[\\d+\\]\\.houseno,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByAreaId.id,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByAreaId.name,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByCityId.id,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByCityId.name,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByStateId.id,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByStateId.name,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByCountryId.id,\r\n                ^atomAddressList\\[\\d+\\]\\.placeByCountryId.name\r\n            &lt;/param&gt;\r\n            &lt;param name=&quot;excludeNullProperties&quot;&gt;true&lt;/param&gt;\r\n            &lt;param name=&quot;root&quot;&gt;\r\n                #action\r\n            &lt;/param&gt;\r\n        &lt;/result&gt;\r\n        &lt;result name=&quot;input&quot; type=&quot;json&quot;/&gt;\r\n        &lt;result name=&quot;login&quot; type=&quot;json&quot;&gt;&lt;/result&gt;\r\n    &lt;/action&gt; \r\n\r\nIn JSP\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    {&quot;atomAddressList&quot;:[{&quot;houseno&quot;:&quot;sadf sadf &quot;,&quot;id&quot;:1}]}\r\n\r\nProblem is in JSP page I am getting only two filds value but I want to fetch all values that are specified in `struts.xml`&#39;s action.\r\n\r\nValues are printed in action properly as mentioned but on accessing in JSP like `alert(data.atomAddressList[0].placeByCountryId.id);` it is showing \r\n\r\n    error:Uncaught TypeError: Cannot read property &#39;id&#39; of undefined","title":"Not able to fetch all json response from server","body":"<p>I want to fetch json response from server for that I am using following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AtomAddressDetail implements java.io.Serializable {\n\n    private Long id;\n    private Place placeByStateId;\n    private Atom atom;\n    private Place placeByCountryId;\n    private Place placeByCityId;\n    private Place placeByStreetId;\n    private Place placeByAreaId;\n    private String houseno;\n   //getter and setter\n}\n\npublic class Place implements java.io.Serializable {\n    private Long id;\n    private String name;\n    private String about;\n    //getter and setter\n}\n</code></pre>\n<p>In action</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SettingAction extends ActionSupport {\n    private long pageId; //getter and setter\n    private long id;  //getter and setter\n    private List&lt;AtomAddressDetail&gt; atomAddressList;\n    public String singleAddress() {\n         setAtomAddressList(cdao.singleAddress(getId(), getPageId()));\n         for (AtomAddressDetail a : getAtomAddressList()) {\n                            System.out.println(&quot;Country &quot; + a.getPlaceByCountryId().getId() + &quot; &quot; + a.getPlaceByCountryId().getName());\n                            System.out.println(&quot;state &quot; + a.getPlaceByStateId().getId() + &quot; &quot; + a.getPlaceByStateId().getName());\n                            System.out.println(&quot;city &quot; + a.getPlaceByCityId().getId() + &quot; &quot; + a.getPlaceByCityId().getName());\n                             System.out.println(&quot;area &quot; + a.getPlaceByAreaId().getId() + &quot; &quot; + a.getPlaceByAreaId().getName());\n                            System.out.println(&quot;street &quot; + a.getPlaceByStreetId().getId() + &quot; &quot; + a.getPlaceByStreetId().getName());\n         }\n    }\n    public List&lt;AtomAddressDetail&gt; getAtomAddressList() {\n                return atomAddressList;\n    }\n        \n    public void setAtomAddressList(List&lt;AtomAddressDetail&gt; atomAddressList) {\n                this.atomAddressList = atomAddressList;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Country 2 India\nstate 3 asdf\ncity 4 sdfsd\narea 5 www\nstreet 6 sdfdsa f\n</code></pre>\n<p>In <code>struts.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;action name=&quot;SingleAddressDetail&quot; class=&quot;.SettingAction&quot; method=&quot;singleAddress&quot;&gt;\n    &lt;result name=&quot;success&quot; type=&quot;json&quot;&gt;\n        &lt;param name=&quot;includeProperties&quot;&gt;\n            ^atomAddressList\\[\\d+\\]\\.id,\n            ^atomAddressList\\[\\d+\\]\\.houseno,\n            ^atomAddressList\\[\\d+\\]\\.placeByAreaId.id,\n            ^atomAddressList\\[\\d+\\]\\.placeByAreaId.name,\n            ^atomAddressList\\[\\d+\\]\\.placeByCityId.id,\n            ^atomAddressList\\[\\d+\\]\\.placeByCityId.name,\n            ^atomAddressList\\[\\d+\\]\\.placeByStateId.id,\n            ^atomAddressList\\[\\d+\\]\\.placeByStateId.name,\n            ^atomAddressList\\[\\d+\\]\\.placeByCountryId.id,\n            ^atomAddressList\\[\\d+\\]\\.placeByCountryId.name\n        &lt;/param&gt;\n        &lt;param name=&quot;excludeNullProperties&quot;&gt;true&lt;/param&gt;\n        &lt;param name=&quot;root&quot;&gt;\n            #action\n        &lt;/param&gt;\n    &lt;/result&gt;\n    &lt;result name=&quot;input&quot; type=&quot;json&quot;/&gt;\n    &lt;result name=&quot;login&quot; type=&quot;json&quot;&gt;&lt;/result&gt;\n&lt;/action&gt; \n</code></pre>\n<p>In JSP</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>{&quot;atomAddressList&quot;:[{&quot;houseno&quot;:&quot;sadf sadf &quot;,&quot;id&quot;:1}]}\n</code></pre>\n<p>Problem is in JSP page I am getting only two filds value but I want to fetch all values that are specified in <code>struts.xml</code>'s action.</p>\n<p>Values are printed in action properly as mentioned but on accessing in JSP like <code>alert(data.atomAddressList[0].placeByCountryId.id);</code> it is showing</p>\n<pre><code>error:Uncaught TypeError: Cannot read property 'id' of undefined\n</code></pre>\n"},{"tags":["java","sap-basis","jco"],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1385647458,"creation_date":1385647458,"answer_id":20268177,"question_id":20266332,"body_markdown":"Instead of `JCO_ASHOST` and `JCO_SYSNR`, you have to provide\r\n\r\n - `JCO_R3NAME` with the system ID of the target system\r\n - `JCO_MSHOST` with the message server host name or address\r\n - `JCO_MSSERV` with the message server port number \r\n - `JCO_GROUP`  with the name of the logon group\r\n\r\nSee [this file][1] for a working example using JCo3.\r\n\r\n\r\n  [1]: http://sourceforge.net/p/rcer/git/ci/master/tree/net.sf.rcer.conn/src/net/sf/rcer/conn/connections/ConnectionManager.java#l82","title":"Connect to SAP message server through JCo","body":"<p>Instead of <code>JCO_ASHOST</code> and <code>JCO_SYSNR</code>, you have to provide</p>\n\n<ul>\n<li><code>JCO_R3NAME</code> with the system ID of the target system</li>\n<li><code>JCO_MSHOST</code> with the message server host name or address</li>\n<li><code>JCO_MSSERV</code> with the message server port number </li>\n<li><code>JCO_GROUP</code>  with the name of the logon group</li>\n</ul>\n\n<p>See <a href=\"http://sourceforge.net/p/rcer/git/ci/master/tree/net.sf.rcer.conn/src/net/sf/rcer/conn/connections/ConnectionManager.java#l82\" rel=\"noreferrer\">this file</a> for a working example using JCo3.</p>\n"}],"owner":{"account_id":936354,"reputation":45,"user_id":965220,"display_name":"user965220"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6172,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1683559210,"creation_date":1385641921,"question_id":20266332,"body_markdown":"I have a working connection between my Java application and a SAP server through use of SAP JCo. The problem is that my connection is limited to 1 server.\r\nThere should be an option available for connecting to a SAP message server that acts like a load balancer.\r\n\r\nDoes anyone have an idea how this works?\r\n\r\nMy working Hibersap example:\r\n\r\n&lt;code&gt;\r\n    final SessionManagerConfig sessionManagerConfig = new SessionManagerConfig(&quot;&quot;);\r\n\r\n    sessionManagerConfig.setContext(JCoContext.class.getName());\r\n    sessionManagerConfig.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;&quot;);\r\n    sessionManagerConfig.setProperty(DestinationDataProvider.JCO_SYSNR, &quot;&quot;);\r\n    sessionManagerConfig.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;&quot;);\r\n    sessionManagerConfig.setProperty(DestinationDataProvider.JCO_USER, &quot;&quot;);\r\n    sessionManagerConfig.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;&quot;);\r\n    sessionManagerConfig.setProperty(DestinationDataProvider.JCO_LANG, &quot;&quot;);\r\n\r\n    ...\r\n&lt;/code&gt;","title":"Connect to SAP message server through JCo","body":"<p>I have a working connection between my Java application and a SAP server through use of SAP JCo. The problem is that my connection is limited to 1 server.\nThere should be an option available for connecting to a SAP message server that acts like a load balancer.</p>\n<p>Does anyone have an idea how this works?</p>\n<p>My working Hibersap example:</p>\n<code>\n    final SessionManagerConfig sessionManagerConfig = new SessionManagerConfig(\"\");\n<pre><code>sessionManagerConfig.setContext(JCoContext.class.getName());\nsessionManagerConfig.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;&quot;);\nsessionManagerConfig.setProperty(DestinationDataProvider.JCO_SYSNR, &quot;&quot;);\nsessionManagerConfig.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;&quot;);\nsessionManagerConfig.setProperty(DestinationDataProvider.JCO_USER, &quot;&quot;);\nsessionManagerConfig.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;&quot;);\nsessionManagerConfig.setProperty(DestinationDataProvider.JCO_LANG, &quot;&quot;);\n\n...\n</code></pre>\n</code>\n"},{"tags":["java","docker","docker-compose","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":9368146,"reputation":671,"user_id":6952337,"display_name":"chom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560971695,"creation_date":1560971695,"answer_id":56674448,"question_id":56551917,"body_markdown":"It worked when I gave a relative path:\r\n\r\n    volumes:\r\n      - ./docker-entrypoint.sh:/docker-entrypoint.sh","title":"How fix mounting issue while using docker-compose.yml on test containers","body":"<p>It worked when I gave a relative path:</p>\n\n<pre><code>volumes:\n  - ./docker-entrypoint.sh:/docker-entrypoint.sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13533084,"reputation":51,"user_id":9762982,"display_name":"GeneralTao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683558425,"creation_date":1683558425,"answer_id":76201878,"question_id":56551917,"body_markdown":"Using `.withLocalCompose(true)` helped me","title":"How fix mounting issue while using docker-compose.yml on test containers","body":"<p>Using <code>.withLocalCompose(true)</code> helped me</p>\n"}],"owner":{"account_id":9368146,"reputation":671,"user_id":6952337,"display_name":"chom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683558425,"creation_date":1560288668,"question_id":56551917,"body_markdown":"I am using test containers to run some tests and using https://www.testcontainers.org/modules/docker_compose/ to spin some containers used for my tests. Similar to generic containers support, it&#39;s also possible to run a bespoke set of services specified in a docker-compose.yml file.\r\n\r\nThis is intended to be useful on projects where Docker Compose is already used in dev or other environments to define services that an application may be dependent upon.\r\n\r\nHere is my code to include docker-compose.yml\r\n\r\n    @ClassRule\r\n    public static DockerComposeContainer environment =\r\n        new DockerComposeContainer(new File(&quot;src/test/resources/docker-compose.yml&quot;));\r\n\r\nHere is the content of my yml file:\r\n\r\n```\r\nversion: &#39;2.0&#39;\r\nservices:\r\n\r\n  vault:\r\n    image: vault:0.10.2\r\n    container_name: vault\r\n    ports:\r\n      - &quot;8200:8200&quot;\r\n    environment:\r\n      - VAULT_ADDR=http://0.0.0.0:8200\r\n      - VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200\r\n      - VAULT_DEV_ROOT_TOKEN_ID=stupid-token\r\n    volumes:\r\n      - /config/vault/start.sh:/start.sh\r\n    command: sh -c &quot;./start.sh&quot;\r\n\r\n  consul:\r\n    image: consul:0.8.5\r\n    container_name: consul\r\n    ports:\r\n      - &quot;8300:8300&quot;\r\n      - &quot;8400:8400&quot;\r\n      - &quot;8500:8500&quot;\r\n      - &quot;8600:8600&quot;\r\n      - &quot;8600:8600/udp&quot;\r\n    environment:\r\n      - SERVICE_IGNORE=true\r\n    entrypoint: sh -c &quot;BIND_HOST=$$(echo \\&quot;$DOCKER_HOST\\&quot; | awk -F &#39;:&#39; &#39;{print $$2}&#39; | sed  &#39;s/\\\\/\\\\///&#39;); echo $$BIND_HOST;/bin/consul agent -server -bootstrap  --client=0.0.0.0 --data-dir=/tmp/consul -ui -advertise=$$BIND_HOST -domain=consul-dev&quot;\r\n\r\n  registrator:\r\n    image: gliderlabs/registrator:v7\r\n    container_name: registrator\r\n    depends_on:\r\n      - consul\r\n    volumes:\r\n      - /var/run/docker.sock:/tmp/docker.sock:ro\r\n    entrypoint: sh -c &quot;BIND_HOST=$$(echo \\&quot;$DOCKER_HOST\\&quot; | awk -F &#39;:&#39; &#39;{print $$2}&#39; | sed  &#39;s/\\\\/\\\\///&#39;); echo $$BIND_HOST;/bin/registrator -ip $$BIND_HOST consul://consul:8500&quot;\r\n\r\n  postgres:\r\n    image: registry.xxx.com/xxx-postgres:9.5.9\r\n    container_name: postgres\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    depends_on:\r\n      - registrator\r\n    volumes:\r\n      - /config/postgres/docker-entrypoint.sh:/docker-entrypoint.sh:ro\r\n#      - postgres-data:/var/lib/postgresql/data\r\n    environment:\r\n      - SERVICE_NAME=postgres\r\n    command: -c max_connections=4000\r\n\r\n  test-dbmigrate:\r\n    image: registry.xxx.com/test-db:master\r\n    container_name: test-dbmigrate\r\n    depends_on:\r\n      - postgres\r\n    environment:\r\n      - DEV_LOGGING=1\r\n      - DB_INIT=1\r\n      - DB_HOST=postgres\r\n      - DB_PORT=5432\r\n      - DB_USER=test\r\n      - DB_PASSWORD=xxx\r\n      - PGPASSWORD=xxx\r\n\r\n#volumes:\r\n#  postgres-data:\r\n\r\n```\r\n\r\nI am getting this error ```{\r\n    &quot;timestamp&quot;: &quot;2019-06-11T21:08:32.320Z&quot;,\r\n    &quot;level&quot;: &quot;ERROR&quot;,\r\n    &quot;thread&quot;: &quot;Test worker&quot;,\r\n    &quot;logger&quot;: &quot;&#128051; [docker/compose:1.8.0]&quot;,\r\n    &quot;message&quot;: &quot;Could not start container&quot;,\r\n    &quot;context&quot;: &quot;default&quot;,\r\n    &quot;exception&quot;: &quot;java.lang.IllegalStateException: Container did not start correctly.\\n\\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:255)\\n\\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:212)\\n\\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:76)\\n\\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:210)\\n\\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:199)\\n\\tat org.testcontainers.containers.ContainerisedDockerCompose.invoke(DockerComposeContainer.java:548)\\n\\tat org.testcontainers.containers.DockerComposeContainer.runWithCompose(DockerComposeContainer.java:211)\\n\\tat org.testcontainers.containers.DockerComposeContainer.createServices(DockerComposeContainer.java:165)\\n\\tat org.testcontainers.containers.DockerComposeContainer.start(DockerComposeContainer.java:152)\\n\\tat org.testcontainers.containers.DockerComposeContainer.starting(DockerComposeContainer.java:121)\\n\\tat org.testcontainers.containers.FailureDetectingExternalResource$1.evaluate(FailureDetectingExternalResource.java:29)\\n\\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\\n\\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\\n\\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\\n\\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:106)\\n\\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\\n\\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\\n\\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:66)\\n\\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\\n\\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\\n\\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\\n\\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\\n\\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:117)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\\n\\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)\\n\\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)\\n\\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\\n\\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\\n\\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n&quot;\r\n}\r\n    {\r\n    &quot;timestamp&quot;: &quot;2019-06-11T21:08:32.348Z&quot;,\r\n    &quot;level&quot;: &quot;ERROR&quot;,\r\n    &quot;thread&quot;: &quot;Test worker&quot;,\r\n    &quot;logger&quot;: &quot;&#128051; [docker/compose:1.8.0]&quot;,\r\n    &quot;message&quot;: &quot;Log output from the failed container:\\nCreating network \\&quot;k66igshwvupa_default\\&quot; with the default driver\\n\\nCreating consul\\n\\nCreating vault\\n\\nCreating registrator\\n\\nCreating postgres\\n\\n\\n\\nERROR: for postgres  Cannot start service postgres: oci runtime error: container_linux.go:247: starting container process caused \\&quot;process_linux.go:359: container init caused \\\\\\&quot;rootfs_linux.go:54: mounting \\\\\\\\\\\\\\&quot;/config/postgres/docker-entrypoint.sh\\\\\\\\\\\\\\&quot; to rootfs \\\\\\\\\\\\\\&quot;/mnt/sda1/var/lib/docker/aufs/mnt/df4d5e2dae646eab8079cee1b8a562c1b7d2d374340d01fecf4894e6ba64be8e\\\\\\\\\\\\\\&quot; at \\\\\\\\\\\\\\&quot;/mnt/sda1/var/lib/docker/aufs/mnt/df4d5e2dae646eab8079cee1b8a562c1b7d2d374340d01fecf4894e6ba64be8e/usr/local/bin/docker-entrypoint.sh\\\\\\\\\\\\\\&quot; caused \\\\\\\\\\\\\\&quot;not a directory\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;\\n\\n: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type\\n\\nEncountered errors while bringing up the project.\\n&quot;,\r\n    &quot;context&quot;: &quot;default&quot;\r\n}```","title":"How fix mounting issue while using docker-compose.yml on test containers","body":"<p>I am using test containers to run some tests and using <a href=\"https://www.testcontainers.org/modules/docker_compose/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/docker_compose/</a> to spin some containers used for my tests. Similar to generic containers support, it's also possible to run a bespoke set of services specified in a docker-compose.yml file.</p>\n\n<p>This is intended to be useful on projects where Docker Compose is already used in dev or other environments to define services that an application may be dependent upon.</p>\n\n<p>Here is my code to include docker-compose.yml</p>\n\n<pre><code>@ClassRule\npublic static DockerComposeContainer environment =\n    new DockerComposeContainer(new File(\"src/test/resources/docker-compose.yml\"));\n</code></pre>\n\n<p>Here is the content of my yml file:</p>\n\n<pre><code>version: '2.0'\nservices:\n\n  vault:\n    image: vault:0.10.2\n    container_name: vault\n    ports:\n      - \"8200:8200\"\n    environment:\n      - VAULT_ADDR=http://0.0.0.0:8200\n      - VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200\n      - VAULT_DEV_ROOT_TOKEN_ID=stupid-token\n    volumes:\n      - /config/vault/start.sh:/start.sh\n    command: sh -c \"./start.sh\"\n\n  consul:\n    image: consul:0.8.5\n    container_name: consul\n    ports:\n      - \"8300:8300\"\n      - \"8400:8400\"\n      - \"8500:8500\"\n      - \"8600:8600\"\n      - \"8600:8600/udp\"\n    environment:\n      - SERVICE_IGNORE=true\n    entrypoint: sh -c \"BIND_HOST=$$(echo \\\"$DOCKER_HOST\\\" | awk -F ':' '{print $$2}' | sed  's/\\\\/\\\\///'); echo $$BIND_HOST;/bin/consul agent -server -bootstrap  --client=0.0.0.0 --data-dir=/tmp/consul -ui -advertise=$$BIND_HOST -domain=consul-dev\"\n\n  registrator:\n    image: gliderlabs/registrator:v7\n    container_name: registrator\n    depends_on:\n      - consul\n    volumes:\n      - /var/run/docker.sock:/tmp/docker.sock:ro\n    entrypoint: sh -c \"BIND_HOST=$$(echo \\\"$DOCKER_HOST\\\" | awk -F ':' '{print $$2}' | sed  's/\\\\/\\\\///'); echo $$BIND_HOST;/bin/registrator -ip $$BIND_HOST consul://consul:8500\"\n\n  postgres:\n    image: registry.xxx.com/xxx-postgres:9.5.9\n    container_name: postgres\n    ports:\n      - \"5432:5432\"\n    depends_on:\n      - registrator\n    volumes:\n      - /config/postgres/docker-entrypoint.sh:/docker-entrypoint.sh:ro\n#      - postgres-data:/var/lib/postgresql/data\n    environment:\n      - SERVICE_NAME=postgres\n    command: -c max_connections=4000\n\n  test-dbmigrate:\n    image: registry.xxx.com/test-db:master\n    container_name: test-dbmigrate\n    depends_on:\n      - postgres\n    environment:\n      - DEV_LOGGING=1\n      - DB_INIT=1\n      - DB_HOST=postgres\n      - DB_PORT=5432\n      - DB_USER=test\n      - DB_PASSWORD=xxx\n      - PGPASSWORD=xxx\n\n#volumes:\n#  postgres-data:\n\n</code></pre>\n\n<p>I am getting this error <code>{\n    \"timestamp\": \"2019-06-11T21:08:32.320Z\",\n    \"level\": \"ERROR\",\n    \"thread\": \"Test worker\",\n    \"logger\": \" [docker/compose:1.8.0]\",\n    \"message\": \"Could not start container\",\n    \"context\": \"default\",\n    \"exception\": \"java.lang.IllegalStateException: Container did not start correctly.\\n\\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:255)\\n\\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:212)\\n\\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:76)\\n\\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:210)\\n\\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:199)\\n\\tat org.testcontainers.containers.ContainerisedDockerCompose.invoke(DockerComposeContainer.java:548)\\n\\tat org.testcontainers.containers.DockerComposeContainer.runWithCompose(DockerComposeContainer.java:211)\\n\\tat org.testcontainers.containers.DockerComposeContainer.createServices(DockerComposeContainer.java:165)\\n\\tat org.testcontainers.containers.DockerComposeContainer.start(DockerComposeContainer.java:152)\\n\\tat org.testcontainers.containers.DockerComposeContainer.starting(DockerComposeContainer.java:121)\\n\\tat org.testcontainers.containers.FailureDetectingExternalResource$1.evaluate(FailureDetectingExternalResource.java:29)\\n\\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\\n\\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\\n\\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\\n\\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:106)\\n\\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\\n\\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\\n\\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:66)\\n\\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\\n\\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\\n\\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\\n\\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\\n\\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:117)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\\n\\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\\n\\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)\\n\\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)\\n\\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\\n\\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\\n\\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\"\n}\n    {\n    \"timestamp\": \"2019-06-11T21:08:32.348Z\",\n    \"level\": \"ERROR\",\n    \"thread\": \"Test worker\",\n    \"logger\": \" [docker/compose:1.8.0]\",\n    \"message\": \"Log output from the failed container:\\nCreating network \\\"k66igshwvupa_default\\\" with the default driver\\n\\nCreating consul\\n\\nCreating vault\\n\\nCreating registrator\\n\\nCreating postgres\\n\\n\\n\\nERROR: for postgres  Cannot start service postgres: oci runtime error: container_linux.go:247: starting container process caused \\\"process_linux.go:359: container init caused \\\\\\\"rootfs_linux.go:54: mounting \\\\\\\\\\\\\\\"/config/postgres/docker-entrypoint.sh\\\\\\\\\\\\\\\" to rootfs \\\\\\\\\\\\\\\"/mnt/sda1/var/lib/docker/aufs/mnt/df4d5e2dae646eab8079cee1b8a562c1b7d2d374340d01fecf4894e6ba64be8e\\\\\\\\\\\\\\\" at \\\\\\\\\\\\\\\"/mnt/sda1/var/lib/docker/aufs/mnt/df4d5e2dae646eab8079cee1b8a562c1b7d2d374340d01fecf4894e6ba64be8e/usr/local/bin/docker-entrypoint.sh\\\\\\\\\\\\\\\" caused \\\\\\\\\\\\\\\"not a directory\\\\\\\\\\\\\\\"\\\\\\\"\\\"\\n\\n: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type\\n\\nEncountered errors while bringing up the project.\\n\",\n    \"context\": \"default\"\n}</code></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1687366836,"post_id":76201172,"comment_id":134928111,"body_markdown":"You may upvote answers if you feel they were useful.","body":"You may upvote answers if you feel they were useful."}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683555178,"creation_date":1683555178,"answer_id":76201435,"question_id":76201172,"body_markdown":"I think the issue is in using the [`Collectors.toMap`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-), this function is expecting two functions as a parameter; one to produce the key and another to produce the value (It doesn&#39;t expect a stream of values)\r\n\r\nThis should work\r\n```java\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\nMap&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\r\n        .collect(toMap(Entry::getKey,\r\n            entry -&gt; entry.getValue().stream()\r\n                .collect(toMap(student -&gt; student.name, student -&gt;\r\n                    Arrays.stream(student.subjects)\r\n                        .flatMap(w -&gt; Arrays.stream(w.mark))\r\n                        .mapToDouble(Integer::doubleValue)\r\n                        .average().orElse(0d)\r\n                ))));\r\n```","title":"Map&lt;String, Map&lt;String, Double&gt;&gt; streamapi","body":"<p>I think the issue is in using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap</code></a>, this function is expecting two functions as a parameter; one to produce the key and another to produce the value (It doesn't expect a stream of values)</p>\n<p>This should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.stream.Collectors.toMap;\n\nMap&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\n        .collect(toMap(Entry::getKey,\n            entry -&gt; entry.getValue().stream()\n                .collect(toMap(student -&gt; student.name, student -&gt;\n                    Arrays.stream(student.subjects)\n                        .flatMap(w -&gt; Arrays.stream(w.mark))\n                        .mapToDouble(Integer::doubleValue)\n                        .average().orElse(0d)\n                ))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683558251,"creation_date":1683558251,"answer_id":76201851,"question_id":76201172,"body_markdown":"For figuring this out I would follow the following approach:\r\n\r\nUse a proper context relative name for your variable names in your lambda, so you can figure out `entry` have different meanings in your first and second collect calls (I renamed them to `entryKeyStringValueListOfStudents`  and `student` to have an idea of what&#39;s in there on each situation).\r\n\r\nWith renaming you&#39;ll probably find out the line \r\n````\r\nCollectors.toMap(entry.getValue().stream()\r\n.map(z -&gt; z.name),\r\n````\r\nis meaningless as your currently &quot;streamed&quot; object is a `Student` so there&#39;s no need for mapping.\r\n\r\nThen changing both you get simpler code:\r\n`student -&gt; student.studentName,` for rendering the key and `student -&gt; Arrays.stream(student.subjects)` for mapping the subjects (there&#39;s no need for a flatMap there, you just stream the subjects and map the marks).\r\n\r\nAfter those changes (and some indentation for clarification, not the most beautiful though) you&#39;ll finally get:\r\n\r\n```\r\nMap&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\r\n        .collect(Collectors.toMap(\r\n        \t\tentryKeyStringValueListOfStudents -&gt; entryKeyStringValueListOfStudents.getKey(),\r\n        \t\tentryKeyStringValueListOfStudents -&gt; entryKeyStringValueListOfStudents.getValue()\r\n        \t\t\t\t.stream() //stream of students\r\n                        .collect(Collectors.toMap(\r\n                        \t\t\tstudent -&gt; student.studentName,\r\n                        \t\t\tstudent -&gt; Arrays.stream(student.subjects) //stream of subjects\r\n                                        .flatMap(subject -&gt; Arrays.stream(subject.mark)) //stream of marks\r\n                                        .mapToDouble(Integer::doubleValue)\r\n                                        .average()\r\n                                        .getAsDouble()\r\n                        \t\t\t\t\t\t )\r\n                        \t\t)\r\n                        )\r\n        \t\t);\r\n```","title":"Map&lt;String, Map&lt;String, Double&gt;&gt; streamapi","body":"<p>For figuring this out I would follow the following approach:</p>\n<p>Use a proper context relative name for your variable names in your lambda, so you can figure out <code>entry</code> have different meanings in your first and second collect calls (I renamed them to <code>entryKeyStringValueListOfStudents</code>  and <code>student</code> to have an idea of what's in there on each situation).</p>\n<p>With renaming you'll probably find out the line</p>\n<pre><code>Collectors.toMap(entry.getValue().stream()\n.map(z -&gt; z.name),\n</code></pre>\n<p>is meaningless as your currently &quot;streamed&quot; object is a <code>Student</code> so there's no need for mapping.</p>\n<p>Then changing both you get simpler code:\n<code>student -&gt; student.studentName,</code> for rendering the key and <code>student -&gt; Arrays.stream(student.subjects)</code> for mapping the subjects (there's no need for a flatMap there, you just stream the subjects and map the marks).</p>\n<p>After those changes (and some indentation for clarification, not the most beautiful though) you'll finally get:</p>\n<pre><code>Map&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\n        .collect(Collectors.toMap(\n                entryKeyStringValueListOfStudents -&gt; entryKeyStringValueListOfStudents.getKey(),\n                entryKeyStringValueListOfStudents -&gt; entryKeyStringValueListOfStudents.getValue()\n                        .stream() //stream of students\n                        .collect(Collectors.toMap(\n                                    student -&gt; student.studentName,\n                                    student -&gt; Arrays.stream(student.subjects) //stream of subjects\n                                        .flatMap(subject -&gt; Arrays.stream(subject.mark)) //stream of marks\n                                        .mapToDouble(Integer::doubleValue)\n                                        .average()\n                                        .getAsDouble()\n                                                 )\n                                )\n                        )\n                );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8775939,"reputation":1,"user_id":6561217,"display_name":"Abderrahman Lahbabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683558282,"creation_date":1683558282,"answer_id":76201855,"question_id":76201172,"body_markdown":"Correction:\r\n\r\n\tMap&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\r\n\t\t\t.collect(Collectors.toMap(grp -&gt; grp.getKey(), // group1\r\n\t\t\t\t\tgrp -&gt; grp.getValue().stream() // s1, s2 etc..\r\n\t\t\t\t\t\t\t.collect(Collectors.toMap(student -&gt; student.name,\r\n\t\t\t\t\t\t\t\t\tstudent -&gt; Arrays.stream(student.subjects)\r\n\t\t\t\t\t\t\t\t\t.flatMap(subject -&gt; Arrays.stream(subject.mark))\r\n\t\t\t\t\t\t\t\t\t.mapToDouble(Double::valueOf).average().getAsDouble()))\r\n\t\t\t));","title":"Map&lt;String, Map&lt;String, Double&gt;&gt; streamapi","body":"<p>Correction:</p>\n<pre><code>Map&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\n        .collect(Collectors.toMap(grp -&gt; grp.getKey(), // group1\n                grp -&gt; grp.getValue().stream() // s1, s2 etc..\n                        .collect(Collectors.toMap(student -&gt; student.name,\n                                student -&gt; Arrays.stream(student.subjects)\n                                .flatMap(subject -&gt; Arrays.stream(subject.mark))\n                                .mapToDouble(Double::valueOf).average().getAsDouble()))\n        ));\n</code></pre>\n"}],"owner":{"account_id":28547169,"reputation":29,"user_id":21852473,"display_name":"R Zav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683572442,"answer_count":3,"score":0,"last_activity_date":1683558282,"creation_date":1683553180,"question_id":76201172,"body_markdown":"I can&#39;t understand why my code doesn&#39;t work. Tell me, if it&#39;s not difficult, I really ask.\r\nerror in the stream, but I can&#39;t figure out why I can&#39;t fill Map from List\r\nI want to know what is the student&#39;s overall GPA.\r\nthe result should be in the form:\r\nkey - group\r\nvalue - student name - score, student name - score\r\n\r\n\r\n\r\n\r\n```\r\nclass Student4 {\r\n\r\n    String name;\r\n    Subject4[] subjects;\r\n\r\n    public Student4(String name, Subject4[] subjects) {\r\n        this.name = name;\r\n        this.subjects = subjects;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Student4 s1 = new Student4(&quot;Name1&quot;, new Subject4[]{\r\n                new Subject4(&quot;A&quot;, new Integer[]{4, 4, 4, 4, 5}), //21 -&gt; 4.2\r\n                new Subject4(&quot;B&quot;, new Integer[]{5, 5, 5, 5, 5}), //25 -&gt; 5.0\r\n                new Subject4(&quot;C&quot;, new Integer[]{4, 4, 4, 4, 5})  //21 -&gt; 4.2\r\n        });\r\n        Student4 s2 = new Student4(&quot;Name2&quot;, new Subject4[]{\r\n                new Subject4(&quot;A&quot;, new Integer[]{3, 3, 3, 4, 5}), //18 -&gt; 3.6\r\n                new Subject4(&quot;B&quot;, new Integer[]{5, 3, 3, 5, 5}), //21 -&gt; 4.2\r\n                new Subject4(&quot;C&quot;, new Integer[]{4, 3, 3, 4, 3})  //17 -&gt; 3.4\r\n        });\r\n        Student4 s3 = new Student4(&quot;Name3&quot;, new Subject4[]{\r\n                new Subject4(&quot;A&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\r\n                new Subject4(&quot;B&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\r\n                new Subject4(&quot;C&quot;, new Integer[]{5, 5, 5, 4, 5})  //24 -&gt; 4.8\r\n        });\r\n        Student4 s4 = new Student4(&quot;Name4&quot;, new Subject4[]{\r\n                new Subject4(&quot;A&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\r\n                new Subject4(&quot;B&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\r\n                new Subject4(&quot;C&quot;, new Integer[]{5, 5, 5, 4, 5})  //24 -&gt; 4.8\r\n        });\r\n\r\n        Map&lt;String, List&lt;Student4&gt;&gt; group = new HashMap&lt;&gt;();\r\n        group.put(&quot;group1&quot;, List.of(s1, s2));\r\n        group.put(&quot;group2&quot;, List.of(s3, s4));\r\n\r\n\r\n\r\n        Map&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\r\n                .collect(Collectors.toMap(entry -&gt; entry.getKey(),\r\n                        entry -&gt; entry.getValue().stream()\r\n                                .collect(Collectors.toMap(entry.getValue().stream()\r\n                                                .map(z -&gt; z.name),\r\n                                        entry.getValue().stream()\r\n                                                .flatMap(v -&gt; Arrays.stream(v.subjects))\r\n                                                .flatMap(w -&gt; Arrays.stream(w.mark))\r\n                                                .mapToDouble(Integer::doubleValue)\r\n                                                .average().getAsDouble()\r\n                                ))));\r\n    }\r\n}\r\n\r\nclass Subject4 {\r\n\r\n    String name;\r\n    Integer[] mark;\r\n\r\n    public Subject4(String name, Integer[] mark) {\r\n        this.name = name;\r\n        this.mark = mark;\r\n    }\r\n}\r\n```\r\n","title":"Map&lt;String, Map&lt;String, Double&gt;&gt; streamapi","body":"<p>I can't understand why my code doesn't work. Tell me, if it's not difficult, I really ask.\nerror in the stream, but I can't figure out why I can't fill Map from List\nI want to know what is the student's overall GPA.\nthe result should be in the form:\nkey - group\nvalue - student name - score, student name - score</p>\n<pre><code>class Student4 {\n\n    String name;\n    Subject4[] subjects;\n\n    public Student4(String name, Subject4[] subjects) {\n        this.name = name;\n        this.subjects = subjects;\n    }\n\n    public static void main(String[] args) {\n\n        Student4 s1 = new Student4(&quot;Name1&quot;, new Subject4[]{\n                new Subject4(&quot;A&quot;, new Integer[]{4, 4, 4, 4, 5}), //21 -&gt; 4.2\n                new Subject4(&quot;B&quot;, new Integer[]{5, 5, 5, 5, 5}), //25 -&gt; 5.0\n                new Subject4(&quot;C&quot;, new Integer[]{4, 4, 4, 4, 5})  //21 -&gt; 4.2\n        });\n        Student4 s2 = new Student4(&quot;Name2&quot;, new Subject4[]{\n                new Subject4(&quot;A&quot;, new Integer[]{3, 3, 3, 4, 5}), //18 -&gt; 3.6\n                new Subject4(&quot;B&quot;, new Integer[]{5, 3, 3, 5, 5}), //21 -&gt; 4.2\n                new Subject4(&quot;C&quot;, new Integer[]{4, 3, 3, 4, 3})  //17 -&gt; 3.4\n        });\n        Student4 s3 = new Student4(&quot;Name3&quot;, new Subject4[]{\n                new Subject4(&quot;A&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\n                new Subject4(&quot;B&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\n                new Subject4(&quot;C&quot;, new Integer[]{5, 5, 5, 4, 5})  //24 -&gt; 4.8\n        });\n        Student4 s4 = new Student4(&quot;Name4&quot;, new Subject4[]{\n                new Subject4(&quot;A&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\n                new Subject4(&quot;B&quot;, new Integer[]{5, 5, 5, 4, 5}), //24 -&gt; 4.8\n                new Subject4(&quot;C&quot;, new Integer[]{5, 5, 5, 4, 5})  //24 -&gt; 4.8\n        });\n\n        Map&lt;String, List&lt;Student4&gt;&gt; group = new HashMap&lt;&gt;();\n        group.put(&quot;group1&quot;, List.of(s1, s2));\n        group.put(&quot;group2&quot;, List.of(s3, s4));\n\n\n\n        Map&lt;String, Map&lt;String, Double&gt;&gt; averageByStudent = group.entrySet().stream()\n                .collect(Collectors.toMap(entry -&gt; entry.getKey(),\n                        entry -&gt; entry.getValue().stream()\n                                .collect(Collectors.toMap(entry.getValue().stream()\n                                                .map(z -&gt; z.name),\n                                        entry.getValue().stream()\n                                                .flatMap(v -&gt; Arrays.stream(v.subjects))\n                                                .flatMap(w -&gt; Arrays.stream(w.mark))\n                                                .mapToDouble(Integer::doubleValue)\n                                                .average().getAsDouble()\n                                ))));\n    }\n}\n\nclass Subject4 {\n\n    String name;\n    Integer[] mark;\n\n    public Subject4(String name, Integer[] mark) {\n        this.name = name;\n        this.mark = mark;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6210818,"reputation":729,"user_id":4837155,"accept_rate":46,"display_name":"Harshit Gupta"},"score":0,"creation_date":1435752646,"post_id":31160854,"comment_id":50330365,"body_markdown":"Which version of java you are using?","body":"Which version of java you are using?"},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1435752671,"post_id":31160854,"comment_id":50330384,"body_markdown":"Here you are not iterating through the elements of the list. You are looping from 1 to exampleInts.size() .... this is not iterating through the list. In addition this code doesn&#39;t do what you are asking: it adds delimiter between the first and the second element of your original list.","body":"Here you are not iterating through the elements of the list. You are looping from 1 to exampleInts.size() .... this is not iterating through the list. In addition this code doesn&#39;t do what you are asking: it adds delimiter between the first and the second element of your original list."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1435752620,"creation_date":1435752620,"answer_id":31160927,"question_id":31160854,"body_markdown":"No, there is no ready utils for this in standard java libraries. \r\n\r\nBTW, your loop is incorrect and will work infinitely until memory end. You should increment `i` variable one more time:\r\n\r\n        for (int i = 1; i &lt; exampleInts.size(); i++) {\r\n            int delimiter = 0;\r\n            exampleInts.add(i, delimiter);\r\n            i++;\r\n        }\r\n\r\nor change loop conditions to `for (int i = 1; i &lt; exampleInts.size(); i+=2) {`","title":"Insert Element between each List element","body":"<p>No, there is no ready utils for this in standard java libraries. </p>\n\n<p>BTW, your loop is incorrect and will work infinitely until memory end. You should increment <code>i</code> variable one more time:</p>\n\n<pre><code>    for (int i = 1; i &lt; exampleInts.size(); i++) {\n        int delimiter = 0;\n        exampleInts.add(i, delimiter);\n        i++;\n    }\n</code></pre>\n\n<p>or change loop conditions to <code>for (int i = 1; i &lt; exampleInts.size(); i+=2) {</code></p>\n"},{"tags":[],"owner":{"account_id":6210818,"reputation":729,"user_id":4837155,"accept_rate":46,"display_name":"Harshit Gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1435754497,"creation_date":1435753627,"answer_id":31161307,"question_id":31160854,"body_markdown":"Try this solution it is working correctly.\r\n\r\n    List&lt;Integer&gt; exampleInts = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 5,\r\n\t\t\t\t8, 13, 21));\r\n\t\tint size = (exampleInts.size()-1)*2;\r\n\t\tfor (int i = 0; i &lt; size; i+=2) {\r\n\t\t\tint delimiter = 0;\r\n\t\t\texampleInts.add(i+1, delimiter);\r\n\t\t}\r\n\t\tSystem.out.println(exampleInts);","title":"Insert Element between each List element","body":"<p>Try this solution it is working correctly.</p>\n\n<pre><code>List&lt;Integer&gt; exampleInts = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 5,\n            8, 13, 21));\n    int size = (exampleInts.size()-1)*2;\n    for (int i = 0; i &lt; size; i+=2) {\n        int delimiter = 0;\n        exampleInts.add(i+1, delimiter);\n    }\n    System.out.println(exampleInts);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118321,"reputation":143,"user_id":9737603,"display_name":"m0squito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683557893,"creation_date":1683557893,"answer_id":76201803,"question_id":31160854,"body_markdown":"In JDK 8+, you can do it this way:\r\n\r\n    private static List&lt;Integer&gt; insert(List&lt;Integer&gt; list, int delimiter) {\r\n\t\treturn list.stream().flatMap(i -&gt; Stream.of(i, delimiter)).limit(list.size() * 2 - 1).toList();\r\n\t}\r\n\r\nExample use:\r\n\r\n    System.out.println(insert(List.of(1, 2, 3, 5, 8, 13, 21), 0).stream().map(String::valueOf)\r\n\t\t\t\t.collect(Collectors.joining(&quot;, &quot;)));\r\n\r\nThe output is:\r\n\r\n    1, 0, 2, 0, 3, 0, 5, 0, 8, 0, 13, 0, 21","title":"Insert Element between each List element","body":"<p>In JDK 8+, you can do it this way:</p>\n<pre><code>private static List&lt;Integer&gt; insert(List&lt;Integer&gt; list, int delimiter) {\n    return list.stream().flatMap(i -&gt; Stream.of(i, delimiter)).limit(list.size() * 2 - 1).toList();\n}\n</code></pre>\n<p>Example use:</p>\n<pre><code>System.out.println(insert(List.of(1, 2, 3, 5, 8, 13, 21), 0).stream().map(String::valueOf)\n            .collect(Collectors.joining(&quot;, &quot;)));\n</code></pre>\n<p>The output is:</p>\n<pre><code>1, 0, 2, 0, 3, 0, 5, 0, 8, 0, 13, 0, 21\n</code></pre>\n"}],"owner":{"account_id":5933575,"reputation":1348,"user_id":4667349,"accept_rate":75,"display_name":"PKuhn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":31160927,"answer_count":3,"score":4,"last_activity_date":1683557893,"creation_date":1435752420,"question_id":31160854,"body_markdown":"Is there a better way to insert an Element between each pair of elements into a List in Java than iterating through it\r\n\r\n    List&lt;Integer&gt; exampleInts = new ArrayList&lt;&gt;(Arrays.asList(1,2,3,5,8,13,21)); \r\n    \r\n    for (int i = 1; i &lt; exampleInts.size(); i++) {\r\n        int delimiter = 0; \r\n        exampleInts.add(i, delimiter);\r\n        i++;\r\n    } ","title":"Insert Element between each List element","body":"<p>Is there a better way to insert an Element between each pair of elements into a List in Java than iterating through it</p>\n\n<pre><code>List&lt;Integer&gt; exampleInts = new ArrayList&lt;&gt;(Arrays.asList(1,2,3,5,8,13,21)); \n\nfor (int i = 1; i &lt; exampleInts.size(); i++) {\n    int delimiter = 0; \n    exampleInts.add(i, delimiter);\n    i++;\n} \n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":16212440,"reputation":11,"user_id":21686579,"display_name":"xsj082"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683513071,"creation_date":1683512772,"answer_id":76197162,"question_id":76196983,"body_markdown":"i found exception message at the below ,like this \r\n\r\n    Caused by: org.hibernate.query.sqm.ParsingException: line 1:7 no viable alternative at input &#39;SELECT*&#39;\r\n\r\nmaybe you can try to change sql to Query a specified column, like this \r\n\r\n```@Query(&quot;select sk.puzzle from sudoku sk&quot;)``` ","title":"Query failing Spring Boot JPA","body":"<p>i found exception message at the below ,like this</p>\n<pre><code>Caused by: org.hibernate.query.sqm.ParsingException: line 1:7 no viable alternative at input 'SELECT*'\n</code></pre>\n<p>maybe you can try to change sql to Query a specified column, like this</p>\n<p><code>@Query(&quot;select sk.puzzle from sudoku sk&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683516753,"creation_date":1683516753,"answer_id":76197349,"question_id":76196983,"body_markdown":"Use below query by giving entity name instead of table name (jpa queries works with java objects).\r\n\r\n    @Query(&quot;SELECT su FROM Sudoku su&quot;)","title":"Query failing Spring Boot JPA","body":"<p>Use below query by giving entity name instead of table name (jpa queries works with java objects).</p>\n<pre><code>@Query(&quot;SELECT su FROM Sudoku su&quot;)\n</code></pre>\n"}],"owner":{"account_id":16654350,"reputation":11,"user_id":12036204,"display_name":"Tablesalt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683557475,"creation_date":1683509302,"question_id":76196983,"body_markdown":"I have a simple Sudoku api built with Spring and I am having trouble with the @Query annotation. \r\nMy Repository interface is below. The commented out queries are the ones I want to do eventually but I can&#39;t even get the simple ones to work. findAllByOrderByIdAsc() works though.\r\n\r\n    package com.sudoku.SudokuApi;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface SudokuRepository extends CrudRepository&lt;Sudoku, Long&gt; {\r\n    \r\n    \r\n        List&lt;Sudoku&gt; findAllByOrderByIdAsc();\r\n    \r\n    //    @Query(value = &quot;select * from sudoku where difficulty = &#39;medium&#39; order by RANDOM() limit 1;&quot;)\r\n        @Query(&quot;SELECT * FROM sudoku&quot;)\r\n        public List&lt;Sudoku&gt; get_medium();\r\n    \r\n    //\r\n    //    @Query(value = &quot;select * from sudoku where difficulty = &#39;hard&#39; order by RANDOM() limit 1;&quot;)\r\n        @Query(&quot;SELECT * FROM sudoku&quot;)\r\n        public List&lt;Sudoku&gt; get_hard();\r\n    \r\n    }\r\n\r\n\r\nMy Sudoku Class is:\r\n\r\n    package com.sudoku.SudokuApi;\r\n    \r\n    \r\n    import jakarta.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;sudoku&quot;)\r\n    public class Sudoku {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String puzzle;\r\n    \r\n        private String difficulty;\r\n    \r\n        public Sudoku(){\r\n    \r\n        }\r\n    \r\n        public Sudoku(String puzzle, String difficulty){\r\n            this.puzzle = puzzle;\r\n            this.difficulty = difficulty;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getPuzzle() {\r\n            return puzzle;\r\n        }\r\n    \r\n        public void setPuzzle(String puzzle) {\r\n            this.puzzle = puzzle;\r\n        }\r\n    \r\n        public String getDifficulty() {\r\n            return difficulty;\r\n        }\r\n    \r\n        public void setDifficulty(String difficulty) {\r\n            this.difficulty = difficulty;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n```\r\n2023-05-07T21:25:07.650-04:00  INFO 7164 --- [           main] c.sudoku.SudokuApi.SudokuApiApplication  : Starting SudokuApiApplication using Java 17.0.6 with PID 7164 (C:\\Users\\olive\\Downloads\\SudokuApi\\SudokuApi\\target\\classes started by olive in C:\\Users\\olive\\Downloads\\SudokuApi)\r\n2023-05-07T21:25:07.657-04:00  INFO 7164 --- [           main] c.sudoku.SudokuApi.SudokuApiApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-07T21:25:09.028-04:00  INFO 7164 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-07T21:25:09.028-04:00  INFO 7164 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-05-07T21:25:09.122-04:00  INFO 7164 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-07T21:25:09.339-04:00  INFO 7164 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-05-07T21:25:09.420-04:00  INFO 7164 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-05-07T21:25:09.699-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-05-07T21:25:09.869-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e5beab5\r\n2023-05-07T21:25:09.871-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-05-07T21:25:09.922-04:00  INFO 7164 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2023-05-07T21:25:10.727-04:00  INFO 7164 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-07T21:25:11.102-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-05-07T21:25:11.104-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-05-07T21:25:11.108-04:00  INFO 7164 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-05-07T21:25:11.135-04:00 ERROR 7164 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sudokuController&#39;: Unsatisfied dependency expressed through field &#39;service&#39;: Error creating bean with name &#39;sudokuService&#39;: Unsatisfied dependency expressed through field &#39;repository&#39;: Error creating bean with name &#39;sudokuRepository&#39; defined in com.sudoku.SudokuApi.SudokuRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.sudoku.SudokuApi.SudokuApiApplication.main(SudokuApiApplication.java:14) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sudokuService&#39;: Unsatisfied dependency expressed through field &#39;repository&#39;: Error creating bean with name &#39;sudokuRepository&#39; defined in com.sudoku.SudokuApi.SudokuRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 20 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sudokuRepository&#39; defined in com.sudoku.SudokuApi.SudokuRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 34 common frames omitted\r\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\r\n\tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\t... 44 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:70) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\t... 56 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: A query exception occurred [SELECT * FROM sudoku]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy101.createQuery(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\t... 62 common frames omitted\r\nCaused by: org.hibernate.query.SemanticException: A query exception occurred [SELECT * FROM sudoku]\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 71 common frames omitted\r\nCaused by: org.hibernate.query.sqm.ParsingException: line 1:7 no viable alternative at input &#39;SELECT*&#39;\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41) ~[antlr4-runtime-4.10.1.jar:4.10.1]\r\n\tat org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543) ~[antlr4-runtime-4.10.1.jar:4.10.1]\r\n\tat org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:310) ~[antlr4-runtime-4.10.1.jar:4.10.1]\r\n\tat org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:136) ~[antlr4-runtime-4.10.1.jar:4.10.1]\r\n\tat org.hibernate.grammars.hql.HqlParser.queryExpression(HqlParser.java:1182) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.grammars.hql.HqlParser.selectStatement(HqlParser.java:384) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:315) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:116) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 76 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThe queries work in the database. What am I doing wrong?\r\n\r\n\r\nEdit: Solved due to both answers. I needed to make sudoku capitalized since the class is capitalized and needed to use jpa objects.","title":"Query failing Spring Boot JPA","body":"<p>I have a simple Sudoku api built with Spring and I am having trouble with the @Query annotation.\nMy Repository interface is below. The commented out queries are the ones I want to do eventually but I can't even get the simple ones to work. findAllByOrderByIdAsc() works though.</p>\n<pre><code>package com.sudoku.SudokuApi;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface SudokuRepository extends CrudRepository&lt;Sudoku, Long&gt; {\n\n\n    List&lt;Sudoku&gt; findAllByOrderByIdAsc();\n\n//    @Query(value = &quot;select * from sudoku where difficulty = 'medium' order by RANDOM() limit 1;&quot;)\n    @Query(&quot;SELECT * FROM sudoku&quot;)\n    public List&lt;Sudoku&gt; get_medium();\n\n//\n//    @Query(value = &quot;select * from sudoku where difficulty = 'hard' order by RANDOM() limit 1;&quot;)\n    @Query(&quot;SELECT * FROM sudoku&quot;)\n    public List&lt;Sudoku&gt; get_hard();\n\n}\n</code></pre>\n<p>My Sudoku Class is:</p>\n<pre><code>package com.sudoku.SudokuApi;\n\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;sudoku&quot;)\npublic class Sudoku {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String puzzle;\n\n    private String difficulty;\n\n    public Sudoku(){\n\n    }\n\n    public Sudoku(String puzzle, String difficulty){\n        this.puzzle = puzzle;\n        this.difficulty = difficulty;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPuzzle() {\n        return puzzle;\n    }\n\n    public void setPuzzle(String puzzle) {\n        this.puzzle = puzzle;\n    }\n\n    public String getDifficulty() {\n        return difficulty;\n    }\n\n    public void setDifficulty(String difficulty) {\n        this.difficulty = difficulty;\n    }\n\n}\n</code></pre>\n<pre><code>2023-05-07T21:25:07.650-04:00  INFO 7164 --- [           main] c.sudoku.SudokuApi.SudokuApiApplication  : Starting SudokuApiApplication using Java 17.0.6 with PID 7164 (C:\\Users\\olive\\Downloads\\SudokuApi\\SudokuApi\\target\\classes started by olive in C:\\Users\\olive\\Downloads\\SudokuApi)\n2023-05-07T21:25:07.657-04:00  INFO 7164 --- [           main] c.sudoku.SudokuApi.SudokuApiApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-07T21:25:09.028-04:00  INFO 7164 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-07T21:25:09.028-04:00  INFO 7164 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-07T21:25:09.122-04:00  INFO 7164 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-07T21:25:09.339-04:00  INFO 7164 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-07T21:25:09.420-04:00  INFO 7164 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-07T21:25:09.699-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-07T21:25:09.869-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e5beab5\n2023-05-07T21:25:09.871-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-07T21:25:09.922-04:00  INFO 7164 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-05-07T21:25:10.727-04:00  INFO 7164 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-07T21:25:11.102-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-05-07T21:25:11.104-04:00  INFO 7164 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-05-07T21:25:11.108-04:00  INFO 7164 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-05-07T21:25:11.135-04:00 ERROR 7164 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sudokuController': Unsatisfied dependency expressed through field 'service': Error creating bean with name 'sudokuService': Unsatisfied dependency expressed through field 'repository': Error creating bean with name 'sudokuRepository' defined in com.sudoku.SudokuApi.SudokuRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at com.sudoku.SudokuApi.SudokuApiApplication.main(SudokuApiApplication.java:14) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sudokuService': Unsatisfied dependency expressed through field 'repository': Error creating bean with name 'sudokuRepository' defined in com.sudoku.SudokuApi.SudokuRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sudokuRepository' defined in com.sudoku.SudokuApi.SudokuRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 34 common frames omitted\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard(); Reason: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\n    at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\n    ... 44 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.sudoku.SudokuApi.SudokuRepository.get_hard()\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:70) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    ... 56 common frames omitted\nCaused by: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: A query exception occurred [SELECT * FROM sudoku]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy101.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    ... 62 common frames omitted\nCaused by: org.hibernate.query.SemanticException: A query exception occurred [SELECT * FROM sudoku]\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:130) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 71 common frames omitted\nCaused by: org.hibernate.query.sqm.ParsingException: line 1:7 no viable alternative at input 'SELECT*'\n    at org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41) ~[antlr4-runtime-4.10.1.jar:4.10.1]\n    at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543) ~[antlr4-runtime-4.10.1.jar:4.10.1]\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportNoViableAlternative(DefaultErrorStrategy.java:310) ~[antlr4-runtime-4.10.1.jar:4.10.1]\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:136) ~[antlr4-runtime-4.10.1.jar:4.10.1]\n    at org.hibernate.grammars.hql.HqlParser.queryExpression(HqlParser.java:1182) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.grammars.hql.HqlParser.selectStatement(HqlParser.java:384) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:315) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:116) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 76 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>The queries work in the database. What am I doing wrong?</p>\n<p>Edit: Solved due to both answers. I needed to make sudoku capitalized since the class is capitalized and needed to use jpa objects.</p>\n"},{"tags":["java","serialization","xjc"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683563336,"post_id":76201734,"comment_id":134382256,"body_markdown":"You should provide more details including a minimal reproducible example: https://stackoverflow.com/help/minimal-reproducible-example","body":"You should provide more details including a minimal reproducible example: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":28547858,"reputation":1,"user_id":21853071,"display_name":"Red--Man"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683557425,"creation_date":1683557425,"question_id":76201734,"body_markdown":"I&#39;m sorry for my bad english, I periodically receive this xsd file with slight updates, and from this file I generate a class via xjc, I would like that in addition to what is specified in the file, xjc also adds an integer type attribute, possibly with its transient getter and setter methods.\r\n\r\nDo you know how to do that? Or maybe another plugin that can do that\r\n\r\nI tried searching online and in the documentation and I found nothing","title":"Generate a java class via xsd and also add a class attribute not present in the xsd file","body":"<p>I'm sorry for my bad english, I periodically receive this xsd file with slight updates, and from this file I generate a class via xjc, I would like that in addition to what is specified in the file, xjc also adds an integer type attribute, possibly with its transient getter and setter methods.</p>\n<p>Do you know how to do that? Or maybe another plugin that can do that</p>\n<p>I tried searching online and in the documentation and I found nothing</p>\n"},{"tags":["java","regex","validation","struts2","email-validation"],"comments":[{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":2,"creation_date":1390817749,"post_id":21377776,"comment_id":32240028,"body_markdown":"[Stop Validating Email Addresses With Complicated Regular Expressions](http://davidcel.is/blog/2012/09/06/stop-validating-email-addresses-with-regex/)","body":"<a href=\"http://davidcel.is/blog/2012/09/06/stop-validating-email-addresses-with-regex/\" rel=\"nofollow noreferrer\">Stop Validating Email Addresses With Complicated Regular Expressions</a>"}],"answers":[{"tags":[],"owner":{"account_id":3141416,"reputation":4796,"user_id":2656811,"accept_rate":60,"display_name":"Sujith PS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390817037,"creation_date":1390817037,"answer_id":21377922,"question_id":21377776,"body_markdown":"If you want a regexp like the below figure :\r\n\r\n![enter image description here][1]\r\n\r\nYou can change your regexp like this :\r\n\r\n    (^[&#39;_a-z0-9-\\\\+]+(?:\\.[&#39;_a-z0-9-\\\\+]+)*@[a-z0-9-]+(?:\\.[a-z0-9-]+\\.?)*(?:[a-z]{2}|aero|arpa|asia|biz|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|nato|net|org|pro|tel|travel|xxx|cat)$)\r\n\r\n\r\n**[DEMO and Explanation][2]**\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KSk4M.png\r\n  [2]: http://regex101.com/r/rE3jJ5","title":"Email validation facing issue while upgrading Struts 2.1 to Struts 2.3","body":"<p>If you want a regexp like the below figure :</p>\n\n<p><img src=\"https://i.stack.imgur.com/KSk4M.png\" alt=\"enter image description here\"></p>\n\n<p>You can change your regexp like this :</p>\n\n<pre><code>(^['_a-z0-9-\\\\+]+(?:\\.['_a-z0-9-\\\\+]+)*@[a-z0-9-]+(?:\\.[a-z0-9-]+\\.?)*(?:[a-z]{2}|aero|arpa|asia|biz|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|nato|net|org|pro|tel|travel|xxx|cat)$)\n</code></pre>\n\n<p><strong><a href=\"http://regex101.com/r/rE3jJ5\" rel=\"nofollow noreferrer\">DEMO and Explanation</a></strong></p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683557100,"creation_date":1390818764,"answer_id":21378485,"question_id":21377776,"body_markdown":"Try this regex validator:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;field name=&quot;email&quot;&gt;\r\n        &lt;field-validator type=&quot;requiredstring&quot;&gt;\r\n            &lt;message key=&quot;register.validation.email&quot; /&gt;\r\n        &lt;/field-validator&gt;\r\n        &lt;field-validator type=&quot;regex&quot;&gt;\r\n          &lt;param name=&quot;regexExpression&quot;&gt;&lt;![CDATA[^[&#39;_a-z0-9-\\+]+(\\.[&#39;_a-z0-9-\\+]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*\\.([a-z]{2}|aero|arpa|asia|biz|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|nato|net|org|pro|tel|travel|xxx|cat)$]]&gt;&lt;/param&gt;\r\n            &lt;message key=&quot;register.validation.email.format&quot; /&gt;\r\n          &lt;param name=&quot;caseSensitiveExpression&quot;&gt;${false}&lt;/param&gt;\r\n          &lt;param name=&quot;trimExpression&quot;&gt;${true}&lt;/param&gt;\r\n        &lt;/field-validator&gt;\r\n    &lt;/field&gt;\r\n\r\nIt has also `caseSensitiveExpression` parameter and `trimExpression` parameters applied. More about [regex validator][1] you can find in the documentation.\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/regex-validator.html","title":"Email validation facing issue while upgrading Struts 2.1 to Struts 2.3","body":"<p>Try this regex validator:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;field name=&quot;email&quot;&gt;\n    &lt;field-validator type=&quot;requiredstring&quot;&gt;\n        &lt;message key=&quot;register.validation.email&quot; /&gt;\n    &lt;/field-validator&gt;\n    &lt;field-validator type=&quot;regex&quot;&gt;\n      &lt;param name=&quot;regexExpression&quot;&gt;&lt;![CDATA[^['_a-z0-9-\\+]+(\\.['_a-z0-9-\\+]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*\\.([a-z]{2}|aero|arpa|asia|biz|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|nato|net|org|pro|tel|travel|xxx|cat)$]]&gt;&lt;/param&gt;\n        &lt;message key=&quot;register.validation.email.format&quot; /&gt;\n      &lt;param name=&quot;caseSensitiveExpression&quot;&gt;${false}&lt;/param&gt;\n      &lt;param name=&quot;trimExpression&quot;&gt;${true}&lt;/param&gt;\n    &lt;/field-validator&gt;\n&lt;/field&gt;\n</code></pre>\n<p>It has also <code>caseSensitiveExpression</code> parameter and <code>trimExpression</code> parameters applied. More about <a href=\"https://struts.apache.org/core-developers/regex-validator.html\" rel=\"nofollow noreferrer\">regex validator</a> you can find in the documentation.</p>\n"}],"owner":{"account_id":3915841,"reputation":43,"user_id":3239669,"display_name":"user3239669"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21378485,"answer_count":2,"score":2,"last_activity_date":1683557134,"creation_date":1390816622,"question_id":21377776,"body_markdown":"In my application I am using the Struts XML validation which was working fine with Struts 2.1 and I just upgrade it to 2.3 and now email validation is not working for `jamshed.katta@icab.cat`.\r\n\r\nmy regex is like this \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;field name=&quot;email&quot;&gt;\r\n    \t&lt;field-validator type=&quot;requiredstring&quot;&gt;\r\n    \t\t&lt;message key=&quot;register.validation.email&quot; /&gt;\r\n\t\t&lt;/field-validator&gt;\r\n\t\t&lt;field-validator type=&quot;email&quot;&gt;\r\n\t\t&lt;param name=&quot;regexExpression&quot;&gt;\\\\b^[&#39;_a-z0-9-\\\\+]+(\\\\.[&#39;_a-z0-9-\\\\+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)\\*\\.([a-z]{2}|aero|arpa|asia|biz|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|nato|net|org|pro|tel|travel|xxx|**cat**)$\\\\b&lt;/param&gt;\r\n    \t\t&lt;message key=&quot;register.validation.email.format&quot; /&gt;\r\n\t\t&lt;/field-validator&gt;\r\n\t&lt;/field&gt;","title":"Email validation facing issue while upgrading Struts 2.1 to Struts 2.3","body":"<p>In my application I am using the Struts XML validation which was working fine with Struts 2.1 and I just upgrade it to 2.3 and now email validation is not working for <code>jamshed.katta@icab.cat</code>.</p>\n<p>my regex is like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;field name=&quot;email&quot;&gt;\n    &lt;field-validator type=&quot;requiredstring&quot;&gt;\n        &lt;message key=&quot;register.validation.email&quot; /&gt;\n    &lt;/field-validator&gt;\n    &lt;field-validator type=&quot;email&quot;&gt;\n    &lt;param name=&quot;regexExpression&quot;&gt;\\\\b^['_a-z0-9-\\\\+]+(\\\\.['_a-z0-9-\\\\+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)\\*\\.([a-z]{2}|aero|arpa|asia|biz|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|nato|net|org|pro|tel|travel|xxx|**cat**)$\\\\b&lt;/param&gt;\n        &lt;message key=&quot;register.validation.email.format&quot; /&gt;\n    &lt;/field-validator&gt;\n&lt;/field&gt;\n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683378649,"post_id":76189063,"comment_id":134359502,"body_markdown":"First, youre violating the paint requirements; prefer paintComponent over paint and call its super method","body":"First, youre violating the paint requirements; prefer paintComponent over paint and call its super method"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683378819,"post_id":76189063,"comment_id":134359525,"body_markdown":"Second, your mouse handler should have a reference to the controller. The handler would pass the required information to the controller and it would then do what ever is required to update the ui (update model, trigger repaint). Avoid exposing the underlying component itself to tge handler and instead prefer to make use interfaces","body":"Second, your mouse handler should have a reference to the controller. The handler would pass the required information to the controller and it would then do what ever is required to update the ui (update model, trigger repaint). Avoid exposing the underlying component itself to tge handler and instead prefer to make use interfaces"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683382490,"creation_date":1683378671,"answer_id":76189081,"question_id":76189063,"body_markdown":"Creating a *new* Main instance is not going to solve your problem. The problem is that you are changing the state of the wrong instance, and instead you will need to change the state of the currently visible Main instance, not create a new one:\r\n```\r\n@Override\r\npublic void mouseClicked(MouseEvent e) {\r\n  \r\n\tif (e.getButton() == MouseEvent.BUTTON1) {\r\n\t  x = e.getX();\r\n\t  y = e.getY();\r\n\t  \r\n\t  Shape shape = new Ellipse2D.Float(x, y, 60, 60);\r\n\t  Area area = new Area(shape);\r\n\r\n\t  Main main2 = new Main();  // not going to work\r\n\t  main2.repaint();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nSo instead, if this is a very simple program, then perhaps pass an instance of Main into EventAdapter and change its state via a setter method.  If the program needs to scale up though, if it is a small part of a much larger and more complex program (or will be in the future), then this solution would be brittle, and instead you will want to separate model from view, a la Model-View-Controller, to allow for separation of concerns, easier testing of separate classes, and easier debugging.\r\n\r\nFor example:\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Stroke;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class PaintPanel extends JPanel {\r\n    private static final int PREF_W = 800;\r\n    private static final int PREF_H = 650;\r\n    private static final Color E_FILL_COLOR = Color.PINK;\r\n    private static final int E_RADIUS = 40;\r\n    private static final Stroke E_STROKE = new BasicStroke(4f);\r\n    private static final Color E_BORDER_COLOR = Color.RED.darker();\r\n    private List&lt;Ellipse2D&gt; ellipses = new ArrayList&lt;&gt;();\r\n\r\n    public PaintPanel() {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        Dimension superSize = super.getPreferredSize();\r\n        int width = Math.max(superSize.width, PREF_W);\r\n        int height = Math.max(superSize.height, PREF_H);\r\n        return new Dimension(width, height);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D)g.create();\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2.setStroke(E_STROKE);\r\n        for (Ellipse2D ellipse2d : ellipses) {\r\n            g2.setColor(E_FILL_COLOR);\r\n            g2.fill(ellipse2d);\r\n            g2.setColor(E_BORDER_COLOR);\r\n            g2.draw(ellipse2d);\r\n        }\r\n        g2.dispose();\r\n    }\r\n\r\n    public void addEllipse(int x, int y) {\r\n        Ellipse2D ellipse = new Ellipse2D.Double(x - E_RADIUS, y - E_RADIUS, 2* E_RADIUS, 2* E_RADIUS);\r\n        ellipses.add(ellipse);\r\n        repaint();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            PaintPanel mainPanel = new PaintPanel();\r\n            mainPanel.addMouseListener(new EventAdapter(mainPanel));\r\n\r\n            JFrame frame = new JFrame(&quot;PaintPanel&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationByPlatform(true);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n```\r\nclass EventAdapter extends MouseAdapter {\r\n    private PaintPanel paintPanel;\r\n\r\n    public EventAdapter(PaintPanel paintPanel) {\r\n        this.paintPanel = paintPanel;  // pass in the painting component\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        // change the state of the painting component\r\n        paintPanel.addEllipse(e.getX(), e.getY());\r\n    }\r\n}\r\n```\r\n\r\nAlso note that \r\n* The drawing is done within the paintComponent method of a JPanel\r\n* The super painting method, here super.paintComponent is called within the override so that &quot;housekeeping&quot; painting can be done\r\n* Avoid setting anythings size if possible and instead let components size themselves with hints given by the programmer.\r\n* This code allows for the creating and drawing of multiple circles by holding and filling an ArrayList of Ellipse2D objects and then iterating through the list within the paintComponent method.\r\n\r\n_______________________________________________________\r\n\r\nAs per MadProgrammer&#39;s suggestions, here is a more M-V-C version:\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Stroke;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.beans.PropertyChangeListener;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.*;\r\nimport javax.swing.event.SwingPropertyChangeSupport;\r\n\r\npublic class PaintPanelMain {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            ConcretePpView view = new ConcretePpView();\r\n\r\n            PpModel model = new PpModel();\r\n            PpController controller = new PpController(view, model);\r\n            controller.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n```\r\nclass ConcretePpView implements PpView {\r\n    private static final int PREF_W = 800;\r\n    private static final int PREF_H = 650;\r\n    private static final Stroke E_STROKE = new BasicStroke(4f);\r\n    private JPanel paintPanel = new PaintPanel();\r\n    private PpModel model;\r\n\r\n    public ConcretePpView() {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void setModel(PpModel model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public PpModel getModel() {\r\n        return model;\r\n    }\r\n\r\n    @Override\r\n    public void addEventAdapter(EventAdapter eventAdapter) {\r\n        paintPanel.addMouseListener(eventAdapter);\r\n    }\r\n\r\n    @Override\r\n    public void repaint() {\r\n        paintPanel.repaint();\r\n    }\r\n\r\n    @Override\r\n    public JComponent getViewComponent() {\r\n        return paintPanel;\r\n    }\r\n\r\n    private class PaintPanel extends JPanel {\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            Dimension superSize = super.getPreferredSize();\r\n            int width = Math.max(superSize.width, PREF_W);\r\n            int height = Math.max(superSize.height, PREF_H);\r\n            return new Dimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            if (model != null) {\r\n                Graphics2D g2 = (Graphics2D) g.create();\r\n                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2.setStroke(E_STROKE);\r\n                for (ColorEllipse ellipse : model.getEllipses()) {\r\n                    g2.setColor(ellipse.getFillColor());\r\n                    int r = ellipse.getRadius();\r\n                    int x = ellipse.getX() - r;\r\n                    int y = ellipse.getY() - r;\r\n                    g2.fillOval(x, y, 2 * r, 2 * r);\r\n                    g2.setStroke(E_STROKE);\r\n                    g2.setColor(ellipse.getBorderColor());\r\n                    g2.drawOval(x, y, 2 * r, 2 * r);\r\n                }\r\n                g2.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n```\r\nclass ColorEllipse {\r\n    private Color fillColor;\r\n    private Color borderColor;\r\n    private int radius;\r\n    private int x;\r\n    private int y;\r\n\r\n    public ColorEllipse(Color fillColor, Color borderColor, int radius, int x, int y) {\r\n        this.fillColor = fillColor;\r\n        this.borderColor = borderColor;\r\n        this.radius = radius;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public Color getFillColor() {\r\n        return fillColor;\r\n    }\r\n\r\n    public Color getBorderColor() {\r\n        return borderColor;\r\n    }\r\n\r\n    public int getRadius() {\r\n        return radius;\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n}\r\n```\r\n```\r\nclass PpModel {\r\n    public static final String ELLIPSE = &quot;ellipse&quot;;\r\n    private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\r\n    private List&lt;ColorEllipse&gt; ellipses = new ArrayList&lt;&gt;();\r\n\r\n    public void addEllipse(ColorEllipse ellipse) {\r\n        ellipses.add(ellipse);\r\n        pcSupport.firePropertyChange(ELLIPSE, null, ellipse);\r\n    }\r\n\r\n    public List&lt;ColorEllipse&gt; getEllipses() {\r\n        return ellipses;\r\n    }\r\n\r\n    public void addPropertyChangeListener(String propertyName, PropertyChangeListener listener) {\r\n        pcSupport.addPropertyChangeListener(propertyName, listener);\r\n    }\r\n\r\n    public void removePropertyChangeListener(String propertyName, PropertyChangeListener listener) {\r\n        pcSupport.removePropertyChangeListener(propertyName, listener);\r\n    }\r\n\r\n}\r\n```\r\n```\r\nclass PpController {\r\n    private PpView view;\r\n    private PpModel model;\r\n\r\n    public PpController(PpView view, PpModel model) {\r\n        this.view = view;\r\n        this.model = model;\r\n        view.setModel(model);\r\n        view.addEventAdapter(new EventAdapter(this));\r\n        model.addPropertyChangeListener(PpModel.ELLIPSE, e -&gt; view.repaint());\r\n    }\r\n\r\n    public void setVisible(boolean b) {\r\n        JFrame frame = new JFrame(&quot;PaintPanel&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(view.getViewComponent());\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public void addEllipse(int x, int y) {\r\n        float h = (float) Math.random();\r\n        Color fillColor = Color.getHSBColor(h, 1f, 1f);\r\n        Color borderColor = fillColor.darker().darker();\r\n        int radius = 20 + (int) (Math.random() * 40);\r\n        model.addEllipse(new ColorEllipse(fillColor, borderColor, radius, x, y));\r\n    }\r\n\r\n}\r\n```\r\n```\r\ninterface PpView {\r\n    void setModel(PpModel model);\r\n\r\n    void repaint();\r\n\r\n    void addEventAdapter(EventAdapter eventAdapter);\r\n\r\n    JComponent getViewComponent();\r\n}\r\n```\r\n```\r\nclass EventAdapter extends MouseAdapter {\r\n    private PpController controller;\r\n\r\n    public EventAdapter(PpController ppController) {\r\n        this.controller = ppController;\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        controller.addEllipse(e.getX(), e.getY());\r\n    }\r\n}\r\n```","title":"Java Swing GUI - repaint graphics from a different class on mouse click","body":"<p>Creating a <em>new</em> Main instance is not going to solve your problem. The problem is that you are changing the state of the wrong instance, and instead you will need to change the state of the currently visible Main instance, not create a new one:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n  \n    if (e.getButton() == MouseEvent.BUTTON1) {\n      x = e.getX();\n      y = e.getY();\n      \n      Shape shape = new Ellipse2D.Float(x, y, 60, 60);\n      Area area = new Area(shape);\n\n      Main main2 = new Main();  // not going to work\n      main2.repaint();\n    }\n}\n</code></pre>\n<p>So instead, if this is a very simple program, then perhaps pass an instance of Main into EventAdapter and change its state via a setter method.  If the program needs to scale up though, if it is a small part of a much larger and more complex program (or will be in the future), then this solution would be brittle, and instead you will want to separate model from view, a la Model-View-Controller, to allow for separation of concerns, easier testing of separate classes, and easier debugging.</p>\n<p>For example:</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Stroke;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.*;\n\npublic class PaintPanel extends JPanel {\n    private static final int PREF_W = 800;\n    private static final int PREF_H = 650;\n    private static final Color E_FILL_COLOR = Color.PINK;\n    private static final int E_RADIUS = 40;\n    private static final Stroke E_STROKE = new BasicStroke(4f);\n    private static final Color E_BORDER_COLOR = Color.RED.darker();\n    private List&lt;Ellipse2D&gt; ellipses = new ArrayList&lt;&gt;();\n\n    public PaintPanel() {\n        \n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        Dimension superSize = super.getPreferredSize();\n        int width = Math.max(superSize.width, PREF_W);\n        int height = Math.max(superSize.height, PREF_H);\n        return new Dimension(width, height);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g.create();\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setStroke(E_STROKE);\n        for (Ellipse2D ellipse2d : ellipses) {\n            g2.setColor(E_FILL_COLOR);\n            g2.fill(ellipse2d);\n            g2.setColor(E_BORDER_COLOR);\n            g2.draw(ellipse2d);\n        }\n        g2.dispose();\n    }\n\n    public void addEllipse(int x, int y) {\n        Ellipse2D ellipse = new Ellipse2D.Double(x - E_RADIUS, y - E_RADIUS, 2* E_RADIUS, 2* E_RADIUS);\n        ellipses.add(ellipse);\n        repaint();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            PaintPanel mainPanel = new PaintPanel();\n            mainPanel.addMouseListener(new EventAdapter(mainPanel));\n\n            JFrame frame = new JFrame(&quot;PaintPanel&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.getContentPane().add(mainPanel);\n            frame.pack();\n            frame.setLocationByPlatform(true);\n            frame.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<pre><code>class EventAdapter extends MouseAdapter {\n    private PaintPanel paintPanel;\n\n    public EventAdapter(PaintPanel paintPanel) {\n        this.paintPanel = paintPanel;  // pass in the painting component\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // change the state of the painting component\n        paintPanel.addEllipse(e.getX(), e.getY());\n    }\n}\n</code></pre>\n<p>Also note that</p>\n<ul>\n<li>The drawing is done within the paintComponent method of a JPanel</li>\n<li>The super painting method, here super.paintComponent is called within the override so that &quot;housekeeping&quot; painting can be done</li>\n<li>Avoid setting anythings size if possible and instead let components size themselves with hints given by the programmer.</li>\n<li>This code allows for the creating and drawing of multiple circles by holding and filling an ArrayList of Ellipse2D objects and then iterating through the list within the paintComponent method.</li>\n</ul>\n<hr />\n<p>As per MadProgrammer's suggestions, here is a more M-V-C version:</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.Stroke;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.beans.PropertyChangeListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.*;\nimport javax.swing.event.SwingPropertyChangeSupport;\n\npublic class PaintPanelMain {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            ConcretePpView view = new ConcretePpView();\n\n            PpModel model = new PpModel();\n            PpController controller = new PpController(view, model);\n            controller.setVisible(true);\n        });\n    }\n\n}\n</code></pre>\n<pre><code>class ConcretePpView implements PpView {\n    private static final int PREF_W = 800;\n    private static final int PREF_H = 650;\n    private static final Stroke E_STROKE = new BasicStroke(4f);\n    private JPanel paintPanel = new PaintPanel();\n    private PpModel model;\n\n    public ConcretePpView() {\n        \n    }\n\n    @Override\n    public void setModel(PpModel model) {\n        this.model = model;\n    }\n\n    public PpModel getModel() {\n        return model;\n    }\n\n    @Override\n    public void addEventAdapter(EventAdapter eventAdapter) {\n        paintPanel.addMouseListener(eventAdapter);\n    }\n\n    @Override\n    public void repaint() {\n        paintPanel.repaint();\n    }\n\n    @Override\n    public JComponent getViewComponent() {\n        return paintPanel;\n    }\n\n    private class PaintPanel extends JPanel {\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension superSize = super.getPreferredSize();\n            int width = Math.max(superSize.width, PREF_W);\n            int height = Math.max(superSize.height, PREF_H);\n            return new Dimension(width, height);\n        }\n    \n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (model != null) {\n                Graphics2D g2 = (Graphics2D) g.create();\n                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n                g2.setStroke(E_STROKE);\n                for (ColorEllipse ellipse : model.getEllipses()) {\n                    g2.setColor(ellipse.getFillColor());\n                    int r = ellipse.getRadius();\n                    int x = ellipse.getX() - r;\n                    int y = ellipse.getY() - r;\n                    g2.fillOval(x, y, 2 * r, 2 * r);\n                    g2.setStroke(E_STROKE);\n                    g2.setColor(ellipse.getBorderColor());\n                    g2.drawOval(x, y, 2 * r, 2 * r);\n                }\n                g2.dispose();\n            }\n        }\n    }\n\n}\n</code></pre>\n<pre><code>class ColorEllipse {\n    private Color fillColor;\n    private Color borderColor;\n    private int radius;\n    private int x;\n    private int y;\n\n    public ColorEllipse(Color fillColor, Color borderColor, int radius, int x, int y) {\n        this.fillColor = fillColor;\n        this.borderColor = borderColor;\n        this.radius = radius;\n        this.x = x;\n        this.y = y;\n    }\n\n    public Color getFillColor() {\n        return fillColor;\n    }\n\n    public Color getBorderColor() {\n        return borderColor;\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n}\n</code></pre>\n<pre><code>class PpModel {\n    public static final String ELLIPSE = &quot;ellipse&quot;;\n    private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(this);\n    private List&lt;ColorEllipse&gt; ellipses = new ArrayList&lt;&gt;();\n\n    public void addEllipse(ColorEllipse ellipse) {\n        ellipses.add(ellipse);\n        pcSupport.firePropertyChange(ELLIPSE, null, ellipse);\n    }\n\n    public List&lt;ColorEllipse&gt; getEllipses() {\n        return ellipses;\n    }\n\n    public void addPropertyChangeListener(String propertyName, PropertyChangeListener listener) {\n        pcSupport.addPropertyChangeListener(propertyName, listener);\n    }\n\n    public void removePropertyChangeListener(String propertyName, PropertyChangeListener listener) {\n        pcSupport.removePropertyChangeListener(propertyName, listener);\n    }\n\n}\n</code></pre>\n<pre><code>class PpController {\n    private PpView view;\n    private PpModel model;\n\n    public PpController(PpView view, PpModel model) {\n        this.view = view;\n        this.model = model;\n        view.setModel(model);\n        view.addEventAdapter(new EventAdapter(this));\n        model.addPropertyChangeListener(PpModel.ELLIPSE, e -&gt; view.repaint());\n    }\n\n    public void setVisible(boolean b) {\n        JFrame frame = new JFrame(&quot;PaintPanel&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(view.getViewComponent());\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public void addEllipse(int x, int y) {\n        float h = (float) Math.random();\n        Color fillColor = Color.getHSBColor(h, 1f, 1f);\n        Color borderColor = fillColor.darker().darker();\n        int radius = 20 + (int) (Math.random() * 40);\n        model.addEllipse(new ColorEllipse(fillColor, borderColor, radius, x, y));\n    }\n\n}\n</code></pre>\n<pre><code>interface PpView {\n    void setModel(PpModel model);\n\n    void repaint();\n\n    void addEventAdapter(EventAdapter eventAdapter);\n\n    JComponent getViewComponent();\n}\n</code></pre>\n<pre><code>class EventAdapter extends MouseAdapter {\n    private PpController controller;\n\n    public EventAdapter(PpController ppController) {\n        this.controller = ppController;\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        controller.addEllipse(e.getX(), e.getY());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26719206,"reputation":37,"user_id":20323350,"display_name":"Logolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683557120,"creation_date":1683378425,"question_id":76189063,"body_markdown":"Let&#39;s say we have two classes - Main and EventAdapter. The question is how to implement a program that paints an Area object at the place where mouse cursor is clicked, if mouseClicked method is located in a different class.\r\n\r\n```\r\npublic class Main extends JComponent{\r\n\r\n    Main() {\r\n        repaint();\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        Graphics2D gr = (Graphics2D) g;\r\n      \r\n        // fill graphics object with an Area object obtained in mouseClicked method\r\n\r\n        gr.setPaint(Color.red);\r\n        if (area != null)\r\n          gr.fill(area);\r\n    }\r\n\r\n    private static void createAndShowGUI() {\r\n        JFrame jFrame = new JFrame(&quot;test&quot;);\r\n        jFrame.setSize(300, 350);\r\n        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        Main main = new Main();\r\n        main.addMouseListener(new EventAdapter());\r\n\r\n        label = new JLabel(&quot;&quot;);\r\n        label.setHorizontalAlignment(JLabel.CENTER);\r\n\r\n        jFrame.add(label, BorderLayout.NORTH);\r\n        jFrame.add(area, BorderLayout.CENTER);\r\n        jFrame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        createAndShowGUI();\r\n    }\r\n\r\n}\r\n\r\nclass EventAdapter extends MouseAdapter {\r\n    private int x, y;\r\n  \r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n      \r\n        if (e.getButton() == MouseEvent.BUTTON1) {\r\n          x = e.getX();\r\n          y = e.getY();\r\n          \r\n          Shape shape = new Ellipse2D.Float(x, y, 60, 60);\r\n          Area area = new Area(shape);\r\n\r\n          Main main2 = new Main();\r\n          main2.repaint();\r\n        }\r\n    }\r\n```\r\nI am familiar with OOP, yet the concept of graphical interfaces seems a bit different to me. I have read Oracle documentations, but haven&#39;t found any information based on calling repaint method from a different class, so I hope anyone here will help me figure this out.","title":"Java Swing GUI - repaint graphics from a different class on mouse click","body":"<p>Let's say we have two classes - Main and EventAdapter. The question is how to implement a program that paints an Area object at the place where mouse cursor is clicked, if mouseClicked method is located in a different class.</p>\n<pre><code>public class Main extends JComponent{\n\n    Main() {\n        repaint();\n    }\n\n    public void paint(Graphics g) {\n        Graphics2D gr = (Graphics2D) g;\n      \n        // fill graphics object with an Area object obtained in mouseClicked method\n\n        gr.setPaint(Color.red);\n        if (area != null)\n          gr.fill(area);\n    }\n\n    private static void createAndShowGUI() {\n        JFrame jFrame = new JFrame(&quot;test&quot;);\n        jFrame.setSize(300, 350);\n        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        Main main = new Main();\n        main.addMouseListener(new EventAdapter());\n\n        label = new JLabel(&quot;&quot;);\n        label.setHorizontalAlignment(JLabel.CENTER);\n\n        jFrame.add(label, BorderLayout.NORTH);\n        jFrame.add(area, BorderLayout.CENTER);\n        jFrame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        createAndShowGUI();\n    }\n\n}\n\nclass EventAdapter extends MouseAdapter {\n    private int x, y;\n  \n    @Override\n    public void mouseClicked(MouseEvent e) {\n      \n        if (e.getButton() == MouseEvent.BUTTON1) {\n          x = e.getX();\n          y = e.getY();\n          \n          Shape shape = new Ellipse2D.Float(x, y, 60, 60);\n          Area area = new Area(shape);\n\n          Main main2 = new Main();\n          main2.repaint();\n        }\n    }\n</code></pre>\n<p>I am familiar with OOP, yet the concept of graphical interfaces seems a bit different to me. I have read Oracle documentations, but haven't found any information based on calling repaint method from a different class, so I hope anyone here will help me figure this out.</p>\n"},{"tags":["java","android","android-studio","listview","textview"],"answers":[{"tags":[],"owner":{"account_id":15597674,"reputation":98,"user_id":11252646,"display_name":"Mason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683499870,"creation_date":1683499870,"answer_id":76196592,"question_id":76195714,"body_markdown":"You can try to change the layout.\r\n\r\nLile this:\r\n\r\nAdd `custom_textview.xml`\r\n\r\n    &lt;? xml version=&quot;1.0&quot; encoding=&quot; utf-8 &quot;? &gt;\r\n    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     android:id=&quot;@+id/tv&quot;\r\n     android:textColor=&quot;@color/black&quot;\r\n     android:textSize=&quot;22sp&quot;\r\n     android:layout_width=&quot;fill_parent&quot;\r\n     android:layout_height=&quot;fill_parent&quot;/&gt;\r\n\r\nChange adapter&#39;s item layout.\r\n\r\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, R.layout.custom_textview, yourData);\r\n    listview.setAdapter(adapter); \r\n\r\nIf still not working, you can try [implement Adapter][1]\r\n\r\nIf still not working, think about set adapter early.\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/android-listview-with-custom-adapter-example-tutorial","title":"Textview properties in ListView do not change","body":"<p>You can try to change the layout.</p>\n<p>Lile this:</p>\n<p>Add <code>custom_textview.xml</code></p>\n<pre><code>&lt;? xml version=&quot;1.0&quot; encoding=&quot; utf-8 &quot;? &gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n android:id=&quot;@+id/tv&quot;\n android:textColor=&quot;@color/black&quot;\n android:textSize=&quot;22sp&quot;\n android:layout_width=&quot;fill_parent&quot;\n android:layout_height=&quot;fill_parent&quot;/&gt;\n</code></pre>\n<p>Change adapter's item layout.</p>\n<pre><code>ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, R.layout.custom_textview, yourData);\nlistview.setAdapter(adapter); \n</code></pre>\n<p>If still not working, you can try <a href=\"https://www.digitalocean.com/community/tutorials/android-listview-with-custom-adapter-example-tutorial\" rel=\"nofollow noreferrer\">implement Adapter</a></p>\n<p>If still not working, think about set adapter early.</p>\n"}],"owner":{"account_id":28519023,"reputation":1,"user_id":21827995,"display_name":"Ezgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683556967,"creation_date":1683485165,"question_id":76195714,"body_markdown":"I have a `ListView`, but when I try to change the text color and size of the `TextView` in the `ListView`, it doesn&#39;t change, but I don&#39;t get an error. I used to get errors when I tried something but now I don&#39;t. I do not know how to do it. Here is the image showing the `ListView`:\r\n\r\n[![ListView][1]][1]\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    DatabaseReference databaseReference;\r\n    List&lt;pdfClass&gt; uploads;\r\n    ListView listview;\r\n    FloatingActionButton floatingActionButton;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listview = findViewById(R.id.listview);\r\n        floatingActionButton = findViewById(R.id.floatingActionButton);\r\n        uploads = new ArrayList&lt;&gt;();\r\n\r\n        viewAllFiles();\r\n\r\n        listview.setOnItemClickListener((parent, view, position, id) -&gt; {\r\n            pdfClass pdfupload = uploads.get(position);\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setType(&quot;application/pdf&quot;);\r\n            intent.setData(Uri.parse(pdfupload.getUrl()));\r\n            startActivity(intent);\r\n        });\r\n\r\n        floatingActionButton.setOnClickListener(view-&gt;{\r\n            Intent intent = new Intent(getApplicationContext(),UploadPDF.class);\r\n            startActivity(intent);\r\n\r\n        });\r\n    }\r\n\r\n    private void viewAllFiles() {\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Uploads&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot postsnapshot : snapshot.getChildren()){\r\n                    pdfClass pdfClass = postsnapshot.getValue(furkan.demirel.myapplication.pdfClass.class);\r\n                    uploads.add(pdfClass);\r\n\r\n\r\n                }\r\n                String[] Uploads = new String[uploads.size()];\r\n                for (int i =0;i&lt;Uploads.length;i++){\r\n                    Uploads[i]=uploads.get(i).getName();\r\n\r\n                }\r\n                ArrayAdapter&lt;String&gt; adapter= new ArrayAdapter&lt;String&gt;(getApplicationContext(),\r\n                        android.R.layout.simple_list_item_1,Uploads){\r\n\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent){\r\n                        View view = super.getView(position,convertView,parent);\r\n                        TextView text =(TextView) view.findViewById(android.R.id.text1);\r\n                        text.setTextColor(Color.BLACK);\r\n                        text.setTextSize(22);\r\n                        return view;\r\n                    }\r\n                };\r\n                listview.setAdapter(adapter);\r\n\r\n            }\r\n\r\n\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/VcoEy.png","title":"Textview properties in ListView do not change","body":"<p>I have a <code>ListView</code>, but when I try to change the text color and size of the <code>TextView</code> in the <code>ListView</code>, it doesn't change, but I don't get an error. I used to get errors when I tried something but now I don't. I do not know how to do it. Here is the image showing the <code>ListView</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/VcoEy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VcoEy.png\" alt=\"ListView\" /></a></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DatabaseReference databaseReference;\n    List&lt;pdfClass&gt; uploads;\n    ListView listview;\n    FloatingActionButton floatingActionButton;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        listview = findViewById(R.id.listview);\n        floatingActionButton = findViewById(R.id.floatingActionButton);\n        uploads = new ArrayList&lt;&gt;();\n\n        viewAllFiles();\n\n        listview.setOnItemClickListener((parent, view, position, id) -&gt; {\n            pdfClass pdfupload = uploads.get(position);\n            Intent intent = new Intent(Intent.ACTION_VIEW);\n            intent.setType(&quot;application/pdf&quot;);\n            intent.setData(Uri.parse(pdfupload.getUrl()));\n            startActivity(intent);\n        });\n\n        floatingActionButton.setOnClickListener(view-&gt;{\n            Intent intent = new Intent(getApplicationContext(),UploadPDF.class);\n            startActivity(intent);\n\n        });\n    }\n\n    private void viewAllFiles() {\n\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Uploads&quot;);\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot postsnapshot : snapshot.getChildren()){\n                    pdfClass pdfClass = postsnapshot.getValue(furkan.demirel.myapplication.pdfClass.class);\n                    uploads.add(pdfClass);\n\n\n                }\n                String[] Uploads = new String[uploads.size()];\n                for (int i =0;i&lt;Uploads.length;i++){\n                    Uploads[i]=uploads.get(i).getName();\n\n                }\n                ArrayAdapter&lt;String&gt; adapter= new ArrayAdapter&lt;String&gt;(getApplicationContext(),\n                        android.R.layout.simple_list_item_1,Uploads){\n\n\n                    @NonNull\n                    @Override\n                    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent){\n                        View view = super.getView(position,convertView,parent);\n                        TextView text =(TextView) view.findViewById(android.R.id.text1);\n                        text.setTextColor(Color.BLACK);\n                        text.setTextSize(22);\n                        return view;\n                    }\n                };\n                listview.setAdapter(adapter);\n\n            }\n\n\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","log4j2","slf4j"],"comments":[{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1683541745,"post_id":76199608,"comment_id":134377361,"body_markdown":"In your A/B testing, was the exception thrown the same?","body":"In your A/B testing, was the exception thrown the same?"},{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1683541935,"post_id":76199608,"comment_id":134377391,"body_markdown":"Yes, I threw the exception using &quot;throw new Exception(&quot;Some message&quot;);&quot; in Method A and Method B.","body":"Yes, I threw the exception using &quot;throw new Exception(&quot;Some message&quot;);&quot; in Method A and Method B."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683542776,"post_id":76199608,"comment_id":134377550,"body_markdown":"1. this is unbelievable (methodA and B look identical!;) 2. there could be some &quot;hidden (jvm) setting&quot;: [old but relevant](https://stackoverflow.com/questions/2295015/log4j-not-printing-the-stacktrace-for-exceptions)","body":"1. this is unbelievable (methodA and B look identical!;) 2. there could be some &quot;hidden (jvm) setting&quot;: <a href=\"https://stackoverflow.com/questions/2295015/log4j-not-printing-the-stacktrace-for-exceptions\">old but relevant</a>"},{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1683543196,"post_id":76199608,"comment_id":134377629,"body_markdown":"@xerx593 I have checked that the Java options in my production environment do not include &quot;-XX:-OmitStackTraceInFastThrow&quot;.","body":"@xerx593 I have checked that the Java options in my production environment do not include &quot;-XX:-OmitStackTraceInFastThrow&quot;."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1683550769,"post_id":76199608,"comment_id":134379375,"body_markdown":"Log4j 2.8.2 is **very** old and has severe security vulnerabilities. Check with the newest version! Are you logging to a file or `System.out/System.err`? The latter contains not only Log4j&#39;s logs but also other kinds of output, e.g. the output of the default [`UncaughtExceptionHandler`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html), which looks pretty much as what you describe.","body":"Log4j 2.8.2 is <b>very</b> old and has severe security vulnerabilities. Check with the newest version! Are you logging to a file or <code>System.out&#47;System.err</code>? The latter contains not only Log4j&#39;s logs but also other kinds of output, e.g. the output of the default <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"nofollow noreferrer\"><code>UncaughtExceptionHandler</code></a>, which looks pretty much as what you describe."},{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1683556806,"post_id":76199608,"comment_id":134380776,"body_markdown":"@PiotrP.Karwasz Thanks about security vulnerabilities advice. We have scheduled a time for the upgrade. Update my log4j.xml in question.","body":"@PiotrP.Karwasz Thanks about security vulnerabilities advice. We have scheduled a time for the upgrade. Update my log4j.xml in question."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1683567279,"post_id":76199608,"comment_id":134383121,"body_markdown":"@Ziv: what version of Java are you using during development and production? Do you use a `SecurityManager`? Log4j versions before 2.9.0 does not support Java 11+. You can try adding `%ex` to your pattern, while waiting for the upgrade.","body":"@Ziv: what version of Java are you using during development and production? Do you use a <code>SecurityManager</code>? Log4j versions before 2.9.0 does not support Java 11+. You can try adding <code>%ex</code> to your pattern, while waiting for the upgrade."},{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1683590614,"post_id":76199608,"comment_id":134386979,"body_markdown":"@PiotrP.Karwasz All environments are using Java 8, but the minor versions may differ.\nI will check the SecurityManager and update later.","body":"@PiotrP.Karwasz All environments are using Java 8, but the minor versions may differ. I will check the SecurityManager and update later."}],"answers":[{"tags":[],"owner":{"account_id":10859328,"reputation":54,"user_id":7984646,"display_name":"zeynep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683545051,"creation_date":1683545051,"answer_id":76200129,"question_id":76199608,"body_markdown":"To fix the issue, you can update the logging level for your logger to an appropriate level, such as &quot;DEBUG&quot; or &quot;TRACE&quot;, to make sure that the exception is fully logged in your log file. You can also modify your logger statement to include the exception&#39;s stack trace explicitly.\r\n\r\nHere&#39;s an example of how you can modify your logger statement to include the full stack trace of the exception:\r\n\r\n    try {\r\n        // Some code\r\n    } catch (Throwable e) {\r\n        StringWriter sw = new StringWriter();\r\n        PrintWriter pw = new PrintWriter(sw);\r\n        e.printStackTrace(pw);\r\n        logger.error(&quot;Occur exception -&gt; &quot; + sw.toString());\r\n    }\r\n\r\nThis will print the full stack trace of the exception in your log file, which can help you identify the cause of the NullPointerException.","title":"Log4j not log full stack trace","body":"<p>To fix the issue, you can update the logging level for your logger to an appropriate level, such as &quot;DEBUG&quot; or &quot;TRACE&quot;, to make sure that the exception is fully logged in your log file. You can also modify your logger statement to include the exception's stack trace explicitly.</p>\n<p>Here's an example of how you can modify your logger statement to include the full stack trace of the exception:</p>\n<pre><code>try {\n    // Some code\n} catch (Throwable e) {\n    StringWriter sw = new StringWriter();\n    PrintWriter pw = new PrintWriter(sw);\n    e.printStackTrace(pw);\n    logger.error(&quot;Occur exception -&gt; &quot; + sw.toString());\n}\n</code></pre>\n<p>This will print the full stack trace of the exception in your log file, which can help you identify the cause of the NullPointerException.</p>\n"}],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683556893,"creation_date":1683541061,"question_id":76199608,"body_markdown":"I&#39;m using SLF4j with Log4j2.\r\nThe SLF4j version is 1.7.22 and the Log4j2 version is 2.8.2.\r\nWhen I log an exception with Log4j2 in a method, it only logs one line.\r\nI expected the log to show the full stack trace of the exception in my log.\r\nDue to this question, I am unable to identify the cause of the NullPointerException.\r\n\r\nHere is my code snippet:\r\n\r\n```\r\ntry{\r\n    // Some code\r\n}catch (Throwable e){\r\n    logger.error(&quot;Occur exception -&gt; &quot;, e);\r\n}\r\n```\r\n\r\nThe log file only has one line.\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n```\r\n\r\nMy log4j2.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration packages=&quot;com.changing&quot; &gt;\r\n\t&lt;Appenders&gt;\r\n\r\n\t\t&lt;!-- DailyFile &amp; Log file Name format by pattern --&gt;\r\n\t\t&lt;RollingFile name=&quot;DailyFile&quot;\r\n\t\t\tfileName=&quot;C:/logs/log.log&quot;\r\n\t\t\tfilePattern=&quot;C:/logs/log-%d{yyyyMMdd}.log&quot;&gt;\r\n\t\t\t&lt;PatternLayout charset=&quot;UTF-8&quot;\r\n\t\t\t\tpattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] [%t] %c{2}:%L - %msg%n&quot; /&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\r\n\t\t\t\t\tmodulate=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger name=&quot;com.contoso&quot; level=&quot;debug&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;DailyFile&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nI have checked that this code correctly writes the full stack trace in my environment and test environment. However, when the same code runs on the production environment, it only shows one line.\r\n\r\nIf I manually throw the exception, it will log the full stack trace even in the production environment. However, when the NullPointerException occurs, it will only log one line.\r\n\r\nI have checked that the log4j2.xml file is the same between the test environment and the production environment, only the file path is different.\r\n\r\nI also tested throwing an exception in a different method in the same class, and it showed the full stack trace even in the production environment. Method A only showed one line of the full stack trace, whereas Method B showed the full stack trace.\r\n\r\n```\r\nclass A {\r\n    private static Logger logger = LogManager.getLogger(A.class);\r\n    void methodA(){\r\n        try{\r\n           // Some code\r\n        }catch (Throwable e){\r\n            logger.error(&quot;Occur exception -&gt; &quot;, e);\r\n        }\r\n    }\r\n    void methodB(){\r\n        try{\r\n           // Some code\r\n        }catch (Throwable e){\r\n            logger.error(&quot;Occur exception -&gt; &quot;, e);\r\n        }\r\n    }  \r\n}\r\n```\r\n","title":"Log4j not log full stack trace","body":"<p>I'm using SLF4j with Log4j2.\nThe SLF4j version is 1.7.22 and the Log4j2 version is 2.8.2.\nWhen I log an exception with Log4j2 in a method, it only logs one line.\nI expected the log to show the full stack trace of the exception in my log.\nDue to this question, I am unable to identify the cause of the NullPointerException.</p>\n<p>Here is my code snippet:</p>\n<pre><code>try{\n    // Some code\n}catch (Throwable e){\n    logger.error(&quot;Occur exception -&gt; &quot;, e);\n}\n</code></pre>\n<p>The log file only has one line.</p>\n<pre><code>java.lang.NullPointerException: null\n</code></pre>\n<p>My log4j2.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;com.changing&quot; &gt;\n    &lt;Appenders&gt;\n\n        &lt;!-- DailyFile &amp; Log file Name format by pattern --&gt;\n        &lt;RollingFile name=&quot;DailyFile&quot;\n            fileName=&quot;C:/logs/log.log&quot;\n            filePattern=&quot;C:/logs/log-%d{yyyyMMdd}.log&quot;&gt;\n            &lt;PatternLayout charset=&quot;UTF-8&quot;\n                pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] [%t] %c{2}:%L - %msg%n&quot; /&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot;\n                    modulate=&quot;true&quot; /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.contoso&quot; level=&quot;debug&quot;&gt;\n            &lt;AppenderRef ref=&quot;DailyFile&quot; /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>I have checked that this code correctly writes the full stack trace in my environment and test environment. However, when the same code runs on the production environment, it only shows one line.</p>\n<p>If I manually throw the exception, it will log the full stack trace even in the production environment. However, when the NullPointerException occurs, it will only log one line.</p>\n<p>I have checked that the log4j2.xml file is the same between the test environment and the production environment, only the file path is different.</p>\n<p>I also tested throwing an exception in a different method in the same class, and it showed the full stack trace even in the production environment. Method A only showed one line of the full stack trace, whereas Method B showed the full stack trace.</p>\n<pre><code>class A {\n    private static Logger logger = LogManager.getLogger(A.class);\n    void methodA(){\n        try{\n           // Some code\n        }catch (Throwable e){\n            logger.error(&quot;Occur exception -&gt; &quot;, e);\n        }\n    }\n    void methodB(){\n        try{\n           // Some code\n        }catch (Throwable e){\n            logger.error(&quot;Occur exception -&gt; &quot;, e);\n        }\n    }  \n}\n</code></pre>\n"},{"tags":["java","android","touch-event","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":13868783,"reputation":401,"user_id":10012633,"display_name":"Pratyush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613267521,"creation_date":1573802822,"answer_id":58872167,"question_id":58872014,"body_markdown":"yes or no both;\r\n\r\nyes you can press views fill editText but you can&#39;t achieve adb shell touch x y this behaviour.","title":"Can I use accessibility API to fire touch events outside my own app without root?","body":"<p>yes or no both;</p>\n<p>yes you can press views fill editText but you can't achieve adb shell touch x y this behaviour.</p>\n"},{"tags":[],"owner":{"account_id":17090864,"reputation":151,"user_id":12367052,"display_name":"ET1992"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574521992,"creation_date":1574520970,"answer_id":59008920,"question_id":58872014,"body_markdown":"Yes It is possible to fire touch events outside of your application using GestureDescription. Based on [Android Documents][1], it requires API level 24(Android 7.0)\r\n\r\nyou can use other solutions such as rooting device or ADB in lower android versions.\r\n\r\nAlso, you can use [AccessibilityNodeInfo][2] to do some actions and it might be useful for your needs. It&#39;s also available in Android 6.0\r\n\r\nHope this helps, let us know how it went!\r\n\r\n  [1]: https://developer.android.com/reference/android/accessibilityservice/GestureDescription\r\n  [2]: https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo","title":"Can I use accessibility API to fire touch events outside my own app without root?","body":"<p>Yes It is possible to fire touch events outside of your application using GestureDescription. Based on <a href=\"https://developer.android.com/reference/android/accessibilityservice/GestureDescription\" rel=\"nofollow noreferrer\">Android Documents</a>, it requires API level 24(Android 7.0)</p>\n\n<p>you can use other solutions such as rooting device or ADB in lower android versions.</p>\n\n<p>Also, you can use <a href=\"https://developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo\" rel=\"nofollow noreferrer\">AccessibilityNodeInfo</a> to do some actions and it might be useful for your needs. It's also available in Android 6.0</p>\n\n<p>Hope this helps, let us know how it went!</p>\n"}],"owner":{"account_id":14628192,"reputation":191,"user_id":10564900,"display_name":"DeborahAnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683556839,"creation_date":1573802093,"question_id":58872014,"body_markdown":"I was wondering if it&#39;s still possible to use the accessibility API to fire touch events outside my own app without having to root my phone. If so, does it work for Android 6.0? Or it requires Android 7.0 and above?","title":"Can I use accessibility API to fire touch events outside my own app without root?","body":"<p>I was wondering if it's still possible to use the accessibility API to fire touch events outside my own app without having to root my phone. If so, does it work for Android 6.0? Or it requires Android 7.0 and above?</p>\n"},{"tags":["java","android","imageview"],"answers":[{"tags":[],"owner":{"account_id":10060533,"reputation":64,"user_id":7437381,"display_name":"FacuArg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581958234,"creation_date":1581958234,"answer_id":60267062,"question_id":60266812,"body_markdown":"In Android you have View and ViewGroups. \r\nThe ViewGroups can contain childs, and this childs can be other View or ViewGroups.\r\n\r\nThe View have behave to himself (color, size, orientation...).\r\nThe ViewGroups have **order** behave to himself and his childs. \r\n\r\nThe most used ViewGroups are:\r\n\r\n- FrameLayout\r\n- LinearLayout\r\n- RelativeLayout\r\n- ConstraintLayout\r\n\r\nDepending on your what you need you got to choose.\r\n\r\n - FrameLayout order his child like a Stack of Views in the same way you\r\n   are declaring in the xml.\r\n - LinearLayout arranges other views either horizontally in a single\r\n   column or vertically in a single row.\r\n - RelativeLayout has references between childs to order.\r\n - ConstraintLayout has &quot;constraints&quot; to order his childs, it is like\r\n   RelativeLayout but most powerful.\r\n\r\nIn your implementation you have a &quot;programmatically&quot; implementation, maybe if you try to use the xml will be more simple.","title":"Android - Program ImageView Constraints in Custom Toast Class","body":"<p>In Android you have View and ViewGroups. \nThe ViewGroups can contain childs, and this childs can be other View or ViewGroups.</p>\n\n<p>The View have behave to himself (color, size, orientation...).\nThe ViewGroups have <strong>order</strong> behave to himself and his childs. </p>\n\n<p>The most used ViewGroups are:</p>\n\n<ul>\n<li>FrameLayout</li>\n<li>LinearLayout</li>\n<li>RelativeLayout</li>\n<li>ConstraintLayout</li>\n</ul>\n\n<p>Depending on your what you need you got to choose.</p>\n\n<ul>\n<li>FrameLayout order his child like a Stack of Views in the same way you\nare declaring in the xml.</li>\n<li>LinearLayout arranges other views either horizontally in a single\ncolumn or vertically in a single row.</li>\n<li>RelativeLayout has references between childs to order.</li>\n<li>ConstraintLayout has \"constraints\" to order his childs, it is like\nRelativeLayout but most powerful.</li>\n</ul>\n\n<p>In your implementation you have a \"programmatically\" implementation, maybe if you try to use the xml will be more simple.</p>\n"}],"owner":{"account_id":16419093,"reputation":949,"user_id":11860800,"display_name":"Grinnex."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683556829,"creation_date":1581957327,"question_id":60266812,"body_markdown":"**I have successfully add an ImageView to a CUSTOM TOAST VIEW GROUP.**\r\n\r\nRight now that ImageView is horizontally centered in the bottom of the screen. \r\n\r\nWhat I wish to do is to constraint this widget to the top of the screen and later put it some top margins. However I can&#39;t find the methods name that allows this to happen? Does it even exist? Is there a different solution to this scenario?\r\n\r\n**How do I programmatically constraint this ImageView to the top of the toast view?**\r\n\r\n    public class CustomToast extends android.widget.Toast{\r\n\r\n    public CustomToast(String toast_text, Context toast_context, int toast_status) {\r\n        super(toast_context);\r\n\r\n        // TOAST\r\n        Toast toast = Toast.makeText(toast_context, toast_text, Toast.LENGTH_LONG);\r\n\r\n        // VIEW\r\n        ViewGroup view = (ViewGroup) toast.getView();\r\n\r\n        // BACKGROUND\r\n        view.setBackgroundResource(R.drawable.background_toast);\r\n\r\n        // IMAGE VIEW\r\n        ImageView myImage = new ImageView(toast_context);\r\n        myImage.setImageResource(R.drawable.icon_toast_valid);\r\n        myImage.setMaxWidth(200);\r\n        myImage.setMaxHeight(200);\r\n        myImage.setScaleType(ImageView.ScaleType.CENTER_INSIDE);\r\n        myImage.setAdjustViewBounds(true);\r\n\r\n        view.addView(myImage);\r\n\r\n        // SHOW\r\n        toast.show();\r\n    }\r\n}\r\n\r\nI have checked the **android documentation**, some **stackoverflow links** and even tried to find the method through the **Android Studio intelligent code completion**. So far I haven&#39;t been capable of solving this problem... ","title":"Android - Program ImageView Constraints in Custom Toast Class","body":"<p><strong>I have successfully add an ImageView to a CUSTOM TOAST VIEW GROUP.</strong></p>\n\n<p>Right now that ImageView is horizontally centered in the bottom of the screen. </p>\n\n<p>What I wish to do is to constraint this widget to the top of the screen and later put it some top margins. However I can't find the methods name that allows this to happen? Does it even exist? Is there a different solution to this scenario?</p>\n\n<p><strong>How do I programmatically constraint this ImageView to the top of the toast view?</strong></p>\n\n<pre><code>public class CustomToast extends android.widget.Toast{\n\npublic CustomToast(String toast_text, Context toast_context, int toast_status) {\n    super(toast_context);\n\n    // TOAST\n    Toast toast = Toast.makeText(toast_context, toast_text, Toast.LENGTH_LONG);\n\n    // VIEW\n    ViewGroup view = (ViewGroup) toast.getView();\n\n    // BACKGROUND\n    view.setBackgroundResource(R.drawable.background_toast);\n\n    // IMAGE VIEW\n    ImageView myImage = new ImageView(toast_context);\n    myImage.setImageResource(R.drawable.icon_toast_valid);\n    myImage.setMaxWidth(200);\n    myImage.setMaxHeight(200);\n    myImage.setScaleType(ImageView.ScaleType.CENTER_INSIDE);\n    myImage.setAdjustViewBounds(true);\n\n    view.addView(myImage);\n\n    // SHOW\n    toast.show();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have checked the <strong>android documentation</strong>, some <strong>stackoverflow links</strong> and even tried to find the method through the <strong>Android Studio intelligent code completion</strong>. So far I haven't been capable of solving this problem... </p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":2569410,"reputation":545,"user_id":2228525,"display_name":"Nitesh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592341444,"creation_date":1592341444,"answer_id":62417563,"question_id":62417183,"body_markdown":"As per observation, your logger is updated with the last initialization so after `app2.initializeYourLogger()` your object-level `logger` object updated with App2 configuration.\r\n\r\n\r\nYou need to return the logger object from `initializeYourLogger()` and also create separate Logger object.","title":"Log4j2 logs are not directing to correct log file","body":"<p>As per observation, your logger is updated with the last initialization so after <code>app2.initializeYourLogger()</code> your object-level <code>logger</code> object updated with App2 configuration.</p>\n\n<p>You need to return the logger object from <code>initializeYourLogger()</code> and also create separate Logger object.</p>\n"},{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592426429,"creation_date":1592426429,"answer_id":62438007,"question_id":62417183,"body_markdown":"Actually, I am quite sure your Logger is being updated correctly. The problem is that both application instances are going to use the same Logging configuration. \r\n\r\nIf you look at [Log4j&#39;s architecture][1] you will see that the Loggers and the configuration are anchored in the LoggerContext. By default, Log4j uses the ClassLoaderContextSelector, which means that every ClassLoader can have its own LoggerContext. Your sample application only has a single ClassLoader and so will only have a single LoggerContext and, therefore, only a single Configuration.\r\n\r\nSo when you reconfigured the second time you simply replaced the prior configuration with the new one. Since the root logger is handling all log events it will route the events from both Loggers you have created to the file created in the second configuration.\r\n\r\nIf you want logs to end up in two different files then create a configuration with both files and figure out a way to route them to the correct file, either via logger names or filters.\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/architecture.html","title":"Log4j2 logs are not directing to correct log file","body":"<p>Actually, I am quite sure your Logger is being updated correctly. The problem is that both application instances are going to use the same Logging configuration. </p>\n\n<p>If you look at <a href=\"http://logging.apache.org/log4j/2.x/manual/architecture.html\" rel=\"nofollow noreferrer\">Log4j's architecture</a> you will see that the Loggers and the configuration are anchored in the LoggerContext. By default, Log4j uses the ClassLoaderContextSelector, which means that every ClassLoader can have its own LoggerContext. Your sample application only has a single ClassLoader and so will only have a single LoggerContext and, therefore, only a single Configuration.</p>\n\n<p>So when you reconfigured the second time you simply replaced the prior configuration with the new one. Since the root logger is handling all log events it will route the events from both Loggers you have created to the file created in the second configuration.</p>\n\n<p>If you want logs to end up in two different files then create a configuration with both files and figure out a way to route them to the correct file, either via logger names or filters.</p>\n"}],"owner":{"account_id":5257613,"reputation":1,"user_id":4200054,"display_name":"Niro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683556760,"creation_date":1592339883,"question_id":62417183,"body_markdown":"I am facing an issue with configuring log4j2 logs programmatically. \r\n\r\nPlease see the below code, I am creating 2 objects of the class App3, and I want to create 2 debug log files(a log file per App3 object), thereafter each object should be able to log to corresponding log file.\r\n\r\nBut my code is logging all the logs to the second log file after 2nd log is created. Can someone help on this.\r\n\r\nOutput of the program\r\n\r\n**file Name: app3_logger1.log_debug.log**\r\n\r\n    2020-06-16 16:19:31,100 DEBUG app3_logger1.log [main] Hello from Log4j 2app3_logger1\r\n\r\n**file Name: app3_logger2.log_debug.log**\r\n\r\n    2020-06-16 16:19:31,211 DEBUG app3_logger2.log [main] Hello from Log4j 2app3_logger2\r\n    2020-06-16 16:19:31,216 DEBUG app3_logger2.log [main] Hello from Log4j 2app3_logger2\r\n    2020-06-16 16:19:31,216 DEBUG app3_logger1.log [main] Hello from Log4j 2app3_logger1\r\n    2020-06-16 16:19:31,216 DEBUG app3_logger1.log [main] Hello from Log4j 2app3_logger1\r\n    2020-06-16 16:19:31,217 DEBUG app3_logger2.log [main] Hello from Log4j 2app3_logger2\r\n\r\n\r\nJava Class - you just need to add log4j2 dependencies to compile\r\n\r\n    public class App3 {\r\n\r\n\tpublic Logger logger;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApp3 app1 = new App3();\r\n\t\tapp1.initializeYourLogger(&quot;app3_logger1.log&quot;, &quot;%d %p %c [%t] %m%n&quot;);\r\n\t\tapp1.testProg(&quot;app3_logger1&quot;);\r\n\t\tApp3 app2 = new App3();\r\n\t\tapp2.initializeYourLogger(&quot;app3_logger2.log&quot;, &quot;%d %p %c [%t] %m%n&quot;);\r\n\t\tapp2.testProg(&quot;app3_logger2&quot;);\r\n\r\n\t\tapp2.testProg(&quot;app3_logger2&quot;);\r\n\t\tapp1.testProg(&quot;app3_logger1&quot;);\r\n\t\tapp1.testProg(&quot;app3_logger1&quot;);\r\n\t\tapp2.testProg(&quot;app3_logger2&quot;);\r\n\r\n\t}\r\n\r\n\tpublic void testProg(String s) {\r\n\t\tlogger.debug(&quot;Hello from Log4j 2&quot; + s);\r\n\t}\r\n\r\n\tpublic void initializeYourLogger(String fileName, String pattern) {\r\n\t\tthis.logger = LogManager.getLogger(fileName);\r\n\t\tConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\r\n\r\n\t\tbuilder.setStatusLevel(Level.DEBUG);\r\n\t\tbuilder.setConfigurationName(fileName);\r\n\r\n\t\tAppenderComponentBuilder componentBuilder = builder.newAppender(&quot;log&quot;, &quot;File&quot;);\r\n\t\tcomponentBuilder.add(builder.newLayout(&quot;PatternLayout&quot;).addAttribute(&quot;pattern&quot;, pattern));\r\n\t\tRootLoggerComponentBuilder rootLogger = builder.newRootLogger(Level.DEBUG);\r\n\r\n\t\tLayoutComponentBuilder layoutBuilder = builder.newLayout(&quot;PatternLayout&quot;).addAttribute(&quot;pattern&quot;, pattern);\r\n\t\tComponentBuilder triggeringPolicy = builder.newComponent(&quot;Policies&quot;)\r\n\t\t\t\t.addComponent(builder.newComponent(&quot;SizeBasedTriggeringPolicy&quot;).addAttribute(&quot;size&quot;, &quot;10MB&quot;));\r\n\r\n\t\tcomponentBuilder = builder.newAppender(&quot;LogToRollingErrorFile&quot;, &quot;RollingFile&quot;)\r\n\t\t\t\t.add(builder.newFilter(&quot;ThresholdFilter&quot;, Filter.Result.ACCEPT, Filter.Result.DENY)\r\n\t\t\t\t\t\t.addAttribute(&quot;level&quot;, Level.ERROR))\r\n\t\t\t\t.addAttribute(&quot;fileName&quot;, fileName + &quot;_error.log&quot;)\r\n\t\t\t\t.addAttribute(&quot;filePattern&quot;, fileName + &quot;-%d{MM-dd-yy-HH-mm-ss}_error.log&quot;).add(layoutBuilder)\r\n\t\t\t\t.addComponent(triggeringPolicy);\r\n\t\tbuilder.add(componentBuilder);\r\n\r\n\t\tcomponentBuilder = builder.newAppender(&quot;LogToRollingDebugFile&quot;, &quot;RollingFile&quot;)\r\n\t\t\t\t.add(builder.newFilter(&quot;ThresholdFilter&quot;, Filter.Result.ACCEPT, Filter.Result.DENY)\r\n\t\t\t\t\t\t.addAttribute(&quot;level&quot;, Level.DEBUG))\r\n\t\t\t\t.addAttribute(&quot;fileName&quot;, fileName + &quot;_debug.log&quot;)\r\n\t\t\t\t.addAttribute(&quot;filePattern&quot;, fileName + &quot;-%d{MM-dd-yy-HH-mm-ss}_debug.log&quot;).add(layoutBuilder)\r\n\t\t\t\t.addComponent(triggeringPolicy);\r\n\t\tbuilder.add(componentBuilder);\r\n\r\n\t\tAppenderRefComponentBuilder rollingError = rootLogger.getBuilder().newAppenderRef(&quot;LogToRollingErrorFile&quot;);\r\n\t\tAppenderRefComponentBuilder rollingDebug = rootLogger.getBuilder().newAppenderRef(&quot;LogToRollingDebugFile&quot;);\r\n\t\trootLogger.add(rollingError);\r\n\t\trootLogger.add(rollingDebug);\r\n\t\tbuilder.add(rootLogger);\r\n\t\tConfigurator.reconfigure(builder.build());\r\n\t}\r\n}\r\n\r\n\r\nThis is exactly what I want to do in log4j older version, I am still struggling with log4j2,\r\n\r\n        private void initLogger(String serviceName, String instance) throws IOException {\r\n    \tString loggerName = serviceName+&quot;_&quot;+instance;\r\n    \tthis.logger = Logger.getLogger(loggerName);\r\n    \tthis.logger.removeAllAppenders();\r\n    \t\r\n\t\tPatternLayout layout = new PatternLayout();\r\n\t\tlayout.setConversionPattern(&quot;%d: %m%n&quot;);\r\n\t\t\r\n\t\tString loggingFolder = this.properties.getLoggingFolder();\r\n\t\tString debugFileName = loggingFolder+&quot;/&quot;+loggerName+&quot;_debug.log&quot;;\r\n\t\tString errorFileName = loggingFolder+&quot;/&quot;+loggerName+&quot;_error.log&quot;;\r\n\t\t\r\n\t\tRollingFileAppender debugAppender = new RollingFileAppender(layout, debugFileName, true);\r\n\t\tdebugAppender.setThreshold(Level.DEBUG);\r\n\t\tdebugAppender.setMaxFileSize(&quot;10000000&quot;);\r\n\t\tdebugAppender.setMaxBackupIndex(49);\r\n\t\tlogger.addAppender(debugAppender);\r\n\t\t\r\n\t\tRollingFileAppender errorAppender = new RollingFileAppender(layout, errorFileName, true);\r\n\t\terrorAppender.setThreshold(Level.ERROR);\r\n\t\terrorAppender.setMaxFileSize(&quot;10000000&quot;);\r\n\t\terrorAppender.setMaxBackupIndex(49);\r\n\t\tlogger.addAppender(debugAppender);\r\n    }","title":"Log4j2 logs are not directing to correct log file","body":"<p>I am facing an issue with configuring log4j2 logs programmatically. </p>\n\n<p>Please see the below code, I am creating 2 objects of the class App3, and I want to create 2 debug log files(a log file per App3 object), thereafter each object should be able to log to corresponding log file.</p>\n\n<p>But my code is logging all the logs to the second log file after 2nd log is created. Can someone help on this.</p>\n\n<p>Output of the program</p>\n\n<p><strong>file Name: app3_logger1.log_debug.log</strong></p>\n\n<pre><code>2020-06-16 16:19:31,100 DEBUG app3_logger1.log [main] Hello from Log4j 2app3_logger1\n</code></pre>\n\n<p><strong>file Name: app3_logger2.log_debug.log</strong></p>\n\n<pre><code>2020-06-16 16:19:31,211 DEBUG app3_logger2.log [main] Hello from Log4j 2app3_logger2\n2020-06-16 16:19:31,216 DEBUG app3_logger2.log [main] Hello from Log4j 2app3_logger2\n2020-06-16 16:19:31,216 DEBUG app3_logger1.log [main] Hello from Log4j 2app3_logger1\n2020-06-16 16:19:31,216 DEBUG app3_logger1.log [main] Hello from Log4j 2app3_logger1\n2020-06-16 16:19:31,217 DEBUG app3_logger2.log [main] Hello from Log4j 2app3_logger2\n</code></pre>\n\n<p>Java Class - you just need to add log4j2 dependencies to compile</p>\n\n<pre><code>public class App3 {\n\npublic Logger logger;\n\npublic static void main(String[] args) {\n    App3 app1 = new App3();\n    app1.initializeYourLogger(\"app3_logger1.log\", \"%d %p %c [%t] %m%n\");\n    app1.testProg(\"app3_logger1\");\n    App3 app2 = new App3();\n    app2.initializeYourLogger(\"app3_logger2.log\", \"%d %p %c [%t] %m%n\");\n    app2.testProg(\"app3_logger2\");\n\n    app2.testProg(\"app3_logger2\");\n    app1.testProg(\"app3_logger1\");\n    app1.testProg(\"app3_logger1\");\n    app2.testProg(\"app3_logger2\");\n\n}\n\npublic void testProg(String s) {\n    logger.debug(\"Hello from Log4j 2\" + s);\n}\n\npublic void initializeYourLogger(String fileName, String pattern) {\n    this.logger = LogManager.getLogger(fileName);\n    ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = ConfigurationBuilderFactory.newConfigurationBuilder();\n\n    builder.setStatusLevel(Level.DEBUG);\n    builder.setConfigurationName(fileName);\n\n    AppenderComponentBuilder componentBuilder = builder.newAppender(\"log\", \"File\");\n    componentBuilder.add(builder.newLayout(\"PatternLayout\").addAttribute(\"pattern\", pattern));\n    RootLoggerComponentBuilder rootLogger = builder.newRootLogger(Level.DEBUG);\n\n    LayoutComponentBuilder layoutBuilder = builder.newLayout(\"PatternLayout\").addAttribute(\"pattern\", pattern);\n    ComponentBuilder triggeringPolicy = builder.newComponent(\"Policies\")\n            .addComponent(builder.newComponent(\"SizeBasedTriggeringPolicy\").addAttribute(\"size\", \"10MB\"));\n\n    componentBuilder = builder.newAppender(\"LogToRollingErrorFile\", \"RollingFile\")\n            .add(builder.newFilter(\"ThresholdFilter\", Filter.Result.ACCEPT, Filter.Result.DENY)\n                    .addAttribute(\"level\", Level.ERROR))\n            .addAttribute(\"fileName\", fileName + \"_error.log\")\n            .addAttribute(\"filePattern\", fileName + \"-%d{MM-dd-yy-HH-mm-ss}_error.log\").add(layoutBuilder)\n            .addComponent(triggeringPolicy);\n    builder.add(componentBuilder);\n\n    componentBuilder = builder.newAppender(\"LogToRollingDebugFile\", \"RollingFile\")\n            .add(builder.newFilter(\"ThresholdFilter\", Filter.Result.ACCEPT, Filter.Result.DENY)\n                    .addAttribute(\"level\", Level.DEBUG))\n            .addAttribute(\"fileName\", fileName + \"_debug.log\")\n            .addAttribute(\"filePattern\", fileName + \"-%d{MM-dd-yy-HH-mm-ss}_debug.log\").add(layoutBuilder)\n            .addComponent(triggeringPolicy);\n    builder.add(componentBuilder);\n\n    AppenderRefComponentBuilder rollingError = rootLogger.getBuilder().newAppenderRef(\"LogToRollingErrorFile\");\n    AppenderRefComponentBuilder rollingDebug = rootLogger.getBuilder().newAppenderRef(\"LogToRollingDebugFile\");\n    rootLogger.add(rollingError);\n    rootLogger.add(rollingDebug);\n    builder.add(rootLogger);\n    Configurator.reconfigure(builder.build());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is exactly what I want to do in log4j older version, I am still struggling with log4j2,</p>\n\n<pre><code>    private void initLogger(String serviceName, String instance) throws IOException {\n    String loggerName = serviceName+\"_\"+instance;\n    this.logger = Logger.getLogger(loggerName);\n    this.logger.removeAllAppenders();\n\n    PatternLayout layout = new PatternLayout();\n    layout.setConversionPattern(\"%d: %m%n\");\n\n    String loggingFolder = this.properties.getLoggingFolder();\n    String debugFileName = loggingFolder+\"/\"+loggerName+\"_debug.log\";\n    String errorFileName = loggingFolder+\"/\"+loggerName+\"_error.log\";\n\n    RollingFileAppender debugAppender = new RollingFileAppender(layout, debugFileName, true);\n    debugAppender.setThreshold(Level.DEBUG);\n    debugAppender.setMaxFileSize(\"10000000\");\n    debugAppender.setMaxBackupIndex(49);\n    logger.addAppender(debugAppender);\n\n    RollingFileAppender errorAppender = new RollingFileAppender(layout, errorFileName, true);\n    errorAppender.setThreshold(Level.ERROR);\n    errorAppender.setMaxFileSize(\"10000000\");\n    errorAppender.setMaxBackupIndex(49);\n    logger.addAppender(debugAppender);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683556126,"creation_date":1683556126,"answer_id":76201560,"question_id":76180711,"body_markdown":"Working code:\r\n\r\nSecurityConfig:\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableMethodSecurity\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            return new CustomUserDetailService();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            httpSecurity\r\n                    .csrf(a -&gt; a.disable())\r\n                    .authorizeHttpRequests((auth) -&gt; auth\r\n                            .requestMatchers( &quot;/user&quot;)\r\n                            .permitAll()\r\n                            .requestMatchers(&quot;/books/**&quot;)\r\n                            .authenticated())\r\n                    .httpBasic(Customizer.withDefaults());\r\n    \r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService());\r\n            authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            return authenticationProvider;\r\n        }\r\n    }\r\n\r\n\r\n\r\nService layer:\r\n\r\n    @Service\r\n    public class CustomUserDetailService implements UserDetailsService {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        PasswordEncoder encoder;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            Optional&lt;User&gt; user = userRepository.findByUsername(username);\r\n            user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Not found: &quot; + username));\r\n            return user.map(MyUserDetails::new).get();\r\n        }\r\n    \r\n        public String addUser(User user){\r\n            user.setPassword(encoder.encode(user.getPassword()));\r\n            userRepository.save(user);\r\n            return &quot;User saved&quot;;\r\n        }\r\n    }\r\n\r\nRepository layer:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n        Optional&lt;User&gt; findByUsername(String username);\r\n    }\r\n\r\nUserDetials:\r\n\r\n    public class MyUserDetails implements UserDetails {\r\n        private String username;\r\n        private String password;\r\n        private boolean active;\r\n        private List&lt;GrantedAuthority&gt; authorities;\r\n    \r\n        public MyUserDetails(User user) {\r\n            username = user.getUsername();\r\n            password = user.getPassword();\r\n            active = user.isEnabled();\r\n            authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\r\n                    .map(role -&gt; new SimpleGrantedAuthority(role))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return authorities;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return active;\r\n        }\r\n    }\r\n\r\n\r\n\r\nUser class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String username;\r\n        private String password;\r\n        private String roles;\r\n        private boolean enabled;\r\n    }\r\n\r\n","title":"SpringBoot 2.7 SecurityfilterChain why ignore UserDetailsService?","body":"<p>Working code:</p>\n<p>SecurityConfig:</p>\n<pre><code>@Configuration\n@EnableMethodSecurity\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new CustomUserDetailService();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        httpSecurity\n                .csrf(a -&gt; a.disable())\n                .authorizeHttpRequests((auth) -&gt; auth\n                        .requestMatchers( &quot;/user&quot;)\n                        .permitAll()\n                        .requestMatchers(&quot;/books/**&quot;)\n                        .authenticated())\n                .httpBasic(Customizer.withDefaults());\n\n        return httpSecurity.build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>Service layer:</p>\n<pre><code>@Service\npublic class CustomUserDetailService implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    PasswordEncoder encoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findByUsername(username);\n        user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Not found: &quot; + username));\n        return user.map(MyUserDetails::new).get();\n    }\n\n    public String addUser(User user){\n        user.setPassword(encoder.encode(user.getPassword()));\n        userRepository.save(user);\n        return &quot;User saved&quot;;\n    }\n}\n</code></pre>\n<p>Repository layer:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n}\n</code></pre>\n<p>UserDetials:</p>\n<pre><code>public class MyUserDetails implements UserDetails {\n    private String username;\n    private String password;\n    private boolean active;\n    private List&lt;GrantedAuthority&gt; authorities;\n\n    public MyUserDetails(User user) {\n        username = user.getUsername();\n        password = user.getPassword();\n        active = user.isEnabled();\n        authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\n                .map(role -&gt; new SimpleGrantedAuthority(role))\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return active;\n    }\n}\n</code></pre>\n<p>User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;User&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String username;\n    private String password;\n    private String roles;\n    private boolean enabled;\n}\n</code></pre>\n"}],"owner":{"account_id":24069247,"reputation":5,"user_id":18045381,"display_name":"cocoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683556126,"creation_date":1683278759,"question_id":76180711,"body_markdown":"```\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n\t    @Autowired UserDetailsService userDetailsService;\r\n\r\n \t    @Bean\r\n\t    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        \thttp.authorizeRequests()\r\n\t\t        .antMatchers( &quot;/**&quot; ).permitAll()\r\n\t\t        .anyRequest().authenticated()\r\n\t\t        .and().csrf().disable()\r\n\t\t        .httpBasic().and().userDetailsService( userDetailsService );\r\n\t\t    return http.build();\r\n\t    }\r\n\r\n\t    @Bean\r\n\t    public PasswordEncoder passwordEncoder() {\r\n\t\t    return new BCryptPasswordEncoder();\r\n\t    }\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n\tprivate static final Logger            logger = LoggerFactory.getLogger( UserDetailsServiceImpl.class );\r\n\r\n\t@Autowired private DBService db;\r\n\t@Autowired private PasswordEncoder passwordEncoder;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\r\n\t\tif( username.equals( &quot; &quot; ) || username.isEmpty() ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tint ret = db.checkUser( username );\r\n\t\t\r\n        if( ret == 0 ) throw new UsernameNotFoundException( &quot;Invalid user&quot; );\r\n\r\n\t\tList&lt;GrantedAuthority&gt; authList = new ArrayList&lt;&gt;( 2 );\r\n\t\tauthList.add( new SimpleGrantedAuthority( &quot;ROLE_USER&quot; ) );\r\n\r\n\t\treturn new User( username, passwordEncoder.encode( username ), true, true, true, true, authList );\r\n\t}\r\n}\r\n```\r\n\r\nI am a beginner in springboot.\r\nI&#39;m trying to create an api server with a simple get, post function.\r\n\r\n&gt; Hypertext Transfer Protocol\r\n&gt;        GET /getcontens/1 HTTP/1.1\r\n&gt;        Accept: */*\r\n&gt;        Host: localhost:8080\r\n&gt;        Cookie: JSESSIONID=12pfvmq3rsac410tojukfkvlip\r\n&gt;        Authorization: Basic ODQ1OTY6ODQ1OTY=\r\n&gt;            Credentials: id:password\r\n\r\nThe request uses http basic authentication as above\r\n\r\nI disabled csrf to avoid 401 response due to csrf protection during post.\r\n\r\nThe problem is that if you create a securityFilterChain to disable csrf\r\n\r\nThe loadUserbyUsername function of UserDetilsService implemented in UserDetailsServiceImpl is not called.\r\n\r\nI&#39;ve been googling for the past week and I&#39;ve noticed that this is my problem not meeting the right csrf conditions\r\n\r\nCurrently, csrf is not available\r\n\r\nTo sum up the situation\r\n\r\n1. Disable csrf\r\n2. using loadUserByUsername\r\n\r\nI&#39;m asking for advice on the right path to do it\r\n\r\nThank you in advance.","title":"SpringBoot 2.7 SecurityfilterChain why ignore UserDetailsService?","body":"<pre><code>    @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig {\n\n        @Autowired UserDetailsService userDetailsService;\n\n        @Bean\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n            http.authorizeRequests()\n                .antMatchers( &quot;/**&quot; ).permitAll()\n                .anyRequest().authenticated()\n                .and().csrf().disable()\n                .httpBasic().and().userDetailsService( userDetailsService );\n            return http.build();\n        }\n\n        @Bean\n        public PasswordEncoder passwordEncoder() {\n            return new BCryptPasswordEncoder();\n        }\n    }\n</code></pre>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    private static final Logger            logger = LoggerFactory.getLogger( UserDetailsServiceImpl.class );\n\n    @Autowired private DBService db;\n    @Autowired private PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n        if( username.equals( &quot; &quot; ) || username.isEmpty() ) {\n            return null;\n        }\n\n        int ret = db.checkUser( username );\n        \n        if( ret == 0 ) throw new UsernameNotFoundException( &quot;Invalid user&quot; );\n\n        List&lt;GrantedAuthority&gt; authList = new ArrayList&lt;&gt;( 2 );\n        authList.add( new SimpleGrantedAuthority( &quot;ROLE_USER&quot; ) );\n\n        return new User( username, passwordEncoder.encode( username ), true, true, true, true, authList );\n    }\n}\n</code></pre>\n<p>I am a beginner in springboot.\nI'm trying to create an api server with a simple get, post function.</p>\n<blockquote>\n<p>Hypertext Transfer Protocol\nGET /getcontens/1 HTTP/1.1\nAccept: <em>/</em>\nHost: localhost:8080\nCookie: JSESSIONID=12pfvmq3rsac410tojukfkvlip\nAuthorization: Basic ODQ1OTY6ODQ1OTY=\nCredentials: id:password</p>\n</blockquote>\n<p>The request uses http basic authentication as above</p>\n<p>I disabled csrf to avoid 401 response due to csrf protection during post.</p>\n<p>The problem is that if you create a securityFilterChain to disable csrf</p>\n<p>The loadUserbyUsername function of UserDetilsService implemented in UserDetailsServiceImpl is not called.</p>\n<p>I've been googling for the past week and I've noticed that this is my problem not meeting the right csrf conditions</p>\n<p>Currently, csrf is not available</p>\n<p>To sum up the situation</p>\n<ol>\n<li>Disable csrf</li>\n<li>using loadUserByUsername</li>\n</ol>\n<p>I'm asking for advice on the right path to do it</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1391624121,"post_id":21576628,"comment_id":32607533,"body_markdown":"I don&#39;t get it - is the function module exposing two structures or isn&#39;t it?","body":"I don&#39;t get it - is the function module exposing two structures or isn&#39;t it?"},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391667351,"post_id":21576628,"comment_id":32625528,"body_markdown":"Hi I am new to JCO SAP . I want to create entries in a SAP table.","body":"Hi I am new to JCO SAP . I want to create entries in a SAP table."},{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391677152,"post_id":21576628,"comment_id":32629995,"body_markdown":"You said what you wanted to do, but not what was the problem. What did you try ? what is the problem with the filling of those structs...","body":"You said what you wanted to do, but not what was the problem. What did you try ? what is the problem with the filling of those structs..."},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391680042,"post_id":21576628,"comment_id":32631726,"body_markdown":"@PATRY Hi patry, equip exter number comes from one structure and corresponding equip desc i need to pass in another strucuture. but how to create the mapping that this number belongs to this description was my question. But now the problem is solved as my developer created it under same structure. plz also look this and help me.  http://stackoverflow.com/questions/21598989/sap-jco-creating-a-record-in-sap-using-java .. thank you","body":"@PATRY Hi patry, equip exter number comes from one structure and corresponding equip desc i need to pass in another strucuture. but how to create the mapping that this number belongs to this description was my question. But now the problem is solved as my developer created it under same structure. plz also look this and help me.  <a href=\"http://stackoverflow.com/questions/21598989/sap-jco-creating-a-record-in-sap-using-java\" title=\"sap jco creating a record in sap using java\">stackoverflow.com/questions/21598989/&hellip;</a> .. thank you"},{"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"score":0,"creation_date":1520254208,"post_id":21576628,"comment_id":85226792,"body_markdown":"I also don&#39;t get it... If you want to use two structures, then just do it! What is the problem??","body":"I also don&#39;t get it... If you want to use two structures, then just do it! What is the problem??"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683556102,"creation_date":1391601507,"question_id":21576628,"body_markdown":"I had searched forum and got this below link \r\n\r\nhttp://www.apentia-forum.de/viewtopic.php?t=1962 \r\n\r\nbut here my problem is we have to pass two structures because data I want create in SAP system fall under two structures.\r\n\r\nCan anybody suggest me how can we use two structures? Or is there anything needs to be done in SAP side?\r\n\r\nHere is my code snippet:\r\n\r\n      public void createEquipment() throws JCoException{\r\n         \r\n         JCoFunction function = destinations.getRepository().getFunction(&quot;ZBAPI_EQUI_CREATE&quot;);\r\n     \r\n        if (function == null) {\r\n            throw new RuntimeException(&quot; ZBAPI_EQUI_CREATE does not exist&quot;);\r\n        }\r\n        \r\n        else{\r\n            System.out.println(&quot;BAPI  CODE -- ZBAPI_EQUI_CREATE -- EXISTS&quot;);\r\n        }\r\n       \r\n       //JCoTable eqptable=function.getTableParameterList().getTable(&quot;EUIP_EXTER_NUMBER&quot;);\r\n        JCoParameterList importparams =function.getImportParameterList();\r\n        JCoStructure eqptable1= importparams.getStructure(&quot;EUIP_EXTER_NUMBER&quot;);\r\n        //JCoStructure eqptable2= importparams.getStructure(&quot;DATA_GENERAL&quot;);\r\n\r\n\r\n       eqptable1.setValue(&quot;EQUIPMENT&quot;, 5600784);\r\n        //eqptable2.setValue(&quot;EQIPDESCR&quot;, &quot;Testing Interface Eqp&quot;);\r\n        function.execute(destinations);\r\n          \r\n         }","title":"How to use two structures in JCo for creation of data in SAP system","body":"<p>I had searched forum and got this below link</p>\n<p><a href=\"http://www.apentia-forum.de/viewtopic.php?t=1962\" rel=\"nofollow noreferrer\">http://www.apentia-forum.de/viewtopic.php?t=1962</a></p>\n<p>but here my problem is we have to pass two structures because data I want create in SAP system fall under two structures.</p>\n<p>Can anybody suggest me how can we use two structures? Or is there anything needs to be done in SAP side?</p>\n<p>Here is my code snippet:</p>\n<pre><code>  public void createEquipment() throws JCoException{\n     \n     JCoFunction function = destinations.getRepository().getFunction(&quot;ZBAPI_EQUI_CREATE&quot;);\n \n    if (function == null) {\n        throw new RuntimeException(&quot; ZBAPI_EQUI_CREATE does not exist&quot;);\n    }\n    \n    else{\n        System.out.println(&quot;BAPI  CODE -- ZBAPI_EQUI_CREATE -- EXISTS&quot;);\n    }\n   \n   //JCoTable eqptable=function.getTableParameterList().getTable(&quot;EUIP_EXTER_NUMBER&quot;);\n    JCoParameterList importparams =function.getImportParameterList();\n    JCoStructure eqptable1= importparams.getStructure(&quot;EUIP_EXTER_NUMBER&quot;);\n    //JCoStructure eqptable2= importparams.getStructure(&quot;DATA_GENERAL&quot;);\n\n\n   eqptable1.setValue(&quot;EQUIPMENT&quot;, 5600784);\n    //eqptable2.setValue(&quot;EQIPDESCR&quot;, &quot;Testing Interface Eqp&quot;);\n    function.execute(destinations);\n      \n     }\n</code></pre>\n"},{"tags":["java","android-studio","appium-android"],"owner":{"account_id":7704244,"reputation":17,"user_id":5846250,"display_name":"puneeth chidura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683556038,"creation_date":1683556038,"question_id":76201547,"body_markdown":"I am trying to create a new Android virtual device in Android Studio and seeing the error as **&quot;An error occurred while creating the AVD. See idea.log for details.&quot;**\r\n\r\nwhen I open the idea.log it is as it is in the image.\r\nin addition to the one which is there in the image there are also other exceptions as listed below\r\n\r\n```\r\n    1) java.lang.reflect.InvocationTargetException\r\n    2) java.net.SocketTimeoutException: connect timed out\r\n    3)java.lang.NoClassDefFoundError: Could not initialize class com.sun.jna.Native\r\n    C:\\Users\\w159chpu\\AppData\\Local\\Google\\AndroidStudio2022.1\\tmp\\jna8592839284912440723.dll: Access is denied\r\n``` \r\n    \r\n[1]: https://i.stack.imgur.com/frdPq.png\r\n    \r\nCan someone please help me resolve this?","title":"how do i resolve An error occurred while creating the AVD. See idea.log for details","body":"<p>I am trying to create a new Android virtual device in Android Studio and seeing the error as <strong>&quot;An error occurred while creating the AVD. See idea.log for details.&quot;</strong></p>\n<p>when I open the idea.log it is as it is in the image.\nin addition to the one which is there in the image there are also other exceptions as listed below</p>\n<pre><code>    1) java.lang.reflect.InvocationTargetException\n    2) java.net.SocketTimeoutException: connect timed out\n    3)java.lang.NoClassDefFoundError: Could not initialize class com.sun.jna.Native\n    C:\\Users\\w159chpu\\AppData\\Local\\Google\\AndroidStudio2022.1\\tmp\\jna8592839284912440723.dll: Access is denied\n</code></pre>\n<p>Can someone please help me resolve this?</p>\n"},{"tags":["java","postgresql","spring-boot","cron","database-migration"],"comments":[{"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"score":0,"creation_date":1683556143,"post_id":76201288,"comment_id":134380625,"body_markdown":"May be ApplicationRunner/CommandLineRunner?","body":"May be ApplicationRunner/CommandLineRunner?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683555422,"creation_date":1683555422,"answer_id":76201469,"question_id":76201288,"body_markdown":"Use a [database migration][1] tool such as [*Flyway*][2] or [*Liquibase*][3] to manage [SQL][4] scripts and, optionally, executable code. \r\n\r\nThe tool tracks which scripts have been run. From that history the tool determines which scripts still need to be run, and then automatically runs them. \r\n\r\nYou asked:\r\n\r\n&gt;How this problem is called?\r\n\r\n[*Database refactoring*][5].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Schema_migration\r\n  [2]: https://en.wikipedia.org/wiki/Flyway_(software)\r\n  [3]: https://en.wikipedia.org/wiki/Liquibase\r\n  [4]: https://en.wikipedia.org/wiki/SQL\r\n  [5]: https://en.wikipedia.org/wiki/Database_refactoring","title":"What are the best practices for one time production updating database (data migration) from microservice (without manual action)?","body":"<p>Use a <a href=\"https://en.wikipedia.org/wiki/Schema_migration\" rel=\"nofollow noreferrer\">database migration</a> tool such as <a href=\"https://en.wikipedia.org/wiki/Flyway_(software)\" rel=\"nofollow noreferrer\"><em>Flyway</em></a> or <a href=\"https://en.wikipedia.org/wiki/Liquibase\" rel=\"nofollow noreferrer\"><em>Liquibase</em></a> to manage <a href=\"https://en.wikipedia.org/wiki/SQL\" rel=\"nofollow noreferrer\">SQL</a> scripts and, optionally, executable code.</p>\n<p>The tool tracks which scripts have been run. From that history the tool determines which scripts still need to be run, and then automatically runs them.</p>\n<p>You asked:</p>\n<blockquote>\n<p>How this problem is called?</p>\n</blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/Database_refactoring\" rel=\"nofollow noreferrer\"><em>Database refactoring</em></a>.</p>\n"}],"owner":{"account_id":9772576,"reputation":77,"user_id":7374236,"display_name":"Lilia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683572756,"answer_count":1,"score":1,"last_activity_date":1683556037,"creation_date":1683554112,"question_id":76201288,"body_markdown":"Context : I added a new field to the database and now want to fill it with data.\r\nI need to it once for entities, that were created before this change (now the value of this new field is null, obviously). - data migration as I used to call it.\r\n\r\nI use : Java11, SpringBoot3, Postgres.\r\n\r\nThe question are : \r\n\r\n 1. what are **the best practices** to do it without manual action? / what are **the best practices** of running data migration task?\r\n 2. How this problem is called? Most of the time data migration is used in context transferring data from one db into other.\r\n\r\nWhat came to my mind : cron task ( but we need to set specific time to run this task)\r\n\r\nUpdate : \r\n\r\nThe value, that I should insert is unknown - I should somehow calculate it ( i should run some business logic, interact with other ms, and so on)\r\n\r\n","title":"What are the best practices for one time production updating database (data migration) from microservice (without manual action)?","body":"<p>Context : I added a new field to the database and now want to fill it with data.\nI need to it once for entities, that were created before this change (now the value of this new field is null, obviously). - data migration as I used to call it.</p>\n<p>I use : Java11, SpringBoot3, Postgres.</p>\n<p>The question are :</p>\n<ol>\n<li>what are <strong>the best practices</strong> to do it without manual action? / what are <strong>the best practices</strong> of running data migration task?</li>\n<li>How this problem is called? Most of the time data migration is used in context transferring data from one db into other.</li>\n</ol>\n<p>What came to my mind : cron task ( but we need to set specific time to run this task)</p>\n<p>Update :</p>\n<p>The value, that I should insert is unknown - I should somehow calculate it ( i should run some business logic, interact with other ms, and so on)</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-integration","spring-cloud"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683554967,"post_id":76201293,"comment_id":134380363,"body_markdown":"`&gt;on sendData&#39;s topic.` What is that? `sendData` is just a simple channel in that configuration - do you have other consumers on it? If so, messages will be distributed to its subscribers in round robin fashion.","body":"<code>&gt;on sendData&#39;s topic.</code> What is that? <code>sendData</code> is just a simple channel in that configuration - do you have other consumers on it? If so, messages will be distributed to its subscribers in round robin fashion."},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683555582,"post_id":76201293,"comment_id":134380515,"body_markdown":"@GaryRussell Since I am routing messages to a different channel, so whenever I do sendData.send() it should publish to test-topic. But since there&#39;s a router I expected the message to be routed to a different channel based on what the router returns. Since the router is hardcoded to return &quot;sendDataA&quot;, I expected all messages sent using sendData.send() channel to be routed to &quot;sendDataA&quot; channel i.e., published to test-topic-1. But the message is still published on test-topic.","body":"@GaryRussell Since I am routing messages to a different channel, so whenever I do sendData.send() it should publish to test-topic. But since there&#39;s a router I expected the message to be routed to a different channel based on what the router returns. Since the router is hardcoded to return &quot;sendDataA&quot;, I expected all messages sent using sendData.send() channel to be routed to &quot;sendDataA&quot; channel i.e., published to test-topic-1. But the message is still published on test-topic."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683557160,"post_id":76201293,"comment_id":134380847,"body_markdown":"That is not a surprise: you have a `sendData` binding configuration. So, whenever you call `sendData.send()` the message may land on the topic or on the mentioned router. The `DirectChannel` comes with a round-robin dispatching strategy by default. See Gary&#39;s answer.","body":"That is not a surprise: you have a <code>sendData</code> binding configuration. So, whenever you call <code>sendData.send()</code> the message may land on the topic or on the mentioned router. The <code>DirectChannel</code> comes with a round-robin dispatching strategy by default. See Gary&#39;s answer."},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683560524,"post_id":76201293,"comment_id":134381652,"body_markdown":"@ArtemBilan wow, I wasn&#39;t aware that the Direct channel comes with a round-robin dispatching strategy. How can I always send it to the router?","body":"@ArtemBilan wow, I wasn&#39;t aware that the Direct channel comes with a round-robin dispatching strategy. How can I always send it to the router?"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683562080,"post_id":76201293,"comment_id":134381973,"body_markdown":"Why do you provide then binding for that `sendData`? See more info in docs about `DirectChannel`: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel","body":"Why do you provide then binding for that <code>sendData</code>? See more info in docs about <code>DirectChannel</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations-directchannel\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1683610128,"post_id":76201293,"comment_id":134388722,"body_markdown":"The binding is the topic where I want to publish the message. But, we plan to run some tests where the message should be published on a different topic. So, I am trying to see how to reroute a message to be published on one channel to instead publish on a different channel through the router.","body":"The binding is the topic where I want to publish the message. But, we plan to run some tests where the message should be published on a different topic. So, I am trying to see how to reroute a message to be published on one channel to instead publish on a different channel through the router."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683555985,"creation_date":1683555985,"answer_id":76201542,"question_id":76201293,"body_markdown":"With that configuration, you have two subscribers, the binding and the router.\r\n\r\nThe first message will (probably) go to the binding, the second will go to the router, the third to the binding, etc.\r\n\r\nIf you want it to go to both places, change `sendData` to a `publishSubscribe` channel.","title":"Routing a kafka message to be published on a different channel spring boot","body":"<p>With that configuration, you have two subscribers, the binding and the router.</p>\n<p>The first message will (probably) go to the binding, the second will go to the router, the third to the binding, etc.</p>\n<p>If you want it to go to both places, change <code>sendData</code> to a <code>publishSubscribe</code> channel.</p>\n"}],"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683555985,"creation_date":1683554136,"question_id":76201293,"body_markdown":"I have three outbound channels &quot;sendData&quot;, &quot;sendDataA&quot;, &quot;sendDataB&quot; pointing to three topics test-topic, test-topic-1, test-topic-2 respectively. I wanted to know if its possible route messages on channel sendData to either sendDataA or sendDataB? Basically when sendData.send() method is called, I want the message to be published on the topic corresponding to sendDataA(test-topic-1) or sendDataB(test-topic-2).\r\n\r\nHere&#39;s what I tried:\r\n\r\n```\r\n@Configuration\r\npublic class OutboundChannels {\r\n\r\n    @Autowired\r\n    private RoundRobinRouter roundRobinRouter;\r\n\r\n    @Bean\r\n    public IntegrationFlow routeRoundRobin() {\r\n        return IntegrationFlows.from(getSendData())\r\n                .route(roundRobinRouter, &quot;route&quot;,\r\n                        r -&gt; r.channelMapping(&quot;sendDataA&quot;,\r\n                                        &quot;sendDataA&quot;)\r\n                                .channelMapping(&quot;sendDataB&quot;,\r\n                                        &quot;sendDataB&quot;))\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = &quot;sendData&quot;)\r\n    public MessageChannel getSendData() {\r\n        return MessageChannels.direct()\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = &quot;sendDataA&quot;)\r\n    public MessageChannel getSendDataA() {\r\n        return MessageChannels.direct()\r\n                .get();\r\n    }\r\n\r\n    @Bean(name = &quot;sendDataB&quot;)\r\n    public MessageChannel getSendDataB() {\r\n        return MessageChannels.direct()\r\n                .get();\r\n    }\r\n}\r\n```\r\nThe round robin class(currently there&#39;s no logic here it always returns sendDataA):\r\n```\r\n@Component\r\nclass RoundRobinRouter {\r\n    public String route(Object payload) {\r\n        return &quot;sendDataA&quot;;\r\n    }\r\n}\r\n```\r\n\r\ntopic binding in application.yml:\r\n```\r\n    stream:\r\n      bindings:\r\n        sendData:\r\n          destination: test-topic\r\n          binder: kafka\r\n        sendDataOne:\r\n          destination: test-topic-1\r\n          binder: kafka\r\n        sendDataTwo:\r\n          destination: test-topic-2\r\n          binder: kafka\r\n```\r\nHowever, this isn&#39;t working. The message is not routed to sendDataA but instead published on sendData&#39;s topic.\r\n\r\nAny pointers on a fix for my approach or any other approach to achieve the same is appreciated.","title":"Routing a kafka message to be published on a different channel spring boot","body":"<p>I have three outbound channels &quot;sendData&quot;, &quot;sendDataA&quot;, &quot;sendDataB&quot; pointing to three topics test-topic, test-topic-1, test-topic-2 respectively. I wanted to know if its possible route messages on channel sendData to either sendDataA or sendDataB? Basically when sendData.send() method is called, I want the message to be published on the topic corresponding to sendDataA(test-topic-1) or sendDataB(test-topic-2).</p>\n<p>Here's what I tried:</p>\n<pre><code>@Configuration\npublic class OutboundChannels {\n\n    @Autowired\n    private RoundRobinRouter roundRobinRouter;\n\n    @Bean\n    public IntegrationFlow routeRoundRobin() {\n        return IntegrationFlows.from(getSendData())\n                .route(roundRobinRouter, &quot;route&quot;,\n                        r -&gt; r.channelMapping(&quot;sendDataA&quot;,\n                                        &quot;sendDataA&quot;)\n                                .channelMapping(&quot;sendDataB&quot;,\n                                        &quot;sendDataB&quot;))\n                .get();\n    }\n\n    @Bean(name = &quot;sendData&quot;)\n    public MessageChannel getSendData() {\n        return MessageChannels.direct()\n                .get();\n    }\n\n    @Bean(name = &quot;sendDataA&quot;)\n    public MessageChannel getSendDataA() {\n        return MessageChannels.direct()\n                .get();\n    }\n\n    @Bean(name = &quot;sendDataB&quot;)\n    public MessageChannel getSendDataB() {\n        return MessageChannels.direct()\n                .get();\n    }\n}\n</code></pre>\n<p>The round robin class(currently there's no logic here it always returns sendDataA):</p>\n<pre><code>@Component\nclass RoundRobinRouter {\n    public String route(Object payload) {\n        return &quot;sendDataA&quot;;\n    }\n}\n</code></pre>\n<p>topic binding in application.yml:</p>\n<pre><code>    stream:\n      bindings:\n        sendData:\n          destination: test-topic\n          binder: kafka\n        sendDataOne:\n          destination: test-topic-1\n          binder: kafka\n        sendDataTwo:\n          destination: test-topic-2\n          binder: kafka\n</code></pre>\n<p>However, this isn't working. The message is not routed to sendDataA but instead published on sendData's topic.</p>\n<p>Any pointers on a fix for my approach or any other approach to achieve the same is appreciated.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391680681,"post_id":21598989,"comment_id":32632135,"body_markdown":"you&#39;ve got an abap dump. You&#39;ll have to look into transaction st22 on the abap backendto get the line in the function module, as well as the line","body":"you&#39;ve got an abap dump. You&#39;ll have to look into transaction st22 on the abap backendto get the line in the function module, as well as the line"},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391691649,"post_id":21598989,"comment_id":32639128,"body_markdown":"now we can  create data in SAP .But still showing dump error in java console as well as in SAP.thank you , we did what u have told...now we are looking at how to rectify this problem.can u give any suggestions.","body":"now we can  create data in SAP .But still showing dump error in java console as well as in SAP.thank you , we did what u have told...now we are looking at how to rectify this problem.can u give any suggestions."},{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391693938,"post_id":21598989,"comment_id":32640696,"body_markdown":"we may help, but we would need at least some info. the code of the funcytion, line causing the dump (from st22) and kind of error...","body":"we may help, but we would need at least some info. the code of the funcytion, line causing the dump (from st22) and kind of error..."},{"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"score":0,"creation_date":1391747800,"post_id":21598989,"comment_id":32667790,"body_markdown":"JCoFunction function = destinations.getRepository().getFunction(&quot;xxx_xxx_xxxx&quot;);","body":"JCoFunction function = destinations.getRepository().getFunction(&quot;xxx_xxx_xxxx&quot;);"},{"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"score":0,"creation_date":1391989640,"post_id":21598989,"comment_id":32750304,"body_markdown":"i meant the abap function. the problem is on the abap side, not on the java side.","body":"i meant the abap function. the problem is on the abap side, not on the java side."}],"answers":[{"tags":[],"owner":{"account_id":8767058,"reputation":41,"user_id":6555074,"display_name":"Klaus Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467792460,"creation_date":1467792460,"answer_id":38219110,"question_id":21598989,"body_markdown":"Since there is a short dump, we need to check the transaction code [ST22][1] to check the exact error for the issue. Then we can adjust the calling code according to the dump details.\r\n\r\n\r\n  [1]: https://www.sapdatasheet.org/abap/tran/st22.html","title":"SAP JCo creating a record in SAP system using Java","body":"<p>Since there is a short dump, we need to check the transaction code <a href=\"https://www.sapdatasheet.org/abap/tran/st22.html\" rel=\"nofollow\">ST22</a> to check the exact error for the issue. Then we can adjust the calling code according to the dump details.</p>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683555969,"creation_date":1391679612,"question_id":21598989,"body_markdown":"I am trying to create an entry in SAP system with the functions and structures I got from ABAP.\r\nI was referring to this link\r\nhttps://stackoverflow.com/questions/8534602/creating-purchase-info-record-in-sap\r\n\r\nThe same problem happens to me. I could not see the record. When we are checking ERRORS as suggested by the above post.... We got this error..\r\n\r\n\r\n&gt; RFC_ERROR_SYSTEM_FAILURE: THE CURRENT APPLICATION TRIGGERED A\r\n&gt; TERMINATION WITH A SHORT DUMP.\r\n\r\n","title":"SAP JCo creating a record in SAP system using Java","body":"<p>I am trying to create an entry in SAP system with the functions and structures I got from ABAP.\nI was referring to this link\n<a href=\"https://stackoverflow.com/questions/8534602/creating-purchase-info-record-in-sap\">Creating Purchase Info Record in SAP</a></p>\n<p>The same problem happens to me. I could not see the record. When we are checking ERRORS as suggested by the above post.... We got this error..</p>\n<blockquote>\n<p>RFC_ERROR_SYSTEM_FAILURE: THE CURRENT APPLICATION TRIGGERED A\nTERMINATION WITH A SHORT DUMP.</p>\n</blockquote>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404477719,"creation_date":1404477719,"answer_id":24574617,"question_id":21621017,"body_markdown":"Try adding the property to your windows &quot;System variables&quot;/&quot;Environment variables&quot;.\r\n\r\nVariable Name: java.library.path\r\nVariable Value: C:/SAPJCo\r\n\r\nThis will work for Eclise.\r\n\r\nGood Luck!!","title":"SAP Jar not getting recognized in Eclipse","body":"<p>Try adding the property to your windows \"System variables\"/\"Environment variables\".</p>\n\n<p>Variable Name: java.library.path\nVariable Value: C:/SAPJCo</p>\n\n<p>This will work for Eclise.</p>\n\n<p>Good Luck!!</p>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683555900,"creation_date":1391755417,"question_id":21621017,"body_markdown":"My java program which I created could not recognize `SAPJCO3.jar` which is already in the system class path and included in eclipse/project with buildpath option available in Eclipse.\r\n\r\n**ERROR MESSAGE** \r\n&gt; java.lang.ClassNotFoundException: No ClassLoaders found for: com.sap.conn.jco.AbapException\r\n&gt;\r\n&gt; Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/sap/conn/jco/AbapException\r\n\r\nIf I just remove `AbapException`  from my program and give normal Java exception , it throws error on the next JCo class. The same program works good in NETBEANS which I used for testing. Since my actual project was developed in Eclipse I need the program to run in Eclipse.\r\nCan any one help me with this. ","title":"SAP Jar not getting recognized in Eclipse","body":"<p>My java program which I created could not recognize <code>SAPJCO3.jar</code> which is already in the system class path and included in eclipse/project with buildpath option available in Eclipse.</p>\n<p><strong>ERROR MESSAGE</strong></p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: No ClassLoaders found for: com.sap.conn.jco.AbapException</p>\n<p>Caused by: java.lang.RuntimeException: java.lang.NoClassDefFoundError: com/sap/conn/jco/AbapException</p>\n</blockquote>\n<p>If I just remove <code>AbapException</code>  from my program and give normal Java exception , it throws error on the next JCo class. The same program works good in NETBEANS which I used for testing. Since my actual project was developed in Eclipse I need the program to run in Eclipse.\nCan any one help me with this.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":1741536,"reputation":1569,"user_id":1592796,"accept_rate":92,"display_name":"devrys"},"score":0,"creation_date":1392882654,"post_id":21695049,"comment_id":33167693,"body_markdown":"I have answered to one of your posts, maybe this works for you, too: http://stackoverflow.com/a/21901220/1592796","body":"I have answered to one of your posts, maybe this works for you, too: <a href=\"http://stackoverflow.com/a/21901220/1592796\">stackoverflow.com/a/21901220/1592796</a>"}],"answers":[{"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1392104886,"creation_date":1392104886,"answer_id":21695993,"question_id":21695049,"body_markdown":"SAP JCo is a proprietary closed-source library. Unless you work for SAP, you won&#39;t get the source files - and you&#39;re not allowed to include the source or binary form of JCo anyway.","title":"SAP JCo3 source files","body":"<p>SAP JCo is a proprietary closed-source library. Unless you work for SAP, you won't get the source files - and you're not allowed to include the source or binary form of JCo anyway.</p>\n"}],"owner":{"account_id":3921507,"reputation":89,"user_id":3243489,"accept_rate":50,"display_name":"bhat"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1392108534,"accepted_answer_id":21695993,"answer_count":1,"score":-1,"last_activity_date":1683555833,"creation_date":1392101432,"question_id":21695049,"body_markdown":"In my previous post I have mentioned that my `sapjco3.jar` is not getting recognized in Eclipse. I tried various suggestions. But nothing works in Eclipse. \r\n\r\nSo I am thinking of getting the SAP JCo3 source files and including it in my project along with my code.\r\n\r\nSo can any one tell me, is it available anywhere. \r\n\r\nThanks","title":"SAP JCo3 source files","body":"<p>In my previous post I have mentioned that my <code>sapjco3.jar</code> is not getting recognized in Eclipse. I tried various suggestions. But nothing works in Eclipse.</p>\n<p>So I am thinking of getting the SAP JCo3 source files and including it in my project along with my code.</p>\n<p>So can any one tell me, is it available anywhere.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-arrayadapter"],"comments":[{"owner":{"account_id":9325217,"reputation":356,"user_id":6922752,"display_name":"Gregor Rant"},"score":0,"creation_date":1626171507,"post_id":68360459,"comment_id":120816111,"body_markdown":"Does this answer your question? [android how to set arrayAdapter layout that prepared programmatically](https://stackoverflow.com/questions/15518662/android-how-to-set-arrayadapter-layout-that-prepared-programmatically)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15518662/android-how-to-set-arrayadapter-layout-that-prepared-programmatically\">android how to set arrayAdapter layout that prepared programmatically</a>"},{"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"score":0,"creation_date":1626185117,"post_id":68360459,"comment_id":120821854,"body_markdown":"No , it don&#39;t @GregorRant","body":"No , it don&#39;t @GregorRant"}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626174752,"creation_date":1626174444,"answer_id":68361259,"question_id":68360459,"body_markdown":"I did not quite get the question, hope this helps:\r\n\r\n**How to get the view id**\r\n\r\nIf you programatically created a view and want to get its id, you need to call this:\r\n\r\n    view.setId(View.generateViewId());\r\n    int id = view.getId();\r\n\r\nSame goes for Layouts (classes that extend `Viewgroup`), because they are views (`ViewGroup` extends `View`).\r\n\r\n**Code example:**\r\n\r\n    layout.setId(View.generateViewId());\r\n    view.setId(View.generateViewId());\r\n    ArrayAdapter&lt;?&gt; adapter = new ArrayAdapter(this, layout.getId(), view.getId());\r\n\r\n**How to apply an ArrayAdapter**\r\n\r\nEvery object that extends `AbsListView` has a `setAdapter()`-Method, in that you can pass an ArrayAdapter.","title":"How to apply ArrayAdapter parameters as programatically made layout?","body":"<p>I did not quite get the question, hope this helps:</p>\n<p><strong>How to get the view id</strong></p>\n<p>If you programatically created a view and want to get its id, you need to call this:</p>\n<pre><code>view.setId(View.generateViewId());\nint id = view.getId();\n</code></pre>\n<p>Same goes for Layouts (classes that extend <code>Viewgroup</code>), because they are views (<code>ViewGroup</code> extends <code>View</code>).</p>\n<p><strong>Code example:</strong></p>\n<pre><code>layout.setId(View.generateViewId());\nview.setId(View.generateViewId());\nArrayAdapter&lt;?&gt; adapter = new ArrayAdapter(this, layout.getId(), view.getId());\n</code></pre>\n<p><strong>How to apply an ArrayAdapter</strong></p>\n<p>Every object that extends <code>AbsListView</code> has a <code>setAdapter()</code>-Method, in that you can pass an ArrayAdapter.</p>\n"}],"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68361259,"answer_count":1,"score":0,"last_activity_date":1683555430,"creation_date":1626171177,"question_id":68360459,"body_markdown":"For ArrayAdapter,\r\n\r\n    ArrayAdapter &lt;String&gt; arrayAdapter = new ArrayAdapter(Context , resId , viewId , String[]) \r\n\r\nWe need to have resId and viewId but how can i use Custom programmatically made Android Views ??\r\nIs there any way so that i can apply programatically made layouts in this ArrayAdapter ??\r\n","title":"How to apply ArrayAdapter parameters as programatically made layout?","body":"<p>For ArrayAdapter,</p>\n<pre><code>ArrayAdapter &lt;String&gt; arrayAdapter = new ArrayAdapter(Context , resId , viewId , String[]) \n</code></pre>\n<p>We need to have resId and viewId but how can i use Custom programmatically made Android Views ??\nIs there any way so that i can apply programatically made layouts in this ArrayAdapter ??</p>\n"},{"tags":["java","android","button","height","padding"],"answers":[{"tags":[],"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1413400939,"creation_date":1413400939,"answer_id":26390446,"question_id":26390303,"body_markdown":"I think you should try using setPadding(0,0,0,0); instead and see if that works for you.\r\n\r\nAs far as minHeight vs minimumHeight goes, minHeight is the XML attribute name you can use in a layout file.  setMinimumHeight is the corresponding View API method to do the same thing.","title":"Android : overriding Button minheight programmatically","body":"<p>I think you should try using setPadding(0,0,0,0); instead and see if that works for you.</p>\n\n<p>As far as minHeight vs minimumHeight goes, minHeight is the XML attribute name you can use in a layout file.  setMinimumHeight is the corresponding View API method to do the same thing.</p>\n"},{"tags":[],"owner":{"account_id":382438,"reputation":4611,"user_id":737655,"accept_rate":94,"display_name":"Flot2011"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1524842477,"creation_date":1483819507,"answer_id":41525925,"question_id":26390303,"body_markdown":"Just calling \r\n\r\n    btn.setMinHeight(0);\r\n\r\nor\r\n\r\n    btn.setMinimumHeight(0);\r\n\r\ndidn&#39;t work for me.\r\n\r\nIt worked when I called both methods, like that:\r\n\r\n    btn.setMinHeight(0);\r\n    btn.setMinimumHeight(0);\r\nChecked and rechecked, it&#39;s definitely the case, as weird as it looks.\r\n\r\nButton was created programmatically, no XML, but it was a part of a custom numeric control that does have an XML description.\r\n\r\nEDIT:\r\n\r\nsetMinHeight is defined by TextView, while setMinimumHeight is defined by View. According to the docs, the greater of the two values is used, so both must be set. minHeight attribute in XML corresponds to the setMinimumHeight method.\r\nThanks to@David Liu for this clarification.","title":"Android : overriding Button minheight programmatically","body":"<p>Just calling </p>\n\n<pre><code>btn.setMinHeight(0);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>btn.setMinimumHeight(0);\n</code></pre>\n\n<p>didn't work for me.</p>\n\n<p>It worked when I called both methods, like that:</p>\n\n<pre><code>btn.setMinHeight(0);\nbtn.setMinimumHeight(0);\n</code></pre>\n\n<p>Checked and rechecked, it's definitely the case, as weird as it looks.</p>\n\n<p>Button was created programmatically, no XML, but it was a part of a custom numeric control that does have an XML description.</p>\n\n<p>EDIT:</p>\n\n<p>setMinHeight is defined by TextView, while setMinimumHeight is defined by View. According to the docs, the greater of the two values is used, so both must be set. minHeight attribute in XML corresponds to the setMinimumHeight method.\nThanks to@David Liu for this clarification.</p>\n"},{"tags":[],"owner":{"account_id":8743571,"reputation":4199,"user_id":7194773,"accept_rate":83,"display_name":"Lewis Kelsey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683555423,"creation_date":1683555423,"answer_id":76201470,"question_id":26390303,"body_markdown":"The solution for me was\r\n            \r\n```\r\nandroid:insetTop=&quot;0dp&quot;\r\nandroid:insetBottom=&quot;0dp&quot;\r\n````\r\n\r\nin the button XML","title":"Android : overriding Button minheight programmatically","body":"<p>The solution for me was</p>\n<pre><code>android:insetTop=&quot;0dp&quot;\nandroid:insetBottom=&quot;0dp&quot;\n</code></pre>\n<p>in the button XML</p>\n"}],"owner":{"account_id":4815894,"reputation":7928,"user_id":3888000,"accept_rate":57,"display_name":"Dan Chaltiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4935,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26390446,"answer_count":3,"score":4,"last_activity_date":1683555423,"creation_date":1413400469,"question_id":26390303,"body_markdown":"Searching how to reduce the padding inside my buttons, I found out in https://stackoverflow.com/a/20323723/3888000 that I should set the min-height of my button to 0dp in the xml file.\r\nAnd yes, it works for me.\r\n\r\nProblem is : I want to create my button programmatically, and neither setMinimumHeight(1) nor setMinHeight(1) did work.\r\nHow to do it ?\r\n\r\nBy the way, what is the difference between these two methods ?\r\n\r\nThank you !","title":"Android : overriding Button minheight programmatically","body":"<p>Searching how to reduce the padding inside my buttons, I found out in <a href=\"https://stackoverflow.com/a/20323723/3888000\">https://stackoverflow.com/a/20323723/3888000</a> that I should set the min-height of my button to 0dp in the xml file.\nAnd yes, it works for me.</p>\n\n<p>Problem is : I want to create my button programmatically, and neither setMinimumHeight(1) nor setMinHeight(1) did work.\nHow to do it ?</p>\n\n<p>By the way, what is the difference between these two methods ?</p>\n\n<p>Thank you !</p>\n"},{"tags":["java","android","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":11341228,"reputation":61,"user_id":8315245,"display_name":"Arun Gohil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683554732,"creation_date":1683554732,"answer_id":76201368,"question_id":76201213,"body_markdown":"It looks like the case where your id is different while creating and cancelling the alarm.\r\n\r\n    PendingIntent pendingIntent =\r\n        PendingIntent.getBroadcast(\r\n                context,\r\n                id, // should be same for both, creating and cancelling\r\n                intent,\r\n                PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\r\n\r\nThe id value should be same in both cases.\r\nHope it helps.","title":"Android AlarmManager cancel not works","body":"<p>It looks like the case where your id is different while creating and cancelling the alarm.</p>\n<pre><code>PendingIntent pendingIntent =\n    PendingIntent.getBroadcast(\n            context,\n            id, // should be same for both, creating and cancelling\n            intent,\n            PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n<p>The id value should be same in both cases.\nHope it helps.</p>\n"}],"owner":{"account_id":28547003,"reputation":3,"user_id":21852320,"display_name":"hegelty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76201368,"answer_count":1,"score":0,"last_activity_date":1683554732,"creation_date":1683553466,"question_id":76201213,"body_markdown":"I&#39;ve created an alarm manager and it works well, but i cannot cancel it. I created a intent in same code as used in create alarm manager and cancel alarm but dosent works. An alarm is sitll working very well...\r\n\r\n\r\nCreate Alarm\r\n\r\n\r\n    Intent intent = new Intent(context, AlarmReciver.class);\r\n    intent.putExtra(&quot;alarm&quot;, id);\r\n    intent.putExtra(&quot;h&quot;, h);\r\n    intent.putExtra(&quot;m&quot;, m);\r\n    intent.putExtra(&quot;sound&quot;, sound);\r\n    intent.putExtra(&quot;vibration&quot;, vibration);\r\n    intent.putExtra(&quot;name&quot;, name);\r\n    intent.putExtra(&quot;problem_type&quot;, problem_type);\r\n\r\n    PendingIntent pendingIntent =\r\n            PendingIntent.getBroadcast(\r\n                    context,\r\n                    id,\r\n                    intent,\r\n                    PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n    alarmManager.setExactAndAllowWhileIdle(\r\n            AlarmManager.RTC_WAKEUP,\r\n            calendar.getTimeInMillis(),\r\n            pendingIntent\r\n    );\r\n\r\nCancel alarm\r\n\r\n    Intent intent = new Intent(context, AlarmReciver.class);\r\n    Alarm alarm = getAlarm(id);\r\n    intent.putExtra(&quot;alarm&quot;, id);\r\n    intent.putExtra(&quot;h&quot;, alarm.h);\r\n    intent.putExtra(&quot;m&quot;, alarm.m);\r\n    intent.putExtra(&quot;sound&quot;, alarm.sound);\r\n    intent.putExtra(&quot;vibration&quot;, alarm.vibration);\r\n    intent.putExtra(&quot;name&quot;, alarm.name);\r\n    intent.putExtra(&quot;problem_type&quot;, alarm.problem_type);\r\n\r\n    PendingIntent pendingIntent = //     \r\n            PendingIntent.getBroadcast(\r\n                    context,\r\n                    id,\r\n                    intent,\r\n                    PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n    alarmManager.cancel(pendingIntent);","title":"Android AlarmManager cancel not works","body":"<p>I've created an alarm manager and it works well, but i cannot cancel it. I created a intent in same code as used in create alarm manager and cancel alarm but dosent works. An alarm is sitll working very well...</p>\n<p>Create Alarm</p>\n<pre><code>Intent intent = new Intent(context, AlarmReciver.class);\nintent.putExtra(&quot;alarm&quot;, id);\nintent.putExtra(&quot;h&quot;, h);\nintent.putExtra(&quot;m&quot;, m);\nintent.putExtra(&quot;sound&quot;, sound);\nintent.putExtra(&quot;vibration&quot;, vibration);\nintent.putExtra(&quot;name&quot;, name);\nintent.putExtra(&quot;problem_type&quot;, problem_type);\n\nPendingIntent pendingIntent =\n        PendingIntent.getBroadcast(\n                context,\n                id,\n                intent,\n                PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n\nAlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\nalarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        calendar.getTimeInMillis(),\n        pendingIntent\n);\n</code></pre>\n<p>Cancel alarm</p>\n<pre><code>Intent intent = new Intent(context, AlarmReciver.class);\nAlarm alarm = getAlarm(id);\nintent.putExtra(&quot;alarm&quot;, id);\nintent.putExtra(&quot;h&quot;, alarm.h);\nintent.putExtra(&quot;m&quot;, alarm.m);\nintent.putExtra(&quot;sound&quot;, alarm.sound);\nintent.putExtra(&quot;vibration&quot;, alarm.vibration);\nintent.putExtra(&quot;name&quot;, alarm.name);\nintent.putExtra(&quot;problem_type&quot;, alarm.problem_type);\n\nPendingIntent pendingIntent = //     \n        PendingIntent.getBroadcast(\n                context,\n                id,\n                intent,\n                PendingIntent.FLAG_NO_CREATE | PendingIntent.FLAG_IMMUTABLE);\n\nAlarmManager alarmManager = (AlarmManager) context.getSystemService(ALARM_SERVICE);\nalarmManager.cancel(pendingIntent);\n</code></pre>\n"},{"tags":["java","spring-boot","configuration","application.properties"],"comments":[{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1683552204,"post_id":76200871,"comment_id":134379737,"body_markdown":"maybe take a look at this stackoverflow post: https://stackoverflow.com/questions/32058814/spring-boot-custom-variables-in-application-properties","body":"maybe take a look at this stackoverflow post: <a href=\"https://stackoverflow.com/questions/32058814/spring-boot-custom-variables-in-application-properties\" title=\"spring boot custom variables in application properties\">stackoverflow.com/questions/32058814/&hellip;</a>"}],"owner":{"account_id":328801,"reputation":2083,"user_id":651955,"accept_rate":60,"display_name":"llasarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683554463,"creation_date":1683550950,"question_id":76200871,"body_markdown":"I&#39;m intending to write an executable JAR file (from command line) that will be run on scheduled base. After every run, some data needs to be stored in a file and evaluated in the next run (last run timestamp and some other values).\r\n\r\nI was planing to store that values in application.properties since some other configuration data is already stored there.\r\nBut after doing some research I&#39;m getting the impression that the purpose of application.properties is to provide configuration values in read-only fasion.\r\n\r\nSo is it possible to update the application.propoerties file during runtime by the executable itself or should I use another approach?\r\n\r\n","title":"Spring Boot executable JAR: Write into application.properties","body":"<p>I'm intending to write an executable JAR file (from command line) that will be run on scheduled base. After every run, some data needs to be stored in a file and evaluated in the next run (last run timestamp and some other values).</p>\n<p>I was planing to store that values in application.properties since some other configuration data is already stored there.\nBut after doing some research I'm getting the impression that the purpose of application.properties is to provide configuration values in read-only fasion.</p>\n<p>So is it possible to update the application.propoerties file during runtime by the executable itself or should I use another approach?</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1683492103,"post_id":76185688,"comment_id":134371510,"body_markdown":"here are some approaches how to reload beans in general, maybe this helps. https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean","body":"here are some approaches how to reload beans in general, maybe this helps. <a href=\"https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\" title=\"how to reinitialize a spring bean\">stackoverflow.com/questions/51218086/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683554422,"creation_date":1683554422,"answer_id":76201341,"question_id":76185688,"body_markdown":"According to your current configuration, only what you need to reload is a configuration for SFTP servers. So, you need to refresh only `sessionFactoryLocator` and `RotatingServerAdvice` beans. \r\n\r\nAccording to the `org.springframework.cloud.context.scope.refresh.RefreshScope`, we need to have standard lifecycle callback on a bean for a proper refreshment. The `DefaultSessionFactoryLocator` doesn&#39;t have one to clean up its internal `Map`, so we probably need to catch a `RefreshScopeRefreshedEvent` and call `DefaultSessionFactoryLocator.removeSessionFactory()` for a clear state. However if you would just use simple keys for factory entries, then standard `@RefreshScope`  would be enough: the `DefaultSessionFactoryLocator` would be reinitialized and its internal map would be just overridden for the same key, but new values. Not sure why you decided to go some complex `SessionFactoryKey` abstraction based on a connection info. \r\n\r\nThe `RotatingServerAdvice` does not need any extra work: just `@RefreshScope` should be enough. That `RotatingServerAdvice(DelegatingSessionFactory&lt;?&gt; factory, List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories)` constructor overrides all the instance internals.","title":"Reconfigure Spring Integration beans at runtime","body":"<p>According to your current configuration, only what you need to reload is a configuration for SFTP servers. So, you need to refresh only <code>sessionFactoryLocator</code> and <code>RotatingServerAdvice</code> beans.</p>\n<p>According to the <code>org.springframework.cloud.context.scope.refresh.RefreshScope</code>, we need to have standard lifecycle callback on a bean for a proper refreshment. The <code>DefaultSessionFactoryLocator</code> doesn't have one to clean up its internal <code>Map</code>, so we probably need to catch a <code>RefreshScopeRefreshedEvent</code> and call <code>DefaultSessionFactoryLocator.removeSessionFactory()</code> for a clear state. However if you would just use simple keys for factory entries, then standard <code>@RefreshScope</code>  would be enough: the <code>DefaultSessionFactoryLocator</code> would be reinitialized and its internal map would be just overridden for the same key, but new values. Not sure why you decided to go some complex <code>SessionFactoryKey</code> abstraction based on a connection info.</p>\n<p>The <code>RotatingServerAdvice</code> does not need any extra work: just <code>@RefreshScope</code> should be enough. That <code>RotatingServerAdvice(DelegatingSessionFactory&lt;?&gt; factory, List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories)</code> constructor overrides all the instance internals.</p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76201341,"answer_count":1,"score":0,"last_activity_date":1683554422,"creation_date":1683317937,"question_id":76185688,"body_markdown":"I have this configuration:\r\n\r\n    @Configuration\r\n    @EnableIntegration\r\n    public class SftpConfiguration {\r\n    \r\n    \t@Autowired\r\n    \tprivate InterfaceRepository interfaceRepo;\r\n    \r\n    \tpublic record SessionFactoryKey(String host, int port, String user) {\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tSessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator() {\r\n    \r\n    \t\tMap&lt;Object, SessionFactory&lt;LsEntry&gt;&gt; factories = interfaceRepo.findAll().stream()\r\n    \t\t\t\t.map(x -&gt; new SimpleEntry&lt;&gt;(new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\r\n    \t\t\t\t\t\tsessionFactory(x.getHostname(), x.getPort(), x.getUsername(), x.getPassword())))\r\n    \t\t\t\t.collect(Collectors.toMap(Entry::getKey, Entry::getValue, (a, b) -&gt; a));\r\n    \r\n    \t\treturn new DefaultSessionFactoryLocator&lt;&gt;(factories);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRemoteFileTemplate&lt;LsEntry&gt; fileTemplateResolver(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\r\n    \t\treturn new SftpRemoteFileTemplate(delegatingSessionFactory);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tDelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory(SessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator) {\r\n    \t\treturn new DelegatingSessionFactory&lt;&gt;(sessionFactoryLocator);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRotatingServerAdvice advice(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\r\n    \r\n    \t\tList&lt;RotationPolicy.KeyDirectory&gt; keyDirectories = interfaceRepo.findAll().stream()\r\n    \t\t\t\t.filter(Interface::isReceivingData)\r\n    \t\t\t\t.map(x -&gt; new RotationPolicy.KeyDirectory(\r\n    \t\t\t\t\t\tnew SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\r\n    \t\t\t\t\t\tx.getDirectory()))\r\n    \t\t\t\t.toList();\r\n    \r\n    \t\treturn keyDirectories.isEmpty() ? null : new RotatingServerAdvice(delegatingSessionFactory, keyDirectories);\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tPropertiesPersistingMetadataStore store() {\r\n    \t\treturn new PropertiesPersistingMetadataStore();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic IntegrationFlow flow(ObjectProvider&lt;RotatingServerAdvice&gt; adviceProvider,\r\n    \t\t\tDelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory, PropertiesPersistingMetadataStore store) {\r\n    \t\t\r\n    \t\tRotatingServerAdvice advice = adviceProvider.getIfAvailable();\r\n    \r\n    \t\treturn advice == null ? null\r\n    \t\t\t\t: IntegrationFlows\r\n    \t\t\t\t\t\t.from(Sftp.inboundAdapter(delegatingSessionFactory)\r\n    \t\t\t\t\t\t\t\t.filter(new SftpPersistentAcceptOnceFileListFilter(store, &quot;rotate_&quot;))\r\n    \t\t\t\t\t\t\t\t.localDirectory(new File(&quot;C:\\\\tmp\\\\sftp&quot;))\r\n    \t\t\t\t\t\t\t\t.localFilenameExpression(&quot;#remoteDirectory + T(java.io.File).separator + #root&quot;)\r\n    \t\t\t\t\t\t\t\t.remoteDirectory(&quot;.&quot;), e -&gt; e.poller(Pollers.fixedDelay(1).advice(advice)))\r\n    \t\t\t\t\t\t.channel(MessageChannels.queue(&quot;files&quot;)).get();\r\n    \t}\r\n    \r\n    \tprivate SessionFactory&lt;LsEntry&gt; sessionFactory(String host, int port, String user, String password) {\r\n    \t\tDefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n    \t\tfactory.setHost(host);\r\n    \t\tfactory.setPort(port);\r\n    \t\tfactory.setUser(user);\r\n    \t\tfactory.setPassword(password);\r\n    \t\tfactory.setAllowUnknownKeys(true);\r\n    \t\treturn factory;\r\n    \t}\r\n    }\r\n\r\nBasically it provides a `RemoteFileTemplate` that allows to upload files via SFTP, and an `IntegrationFlow` that polls a set of SFTP servers to retrieve files. The configuration is loaded via a database.\r\n\r\nI want to reload the beans when the configuration has changed in the database but I can&#39;t figure out how.\r\n\r\nI think the only chance I have to make it work is to use lazy proxies because the client code has already loaded bean instances which cannot be unloaded. That&#39;s why I tried `@RefreshScope` from spring cloud, but it didn&#39;t work because `IntegrationFlow` forbids other scopes than `singleton`.\r\n\r\nIs there any solution other than closing the application context and run `SpringApplication.run` again?","title":"Reconfigure Spring Integration beans at runtime","body":"<p>I have this configuration:</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class SftpConfiguration {\n\n    @Autowired\n    private InterfaceRepository interfaceRepo;\n\n    public record SessionFactoryKey(String host, int port, String user) {\n    }\n\n    @Bean\n    SessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator() {\n\n        Map&lt;Object, SessionFactory&lt;LsEntry&gt;&gt; factories = interfaceRepo.findAll().stream()\n                .map(x -&gt; new SimpleEntry&lt;&gt;(new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\n                        sessionFactory(x.getHostname(), x.getPort(), x.getUsername(), x.getPassword())))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (a, b) -&gt; a));\n\n        return new DefaultSessionFactoryLocator&lt;&gt;(factories);\n    }\n\n    @Bean\n    RemoteFileTemplate&lt;LsEntry&gt; fileTemplateResolver(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\n        return new SftpRemoteFileTemplate(delegatingSessionFactory);\n    }\n\n    @Bean\n    DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory(SessionFactoryLocator&lt;LsEntry&gt; sessionFactoryLocator) {\n        return new DelegatingSessionFactory&lt;&gt;(sessionFactoryLocator);\n    }\n\n    @Bean\n    RotatingServerAdvice advice(DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory) {\n\n        List&lt;RotationPolicy.KeyDirectory&gt; keyDirectories = interfaceRepo.findAll().stream()\n                .filter(Interface::isReceivingData)\n                .map(x -&gt; new RotationPolicy.KeyDirectory(\n                        new SessionFactoryKey(x.getHostname(), x.getPort(), x.getUsername()),\n                        x.getDirectory()))\n                .toList();\n\n        return keyDirectories.isEmpty() ? null : new RotatingServerAdvice(delegatingSessionFactory, keyDirectories);\n\n    }\n\n    @Bean\n    PropertiesPersistingMetadataStore store() {\n        return new PropertiesPersistingMetadataStore();\n    }\n\n    @Bean\n    public IntegrationFlow flow(ObjectProvider&lt;RotatingServerAdvice&gt; adviceProvider,\n            DelegatingSessionFactory&lt;LsEntry&gt; delegatingSessionFactory, PropertiesPersistingMetadataStore store) {\n        \n        RotatingServerAdvice advice = adviceProvider.getIfAvailable();\n\n        return advice == null ? null\n                : IntegrationFlows\n                        .from(Sftp.inboundAdapter(delegatingSessionFactory)\n                                .filter(new SftpPersistentAcceptOnceFileListFilter(store, &quot;rotate_&quot;))\n                                .localDirectory(new File(&quot;C:\\\\tmp\\\\sftp&quot;))\n                                .localFilenameExpression(&quot;#remoteDirectory + T(java.io.File).separator + #root&quot;)\n                                .remoteDirectory(&quot;.&quot;), e -&gt; e.poller(Pollers.fixedDelay(1).advice(advice)))\n                        .channel(MessageChannels.queue(&quot;files&quot;)).get();\n    }\n\n    private SessionFactory&lt;LsEntry&gt; sessionFactory(String host, int port, String user, String password) {\n        DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n        factory.setHost(host);\n        factory.setPort(port);\n        factory.setUser(user);\n        factory.setPassword(password);\n        factory.setAllowUnknownKeys(true);\n        return factory;\n    }\n}\n</code></pre>\n<p>Basically it provides a <code>RemoteFileTemplate</code> that allows to upload files via SFTP, and an <code>IntegrationFlow</code> that polls a set of SFTP servers to retrieve files. The configuration is loaded via a database.</p>\n<p>I want to reload the beans when the configuration has changed in the database but I can't figure out how.</p>\n<p>I think the only chance I have to make it work is to use lazy proxies because the client code has already loaded bean instances which cannot be unloaded. That's why I tried <code>@RefreshScope</code> from spring cloud, but it didn't work because <code>IntegrationFlow</code> forbids other scopes than <code>singleton</code>.</p>\n<p>Is there any solution other than closing the application context and run <code>SpringApplication.run</code> again?</p>\n"},{"tags":["java","jakarta-ee","hibernate-validator"],"comments":[{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1683536046,"post_id":76187602,"comment_id":134376214,"body_markdown":"How do you run your tests? Is there any app server involved that might contain a different jar version? Also, while it might not be related, I&#39;ve noticed that you only have a dependency on the validator in evb-domain. If you are making explicit validator calls in evb-ext-services it&#39;s better to list the dependency there as well.","body":"How do you run your tests? Is there any app server involved that might contain a different jar version? Also, while it might not be related, I&#39;ve noticed that you only have a dependency on the validator in evb-domain. If you are making explicit validator calls in evb-ext-services it&#39;s better to list the dependency there as well."},{"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1683554472,"post_id":76187602,"comment_id":134380253,"body_markdown":"I was able to figure out which dependency caused the error. but now my JPA tests take ages to finish for some reason.. Whereever i call `entityManager.getTransaction().commit()` it takes 20 seconds or so... I suspect the update`hibernate-validator` to be the cause, but cannot explain why.","body":"I was able to figure out which dependency caused the error. but now my JPA tests take ages to finish for some reason.. Whereever i call <code>entityManager.getTransaction().commit()</code> it takes 20 seconds or so... I suspect the update<code>hibernate-validator</code> to be the cause, but cannot explain why."},{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1683559440,"post_id":76187602,"comment_id":134381373,"body_markdown":"Glad you&#39;ve figured out what was the original problem. If you are upgrading to Jakarta 10 I suspect you are also upgrading the ORM alongside the Validator. Try to get an isolated test and enable query logging - see if the amount of queries is +/- the same as before. If so, try to set the property `javax.persistence.validation.mode` to `none` and see how it performs with validation disabled.","body":"Glad you&#39;ve figured out what was the original problem. If you are upgrading to Jakarta 10 I suspect you are also upgrading the ORM alongside the Validator. Try to get an isolated test and enable query logging - see if the amount of queries is +/- the same as before. If so, try to set the property <code>javax.persistence.validation.mode</code> to <code>none</code> and see how it performs with validation disabled."},{"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1683625638,"post_id":76187602,"comment_id":134391704,"body_markdown":"I have enabled eclipselink logging and started a single test where i call `entityManager.getTransaction().begin()` and `entityManager.getTransaction().commit()`. There is just 2 queries in between, so apparently the amount of queries is not the problem. No idea whats the problem here...","body":"I have enabled eclipselink logging and started a single test where i call <code>entityManager.getTransaction().begin()</code> and <code>entityManager.getTransaction().commit()</code>. There is just 2 queries in between, so apparently the amount of queries is not the problem. No idea whats the problem here..."},{"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1683628441,"post_id":76187602,"comment_id":134392403,"body_markdown":"Yeah, I have rolled back the update of `hibernate-validator` and now my tests are running at a reasonable speed again.. I can&#39;t tell why hibernate-validator slows down the `EntityManager` commit so much, but for the time being I will try to stick with `5.4.0.Final`.","body":"Yeah, I have rolled back the update of <code>hibernate-validator</code> and now my tests are running at a reasonable speed again.. I can&#39;t tell why hibernate-validator slows down the <code>EntityManager</code> commit so much, but for the time being I will try to stick with <code>5.4.0.Final</code>."},{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1683632536,"post_id":76187602,"comment_id":134393315,"body_markdown":"It might be related to something like - https://hibernate.atlassian.net/browse/HV-1928. If you are seeing the degraded performance and can create a reproducer and report it here https://hibernate.atlassian.net/browse/HV that would be nice. Reproducer templates can be found here https://github.com/hibernate/hibernate-test-case-templates/","body":"It might be related to something like - <a href=\"https://hibernate.atlassian.net/browse/HV-1928\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HV-1928</a>. If you are seeing the degraded performance and can create a reproducer and report it here <a href=\"https://hibernate.atlassian.net/browse/HV\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HV</a> that would be nice. Reproducer templates can be found here <a href=\"https://github.com/hibernate/hibernate-test-case-templates/\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates</a>"}],"answers":[{"tags":[],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683554412,"creation_date":1683554412,"answer_id":76201338,"question_id":76187602,"body_markdown":"I found out that, in my scenario, the dependency causing this error is\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter commenting it out the error vanished.\r\n","title":"hibernate-validator - java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl","body":"<p>I found out that, in my scenario, the dependency causing this error is</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After commenting it out the error vanished.</p>\n"}],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683554412,"creation_date":1683357298,"question_id":76187602,"body_markdown":"I am switching to JakartaEE 10 and therefore im trying to update my `hibernate-validator` from `5.4.0.Final` to `8.0.0.Final`, but I just can&#39;t get rid of the following error thats thrown in a lot of my tests:\r\n\r\n`java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl`\r\n\r\nI&#39;ve read that you have to include \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\r\n    &lt;artifactId&gt;expressly&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nnow, which I did, but I&#39;m still receiving this error. Answers to related questions referencing older versions of `hibernate-validator` assume a dependency mismatch, but I cannot spot it from the dependency tree of the module thats failing to build:\r\n\r\n```xml\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ evb-ext-services ---\r\n[INFO] de.mygroupid.evb:evb-ext-services:jar:23.6.0-SNAPSHOT\r\n[INFO] +- de.mygroupid.evb:evb-business:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  +- de.mygroupid.evb:evb-domain:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  |  +- de.mygroupid.commons:commons-ips-jpa:jar:23.6.0-a20230503-02:compile\r\n[INFO] |  |  +- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |  |  \\- org.glassfish.expressly:expressly:jar:5.0.0:compile\r\n[INFO] |  +- de.mygroupid.evb:evb-gdv-modell:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  +- de.mygroupid.evb:evb-hooks:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  +- de.mygroupid.commons:commons-auth:jar:23.6.0-a20230503-02:compile\r\n[INFO] |  +- org.mygroupid:mygroupid-runtime:jar:23.6.0.a20230310-01:compile\r\n[INFO] |  +- org.mygroupid:mygroupid-valuetypes:jar:23.6.0.a20230310-01:compile\r\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\r\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:compile\r\n[INFO] +- de.mygroupid.evb:evb-business-api:jar:23.6.0-SNAPSHOT:compile\r\n[INFO] |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.2:compile\r\n[INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.4:provided\r\n[INFO] |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\r\n[INFO] |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.5.0:compile\r\n[INFO] +- de.mygroupid.commons:commons-base:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- de.mygroupid.commons:commons-cdi:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:provided\r\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:provided\r\n[INFO] +- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:provided\r\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:1.1.1:provided\r\n[INFO] +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:provided\r\n[INFO] +- jakarta.enterprise:jakarta.enterprise.cdi-api:jar:4.0.1:provided\r\n[INFO] |  +- jakarta.enterprise:jakarta.enterprise.lang-model:jar:4.0.1:provided\r\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:provided\r\n[INFO] |  +- jakarta.el:jakarta.el-api:jar:5.0.0:compile\r\n[INFO] |  +- jakarta.interceptor:jakarta.interceptor-api:jar:2.1.0:provided\r\n[INFO] |  \\- jakarta.inject:jakarta.inject-api:jar:2.0.1:provided\r\n[INFO] +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:provided\r\n[INFO] +- io.swagger.core.v3:swagger-jaxrs2-jakarta:jar:2.1.13:compile\r\n[INFO] |  +- io.github.classgraph:classgraph:jar:4.8.138:compile\r\n[INFO] |  +- org.javassist:javassist:jar:3.25.0-GA:compile\r\n[INFO] |  +- io.swagger.core.v3:swagger-models-jakarta:jar:2.1.13:compile\r\n[INFO] |  +- io.swagger.core.v3:swagger-annotations-jakarta:jar:2.1.13:compile\r\n[INFO] |  +- io.swagger.core.v3:swagger-integration-jakarta:jar:2.1.13:compile\r\n[INFO] |  |  \\- io.swagger.core.v3:swagger-core-jakarta:jar:2.1.13:compile\r\n[INFO] |  |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.14.2:compile\r\n[INFO] |  |     |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  |     \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  \\- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:jakarta:2.12.1:compile\r\n[INFO] |     +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\r\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\r\n[INFO] +- de.mygroupid.evb:evb-business:test-jar:tests:23.6.0-SNAPSHOT:test\r\n[INFO] +- de.mygroupid.evb:evb-test-nachrichten:jar:23.6.0-SNAPSHOT:test\r\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.7:test\r\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.7:test\r\n[INFO] +- de.mygroupid.commons:commons-jax-rs:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- de.mygroupid.commons:commons-auth-test:jar:23.6.0-a20230503-02:test\r\n[INFO] +- de.mygroupid.commons:commons-cdi-test:jar:23.6.0-a20230503-02:test\r\n[INFO] |  +- de.mygroupid.commons:commons-test:jar:23.6.0-a20230503-02:test\r\n[INFO] |  +- org.jboss.weld:weld-junit5:jar:4.0.0.Final:test\r\n[INFO] |  |  +- org.jboss.weld.se:weld-se-core:jar:5.0.0.SP1:test\r\n[INFO] |  |  |  +- org.jboss.weld.environment:weld-environment-common:jar:5.0.0.SP1:test\r\n[INFO] |  |  |  +- org.jboss.weld:weld-lite-extension-translator:jar:5.0.0.SP1:test\r\n[INFO] |  |  |  |  \\- org.jboss.logging:jboss-logging-processor:jar:2.2.1.Final:test\r\n[INFO] |  |  |  |     +- org.jboss.logging:jboss-logging-annotations:jar:2.2.1.Final:test\r\n[INFO] |  |  |  |     \\- org.jboss.jdeparser:jdeparser:jar:2.0.3.Final:test\r\n[INFO] |  |  |  \\- org.jboss.weld.probe:weld-probe-core:jar:5.0.0.SP1:test\r\n[INFO] |  |  \\- org.jboss.weld:weld-junit-common:jar:4.0.0.Final:test\r\n[INFO] |  |     \\- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:provided\r\n[INFO] |  +- org.jboss.weld:weld-core-impl:jar:5.1.0.Final:test\r\n[INFO] |  |  +- org.jboss.weld:weld-api:jar:5.0.SP3:test\r\n[INFO] |  |  +- org.jboss.weld:weld-spi:jar:5.0.SP3:test\r\n[INFO] |  |  \\- org.jboss.classfilewriter:jboss-classfilewriter:jar:1.2.5.Final:test\r\n[INFO] |  +- org.jboss.weld.module:weld-jta:jar:5.1.0.Final:test\r\n[INFO] |  +- org.jboss.narayana.jta:narayana-jta-jakarta:jar:5.13.1.Final:test\r\n[INFO] |  |  +- org.jboss:jboss-transaction-spi-jakarta:jar:7.6.1.Final:test\r\n[INFO] |  |  \\- jakarta.resource:jakarta.resource-api:jar:2.0.0:test\r\n[INFO] |  \\- org.jboss.naming:jnpserver:jar:5.0.5.Final:test\r\n[INFO] |     +- org.jboss:jboss-common-core:jar:2.2.10.GA:test\r\n[INFO] |     \\- org.jboss.logging:jboss-logging-spi:jar:2.0.5.GA:test\r\n[INFO] +- de.mygroupid.commons:commons-ips-test:jar:23.6.0-a20230503-02:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  \\- org.mygroupid:mygroupid-testsupport:jar:23.6.0.a20230310-01:test\r\n[INFO] +- de.mygroupid.commons:commons-ips:jar:23.6.0-a20230503-02:compile\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.0:test\r\n[INFO] |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:test\r\n[INFO] |     +- org.eclipse.angus:angus-activation:jar:2.0.0:test\r\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:4.0.2:test\r\n[INFO] |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:test\r\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.1.4.Final:test\r\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.0_spec:jar:1.0.1.Beta1:test\r\n[INFO] |  +- org.jboss.resteasy:resteasy-jaxrs-services:jar:3.1.4.Final:test\r\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.2_spec:jar:1.0.0.Final:test\r\n[INFO] |  +- javax.activation:activation:jar:1.1.1:test\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:test\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:test\r\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:test\r\n[INFO] |  +- commons-io:commons-io:jar:2.5:test\r\n[INFO] |  \\- net.jcip:jcip-annotations:jar:1.0:test\r\n[INFO] +- org.mockito:mockito-core:jar:5.1.1:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO] +- org.slf4j:slf4j-nop:jar:2.0.7:test\r\n[INFO] +- com.h2database:h2:jar:1.4.200:test\r\n[INFO] +- org.eclipse.persistence:eclipselink:jar:4.0.1:test\r\n[INFO] |  \\- com.sun.xml.bind:jaxb-xjc:jar:4.0.2:test\r\n[INFO] |     \\- com.sun.xml.bind:jaxb-core:jar:4.0.2:test\r\n[INFO] +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:test\r\n[INFO] |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:test\r\n[INFO] +- org.glassfish:jakarta.el:jar:4.0.0:compile\r\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] +- org.jboss.logging:jboss-logging:jar:3.4.1.Final:compile\r\n[INFO] +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] +- com.github.spotbugs:spotbugs-annotations:jar:4.5.3:provided\r\n[INFO] +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\r\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n[INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\r\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\r\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\r\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\r\n[INFO] \\- org.junit.vintage:junit-vintage-engine:jar:5.8.2:test\r\n[INFO]    \\- org.junit.platform:junit-platform-engine:jar:1.9.2:compile\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nIf you any idea how to get rid of this error then any help would be greatly appreciated, thanks in advance.","title":"hibernate-validator - java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl","body":"<p>I am switching to JakartaEE 10 and therefore im trying to update my <code>hibernate-validator</code> from <code>5.4.0.Final</code> to <code>8.0.0.Final</code>, but I just can't get rid of the following error thats thrown in a lot of my tests:</p>\n<p><code>java.lang.NoClassDefFoundError: Could not initialize class org.hibernate.validator.internal.engine.ConfigurationImpl</code></p>\n<p>I've read that you have to include</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.expressly&lt;/groupId&gt;\n    &lt;artifactId&gt;expressly&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>now, which I did, but I'm still receiving this error. Answers to related questions referencing older versions of <code>hibernate-validator</code> assume a dependency mismatch, but I cannot spot it from the dependency tree of the module thats failing to build:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ evb-ext-services ---\n[INFO] de.mygroupid.evb:evb-ext-services:jar:23.6.0-SNAPSHOT\n[INFO] +- de.mygroupid.evb:evb-business:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  +- de.mygroupid.evb:evb-domain:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  |  +- de.mygroupid.commons:commons-ips-jpa:jar:23.6.0-a20230503-02:compile\n[INFO] |  |  +- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |  |  \\- org.glassfish.expressly:expressly:jar:5.0.0:compile\n[INFO] |  +- de.mygroupid.evb:evb-gdv-modell:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  +- de.mygroupid.evb:evb-hooks:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  +- de.mygroupid.commons:commons-auth:jar:23.6.0-a20230503-02:compile\n[INFO] |  +- org.mygroupid:mygroupid-runtime:jar:23.6.0.a20230310-01:compile\n[INFO] |  +- org.mygroupid:mygroupid-valuetypes:jar:23.6.0.a20230310-01:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  +- org.mapstruct:mapstruct:jar:1.4.2.Final:compile\n[INFO] |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:compile\n[INFO] +- de.mygroupid.evb:evb-business-api:jar:23.6.0-SNAPSHOT:compile\n[INFO] |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-xml:jar:2.14.2:compile\n[INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.11.4:provided\n[INFO] |     +- org.codehaus.woodstox:stax2-api:jar:4.2.1:compile\n[INFO] |     \\- com.fasterxml.woodstox:woodstox-core:jar:6.5.0:compile\n[INFO] +- de.mygroupid.commons:commons-base:jar:23.6.0-a20230503-02:compile\n[INFO] +- de.mygroupid.commons:commons-cdi:jar:23.6.0-a20230503-02:compile\n[INFO] +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:provided\n[INFO] |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:provided\n[INFO] +- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:provided\n[INFO] +- jakarta.jws:jakarta.jws-api:jar:1.1.1:provided\n[INFO] +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:provided\n[INFO] +- jakarta.enterprise:jakarta.enterprise.cdi-api:jar:4.0.1:provided\n[INFO] |  +- jakarta.enterprise:jakarta.enterprise.lang-model:jar:4.0.1:provided\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:provided\n[INFO] |  +- jakarta.el:jakarta.el-api:jar:5.0.0:compile\n[INFO] |  +- jakarta.interceptor:jakarta.interceptor-api:jar:2.1.0:provided\n[INFO] |  \\- jakarta.inject:jakarta.inject-api:jar:2.0.1:provided\n[INFO] +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:provided\n[INFO] +- io.swagger.core.v3:swagger-jaxrs2-jakarta:jar:2.1.13:compile\n[INFO] |  +- io.github.classgraph:classgraph:jar:4.8.138:compile\n[INFO] |  +- org.javassist:javassist:jar:3.25.0-GA:compile\n[INFO] |  +- io.swagger.core.v3:swagger-models-jakarta:jar:2.1.13:compile\n[INFO] |  +- io.swagger.core.v3:swagger-annotations-jakarta:jar:2.1.13:compile\n[INFO] |  +- io.swagger.core.v3:swagger-integration-jakarta:jar:2.1.13:compile\n[INFO] |  |  \\- io.swagger.core.v3:swagger-core-jakarta:jar:2.1.13:compile\n[INFO] |  |     +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.14.2:compile\n[INFO] |  |     |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  |     \\- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  \\- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:jakarta:2.12.1:compile\n[INFO] |     +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\n[INFO] +- de.mygroupid.evb:evb-business:test-jar:tests:23.6.0-SNAPSHOT:test\n[INFO] +- de.mygroupid.evb:evb-test-nachrichten:jar:23.6.0-SNAPSHOT:test\n[INFO] |  \\- org.springframework:spring-core:jar:6.0.7:test\n[INFO] |     \\- org.springframework:spring-jcl:jar:6.0.7:test\n[INFO] +- de.mygroupid.commons:commons-jax-rs:jar:23.6.0-a20230503-02:compile\n[INFO] +- de.mygroupid.commons:commons-auth-test:jar:23.6.0-a20230503-02:test\n[INFO] +- de.mygroupid.commons:commons-cdi-test:jar:23.6.0-a20230503-02:test\n[INFO] |  +- de.mygroupid.commons:commons-test:jar:23.6.0-a20230503-02:test\n[INFO] |  +- org.jboss.weld:weld-junit5:jar:4.0.0.Final:test\n[INFO] |  |  +- org.jboss.weld.se:weld-se-core:jar:5.0.0.SP1:test\n[INFO] |  |  |  +- org.jboss.weld.environment:weld-environment-common:jar:5.0.0.SP1:test\n[INFO] |  |  |  +- org.jboss.weld:weld-lite-extension-translator:jar:5.0.0.SP1:test\n[INFO] |  |  |  |  \\- org.jboss.logging:jboss-logging-processor:jar:2.2.1.Final:test\n[INFO] |  |  |  |     +- org.jboss.logging:jboss-logging-annotations:jar:2.2.1.Final:test\n[INFO] |  |  |  |     \\- org.jboss.jdeparser:jdeparser:jar:2.0.3.Final:test\n[INFO] |  |  |  \\- org.jboss.weld.probe:weld-probe-core:jar:5.0.0.SP1:test\n[INFO] |  |  \\- org.jboss.weld:weld-junit-common:jar:4.0.0.Final:test\n[INFO] |  |     \\- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:provided\n[INFO] |  +- org.jboss.weld:weld-core-impl:jar:5.1.0.Final:test\n[INFO] |  |  +- org.jboss.weld:weld-api:jar:5.0.SP3:test\n[INFO] |  |  +- org.jboss.weld:weld-spi:jar:5.0.SP3:test\n[INFO] |  |  \\- org.jboss.classfilewriter:jboss-classfilewriter:jar:1.2.5.Final:test\n[INFO] |  +- org.jboss.weld.module:weld-jta:jar:5.1.0.Final:test\n[INFO] |  +- org.jboss.narayana.jta:narayana-jta-jakarta:jar:5.13.1.Final:test\n[INFO] |  |  +- org.jboss:jboss-transaction-spi-jakarta:jar:7.6.1.Final:test\n[INFO] |  |  \\- jakarta.resource:jakarta.resource-api:jar:2.0.0:test\n[INFO] |  \\- org.jboss.naming:jnpserver:jar:5.0.5.Final:test\n[INFO] |     +- org.jboss:jboss-common-core:jar:2.2.10.GA:test\n[INFO] |     \\- org.jboss.logging:jboss-logging-spi:jar:2.0.5.GA:test\n[INFO] +- de.mygroupid.commons:commons-ips-test:jar:23.6.0-a20230503-02:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  \\- org.mygroupid:mygroupid-testsupport:jar:23.6.0.a20230310-01:test\n[INFO] +- de.mygroupid.commons:commons-ips:jar:23.6.0-a20230503-02:compile\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.0:test\n[INFO] |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:test\n[INFO] |     +- org.eclipse.angus:angus-activation:jar:2.0.0:test\n[INFO] |     +- org.glassfish.jaxb:txw2:jar:4.0.2:test\n[INFO] |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:test\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.1.4.Final:test\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.0_spec:jar:1.0.1.Beta1:test\n[INFO] |  +- org.jboss.resteasy:resteasy-jaxrs-services:jar:3.1.4.Final:test\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.2_spec:jar:1.0.0.Final:test\n[INFO] |  +- javax.activation:activation:jar:1.1.1:test\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:test\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:test\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.15:test\n[INFO] |  +- commons-io:commons-io:jar:2.5:test\n[INFO] |  \\- net.jcip:jcip-annotations:jar:1.0:test\n[INFO] +- org.mockito:mockito-core:jar:5.1.1:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.12.23:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n[INFO] |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] +- org.slf4j:slf4j-nop:jar:2.0.7:test\n[INFO] +- com.h2database:h2:jar:1.4.200:test\n[INFO] +- org.eclipse.persistence:eclipselink:jar:4.0.1:test\n[INFO] |  \\- com.sun.xml.bind:jaxb-xjc:jar:4.0.2:test\n[INFO] |     \\- com.sun.xml.bind:jaxb-core:jar:4.0.2:test\n[INFO] +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:test\n[INFO] |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:test\n[INFO] +- org.glassfish:jakarta.el:jar:4.0.0:compile\n[INFO] +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- org.jboss.logging:jboss-logging:jar:3.4.1.Final:compile\n[INFO] +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] +- com.github.spotbugs:spotbugs-annotations:jar:4.5.3:provided\n[INFO] +- com.google.code.findbugs:jsr305:jar:3.0.2:provided\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.7:compile\n[INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.8.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:compile\n[INFO] |  |  +- org.opentest4j:opentest4j:jar:1.2.0:compile\n[INFO] |  |  \\- org.junit.platform:junit-platform-commons:jar:1.9.2:compile\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:compile\n[INFO] \\- org.junit.vintage:junit-vintage-engine:jar:5.8.2:test\n[INFO]    \\- org.junit.platform:junit-platform-engine:jar:1.9.2:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>If you any idea how to get rid of this error then any help would be greatly appreciated, thanks in advance.</p>\n"},{"tags":["java","mysql","spring-boot","authentication","intellij-idea"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683555325,"post_id":76201309,"comment_id":134380447,"body_markdown":"Hi. There is no question in your post. Kindly read https://stackoverflow.com/help/how-to-ask.","body":"Hi. There is no question in your post. Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."}],"owner":{"account_id":27794378,"reputation":1,"user_id":21220232,"display_name":"Karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683554216,"creation_date":1683554216,"question_id":76201309,"body_markdown":"*Error executing DDL &quot;alter table utilisateur_roles add constraint FK9lop304xtodorgho9w56lpjhn foreign key (utilisateur_id) references utilisateur (id)&quot; via JDBC Statement*\r\n\r\n# this is class utilisateur :\r\n\r\n```\r\npackage com.projetfd.projectfd.entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Utilisateur {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(unique = true)\r\n    private String nom;\r\n    private String motdepasse;\r\n    private String email;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private List&lt;Role&gt;roles;\r\n\r\n\r\n\r\n    }\r\n```\r\n# this is class Role : \r\n\r\n\r\n```\r\npackage com.projetfd.projectfd.entities;\r\n\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Entity\r\n@Builder\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Role {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String role;\r\n\r\n    @ManyToOne\r\n    private Utilisateur utilisateur;\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n# this is the application propreties : \r\n\r\n\r\n```\r\nserver.port=8777\r\nspring.datasource.url=jdbc:mysql://localhost:3306/databasePFE?createDatabaseIfNotExist=true\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\n\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.sql.init.mode=always\r\nspring.thymeleaf.cache=false\r\nspring.main.allow-circular-references=true\r\n```\r\n\r\nand when i run the the application she give me this error : \r\n\r\nHibernate: alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)\r\n2023-05-08T15:36:08.095+02:00  WARN 21924 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:458) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:278) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.projetfd.projectfd.ProjectFdApplication.main(ProjectFdApplication.java:13) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\r\nCaused by: java.sql.SQLException: Can&#39;t create table `databasepfe`.`utilisateur_roles` (errno: 150 &quot;Foreign key constraint is incorrectly formed&quot;)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 38 common frames omitted\r\n","title":"alter table utilisateur_roles add constraint FK9lop304xtodorgho9w56lpjhn foreign key (utilisateur_id) references utilisateur (id)&quot; via JDBC Statement","body":"<p><em>Error executing DDL &quot;alter table utilisateur_roles add constraint FK9lop304xtodorgho9w56lpjhn foreign key (utilisateur_id) references utilisateur (id)&quot; via JDBC Statement</em></p>\n<h1>this is class utilisateur :</h1>\n<pre><code>package com.projetfd.projectfd.entities;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.List;\n\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Utilisateur {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(unique = true)\n    private String nom;\n    private String motdepasse;\n    private String email;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private List&lt;Role&gt;roles;\n\n\n\n    }\n</code></pre>\n<h1>this is class Role :</h1>\n<pre><code>package com.projetfd.projectfd.entities;\n\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Entity\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String role;\n\n    @ManyToOne\n    private Utilisateur utilisateur;\n\n\n\n\n}\n\n</code></pre>\n<h1>this is the application propreties :</h1>\n<pre><code>server.port=8777\nspring.datasource.url=jdbc:mysql://localhost:3306/databasePFE?createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MariaDBDialect\nspring.jpa.show-sql=true\nspring.jpa.defer-datasource-initialization=true\nspring.sql.init.mode=always\nspring.thymeleaf.cache=false\nspring.main.allow-circular-references=true\n</code></pre>\n<p>and when i run the the application she give me this error :</p>\n<p>Hibernate: alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)\n2023-05-08T15:36:08.095+02:00  WARN 21924 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement</p>\n<p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table utilisateur_roles add constraint FKgvjufa2i7moss3i9eh2i9yoaq foreign key (roles_id) references role (id)&quot; via JDBC Statement\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:458) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:278) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.8.jar:6.0.8]\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.8.jar:6.0.8]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.8.jar:6.0.8]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.8.jar:6.0.8]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\nat com.projetfd.projectfd.ProjectFdApplication.main(ProjectFdApplication.java:13) ~[classes/:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.6.jar:3.0.6]\nCaused by: java.sql.SQLException: Can't create table <code>databasepfe</code>.<code>utilisateur_roles</code> (errno: 150 &quot;Foreign key constraint is incorrectly formed&quot;)\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n... 38 common frames omitted</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683463260,"post_id":76193883,"comment_id":134367616,"body_markdown":"what do you mean under &quot;search functionality is not working&quot;? restrictions `cb.lessThan` and `cb.greaterThan` produced by your code are mutually exclusive.","body":"what do you mean under &quot;search functionality is not working&quot;? restrictions <code>cb.lessThan</code> and <code>cb.greaterThan</code> produced by your code are mutually exclusive."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683463495,"post_id":76193883,"comment_id":134367645,"body_markdown":"I mean data is not returned. What should be the proper way to select data range?","body":"I mean data is not returned. What should be the proper way to select data range?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683464696,"post_id":76193883,"comment_id":134367798,"body_markdown":"I believe you need to spend some time on redesigning your search API. Typically, when someone wants to find something using range/interval, he provides either both or just one interval boundary, based on that we build corresponding restrictions, in your cause there is no interval at all, so, it is broken by design.","body":"I believe you need to spend some time on redesigning your search API. Typically, when someone wants to find something using range/interval, he provides either both or just one interval boundary, based on that we build corresponding restrictions, in your cause there is no interval at all, so, it is broken by design."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683464820,"post_id":76193883,"comment_id":134367824,"body_markdown":"Ok, I will use 2 variables `createdAtFrom` and `createdAtTo`. What should be the variable type and how to implement interval search into `getUsersBySpecification` method?","body":"Ok, I will use 2 variables <code>createdAtFrom</code> and <code>createdAtTo</code>. What should be the variable type and how to implement interval search into <code>getUsersBySpecification</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683486935,"creation_date":1683486935,"answer_id":76195841,"question_id":76193883,"body_markdown":"Let me answer step by ste **based on the experience that I have (multiple different enterprise projects)**. Additional note: I was mostly working with PostgreSQL as a database.\r\n- Usually `LocalDateTime` is used. Because it&#39;s a bit more convenient to work with an it has no time-zone info. For databases usually `timestamp` is the appropriate column type. \r\n- Spring Boot is able to parse request parameters to `LocalDateTime` type without explicit custom config implementations. Here is an example of request for `LocalDateTime` type:\r\n  - `https://localhost:8080/my/endpoint?startDate=2023-01-01T00:30:00.000&amp;endDate=2023-12-31T23:30:00.000`\r\n  - `https://localhost:8080/my/endpoint?startDate=2023-01-01T00%3A30%3A00.000&amp;endDate=2023-12-31T23%3A30%3A00.000` (html decoded)\r\n\r\n   Here is the appropriate controller code:\r\n```java\r\n    @GetMapping(value = &quot;/my/endpoint&quot;)\r\n    public void myMethod(\r\n            @RequestParam(name = &quot;startDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime startDate,\r\n            @RequestParam(name = &quot;endDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime endDate) {\r\n        return doSearch(startDate, endDate);\r\n    }\r\n```\r\n\r\n   But be careful with old Spring versions. From my experience, it should work since Spring Boot 2.2.X. ***The idea is to have an implementation of JPA higher than 2.1 version, because in 2.1 version there is no convenient using of `LocalDateTime`.*** Simply put, use modern versions. \r\n\r\nA bit more information can be found [here][1].\r\n   \r\n   \r\n- As for implementation. Using `LocalDateTime` and JPA implementation 2.2 or higher, your code should work. You can also check code samples here:\r\n  - [https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa][2]\r\n  - [enter link description here][3] (it&#39;s about `LocalDate`, but should work with `LocalDateTime` too.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\r\n  [2]: https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa\r\n  [3]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","title":"Implement search with date range","body":"<p>Let me answer step by ste <strong>based on the experience that I have (multiple different enterprise projects)</strong>. Additional note: I was mostly working with PostgreSQL as a database.</p>\n<ul>\n<li><p>Usually <code>LocalDateTime</code> is used. Because it's a bit more convenient to work with an it has no time-zone info. For databases usually <code>timestamp</code> is the appropriate column type.</p>\n</li>\n<li><p>Spring Boot is able to parse request parameters to <code>LocalDateTime</code> type without explicit custom config implementations. Here is an example of request for <code>LocalDateTime</code> type:</p>\n<ul>\n<li><code>https://localhost:8080/my/endpoint?startDate=2023-01-01T00:30:00.000&amp;endDate=2023-12-31T23:30:00.000</code></li>\n<li><code>https://localhost:8080/my/endpoint?startDate=2023-01-01T00%3A30%3A00.000&amp;endDate=2023-12-31T23%3A30%3A00.000</code> (html decoded)</li>\n</ul>\n<p>Here is the appropriate controller code:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/my/endpoint&quot;)\n    public void myMethod(\n            @RequestParam(name = &quot;startDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime startDate,\n            @RequestParam(name = &quot;endDate&quot;) @DateTimeFormat(iso = DATE_TIME) LocalDateTime endDate) {\n        return doSearch(startDate, endDate);\n    }\n</code></pre>\n<p>But be careful with old Spring versions. From my experience, it should work since Spring Boot 2.2.X. <em><strong>The idea is to have an implementation of JPA higher than 2.1 version, because in 2.1 version there is no convenient using of <code>LocalDateTime</code>.</strong></em> Simply put, use modern versions.</p>\n<p>A bit more information can be found <a href=\"https://vladmihalcea.com/whats-new-in-jpa-2-2-java-8-date-and-time-types/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<ul>\n<li>As for implementation. Using <code>LocalDateTime</code> and JPA implementation 2.2 or higher, your code should work. You can also check code samples here:\n<ul>\n<li><a href=\"https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa\" rel=\"nofollow noreferrer\">https://dzone.com/articles/dealing-with-javas-localdatetime-in-jpa</a></li>\n<li><a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">enter link description here</a> (it's about <code>LocalDate</code>, but should work with <code>LocalDateTime</code> too.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76195841,"answer_count":1,"score":1,"last_activity_date":1683554074,"creation_date":1683461939,"question_id":76193883,"body_markdown":"I want to implement Date range search using Spring Boot. I tried this:\r\n\r\nurl: `localhost:8080/users/users?page=0&amp;size=3&amp;createdAt=2023-05-02T04:57:19.83795Z`\r\n\r\n***Endpoint:***\r\n\r\n        @GetMapping(value = &quot;/users&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public Page&lt;UsersResource&gt; getUsersBySearchSpecification(@Valid UserSearchParams params, Pageable pageable)\r\n        {\r\n            Page&lt;UsersResource&gt; list = userService.getUsersBySpecification(params, pageable);\r\n            return list;\r\n        }\r\n\r\n***UserSearchParams:***\r\n\r\n    @Getter\r\n    @Setter\r\n    public class UserSearchParams {\r\n\r\n        private String param1;\r\n\r\n        private Integer param2;\r\n\r\n        private List&lt;String&gt; param3;\r\n    \r\n        @DateTimeFormat(iso = DATE_TIME) \r\n        LocalDateTime startDate;\r\n\r\n        private OffsetDateTime createdAt;\r\n    }\r\n\r\n***Search functionality:***\r\n\r\n        public Page&lt;Users&gt; getUsersBySpecification(UserSearchParams params, Pageable pageable)\r\n        {\r\n            Specification&lt;Users&gt; spec = (root, query, cb) -&gt; {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                if (params.getCreatedAt() != null) {\r\n                    predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n                }\r\n                if (params.getCreatedAt() != null) {\r\n                    predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n                }\r\n                return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n            };\r\n\r\n        return userRepository.findAll(spec, pageable);\r\n    }\r\n\r\nThe search functionality is not working. What data type should I use for `createdAt`? `OffsetDateTime` or `LocalDateTime` is better alternative?\r\n\r\nShould I manually parse the value `2023-05-02T04:57:19.83795Z` or I can rely on Spring Boot to parse the date?.\r\n\r\nIs this code properly implemented:\r\n\r\n            if (params.getCreatedAt() != null) {\r\n                predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n            }\r\n            if (params.getCreatedAt() != null) {\r\n                predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\r\n            }\r\n\r\nOr there is better way to to have this range select?","title":"Implement search with date range","body":"<p>I want to implement Date range search using Spring Boot. I tried this:</p>\n<p>url: <code>localhost:8080/users/users?page=0&amp;size=3&amp;createdAt=2023-05-02T04:57:19.83795Z</code></p>\n<p><em><strong>Endpoint:</strong></em></p>\n<pre><code>    @GetMapping(value = &quot;/users&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Page&lt;UsersResource&gt; getUsersBySearchSpecification(@Valid UserSearchParams params, Pageable pageable)\n    {\n        Page&lt;UsersResource&gt; list = userService.getUsersBySpecification(params, pageable);\n        return list;\n    }\n</code></pre>\n<p><em><strong>UserSearchParams:</strong></em></p>\n<pre><code>@Getter\n@Setter\npublic class UserSearchParams {\n\n    private String param1;\n\n    private Integer param2;\n\n    private List&lt;String&gt; param3;\n\n    @DateTimeFormat(iso = DATE_TIME) \n    LocalDateTime startDate;\n\n    private OffsetDateTime createdAt;\n}\n</code></pre>\n<p><em><strong>Search functionality:</strong></em></p>\n<pre><code>    public Page&lt;Users&gt; getUsersBySpecification(UserSearchParams params, Pageable pageable)\n    {\n        Specification&lt;Users&gt; spec = (root, query, cb) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            if (params.getCreatedAt() != null) {\n                predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n            }\n            if (params.getCreatedAt() != null) {\n                predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n            }\n            return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n        };\n\n    return userRepository.findAll(spec, pageable);\n}\n</code></pre>\n<p>The search functionality is not working. What data type should I use for <code>createdAt</code>? <code>OffsetDateTime</code> or <code>LocalDateTime</code> is better alternative?</p>\n<p>Should I manually parse the value <code>2023-05-02T04:57:19.83795Z</code> or I can rely on Spring Boot to parse the date?.</p>\n<p>Is this code properly implemented:</p>\n<pre><code>        if (params.getCreatedAt() != null) {\n            predicates.add(cb.greaterThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n        }\n        if (params.getCreatedAt() != null) {\n            predicates.add(cb.lessThan(root.get(&quot;createdAt&quot;), params.getCreatedAt()));\n        }\n</code></pre>\n<p>Or there is better way to to have this range select?</p>\n"},{"tags":["java","android-studio","firebase-realtime-database","firebase-authentication","android-volley"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683538319,"post_id":76199156,"comment_id":134376688,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1683553613,"post_id":76199156,"comment_id":134380072,"body_markdown":"How is `authToken` initialized?","body":"How is <code>authToken</code> initialized?"},{"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"score":0,"creation_date":1683554355,"post_id":76199156,"comment_id":134380217,"body_markdown":"This is how i get the authToken @ \nFrank van Puffelen\n`user.getIdToken(true).addOnSuccessListener(new OnSuccessListener&lt;GetTokenResult&gt;() {\n  @Override\n  public void onSuccess(GetTokenResult result) {\n    String idToken = result.getToken();\n    //Do whatever\n    authToken = idToken;\n  }\n});`","body":"This is how i get the authToken @  Frank van Puffelen <code>user.getIdToken(true).addOnSuccessListener(new OnSuccessListener&lt;GetTokenResult&gt;() {   @Override   public void onSuccess(GetTokenResult result) {     String idToken = result.getToken();     &#47;&#47;Do whatever     authToken = idToken;   } });</code>"}],"owner":{"account_id":21952459,"reputation":214,"user_id":16231514,"display_name":"Franklyn Oreben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683553541,"creation_date":1683537491,"question_id":76199156,"body_markdown":"I have no problem using a volley request to my firebase database when I set the rules as:\r\n```\r\n{\r\n &quot;rules&quot;: {\r\n   &quot;.read&quot;: true,\r\n   &quot;.write&quot;: true\r\n }\r\n}\r\n```\r\nHowever the request is denied witha 401 or 400 error when I make a Volley request to a Firebase database that has its rules set as:\r\n```\r\n{\r\n &quot;rules&quot;: {\r\n   &quot;.read&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;,\r\n   &quot;.write&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;\r\n }\r\n}\r\n```\r\nI have attempted to use authentication to my volley request but it still wouldn&#39;t work. This is how i make my request.\r\n\r\n```\r\nString url = DBLINK+&quot;/users.json&quot;;\r\nStringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\r\n    @Override\r\n    public void onResponse(String s) {\r\n        if(s.equals(&quot;null&quot;)){\r\n            //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\r\n            RegisterUserMyStyle();\r\n        }\r\n        else{\r\n            try {\r\n                JSONObject obj = new JSONObject(s);\r\n\r\n                if(!obj.has(savedUsername)){\r\n                    //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\r\n                    RegisterUserMyStyle();\r\n                }\r\n                else if(obj.getJSONObject(savedUsername).getString(&quot;password&quot;).equals(pass)){\r\n                   Toast.makeText(Login.this, &quot;Login Succede&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(Login.this, &quot;incorrect password&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        pd.dismiss();\r\n    }\r\n},new Response.ErrorListener(){\r\n    @Override\r\n    public void onErrorResponse(VolleyError volleyError) {\r\n        System.out.println(&quot;&quot; + volleyError);\r\n        pd.dismiss();\r\n    }\r\n}) {\r\n    @Override\r\n    public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n        Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n        params.put(&quot;Authorization&quot;, &quot;auth_token=\\&quot;&quot; + authToken + &quot;\\&quot;&quot;);\r\n        params.put(&quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;, &quot;&quot;);\r\n\r\n        return params;\r\n    }\r\n};\r\n\r\nRequestQueue rQueue = Volley.newRequestQueue(Login.this);\r\nrQueue.add(request);\r\n```","title":"How to Make a Volley Request to a Firebase Database with Security Rules Set?","body":"<p>I have no problem using a volley request to my firebase database when I set the rules as:</p>\n<pre><code>{\n &quot;rules&quot;: {\n   &quot;.read&quot;: true,\n   &quot;.write&quot;: true\n }\n}\n</code></pre>\n<p>However the request is denied witha 401 or 400 error when I make a Volley request to a Firebase database that has its rules set as:</p>\n<pre><code>{\n &quot;rules&quot;: {\n   &quot;.read&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;,\n   &quot;.write&quot;: &quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;\n }\n}\n</code></pre>\n<p>I have attempted to use authentication to my volley request but it still wouldn't work. This is how i make my request.</p>\n<pre><code>String url = DBLINK+&quot;/users.json&quot;;\nStringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;(){\n    @Override\n    public void onResponse(String s) {\n        if(s.equals(&quot;null&quot;)){\n            //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\n            RegisterUserMyStyle();\n        }\n        else{\n            try {\n                JSONObject obj = new JSONObject(s);\n\n                if(!obj.has(savedUsername)){\n                    //Toast.makeText(Login.this, &quot;&quot;+getApplicationContext().getResources().getString(R.string.user_not_found), Toast.LENGTH_LONG).show();\n                    RegisterUserMyStyle();\n                }\n                else if(obj.getJSONObject(savedUsername).getString(&quot;password&quot;).equals(pass)){\n                   Toast.makeText(Login.this, &quot;Login Succede&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Toast.makeText(Login.this, &quot;incorrect password&quot;, Toast.LENGTH_LONG).show();\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n\n        pd.dismiss();\n    }\n},new Response.ErrorListener(){\n    @Override\n    public void onErrorResponse(VolleyError volleyError) {\n        System.out.println(&quot;&quot; + volleyError);\n        pd.dismiss();\n    }\n}) {\n    @Override\n    public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n        Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n        params.put(&quot;Authorization&quot;, &quot;auth_token=\\&quot;&quot; + authToken + &quot;\\&quot;&quot;);\n        params.put(&quot;auth != null &amp;&amp; auth.uid != null &amp;&amp; auth.token.email_verified == true&quot;, &quot;&quot;);\n\n        return params;\n    }\n};\n\nRequestQueue rQueue = Volley.newRequestQueue(Login.this);\nrQueue.add(request);\n</code></pre>\n"},{"tags":["java","android","api","google-play-services","ironsource"],"owner":{"account_id":28242847,"reputation":11,"user_id":21590375,"display_name":"prog "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683553060,"creation_date":1683553060,"question_id":76201154,"body_markdown":"I&#39;m facing an issue with displaying rewarded ads in my Android app using the ironSource SDK. When I try to show a rewarded video, I&#39;m getting the following error message: &quot;API: showRewardedVideo error: show called while no ads are available&quot;. Additionally, I&#39;m seeing a warning message stating that my app requires the Google Play Store, but it is missing.\r\n\r\nI have followed the documentation and integrated the ironSource SDK correctly. I have also configured the ad units and placements in my ironSource account, and they are active. I&#39;m testing the app on an Android emulator in Android Studio.\r\n\r\nI would like to know if there are any specific steps or configurations that I might be missing in order to make the rewarded ads work properly. Is there any additional setup or initialization required for the ironSource SDK? Could this issue be related to the absence of the Google Play Store on the emulator?\r\n\r\nAny guidance or insights on how to resolve this issue would be greatly appreciated. Thank you in advance for your help!\r\n\r\n\r\n_________________\r\nand my code now\r\n\r\n\r\n```\r\nublic class testMain extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_test_main);\r\n\r\n        IronSource.init(this, &quot;197be235d&quot;);\r\n\r\n\r\n        IronSource.loadRewardedVideo();\r\n        IronSource.setLevelPlayRewardedVideoListener(new LevelPlayRewardedVideoListener() {\r\n            // Indicates that there&#39;s an available ad.\r\n            // The adInfo object includes information about the ad that was loaded successfully\r\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(true)\r\n            @Override\r\n            public void onAdAvailable(AdInfo adInfo) {}\r\n            // Indicates that no ads are available to be displayed\r\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(false)\r\n            @Override\r\n            public void onAdUnavailable() {}\r\n            // The Rewarded Video ad view has opened. Your activity will loose focus\r\n            @Override\r\n            public void onAdOpened(AdInfo adInfo) {}\r\n            // The Rewarded Video ad view is about to be closed. Your activity will regain its focus\r\n            @Override\r\n            public void onAdClosed(AdInfo adInfo) {}\r\n            // The user completed to watch the video, and should be rewarded.\r\n            // The placement parameter will include the reward data.\r\n            // When using server-to-server callbacks, you may ignore this event and wait for the ironSource server callback\r\n            @Override\r\n            public void onAdRewarded(Placement placement, AdInfo adInfo) {}\r\n            // The rewarded video ad was failed to show\r\n            @Override\r\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\r\n            // Invoked when the video ad was clicked.\r\n            // This callback is not supported by all networks, and we recommend using it\r\n            // only if it&#39;s supported by all networks you included in your build\r\n            @Override\r\n            public void onAdClicked(Placement placement, AdInfo adInfo) {}\r\n        });\r\n\r\n        IronSource.setLevelPlayInterstitialListener(new LevelPlayInterstitialListener() {\r\n            // Invoked when the interstitial ad was loaded successfully.\r\n            // AdInfo parameter includes information about the loaded ad\r\n            @Override\r\n            public void onAdReady(AdInfo adInfo) {}\r\n            // Indicates that the ad failed to be loaded\r\n            @Override\r\n            public void onAdLoadFailed(IronSourceError error) {}\r\n            // Invoked when the Interstitial Ad Unit has opened, and user left the application screen.\r\n            // This is the impression indication.\r\n            @Override\r\n            public void onAdOpened(AdInfo adInfo) {}\r\n            // Invoked when the interstitial ad closed and the user went back to the application screen.\r\n            @Override\r\n            public void onAdClosed(AdInfo adInfo) {}\r\n            // Invoked when the ad failed to show\r\n            @Override\r\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\r\n            // Invoked when end user clicked on the interstitial ad\r\n            @Override\r\n            public void onAdClicked(AdInfo adInfo) {}\r\n            // Invoked before the interstitial ad was opened, and before the InterstitialOnAdOpenedEvent is reported.\r\n            // This callback is not supported by all networks, and we recommend using it only if\r\n            // it&#39;s supported by all networks you included in your build.\r\n            @Override\r\n            public void onAdShowSucceeded(AdInfo adInfo){}\r\n        });\r\n\r\n\r\n        IronSource.loadInterstitial();\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public void radst(View view) {\r\n\r\n        IronSource.showRewardedVideo(&quot;DefaultRewardedVideo&quot;);\r\n\r\n    }\r\n\r\n    public void iadst(View view) {\r\n\r\n        IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\r\n\r\n    }\r\n    protected void onResume() {\r\n        super.onResume();\r\n        IronSource.onResume(this);\r\n    }\r\n    protected void onPause() {\r\n        super.onPause();\r\n        IronSource.onPause(this);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am facing an issue with displaying rewarded ads in my Android app using ironSource SDK. I have followed the documentation and implemented the necessary code, but the rewarded ads are not showing up as expected. Here are the details of what I have tried:\r\n\r\nIntegrated ironSource SDK into my app following the provided instructions.\r\nConfigured the ad unit and placement settings in the ironSource dashboard.\r\nImplemented the necessary code to load and show rewarded ads in the appropriate part of my app.\r\nChecked the logcat for any error messages or warnings related to the ad display.\r\nExpected behavior:\r\nI expect the rewarded ads to be displayed when the corresponding action is triggered by the user. The ads should provide a reward upon completion and then resume the app&#39;s normal flow.\r\n\r\nActual result:\r\nHowever, when I trigger the action to show the rewarded ad, I receive the following error message in the logcat:\r\n&quot;API: showRewardedVideo error: show called while no ads are available&quot;\r\n\r\nI have also noticed the following warning message:\r\n&quot;com.example.myapplication requires the Google Play Store, but it is missing.&quot;\r\n\r\nI would greatly appreciate any assistance or insights into resolving this issue. Thank you in advance for your help.","title":"Issue with displaying rewarded ads in my Android app","body":"<p>I'm facing an issue with displaying rewarded ads in my Android app using the ironSource SDK. When I try to show a rewarded video, I'm getting the following error message: &quot;API: showRewardedVideo error: show called while no ads are available&quot;. Additionally, I'm seeing a warning message stating that my app requires the Google Play Store, but it is missing.</p>\n<p>I have followed the documentation and integrated the ironSource SDK correctly. I have also configured the ad units and placements in my ironSource account, and they are active. I'm testing the app on an Android emulator in Android Studio.</p>\n<p>I would like to know if there are any specific steps or configurations that I might be missing in order to make the rewarded ads work properly. Is there any additional setup or initialization required for the ironSource SDK? Could this issue be related to the absence of the Google Play Store on the emulator?</p>\n<p>Any guidance or insights on how to resolve this issue would be greatly appreciated. Thank you in advance for your help!</p>\n<hr />\n<p>and my code now</p>\n<pre><code>ublic class testMain extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test_main);\n\n        IronSource.init(this, &quot;197be235d&quot;);\n\n\n        IronSource.loadRewardedVideo();\n        IronSource.setLevelPlayRewardedVideoListener(new LevelPlayRewardedVideoListener() {\n            // Indicates that there's an available ad.\n            // The adInfo object includes information about the ad that was loaded successfully\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(true)\n            @Override\n            public void onAdAvailable(AdInfo adInfo) {}\n            // Indicates that no ads are available to be displayed\n            // Use this callback instead of onRewardedVideoAvailabilityChanged(false)\n            @Override\n            public void onAdUnavailable() {}\n            // The Rewarded Video ad view has opened. Your activity will loose focus\n            @Override\n            public void onAdOpened(AdInfo adInfo) {}\n            // The Rewarded Video ad view is about to be closed. Your activity will regain its focus\n            @Override\n            public void onAdClosed(AdInfo adInfo) {}\n            // The user completed to watch the video, and should be rewarded.\n            // The placement parameter will include the reward data.\n            // When using server-to-server callbacks, you may ignore this event and wait for the ironSource server callback\n            @Override\n            public void onAdRewarded(Placement placement, AdInfo adInfo) {}\n            // The rewarded video ad was failed to show\n            @Override\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\n            // Invoked when the video ad was clicked.\n            // This callback is not supported by all networks, and we recommend using it\n            // only if it's supported by all networks you included in your build\n            @Override\n            public void onAdClicked(Placement placement, AdInfo adInfo) {}\n        });\n\n        IronSource.setLevelPlayInterstitialListener(new LevelPlayInterstitialListener() {\n            // Invoked when the interstitial ad was loaded successfully.\n            // AdInfo parameter includes information about the loaded ad\n            @Override\n            public void onAdReady(AdInfo adInfo) {}\n            // Indicates that the ad failed to be loaded\n            @Override\n            public void onAdLoadFailed(IronSourceError error) {}\n            // Invoked when the Interstitial Ad Unit has opened, and user left the application screen.\n            // This is the impression indication.\n            @Override\n            public void onAdOpened(AdInfo adInfo) {}\n            // Invoked when the interstitial ad closed and the user went back to the application screen.\n            @Override\n            public void onAdClosed(AdInfo adInfo) {}\n            // Invoked when the ad failed to show\n            @Override\n            public void onAdShowFailed(IronSourceError error, AdInfo adInfo) {}\n            // Invoked when end user clicked on the interstitial ad\n            @Override\n            public void onAdClicked(AdInfo adInfo) {}\n            // Invoked before the interstitial ad was opened, and before the InterstitialOnAdOpenedEvent is reported.\n            // This callback is not supported by all networks, and we recommend using it only if\n            // it's supported by all networks you included in your build.\n            @Override\n            public void onAdShowSucceeded(AdInfo adInfo){}\n        });\n\n\n        IronSource.loadInterstitial();\n\n    }\n\n\n\n\n\n\n    public void radst(View view) {\n\n        IronSource.showRewardedVideo(&quot;DefaultRewardedVideo&quot;);\n\n    }\n\n    public void iadst(View view) {\n\n        IronSource.showInterstitial(&quot;DefaultInterstitial&quot;);\n\n    }\n    protected void onResume() {\n        super.onResume();\n        IronSource.onResume(this);\n    }\n    protected void onPause() {\n        super.onPause();\n        IronSource.onPause(this);\n    }\n}\n</code></pre>\n<p>I am facing an issue with displaying rewarded ads in my Android app using ironSource SDK. I have followed the documentation and implemented the necessary code, but the rewarded ads are not showing up as expected. Here are the details of what I have tried:</p>\n<p>Integrated ironSource SDK into my app following the provided instructions.\nConfigured the ad unit and placement settings in the ironSource dashboard.\nImplemented the necessary code to load and show rewarded ads in the appropriate part of my app.\nChecked the logcat for any error messages or warnings related to the ad display.\nExpected behavior:\nI expect the rewarded ads to be displayed when the corresponding action is triggered by the user. The ads should provide a reward upon completion and then resume the app's normal flow.</p>\n<p>Actual result:\nHowever, when I trigger the action to show the rewarded ad, I receive the following error message in the logcat:\n&quot;API: showRewardedVideo error: show called while no ads are available&quot;</p>\n<p>I have also noticed the following warning message:\n&quot;com.example.myapplication requires the Google Play Store, but it is missing.&quot;</p>\n<p>I would greatly appreciate any assistance or insights into resolving this issue. Thank you in advance for your help.</p>\n"},{"tags":["java","json","substring","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683552810,"creation_date":1683552810,"answer_id":76201125,"question_id":76200838,"body_markdown":"Your approach, is pretty good, which would be improved like the one below :\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*:*,&quot;: {\r\n          &quot;@|$(0,2)&quot;: &quot;&amp;2&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=split(&#39;,&#39;,@(1,&amp;))&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;cardinality&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;ONE&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nwhere the first spec(**shift**) returns\r\n\r\n```json\r\n{\r\n  &quot;key1&quot; : &quot;qqq,rrr&quot;,\r\n  &quot;key2&quot; : &quot;222&quot;,\r\n  &quot;key3&quot; : &quot;bbb&quot;\r\n}\r\n```\r\nthen we extract the piece before the comma(s) if there&#39;s any(in this case exists only for key-value pair `&quot;key1&quot; : &quot;qqq,rrr&quot;` )","title":"Extracting a substring from multiple values in A JSON using JOLT spec","body":"<p>Your approach, is pretty good, which would be improved like the one below :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*:*,&quot;: {\n          &quot;@|$(0,2)&quot;: &quot;&amp;2&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=split(',',@(1,&amp;))&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;cardinality&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;ONE&quot;\n    }\n  }\n]\n</code></pre>\n<p>where the first spec(<strong>shift</strong>) returns</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot; : &quot;qqq,rrr&quot;,\n  &quot;key2&quot; : &quot;222&quot;,\n  &quot;key3&quot; : &quot;bbb&quot;\n}\n</code></pre>\n<p>then we extract the piece before the comma(s) if there's any(in this case exists only for key-value pair <code>&quot;key1&quot; : &quot;qqq,rrr&quot;</code> )</p>\n"}],"owner":{"account_id":28546749,"reputation":13,"user_id":21852073,"display_name":"tmanral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76201125,"answer_count":1,"score":1,"last_activity_date":1683553041,"creation_date":1683550697,"question_id":76200838,"body_markdown":"I have below json as input and I want to extract a substring from all the values. This targeted substring lies between a colon and a comma.\r\n\r\nInput JSON:\r\n```json\r\n{\r\n  &quot;key1&quot;: &quot;ppp:qqq,rrr,&quot;,\r\n  &quot;key2&quot;: &quot;111:222,&quot;,\r\n  &quot;key3&quot;: &quot;aaa:bbb,&quot;\r\n}\r\n```\r\n\r\nExpected JSON output:\r\n```json\r\n{\r\n  &quot;key1&quot;: &quot;qqq,&quot;,\r\n  &quot;key2&quot;: &quot;222&quot;,\r\n  &quot;key3&quot;: &quot;bbb&quot;\r\n}\r\n```\r\n\r\nMy current JOLT spec is working but only for the first key.\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*:*,*&quot;: {\r\n          &quot;$(0,2)&quot;: &quot;key1&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nCurrent output:\r\n```json\r\n{\r\n  &quot;key1&quot;: &quot;qqq&quot;\r\n}\r\n```\r\nI need to modify my spec so that all keys present in the input json can be processed with the desired transformation.\r\n\r\n\r\n","title":"Extracting a substring from multiple values in A JSON using JOLT spec","body":"<p>I have below json as input and I want to extract a substring from all the values. This targeted substring lies between a colon and a comma.</p>\n<p>Input JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot;: &quot;ppp:qqq,rrr,&quot;,\n  &quot;key2&quot;: &quot;111:222,&quot;,\n  &quot;key3&quot;: &quot;aaa:bbb,&quot;\n}\n</code></pre>\n<p>Expected JSON output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot;: &quot;qqq,&quot;,\n  &quot;key2&quot;: &quot;222&quot;,\n  &quot;key3&quot;: &quot;bbb&quot;\n}\n</code></pre>\n<p>My current JOLT spec is working but only for the first key.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*:*,*&quot;: {\n          &quot;$(0,2)&quot;: &quot;key1&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>Current output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key1&quot;: &quot;qqq&quot;\n}\n</code></pre>\n<p>I need to modify my spec so that all keys present in the input json can be processed with the desired transformation.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3286109,"reputation":14045,"user_id":2765603,"accept_rate":90,"display_name":"llogiq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452601200,"creation_date":1452593907,"answer_id":34740936,"question_id":34740166,"body_markdown":"The `URL` class has a constructor `URL(URL context, String url)` that does what you tried doing with regexps.\r\n\r\nEdit: In your case the `context` URL is the source URL of the parsed resource. Let&#39;s say you parse something from `URL context = new URL(&quot;http://example.com/path/to/some.html#where?is+carmen+sandiego&quot;)`. Then you just take the reference of any link and create a `URL ref = new URL(context, src)`.","title":"How to get absolute url using java or jsoup","body":"<p>The <code>URL</code> class has a constructor <code>URL(URL context, String url)</code> that does what you tried doing with regexps.</p>\n\n<p>Edit: In your case the <code>context</code> URL is the source URL of the parsed resource. Let's say you parse something from <code>URL context = new URL(\"http://example.com/path/to/some.html#where?is+carmen+sandiego\")</code>. Then you just take the reference of any link and create a <code>URL ref = new URL(context, src)</code>.</p>\n"},{"tags":[],"owner":{"account_id":5588540,"reputation":12118,"user_id":4428462,"accept_rate":86,"display_name":"Jonas Czech"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1452623137,"creation_date":1452623137,"answer_id":34751156,"question_id":34740166,"body_markdown":"There are essentially two ways to get the absolute URL:\n\n* Using Jsoup&#39;s `abs:href` attribute getter. It works like this:\n\n        Element a = myDoc.select(&quot;a&quot;).first(); //selects tue first link on the page, replace with whatever selector you need to get your link (a element)\n        String url = a.attr(&quot;abs:href&quot;); //gets the absolute url of the link (href attribute)\n\n    Note that you need to provide Jsoup with the URL of the HTML document you are using, so it can resolve the URL correctly, this is done automatically if you use `Jsoup.connect(myHtmlUrl).get()`, if you are parsing HTML from a String or from a file, you need to provide it, use the appropriate `Jsoup.parse()` method which allows you to provide a base URL\n\n* The other way is with Java&#39;s built in URL class, **which is probably what you should use in your case**. You can use it like this:\n\n        String absoluteUrl = new URL(new URL(&quot;http://example.com/example.html&quot;), &quot;script.js&quot;)\n\n    Which would print:\n\n        http://example.com/script.js\n\n    To clarify a bit, the first parameter (in this case example.com) is the url your HTML document is from, and the second parameter (&quot;script.js&quot;) is the URL found _in_ your HTML.\n\n    In your case, you could use it like:\n        \n        String absoluteUrl = new URL(new URL(&quot;https://www.url.com/&quot;), &quot;/ajax/libs/jquery/2.1.1/jquery.min.js&quot;)\n\n    Which will print:\n\n        https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js","title":"How to get absolute url using java or jsoup","body":"<p>There are essentially two ways to get the absolute URL:</p>\n\n<ul>\n<li><p>Using Jsoup's <code>abs:href</code> attribute getter. It works like this:</p>\n\n<pre><code>Element a = myDoc.select(\"a\").first(); //selects tue first link on the page, replace with whatever selector you need to get your link (a element)\nString url = a.attr(\"abs:href\"); //gets the absolute url of the link (href attribute)\n</code></pre>\n\n<p>Note that you need to provide Jsoup with the URL of the HTML document you are using, so it can resolve the URL correctly, this is done automatically if you use <code>Jsoup.connect(myHtmlUrl).get()</code>, if you are parsing HTML from a String or from a file, you need to provide it, use the appropriate <code>Jsoup.parse()</code> method which allows you to provide a base URL</p></li>\n<li><p>The other way is with Java's built in URL class, <strong>which is probably what you should use in your case</strong>. You can use it like this:</p>\n\n<pre><code>String absoluteUrl = new URL(new URL(\"http://example.com/example.html\"), \"script.js\")\n</code></pre>\n\n<p>Which would print:</p>\n\n<pre><code>http://example.com/script.js\n</code></pre>\n\n<p>To clarify a bit, the first parameter (in this case example.com) is the url your HTML document is from, and the second parameter (\"script.js\") is the URL found <em>in</em> your HTML.</p>\n\n<p>In your case, you could use it like:</p>\n\n<pre><code>String absoluteUrl = new URL(new URL(\"https://www.url.com/\"), \"/ajax/libs/jquery/2.1.1/jquery.min.js\")\n</code></pre>\n\n<p>Which will print:</p>\n\n<pre><code>https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14284626,"reputation":695,"user_id":10318272,"display_name":"S. Doe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683552972,"creation_date":1683552972,"answer_id":76201142,"question_id":34740166,"body_markdown":"In JSoup you can use `org.jsoup.nodes.Node.absUrl(String)` as an alternative to `attr(&quot;abs:href&quot;)` what @jonas-czech described.","title":"How to get absolute url using java or jsoup","body":"<p>In JSoup you can use <code>org.jsoup.nodes.Node.absUrl(String)</code> as an alternative to <code>attr(&quot;abs:href&quot;)</code> what @jonas-czech described.</p>\n"}],"owner":{"display_name":"user5746191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34751156,"answer_count":3,"score":3,"last_activity_date":1683552972,"creation_date":1452591871,"question_id":34740166,"body_markdown":"I am having a textbox and submit button in my jsp page. When submitting this button with some url in textbox, I am getting the response of that url using URLConnection\r\n\r\n        String strUrl = request.getParameter(&quot;url&quot;);\r\n\t\tURL url = new URL(strUrl);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\tbyte[] encodedBytes = Base64.encodeBase64(&quot;root:pass&quot;.getBytes());\r\n\t\tString encoding = new String(encodedBytes);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.connect();\r\n\r\n\t\tInputStream content = (InputStream) connection.getInputStream();\r\n\t\tBufferedReader in = new BufferedReader(new InputStreamReader(content));\r\n\t\ttry {\r\n\t\t\tfWriter = new FileWriter(new File(&quot;f:\\\\new.html&quot;));\r\n\t\t\twriter = new BufferedWriter(fWriter);\r\n\t\t\twhile ((line = in.readLine()) != null) {\r\n\t\t\t\tString s = line.toString();\r\n\t\t\t\twriter.write(s);\t\r\n            }\t\t\t\t\r\n\t\t\twriter.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\r\nIn the resulting html page, every css and js and images were missing as they are pointed to get from local.\r\nfor example, js is placed as followed in my generated html page.\r\n\r\n\t\t&lt;script src=&quot;/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n\r\nBut this actual src is as follows,\r\n\r\n\t\t&lt;script src=&quot;https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n\r\nI know that there are many solution to replace all src, href with url host. Found many answers related to that.\r\n\r\nI used a solution as follows,\r\n\r\n\t\tif (s.contains((&quot;href=&quot;))) {\r\n\t\t\tif (s.contains(&quot;\\&quot;../&quot;) || s.contains(&quot;\\&quot;/&quot;)) {\r\n\t\t\t\t\t\ts = s.replace(&quot;\\&quot;../&quot;, &quot;\\&quot;http://&quot; + url.getHost() + &quot;/&quot;);\r\n\t\t\t\t\t\ts = s.replace(&quot;\\&quot;/&quot;, &quot;\\&quot;http://&quot; + url.getHost() + &quot;/&quot;);\r\n\t\t\t\t\t\twriter.write(s);\r\n\t\t\t\t\t\tout.println(s);\r\n\t\t\t}\r\n\t\t}\r\n\r\nNow I am able to get link,but its not useful in all the web sites. which means that it will helpful for only sites having that kind of host only prefix with src and hrefs.\r\n\r\nIn some websites, links are defined as href=&quot;frmArticles.aspx&quot;. In this case its not enough to add host with href url, because href and src are different even though I prefix with host. For example, folowing URL having href links as different than its URL.\r\n\r\nhttp://www.nakkheeran.in/Users/frmMagazine.aspx?M=2\r\n\r\n\t\t&lt;a href=&quot;frmArticles.aspx?A=25744&quot;&gt;  &lt;/a&gt;\r\n\r\nIf, I am adding host to this href it becomes as follows,\r\n\r\n\t\t&lt;a href=&quot;http://www.nakkheeran.in/frmArticles.aspx?A=25744&quot;&gt;  &lt;/a&gt;\r\n\r\nAnd this is not available. Because, the actual url is \r\n\r\n\t\t&lt;a href=&quot;http://www.nakkheeran.in/Users/frmArticles.aspx?A=25744&quot;&gt;  &lt;/a&gt;","title":"How to get absolute url using java or jsoup","body":"<p>I am having a textbox and submit button in my jsp page. When submitting this button with some url in textbox, I am getting the response of that url using URLConnection</p>\n\n<pre><code>    String strUrl = request.getParameter(\"url\");\n    URL url = new URL(strUrl);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    byte[] encodedBytes = Base64.encodeBase64(\"root:pass\".getBytes());\n    String encoding = new String(encodedBytes);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(\"GET\");\n    connection.connect();\n\n    InputStream content = (InputStream) connection.getInputStream();\n    BufferedReader in = new BufferedReader(new InputStreamReader(content));\n    try {\n        fWriter = new FileWriter(new File(\"f:\\\\new.html\"));\n        writer = new BufferedWriter(fWriter);\n        while ((line = in.readLine()) != null) {\n            String s = line.toString();\n            writer.write(s);    \n        }               \n        writer.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>In the resulting html page, every css and js and images were missing as they are pointed to get from local.\nfor example, js is placed as followed in my generated html page.</p>\n\n<pre><code>    &lt;script src=\"/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But this actual src is as follows,</p>\n\n<pre><code>    &lt;script src=\"https://www.url.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I know that there are many solution to replace all src, href with url host. Found many answers related to that.</p>\n\n<p>I used a solution as follows,</p>\n\n<pre><code>    if (s.contains((\"href=\"))) {\n        if (s.contains(\"\\\"../\") || s.contains(\"\\\"/\")) {\n                    s = s.replace(\"\\\"../\", \"\\\"http://\" + url.getHost() + \"/\");\n                    s = s.replace(\"\\\"/\", \"\\\"http://\" + url.getHost() + \"/\");\n                    writer.write(s);\n                    out.println(s);\n        }\n    }\n</code></pre>\n\n<p>Now I am able to get link,but its not useful in all the web sites. which means that it will helpful for only sites having that kind of host only prefix with src and hrefs.</p>\n\n<p>In some websites, links are defined as href=\"frmArticles.aspx\". In this case its not enough to add host with href url, because href and src are different even though I prefix with host. For example, folowing URL having href links as different than its URL.</p>\n\n<p><a href=\"http://www.nakkheeran.in/Users/frmMagazine.aspx?M=2\" rel=\"nofollow\">http://www.nakkheeran.in/Users/frmMagazine.aspx?M=2</a></p>\n\n<pre><code>    &lt;a href=\"frmArticles.aspx?A=25744\"&gt;  &lt;/a&gt;\n</code></pre>\n\n<p>If, I am adding host to this href it becomes as follows,</p>\n\n<pre><code>    &lt;a href=\"http://www.nakkheeran.in/frmArticles.aspx?A=25744\"&gt;  &lt;/a&gt;\n</code></pre>\n\n<p>And this is not available. Because, the actual url is </p>\n\n<pre><code>    &lt;a href=\"http://www.nakkheeran.in/Users/frmArticles.aspx?A=25744\"&gt;  &lt;/a&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1682692450,"post_id":76128600,"comment_id":134260420,"body_markdown":"It is not clear how you run jobs to process half the dataset each time. Are those different job instances? Updating flags on items would cause an issue with paging readers, but should work fine with cursor-based readers like in your case. Is there another process updating items while the batch job is processing them? A minimal example that reproduces the issue would be helpful to help you efficiently: https://stackoverflow.com/help/minimal-reproducible-example.","body":"It is not clear how you run jobs to process half the dataset each time. Are those different job instances? Updating flags on items would cause an issue with paging readers, but should work fine with cursor-based readers like in your case. Is there another process updating items while the batch job is processing them? A minimal example that reproduces the issue would be helpful to help you efficiently: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."},{"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"score":0,"creation_date":1682697424,"post_id":76128600,"comment_id":134261550,"body_markdown":"Unless you specify otherwise (`spring.batch.job.enabled=false` ) they will run once on their own. Or you could set an `@Scheduled` parameter on an extra `MyJobRunner` class that will run and re-run the job. Both ways reproduce the same result, so I let Spring automatically start it upon application launch. To &quot;restart&quot; the job I just restart the application (or scheduler does it in the other case).\n\nThere is nothing else doing anything, the only thing in my application is the batch job config and database model. Short of providing a github link, there is no more info to provide.","body":"Unless you specify otherwise (<code>spring.batch.job.enabled=false</code> ) they will run once on their own. Or you could set an <code>@Scheduled</code> parameter on an extra <code>MyJobRunner</code> class that will run and re-run the job. Both ways reproduce the same result, so I let Spring automatically start it upon application launch. To &quot;restart&quot; the job I just restart the application (or scheduler does it in the other case).  There is nothing else doing anything, the only thing in my application is the batch job config and database model. Short of providing a github link, there is no more info to provide."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1683198371,"post_id":76128600,"comment_id":134331283,"body_markdown":"And what is the issue? Is the fact that the job is reading half the data each new run what you consider an issue? That is a design decision IMO, not related to spring batch, and is not necessarily an issue. A spring batch job is expected to process a fixed data set. If you change the input during the processing, it should not be surprising that next executions process more or less data, depending on filtering criteria given to the reader and data modification implemented in the processor.","body":"And what is the issue? Is the fact that the job is reading half the data each new run what you consider an issue? That is a design decision IMO, not related to spring batch, and is not necessarily an issue. A spring batch job is expected to process a fixed data set. If you change the input during the processing, it should not be surprising that next executions process more or less data, depending on filtering criteria given to the reader and data modification implemented in the processor."},{"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"score":0,"creation_date":1683386511,"post_id":76128600,"comment_id":134360482,"body_markdown":"Doesn&#39;t the reader execute the query for each new set of data if I configure the cursor to have a specified batch size? I enabled detailed logs on mongodb and I could see that it was executing new queries. I am confused as to why it would always process exactly half of the data if it kept making new queries.","body":"Doesn&#39;t the reader execute the query for each new set of data if I configure the cursor to have a specified batch size? I enabled detailed logs on mongodb and I could see that it was executing new queries. I am confused as to why it would always process exactly half of the data if it kept making new queries."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1683441713,"post_id":76128600,"comment_id":134365316,"body_markdown":"I guess it process half-data because each run it changes the processAt, so the next run it will select less data.","body":"I guess it process half-data because each run it changes the processAt, so the next run it will select less data."}],"answers":[{"tags":[],"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683552827,"creation_date":1683544635,"answer_id":76200071,"question_id":76128600,"body_markdown":"I figured out what the issue was, and it&#39;s caused by the way `ItemReader` fetches new data.\r\n\r\nI logged every query on the database and came upon this line:\r\n```\r\n{ find: &quot;message&quot;, filter: { processedAt: { $exists: false } },\r\nskip: 8190, limit: 10, batchSize: 1000, noCursorTimeout: true, $db: ...\r\n\r\n```\r\n\r\nThe interaction between `skip` and `filter` causes data to be skipped because once an item has been processed (and marked as such in the database) it is no longer returned by the `filter`-query. That means that when `skip` is called on the query, it is skipping over *unprocessed data* since the processed data was excluded from the query. \r\n\r\n**The conclusion from this is that it is not possible to update the data while it is being processed.**\r\n\r\n&lt;hr /&gt;\r\n\r\nThe workaround I used was to remove the query parameter for `processedAt` and create a new `ItemProcessor` that checks if the item has been processed before passing it on to `ItemWriter`. The efficiency of this is questionable. If you expect the query to return mostly data that is valid for processing (i.e. without the `processedAt` field), then it&#39;s a good solution. If you expect a lot of data is going to be discarded because it already has a `processedAt` flag, then you might want to look into other solutions (and please do share them if you figure something out).\r\n\r\nThis is what the `ItemProcessor` looks like, nothing fancy:\r\n```\r\npublic class MyItemProcessor implements ItemProcessor&lt;TroublesomeModel, TroublesomeModel&gt; {\r\n    @Override\r\n    public TroublesomeModel process(TroublesomeModel item) throws Exception {\r\n        if (item.getProcessedAt() != null) {\r\n            return null;\r\n        }\r\n        return item;\r\n    }\r\n}\r\n```\r\nAnd since I am using `BulkOperations` in my `ItemWriter` which cannot handle empty lists, there needs to be a null check before entering it as well.\r\n\r\n&lt;hr /&gt;\r\n\r\nAn alternative workaround would be to just execute the query as-is, with the `processedAt` flag, set a `reader.maxItemCount` to a low enough number (in my case 1000), and re-run the job inside a scheduler on repeat. This fits my use case since it&#39;s supposed to actively process data as it arrives. No data is duplicated and it doesn&#39;t cause any unnecessary data processing or lengthy database queries.","title":"Spring Batch reading half data when field used to query with Reader is being updated with Writer","body":"<p>I figured out what the issue was, and it's caused by the way <code>ItemReader</code> fetches new data.</p>\n<p>I logged every query on the database and came upon this line:</p>\n<pre><code>{ find: &quot;message&quot;, filter: { processedAt: { $exists: false } },\nskip: 8190, limit: 10, batchSize: 1000, noCursorTimeout: true, $db: ...\n\n</code></pre>\n<p>The interaction between <code>skip</code> and <code>filter</code> causes data to be skipped because once an item has been processed (and marked as such in the database) it is no longer returned by the <code>filter</code>-query. That means that when <code>skip</code> is called on the query, it is skipping over <em>unprocessed data</em> since the processed data was excluded from the query.</p>\n<p><strong>The conclusion from this is that it is not possible to update the data while it is being processed.</strong></p>\n<hr />\n<p>The workaround I used was to remove the query parameter for <code>processedAt</code> and create a new <code>ItemProcessor</code> that checks if the item has been processed before passing it on to <code>ItemWriter</code>. The efficiency of this is questionable. If you expect the query to return mostly data that is valid for processing (i.e. without the <code>processedAt</code> field), then it's a good solution. If you expect a lot of data is going to be discarded because it already has a <code>processedAt</code> flag, then you might want to look into other solutions (and please do share them if you figure something out).</p>\n<p>This is what the <code>ItemProcessor</code> looks like, nothing fancy:</p>\n<pre><code>public class MyItemProcessor implements ItemProcessor&lt;TroublesomeModel, TroublesomeModel&gt; {\n    @Override\n    public TroublesomeModel process(TroublesomeModel item) throws Exception {\n        if (item.getProcessedAt() != null) {\n            return null;\n        }\n        return item;\n    }\n}\n</code></pre>\n<p>And since I am using <code>BulkOperations</code> in my <code>ItemWriter</code> which cannot handle empty lists, there needs to be a null check before entering it as well.</p>\n<hr />\n<p>An alternative workaround would be to just execute the query as-is, with the <code>processedAt</code> flag, set a <code>reader.maxItemCount</code> to a low enough number (in my case 1000), and re-run the job inside a scheduler on repeat. This fits my use case since it's supposed to actively process data as it arrives. No data is duplicated and it doesn't cause any unnecessary data processing or lengthy database queries.</p>\n"}],"owner":{"account_id":27733228,"reputation":1,"user_id":21171332,"display_name":"AnonymousFox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200071,"answer_count":1,"score":0,"last_activity_date":1683552827,"creation_date":1682677069,"question_id":76128600,"body_markdown":"I have a peculiar problem with my Spring Boot batch processing Job.\r\n\r\nThe Job reads only half the data from MongoDB, and with each subsequent run it reads half the remaining data (e.g. 30k -&gt; 15k -&gt; 7.5k...), and it finally finishes when there&#39;s sub 1000 documents remaining since I set `cursorBatchSize(1000)` in my `ItemReader`.\r\n\r\nThe issue occurs because my `ItemReader` queries for all documents that do not have the attribute `processedAt`. It then passes them onto the `ItemReader`, which processes them and adds the `processedAt` attribute to the documents, and then saves hem inside the *same* collection the reader is currently going through.\r\n\r\nI wrote an entirely new SpringBoot application to recreate this, removed everything that&#39;s irrelevant to the issue, minimized all data models, etc., so there&#39;s nothing custom about the Job or Batch config.\r\n\r\nIt doesn&#39;t look like a memory issue since when I run it with the query parameters set to return all documents it works fine.\r\n\r\nI don&#39;t think it&#39;s a race condition since the issue persists after setting `throttleLimit(1)` or specifying a TaskExecutor with only 1 Thread.\r\n\r\nThe Document in question only has 2 fields: a `name` attribute and a `processedAt` attribute, which isn&#39;t appended onto it until the document has been successfully processed.\r\n\r\nHere&#39;s the `ItemReader`:\r\n\r\n```\r\n    @Bean(name = &quot;myReader&quot;)\r\n    @StepScope\r\n    public MongoItemReader&lt;TroublesomeModel&gt; reader() {\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;processedAt&quot;).exists(false));\r\n\r\n        query.noCursorTimeout();\r\n        query.cursorBatchSize(1000);\r\n\r\n        MongoItemReader&lt;TroublesomeModel&gt; reader = new MongoItemReader&lt;&gt;();\r\n        reader.setTemplate(mongoTemplate);\r\n        reader.setTargetType(TroublesomeModel.class);\r\n        reader.setSaveState(false);\r\n        reader.setQuery(query);\r\n\r\n        return reader;\r\n    }\r\n```\r\n\r\nThe `ItemWriter`:\r\n\r\n```\r\n    @Override\r\n    public void write(List&lt;? extends TroublesomeModel&gt; items) {\r\n        BulkOperations bulkOperations = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, TroublesomeModel.class);\r\n\r\n        for (TroublesomeModel item: items) {\r\n            item.setAsProcessed();\r\n            bulkOperations.updateMulti(\r\n                    Query.query(Criteria.where(&quot;_id&quot;).is(item.getId())),\r\n                    new Update().set(&quot;processedAt&quot;, item.getProcessedAt())\r\n            );\r\n        }\r\n\r\n        bulkOperations.execute();\r\n    }\r\n\r\n    @Bean(name = &quot;myWriter&quot;)\r\n    @StepScope\r\n    public ItemWriter&lt;TroublesomeModel&gt; writer() {\r\n        return new BatchItemWriterConfig(mongoTemplate);\r\n    }\r\n```\r\n\r\nAnd the `Job` and `Step` configuration:\r\n\r\n```\r\n    @Bean(name = &quot;myStep&quot;)\r\n    public Step step(\r\n            @Qualifier(&quot;myReader&quot;) MongoItemReader&lt;TroublesomeModel&gt; myReader,\r\n            @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;? super TroublesomeModel&gt; myWriter\r\n    ) {\r\n        return stepBuilderFactory.get(&quot;step&quot;)\r\n                .&lt;TroublesomeModel, TroublesomeModel&gt;chunk(100) // has to be 100\r\n                .reader(myReader)\r\n                .writer(myWriter)\r\n                .throttleLimit(10)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;myJob&quot;)\r\n    public Job myJob(@Qualifier(&quot;myStep&quot;) Step step) {\r\n        return jobBuilderFactory\r\n                .get(JOB_NAME)\r\n                .start(step)\r\n                .build();\r\n    }\r\n```\r\n\r\nIs my current logic just not feasible to implement or is there something I&#39;m missing?","title":"Spring Batch reading half data when field used to query with Reader is being updated with Writer","body":"<p>I have a peculiar problem with my Spring Boot batch processing Job.</p>\n<p>The Job reads only half the data from MongoDB, and with each subsequent run it reads half the remaining data (e.g. 30k -&gt; 15k -&gt; 7.5k...), and it finally finishes when there's sub 1000 documents remaining since I set <code>cursorBatchSize(1000)</code> in my <code>ItemReader</code>.</p>\n<p>The issue occurs because my <code>ItemReader</code> queries for all documents that do not have the attribute <code>processedAt</code>. It then passes them onto the <code>ItemReader</code>, which processes them and adds the <code>processedAt</code> attribute to the documents, and then saves hem inside the <em>same</em> collection the reader is currently going through.</p>\n<p>I wrote an entirely new SpringBoot application to recreate this, removed everything that's irrelevant to the issue, minimized all data models, etc., so there's nothing custom about the Job or Batch config.</p>\n<p>It doesn't look like a memory issue since when I run it with the query parameters set to return all documents it works fine.</p>\n<p>I don't think it's a race condition since the issue persists after setting <code>throttleLimit(1)</code> or specifying a TaskExecutor with only 1 Thread.</p>\n<p>The Document in question only has 2 fields: a <code>name</code> attribute and a <code>processedAt</code> attribute, which isn't appended onto it until the document has been successfully processed.</p>\n<p>Here's the <code>ItemReader</code>:</p>\n<pre><code>    @Bean(name = &quot;myReader&quot;)\n    @StepScope\n    public MongoItemReader&lt;TroublesomeModel&gt; reader() {\n        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;processedAt&quot;).exists(false));\n\n        query.noCursorTimeout();\n        query.cursorBatchSize(1000);\n\n        MongoItemReader&lt;TroublesomeModel&gt; reader = new MongoItemReader&lt;&gt;();\n        reader.setTemplate(mongoTemplate);\n        reader.setTargetType(TroublesomeModel.class);\n        reader.setSaveState(false);\n        reader.setQuery(query);\n\n        return reader;\n    }\n</code></pre>\n<p>The <code>ItemWriter</code>:</p>\n<pre><code>    @Override\n    public void write(List&lt;? extends TroublesomeModel&gt; items) {\n        BulkOperations bulkOperations = mongoTemplate.bulkOps(BulkOperations.BulkMode.UNORDERED, TroublesomeModel.class);\n\n        for (TroublesomeModel item: items) {\n            item.setAsProcessed();\n            bulkOperations.updateMulti(\n                    Query.query(Criteria.where(&quot;_id&quot;).is(item.getId())),\n                    new Update().set(&quot;processedAt&quot;, item.getProcessedAt())\n            );\n        }\n\n        bulkOperations.execute();\n    }\n\n    @Bean(name = &quot;myWriter&quot;)\n    @StepScope\n    public ItemWriter&lt;TroublesomeModel&gt; writer() {\n        return new BatchItemWriterConfig(mongoTemplate);\n    }\n</code></pre>\n<p>And the <code>Job</code> and <code>Step</code> configuration:</p>\n<pre><code>    @Bean(name = &quot;myStep&quot;)\n    public Step step(\n            @Qualifier(&quot;myReader&quot;) MongoItemReader&lt;TroublesomeModel&gt; myReader,\n            @Qualifier(&quot;myWriter&quot;) ItemWriter&lt;? super TroublesomeModel&gt; myWriter\n    ) {\n        return stepBuilderFactory.get(&quot;step&quot;)\n                .&lt;TroublesomeModel, TroublesomeModel&gt;chunk(100) // has to be 100\n                .reader(myReader)\n                .writer(myWriter)\n                .throttleLimit(10)\n                .build();\n    }\n\n    @Bean(name = &quot;myJob&quot;)\n    public Job myJob(@Qualifier(&quot;myStep&quot;) Step step) {\n        return jobBuilderFactory\n                .get(JOB_NAME)\n                .start(step)\n                .build();\n    }\n</code></pre>\n<p>Is my current logic just not feasible to implement or is there something I'm missing?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683536442,"post_id":76197745,"comment_id":134376300,"body_markdown":"hmm .. can&#39;t reproduce (plain code, don&#39;t expect any difference when using fxml): webview and it&#39;s containing stage seem to appear at the same time. How do measure those intermittent &quot;frames&quot;?","body":"hmm .. can&#39;t reproduce (plain code, don&#39;t expect any difference when using fxml): webview and it&#39;s containing stage seem to appear at the same time. How do measure those intermittent &quot;frames&quot;?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683538725,"post_id":76197745,"comment_id":134376764,"body_markdown":"curious: why the runlater?","body":"curious: why the runlater?"},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683549232,"post_id":76197745,"comment_id":134379019,"body_markdown":"@kleopatra The runLater should will the `stage.show()` on the JavaFx Application Thread. I used a recording software to see how many frames it took before the WebView showed with its contents.","body":"@kleopatra The runLater should will the <code>stage.show()</code> on the JavaFx Application Thread. I used a recording software to see how many frames it took before the WebView showed with its contents."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683549320,"post_id":76197745,"comment_id":134379040,"body_markdown":"yeah, I know what runlater does, thanks for the reminder :) But: the notification from the worker already happens on the fx application thread, so wondering if you had another reason for doing it.","body":"yeah, I know what runlater does, thanks for the reminder :) But: the notification from the worker already happens on the fx application thread, so wondering if you had another reason for doing it."},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683549488,"post_id":76197745,"comment_id":134379076,"body_markdown":"@kleopatra I did not know that. I just wanted to make sure I was running code on the right Thread.","body":"@kleopatra I did not know that. I just wanted to make sure I was running code on the right Thread."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683549770,"post_id":76197745,"comment_id":134379145,"body_markdown":"well, the java doc mentions it (a bit in-passing, though): _[worker&#39;s] state is observable and available to JavaFX applications and is usable from the main JavaFX Application thread_ :)","body":"well, the java doc mentions it (a bit in-passing, though): <i>[worker&#39;s] state is observable and available to JavaFX applications and is usable from the main JavaFX Application thread</i> :)"},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683549841,"post_id":76197745,"comment_id":134379164,"body_markdown":"@kleopatra I will add images of the &quot;frames&quot; in question.","body":"@kleopatra I will add images of the &quot;frames&quot; in question."},{"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"score":0,"creation_date":1683552668,"post_id":76197745,"comment_id":134379848,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253537/discussion-between-monomantle-and-kleopatra).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253537/discussion-between-monomantle-and-kleopatra\">continue this discussion in chat</a>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683552998,"post_id":76197745,"comment_id":134379933,"body_markdown":"no, I&#39;m not the chatty type ;)","body":"no, I&#39;m not the chatty type ;)"}],"answers":[{"tags":[],"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683525226,"creation_date":1683524913,"answer_id":76197813,"question_id":76197745,"body_markdown":"The problem occurs because of the stage decorator and the way that the `start()` method works, in general. A workaround to this is to set the following in MyApp:\r\n\r\n    stage = new Stage(StageStyle.TRANSPARENT); //Replace stage = primaryStage with this\r\n    stage.setOpacity(0);\r\n\tstage.show();\r\n\r\n`StageStyle.TRANSPARENT` removes the decoration, which will, i believe, prioritize the WebView to load faster because it doesn&#39;t need to be loaded. `stage.setOpacity(0);` hides the stage while it loads in the background with `stage.show();`\r\n\r\nand in the `Platform.runLater();` method, set the following:\r\n\r\n    stage.setOpacity(1);\r\n\r\nThis will reveal the stage along with the loaded WebView when you launch the application. I have verified it by recording myself starting the app and analyzing the recording frame-byframe to see how well it works. My results are that it loads with the frame at a 60th of a second (cannot attest for anything in-between). The previous code has about 2 frames where the WebView was not loaded. Hence, there is a very noticable difference in the two.\r\n\r\nThe downside is that you will have to make your down custom decorator.","title":"Load WebView And Its Contents With The Stage At The Same Time | JavaFX","body":"<p>The problem occurs because of the stage decorator and the way that the <code>start()</code> method works, in general. A workaround to this is to set the following in MyApp:</p>\n<pre><code>stage = new Stage(StageStyle.TRANSPARENT); //Replace stage = primaryStage with this\nstage.setOpacity(0);\nstage.show();\n</code></pre>\n<p><code>StageStyle.TRANSPARENT</code> removes the decoration, which will, i believe, prioritize the WebView to load faster because it doesn't need to be loaded. <code>stage.setOpacity(0);</code> hides the stage while it loads in the background with <code>stage.show();</code></p>\n<p>and in the <code>Platform.runLater();</code> method, set the following:</p>\n<pre><code>stage.setOpacity(1);\n</code></pre>\n<p>This will reveal the stage along with the loaded WebView when you launch the application. I have verified it by recording myself starting the app and analyzing the recording frame-byframe to see how well it works. My results are that it loads with the frame at a 60th of a second (cannot attest for anything in-between). The previous code has about 2 frames where the WebView was not loaded. Hence, there is a very noticable difference in the two.</p>\n<p>The downside is that you will have to make your down custom decorator.</p>\n"}],"owner":{"account_id":28542424,"reputation":21,"user_id":21848316,"display_name":"Monomantle"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683552622,"creation_date":1683523842,"question_id":76197745,"body_markdown":"I am trying to load a WebView with its contents at the same time as the form.\r\n\r\nFor simplicity sake, this application consists of a WebView inside of a Pane. The WebView has an fx:id of webView.\r\n\r\nI am using JavaFX 20, Java 17, and SceneBuilder 19.\r\n\r\nHere is a simple recreation of what I tried to do:\r\n\r\n# Main:\r\n\r\n```\r\npackage example;\r\n \r\nimport javafx.application.Platform;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n \r\npublic class MyApp extends Application {\r\n    private static Stage stage;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent fxml = FXMLLoader.load(this.getClass().getResource(&quot;pathToFxmlFile&quot;));\r\n        Scene scene = new Scene(fxml);\r\n\r\n        stage = primaryStage;\r\n        stage.setScene(scene);\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    public static void showStage(){\r\n        Platform.runLater(()-&gt;stage.show());\r\n    }\r\n}\r\n```\r\n\r\n# Controller:\r\n\r\n```\r\npackage example;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.concurrent.Worker;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.web.*;\r\n\r\npublic class MyController implements Initializable{\r\n  @FXML private WebView webView;\r\n  private WebEngine webEngine;\r\n\r\n  @Override\r\n  public void initialize(URL arg0, ResourceBundle arg1){\r\n    ChangeListener&lt;Object&gt; onDocChange = (obs, oldState, newState) -&gt; {\r\n    \tif (newState == Worker.State.SUCCEEDED){\r\n    \t    MyApp.showStage();\r\n    \t}else if(newState == Worker.State.FAILED){\r\n    \t\twebView.setVisible(false);\r\n    \t\tMyApp.showStage();\r\n    \t}\r\n    };\r\n    webEngine = webView.getEngine();\r\n    webEngine.getLoadWorker().stateProperty().addListener(onDocChange);\r\n    webEngine.load(&quot;urlToSite&quot;);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n**Goal:** My goal is to run the `start()` method and initialize the necessary components in the JavaFX Application Thread and then wait for the loading of the WebView to finish and then call `Platform.runLater();` with `stage.show()`, since the WebView would be loaded by then.\r\n\r\n**Result:** For a few frames, the stage will show an empty WebView or no Webview before loading the WebView.\r\n\r\n**Question:** How do I get the WebView, with all of its contents, to show at the same time as the Stage without it loading in a blank WebView for a split second?\r\n\r\n[![With StageStyle.TRASNSPARENT | W/ or Without Platform.runLater | Original Opacity][1]][1]\r\n[![With StageStyle.TRASNSPARENT | Without Platform.runLater() | Changing Opaciy][5]][5]\r\n[![Answer][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Z7oF.png\r\n  [5]: https://i.stack.imgur.com/eoUEZ.png\r\n  [7]: https://i.stack.imgur.com/Ikk6z.png\r\n\r\nIn every variation that I tried, with or without `StageStyle`, `PlatForm.runLater();`, or `setOpacrity`, there are frames with no loaded WebView or an empty WebView (A variation of the first two images). The last image is the correct one (I cropped part of it). These images were captured via a screen recording tool and a video editor.","title":"Load WebView And Its Contents With The Stage At The Same Time | JavaFX","body":"<p>I am trying to load a WebView with its contents at the same time as the form.</p>\n<p>For simplicity sake, this application consists of a WebView inside of a Pane. The WebView has an fx:id of webView.</p>\n<p>I am using JavaFX 20, Java 17, and SceneBuilder 19.</p>\n<p>Here is a simple recreation of what I tried to do:</p>\n<h1>Main:</h1>\n<pre><code>package example;\n \nimport javafx.application.Platform;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n \npublic class MyApp extends Application {\n    private static Stage stage;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent fxml = FXMLLoader.load(this.getClass().getResource(&quot;pathToFxmlFile&quot;));\n        Scene scene = new Scene(fxml);\n\n        stage = primaryStage;\n        stage.setScene(scene);\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n    public static void showStage(){\n        Platform.runLater(()-&gt;stage.show());\n    }\n}\n</code></pre>\n<h1>Controller:</h1>\n<pre><code>package example;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport javafx.beans.value.ChangeListener;\nimport javafx.concurrent.Worker;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.web.*;\n\npublic class MyController implements Initializable{\n  @FXML private WebView webView;\n  private WebEngine webEngine;\n\n  @Override\n  public void initialize(URL arg0, ResourceBundle arg1){\n    ChangeListener&lt;Object&gt; onDocChange = (obs, oldState, newState) -&gt; {\n        if (newState == Worker.State.SUCCEEDED){\n            MyApp.showStage();\n        }else if(newState == Worker.State.FAILED){\n            webView.setVisible(false);\n            MyApp.showStage();\n        }\n    };\n    webEngine = webView.getEngine();\n    webEngine.getLoadWorker().stateProperty().addListener(onDocChange);\n    webEngine.load(&quot;urlToSite&quot;);\n  }\n}\n</code></pre>\n<p><strong>Goal:</strong> My goal is to run the <code>start()</code> method and initialize the necessary components in the JavaFX Application Thread and then wait for the loading of the WebView to finish and then call <code>Platform.runLater();</code> with <code>stage.show()</code>, since the WebView would be loaded by then.</p>\n<p><strong>Result:</strong> For a few frames, the stage will show an empty WebView or no Webview before loading the WebView.</p>\n<p><strong>Question:</strong> How do I get the WebView, with all of its contents, to show at the same time as the Stage without it loading in a blank WebView for a split second?</p>\n<p><a href=\"https://i.stack.imgur.com/1Z7oF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Z7oF.png\" alt=\"With StageStyle.TRASNSPARENT | W/ or Without Platform.runLater | Original Opacity\" /></a>\n<a href=\"https://i.stack.imgur.com/eoUEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eoUEZ.png\" alt=\"With StageStyle.TRASNSPARENT | Without Platform.runLater() | Changing Opaciy\" /></a>\n<a href=\"https://i.stack.imgur.com/Ikk6z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ikk6z.png\" alt=\"Answer\" /></a></p>\n<p>In every variation that I tried, with or without <code>StageStyle</code>, <code>PlatForm.runLater();</code>, or <code>setOpacrity</code>, there are frames with no loaded WebView or an empty WebView (A variation of the first two images). The last image is the correct one (I cropped part of it). These images were captured via a screen recording tool and a video editor.</p>\n"},{"tags":["java","docker","maven","intellij-plugin","jib"],"comments":[{"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"score":0,"creation_date":1666700737,"post_id":74192150,"comment_id":130994887,"body_markdown":"This is a Maven usage error. It is possible that you have a whitespace character (or some weird special character?) between `-Djib` and `.to.image=...` so that the latter is parsed as a separate token, being recognize as a plugin prefix.","body":"This is a Maven usage error. It is possible that you have a whitespace character (or some weird special character?) between <code>-Djib</code> and <code>.to.image=...</code> so that the latter is parsed as a separate token, being recognize as a plugin prefix."}],"answers":[{"tags":[],"owner":{"account_id":26454327,"reputation":1,"user_id":20097077,"display_name":"yeskermesovv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683552320,"creation_date":1683552320,"answer_id":76201057,"question_id":74192150,"body_markdown":"I had same issue when executing this script in windows powershell. Error disappeared when executed same command in CMD","title":"No plugin found for prefix &#39;.to.image=fullstack&#39; in the current project (Jib Maven Plugin)","body":"<p>I had same issue when executing this script in windows powershell. Error disappeared when executed same command in CMD</p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683552320,"creation_date":1666691424,"question_id":74192150,"body_markdown":"I am trying to build a local Docker image with the Jib Maven plugin. \r\nI tried to run this command in my terminal (where I have my IntelliJ project):\r\n\r\n```D:\\GitHub\\fullstack\\fullstack&gt; ./mvnw jib:dockerBuild -Djib.to.image=fullstack:v1``` \r\n\r\nBut I get this log message:   \r\n```\r\nNo plugin found for prefix &#39;.to.image=fullstack&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] a\r\nvailable from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]\r\n``` \r\n\r\nI did a little bit of research on Google but I found nothing. I am not familiar with Maven, I am more familiar with Gradle. I will send pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.emanuel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;fullstack&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;fullstack&lt;/name&gt;\r\n\t&lt;description&gt;Fullstack project &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;from&gt;\r\n\t\t\t\t\t\t&lt;image&gt;openjdk:8&lt;/image&gt;\r\n\t\t\t\t\t&lt;/from&gt;\r\n\t\t\t\t\t&lt;container&gt;\r\n\t\t\t\t\t\t&lt;ports&gt;\r\n\t\t\t\t\t\t\t&lt;port&gt;8080&lt;/port&gt;\r\n\t\t\t\t\t\t&lt;/ports&gt;\r\n\t\t\t\t\t\t&lt;format&gt;OCI&lt;/format&gt;\r\n\t\t\t\t\t&lt;/container&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;build-frontend&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;!-- Use the latest released version:\r\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.11.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\r\n\t\t\t\t\t\t\t&lt;workingDirectory&gt;../frontend/build&lt;/workingDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;arguments&gt;install&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;npm run build&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;copy-build-folder&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;directory&gt;../frontend/build&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n&lt;!--\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;--&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nAnd also the full log with debug flag:\r\n\r\n``` \r\norg.apache.maven.plugin.prefix.NoPluginFoundForPrefixException: No plugin found for prefix &#39;.to.image=fullstack&#39; in the current project and in the plugi\r\nn groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://\r\nrepo.maven.apache.org/maven2)]\r\n    at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolve (DefaultPluginPrefixResolver.java:95)\r\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.findPluginForPrefix (MojoDescriptorCreator.java:266)\r\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.getMojoDescriptor (MojoDescriptorCreator.java:220)\r\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:104) \r\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:83)  \r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:89)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\r\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\r\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\r\n[ERROR]\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\r\n``` \r\n\r\n","title":"No plugin found for prefix &#39;.to.image=fullstack&#39; in the current project (Jib Maven Plugin)","body":"<p>I am trying to build a local Docker image with the Jib Maven plugin.\nI tried to run this command in my terminal (where I have my IntelliJ project):</p>\n<p><code>D:\\GitHub\\fullstack\\fullstack&gt; ./mvnw jib:dockerBuild -Djib.to.image=fullstack:v1</code></p>\n<p>But I get this log message:</p>\n<pre><code>No plugin found for prefix '.to.image=fullstack' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] a\nvailable from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]\n</code></pre>\n<p>I did a little bit of research on Google but I found nothing. I am not familiar with Maven, I am more familiar with Gradle. I will send pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.emanuel&lt;/groupId&gt;\n    &lt;artifactId&gt;fullstack&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;fullstack&lt;/name&gt;\n    &lt;description&gt;Fullstack project &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;from&gt;\n                        &lt;image&gt;openjdk:8&lt;/image&gt;\n                    &lt;/from&gt;\n                    &lt;container&gt;\n                        &lt;ports&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                        &lt;/ports&gt;\n                        &lt;format&gt;OCI&lt;/format&gt;\n                    &lt;/container&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;build-frontend&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                        &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                        &lt;!-- Use the latest released version:\n                                  https://repo1.maven.org/maven2/com/github/eirslett/frontend-maven-plugin/ --&gt;\n                        &lt;version&gt;1.11.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v4.6.0&lt;/nodeVersion&gt;\n                            &lt;workingDirectory&gt;../frontend/build&lt;/workingDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;install node and npm&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;nodeVersion&gt;v15.4.0&lt;/nodeVersion&gt;\n                                    &lt;npmVersion&gt;7.3.0&lt;/npmVersion&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm install&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;install&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;npm run build&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;npm&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;arguments&gt;run build&lt;/arguments&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy-build-folder&lt;/id&gt;\n                                &lt;phase&gt;process-classes&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;resources&gt;\n                                        &lt;resource&gt;\n                                            &lt;directory&gt;../frontend/build&lt;/directory&gt;\n                                        &lt;/resource&gt;\n                                    &lt;/resources&gt;\n                                    &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n&lt;!--                                    &lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;--&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And also the full log with debug flag:</p>\n<pre><code>org.apache.maven.plugin.prefix.NoPluginFoundForPrefixException: No plugin found for prefix '.to.image=fullstack' in the current project and in the plugi\nn groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\emanuel.butoi\\.m2\\repository), central (https://\nrepo.maven.apache.org/maven2)]\n    at org.apache.maven.plugin.prefix.internal.DefaultPluginPrefixResolver.resolve (DefaultPluginPrefixResolver.java:95)\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.findPluginForPrefix (MojoDescriptorCreator.java:266)\n    at org.apache.maven.lifecycle.internal.MojoDescriptorCreator.getMojoDescriptor (MojoDescriptorCreator.java:220)\n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:104) \n    at org.apache.maven.lifecycle.internal.DefaultLifecycleTaskSegmentCalculator.calculateTaskSegments (DefaultLifecycleTaskSegmentCalculator.java:83)  \n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:89)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.apache.maven.wrapper.BootstrapMainStarter.start (BootstrapMainStarter.java:47)\n    at org.apache.maven.wrapper.WrapperExecutor.execute (WrapperExecutor.java:156)\n    at org.apache.maven.wrapper.MavenWrapperMain.main (MavenWrapperMain.java:72)\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/NoPluginFoundForPrefixException\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683550598,"post_id":76200665,"comment_id":134379333,"body_markdown":"You&#39;ll need to do `OffsetDateTime.parse(val).toInstant()` but you&#39;ll need to fix up the offset to `+02:00`","body":"You&#39;ll need to do <code>OffsetDateTime.parse(val).toInstant()</code> but you&#39;ll need to fix up the offset to <code>+02:00</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683556087,"post_id":76200665,"comment_id":134380616,"body_markdown":"The work is easier if you use the fully expanded standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format. Always include the optional COLON character delimiting the hours and minutes of the offset.","body":"The work is easier if you use the fully expanded standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. Always include the optional COLON character delimiting the hours and minutes of the offset."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683551258,"creation_date":1683551258,"answer_id":76200917,"question_id":76200665,"body_markdown":"You could define your own formatter:\r\n```\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.Instant;\r\n// :\r\n// :\r\nDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSx&quot;);\r\nInstant result = Instant.from(customFormatter.parse(&quot;2023-05-04T19:40:07.000+0200&quot;));\r\n```\r\n(At the end you have to create a new `Instant` from the formatters parsing result, if you need exactly that class.)","title":"How to deserialize timestamp with offset into Instant","body":"<p>You could define your own formatter:</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.Instant;\n// :\n// :\nDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSx&quot;);\nInstant result = Instant.from(customFormatter.parse(&quot;2023-05-04T19:40:07.000+0200&quot;));\n</code></pre>\n<p>(At the end you have to create a new <code>Instant</code> from the formatters parsing result, if you need exactly that class.)</p>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76200917,"answer_count":1,"score":-1,"last_activity_date":1683551258,"creation_date":1683549380,"question_id":76200665,"body_markdown":"I have a json with timestamp having offsets from UTC (e.g., `2023-05-04T19:40:07.000+0200`). How to deserialize it into `java.time.Instant`)?\r\n```java\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.time.Instant;\r\n\r\npublic class MyInstantTest {\r\n\r\n    @Test\r\n    void test1() throws JsonProcessingException {\r\n\r\n        final ObjectMapper objectMapper = new ObjectMapper()\r\n                .registerModule(new JavaTimeModule())\r\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS);\r\n\r\n        final MyClass deserializedObject = objectMapper.readValue(&quot;{\\&quot;time\\&quot;:\\&quot;2023-05-04T19:40:07.000+0200\\&quot;}&quot;, MyClass.class);\r\n\r\n//        com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.Instant` from String \r\n//        &quot;2023-05-04T19:40:07.000+0200&quot;: Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text \r\n//        &#39;2023-05-04T19:40:07.000+0200&#39; could not be parsed at index 23\r\n//        at [Source: (String)&quot;{&quot;time&quot;:&quot;2023-05-04T19:40:07.000+0200&quot;}&quot;; line: 1, column: 9] (through reference chain: com.example.e\r\n//        .f.g.h.i.j.MyInstantTest$MyClass[&quot;time&quot;])\r\n\r\n        System.out.println(&quot;deserializedObject.getTime() = &quot; + deserializedObject.getTime());\r\n    }\r\n\r\n    static class MyClass {\r\n\r\n        MyClass() {\r\n\r\n        }\r\n\r\n        MyClass(Instant time) {\r\n\r\n            this.time = time;\r\n        }\r\n\r\n        public Instant getTime() {\r\n\r\n            return time;\r\n        }\r\n\r\n        public void setTime(final Instant time) {\r\n\r\n            this.time = time;\r\n        }\r\n\r\n        private Instant time;\r\n    }\r\n}\r\n```","title":"How to deserialize timestamp with offset into Instant","body":"<p>I have a json with timestamp having offsets from UTC (e.g., <code>2023-05-04T19:40:07.000+0200</code>). How to deserialize it into <code>java.time.Instant</code>)?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport org.junit.jupiter.api.Test;\n\nimport java.time.Instant;\n\npublic class MyInstantTest {\n\n    @Test\n    void test1() throws JsonProcessingException {\n\n        final ObjectMapper objectMapper = new ObjectMapper()\n                .registerModule(new JavaTimeModule())\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .disable(com.fasterxml.jackson.databind.SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS);\n\n        final MyClass deserializedObject = objectMapper.readValue(&quot;{\\&quot;time\\&quot;:\\&quot;2023-05-04T19:40:07.000+0200\\&quot;}&quot;, MyClass.class);\n\n//        com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `java.time.Instant` from String \n//        &quot;2023-05-04T19:40:07.000+0200&quot;: Failed to deserialize java.time.Instant: (java.time.format.DateTimeParseException) Text \n//        '2023-05-04T19:40:07.000+0200' could not be parsed at index 23\n//        at [Source: (String)&quot;{&quot;time&quot;:&quot;2023-05-04T19:40:07.000+0200&quot;}&quot;; line: 1, column: 9] (through reference chain: com.example.e\n//        .f.g.h.i.j.MyInstantTest$MyClass[&quot;time&quot;])\n\n        System.out.println(&quot;deserializedObject.getTime() = &quot; + deserializedObject.getTime());\n    }\n\n    static class MyClass {\n\n        MyClass() {\n\n        }\n\n        MyClass(Instant time) {\n\n            this.time = time;\n        }\n\n        public Instant getTime() {\n\n            return time;\n        }\n\n        public void setTime(final Instant time) {\n\n            this.time = time;\n        }\n\n        private Instant time;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10873224,"reputation":23,"user_id":7994433,"display_name":"Ragin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683550202,"creation_date":1683550202,"answer_id":76200776,"question_id":76199357,"body_markdown":"You have to handle the exception somewhere.\r\nSee https://www.baeldung.com/exception-handling-for-rest-with-spring for some examples.\r\n\r\nIf it is a REST service, you should use the @RestControllerAdvice annotation.\r\nHave a look at https://www.bezkoder.com/spring-boot-restcontrolleradvice/ for a tutorial.\r\n\r\nIn short: This component is catching at the end the exception, and you can decide there how you want to answer.\r\n\r\nIn the best case, you&#39;ll have your own exception(s), which can get the message and for example the HTTP status code as a constructor argument.\r\n\r\nThen you can throw this exception and catch it in this `ControllerAdvice`. There you can prepare the response and send it back.\r\n\r\nThis can look like this:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class GlobalRestExceptionHandler {\r\n    @ExceptionHandler(MyCustomException.class)\r\n    public ResponseEntity&lt;ErrorMessageDto&gt; handleMyCustomExceptionException(\r\n            final MyCustomException exception) {\r\n        final var errorMessage = new ErrorMessageDto();\r\n        errorMessage.setMessage(exception.getMessage());\r\n        return ResponseEntity.status(exception.getStatus()).body(errorMessage);\r\n    }\r\n}\r\n```","title":"comparing two object attributes Return 500","body":"<p>You have to handle the exception somewhere.\nSee <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/exception-handling-for-rest-with-spring</a> for some examples.</p>\n<p>If it is a REST service, you should use the @RestControllerAdvice annotation.\nHave a look at <a href=\"https://www.bezkoder.com/spring-boot-restcontrolleradvice/\" rel=\"nofollow noreferrer\">https://www.bezkoder.com/spring-boot-restcontrolleradvice/</a> for a tutorial.</p>\n<p>In short: This component is catching at the end the exception, and you can decide there how you want to answer.</p>\n<p>In the best case, you'll have your own exception(s), which can get the message and for example the HTTP status code as a constructor argument.</p>\n<p>Then you can throw this exception and catch it in this <code>ControllerAdvice</code>. There you can prepare the response and send it back.</p>\n<p>This can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class GlobalRestExceptionHandler {\n    @ExceptionHandler(MyCustomException.class)\n    public ResponseEntity&lt;ErrorMessageDto&gt; handleMyCustomExceptionException(\n            final MyCustomException exception) {\n        final var errorMessage = new ErrorMessageDto();\n        errorMessage.setMessage(exception.getMessage());\n        return ResponseEntity.status(exception.getStatus()).body(errorMessage);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683550202,"creation_date":1683539179,"question_id":76199357,"body_markdown":"I&#39;m doing a validation check and see if both objects in `items` have the same `paymentProcessor`, if not I need to throw an Error. So I created a new list and added these attributes to the list, then I did the following\r\n\r\n    if(!(Collections.frequency(paymentProcessor, paymentProcessor.get(0)) == paymentProcessor.size())){\r\n        throw new ExceptionHandler(&quot;Multiple payment processor is not supported!&quot;);\r\n    }\r\n\r\nthe Problem is whenever the `ExceptionHandler` triggers it gives me 500 internal server error instead of displaying the error message.\r\n\r\n//this is my Json\r\n\r\n    &quot;items&quot;: [\r\n            {\r\n                &quot;paymentProcessor&quot;: &quot;MPGS&quot;,\r\n                &quot;type&quot;: &quot;CARD&quot;,\r\n            },\r\n            {\r\n                &quot;paymentProcessor&quot;: &quot;xx&quot;,\r\n                &quot;type&quot;: &quot;CARD&quot;,\r\n            }\r\n        ]\r\n","title":"comparing two object attributes Return 500","body":"<p>I'm doing a validation check and see if both objects in <code>items</code> have the same <code>paymentProcessor</code>, if not I need to throw an Error. So I created a new list and added these attributes to the list, then I did the following</p>\n<pre><code>if(!(Collections.frequency(paymentProcessor, paymentProcessor.get(0)) == paymentProcessor.size())){\n    throw new ExceptionHandler(&quot;Multiple payment processor is not supported!&quot;);\n}\n</code></pre>\n<p>the Problem is whenever the <code>ExceptionHandler</code> triggers it gives me 500 internal server error instead of displaying the error message.</p>\n<p>//this is my Json</p>\n<pre><code>&quot;items&quot;: [\n        {\n            &quot;paymentProcessor&quot;: &quot;MPGS&quot;,\n            &quot;type&quot;: &quot;CARD&quot;,\n        },\n        {\n            &quot;paymentProcessor&quot;: &quot;xx&quot;,\n            &quot;type&quot;: &quot;CARD&quot;,\n        }\n    ]\n</code></pre>\n"},{"tags":["java","aws-lambda","junit","amazon-dynamodb","mockito"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1683561875,"post_id":76200760,"comment_id":134381923,"body_markdown":"How did you mock dynamoDbClient? It would be nice if you&#39;ll add remaining code for test class. Maybe issue is happening in attempt to create dynamoDbClient.","body":"How did you mock dynamoDbClient? It would be nice if you&#39;ll add remaining code for test class. Maybe issue is happening in attempt to create dynamoDbClient."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1683568590,"post_id":76200760,"comment_id":134383407,"body_markdown":"It&#39;s usually a [bad practice to mock types you don&#39;t own](https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own). You can use a [fake](https://www.martinfowler.com/articles/mocksArentStubs.html) class or do an integration test using something like [LocalStack](https://docs.localstack.cloud/user-guide/aws/dynamodb/) to spin up a fake implementation of dynamodb.","body":"It&#39;s usually a <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own\" rel=\"nofollow noreferrer\">bad practice to mock types you don&#39;t own</a>. You can use a <a href=\"https://www.martinfowler.com/articles/mocksArentStubs.html\" rel=\"nofollow noreferrer\">fake</a> class or do an integration test using something like <a href=\"https://docs.localstack.cloud/user-guide/aws/dynamodb/\" rel=\"nofollow noreferrer\">LocalStack</a> to spin up a fake implementation of dynamodb."}],"owner":{"account_id":11921339,"reputation":93,"user_id":8723790,"display_name":"Zhuang Paulus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683550106,"creation_date":1683550106,"question_id":76200760,"body_markdown":"I have a DynamoDB connection in AWS Lambda and I try to get an item from a table by key.\r\nThe code is like this\r\n\r\n\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\r\n    import software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\r\n    import software.amazon.awssdk.enhanced.dynamodb.TableSchema;\r\n    import software.amazon.awssdk.enhanced.dynamodb.model.GetItemEnhancedRequest;\r\n    ...\r\n    \r\n\r\n    public class FooLambda implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt;{\r\n    @Override\r\n    public APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input, Context context){\r\n    try {\r\n\r\n    ...\r\n\r\n    DynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.create();\r\n    DynamoDbTable&lt;FooEntity&gt; fooTable = enhancedClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class));\r\n    Key fooKey = Key.builder()\r\n    .partitionValue(&quot;foo_ket&quot;)\r\n    .build();\r\n    FooEntity fooItem = fooTable.getItem(GetItemEnhancedRequest.builder().key(fooKey).build());        \r\n    String barValue = fooItem.getBar();\r\n    \r\n    ...\r\n\r\n    } catch(Exception e){\r\n        System.out.println(e.getMessage());\r\n    }\r\n\r\nHow do I mock this part of code in the unit test? I tried the following but it did not work\r\n\r\n    import org.junit.Test;\r\n    import static org.mockito.ArgumentMatchers.any;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    // prepare mocking\r\n    DynamoDbTable&lt;fooEntity&gt; dynamoDbTable = mock(DynamoDbTable.class);\r\n    when(dynamoDbClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class))).thenReturn(dynamoDbTable);\r\n    FooEntity fooItem = mock(FooEntity.class);\r\n    when(dynamoDbTable.getItem(any(GetItemEnhancedRequest.class))).thenReturn(fooItem);\r\n    \r\n    // run test\r\n    APIGatewayProxyResponseEvent apiGatewayProxyResponseEvent = handler.handleRequest(input, context);\r\n\r\nThen error I got is\r\n\r\n    The security token included in the request is expired (Service: DynamoDb, Status Code: 400, Request ID: 03XXXXXXXXXXXXXXXX)\r\nwhich means I have not mocked the DynamoDB connection part successfully. How can I do it?","title":"How to mock DynamoDB in AWS Lambda using Java?","body":"<p>I have a DynamoDB connection in AWS Lambda and I try to get an item from a table by key.\nThe code is like this</p>\n<pre><code>import software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedClient;\nimport software.amazon.awssdk.enhanced.dynamodb.DynamoDbTable;\nimport software.amazon.awssdk.enhanced.dynamodb.TableSchema;\nimport software.amazon.awssdk.enhanced.dynamodb.model.GetItemEnhancedRequest;\n...\n\n\npublic class FooLambda implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt;{\n@Override\npublic APIGatewayProxyResponseEvent handleRequest(APIGatewayProxyRequestEvent input, Context context){\ntry {\n\n...\n\nDynamoDbEnhancedClient enhancedClient = DynamoDbEnhancedClient.create();\nDynamoDbTable&lt;FooEntity&gt; fooTable = enhancedClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class));\nKey fooKey = Key.builder()\n.partitionValue(&quot;foo_ket&quot;)\n.build();\nFooEntity fooItem = fooTable.getItem(GetItemEnhancedRequest.builder().key(fooKey).build());        \nString barValue = fooItem.getBar();\n\n...\n\n} catch(Exception e){\n    System.out.println(e.getMessage());\n}\n</code></pre>\n<p>How do I mock this part of code in the unit test? I tried the following but it did not work</p>\n<pre><code>import org.junit.Test;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\n// prepare mocking\nDynamoDbTable&lt;fooEntity&gt; dynamoDbTable = mock(DynamoDbTable.class);\nwhen(dynamoDbClient.table(&quot;foo_table&quot;, TableSchema.fromBean(FooEntity.class))).thenReturn(dynamoDbTable);\nFooEntity fooItem = mock(FooEntity.class);\nwhen(dynamoDbTable.getItem(any(GetItemEnhancedRequest.class))).thenReturn(fooItem);\n\n// run test\nAPIGatewayProxyResponseEvent apiGatewayProxyResponseEvent = handler.handleRequest(input, context);\n</code></pre>\n<p>Then error I got is</p>\n<pre><code>The security token included in the request is expired (Service: DynamoDb, Status Code: 400, Request ID: 03XXXXXXXXXXXXXXXX)\n</code></pre>\n<p>which means I have not mocked the DynamoDB connection part successfully. How can I do it?</p>\n"},{"tags":["java","multithreading","jdbc","postgresql-13"],"comments":[{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1683641919,"post_id":76200754,"comment_id":134395686,"body_markdown":"Why is the column `lock` defined as `varchar(255)` when you say it is set to `integer`? This is not exact related, but such design decisions (similar is the usage of UUID as PK) somehow suggest that the performance is not the first thing you follow...","body":"Why is the column <code>lock</code> defined as <code>varchar(255)</code> when you say it is set to <code>integer</code>? This is not exact related, but such design decisions (similar is the usage of UUID as PK) somehow suggest that the performance is not the first thing you follow..."}],"owner":{"account_id":422350,"reputation":5723,"user_id":801072,"accept_rate":50,"display_name":"thehpi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683550077,"creation_date":1683550077,"question_id":76200754,"body_markdown":"I have a table which has an id and a lock column.\r\n\r\n````\r\ncreate table mytable(id varchar(255),lock varchar(255), primary key (id));\r\ncreate index idx_mytable_lock on mytable (lock);\r\n````\r\n\r\nI populated it with 1 million records where only the id gets a unique UUID value.\r\n\r\nI have 8 processes that are trying to update the lock column to a unique value. The idea behind this is that those processors are consumers of this table and want to do something per id. This is the update statement.\r\n\r\n````\r\nUPDATE\r\n    mytable t\r\nSET LOCK = ?\r\nFROM (SELECT id\r\n      FROM mytable\r\n      WHERE LOCK IS NULL\r\n          FOR UPDATE SKIP LOCKED\r\n      LIMIT 500) AS subq\r\nWHERE t.id = subq.id\r\n  AND t.lock is null\r\nreturning t.id\r\n````\r\n\r\nThis is being executed using java and jdbc and the ? in the statement is a parameter which is set to an integer which acts as the thread id. I&#39;m not using transactions so every statement I execute is auto committed.\r\n\r\nIf I run the 8 thread they start running and update 500 records each until all records are updated and have an integer value in the lock column. No problems.\r\n\r\nNow I want to retry the whole thing so I run an update to set the lock column back to null \r\n\r\n    UPDATE mytable set lock = null where lock is not null;\r\n\r\nand after that I restart the 8 processes. What I now see is that the threads are hanging. \r\n\r\nI&#39;m querying the postgresql database processes:\r\n\r\n````\r\nselect\r\n\tpid,\r\n\tclient_addr,\r\n\tstate,\r\n\tquery_start,\r\n\tnow() - query_start since,\r\n\tquery\r\nfrom\r\n\tpg_stat_activity\r\nwhere state &lt;&gt; &#39;idle&#39;\r\norder by\r\n\t5 desc;\r\n````\r\n\r\nOutput:\r\n\r\n````\r\n  pid  | client_addr | state  |          query_start          |      since      |                                                                        query\r\n-------+-------------+--------+-------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------\r\n 19058 | 10.8.4.35   | active | 2023-05-08 12:24:41.333687+00 | 00:08:44.361053 | UPDATE                                                                                                                                              +\r\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\r\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\r\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\r\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\r\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\r\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\r\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\r\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\r\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\r\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\r\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\r\n       |             |        |                               |                 |\r\n 19057 | 10.8.4.35   | active | 2023-05-08 12:24:41.334555+00 | 00:08:44.360185 | UPDATE                                                                                                                                              +\r\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\r\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\r\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\r\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\r\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\r\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\r\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\r\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\r\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\r\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\r\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\r\n.\r\n.\r\n.\r\n````\r\n\r\nThis is repeated 8 times. So I see the processes are running. This will stay for this for at least 30 minutes (I stopped them after that).\r\n\r\nMy thoughts: there is some locking and blocking going on so I ran:\r\n\r\n````\r\nSELECT\r\n\tblockeda.pid AS blocked_pid,\r\n\tblockeda.state as bd_state,\r\n\tnow() - blockeda.query_start AS waiting,\r\n\tblockinga.pid AS blocking_pid,\r\n\tblockinga.state as bi_state\r\nFROM\r\n\tpg_catalog.pg_locks blockedl\r\n\tJOIN pg_stat_activity blockeda ON blockedl.pid = blockeda.pid\r\n\tJOIN pg_catalog.pg_locks blockingl ON(\r\n\t\t(\r\n\t\t\t(\r\n\t\t\t\tblockingl.transactionid = blockedl.transactionid\r\n\t\t\t)\r\n\t\t\tOR (\r\n\t\t\t\tblockingl.relation = blockedl.relation\r\n\t\t\t\tAND blockingl.locktype = blockedl.locktype\r\n\t\t\t)\r\n\t\t)\r\n\t\tAND blockedl.pid != blockingl.pid\r\n\t)\r\n\tJOIN pg_stat_activity blockinga ON blockingl.pid = blockinga.pid\r\n\tAND blockinga.datid = blockeda.datid\r\nWHERE\r\n\tNOT blockedl.granted\r\n\tAND blockinga.datname = current_database();\r\n````\r\n\r\n(taken from https://wiki.postgresql.org/wiki/Lock_Monitoring)\r\n\r\nBut it does not produce any output which means there are no processes waiting for locks.\r\nSo what is it hanging on?? Then I checked postgresql and it is very busy, it is consuming CPU for all threads so it does not seem to be waiting for something.\r\n\r\nCould it be it is hanging on some internal resource?\r\n\r\nI&#39;m using a postgresql database on AWS with version 13.10 and 4Gb of ram. I checked the table stats and the table is using way less that that. So it does not seem to be a limitation with memory.\r\n\r\nHere my knowledge stops. How is it possible that this is happening? If I retry the statement with a lower number, so instead of 500 only a 100 limit then it seems to be working all the time. It also does not always happen. I also retried with a 1000 limit and that also sometimes works and sometimes not.\r\n\r\nWhat seems to be a clear trigger is the update statement that updates all records to lock=null. So if the lock column is already null all works fine. If I let the 8 threads update all record with an actual lock value and then clear all of them and restart the process then it starts hanging again.\r\n\r\nHope someone has an explanation for this.","title":"Postgresql update is hanging without having blocking locks","body":"<p>I have a table which has an id and a lock column.</p>\n<pre><code>create table mytable(id varchar(255),lock varchar(255), primary key (id));\ncreate index idx_mytable_lock on mytable (lock);\n</code></pre>\n<p>I populated it with 1 million records where only the id gets a unique UUID value.</p>\n<p>I have 8 processes that are trying to update the lock column to a unique value. The idea behind this is that those processors are consumers of this table and want to do something per id. This is the update statement.</p>\n<pre><code>UPDATE\n    mytable t\nSET LOCK = ?\nFROM (SELECT id\n      FROM mytable\n      WHERE LOCK IS NULL\n          FOR UPDATE SKIP LOCKED\n      LIMIT 500) AS subq\nWHERE t.id = subq.id\n  AND t.lock is null\nreturning t.id\n</code></pre>\n<p>This is being executed using java and jdbc and the ? in the statement is a parameter which is set to an integer which acts as the thread id. I'm not using transactions so every statement I execute is auto committed.</p>\n<p>If I run the 8 thread they start running and update 500 records each until all records are updated and have an integer value in the lock column. No problems.</p>\n<p>Now I want to retry the whole thing so I run an update to set the lock column back to null</p>\n<pre><code>UPDATE mytable set lock = null where lock is not null;\n</code></pre>\n<p>and after that I restart the 8 processes. What I now see is that the threads are hanging.</p>\n<p>I'm querying the postgresql database processes:</p>\n<pre><code>select\n    pid,\n    client_addr,\n    state,\n    query_start,\n    now() - query_start since,\n    query\nfrom\n    pg_stat_activity\nwhere state &lt;&gt; 'idle'\norder by\n    5 desc;\n</code></pre>\n<p>Output:</p>\n<pre><code>  pid  | client_addr | state  |          query_start          |      since      |                                                                        query\n-------+-------------+--------+-------------------------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------\n 19058 | 10.8.4.35   | active | 2023-05-08 12:24:41.333687+00 | 00:08:44.361053 | UPDATE                                                                                                                                              +\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\n       |             |        |                               |                 |\n 19057 | 10.8.4.35   | active | 2023-05-08 12:24:41.334555+00 | 00:08:44.360185 | UPDATE                                                                                                                                              +\n       |             |        |                               |                 |     mytable fs                                                                                                                                      +\n       |             |        |                               |                 | SET LOCK = $1                                                                                                                                       +\n       |             |        |                               |                 | FROM (SELECT id                                                                                                                                     +\n       |             |        |                               |                 |       FROM mytable                                                                                                                                  +\n       |             |        |                               |                 |       WHERE   LOCK IS NULL                                                                                                                          +\n       |             |        |                               |                 |       FOR UPDATE SKIP LOCKED                                                                                                                        +\n       |             |        |                               |                 |       LIMIT 500                                                                                                                                     +\n       |             |        |                               |                 |      ) AS subq                                                                                                                                      +\n       |             |        |                               |                 | WHERE fs.id = subq.id                                                                                                                               +\n       |             |        |                               |                 | AND fs.lock is null                                                                                                                                 +\n       |             |        |                               |                 | returning fs.id                                                                                                                                     +\n.\n.\n.\n</code></pre>\n<p>This is repeated 8 times. So I see the processes are running. This will stay for this for at least 30 minutes (I stopped them after that).</p>\n<p>My thoughts: there is some locking and blocking going on so I ran:</p>\n<pre><code>SELECT\n    blockeda.pid AS blocked_pid,\n    blockeda.state as bd_state,\n    now() - blockeda.query_start AS waiting,\n    blockinga.pid AS blocking_pid,\n    blockinga.state as bi_state\nFROM\n    pg_catalog.pg_locks blockedl\n    JOIN pg_stat_activity blockeda ON blockedl.pid = blockeda.pid\n    JOIN pg_catalog.pg_locks blockingl ON(\n        (\n            (\n                blockingl.transactionid = blockedl.transactionid\n            )\n            OR (\n                blockingl.relation = blockedl.relation\n                AND blockingl.locktype = blockedl.locktype\n            )\n        )\n        AND blockedl.pid != blockingl.pid\n    )\n    JOIN pg_stat_activity blockinga ON blockingl.pid = blockinga.pid\n    AND blockinga.datid = blockeda.datid\nWHERE\n    NOT blockedl.granted\n    AND blockinga.datname = current_database();\n</code></pre>\n<p>(taken from <a href=\"https://wiki.postgresql.org/wiki/Lock_Monitoring\" rel=\"nofollow noreferrer\">https://wiki.postgresql.org/wiki/Lock_Monitoring</a>)</p>\n<p>But it does not produce any output which means there are no processes waiting for locks.\nSo what is it hanging on?? Then I checked postgresql and it is very busy, it is consuming CPU for all threads so it does not seem to be waiting for something.</p>\n<p>Could it be it is hanging on some internal resource?</p>\n<p>I'm using a postgresql database on AWS with version 13.10 and 4Gb of ram. I checked the table stats and the table is using way less that that. So it does not seem to be a limitation with memory.</p>\n<p>Here my knowledge stops. How is it possible that this is happening? If I retry the statement with a lower number, so instead of 500 only a 100 limit then it seems to be working all the time. It also does not always happen. I also retried with a 1000 limit and that also sometimes works and sometimes not.</p>\n<p>What seems to be a clear trigger is the update statement that updates all records to lock=null. So if the lock column is already null all works fine. If I let the 8 threads update all record with an actual lock value and then clear all of them and restart the process then it starts hanging again.</p>\n<p>Hope someone has an explanation for this.</p>\n"},{"tags":["java","unit-testing","jersey","glassfish","multipartform-data"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1683835562,"post_id":76192305,"comment_id":134431641,"body_markdown":"Try using the JerseyTest framework and run integration test. It might be easier","body":"Try using the JerseyTest framework and run integration test. It might be easier"},{"owner":{"account_id":26446267,"reputation":86,"user_id":20090078,"display_name":"Harsha"},"score":0,"creation_date":1683875531,"post_id":76192305,"comment_id":134436317,"body_markdown":"@PaulSamsotha I want to test my  manager layer not the service layer. Can I do that with jersey test framework? And also it will be helpful if you can provide some resources.","body":"@PaulSamsotha I want to test my  manager layer not the service layer. Can I do that with jersey test framework? And also it will be helpful if you can provide some resources."}],"owner":{"account_id":26446267,"reputation":86,"user_id":20090078,"display_name":"Harsha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683549379,"creation_date":1683436908,"question_id":76192305,"body_markdown":"I am trying to pass multiparform data fields `Map&lt;String, List&lt;FormDataBodyPart&gt;&gt;`, the input I get from the rest API to the manager class that accepts the multipart fields as a input and read it and perform the required action.\r\n\r\n    JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\r\n\r\nAssuming I always get the only one element only. The method works when I hit a postman request.\r\n\r\nBut when I am trying to unit test the manager class that accepts the field of the multipart form data throws an error\r\n\r\n    java.lang.IllegalStateException: Entity instance does not contain the unconverted content.\r\n    \r\n    \tat org.glassfish.jersey.media.multipart.BodyPart.getEntityAs(BodyPart.java:267)\r\n    \tat org.glassfish.jersey.media.multipart.FormDataBodyPart.getValueAs(FormDataBodyPart.java:291)\r\n    \tat com.confluxsys.iam.adc.core.impl.request.RequestManagerImpl.createRequest(RequestManagerImpl.java:178)\r\n    \tat com.confluxsys.iam.adc.util.request.TestRequestManagerV2.createRequestV2(TestRequestManagerV2.java:154)\r\n\r\n**Test class code --&gt;** \r\n\r\n    String data = &quot;{&quot;menu&quot;:{&quot;id&quot;:&quot;file&quot;,&quot;value&quot;:&quot;File&quot;,&quot;popup&quot;:{&quot;menuitem&quot;:[{&quot;value&quot;:&quot;New&quot;,&quot;onclick&quot;:&quot;CreateNewDoc()&quot;},{&quot;value&quot;:&quot;Open&quot;,&quot;onclick&quot;:&quot;OpenDoc()&quot;},{&quot;value&quot;:&quot;Close&quot;,&quot;onclick&quot;:&quot;CloseDoc()&quot;}]}}}&quot;;    \r\n    InputStream jsonStream;\r\n                try (FormDataMultiPart formDataMultiPart = new FormDataMultiPart()) {\r\n                    FormDataBodyPart form1 = new FormDataBodyPart();\r\n                    jsonStream = new ByteArrayInputStream(config.getBytes());\r\n                    form1.setMediaType(MediaType.APPLICATION_JSON_TYPE);\r\n                    form1.setValue(MediaType.APPLICATION_JSON_TYPE, jsonStream);\r\n                    form1.setName(&quot;part-config&quot;);\r\n                    form1.getHeaders().add(&quot;Content-Length&quot;, String.valueOf(config.getBytes().length));\r\n        \r\n        \r\n                    formDataMultiPart.bodyPart(form1);\r\n                  requestManager.createRequest(formDataMultiPart.getFields());\r\n                }\r\n\r\n\r\n\r\n**Main class code ---&gt;**\r\n\t\r\n    public void createRequest(Map&lt;String, List&lt;FormDataBodyPart&gt;&gt; requestFields) throws SystemFailureException, com.confluxsys.iap.config.util.ObjectNotFoundException {\r\n    if (!requestFields.containsKey(REQUEST)) {\r\n    \t\t\tlogger.error(&quot;Request json is not passed in the request payload&quot;);\r\n    \t\t\tthrow new IllegalArgumentException(&quot;The &#39;request&#39; body part is missing in the payload.&quot;);\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tObjectMapper objectMapper = new objectMapper() ;\r\n    \t\t\t//as data [request] will always be sent assuming it will be present at first location\r\n                JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\r\n    /*validation after reading */\r\n    }catch (Exception e) {\r\n    \t\t\tthrow new SystemFailureException(&quot;Error occured while creating request .Rolling back all operation .cause : &quot;, e);\r\n    \t\t}\r\n    }\r\n\r\n\r\nCan anyone suggest is there any way I can unit test this class?\r\n\r\nLibrary --&gt; org.glassfish.jersey 2.35","title":"How to unit test the multi/part form-data using glassfish jersey?","body":"<p>I am trying to pass multiparform data fields <code>Map&lt;String, List&lt;FormDataBodyPart&gt;&gt;</code>, the input I get from the rest API to the manager class that accepts the multipart fields as a input and read it and perform the required action.</p>\n<pre><code>JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\n</code></pre>\n<p>Assuming I always get the only one element only. The method works when I hit a postman request.</p>\n<p>But when I am trying to unit test the manager class that accepts the field of the multipart form data throws an error</p>\n<pre><code>java.lang.IllegalStateException: Entity instance does not contain the unconverted content.\n\n    at org.glassfish.jersey.media.multipart.BodyPart.getEntityAs(BodyPart.java:267)\n    at org.glassfish.jersey.media.multipart.FormDataBodyPart.getValueAs(FormDataBodyPart.java:291)\n    at com.confluxsys.iam.adc.core.impl.request.RequestManagerImpl.createRequest(RequestManagerImpl.java:178)\n    at com.confluxsys.iam.adc.util.request.TestRequestManagerV2.createRequestV2(TestRequestManagerV2.java:154)\n</code></pre>\n<p><strong>Test class code --&gt;</strong></p>\n<pre><code>String data = &quot;{&quot;menu&quot;:{&quot;id&quot;:&quot;file&quot;,&quot;value&quot;:&quot;File&quot;,&quot;popup&quot;:{&quot;menuitem&quot;:[{&quot;value&quot;:&quot;New&quot;,&quot;onclick&quot;:&quot;CreateNewDoc()&quot;},{&quot;value&quot;:&quot;Open&quot;,&quot;onclick&quot;:&quot;OpenDoc()&quot;},{&quot;value&quot;:&quot;Close&quot;,&quot;onclick&quot;:&quot;CloseDoc()&quot;}]}}}&quot;;    \nInputStream jsonStream;\n            try (FormDataMultiPart formDataMultiPart = new FormDataMultiPart()) {\n                FormDataBodyPart form1 = new FormDataBodyPart();\n                jsonStream = new ByteArrayInputStream(config.getBytes());\n                form1.setMediaType(MediaType.APPLICATION_JSON_TYPE);\n                form1.setValue(MediaType.APPLICATION_JSON_TYPE, jsonStream);\n                form1.setName(&quot;part-config&quot;);\n                form1.getHeaders().add(&quot;Content-Length&quot;, String.valueOf(config.getBytes().length));\n    \n    \n                formDataMultiPart.bodyPart(form1);\n              requestManager.createRequest(formDataMultiPart.getFields());\n            }\n</code></pre>\n<p><strong>Main class code ---&gt;</strong></p>\n<pre><code>public void createRequest(Map&lt;String, List&lt;FormDataBodyPart&gt;&gt; requestFields) throws SystemFailureException, com.confluxsys.iap.config.util.ObjectNotFoundException {\nif (!requestFields.containsKey(REQUEST)) {\n            logger.error(&quot;Request json is not passed in the request payload&quot;);\n            throw new IllegalArgumentException(&quot;The 'request' body part is missing in the payload.&quot;);\n        }\n\n        try {\n            ObjectMapper objectMapper = new objectMapper() ;\n            //as data [request] will always be sent assuming it will be present at first location\n            JsonNode data = objectMapper.readTree(requestFields.get(REQUEST).get(0).getValueAs(InputStream.class));\n/*validation after reading */\n}catch (Exception e) {\n            throw new SystemFailureException(&quot;Error occured while creating request .Rolling back all operation .cause : &quot;, e);\n        }\n}\n</code></pre>\n<p>Can anyone suggest is there any way I can unit test this class?</p>\n<p>Library --&gt; org.glassfish.jersey 2.35</p>\n"},{"tags":["java","maven-2","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1253208764,"creation_date":1253208764,"answer_id":1440241,"question_id":1440224,"body_markdown":"Your plugin needs to create an Artifact using the ArtifactFactory and the groupId, artifactId and version of the artifact to be bootstrapped, then pass that artifact to an ArtifactResolver to handle the discovery/download. \r\n\r\nThe resolver needs access to the local repository and remote repositories. The good news is that all those are plexus components that you can declare as dependencies in your Mojo and have Plexus wire them in for you.\r\n\r\nIn [another answer][1] I showed how to do this. In your case you need a cut-down version with slightly different parameters to read the groupId, artifactId and version. In the plugin below, the various components are declared as plexus components, and the properties to declare the groupId, artifactId, version, and packaging type.\r\n\r\n\r\n    package name.seller.rich.maven.plugins.bootstrap;\r\n\r\n    import java.util.List;\r\n\r\n    import org.apache.maven.artifact.Artifact;\r\n    import org.apache.maven.artifact.factory.ArtifactFactory;\r\n    import org.apache.maven.artifact.repository.ArtifactRepository;\r\n    import org.apache.maven.artifact.resolver.ArtifactNotFoundException;\r\n    import org.apache.maven.artifact.resolver.ArtifactResolutionException;\r\n    import org.apache.maven.artifact.resolver.ArtifactResolver;\r\n    import org.apache.maven.plugin.AbstractMojo;\r\n    import org.apache.maven.plugin.MojoExecutionException;\r\n    import org.apache.maven.plugin.MojoFailureException;\r\n\r\n    /**\r\n     * Obtain the artifact defined by the groupId, artifactId, and version\r\n     * from the remote repository.\r\n     * \r\n     * @goal bootstrap\r\n     */\r\n    public class BootstrapAppMojo extends AbstractMojo {\r\n\r\n        /**\r\n         * Used to look up Artifacts in the remote repository.\r\n         * \r\n         * @parameter expression=\r\n         *  &quot;${component.org.apache.maven.artifact.factory.ArtifactFactory}&quot;\r\n         * @required\r\n         * @readonly\r\n         */\r\n        protected ArtifactFactory factory;\r\n\r\n        /**\r\n         * Used to look up Artifacts in the remote repository.\r\n         * \r\n         * @parameter expression=\r\n         *  &quot;${component.org.apache.maven.artifact.resolver.ArtifactResolver}&quot;\r\n         * @required\r\n         * @readonly\r\n         */\r\n        protected ArtifactResolver artifactResolver;\r\n\r\n        /**\r\n         * List of Remote Repositories used by the resolver\r\n         * \r\n         * @parameter expression=&quot;${project.remoteArtifactRepositories}&quot;\r\n         * @readonly\r\n         * @required\r\n         */\r\n        protected List remoteRepositories;\r\n\r\n        /**\r\n         * Location of the local repository.\r\n         * \r\n         * @parameter expression=&quot;${localRepository}&quot;\r\n         * @readonly\r\n         * @required\r\n         */\r\n        protected ArtifactRepository localRepository;\r\n\r\n        /**\r\n         * The target pom&#39;s artifactId\r\n         * \r\n         * @parameter expression=&quot;${bootstrapArtifactId}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapArtifactId;\r\n\r\n        /**\r\n         * The target pom&#39;s groupId\r\n         * \r\n         * @parameter expression=&quot;${bootstrapGroupId}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapGroupId;\r\n\r\n        /**\r\n         * The target pom&#39;s type\r\n         * \r\n         * @parameter expression=&quot;${bootstrapType}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapType;\r\n\r\n        /**\r\n         * The target pom&#39;s version\r\n         * \r\n         * @parameter expression=&quot;${bootstrapVersion}&quot;\r\n         * @required\r\n         */\r\n        private String bootstrapVersion;\r\n\r\n        public void execute() throws MojoExecutionException, MojoFailureException {\r\n            try {\r\n                Artifact pomArtifact = this.factory.createArtifact(\r\n                    bootstrapGroupId, bootstrapArtifactId, bootstrapVersion,\r\n                    &quot;&quot;, bootstrapType);\r\n\r\n                artifactResolver.resolve(pomArtifact, this.remoteRepositories,\r\n                    this.localRepository);\r\n            } catch (ArtifactResolutionException e) {\r\n                getLog().error(&quot;can&#39;t resolve parent pom&quot;, e);\r\n            } catch (ArtifactNotFoundException e) {\r\n                getLog().error(&quot;can&#39;t resolve parent pom&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is an example of a pom configured to use the plugin (and download the aspectjrt 1.6.4 pom):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bootstrap-test&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;build&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-bootstrap-plugin&lt;/artifactId&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;phase&gt;package&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;bootstrap&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                  &lt;configuration&gt;\r\n                    &lt;bootstrapGroupId&gt;org.aspectj&lt;/bootstrapGroupId&gt;\r\n                    &lt;bootstrapArtifactId&gt;aspectjrt&lt;/bootstrapArtifactId&gt;\r\n                    &lt;bootstrapVersion&gt;1.6.4&lt;/bootstrapVersion&gt;\r\n                    &lt;bootstrapType&gt;pom&lt;/bootstrapType&gt;\r\n                  &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/951643/collapsing-parent-pom-into-the-child/1001575#1001575","title":"How can I download Maven artifacts within a plugin?","body":"<p>Your plugin needs to create an Artifact using the ArtifactFactory and the groupId, artifactId and version of the artifact to be bootstrapped, then pass that artifact to an ArtifactResolver to handle the discovery/download. </p>\n\n<p>The resolver needs access to the local repository and remote repositories. The good news is that all those are plexus components that you can declare as dependencies in your Mojo and have Plexus wire them in for you.</p>\n\n<p>In <a href=\"https://stackoverflow.com/questions/951643/collapsing-parent-pom-into-the-child/1001575#1001575\">another answer</a> I showed how to do this. In your case you need a cut-down version with slightly different parameters to read the groupId, artifactId and version. In the plugin below, the various components are declared as plexus components, and the properties to declare the groupId, artifactId, version, and packaging type.</p>\n\n<pre><code>package name.seller.rich.maven.plugins.bootstrap;\n\nimport java.util.List;\n\nimport org.apache.maven.artifact.Artifact;\nimport org.apache.maven.artifact.factory.ArtifactFactory;\nimport org.apache.maven.artifact.repository.ArtifactRepository;\nimport org.apache.maven.artifact.resolver.ArtifactNotFoundException;\nimport org.apache.maven.artifact.resolver.ArtifactResolutionException;\nimport org.apache.maven.artifact.resolver.ArtifactResolver;\nimport org.apache.maven.plugin.AbstractMojo;\nimport org.apache.maven.plugin.MojoExecutionException;\nimport org.apache.maven.plugin.MojoFailureException;\n\n/**\n * Obtain the artifact defined by the groupId, artifactId, and version\n * from the remote repository.\n * \n * @goal bootstrap\n */\npublic class BootstrapAppMojo extends AbstractMojo {\n\n    /**\n     * Used to look up Artifacts in the remote repository.\n     * \n     * @parameter expression=\n     *  \"${component.org.apache.maven.artifact.factory.ArtifactFactory}\"\n     * @required\n     * @readonly\n     */\n    protected ArtifactFactory factory;\n\n    /**\n     * Used to look up Artifacts in the remote repository.\n     * \n     * @parameter expression=\n     *  \"${component.org.apache.maven.artifact.resolver.ArtifactResolver}\"\n     * @required\n     * @readonly\n     */\n    protected ArtifactResolver artifactResolver;\n\n    /**\n     * List of Remote Repositories used by the resolver\n     * \n     * @parameter expression=\"${project.remoteArtifactRepositories}\"\n     * @readonly\n     * @required\n     */\n    protected List remoteRepositories;\n\n    /**\n     * Location of the local repository.\n     * \n     * @parameter expression=\"${localRepository}\"\n     * @readonly\n     * @required\n     */\n    protected ArtifactRepository localRepository;\n\n    /**\n     * The target pom's artifactId\n     * \n     * @parameter expression=\"${bootstrapArtifactId}\"\n     * @required\n     */\n    private String bootstrapArtifactId;\n\n    /**\n     * The target pom's groupId\n     * \n     * @parameter expression=\"${bootstrapGroupId}\"\n     * @required\n     */\n    private String bootstrapGroupId;\n\n    /**\n     * The target pom's type\n     * \n     * @parameter expression=\"${bootstrapType}\"\n     * @required\n     */\n    private String bootstrapType;\n\n    /**\n     * The target pom's version\n     * \n     * @parameter expression=\"${bootstrapVersion}\"\n     * @required\n     */\n    private String bootstrapVersion;\n\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        try {\n            Artifact pomArtifact = this.factory.createArtifact(\n                bootstrapGroupId, bootstrapArtifactId, bootstrapVersion,\n                \"\", bootstrapType);\n\n            artifactResolver.resolve(pomArtifact, this.remoteRepositories,\n                this.localRepository);\n        } catch (ArtifactResolutionException e) {\n            getLog().error(\"can't resolve parent pom\", e);\n        } catch (ArtifactNotFoundException e) {\n            getLog().error(\"can't resolve parent pom\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>This is an example of a pom configured to use the plugin (and download the aspectjrt 1.6.4 pom):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\n  &lt;artifactId&gt;bootstrap-test&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;name.seller.rich&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-bootstrap-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;bootstrap&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;bootstrapGroupId&gt;org.aspectj&lt;/bootstrapGroupId&gt;\n                &lt;bootstrapArtifactId&gt;aspectjrt&lt;/bootstrapArtifactId&gt;\n                &lt;bootstrapVersion&gt;1.6.4&lt;/bootstrapVersion&gt;\n                &lt;bootstrapType&gt;pom&lt;/bootstrapType&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2377255,"reputation":103,"user_id":2080250,"display_name":"Petr Hadraba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683549066,"creation_date":1683549066,"answer_id":76200620,"question_id":1440224,"body_markdown":"I&#39;m facing similar issue. I want to extract specific files from plugin&#39;s dependencies in order not to pollute main artifact&#39;s dependencies.\r\n\r\nThe solution using &quot;old&quot; Maven API is obvious and straightforward. Except the deprecation.\r\n\r\nI decided to investigate new ways to do it using new API.\r\n\r\nMy main inspiration was [Maven Dependency Plug-In](https://github.com/apache/maven-dependency-plugin/tree/maven-dependency-plugin-3.5.0) especially [GetMojo](https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/GetMojo.java), [UnpackDependenciesMojo](https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/fromDependencies/UnpackDependenciesMojo.java) and [UnpackUtil](https://github.com/apache/maven-dependency-plugin/blob/master/src/main/java/org/apache/maven/plugins/dependency/utils/UnpackUtil.java).\r\n\r\nIn short, what has to be done:\r\n1. Create `org.apache.maven.shared.transfer.dependencies.DependableCoordinate` which points to desired GAV. Nothing special here; use `org.apache.maven.shared.transfer.dependencies.DefaultDependableCoordinate` POJO.\r\n2. Resolve the artifact. This is probably the most complex task. We need to set-up repositories, which can be obtained from Project&#39;s remote repositories and injecting proxies and authorization stuff. With this done we can use `org.apache.maven.shared.transfer.dependencies.resolve.DependencyResolver` to do the job.\r\n3. Extracting resolved artifact. `org.codehaus.plexus.archiver.UnArchiver` is our friend. To get an instance, we can use `org.codehaus.plexus.archiver.manager.ArchiverManager#getUnArchiver()`. There are two options: by type or by file extension.\r\n\r\nI developed/tested the following code with Maven 3.8.6 and Maven 3.9.1.\r\n\r\n### Common injection\r\n\r\n```\r\n    @Parameter(defaultValue = &quot;${project.build.directory}/download&quot;, required = true)\r\n    private File outputDirectory;\r\n\r\n    @Parameter\r\n    private List&lt;String&gt; includes = new ArrayList&lt;&gt;();\r\n\r\n    @Inject\r\n    private ArchiverManager archiverManager;\r\n\r\n    @Inject\r\n    private RepositorySystem repositorySystem;\r\n\r\n    @Inject\r\n    private DependencyResolver dependencyResolver;\r\n\r\n    @Parameter(defaultValue = &quot;${plugin}&quot;, readonly = true, required = true)\r\n    private PluginDescriptor pluginDescriptor;\r\n\r\n    @Parameter(defaultValue = &quot;${project}&quot;, readonly = true, required = true)\r\n    private MavenProject project;\r\n\r\n    @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\r\n    private MavenSession session;\r\n```\r\n\r\n### Creation of repositories for `DependencyResolver`\r\n\r\n```\r\n    private static List&lt;ArtifactRepository&gt; createRepositories(\r\n            final MavenProject project,\r\n            final MavenSession session,\r\n            final RepositorySystem repositorySystem) {\r\n        final List&lt;ArtifactRepository&gt; repositories = new ArrayList&lt;&gt;();\r\n\r\n        final var policy = new ArtifactRepositoryPolicy(\r\n                true,\r\n                ArtifactRepositoryPolicy.UPDATE_POLICY_ALWAYS,\r\n                ArtifactRepositoryPolicy.CHECKSUM_POLICY_FAIL);\r\n\r\n        project.getRemoteArtifactRepositories().forEach(\r\n                remoteRepository -&gt; repositories.add(\r\n                        new MavenArtifactRepository(\r\n                                remoteRepository.getId(),\r\n                                remoteRepository.getUrl(),\r\n                                remoteRepository.getLayout(),\r\n                                policy,\r\n                                policy)));\r\n\r\n        final var settings = session.getSettings();\r\n        repositorySystem.injectMirror(repositories, settings.getMirrors());\r\n        repositorySystem.injectProxy(repositories, settings.getProxies());\r\n        repositorySystem.injectAuthentication(repositories, settings.getServers());\r\n\r\n        return repositories;\r\n    }\r\n```\r\n\r\n### Resolving `DependableCoordinate`\r\n\r\n```\r\n    private static Iterable&lt;ArtifactResult&gt; resolveArtifact(\r\n            final DependableCoordinate artifact,\r\n            final List&lt;ArtifactRepository&gt; repositories,\r\n            final MavenSession session,\r\n            final DependencyResolver dependencyResolver)\r\n            throws DependencyResolverException {\r\n        final ProjectBuildingRequest buildingRequest\r\n                = new DefaultProjectBuildingRequest(session.getProjectBuildingRequest());\r\n        buildingRequest.setRemoteRepositories(repositories);\r\n        return dependencyResolver.resolveDependencies(buildingRequest, artifact, null);\r\n    }\r\n```\r\n\r\n### The extraction itself\r\n\r\n```\r\n    private static void extract(\r\n            final Artifact artifact,\r\n            final File directory,\r\n            final FileSelector[] selectors,\r\n            final ArchiverManager archiverManager)\r\n            throws IOException, MojoFailureException {\r\n        try {\r\n            if (!directory.exists()) {\r\n                if (!directory.mkdirs()) {\r\n                    throw new IOException(String.format(&quot;Failed to create directory [%s].&quot;, directory));\r\n                }\r\n            }\r\n\r\n            UnArchiver unArchiver;\r\n            try {\r\n                unArchiver = archiverManager.getUnArchiver(artifact.getType());\r\n            } catch (final NoSuchArchiverException ex) {\r\n                unArchiver = archiverManager.getUnArchiver(artifact.getFile());\r\n            }\r\n\r\n            unArchiver.setFileSelectors(selectors);\r\n            unArchiver.setSourceFile(artifact.getFile());\r\n            unArchiver.setDestDirectory(directory);\r\n            unArchiver.extract();\r\n        } catch (final NoSuchArchiverException ex) {\r\n            throw new MojoFailureException(\r\n                    String.format(&quot;Could not determine archive type for artifact [%s].&quot;, artifact),\r\n                    ex);\r\n        }\r\n    }\r\n```\r\n\r\n### And finally the control loop\r\n\r\n```\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(DependencyDownloadMojo.class);\r\n\r\n    private static final List&lt;String&gt; DEFAULT_INCLUDES = Collections.singletonList(&quot;*.txt&quot;);\r\n\r\n    @Override\r\n    public void execute() throws MojoExecutionException, MojoFailureException {\r\n        LOGGER.debug(&quot;About to download resources from dependencies.&quot;);\r\n\r\n        final var repositories = createRepositories(project, session, repositorySystem);\r\n        final var dependencies = getPluginDependencies(pluginDescriptor.getPlugin());\r\n        final var selectors = createSelectors(includes);\r\n\r\n        LOGGER.info(&quot;Using resource selectors: [{}].&quot;, (Object) selectors);\r\n\r\n        for (final var dependency : dependencies) {\r\n            try {\r\n                LOGGER.info(&quot;About to download resources from dependency [{}].&quot;, dependency);\r\n\r\n                LOGGER.debug(&quot;About to resolve Artifact [{}].&quot;, dependency);\r\n                final var artifactResults = resolveArtifact(dependency, repositories, session, dependencyResolver);\r\n                if (LOGGER.isDebugEnabled()) {\r\n                    LOGGER.debug(&quot;Dependency resolves to [{}].&quot;, artifactResults);\r\n                    for (final var artifactResult : artifactResults) {\r\n                        LOGGER.debug(&quot;Dependency resolves to [{}]; location: [{}].&quot;,\r\n                                artifactResult.getArtifact(),\r\n                                artifactResult.getArtifact().getFile());\r\n                    }\r\n                }\r\n\r\n                for (final var artifactResult : artifactResults) {\r\n                    final var artifact = artifactResult.getArtifact();\r\n                    LOGGER.info(&quot;About to extract resources from artifact [{}].&quot;, artifact);\r\n\r\n                    try {\r\n                        extract(artifact, outputDirectory, selectors, archiverManager);\r\n                    } catch (final IOException ex) {\r\n                        final var message = String.format(\r\n                                &quot;Failed to extract resources from artifact [%s].&quot;, artifact);\r\n                        LOGGER.error(message, ex);\r\n                        throw new MojoExecutionException(message, ex);\r\n                    }\r\n                }\r\n            } catch (final DependencyResolverException ex) {\r\n                final var message = String.format(&quot;Failed to resolve dependency [%s].&quot;, dependency);\r\n                LOGGER.error(message, ex);\r\n                throw new MojoFailureException(message, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n    private FileSelector[] createSelectors(final List&lt;String&gt; includes) {\r\n        final List&lt;FileSelector&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        final List&lt;String&gt; includesOrDefaults = new ArrayList&lt;&gt;();\r\n\r\n        if (includes.isEmpty()) {\r\n            LOGGER.debug(&quot;Using default includes [{}].&quot;, DEFAULT_INCLUDES);\r\n            includesOrDefaults.addAll(DEFAULT_INCLUDES);\r\n        } else {\r\n            LOGGER.debug(&quot;Using provided includes [{}].&quot;, includes);\r\n            includesOrDefaults.addAll(includes);\r\n        }\r\n\r\n        for (final var include : includesOrDefaults) {\r\n            final var selector = new IncludeExcludeFileSelector();\r\n            selector.setIncludes(new String[] { include });\r\n            result.add(selector);\r\n        }\r\n\r\n        return result.toArray(new FileSelector[0]);\r\n    }\r\n```\r\n\r\n### The most importantPOM\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;global.sandbox.test.dependency.download.maven.plugin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dependency-download-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.version&gt;3.8.2&lt;/maven.version&gt;\r\n        &lt;maven-plugin-plugin.version&gt;3.8.2&lt;/maven-plugin-plugin.version&gt;\r\n        &lt;sisu-maven-plugin.version&gt;0.9.0.M2&lt;/sisu-maven-plugin.version&gt;\r\n        &lt;plexus-archiver.version&gt;4.7.1&lt;/plexus-archiver.version&gt;\r\n        &lt;maven-artifact-transfer.version&gt;0.13.1&lt;/maven-artifact-transfer.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;prerequisites&gt;\r\n        &lt;maven&gt;3.8.2&lt;/maven&gt;\r\n    &lt;/prerequisites&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plexus-archiver&lt;/artifactId&gt;\r\n            &lt;version&gt;${plexus-archiver.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-artifact-transfer&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-artifact-transfer.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;-Xlint:all&lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-plugin-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipErrorNoDescriptorsFound&gt;false&lt;/skipErrorNoDescriptorsFound&gt;\r\n                    &lt;extractors&gt;\r\n                        &lt;extractor&gt;java-annotations&lt;/extractor&gt;\r\n                    &lt;/extractors&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sisu-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${sisu-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;index-project&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;main-index&lt;/goal&gt;\r\n                            &lt;goal&gt;test-index&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n#### Parent POM\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;dependency&lt;/module&gt;\r\n        &lt;module&gt;dependency-download-maven-plugin&lt;/module&gt;\r\n        &lt;module&gt;usage&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;maven.compiler.target&gt;${maven.compiler.release}&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;${maven.compiler.release}&lt;/maven.compiler.source&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven-resources-plugin.version&gt;3.3.1&lt;/maven-resources-plugin.version&gt;\r\n        &lt;maven-enforcer-plugin.version&gt;3.3.0&lt;/maven-enforcer-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;true&lt;/skip&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;enforce-maven&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enforce&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;requireMavenVersion&gt;\r\n                                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                                &lt;/requireMavenVersion&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n","title":"How can I download Maven artifacts within a plugin?","body":"<p>I'm facing similar issue. I want to extract specific files from plugin's dependencies in order not to pollute main artifact's dependencies.</p>\n<p>The solution using &quot;old&quot; Maven API is obvious and straightforward. Except the deprecation.</p>\n<p>I decided to investigate new ways to do it using new API.</p>\n<p>My main inspiration was <a href=\"https://github.com/apache/maven-dependency-plugin/tree/maven-dependency-plugin-3.5.0\" rel=\"nofollow noreferrer\">Maven Dependency Plug-In</a> especially <a href=\"https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/GetMojo.java\" rel=\"nofollow noreferrer\">GetMojo</a>, <a href=\"https://github.com/apache/maven-dependency-plugin/blob/maven-dependency-plugin-3.5.0/src/main/java/org/apache/maven/plugins/dependency/fromDependencies/UnpackDependenciesMojo.java\" rel=\"nofollow noreferrer\">UnpackDependenciesMojo</a> and <a href=\"https://github.com/apache/maven-dependency-plugin/blob/master/src/main/java/org/apache/maven/plugins/dependency/utils/UnpackUtil.java\" rel=\"nofollow noreferrer\">UnpackUtil</a>.</p>\n<p>In short, what has to be done:</p>\n<ol>\n<li>Create <code>org.apache.maven.shared.transfer.dependencies.DependableCoordinate</code> which points to desired GAV. Nothing special here; use <code>org.apache.maven.shared.transfer.dependencies.DefaultDependableCoordinate</code> POJO.</li>\n<li>Resolve the artifact. This is probably the most complex task. We need to set-up repositories, which can be obtained from Project's remote repositories and injecting proxies and authorization stuff. With this done we can use <code>org.apache.maven.shared.transfer.dependencies.resolve.DependencyResolver</code> to do the job.</li>\n<li>Extracting resolved artifact. <code>org.codehaus.plexus.archiver.UnArchiver</code> is our friend. To get an instance, we can use <code>org.codehaus.plexus.archiver.manager.ArchiverManager#getUnArchiver()</code>. There are two options: by type or by file extension.</li>\n</ol>\n<p>I developed/tested the following code with Maven 3.8.6 and Maven 3.9.1.</p>\n<h3>Common injection</h3>\n<pre><code>    @Parameter(defaultValue = &quot;${project.build.directory}/download&quot;, required = true)\n    private File outputDirectory;\n\n    @Parameter\n    private List&lt;String&gt; includes = new ArrayList&lt;&gt;();\n\n    @Inject\n    private ArchiverManager archiverManager;\n\n    @Inject\n    private RepositorySystem repositorySystem;\n\n    @Inject\n    private DependencyResolver dependencyResolver;\n\n    @Parameter(defaultValue = &quot;${plugin}&quot;, readonly = true, required = true)\n    private PluginDescriptor pluginDescriptor;\n\n    @Parameter(defaultValue = &quot;${project}&quot;, readonly = true, required = true)\n    private MavenProject project;\n\n    @Parameter(defaultValue = &quot;${session}&quot;, required = true, readonly = true)\n    private MavenSession session;\n</code></pre>\n<h3>Creation of repositories for <code>DependencyResolver</code></h3>\n<pre><code>    private static List&lt;ArtifactRepository&gt; createRepositories(\n            final MavenProject project,\n            final MavenSession session,\n            final RepositorySystem repositorySystem) {\n        final List&lt;ArtifactRepository&gt; repositories = new ArrayList&lt;&gt;();\n\n        final var policy = new ArtifactRepositoryPolicy(\n                true,\n                ArtifactRepositoryPolicy.UPDATE_POLICY_ALWAYS,\n                ArtifactRepositoryPolicy.CHECKSUM_POLICY_FAIL);\n\n        project.getRemoteArtifactRepositories().forEach(\n                remoteRepository -&gt; repositories.add(\n                        new MavenArtifactRepository(\n                                remoteRepository.getId(),\n                                remoteRepository.getUrl(),\n                                remoteRepository.getLayout(),\n                                policy,\n                                policy)));\n\n        final var settings = session.getSettings();\n        repositorySystem.injectMirror(repositories, settings.getMirrors());\n        repositorySystem.injectProxy(repositories, settings.getProxies());\n        repositorySystem.injectAuthentication(repositories, settings.getServers());\n\n        return repositories;\n    }\n</code></pre>\n<h3>Resolving <code>DependableCoordinate</code></h3>\n<pre><code>    private static Iterable&lt;ArtifactResult&gt; resolveArtifact(\n            final DependableCoordinate artifact,\n            final List&lt;ArtifactRepository&gt; repositories,\n            final MavenSession session,\n            final DependencyResolver dependencyResolver)\n            throws DependencyResolverException {\n        final ProjectBuildingRequest buildingRequest\n                = new DefaultProjectBuildingRequest(session.getProjectBuildingRequest());\n        buildingRequest.setRemoteRepositories(repositories);\n        return dependencyResolver.resolveDependencies(buildingRequest, artifact, null);\n    }\n</code></pre>\n<h3>The extraction itself</h3>\n<pre><code>    private static void extract(\n            final Artifact artifact,\n            final File directory,\n            final FileSelector[] selectors,\n            final ArchiverManager archiverManager)\n            throws IOException, MojoFailureException {\n        try {\n            if (!directory.exists()) {\n                if (!directory.mkdirs()) {\n                    throw new IOException(String.format(&quot;Failed to create directory [%s].&quot;, directory));\n                }\n            }\n\n            UnArchiver unArchiver;\n            try {\n                unArchiver = archiverManager.getUnArchiver(artifact.getType());\n            } catch (final NoSuchArchiverException ex) {\n                unArchiver = archiverManager.getUnArchiver(artifact.getFile());\n            }\n\n            unArchiver.setFileSelectors(selectors);\n            unArchiver.setSourceFile(artifact.getFile());\n            unArchiver.setDestDirectory(directory);\n            unArchiver.extract();\n        } catch (final NoSuchArchiverException ex) {\n            throw new MojoFailureException(\n                    String.format(&quot;Could not determine archive type for artifact [%s].&quot;, artifact),\n                    ex);\n        }\n    }\n</code></pre>\n<h3>And finally the control loop</h3>\n<pre><code>    private static final Logger LOGGER = LoggerFactory.getLogger(DependencyDownloadMojo.class);\n\n    private static final List&lt;String&gt; DEFAULT_INCLUDES = Collections.singletonList(&quot;*.txt&quot;);\n\n    @Override\n    public void execute() throws MojoExecutionException, MojoFailureException {\n        LOGGER.debug(&quot;About to download resources from dependencies.&quot;);\n\n        final var repositories = createRepositories(project, session, repositorySystem);\n        final var dependencies = getPluginDependencies(pluginDescriptor.getPlugin());\n        final var selectors = createSelectors(includes);\n\n        LOGGER.info(&quot;Using resource selectors: [{}].&quot;, (Object) selectors);\n\n        for (final var dependency : dependencies) {\n            try {\n                LOGGER.info(&quot;About to download resources from dependency [{}].&quot;, dependency);\n\n                LOGGER.debug(&quot;About to resolve Artifact [{}].&quot;, dependency);\n                final var artifactResults = resolveArtifact(dependency, repositories, session, dependencyResolver);\n                if (LOGGER.isDebugEnabled()) {\n                    LOGGER.debug(&quot;Dependency resolves to [{}].&quot;, artifactResults);\n                    for (final var artifactResult : artifactResults) {\n                        LOGGER.debug(&quot;Dependency resolves to [{}]; location: [{}].&quot;,\n                                artifactResult.getArtifact(),\n                                artifactResult.getArtifact().getFile());\n                    }\n                }\n\n                for (final var artifactResult : artifactResults) {\n                    final var artifact = artifactResult.getArtifact();\n                    LOGGER.info(&quot;About to extract resources from artifact [{}].&quot;, artifact);\n\n                    try {\n                        extract(artifact, outputDirectory, selectors, archiverManager);\n                    } catch (final IOException ex) {\n                        final var message = String.format(\n                                &quot;Failed to extract resources from artifact [%s].&quot;, artifact);\n                        LOGGER.error(message, ex);\n                        throw new MojoExecutionException(message, ex);\n                    }\n                }\n            } catch (final DependencyResolverException ex) {\n                final var message = String.format(&quot;Failed to resolve dependency [%s].&quot;, dependency);\n                LOGGER.error(message, ex);\n                throw new MojoFailureException(message, ex);\n            }\n        }\n    }\n\n    private FileSelector[] createSelectors(final List&lt;String&gt; includes) {\n        final List&lt;FileSelector&gt; result = new ArrayList&lt;&gt;();\n\n        final List&lt;String&gt; includesOrDefaults = new ArrayList&lt;&gt;();\n\n        if (includes.isEmpty()) {\n            LOGGER.debug(&quot;Using default includes [{}].&quot;, DEFAULT_INCLUDES);\n            includesOrDefaults.addAll(DEFAULT_INCLUDES);\n        } else {\n            LOGGER.debug(&quot;Using provided includes [{}].&quot;, includes);\n            includesOrDefaults.addAll(includes);\n        }\n\n        for (final var include : includesOrDefaults) {\n            final var selector = new IncludeExcludeFileSelector();\n            selector.setIncludes(new String[] { include });\n            result.add(selector);\n        }\n\n        return result.toArray(new FileSelector[0]);\n    }\n</code></pre>\n<h3>The most importantPOM</h3>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;global.sandbox.test.dependency.download.maven.plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;dependency-download-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\n        &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.version&gt;3.8.2&lt;/maven.version&gt;\n        &lt;maven-plugin-plugin.version&gt;3.8.2&lt;/maven-plugin-plugin.version&gt;\n        &lt;sisu-maven-plugin.version&gt;0.9.0.M2&lt;/sisu-maven-plugin.version&gt;\n        &lt;plexus-archiver.version&gt;4.7.1&lt;/plexus-archiver.version&gt;\n        &lt;maven-artifact-transfer.version&gt;0.13.1&lt;/maven-artifact-transfer.version&gt;\n    &lt;/properties&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.8.2&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${maven.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n            &lt;artifactId&gt;plexus-archiver&lt;/artifactId&gt;\n            &lt;version&gt;${plexus-archiver.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-artifact-transfer&lt;/artifactId&gt;\n            &lt;version&gt;${maven-artifact-transfer.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;-Xlint:all&lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-plugin-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipErrorNoDescriptorsFound&gt;false&lt;/skipErrorNoDescriptorsFound&gt;\n                    &lt;extractors&gt;\n                        &lt;extractor&gt;java-annotations&lt;/extractor&gt;\n                    &lt;/extractors&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.sisu&lt;/groupId&gt;\n                &lt;artifactId&gt;sisu-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${sisu-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;index-project&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;main-index&lt;/goal&gt;\n                            &lt;goal&gt;test-index&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h4>Parent POM</h4>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;global.sandbox.test.dependency.download&lt;/groupId&gt;\n    &lt;artifactId&gt;dependency-download&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;dependency&lt;/module&gt;\n        &lt;module&gt;dependency-download-maven-plugin&lt;/module&gt;\n        &lt;module&gt;usage&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.target&gt;${maven.compiler.release}&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;${maven.compiler.release}&lt;/maven.compiler.source&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-resources-plugin.version&gt;3.3.1&lt;/maven-resources-plugin.version&gt;\n        &lt;maven-enforcer-plugin.version&gt;3.3.0&lt;/maven-enforcer-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;true&lt;/skip&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-enforcer-plugin.version}&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-maven&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;requireMavenVersion&gt;\n                                    &lt;version&gt;3.8.0&lt;/version&gt;\n                                &lt;/requireMavenVersion&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":49798,"reputation":1831,"user_id":148419,"accept_rate":100,"display_name":"talk to frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9352,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":1440241,"answer_count":2,"score":21,"last_activity_date":1683549066,"creation_date":1253208471,"question_id":1440224,"body_markdown":"I have a Maven plugin that takes a groupId, artifactId, and version in its confiugration.\r\n\r\nI want to be able to download that artifact from the remote repositories and copy the file into the project. I can&#39;t figure out how to download the artifact though.\r\n\r\nI understand that I can resolve dependencies using the dependency plugin, but I need it to happen inside my plugin. How can I do this?","title":"How can I download Maven artifacts within a plugin?","body":"<p>I have a Maven plugin that takes a groupId, artifactId, and version in its confiugration.</p>\n\n<p>I want to be able to download that artifact from the remote repositories and copy the file into the project. I can't figure out how to download the artifact though.</p>\n\n<p>I understand that I can resolve dependencies using the dependency plugin, but I need it to happen inside my plugin. How can I do this?</p>\n"},{"tags":["java","postgresql","zipkin"],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683548779,"creation_date":1683548779,"question_id":76200589,"body_markdown":"I&#39;m using sleuth for generating the trace ids and span ids and I can see the traces through zipkin UI. I need to store these generated traces into postgresql database. Currently it is storing in memory which will lose on zipkin server restart. \r\n\r\nBy running the following command(for start the zipkin server)\r\n\r\n    java -jar &quot;C:\\dump\\java\\zipkin-server-2.24.1-exec.jar&quot;  --zipkin.storage.type=mysql --zipkin.storage.mysql.host=localhost --zipkin.storage.mysql.port=3306 --zipkin.storage.mysql.username=myusername --zipkin.storage.mysql.password=mypassword --zipkin.storage.mysql.db=zipkin\r\n\r\nI can store the zipkin traces into mysql. Zipkin supports storing traces to mysql, cassandra and elasticsearch.\r\n\r\nIs there any for storing the traces into postgres?","title":"How to store the zipkin traces into postgresql database","body":"<p>I'm using sleuth for generating the trace ids and span ids and I can see the traces through zipkin UI. I need to store these generated traces into postgresql database. Currently it is storing in memory which will lose on zipkin server restart.</p>\n<p>By running the following command(for start the zipkin server)</p>\n<pre><code>java -jar &quot;C:\\dump\\java\\zipkin-server-2.24.1-exec.jar&quot;  --zipkin.storage.type=mysql --zipkin.storage.mysql.host=localhost --zipkin.storage.mysql.port=3306 --zipkin.storage.mysql.username=myusername --zipkin.storage.mysql.password=mypassword --zipkin.storage.mysql.db=zipkin\n</code></pre>\n<p>I can store the zipkin traces into mysql. Zipkin supports storing traces to mysql, cassandra and elasticsearch.</p>\n<p>Is there any for storing the traces into postgres?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":4657551,"reputation":55619,"user_id":4492932,"accept_rate":100,"display_name":"DYZ"},"score":1,"creation_date":1683218287,"post_id":76175448,"comment_id":134336590,"body_markdown":"IMHO, this is not an exercise for a beginner... You would be better off learning about loops (to avoid code repetitions).","body":"IMHO, this is not an exercise for a beginner... You would be better off learning about loops (to avoid code repetitions)."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1683218383,"post_id":76175448,"comment_id":134336617,"body_markdown":"Does this answer your question? [Parsing an arithmetic expression and building a tree from it in Java](https://stackoverflow.com/questions/4589951/parsing-an-arithmetic-expression-and-building-a-tree-from-it-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4589951/parsing-an-arithmetic-expression-and-building-a-tree-from-it-in-java\">Parsing an arithmetic expression and building a tree from it in Java</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683232914,"post_id":76175448,"comment_id":134339644,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":14221456,"reputation":53,"user_id":10273616,"display_name":"Kafka Wanna Fly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683220610,"creation_date":1683220610,"answer_id":76175782,"question_id":76175448,"body_markdown":"I see that you have added value to `currentText` whenever a button is clicked. So my suggestion is you should do the logic based on the value of `currentText`.\r\n\r\nFor example:\r\n\r\n    var currentText = &quot;1304+555&quot;;\r\n    var numbers = currentText.split(&quot;\\\\+|\\\\-|\\\\*|\\\\/&quot;); // Split by +, -, *, /\r\n    \r\n    // Replace all numbers with empty string, so that we can get the operator\r\n    var operator = currentText.replaceAll(&quot;[0-9]&quot;, &quot;&quot;);\r\n    \r\n    switch (operator) {\r\n      case &quot;+&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) + Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      case &quot;-&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) - Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      case &quot;*&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) * Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      case &quot;/&quot;:\r\n        System.out.println(\r\n          Integer.parseInt(numbers[0]) / Integer.parseInt(numbers[1])\r\n        );\r\n        break;\r\n      default:\r\n        System.out.println(&quot;Invalid operator&quot;);\r\n        break;\r\n    }\r\n\r\n","title":"Java Gui Calculator, don&#39;t know how to take the input of the numbers and use those numbers to calculate an answer","body":"<p>I see that you have added value to <code>currentText</code> whenever a button is clicked. So my suggestion is you should do the logic based on the value of <code>currentText</code>.</p>\n<p>For example:</p>\n<pre><code>var currentText = &quot;1304+555&quot;;\nvar numbers = currentText.split(&quot;\\\\+|\\\\-|\\\\*|\\\\/&quot;); // Split by +, -, *, /\n\n// Replace all numbers with empty string, so that we can get the operator\nvar operator = currentText.replaceAll(&quot;[0-9]&quot;, &quot;&quot;);\n\nswitch (operator) {\n  case &quot;+&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) + Integer.parseInt(numbers[1])\n    );\n    break;\n  case &quot;-&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) - Integer.parseInt(numbers[1])\n    );\n    break;\n  case &quot;*&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) * Integer.parseInt(numbers[1])\n    );\n    break;\n  case &quot;/&quot;:\n    System.out.println(\n      Integer.parseInt(numbers[0]) / Integer.parseInt(numbers[1])\n    );\n    break;\n  default:\n    System.out.println(&quot;Invalid operator&quot;);\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683548250,"creation_date":1683548250,"answer_id":76200530,"question_id":76175448,"body_markdown":"Thank you to everyone for your help, I was able to figure it out on my own, just by using some logic and reading. Here is my final code if anyone is wondering: \r\n\r\n    \r\n    \r\n    package calculator;\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\n\r\n\r\n    public class Calculator {\r\n \r\n    String currentText = &quot;&quot;;\r\n    JTextField screen;\r\n  \r\n    JButton button1;\r\n    JButton button2;\r\n    JButton button3;\r\n    JButton button4;\r\n    JButton button5;\r\n    JButton button6;\r\n    JButton button7;\r\n    JButton button8;\r\n    JButton button9;\r\n    \r\n    JButton add;\r\n    JButton subtract;\r\n    JButton multiply;\r\n    JButton divide;\r\n    JButton clr;\r\n    JButton equals;\r\n\r\n    JPanel panel;\r\n    JFrame frame;\r\n    \r\n    \r\n    public Calculator(){\r\n        \r\n        frame = new JFrame(&quot;calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocation(100, 100);\r\n        frame.setSize(300, 425);\r\n\r\n        \r\n        //set up panel\r\n        panel = new JPanel();\r\n        panel.setLayout(null);\r\n        \r\n        \r\n        \r\n        screen = new JTextField(&quot;0&quot;);\r\n        screen.setLocation(25,25);\r\n        screen.setSize(175,50);\r\n          \r\n        button1 = new JButton(&quot;1&quot;);\r\n        button1.setLocation(25,100);\r\n        button1.setSize(50,50);\r\n        button1.addActionListener(new Click());\r\n        button1.setActionCommand(&quot;Action1&quot;);\r\n        \r\n        button2 = new JButton(&quot;2&quot;);\r\n        button2.setLocation(25,155);\r\n        button2.setSize(50,50);\r\n        button2.addActionListener(new Click());\r\n        button2.setActionCommand(&quot;Action2&quot;);\r\n        \r\n        button3 = new JButton(&quot;3&quot;);\r\n        button3.setLocation(25,210);\r\n        button3.setSize(50,50);\r\n        button3.addActionListener(new Click());\r\n        button3.setActionCommand(&quot;Action3&quot;);\r\n        \r\n        button4 = new JButton(&quot;4&quot;);\r\n        button4.setLocation(25,265);\r\n        button4.setSize(50,50);\r\n        button4.addActionListener(new Click());\r\n        button4.setActionCommand(&quot;Action4&quot;);\r\n        \r\n        button5 = new JButton(&quot;5&quot;);\r\n        button5.setLocation(80,100);\r\n        button5.setSize(50,50);\r\n        button5.addActionListener(new Click());\r\n        button5.setActionCommand(&quot;Action5&quot;);\r\n        \r\n        button6 = new JButton(&quot;6&quot;);\r\n        button6.setLocation(80,155);\r\n        button6.setSize(50,50);\r\n        button6.addActionListener(new Click());\r\n        button6.setActionCommand(&quot;Action6&quot;);\r\n        \r\n        button7 = new JButton(&quot;7&quot;);\r\n        button7.setLocation(80,210);\r\n        button7.setSize(50,50);\r\n        button7.addActionListener(new Click());\r\n        button7.setActionCommand(&quot;Action7&quot;);\r\n        \r\n        button8 = new JButton(&quot;8&quot;);\r\n        button8.setLocation(80,265);\r\n        button8.setSize(50,50);\r\n        button8.addActionListener(new Click());\r\n        button8.setActionCommand(&quot;Action8&quot;);\r\n        \r\n        button9 = new JButton(&quot;9&quot;);\r\n        button9.setLocation(50,320);\r\n        button9.setSize(50,50);\r\n        button9.addActionListener(new Click());\r\n        button9.setActionCommand(&quot;Action9&quot;);\r\n        \r\n        add = new JButton(&quot;+&quot;);\r\n        add.setLocation(150,100);\r\n        add.setSize(50,50);\r\n        add.addActionListener(new Click());\r\n        add.setActionCommand(&quot;+&quot;);\r\n        \r\n        subtract = new JButton(&quot;-&quot;);\r\n        subtract.setLocation(150,155);\r\n        subtract.setSize(50,50);\r\n        subtract.addActionListener(new Click());\r\n        subtract.setActionCommand(&quot;-&quot;);\r\n        \r\n        multiply = new JButton(&quot;*&quot;);\r\n        multiply.setLocation(150, 210);\r\n        multiply.setSize(50,50);\r\n        multiply.addActionListener(new Click());\r\n        multiply.setActionCommand(&quot;*&quot;);\r\n        \r\n        divide = new JButton(&quot;&#247;&quot;);\r\n        divide.setLocation(150,265);\r\n        divide.setSize(50,50);\r\n        divide.addActionListener(new Click());\r\n        divide.setActionCommand(&quot;&#247;&quot;);\r\n        \r\n        clr = new JButton(&quot;CLR&quot;);\r\n        clr.setLocation(205, 120);\r\n        clr.setSize(75,50);\r\n        clr.addActionListener(new Click());\r\n        clr.setActionCommand(&quot;clr&quot;);\r\n        \r\n        equals = new JButton(&quot;=&quot;);\r\n        equals.setLocation(205,175);\r\n        equals.setSize(75,50);\r\n        equals.addActionListener(new Click());\r\n        equals.setActionCommand(&quot;=&quot;);\r\n        \r\n     \r\n        panel.add(screen);\r\n        \r\n        panel.add(button1);\r\n        panel.add(button2);\r\n        panel.add(button3);\r\n        panel.add(button4);\r\n        panel.add(button5);\r\n        panel.add(button6);\r\n        panel.add(button7);\r\n        panel.add(button8);\r\n        panel.add(button9);\r\n        \r\n        panel.add(add);\r\n        panel.add(subtract);\r\n        panel.add(multiply);\r\n        panel.add(divide);\r\n        panel.add(clr);\r\n        panel.add(equals);\r\n        \r\n        \r\n        \r\n        frame.setContentPane(panel);\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n     class Click implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String action = e.getActionCommand();\r\n        \r\n        String number1 = &quot;&quot;;\r\n        String number2 = &quot;&quot;;\r\n        \r\n\r\n        if (action.equals(&quot;Action1&quot;)) {\r\n            currentText += &quot;1&quot;;\r\n            \r\n        } else if (action.equals(&quot;Action2&quot;)) {\r\n            currentText += &quot;2&quot;;\r\n            number1 = screen.getText();\r\n        } else if (action.equals(&quot;Action3&quot;)) {\r\n            currentText += &quot;3&quot;;\r\n        } else if (action.equals(&quot;Action4&quot;)) {\r\n            currentText += &quot;4&quot;;\r\n        } else if (action.equals(&quot;Action5&quot;)) {\r\n            currentText += &quot;5&quot;;\r\n        } else if (action.equals(&quot;Action6&quot;)) {\r\n            currentText += &quot;6&quot;;\r\n        } else if (action.equals(&quot;Action7&quot;)) {\r\n            currentText += &quot;7&quot;;\r\n        } else if (action.equals(&quot;Action8&quot;)) {\r\n            currentText += &quot;8&quot;;\r\n        } else if (action.equals(&quot;Action9&quot;)) {\r\n            currentText += &quot;9&quot;;\r\n        } else if(action.equals(&quot;+&quot;)){\r\n            currentText += &quot;+&quot;;\r\n        } else if (action.equals(&quot;-&quot;)){\r\n            currentText += &quot;-&quot;;\r\n        } else if (action.equals(&quot;*&quot;)){\r\n            currentText += &quot;*&quot;;\r\n        } else if (action.equals(&quot;&#247;&quot;)){\r\n            currentText += &quot;&#247;&quot;;\r\n        } else if (action.equals(&quot;clr&quot;)){\r\n            currentText = &quot;&quot;;\r\n        } else if (action.equals(&quot;=&quot;)){\r\n           \r\n        }\r\n       \r\n        screen.setText(currentText);\r\n    }\r\n}\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Calculator gui = new Calculator();\r\n         \r\n      }\r\n    \r\n     }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Gui Calculator, don&#39;t know how to take the input of the numbers and use those numbers to calculate an answer","body":"<p>Thank you to everyone for your help, I was able to figure it out on my own, just by using some logic and reading. Here is my final code if anyone is wondering:</p>\n<pre><code>package calculator;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\n\n\npublic class Calculator {\n\nString currentText = &quot;&quot;;\nJTextField screen;\n\nJButton button1;\nJButton button2;\nJButton button3;\nJButton button4;\nJButton button5;\nJButton button6;\nJButton button7;\nJButton button8;\nJButton button9;\n\nJButton add;\nJButton subtract;\nJButton multiply;\nJButton divide;\nJButton clr;\nJButton equals;\n\nJPanel panel;\nJFrame frame;\n\n\npublic Calculator(){\n    \n    frame = new JFrame(&quot;calculator&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocation(100, 100);\n    frame.setSize(300, 425);\n\n    \n    //set up panel\n    panel = new JPanel();\n    panel.setLayout(null);\n    \n    \n    \n    screen = new JTextField(&quot;0&quot;);\n    screen.setLocation(25,25);\n    screen.setSize(175,50);\n      \n    button1 = new JButton(&quot;1&quot;);\n    button1.setLocation(25,100);\n    button1.setSize(50,50);\n    button1.addActionListener(new Click());\n    button1.setActionCommand(&quot;Action1&quot;);\n    \n    button2 = new JButton(&quot;2&quot;);\n    button2.setLocation(25,155);\n    button2.setSize(50,50);\n    button2.addActionListener(new Click());\n    button2.setActionCommand(&quot;Action2&quot;);\n    \n    button3 = new JButton(&quot;3&quot;);\n    button3.setLocation(25,210);\n    button3.setSize(50,50);\n    button3.addActionListener(new Click());\n    button3.setActionCommand(&quot;Action3&quot;);\n    \n    button4 = new JButton(&quot;4&quot;);\n    button4.setLocation(25,265);\n    button4.setSize(50,50);\n    button4.addActionListener(new Click());\n    button4.setActionCommand(&quot;Action4&quot;);\n    \n    button5 = new JButton(&quot;5&quot;);\n    button5.setLocation(80,100);\n    button5.setSize(50,50);\n    button5.addActionListener(new Click());\n    button5.setActionCommand(&quot;Action5&quot;);\n    \n    button6 = new JButton(&quot;6&quot;);\n    button6.setLocation(80,155);\n    button6.setSize(50,50);\n    button6.addActionListener(new Click());\n    button6.setActionCommand(&quot;Action6&quot;);\n    \n    button7 = new JButton(&quot;7&quot;);\n    button7.setLocation(80,210);\n    button7.setSize(50,50);\n    button7.addActionListener(new Click());\n    button7.setActionCommand(&quot;Action7&quot;);\n    \n    button8 = new JButton(&quot;8&quot;);\n    button8.setLocation(80,265);\n    button8.setSize(50,50);\n    button8.addActionListener(new Click());\n    button8.setActionCommand(&quot;Action8&quot;);\n    \n    button9 = new JButton(&quot;9&quot;);\n    button9.setLocation(50,320);\n    button9.setSize(50,50);\n    button9.addActionListener(new Click());\n    button9.setActionCommand(&quot;Action9&quot;);\n    \n    add = new JButton(&quot;+&quot;);\n    add.setLocation(150,100);\n    add.setSize(50,50);\n    add.addActionListener(new Click());\n    add.setActionCommand(&quot;+&quot;);\n    \n    subtract = new JButton(&quot;-&quot;);\n    subtract.setLocation(150,155);\n    subtract.setSize(50,50);\n    subtract.addActionListener(new Click());\n    subtract.setActionCommand(&quot;-&quot;);\n    \n    multiply = new JButton(&quot;*&quot;);\n    multiply.setLocation(150, 210);\n    multiply.setSize(50,50);\n    multiply.addActionListener(new Click());\n    multiply.setActionCommand(&quot;*&quot;);\n    \n    divide = new JButton(&quot;&quot;);\n    divide.setLocation(150,265);\n    divide.setSize(50,50);\n    divide.addActionListener(new Click());\n    divide.setActionCommand(&quot;&quot;);\n    \n    clr = new JButton(&quot;CLR&quot;);\n    clr.setLocation(205, 120);\n    clr.setSize(75,50);\n    clr.addActionListener(new Click());\n    clr.setActionCommand(&quot;clr&quot;);\n    \n    equals = new JButton(&quot;=&quot;);\n    equals.setLocation(205,175);\n    equals.setSize(75,50);\n    equals.addActionListener(new Click());\n    equals.setActionCommand(&quot;=&quot;);\n    \n \n    panel.add(screen);\n    \n    panel.add(button1);\n    panel.add(button2);\n    panel.add(button3);\n    panel.add(button4);\n    panel.add(button5);\n    panel.add(button6);\n    panel.add(button7);\n    panel.add(button8);\n    panel.add(button9);\n    \n    panel.add(add);\n    panel.add(subtract);\n    panel.add(multiply);\n    panel.add(divide);\n    panel.add(clr);\n    panel.add(equals);\n    \n    \n    \n    frame.setContentPane(panel);\n    frame.setVisible(true);\n    \n}\n class Click implements ActionListener {\n@Override\npublic void actionPerformed(ActionEvent e) {\n    String action = e.getActionCommand();\n    \n    String number1 = &quot;&quot;;\n    String number2 = &quot;&quot;;\n    \n\n    if (action.equals(&quot;Action1&quot;)) {\n        currentText += &quot;1&quot;;\n        \n    } else if (action.equals(&quot;Action2&quot;)) {\n        currentText += &quot;2&quot;;\n        number1 = screen.getText();\n    } else if (action.equals(&quot;Action3&quot;)) {\n        currentText += &quot;3&quot;;\n    } else if (action.equals(&quot;Action4&quot;)) {\n        currentText += &quot;4&quot;;\n    } else if (action.equals(&quot;Action5&quot;)) {\n        currentText += &quot;5&quot;;\n    } else if (action.equals(&quot;Action6&quot;)) {\n        currentText += &quot;6&quot;;\n    } else if (action.equals(&quot;Action7&quot;)) {\n        currentText += &quot;7&quot;;\n    } else if (action.equals(&quot;Action8&quot;)) {\n        currentText += &quot;8&quot;;\n    } else if (action.equals(&quot;Action9&quot;)) {\n        currentText += &quot;9&quot;;\n    } else if(action.equals(&quot;+&quot;)){\n        currentText += &quot;+&quot;;\n    } else if (action.equals(&quot;-&quot;)){\n        currentText += &quot;-&quot;;\n    } else if (action.equals(&quot;*&quot;)){\n        currentText += &quot;*&quot;;\n    } else if (action.equals(&quot;&quot;)){\n        currentText += &quot;&quot;;\n    } else if (action.equals(&quot;clr&quot;)){\n        currentText = &quot;&quot;;\n    } else if (action.equals(&quot;=&quot;)){\n       \n    }\n   \n    screen.setText(currentText);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public static void main(String[] args) {\n    \n    Calculator gui = new Calculator();\n     \n  }\n\n }\n</code></pre>\n"}],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200530,"answer_count":2,"score":0,"last_activity_date":1683548250,"creation_date":1683218006,"question_id":76175448,"body_markdown":"I am creating a java gui calculator. I have created just about everything else for the calculator just having issues on how to collect the users entire number before the math symbol is used and then the second input number. If someone could help me get a start on that I think I can solve the rest. Thanks!\r\n\r\nI honestly don&#39;t know how I would go around trying to collect the input of the entire number they may enter say maybe 1304 or so, as my buttons only add numbers not digits. Here is my code: \r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\npackage calculator;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\npublic class Calculator {\r\n \r\n    String currentText = &quot;&quot;;\r\n    JTextField screen;\r\n  \r\n    JButton button1;\r\n    JButton button2;\r\n    JButton button3;\r\n    JButton button4;\r\n    JButton button5;\r\n    JButton button6;\r\n    JButton button7;\r\n    JButton button8;\r\n    JButton button9;\r\n    \r\n    JButton add;\r\n    JButton subtract;\r\n    JButton multiply;\r\n    JButton divide;\r\n    JButton clr;\r\n    JButton equals;\r\n\r\n    JPanel panel;\r\n    JFrame frame;\r\n    \r\n    \r\n    public Calculator(){\r\n        \r\n        frame = new JFrame(&quot;calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocation(100, 100);\r\n        frame.setSize(300, 425);\r\n        Border border = BorderFactory.createLineBorder(Color.black,1);\r\n        \r\n        //set up panel\r\n        panel = new JPanel();\r\n        panel.setLayout(null);\r\n        \r\n        \r\n        \r\n        screen = new JTextField(&quot;0&quot;);\r\n        screen.setLocation(25,25);\r\n        screen.setSize(175,50);\r\n        screen.setBackground(Color.white);\r\n        screen.setOpaque(true);\r\n    \r\n        \r\n        button1 = new JButton(&quot;1&quot;);\r\n        button1.setLocation(25,100);\r\n        button1.setSize(50,50);\r\n        button1.addActionListener(new Click());\r\n        button1.setActionCommand(&quot;Action1&quot;);\r\n        \r\n        button2 = new JButton(&quot;2&quot;);\r\n        button2.setLocation(25,155);\r\n        button2.setSize(50,50);\r\n        button2.addActionListener(new Click());\r\n        button2.setActionCommand(&quot;Action2&quot;);\r\n        \r\n        button3 = new JButton(&quot;3&quot;);\r\n        button3.setLocation(25,210);\r\n        button3.setSize(50,50);\r\n        button3.addActionListener(new Click());\r\n        button3.setActionCommand(&quot;Action3&quot;);\r\n        \r\n        button4 = new JButton(&quot;4&quot;);\r\n        button4.setLocation(25,265);\r\n        button4.setSize(50,50);\r\n        button4.addActionListener(new Click());\r\n        button4.setActionCommand(&quot;Action4&quot;);\r\n        \r\n        button5 = new JButton(&quot;5&quot;);\r\n        button5.setLocation(80,100);\r\n        button5.setSize(50,50);\r\n        button5.addActionListener(new Click());\r\n        button5.setActionCommand(&quot;Action5&quot;);\r\n        \r\n        button6 = new JButton(&quot;6&quot;);\r\n        button6.setLocation(80,155);\r\n        button6.setSize(50,50);\r\n        button6.addActionListener(new Click());\r\n        button6.setActionCommand(&quot;Action6&quot;);\r\n        \r\n        button7 = new JButton(&quot;7&quot;);\r\n        button7.setLocation(80,210);\r\n        button7.setSize(50,50);\r\n        button7.addActionListener(new Click());\r\n        button7.setActionCommand(&quot;Action7&quot;);\r\n        \r\n        button8 = new JButton(&quot;8&quot;);\r\n        button8.setLocation(80,265);\r\n        button8.setSize(50,50);\r\n        button8.addActionListener(new Click());\r\n        button8.setActionCommand(&quot;Action8&quot;);\r\n        \r\n        button9 = new JButton(&quot;9&quot;);\r\n        button9.setLocation(50,320);\r\n        button9.setSize(50,50);\r\n        button9.addActionListener(new Click());\r\n        button9.setActionCommand(&quot;Action9&quot;);\r\n        \r\n        add = new JButton(&quot;+&quot;);\r\n        add.setLocation(150,100);\r\n        add.setSize(50,50);\r\n        add.addActionListener(new Click());\r\n        add.setActionCommand(&quot;+&quot;);\r\n        \r\n        subtract = new JButton(&quot;-&quot;);\r\n        subtract.setLocation(150,155);\r\n        subtract.setSize(50,50);\r\n        subtract.addActionListener(new Click());\r\n        subtract.setActionCommand(&quot;-&quot;);\r\n        \r\n        multiply = new JButton(&quot;*&quot;);\r\n        multiply.setLocation(150, 210);\r\n        multiply.setSize(50,50);\r\n        multiply.addActionListener(new Click());\r\n        multiply.setActionCommand(&quot;*&quot;);\r\n        \r\n        divide = new JButton(&quot;&#247;&quot;);\r\n        divide.setLocation(150,265);\r\n        divide.setSize(50,50);\r\n        divide.addActionListener(new Click());\r\n        divide.setActionCommand(&quot;&#247;&quot;);\r\n        \r\n        clr = new JButton(&quot;CLR&quot;);\r\n        clr.setLocation(205, 120);\r\n        clr.setSize(75,50);\r\n        clr.addActionListener(new Click());\r\n        clr.setActionCommand(&quot;clr&quot;);\r\n        \r\n        equals = new JButton(&quot;=&quot;);\r\n        equals.setLocation(205,175);\r\n        equals.setSize(75,50);\r\n        equals.addActionListener(new Click());\r\n        equals.setActionCommand(&quot;=&quot;);\r\n        \r\n     \r\n        panel.add(screen);\r\n        \r\n        panel.add(button1);\r\n        panel.add(button2);\r\n        panel.add(button3);\r\n        panel.add(button4);\r\n        panel.add(button5);\r\n        panel.add(button6);\r\n        panel.add(button7);\r\n        panel.add(button8);\r\n        panel.add(button9);\r\n        \r\n        panel.add(add);\r\n        panel.add(subtract);\r\n        panel.add(multiply);\r\n        panel.add(divide);\r\n        panel.add(clr);\r\n        panel.add(equals);\r\n        \r\n        \r\n        \r\n        frame.setContentPane(panel);\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n     class Click implements ActionListener {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        String action = e.getActionCommand();\r\n        \r\n        String number1 = &quot;&quot;;\r\n        String number2 = &quot;&quot;;\r\n        \r\n\r\n        if (action.equals(&quot;Action1&quot;)) {\r\n            currentText += &quot;1&quot;;\r\n            \r\n        } else if (action.equals(&quot;Action2&quot;)) {\r\n            currentText += &quot;2&quot;;\r\n            number1 = screen.getText();\r\n        } else if (action.equals(&quot;Action3&quot;)) {\r\n            currentText += &quot;3&quot;;\r\n        } else if (action.equals(&quot;Action4&quot;)) {\r\n            currentText += &quot;4&quot;;\r\n        } else if (action.equals(&quot;Action5&quot;)) {\r\n            currentText += &quot;5&quot;;\r\n        } else if (action.equals(&quot;Action6&quot;)) {\r\n            currentText += &quot;6&quot;;\r\n        } else if (action.equals(&quot;Action7&quot;)) {\r\n            currentText += &quot;7&quot;;\r\n        } else if (action.equals(&quot;Action8&quot;)) {\r\n            currentText += &quot;8&quot;;\r\n        } else if (action.equals(&quot;Action9&quot;)) {\r\n            currentText += &quot;9&quot;;\r\n        } else if(action.equals(&quot;+&quot;)){\r\n            currentText += &quot;+&quot;;\r\n        } else if (action.equals(&quot;-&quot;)){\r\n            currentText += &quot;-&quot;;\r\n        } else if (action.equals(&quot;*&quot;)){\r\n            currentText += &quot;*&quot;;\r\n        } else if (action.equals(&quot;&#247;&quot;)){\r\n            currentText += &quot;&#247;&quot;;\r\n        } else if (action.equals(&quot;clr&quot;)){\r\n            currentText = &quot;&quot;;\r\n        } else if (action.equals(&quot;=&quot;)){\r\n           \r\n        }\r\n        \r\n        \r\n\r\n        screen.setText(currentText);\r\n    }\r\n}\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        Calculator gui = new Calculator();\r\n        \r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n","title":"Java Gui Calculator, don&#39;t know how to take the input of the numbers and use those numbers to calculate an answer","body":"<p>I am creating a java gui calculator. I have created just about everything else for the calculator just having issues on how to collect the users entire number before the math symbol is used and then the second input number. If someone could help me get a start on that I think I can solve the rest. Thanks!</p>\n<p>I honestly don't know how I would go around trying to collect the input of the entire number they may enter say maybe 1304 or so, as my buttons only add numbers not digits. Here is my code:</p>\n<pre><code>\npackage calculator;\n\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n    import javax.swing.*;\nimport javax.swing.border.Border;\n\npublic class Calculator {\n \n    String currentText = &quot;&quot;;\n    JTextField screen;\n  \n    JButton button1;\n    JButton button2;\n    JButton button3;\n    JButton button4;\n    JButton button5;\n    JButton button6;\n    JButton button7;\n    JButton button8;\n    JButton button9;\n    \n    JButton add;\n    JButton subtract;\n    JButton multiply;\n    JButton divide;\n    JButton clr;\n    JButton equals;\n\n    JPanel panel;\n    JFrame frame;\n    \n    \n    public Calculator(){\n        \n        frame = new JFrame(&quot;calculator&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocation(100, 100);\n        frame.setSize(300, 425);\n        Border border = BorderFactory.createLineBorder(Color.black,1);\n        \n        //set up panel\n        panel = new JPanel();\n        panel.setLayout(null);\n        \n        \n        \n        screen = new JTextField(&quot;0&quot;);\n        screen.setLocation(25,25);\n        screen.setSize(175,50);\n        screen.setBackground(Color.white);\n        screen.setOpaque(true);\n    \n        \n        button1 = new JButton(&quot;1&quot;);\n        button1.setLocation(25,100);\n        button1.setSize(50,50);\n        button1.addActionListener(new Click());\n        button1.setActionCommand(&quot;Action1&quot;);\n        \n        button2 = new JButton(&quot;2&quot;);\n        button2.setLocation(25,155);\n        button2.setSize(50,50);\n        button2.addActionListener(new Click());\n        button2.setActionCommand(&quot;Action2&quot;);\n        \n        button3 = new JButton(&quot;3&quot;);\n        button3.setLocation(25,210);\n        button3.setSize(50,50);\n        button3.addActionListener(new Click());\n        button3.setActionCommand(&quot;Action3&quot;);\n        \n        button4 = new JButton(&quot;4&quot;);\n        button4.setLocation(25,265);\n        button4.setSize(50,50);\n        button4.addActionListener(new Click());\n        button4.setActionCommand(&quot;Action4&quot;);\n        \n        button5 = new JButton(&quot;5&quot;);\n        button5.setLocation(80,100);\n        button5.setSize(50,50);\n        button5.addActionListener(new Click());\n        button5.setActionCommand(&quot;Action5&quot;);\n        \n        button6 = new JButton(&quot;6&quot;);\n        button6.setLocation(80,155);\n        button6.setSize(50,50);\n        button6.addActionListener(new Click());\n        button6.setActionCommand(&quot;Action6&quot;);\n        \n        button7 = new JButton(&quot;7&quot;);\n        button7.setLocation(80,210);\n        button7.setSize(50,50);\n        button7.addActionListener(new Click());\n        button7.setActionCommand(&quot;Action7&quot;);\n        \n        button8 = new JButton(&quot;8&quot;);\n        button8.setLocation(80,265);\n        button8.setSize(50,50);\n        button8.addActionListener(new Click());\n        button8.setActionCommand(&quot;Action8&quot;);\n        \n        button9 = new JButton(&quot;9&quot;);\n        button9.setLocation(50,320);\n        button9.setSize(50,50);\n        button9.addActionListener(new Click());\n        button9.setActionCommand(&quot;Action9&quot;);\n        \n        add = new JButton(&quot;+&quot;);\n        add.setLocation(150,100);\n        add.setSize(50,50);\n        add.addActionListener(new Click());\n        add.setActionCommand(&quot;+&quot;);\n        \n        subtract = new JButton(&quot;-&quot;);\n        subtract.setLocation(150,155);\n        subtract.setSize(50,50);\n        subtract.addActionListener(new Click());\n        subtract.setActionCommand(&quot;-&quot;);\n        \n        multiply = new JButton(&quot;*&quot;);\n        multiply.setLocation(150, 210);\n        multiply.setSize(50,50);\n        multiply.addActionListener(new Click());\n        multiply.setActionCommand(&quot;*&quot;);\n        \n        divide = new JButton(&quot;&quot;);\n        divide.setLocation(150,265);\n        divide.setSize(50,50);\n        divide.addActionListener(new Click());\n        divide.setActionCommand(&quot;&quot;);\n        \n        clr = new JButton(&quot;CLR&quot;);\n        clr.setLocation(205, 120);\n        clr.setSize(75,50);\n        clr.addActionListener(new Click());\n        clr.setActionCommand(&quot;clr&quot;);\n        \n        equals = new JButton(&quot;=&quot;);\n        equals.setLocation(205,175);\n        equals.setSize(75,50);\n        equals.addActionListener(new Click());\n        equals.setActionCommand(&quot;=&quot;);\n        \n     \n        panel.add(screen);\n        \n        panel.add(button1);\n        panel.add(button2);\n        panel.add(button3);\n        panel.add(button4);\n        panel.add(button5);\n        panel.add(button6);\n        panel.add(button7);\n        panel.add(button8);\n        panel.add(button9);\n        \n        panel.add(add);\n        panel.add(subtract);\n        panel.add(multiply);\n        panel.add(divide);\n        panel.add(clr);\n        panel.add(equals);\n        \n        \n        \n        frame.setContentPane(panel);\n        frame.setVisible(true);\n        \n    }\n     class Click implements ActionListener {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String action = e.getActionCommand();\n        \n        String number1 = &quot;&quot;;\n        String number2 = &quot;&quot;;\n        \n\n        if (action.equals(&quot;Action1&quot;)) {\n            currentText += &quot;1&quot;;\n            \n        } else if (action.equals(&quot;Action2&quot;)) {\n            currentText += &quot;2&quot;;\n            number1 = screen.getText();\n        } else if (action.equals(&quot;Action3&quot;)) {\n            currentText += &quot;3&quot;;\n        } else if (action.equals(&quot;Action4&quot;)) {\n            currentText += &quot;4&quot;;\n        } else if (action.equals(&quot;Action5&quot;)) {\n            currentText += &quot;5&quot;;\n        } else if (action.equals(&quot;Action6&quot;)) {\n            currentText += &quot;6&quot;;\n        } else if (action.equals(&quot;Action7&quot;)) {\n            currentText += &quot;7&quot;;\n        } else if (action.equals(&quot;Action8&quot;)) {\n            currentText += &quot;8&quot;;\n        } else if (action.equals(&quot;Action9&quot;)) {\n            currentText += &quot;9&quot;;\n        } else if(action.equals(&quot;+&quot;)){\n            currentText += &quot;+&quot;;\n        } else if (action.equals(&quot;-&quot;)){\n            currentText += &quot;-&quot;;\n        } else if (action.equals(&quot;*&quot;)){\n            currentText += &quot;*&quot;;\n        } else if (action.equals(&quot;&quot;)){\n            currentText += &quot;&quot;;\n        } else if (action.equals(&quot;clr&quot;)){\n            currentText = &quot;&quot;;\n        } else if (action.equals(&quot;=&quot;)){\n           \n        }\n        \n        \n\n        screen.setText(currentText);\n    }\n}\n\n    \n    public static void main(String[] args) {\n        \n        Calculator gui = new Calculator();\n        \n    }\n    \n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","azure","servicebus","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":28546056,"reputation":36,"user_id":21851451,"display_name":"Paul K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683547378,"creation_date":1683546925,"answer_id":76200361,"question_id":76200092,"body_markdown":"The Configuration annotation is meant to annotate classes that store Bean methods: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\r\n\r\n&gt; public @interface Configuration\r\n&gt; \r\n&gt; Indicates that a class declares one or\r\n&gt; more @Bean methods and may be processed by the Spring container to\r\n&gt; generate bean definitions and service requests for those beans at\r\n&gt; runtime\r\n\r\n\r\nBelow we alse see: &quot;@Configuration is meta-annotated with @Component, therefore @Configuration classes are candidates for component scanning&quot;\r\n\r\nIt means that you can in theory put the bean method into class annotated with a @Component but it does not make much sense (as it is not according to convention).\r\n\r\nIf you do not want to use @Configuration I think you can define a bean by creating a class which implements Consumer&lt;Message&lt;String&gt;&gt; interface and annotating it with @Component. Then you can add a method accept(Message&lt;String&gt; message) and add your logic there. \r\nI did not check this part but I think it should work. Adding beans as classes with @Component annotations is also per convention.\r\n\r\n\r\nAbout why the code works, it is simple: inside your library (spring-cloud-azure-stream, etc) there are some classes that are enabled/started based on properties in your application.properties file. These classes try to autowire a bean implementing Consumer&lt;Message&lt;String&gt;&gt; from the Spring context, but this bean is not defined in this library, it should be defined in your code. When you add it, bean resolves and messaging can work.","title":"Define a @Bean in @Configuration or @Component","body":"<p>The Configuration annotation is meant to annotate classes that store Bean methods: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html</a></p>\n<blockquote>\n<p>public @interface Configuration</p>\n<p>Indicates that a class declares one or\nmore @Bean methods and may be processed by the Spring container to\ngenerate bean definitions and service requests for those beans at\nruntime</p>\n</blockquote>\n<p>Below we alse see: &quot;@Configuration is meta-annotated with @Component, therefore @Configuration classes are candidates for component scanning&quot;</p>\n<p>It means that you can in theory put the bean method into class annotated with a @Component but it does not make much sense (as it is not according to convention).</p>\n<p>If you do not want to use @Configuration I think you can define a bean by creating a class which implements Consumer&lt;Message&gt; interface and annotating it with @Component. Then you can add a method accept(Message message) and add your logic there.\nI did not check this part but I think it should work. Adding beans as classes with @Component annotations is also per convention.</p>\n<p>About why the code works, it is simple: inside your library (spring-cloud-azure-stream, etc) there are some classes that are enabled/started based on properties in your application.properties file. These classes try to autowire a bean implementing Consumer&lt;Message&gt; from the Spring context, but this bean is not defined in this library, it should be defined in your code. When you add it, bean resolves and messaging can work.</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76200361,"answer_count":1,"score":0,"last_activity_date":1683547378,"creation_date":1683544786,"question_id":76200092,"body_markdown":"I am currently working on implementing a consumer of a Azure Service Bus queue in a Spring Boot application as explained in [Azure&#39;s official guide][1]. The code that consumes the messages from the queue per se is the following:\r\n```\r\n    @Bean\r\n    public Consumer&lt;Message&lt;String&gt;&gt; consume() {\r\n        return message-&gt;{\r\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\r\n            LOGGER.info(&quot;New message received: &#39;{}&#39;&quot;, message.getPayload());\r\n            checkpointer.success()\r\n                        .doOnSuccess(s-&gt;LOGGER.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;, message.getPayload()))\r\n                        .doOnError(e-&gt;LOGGER.error(&quot;Error found&quot;, e))\r\n                        .block();\r\n        };\r\n    }\r\n```\r\nIn the link, the consumer is defined in the Main class. However, I want to have it in a dedicated class. What I observed is that the code works either if I annotate the new class with `@Component` or `@Configuration`. \r\n\r\nWhat intrigues me is, first, why does the `@Bean` function when defined inside a component (may be that SB scans for beans in all the `@Component` classes, as it does for `@Configuration`?). The second, and more important, is which approach is better: where should this consumer Bean live, as it is not a standard kind of Bean (ie., one that is further injected into another components, but rather one that starts functioning out of the box). The corollary of the latter is why this code just works (it consumes the messages without further ado), as the method signature does not have anything Azure specific?\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue","title":"Define a @Bean in @Configuration or @Component","body":"<p>I am currently working on implementing a consumer of a Azure Service Bus queue in a Spring Boot application as explained in <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">Azure's official guide</a>. The code that consumes the messages from the queue per se is the following:</p>\n<pre><code>    @Bean\n    public Consumer&lt;Message&lt;String&gt;&gt; consume() {\n        return message-&gt;{\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\n            LOGGER.info(&quot;New message received: '{}'&quot;, message.getPayload());\n            checkpointer.success()\n                        .doOnSuccess(s-&gt;LOGGER.info(&quot;Message '{}' successfully checkpointed&quot;, message.getPayload()))\n                        .doOnError(e-&gt;LOGGER.error(&quot;Error found&quot;, e))\n                        .block();\n        };\n    }\n</code></pre>\n<p>In the link, the consumer is defined in the Main class. However, I want to have it in a dedicated class. What I observed is that the code works either if I annotate the new class with <code>@Component</code> or <code>@Configuration</code>.</p>\n<p>What intrigues me is, first, why does the <code>@Bean</code> function when defined inside a component (may be that SB scans for beans in all the <code>@Component</code> classes, as it does for <code>@Configuration</code>?). The second, and more important, is which approach is better: where should this consumer Bean live, as it is not a standard kind of Bean (ie., one that is further injected into another components, but rather one that starts functioning out of the box). The corollary of the latter is why this code just works (it consumes the messages without further ado), as the method signature does not have anything Azure specific?</p>\n"},{"tags":["java","authentication","spotify"],"answers":[{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683547257,"creation_date":1683547215,"answer_id":76200396,"question_id":76200306,"body_markdown":"Take a look at the documentation of the [authorization code flow](https://developer.spotify.com/documentation/web-api/concepts/authorization) or at the [example implementation](https://github.com/spotify-web-api-java/spotify-web-api-java/blob/develop/examples/authorization/authorization_code/AuthorizationCodeExample.java)","title":"Can&#39;t use/find the authorization code when using the Spotify API in Java","body":"<p>Take a look at the documentation of the <a href=\"https://developer.spotify.com/documentation/web-api/concepts/authorization\" rel=\"nofollow noreferrer\">authorization code flow</a> or at the <a href=\"https://github.com/spotify-web-api-java/spotify-web-api-java/blob/develop/examples/authorization/authorization_code/AuthorizationCodeExample.java\" rel=\"nofollow noreferrer\">example implementation</a></p>\n"}],"owner":{"account_id":28545717,"reputation":1,"user_id":21851168,"display_name":"Rickity2207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683547257,"creation_date":1683546537,"question_id":76200306,"body_markdown":"I&#39;m trying to use the Spotify API in Java 17 using Gradle. \r\n\r\nIn the documentation it says the authorization code should be in the redirectURI, but it doesn&#39;t work or I can&#39;t seem to find it. \r\n\r\n\r\n\r\nI tried the following scripts. These are in the same package.\r\n```\r\nimport se.michaelthelin.spotify.SpotifyApi;\r\nimport se.michaelthelin.spotify.SpotifyHttpManager;\r\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeUriRequest;\r\n\r\nimport java.net.URI;\r\nimport java.util.concurrent.CancellationException;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\n\r\npublic class AuthorizationCodeUriExample {\r\n    private static final String clientId = &quot;&lt;client_id&gt;&quot;;\r\n    private static final String clientSecret = &quot;&lt;client_secret&gt;&quot;;\r\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\r\n\r\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\r\n            .setClientId(clientId)\r\n            .setClientSecret(clientSecret)\r\n            .setRedirectUri(redirectUri)\r\n            .build();\r\n    private static final AuthorizationCodeUriRequest authorizationCodeUriRequest = spotifyApi.authorizationCodeUri()\r\n\r\n            .build();\r\n\r\n    public static void authorizationCodeUri_Sync() {\r\n        final URI uri = authorizationCodeUriRequest.execute();\r\n\r\n        System.out.println(&quot;URI: &quot; + uri.toString());\r\n    }\r\n\r\n    public static void authorizationCodeUri_Async() {\r\n        try {\r\n            final CompletableFuture&lt;URI&gt; uriFuture = authorizationCodeUriRequest.executeAsync();\r\n\r\n            // Thread free to do other tasks...\r\n\r\n            // Example Only. Never block in production code.\r\n            final URI uri = uriFuture.join();\r\n\r\n            System.out.println(&quot;URI: &quot; + uri.toString());\r\n        } catch (CompletionException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\r\n        } catch (CancellationException e) {\r\n            System.out.println(&quot;Async operation cancelled.&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        authorizationCodeUri_Sync();\r\n        authorizationCodeUri_Async();\r\n    }\r\n}\r\n\r\n``` \r\n\r\nNote that the client Id and the client secret are censored bc of obvious reasons.\r\n\r\nThis spits out 2 of the same URLs and they redirected as expected to a domain with the following URL: `https://example.com/spotify-test-uri?code=AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg`\r\n\r\nI thought the piece behind &quot;code&quot; were to be the authorization code. Correct me if I&#39;m wrong.\r\nI put the authorization code in the following script:\r\n\r\n```\r\nimport se.michaelthelin.spotify.SpotifyApi;\r\nimport se.michaelthelin.spotify.SpotifyHttpManager;\r\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\r\nimport se.michaelthelin.spotify.model_objects.credentials.AuthorizationCodeCredentials;\r\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeRequest;\r\nimport org.apache.hc.core5.http.ParseException;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.util.concurrent.CancellationException;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\n\r\npublic class AuthorizationCodeExample {\r\n    private static final String clientId = &quot;&lt;client ID&gt;&quot;;\r\n    private static final String clientSecret = &quot;&lt;client secret&gt;&quot;;\r\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\r\n    private static final String code = &quot;AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg&quot;;\r\n\r\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\r\n            .setClientId(clientId)\r\n            .setClientSecret(clientSecret)\r\n            .setRedirectUri(redirectUri)\r\n            .build();\r\n    private static final AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(code)\r\n            .build();\r\n\r\n    public static void authorizationCode_Sync() {\r\n        try {\r\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\r\n\r\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\r\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\r\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\r\n\r\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\r\n        } catch (IOException | SpotifyWebApiException | ParseException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public static void authorizationCode_Async() {\r\n        try {\r\n            final CompletableFuture&lt;AuthorizationCodeCredentials&gt; authorizationCodeCredentialsFuture = authorizationCodeRequest.executeAsync();\r\n\r\n            // Thread free to do other tasks...\r\n\r\n            // Example Only. Never block in production code.\r\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeCredentialsFuture.join();\r\n\r\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\r\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\r\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\r\n\r\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\r\n        } catch (CompletionException e) {\r\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\r\n        } catch (CancellationException e) {\r\n            System.out.println(&quot;Async operation cancelled.&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        authorizationCode_Sync();\r\n        authorizationCode_Async();\r\n    }\r\n}\r\n\r\n```\r\nThis outputs:\r\n`Expires in: 3600\r\nError: Invalid authorization code`\r\ninstead of a refresh code.\r\n\r\nThe interesting thing is that it does know when it expires.\r\n\r\nI probably forgot something obvious as I&#39;m not that experienced. Anyone who knows what I missed/a possible fix?\r\n","title":"Can&#39;t use/find the authorization code when using the Spotify API in Java","body":"<p>I'm trying to use the Spotify API in Java 17 using Gradle.</p>\n<p>In the documentation it says the authorization code should be in the redirectURI, but it doesn't work or I can't seem to find it.</p>\n<p>I tried the following scripts. These are in the same package.</p>\n<pre><code>import se.michaelthelin.spotify.SpotifyApi;\nimport se.michaelthelin.spotify.SpotifyHttpManager;\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeUriRequest;\n\nimport java.net.URI;\nimport java.util.concurrent.CancellationException;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\n\npublic class AuthorizationCodeUriExample {\n    private static final String clientId = &quot;&lt;client_id&gt;&quot;;\n    private static final String clientSecret = &quot;&lt;client_secret&gt;&quot;;\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\n\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\n            .setClientId(clientId)\n            .setClientSecret(clientSecret)\n            .setRedirectUri(redirectUri)\n            .build();\n    private static final AuthorizationCodeUriRequest authorizationCodeUriRequest = spotifyApi.authorizationCodeUri()\n\n            .build();\n\n    public static void authorizationCodeUri_Sync() {\n        final URI uri = authorizationCodeUriRequest.execute();\n\n        System.out.println(&quot;URI: &quot; + uri.toString());\n    }\n\n    public static void authorizationCodeUri_Async() {\n        try {\n            final CompletableFuture&lt;URI&gt; uriFuture = authorizationCodeUriRequest.executeAsync();\n\n            // Thread free to do other tasks...\n\n            // Example Only. Never block in production code.\n            final URI uri = uriFuture.join();\n\n            System.out.println(&quot;URI: &quot; + uri.toString());\n        } catch (CompletionException e) {\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\n        } catch (CancellationException e) {\n            System.out.println(&quot;Async operation cancelled.&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        authorizationCodeUri_Sync();\n        authorizationCodeUri_Async();\n    }\n}\n\n</code></pre>\n<p>Note that the client Id and the client secret are censored bc of obvious reasons.</p>\n<p>This spits out 2 of the same URLs and they redirected as expected to a domain with the following URL: <code>https://example.com/spotify-test-uri?code=AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg</code></p>\n<p>I thought the piece behind &quot;code&quot; were to be the authorization code. Correct me if I'm wrong.\nI put the authorization code in the following script:</p>\n<pre><code>import se.michaelthelin.spotify.SpotifyApi;\nimport se.michaelthelin.spotify.SpotifyHttpManager;\nimport se.michaelthelin.spotify.exceptions.SpotifyWebApiException;\nimport se.michaelthelin.spotify.model_objects.credentials.AuthorizationCodeCredentials;\nimport se.michaelthelin.spotify.requests.authorization.authorization_code.AuthorizationCodeRequest;\nimport org.apache.hc.core5.http.ParseException;\n\nimport java.io.IOException;\nimport java.net.URI;\nimport java.util.concurrent.CancellationException;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\n\npublic class AuthorizationCodeExample {\n    private static final String clientId = &quot;&lt;client ID&gt;&quot;;\n    private static final String clientSecret = &quot;&lt;client secret&gt;&quot;;\n    private static final URI redirectUri = SpotifyHttpManager.makeUri(&quot;https://example.com/spotify-test-uri&quot;);\n    private static final String code = &quot;AQAz1CZeAZqGz2vl3NYf0XES4jrmwsr2JmNRFeMXcOnn5HZ_teOXcQKTKdMdEsnKnmwsEYGFXpB67iND0NDZqsWajOZEx6CEZmF0eV9tNsJZtMfAgT0LlG-S0wrva0OTDjICztePV_DkJy03ci9yRSyw3lO5BMxc6Ye1EiMzXv9nztA0FkiXBg&quot;;\n\n    private static final SpotifyApi spotifyApi = new SpotifyApi.Builder()\n            .setClientId(clientId)\n            .setClientSecret(clientSecret)\n            .setRedirectUri(redirectUri)\n            .build();\n    private static final AuthorizationCodeRequest authorizationCodeRequest = spotifyApi.authorizationCode(code)\n            .build();\n\n    public static void authorizationCode_Sync() {\n        try {\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeRequest.execute();\n\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\n\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\n        } catch (IOException | SpotifyWebApiException | ParseException e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n\n    public static void authorizationCode_Async() {\n        try {\n            final CompletableFuture&lt;AuthorizationCodeCredentials&gt; authorizationCodeCredentialsFuture = authorizationCodeRequest.executeAsync();\n\n            // Thread free to do other tasks...\n\n            // Example Only. Never block in production code.\n            final AuthorizationCodeCredentials authorizationCodeCredentials = authorizationCodeCredentialsFuture.join();\n\n            // Set access and refresh token for further &quot;spotifyApi&quot; object usage\n            spotifyApi.setAccessToken(authorizationCodeCredentials.getAccessToken());\n            spotifyApi.setRefreshToken(authorizationCodeCredentials.getRefreshToken());\n\n            System.out.println(&quot;Expires in: &quot; + authorizationCodeCredentials.getExpiresIn());\n        } catch (CompletionException e) {\n            System.out.println(&quot;Error: &quot; + e.getCause().getMessage());\n        } catch (CancellationException e) {\n            System.out.println(&quot;Async operation cancelled.&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        authorizationCode_Sync();\n        authorizationCode_Async();\n    }\n}\n\n</code></pre>\n<p>This outputs:\n<code>Expires in: 3600 Error: Invalid authorization code</code>\ninstead of a refresh code.</p>\n<p>The interesting thing is that it does know when it expires.</p>\n<p>I probably forgot something obvious as I'm not that experienced. Anyone who knows what I missed/a possible fix?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683292739,"post_id":76181603,"comment_id":134348588,"body_markdown":"I expect you&#39;re wrong to blame Hibernate here. The problem looks to be caused by something in your usage of Grails or Spring. (Note that there&#39;s no Hibernate code in that stack trace.)","body":"I expect you&#39;re wrong to blame Hibernate here. The problem looks to be caused by something in your usage of Grails or Spring. (Note that there&#39;s no Hibernate code in that stack trace.)"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1683531649,"post_id":76181603,"comment_id":134375374,"body_markdown":"what would you suggest to check? It&#39;s weird that after `.save()` operation, the flushMode is changed to `MANUAL`.","body":"what would you suggest to check? It&#39;s weird that after <code>.save()</code> operation, the flushMode is changed to <code>MANUAL</code>."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683538312,"post_id":76181603,"comment_id":134376685,"body_markdown":"Well, I mean, why don&#39;t you just put a breakpoint in `SessionImpl.setHibernateFlushMode()` and see who calls it?","body":"Well, I mean, why don&#39;t you just put a breakpoint in <code>SessionImpl.setHibernateFlushMode()</code> and see who calls it?"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1683538965,"post_id":76181603,"comment_id":134376825,"body_markdown":"The method is just like this, so I don&#39;t know how I could check who calls it. I am only able to see actual flushMode that is being passed to this method\n(I pasted the method in the main comment above, because pasting it here makes it ugly)","body":"The method is just like this, so I don&#39;t know how I could check who calls it. I am only able to see actual flushMode that is being passed to this method (I pasted the method in the main comment above, because pasting it here makes it ugly)"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683539364,"post_id":76181603,"comment_id":134376902,"body_markdown":"Your debugger will also show the stack. (The list of stack frames of calling methods.)","body":"Your debugger will also show the stack. (The list of stack frames of calling methods.)"},{"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"score":0,"creation_date":1683546742,"post_id":76181603,"comment_id":134378449,"body_markdown":"I&#39;ve probably found where it is set, but what is weird is that on Friday it was throwing this error and today it doesn&#39;t.... it works fine, anyway, I&#39;ve pasted the screenshot at the bottom of the post again - it&#39;s `validate()` method from `HibernateDomainClassValidator`.","body":"I&#39;ve probably found where it is set, but what is weird is that on Friday it was throwing this error and today it doesn&#39;t.... it works fine, anyway, I&#39;ve pasted the screenshot at the bottom of the post again - it&#39;s <code>validate()</code> method from <code>HibernateDomainClassValidator</code>."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683555434,"post_id":76181603,"comment_id":134380480,"body_markdown":"I mean, I have no idea what that class is. There&#39;s no class with that name in Hibernate Validator (nor in Hibernate ORM), so it&#39;s probably something from one of the other libraries you&#39;re using (as I suggested above).","body":"I mean, I have no idea what that class is. There&#39;s no class with that name in Hibernate Validator (nor in Hibernate ORM), so it&#39;s probably something from one of the other libraries you&#39;re using (as I suggested above)."}],"owner":{"account_id":21441190,"reputation":95,"user_id":15795728,"display_name":"sunny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683546771,"creation_date":1683285490,"question_id":76181603,"body_markdown":"I&#39;m using Grails and experiencing a weird behavior of hibernate.\r\n\r\nHaving such a method in the service:\r\n\r\n```groovy\r\ndef delete(object) {\r\n  def parent = object.parent\r\n  if (parent) {\r\n    object.parent = null\r\n    parent.removeFromX(object)\r\n    parent.save()\r\n  }\r\n  object.delete(flush: true)\r\n}\r\n```\r\n\r\nIf the `.save()` is triggered and then the `.delete(flush: true)`, I get an error:\r\n\r\n`Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition. `\r\n\r\nThe weird part is that if the `.save()` is not triggered (parent is `null`), the delete is working fine - it would mean that calling `.save()` before, marks somehow the transacation as read-only. Is it possible?\r\n\r\nThe project is using OSIV, if it might help you.\r\n\r\n\r\nFull stack trace from logs:\r\n```\r\nStacktrace follows:\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition.\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1175)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate$25.doInHibernate(HibernateTemplate.java:839)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:837)\r\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:833)\r\n        at org.springframework.orm.hibernate3.HibernateOperations$delete.call(Unknown Source)\r\n        at org.codehaus.groovy.grails.plugins.orm.hibernate.HibernatePluginSupport$_addBasicPersistenceMethods_closure78.doCall(HibernatePluginSupport.groovy:847)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:607)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\r\n        at org.codehaus.groovy.runtime.metaclass.ClosureMetaMethod.invoke(ClosureMetaMethod.java:80)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoMetaMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:307)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.call(PogoMetaMethodSite.java:63)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)\r\n        at org.pih.warehouse.core.LocationService.deleteLocation(LocationService.groovy:716)\r\n        at org.pih.warehouse.core.LocationService$$FastClassByCGLIB$$366d1ea5.invoke(&lt;generated&gt;)\r\n        at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)\r\n        at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)\r\n        at org.pih.warehouse.core.LocationService$$EnhancerByCGLIB$$7d8a27ff.deleteLocation(&lt;generated&gt;)\r\n        at org.pih.warehouse.core.LocationService$deleteLocation.call(Unknown Source)\r\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy:162)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:607)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSite.invoke(PogoMetaMethodSite.java:225)\r\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:51)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:149)\r\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:607)\r\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\r\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1058)\r\n        at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1070)\r\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:886)\r\n        at groovy.lang.Closure.call(Closure.java:282)\r\n        at groovy.lang.Closure.call(Closure.java:277)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleAction(SimpleGrailsControllerHelper.java:368)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.executeAction(SimpleGrailsControllerHelper.java:232)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:190)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:129)\r\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsController.handleRequest(SimpleGrailsController.java:73)\r\n        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\r\n        at org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet.doDispatch(GrailsDispatcherServlet.java:292)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\r\n```\r\nI can confirm, after debugging and looking at flushMode before and after `save()` is called, before save, the `flushMode` is `AUTO`, but after calling save it becomes: `MANUAL`:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```\r\npublic void setFlushMode(FlushMode flushMode) {\r\n        this.errorIfClosed();\r\n        this.checkTransactionSynchStatus();\r\n        if (log.isTraceEnabled()) {\r\n            log.trace(&quot;setting flush mode to: &quot; + flushMode);\r\n        }\r\n\r\n        this.flushMode = flushMode;\r\n    }\r\n```\r\n\r\nThe `FlushMode.MANUAL` seems to be set here:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g1kBg.png\r\n  [2]: https://i.stack.imgur.com/LNB58.png","title":"Write operations are not allowed in read-only mode (FlushMode.MANUAL) - hibernate","body":"<p>I'm using Grails and experiencing a weird behavior of hibernate.</p>\n<p>Having such a method in the service:</p>\n<pre><code>def delete(object) {\n  def parent = object.parent\n  if (parent) {\n    object.parent = null\n    parent.removeFromX(object)\n    parent.save()\n  }\n  object.delete(flush: true)\n}\n</code></pre>\n<p>If the <code>.save()</code> is triggered and then the <code>.delete(flush: true)</code>, I get an error:</p>\n<p><code>Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove 'readOnly' marker from transaction definition. </code></p>\n<p>The weird part is that if the <code>.save()</code> is not triggered (parent is <code>null</code>), the delete is working fine - it would mean that calling <code>.save()</code> before, marks somehow the transacation as read-only. Is it possible?</p>\n<p>The project is using OSIV, if it might help you.</p>\n<p>Full stack trace from logs:</p>\n<pre><code>Stacktrace follows:\norg.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove 'readOnly' marker from transaction definition.\n        at org.springframework.orm.hibernate3.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1175)\n        at org.springframework.orm.hibernate3.HibernateTemplate$25.doInHibernate(HibernateTemplate.java:839)\n        at org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\n        at org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:837)\n        at org.springframework.orm.hibernate3.HibernateTemplate.delete(HibernateTemplate.java:833)\n        at org.springframework.orm.hibernate3.HibernateOperations$delete.call(Unknown Source)\n        at org.codehaus.groovy.grails.plugins.orm.hibernate.HibernatePluginSupport$_addBasicPersistenceMethods_closure78.doCall(HibernatePluginSupport.groovy:847)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:607)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\n        at org.codehaus.groovy.runtime.metaclass.ClosureMetaMethod.invoke(ClosureMetaMethod.java:80)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoMetaMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:307)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.call(PogoMetaMethodSite.java:63)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)\n        at org.pih.warehouse.core.LocationService.deleteLocation(LocationService.groovy:716)\n        at org.pih.warehouse.core.LocationService$$FastClassByCGLIB$$366d1ea5.invoke(&lt;generated&gt;)\n        at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)\n        at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:688)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:621)\n        at org.pih.warehouse.core.LocationService$$EnhancerByCGLIB$$7d8a27ff.deleteLocation(&lt;generated&gt;)\n        at org.pih.warehouse.core.LocationService$deleteLocation.call(Unknown Source)\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy:162)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:607)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSite.invoke(PogoMetaMethodSite.java:225)\n        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:51)\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:149)\n        at org.pih.warehouse.core.LocationController$_closure6.doCall(LocationController.groovy)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:607)\n        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\n        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1058)\n        at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1070)\n        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:886)\n        at groovy.lang.Closure.call(Closure.java:282)\n        at groovy.lang.Closure.call(Closure.java:277)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleAction(SimpleGrailsControllerHelper.java:368)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.executeAction(SimpleGrailsControllerHelper.java:232)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:190)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsControllerHelper.handleURI(SimpleGrailsControllerHelper.java:129)\n        at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsController.handleRequest(SimpleGrailsController.java:73)\n        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\n        at org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet.doDispatch(GrailsDispatcherServlet.java:292)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:70)\n</code></pre>\n<p>I can confirm, after debugging and looking at flushMode before and after <code>save()</code> is called, before save, the <code>flushMode</code> is <code>AUTO</code>, but after calling save it becomes: <code>MANUAL</code>:\n<a href=\"https://i.stack.imgur.com/g1kBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g1kBg.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public void setFlushMode(FlushMode flushMode) {\n        this.errorIfClosed();\n        this.checkTransactionSynchStatus();\n        if (log.isTraceEnabled()) {\n            log.trace(&quot;setting flush mode to: &quot; + flushMode);\n        }\n\n        this.flushMode = flushMode;\n    }\n</code></pre>\n<p>The <code>FlushMode.MANUAL</code> seems to be set here:\n<a href=\"https://i.stack.imgur.com/LNB58.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNB58.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","android-softkeyboard","soft-keyboard"],"answers":[{"tags":[],"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683546525,"creation_date":1683546525,"answer_id":76200304,"question_id":76200068,"body_markdown":"Let&#39;s look at this at another approach. You can hide the keyboard by making the keyboard lose focus. You can also use this as an example to you code. It uses a button and an edit text. \r\n\r\n    MainActivity : AppCompatActivity() {\r\n    // on below line creating variables\r\n    lateinit var hideBtn: Button\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n \r\n        // on below line wea re initializing our variables.\r\n        hideBtn = findViewById(R.id.idBtnHide)\r\n        \r\n        // on below line adding click listener for button.\r\n        hideBtn.setOnClickListener {\r\n             \r\n            // on below line getting current view.\r\n            val view: View? = this.currentFocus\r\n             \r\n            // on below line checking if view is not null.\r\n            if (view != null) {\r\n                // on below line we are creating a variable\r\n                // for input manager and initializing it.\r\n                val inputMethodManager =\r\n                    getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n                 \r\n                // on below line hiding our keyboard.\r\n                inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0)\r\n                 \r\n                // displaying toast message on below line.\r\n                Toast.makeText(this, &quot;Key board hidden&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nUsing the `input manager` will cause the keyboard to lose focus and hide. You can also use this in the main portion to where you tap anywhere on the screen and the keyboard will hide. \r\n\r\nThis is a method of hiding (not disabling) the keyboard.","title":"How to dynamically enable and disable the android soft keyboard","body":"<p>Let's look at this at another approach. You can hide the keyboard by making the keyboard lose focus. You can also use this as an example to you code. It uses a button and an edit text.</p>\n<pre><code>MainActivity : AppCompatActivity() {\n// on below line creating variables\nlateinit var hideBtn: Button\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // on below line wea re initializing our variables.\n    hideBtn = findViewById(R.id.idBtnHide)\n    \n    // on below line adding click listener for button.\n    hideBtn.setOnClickListener {\n         \n        // on below line getting current view.\n        val view: View? = this.currentFocus\n         \n        // on below line checking if view is not null.\n        if (view != null) {\n            // on below line we are creating a variable\n            // for input manager and initializing it.\n            val inputMethodManager =\n                getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n             \n            // on below line hiding our keyboard.\n            inputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0)\n             \n            // displaying toast message on below line.\n            Toast.makeText(this, &quot;Key board hidden&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n}\n</code></pre>\n<p>Using the <code>input manager</code> will cause the keyboard to lose focus and hide. You can also use this in the main portion to where you tap anywhere on the screen and the keyboard will hide.</p>\n<p>This is a method of hiding (not disabling) the keyboard.</p>\n"}],"owner":{"account_id":23151631,"reputation":111,"user_id":17253541,"display_name":"SHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683546525,"creation_date":1683544621,"question_id":76200068,"body_markdown":"I am loading a certain web page in my android application using a webview and I want to disable the android keyboard for some screens and enable the android keyboard for some screens. So I tried implementing several approaches non of them work. When I set all the properties to support the keyboard enable and then try to disable it, it still pops out. These are the things I have done,\r\n\r\n    class SampleWebview(context: Context, attrs: AttributeSet): WebView(context, attrs) {\r\n        override fun onCreateInputConnection(outAttrs: EditorInfo): InputConnection? {\r\n            return null\r\n        }\r\n    \r\n        override fun onCheckIsTextEditor(): Boolean {\r\n            println(&quot;onCheckIsTextEditor&quot;)\r\n            return false\r\n        }\r\n    }\r\n\r\nI tried setting the onCheckIsTextEditor to false but it still keeps popping out. Please note that the above created SampleWebview was used in the layout file and references inside the Main Activity as well. Then I tried this,\r\n\r\n    wb.webViewClient = object: WebViewClient(){\r\n    \r\n                override fun onPageFinished(view: WebView?, url: String?) {\r\n                    viewModel.onPageFinishedLoading()\r\n    \r\n                }\r\n    \r\n                override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n                    if(url?.contains(&quot;/hide&quot;, true) == false){\r\n                        wb.isFocusable = true\r\n                        wb.isFocusableInTouchMode = true\r\n                        pt.descendantFocusability = ViewGroup.FOCUS_BEFORE_DESCENDANTS\r\n                    } else {\r\n                        wb.isFocusable = false\r\n                        wb.isFocusableInTouchMode = false\r\n                        pt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\r\n    \r\n                    }\r\n                }\r\n    }\r\n\r\nBut this doesn&#39;t work as well. But if i set the \r\n\r\n    wb.isFocusable = false\r\n    wb.isFocusableInTouchMode = false\r\n    pt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\r\n\r\nand doesn&#39;t change them then the soft keyboard is disabled for the entire application (which is great), but I need the soft keyboard to be enabled for some screens in the webview. How to achieve this? I have been trying different solutions for hours now, and yet no exact solution. Any guidance for this is much appreciated. \r\n\r\n**To sum up things again, what i need is to enable the android soft keyboard for some screens in the website and to disable it on some screens in the website which is displayed inside the Webview.**","title":"How to dynamically enable and disable the android soft keyboard","body":"<p>I am loading a certain web page in my android application using a webview and I want to disable the android keyboard for some screens and enable the android keyboard for some screens. So I tried implementing several approaches non of them work. When I set all the properties to support the keyboard enable and then try to disable it, it still pops out. These are the things I have done,</p>\n<pre><code>class SampleWebview(context: Context, attrs: AttributeSet): WebView(context, attrs) {\n    override fun onCreateInputConnection(outAttrs: EditorInfo): InputConnection? {\n        return null\n    }\n\n    override fun onCheckIsTextEditor(): Boolean {\n        println(&quot;onCheckIsTextEditor&quot;)\n        return false\n    }\n}\n</code></pre>\n<p>I tried setting the onCheckIsTextEditor to false but it still keeps popping out. Please note that the above created SampleWebview was used in the layout file and references inside the Main Activity as well. Then I tried this,</p>\n<pre><code>wb.webViewClient = object: WebViewClient(){\n\n            override fun onPageFinished(view: WebView?, url: String?) {\n                viewModel.onPageFinishedLoading()\n\n            }\n\n            override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                if(url?.contains(&quot;/hide&quot;, true) == false){\n                    wb.isFocusable = true\n                    wb.isFocusableInTouchMode = true\n                    pt.descendantFocusability = ViewGroup.FOCUS_BEFORE_DESCENDANTS\n                } else {\n                    wb.isFocusable = false\n                    wb.isFocusableInTouchMode = false\n                    pt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\n\n                }\n            }\n}\n</code></pre>\n<p>But this doesn't work as well. But if i set the</p>\n<pre><code>wb.isFocusable = false\nwb.isFocusableInTouchMode = false\npt.descendantFocusability = ViewGroup.FOCUS_BLOCK_DESCENDANTS\n</code></pre>\n<p>and doesn't change them then the soft keyboard is disabled for the entire application (which is great), but I need the soft keyboard to be enabled for some screens in the webview. How to achieve this? I have been trying different solutions for hours now, and yet no exact solution. Any guidance for this is much appreciated.</p>\n<p><strong>To sum up things again, what i need is to enable the android soft keyboard for some screens in the website and to disable it on some screens in the website which is displayed inside the Webview.</strong></p>\n"},{"tags":["java","jmeter","neoload"],"comments":[{"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"score":0,"creation_date":1683726849,"post_id":76200153,"comment_id":134411068,"body_markdown":"This pattern usually indicates that you are not receiving value from your current tool.   Your current tool is very capable, and you are moving to a tool that is less capable requiring additional tools to meet the same level of feature and functionality.   If you do not solve why you are not achieving at least a very high return on your performance testing tool investment (200%++) then the same problem of value generation will follow to the new tool.","body":"This pattern usually indicates that you are not receiving value from your current tool.   Your current tool is very capable, and you are moving to a tool that is less capable requiring additional tools to meet the same level of feature and functionality.   If you do not solve why you are not achieving at least a very high return on your performance testing tool investment (200%++) then the same problem of value generation will follow to the new tool."},{"owner":{"account_id":6008562,"reputation":471,"user_id":4719672,"accept_rate":100,"display_name":"Satish Shihani"},"score":0,"creation_date":1683817140,"post_id":76200153,"comment_id":134427533,"body_markdown":"Hi @JamesPulley,\nThe question was asked just for a blocker solution, Not for any marketing advice :)","body":"Hi @JamesPulley, The question was asked just for a blocker solution, Not for any marketing advice :)"},{"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"score":0,"creation_date":1683993546,"post_id":76200153,"comment_id":134453092,"body_markdown":"Just bringing up a pattern from three decades worth of consulting services delivery.  When you switch tools, if you do not figure out why you are not receiving value from a high feature/high capability tool to a tool with less capability, then the pattern that impacted delivery of value will follow to the new tool.\n\nIt&#39;s free advice.  Worth precisely what you paid for it.","body":"Just bringing up a pattern from three decades worth of consulting services delivery.  When you switch tools, if you do not figure out why you are not receiving value from a high feature/high capability tool to a tool with less capability, then the pattern that impacted delivery of value will follow to the new tool.  It&#39;s free advice.  Worth precisely what you paid for it."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683545768,"creation_date":1683545768,"answer_id":76200216,"question_id":76200153,"body_markdown":"You could just use JMeter&#39;s [HTTP(S) Test Script Recorder][1] as a proxy for the Neoload. \r\n\r\nGiven you:\r\n\r\n - Start JMeter&#39;s HTTP(S) Test Script Recorder\r\n - [Configure Neoload to use JMeter as a proxy][2]\r\n\r\nwhen you replay your test scenario in Neoload JMeter will capture the requests and generate appropriate [HTTP Request][3] samplers and [HTTP Header Managers][4]. \r\n\r\nYou will need to perform [correlation][5] manually however. If your Neoload script has a lot of dynamic values you might want to use [BlazeMeter Proxy Recorder][6] instead of JMeter&#39;s HTTP(S) Test Script Recorder, it has possibility to export recorded scripts in &quot;SmartJMX&quot; mode with automatic detection and correlation of the dynamic parameters. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\r\n  [2]: https://documentation.tricentis.com/neoload/9.0/en/WebHelp/#683.htm#o24279\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\r\n  [5]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\r\n  [6]: https://guide.blazemeter.com/hc/en-us/articles/13354690665233-Creating-the-Proxy-Recorder","title":"converting Neoload script to Jmeter script","body":"<p>You could just use JMeter's <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a> as a proxy for the Neoload.</p>\n<p>Given you:</p>\n<ul>\n<li>Start JMeter's HTTP(S) Test Script Recorder</li>\n<li><a href=\"https://documentation.tricentis.com/neoload/9.0/en/WebHelp/#683.htm#o24279\" rel=\"nofollow noreferrer\">Configure Neoload to use JMeter as a proxy</a></li>\n</ul>\n<p>when you replay your test scenario in Neoload JMeter will capture the requests and generate appropriate <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> samplers and <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\" rel=\"nofollow noreferrer\">HTTP Header Managers</a>.</p>\n<p>You will need to perform <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html#correlate-start\" rel=\"nofollow noreferrer\">correlation</a> manually however. If your Neoload script has a lot of dynamic values you might want to use <a href=\"https://guide.blazemeter.com/hc/en-us/articles/13354690665233-Creating-the-Proxy-Recorder\" rel=\"nofollow noreferrer\">BlazeMeter Proxy Recorder</a> instead of JMeter's HTTP(S) Test Script Recorder, it has possibility to export recorded scripts in &quot;SmartJMX&quot; mode with automatic detection and correlation of the dynamic parameters.</p>\n"}],"owner":{"account_id":6008562,"reputation":471,"user_id":4719672,"accept_rate":100,"display_name":"Satish Shihani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76200216,"answer_count":1,"score":-1,"last_activity_date":1683545768,"creation_date":1683545244,"question_id":76200153,"body_markdown":"Is there a possibility of converting the Neoload script to the Jmeter script? \r\nIf yes, then how?\r\n\r\nI have solutions for other performance testing tools to Jmeter, but not for Neoload to Jmeter.","title":"converting Neoload script to Jmeter script","body":"<p>Is there a possibility of converting the Neoload script to the Jmeter script?\nIf yes, then how?</p>\n<p>I have solutions for other performance testing tools to Jmeter, but not for Neoload to Jmeter.</p>\n"},{"tags":["java","android"],"owner":{"account_id":22386279,"reputation":1,"user_id":16599040,"display_name":"varrun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683545663,"creation_date":1683545663,"question_id":76200202,"body_markdown":"I have tried to access the pendrive in mobile phones. Usb pen drives were detecting in android mobiles. But how to access the contents inside pendrive in android. Below is the code taken from https://stackoverflow.com/questions/39942453/how-to-receive-usb-connection-status-broadcast\r\nI have checked with the code and able to get the usb and now i need to get the contents of pen drive.\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n\r\n    mDeviceText = (TextView) findViewById(R.id.text_status);\r\n    mConnectButton = (Button) findViewById(R.id.button_connect);\r\n    mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n}\r\n\r\n@Override\r\nprotected void onRestart() {\r\n    super.onRestart();\r\n    recreate();\r\n}\r\n\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n\r\n    mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n    IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n    registerReceiver(mUsbReceiver, filter);\r\n    updateDeviceList();\r\n}\r\n\r\n@Override\r\nprotected void onPause() {\r\n    super.onPause();\r\n    unregisterReceiver(mUsbReceiver);\r\n}\r\n\r\npublic void onConnectClick(View v) {\r\n    if (mDevice == null) {\r\n        return;\r\n    }\r\n    mUsbManager.requestPermission(mDevice, mPermissionIntent);\r\n}\r\n\r\n\r\nprivate static final String ACTION_USB_PERMISSION = &quot;com.android.recipes.USB_PERMISSION&quot;;\r\nprivate final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        if (ACTION_USB_PERMISSION.equals(action)) {\r\n\r\n            if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)\r\n                    &amp;&amp; device != null) {\r\n\r\n                getDeviceStatus(device);\r\n            } else {\r\n                Log.d(TAG, &quot;permission denied for device &quot; + device);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n\r\nprivate void getDeviceStatus(UsbDevice device) {\r\n    UsbDeviceConnection connection = mUsbManager.openDevice(device);\r\n    byte[] buffer = new byte[LENGTH];\r\n    connection.controlTransfer(REQUEST_TYPE, REQUEST, REQ_VALUE, REQ_INDEX,\r\n            buffer, LENGTH, 2000);\r\n    connection.close();\r\n}\r\n\r\nprivate void updateDeviceList() {\r\n    HashMap&lt;String, UsbDevice&gt; connectedDevices = mUsbManager\r\n            .getDeviceList();\r\n    if (connectedDevices.isEmpty()) {\r\n        mDevice = null;\r\n        mDeviceText.setText(&quot;No Devices Currently Connected&quot;);\r\n        mConnectButton.setEnabled(false);\r\n    } else {\r\n        for (UsbDevice device : connectedDevices.values()) {\r\n            mDevice = device;\r\n        }\r\n        mDeviceText.setText(&quot;USB Device connected&quot;);\r\n        mConnectButton.setEnabled(true);\r\n    }\r\n}\r\n```\r\n","title":"How to display the pendrive contents in android?","body":"<p>I have tried to access the pendrive in mobile phones. Usb pen drives were detecting in android mobiles. But how to access the contents inside pendrive in android. Below is the code taken from <a href=\"https://stackoverflow.com/questions/39942453/how-to-receive-usb-connection-status-broadcast\">How to receive USB connection status broadcast?</a>\nI have checked with the code and able to get the usb and now i need to get the contents of pen drive.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    mDeviceText = (TextView) findViewById(R.id.text_status);\n    mConnectButton = (Button) findViewById(R.id.button_connect);\n    mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n}\n\n@Override\nprotected void onRestart() {\n    super.onRestart();\n    recreate();\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n\n    mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n    IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n    registerReceiver(mUsbReceiver, filter);\n    updateDeviceList();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    unregisterReceiver(mUsbReceiver);\n}\n\npublic void onConnectClick(View v) {\n    if (mDevice == null) {\n        return;\n    }\n    mUsbManager.requestPermission(mDevice, mPermissionIntent);\n}\n\n\nprivate static final String ACTION_USB_PERMISSION = &quot;com.android.recipes.USB_PERMISSION&quot;;\nprivate final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if (ACTION_USB_PERMISSION.equals(action)) {\n\n            if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)\n                    &amp;&amp; device != null) {\n\n                getDeviceStatus(device);\n            } else {\n                Log.d(TAG, &quot;permission denied for device &quot; + device);\n            }\n        }\n    }\n};\n\n\nprivate void getDeviceStatus(UsbDevice device) {\n    UsbDeviceConnection connection = mUsbManager.openDevice(device);\n    byte[] buffer = new byte[LENGTH];\n    connection.controlTransfer(REQUEST_TYPE, REQUEST, REQ_VALUE, REQ_INDEX,\n            buffer, LENGTH, 2000);\n    connection.close();\n}\n\nprivate void updateDeviceList() {\n    HashMap&lt;String, UsbDevice&gt; connectedDevices = mUsbManager\n            .getDeviceList();\n    if (connectedDevices.isEmpty()) {\n        mDevice = null;\n        mDeviceText.setText(&quot;No Devices Currently Connected&quot;);\n        mConnectButton.setEnabled(false);\n    } else {\n        for (UsbDevice device : connectedDevices.values()) {\n            mDevice = device;\n        }\n        mDeviceText.setText(&quot;USB Device connected&quot;);\n        mConnectButton.setEnabled(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","java-8","graalvm"],"comments":[{"owner":{"account_id":10300086,"reputation":352,"user_id":7599062,"display_name":"SyntaxNavigator"},"score":0,"creation_date":1682429394,"post_id":76076830,"comment_id":134211396,"body_markdown":"`openssl ciphers -v &#39;TLSv1.2&#39;`\nThis should provide a list of cipher suites supported by OpenSSL on your machine for TLS 1.2. You may compare this list to the one returned by your software to determine if there are any differences.","body":"<code>openssl ciphers -v &#39;TLSv1.2&#39;</code> This should provide a list of cipher suites supported by OpenSSL on your machine for TLS 1.2. You may compare this list to the one returned by your software to determine if there are any differences."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1682431102,"post_id":76076830,"comment_id":134212030,"body_markdown":"@SyntaxNavigator There is no OpenSSL involved here.","body":"@SyntaxNavigator There is no OpenSSL involved here."},{"owner":{"account_id":392775,"reputation":1744,"user_id":754250,"display_name":"HoaPhan"},"score":0,"creation_date":1682489871,"post_id":76076830,"comment_id":134222190,"body_markdown":"I couldn&#39;t reproduce it, but if you put breakpoints in SSLEngineImpl, and SSLContextImpl, stepping through them it may just tell.","body":"I couldn&#39;t reproduce it, but if you put breakpoints in SSLEngineImpl, and SSLContextImpl, stepping through them it may just tell."},{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1682529030,"post_id":76076830,"comment_id":134232046,"body_markdown":"Which OS are you using?","body":"Which OS are you using?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1682538764,"post_id":76076830,"comment_id":134233851,"body_markdown":"@Michael CentOS 8, linux kernel 5.12.","body":"@Michael CentOS 8, linux kernel 5.12."},{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1682546329,"post_id":76076830,"comment_id":134235259,"body_markdown":"Sorry, I can&#39;t reproduce it (I get many cipher suites).","body":"Sorry, I can&#39;t reproduce it (I get many cipher suites)."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1683024231,"post_id":76076830,"comment_id":134299945,"body_markdown":"@Savior What architecture does your system have? pc, mac, arm? Do you run it inside somekind of virtualization (like docker, kvm, proxmox ...)?","body":"@Savior What architecture does your system have? pc, mac, arm? Do you run it inside somekind of virtualization (like docker, kvm, proxmox ...)?"},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1683301782,"post_id":76076830,"comment_id":134351003,"body_markdown":"@Lonzak It&#39;s bare metal linux. Weirdly enough, it&#39;s only a couple hosts among this fleet. But I fail to see what system setting could influence the JVM&#39;s selection of algorithms.","body":"@Lonzak It&#39;s bare metal linux. Weirdly enough, it&#39;s only a couple hosts among this fleet. But I fail to see what system setting could influence the JVM&#39;s selection of algorithms."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1683545591,"post_id":76076830,"comment_id":134378134,"body_markdown":"@Savior  I updated my answer with two additional points... (What architecture are you running?) And those fleet of other system are those completely identical or different in hard- or software?","body":"@Savior  I updated my answer with two additional points... (What architecture are you running?) And those fleet of other system are those completely identical or different in hard- or software?"}],"answers":[{"tags":[],"owner":{"account_id":7126990,"reputation":416,"user_id":5449595,"display_name":"gujou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682504682,"creation_date":1682504682,"answer_id":76109693,"question_id":76076830,"body_markdown":"I&#39;ve downloaded and tested your code with your GraalVM version on java 8 *(https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.3.3)*\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_302&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_302-b07)\r\n    OpenJDK 64-Bit Server VM GraalVM CE 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\r\n\r\n\r\nI&#39;ve this output :\r\n\r\n    [TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n\r\nI have check my $JAVA_HOME/jre/lib/security/java.security :\r\n\r\n      jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n            DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n            include jdk.disabled.namedCurves\r\n        &lt;...&gt;\r\n        jdk.tls.legacyAlgorithms= \\\r\n                K_NULL, C_NULL, M_NULL, \\\r\n                DH_anon, ECDH_anon, \\\r\n                RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n                3DES_EDE_CBC\r\n\r\nSo, I only see 2 possibilities if you have a fresh install :\r\n\r\n1. you don&#39;t use *--enable-https* when you compile Java code to a standalone executable like this :\r\n\r\n        $ native-image --enable-https Example\r\n\r\n2. you have a problem on your system environment and this is not a GraalVM problem...\r\n\r\nI hope it can help you,\r\nGLHF !","title":"GraalVM Java 8 SSLEngine only supports cipher suite TLS_EMPTY_RENEGOTIATION_INFO_SCSV","body":"<p>I've downloaded and tested your code with your GraalVM version on java 8 <em>(<a href=\"https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.3.3\" rel=\"nofollow noreferrer\">https://github.com/graalvm/graalvm-ce-builds/releases/tag/vm-20.3.3</a>)</em></p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_302&quot;\nOpenJDK Runtime Environment (build 1.8.0_302-b07)\nOpenJDK 64-Bit Server VM GraalVM CE 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\n</code></pre>\n<p>I've this output :</p>\n<pre><code>[TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n</code></pre>\n<p>I have check my $JAVA_HOME/jre/lib/security/java.security :</p>\n<pre><code>  jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n        DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n        include jdk.disabled.namedCurves\n    &lt;...&gt;\n    jdk.tls.legacyAlgorithms= \\\n            K_NULL, C_NULL, M_NULL, \\\n            DH_anon, ECDH_anon, \\\n            RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n            3DES_EDE_CBC\n</code></pre>\n<p>So, I only see 2 possibilities if you have a fresh install :</p>\n<ol>\n<li><p>you don't use <em>--enable-https</em> when you compile Java code to a standalone executable like this :</p>\n<pre><code> $ native-image --enable-https Example\n</code></pre>\n</li>\n<li><p>you have a problem on your system environment and this is not a GraalVM problem...</p>\n</li>\n</ol>\n<p>I hope it can help you,\nGLHF !</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683545655,"creation_date":1682628406,"answer_id":76124531,"question_id":76076830,"body_markdown":"Some important information is missing in your post:\r\n\r\nIn a comment you write that your operating system is linux but on what **[architecture][1]** does it run? X86, MAC, ARM, ...? Do you run it inside some kind of **virtualization** layer (like docker, kvm, proxmox ...) or bare metal? \r\n\r\nSeveral things come to mind:\r\n\r\n 1. You are using CentOS 8 with linux kernel 5.12. Cent OS 8 has been eol&#39;ed since 2021-12-31 - [do not use it][2] anymore. There are known Java related [bugs][3] in centOS. \r\n 2. You can try to enable a different provider like SunEC in java.security config file by adding the line `security.provider.9=sun.security.ec.SunEC` (You can find an overview of available providers [here][4])\r\n 3. Did you try to use an up-to-date graalVM? The current java8 of graalVM is [20.3.10 - 8u371][5] (enterprise). There have been bugfixes in this area (e.g. in 20.3.4) and also additions: [Sean Mullan announced][6] that TLSv1.3 was enabled in 8u341 (which you are not using with 8u302)\r\n 4. Are you using java 8 for a specific reason? If not then use Java11 or higher. If yes then still try a Java11 based graal Version and see whether the behaviour is the same. (If you see more cipher suites this might be a java related issue if not then OS related)\r\n 5. Try to enable more cipher suites by using the `setEnabledCipherSuites` method, passing in an array of cipher suite names. For example:\r\n      \r\n        engine.setEnabledCipherSuites(new String[] {&quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;});\r\n 6. You can always use a different SSL/TLS implementation, like Bouncy Castle, OpenSSL or the JSSE implementation that comes with a newer version of the JDK. \r\n 7. Try to add the following extension path to your java call: `-Djava.ext.dirs=./:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b07_64/jre/lib/ext` (adapt the path accordingly) It should point to the folder where the `sunjce_provider.jar` etc is located\r\n 8. Did you enable debug output? `-Djavax.net.debug=ssl` What does it say?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_Linux-supported_computer_architectures\r\n  [2]: https://vulners.com/thn/THN:A022718A54C5EE0C2378E2A496201F6C\r\n  [3]: https://bugs.centos.org/view.php?id=9482\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html\r\n  [5]: https://docs.oracle.com/en/graalvm/enterprise/20/docs/overview/release-notes/\r\n  [6]: https://twitter.com/seanjmullan/status/1549461422286856193","title":"GraalVM Java 8 SSLEngine only supports cipher suite TLS_EMPTY_RENEGOTIATION_INFO_SCSV","body":"<p>Some important information is missing in your post:</p>\n<p>In a comment you write that your operating system is linux but on what <strong><a href=\"https://en.wikipedia.org/wiki/List_of_Linux-supported_computer_architectures\" rel=\"nofollow noreferrer\">architecture</a></strong> does it run? X86, MAC, ARM, ...? Do you run it inside some kind of <strong>virtualization</strong> layer (like docker, kvm, proxmox ...) or bare metal?</p>\n<p>Several things come to mind:</p>\n<ol>\n<li><p>You are using CentOS 8 with linux kernel 5.12. Cent OS 8 has been eol'ed since 2021-12-31 - <a href=\"https://vulners.com/thn/THN:A022718A54C5EE0C2378E2A496201F6C\" rel=\"nofollow noreferrer\">do not use it</a> anymore. There are known Java related <a href=\"https://bugs.centos.org/view.php?id=9482\" rel=\"nofollow noreferrer\">bugs</a> in centOS.</p>\n</li>\n<li><p>You can try to enable a different provider like SunEC in java.security config file by adding the line <code>security.provider.9=sun.security.ec.SunEC</code> (You can find an overview of available providers <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html\" rel=\"nofollow noreferrer\">here</a>)</p>\n</li>\n<li><p>Did you try to use an up-to-date graalVM? The current java8 of graalVM is <a href=\"https://docs.oracle.com/en/graalvm/enterprise/20/docs/overview/release-notes/\" rel=\"nofollow noreferrer\">20.3.10 - 8u371</a> (enterprise). There have been bugfixes in this area (e.g. in 20.3.4) and also additions: <a href=\"https://twitter.com/seanjmullan/status/1549461422286856193\" rel=\"nofollow noreferrer\">Sean Mullan announced</a> that TLSv1.3 was enabled in 8u341 (which you are not using with 8u302)</p>\n</li>\n<li><p>Are you using java 8 for a specific reason? If not then use Java11 or higher. If yes then still try a Java11 based graal Version and see whether the behaviour is the same. (If you see more cipher suites this might be a java related issue if not then OS related)</p>\n</li>\n<li><p>Try to enable more cipher suites by using the <code>setEnabledCipherSuites</code> method, passing in an array of cipher suite names. For example:</p>\n<pre><code>engine.setEnabledCipherSuites(new String[] {&quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;, &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;});\n</code></pre>\n</li>\n<li><p>You can always use a different SSL/TLS implementation, like Bouncy Castle, OpenSSL or the JSSE implementation that comes with a newer version of the JDK.</p>\n</li>\n<li><p>Try to add the following extension path to your java call: <code>-Djava.ext.dirs=./:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b07_64/jre/lib/ext</code> (adapt the path accordingly) It should point to the folder where the <code>sunjce_provider.jar</code> etc is located</p>\n</li>\n<li><p>Did you enable debug output? <code>-Djavax.net.debug=ssl</code> What does it say?</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683545655,"creation_date":1682112761,"question_id":76076830,"body_markdown":"I&#39;ve got this small little program\r\n```\r\nimport java.util.Arrays;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\n\r\npublic class Example {\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\tcontext.init(null, null, null);\r\n\t\tSSLEngine engine = context.createSSLEngine();\r\n\t\tSystem.out.println(Arrays.toString(engine.getSupportedCipherSuites()));\r\n\t}\r\n}\r\n```\r\nAnd running on\r\n```\r\nopenjdk version &quot;1.8.0_302&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_302-b07)\r\nOpenJDK 64-Bit Server VM GraalVM LIBGRAAL 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\r\n```\r\nwill only report back\r\n```\r\n[TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n```\r\nThe provider is\r\n```\r\nSunJSSE version 1.8\r\n```\r\nThe config in `jre/lib/security/java.security` does not seem to disable all the standard cipher suites\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n[...]\r\njdk.tls.legacyAlgorithms= \\\r\n        K_NULL, C_NULL, M_NULL, \\\r\n        DH_anon, ECDH_anon, \\\r\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n        3DES_EDE_CBC\r\n```\r\n\r\nSo where are all the TLS 1.2 and TLS 1.3 cipher suites? What else can be influencing the selection?\r\n\r\n","title":"GraalVM Java 8 SSLEngine only supports cipher suite TLS_EMPTY_RENEGOTIATION_INFO_SCSV","body":"<p>I've got this small little program</p>\n<pre><code>import java.util.Arrays;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\n\npublic class Example {\n    public static void main(String[] args) throws Exception {\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        context.init(null, null, null);\n        SSLEngine engine = context.createSSLEngine();\n        System.out.println(Arrays.toString(engine.getSupportedCipherSuites()));\n    }\n}\n</code></pre>\n<p>And running on</p>\n<pre><code>openjdk version &quot;1.8.0_302&quot;\nOpenJDK Runtime Environment (build 1.8.0_302-b07)\nOpenJDK 64-Bit Server VM GraalVM LIBGRAAL 20.3.3 (build 25.302-b07-jvmci-20.3-b20, mixed mode)\n</code></pre>\n<p>will only report back</p>\n<pre><code>[TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n</code></pre>\n<p>The provider is</p>\n<pre><code>SunJSSE version 1.8\n</code></pre>\n<p>The config in <code>jre/lib/security/java.security</code> does not seem to disable all the standard cipher suites</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n[...]\njdk.tls.legacyAlgorithms= \\\n        K_NULL, C_NULL, M_NULL, \\\n        DH_anon, ECDH_anon, \\\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n        3DES_EDE_CBC\n</code></pre>\n<p>So where are all the TLS 1.2 and TLS 1.3 cipher suites? What else can be influencing the selection?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9543,"page":449,"page_size":100}
