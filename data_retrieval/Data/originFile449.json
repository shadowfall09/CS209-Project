{"items":[{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1588170871,"post_id":61504208,"comment_id":108797923,"body_markdown":"Please add your data set (values in iStore) and your wished result set","body":"Please add your data set (values in iStore) and your wished result set"},{"owner":{"account_id":8358723,"reputation":11,"user_id":6277954,"display_name":"MrPoofyWaffle"},"score":0,"creation_date":1588170963,"post_id":61504208,"comment_id":108797978,"body_markdown":"rlegstat:\n  - Cured\n  - Fracture\n\nResult if injury is equal to broken:\nrlegstat:\n  - Cured\n  - Broken\nActual results \nrlegstat:\n  - Cured\n  - Fracture\n  - Broken","body":"rlegstat:   - Cured   - Fracture  Result if injury is equal to broken: rlegstat:   - Cured   - Broken Actual results  rlegstat:   - Cured   - Fracture   - Broken"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1588198139,"post_id":61504208,"comment_id":108811938,"body_markdown":"Does `iStore.getStringList` return a reference to the same list every time, or does it return a new copy of the list each time it&#39;s called?","body":"Does <code>iStore.getStringList</code> return a reference to the same list every time, or does it return a new copy of the list each time it&#39;s called?"}],"answers":[{"tags":[],"owner":{"account_id":25879451,"reputation":9,"user_id":19608810,"display_name":"justADeni"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683629516,"creation_date":1683629516,"answer_id":76208542,"question_id":61504208,"body_markdown":"To avoid unpredictable behaviour and even a potential ConcurrentModificationException, instead of using enhanced for loop, use [Iterator][1], which supports removing element while iterating over them.\r\n\r\nAlternatively, you could use simple for loop and iterate backwards:\r\n\r\n    List&lt;String&gt; list;\r\n    \r\n    for(int i = list.size() - 1; i &gt;= 0; --i) {\r\n            if(list.get(i).contains(&quot;bad&quot;)){\r\n                    list.remove(i);\r\n            }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html","title":"Java not removing specific item from list","body":"<p>To avoid unpredictable behaviour and even a potential ConcurrentModificationException, instead of using enhanced for loop, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Iterator</a>, which supports removing element while iterating over them.</p>\n<p>Alternatively, you could use simple for loop and iterate backwards:</p>\n<pre><code>List&lt;String&gt; list;\n\nfor(int i = list.size() - 1; i &gt;= 0; --i) {\n        if(list.get(i).contains(&quot;bad&quot;)){\n                list.remove(i);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683630303,"creation_date":1683630303,"answer_id":76208643,"question_id":61504208,"body_markdown":"It&#39;s hard to follow your exact logic (since you didn&#39;t give us a full method, for example it&#39;s unclear where `injury` is coming from), but it seems you don&#39;t need to loop at all. Simply using `.contains()`, `.add()` and `.remove()` should suffice:\r\n\r\n```\r\nprivate addInjury(String section, String injury) {\r\n  String storeKey = uuid + &quot;.&quot; + section;\r\n  List&lt;String&gt; sevs = iStore.getStringList(storeKey);\r\n  if (injury.equals(&quot;Broken&quot;)) {\r\n    sevs.remove(&quot;Fracture&quot;); // no need to check if it&#39;s in sev, if it isn&#39;t this will do nothing.\r\n  } else {\r\n    sevs.remove(&quot;Intact&quot;); // depending on the desired logic, this could just go after the if outside of the else block.\r\n  }\r\n  if (!sevs.contains(injury)) {\r\n    sevs.add(injury);\r\n  }\r\n  iStore.set(storeKey, sevs);\r\n  store.saveStore();\r\n}\r\n```","title":"Java not removing specific item from list","body":"<p>It's hard to follow your exact logic (since you didn't give us a full method, for example it's unclear where <code>injury</code> is coming from), but it seems you don't need to loop at all. Simply using <code>.contains()</code>, <code>.add()</code> and <code>.remove()</code> should suffice:</p>\n<pre><code>private addInjury(String section, String injury) {\n  String storeKey = uuid + &quot;.&quot; + section;\n  List&lt;String&gt; sevs = iStore.getStringList(storeKey);\n  if (injury.equals(&quot;Broken&quot;)) {\n    sevs.remove(&quot;Fracture&quot;); // no need to check if it's in sev, if it isn't this will do nothing.\n  } else {\n    sevs.remove(&quot;Intact&quot;); // depending on the desired logic, this could just go after the if outside of the else block.\n  }\n  if (!sevs.contains(injury)) {\n    sevs.add(injury);\n  }\n  iStore.set(storeKey, sevs);\n  store.saveStore();\n}\n</code></pre>\n"}],"owner":{"account_id":8358723,"reputation":11,"user_id":6277954,"display_name":"MrPoofyWaffle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683630303,"creation_date":1588170367,"question_id":61504208,"body_markdown":"I am currently developing a plugin in minecraft spigot. I don&#39;t believe this is a spigot problem though, I believe this is a java problem. I have a method called setInjury() in my class that is supposed to make a copy of a list, remove an item from the copy and replace the list with the new one. The weird thing is, this works. For one item in particular though, it just refuses to remove it. It will remove other ones, but not this one. I checked casing and everything. Even the boolean from .remove says it has been removed, yet it just doesn&#39;t.\r\n\r\n(iStore is a file configuration file while store is my class it&#39;s in)\r\n\r\nIt used to be in an if else statement, but the boolean inside the remove works just the same. The weirdest thing about all of this is it was literally working yesterday.\r\n\r\n    List&lt;String&gt; sevs = iStore.getStringList(uuid + &quot;.&quot; + section);\r\n\t\t\r\n    for(String s : iStore.getStringList(uuid + &quot;.&quot; + section)) {\r\n\t\tboolean isFracture = s.equals(&quot;Fracture&quot;) &amp;&amp; injury.equals(&quot;Broken&quot;) ;\r\n\t\t\t\r\n\t\tif(s.equals(injury)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t\t\r\n\t\tsevs.add(&quot;Broken&quot;);\r\n\t\tsevs.remove(isFracture ? &quot;Fracture&quot; : &quot;Intact&quot;);\r\n\r\n\t\tiStore.set(uuid + &quot;.&quot; + section, sevs);\r\n\t\tstore.saveStore();\r\n\t\t\t\r\n\t}\r\n\r\n\r\nMy other more messy code that does the same thing, to prove that it should remove it:\r\n\r\n        List&lt;String&gt; sevs = iStore.getStringList(uuid + &quot;.&quot; + section);\r\n        for(String s : iStore.getStringList(uuid + &quot;.&quot; + section)) {\r\n            if(sevs.contains(injury)) {\r\n                return;\r\n            }else if(injury.equals(&quot;Broken&quot;) &amp;&amp; s.equals(&quot;Fracture&quot;)){\r\n                sevs.add(&quot;Broken&quot;);\r\n                sevs.remove(&quot;Fracture&quot;);\r\n                \r\n              Bukkit.getLogger().info(Boolean.toString(sevs.remove(&quot;Fracture&quot;))); //returns true??\r\n                iStore.set(uuid + &quot;.&quot; + section, sevs);\r\n                store.saveStore();\r\n            }else{\r\n                sevs.add(injury);\r\n                sevs.remove(&quot;Intact&quot;);\r\n                iStore.set(uuid + &quot;.&quot; + section, sevs);\r\n                store.saveStore();\r\n            }\r\n\r\nList before running code:\r\n\r\n \r\n    rlegstat: \r\n     - Cured \r\n     - Fracture \r\n    //Desired result if injury is equal to broken: \r\n    rlegstat: \r\n     - Cured \r\n     - Broken \r\n    //Actual results \r\n    rlegstat: \r\n     - Cured \r\n     - Fracture \r\n     - Broken","title":"Java not removing specific item from list","body":"<p>I am currently developing a plugin in minecraft spigot. I don't believe this is a spigot problem though, I believe this is a java problem. I have a method called setInjury() in my class that is supposed to make a copy of a list, remove an item from the copy and replace the list with the new one. The weird thing is, this works. For one item in particular though, it just refuses to remove it. It will remove other ones, but not this one. I checked casing and everything. Even the boolean from .remove says it has been removed, yet it just doesn't.</p>\n\n<p>(iStore is a file configuration file while store is my class it's in)</p>\n\n<p>It used to be in an if else statement, but the boolean inside the remove works just the same. The weirdest thing about all of this is it was literally working yesterday.</p>\n\n<pre><code>List&lt;String&gt; sevs = iStore.getStringList(uuid + \".\" + section);\n\nfor(String s : iStore.getStringList(uuid + \".\" + section)) {\n    boolean isFracture = s.equals(\"Fracture\") &amp;&amp; injury.equals(\"Broken\") ;\n\n    if(s.equals(injury)) {\n        continue;\n    }\n\n    sevs.add(\"Broken\");\n    sevs.remove(isFracture ? \"Fracture\" : \"Intact\");\n\n    iStore.set(uuid + \".\" + section, sevs);\n    store.saveStore();\n\n}\n</code></pre>\n\n<p>My other more messy code that does the same thing, to prove that it should remove it:</p>\n\n<pre><code>    List&lt;String&gt; sevs = iStore.getStringList(uuid + \".\" + section);\n    for(String s : iStore.getStringList(uuid + \".\" + section)) {\n        if(sevs.contains(injury)) {\n            return;\n        }else if(injury.equals(\"Broken\") &amp;&amp; s.equals(\"Fracture\")){\n            sevs.add(\"Broken\");\n            sevs.remove(\"Fracture\");\n\n          Bukkit.getLogger().info(Boolean.toString(sevs.remove(\"Fracture\"))); //returns true??\n            iStore.set(uuid + \".\" + section, sevs);\n            store.saveStore();\n        }else{\n            sevs.add(injury);\n            sevs.remove(\"Intact\");\n            iStore.set(uuid + \".\" + section, sevs);\n            store.saveStore();\n        }\n</code></pre>\n\n<p>List before running code:</p>\n\n<pre><code>rlegstat: \n - Cured \n - Fracture \n//Desired result if injury is equal to broken: \nrlegstat: \n - Cured \n - Broken \n//Actual results \nrlegstat: \n - Cured \n - Fracture \n - Broken\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-datastore"],"answers":[{"tags":[],"owner":{"account_id":19966209,"reputation":21,"user_id":14632745,"display_name":"Khaoula MECHERGUI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650908556,"creation_date":1650894421,"answer_id":72000615,"question_id":71634780,"body_markdown":"I had the same problem and, I think that `context.createDatastore` isn&#39;t yet in this version\r\nI tried with this dependency version\r\n\r\n    &quot;androidx.datastore:datastore-preferences:1.0.0-alpha01&quot;\r\n\r\n and it worked for me but be careful this version is not yet stable.","title":"context.createDatabase is not finding in preferences DataStore Android","body":"<p>I had the same problem and, I think that <code>context.createDatastore</code> isn't yet in this version\nI tried with this dependency version</p>\n<pre><code>&quot;androidx.datastore:datastore-preferences:1.0.0-alpha01&quot;\n</code></pre>\n<p>and it worked for me but be careful this version is not yet stable.</p>\n"},{"tags":[],"owner":{"account_id":7017583,"reputation":51,"user_id":5378327,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683630177,"creation_date":1683629860,"answer_id":76208591,"question_id":71634780,"body_markdown":"I used this version and solved the problem:\r\n\r\n    androidx.datastore:datastore-preferences:1.0.0\r\n\r\nI was using this version before:\r\n\r\n    androidx.datastore:datastore-preferences-core:1.0.0\r\n\r\n    ","title":"context.createDatabase is not finding in preferences DataStore Android","body":"<p>I used this version and solved the problem:</p>\n<pre><code>androidx.datastore:datastore-preferences:1.0.0\n</code></pre>\n<p>I was using this version before:</p>\n<pre><code>androidx.datastore:datastore-preferences-core:1.0.0\n</code></pre>\n"}],"owner":{"account_id":16147660,"reputation":424,"user_id":11656856,"display_name":"Mostafa Imani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683630177,"creation_date":1648369736,"question_id":71634780,"body_markdown":"I&#39;ve just implemented Preferences by Android DataStore \r\nbut I can&#39;t find  &quot;context.createDataStore&quot;\r\n I added this dependency below\r\n \r\n\r\n&gt;  implementation &quot;androidx.datastore:datastore-preferences:1.0.0&quot;\r\n\r\nand also I did clean and Rebuild Project\r\nbut I can&#39;t find createDataStore function","title":"context.createDatabase is not finding in preferences DataStore Android","body":"<p>I've just implemented Preferences by Android DataStore\nbut I can't find  &quot;context.createDataStore&quot;\nI added this dependency below</p>\n<blockquote>\n<p>implementation &quot;androidx.datastore:datastore-preferences:1.0.0&quot;</p>\n</blockquote>\n<p>and also I did clean and Rebuild Project\nbut I can't find createDataStore function</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1683628226,"post_id":76208296,"comment_id":134392350,"body_markdown":"The Spring Cloud version in use is not compatible with Spring Boot 3.","body":"The Spring Cloud version in use is not compatible with Spring Boot 3."}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683630090,"creation_date":1683627827,"question_id":76208296,"body_markdown":"I am not able to run my project. While running I am getting below error (see the error log). Could anyone please help what will be the issue here? It seems like a version mismatch issue.\r\n\r\nError log\r\n```none\r\n10:09:40.437 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    java.lang.NoClassDefFoundError: org/springframework/boot/Bootstrapper\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.getTextEncryptor(DecryptEnvironmentPostProcessor.java:82)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.postProcessEnvironment(DecryptEnvironmentPostProcessor.java:68)\r\n    \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\r\n    \tat org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n    \tat com.hp.it.os.warrantyorch.Application.main(Application.java:19)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.Bootstrapper\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 29 common frames omitted\r\n```\r\n\r\nI have added log file here and as well as my pom.xml file.\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;warrantyorch&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;warrantyorch&lt;/name&gt;\r\n\t&lt;version&gt;v1&lt;/version&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t&lt;jaxb2.version&gt;1.11.1&lt;/jaxb2.version&gt;\r\n\t\t&lt;threetenbp.version&gt;2.10.0&lt;/threetenbp.version&gt;\r\n\t\t&lt;openfeign.version&gt;3.0.1&lt;/openfeign.version&gt;\r\n\t\t&lt;soap.version&gt;11.8&lt;/soap.version&gt;\r\n\t\t&lt;hc5.version&gt;10.12&lt;/hc5.version&gt;\r\n\t\t&lt;feign.okhttp.version&gt;12.3&lt;/feign.okhttp.version&gt;\r\n\t\t&lt;resilience4j.version&gt;2.0.2&lt;/resilience4j.version&gt;\r\n\t\t&lt;spi.version&gt;2.17.224&lt;/spi.version&gt;\r\n\t\t&lt;aws.crt.version&gt;0.21.14&lt;/aws.crt.version&gt;\r\n\t\t&lt;crt.client.version&gt;2.20.25&lt;/crt.client.version&gt;\r\n\t\t&lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\r\n\t\t&lt;jwt.version&gt;4.2.1&lt;/jwt.version&gt;\r\n\t\t&lt;rsa.version&gt;0.21.2&lt;/rsa.version&gt;\r\n\t\t&lt;commonlib.version&gt;0.4.85&lt;/commonlib.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.hp.os&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commonlib&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${commonlib.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jaxb2.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${threetenbp.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-soap --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${openfeign.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-soap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${soap.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-hc5 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-hc5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hc5.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies --&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-okhttp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${feign.okhttp.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- AOP LOG --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${resilience4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spi.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${aws.crt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${crt.client.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${sdk-core.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jwt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${rsa.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"java.lang.NoClassDefFoundError: org/springframework/boot/Bootstrapper","body":"<p>I am not able to run my project. While running I am getting below error (see the error log). Could anyone please help what will be the issue here? It seems like a version mismatch issue.</p>\n<p>Error log</p>\n<pre class=\"lang-none prettyprint-override\"><code>10:09:40.437 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\n    java.lang.NoClassDefFoundError: org/springframework/boot/Bootstrapper\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.getTextEncryptor(DecryptEnvironmentPostProcessor.java:82)\n        at org.springframework.cloud.bootstrap.encrypt.DecryptEnvironmentPostProcessor.postProcessEnvironment(DecryptEnvironmentPostProcessor.java:68)\n        at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:109)\n        at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:94)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n        at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n        at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n        at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:352)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n        at com.hp.it.os.warrantyorch.Application.main(Application.java:19)\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.Bootstrapper\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 29 common frames omitted\n</code></pre>\n<p>I have added log file here and as well as my pom.xml file.</p>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.hp.it.psoit&lt;/groupId&gt;\n    &lt;artifactId&gt;warrantyorch&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;warrantyorch&lt;/name&gt;\n    &lt;version&gt;v1&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;jaxb2.version&gt;1.11.1&lt;/jaxb2.version&gt;\n        &lt;threetenbp.version&gt;2.10.0&lt;/threetenbp.version&gt;\n        &lt;openfeign.version&gt;3.0.1&lt;/openfeign.version&gt;\n        &lt;soap.version&gt;11.8&lt;/soap.version&gt;\n        &lt;hc5.version&gt;10.12&lt;/hc5.version&gt;\n        &lt;feign.okhttp.version&gt;12.3&lt;/feign.okhttp.version&gt;\n        &lt;resilience4j.version&gt;2.0.2&lt;/resilience4j.version&gt;\n        &lt;spi.version&gt;2.17.224&lt;/spi.version&gt;\n        &lt;aws.crt.version&gt;0.21.14&lt;/aws.crt.version&gt;\n        &lt;crt.client.version&gt;2.20.25&lt;/crt.client.version&gt;\n        &lt;sdk-core.version&gt;2.20.25&lt;/sdk-core.version&gt;\n        &lt;jwt.version&gt;4.2.1&lt;/jwt.version&gt;\n        &lt;rsa.version&gt;0.21.2&lt;/rsa.version&gt;\n        &lt;commonlib.version&gt;0.4.85&lt;/commonlib.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.hp.os&lt;/groupId&gt;\n            &lt;artifactId&gt;commonlib&lt;/artifactId&gt;\n            &lt;version&gt;${commonlib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.Alpha2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2_commons&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-basics&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;${threetenbp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-soap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;${openfeign.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-soap&lt;/artifactId&gt;\n            &lt;version&gt;${soap.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-hc5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-hc5&lt;/artifactId&gt;\n            &lt;version&gt;${hc5.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies --&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.github.openfeign/feign-okhttp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt;\n            &lt;version&gt;${feign.okhttp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- AOP LOG --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n            &lt;version&gt;${resilience4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;http-client-spi&lt;/artifactId&gt;\n            &lt;version&gt;${spi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk.crt&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt&lt;/artifactId&gt;\n            &lt;version&gt;${aws.crt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-crt-client&lt;/artifactId&gt;\n            &lt;version&gt;${crt.client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sdk-core&lt;/artifactId&gt;\n            &lt;version&gt;${sdk-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${jwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\n            &lt;version&gt;${rsa.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-spinner"],"answers":[{"tags":[],"owner":{"display_name":"user21742102"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683629875,"creation_date":1683629875,"answer_id":76208596,"question_id":76207133,"body_markdown":"You have to `setError(null)`, when an item is selected:\r\n```\r\ncaste.setOnItemClickListener((adapterView, view, i, l) -&gt; caste.setError(null));\r\n```","title":"Material Autocompletetextview shows error even when an item is selected","body":"<p>You have to <code>setError(null)</code>, when an item is selected:</p>\n<pre><code>caste.setOnItemClickListener((adapterView, view, i, l) -&gt; caste.setError(null));\n</code></pre>\n"}],"owner":{"display_name":"user21742102"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683629875,"creation_date":1683619617,"question_id":76207133,"body_markdown":"My code:\r\n\r\n*xml:*\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout                         \r\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n    android:layout_marginTop=&quot;5dp&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:id=&quot;@+id/caste_textinputlayout&quot;\r\n    android:hint=&quot;caste&quot;\r\n    app:errorTextAppearance=&quot;@style/error_appearance&quot;\r\n    app:hintTextAppearance=&quot;@style/error_appearance&quot;&gt;\r\n                                \r\n    &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n        android:id=&quot;@+id/caste_dropdown&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fontFamily=&quot;sans-serif-smallcaps&quot;\r\n        android:focusable=&quot;false&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\n*java:*\r\n```\r\nMaterialAutoCompleteTextView caste = findViewById(R.id.caste_dropdown);\r\nArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\narr.add(&quot;general&quot;);\r\narr.add(&quot;sc&quot;);\r\narr.add(&quot;st&quot;);\r\narr.add(&quot;obc&quot;);\r\narrayadapter = new ArrayAdapter&lt;&gt;(this,R.layout.spinner_layout,arr);\r\ncaste.setAdapter(arrayadapter);\r\nsubmit.setOnClickListener(view -&gt; {\r\n    if (caste.getText().toString().isEmpty()) {\r\n        caste.requestFocus();\r\n        caste.setError(&quot;Please don&#39;t leave the field empty&quot;);\r\n    }\r\n});\r\n```\r\n\r\n\r\n----------\r\nWhen no item is selected in the dropdown, then the error shows, which it should. Now if I select an item, it still shows the error. Why?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z1M7k.jpg","title":"Material Autocompletetextview shows error even when an item is selected","body":"<p>My code:</p>\n<p><em>xml:</em></p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout                         \n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/caste_textinputlayout&quot;\n    android:hint=&quot;caste&quot;\n    app:errorTextAppearance=&quot;@style/error_appearance&quot;\n    app:hintTextAppearance=&quot;@style/error_appearance&quot;&gt;\n                                \n    &lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n        android:id=&quot;@+id/caste_dropdown&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fontFamily=&quot;sans-serif-smallcaps&quot;\n        android:focusable=&quot;false&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><em>java:</em></p>\n<pre><code>MaterialAutoCompleteTextView caste = findViewById(R.id.caste_dropdown);\nArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\narr.add(&quot;general&quot;);\narr.add(&quot;sc&quot;);\narr.add(&quot;st&quot;);\narr.add(&quot;obc&quot;);\narrayadapter = new ArrayAdapter&lt;&gt;(this,R.layout.spinner_layout,arr);\ncaste.setAdapter(arrayadapter);\nsubmit.setOnClickListener(view -&gt; {\n    if (caste.getText().toString().isEmpty()) {\n        caste.requestFocus();\n        caste.setError(&quot;Please don't leave the field empty&quot;);\n    }\n});\n</code></pre>\n<hr />\n<p>When no item is selected in the dropdown, then the error shows, which it should. Now if I select an item, it still shows the error. Why?</p>\n<p><a href=\"https://i.stack.imgur.com/Z1M7k.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1M7k.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","kubernetes","ssl","amazon-rds"],"owner":{"account_id":978323,"reputation":5182,"user_id":998692,"accept_rate":97,"display_name":"user998692"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683629296,"creation_date":1683629296,"question_id":76208517,"body_markdown":"I have an environment where SSL is enabled for the db connection with Amazon RDS MySQL, and I&#39;m seeing the following exception when the application starts:\r\n```Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)```\r\n\r\nI have downloaded the pem file from the Amazon website, and used the following scripts to first create the truststore, then to upload the secret to the environments.\r\n\r\n```#!/bin/bash\r\n\r\nmydir= &quot;/myproject/scripts/python/secrets/resources&quot;\r\ntruststore=truststore.jks\r\nstorepassword=password\r\n\r\nsplit -p &quot;-----BEGIN CERTIFICATE-----&quot; /myproject/scripts/python/secrets/resources/dev-certs/eucentral/eu-central-1-bundle.pem rds-ca-\r\n\r\nfor CERT in rds-ca-*; do\r\n  alias=$(openssl x509 -noout -text -in $CERT | perl -ne &#39;next unless /Subject:/; s/.*(CN=|CN = )//; print&#39;)\r\n  echo &quot;Importing $alias&quot;\r\n  keytool -import -file ${CERT} -alias &quot;${alias}&quot; -storepass ${storepassword} -keystore ${truststore} -noprompt\r\n  rm $CERT\r\ndone\r\n\r\necho &quot;Trust store content is: &quot;\r\n\r\nkeytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} | grep Alias | cut -d &quot; &quot; -f3- | while read alias \r\ndo\r\n   expiry=`keytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} -alias &quot;${alias}&quot; | grep Valid | perl -ne &#39;if(/until: (.*?)\\n/) { print &quot;$1\\n&quot;; }&#39;`\r\n   echo &quot; Certificate ${alias} expires in &#39;$expiry&#39;&quot; \r\ndone\r\n```\r\n\r\n```\r\ndef create_certificate_secret(context, namespace, secret_name):\r\n    certs = []\r\n    path = &#39;resources/&#39;\r\n\r\n    if &#39;dev&#39; in context:\r\n        path = path + &#39;dev-certs/&#39;\r\n\r\n    eu_central_certs = [&#39;truststore.jks&#39;, &#39;eu-central-1-bundle.pem&#39;]\r\n\r\n    if &#39;eucentral&#39; in context:\r\n        path = path + &#39;eucentral/&#39;\r\n        certs = eu_central_certs\r\n\r\n    statement = &quot;kubectl --context &quot; + context + &quot; -n &quot; + namespace + &quot; create secret generic &quot; + secret_name\r\n\r\n    for cert in certs:\r\n        statement = statement + &quot; --from-file=&quot; + cert + &#39;=&#39; + path + cert\r\n\r\n    os.system(statement)\r\n```\r\n\r\nWhen I run the script, I can see that the secret gets created, and it has inside the pem file and the truststore, and that all the certificates from the pem were included in the truststore. The mountPath looks correct too, so I am wondering why the above configuration doesn&#39;t work.\r\n","title":"SSL issue for database connection on Kubernetes","body":"<p>I have an environment where SSL is enabled for the db connection with Amazon RDS MySQL, and I'm seeing the following exception when the application starts:\n<code>Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Path does not chain with any of the trust anchors\\n\\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)</code></p>\n<p>I have downloaded the pem file from the Amazon website, and used the following scripts to first create the truststore, then to upload the secret to the environments.</p>\n<pre><code>\nmydir= &quot;/myproject/scripts/python/secrets/resources&quot;\ntruststore=truststore.jks\nstorepassword=password\n\nsplit -p &quot;-----BEGIN CERTIFICATE-----&quot; /myproject/scripts/python/secrets/resources/dev-certs/eucentral/eu-central-1-bundle.pem rds-ca-\n\nfor CERT in rds-ca-*; do\n  alias=$(openssl x509 -noout -text -in $CERT | perl -ne 'next unless /Subject:/; s/.*(CN=|CN = )//; print')\n  echo &quot;Importing $alias&quot;\n  keytool -import -file ${CERT} -alias &quot;${alias}&quot; -storepass ${storepassword} -keystore ${truststore} -noprompt\n  rm $CERT\ndone\n\necho &quot;Trust store content is: &quot;\n\nkeytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} | grep Alias | cut -d &quot; &quot; -f3- | while read alias \ndo\n   expiry=`keytool -list -v -keystore &quot;$truststore&quot; -storepass ${storepassword} -alias &quot;${alias}&quot; | grep Valid | perl -ne 'if(/until: (.*?)\\n/) { print &quot;$1\\n&quot;; }'`\n   echo &quot; Certificate ${alias} expires in '$expiry'&quot; \ndone\n</code></pre>\n<pre><code>def create_certificate_secret(context, namespace, secret_name):\n    certs = []\n    path = 'resources/'\n\n    if 'dev' in context:\n        path = path + 'dev-certs/'\n\n    eu_central_certs = ['truststore.jks', 'eu-central-1-bundle.pem']\n\n    if 'eucentral' in context:\n        path = path + 'eucentral/'\n        certs = eu_central_certs\n\n    statement = &quot;kubectl --context &quot; + context + &quot; -n &quot; + namespace + &quot; create secret generic &quot; + secret_name\n\n    for cert in certs:\n        statement = statement + &quot; --from-file=&quot; + cert + '=' + path + cert\n\n    os.system(statement)\n</code></pre>\n<p>When I run the script, I can see that the secret gets created, and it has inside the pem file and the truststore, and that all the certificates from the pem were included in the truststore. The mountPath looks correct too, so I am wondering why the above configuration doesn't work.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1683626912,"post_id":76208064,"comment_id":134391998,"body_markdown":"Place the test in the same package as the enum.","body":"Place the test in the same package as the enum."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":3,"creation_date":1683626964,"post_id":76208064,"comment_id":134392010,"body_markdown":"Put your unit test in the package “com”","body":"Put your unit test in the package “com”"},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1683627313,"post_id":76208064,"comment_id":134392122,"body_markdown":"enums are package-private per default. Therefore the suggestion from @JustanotherJavaprogrammer should work.","body":"enums are package-private per default. Therefore the suggestion from @JustanotherJavaprogrammer should work."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683627593,"post_id":76208064,"comment_id":134392197,"body_markdown":"What is &#39; public intron&#39;? And if you want access from outside, why is it private?","body":"What is &#39; public intron&#39;? And if you want access from outside, why is it private?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683628369,"post_id":76208064,"comment_id":134392388,"body_markdown":"how is `IssueMap.getIssueTypes(....)` used by your code? The enum not public, in other words, it&#39;s an implementation detail encapsulated in a bigger usecase. For example, if `ServiceX` uses these issues types when implementing `methodY`, maybe it&#39;s enough to only test `ServiceX.methodY()`.","body":"how is <code>IssueMap.getIssueTypes(....)</code> used by your code? The enum not public, in other words, it&#39;s an implementation detail encapsulated in a bigger usecase. For example, if <code>ServiceX</code> uses these issues types when implementing <code>methodY</code>, maybe it&#39;s enough to only test <code>ServiceX.methodY()</code>."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1683628784,"post_id":76208064,"comment_id":134392473,"body_markdown":"@EmanuelTrandafir it&#39;s called into the same package","body":"@EmanuelTrandafir it&#39;s called into the same package"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1683632195,"post_id":76208064,"comment_id":134393236,"body_markdown":"@PeterPenzov but it has to be called by some public method eventually, even if this method is part of a different class","body":"@PeterPenzov but it has to be called by some public method eventually, even if this method is part of a different class"}],"answers":[{"tags":[],"owner":{"account_id":1038724,"reputation":196,"user_id":1045253,"display_name":"Lance Reid"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683627807,"creation_date":1683627468,"answer_id":76208253,"question_id":76208064,"body_markdown":"Your IssueMap enum is not private, but rather [package-private][1]. If your test class is in the same package name as your IssueMap enum then your test class should be able to access the IssueMap enum without changing the IssueMap enum\r\n\r\n```\r\npackage com.myenum;\r\n\r\nenum IssueMap {\r\n\r\n  ISSUE_TYPE,\r\n\r\n  public static .... getIssueTypes(String IssueName) {\r\n    \r\n    return ...;\r\n  }\r\n\r\n} \r\n```\r\n\r\n```\r\npackage com.myenum;\r\n\r\nclass IssueMapTest {\r\n  @Test\r\n  public void genericTest() {\r\n    ....... = IssueMap.getIssueTypes(....);\r\n    assertNotNull(...);\r\n  }\r\n}\r\n```\r\n\r\nNotice the package name in IssueMap and IssueMapTest are the same. Even though my IssueMap path is *src/main/java/com/myenum/IssueMap.java* and IssueMapTest path is *src/test/java/com/myenum/IssueMapTest.java*\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"access private enum in Java","body":"<p>Your IssueMap enum is not private, but rather <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">package-private</a>. If your test class is in the same package name as your IssueMap enum then your test class should be able to access the IssueMap enum without changing the IssueMap enum</p>\n<pre><code>package com.myenum;\n\nenum IssueMap {\n\n  ISSUE_TYPE,\n\n  public static .... getIssueTypes(String IssueName) {\n    \n    return ...;\n  }\n\n} \n</code></pre>\n<pre><code>package com.myenum;\n\nclass IssueMapTest {\n  @Test\n  public void genericTest() {\n    ....... = IssueMap.getIssueTypes(....);\n    assertNotNull(...);\n  }\n}\n</code></pre>\n<p>Notice the package name in IssueMap and IssueMapTest are the same. Even though my IssueMap path is <em>src/main/java/com/myenum/IssueMap.java</em> and IssueMapTest path is <em>src/test/java/com/myenum/IssueMapTest.java</em></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76208253,"answer_count":1,"score":-1,"last_activity_date":1683628233,"creation_date":1683626248,"question_id":76208064,"body_markdown":"I have the following Java Enum:\r\n\r\n    enum IssueMap {\r\n    \r\n      ISSUE_TYPE,\r\n    \r\n      public static .... getIssueTypes(String IssueName) {\r\n        \r\n        return ...;\r\n      }\r\n    \r\n    } \r\n\r\n*Notice that I don&#39;t have public keyword in front of a enum!*\r\n\r\n\r\nI want to call this code into JUnit test like this:\r\n\r\n      @Test\r\n      public void genericTest() {\r\n        ....... = IssueMap.getIssueTypes(....);\r\n        assertNotNull(...);\r\n      }\r\n\r\nI get error `&#39;com.IssueMap&#39; is not public in &#39;com....&#39;. Cannot be accessed from outside package`\r\n\r\nI can&#39;t change the original enum code. Is there some solution with reflection for example to access the enum code?\r\n\r\n","title":"access private enum in Java","body":"<p>I have the following Java Enum:</p>\n<pre><code>enum IssueMap {\n\n  ISSUE_TYPE,\n\n  public static .... getIssueTypes(String IssueName) {\n    \n    return ...;\n  }\n\n} \n</code></pre>\n<p><em>Notice that I don't have public keyword in front of a enum!</em></p>\n<p>I want to call this code into JUnit test like this:</p>\n<pre><code>  @Test\n  public void genericTest() {\n    ....... = IssueMap.getIssueTypes(....);\n    assertNotNull(...);\n  }\n</code></pre>\n<p>I get error <code>'com.IssueMap' is not public in 'com....'. Cannot be accessed from outside package</code></p>\n<p>I can't change the original enum code. Is there some solution with reflection for example to access the enum code?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1683627019,"post_id":76208176,"comment_id":134392025,"body_markdown":"Does TestBaseClass compile?","body":"Does TestBaseClass compile?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1683627103,"post_id":76208176,"comment_id":134392049,"body_markdown":"`TestBaseClass` is, presumably, in the default package. You can&#39;t import things from the default package. Move it into an explicit package, and import it.","body":"<code>TestBaseClass</code> is, presumably, in the default package. You can&#39;t import things from the default package. Move it into an explicit package, and import it."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1683628056,"post_id":76208176,"comment_id":134392299,"body_markdown":"@AndyTurner that was the problem. Thanks for solution.","body":"@AndyTurner that was the problem. Thanks for solution."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683628129,"creation_date":1683628129,"answer_id":76208348,"question_id":76208176,"body_markdown":"1. Move TestBaseClass to some package\r\n2. If CucumberTestBaseClass and TestBaseClass are in different packages make sure to import TestBaseClass in your CucumberTestBaseClass ","title":"Can&#39;t resolve symbol while trying to extend class from different package","body":"<ol>\n<li>Move TestBaseClass to some package</li>\n<li>If CucumberTestBaseClass and TestBaseClass are in different packages make sure to import TestBaseClass in your CucumberTestBaseClass</li>\n</ol>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683628129,"creation_date":1683626912,"question_id":76208176,"body_markdown":"I have following structure:\r\n\r\nsrc\\test\\java\\TestBaseClass.java\r\n\r\nsrc\\test\\java\\cucumber\\CucumberTestBaseClass.java\r\n\r\nWhen I want to extend TestBaseClass\r\n\r\n    public class CucumberTestBaseClass extends TestBaseClass {\r\n    }\r\n\r\nI receive an error &quot;Can&#39;t resolve symbol: TestBaseClass&quot;\r\nI use IntelliJ Ultimate 2022.2.3 but I have past projects when such extension is compiling so I don&#39;t have idea what is wrong here.\r\nI have no idea what is going on becuase I have","title":"Can&#39;t resolve symbol while trying to extend class from different package","body":"<p>I have following structure:</p>\n<p>src\\test\\java\\TestBaseClass.java</p>\n<p>src\\test\\java\\cucumber\\CucumberTestBaseClass.java</p>\n<p>When I want to extend TestBaseClass</p>\n<pre><code>public class CucumberTestBaseClass extends TestBaseClass {\n}\n</code></pre>\n<p>I receive an error &quot;Can't resolve symbol: TestBaseClass&quot;\nI use IntelliJ Ultimate 2022.2.3 but I have past projects when such extension is compiling so I don't have idea what is wrong here.\nI have no idea what is going on becuase I have</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":2,"creation_date":1683307120,"post_id":76184575,"comment_id":134352171,"body_markdown":"what are your inputs and outputs","body":"what are your inputs and outputs"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1683307420,"post_id":76184575,"comment_id":134352228,"body_markdown":"Does this answer your question? [java timestamps calculate overlap duration with interval](https://stackoverflow.com/questions/51465913/java-timestamps-calculate-overlap-duration-with-interval)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51465913/java-timestamps-calculate-overlap-duration-with-interval\">java timestamps calculate overlap duration with interval</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683308204,"post_id":76184575,"comment_id":134352362,"body_markdown":"`if (lt1.isAfter(lt2)) { System.out.printf(&quot;Time %s is after time %s%n&quot;, lt1, lt2);System.out.printf(&quot;Time %s is before time %s%n&quot;, lt1.atDate(LocalDate.now()), lt2.atDate(LocalDate.now()).plusDays(1));}` perhaps?","body":"<code>if (lt1.isAfter(lt2)) { System.out.printf(&quot;Time %s is after time %s%n&quot;, lt1, lt2);System.out.printf(&quot;Time %s is before time %s%n&quot;, lt1.atDate(LocalDate.now()), lt2.atDate(LocalDate.now()).plusDays(1));}</code> perhaps?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1683308602,"post_id":76184575,"comment_id":134352418,"body_markdown":"If you want any of this to work your timestamps must be _complete_ timestamps (i.e. `Instant`), with both date and time.  Then calculating the interval is just a subtraction.","body":"If you want any of this to work your timestamps must be <i>complete</i> timestamps (i.e. <code>Instant</code>), with both date and time.  Then calculating the interval is just a subtraction."},{"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"score":0,"creation_date":1683311503,"post_id":76184575,"comment_id":134353053,"body_markdown":"@drum - current output with my example of 23:00-05:00 is 28:00","body":"@drum - current output with my example of 23:00-05:00 is 28:00"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683314252,"post_id":76184575,"comment_id":134353585,"body_markdown":"Your numbers do not make sense. What does &quot;01:00-06:00&quot; have to do with &quot;workday starts at 23:00 and ends at 05:00&quot;? You say &quot;The result is 4 hours&quot; but none of your examples are four hours long. Please take more care when drafting your Question.","body":"Your numbers do not make sense. What does &quot;01:00-06:00&quot; have to do with &quot;workday starts at 23:00 and ends at 05:00&quot;? You say &quot;The result is 4 hours&quot; but none of your examples are four hours long. Please take more care when drafting your Question."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1683318653,"post_id":76184575,"comment_id":134354402,"body_markdown":"@BasilBourque if you start at 23:00 and end at 05:00, exactly four of the hours worked are between 01:00 and 06:00 (from 01:00 to 05:00).","body":"@BasilBourque if you start at 23:00 and end at 05:00, exactly four of the hours worked are between 01:00 and 06:00 (from 01:00 to 05:00)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1683318724,"post_id":76184575,"comment_id":134354413,"body_markdown":"What types are `start` and `end`? If starting after 06:00, simply use midnight as start.","body":"What types are <code>start</code> and <code>end</code>? If starting after 06:00, simply use midnight as start."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683625409,"post_id":76184575,"comment_id":134391647,"body_markdown":"[mcve] please (mind the __M__!) - if you have problems using Date/Time api, there is no need to mix-in the ui (or the other way round :) And __do not__ use the old Date api.","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (mind the <b>M</b>!) - if you have problems using Date/Time api, there is no need to mix-in the ui (or the other way round :) And <b>do not</b> use the old Date api."},{"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"score":0,"creation_date":1683702144,"post_id":76184575,"comment_id":134405093,"body_markdown":"@kleopatra - TY for your comment, unfortunately I can&#39;t make everyone happy and some want more, some want less of my code. My code does not that big, so I hope (and think) it is okay for now. What should I use instead of the &quot;old date api&quot; in your opinion then?","body":"@kleopatra - TY for your comment, unfortunately I can&#39;t make everyone happy and some want more, some want less of my code. My code does not that big, so I hope (and think) it is okay for now. What should I use instead of the &quot;old date api&quot; in your opinion then?"}],"answers":[{"comments":[{"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"score":0,"creation_date":1683605939,"post_id":76185275,"comment_id":134388274,"body_markdown":"TY for your comment, but this does not work for me.\n- I also think you are making it more complex, than needed, with adding timezones etc.\n\nI&#39;m trying to make it a simple project of mine, so I understand every step and not put too many things in to complex it, at this point. I also need to have the output in xx:xx format","body":"TY for your comment, but this does not work for me. - I also think you are making it more complex, than needed, with adding timezones etc.  I&#39;m trying to make it a simple project of mine, so I understand every step and not put too many things in to complex it, at this point. I also need to have the output in xx:xx format"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1683614138,"post_id":76185275,"comment_id":134389220,"body_markdown":"@DinoKing Good luck with that. Be sure your app is *not* running on [Oct 29, 2023 in Denmark](https://www.timeanddate.com/time/change/denmark).","body":"@DinoKing Good luck with that. Be sure your app is <i>not</i> running on <a href=\"https://www.timeanddate.com/time/change/denmark\" rel=\"nofollow noreferrer\">Oct 29, 2023 in Denmark</a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683332261,"creation_date":1683313951,"answer_id":76185275,"question_id":76184575,"body_markdown":"# `LocalDateTime` is ambiguous\r\n\r\nThe `LocalDateTime` class is the wrong class for your purpose. The `LocalDateTime` class purposely lacks any concept of time zone or offset from UTC, so it is inherently indefinite, ambiguous.\r\n\r\nWhen recording a moment, a specific point on the timeline, use `Instant`, `OffsetDateTime`, or `ZonedDateTime`. \r\n\r\n# Use `ZonedDateTime`\r\n\r\nFor your purpose, use [`ZonedDateTime`][1]. This class accounts for temporal anomalies such as [Daylight Saving Time (DST)][2] that occur in time zones with rules changed by politicians.\r\n\r\n```java\r\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; );\r\nZonedDateTime start = ZonedDateTime.of( 2023 , 5 , 13 , 23 , 0 , 0 , 0 , z );\r\nZonedDateTime end = ZonedDateTime.of( 2023 , 5 , 14 , 5 , 0 , 0 , 0 , z );\r\nDuration duration = Duration.between( start , end );\r\n```\r\n\r\nWhen run we get a result of 6 hours between those two moments.\r\n\r\n```none\r\nstart.toString() = 2023-05-13T23:00+09:00[Asia/Tokyo]\r\nend.toString() = 2023-05-14T05:00+09:00[Asia/Tokyo]\r\nduration.toString() = PT6H\r\n```\r\n\r\n# Intersection of time spans\r\n\r\n[Thanks to David Conrad][3], I see now that you want to know how much of one span of time coincides with another. \r\n\r\nThis calculation is actually quite easy, if you add the [*ThreeTen-Extra*][4] library to your project. From that library, make use of the `org.threeten.extra.Interval` class. That class represents a span of time attached to the timeline. The beginning &amp; ending of the span are moments as seen with an [offset from UTC][5] of zero hours-minutes-seconds. These moments are represented with the `java.time.Instant` class.\r\n\r\nGet the interval of our worked time.\r\n\r\n```java\r\nInterval worked = Interval.of( start.toInstant() , end.toInstant() );\r\n```\r\n\r\nNow get the target interval. We want 1 AM to 6 AM of the second day of work.\r\n\r\n```java\r\nZonedDateTime targetStart = ZonedDateTime.of( 2023 , 5 , 14 , 1 , 0 , 0 , 0 , z );\r\nZonedDateTime targetEnd = ZonedDateTime.of( 2023 , 5 , 14 , 6 , 0 , 0 , 0 , z );\r\nInterval target = Interval.of( targetStart.toInstant() , targetEnd.toInstant() );\r\n```\r\n\r\nNotice that we used `ZonedDateTime` again, to represent the start and end of our target. We do this to account for politicians’ temporal anomalies. The span from 1 AM to 6 AM may or may not be five hours long. It might be four hours, or six hours, or four and a half hours, or any other length the politicians dream up. \r\n\r\nGet the intersection of those two spans of time.\r\n\r\n```java\r\nInterval intersection = worked.intersection( target );\r\n```\r\n\r\nDetermine how long is that span of time.\r\n\r\n```java\r\nDuration durationOfIntersection = intersection.toDuration();\r\n```\r\n\r\nWhen run, we see a result of four hours.\r\n\r\n```none\r\nworked.toString() = 2023-05-13T14:00:00Z/2023-05-13T20:00:00Z\r\ntarget.toString() = 2023-05-13T16:00:00Z/2023-05-13T21:00:00Z\r\nintersection.toString() = 2023-05-13T16:00:00Z/2023-05-13T20:00:00Z\r\ndurationOfIntersection.toString() = PT4H\r\n```\r\n    \r\nThe output of the various `toString` methods is shown above. The formats of those are part of the [ISO 8601][6] standard. The `Z` at the end is an abbreviation of `+00:00`, an offset of zero. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [2]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [3]: https://stackoverflow.com/questions/76184575/how-to-calculate-work-schedule-between-0100-0600?noredirect=1#comment134354402_76184575\r\n  [4]: https://www.threeten.org/threeten-extra/\r\n  [5]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [6]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to calculate work schedule between 01:00-06:00","body":"<h1><code>LocalDateTime</code> is ambiguous</h1>\n<p>The <code>LocalDateTime</code> class is the wrong class for your purpose. The <code>LocalDateTime</code> class purposely lacks any concept of time zone or offset from UTC, so it is inherently indefinite, ambiguous.</p>\n<p>When recording a moment, a specific point on the timeline, use <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code>.</p>\n<h1>Use <code>ZonedDateTime</code></h1>\n<p>For your purpose, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>. This class accounts for temporal anomalies such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a> that occur in time zones with rules changed by politicians.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; );\nZonedDateTime start = ZonedDateTime.of( 2023 , 5 , 13 , 23 , 0 , 0 , 0 , z );\nZonedDateTime end = ZonedDateTime.of( 2023 , 5 , 14 , 5 , 0 , 0 , 0 , z );\nDuration duration = Duration.between( start , end );\n</code></pre>\n<p>When run we get a result of 6 hours between those two moments.</p>\n<pre class=\"lang-none prettyprint-override\"><code>start.toString() = 2023-05-13T23:00+09:00[Asia/Tokyo]\nend.toString() = 2023-05-14T05:00+09:00[Asia/Tokyo]\nduration.toString() = PT6H\n</code></pre>\n<h1>Intersection of time spans</h1>\n<p><a href=\"https://stackoverflow.com/questions/76184575/how-to-calculate-work-schedule-between-0100-0600?noredirect=1#comment134354402_76184575\">Thanks to David Conrad</a>, I see now that you want to know how much of one span of time coincides with another.</p>\n<p>This calculation is actually quite easy, if you add the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. From that library, make use of the <code>org.threeten.extra.Interval</code> class. That class represents a span of time attached to the timeline. The beginning &amp; ending of the span are moments as seen with an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset from UTC</a> of zero hours-minutes-seconds. These moments are represented with the <code>java.time.Instant</code> class.</p>\n<p>Get the interval of our worked time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Interval worked = Interval.of( start.toInstant() , end.toInstant() );\n</code></pre>\n<p>Now get the target interval. We want 1 AM to 6 AM of the second day of work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime targetStart = ZonedDateTime.of( 2023 , 5 , 14 , 1 , 0 , 0 , 0 , z );\nZonedDateTime targetEnd = ZonedDateTime.of( 2023 , 5 , 14 , 6 , 0 , 0 , 0 , z );\nInterval target = Interval.of( targetStart.toInstant() , targetEnd.toInstant() );\n</code></pre>\n<p>Notice that we used <code>ZonedDateTime</code> again, to represent the start and end of our target. We do this to account for politicians’ temporal anomalies. The span from 1 AM to 6 AM may or may not be five hours long. It might be four hours, or six hours, or four and a half hours, or any other length the politicians dream up.</p>\n<p>Get the intersection of those two spans of time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Interval intersection = worked.intersection( target );\n</code></pre>\n<p>Determine how long is that span of time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration durationOfIntersection = intersection.toDuration();\n</code></pre>\n<p>When run, we see a result of four hours.</p>\n<pre class=\"lang-none prettyprint-override\"><code>worked.toString() = 2023-05-13T14:00:00Z/2023-05-13T20:00:00Z\ntarget.toString() = 2023-05-13T16:00:00Z/2023-05-13T21:00:00Z\nintersection.toString() = 2023-05-13T16:00:00Z/2023-05-13T20:00:00Z\ndurationOfIntersection.toString() = PT4H\n</code></pre>\n<p>The output of the various <code>toString</code> methods is shown above. The formats of those are part of the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. The <code>Z</code> at the end is an abbreviation of <code>+00:00</code>, an offset of zero.</p>\n"}],"owner":{"account_id":25158292,"reputation":7,"user_id":19002824,"display_name":"DinoKing"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1683627971,"creation_date":1683306932,"question_id":76184575,"body_markdown":"After keeping getting &quot;warnings&quot; of my question is not good enough I will try again and get every single thing added to this question.\r\n\r\nI&#39;m trying to make an application where I can calculate my salary (hourly paid). For this there is certain requirements since different time slots/days have different appendices.\r\n\r\nMy most important requirement, and the one I&#39;m strugling with is to check if my workday has been between the timeslot of 01:00-06:00, if so how many hours.\r\nE.g. start Monday 23:00 end Tuesday 05:00\r\nI have worked 06:00 hours and 04:00 hours has been between 01:00-06:00\r\n\r\nThis is my current code where I have tried with different types of if-statements to get the interval, but I can&#39;t get it to work in all situations (no matter what I type), this is because of the difficulty with it possibly is going from one day to another.\r\n\r\n(My notes etc. are in danish, but this question is only regarding table 2,3 and 8 and is all in my tableChanged method)\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeParseException;\r\nimport java.util.Calendar;\r\nimport javax.swing.*;\r\nimport javax.swing.event.TableModelEvent;\r\nimport javax.swing.event.TableModelListener;\r\nimport javax.swing.table.*;\r\n\r\npublic class TimeDifferenceCalculator222 extends JFrame {\r\n    private JTextField dateField;\r\n    private JTextField dateField1;\r\n    private JTable table;\r\n    private DefaultTableModel model;\r\n\r\n    public TimeDifferenceCalculator222() {\r\n        super(&quot;Time Difference Calculator&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Opret tekstfelt for dato\r\n        dateField = new JTextField(10);\r\n        dateField.setToolTipText(&quot;Indtast dato i formatet dd/MM/yyyy&quot;);\r\n\r\n        // Opret tabel for datoer og start/slut-tidspunkter\r\n        model = new DefaultTableModel() {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                return column != 0;\r\n            }\r\n        };\r\n        table = new JTable(model);\r\n        model.addColumn(&quot;Dato&quot;);\r\n        model.addColumn(&quot;Ugedag&quot;);\r\n        model.addColumn(&quot;Starttidspunkt&quot;);\r\n        model.addColumn(&quot;Sluttidspunkt&quot;);\r\n        model.addColumn(&quot;Differencetid&quot;);\r\n        model.addColumn(&quot;Branchetill&#230;g&quot;);\r\n        model.addColumn(&quot;VC1 till&#230;g&quot;);\r\n        model.addColumn(&quot;Nattetill&#230;g&quot;);\r\n        model.addColumn(&quot;Nattetimer (01:00-06:00)&quot;);\r\n        model.addColumn(&quot;Weekendtill&#230;g (l&#248;rdag)&quot;);\r\n        model.addColumn(&quot;Weekend / Helligdage&quot;);\r\n\r\n        // Tilf&#248;j 31 r&#230;kker til tabellen\r\n        LocalDate startDate = LocalDate.now();\r\n        for (int i = 0; i &lt; 31; i++) {\r\n            model.addRow(new Object[] { startDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), &quot;&quot;, &quot;&quot;, &quot;&quot; });\r\n            startDate = startDate.plusDays(1);\r\n        }\r\n\r\n        // Tilf&#248;j lytter til dato-feltet\r\n        dateField.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    LocalDate date = LocalDate.parse(dateField.getText(), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n                    LocalDate endDate = date.plusDays(30);\r\n                    int row = 0;\r\n                    for (LocalDate d = date; !d.isAfter(endDate); d = d.plusDays(1)) {\r\n                        model.setValueAt(d.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), row, 0);\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        calendar.set(d.getYear(), d.getMonthValue() - 1, d.getDayOfMonth());\r\n                        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\r\n                        String dayOfWeekString;\r\n                        switch (dayOfWeek) {\r\n                            case Calendar.SUNDAY:\r\n                                dayOfWeekString = &quot;S&#248;ndag&quot;;\r\n                                break;\r\n                            case Calendar.MONDAY:\r\n                                dayOfWeekString = &quot;Mandag&quot;;\r\n                                break;\r\n                            case Calendar.TUESDAY:\r\n                                dayOfWeekString = &quot;Tirsdag&quot;;\r\n                                break;\r\n                            case Calendar.WEDNESDAY:\r\n                                dayOfWeekString = &quot;Onsdag&quot;;\r\n                                break;\r\n                            case Calendar.THURSDAY:\r\n                                dayOfWeekString = &quot;Torsdag&quot;;\r\n                                break;\r\n                            case Calendar.FRIDAY:\r\n                                dayOfWeekString = &quot;Fredag&quot;;\r\n                                break;\r\n                            case Calendar.SATURDAY:\r\n                                dayOfWeekString = &quot;L&#248;rdag&quot;;\r\n                                break;\r\n                            default:\r\n                                dayOfWeekString = &quot;&quot;;\r\n                                break;\r\n                        }\r\n                        model.setValueAt(dayOfWeekString, row, 1);\r\n                        row++;\r\n                    }\r\n                } catch (DateTimeParseException ex) {\r\n                    JOptionPane.showMessageDialog(TimeDifferenceCalculator222.this, &quot;Ugyldig datoformat&quot;, &quot;Fejl&quot;, JOptionPane.ERROR_MESSAGE);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Tilf&#248;j lytter til tabelen\r\n        table.getModel().addTableModelListener(new TableModelListener() {\r\n            @Override\r\n            public void tableChanged(TableModelEvent e) {\r\n                if (e.getType() == TableModelEvent.UPDATE &amp;&amp; e.getColumn() &gt;= 2 &amp;&amp; e.getColumn() &lt;= 3) {\r\n                    int row = e.getFirstRow();\r\n                    String startStr = (String) model.getValueAt(row, 2);\r\n                    String endStr = (String) model.getValueAt(row, 3);\r\n                    if (!startStr.isEmpty() &amp;&amp; !endStr.isEmpty()) {\r\n                        LocalTime start = LocalTime.parse(startStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n                        LocalTime end = LocalTime.parse(endStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n                        LocalDateTime startDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), start);\r\n                        LocalDateTime endDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), end);\r\n                        if (end.isBefore(start)) {\r\n                            endDateTime = endDateTime.plusDays(1);\r\n                        }\r\n                        Duration duration = Duration.between(startDateTime, endDateTime);\r\n                        long minutes = duration.toMinutes();\r\n                        long hours = minutes / 60;\r\n                        long remainingMinutes = minutes % 60;\r\n                        String differenceTime = String.format(&quot;%02d:%02d&quot;, hours, remainingMinutes);\r\n                        model.setValueAt(differenceTime, row, 4);\r\n\r\n                        // Beregn antal timer mellem 01:00 og 06:00 og s&#230;t i kolonne 8\r\n                        LocalTime oneAM = LocalTime.of(1, 0);\r\n                        LocalTime sixAM = LocalTime.of(6, 0);\r\n\r\n\r\n                        if (start.isBefore(oneAM) &amp;&amp; end.isAfter(oneAM) || start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM) || start.isAfter(oneAM) &amp;&amp; end.isAfter(sixAM)) {\r\n\r\n                            LocalDateTime start1am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), oneAM);\r\n                            LocalDateTime end6am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), sixAM);\r\n                            if (start.isBefore(oneAM) &amp;&amp; end.isBefore(sixAM)) {\r\n                                start1am = LocalDateTime.from(oneAM);\r\n                            }\r\n                            if (start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM)) {\r\n                                start1am = LocalDateTime.from(startDateTime);\r\n                                end6am = LocalDateTime.from(endDateTime);\r\n                            }\r\n                            if (end.isBefore(sixAM)) {\r\n                                end6am = endDateTime;\r\n                            }\r\n                            Duration durationBetween1and6 = Duration.between(start1am, end6am);\r\n                            long minutesBetween1and6 = durationBetween1and6.toMinutes();\r\n                            long hoursBetween1and6 = minutesBetween1and6 / 60;\r\n                            long remainingMinutesBetween1and6 = minutesBetween1and6 % 60;\r\n                            String hoursMinutesBetween1and6 = String.format(&quot;%02d:%02d&quot;, hoursBetween1and6, remainingMinutesBetween1and6);\r\n                            model.setValueAt(hoursMinutesBetween1and6, row, 8);\r\n\r\n                        }\r\n\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // Opret scroll-pane og tilf&#248;j tabelen til den\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n\r\n        // Tilf&#248;j komponenter til frame\r\n        Container c = getContentPane();\r\n        c.setLayout(new BorderLayout());\r\n        c.add(dateField, BorderLayout.NORTH);\r\n        c.add(scrollPane, BorderLayout.CENTER);\r\n\r\n        // Vis frame\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new TimeDifferenceCalculator222();\r\n    }\r\n}\r\n\r\n\r\n```","title":"How to calculate work schedule between 01:00-06:00","body":"<p>After keeping getting &quot;warnings&quot; of my question is not good enough I will try again and get every single thing added to this question.</p>\n<p>I'm trying to make an application where I can calculate my salary (hourly paid). For this there is certain requirements since different time slots/days have different appendices.</p>\n<p>My most important requirement, and the one I'm strugling with is to check if my workday has been between the timeslot of 01:00-06:00, if so how many hours.\nE.g. start Monday 23:00 end Tuesday 05:00\nI have worked 06:00 hours and 04:00 hours has been between 01:00-06:00</p>\n<p>This is my current code where I have tried with different types of if-statements to get the interval, but I can't get it to work in all situations (no matter what I type), this is because of the difficulty with it possibly is going from one day to another.</p>\n<p>(My notes etc. are in danish, but this question is only regarding table 2,3 and 8 and is all in my tableChanged method)</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.util.Calendar;\nimport javax.swing.*;\nimport javax.swing.event.TableModelEvent;\nimport javax.swing.event.TableModelListener;\nimport javax.swing.table.*;\n\npublic class TimeDifferenceCalculator222 extends JFrame {\n    private JTextField dateField;\n    private JTextField dateField1;\n    private JTable table;\n    private DefaultTableModel model;\n\n    public TimeDifferenceCalculator222() {\n        super(&quot;Time Difference Calculator&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Opret tekstfelt for dato\n        dateField = new JTextField(10);\n        dateField.setToolTipText(&quot;Indtast dato i formatet dd/MM/yyyy&quot;);\n\n        // Opret tabel for datoer og start/slut-tidspunkter\n        model = new DefaultTableModel() {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                return column != 0;\n            }\n        };\n        table = new JTable(model);\n        model.addColumn(&quot;Dato&quot;);\n        model.addColumn(&quot;Ugedag&quot;);\n        model.addColumn(&quot;Starttidspunkt&quot;);\n        model.addColumn(&quot;Sluttidspunkt&quot;);\n        model.addColumn(&quot;Differencetid&quot;);\n        model.addColumn(&quot;Branchetillæg&quot;);\n        model.addColumn(&quot;VC1 tillæg&quot;);\n        model.addColumn(&quot;Nattetillæg&quot;);\n        model.addColumn(&quot;Nattetimer (01:00-06:00)&quot;);\n        model.addColumn(&quot;Weekendtillæg (lørdag)&quot;);\n        model.addColumn(&quot;Weekend / Helligdage&quot;);\n\n        // Tilføj 31 rækker til tabellen\n        LocalDate startDate = LocalDate.now();\n        for (int i = 0; i &lt; 31; i++) {\n            model.addRow(new Object[] { startDate.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), &quot;&quot;, &quot;&quot;, &quot;&quot; });\n            startDate = startDate.plusDays(1);\n        }\n\n        // Tilføj lytter til dato-feltet\n        dateField.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    LocalDate date = LocalDate.parse(dateField.getText(), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n                    LocalDate endDate = date.plusDays(30);\n                    int row = 0;\n                    for (LocalDate d = date; !d.isAfter(endDate); d = d.plusDays(1)) {\n                        model.setValueAt(d.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), row, 0);\n                        Calendar calendar = Calendar.getInstance();\n                        calendar.set(d.getYear(), d.getMonthValue() - 1, d.getDayOfMonth());\n                        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\n                        String dayOfWeekString;\n                        switch (dayOfWeek) {\n                            case Calendar.SUNDAY:\n                                dayOfWeekString = &quot;Søndag&quot;;\n                                break;\n                            case Calendar.MONDAY:\n                                dayOfWeekString = &quot;Mandag&quot;;\n                                break;\n                            case Calendar.TUESDAY:\n                                dayOfWeekString = &quot;Tirsdag&quot;;\n                                break;\n                            case Calendar.WEDNESDAY:\n                                dayOfWeekString = &quot;Onsdag&quot;;\n                                break;\n                            case Calendar.THURSDAY:\n                                dayOfWeekString = &quot;Torsdag&quot;;\n                                break;\n                            case Calendar.FRIDAY:\n                                dayOfWeekString = &quot;Fredag&quot;;\n                                break;\n                            case Calendar.SATURDAY:\n                                dayOfWeekString = &quot;Lørdag&quot;;\n                                break;\n                            default:\n                                dayOfWeekString = &quot;&quot;;\n                                break;\n                        }\n                        model.setValueAt(dayOfWeekString, row, 1);\n                        row++;\n                    }\n                } catch (DateTimeParseException ex) {\n                    JOptionPane.showMessageDialog(TimeDifferenceCalculator222.this, &quot;Ugyldig datoformat&quot;, &quot;Fejl&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        });\n\n        // Tilføj lytter til tabelen\n        table.getModel().addTableModelListener(new TableModelListener() {\n            @Override\n            public void tableChanged(TableModelEvent e) {\n                if (e.getType() == TableModelEvent.UPDATE &amp;&amp; e.getColumn() &gt;= 2 &amp;&amp; e.getColumn() &lt;= 3) {\n                    int row = e.getFirstRow();\n                    String startStr = (String) model.getValueAt(row, 2);\n                    String endStr = (String) model.getValueAt(row, 3);\n                    if (!startStr.isEmpty() &amp;&amp; !endStr.isEmpty()) {\n                        LocalTime start = LocalTime.parse(startStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n                        LocalTime end = LocalTime.parse(endStr, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n                        LocalDateTime startDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), start);\n                        LocalDateTime endDateTime = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), end);\n                        if (end.isBefore(start)) {\n                            endDateTime = endDateTime.plusDays(1);\n                        }\n                        Duration duration = Duration.between(startDateTime, endDateTime);\n                        long minutes = duration.toMinutes();\n                        long hours = minutes / 60;\n                        long remainingMinutes = minutes % 60;\n                        String differenceTime = String.format(&quot;%02d:%02d&quot;, hours, remainingMinutes);\n                        model.setValueAt(differenceTime, row, 4);\n\n                        // Beregn antal timer mellem 01:00 og 06:00 og sæt i kolonne 8\n                        LocalTime oneAM = LocalTime.of(1, 0);\n                        LocalTime sixAM = LocalTime.of(6, 0);\n\n\n                        if (start.isBefore(oneAM) &amp;&amp; end.isAfter(oneAM) || start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM) || start.isAfter(oneAM) &amp;&amp; end.isAfter(sixAM)) {\n\n                            LocalDateTime start1am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), oneAM);\n                            LocalDateTime end6am = LocalDateTime.of(LocalDate.parse((String) model.getValueAt(row, 0), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;)), sixAM);\n                            if (start.isBefore(oneAM) &amp;&amp; end.isBefore(sixAM)) {\n                                start1am = LocalDateTime.from(oneAM);\n                            }\n                            if (start.isAfter(oneAM) &amp;&amp; end.isBefore(sixAM)) {\n                                start1am = LocalDateTime.from(startDateTime);\n                                end6am = LocalDateTime.from(endDateTime);\n                            }\n                            if (end.isBefore(sixAM)) {\n                                end6am = endDateTime;\n                            }\n                            Duration durationBetween1and6 = Duration.between(start1am, end6am);\n                            long minutesBetween1and6 = durationBetween1and6.toMinutes();\n                            long hoursBetween1and6 = minutesBetween1and6 / 60;\n                            long remainingMinutesBetween1and6 = minutesBetween1and6 % 60;\n                            String hoursMinutesBetween1and6 = String.format(&quot;%02d:%02d&quot;, hoursBetween1and6, remainingMinutesBetween1and6);\n                            model.setValueAt(hoursMinutesBetween1and6, row, 8);\n\n                        }\n\n                    }\n                }\n            }\n        });\n\n        // Opret scroll-pane og tilføj tabelen til den\n        JScrollPane scrollPane = new JScrollPane(table);\n\n        // Tilføj komponenter til frame\n        Container c = getContentPane();\n        c.setLayout(new BorderLayout());\n        c.add(dateField, BorderLayout.NORTH);\n        c.add(scrollPane, BorderLayout.CENTER);\n\n        // Vis frame\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new TimeDifferenceCalculator222();\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1683624406,"post_id":76207657,"comment_id":134391401,"body_markdown":"You shouldn&#39;t check `string` for equality in `==` manner","body":"You shouldn&#39;t check <code>string</code> for equality in <code>==</code> manner"},{"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"score":0,"creation_date":1683624661,"post_id":76207657,"comment_id":134391478,"body_markdown":"I used the equals() function and I still get the same error","body":"I used the equals() function and I still get the same error"},{"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"score":0,"creation_date":1683626119,"post_id":76207657,"comment_id":134391794,"body_markdown":"I also find this error UnexpectedTypeException: HV000030","body":"I also find this error UnexpectedTypeException: HV000030"}],"answers":[{"comments":[{"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"score":0,"creation_date":1683787933,"post_id":76208151,"comment_id":134420744,"body_markdown":"Thanks...I know how to tackle the problems","body":"Thanks...I know how to tackle the problems"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683627785,"creation_date":1683626777,"answer_id":76208151,"question_id":76207657,"body_markdown":"### Short Answer\r\nYour validator should, as your model and your error message imply:\r\n```lang-java\r\n... implements ConstraintValidator&lt;LastName, String&gt;\r\n```\r\nAnd not `&lt;LastName, User&gt;`.\r\n\r\nAccordingly, you should re-implement the `isValid(...)` method: accepting the last name `String` (and not the containing `User`).\r\n\r\nIf you want to use this annotation on `User` and `String` &quot;fields&quot;, you *must* implement an additional `ConstraintValidator&lt;LastName, ...&gt;`, with according &quot;API facade&quot;.\r\n\r\nThis *can* be wired/refered like:\r\n```lang-java\r\n@Constraint(\r\n  validatedBy = {\r\n    StringLastNameValidator.class, \r\n    UserLastNameValidator.class /*,...*/ \r\n  }\r\n) // accepts array!;)\r\n```\r\n### Extended answer\r\nYour (current) validator seems wrong (&quot;Mr. Jack Jack&quot; is invalid, while &quot;Mr `&lt;null&gt;` X&quot; valid!?), but should (if reasoned) be used **on `User`** &quot;fields&quot;, e.g (&quot;method parameter&quot; in this case) :\r\n```lang-java\r\n@PostMapping(&quot;/submitForm&quot;)\r\n    public String handleSubmit(\r\n  @Valid @LastName User user // ! ...\r\n```\r\n...to use it **inside `User`** (on `String` fields), stick to &quot;short answer&quot;.","title":"I don&#39;t know whether my valid type is wrong or what","body":"<h3>Short Answer</h3>\n<p>Your validator should, as your model and your error message imply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... implements ConstraintValidator&lt;LastName, String&gt;\n</code></pre>\n<p>And not <code>&lt;LastName, User&gt;</code>.</p>\n<p>Accordingly, you should re-implement the <code>isValid(...)</code> method: accepting the last name <code>String</code> (and not the containing <code>User</code>).</p>\n<p>If you want to use this annotation on <code>User</code> and <code>String</code> &quot;fields&quot;, you <em>must</em> implement an additional <code>ConstraintValidator&lt;LastName, ...&gt;</code>, with according &quot;API facade&quot;.</p>\n<p>This <em>can</em> be wired/refered like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(\n  validatedBy = {\n    StringLastNameValidator.class, \n    UserLastNameValidator.class /*,...*/ \n  }\n) // accepts array!;)\n</code></pre>\n<h3>Extended answer</h3>\n<p>Your (current) validator seems wrong (&quot;Mr. Jack Jack&quot; is invalid, while &quot;Mr <code>&lt;null&gt;</code> X&quot; valid!?), but should (if reasoned) be used <strong>on <code>User</code></strong> &quot;fields&quot;, e.g (&quot;method parameter&quot; in this case) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/submitForm&quot;)\n    public String handleSubmit(\n  @Valid @LastName User user // ! ...\n</code></pre>\n<p>...to use it <strong>inside <code>User</code></strong> (on <code>String</code> fields), stick to &quot;short answer&quot;.</p>\n"}],"owner":{"account_id":15497178,"reputation":65,"user_id":11847670,"display_name":"Theow Meng Ang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683627785,"creation_date":1683623704,"question_id":76207657,"body_markdown":"I am new to spring boot. I want to validator check so that the first name and last name cannot be equal. I don&#39;t know my code is correct or wrong for the LastNameValidator.java. I use the user object instead of just the last name to check and I get the error. No validator could be found for constraint &#39;com.example.workbook31.LastName&#39; validating type &#39;java.lang.String&#39;. Check configuration for &#39;lastName&#39;.\r\n\r\nMy LastNameValidator.java code\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\n\r\npublic class LastNameValidator implements ConstraintValidator&lt;LastName, User&gt; {\r\n    @Override\r\n    public boolean isValid(User user, ConstraintValidatorContext context){\r\n        if(user.getFirstName() != user.getLastName() ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n}\r\n```\r\nMy LastName.java code\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\nimport jakarta.validation.Constraint;\r\nimport jakarta.validation.Payload;\r\n\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = LastNameValidator.class)\r\npublic @interface LastName {\r\n    String message() default &quot;First Name cannot equal to Last Name&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n}\r\n```\r\nMy ApplicationController.java\r\n```java\r\npackage com.example.workbook31;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@Controller\r\npublic class ApplicationController {\r\n    \r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String getForm(Model model,@RequestParam(required=false)String id){ \r\n        int index = getIndexFromId(id);\r\n        model.addAttribute(&quot;user&quot;, index == -1000 ? new User(): users.get(index));\r\n        return &quot;sign-up&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/submitForm&quot;)\r\n    public String handleSubmit(@Valid User user, BindingResult result){\r\n        int index = getIndexFromId(user.getId());\r\n        if(result.hasErrors()){\r\n            return &quot;sign-up&quot;;\r\n        }\r\n        \r\n        if(index == -1000){\r\n            users.add(user);\r\n        }else {\r\n            users.set(index,user);\r\n        }\r\n       \r\n        return &quot;redirect:/result&quot;;\r\n    }\r\n    \r\n    @GetMapping(&quot;/result&quot;)\r\n    public String getResult(Model model){\r\n        model.addAttribute(&quot;users&quot;, users);\r\n        return &quot;result&quot;;\r\n    }\r\n\r\n    public Integer getIndexFromId(String id){\r\n        for(int i=0;i&lt;users.size();i++){\r\n            if(users.get(i).getId().equals(id)){\r\n                return i;\r\n            }\r\n        }\r\n        return -1000;\r\n}\r\n\r\n}\r\n```\r\nMy User.java\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport jakarta.validation.constraints.Email;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.Past;\r\nimport jakarta.validation.constraints.Size;\r\n\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\n\r\n\r\npublic class User {\r\n    @NotBlank(message = &quot;First name cannot be blank&quot;)\r\n    @Size(min=2, message=&quot;First name is too short&quot;)\r\n    private String firstName;\r\n    \r\n    @NotBlank(message = &quot;First name cannot be blank&quot;)\r\n    @Size(min=2, message=&quot;First name is too short&quot;)\r\n    @LastName\r\n    private String lastName;\r\n    \r\n    @NotBlank(message = &quot;Username cannot be blank&quot;)\r\n    @Size(min=7, message= &quot;Username must at least be 7 characters&quot;)\r\n    private String userName;\r\n    \r\n    @Email(message = &quot;Invalid Email&quot;)\r\n    private String email;\r\n    \r\n    @Past(message = &quot;date of birth must be in the past&quot;)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private Date dateOfBirth;\r\n    private String id;\r\n    \r\n    public User() {\r\n        this.id = UUID.randomUUID().toString();\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public Date getDateOfBirth() {\r\n        return dateOfBirth;\r\n    }\r\n\r\n    public void setDateOfBirth(Date dateOfBirth) {\r\n        this.dateOfBirth = dateOfBirth;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n      \r\n    \r\n    \r\n}\r\n```\r\nMy Application.java\r\n```java\r\npackage com.example.workbook31;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nMy sign-up.html\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Sign Up&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/form-stylesheet.css}&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;h2&gt;Javagram&lt;/h2&gt;\r\n        &lt;form method=&quot;post&quot; th:object=&quot;${user}&quot; th:action=&quot;@{/submitForm}&quot;&gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{firstName}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;First Name&quot; th:field=&quot;*{firstName}&quot;&gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{lastName}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;Last Name&quot; th:field=&quot;*{lastName}&quot;&gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{userName}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;Username&quot; th:field=&quot;*{userName}&quot; &gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{email}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;text&quot; placeholder=&quot;Email&quot; th:field=&quot;*{email}&quot;&gt;\r\n            &lt;p style=&quot;font-weight: bold;&quot;&gt;Date of Birth&lt;/p&gt;\r\n            &lt;input type=&quot;date&quot; th:field=&quot;*{dateOfBirth}&quot; &gt;\r\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{dateOfBirth}&quot;&gt;&lt;/p&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; &gt;\r\n            &lt;br&gt;&lt;br&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nMy pom\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```","title":"I don&#39;t know whether my valid type is wrong or what","body":"<p>I am new to spring boot. I want to validator check so that the first name and last name cannot be equal. I don't know my code is correct or wrong for the LastNameValidator.java. I use the user object instead of just the last name to check and I get the error. No validator could be found for constraint 'com.example.workbook31.LastName' validating type 'java.lang.String'. Check configuration for 'lastName'.</p>\n<p>My LastNameValidator.java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\npublic class LastNameValidator implements ConstraintValidator&lt;LastName, User&gt; {\n    @Override\n    public boolean isValid(User user, ConstraintValidatorContext context){\n        if(user.getFirstName() != user.getLastName() ){\n            return true;\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n<p>My LastName.java code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = LastNameValidator.class)\npublic @interface LastName {\n    String message() default &quot;First Name cannot equal to Last Name&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    \n}\n</code></pre>\n<p>My ApplicationController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport jakarta.validation.Valid;\n\n@Controller\npublic class ApplicationController {\n    \n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n    @GetMapping(&quot;/&quot;)\n    public String getForm(Model model,@RequestParam(required=false)String id){ \n        int index = getIndexFromId(id);\n        model.addAttribute(&quot;user&quot;, index == -1000 ? new User(): users.get(index));\n        return &quot;sign-up&quot;;\n    }\n    \n    @PostMapping(&quot;/submitForm&quot;)\n    public String handleSubmit(@Valid User user, BindingResult result){\n        int index = getIndexFromId(user.getId());\n        if(result.hasErrors()){\n            return &quot;sign-up&quot;;\n        }\n        \n        if(index == -1000){\n            users.add(user);\n        }else {\n            users.set(index,user);\n        }\n       \n        return &quot;redirect:/result&quot;;\n    }\n    \n    @GetMapping(&quot;/result&quot;)\n    public String getResult(Model model){\n        model.addAttribute(&quot;users&quot;, users);\n        return &quot;result&quot;;\n    }\n\n    public Integer getIndexFromId(String id){\n        for(int i=0;i&lt;users.size();i++){\n            if(users.get(i).getId().equals(id)){\n                return i;\n            }\n        }\n        return -1000;\n}\n\n}\n</code></pre>\n<p>My User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Past;\nimport jakarta.validation.constraints.Size;\n\nimport java.util.Date;\nimport java.util.UUID;\n\n\npublic class User {\n    @NotBlank(message = &quot;First name cannot be blank&quot;)\n    @Size(min=2, message=&quot;First name is too short&quot;)\n    private String firstName;\n    \n    @NotBlank(message = &quot;First name cannot be blank&quot;)\n    @Size(min=2, message=&quot;First name is too short&quot;)\n    @LastName\n    private String lastName;\n    \n    @NotBlank(message = &quot;Username cannot be blank&quot;)\n    @Size(min=7, message= &quot;Username must at least be 7 characters&quot;)\n    private String userName;\n    \n    @Email(message = &quot;Invalid Email&quot;)\n    private String email;\n    \n    @Past(message = &quot;date of birth must be in the past&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private Date dateOfBirth;\n    private String id;\n    \n    public User() {\n        this.id = UUID.randomUUID().toString();\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Date getDateOfBirth() {\n        return dateOfBirth;\n    }\n\n    public void setDateOfBirth(Date dateOfBirth) {\n        this.dateOfBirth = dateOfBirth;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n      \n    \n    \n}\n</code></pre>\n<p>My Application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.workbook31;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>My sign-up.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Sign Up&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/form-stylesheet.css}&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;h2&gt;Javagram&lt;/h2&gt;\n        &lt;form method=&quot;post&quot; th:object=&quot;${user}&quot; th:action=&quot;@{/submitForm}&quot;&gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{firstName}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;First Name&quot; th:field=&quot;*{firstName}&quot;&gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{lastName}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;Last Name&quot; th:field=&quot;*{lastName}&quot;&gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{userName}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;Username&quot; th:field=&quot;*{userName}&quot; &gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{email}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;text&quot; placeholder=&quot;Email&quot; th:field=&quot;*{email}&quot;&gt;\n            &lt;p style=&quot;font-weight: bold;&quot;&gt;Date of Birth&lt;/p&gt;\n            &lt;input type=&quot;date&quot; th:field=&quot;*{dateOfBirth}&quot; &gt;\n            &lt;p style=&quot;color:red&quot; th:errors =&quot;*{dateOfBirth}&quot;&gt;&lt;/p&gt;\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot; &gt;\n            &lt;br&gt;&lt;br&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My pom</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","ssl","tls1.3"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":2,"creation_date":1683630245,"post_id":76208273,"comment_id":134392785,"body_markdown":"based on this specification: https://docs.oracle.com/en/java/javase/19/docs/specs/security/standard-names.html#sslcontext-algorithms there is no string for latest version","body":"based on this specification: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/security/standard-names.html#sslcontext-algorithms\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/specs/security/&hellip;</a> there is no string for latest version"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":0,"creation_date":1683646013,"post_id":76208273,"comment_id":134396821,"body_markdown":"@SquidXTV Yes, this I why I wrote *simulate*.","body":"@SquidXTV Yes, this I why I wrote <i>simulate</i>."},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1683651395,"post_id":76208273,"comment_id":134398140,"body_markdown":"And what if next version, if that happens, is TLS2? Or TLS42? Or TLS 1.11? Your code will seem to work but won&#39;t really use the &quot;latest&quot; or best version. Today, there is really no reason to use anything else than 1.3, and I believe it is best to just hardcode that (if you can be 100% sure to connect only to hosts not requiring anything else). Separate: there is no introspection possible in that library to just know what is defined?","body":"And what if next version, if that happens, is TLS2? Or TLS42? Or TLS 1.11? Your code will seem to work but won&#39;t really use the &quot;latest&quot; or best version. Today, there is really no reason to use anything else than 1.3, and I believe it is best to just hardcode that (if you can be 100% sure to connect only to hosts not requiring anything else). Separate: there is no introspection possible in that library to just know what is defined?"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683627617,"creation_date":1683627617,"question_id":76208273,"body_markdown":"Today, I write: `SSLContext.getInstance(&quot;TLSv1.3&quot;)`, but I would prefer something like: `SSLContext.getInstance(&quot;TLSvLatest&quot;)`.\r\n\r\nI cannot find a direct way using the existing API/ctor.  Is this possible to simulate?\r\n\r\nOne hacky idea:\r\n\r\n    private static SSLContext\r\n    _getSSLContextTLSLatest()\r\n    throws NoSuchAlgorithmException\r\n    {\r\n        for (int i = 9; i &gt;= 3; --i)\r\n        {\r\n            final String protocol = &quot;TLSv1.&quot; + i;\r\n            try {\r\n                final SSLContext x = SSLContext.getInstance(protocol);\r\n                return x;\r\n            }\r\n            catch (NoSuchAlgorithmException e)\r\n            {\r\n                // do nothing\r\n            }\r\n        }\r\n        throw new NoSuchAlgorithmException(&quot;SSLContext: Failed to final TLS latest&quot;);\r\n    }\r\n\r\nNote: Please re-tag this question if better tags can be used.","title":"SSLContext.getInstance(String): Is there a way to always get the latest TLS?","body":"<p>Today, I write: <code>SSLContext.getInstance(&quot;TLSv1.3&quot;)</code>, but I would prefer something like: <code>SSLContext.getInstance(&quot;TLSvLatest&quot;)</code>.</p>\n<p>I cannot find a direct way using the existing API/ctor.  Is this possible to simulate?</p>\n<p>One hacky idea:</p>\n<pre><code>private static SSLContext\n_getSSLContextTLSLatest()\nthrows NoSuchAlgorithmException\n{\n    for (int i = 9; i &gt;= 3; --i)\n    {\n        final String protocol = &quot;TLSv1.&quot; + i;\n        try {\n            final SSLContext x = SSLContext.getInstance(protocol);\n            return x;\n        }\n        catch (NoSuchAlgorithmException e)\n        {\n            // do nothing\n        }\n    }\n    throw new NoSuchAlgorithmException(&quot;SSLContext: Failed to final TLS latest&quot;);\n}\n</code></pre>\n<p>Note: Please re-tag this question if better tags can be used.</p>\n"},{"tags":["java","sql","mysql","glassfish","mysql-connector"],"answers":[{"comments":[{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682241919,"post_id":76084009,"comment_id":134181583,"body_markdown":"Few questions:\n1) What&#39;s the alternative of sqljdbc for mysql?\n2) Do I need to place all jars into /lib?","body":"Few questions: 1) What&#39;s the alternative of sqljdbc for mysql? 2) Do I need to place all jars into /lib?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682242199,"post_id":76084009,"comment_id":134181609,"body_markdown":"1) as per my answer: mysql-connector-j.jar - you can pull the v8.0.33 from the link. You may need an older version 2) yes","body":"1) as per my answer: mysql-connector-j.jar - you can pull the v8.0.33 from the link. You may need an older version 2) yes"},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682242426,"post_id":76084009,"comment_id":134181636,"body_markdown":"Still not fixed. Same error: Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details.","body":"Still not fixed. Same error: Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682242883,"post_id":76084009,"comment_id":134181690,"body_markdown":"FInd out which lib folder in your application server jars should go. It&#39;s not lib/ext. It may be higher than /home/banksmart/glassfish4/glassfish/domains/domain1/lib. Application server may need a restart, or at least the domain.","body":"FInd out which lib folder in your application server jars should go. It&#39;s not lib/ext. It may be higher than /home/banksmart/glassfish4/glassfish/domains/domain1/lib. Application server may need a restart, or at least the domain."},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682243247,"post_id":76084009,"comment_id":134181722,"body_markdown":"When I try to restart the domain, I get this error: [banksmart@localhost bin]$ ./asadmin restart-domain domain1\nNCLS-ADMIN-00010\nServer is not running, will attempt to start it...\nThere is a process already using the admin port 4848 -- it probably is another instance of a GlassFish server.\nCommand restart-domain failed.","body":"When I try to restart the domain, I get this error: [banksmart@localhost bin]$ ./asadmin restart-domain domain1 NCLS-ADMIN-00010 Server is not running, will attempt to start it... There is a process already using the admin port 4848 -- it probably is another instance of a GlassFish server. Command restart-domain failed."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682243591,"post_id":76084009,"comment_id":134181758,"body_markdown":"Before you restart, stop it first","body":"Before you restart, stop it first"},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682243812,"post_id":76084009,"comment_id":134181797,"body_markdown":"I get server not running when I try to stop it: `NCLS-ADMIN-00010\nCLI306: Warning - The server located at /home/banksmart/glassfish4/glassfish/domains/domain1 is not running.\nCommand stop-domain executed successfully.`","body":"I get server not running when I try to stop it: <code>NCLS-ADMIN-00010 CLI306: Warning - The server located at &#47;home&#47;banksmart&#47;glassfish4&#47;glassfish&#47;domains&#47;domain1 is not running. Command stop-domain executed successfully.</code>"},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682243870,"post_id":76084009,"comment_id":134181799,"body_markdown":"http://192.168.169.128:8080/ but glassfish server is running at this port.","body":"<a href=\"http://192.168.169.128:8080/\" rel=\"nofollow noreferrer\">192.168.169.128:8080</a> but glassfish server is running at this port."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682244066,"post_id":76084009,"comment_id":134181829,"body_markdown":"Maybe a new question - how do i restart a glassfish domain server?","body":"Maybe a new question - how do i restart a glassfish domain server?"},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682244595,"post_id":76084009,"comment_id":134181880,"body_markdown":"I restarted the glassfish domain server. Still the same error applies.`Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details.\n`","body":"I restarted the glassfish domain server. Still the same error applies.<code>Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details. </code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1682245289,"post_id":76084009,"comment_id":134181942,"body_markdown":"It&#39;s the right jar - see https://jar-download.com/artifacts/mysql/mysql-connector-java/8.0.11/source-code/com/mysql/cj/jdbc/MysqlXADataSource.java. I have no idea why you classpath won&#39;t pick it up. That&#39;s where you need to be googling.","body":"It&#39;s the right jar - see <a href=\"https://jar-download.com/artifacts/mysql/mysql-connector-java/8.0.11/source-code/com/mysql/cj/jdbc/MysqlXADataSource.java\" rel=\"nofollow noreferrer\">jar-download.com/artifacts/mysql/mysql-connector-java/8.0.11&zwnj;&#8203;/&hellip;</a>. I have no idea why you classpath won&#39;t pick it up. That&#39;s where you need to be googling."},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682250889,"post_id":76084009,"comment_id":134182532,"body_markdown":"There&#39;s no answer on google, looks like I&#39;m the only one with this issue.","body":"There&#39;s no answer on google, looks like I&#39;m the only one with this issue."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682255397,"post_id":76084009,"comment_id":134183087,"body_markdown":"Check the ping checkbox in the console and save the changes.","body":"Check the ping checkbox in the console and save the changes."},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682258739,"post_id":76084009,"comment_id":134183529,"body_markdown":"@SamuelMarchant that step isn&#39;t working","body":"@SamuelMarchant that step isn&#39;t working"},{"owner":{"display_name":"user5456746"},"score":0,"creation_date":1682264195,"post_id":76084009,"comment_id":134184289,"body_markdown":"The issue is fixed! Finally! Ping succeeded.","body":"The issue is fixed! Finally! Ping succeeded."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682241127,"creation_date":1682241127,"answer_id":76084009,"question_id":76083846,"body_markdown":"Two problems.\r\n\r\nThe jarfile is in the wrong place. Should be in the /lib not lib/ext.\r\n\r\nYou have the wrong jar. You need [mysql-connector-j-8.0.33.jar][1] or possibly an older version. sqljdbc is for ms sqlserver.\r\n\r\nSomething else that looks off is that your Resource Type is `XADataSource` but you have selected a non XA driver class. They need to match. I suspect you want `com.mysql.cj.jdbc.MysqlXADataSource`\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar","title":"How to set classpath for com.mysql.cj.jdbc.MysqlXADataSource","body":"<p>Two problems.</p>\n<p>The jarfile is in the wrong place. Should be in the /lib not lib/ext.</p>\n<p>You have the wrong jar. You need <a href=\"https://repo1.maven.org/maven2/com/mysql/mysql-connector-j/8.0.33/mysql-connector-j-8.0.33.jar\" rel=\"nofollow noreferrer\">mysql-connector-j-8.0.33.jar</a> or possibly an older version. sqljdbc is for ms sqlserver.</p>\n<p>Something else that looks off is that your Resource Type is <code>XADataSource</code> but you have selected a non XA driver class. They need to match. I suspect you want <code>com.mysql.cj.jdbc.MysqlXADataSource</code></p>\n"},{"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682333164,"post_id":76085761,"comment_id":134193122,"body_markdown":"No criticism intended , that&#39;s an old grubby fix aka quick fix method. I know those well, older servers usually use &quot;shared libraries&quot; e.g. &quot;commons/lib&quot; for all the domains in the one server and JVM.","body":"No criticism intended , that&#39;s an old grubby fix aka quick fix method. I know those well, older servers usually use &quot;shared libraries&quot; e.g. &quot;commons/lib&quot; for all the domains in the one server and JVM."}],"tags":[],"owner":{"display_name":"user5456746"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682569577,"creation_date":1682264164,"answer_id":76085761,"question_id":76083846,"body_markdown":"I put everything mentioned in another answer so I recommend you follow that answer. \r\n\r\nThe most important things to do are:\r\n\r\n1) Include all those `.jar` files in both `lib` directories that exist.\r\n2) Add a new property in JDBC connection pool settings: `&quot;useSSL&quot;` and set its value to `false`.\r\n\r\nAfter you do this, you&#39;ll get some obvious error messages, but those shouldn&#39;t be that hard to fix.","title":"How to set classpath for com.mysql.cj.jdbc.MysqlXADataSource","body":"<p>I put everything mentioned in another answer so I recommend you follow that answer.</p>\n<p>The most important things to do are:</p>\n<ol>\n<li>Include all those <code>.jar</code> files in both <code>lib</code> directories that exist.</li>\n<li>Add a new property in JDBC connection pool settings: <code>&quot;useSSL&quot;</code> and set its value to <code>false</code>.</li>\n</ol>\n<p>After you do this, you'll get some obvious error messages, but those shouldn't be that hard to fix.</p>\n"}],"owner":{"display_name":"user5456746"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76084009,"answer_count":2,"score":1,"last_activity_date":1683627580,"creation_date":1682238776,"question_id":76083846,"body_markdown":"I want to deploy application called &quot;banksmart&quot; in glassfish application server.\r\n\r\nThis step is done for database connection for banksmart deployment.\r\n\r\nI am getting the following error when I ping in glassfish from here:\r\n\r\n![](https://i.imgur.com/p3bYuDf.png)\r\n\r\n\r\n    Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details.\r\n\r\nHere&#39;s the JDBC Resources settings:\r\n\r\n![](https://i.imgur.com/bVV9aFt.png)\r\n\r\nHere&#39;s the JDBC connection pools settings:\r\n\r\n![](https://i.imgur.com/REafiPE.png)\r\n![](https://i.imgur.com/7QHpvmx.png)\r\n\r\nHere&#39;s the server.log logfile.\r\n\r\n    [2023-04-23T17:53:59.428+0545] [glassfish 4.1] [SEVERE] [jdbc.exc_cnfe_ds] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739428] [levelValue: 1000] [[\r\n      RAR5099 : Wrong class name or classpath for Datasource Object\r\n    java.lang.ClassNotFoundException: com.mysql.cj.jdbc.MysqlXADataSource\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n            at java.lang.Class.forName0(Native Method)\r\n            at java.lang.Class.forName(Class.java:348)\r\n            at com.sun.gjc.common.DataSourceObjectBuilder.getDataSourceObject(DataSourceObjectBuilder.java:285)\r\n            at com.sun.gjc.common.DataSourceObjectBuilder.constructDataSourceObject(DataSourceObjectBuilder.java:114)\r\n            at com.sun.gjc.spi.ManagedConnectionFactoryImpl.getDataSource(ManagedConnectionFactoryImpl.java:1300)\r\n            at com.sun.gjc.spi.DSManagedConnectionFactory.getDataSource(DSManagedConnectionFactory.java:163)\r\n            at com.sun.gjc.spi.DSManagedConnectionFactory.createManagedConnection(DSManagedConnectionFactory.java:102)\r\n            at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.getUnpooledConnection(ConnectorConnectionPoolAdminServiceImpl.java:702)\r\n            at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.testConnectionPool(ConnectorConnectionPoolAdminServiceImpl.java:431)\r\n            at com.sun.enterprise.connectors.ConnectorRuntime.pingConnectionPool(ConnectorRuntime.java:1162)\r\n            at org.glassfish.connectors.admin.cli.PingConnectionPool.execute(PingConnectionPool.java:143)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:539)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:535)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at javax.security.auth.Subject.doAs(Subject.java:360)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:534)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:565)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:557)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at javax.security.auth.Subject.doAs(Subject.java:360)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:556)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1464)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:109)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1846)\r\n            at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1722)\r\n            at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:253)\r\n            at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:231)\r\n            at org.glassfish.admin.rest.resources.TemplateExecCommand.executeCommandLegacyFormat(TemplateExecCommand.java:157)\r\n            at org.glassfish.admin.rest.resources.TemplateCommandGetResource.processGetLegacyFormat(TemplateCommandGetResource.java:75)\r\n            at sun.reflect.GeneratedMethodAccessor152.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171)\r\n            at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:152)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104)\r\n            at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:387)\r\n            at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:331)\r\n            at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:103)\r\n            at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271)\r\n            at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n            at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n            at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n            at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297)\r\n            at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254)\r\n            at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1028)\r\n            at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:365)\r\n            at org.glassfish.admin.rest.adapter.RestAdapter$2.service(RestAdapter.java:316)\r\n            at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:179)\r\n            at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n            at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n            at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\r\n            at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\r\n            at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n            at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n            at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\r\n            at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n            at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n            at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n            at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n            at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n            at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n            at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n    ]]\r\n    \r\n    [2023-04-23T17:53:59.449+0545] [glassfish 4.1] [WARNING] [test.connection.pool.failed] [javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.service] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739449] [levelValue: 900] [[\r\n      RAR8054: Exception while creating an unpooled [test] connection for pool [ banksmart ], Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource]]\r\n    \r\n    [2023-04-23T17:53:59.459+0545] [glassfish 4.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=311 _ThreadName=admin-listener(44)] [timeMillis: 1682251739459] [levelValue: 1000] [[\r\n      RestResponse.getResponse() gives FAILURE.  endpoint = &#39;https://localhost:4848/management/domain/resources/ping-connection-pool.json&#39;; attrs = &#39;{id=banksmart}&#39;]]\r\n\r\n\r\n\r\nHow do I fix this error?\r\n\r\n","title":"How to set classpath for com.mysql.cj.jdbc.MysqlXADataSource","body":"<p>I want to deploy application called &quot;banksmart&quot; in glassfish application server.</p>\n<p>This step is done for database connection for banksmart deployment.</p>\n<p>I am getting the following error when I ping in glassfish from here:</p>\n<p><img src=\"https://i.imgur.com/p3bYuDf.png\" alt=\"\" /></p>\n<pre><code>Ping Connection Pool failed for banksmart. Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource Please check the server.log for more details.\n</code></pre>\n<p>Here's the JDBC Resources settings:</p>\n<p><img src=\"https://i.imgur.com/bVV9aFt.png\" alt=\"\" /></p>\n<p>Here's the JDBC connection pools settings:</p>\n<p><img src=\"https://i.imgur.com/REafiPE.png\" alt=\"\" />\n<img src=\"https://i.imgur.com/7QHpvmx.png\" alt=\"\" /></p>\n<p>Here's the server.log logfile.</p>\n<pre><code>[2023-04-23T17:53:59.428+0545] [glassfish 4.1] [SEVERE] [jdbc.exc_cnfe_ds] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739428] [levelValue: 1000] [[\n  RAR5099 : Wrong class name or classpath for Datasource Object\njava.lang.ClassNotFoundException: com.mysql.cj.jdbc.MysqlXADataSource\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at com.sun.gjc.common.DataSourceObjectBuilder.getDataSourceObject(DataSourceObjectBuilder.java:285)\n        at com.sun.gjc.common.DataSourceObjectBuilder.constructDataSourceObject(DataSourceObjectBuilder.java:114)\n        at com.sun.gjc.spi.ManagedConnectionFactoryImpl.getDataSource(ManagedConnectionFactoryImpl.java:1300)\n        at com.sun.gjc.spi.DSManagedConnectionFactory.getDataSource(DSManagedConnectionFactory.java:163)\n        at com.sun.gjc.spi.DSManagedConnectionFactory.createManagedConnection(DSManagedConnectionFactory.java:102)\n        at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.getUnpooledConnection(ConnectorConnectionPoolAdminServiceImpl.java:702)\n        at com.sun.enterprise.connectors.service.ConnectorConnectionPoolAdminServiceImpl.testConnectionPool(ConnectorConnectionPoolAdminServiceImpl.java:431)\n        at com.sun.enterprise.connectors.ConnectorRuntime.pingConnectionPool(ConnectorRuntime.java:1162)\n        at org.glassfish.connectors.admin.cli.PingConnectionPool.execute(PingConnectionPool.java:143)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:539)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:535)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:360)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:534)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:565)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:557)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.Subject.doAs(Subject.java:360)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:556)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1464)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:109)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1846)\n        at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1722)\n        at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:253)\n        at org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:231)\n        at org.glassfish.admin.rest.resources.TemplateExecCommand.executeCommandLegacyFormat(TemplateExecCommand.java:157)\n        at org.glassfish.admin.rest.resources.TemplateCommandGetResource.processGetLegacyFormat(TemplateCommandGetResource.java:75)\n        at sun.reflect.GeneratedMethodAccessor152.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:151)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:171)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:152)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:104)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:387)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:331)\n        at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:103)\n        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:271)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:267)\n        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:297)\n        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:254)\n        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1028)\n        at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:365)\n        at org.glassfish.admin.rest.adapter.RestAdapter$2.service(RestAdapter.java:316)\n        at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:179)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\n        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\n        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n        at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n        at org.glassfish.grizzly.portunif.PUFilter.handleRead(PUFilter.java:231)\n        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n        at java.lang.Thread.run(Thread.java:750)\n]]\n\n[2023-04-23T17:53:59.449+0545] [glassfish 4.1] [WARNING] [test.connection.pool.failed] [javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.service] [tid: _ThreadID=312 _ThreadName=admin-listener(45)] [timeMillis: 1682251739449] [levelValue: 900] [[\n  RAR8054: Exception while creating an unpooled [test] connection for pool [ banksmart ], Class name is wrong or classpath is not set for : com.mysql.cj.jdbc.MysqlXADataSource]]\n\n[2023-04-23T17:53:59.459+0545] [glassfish 4.1] [SEVERE] [] [org.glassfish.admingui] [tid: _ThreadID=311 _ThreadName=admin-listener(44)] [timeMillis: 1682251739459] [levelValue: 1000] [[\n  RestResponse.getResponse() gives FAILURE.  endpoint = 'https://localhost:4848/management/domain/resources/ping-connection-pool.json'; attrs = '{id=banksmart}']]\n</code></pre>\n<p>How do I fix this error?</p>\n"},{"tags":["java","file-io"],"answers":[{"comments":[{"owner":{"account_id":35617,"reputation":1555,"user_id":100939,"accept_rate":75,"display_name":"mikek"},"score":0,"creation_date":1245667439,"post_id":1026490,"comment_id":836358,"body_markdown":"Was about to write the same thing. As a rule, deleteOnExit() is rather unreliable. I would do the above, but also check the return value from temp.delete() to make sure that all locks are removed.","body":"Was about to write the same thing. As a rule, deleteOnExit() is rather unreliable. I would do the above, but also check the return value from temp.delete() to make sure that all locks are removed."},{"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"score":1,"creation_date":1245667810,"post_id":1026490,"comment_id":836377,"body_markdown":"As Mike said, I would not rely on deleteOnExit(). Additionally the temporary file is kept until the end of the program-execution, even if no longer needed. On a server-application that can be a long time. So explicitly deleting the file is preferable.","body":"As Mike said, I would not rely on deleteOnExit(). Additionally the temporary file is kept until the end of the program-execution, even if no longer needed. On a server-application that can be a long time. So explicitly deleting the file is preferable."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1245670145,"post_id":1026490,"comment_id":836510,"body_markdown":"Can you delete the file from Windows Explorer (assuming you&#39;re using Windows)?","body":"Can you delete the file from Windows Explorer (assuming you&#39;re using Windows)?"},{"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"score":0,"creation_date":1441114117,"post_id":1026490,"comment_id":52540016,"body_markdown":"By attempting and failing to explicitly delete the tmp files I created, I identified a resource leak in my code (a PrintStream I didn&#39;t close).","body":"By attempting and failing to explicitly delete the tmp files I created, I identified a resource leak in my code (a PrintStream I didn&#39;t close)."}],"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1245669076,"creation_date":1245667207,"answer_id":1026490,"question_id":1026479,"body_markdown":"Add the following code (after you have done your operations with the file):\r\n\r\n    buffout.close();\r\n    fileoutput.close();\r\n    temp.delete();\r\n\r\nAs long as some stream on the file is open, it is locked (at least on the windows-implementation of the JVM). So it cannot be deleted.\r\n\r\nIt is good practice always to check if all opened streams get closed again after usage, because this is a bad memory-leak-situation. Your application can even eat up all available file-handles, that can lead to an unusable system.","title":"delete temporary file in java","body":"<p>Add the following code (after you have done your operations with the file):</p>\n\n<pre><code>buffout.close();\nfileoutput.close();\ntemp.delete();\n</code></pre>\n\n<p>As long as some stream on the file is open, it is locked (at least on the windows-implementation of the JVM). So it cannot be deleted.</p>\n\n<p>It is good practice always to check if all opened streams get closed again after usage, because this is a bad memory-leak-situation. Your application can even eat up all available file-handles, that can lead to an unusable system.</p>\n"},{"comments":[{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1245667735,"post_id":1026493,"comment_id":836373,"body_markdown":"deleteOnExit adds a shutdown hook","body":"deleteOnExit adds a shutdown hook"}],"tags":[],"owner":{"account_id":15923,"reputation":28380,"user_id":34161,"accept_rate":83,"display_name":"Yoni Roit"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245667288,"creation_date":1245667288,"answer_id":1026493,"question_id":1026479,"body_markdown":"There&#39;s a [bug][1] saying that if the file is open by filewriter or anything, it won&#39;t be deleted. On windows. Check if you close your file writers.\r\n\r\nAnother workaround would be installing a [ShutdownHook][2] which would manually delete the file.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239","title":"delete temporary file in java","body":"<p>There's a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239\" rel=\"nofollow noreferrer\">bug</a> saying that if the file is open by filewriter or anything, it won't be deleted. On windows. Check if you close your file writers.</p>\n<p>Another workaround would be installing a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4171239\" rel=\"nofollow noreferrer\">ShutdownHook</a> which would manually delete the file.</p>\n"},{"comments":[{"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"score":3,"creation_date":1245667963,"post_id":1026514,"comment_id":836387,"body_markdown":"deleteOnExit keeps the file until the program ends. If the program only executes one action and stops afterwards that may be OK, but on a server-application the tempfiles are kept this way for a long time, accumulate and possibly eating up your inodes and your disk-space.","body":"deleteOnExit keeps the file until the program ends. If the program only executes one action and stops afterwards that may be OK, but on a server-application the tempfiles are kept this way for a long time, accumulate and possibly eating up your inodes and your disk-space."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1245670098,"post_id":1026514,"comment_id":836507,"body_markdown":"In the question, the use of deleteOnExit is not inappropriate - we&#39;ve no idea what the specific usage pattern is. I would say that deleteOnExit is generally undesirable for a number of reasons (one being that it isn&#39;t reversible)","body":"In the question, the use of deleteOnExit is not inappropriate - we&#39;ve no idea what the specific usage pattern is. I would say that deleteOnExit is generally undesirable for a number of reasons (one being that it isn&#39;t reversible)"}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245667630,"creation_date":1245667630,"answer_id":1026514,"question_id":1026479,"body_markdown":"You have to shut down a VM *cleanly* in order for the `deleteOnExit` to work properly (I suspect). On `UNIX` a `kill` would be a clean shutdown (i.e. the `ShutdownHooks` would be processed) whereas a `kill -9` would be more like a *force quit*.\r\n\r\n`deleteOnExit` definitely works for me!","title":"delete temporary file in java","body":"<p>You have to shut down a VM <em>cleanly</em> in order for the <code>deleteOnExit</code> to work properly (I suspect). On <code>UNIX</code> a <code>kill</code> would be a clean shutdown (i.e. the <code>ShutdownHooks</code> would be processed) whereas a <code>kill -9</code> would be more like a <em>force quit</em>.</p>\n\n<p><code>deleteOnExit</code> definitely works for me!</p>\n"},{"tags":[],"owner":{"account_id":14911716,"reputation":1,"user_id":10766998,"display_name":"vineetawaw kkklll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544365074,"creation_date":1544364264,"answer_id":53693131,"question_id":1026479,"body_markdown":"Code to close the inpustream and outputstream:\r\n\r\n \r\n        FileInputStream in = new FileInputStream();\r\n        \r\n         ArrayList list_in = new ArrayList&lt;FileInputStream&gt;();\r\n    \r\n         list_in.add(in);\r\n    \r\n         FileOutputStream out = new FileOutputStream();\r\n    \r\n         ArrayList list_out = new ArrayList&lt;OutputputStream&gt;();\r\n           \r\n         list_in.add(out);\r\n    \r\n         public do_before_exit()\r\n         {\r\n          \r\n          for(int i=0;i&lt;list_in.size();i++)\r\n          {\r\n          FileInputStream in=(FileInputStream)list_in.get(i)\r\n           FileInputStream out=(FileInputStream)list_out.get(i)\r\n    \r\n          in.close()\r\n        out.close();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"delete temporary file in java","body":"<p>Code to close the inpustream and outputstream:</p>\n\n<pre><code>    FileInputStream in = new FileInputStream();\n\n     ArrayList list_in = new ArrayList&lt;FileInputStream&gt;();\n\n     list_in.add(in);\n\n     FileOutputStream out = new FileOutputStream();\n\n     ArrayList list_out = new ArrayList&lt;OutputputStream&gt;();\n\n     list_in.add(out);\n\n     public do_before_exit()\n     {\n\n      for(int i=0;i&lt;list_in.size();i++)\n      {\n      FileInputStream in=(FileInputStream)list_in.get(i)\n       FileInputStream out=(FileInputStream)list_out.get(i)\n\n      in.close()\n    out.close();\n   }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"sunil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39066,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":4,"score":25,"last_activity_date":1683626242,"creation_date":1245666979,"question_id":1026479,"body_markdown":"I&#39;m creating a temporary file in Java but I&#39;m unable to delete it. This is the code I have written:\r\n\r\n    temp = File.createTempFile(&quot;temp&quot;, &quot;.txt&quot;);\r\n    temp.deleteOnExit();\r\n    fileoutput = new FileWriter(temp);\r\n    buffout = new BufferedWriter(fileoutput);\r\n\r\n\r\n\r\n\r\n\r\n","title":"delete temporary file in java","body":"<p>I'm creating a temporary file in Java but I'm unable to delete it. This is the code I have written:</p>\n<pre><code>temp = File.createTempFile(&quot;temp&quot;, &quot;.txt&quot;);\ntemp.deleteOnExit();\nfileoutput = new FileWriter(temp);\nbuffout = new BufferedWriter(fileoutput);\n</code></pre>\n"},{"tags":["java","spring","http","spring-security","authorization"],"comments":[{"owner":{"account_id":12131022,"reputation":3,"user_id":14376766,"display_name":"tgoel-dev"},"score":0,"creation_date":1683595213,"post_id":76205217,"comment_id":134387369,"body_markdown":"I have added the JwtAuthenticationFilter to the post as well. Please let me know if there is any other class that will be helpful. Thanks","body":"I have added the JwtAuthenticationFilter to the post as well. Please let me know if there is any other class that will be helpful. Thanks"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1683599501,"post_id":76205217,"comment_id":134387753,"body_markdown":"What is your JDK version, Java language version, Spring Boot version?","body":"What is your JDK version, Java language version, Spring Boot version?"}],"answers":[{"tags":[],"owner":{"account_id":6067804,"reputation":38,"user_id":4737551,"display_name":"Aitor Gil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683626185,"creation_date":1683626185,"answer_id":76208053,"question_id":76205217,"body_markdown":"In the **SecurityConfig** class, inside the **securityFilterChain** method, you are using the **&quot;denyAll()&quot;** method. With it, you are saying that all the aforementioned requests should be denied. Change the &quot;denyAll()&quot; to **&quot;authenticated()&quot;**.\r\n\r\nThe method would be as follows:\r\n\r\n```\r\n @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(publicEndpoints()).permitAll()\r\n                .requestMatchers(userEndpoints()).permitAll()\r\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .exceptionHandling()\r\n                .accessDeniedHandler((request, response, ex) -&gt; {\r\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\r\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n                });\r\n\r\n        return http.build();\r\n    }\r\n```","title":"Spring Security: returning 403 Forbidden for all requests after successful authentication","body":"<p>In the <strong>SecurityConfig</strong> class, inside the <strong>securityFilterChain</strong> method, you are using the <strong>&quot;denyAll()&quot;</strong> method. With it, you are saying that all the aforementioned requests should be denied. Change the &quot;denyAll()&quot; to <strong>&quot;authenticated()&quot;</strong>.</p>\n<p>The method would be as follows:</p>\n<pre><code> @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(publicEndpoints()).permitAll()\n                .requestMatchers(userEndpoints()).permitAll()\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .exceptionHandling()\n                .accessDeniedHandler((request, response, ex) -&gt; {\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                });\n\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":12131022,"reputation":3,"user_id":14376766,"display_name":"tgoel-dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76208053,"answer_count":1,"score":0,"last_activity_date":1683626185,"creation_date":1683593686,"question_id":76205217,"body_markdown":"I wish to allow all users to login via JWT. Only logged in users are allowed to access the private endpoints. Nothing is being logged, not even as &quot;Access Denied&quot;. Here is my `SecurityConfig` configuration class. \r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(publicEndpoints()).permitAll()\r\n                .requestMatchers(userEndpoints()).permitAll()\r\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().denyAll()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .exceptionHandling()\r\n                .accessDeniedHandler((request, response, ex) -&gt; {\r\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\r\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\r\n                });\r\n\r\n        return http.build();\r\n    }\r\n\r\n    private RequestMatcher userEndpoints() {\r\n        return new OrRequestMatcher(\r\n                new AntPathRequestMatcher(&quot;/u/**&quot;)\r\n        );\r\n    }\r\n\r\n    private RequestMatcher adminEndpoints() {\r\n        return new OrRequestMatcher(\r\n                new AntPathRequestMatcher(&quot;/admin/**&quot;)\r\n        );\r\n    }\r\n\r\n    private RequestMatcher publicEndpoints() {\r\n        return new OrRequestMatcher(\r\n                new AntPathRequestMatcher(&quot;/user/register&quot;),\r\n                new AntPathRequestMatcher(&quot;/user/signin&quot;)\r\n        );\r\n    }\r\n}  \r\n```\r\n\r\nHere is the JwtAuthenticationFilter:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\r\n                                    @NonNull HttpServletResponse response,\r\n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        final String jwtToken = authHeader.substring(7); // removes &quot;Bearer &quot; string.\r\n        final String username = jwtService.extractUsername(jwtToken);\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n\r\n            if (jwtService.isTokenValid(jwtToken, userDetails)) {\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n\r\n                authToken.setDetails(new WebAuthenticationDetailsSource()\r\n                        .buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCurrently, with the above configuration, I am getting no logs whatsoever. I tried changing the security configuration to `.requestMatchers(userEndpoints()).hasRole(&quot;USER&quot;)` which still returned 403 Forbidden. But this time, there was a log saying &quot;Access Denied: Access Denied&quot;.\r\n\r\nI have also tried using `@PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)` for the controller method being called, but that also did nothing. ","title":"Spring Security: returning 403 Forbidden for all requests after successful authentication","body":"<p>I wish to allow all users to login via JWT. Only logged in users are allowed to access the private endpoints. Nothing is being logged, not even as &quot;Access Denied&quot;. Here is my <code>SecurityConfig</code> configuration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(publicEndpoints()).permitAll()\n                .requestMatchers(userEndpoints()).permitAll()\n                .requestMatchers(adminEndpoints()).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().denyAll()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .exceptionHandling()\n                .accessDeniedHandler((request, response, ex) -&gt; {\n                    System.out.println(&quot;Access Denied: &quot; + ex.getMessage());\n                    response.sendError(HttpServletResponse.SC_FORBIDDEN);\n                });\n\n        return http.build();\n    }\n\n    private RequestMatcher userEndpoints() {\n        return new OrRequestMatcher(\n                new AntPathRequestMatcher(&quot;/u/**&quot;)\n        );\n    }\n\n    private RequestMatcher adminEndpoints() {\n        return new OrRequestMatcher(\n                new AntPathRequestMatcher(&quot;/admin/**&quot;)\n        );\n    }\n\n    private RequestMatcher publicEndpoints() {\n        return new OrRequestMatcher(\n                new AntPathRequestMatcher(&quot;/user/register&quot;),\n                new AntPathRequestMatcher(&quot;/user/signin&quot;)\n        );\n    }\n}  \n</code></pre>\n<p>Here is the JwtAuthenticationFilter:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\n                                    @NonNull HttpServletResponse response,\n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\n\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        final String jwtToken = authHeader.substring(7); // removes &quot;Bearer &quot; string.\n        final String username = jwtService.extractUsername(jwtToken);\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n\n            if (jwtService.isTokenValid(jwtToken, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n\n                authToken.setDetails(new WebAuthenticationDetailsSource()\n                        .buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Currently, with the above configuration, I am getting no logs whatsoever. I tried changing the security configuration to <code>.requestMatchers(userEndpoints()).hasRole(&quot;USER&quot;)</code> which still returned 403 Forbidden. But this time, there was a log saying &quot;Access Denied: Access Denied&quot;.</p>\n<p>I have also tried using <code>@PreAuthorize(&quot;hasRole('USER')&quot;)</code> for the controller method being called, but that also did nothing.</p>\n"},{"tags":["java","java-8","executable-jar","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":1133977,"reputation":1901,"user_id":1119431,"accept_rate":80,"display_name":"zakkak"},"score":0,"creation_date":1683118453,"post_id":76163668,"comment_id":134317100,"body_markdown":"It looks like native-image is failing to generate a binary and is falling back to JVM-mode. Try compiling with `--no-fallback` and the build will probably fail.","body":"It looks like native-image is failing to generate a binary and is falling back to JVM-mode. Try compiling with <code>--no-fallback</code> and the build will probably fail."},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1683118619,"post_id":76163668,"comment_id":134317141,"body_markdown":"@zakkak yes it failed with some type error `Error: type is not available in this platform: org.graalvm.nativeimage.impl.ImageSingletonsSupport`","body":"@zakkak yes it failed with some type error <code>Error: type is not available in this platform: org.graalvm.nativeimage.impl.ImageSingletonsSupport</code>"},{"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"score":0,"creation_date":1683118643,"post_id":76163668,"comment_id":134317150,"body_markdown":"Is it because of the mac m1 max or some other issue?","body":"Is it because of the mac m1 max or some other issue?"},{"owner":{"account_id":1133977,"reputation":1901,"user_id":1119431,"accept_rate":80,"display_name":"zakkak"},"score":2,"creation_date":1683208911,"post_id":76163668,"comment_id":134334131,"body_markdown":"I am not sure to be honest. Better update the github issue and provide more info there (like the full stack trace).","body":"I am not sure to be honest. Better update the github issue and provide more info there (like the full stack trace)."}],"answers":[{"tags":[],"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683626155,"creation_date":1683282449,"answer_id":76181228,"question_id":76163668,"body_markdown":"Okay, finally, what worked for me is to create the configuration file. It becomes a two-step process\r\n\r\nStep 1:\r\n\r\n\r\nFirst I create a jar file of the project using intellij then I run the jar file to create a configuration file of the project in META_INF/native-image directory using `-agentlib:native-image-agent` i.e.\r\n```\r\njava -agentlib:native-image-agent=config-output-dir=/Users/mianahmad/goldeneye/json-processor/src/main/resources/META-INF/native-image -jar metadata-processor.jar -i /Users/mianahmad/goldeneye/json-processor/input/Claimant.json -o /Users/mianahmad/goldeneye/json-processor/output/Claimant_output.json\r\n```\r\n\r\nStep 2: \r\n\r\nAfter that I created a jar again and then created the native image.\r\n\r\n```\r\nnative-image -jar app-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n```\r\nAfter that, I moved the project to another location using \r\n```\r\nmv app-1.0-SNAPSHOT-jar-with-dependencies /Users/mianahmad/Desktop\r\n```\r\nRun the binary and viola it is still working\r\n```\r\n./app-1.0-SNAPSHOT-jar-with-dependencies\r\n```\r\n\r\n","title":"Graalvm generated binary is working inside the project directory but not outside that directory","body":"<p>Okay, finally, what worked for me is to create the configuration file. It becomes a two-step process</p>\n<p>Step 1:</p>\n<p>First I create a jar file of the project using intellij then I run the jar file to create a configuration file of the project in META_INF/native-image directory using <code>-agentlib:native-image-agent</code> i.e.</p>\n<pre><code>java -agentlib:native-image-agent=config-output-dir=/Users/mianahmad/goldeneye/json-processor/src/main/resources/META-INF/native-image -jar metadata-processor.jar -i /Users/mianahmad/goldeneye/json-processor/input/Claimant.json -o /Users/mianahmad/goldeneye/json-processor/output/Claimant_output.json\n</code></pre>\n<p>Step 2:</p>\n<p>After that I created a jar again and then created the native image.</p>\n<pre><code>native-image -jar app-1.0-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>After that, I moved the project to another location using</p>\n<pre><code>mv app-1.0-SNAPSHOT-jar-with-dependencies /Users/mianahmad/Desktop\n</code></pre>\n<p>Run the binary and viola it is still working</p>\n<pre><code>./app-1.0-SNAPSHOT-jar-with-dependencies\n</code></pre>\n"}],"owner":{"account_id":302301,"reputation":3398,"user_id":610607,"accept_rate":61,"display_name":"Mian Ahmad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76181228,"answer_count":1,"score":0,"last_activity_date":1683626155,"creation_date":1683115807,"question_id":76163668,"body_markdown":"I am using a rather simple Java application that receives an input file, process it and generate an output file. I am using `Picocli` for arguments to the application and `Graalvm` to create a native binary. \r\nI first created the `artifact` in intellij including the libraries and specifying the class containing the main method, I then used `build artifact` option to build the jar file. After that, I used the following command to create the binary \r\n```\r\nnative-image -jar metadata-processor.jar\r\n```\r\nThe jar and binary are created inside the project as `projectName/out/artifacts/app_jar` I can run the binary using\r\n```\r\n./binary -i abc -o xyz\r\n```\r\nI can run the jar file using\r\n```\r\njava -jar binary.jar -i abc -o xyz\r\n```\r\nHowever when I move the `binary` to `~Download` directory and run the same above command I get the error \r\n```\r\n./binary -i abc -o xyz\r\nError: Could not find or load main class Main\r\n```\r\nThe jar is still working though i.e.\r\n```\r\njava -jar binary.jar -i abc -o xyz\r\n```\r\n\r\nIf I create a simple hello world program and create a binary then it works fine even if I move it to another folder so it seems to be a library issue or project structure.\r\n\r\nPlease let me know if some special step is required in the case of libraries.","title":"Graalvm generated binary is working inside the project directory but not outside that directory","body":"<p>I am using a rather simple Java application that receives an input file, process it and generate an output file. I am using <code>Picocli</code> for arguments to the application and <code>Graalvm</code> to create a native binary.\nI first created the <code>artifact</code> in intellij including the libraries and specifying the class containing the main method, I then used <code>build artifact</code> option to build the jar file. After that, I used the following command to create the binary</p>\n<pre><code>native-image -jar metadata-processor.jar\n</code></pre>\n<p>The jar and binary are created inside the project as <code>projectName/out/artifacts/app_jar</code> I can run the binary using</p>\n<pre><code>./binary -i abc -o xyz\n</code></pre>\n<p>I can run the jar file using</p>\n<pre><code>java -jar binary.jar -i abc -o xyz\n</code></pre>\n<p>However when I move the <code>binary</code> to <code>~Download</code> directory and run the same above command I get the error</p>\n<pre><code>./binary -i abc -o xyz\nError: Could not find or load main class Main\n</code></pre>\n<p>The jar is still working though i.e.</p>\n<pre><code>java -jar binary.jar -i abc -o xyz\n</code></pre>\n<p>If I create a simple hello world program and create a binary then it works fine even if I move it to another folder so it seems to be a library issue or project structure.</p>\n<p>Please let me know if some special step is required in the case of libraries.</p>\n"},{"tags":["java","jar","launch"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1683622566,"post_id":76205893,"comment_id":134390971,"body_markdown":"This link should also be helpful https://stackoverflow.com/questions/22381202/error-a-jni-error-has-occurred-please-check-your-installation-and-try-again-in","body":"This link should also be helpful <a href=\"https://stackoverflow.com/questions/22381202/error-a-jni-error-has-occurred-please-check-your-installation-and-try-again-in\" title=\"error a jni error has occurred please check your installation and try again in\">stackoverflow.com/questions/22381202/&hellip;</a>"},{"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"score":0,"creation_date":1683652068,"post_id":76205893,"comment_id":134398302,"body_markdown":"This did not help","body":"This did not help"}],"owner":{"account_id":23361584,"reputation":23,"user_id":17433720,"display_name":"Bread Bouquet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683626025,"answer_count":0,"score":0,"last_activity_date":1683626041,"creation_date":1683607118,"question_id":76205893,"body_markdown":"so I&#39;ve just created a jar file for the first time. When I double click on it to run the program I get an error. &quot;JNI error has occurred please check your installation&quot;. My program is terminal based. How do I get my program to open the terminal when launched. Thanks!","title":"How to get my java program to launch from a jar file?","body":"<p>so I've just created a jar file for the first time. When I double click on it to run the program I get an error. &quot;JNI error has occurred please check your installation&quot;. My program is terminal based. How do I get my program to open the terminal when launched. Thanks!</p>\n"},{"tags":["java","spring-boot","spring-validator"],"comments":[{"owner":{"account_id":14500349,"reputation":118,"user_id":10473718,"display_name":"I_AM__PAUL"},"score":0,"creation_date":1685103373,"post_id":76203513,"comment_id":134618399,"body_markdown":"Did you find a solution for this? I have same issue and cant find solution for that","body":"Did you find a solution for this? I have same issue and cant find solution for that"},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1685104877,"post_id":76203513,"comment_id":134618740,"body_markdown":"@I_AM__PAUL not yet :(","body":"@I_AM__PAUL not yet :("}],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683625979,"creation_date":1683571764,"question_id":76203513,"body_markdown":"I want to validate the JSON content of a POST request in my controller.\r\nI use @NullValue annotations and a custom Validator for a conditional validation. The input is invalid if the attribute `type` is `A` and the attribute `name` is empty.\r\nBut I can&#39;t get the validator to work.\r\n\r\nI have this controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\n@Validated\r\npublic class OrderController {\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void createOrder(@Valid @RequestBody Order order) {\r\n      // do something\r\n    }\r\n}\r\n```\r\n\r\nand this `Validator` for the `Order` class:\r\n\r\n```\r\n@Component\r\npublic class OrderValidator implements Validator {\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; clazz) {\r\n        return Order.class.isAssignableFrom(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        final var order = (Order) target;\r\n\r\n        if (order.getType() == Type.A &amp;&amp; Strings.isEmpty(order.getName())) {\r\n            errors.rejectValue(&quot;name&quot;, &quot;name.required&quot;, &quot;Name required for type A&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand `Order` class\r\n```\r\n@Getter\r\n@Setter\r\npublic class OrderDto {\r\n    private String name;\r\n    @NotNull\r\n    private Type type;\r\n}\r\n```\r\n\r\nIf I send a POST request where `type` is null, I get HTTP status 400 (Bad request) as expected.\r\n\r\n**But when I send a POST request with `type`=`A` and `name`=`null` the method returns HTTP 201 (Created). The `OrderValidator` is not executed.**\r\nBreakpoints prove, that the `supports` and `validate` methods are not called. But I can inject a `OrderValidator` bean, which means the component was found by Spring Boot.\r\n\r\n*The only work-around I found was to use this as controller, but this does not look feel right to me:*\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/orders&quot;)\r\n@Validated\r\npublic class OrderController {\r\n    @Autowired\r\n    private final OrderValidator orderValidator;\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.addValidators(orderValidator);\r\n    }\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public void createOrder(@Valid @RequestBody Order order, BindingResult result) {\r\n      // evaluate bindingResult manually\r\n      // do something\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhat am I doing wrong?","title":"How can I make a Spring Validator to be detected and used automatically?","body":"<p>I want to validate the JSON content of a POST request in my controller.\nI use @NullValue annotations and a custom Validator for a conditional validation. The input is invalid if the attribute <code>type</code> is <code>A</code> and the attribute <code>name</code> is empty.\nBut I can't get the validator to work.</p>\n<p>I have this controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\n@Validated\npublic class OrderController {\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createOrder(@Valid @RequestBody Order order) {\n      // do something\n    }\n}\n</code></pre>\n<p>and this <code>Validator</code> for the <code>Order</code> class:</p>\n<pre><code>@Component\npublic class OrderValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return Order.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        final var order = (Order) target;\n\n        if (order.getType() == Type.A &amp;&amp; Strings.isEmpty(order.getName())) {\n            errors.rejectValue(&quot;name&quot;, &quot;name.required&quot;, &quot;Name required for type A&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and <code>Order</code> class</p>\n<pre><code>@Getter\n@Setter\npublic class OrderDto {\n    private String name;\n    @NotNull\n    private Type type;\n}\n</code></pre>\n<p>If I send a POST request where <code>type</code> is null, I get HTTP status 400 (Bad request) as expected.</p>\n<p><strong>But when I send a POST request with <code>type</code>=<code>A</code> and <code>name</code>=<code>null</code> the method returns HTTP 201 (Created). The <code>OrderValidator</code> is not executed.</strong>\nBreakpoints prove, that the <code>supports</code> and <code>validate</code> methods are not called. But I can inject a <code>OrderValidator</code> bean, which means the component was found by Spring Boot.</p>\n<p><em>The only work-around I found was to use this as controller, but this does not look feel right to me:</em></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/orders&quot;)\n@Validated\npublic class OrderController {\n    @Autowired\n    private final OrderValidator orderValidator;\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.addValidators(orderValidator);\n    }\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public void createOrder(@Valid @RequestBody Order order, BindingResult result) {\n      // evaluate bindingResult manually\n      // do something\n    }\n\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","windows","maven"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":4,"creation_date":1436174332,"post_id":11118237,"comment_id":50481708,"body_markdown":"Just downloaded **binary** `zip` and it was broken. Replaced with `.tar.gz` and it works. So when `M2_HOME` is set correctly really try to check that what you downloaded is correct.","body":"Just downloaded <b>binary</b> <code>zip</code> and it was broken. Replaced with <code>.tar.gz</code> and it works. So when <code>M2_HOME</code> is set correctly really try to check that what you downloaded is correct."},{"owner":{"account_id":7384842,"reputation":977,"user_id":5620182,"accept_rate":83,"display_name":"hoaphumanoid"},"score":0,"creation_date":1469442926,"post_id":11118237,"comment_id":64520857,"body_markdown":"@PavelHoral same happened to me","body":"@PavelHoral same happened to me"},{"owner":{"account_id":1314832,"reputation":1915,"user_id":1261959,"accept_rate":0,"display_name":"Nullpointer"},"score":0,"creation_date":1589886491,"post_id":11118237,"comment_id":109464595,"body_markdown":"I get this error on this jenkins only, via command like mvn compile working fine !","body":"I get this error on this jenkins only, via command like mvn compile working fine !"}],"answers":[{"comments":[{"owner":{"account_id":426618,"reputation":1583,"user_id":807916,"accept_rate":17,"display_name":"manofsins"},"score":0,"creation_date":1340256448,"post_id":11118287,"comment_id":14589566,"body_markdown":"Thanks but I am having both jdk and jre. You can see that I have given the JAVA_HOME as C:\\Program Files\\Java\\jdk1.7.0_04. And if I give the path for M2_HOME that you have told, the cmd will not even recognize the &#39;mvn&#39; command.","body":"Thanks but I am having both jdk and jre. You can see that I have given the JAVA_HOME as C:\\Program Files\\Java\\jdk1.7.0_04. And if I give the path for M2_HOME that you have told, the cmd will not even recognize the &#39;mvn&#39; command."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1340259683,"post_id":11118287,"comment_id":14590356,"body_markdown":"You change the M2_HOME as i described it will add the %M2_HOME%\\bin to your path which is needed to call the mvn command.","body":"You change the M2_HOME as i described it will add the %M2_HOME%\\bin to your path which is needed to call the mvn command."}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340190777,"creation_date":1340190777,"answer_id":11118287,"question_id":11118237,"body_markdown":"You should change the location of the M2_HOME into the following:\r\n\r\n    set M2_HOME=C:\\apache-maven-3.0.4\\apache-maven\r\n\r\nFurthermore the installation of the JDK looks more a JRE instead of JDK. For Maven you need JDK and NOT JRE.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>You should change the location of the M2_HOME into the following:</p>\n\n<pre><code>set M2_HOME=C:\\apache-maven-3.0.4\\apache-maven\n</code></pre>\n\n<p>Furthermore the installation of the JDK looks more a JRE instead of JDK. For Maven you need JDK and NOT JRE.</p>\n"},{"comments":[{"owner":{"account_id":426618,"reputation":1583,"user_id":807916,"accept_rate":17,"display_name":"manofsins"},"score":0,"creation_date":1340254779,"post_id":11119819,"comment_id":14589217,"body_markdown":"Thanks but Unfortunately I mistyped it here only and it was same as you have told, &#39;without a hyphen&#39;.","body":"Thanks but Unfortunately I mistyped it here only and it was same as you have told, &#39;without a hyphen&#39;."}],"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340196189,"creation_date":1340196189,"answer_id":11119819,"question_id":11118237,"body_markdown":"Besides what @khmarbaise has pointed out, I think you have mistyped your JAVA_HOME.  If you have installed in the default location, then there should be no &quot;-&quot; (hyphen) between jdk and 1.7.0_04.  So it would be\r\n\r\n    JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_04 ","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Besides what @khmarbaise has pointed out, I think you have mistyped your JAVA_HOME.  If you have installed in the default location, then there should be no \"-\" (hyphen) between jdk and 1.7.0_04.  So it would be</p>\n\n<pre><code>JAVA_HOME C:\\Program Files\\Java\\jdk1.7.0_04 \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1772982,"reputation":400,"user_id":1617395,"accept_rate":75,"display_name":"Joe Leo"},"score":0,"creation_date":1385412044,"post_id":13366230,"comment_id":30122605,"body_markdown":"M2_HOME is the first thing to check if you are upgrading. JAVA_HOME should remain unchanged.","body":"M2_HOME is the first thing to check if you are upgrading. JAVA_HOME should remain unchanged."},{"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"score":3,"creation_date":1397577649,"post_id":13366230,"comment_id":35289172,"body_markdown":"How is the `M2` environment variable used? I only have `JAVA_HOME` and `M2_HOME`.","body":"How is the <code>M2</code> environment variable used? I only have <code>JAVA_HOME</code> and <code>M2_HOME</code>."},{"owner":{"account_id":308224,"reputation":578,"user_id":619961,"display_name":"ikaerom"},"score":1,"creation_date":1428229386,"post_id":13366230,"comment_id":47077108,"body_markdown":"@KevinMeredith: The `M2` environment variable is sometimes used to indicate the `%M2_HOME\\bin%` path, which in turn is then added to the `%Path%` environment variable. This is needed when the Maven batch file `mvn.bat` cannot be found in the standard `%Path%` entries defined. A typical use case would be a non-standard installation directory for Maven.","body":"@KevinMeredith: The <code>M2</code> environment variable is sometimes used to indicate the <code>%M2_HOME\\bin%</code> path, which in turn is then added to the <code>%Path%</code> environment variable. This is needed when the Maven batch file <code>mvn.bat</code> cannot be found in the standard <code>%Path%</code> entries defined. A typical use case would be a non-standard installation directory for Maven."},{"owner":{"account_id":1314832,"reputation":1915,"user_id":1261959,"accept_rate":0,"display_name":"Nullpointer"},"score":0,"creation_date":1589886506,"post_id":13366230,"comment_id":109464603,"body_markdown":"@Alex I get this error on this jenkins only, via command like mvn compile working fine !","body":"@Alex I get this error on this jenkins only, via command like mvn compile working fine !"}],"tags":[],"owner":{"account_id":304241,"reputation":1035,"user_id":613635,"display_name":"Alex Fairchild"},"comment_count":4,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1440448182,"creation_date":1352830120,"answer_id":13366230,"question_id":11118237,"body_markdown":"I was having this same problem and was able to resolve it by carefully redoing the Environment Variables: \r\n\r\n - M2_HOME  \r\n - M2 \r\n - JAVA_HOME\r\n\r\n  \r\nAlso, I made them all **System** Variables, not User Variables like the Maven instructions say. When you \r\n\r\n    echo %Path%\r\n\r\nMake sure you can see the %M2% and %JAVA_HOME% variables completely expanded, i.e. :\r\n\r\n    C:\\Users\\afairchild&gt;echo %Path%\r\n    C:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.4\\bin;C:\\Program Files\\Java\\jdk1.7.0_09\\bin; [etc]","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I was having this same problem and was able to resolve it by carefully redoing the Environment Variables: </p>\n\n<ul>\n<li>M2_HOME  </li>\n<li>M2 </li>\n<li>JAVA_HOME</li>\n</ul>\n\n<p>Also, I made them all <strong>System</strong> Variables, not User Variables like the Maven instructions say. When you </p>\n\n<pre><code>echo %Path%\n</code></pre>\n\n<p>Make sure you can see the %M2% and %JAVA_HOME% variables completely expanded, i.e. :</p>\n\n<pre><code>C:\\Users\\afairchild&gt;echo %Path%\nC:\\Program Files\\Apache Software Foundation\\apache-maven-3.0.4\\bin;C:\\Program Files\\Java\\jdk1.7.0_09\\bin; [etc]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":123644,"reputation":913,"user_id":318221,"display_name":"jimkont"},"score":2,"creation_date":1376579950,"post_id":15236910,"comment_id":26771551,"body_markdown":"It worked for me but with M2_HOME=/usr/share/maven2 (in case anyone else tries it). Thanks!","body":"It worked for me but with M2_HOME=/usr/share/maven2 (in case anyone else tries it). Thanks!"},{"owner":{"account_id":1756361,"reputation":3345,"user_id":1604312,"display_name":"Rael Gugelmin Cunha"},"score":1,"creation_date":1385133170,"post_id":15236910,"comment_id":30029722,"body_markdown":"On Ubuntu, better create /etc/profile.d/maven.sh with the command you pointed: `export M2_HOME=/usr/share/maven`. As @jimkont pointed, sometimes is maven2, or maven3 (if you installed maven3, of course).","body":"On Ubuntu, better create /etc/profile.d/maven.sh with the command you pointed: <code>export M2_HOME=&#47;usr&#47;share&#47;maven</code>. As @jimkont pointed, sometimes is maven2, or maven3 (if you installed maven3, of course)."},{"owner":{"account_id":4041030,"reputation":7079,"user_id":3323883,"display_name":"karthik"},"score":0,"creation_date":1474523338,"post_id":15236910,"comment_id":66567102,"body_markdown":"It works. Thanks. But can we just add it to the /etc/environtment file?","body":"It works. Thanks. But can we just add it to the /etc/environtment file?"}],"tags":[],"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"comment_count":3,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1362530415,"creation_date":1362530415,"answer_id":15236910,"question_id":11118237,"body_markdown":"Had this issue on two different Ubuntu 12.04 installs, despite the installs being done by apt-get. Issue was M2_HOME.\r\n\r\nFixed with:\r\n\r\n    export M2_HOME=/usr/share/maven","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Had this issue on two different Ubuntu 12.04 installs, despite the installs being done by apt-get. Issue was M2_HOME.</p>\n\n<p>Fixed with:</p>\n\n<pre><code>export M2_HOME=/usr/share/maven\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2458354,"reputation":21,"user_id":2142986,"display_name":"Lou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362638641,"creation_date":1362637241,"answer_id":15264467,"question_id":11118237,"body_markdown":"I had the same issue. I have Windows xp box and when I would type `mvn -version` at the command line prompt I got the dreaded error message \r\n\r\n    &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/codehaus/plexus/classworlds/launcher/Launcher&quot;\r\n\r\nI confirmed that my `M2_HOME` variable was set to the path where Maven was installed on pc and that the `echo %path%` confirmed that Maven was in my path. \r\n\r\nI have been searching for a solution for hours when I stumbled on to my solution (I say my solution because I know this probably won&#39;t be the solution for everyone that is getting the same error). \r\n\r\nI copied the path that was assigned to my `M2_HOME` variable. I opened a cmd window and typed cd and pasted the path I got from my `M2_HOME` variable. At that point I knew that the path was correct because the path was displayed in the window. At this point I entered the dir command and to my surprise, I got the error File Not Found. \r\n\r\nI went to that path via Explorer and sure enough there were files present. I noticed that the folders were faded out, but I could access them and see the files within each folder (I have admin rights on my pc). I looked at the properties of the parent folder for Maven and saw that the Hidden box was checked. I removed the check and applied and tried my dir command again with success.\r\n\r\nNext I tried the `mvn –version` command again, but this time I got back the expected results.\r\n\r\n    C:\\&gt;mvn -version\r\n    Apache Maven 3.0.3 (r1075438; 2011-02-28 11:31:09-0600)\r\n    Maven home: C:\\Program Files\\apache-maven-3.0.3\r\n    Java version: 1.5.0_16, vendor: Sun Microsystems Inc.\r\n    Java home: C:\\Java\\jdk1.5.0_16\\jre\r\n    Default locale: en_US, platform encoding: Cp1252\r\n    OS name: &quot;windows xp&quot;, version: &quot;5.1&quot;, arch: &quot;x86&quot;, family: &quot;windows&quot;\r\n\r\nFinally I created a jar and war file and my web app ran successfully on my local Tomcat.\r\n\r\nI hope this helps some of you out there.\r\n\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I had the same issue. I have Windows xp box and when I would type <code>mvn -version</code> at the command line prompt I got the dreaded error message </p>\n\n<pre><code>\"Exception in thread \"main\" java.lang.NoClassDefFoundError: org/codehaus/plexus/classworlds/launcher/Launcher\"\n</code></pre>\n\n<p>I confirmed that my <code>M2_HOME</code> variable was set to the path where Maven was installed on pc and that the <code>echo %path%</code> confirmed that Maven was in my path. </p>\n\n<p>I have been searching for a solution for hours when I stumbled on to my solution (I say my solution because I know this probably won't be the solution for everyone that is getting the same error). </p>\n\n<p>I copied the path that was assigned to my <code>M2_HOME</code> variable. I opened a cmd window and typed cd and pasted the path I got from my <code>M2_HOME</code> variable. At that point I knew that the path was correct because the path was displayed in the window. At this point I entered the dir command and to my surprise, I got the error File Not Found. </p>\n\n<p>I went to that path via Explorer and sure enough there were files present. I noticed that the folders were faded out, but I could access them and see the files within each folder (I have admin rights on my pc). I looked at the properties of the parent folder for Maven and saw that the Hidden box was checked. I removed the check and applied and tried my dir command again with success.</p>\n\n<p>Next I tried the <code>mvn –version</code> command again, but this time I got back the expected results.</p>\n\n<pre><code>C:\\&gt;mvn -version\nApache Maven 3.0.3 (r1075438; 2011-02-28 11:31:09-0600)\nMaven home: C:\\Program Files\\apache-maven-3.0.3\nJava version: 1.5.0_16, vendor: Sun Microsystems Inc.\nJava home: C:\\Java\\jdk1.5.0_16\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows xp\", version: \"5.1\", arch: \"x86\", family: \"windows\"\n</code></pre>\n\n<p>Finally I created a jar and war file and my web app ran successfully on my local Tomcat.</p>\n\n<p>I hope this helps some of you out there.</p>\n"},{"comments":[{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1452863005,"post_id":15663889,"comment_id":57365214,"body_markdown":"Thanks fixed mine also. However, why can you not use the src download also, as long as it contains the correct execuatable in the bin dir?","body":"Thanks fixed mine also. However, why can you not use the src download also, as long as it contains the correct execuatable in the bin dir?"}],"tags":[],"owner":{"account_id":2554102,"reputation":219,"user_id":2216499,"display_name":"jdmidtun"},"comment_count":1,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1364401152,"creation_date":1364401152,"answer_id":15663889,"question_id":11118237,"body_markdown":"It sounds like you installed (extracted) the source files instead of the binaries based on your path information.  Try installing the binaries instead and following the other posters answer.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>It sounds like you installed (extracted) the source files instead of the binaries based on your path information.  Try installing the binaries instead and following the other posters answer.</p>\n"},{"comments":[{"owner":{"account_id":1314832,"reputation":1915,"user_id":1261959,"accept_rate":0,"display_name":"Nullpointer"},"score":0,"creation_date":1589886526,"post_id":18155226,"comment_id":109464619,"body_markdown":"I get this error on this jenkins only, via command like mvn compile working fine !","body":"I get this error on this jenkins only, via command like mvn compile working fine !"}],"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1376080594,"creation_date":1376080594,"answer_id":18155226,"question_id":11118237,"body_markdown":"Well, I had this problem and after seeing this post and particularly khmarbaise answer I noticed that `M2_HOME` was \r\n\r\n    D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\\bin\r\n\r\nand then I chaged it to \r\n\r\n    D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\r\n\r\n\r\nI would like to mention that I use windows 7 (x64)    ","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Well, I had this problem and after seeing this post and particularly khmarbaise answer I noticed that <code>M2_HOME</code> was </p>\n\n<pre><code>D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\\bin\n</code></pre>\n\n<p>and then I chaged it to </p>\n\n<pre><code>D:\\workspace\\apache-maven-3.1.0-bin\\apache-maven-3.1.0\n</code></pre>\n\n<p>I would like to mention that I use windows 7 (x64)    </p>\n"},{"tags":[],"owner":{"account_id":3306933,"reputation":41,"user_id":2781456,"accept_rate":25,"display_name":"HMB"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1379847038,"creation_date":1379846602,"answer_id":18942952,"question_id":11118237,"body_markdown":"This is a common issue while setting up Maven.\r\nAll you need to do is the below :-\r\n\r\n1. M2_HOME :- D:\\apache-maven-2.0.11      \r\n2. M2      :- D:\\apache-maven-2.0.11\\bin\r\n3. Path    :- Append it with ;%M2%\r\n\r\n\r\nM2_HOME &amp; M2 :- need to be declared as System variables and not as USER / ADMIN Variables.\r\n\r\nPath :- This can be the System Variable OR the USER / ADMIN variable [PATH]. Preferably System Variable.\r\n\r\nOnce you carefully do the setting of these 3 variable, you can verify Maven&#39;s installation as below.\r\n\r\n\r\nOn CMD Prompt :-\r\n************************\r\n\r\nC:\\Documents and Settings\\ADMIN&gt;mvn --version\r\n\r\n************************\r\nOutput :-\r\n************************\r\nApache Maven 2.0.11 (r909250; 2010-02-12 11:25:50+0530)\r\nJava version: 1.6.0_22\r\nJava home: C:\\Program Files\\Java\\jdk1.6.0_22\\jre\r\nDefault locale: en_US, platform encoding: Cp1252\r\nOS name: &quot;windows xp&quot; version: &quot;5.1&quot; arch: &quot;x86&quot; Family: &quot;windows&quot;\r\n\r\n\r\nThanks.\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>This is a common issue while setting up Maven.\nAll you need to do is the below :-</p>\n\n<ol>\n<li>M2_HOME :- D:\\apache-maven-2.0.11      </li>\n<li>M2      :- D:\\apache-maven-2.0.11\\bin</li>\n<li>Path    :- Append it with ;%M2%</li>\n</ol>\n\n<p>M2_HOME &amp; M2 :- need to be declared as System variables and not as USER / ADMIN Variables.</p>\n\n<p>Path :- This can be the System Variable OR the USER / ADMIN variable [PATH]. Preferably System Variable.</p>\n\n<p>Once you carefully do the setting of these 3 variable, you can verify Maven's installation as below.</p>\n\n<p>On CMD Prompt :-</p>\n\n<hr>\n\n<p>C:\\Documents and Settings\\ADMIN>mvn --version</p>\n\n<hr>\n\n<p>Output :-</p>\n\n<hr>\n\n<p>Apache Maven 2.0.11 (r909250; 2010-02-12 11:25:50+0530)\nJava version: 1.6.0_22\nJava home: C:\\Program Files\\Java\\jdk1.6.0_22\\jre\nDefault locale: en_US, platform encoding: Cp1252\nOS name: \"windows xp\" version: \"5.1\" arch: \"x86\" Family: \"windows\"</p>\n\n<p>Thanks.</p>\n"},{"comments":[{"owner":{"account_id":496266,"reputation":3243,"user_id":1298503,"accept_rate":80,"display_name":"MDMoore313"},"score":1,"creation_date":1390777230,"post_id":19024073,"comment_id":32226379,"body_markdown":"I actually downloaded the source **on purpose**, as that&#39;s the traditional way to do things, but I accidentally followed instructions for the binary installation. Just copying down the binary tar was actually easier in the long run.","body":"I actually downloaded the source <b>on purpose</b>, as that&#39;s the traditional way to do things, but I accidentally followed instructions for the binary installation. Just copying down the binary tar was actually easier in the long run."},{"owner":{"account_id":2404766,"reputation":711,"user_id":2101559,"accept_rate":75,"display_name":"Laura Ritchey"},"score":0,"creation_date":1395941062,"post_id":19024073,"comment_id":34577978,"body_markdown":"+1: Same thing happened here - accidentally clicked on the wrong download link.  Works not that I got the right zip file!","body":"+1: Same thing happened here - accidentally clicked on the wrong download link.  Works not that I got the right zip file!"},{"owner":{"account_id":3442754,"reputation":9473,"user_id":2884291,"accept_rate":89,"display_name":"Liran H"},"score":0,"creation_date":1456089380,"post_id":19024073,"comment_id":58772906,"body_markdown":"This single-handedly fixed the issue for me - thank you!","body":"This single-handedly fixed the issue for me - thank you!"},{"owner":{"account_id":143397,"reputation":6425,"user_id":351708,"accept_rate":75,"display_name":"Rohit"},"score":0,"creation_date":1457040927,"post_id":19024073,"comment_id":59238396,"body_markdown":"True. Downloaded source files and tried updating M3_HOME but didn&#39;t work. Binaries work good.","body":"True. Downloaded source files and tried updating M3_HOME but didn&#39;t work. Binaries work good."},{"owner":{"account_id":2397410,"reputation":10658,"user_id":2095953,"accept_rate":56,"display_name":"frodo2975"},"score":1,"creation_date":1467992204,"post_id":19024073,"comment_id":63960463,"body_markdown":"Just had this happen to me. The website is unclear on which to use.","body":"Just had this happen to me. The website is unclear on which to use."},{"owner":{"account_id":21325,"reputation":6415,"user_id":51734,"accept_rate":71,"display_name":"Barbaros Alp"},"score":0,"creation_date":1510147231,"post_id":19024073,"comment_id":81310394,"body_markdown":"Worked for me! http://ftp.itu.edu.tr/Mirror/Apache/maven/maven-3/3.5.2/binaries/apache-maven-3.5.2-bin.zip","body":"Worked for me! <a href=\"http://ftp.itu.edu.tr/Mirror/Apache/maven/maven-3/3.5.2/binaries/apache-maven-3.5.2-bin.zip\" rel=\"nofollow noreferrer\">ftp.itu.edu.tr/Mirror/Apache/maven/maven-3/3.5.2/binaries/&hellip;</a>"}],"tags":[],"owner":{"account_id":193421,"reputation":2941,"user_id":435140,"accept_rate":100,"display_name":"dirbacke"},"comment_count":6,"down_vote_count":1,"up_vote_count":83,"is_accepted":false,"score":82,"last_activity_date":1381435476,"creation_date":1380186956,"answer_id":19024073,"question_id":11118237,"body_markdown":"Even though the question is answered I would like to add that, if you are getting the above mentioned error, be sure that you have downloaded the **Binary file**. \r\n\r\nThe source file should only be downloaded if you are an advanced user and that you know how to deal with it. \r\n\r\nI have had quite a share of people downloading the wrong file, seniors and juniors","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Even though the question is answered I would like to add that, if you are getting the above mentioned error, be sure that you have downloaded the <strong>Binary file</strong>. </p>\n\n<p>The source file should only be downloaded if you are an advanced user and that you know how to deal with it. </p>\n\n<p>I have had quite a share of people downloading the wrong file, seniors and juniors</p>\n"},{"tags":[],"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387307887,"creation_date":1387307887,"answer_id":20642762,"question_id":11118237,"body_markdown":"For other people who might run into this, don&#39;t forget to check ~/.mavenrc for M2_HOME or JAVA_HOME settings.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For other people who might run into this, don't forget to check ~/.mavenrc for M2_HOME or JAVA_HOME settings.</p>\n"},{"comments":[{"owner":{"account_id":355584,"reputation":167,"user_id":694609,"display_name":"Luke"},"score":26,"creation_date":1428928302,"post_id":22310438,"comment_id":47356294,"body_markdown":"Same for me on a mac. **Make sure you delete M2_HOME**","body":"Same for me on a mac. <b>Make sure you delete M2_HOME</b>"},{"owner":{"account_id":2855051,"reputation":1371,"user_id":2451480,"accept_rate":90,"display_name":"TFuto"},"score":0,"creation_date":1433254061,"post_id":22310438,"comment_id":49265337,"body_markdown":"Worked with Maven 3.3.3 binary, on Ubuntu. JAVA_HOME is not set.","body":"Worked with Maven 3.3.3 binary, on Ubuntu. JAVA_HOME is not set."},{"owner":{"account_id":1865631,"reputation":813,"user_id":1689286,"accept_rate":50,"display_name":"Jeremiah"},"score":2,"creation_date":1444339289,"post_id":22310438,"comment_id":53874627,"body_markdown":"This works as of Mac OS 10.10.5 with brew installed maven (3.3.3).","body":"This works as of Mac OS 10.10.5 with brew installed maven (3.3.3)."},{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1444497160,"post_id":22310438,"comment_id":53933382,"body_markdown":"@Luke Thank you! `unset M2_HOME`.","body":"@Luke Thank you! <code>unset M2_HOME</code>."},{"owner":{"account_id":396011,"reputation":706,"user_id":759300,"accept_rate":100,"display_name":"j2gl"},"score":0,"creation_date":1468948491,"post_id":22310438,"comment_id":64333278,"body_markdown":"Also working for me on Ubuntu 14.04, openJdk1.7 and Maven 3.3.9","body":"Also working for me on Ubuntu 14.04, openJdk1.7 and Maven 3.3.9"},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1469495828,"post_id":22310438,"comment_id":64548412,"body_markdown":"You may find M2_HOME is being set in ~/.mavenrc","body":"You may find M2_HOME is being set in ~/.mavenrc"},{"owner":{"account_id":1550537,"reputation":1008,"user_id":1443040,"display_name":"Matt"},"score":6,"creation_date":1484146275,"post_id":22310438,"comment_id":70390798,"body_markdown":"This solution works, but not for the reasons you might think. The problem, as indicated in [some](http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main#comment-1845046165) of the [comments](http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main#comment-1239195761) of the referenced article, is not that M3_HOME is needed instead, but rather that M2_HOME is incorrectly defined. It seems that M3_HOME isn&#39;t used at all, so basically what&#39;s happening is the default is used when you delete M2_HOME.","body":"This solution works, but not for the reasons you might think. The problem, as indicated in <a href=\"http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main#comment-1845046165\" rel=\"nofollow noreferrer\">some</a> of the <a href=\"http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main#comment-1239195761\" rel=\"nofollow noreferrer\">comments</a> of the referenced article, is not that M3_HOME is needed instead, but rather that M2_HOME is incorrectly defined. It seems that M3_HOME isn&#39;t used at all, so basically what&#39;s happening is the default is used when you delete M2_HOME."},{"owner":{"account_id":231391,"reputation":6221,"user_id":495598,"display_name":"Manu Manjunath"},"score":0,"creation_date":1501832322,"post_id":22310438,"comment_id":77962508,"body_markdown":"I&#39;m on Mac El Capitan. I have installed mvn (3.3.9) through HomeBrew. I `unset M2_HOME`. I did *not* set `M3_HOME`. It&#39;s still working.","body":"I&#39;m on Mac El Capitan. I have installed mvn (3.3.9) through HomeBrew. I <code>unset M2_HOME</code>. I did <i>not</i> set <code>M3_HOME</code>. It&#39;s still working."},{"owner":{"account_id":2918600,"reputation":227,"user_id":2501323,"display_name":"user2501323"},"score":0,"creation_date":1531993220,"post_id":22310438,"comment_id":89809380,"body_markdown":"Don&#39;t forget to restart your console if on Windows - for environment variable change to get in.","body":"Don&#39;t forget to restart your console if on Windows - for environment variable change to get in."}],"tags":[],"owner":{"account_id":408096,"reputation":3816,"user_id":778554,"accept_rate":67,"display_name":"Ian"},"comment_count":9,"down_vote_count":2,"up_vote_count":147,"is_accepted":false,"score":145,"last_activity_date":1671841004,"creation_date":1394482766,"answer_id":22310438,"question_id":11118237,"body_markdown":"I hit this problem too, and found [**this**][1] article.  For Maven3, changing my environment variable name from M2_HOME to M3_HOME did the trick.  I am on a Mac running OSX 10.9 with JDK 1.7.\r\n\r\n\r\n  [1]: http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main-class\r\n\r\nNote: Please delete M2_HOME, if already set. Eg: `unset M2_HOME`.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I hit this problem too, and found <a href=\"http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main-class\" rel=\"nofollow noreferrer\"><strong>this</strong></a> article.  For Maven3, changing my environment variable name from M2_HOME to M3_HOME did the trick.  I am on a Mac running OSX 10.9 with JDK 1.7.</p>\n<p>Note: Please delete M2_HOME, if already set. Eg: <code>unset M2_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1400179787,"creation_date":1400179787,"answer_id":23686393,"question_id":11118237,"body_markdown":"I came across a similar problem on my mac OSX. After a series of trial and error attempts I finally resolved it.\r\n\r\nMy `~/.bash_profile` looked like this\r\n\r\n    export M2_HOME=/Users/xyz/maven-3.x/bin\r\n    export PATH=$PATH:$M2_HOME\r\n\r\nand when I tried to `echo M2_HOME` from the terminal, it showed me the correct path but when I tried to fire any maven command like `mvn clean` or `mvn install`, it always gave the same problem\r\n\r\n&gt;Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nI solved this issue by changing my `M2_HOME` to this\r\n\r\n\r\n    export M2_HOME=/Users/xyz/maven-3.x\r\n    export PATH=$PATH:$M2_HOME/bin\r\n\r\nAnd voila ! It started working ! Just by moving the position of `/bin` from M2_HOME to in front of the `PATH`\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I came across a similar problem on my mac OSX. After a series of trial and error attempts I finally resolved it.</p>\n\n<p>My <code>~/.bash_profile</code> looked like this</p>\n\n<pre><code>export M2_HOME=/Users/xyz/maven-3.x/bin\nexport PATH=$PATH:$M2_HOME\n</code></pre>\n\n<p>and when I tried to <code>echo M2_HOME</code> from the terminal, it showed me the correct path but when I tried to fire any maven command like <code>mvn clean</code> or <code>mvn install</code>, it always gave the same problem</p>\n\n<blockquote>\n  <p>Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</p>\n</blockquote>\n\n<p>I solved this issue by changing my <code>M2_HOME</code> to this</p>\n\n<pre><code>export M2_HOME=/Users/xyz/maven-3.x\nexport PATH=$PATH:$M2_HOME/bin\n</code></pre>\n\n<p>And voila ! It started working ! Just by moving the position of <code>/bin</code> from M2_HOME to in front of the <code>PATH</code></p>\n"},{"tags":[],"owner":{"account_id":1799758,"reputation":487,"user_id":1638386,"accept_rate":86,"display_name":"dytori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404637108,"creation_date":1404637108,"answer_id":24594223,"question_id":11118237,"body_markdown":"Exactly the same error may appear even with correct environment variable settings, if you copy ONLY &lt;code&gt;bin&lt;/code&gt; directory to the installation directory.\r\nIt make &lt;code&gt;which&lt;/code&gt; work finely, and novices get stuck.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Exactly the same error may appear even with correct environment variable settings, if you copy ONLY <code>bin</code> directory to the installation directory.\nIt make <code>which</code> work finely, and novices get stuck.</p>\n"},{"tags":[],"owner":{"account_id":466656,"reputation":769,"user_id":871542,"accept_rate":46,"display_name":"Shendor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417523262,"creation_date":1417523262,"answer_id":27249503,"question_id":11118237,"body_markdown":"Try to download binary zip (for ex. Maven 3.0.5 (Binary zip)) instead of complete source in official maven site.\r\nAlso make sure that command line recognizes java and javac commands.\r\nI noticed that Maven Source zip didn&#39;t include any libraries at lib folder however Binary zip had them + in boot folder it had plexus-classworlds-2.4.jar. Perhaps the problem was with the absence of these libraries. Anyway it helped me so my M2_HOME is: C:\\Program Files\\Java\\apache-maven-3.0.5 and at PATH I put: C:\\Program Files\\Java\\apache-maven-3.0.5\\bin.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Try to download binary zip (for ex. Maven 3.0.5 (Binary zip)) instead of complete source in official maven site.\nAlso make sure that command line recognizes java and javac commands.\nI noticed that Maven Source zip didn't include any libraries at lib folder however Binary zip had them + in boot folder it had plexus-classworlds-2.4.jar. Perhaps the problem was with the absence of these libraries. Anyway it helped me so my M2_HOME is: C:\\Program Files\\Java\\apache-maven-3.0.5 and at PATH I put: C:\\Program Files\\Java\\apache-maven-3.0.5\\bin.</p>\n"},{"tags":[],"owner":{"account_id":484929,"reputation":1993,"user_id":900924,"display_name":"wu liang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425373663,"creation_date":1425373663,"answer_id":28827809,"question_id":11118237,"body_markdown":"I find this issue in my centOS is caused by &quot;Oracle Java is replace by gcj&quot;, after change default java to &quot;Oracle Java&quot;, the issue is resolved.\r\n\r\n\r\n    alternatives --config java\r\n    \r\n    There are 2 programs which provide &#39;java&#39;.\r\n    \r\n      Selection    Command\r\n    -----------------------------------------------\r\n    *  1           /usr/lib/jvm/jre-1.5.0-gcj/bin/java\r\n     + 2           /usr/java/jdk1.7.0_67/bin/java","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I find this issue in my centOS is caused by \"Oracle Java is replace by gcj\", after change default java to \"Oracle Java\", the issue is resolved.</p>\n\n<pre><code>alternatives --config java\n\nThere are 2 programs which provide 'java'.\n\n  Selection    Command\n-----------------------------------------------\n*  1           /usr/lib/jvm/jre-1.5.0-gcj/bin/java\n + 2           /usr/java/jdk1.7.0_67/bin/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3805046,"reputation":1192,"user_id":3157709,"accept_rate":28,"display_name":"Hammad Hassan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440052443,"creation_date":1440052443,"answer_id":32111076,"question_id":11118237,"body_markdown":"It look like that you have installed Source files(Because `src` only comes in Source Files and we don&#39;t need it). Try to install **Binary Files** from\r\n[there](https://maven.apache.org/download.cgi).\r\nAnd then set environment variables as described\r\n[there](http://www.mkyong.com/maven/how-to-install-maven-in-windows/).\r\nThis worked for me. And I am sure it will also work for you.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>It look like that you have installed Source files(Because <code>src</code> only comes in Source Files and we don't need it). Try to install <strong>Binary Files</strong> from\n<a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow\">there</a>.\nAnd then set environment variables as described\n<a href=\"http://www.mkyong.com/maven/how-to-install-maven-in-windows/\" rel=\"nofollow\">there</a>.\nThis worked for me. And I am sure it will also work for you.</p>\n"},{"comments":[{"owner":{"account_id":1832410,"reputation":2433,"user_id":1663522,"display_name":"Bartho Bernsmann"},"score":0,"creation_date":1491589981,"post_id":33559093,"comment_id":73637996,"body_markdown":"I was just about to post this. This is exactly the problem I faced. If only I had read your answer before it would have saved me 30 minutes.","body":"I was just about to post this. This is exactly the problem I faced. If only I had read your answer before it would have saved me 30 minutes."}],"tags":[],"owner":{"account_id":1798893,"reputation":13116,"user_id":1637673,"accept_rate":63,"display_name":"Mithril"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446781321,"creation_date":1446781321,"answer_id":33559093,"question_id":11118237,"body_markdown":"I think you download the wrong version.\r\nI meet this problem just now, no method work after searching and searching.\r\nFinally, I found that maven I downloaded is [Source zip archive][2].\r\nAfter I change to [Binary zip archive][1], everything go to be fine.\r\n\r\n\r\n  [1]: http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/binaries/apache-maven-3.3.3-bin.zip\r\n  [2]: http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/source/apache-maven-3.3.3-src.zip","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I think you download the wrong version.\nI meet this problem just now, no method work after searching and searching.\nFinally, I found that maven I downloaded is <a href=\"http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/source/apache-maven-3.3.3-src.zip\" rel=\"nofollow\">Source zip archive</a>.\nAfter I change to <a href=\"http://mirrors.cnnic.cn/apache/maven/maven-3/3.3.3/binaries/apache-maven-3.3.3-bin.zip\" rel=\"nofollow\">Binary zip archive</a>, everything go to be fine.</p>\n"},{"comments":[{"owner":{"account_id":1623729,"reputation":5200,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":0,"creation_date":1615498588,"post_id":34906223,"comment_id":117717001,"body_markdown":"I appreciate this answer..  For me it was reusing some &quot;dot files&quot; across systems without customizing, which was messing up the &quot;CLASSWORLDS_JAR=`build-classpath plexus-classworlds`&quot;  call.   The point is there&#39;s any number of things you mess up and yeah, you just have to bite the bullet and run `set -x` and debug.","body":"I appreciate this answer..  For me it was reusing some &quot;dot files&quot; across systems without customizing, which was messing up the &quot;CLASSWORLDS_JAR=<code>build-classpath plexus-classworlds</code>&quot;  call.   The point is there&#39;s any number of things you mess up and yeah, you just have to bite the bullet and run <code>set -x</code> and debug."}],"tags":[],"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1453309739,"creation_date":1453309739,"answer_id":34906223,"question_id":11118237,"body_markdown":"Next to the maybe useful, but maybe too symptomatic answers, here is one which tries to help to find the cause of the problem.\r\n\r\nMaven is a command-line java tool. That means, it is not a standalone binary, it is a collection of java `.jar`s, interpreted by a jvm (`java.exe` on windows, `java` on linux).\r\n\r\nThe `mvn` command, is a script. On windows, it is a script called `mvn.cmd` and on linux, it is a shell script. Thus, if you write: `mvn install`, what will happen:\r\n\r\n1. a command interpreter (`/bin/sh` or `cmd.exe`) is called for the actual invoking script\r\n2. this script sets the needed environment variables\r\n3. and finally, it calls a java interpreter with the the required classpath which contain the maven functionality.\r\n\r\nThe problem is with (2). Fortunately, this script is simply, very simple. For a java programmer it shouldn&#39;t be a big trouble to debug a script around 20 lines, even if it is a little bit alien language.\r\n\r\nOn linux, you can debug shellscripts giving the `-x` flag to your shell interpreter (which is most probably `bash`). On windows, you have to find some other way to debug a `cmd.exe` script. So, instead of `mvn install`, give the command `bash -x mvn install`.\r\n\r\nThe result be like:\r\n\r\n    + &#39;[&#39; -z &#39;&#39; &#39;]&#39;\r\n    + &#39;[&#39; -f /etc/mavenrc &#39;]&#39;\r\n    + &#39;[&#39; -f /home/picsa/.mavenrc &#39;]&#39;\r\n    + cygwin=true\r\n    + darwin=false\r\n\r\n...not so many things...\r\n\r\n    + MAVEN_PROJECTBASEDIR=&#39;C:\\peter\\bin&#39;\r\n    + export MAVEN_PROJECTBASEDIR\r\n    + MAVEN_CMD_LINE_ARGS=&#39; &#39;\r\n    + export MAVEN_CMD_LINE_ARGS\r\n    + exec &#39;/cygdrive/c/Program Files/Java/jdk1.8.0_66/bin/java&#39; -classpath &#39;C:\\peter/boot/plexus-classworlds-*.jar&#39; &#39;-Dclassworlds.conf=C:\\peter/bin/m2.conf&#39; &#39;-Dmaven.home=C:\\peter&#39; &#39;-Dmaven.multiModuleProjectDirectory=C:\\peter\\bin&#39; org.codehaus.plexus.classworlds.launcher.Launcher\r\n    Fehler: Hauptklasse org.codehaus.plexus.classworlds.launcher.Launcher konnte nicht gefunden oder geladen werden\r\n\r\nAt the end, you can easily test, which environment variable gone bad, and you can very easily fix your script (or set it what is needed).","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Next to the maybe useful, but maybe too symptomatic answers, here is one which tries to help to find the cause of the problem.</p>\n\n<p>Maven is a command-line java tool. That means, it is not a standalone binary, it is a collection of java <code>.jar</code>s, interpreted by a jvm (<code>java.exe</code> on windows, <code>java</code> on linux).</p>\n\n<p>The <code>mvn</code> command, is a script. On windows, it is a script called <code>mvn.cmd</code> and on linux, it is a shell script. Thus, if you write: <code>mvn install</code>, what will happen:</p>\n\n<ol>\n<li>a command interpreter (<code>/bin/sh</code> or <code>cmd.exe</code>) is called for the actual invoking script</li>\n<li>this script sets the needed environment variables</li>\n<li>and finally, it calls a java interpreter with the the required classpath which contain the maven functionality.</li>\n</ol>\n\n<p>The problem is with (2). Fortunately, this script is simply, very simple. For a java programmer it shouldn't be a big trouble to debug a script around 20 lines, even if it is a little bit alien language.</p>\n\n<p>On linux, you can debug shellscripts giving the <code>-x</code> flag to your shell interpreter (which is most probably <code>bash</code>). On windows, you have to find some other way to debug a <code>cmd.exe</code> script. So, instead of <code>mvn install</code>, give the command <code>bash -x mvn install</code>.</p>\n\n<p>The result be like:</p>\n\n<pre><code>+ '[' -z '' ']'\n+ '[' -f /etc/mavenrc ']'\n+ '[' -f /home/picsa/.mavenrc ']'\n+ cygwin=true\n+ darwin=false\n</code></pre>\n\n<p>...not so many things...</p>\n\n<pre><code>+ MAVEN_PROJECTBASEDIR='C:\\peter\\bin'\n+ export MAVEN_PROJECTBASEDIR\n+ MAVEN_CMD_LINE_ARGS=' '\n+ export MAVEN_CMD_LINE_ARGS\n+ exec '/cygdrive/c/Program Files/Java/jdk1.8.0_66/bin/java' -classpath 'C:\\peter/boot/plexus-classworlds-*.jar' '-Dclassworlds.conf=C:\\peter/bin/m2.conf' '-Dmaven.home=C:\\peter' '-Dmaven.multiModuleProjectDirectory=C:\\peter\\bin' org.codehaus.plexus.classworlds.launcher.Launcher\nFehler: Hauptklasse org.codehaus.plexus.classworlds.launcher.Launcher konnte nicht gefunden oder geladen werden\n</code></pre>\n\n<p>At the end, you can easily test, which environment variable gone bad, and you can very easily fix your script (or set it what is needed).</p>\n"},{"tags":[],"owner":{"account_id":9978701,"reputation":21,"user_id":7382339,"display_name":"vinoth kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484646258,"creation_date":1484646258,"answer_id":41693734,"question_id":11118237,"body_markdown":"Me too faced the similar issue. But in my case I used apache-maven-3.3.3-src folder in path variables. Later I corrected those with correct path of folder apache-maven-3.3.3-bin. This resolved the issue. Am not telling that is the same error reported here but this way also you can get this error and rectify it. That is what I am trying to say here.\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Me too faced the similar issue. But in my case I used apache-maven-3.3.3-src folder in path variables. Later I corrected those with correct path of folder apache-maven-3.3.3-bin. This resolved the issue. Am not telling that is the same error reported here but this way also you can get this error and rectify it. That is what I am trying to say here.</p>\n"},{"tags":[],"owner":{"account_id":200555,"reputation":4778,"user_id":446464,"accept_rate":77,"display_name":"JESii"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487218313,"creation_date":1487218313,"answer_id":42264796,"question_id":11118237,"body_markdown":"The solution for later versions of Maven is straight-forward. I am on OS X ElCap, 10.11.6 and upgraded to Maven 3.3.9. I had the same problem with error &quot;`Could not find ...org.codehaus.plexus...`&quot;. The link provided [here][1] offered the solution in a comment by McKamey - simply delete M2_HOME (`unset M2_HOME`). Once I tried that, it all worked as expected. \r\n\r\nThis can be confirmed by visiting the `Maven install page`: &quot;Add the bin directory of the created directory apache-maven-3.3.9 to the PATH environment variable&quot; -- no mention of M2_HOME or M3_HOME at all.\r\n\r\n\r\n  [1]: http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>The solution for later versions of Maven is straight-forward. I am on OS X ElCap, 10.11.6 and upgraded to Maven 3.3.9. I had the same problem with error \"<code>Could not find ...org.codehaus.plexus...</code>\". The link provided <a href=\"http://www.johnlabarge.com/post/33156663109/dreaded-maven-error-could-not-find-or-load-main\" rel=\"noreferrer\">here</a> offered the solution in a comment by McKamey - simply delete M2_HOME (<code>unset M2_HOME</code>). Once I tried that, it all worked as expected. </p>\n\n<p>This can be confirmed by visiting the <code>Maven install page</code>: \"Add the bin directory of the created directory apache-maven-3.3.9 to the PATH environment variable\" -- no mention of M2_HOME or M3_HOME at all.</p>\n"},{"tags":[],"owner":{"account_id":7781494,"reputation":537,"user_id":5887766,"display_name":"Shaini Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501752012,"creation_date":1501752012,"answer_id":45479974,"question_id":11118237,"body_markdown":"Just make sure you&#39;ve downloaded Binary zip archive(apache-maven-3.5.0-bin.zip) instead of Source zip archive. Then add the bin directory of the created directory apache-maven-3.5.0 to the PATH environment variable.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Just make sure you've downloaded Binary zip archive(apache-maven-3.5.0-bin.zip) instead of Source zip archive. Then add the bin directory of the created directory apache-maven-3.5.0 to the PATH environment variable.</p>\n"},{"comments":[{"owner":{"account_id":5056790,"reputation":406,"user_id":4059810,"display_name":"ChrisE"},"score":0,"creation_date":1593861881,"post_id":47969545,"comment_id":110928273,"body_markdown":"This worked for me. Follow the guide here: https://maven.apache.org/install.html and set your system PATH variable with C:\\apache-maven-3.6.3\\bin","body":"This worked for me. Follow the guide here: <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">maven.apache.org/install.html</a> and set your system PATH variable with C:\\apache-maven-3.6.3\\bin"},{"owner":{"account_id":6753581,"reputation":914,"user_id":5202845,"accept_rate":0,"display_name":"khodayar J"},"score":0,"creation_date":1648220230,"post_id":47969545,"comment_id":126576636,"body_markdown":"very good hint , since there is also a bin folder inside a nested apache-maven folder of the SRC zip files!","body":"very good hint , since there is also a bin folder inside a nested apache-maven folder of the SRC zip files!"}],"tags":[],"owner":{"account_id":4438311,"reputation":571,"user_id":3613535,"display_name":"saravp"},"comment_count":2,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1514212403,"creation_date":1514212403,"answer_id":47969545,"question_id":11118237,"body_markdown":"I believe this error caused because of downloading SRC instead of BINARY from Maven site. Please make sure to download Binary zip.\r\n\r\nBecause the below path, you will get only when you download SRC:\r\n\r\n&gt; M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AJaKj.jpg","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I believe this error caused because of downloading SRC instead of BINARY from Maven site. Please make sure to download Binary zip.</p>\n\n<p>Because the below path, you will get only when you download SRC:</p>\n\n<blockquote>\n  <p>M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/AJaKj.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AJaKj.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3392135,"reputation":101,"user_id":2846748,"display_name":"Sreekanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531765371,"creation_date":1531765371,"answer_id":51367951,"question_id":11118237,"body_markdown":"For most of the Maven setup issues something like &quot;Could not find or load main class...&quot;, start-with below steps to see if that fixes:\r\n\r\n - Make sure you unzipped the right archive (BINARY archive and not SOURCE archive)\r\n - Remove all user and system variables related to Maven (ex. M2_HOME,M2_OPTS etc.)\r\n - Make sure JAVA_HOME system variable is setup  (ex. &quot;C:\\Program Files\\Java\\jdk1.8.0_172&quot;)\r\n - Make sure java bin location is added in &quot;path&quot; system variable (ex. &quot;%JAVA_HOME%\\bin&quot;)\r\n - Make sure maven bin location is added in &quot;path&quot; system variable (ex. &quot;C:\\MyInstalls\\apache-maven-3.5.4\\bin&quot;)\r\n\r\nthen...\r\n\r\n - Verify java is setup (at commandprompt : java -version)\r\n - Verify maven is setup (at commandprompt : mvn --version)\r\n\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For most of the Maven setup issues something like \"Could not find or load main class...\", start-with below steps to see if that fixes:</p>\n\n<ul>\n<li>Make sure you unzipped the right archive (BINARY archive and not SOURCE archive)</li>\n<li>Remove all user and system variables related to Maven (ex. M2_HOME,M2_OPTS etc.)</li>\n<li>Make sure JAVA_HOME system variable is setup  (ex. \"C:\\Program Files\\Java\\jdk1.8.0_172\")</li>\n<li>Make sure java bin location is added in \"path\" system variable (ex. \"%JAVA_HOME%\\bin\")</li>\n<li>Make sure maven bin location is added in \"path\" system variable (ex. \"C:\\MyInstalls\\apache-maven-3.5.4\\bin\")</li>\n</ul>\n\n<p>then...</p>\n\n<ul>\n<li>Verify java is setup (at commandprompt : java -version)</li>\n<li>Verify maven is setup (at commandprompt : mvn --version)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542642920,"creation_date":1542642920,"answer_id":53378345,"question_id":11118237,"body_markdown":"I had this problem when I used Maven 3.5.4 on OpenJDK 11 on Ubuntu. The OpenJDK 11 on Ubuntu is actually still a JDK10:\r\n\r\n    $ ls -al /etc/alternatives/java\r\n    lrwxrwxrwx 1 root root 43 Aug 24 04:54 /etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n    $ java --version\r\n    openjdk 10.0.2 2018-07-17\r\n    OpenJDK Runtime Environment (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3)\r\n    OpenJDK 64-Bit Server VM (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3, mixed mode)\r\n\r\nI installed OpenJDK from Oracle into /opt/jdk-11.0.1 and run Maven like this:\r\n\r\n    JAVA_HOME=/opt/jdk-11.0.1 mvn\r\n\r\nIt now works like a charm.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I had this problem when I used Maven 3.5.4 on OpenJDK 11 on Ubuntu. The OpenJDK 11 on Ubuntu is actually still a JDK10:</p>\n\n<pre><code>$ ls -al /etc/alternatives/java\nlrwxrwxrwx 1 root root 43 Aug 24 04:54 /etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n$ java --version\nopenjdk 10.0.2 2018-07-17\nOpenJDK Runtime Environment (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3)\nOpenJDK 64-Bit Server VM (build 10.0.2+13-Ubuntu-1ubuntu0.18.04.3, mixed mode)\n</code></pre>\n\n<p>I installed OpenJDK from Oracle into /opt/jdk-11.0.1 and run Maven like this:</p>\n\n<pre><code>JAVA_HOME=/opt/jdk-11.0.1 mvn\n</code></pre>\n\n<p>It now works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":2328194,"reputation":53,"user_id":2042177,"display_name":"Coolius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543225329,"creation_date":1543225329,"answer_id":53478323,"question_id":11118237,"body_markdown":"I had a problem with surefire plugin itself. Going back to version 2.6 worked for me. Version 2.18/20/22.1 gave me the error.\r\nNow I tried version 3.0.0-M1 of surefire plugin and it works.\r\n\r\nSo something is wrong in surefire plgin between version 2.6 and 3.0.0. I assume there is something hardcoded as default which should not.","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I had a problem with surefire plugin itself. Going back to version 2.6 worked for me. Version 2.18/20/22.1 gave me the error.\nNow I tried version 3.0.0-M1 of surefire plugin and it works.</p>\n\n<p>So something is wrong in surefire plgin between version 2.6 and 3.0.0. I assume there is something hardcoded as default which should not.</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543865480,"creation_date":1543865480,"answer_id":53600612,"question_id":11118237,"body_markdown":"For me, funny as it sounds, it helped just restarting `eclipse`...","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For me, funny as it sounds, it helped just restarting <code>eclipse</code>...</p>\n"},{"tags":[],"owner":{"account_id":6850508,"reputation":26,"user_id":5267823,"display_name":"Aberaitius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552290474,"creation_date":1552290474,"answer_id":55097280,"question_id":11118237,"body_markdown":"This worked for me:\r\n\r\n 1. Remove all Mavin references in Environment Variables\r\n 2. Download the **Binary** from mavin\r\n 3. Unzip it to where you&#39;d like ex: C:\\apache-maven-3.6.0\r\n 4. Go to Environment variables and add to **System** variable path &quot;C:\\apache-maven-3.6.0\\bin&quot;\r\n 5. start command prompt as Administrator \r\n 6. check version with: mvn -v\r\n\r\nCMD Result:\r\n\r\nApache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T20:41:47+02:00)\r\nMaven home: C:\\apache-maven-3.6.0\\bin\\..\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>This worked for me:</p>\n\n<ol>\n<li>Remove all Mavin references in Environment Variables</li>\n<li>Download the <strong>Binary</strong> from mavin</li>\n<li>Unzip it to where you'd like ex: C:\\apache-maven-3.6.0</li>\n<li>Go to Environment variables and add to <strong>System</strong> variable path \"C:\\apache-maven-3.6.0\\bin\"</li>\n<li>start command prompt as Administrator </li>\n<li>check version with: mvn -v</li>\n</ol>\n\n<p>CMD Result:</p>\n\n<p>Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T20:41:47+02:00)\nMaven home: C:\\apache-maven-3.6.0\\bin..</p>\n"},{"tags":[],"owner":{"account_id":6374226,"reputation":351,"user_id":4945738,"display_name":"Bharath Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564656157,"creation_date":1564656157,"answer_id":57307223,"question_id":11118237,"body_markdown":"install binary version of maven fixes the issues\r\n\r\napache-maven-3.6.1-bin.zip\r\n","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>install binary version of maven fixes the issues</p>\n\n<p>apache-maven-3.6.1-bin.zip</p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565824355,"creation_date":1565824355,"answer_id":57503126,"question_id":11118237,"body_markdown":"Open a new terminal and do the followin\r\n\r\n    M2_HOME=/Users/macbook/apache-maven-3.6.1 //Set where maven is\r\n    M2=$M2_HOME/bin                          //Set home as bin\r\n    export PATH=$M2:$PATH                   //Place the new path\r\n\r\nThen type\r\n\r\n    mvn -version\r\n\r\nYou can set this in `./bash_profile` to do it automatically each time you run the terminal","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Open a new terminal and do the followin</p>\n\n<pre><code>M2_HOME=/Users/macbook/apache-maven-3.6.1 //Set where maven is\nM2=$M2_HOME/bin                          //Set home as bin\nexport PATH=$M2:$PATH                   //Place the new path\n</code></pre>\n\n<p>Then type</p>\n\n<pre><code>mvn -version\n</code></pre>\n\n<p>You can set this in <code>./bash_profile</code> to do it automatically each time you run the terminal</p>\n"},{"tags":[],"owner":{"account_id":7608155,"reputation":31,"user_id":5770075,"display_name":"Venkata Rajeev Mandava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585805985,"creation_date":1585805985,"answer_id":60984867,"question_id":11118237,"body_markdown":"I also faced the following Error in my system (Mac)\r\n\r\n**Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher**\r\n\r\nAfter doing some random browsing, I came across the link &quot;http://maven.apache.org/install.html&quot; that says &quot;JAVA_HOME&quot; should be set to &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre&quot;.\r\n\r\nWhen I changed &quot;JAVA_HOME&quot; as stated above in &quot;.bash_profile&quot;, &quot;mvn&quot; command started working but &quot;javac -version&quot; command stopped working.\r\n\r\nWhen I typed &quot;javac -version&quot; command, I got the following error\r\n\r\n**Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre/bin/javac&quot; (-1)**\r\n\r\nHence I rolled back my &quot;JAVA_HOME&quot; to &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home&quot; in &quot;.bash_profile&quot; and added the following line at the top in &quot;mvn&quot; script\r\n\r\n**export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre**\r\n\r\nNow both &quot;mvn&quot; and &quot;javac&quot; commands worked properly, but after careful observation of the mvn script, I could not make the difference between the following commands\r\n\r\n/Library/Java/JavaVirtualMachines/**jdk1.8.0_45.jdk/Contents/Home/bin/java** -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\n/Library/Java/JavaVirtualMachines/**jdk1.8.0_45.jdk/Contents/Home/jre/bin/java** -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nIn the above the first command caused the following error \r\n\r\n**Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher**\r\n\r\nwhile the second command worked fine.\r\nPlease Note that both the above paths have &quot;java&quot; command while one is from &quot;jre&quot; the other is from &quot;jdk&quot;\r\n\r\nOther global variables are as following in &quot;.bash_profile&quot;\r\n\r\nexport M2_HOME=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1\r\n\r\nexport PATH=$PATH:$M2_HOME/bin","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I also faced the following Error in my system (Mac)</p>\n\n<p><strong>Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</strong></p>\n\n<p>After doing some random browsing, I came across the link \"<a href=\"http://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/install.html</a>\" that says \"JAVA_HOME\" should be set to \"/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre\".</p>\n\n<p>When I changed \"JAVA_HOME\" as stated above in \".bash_profile\", \"mvn\" command started working but \"javac -version\" command stopped working.</p>\n\n<p>When I typed \"javac -version\" command, I got the following error</p>\n\n<p><strong>Unable to locate an executable at \"/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre/bin/javac\" (-1)</strong></p>\n\n<p>Hence I rolled back my \"JAVA_HOME\" to \"/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\" in \".bash_profile\" and added the following line at the top in \"mvn\" script</p>\n\n<p><strong>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre</strong></p>\n\n<p>Now both \"mvn\" and \"javac\" commands worked properly, but after careful observation of the mvn script, I could not make the difference between the following commands</p>\n\n<p>/Library/Java/JavaVirtualMachines/<strong>jdk1.8.0_45.jdk/Contents/Home/bin/java</strong> -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher</p>\n\n<p>/Library/Java/JavaVirtualMachines/<strong>jdk1.8.0_45.jdk/Contents/Home/jre/bin/java</strong> -classpath /Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/boot/plexus-classworlds-2.6.0.jar -Dclassworlds.conf=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin/m2.conf -Dmaven.home=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1 -Dlibrary.jansi.path=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/lib/jansi-native -Dmaven.multiModuleProjectDirectory=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1/bin org.codehaus.plexus.classworlds.launcher.Launcher</p>\n\n<p>In the above the first command caused the following error </p>\n\n<p><strong>Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</strong></p>\n\n<p>while the second command worked fine.\nPlease Note that both the above paths have \"java\" command while one is from \"jre\" the other is from \"jdk\"</p>\n\n<p>Other global variables are as following in \".bash_profile\"</p>\n\n<p>export M2_HOME=/Users/venkatarajeevmandava/Documents/Maven/apache-maven-3.6.1</p>\n\n<p>export PATH=$PATH:$M2_HOME/bin</p>\n"},{"tags":[],"owner":{"account_id":6557464,"reputation":4145,"user_id":5069746,"accept_rate":50,"display_name":"Kshitij Kohli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648810197,"creation_date":1648810197,"answer_id":71705719,"question_id":11118237,"body_markdown":"Was able to solve this issue by deleting the downloaded maven in my machine (  /Users/kkohli/Desktop/Personal/Code/Java/apache-maven-3.6.3 ) and re-downloading the binary version from the apache site. Did not modify any other bashprofile file etc ( My M2_HOME, JAVA_HOME etc are set inside my bashprofile)","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>Was able to solve this issue by deleting the downloaded maven in my machine (  /Users/kkohli/Desktop/Personal/Code/Java/apache-maven-3.6.3 ) and re-downloading the binary version from the apache site. Did not modify any other bashprofile file etc ( My M2_HOME, JAVA_HOME etc are set inside my bashprofile)</p>\n"},{"tags":[],"owner":{"account_id":6234233,"reputation":119,"user_id":4850014,"display_name":"samson ojo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661630691,"creation_date":1661630141,"answer_id":73514012,"question_id":11118237,"body_markdown":"I ran into the same error. Below is what happen. \r\n\r\nI introduced an error by mistake. So, instead of separating each PATH with semicolon\r\n\r\n&gt; (;)\r\n\r\n I separated it with column\r\n\r\n&gt; (:)\r\n\r\n hence the reason for the error below:\r\n\r\nError: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher\r\n\r\nAfter realising my mistake I changed the path from this:\r\n\r\n    export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin:$PATH:/Users/samo/Documents/flutter/bin&quot;\r\n\r\nto this:\r\n\r\n    export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin;$PATH:/Users/samo/Documents/flutter/bin&quot;\r\n\r\n\r\nAfter which everything started working.\r\n\r\nSo, please check that you are not making the same/similar mistake","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I ran into the same error. Below is what happen.</p>\n<p>I introduced an error by mistake. So, instead of separating each PATH with semicolon</p>\n<blockquote>\n<p>(;)</p>\n</blockquote>\n<p>I separated it with column</p>\n<blockquote>\n<p>(:)</p>\n</blockquote>\n<p>hence the reason for the error below:</p>\n<p>Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher</p>\n<p>After realising my mistake I changed the path from this:</p>\n<pre><code>export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin:$PATH:/Users/samo/Documents/flutter/bin&quot;\n</code></pre>\n<p>to this:</p>\n<pre><code>export PATH=&quot;/Users/samo/Downloads/apache-maven-3.8.6/bin;$PATH:/Users/samo/Documents/flutter/bin&quot;\n</code></pre>\n<p>After which everything started working.</p>\n<p>So, please check that you are not making the same/similar mistake</p>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666870709,"creation_date":1666870709,"answer_id":74221450,"question_id":11118237,"body_markdown":"step1: Install JDK and Set up JAVA_HOME\r\n\r\nStep2: then download the maven from [https://maven.apache.org/download.cgi][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/download.cgi\r\n  [2]: https://i.stack.imgur.com/qHRiF.png\r\n\r\nStep3: Follow these steps to add the MAVEN_HOME environment variable\r\n\r\nClick on the “New…” button and put MAVEN_HOME as variable name and C:\\Users\\fazal\\soft\\apache-maven-3.8.6 as variable value\r\n\r\nthen Add %MAVEN_HOME%\\bin to the PATH\r\n\r\nStep4: check again \r\n\r\n&gt; mvn -version","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>step1: Install JDK and Set up JAVA_HOME</p>\n<p>Step2: then download the maven from <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://maven.apache.org/download.cgi</a>\n<a href=\"https://i.stack.imgur.com/qHRiF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qHRiF.png\" alt=\"enter image description here\" /></a></p>\n<p>Step3: Follow these steps to add the MAVEN_HOME environment variable</p>\n<p>Click on the “New…” button and put MAVEN_HOME as variable name and C:\\Users\\fazal\\soft\\apache-maven-3.8.6 as variable value</p>\n<p>then Add %MAVEN_HOME%\\bin to the PATH</p>\n<p>Step4: check again</p>\n<blockquote>\n<p>mvn -version</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20658998,"reputation":567,"user_id":15167371,"display_name":"shamnad sherief"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625756,"creation_date":1683625756,"answer_id":76207987,"question_id":11118237,"body_markdown":"For a windows machine I cleared the error by downloading the tar.gz file and added the path after extracting the content to Programming files folder","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>For a windows machine I cleared the error by downloading the tar.gz file and added the path after extracting the content to Programming files folder</p>\n"}],"owner":{"account_id":426618,"reputation":1583,"user_id":807916,"accept_rate":17,"display_name":"manofsins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339937,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"answer_count":34,"score":145,"last_activity_date":1683625756,"creation_date":1340190506,"question_id":11118237,"body_markdown":"I have installed a latest `maven-3.0.4` on *Windows 7*:  \r\nThe installation details are as follows:  \r\nInstallation Path :  \r\n\r\n    C:\\apache-maven-3.0.4  \r\n\r\nEnvironment Variables are:  \r\n\r\n    M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src  \r\n    JAVA_HOME C:\\Program Files\\Java\\jdk-1.7.0_04  \r\n\r\nPath variables added are:  \r\n\r\n    %M2_HOME%\\bin;%JAVA_HOME%\\bin;\r\n\r\n  \r\nIn the command window it shows it like this:  \r\n\r\n    C:\\&gt;java -version  \r\n    java version &quot;1.7.0_04&quot;  \r\n    Java(TM) SE Runtime Environment (build 1.7.0_04-b22)  \r\n    Java HotSpot(TM) Client VM (build 23.0-b21, mixed mode, sharing)  \r\n    C:\\&gt;mvn -version  \r\n    Error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher  \r\n\r\nThis is the only version on maven installed on my PC and the solution given on many blogs referring to the deletion of the previous `M2_HOME` environment variable is not valid. \r\n\r\nI have read and tried all the solutions given at blogs such as : \r\n \r\n- [oracle blog](https://blogs.oracle.com/sreekanth/entry/java_lang_noclassdeffounderror_org_codehaus),  \r\n- [stackoverflow question](https://stackoverflow.com/questions/8139115/new-maven-install-mvn-version-java-lang-classnotfoundexception),  \r\n- [another stack question](https://stackoverflow.com/questions/6305795/problems-setting-up-maven),  \r\n- [some blog](http://www.permeance.com.au/web/terry.mueller/home/-/blogs/maven2-reports-java-lang-noclassdeffounderror:-org-codehaus-classworlds-launcher),  \r\n\r\nBut I&#39;m still not able to get to it. What I might be missing in this whole thing?","title":"Maven error: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher","body":"<p>I have installed a latest <code>maven-3.0.4</code> on <em>Windows 7</em>:<br />\nThe installation details are as follows:<br />\nInstallation Path :</p>\n<pre><code>C:\\apache-maven-3.0.4  \n</code></pre>\n<p>Environment Variables are:</p>\n<pre><code>M2_HOME C:\\apache-maven-3.0.4\\apache-maven\\src  \nJAVA_HOME C:\\Program Files\\Java\\jdk-1.7.0_04  \n</code></pre>\n<p>Path variables added are:</p>\n<pre><code>%M2_HOME%\\bin;%JAVA_HOME%\\bin;\n</code></pre>\n<p>In the command window it shows it like this:</p>\n<pre><code>C:\\&gt;java -version  \njava version &quot;1.7.0_04&quot;  \nJava(TM) SE Runtime Environment (build 1.7.0_04-b22)  \nJava HotSpot(TM) Client VM (build 23.0-b21, mixed mode, sharing)  \nC:\\&gt;mvn -version  \nError: Could not find or load main class org.codehaus.plexus.classworlds.launcher.Launcher  \n</code></pre>\n<p>This is the only version on maven installed on my PC and the solution given on many blogs referring to the deletion of the previous <code>M2_HOME</code> environment variable is not valid.</p>\n<p>I have read and tried all the solutions given at blogs such as :</p>\n<ul>\n<li><a href=\"https://blogs.oracle.com/sreekanth/entry/java_lang_noclassdeffounderror_org_codehaus\" rel=\"nofollow noreferrer\">oracle blog</a>,</li>\n<li><a href=\"https://stackoverflow.com/questions/8139115/new-maven-install-mvn-version-java-lang-classnotfoundexception\">stackoverflow question</a>,</li>\n<li><a href=\"https://stackoverflow.com/questions/6305795/problems-setting-up-maven\">another stack question</a>,</li>\n<li><a href=\"http://www.permeance.com.au/web/terry.mueller/home/-/blogs/maven2-reports-java-lang-noclassdeffounderror:-org-codehaus-classworlds-launcher\" rel=\"nofollow noreferrer\">some blog</a>,</li>\n</ul>\n<p>But I'm still not able to get to it. What I might be missing in this whole thing?</p>\n"},{"tags":["java","appium","android-uiautomator"],"comments":[{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1680786614,"post_id":75947817,"comment_id":133959113,"body_markdown":"Can you please try to increase the `uiautomator2ServerLaunchTimeout` time to `15000` or more as per observed from the logs you shared?","body":"Can you please try to increase the <code>uiautomator2ServerLaunchTimeout</code> time to <code>15000</code> or more as per observed from the logs you shared?"},{"owner":{"account_id":28230281,"reputation":11,"user_id":21579606,"display_name":"Grzeche"},"score":0,"creation_date":1680847925,"post_id":75947817,"comment_id":133969108,"body_markdown":"@BipinKumarChaurasia Hi, I did that and it didn&#39;t help. I increased it to as much as `240000`. It still fails, just takes more time before app timeouts","body":"@BipinKumarChaurasia Hi, I did that and it didn&#39;t help. I increased it to as much as <code>240000</code>. It still fails, just takes more time before app timeouts"},{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1680867055,"post_id":75947817,"comment_id":133972309,"body_markdown":"Which real mobile device are you using? Can you please share the model information along with android OS version?","body":"Which real mobile device are you using? Can you please share the model information along with android OS version?"}],"answers":[{"tags":[],"owner":{"account_id":28230281,"reputation":11,"user_id":21579606,"display_name":"Grzeche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625513,"creation_date":1683625513,"answer_id":76207948,"question_id":75947817,"body_markdown":"So I found a resolution to my problem. I used \r\n```\r\nUiAutomator2Options.setRemoteAdbHost(&quot;localhost&quot;) \r\n```\r\nand that&#39;s where the issue was. I don&#39;t really know why, as &quot;localhost&quot; is the default value. But changing it to \r\n```\r\nUiAutomator2Options.setRemoteAdbHost(&quot;127.0.0.1&quot;) \r\n``` \r\nfixed the issue for me. The session is correctly started.","title":"Cannot set AndroidDriver. AndroidUIAutomator2 cannot start a new session, with response code 500","body":"<p>So I found a resolution to my problem. I used</p>\n<pre><code>UiAutomator2Options.setRemoteAdbHost(&quot;localhost&quot;) \n</code></pre>\n<p>and that's where the issue was. I don't really know why, as &quot;localhost&quot; is the default value. But changing it to</p>\n<pre><code>UiAutomator2Options.setRemoteAdbHost(&quot;127.0.0.1&quot;) \n</code></pre>\n<p>fixed the issue for me. The session is correctly started.</p>\n"}],"owner":{"account_id":28230281,"reputation":11,"user_id":21579606,"display_name":"Grzeche"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683625513,"creation_date":1680772649,"question_id":75947817,"body_markdown":"I&#39;m using Appium 2.0.0-beta.61 and AndroidUiAutomator2, and when I try to start the Android driver, it fails, returning Response Code 500. I tried removing the Appium server app from the device and using a different device like other threads suggested but it doesn&#39;t help.  \r\n\r\nIncreasing the *uiautomator2ServerLaunchTimeout* also didn&#39;t help.\r\n\r\n```\r\n[AndroidUiautomator2Driver@9c56 (e03bdf49)] The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of &#39;uiautomator2ServerLaunchTimeout&#39; capability\r\n10:31:32 SamsungS8Plus [ERROR] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:\r\n10:31:32 SamsungS8Plus [ERROR] Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of &#39;uiautomator2ServerLaunchTimeout&#39; capability \r\nHost info: host: &#39;INV-15330&#39;, ip: &#39;192.168.67.232&#39;\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{appium:adbPort=5037, appium:systemPort=8301, appium:newCommandTimeout=180, appium:androidInstallTimeout=120000, appium:automationName=UIAutomator2, appium:udid=712KPRW1234990, appium:uiautomator2ServerLaunchTimeout=120000, appium:autoGrantPermissions=true, appium:remoteAdbHost=localhost, appium:appActivity=com.unity3d.player.UnityPlayerActivity, platformName=ANDROID, appium:app=C:\\Users\\Gre\\Documents\\htautomation\\games\\Puzzle\\Android\\Puzzle.apk, appium:uiautomator2ServerInstallTimeout=120000}], desiredCapabilities=Capabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}}]\r\nCapabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}\r\n```\r\n\r\n```\r\nAppiumServiceBuilder builder;\r\n        builder = new AppiumServiceBuilder()\r\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;error&quot;)\r\n                .withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;adb_screen_streaming, chromedriver_autodownload&quot;)\r\n                .withIPAddress(&quot;127.0.0.1&quot;)\r\n                .usingPort(getAppiumServerFromSystemEnv());\r\n\r\n        server = AppiumDriverLocalService.buildService(builder);\r\n        server.start();\r\n```\r\n\r\n```\r\ntry {\r\n            driver = new AndroidDriver(server.getUrl(), options);\r\n        } catch (org.openqa.selenium.SessionNotCreatedException e) {\r\n            loggerUtils.log(LoggerLevel.ERROR,&quot;[HTA] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:&quot;);\r\n            loggerUtils.log(LoggerLevel.ERROR, e.getMessage());\r\n            closeAppiumServer();\r\n        }\r\n```\r\n\r\nI wanted to launch an android application on a real device. Using Appium2 and AndroidUiAutomator2. The AndroidDriver cannot be initialized, timeout happens and returns Response code 500.","title":"Cannot set AndroidDriver. AndroidUIAutomator2 cannot start a new session, with response code 500","body":"<p>I'm using Appium 2.0.0-beta.61 and AndroidUiAutomator2, and when I try to start the Android driver, it fails, returning Response Code 500. I tried removing the Appium server app from the device and using a different device like other threads suggested but it doesn't help.</p>\n<p>Increasing the <em>uiautomator2ServerLaunchTimeout</em> also didn't help.</p>\n<pre><code>[AndroidUiautomator2Driver@9c56 (e03bdf49)] The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of 'uiautomator2ServerLaunchTimeout' capability\n10:31:32 SamsungS8Plus [ERROR] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:\n10:31:32 SamsungS8Plus [ERROR] Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: The instrumentation process cannot be initialized within 120000ms timeout. Make sure the application under test does not crash and investigate the logcat output. You could also try to increase the value of 'uiautomator2ServerLaunchTimeout' capability \nHost info: host: 'INV-15330', ip: '192.168.67.232'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.15'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:adbPort=5037, appium:systemPort=8301, appium:newCommandTimeout=180, appium:androidInstallTimeout=120000, appium:automationName=UIAutomator2, appium:udid=712KPRW1234990, appium:uiautomator2ServerLaunchTimeout=120000, appium:autoGrantPermissions=true, appium:remoteAdbHost=localhost, appium:appActivity=com.unity3d.player.UnityPlayerActivity, platformName=ANDROID, appium:app=C:\\Users\\Gre\\Documents\\htautomation\\games\\Puzzle\\Android\\Puzzle.apk, appium:uiautomator2ServerInstallTimeout=120000}], desiredCapabilities=Capabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}}]\nCapabilities {appium:adbPort: 5037, appium:androidInstallTimeout: 120000, appium:app: C:\\Users\\Gre\\Doc..., appium:appActivity: com.unity3d.player.UnityPla..., appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:newCommandTimeout: 180, appium:remoteAdbHost: localhost, appium:systemPort: 8301, appium:udid: 712KPRW1234990, appium:uiautomator2ServerInstallTimeout: 120000, appium:uiautomator2ServerLaunchTimeout: 120000, platformName: ANDROID}\n</code></pre>\n<pre><code>AppiumServiceBuilder builder;\n        builder = new AppiumServiceBuilder()\n                .withArgument(GeneralServerFlag.LOG_LEVEL, &quot;error&quot;)\n                .withArgument(GeneralServerFlag.ALLOW_INSECURE, &quot;adb_screen_streaming, chromedriver_autodownload&quot;)\n                .withIPAddress(&quot;127.0.0.1&quot;)\n                .usingPort(getAppiumServerFromSystemEnv());\n\n        server = AppiumDriverLocalService.buildService(builder);\n        server.start();\n</code></pre>\n<pre><code>try {\n            driver = new AndroidDriver(server.getUrl(), options);\n        } catch (org.openqa.selenium.SessionNotCreatedException e) {\n            loggerUtils.log(LoggerLevel.ERROR,&quot;[HTA] Failed to set driver. Closing Appium to prevent it from staying open after test fail. Please check exception below:&quot;);\n            loggerUtils.log(LoggerLevel.ERROR, e.getMessage());\n            closeAppiumServer();\n        }\n</code></pre>\n<p>I wanted to launch an android application on a real device. Using Appium2 and AndroidUiAutomator2. The AndroidDriver cannot be initialized, timeout happens and returns Response code 500.</p>\n"},{"tags":["java","properties","fileoutputstream"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316354425,"post_id":7461901,"comment_id":9027480,"body_markdown":"If you read in the properties, add/change a property to that, and write out those properties, all of the properties should be there--can you show the code you tried for that?","body":"If you read in the properties, add/change a property to that, and write out those properties, all of the properties should be there--can you show the code you tried for that?"},{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":0,"creation_date":1316354469,"post_id":7461901,"comment_id":9027484,"body_markdown":"@Dave Newton: Yeah, but they are not in the same order. This is a known problem... I guess this is what OP really wants.","body":"@Dave Newton: Yeah, but they are not in the same order. This is a known problem... I guess this is what OP really wants."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316354664,"post_id":7461901,"comment_id":9027506,"body_markdown":"@home: Oh, I get it. Yeah, the curse of unordered collections, I guess. If that&#39;s the problem, might as well just treat it as a string, do a replace, and write it back out.","body":"@home: Oh, I get it. Yeah, the curse of unordered collections, I guess. If that&#39;s the problem, might as well just treat it as a string, do a replace, and write it back out."},{"owner":{"display_name":"user890704"},"score":0,"creation_date":1316355547,"post_id":7461901,"comment_id":9027635,"body_markdown":"There, just updated.  Still same result, whole file is overwritten.","body":"There, just updated.  Still same result, whole file is overwritten."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316985715,"post_id":7461901,"comment_id":114292910,"body_markdown":"Another answer reminded me of the [Apache Commons Configuration](http://commons.apache.org/configuration/howto_properties.html) library, specifically the capabilities [PropertiesConfigurationLayout](http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfigurationLayout.html). This allows (more or less) the original layout, comments, ordering, etc. to be preserved.","body":"Another answer reminded me of the <a href=\"http://commons.apache.org/configuration/howto_properties.html\" rel=\"nofollow noreferrer\">Apache Commons Configuration</a> library, specifically the capabilities <a href=\"http://commons.apache.org/configuration/apidocs/org/apache/commons/configuration/PropertiesConfigurationLayout.html\" rel=\"nofollow noreferrer\">PropertiesConfigurationLayout</a>. This allows (more or less) the original layout, comments, ordering, etc. to be preserved."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1498815808,"post_id":7461901,"comment_id":76666978,"body_markdown":"Possible duplicate of [Updating property value in properties file without deleting other values](https://stackoverflow.com/questions/15337409/updating-property-value-in-properties-file-without-deleting-other-values)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/15337409/updating-property-value-in-properties-file-without-deleting-other-values\">Updating property value in properties file without deleting other values</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1643297518,"creation_date":1316356614,"answer_id":7462171,"question_id":7461901,"body_markdown":"The `Properties` API doesn&#39;t provide any methods for adding/replacing/removing a property in the properties file.  The model that the API supports is to load all of the properties from a file, make changes to the in-memory `Properties` object, and then store all of the properties to a file (the same one or a different one).\r\n\r\nBut the `Properties` API is not unusual in the respect.  In reality, in-place updating of a text file is difficult to implement without rewriting the entire file.  This difficulty is a direct consequence of the way that files / file systems are implemented by a modern operating system.\r\n\r\nIf you really need to do incremental updates, then you need to use some kind of database to hold the properties, not a &quot;.properties&quot; file.\r\n\r\n--------------\r\n\r\nOther Answers have suggested the following approach in various guises:\r\n\r\n  1.  Load properties from file into `Properties` object.\r\n  2.  Update `Properties` object.\r\n  3.  Save `Properties` object on top of existing file.\r\n\r\nThis works for some use-cases.  However the load / save is liable to reorder the properties, remove embedded comments and white space.   These things *may* matter&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe other point is that this involves rewriting the entire properties file, which the OP is explicitly trying&lt;sup&gt;2&lt;/sup&gt; to avoid.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - If the API is used as the designers intended, property order, embedded comments, and so on *wouldn&#39;t* matter.  But lets assume that the OP is doing this for &quot;pragmatic reasons&quot;.&lt;br&gt;\r\n2 - Not that it is *practical* to avoid this; see earlier.&lt;/sup&gt;  \r\n","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>The <code>Properties</code> API doesn't provide any methods for adding/replacing/removing a property in the properties file.  The model that the API supports is to load all of the properties from a file, make changes to the in-memory <code>Properties</code> object, and then store all of the properties to a file (the same one or a different one).</p>\n<p>But the <code>Properties</code> API is not unusual in the respect.  In reality, in-place updating of a text file is difficult to implement without rewriting the entire file.  This difficulty is a direct consequence of the way that files / file systems are implemented by a modern operating system.</p>\n<p>If you really need to do incremental updates, then you need to use some kind of database to hold the properties, not a &quot;.properties&quot; file.</p>\n<hr />\n<p>Other Answers have suggested the following approach in various guises:</p>\n<ol>\n<li>Load properties from file into <code>Properties</code> object.</li>\n<li>Update <code>Properties</code> object.</li>\n<li>Save <code>Properties</code> object on top of existing file.</li>\n</ol>\n<p>This works for some use-cases.  However the load / save is liable to reorder the properties, remove embedded comments and white space.   These things <em>may</em> matter<sup>1</sup>.</p>\n<p>The other point is that this involves rewriting the entire properties file, which the OP is explicitly trying<sup>2</sup> to avoid.</p>\n<hr />\n<p><sup>1 - If the API is used as the designers intended, property order, embedded comments, and so on <em>wouldn't</em> matter.  But lets assume that the OP is doing this for &quot;pragmatic reasons&quot;.<br>\n2 - Not that it is <em>practical</em> to avoid this; see earlier.</sup></p>\n"},{"tags":[],"owner":{"account_id":781143,"reputation":1507,"user_id":839428,"display_name":"parsifal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316357025,"creation_date":1316357025,"answer_id":7462208,"question_id":7461901,"body_markdown":"Properties files are an easy way to provide configuration for an application, but not necessarily a good way to do programmatic, user-specific customization, for just the reason that you&#39;ve found.\r\n\r\nFor that, I&#39;d use the [Preferences][1] API.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/index.html?overview-summary.html","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>Properties files are an easy way to provide configuration for an application, but not necessarily a good way to do programmatic, user-specific customization, for just the reason that you've found.</p>\n\n<p>For that, I'd use the <a href=\"http://download.oracle.com/javase/6/docs/api/index.html?overview-summary.html\" rel=\"nofollow\">Preferences</a> API.</p>\n"},{"tags":[],"owner":{"account_id":2495067,"reputation":1,"user_id":2171744,"display_name":"Laks"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683625462,"creation_date":1363297127,"answer_id":15420706,"question_id":7461901,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass WritePropertiesFile\r\n{\r\n\r\n             public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tProperties p = new Properties();\r\n\t\t\tp.setProperty(&quot;1&quot;, &quot;one&quot;);\r\n\t\t\tp.setProperty(&quot;2&quot;, &quot;two&quot;);\r\n\t\t\tp.setProperty(&quot;3&quot;, &quot;three&quot;);\r\n\r\n\t\t\tFile file = new File(&quot;task.properties&quot;);\r\n\t\t\tFileOutputStream fOut = new FileOutputStream(file);\r\n\t\t\tp.store(fOut, &quot;Favorite Things&quot;);\r\n\t\t\tfOut.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\nclass WritePropertiesFile\n{\n\n             public static void main(String[] args) {\n        try {\n            Properties p = new Properties();\n            p.setProperty(&quot;1&quot;, &quot;one&quot;);\n            p.setProperty(&quot;2&quot;, &quot;two&quot;);\n            p.setProperty(&quot;3&quot;, &quot;three&quot;);\n\n            File file = new File(&quot;task.properties&quot;);\n            FileOutputStream fOut = new FileOutputStream(file);\n            p.store(fOut, &quot;Favorite Things&quot;);\n            fOut.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":3,"creation_date":1473021616,"post_id":15522238,"comment_id":65974468,"body_markdown":"This is the best solution. It keeps the properties file intact; doesn&#39;t mess it up.","body":"This is the best solution. It keeps the properties file intact; doesn&#39;t mess it up."},{"owner":{"account_id":1965862,"reputation":3669,"user_id":1766166,"accept_rate":71,"display_name":"zygimantus"},"score":1,"creation_date":1489860990,"post_id":15522238,"comment_id":72859817,"body_markdown":"You need to change: `props.setProperty` --&gt; `config.setProperty`","body":"You need to change: <code>props.setProperty</code> --&gt; <code>config.setProperty</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1490610102,"post_id":15522238,"comment_id":73171873,"body_markdown":"While this is a pragmatic solution, it is not what the OP asked for.  Specifically, the entire file is being rewritten / overwritten.","body":"While this is a pragmatic solution, it is not what the OP asked for.  Specifically, the entire file is being rewritten / overwritten."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1494577818,"post_id":15522238,"comment_id":74898302,"body_markdown":"As of version 2.1.1 `save()` method and the constructor you are using is not supported . Have you any alternatives :) ?","body":"As of version 2.1.1 <code>save()</code> method and the constructor you are using is not supported . Have you any alternatives :) ?"}],"tags":[],"owner":{"account_id":1956719,"reputation":321,"user_id":1759581,"display_name":"davidpolo"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1494588834,"creation_date":1363778832,"answer_id":15522238,"question_id":7461901,"body_markdown":"You can use PropertiesConfiguration from [Apache Commons Configuration][1].\r\n\r\nIn version 1.X:\r\n\r\n    PropertiesConfiguration config = new PropertiesConfiguration(&quot;file.properties&quot;);\r\n    config.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    config.save();\r\n\r\nFrom version 2.0:\r\n\r\n    Parameters params = new Parameters();\r\n    FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; builder =\r\n        new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class)\r\n        .configure(params.properties()\r\n            .setFileName(&quot;file.properties&quot;));\r\n    Configuration config = builder.getConfiguration();\r\n    config.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    builder.save();\r\n\r\n  [1]: http://commons.apache.org/proper/commons-configuration//userguide/howto_properties.html#Properties_files","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>You can use PropertiesConfiguration from <a href=\"http://commons.apache.org/proper/commons-configuration//userguide/howto_properties.html#Properties_files\" rel=\"noreferrer\">Apache Commons Configuration</a>.</p>\n\n<p>In version 1.X:</p>\n\n<pre><code>PropertiesConfiguration config = new PropertiesConfiguration(\"file.properties\");\nconfig.setProperty(\"somekey\", \"somevalue\");\nconfig.save();\n</code></pre>\n\n<p>From version 2.0:</p>\n\n<pre><code>Parameters params = new Parameters();\nFileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; builder =\n    new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class)\n    .configure(params.properties()\n        .setFileName(\"file.properties\"));\nConfiguration config = builder.getConfiguration();\nconfig.setProperty(\"somekey\", \"somevalue\");\nbuilder.save();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1210400,"reputation":125,"user_id":1179056,"accept_rate":56,"display_name":"rIshab1988"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372128597,"creation_date":1372128597,"answer_id":17288381,"question_id":7461901,"body_markdown":"    public class PropertiesXMLExample {\r\n        public static void main(String[] args) throws IOException {\r\n        \r\n        // get properties object\r\n\t\tProperties props = new Properties();\r\n\r\n        // get path of the file that you want\r\n        String filepath = System.getProperty(&quot;user.home&quot;)\r\n\t\t\t\t+ System.getProperty(&quot;file.separator&quot;) +&quot;email-configuration.xml&quot;;\r\n\t\t\r\n        // get file object\r\n\t\tFile file = new File(filepath);\r\n                \r\n        // check whether the file exists\r\n\t\tif (file.exists()) {\r\n            // get inpustream of the file\r\n\t\t\tInputStream is = new FileInputStream(filepath);\r\n\r\n\t\t\t// load the xml file into properties format\r\n\t\t\tprops.loadFromXML(is);\r\n                        \r\n            // store all the property keys in a set \r\n\t\t\tSet&lt;String&gt; names = props.stringPropertyNames();\r\n            \r\n            // iterate over all the property names\r\n\t\t\tfor (Iterator&lt;String&gt; i = names.iterator(); i.hasNext();) {\r\n                // store each propertyname that you get\r\n\t\t\t\tString propname = i.next();\r\n                                \r\n                // set all the properties (since these properties are not automatically stored when you update the file). All these properties will be rewritten. You also set some new value for the property names that you read\r\n\t\t\t\tprops.setProperty(propname, props.getProperty(propname));\r\n\t\t\t}\r\n\r\n            // add some new properties to the props object\r\n\t\t\tprops.setProperty(&quot;email.support&quot;, &quot;donot-spam-me@nospam.com&quot;);\r\n\t\t\tprops.setProperty(&quot;email.support_2&quot;, &quot;donot-spam-me@nospam.com&quot;);\r\n\r\n           // get outputstream object to for storing the properties into the same xml file that you read\r\n\t\t\tOutputStream os = new FileOutputStream(\r\n\t\t\t\t\tSystem.getProperty(&quot;user.home&quot;)\r\n\t\t\t\t\t\t\t+ &quot;/email-configuration.xml&quot;);\r\n\r\n\t\t\t// store the properties detail into a pre-defined XML file\r\n\t\t\tprops.storeToXML(os, &quot;Support Email&quot;, &quot;UTF-8&quot;);\r\n                        \r\n            // an earlier stored property\r\n\t\t\tString email = props.getProperty(&quot;email.support_1&quot;);\r\n\r\n\t\t\tSystem.out.println(email);\r\n\t\t  }\r\n\t   }\r\n    }\r\n\r\n\r\nThe output of the program would be:\r\n    \r\n    support@stackoverflow.com","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<pre><code>public class PropertiesXMLExample {\n    public static void main(String[] args) throws IOException {\n\n    // get properties object\n    Properties props = new Properties();\n\n    // get path of the file that you want\n    String filepath = System.getProperty(\"user.home\")\n            + System.getProperty(\"file.separator\") +\"email-configuration.xml\";\n\n    // get file object\n    File file = new File(filepath);\n\n    // check whether the file exists\n    if (file.exists()) {\n        // get inpustream of the file\n        InputStream is = new FileInputStream(filepath);\n\n        // load the xml file into properties format\n        props.loadFromXML(is);\n\n        // store all the property keys in a set \n        Set&lt;String&gt; names = props.stringPropertyNames();\n\n        // iterate over all the property names\n        for (Iterator&lt;String&gt; i = names.iterator(); i.hasNext();) {\n            // store each propertyname that you get\n            String propname = i.next();\n\n            // set all the properties (since these properties are not automatically stored when you update the file). All these properties will be rewritten. You also set some new value for the property names that you read\n            props.setProperty(propname, props.getProperty(propname));\n        }\n\n        // add some new properties to the props object\n        props.setProperty(\"email.support\", \"donot-spam-me@nospam.com\");\n        props.setProperty(\"email.support_2\", \"donot-spam-me@nospam.com\");\n\n       // get outputstream object to for storing the properties into the same xml file that you read\n        OutputStream os = new FileOutputStream(\n                System.getProperty(\"user.home\")\n                        + \"/email-configuration.xml\");\n\n        // store the properties detail into a pre-defined XML file\n        props.storeToXML(os, \"Support Email\", \"UTF-8\");\n\n        // an earlier stored property\n        String email = props.getProperty(\"email.support_1\");\n\n        System.out.println(email);\n      }\n   }\n}\n</code></pre>\n\n<p>The output of the program would be:</p>\n\n<pre><code>support@stackoverflow.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6657673,"reputation":11,"user_id":5137655,"display_name":"Prateek Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475562823,"creation_date":1475562823,"answer_id":39845589,"question_id":7461901,"body_markdown":"I do the following method:-\r\n\r\n 1. Read the file and load the properties object\r\n 2. Update or add new properties by using &quot;.setProperty&quot; method. (setProperty method is better than .put method as it can be used for inserting as well as updating the property object)\r\n 3. Write the property object back to file to keep the file in sync with the change.","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>I do the following method:-</p>\n\n<ol>\n<li>Read the file and load the properties object</li>\n<li>Update or add new properties by using \".setProperty\" method. (setProperty method is better than .put method as it can be used for inserting as well as updating the property object)</li>\n<li>Write the property object back to file to keep the file in sync with the change.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5739121,"reputation":514,"user_id":4532319,"display_name":"oguz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594894530,"creation_date":1594894530,"answer_id":62932445,"question_id":7461901,"body_markdown":"If you just want to override 1 prop why not just add parameter to your java command. Whatever you provide in your properties file they will be overrided with properties args.\r\n\r\n```\r\njava -Dyour.prop.to.be.overrided=&quot;value&quot; -jar  your.jar\r\n```","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>If you just want to override 1 prop why not just add parameter to your java command. Whatever you provide in your properties file they will be overrided with properties args.</p>\n<pre><code>java -Dyour.prop.to.be.overrided=&quot;value&quot; -jar  your.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7446926,"reputation":21,"user_id":5662782,"display_name":"Sławek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644338040,"creation_date":1644338040,"answer_id":71037430,"question_id":7461901,"body_markdown":"Please use just update file line instead using Properies e.g. \r\n\r\n    public static void updateProperty(String key, String oldValue, String newValue)\r\n    {\r\n        File f = new File(CONFIG_FILE);\r\n        try {\r\n            List&lt;String&gt; fileContent = new ArrayList&lt;&gt;(Files.readAllLines(f.toPath(), StandardCharsets.UTF_8));\r\n\r\n            for (int i = 0; i &lt; fileContent.size(); i++) {\r\n                if (fileContent.get(i).replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).equals(key + &quot;=&quot; + oldValue)) {\r\n                    fileContent.set(i, key + &quot; = &quot; + newValue);\r\n                    break;\r\n                }\r\n            }\r\n            Files.write(f.toPath(), fileContent, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            \r\n        }\r\n    }\r\n\r\n","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>Please use just update file line instead using Properies e.g.</p>\n<pre><code>public static void updateProperty(String key, String oldValue, String newValue)\n{\n    File f = new File(CONFIG_FILE);\n    try {\n        List&lt;String&gt; fileContent = new ArrayList&lt;&gt;(Files.readAllLines(f.toPath(), StandardCharsets.UTF_8));\n\n        for (int i = 0; i &lt; fileContent.size(); i++) {\n            if (fileContent.get(i).replaceAll(&quot;\\\\s+&quot;,&quot;&quot;).equals(key + &quot;=&quot; + oldValue)) {\n                fileContent.set(i, key + &quot; = &quot; + newValue);\n                break;\n            }\n        }\n        Files.write(f.toPath(), fileContent, StandardCharsets.UTF_8);\n    } catch (Exception e) {\n        \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4504932,"reputation":1401,"user_id":3662539,"accept_rate":86,"display_name":"Brandon"},"score":1,"creation_date":1698004232,"post_id":76207423,"comment_id":136347260,"body_markdown":"This is indeed the correct answer.  You must open up the FileOutputStream after you close the FileInputStream, otherwise the instance of the file opened will be overwritten.","body":"This is indeed the correct answer.  You must open up the FileOutputStream after you close the FileInputStream, otherwise the instance of the file opened will be overwritten."}],"tags":[],"owner":{"account_id":7365909,"reputation":442,"user_id":5607657,"accept_rate":100,"display_name":"Davey D"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683622043,"creation_date":1683622043,"answer_id":76207423,"question_id":7461901,"body_markdown":"I know this is an old question, but this is working code (slightly modified from the code in the question, to prevent the deletion of the values before we load them):\r\n\r\n    FileInputStream in = new FileInputStream(&quot;file.properties&quot;);\r\n    Properties props = new Properties();\r\n    \r\n    props.load(in);\r\n    in.close();\r\n    \r\n    props.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    \r\n    FileOutputStream out = new FileOutputStream(&quot;file.properties&quot;);\r\n    props.store(out, null);\r\n    out.close();","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>I know this is an old question, but this is working code (slightly modified from the code in the question, to prevent the deletion of the values before we load them):</p>\n<pre><code>FileInputStream in = new FileInputStream(&quot;file.properties&quot;);\nProperties props = new Properties();\n\nprops.load(in);\nin.close();\n\nprops.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\n\nFileOutputStream out = new FileOutputStream(&quot;file.properties&quot;);\nprops.store(out, null);\nout.close();\n</code></pre>\n"}],"owner":{"display_name":"user890704"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69459,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":7462171,"answer_count":9,"score":32,"last_activity_date":1683625462,"creation_date":1316354129,"question_id":7461901,"body_markdown":"Basically, I have to overwrite a certain property in a .properties file through a Java app, but when I use Properties.setProperty() and Properties.Store() it overwrites the whole file rather than just that one property.\r\n\r\nI&#39;ve tried constructing the FileOutputStream with append = true, but with that it adds another property and doesn&#39;t delete/overwrite the existing property.\r\n\r\nHow can I code it so that setting one property overwrites that specific property, without overwriting the whole file?\r\n\r\nEdit:  I tried reading the file and adding to it.  Here&#39;s my updated code:\r\n\r\n    FileOutputStream out = new FileOutputStream(&quot;file.properties&quot;);\r\n    FileInputStream in = new FileInputStream(&quot;file.properties&quot;);\r\n    Properties props = new Properties();\r\n            \r\n    props.load(in);\r\n    in.close();\r\n         \r\n    props.setProperty(&quot;somekey&quot;, &quot;somevalue&quot;);\r\n    props.store(out, null);\r\n    out.close();","title":"How to overwrite one property in .properties without overwriting the whole file?","body":"<p>Basically, I have to overwrite a certain property in a .properties file through a Java app, but when I use Properties.setProperty() and Properties.Store() it overwrites the whole file rather than just that one property.</p>\n\n<p>I've tried constructing the FileOutputStream with append = true, but with that it adds another property and doesn't delete/overwrite the existing property.</p>\n\n<p>How can I code it so that setting one property overwrites that specific property, without overwriting the whole file?</p>\n\n<p>Edit:  I tried reading the file and adding to it.  Here's my updated code:</p>\n\n<pre><code>FileOutputStream out = new FileOutputStream(\"file.properties\");\nFileInputStream in = new FileInputStream(\"file.properties\");\nProperties props = new Properties();\n\nprops.load(in);\nin.close();\n\nprops.setProperty(\"somekey\", \"somevalue\");\nprops.store(out, null);\nout.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":9223153,"reputation":1182,"user_id":6851769,"accept_rate":80,"display_name":"Samuel"},"score":1,"creation_date":1670370844,"post_id":74709805,"comment_id":131860465,"body_markdown":"@xerx593 : Thank you for your comment. I tried the suggested approach but now I am getting `The filename, directory name, or volume label syntax is incorrect` . I have added `UPDATE 3` in my question for more insight","body":"@xerx593 : Thank you for your comment. I tried the suggested approach but now I am getting <code>The filename, directory name, or volume label syntax is incorrect</code> . I have added <code>UPDATE 3</code> in my question for more insight"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670377154,"post_id":74709805,"comment_id":131861460,"body_markdown":"so with (springboot-web) `server.ssl.key-store` i got it working like so: `C:/Users/xerx/Desktop/TEST FOLDER/springboot.jks` (double backslash also works), no chance with `file:` neither with wrong file name/typos :)) (tested also with spring-boot:2.6.4 (and java 19!:))) ..now the question is only about kafka...","body":"so with (springboot-web) <code>server.ssl.key-store</code> i got it working like so: <code>C:&#47;Users&#47;xerx&#47;Desktop&#47;TEST FOLDER&#47;springboot.jks</code> (double backslash also works), no chance with <code>file:</code> neither with wrong file name/typos :)) (tested also with spring-boot:2.6.4 (and java 19!:))) ..now the question is only about kafka..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670377719,"post_id":74709805,"comment_id":131861541,"body_markdown":"at least i found the line (hope correct version) to blame/debug: https://github.com/confluentinc/schema-registry/blob/2e7500bb2daea563be009574f8a786fc65cc833c/client/src/main/java/io/confluent/kafka/schemaregistry/client/security/SslFactory.java#L161  ..so provide the same string as you would to `new FileInputStream(...);`","body":"at least i found the line (hope correct version) to blame/debug: <a href=\"https://github.com/confluentinc/schema-registry/blob/2e7500bb2daea563be009574f8a786fc65cc833c/client/src/main/java/io/confluent/kafka/schemaregistry/client/security/SslFactory.java#L161\" rel=\"nofollow noreferrer\">github.com/confluentinc/schema-registry/blob/&hellip;</a>  ..so provide the same string as you would to <code>new FileInputStream(...);</code>"},{"owner":{"account_id":7644621,"reputation":488,"user_id":5795699,"display_name":"Kristian Ferkić"},"score":0,"creation_date":1670416948,"post_id":74709805,"comment_id":131871045,"body_markdown":"Have you tried `file://C:/Users/xx/Downloads/stores/testclient.jks`?","body":"Have you tried <code>file:&#47;&#47;C:&#47;Users&#47;xx&#47;Downloads&#47;stores&#47;testclient.jks</code>?"}],"answers":[{"tags":[],"owner":{"account_id":21104016,"reputation":21,"user_id":18371085,"display_name":"aerialace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683625399,"creation_date":1683625399,"answer_id":76207930,"question_id":74709805,"body_markdown":"maybe you could try the below sol. it can work in my case\r\n\r\n    config-path: &quot;file:E:\\\\config&quot;\r\n","title":"Setting correct absolute path in application yaml spring boot for file","body":"<p>maybe you could try the below sol. it can work in my case</p>\n<pre><code>config-path: &quot;file:E:\\\\config&quot;\n</code></pre>\n"}],"owner":{"account_id":9223153,"reputation":1182,"user_id":6851769,"accept_rate":80,"display_name":"Samuel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683625399,"creation_date":1670366219,"question_id":74709805,"body_markdown":"I am trying to run a kafka code, and to do that I have setup some config in application.yaml file. The config also include pointing to the certificates. \r\n\r\nWhen I have put values like:\r\n\r\n```yaml\r\n    ssl:\r\n      key-password: xxxx\r\n      keystore-location: &#39;file:\\\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks&#39;\r\n      keystore-password: dmlnvba\r\n      truststore-location: &#39;file:\\\\C:\\Users\\xx\\Downloads\\stores\\truststore.jks&#39;\r\n      truststore-password: xxxxx\r\n```\r\n\r\nI get errors like:\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: file:\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)\r\n\tat java.io.FileInputStream.open0(Native Method) ~[?:?]\r\n\tat java.io.FileInputStream.open(FileInputStream.java:216) ~[?:?]\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[?:?]\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[?:?]\r\n\tat io.confluent.kafka.schemaregistry.client.security.SslFactory$SecurityStore.load(SslFactory.java:161) ~[kafka-schema-registry-client-6.0.0.jar:?]\r\n```\r\n\r\nI looked over into answers like [this][1] but I am not sure why is it not working for me. \r\n\r\n### Update 2\r\n\r\nWhen I do it like\r\n\r\n```yaml\r\n    ssl:\r\n      key-password: xxxx\r\n      keystore-location: &#39;C:/Users/xx/Downloads/stores/testclient.jks&#39;\r\n      keystore-password: dmlnvba\r\n      truststore-location: &#39;C:/Users/xx/Downloads/stores/truststore.jks&#39;\r\n      truststore-password: xxxxx\r\n\r\n```\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: ServletContext resource [/C:/Users/xx/Downloads/stores/testclient.jks] cannot be resolved to absolute file path - web application archive not expanded?\r\n\tat org.springframework.web.util.WebUtils.getRealPath(WebUtils.java:344) ~[spring-web-5.3.16.jar:5.3.16]\tat org.springframework.web.context.support.ServletContextResource.getFile(ServletContextResource.java:194) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.boot.autoconfigure.kafka.KafkaProperties$Ssl.resourceToPath(KafkaProperties.java:1222) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n\tat org.springframework.boot.context.properties.PropertyMapper$Source.lambda$as$2(PropertyMapper.java:195) ~[spring-boot-2.6.4.jar:2.6.4]\r\n```\r\n\r\n&gt; I notice that the path in the update 2 has `/C:` a slash appended to it.\r\n\r\nHow to fix this path issue ?\r\n\r\n### OS: Windows 10\r\n\r\n### Update 3\r\n\r\nWhen I do it like what @xerx593 suggested :\r\n \r\n\r\n```yaml\r\n    ssl:\r\n      key-password: xxxx\r\n      keystore-location: &#39;file:C:/Users/xx/Downloads/stores/testclient.jks&#39;\r\n      keystore-password: dmlnvba\r\n      truststore-location: &#39;file:C:/Users/xx/Downloads/stores/truststore.jks&#39;\r\n      truststore-password: xxxxx\r\n\r\n```\r\nI get \r\n\r\n&gt; Caused by: java.io.FileNotFoundException: file:C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)\r\n\r\n  [1]: https://stackoverflow.com/questions/39049075/absolute-path-in-application-yml","title":"Setting correct absolute path in application yaml spring boot for file","body":"<p>I am trying to run a kafka code, and to do that I have setup some config in application.yaml file. The config also include pointing to the certificates.</p>\n<p>When I have put values like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ssl:\n      key-password: xxxx\n      keystore-location: 'file:\\\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks'\n      keystore-password: dmlnvba\n      truststore-location: 'file:\\\\C:\\Users\\xx\\Downloads\\stores\\truststore.jks'\n      truststore-password: xxxxx\n</code></pre>\n<p>I get errors like:</p>\n<pre><code>Caused by: java.io.FileNotFoundException: file:\\C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)\n    at java.io.FileInputStream.open0(Native Method) ~[?:?]\n    at java.io.FileInputStream.open(FileInputStream.java:216) ~[?:?]\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[?:?]\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111) ~[?:?]\n    at io.confluent.kafka.schemaregistry.client.security.SslFactory$SecurityStore.load(SslFactory.java:161) ~[kafka-schema-registry-client-6.0.0.jar:?]\n</code></pre>\n<p>I looked over into answers like <a href=\"https://stackoverflow.com/questions/39049075/absolute-path-in-application-yml\">this</a> but I am not sure why is it not working for me.</p>\n<h3>Update 2</h3>\n<p>When I do it like</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ssl:\n      key-password: xxxx\n      keystore-location: 'C:/Users/xx/Downloads/stores/testclient.jks'\n      keystore-password: dmlnvba\n      truststore-location: 'C:/Users/xx/Downloads/stores/truststore.jks'\n      truststore-password: xxxxx\n\n</code></pre>\n<pre><code>Caused by: java.io.FileNotFoundException: ServletContext resource [/C:/Users/xx/Downloads/stores/testclient.jks] cannot be resolved to absolute file path - web application archive not expanded?\n    at org.springframework.web.util.WebUtils.getRealPath(WebUtils.java:344) ~[spring-web-5.3.16.jar:5.3.16] at org.springframework.web.context.support.ServletContextResource.getFile(ServletContextResource.java:194) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.boot.autoconfigure.kafka.KafkaProperties$Ssl.resourceToPath(KafkaProperties.java:1222) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.boot.context.properties.PropertyMapper$Source.lambda$as$2(PropertyMapper.java:195) ~[spring-boot-2.6.4.jar:2.6.4]\n</code></pre>\n<blockquote>\n<p>I notice that the path in the update 2 has <code>/C:</code> a slash appended to it.</p>\n</blockquote>\n<p>How to fix this path issue ?</p>\n<h3>OS: Windows 10</h3>\n<h3>Update 3</h3>\n<p>When I do it like what @xerx593 suggested :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ssl:\n      key-password: xxxx\n      keystore-location: 'file:C:/Users/xx/Downloads/stores/testclient.jks'\n      keystore-password: dmlnvba\n      truststore-location: 'file:C:/Users/xx/Downloads/stores/truststore.jks'\n      truststore-password: xxxxx\n\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>Caused by: java.io.FileNotFoundException: file:C:\\Users\\xx\\Downloads\\stores\\testclient.jks (The filename, directory name, or volume label syntax is incorrect)</p>\n</blockquote>\n"},{"tags":["java","git","docker","maven","jenkins"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683631215,"post_id":76207776,"comment_id":134393006,"body_markdown":"Error messages and logs have to use the same format as code, for readability.","body":"Error messages and logs have to use the same format as code, for readability."},{"owner":{"account_id":10833759,"reputation":51,"user_id":7967302,"display_name":"Neo"},"score":0,"creation_date":1683681505,"post_id":76207776,"comment_id":134402854,"body_markdown":"@aled, I know, but it&#39;s one line and very long error, I tried using code format and it seems even worse so I didn&#39;t use it. Please understand.","body":"@aled, I know, but it&#39;s one line and very long error, I tried using code format and it seems even worse so I didn&#39;t use it. Please understand."},{"owner":{"account_id":8512855,"reputation":81,"user_id":6382363,"display_name":"jcmendez"},"score":0,"creation_date":1683888576,"post_id":76207776,"comment_id":134439001,"body_markdown":"On regards of the first failure, in custom Dockerfiles we use to create the Jenkins user for avoid such issue. Have you try it?","body":"On regards of the first failure, in custom Dockerfiles we use to create the Jenkins user for avoid such issue. Have you try it?"},{"owner":{"account_id":10833759,"reputation":51,"user_id":7967302,"display_name":"Neo"},"score":0,"creation_date":1684314185,"post_id":76207776,"comment_id":134498841,"body_markdown":"Yes, it should work with custom Docker images, but how to fix this using public images like &#39;maven:3.6.3-openjdk-8&#39;","body":"Yes, it should work with custom Docker images, but how to fix this using public images like &#39;maven:3.6.3-openjdk-8&#39;"}],"owner":{"account_id":10833759,"reputation":51,"user_id":7967302,"display_name":"Neo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683624825,"creation_date":1683624388,"question_id":76207776,"body_markdown":"I&#39;m using Jenkins and Maven Release plugin to make the release to tag to a private owned GitLab using a SSH private key, in an isolated docker image:\r\n\r\n    withDockerContainer(image: &#39;maven:3.6.3-openjdk-8&#39;) {\r\n        sshagent (credentials: [&quot;${GITLAB_CREDS}&quot;]) {\r\n            sh &#39;ssh -o StrictHostKeyChecking=no git@gitlab.***.com&#39;\r\n            sh &#39;git config --global user.email &quot;no-one@noemail.com&quot;&#39;\r\n            sh &#39;git config --global user.name &quot;Jenkins Job&quot;&#39;\r\n            sh &quot;mvn -B clean release:prepare release:perform -q&quot;\r\n        }\r\n    }\r\n\r\nThis works fine until SysAdmin team decided to run Jenkins using user jenkins:jenkins which maven docker doesn&#39;t have but, ssh requires a valid user. And it throws error:\r\n\r\n    No user exists for uid 332\r\n\r\nSo I don&#39;t want it to rely on system&#39;s native git client but a maven impl. After some investigation, seems maven-scm-provider-jgit is what I need. So I configured it in pom followed by the instruction in its website:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;providerImplementations&gt;\r\n    \t\t\t&lt;git&gt;jgit&lt;/git&gt;\r\n    \t\t&lt;/providerImplementations&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n    \r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-scm-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;providerImplementations&gt;\r\n    \t\t\t&lt;git&gt;jgit&lt;/git&gt;\r\n    \t\t&lt;/providerImplementations&gt;\r\n    \t&lt;/configuration&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAnd in settings.xml:\r\n\r\n    &lt;server&gt;\r\n    \t&lt;id&gt;git@gitlab.***.com&lt;/id&gt;\r\n    \t&lt;privateKey&gt;${ssh.privateKey}&lt;/privateKey&gt;\r\n    \t&lt;passphrase&gt;&lt;/passphrase&gt;\r\n    &lt;/server&gt;\r\n\r\nAnd then in script: \r\n\r\n    withDockerContainer(image: &#39;maven:3.6.3-openjdk-8-slim&#39;) {\r\n    \twithCredentials([sshUserPrivateKey(credentialsId: &quot;${GITLAB_CREDS}&quot;, keyFileVariable: &#39;keyFile&#39;)]) {\r\n    \t\tconfigFileProvider([configFile(fileId: &#39;maven-nexus-settings&#39;, variable: &#39;MAVEN_SETTINGS&#39;)]) {\r\n    \t\t\t sh &quot;mvn -B -s ${MAVEN_SETTINGS} clean release:prepare release:perform -Dssh.privateKey=${keyFile} -q&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd it returns error:\r\n\r\n+ mvn -B -s /var/lib/jenkins/workspace/jenkins-test@tmp/config6359189442870799267tmp clean release:prepare release:perform -Dssh.privateKey=**** -q\r\nThe authenticity of host &#39;gitlab.host.com&#39; cannot be established.: The EC key&#39;s fingerprints are:: MD5:7b:b2:aa:81:25:b9:88:6f:62:4c:13:d4:87:f9:c5:b5: SHA256:PYlJZompVha0FYBp5bTVR56HdGw3ZtfFkVhWol1OLgw: Accept and store this key, and continue connecting? (yes/no): [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0:prepare (default-cli) on project jenkins-test: An error is occurred in the checkin process: Exception while executing SCM command. JGit checkin failure! git@gitlab.host.com:dev-team/jenkins-test.git: DefaultAuthFuture[ssh-connection]: Failed (IllegalStateException) to execute: Cannot prompt user: Failed to read user response: EOF -&gt; [Help 1]\r\n\r\n\r\nAny suggestion on how to fix this error?","title":"Jenkins use maven release without ssh and git installed","body":"<p>I'm using Jenkins and Maven Release plugin to make the release to tag to a private owned GitLab using a SSH private key, in an isolated docker image:</p>\n<pre><code>withDockerContainer(image: 'maven:3.6.3-openjdk-8') {\n    sshagent (credentials: [&quot;${GITLAB_CREDS}&quot;]) {\n        sh 'ssh -o StrictHostKeyChecking=no git@gitlab.***.com'\n        sh 'git config --global user.email &quot;no-one@noemail.com&quot;'\n        sh 'git config --global user.name &quot;Jenkins Job&quot;'\n        sh &quot;mvn -B clean release:prepare release:perform -q&quot;\n    }\n}\n</code></pre>\n<p>This works fine until SysAdmin team decided to run Jenkins using user jenkins:jenkins which maven docker doesn't have but, ssh requires a valid user. And it throws error:</p>\n<pre><code>No user exists for uid 332\n</code></pre>\n<p>So I don't want it to rely on system's native git client but a maven impl. After some investigation, seems maven-scm-provider-jgit is what I need. So I configured it in pom followed by the instruction in its website:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;providerImplementations&gt;\n            &lt;git&gt;jgit&lt;/git&gt;\n        &lt;/providerImplementations&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-scm-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;providerImplementations&gt;\n            &lt;git&gt;jgit&lt;/git&gt;\n        &lt;/providerImplementations&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-scm-provider-jgit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And in settings.xml:</p>\n<pre><code>&lt;server&gt;\n    &lt;id&gt;git@gitlab.***.com&lt;/id&gt;\n    &lt;privateKey&gt;${ssh.privateKey}&lt;/privateKey&gt;\n    &lt;passphrase&gt;&lt;/passphrase&gt;\n&lt;/server&gt;\n</code></pre>\n<p>And then in script:</p>\n<pre><code>withDockerContainer(image: 'maven:3.6.3-openjdk-8-slim') {\n    withCredentials([sshUserPrivateKey(credentialsId: &quot;${GITLAB_CREDS}&quot;, keyFileVariable: 'keyFile')]) {\n        configFileProvider([configFile(fileId: 'maven-nexus-settings', variable: 'MAVEN_SETTINGS')]) {\n             sh &quot;mvn -B -s ${MAVEN_SETTINGS} clean release:prepare release:perform -Dssh.privateKey=${keyFile} -q&quot;\n        }\n    }\n}\n</code></pre>\n<p>And it returns error:</p>\n<ul>\n<li>mvn -B -s /var/lib/jenkins/workspace/jenkins-test@tmp/config6359189442870799267tmp clean release:prepare release:perform -Dssh.privateKey=**** -q\nThe authenticity of host 'gitlab.host.com' cannot be established.: The EC key's fingerprints are:: MD5:7b:b2:aa:81:25:b9:88:6f:62:4c:13:d4:87:f9:c5:b5: SHA256:PYlJZompVha0FYBp5bTVR56HdGw3ZtfFkVhWol1OLgw: Accept and store this key, and continue connecting? (yes/no): [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0:prepare (default-cli) on project jenkins-test: An error is occurred in the checkin process: Exception while executing SCM command. JGit checkin failure! git@gitlab.host.com:dev-team/jenkins-test.git: DefaultAuthFuture[ssh-connection]: Failed (IllegalStateException) to execute: Cannot prompt user: Failed to read user response: EOF -&gt; [Help 1]</li>\n</ul>\n<p>Any suggestion on how to fix this error?</p>\n"},{"tags":["java","spring-boot","tomcat","unix-socket"],"owner":{"account_id":2966038,"reputation":315,"user_id":2519165,"accept_rate":40,"display_name":"Devour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683624691,"creation_date":1683624691,"question_id":76207826,"body_markdown":"I&#39;m trying to configure Springboot(Tomcat) to start using unix-socket in Windows, but I get an error &quot;Address already in use: bind&quot;. I have my own connector with port 0, but in debug mode it appears to be -1 (I don&#39;t think it&#39;s causes this exception though). \r\nI&#39;m totaly new to this topic so will appreciate any pieces of advice where to start from. \r\nOr any examples. Thanks in advance. \r\nHere&#39;s my configuration:    \r\n \r\n    @Configuration\r\n    public class TomcatConfiguration {\r\n            @Bean\r\n            public TomcatServletWebServerFactory tomcatServletWebServerFactory() {\r\n                TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();\r\n        \r\n                factory.addConnectorCustomizers(\r\n                        connector -&gt; {\r\n                            connector.setPort(0);\r\n                            connector.setScheme(&quot;http&quot;);\r\n                            connector.setProperty(&quot;socketFactoryClassName&quot;, &quot;org.apache.tomcat.jni.SocketFactory&quot;);\r\n                            connector.setProperty(&quot;socketFactoryEncoding&quot;, &quot;UTF-8&quot;);\r\n        \r\n                            try {\r\n                                UnixDomainSocketAddress address =  UnixDomainSocketAddress.of(SOCKET_FILE);\r\n                                StandardProtocolFamily family = StandardProtocolFamily.UNIX;\r\n                                ServerSocketChannel server = ServerSocketChannel.open(family);\r\n                                server.bind(address);\r\n                                server.accept();\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                );\r\n                return factory;\r\n          }\r\n    }","title":"SpringBoot configuration to enable unix sockets in Windows","body":"<p>I'm trying to configure Springboot(Tomcat) to start using unix-socket in Windows, but I get an error &quot;Address already in use: bind&quot;. I have my own connector with port 0, but in debug mode it appears to be -1 (I don't think it's causes this exception though).\nI'm totaly new to this topic so will appreciate any pieces of advice where to start from.\nOr any examples. Thanks in advance.\nHere's my configuration:</p>\n<pre><code>@Configuration\npublic class TomcatConfiguration {\n        @Bean\n        public TomcatServletWebServerFactory tomcatServletWebServerFactory() {\n            TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();\n    \n            factory.addConnectorCustomizers(\n                    connector -&gt; {\n                        connector.setPort(0);\n                        connector.setScheme(&quot;http&quot;);\n                        connector.setProperty(&quot;socketFactoryClassName&quot;, &quot;org.apache.tomcat.jni.SocketFactory&quot;);\n                        connector.setProperty(&quot;socketFactoryEncoding&quot;, &quot;UTF-8&quot;);\n    \n                        try {\n                            UnixDomainSocketAddress address =  UnixDomainSocketAddress.of(SOCKET_FILE);\n                            StandardProtocolFamily family = StandardProtocolFamily.UNIX;\n                            ServerSocketChannel server = ServerSocketChannel.open(family);\n                            server.bind(address);\n                            server.accept();\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n            );\n            return factory;\n      }\n}\n</code></pre>\n"},{"tags":["java","if-statement","while-loop","socket.io"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1683625069,"post_id":76207796,"comment_id":134391561,"body_markdown":"take a look at [this](https://stackoverflow.com/a/4300803/16034206), it seems likely that you closed the socket while there are still remainingBytes to be read. It might be better to have the condition while remainingBytes &gt; 0","body":"take a look at <a href=\"https://stackoverflow.com/a/4300803/16034206\">this</a>, it seems likely that you closed the socket while there are still remainingBytes to be read. It might be better to have the condition while remainingBytes &gt; 0"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1683625116,"post_id":76207796,"comment_id":134391573,"body_markdown":"have you debugged your code? Also, you may want to refactor it: this -&gt; &quot;close&quot;.trim().toLowerCase()) makes no sense at all.","body":"have you debugged your code? Also, you may want to refactor it: this -&gt; &quot;close&quot;.trim().toLowerCase()) makes no sense at all."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1683627639,"post_id":76207796,"comment_id":134392208,"body_markdown":"No point in trimming and lowercasing a word that is already trimmed and in lowercase.","body":"No point in trimming and lowercasing a word that is already trimmed and in lowercase."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1683631737,"post_id":76207796,"comment_id":134393121,"body_markdown":"The loop `while ((receivedBytes = dis.read(buffer)) &gt; 0)` will only be terminated when the client closes the connection. It will not terminate after the client is done sending a file.","body":"The loop <code>while ((receivedBytes = dis.read(buffer)) &gt; 0)</code> will only be terminated when the client closes the connection. It will not terminate after the client is done sending a file."}],"owner":{"account_id":28545767,"reputation":11,"user_id":21851209,"display_name":"raygaymon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683624529,"creation_date":1683624529,"question_id":76207796,"body_markdown":"As part of my Java course, I&#39;m writing a server-client socket program that facilitates a file transfer. While the file transfer works fine, it always throws an exception whenever I try to close it from the client side.\r\n\r\nThe code for the server is as follows:\r\n\r\n```\r\n        String client = &quot;&quot;;\r\n        long size;\r\n        //set the connection checker and disconnector\r\n        boolean exit = false;\r\n\r\n        try  {\r\n\r\n            System.out.println(&quot;Client passed to thread&quot;);\r\n            InputStream is = sock.getInputStream();\r\n            BufferedInputStream bis = new BufferedInputStream(is);\r\n            DataInputStream dis = new DataInputStream(bis);\r\n\r\n\r\n            while (!exit) {\r\n\r\n                System.out.println(&quot;Client passed into while loop&quot;);\r\n                //put the stuff in a while loop\r\n                client = dis.readUTF();// can separate the types of input\r\n                size = dis.readLong();\r\n\r\n                if (client.equals(&quot;close&quot;.trim().toLowerCase())) {\r\n                    System.out.println(&quot;Client disconnected&quot;);\r\n                    dis.close();\r\n                    bis.close();\r\n                    is.close();\r\n                    exit = true;\r\n                    continue;\r\n                } \r\n                \r\n                else {\r\n\r\n                    System.out.println(&quot;File received: &quot; + client + &quot;\\nFile size: &quot; + size);\r\n                    // fileoutput is tacked onto output stream directly\r\n                    OutputStream os = new FileOutputStream(client);\r\n                    // create output stream to write to the file\r\n                    BufferedOutputStream bos = new BufferedOutputStream(os);\r\n\r\n                    byte[] buffer = new byte[4 * 1024];\r\n                    int receivedBytes = 0;\r\n                    long remainingBytes = 0;\r\n                    System.out.println(receivedBytes + &quot; received...&quot;);\r\n\r\n                    while ((receivedBytes = dis.read(buffer)) &gt; 0) {\r\n\r\n                        bos.write(buffer, 0, receivedBytes);\r\n                        remainingBytes = size - receivedBytes;\r\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\r\n                        bos.flush();\r\n                        exit = true;\r\n\r\n                    }\r\n\r\n                    bos.close();\r\n                    os.close();\r\n                }\r\n                \r\n            }\r\n\r\n            dis.close();\r\n            bis.close();\r\n            is.close();\r\n           \r\n            // if (size &lt; 20.0) {\r\n                \r\n            //     System.out.println(&quot;File size insufficient, please include more stuff&quot;);\r\n            // }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            \r\n        } finally {\r\n            try {\r\n                sock.close();\r\n            } catch (IOException e) {\r\n                \r\n            }\r\n\r\n        }\r\n```\r\n\r\nAnd the client code is here:\r\n\r\n```\r\nString input = &quot;&quot;;\r\n        long l = 1024;\r\n        int fileData;\r\n\r\n        Console cons = System.console();\r\n        Socket socket = new Socket(host, Integer.parseInt(port));\r\n\r\n        while (!(&quot;close&quot;).equals(input.trim().toLowerCase())) {\r\n\r\n            input = cons.readLine(&quot;Please indicate the file to be sent: \\n&quot;);\r\n\r\n\r\n            OutputStream os = socket.getOutputStream();\r\n            BufferedOutputStream bos = new BufferedOutputStream(os);\r\n            DataOutputStream dos = new DataOutputStream(bos);\r\n\r\n            if (input.equals(&quot;close&quot;.trim().toLowerCase())) {\r\n\r\n                dos.writeUTF(input);\r\n                dos.writeLong(l);\r\n                dos.flush();\r\n                System.out.println(&quot;Gotcha. Disconnecting&quot;);\r\n                break;\r\n            }\r\n\r\n            File toBeSent = new File(input);\r\n\r\n            if (!toBeSent.exists()) {\r\n\r\n                input = cons.readLine(&quot;That file does not exist. Would you like to create it: \\n&quot;);\r\n\r\n                if (input.equals(&quot;yes&quot;)) {\r\n\r\n                    toBeSent.createNewFile();\r\n                    System.out.println(&quot;File created, add something inside before sending&quot;);\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            else {\r\n\r\n                try {\r\n                    dos.writeUTF(input);\r\n                    dos.writeLong(toBeSent.length());\r\n                    dos.flush();\r\n\r\n                    InputStream is = new FileInputStream(toBeSent);\r\n\r\n                    BufferedInputStream bis = new BufferedInputStream(is);\r\n\r\n                    byte[] buffer = new byte[4 * 1024];\r\n                    int size = 0;\r\n\r\n                    while ((size = bis.read(buffer)) &gt; 0) {\r\n\r\n                        dos.write(buffer, 0, size);\r\n                        dos.flush();\r\n                    }\r\n\r\n                    bis.close();\r\n                    is.close();\r\n\r\n                    continue;\r\n\r\n                } catch (EOFException e) {\r\n\r\n                }\r\n                dos.close();\r\n                bos.close();\r\n                os.close();\r\n\r\n            }\r\n        }\r\n```\r\n\r\nThis thing is, the server-side code\r\n\r\n```\r\nif (client.equals(&quot;close&quot;.trim().toLowerCase())) {\r\n    System.out.println(&quot;Client disconnected&quot;);\r\n    dis.close();\r\n    bis.close();\r\n    is.close();\r\n    exit = true;\r\n    continue;\r\n} \r\n```\r\n\r\nworks just fine, but only as the first input. As soon as the rest of the server code runs, it throws an exception whenever I try to input &quot;close&quot; from the client:\r\n\r\n```\r\njava.net.SocketException: Connection reset\r\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\r\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340)\r\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789)\r\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025)\r\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:258)\r\n        at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:313)\r\n        at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:386)       \r\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:365)\r\n        at java.base/java.io.DataInputStream.read(DataInputStream.java:102)\r\n        at sg.edu.nus.iss.ClientHandler.run(ClientHandler.java:70)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)  \r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\n```\r\n\r\nThe aforementioned Line 70 is the start of the while loop below:\r\n\r\n```\r\nwhile ((receivedBytes = dis.read(buffer)) &gt; 0) {\r\n\r\n                        bos.write(buffer, 0, receivedBytes);\r\n                        remainingBytes = size - receivedBytes;\r\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\r\n                        bos.flush();\r\n                        exit = true;\r\n\r\n                    }\r\n```\r\n\r\nAny insight would be greatly appreciated. Thank you!","title":"Why does my while loop continue to run despite the if condition","body":"<p>As part of my Java course, I'm writing a server-client socket program that facilitates a file transfer. While the file transfer works fine, it always throws an exception whenever I try to close it from the client side.</p>\n<p>The code for the server is as follows:</p>\n<pre><code>        String client = &quot;&quot;;\n        long size;\n        //set the connection checker and disconnector\n        boolean exit = false;\n\n        try  {\n\n            System.out.println(&quot;Client passed to thread&quot;);\n            InputStream is = sock.getInputStream();\n            BufferedInputStream bis = new BufferedInputStream(is);\n            DataInputStream dis = new DataInputStream(bis);\n\n\n            while (!exit) {\n\n                System.out.println(&quot;Client passed into while loop&quot;);\n                //put the stuff in a while loop\n                client = dis.readUTF();// can separate the types of input\n                size = dis.readLong();\n\n                if (client.equals(&quot;close&quot;.trim().toLowerCase())) {\n                    System.out.println(&quot;Client disconnected&quot;);\n                    dis.close();\n                    bis.close();\n                    is.close();\n                    exit = true;\n                    continue;\n                } \n                \n                else {\n\n                    System.out.println(&quot;File received: &quot; + client + &quot;\\nFile size: &quot; + size);\n                    // fileoutput is tacked onto output stream directly\n                    OutputStream os = new FileOutputStream(client);\n                    // create output stream to write to the file\n                    BufferedOutputStream bos = new BufferedOutputStream(os);\n\n                    byte[] buffer = new byte[4 * 1024];\n                    int receivedBytes = 0;\n                    long remainingBytes = 0;\n                    System.out.println(receivedBytes + &quot; received...&quot;);\n\n                    while ((receivedBytes = dis.read(buffer)) &gt; 0) {\n\n                        bos.write(buffer, 0, receivedBytes);\n                        remainingBytes = size - receivedBytes;\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\n                        bos.flush();\n                        exit = true;\n\n                    }\n\n                    bos.close();\n                    os.close();\n                }\n                \n            }\n\n            dis.close();\n            bis.close();\n            is.close();\n           \n            // if (size &lt; 20.0) {\n                \n            //     System.out.println(&quot;File size insufficient, please include more stuff&quot;);\n            // }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            \n        } finally {\n            try {\n                sock.close();\n            } catch (IOException e) {\n                \n            }\n\n        }\n</code></pre>\n<p>And the client code is here:</p>\n<pre><code>String input = &quot;&quot;;\n        long l = 1024;\n        int fileData;\n\n        Console cons = System.console();\n        Socket socket = new Socket(host, Integer.parseInt(port));\n\n        while (!(&quot;close&quot;).equals(input.trim().toLowerCase())) {\n\n            input = cons.readLine(&quot;Please indicate the file to be sent: \\n&quot;);\n\n\n            OutputStream os = socket.getOutputStream();\n            BufferedOutputStream bos = new BufferedOutputStream(os);\n            DataOutputStream dos = new DataOutputStream(bos);\n\n            if (input.equals(&quot;close&quot;.trim().toLowerCase())) {\n\n                dos.writeUTF(input);\n                dos.writeLong(l);\n                dos.flush();\n                System.out.println(&quot;Gotcha. Disconnecting&quot;);\n                break;\n            }\n\n            File toBeSent = new File(input);\n\n            if (!toBeSent.exists()) {\n\n                input = cons.readLine(&quot;That file does not exist. Would you like to create it: \\n&quot;);\n\n                if (input.equals(&quot;yes&quot;)) {\n\n                    toBeSent.createNewFile();\n                    System.out.println(&quot;File created, add something inside before sending&quot;);\n                    continue;\n                }\n            }\n\n            else {\n\n                try {\n                    dos.writeUTF(input);\n                    dos.writeLong(toBeSent.length());\n                    dos.flush();\n\n                    InputStream is = new FileInputStream(toBeSent);\n\n                    BufferedInputStream bis = new BufferedInputStream(is);\n\n                    byte[] buffer = new byte[4 * 1024];\n                    int size = 0;\n\n                    while ((size = bis.read(buffer)) &gt; 0) {\n\n                        dos.write(buffer, 0, size);\n                        dos.flush();\n                    }\n\n                    bis.close();\n                    is.close();\n\n                    continue;\n\n                } catch (EOFException e) {\n\n                }\n                dos.close();\n                bos.close();\n                os.close();\n\n            }\n        }\n</code></pre>\n<p>This thing is, the server-side code</p>\n<pre><code>if (client.equals(&quot;close&quot;.trim().toLowerCase())) {\n    System.out.println(&quot;Client disconnected&quot;);\n    dis.close();\n    bis.close();\n    is.close();\n    exit = true;\n    continue;\n} \n</code></pre>\n<p>works just fine, but only as the first input. As soon as the rest of the server code runs, it throws an exception whenever I try to input &quot;close&quot; from the client:</p>\n<pre><code>java.net.SocketException: Connection reset\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340)\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789)\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025)\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:258)\n        at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:313)\n        at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:386)       \n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:365)\n        at java.base/java.io.DataInputStream.read(DataInputStream.java:102)\n        at sg.edu.nus.iss.ClientHandler.run(ClientHandler.java:70)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)  \n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n<p>The aforementioned Line 70 is the start of the while loop below:</p>\n<pre><code>while ((receivedBytes = dis.read(buffer)) &gt; 0) {\n\n                        bos.write(buffer, 0, receivedBytes);\n                        remainingBytes = size - receivedBytes;\n                        System.out.println(receivedBytes + &quot; received...\\n&quot; + remainingBytes + &quot;left&quot;);\n                        bos.flush();\n                        exit = true;\n\n                    }\n</code></pre>\n<p>Any insight would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679486292,"creation_date":1679485921,"answer_id":75811909,"question_id":75811756,"body_markdown":"A simple way to do that is to collect all the Threads into a list, then `join` each of them (in a separate `Thread`, so you don&#39;t block the main thread)\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class X {\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.println(&quot;Hello World&quot;);\r\n\r\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n\r\n        Random rnd = new Random();\r\n\r\n        //I don&#39;t know from the beginning how many objects\r\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\r\n            mainMap.put(i, &quot;elem &quot; + i);\r\n        }\r\n\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        mainMap.forEach(1, (k, v) -&gt; {\r\n\r\n            //this modelize a sub-task my application executes asynchronously\r\n            Thread t = new Thread(() -&gt; {\r\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\r\n\r\n                try {\r\n                    Thread.sleep(k * 500);\r\n                } catch (InterruptedException e1) {\r\n                    // TODO Auto-generated catch block\r\n                    e1.printStackTrace();\r\n                }\r\n\r\n\r\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n            });\r\n            threads.add(t);\r\n            t.start();\r\n        });\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            for (Thread t : threads) {\r\n                try {\r\n                    t.join();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            System.out.println(&quot;All job done !&quot;);\r\n        });\r\n        System.out.println(&quot;Main thread not blocked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut I don&#39;t think your strategy of an unlimited number of threads is good -- usually there is an optimal degree of parallelism, depending on the number of processors and the amount of IO each thread performs.\r\n\r\nI think it&#39;s better to use a thread pool:\r\n```\r\nimport java.util.Random;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class X {\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.println(&quot;Hello World&quot;);\r\n\r\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n\r\n        Random rnd = new Random();\r\n\r\n        //I don&#39;t know from the beginning how many objects\r\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\r\n            mainMap.put(i, &quot;elem &quot; + i);\r\n        }\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(10);\r\n        mainMap.forEach(1, (k, v) -&gt; {\r\n            executor.execute(() -&gt; {\r\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\r\n                try {\r\n                    Thread.sleep(k * 500);\r\n                } catch (InterruptedException e1) {\r\n                    e1.printStackTrace();\r\n                }\r\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n            });\r\n        });\r\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\r\n            try {\r\n                executor.shutdown();\r\n                executor.awaitTermination(1, TimeUnit.MINUTES);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(&quot;All job done !&quot;);\r\n        });\r\n        System.out.println(&quot;Main thread not blocked&quot;);\r\n    }\r\n}\r\n```","title":"Check if ConcurrentHashMap.forEach(PARALLELISM_THR, (k, v)-&gt;) has completed","body":"<p>A simple way to do that is to collect all the Threads into a list, then <code>join</code> each of them (in a separate <code>Thread</code>, so you don't block the main thread)</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.Executors;\n\npublic class X {\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.println(&quot;Hello World&quot;);\n\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n\n        Random rnd = new Random();\n\n        //I don't know from the beginning how many objects\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\n            mainMap.put(i, &quot;elem &quot; + i);\n        }\n\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n        mainMap.forEach(1, (k, v) -&gt; {\n\n            //this modelize a sub-task my application executes asynchronously\n            Thread t = new Thread(() -&gt; {\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\n\n                try {\n                    Thread.sleep(k * 500);\n                } catch (InterruptedException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n\n\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n            });\n            threads.add(t);\n            t.start();\n        });\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\n            for (Thread t : threads) {\n                try {\n                    t.join();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n            System.out.println(&quot;All job done !&quot;);\n        });\n        System.out.println(&quot;Main thread not blocked&quot;);\n    }\n}\n</code></pre>\n<p>But I don't think your strategy of an unlimited number of threads is good -- usually there is an optimal degree of parallelism, depending on the number of processors and the amount of IO each thread performs.</p>\n<p>I think it's better to use a thread pool:</p>\n<pre><code>import java.util.Random;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class X {\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.println(&quot;Hello World&quot;);\n\n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n\n        Random rnd = new Random();\n\n        //I don't know from the beginning how many objects\n        for (int i = 0; i &lt; rnd.nextInt(100); i++) {\n            mainMap.put(i, &quot;elem &quot; + i);\n        }\n\n        ExecutorService executor = Executors.newFixedThreadPool(10);\n        mainMap.forEach(1, (k, v) -&gt; {\n            executor.execute(() -&gt; {\n                System.out.println(&quot;Object &quot; + k + &quot; started working &lt;&quot; + v + &quot;&gt;&quot;);\n                try {\n                    Thread.sleep(k * 500);\n                } catch (InterruptedException e1) {\n                    e1.printStackTrace();\n                }\n                System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n            });\n        });\n        Executors.newSingleThreadExecutor().submit(() -&gt; {\n            try {\n                executor.shutdown();\n                executor.awaitTermination(1, TimeUnit.MINUTES);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(&quot;All job done !&quot;);\n        });\n        System.out.println(&quot;Main thread not blocked&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683624496,"creation_date":1683624496,"answer_id":76207791,"question_id":75811756,"body_markdown":"It seems, you are completely missing the point of the API. When you call `mainMap.forEach(1, …)`, the action is already executed in parallel and there’s no sense in creating new threads, especially not one for each element. You are subverting the entire work that has been done in the `forEach` implementation (the use of thread pools) and create the very problem you are now trying to solve.\r\n\r\nThe `forEach` method does run the actions in parallel and when it returns, the operation has completed.\r\n\r\n```java\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello World&quot;);\r\n    var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n    var rnd = ThreadLocalRandom.current();\r\n\r\n    // I don&#39;t know from the beginning how many objects\r\n    for(int i = 0; i &lt; rnd.nextInt(100); i++) {\r\n      mainMap.put(i, &quot;elem &quot; + i);\r\n    }\r\n\r\n    mainMap.forEach(1, (k, v) -&gt; {\r\n      System.out.println(&quot;Object &quot; + k\r\n          + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\r\n      try {\r\n        Thread.sleep(k * 500);\r\n      }\r\n      catch(InterruptedException e1) {\r\n        e1.printStackTrace();\r\n      }\r\n      System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n    });\r\n\r\n    System.out.println(&quot;All job done !&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```none\r\nHello World\r\nObject 0 started working &lt;elem 0&gt; Thread[#1,main,5,main]\r\nObject 0 done after 0 ms\r\nObject 1 started working &lt;elem 1&gt; Thread[#1,main,5,main]\r\nObject 2 started working &lt;elem 2&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\r\nObject 4 started working &lt;elem 4&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\r\nObject 1 done after 500 ms\r\nObject 2 done after 1000 ms\r\nObject 3 started working &lt;elem 3&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\r\nObject 4 done after 2000 ms\r\nObject 5 started working &lt;elem 5&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\r\nObject 3 done after 1500 ms\r\nObject 5 done after 2500 ms\r\nAll job done !\r\n```\r\n\r\nThe result differs from your expectation slightly, as the waiting times for the first keys are too small.\r\n\r\n---\r\n\r\nIf you want to avoid blocking the initiator thread, e.g. because it’s the event dispatch thread, submit the entire operation to a background thread:\r\n\r\n```java\r\nCompletableFuture&lt;Void&gt; operation = CompletableFuture.runAsync(() -&gt; {\r\n  mainMap.forEach(1, (k, v) -&gt; {\r\n    System.out.println(&quot;Object &quot; + k\r\n        + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\r\n    try {\r\n      Thread.sleep(k * 500);\r\n    }\r\n    catch(InterruptedException e1) {\r\n      e1.printStackTrace();\r\n    }\r\n    System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\r\n  });\r\n});\r\n```\r\n\r\nThen, you can poll the operation status, e.g.\r\n\r\n```java\r\nSystem.out.println(operation.isDone()? &quot;done.&quot;: &quot;still running&quot;);\r\n```\r\n\r\nbut also chain dependent operations like\r\n\r\n```java\r\noperation.thenAccept(_void -&gt; System.out.println(&quot;All job done !&quot;));\r\n```\r\n\r\nor, more interesting for your actual use case,\r\n\r\n```java\r\noperation.thenAcceptAsync(_void -&gt; {\r\n    /* update UI components */\r\n  }, EventQueue::invokeLater);\r\n```\r\n\r\nto update the UI components in the event dispatch thread after completion while not blocking the event dispatch thread while running.\r\n","title":"Check if ConcurrentHashMap.forEach(PARALLELISM_THR, (k, v)-&gt;) has completed","body":"<p>It seems, you are completely missing the point of the API. When you call <code>mainMap.forEach(1, …)</code>, the action is already executed in parallel and there’s no sense in creating new threads, especially not one for each element. You are subverting the entire work that has been done in the <code>forEach</code> implementation (the use of thread pools) and create the very problem you are now trying to solve.</p>\n<p>The <code>forEach</code> method does run the actions in parallel and when it returns, the operation has completed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello World&quot;);\n    var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n    var rnd = ThreadLocalRandom.current();\n\n    // I don't know from the beginning how many objects\n    for(int i = 0; i &lt; rnd.nextInt(100); i++) {\n      mainMap.put(i, &quot;elem &quot; + i);\n    }\n\n    mainMap.forEach(1, (k, v) -&gt; {\n      System.out.println(&quot;Object &quot; + k\n          + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\n      try {\n        Thread.sleep(k * 500);\n      }\n      catch(InterruptedException e1) {\n        e1.printStackTrace();\n      }\n      System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n    });\n\n    System.out.println(&quot;All job done !&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World\nObject 0 started working &lt;elem 0&gt; Thread[#1,main,5,main]\nObject 0 done after 0 ms\nObject 1 started working &lt;elem 1&gt; Thread[#1,main,5,main]\nObject 2 started working &lt;elem 2&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\nObject 4 started working &lt;elem 4&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\nObject 1 done after 500 ms\nObject 2 done after 1000 ms\nObject 3 started working &lt;elem 3&gt; Thread[#22,ForkJoinPool.commonPool-worker-1,5,main]\nObject 4 done after 2000 ms\nObject 5 started working &lt;elem 5&gt; Thread[#23,ForkJoinPool.commonPool-worker-2,5,main]\nObject 3 done after 1500 ms\nObject 5 done after 2500 ms\nAll job done !\n</code></pre>\n<p>The result differs from your expectation slightly, as the waiting times for the first keys are too small.</p>\n<hr />\n<p>If you want to avoid blocking the initiator thread, e.g. because it’s the event dispatch thread, submit the entire operation to a background thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; operation = CompletableFuture.runAsync(() -&gt; {\n  mainMap.forEach(1, (k, v) -&gt; {\n    System.out.println(&quot;Object &quot; + k\n        + &quot; started working &lt;&quot; + v + &quot;&gt; &quot; + Thread.currentThread());\n    try {\n      Thread.sleep(k * 500);\n    }\n    catch(InterruptedException e1) {\n      e1.printStackTrace();\n    }\n    System.out.println(&quot;Object &quot; + k + &quot; done after &quot; + (k * 500) + &quot; ms&quot;);\n  });\n});\n</code></pre>\n<p>Then, you can poll the operation status, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(operation.isDone()? &quot;done.&quot;: &quot;still running&quot;);\n</code></pre>\n<p>but also chain dependent operations like</p>\n<pre class=\"lang-java prettyprint-override\"><code>operation.thenAccept(_void -&gt; System.out.println(&quot;All job done !&quot;));\n</code></pre>\n<p>or, more interesting for your actual use case,</p>\n<pre class=\"lang-java prettyprint-override\"><code>operation.thenAcceptAsync(_void -&gt; {\n    /* update UI components */\n  }, EventQueue::invokeLater);\n</code></pre>\n<p>to update the UI components in the event dispatch thread after completion while not blocking the event dispatch thread while running.</p>\n"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683624496,"creation_date":1679484938,"question_id":75811756,"body_markdown":"is there a way to know if a parallel foreach on a concurrent hashmap has ended\r\n\r\n\r\nhere is an example of what I want to do:\r\n\r\n```java\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.Random;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t \r\n\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t\t\r\n\t\tvar mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\r\n\t\t\r\n\t\t Random rnd = new Random();\r\n\t\t\r\n        //I don&#39;t know from the beginning how many objects\r\n\t\tfor(int i=0; i&lt;rnd.nextInt(100); i++){\r\n\t\t    mainMap.put(i,&quot;elem &quot;+i);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\tmainMap.forEach(1, (k, v) -&gt; {\r\n                \r\n                //this modelize a sub-task my application executes asynchronously\r\n                Thread t = new Thread(()-&gt;{\r\n                System.out.println(&quot;Object &quot;+k+&quot; started working &lt;&quot; + v+&quot;&gt;&quot;);\r\n                \r\n                try {\r\n\t\t            Thread.sleep(k*500);\t\r\n\t\t            } catch (InterruptedException e1) {\r\n\t\t\t        // TODO Auto-generated catch block\r\n\t\t\t        e1.printStackTrace();\r\n\t\t    }\r\n\t\t\r\n        \r\n                System.out.println(&quot;Object &quot;+k+&quot; done after &quot;+(k*500)+&quot; ms&quot;);\r\n                });\r\n                \r\n                t.start();\r\n            });\r\n            \r\n            //I want to print this only after all jobs are finished\r\n            //but still I don&#39;t want to block the main (GUI) thread\r\n            System.out.println(&quot;All job done !&quot;);\r\n            \r\n       return;\r\n\t}\r\n}\r\n```\r\n\r\nright now an output is like this:\r\n\r\n```\r\nHello World\r\nAll job done !\r\nObject 0 started working &lt;elem 0&gt;\r\nObject 2 started working &lt;elem 2&gt;\r\nObject 4 started working &lt;elem 4&gt;\r\nObject 3 started working &lt;elem 3&gt;\r\nObject 1 started working &lt;elem 1&gt;\r\nObject 0 done after 0 ms\r\nObject 1 done after 500 ms\r\nObject 2 done after 1000 ms\r\nObject 3 done after 1500 ms\r\n```\r\nBut I expect something like this:\r\n\r\n```\r\nHello World\r\nObject 0 started working &lt;elem 0&gt;\r\nObject 2 started working &lt;elem 2&gt;\r\nObject 4 started working &lt;elem 4&gt;\r\nObject 3 started working &lt;elem 3&gt;\r\nObject 1 started working &lt;elem 1&gt;\r\nObject 0 done after 0 ms\r\nObject 4 done after 2000 ms\r\nObject 1 done after 500 ms\r\nObject 2 done after 1000 ms\r\nObject 3 done after 1500 ms\r\nAll job done !\r\n```\r\n","title":"Check if ConcurrentHashMap.forEach(PARALLELISM_THR, (k, v)-&gt;) has completed","body":"<p>is there a way to know if a parallel foreach on a concurrent hashmap has ended</p>\n<p>here is an example of what I want to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ConcurrentHashMap;\nimport java.util.Random;\npublic class Main\n{\n    public static void main(String[] args) {\n     \n        System.out.println(&quot;Hello World&quot;);\n        \n        var mainMap = new ConcurrentHashMap&lt;Integer, String&gt;();\n        \n         Random rnd = new Random();\n        \n        //I don't know from the beginning how many objects\n        for(int i=0; i&lt;rnd.nextInt(100); i++){\n            mainMap.put(i,&quot;elem &quot;+i);\n        }\n        \n        \n        \n            mainMap.forEach(1, (k, v) -&gt; {\n                \n                //this modelize a sub-task my application executes asynchronously\n                Thread t = new Thread(()-&gt;{\n                System.out.println(&quot;Object &quot;+k+&quot; started working &lt;&quot; + v+&quot;&gt;&quot;);\n                \n                try {\n                    Thread.sleep(k*500);    \n                    } catch (InterruptedException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n            }\n        \n        \n                System.out.println(&quot;Object &quot;+k+&quot; done after &quot;+(k*500)+&quot; ms&quot;);\n                });\n                \n                t.start();\n            });\n            \n            //I want to print this only after all jobs are finished\n            //but still I don't want to block the main (GUI) thread\n            System.out.println(&quot;All job done !&quot;);\n            \n       return;\n    }\n}\n</code></pre>\n<p>right now an output is like this:</p>\n<pre><code>Hello World\nAll job done !\nObject 0 started working &lt;elem 0&gt;\nObject 2 started working &lt;elem 2&gt;\nObject 4 started working &lt;elem 4&gt;\nObject 3 started working &lt;elem 3&gt;\nObject 1 started working &lt;elem 1&gt;\nObject 0 done after 0 ms\nObject 1 done after 500 ms\nObject 2 done after 1000 ms\nObject 3 done after 1500 ms\n</code></pre>\n<p>But I expect something like this:</p>\n<pre><code>Hello World\nObject 0 started working &lt;elem 0&gt;\nObject 2 started working &lt;elem 2&gt;\nObject 4 started working &lt;elem 4&gt;\nObject 3 started working &lt;elem 3&gt;\nObject 1 started working &lt;elem 1&gt;\nObject 0 done after 0 ms\nObject 4 done after 2000 ms\nObject 1 done after 500 ms\nObject 2 done after 1000 ms\nObject 3 done after 1500 ms\nAll job done !\n</code></pre>\n"},{"tags":["java","file-io","delete-directory"],"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":7,"creation_date":1385715932,"post_id":20281835,"comment_id":30257710,"body_markdown":"What happened when you tried?","body":"What happened when you tried?"},{"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":1,"creation_date":1385716033,"post_id":20281835,"comment_id":30257779,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"score":1,"creation_date":1385716050,"post_id":20281835,"comment_id":30257790,"body_markdown":"index file not remove.","body":"index file not remove."},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1385716101,"post_id":20281835,"comment_id":30257810,"body_markdown":"you are callinf index.mkdir() again,so if the file is removed then also it will create another","body":"you are callinf index.mkdir() again,so if the file is removed then also it will create another"},{"owner":{"account_id":2569717,"reputation":22819,"user_id":2228771,"accept_rate":77,"display_name":"Domi"},"score":0,"creation_date":1385716106,"post_id":20281835,"comment_id":30257814,"body_markdown":"@user3048442 That is probably because you are re-creating it after deleting it.","body":"@user3048442 That is probably because you are re-creating it after deleting it."},{"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"score":0,"creation_date":1385716155,"post_id":20281835,"comment_id":30257834,"body_markdown":"I want a create and delete a file as dynamically.but here file was created not deleted.","body":"I want a create and delete a file as dynamically.but here file was created not deleted."},{"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"score":0,"creation_date":1385716258,"post_id":20281835,"comment_id":30257890,"body_markdown":"mr.JqueryLearner that folder cotains file but that files are not deleted i want delete that file also.","body":"mr.JqueryLearner that folder cotains file but that files are not deleted i want delete that file also."},{"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":1,"creation_date":1417289030,"post_id":20281835,"comment_id":42894551,"body_markdown":"Refer [How to delete a directory in Java](http://opensourceforgeeks.blogspot.in/2014/11/how-to-delete-directory-in-java.html)","body":"Refer <a href=\"http://opensourceforgeeks.blogspot.in/2014/11/how-to-delete-directory-in-java.html\" rel=\"nofollow noreferrer\">How to delete a directory in Java</a>"},{"owner":{"account_id":2112055,"reputation":553,"user_id":1877143,"display_name":"Hank Schultz"},"score":1,"creation_date":1447258057,"post_id":20281835,"comment_id":55082648,"body_markdown":"Unfortunately, @AniketThakur, that approach will follow symbolic links and delete files and directories that may not have been intended.","body":"Unfortunately, @AniketThakur, that approach will follow symbolic links and delete files and directories that may not have been intended."},{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":0,"creation_date":1548755222,"post_id":20281835,"comment_id":95645856,"body_markdown":"The Apache IO library has the capability to delete directories with files.  Check https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html","body":"The Apache IO library has the capability to delete directories with files.  Check <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-io/javadocs/api-2.5/org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1385716099,"creation_date":1385716099,"answer_id":20281899,"question_id":20281835,"body_markdown":"Remove it from else part\r\n\r\n    File index = new File(&quot;/home/Work/Indexer1&quot;);\r\n    if (!index.exists())\r\n    {\r\n         index.mkdir();\r\n         System.out.println(&quot;Dir Not present. Creating new one!&quot;);\r\n    }\r\n    index.delete();\r\n    System.out.println(&quot;File deleted successfully&quot;);\r\n","title":"How to delete a folder with files using Java","body":"<p>Remove it from else part</p>\n\n<pre><code>File index = new File(\"/home/Work/Indexer1\");\nif (!index.exists())\n{\n     index.mkdir();\n     System.out.println(\"Dir Not present. Creating new one!\");\n}\nindex.delete();\nSystem.out.println(\"File deleted successfully\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385717793,"creation_date":1385716177,"answer_id":20281925,"question_id":20281835,"body_markdown":"In this  \r\n\r\n    index.delete();\r\n    \r\n                if (!index.exists())\r\n                   {\r\n                       index.mkdir();\r\n                   }\r\n\r\nyou are calling\r\n\r\n     if (!index.exists())\r\n                       {\r\n                           index.mkdir();\r\n                       }\r\n\r\nafter\r\n\r\n    index.delete();\r\n\r\nThis means that you are creating the file again after deleting\r\n[File.delete()][1] returns a boolean value.So if you want to check then do `System.out.println(index.delete());` if you get `true` then this means that file is deleted\r\n\r\n    File index = new File(&quot;/home/Work/Indexer1&quot;);\r\n    &#160; &#160; if (!index.exists())\r\n    &#160; &#160; &#160; &#160;{\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160;index.mkdir();\r\n    &#160; &#160; &#160; &#160;}\r\n    &#160; &#160; else{\r\n    &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(index.delete());//If you get true then file is deleted\r\n    \r\n    \r\n    \r\n    \r\n    &#160; &#160; &#160; &#160; &#160; &#160; if (!index.exists())\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;index.mkdir();// here you are creating again after deleting the file\r\n    &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;}\r\n    \r\n    \r\n    \r\n    \r\n    &#160; &#160; &#160; &#160; }\r\n\r\nfrom the [comments][2] given below,the updated answer is like this\r\n\r\n\r\n    File f=new File(&quot;full_path&quot;);//full path like c:/home/ri\r\n    \tif(f.exists())\r\n    \t{\r\n    \t\tf.delete();\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\ttry {\r\n    \t\t\t//f.createNewFile();//this will create a file\r\n    \t\t\tf.mkdir();//this create a folder\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/File.html#delete%28%29\r\n  [2]: https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java/20281925?noredirect=1#comment30258407_20281925","title":"How to delete a folder with files using Java","body":"<p>In this  </p>\n\n<pre><code>index.delete();\n\n            if (!index.exists())\n               {\n                   index.mkdir();\n               }\n</code></pre>\n\n<p>you are calling</p>\n\n<pre><code> if (!index.exists())\n                   {\n                       index.mkdir();\n                   }\n</code></pre>\n\n<p>after</p>\n\n<pre><code>index.delete();\n</code></pre>\n\n<p>This means that you are creating the file again after deleting\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html#delete%28%29\" rel=\"nofollow noreferrer\">File.delete()</a> returns a boolean value.So if you want to check then do <code>System.out.println(index.delete());</code> if you get <code>true</code> then this means that file is deleted</p>\n\n<pre><code>File index = new File(\"/home/Work/Indexer1\");\n    if (!index.exists())\n       {\n             index.mkdir();\n       }\n    else{\n            System.out.println(index.delete());//If you get true then file is deleted\n\n\n\n\n            if (!index.exists())\n               {\n                   index.mkdir();// here you are creating again after deleting the file\n               }\n\n\n\n\n        }\n</code></pre>\n\n<p>from the <a href=\"https://stackoverflow.com/questions/20281835/how-to-delete-a-folder-with-files-using-java/20281925?noredirect=1#comment30258407_20281925\">comments</a> given below,the updated answer is like this</p>\n\n<pre><code>File f=new File(\"full_path\");//full path like c:/home/ri\n    if(f.exists())\n    {\n        f.delete();\n    }\n    else\n    {\n        try {\n            //f.createNewFile();//this will create a file\n            f.mkdir();//this create a folder\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"score":47,"creation_date":1424020838,"post_id":20281958,"comment_id":45372806,"body_markdown":"This won&#39;t delete non-empty subdirectories.","body":"This won&#39;t delete non-empty subdirectories."},{"owner":{"account_id":2112055,"reputation":553,"user_id":1877143,"display_name":"Hank Schultz"},"score":5,"creation_date":1447257843,"post_id":20281958,"comment_id":55082513,"body_markdown":"Be VERY careful.  If index is a symbolic link to another directory, you&#39;ll wind up deleting the contents of the other directory.  Unfortunately, I&#39;ve not yet found a good way to detect symbolic links on Windows in Java 6, though Java 7 provides Files.isSymbolicLink().","body":"Be VERY careful.  If index is a symbolic link to another directory, you&#39;ll wind up deleting the contents of the other directory.  Unfortunately, I&#39;ve not yet found a good way to detect symbolic links on Windows in Java 6, though Java 7 provides Files.isSymbolicLink()."},{"owner":{"account_id":2112055,"reputation":553,"user_id":1877143,"display_name":"Hank Schultz"},"score":1,"creation_date":1447258615,"post_id":20281958,"comment_id":55083036,"body_markdown":"Solution:  wrap this chunk of code in `if (!index.delete()) {...}`.  Then, if index is a symbolic link, it&#39;s deleted regardless of whether it appears it has contents.","body":"Solution:  wrap this chunk of code in <code>if (!index.delete()) {...}</code>.  Then, if index is a symbolic link, it&#39;s deleted regardless of whether it appears it has contents."},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":0,"creation_date":1509494126,"post_id":20281958,"comment_id":81039702,"body_markdown":"This will throw a NullPointerException if there is an I/O exception while reading the directory.  The code should check whether `entries` is null.","body":"This will throw a NullPointerException if there is an I/O exception while reading the directory.  The code should check whether <code>entries</code> is null."},{"owner":{"account_id":8141379,"reputation":133,"user_id":6131433,"display_name":"ferpaxecosanxez"},"score":0,"creation_date":1651834005,"post_id":20281958,"comment_id":127463454,"body_markdown":"The method delete files only if `index` is a path of directory, example `my/path/`, otherwise throw  NullPointerException. i.e. if `index` is `my/path/file.txt` has an error","body":"The method delete files only if <code>index</code> is a path of directory, example <code>my&#47;path&#47;</code>, otherwise throw  NullPointerException. i.e. if <code>index</code> is <code>my&#47;path&#47;file.txt</code> has an error"}],"tags":[],"owner":{"account_id":3622491,"reputation":1453,"user_id":3020884,"display_name":"Cemron"},"comment_count":5,"down_vote_count":8,"up_vote_count":136,"is_accepted":true,"score":128,"last_activity_date":1385716277,"creation_date":1385716277,"answer_id":20281958,"question_id":20281835,"body_markdown":"Java isn&#39;t able to delete folders with data in it. You have to delete all files before deleting the folder.\r\n\r\nUse something like:\r\n\r\n    String[]entries = index.list();\r\n    for(String s: entries){\r\n        File currentFile = new File(index.getPath(),s);\r\n        currentFile.delete();\r\n    }\r\n\r\nThen you should be able to delete the folder by using `index.delete()`\r\nUntested!","title":"How to delete a folder with files using Java","body":"<p>Java isn't able to delete folders with data in it. You have to delete all files before deleting the folder.</p>\n\n<p>Use something like:</p>\n\n<pre><code>String[]entries = index.list();\nfor(String s: entries){\n    File currentFile = new File(index.getPath(),s);\n    currentFile.delete();\n}\n</code></pre>\n\n<p>Then you should be able to delete the folder by using <code>index.delete()</code>\nUntested!</p>\n"},{"comments":[{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":6,"creation_date":1392963893,"post_id":20281994,"comment_id":33212534,"body_markdown":"Here is a sample: http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html","body":"Here is a sample: <a href=\"http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html\" rel=\"nofollow noreferrer\">fahdshariff.blogspot.ru/2011/08/&hellip;</a>"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1686815712,"post_id":20281994,"comment_id":134851975,"body_markdown":"`Files.deleteIfExists()` requires directory to be empty. The question was: &quot;How to delete directory with files&quot;","body":"<code>Files.deleteIfExists()</code> requires directory to be empty. The question was: &quot;How to delete directory with files&quot;"}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1590866957,"creation_date":1385716383,"answer_id":20281994,"question_id":20281835,"body_markdown":"In JDK 7 you could use `Files.walkFileTree()` and `Files.deleteIfExists()` to delete a tree of files. (Sample: http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html)\r\n\r\nIn JDK 6 one possible way is to use [FileUtils.deleteQuietly](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#deleteQuietly(java.io.File)) from Apache Commons which will remove a file, a directory, or a directory with files and sub-directories.","title":"How to delete a folder with files using Java","body":"<p>In JDK 7 you could use <code>Files.walkFileTree()</code> and <code>Files.deleteIfExists()</code> to delete a tree of files. (Sample: <a href=\"http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html\" rel=\"nofollow noreferrer\">http://fahdshariff.blogspot.ru/2011/08/java-7-deleting-directory-by-walking.html</a>)</p>\n\n<p>In JDK 6 one possible way is to use <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#deleteQuietly(java.io.File)\" rel=\"nofollow noreferrer\">FileUtils.deleteQuietly</a> from Apache Commons which will remove a file, a directory, or a directory with files and sub-directories.</p>\n"},{"tags":[],"owner":{"account_id":3617928,"reputation":1472,"user_id":3017357,"accept_rate":78,"display_name":"Indranil.Bharambe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385716418,"creation_date":1385716418,"answer_id":20282002,"question_id":20281835,"body_markdown":" directry cannot simply delete if it has the files so you may need to delete the files inside first and then directory\r\n\r\n    public class DeleteFileFolder {\r\n \r\n    public DeleteFileFolder(String path) {\r\n \r\n        File file = new File(path);\r\n        if(file.exists())\r\n        {\r\n            do{\r\n                delete(file);\r\n            }while(file.exists());\r\n        }else\r\n        {\r\n            System.out.println(&quot;File or Folder not found : &quot;+path);\r\n        }\r\n \r\n    }\r\n    private void delete(File file)\r\n    {\r\n        if(file.isDirectory())\r\n        {\r\n            String fileList[] = file.list();\r\n            if(fileList.length == 0)\r\n            {\r\n                System.out.println(&quot;Deleting Directory : &quot;+file.getPath());\r\n                file.delete();\r\n            }else\r\n            {\r\n                int size = fileList.length;\r\n                for(int i = 0 ; i &lt; size ; i++)\r\n                {\r\n                    String fileName = fileList[i];\r\n                    System.out.println(&quot;File path : &quot;+file.getPath()+&quot; and name :&quot;+fileName);\r\n                    String fullPath = file.getPath()+&quot;/&quot;+fileName;\r\n                    File fileOrFolder = new File(fullPath);\r\n                    System.out.println(&quot;Full Path :&quot;+fileOrFolder.getPath());\r\n                    delete(fileOrFolder);\r\n                }\r\n            }\r\n        }else\r\n        {\r\n            System.out.println(&quot;Deleting file : &quot;+file.getPath());\r\n            file.delete();\r\n        }\r\n    }","title":"How to delete a folder with files using Java","body":"<p>directry cannot simply delete if it has the files so you may need to delete the files inside first and then directory</p>\n\n<pre><code>public class DeleteFileFolder {\n\npublic DeleteFileFolder(String path) {\n\n    File file = new File(path);\n    if(file.exists())\n    {\n        do{\n            delete(file);\n        }while(file.exists());\n    }else\n    {\n        System.out.println(\"File or Folder not found : \"+path);\n    }\n\n}\nprivate void delete(File file)\n{\n    if(file.isDirectory())\n    {\n        String fileList[] = file.list();\n        if(fileList.length == 0)\n        {\n            System.out.println(\"Deleting Directory : \"+file.getPath());\n            file.delete();\n        }else\n        {\n            int size = fileList.length;\n            for(int i = 0 ; i &lt; size ; i++)\n            {\n                String fileName = fileList[i];\n                System.out.println(\"File path : \"+file.getPath()+\" and name :\"+fileName);\n                String fullPath = file.getPath()+\"/\"+fileName;\n                File fileOrFolder = new File(fullPath);\n                System.out.println(\"Full Path :\"+fileOrFolder.getPath());\n                delete(fileOrFolder);\n            }\n        }\n    }else\n    {\n        System.out.println(\"Deleting file : \"+file.getPath());\n        file.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331432,"reputation":3297,"user_id":656094,"accept_rate":40,"display_name":"Panthro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395415077,"creation_date":1395415077,"answer_id":22562676,"question_id":20281835,"body_markdown":"If you have subfolders, you will find troubles with the Cemron answers. so you should create a method that works like this:\r\n\r\n\r\n    private void deleteTempFile(File tempFile) {\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t    if(tempFile.isDirectory()){\r\n    \t\t\t   File[] entries = tempFile.listFiles();\r\n    \t\t\t   for(File currentFile: entries){\r\n    \t\t\t       deleteTempFile(currentFile);\r\n    \t\t\t   }\r\n    \t\t\t   tempFile.delete();\r\n    \t\t    }else{\r\n                   tempFile.delete();\r\n\t\t        }\r\n\t\t    getLogger().info(&quot;DELETED Temporal File: &quot; + tempFile.getPath());\r\n    \t\t}\r\n    \t\tcatch(Throwable t)\r\n    \t\t{\r\n    \t\t\tgetLogger().error(&quot;Could not DELETE file: &quot; + tempFile.getPath(), t);\r\n    \t\t}\r\n    \t}","title":"How to delete a folder with files using Java","body":"<p>If you have subfolders, you will find troubles with the Cemron answers. so you should create a method that works like this:</p>\n\n<pre><code>private void deleteTempFile(File tempFile) {\n        try\n        {\n            if(tempFile.isDirectory()){\n               File[] entries = tempFile.listFiles();\n               for(File currentFile: entries){\n                   deleteTempFile(currentFile);\n               }\n               tempFile.delete();\n            }else{\n               tempFile.delete();\n            }\n        getLogger().info(\"DELETED Temporal File: \" + tempFile.getPath());\n        }\n        catch(Throwable t)\n        {\n            getLogger().error(\"Could not DELETE file: \" + tempFile.getPath(), t);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1486480894,"post_id":23678498,"comment_id":71357350,"body_markdown":"updated link: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html","body":"updated link: <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-io/javadocs/api-2.5/org/&hellip;</a>"},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":36,"creation_date":1491428083,"post_id":23678498,"comment_id":73554219,"body_markdown":"um...no. This is a one-liner with an external dependency, which is an important thing to keep in mind. The only time using an external dependency like this is this simple is when you&#39;re doing a personal home project, or your company really doesn&#39;t care about the possibility of getting sued.","body":"um...no. This is a one-liner with an external dependency, which is an important thing to keep in mind. The only time using an external dependency like this is this simple is when you&#39;re doing a personal home project, or your company really doesn&#39;t care about the possibility of getting sued."},{"owner":{"account_id":4926549,"reputation":231,"user_id":3967651,"accept_rate":50,"display_name":"simtim"},"score":25,"creation_date":1500812959,"post_id":23678498,"comment_id":77493095,"body_markdown":"@searchengine27 but it seems the library is under Apache Commons so the risk of getting sued is negligible https://www.whitesourcesoftware.com/whitesource-blog/top-10-apache-license-questions-answered/.","body":"@searchengine27 but it seems the library is under Apache Commons so the risk of getting sued is negligible <a href=\"https://www.whitesourcesoftware.com/whitesource-blog/top-10-apache-license-questions-answered/\" rel=\"nofollow noreferrer\">whitesourcesoftware.com/whitesource-blog/&hellip;</a>."},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":3,"creation_date":1500933772,"post_id":23678498,"comment_id":77544010,"body_markdown":"@simtim you&#39;re missing the point entirely. A company will never approve a library to use without a team of lawyers pouring over the terms of use and end user agreements, and any other legal documents associated with the library first. Somebody has to pay those lawyers...sometimes nobody wants to, which means the developer doesn&#39;t get to use it. The bigger the company you work for, the more red tape you have to go through.","body":"@simtim you&#39;re missing the point entirely. A company will never approve a library to use without a team of lawyers pouring over the terms of use and end user agreements, and any other legal documents associated with the library first. Somebody has to pay those lawyers...sometimes nobody wants to, which means the developer doesn&#39;t get to use it. The bigger the company you work for, the more red tape you have to go through."},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":60,"creation_date":1521562841,"post_id":23678498,"comment_id":85780100,"body_markdown":"@searchengine27 no, you&#39;re missing the point entirely. A company that needs an army of lawyers to allow to use apache commons is the absolute pathology, and nothing near the norm in IT world. I&#39;ve never heard of anyone having such problems and if you have such problems you have most likely access to SO blocked so the answer would not be accessible to you anyway.","body":"@searchengine27 no, you&#39;re missing the point entirely. A company that needs an army of lawyers to allow to use apache commons is the absolute pathology, and nothing near the norm in IT world. I&#39;ve never heard of anyone having such problems and if you have such problems you have most likely access to SO blocked so the answer would not be accessible to you anyway."},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":0,"creation_date":1521567155,"post_id":23678498,"comment_id":85782773,"body_markdown":"@9ilsdx9rvj0lo This isn&#39;t the &quot;IT&quot; world, this is corporate software development. Have you worked in the corporate world yet? You clearly have not because you&#39;re making wild connections between different things that have no correlation. If you had any experience in the corporate world, you would know what corporate espionage was, and how terms of service or rights of use violations can cost a company millions of dollars. And then you would know why a team of lawyers needs to evaluate a tool before a developer goes anywhere near it.","body":"@9ilsdx9rvj0lo This isn&#39;t the &quot;IT&quot; world, this is corporate software development. Have you worked in the corporate world yet? You clearly have not because you&#39;re making wild connections between different things that have no correlation. If you had any experience in the corporate world, you would know what corporate espionage was, and how terms of service or rights of use violations can cost a company millions of dollars. And then you would know why a team of lawyers needs to evaluate a tool before a developer goes anywhere near it."},{"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"score":0,"creation_date":1522712228,"post_id":23678498,"comment_id":86247326,"body_markdown":"@9ilsdx9rvj0lo There&#39;s a big difference between writing software to use in-house and writing software for a product that is being distributed (sold, leased, licensed, etc.)  In the latter case, there are significantly more legal hoops to jump through, though they shouldn&#39;t be prohibitive.  But they can make the difference between using a simple solution for a small task and pulling in a new 3rd-party package.","body":"@9ilsdx9rvj0lo There&#39;s a big difference between writing software to use in-house and writing software for a product that is being distributed (sold, leased, licensed, etc.)  In the latter case, there are significantly more legal hoops to jump through, though they shouldn&#39;t be prohibitive.  But they can make the difference between using a simple solution for a small task and pulling in a new 3rd-party package."},{"owner":{"account_id":3838953,"reputation":2411,"user_id":3182598,"display_name":"nomadSK25"},"score":1,"creation_date":1587828953,"post_id":23678498,"comment_id":108665411,"body_markdown":"Java API lacks such a basic feature and because of this, we have to use an external library","body":"Java API lacks such a basic feature and because of this, we have to use an external library"},{"owner":{"account_id":2650729,"reputation":640,"user_id":2292492,"accept_rate":50,"display_name":"deltamind106"},"score":1,"creation_date":1666635423,"post_id":23678498,"comment_id":130979300,"body_markdown":"@searchengine27 I wonder how these gigantic legally-paranoid companies get anything done in a world where just using some simple Java package (e.g. Google PubSub) requires 60 dependencies.  Sure the legal team may find that Google&#39;s PubSub license is okay, but then there are 60 open-source dependencies, each with their own license.  And each of those 60 dependencies has transitive dependencies on 5-10 other packages.  It&#39;s even worse in the Node NPM JavaScript world, where the simplest project using React has probably over 1000 dependent packages, each with their own license.","body":"@searchengine27 I wonder how these gigantic legally-paranoid companies get anything done in a world where just using some simple Java package (e.g. Google PubSub) requires 60 dependencies.  Sure the legal team may find that Google&#39;s PubSub license is okay, but then there are 60 open-source dependencies, each with their own license.  And each of those 60 dependencies has transitive dependencies on 5-10 other packages.  It&#39;s even worse in the Node NPM JavaScript world, where the simplest project using React has probably over 1000 dependent packages, each with their own license."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":3,"creation_date":1670524949,"post_id":23678498,"comment_id":131900533,"body_markdown":"@searchengine27 I have worked for large enterprise companies and can confirm that they do allow you to use open source libraries, it&#39;s just a fact of modern software development. However at my former employer they did keep long lists of all the dependencies including transitive dependencies and their licenses. if the license was not on a standard list (e.g. EPL, MPL, Apache etc) then we had to get specific approval for it. but it certainly didn&#39;t require an army of lawyers","body":"@searchengine27 I have worked for large enterprise companies and can confirm that they do allow you to use open source libraries, it&#39;s just a fact of modern software development. However at my former employer they did keep long lists of all the dependencies including transitive dependencies and their licenses. if the license was not on a standard list (e.g. EPL, MPL, Apache etc) then we had to get specific approval for it. but it certainly didn&#39;t require an army of lawyers"}],"tags":[],"owner":{"account_id":1087257,"reputation":2781,"user_id":1082668,"display_name":"Barry Knapp"},"comment_count":10,"down_vote_count":1,"up_vote_count":256,"is_accepted":false,"score":255,"last_activity_date":1653058692,"creation_date":1400157564,"answer_id":23678498,"question_id":20281835,"body_markdown":"Just a one-liner.\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    FileUtils.deleteDirectory(new File(destination));\r\n\r\nDocumentation [here][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)","title":"How to delete a folder with files using Java","body":"<p>Just a one-liner.</p>\n<pre><code>import org.apache.commons.io.FileUtils;\n\nFileUtils.deleteDirectory(new File(destination));\n</code></pre>\n<p>Documentation <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":2762988,"reputation":49,"user_id":2379481,"display_name":"Marcelo Lopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420149896,"creation_date":1420149896,"answer_id":27735114,"question_id":20281835,"body_markdown":"    private void deleteFileOrFolder(File file){\r\n        try {\r\n            for (File f : file.listFiles()) {\r\n                f.delete();\r\n                deleteFileOrFolder(f);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace(System.err);\r\n        }\r\n    }","title":"How to delete a folder with files using Java","body":"<pre><code>private void deleteFileOrFolder(File file){\n    try {\n        for (File f : file.listFiles()) {\n            f.delete();\n            deleteFileOrFolder(f);\n        }\n    } catch (Exception e) {\n        e.printStackTrace(System.err);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1476985791,"post_id":27923134,"comment_id":67591221,"body_markdown":"group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.+&#39; - useful","body":"group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.+&#39; - useful"},{"owner":{"account_id":9772337,"reputation":2264,"user_id":7243748,"accept_rate":45,"display_name":"stavros.3p"},"score":0,"creation_date":1655570576,"post_id":27923134,"comment_id":128365394,"body_markdown":"Sweet answer, thanks","body":"Sweet answer, thanks"},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1686815767,"post_id":27923134,"comment_id":134851984,"body_markdown":"Can you explain the &quot;slightliness&quot;?","body":"Can you explain the &quot;slightliness&quot;?"}],"tags":[],"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1527084783,"creation_date":1421155145,"answer_id":27923134,"question_id":20281835,"body_markdown":"Using Apache Commons-IO, it is following one-liner:\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    FileUtils.forceDelete(new File(destination));\r\n\r\nThis is (slightly) more performant than `FileUtils.deleteDirectory`.","title":"How to delete a folder with files using Java","body":"<p>Using Apache Commons-IO, it is following one-liner:</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\n\nFileUtils.forceDelete(new File(destination));\n</code></pre>\n\n<p>This is (slightly) more performant than <code>FileUtils.deleteDirectory</code>.</p>\n"},{"comments":[{"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"score":2,"creation_date":1504907602,"post_id":29175213,"comment_id":79212701,"body_markdown":"As it turns out, there is a bug in this.  If another process deletes the files during the loop, it can cause an exception that should be caught and ignored.","body":"As it turns out, there is a bug in this.  If another process deletes the files during the loop, it can cause an exception that should be caught and ignored."},{"owner":{"account_id":151110,"reputation":2632,"user_id":364754,"display_name":"Perry Tew"},"score":4,"creation_date":1521653474,"post_id":29175213,"comment_id":85827693,"body_markdown":"@9ilsdx9rvj0lo  Rather than being snarky, perhaps you could provide an edit to handle symlinks.  The OP said *nothing* about symbolic links in his post.  Just creating and deleting a directory.  Please also list out the &quot;many things missing&quot;.  Help us out.","body":"@9ilsdx9rvj0lo  Rather than being snarky, perhaps you could provide an edit to handle symlinks.  The OP said <i>nothing</i> about symbolic links in his post.  Just creating and deleting a directory.  Please also list out the &quot;many things missing&quot;.  Help us out."},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1521703908,"post_id":29175213,"comment_id":85846425,"body_markdown":"@PerryTew I&#39;m not being snarky. I&#39;m just pointing out, that I do fully disagree with your comment about the answer being better because no external libraries are being used. It is not. There is a good reason people are using apache commons : you don&#39;t have to program any single thing yourself. Symlinks are just an example of things you&#39;ll miss writing everything from scratch.","body":"@PerryTew I&#39;m not being snarky. I&#39;m just pointing out, that I do fully disagree with your comment about the answer being better because no external libraries are being used. It is not. There is a good reason people are using apache commons : you don&#39;t have to program any single thing yourself. Symlinks are just an example of things you&#39;ll miss writing everything from scratch."},{"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"score":3,"creation_date":1522712427,"post_id":29175213,"comment_id":86247363,"body_markdown":"It&#39;s not a matter of better/worse, but pros and cons.  Not relying on external libraries is sometimes a significant benefit.  Of course, there&#39;s a significant benefit to using tried-and-true software.  It&#39;s up to the developer to balance the issues.  If there are bugs other than the two already mentioned, we&#39;d certainly like to know about them.","body":"It&#39;s not a matter of better/worse, but pros and cons.  Not relying on external libraries is sometimes a significant benefit.  Of course, there&#39;s a significant benefit to using tried-and-true software.  It&#39;s up to the developer to balance the issues.  If there are bugs other than the two already mentioned, we&#39;d certainly like to know about them."}],"tags":[],"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"comment_count":4,"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1525819651,"creation_date":1426882951,"answer_id":29175213,"question_id":20281835,"body_markdown":"This works, and while it looks inefficient to skip the directory test, it&#39;s not: the test happens right away in `listFiles()`.\r\n\r\n    void deleteDir(File file) {\r\n    \tFile[] contents = file.listFiles();\r\n    \tif (contents != null) {\r\n            for (File f : contents) {\r\n                deleteDir(f);\r\n            }\r\n    \t}\r\n        file.delete();\r\n    }\r\n\r\nUpdate, to avoid following symbolic links:\r\n\r\n    void deleteDir(File file) {\r\n        File[] contents = file.listFiles();\r\n        if (contents != null) {\r\n            for (File f : contents) {\r\n            \tif (! Files.isSymbolicLink(f.toPath())) {\r\n            \t\tdeleteDir(f);\r\n            \t}\r\n            }\r\n        }\r\n        file.delete();\r\n    }\r\n","title":"How to delete a folder with files using Java","body":"<p>This works, and while it looks inefficient to skip the directory test, it's not: the test happens right away in <code>listFiles()</code>.</p>\n\n<pre><code>void deleteDir(File file) {\n    File[] contents = file.listFiles();\n    if (contents != null) {\n        for (File f : contents) {\n            deleteDir(f);\n        }\n    }\n    file.delete();\n}\n</code></pre>\n\n<p>Update, to avoid following symbolic links:</p>\n\n<pre><code>void deleteDir(File file) {\n    File[] contents = file.listFiles();\n    if (contents != null) {\n        for (File f : contents) {\n            if (! Files.isSymbolicLink(f.toPath())) {\n                deleteDir(f);\n            }\n        }\n    }\n    file.delete();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":2,"creation_date":1509494259,"post_id":29230012,"comment_id":81039735,"body_markdown":"This will throw a NullPointerException if there is an I/O exception while reading the directory. The code should check whether `listFiles()` returns null, rather than calling `isDirectory()`.","body":"This will throw a NullPointerException if there is an I/O exception while reading the directory. The code should check whether <code>listFiles()</code> returns null, rather than calling <code>isDirectory()</code>."}],"tags":[],"owner":{"account_id":5776831,"reputation":342,"user_id":4558679,"display_name":"Pierre Lem&#233;e"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1442233462,"creation_date":1427192493,"answer_id":29230012,"question_id":20281835,"body_markdown":"My basic recursive version, working with older versions of JDK:\r\n\r\n    public static void deleteFile(File element) {\r\n        if (element.isDirectory()) {\r\n            for (File sub : element.listFiles()) {\r\n                deleteFile(sub);\r\n            }\r\n        }\r\n        element.delete();\r\n    }","title":"How to delete a folder with files using Java","body":"<p>My basic recursive version, working with older versions of JDK:</p>\n\n<pre><code>public static void deleteFile(File element) {\n    if (element.isDirectory()) {\n        for (File sub : element.listFiles()) {\n            deleteFile(sub);\n        }\n    }\n    element.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271954,"reputation":303,"user_id":562765,"display_name":"Mushtaque Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453805145,"creation_date":1453805145,"answer_id":35012024,"question_id":20281835,"body_markdown":"            import org.apache.commons.io.FileUtils;\r\n\r\n            List&lt;String&gt; directory =  new ArrayList(); \r\n\t\t\tdirectory.add(&quot;test-output&quot;); \r\n\t\t\tdirectory.add(&quot;Reports/executions&quot;); \r\n\t\t\tdirectory.add(&quot;Reports/index.html&quot;); \r\n\t\t\tdirectory.add(&quot;Reports/report.properties&quot;); \r\n\t\t\tfor(int count = 0 ; count &lt; directory.size() ; count ++)\r\n\t\t\t{\r\n\t\t\tString destination = directory.get(count);\r\n\t\t\tdeleteDirectory(destination);\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n          public void deleteDirectory(String path) {\r\n\r\n\t        File file  = new File(path);\r\n\t        if(file.isDirectory()){\r\n\t        \t System.out.println(&quot;Deleting Directory :&quot; + path);\r\n\t        \ttry {\r\n\t\t\t\t\tFileUtils.deleteDirectory(new File(path)); //deletes the whole folder\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t        }\r\n\t        else {\r\n \t\t\tSystem.out.println(&quot;Deleting File :&quot; + path);\r\n\t            //it is a simple file. Proceed for deletion\r\n\t            file.delete();\r\n\t        }\r\n\t         \r\n\t    }\r\n\r\n\r\nWorks like a Charm . For both folder and files . Salam :) ","title":"How to delete a folder with files using Java","body":"<pre><code>        import org.apache.commons.io.FileUtils;\n\n        List&lt;String&gt; directory =  new ArrayList(); \n        directory.add(\"test-output\"); \n        directory.add(\"Reports/executions\"); \n        directory.add(\"Reports/index.html\"); \n        directory.add(\"Reports/report.properties\"); \n        for(int count = 0 ; count &lt; directory.size() ; count ++)\n        {\n        String destination = directory.get(count);\n        deleteDirectory(destination);\n        }\n\n\n\n\n\n      public void deleteDirectory(String path) {\n\n        File file  = new File(path);\n        if(file.isDirectory()){\n             System.out.println(\"Deleting Directory :\" + path);\n            try {\n                FileUtils.deleteDirectory(new File(path)); //deletes the whole folder\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        else {\n        System.out.println(\"Deleting File :\" + path);\n            //it is a simple file. Proceed for deletion\n            file.delete();\n        }\n\n    }\n</code></pre>\n\n<p>Works like a Charm . For both folder and files . Salam :) </p>\n"},{"comments":[{"owner":{"account_id":7779706,"reputation":363,"user_id":5886518,"display_name":"Piyush Rumao"},"score":0,"creation_date":1458624608,"post_id":36138762,"comment_id":59931119,"body_markdown":"It works fine with a directory with all closed files. But when tried on directory with open files it doesnt work. Can you help me find a way to delete folder inspite of open files","body":"It works fine with a directory with all closed files. But when tried on directory with open files it doesnt work. Can you help me find a way to delete folder inspite of open files"},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":2,"creation_date":1463200764,"post_id":36138762,"comment_id":61975538,"body_markdown":"This won&#39;t delete non-empty subdirectories.","body":"This won&#39;t delete non-empty subdirectories."}],"tags":[],"owner":{"account_id":7779706,"reputation":363,"user_id":5886518,"display_name":"Piyush Rumao"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1463202386,"creation_date":1458584412,"answer_id":36138762,"question_id":20281835,"body_markdown":"You can use this function\r\n\r\n    public void delete()    \r\n    {   \r\n        File f = new File(&quot;E://implementation1/&quot;);\r\n        File[] files = f.listFiles();\r\n        for (File file : files) {\r\n            file.delete();\r\n        }\r\n    }\r\n     ","title":"How to delete a folder with files using Java","body":"<p>You can use this function</p>\n\n<pre><code>public void delete()    \n{   \n    File f = new File(\"E://implementation1/\");\n    File[] files = f.listFiles();\n    for (File file : files) {\n        file.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3849703,"reputation":435,"user_id":3190174,"accept_rate":75,"display_name":"Javo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459420205,"creation_date":1459420205,"answer_id":36330841,"question_id":20281835,"body_markdown":"I like this solution the most. It does not use 3rd party library, instead it uses [NIO2][1] of Java 7.\r\n\r\n    /**\r\n     * Deletes Folder with all of its content\r\n     *\r\n     * @param folder path to folder which should be deleted\r\n     */\r\n    public static void deleteFolderAndItsContent(final Path folder) throws IOException {\r\n        Files.walkFileTree(folder, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                Files.delete(file);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n\r\n            @Override\r\n            public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\r\n                if (exc != null) {\r\n                    throw exc;\r\n                }\r\n                Files.delete(dir);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html &quot;NIO2&quot;","title":"How to delete a folder with files using Java","body":"<p>I like this solution the most. It does not use 3rd party library, instead it uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow\" title=\"NIO2\">NIO2</a> of Java 7.</p>\n\n<pre><code>/**\n * Deletes Folder with all of its content\n *\n * @param folder path to folder which should be deleted\n */\npublic static void deleteFolderAndItsContent(final Path folder) throws IOException {\n    Files.walkFileTree(folder, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            Files.delete(file);\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\n            if (exc != null) {\n                throw exc;\n            }\n            Files.delete(dir);\n            return FileVisitResult.CONTINUE;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487694617,"creation_date":1487694617,"answer_id":42372854,"question_id":20281835,"body_markdown":"This is the best solution for `Java 7+`:\r\n\r\n    public static void deleteDirectory(String directoryFilePath) throws IOException\r\n    {\r\n    \tPath directory = Paths.get(directoryFilePath);\r\n    \r\n    \tif (Files.exists(directory))\r\n    \t{\r\n    \t\tFiles.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes basicFileAttributes) throws IOException\r\n    \t\t\t{\r\n    \t\t\t\tFiles.delete(path);\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic FileVisitResult postVisitDirectory(Path directory, IOException ioException) throws IOException\r\n    \t\t\t{\r\n    \t\t\t\tFiles.delete(directory);\r\n    \t\t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }","title":"How to delete a folder with files using Java","body":"<p>This is the best solution for <code>Java 7+</code>:</p>\n\n<pre><code>public static void deleteDirectory(String directoryFilePath) throws IOException\n{\n    Path directory = Paths.get(directoryFilePath);\n\n    if (Files.exists(directory))\n    {\n        Files.walkFileTree(directory, new SimpleFileVisitor&lt;Path&gt;()\n        {\n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes basicFileAttributes) throws IOException\n            {\n                Files.delete(path);\n                return FileVisitResult.CONTINUE;\n            }\n\n            @Override\n            public FileVisitResult postVisitDirectory(Path directory, IOException ioException) throws IOException\n            {\n                Files.delete(directory);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488866878,"creation_date":1488866878,"answer_id":42641329,"question_id":20281835,"body_markdown":"You can make recursive call if sub directories exists\r\n\r\n    import java.io.File;\r\n\r\n    class DeleteDir {\r\n    public static void main(String args[]) {\r\n    deleteDirectory(new File(args[0]));\r\n    }\r\n\r\n    static public boolean deleteDirectory(File path) {\r\n    if( path.exists() ) {\r\n      File[] files = path.listFiles();\r\n      for(int i=0; i&lt;files.length; i++) {\r\n         if(files[i].isDirectory()) {\r\n           deleteDirectory(files[i]);\r\n         }\r\n         else {\r\n           files[i].delete();\r\n         }\r\n      }\r\n    }\r\n    return( path.delete() );\r\n    }\r\n    }","title":"How to delete a folder with files using Java","body":"<p>You can make recursive call if sub directories exists</p>\n\n<pre><code>import java.io.File;\n\nclass DeleteDir {\npublic static void main(String args[]) {\ndeleteDirectory(new File(args[0]));\n}\n\nstatic public boolean deleteDirectory(File path) {\nif( path.exists() ) {\n  File[] files = path.listFiles();\n  for(int i=0; i&lt;files.length; i++) {\n     if(files[i].isDirectory()) {\n       deleteDirectory(files[i]);\n     }\n     else {\n       files[i].delete();\n     }\n  }\n}\nreturn( path.delete() );\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171446,"reputation":1301,"user_id":1923328,"display_name":"Laurent Caillette"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501834081,"creation_date":1501834081,"answer_id":45501457,"question_id":20281835,"body_markdown":"Guava 21+ to the rescue. Use only if there are no symlinks pointing out of the directory to delete. \r\n\r\n    com.google.common.io.MoreFiles.deleteRecursively(\r\n          file.toPath(),\r\n          RecursiveDeleteOption.ALLOW_INSECURE\r\n    ) ;\r\n\r\n(This question is well-indexed by Google, so other people usig Guava might be happy to find this answer, even if it is redundant with other answers elsewhere.)","title":"How to delete a folder with files using Java","body":"<p>Guava 21+ to the rescue. Use only if there are no symlinks pointing out of the directory to delete. </p>\n\n<pre><code>com.google.common.io.MoreFiles.deleteRecursively(\n      file.toPath(),\n      RecursiveDeleteOption.ALLOW_INSECURE\n) ;\n</code></pre>\n\n<p>(This question is well-indexed by Google, so other people usig Guava might be happy to find this answer, even if it is redundant with other answers elsewhere.)</p>\n"},{"tags":[],"owner":{"account_id":2090481,"reputation":498,"user_id":1860436,"accept_rate":70,"display_name":"Adam Short"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1505728133,"creation_date":1505728133,"answer_id":46276320,"question_id":20281835,"body_markdown":"Some of these answers seem unnecessarily long:\r\n\r\n    if (directory.exists()) {\r\n    \tfor (File file : directory.listFiles()) {\r\n   \t\t\tfile.delete();\r\n   \t\t}\r\n   \t\tdirectory.delete();\r\n   \t}\r\n\r\nWorks for sub directories too.","title":"How to delete a folder with files using Java","body":"<p>Some of these answers seem unnecessarily long:</p>\n\n<pre><code>if (directory.exists()) {\n    for (File file : directory.listFiles()) {\n        file.delete();\n    }\n    directory.delete();\n}\n</code></pre>\n\n<p>Works for sub directories too.</p>\n"},{"comments":[{"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"score":9,"creation_date":1522709942,"post_id":46983076,"comment_id":86246820,"body_markdown":"Note that this may have scalability issues since it builds the full list, creates a sorted copy, and then iterates over the sorted copy.  Back in the bad old days when memory wasn&#39;t inexhaustible, this would be a very bad idea.  It&#39;s concise but at a cost in space (O(N) vs O(1)) and efficiency (O(N log N) vs O(N)).  This wouldn&#39;t matter in most use cases.","body":"Note that this may have scalability issues since it builds the full list, creates a sorted copy, and then iterates over the sorted copy.  Back in the bad old days when memory wasn&#39;t inexhaustible, this would be a very bad idea.  It&#39;s concise but at a cost in space (O(N) vs O(1)) and efficiency (O(N log N) vs O(N)).  This wouldn&#39;t matter in most use cases."},{"owner":{"account_id":1664814,"reputation":2953,"user_id":1532454,"accept_rate":80,"display_name":"Jeff Learman"},"score":0,"creation_date":1522711702,"post_id":46983076,"comment_id":86247211,"body_markdown":"I should have said &quot;space O(N) vs O(depth)&quot; above, where depth is the depth of the directory tree (comparing this solution to recursive ones.)","body":"I should have said &quot;space O(N) vs O(depth)&quot; above, where depth is the depth of the directory tree (comparing this solution to recursive ones.)"},{"owner":{"account_id":1075183,"reputation":751,"user_id":5319114,"accept_rate":64,"display_name":"Leo"},"score":2,"creation_date":1549997310,"post_id":46983076,"comment_id":96104876,"body_markdown":"this is elegant, works and does not rely on external libraries. loved it","body":"this is elegant, works and does not rely on external libraries. loved it"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":5,"creation_date":1555623501,"post_id":46983076,"comment_id":98184391,"body_markdown":"Doesn&#39;t this have the problem of file handle leaks? This example does _not_ close the stream returned by `Files.walk()`, which is explicitly indicated in the API docs. I know that if you don&#39;t close the stream returned by `Files.list()` for example, you can run out of handles and the program will crash. See e.g. https://stackoverflow.com/q/36990053/421049 and https://stackoverflow.com/q/26997240/421049 .","body":"Doesn&#39;t this have the problem of file handle leaks? This example does <i>not</i> close the stream returned by <code>Files.walk()</code>, which is explicitly indicated in the API docs. I know that if you don&#39;t close the stream returned by <code>Files.list()</code> for example, you can run out of handles and the program will crash. See e.g. <a href=\"https://stackoverflow.com/q/36990053/421049\">stackoverflow.com/q/36990053/421049</a> and <a href=\"https://stackoverflow.com/q/26997240/421049\">stackoverflow.com/q/26997240/421049</a> ."},{"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"score":0,"creation_date":1620451933,"post_id":46983076,"comment_id":119209985,"body_markdown":"You don&#39;t call any terminal function in that stream, for this reason no files will actually be deleted. If you want that the stream will actually iterate files and delete them you will have to call terminal function like .count() on it. .close() is not a terminal function.","body":"You don&#39;t call any terminal function in that stream, for this reason no files will actually be deleted. If you want that the stream will actually iterate files and delete them you will have to call terminal function like .count() on it. .close() is not a terminal function."},{"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"score":0,"creation_date":1620791468,"post_id":46983076,"comment_id":119302671,"body_markdown":"@GarretWilson + posterity, I tested this using the methods described in your link (by querying for open handles after running this on a loop) it shows that this does not leave any open handles at all, the terminal operation `forEach` must be closing the stream.","body":"@GarretWilson + posterity, I tested this using the methods described in your link (by querying for open handles after running this on a loop) it shows that this does not leave any open handles at all, the terminal operation <code>forEach</code> must be closing the stream."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1624472969,"post_id":46983076,"comment_id":120371781,"body_markdown":"Why do you need to sort if `walk()` is depth-first?","body":"Why do you need to sort if <code>walk()</code> is depth-first?"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":2,"creation_date":1628800841,"post_id":46983076,"comment_id":121525300,"body_markdown":"@shmosel Because forEach will start deleting from the beginning and will not be able to delete the directory with the contents. Therefore, the tree must be turned in the opposite direction and deleted from the end.","body":"@shmosel Because forEach will start deleting from the beginning and will not be able to delete the directory with the contents. Therefore, the tree must be turned in the opposite direction and deleted from the end."},{"owner":{"account_id":2924378,"reputation":935,"user_id":2506021,"accept_rate":80,"display_name":"Rangi Keen"},"score":0,"creation_date":1663687050,"post_id":46983076,"comment_id":130295946,"body_markdown":"There&#39;s no need to map from `Path` to `File`. Just use `Files::delete` do delete the `Path` directly.","body":"There&#39;s no need to map from <code>Path</code> to <code>File</code>. Just use <code>Files::delete</code> do delete the <code>Path</code> directly."},{"owner":{"account_id":11729259,"reputation":392,"user_id":8618438,"display_name":"chill appreciator"},"score":0,"creation_date":1686815593,"post_id":46983076,"comment_id":134851948,"body_markdown":"Explanation why do we need to sort: &quot;Here, Files.walk() returns a Stream of Path that we sort in reverse order. This places the paths denoting the contents of directories before directories itself. Thereafter it maps Path to File and deletes each File.&quot;","body":"Explanation why do we need to sort: &quot;Here, Files.walk() returns a Stream of Path that we sort in reverse order. This places the paths denoting the contents of directories before directories itself. Thereafter it maps Path to File and deletes each File.&quot;"}],"tags":[],"owner":{"account_id":116977,"reputation":1852,"user_id":306538,"display_name":"nirmal"},"comment_count":10,"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1679248019,"creation_date":1509136758,"answer_id":46983076,"question_id":20281835,"body_markdown":"I prefer this solution on java 8:\r\n\r\n      Files.walk(pathToBeDeleted)\r\n        .sorted(Comparator.reverseOrder())\r\n        .map(Path::toFile)\r\n        .forEach(File::delete);\r\n\r\nFrom this site: http://www.baeldung.com/java-delete-directory\r\n\r\nUpdate, to close the stream:\r\n\r\n      try (Stream&lt;Path&gt; pathStream = Files.walk(repoDirFile.toPath())) {\r\n        pathStream.sorted(Comparator.reverseOrder())\r\n          .map(Path::toFile)\r\n          .forEach(File::delete);\r\n      }\r\n","title":"How to delete a folder with files using Java","body":"<p>I prefer this solution on java 8:</p>\n<pre><code>  Files.walk(pathToBeDeleted)\n    .sorted(Comparator.reverseOrder())\n    .map(Path::toFile)\n    .forEach(File::delete);\n</code></pre>\n<p>From this site: <a href=\"http://www.baeldung.com/java-delete-directory\" rel=\"nofollow noreferrer\">http://www.baeldung.com/java-delete-directory</a></p>\n<p>Update, to close the stream:</p>\n<pre><code>  try (Stream&lt;Path&gt; pathStream = Files.walk(repoDirFile.toPath())) {\n    pathStream.sorted(Comparator.reverseOrder())\n      .map(Path::toFile)\n      .forEach(File::delete);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530441668,"creation_date":1530441668,"answer_id":51122542,"question_id":20281835,"body_markdown":"we can use the `spring-core` dependency;\r\n\r\n    boolean result = FileSystemUtils.deleteRecursively(file);","title":"How to delete a folder with files using Java","body":"<p>we can use the <code>spring-core</code> dependency;</p>\n\n<pre><code>boolean result = FileSystemUtils.deleteRecursively(file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531493943,"creation_date":1531493943,"answer_id":51327957,"question_id":20281835,"body_markdown":"Most of answers (even recent) referencing JDK classes rely on [`File.delete()`][1] but that is a flawed API as the operation may fail silently.  \r\nThe `java.io.File.delete()` method documentation states :\r\n\r\n&gt; Note that the `java.nio.file.Files` class defines the `delete` method to\r\n&gt; throw an `IOException` when a file cannot be deleted. This is useful for\r\n&gt; error reporting and to diagnose why a file cannot be deleted.\r\n\r\n\r\nAs replacement, you should favor [`Files.delete(Path p)`][2]  that throws an `IOException` with a error message.   \r\n\r\nThe actual code could be written such as :\r\n\r\n\tPath index = Paths.get(&quot;/home/Work/Indexer1&quot;);\r\n\r\n\tif (!Files.exists(index)) {\r\n\t\tindex = Files.createDirectories(index);\r\n\t} else {\r\n\r\n\t\tFiles.walk(index)\r\n\t\t\t .sorted(Comparator.reverseOrder())  // as the file tree is traversed depth-first and that deleted dirs have to be empty  \r\n\t\t     .forEach(t -&gt; {\r\n\t\t\t     try {\r\n\t\t\t\t     Files.delete(t);\r\n\t\t\t     } catch (IOException e) {\r\n\t\t\t\t     // LOG the exception and potentially stop the processing\r\n\t\t\t\t    \r\n\t\t\t     }\r\n\t\t     });\r\n\t\tif (!Files.exists(index)) {\r\n\t\t\tindex = Files.createDirectories(index);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-","title":"How to delete a folder with files using Java","body":"<p>Most of answers (even recent) referencing JDK classes rely on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--\" rel=\"nofollow noreferrer\"><code>File.delete()</code></a> but that is a flawed API as the operation may fail silently.<br>\nThe <code>java.io.File.delete()</code> method documentation states :</p>\n\n<blockquote>\n  <p>Note that the <code>java.nio.file.Files</code> class defines the <code>delete</code> method to\n  throw an <code>IOException</code> when a file cannot be deleted. This is useful for\n  error reporting and to diagnose why a file cannot be deleted.</p>\n</blockquote>\n\n<p>As replacement, you should favor <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.delete(Path p)</code></a>  that throws an <code>IOException</code> with a error message.   </p>\n\n<p>The actual code could be written such as :</p>\n\n<pre><code>Path index = Paths.get(\"/home/Work/Indexer1\");\n\nif (!Files.exists(index)) {\n    index = Files.createDirectories(index);\n} else {\n\n    Files.walk(index)\n         .sorted(Comparator.reverseOrder())  // as the file tree is traversed depth-first and that deleted dirs have to be empty  \n         .forEach(t -&gt; {\n             try {\n                 Files.delete(t);\n             } catch (IOException e) {\n                 // LOG the exception and potentially stop the processing\n\n             }\n         });\n    if (!Files.exists(index)) {\n        index = Files.createDirectories(index);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4565617,"reputation":213,"user_id":3706697,"display_name":"Issam Ressani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546534700,"creation_date":1546534700,"answer_id":54026613,"question_id":20281835,"body_markdown":"You can use **FileUtils.deleteDirectory**. JAVA can&#39;t delete the non-empty foldres with **File.delete()**.","title":"How to delete a folder with files using Java","body":"<p>You can use <strong>FileUtils.deleteDirectory</strong>. JAVA can't delete the non-empty foldres with <strong>File.delete()</strong>.</p>\n"},{"tags":[],"owner":{"account_id":7608029,"reputation":4455,"user_id":5770004,"display_name":"Gavriel Cohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1619423844,"creation_date":1557914545,"answer_id":56146647,"question_id":20281835,"body_markdown":"As mentioned, **Java** is unable to delete a folder containing files, so first delete the files and then the folder.\r\n\r\nHere&#39;s a simple example to do this:\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    \r\n\r\n    // First, remove files from into the folder \r\n    FileUtils.cleanDirectory(folder/path);\r\n \r\n    // Then, remove the folder\r\n    FileUtils.deleteDirectory(folder/path);\r\n\r\nOr:\r\n\r\n    FileUtils.forceDelete(new File(destination));","title":"How to delete a folder with files using Java","body":"<p>As mentioned, <strong>Java</strong> is unable to delete a folder containing files, so first delete the files and then the folder.</p>\n<p>Here's a simple example to do this:</p>\n<pre><code>import org.apache.commons.io.FileUtils;\n\n\n\n// First, remove files from into the folder \nFileUtils.cleanDirectory(folder/path);\n\n// Then, remove the folder\nFileUtils.deleteDirectory(folder/path);\n</code></pre>\n<p>Or:</p>\n<pre><code>FileUtils.forceDelete(new File(destination));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3593742,"reputation":207,"user_id":2999097,"accept_rate":45,"display_name":"Noshaf"},"score":1,"creation_date":1663943089,"post_id":58428947,"comment_id":130365183,"body_markdown":"it works, short and smart way!!","body":"it works, short and smart way!!"}],"tags":[],"owner":{"account_id":15469492,"reputation":404,"user_id":11159966,"display_name":"dZ."},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1571303466,"creation_date":1571303466,"answer_id":58428947,"question_id":20281835,"body_markdown":"One more choice is to use Spring&#39;s `org.springframework.util.FileSystemUtils` relevant method which will recursively delete all content of the directory.\r\n\r\n    File directoryToDelete = new File(&lt;your_directory_path_to_delete&gt;);\r\n    FileSystemUtils.deleteRecursively(directoryToDelete);\r\n\r\nThat will do the job!","title":"How to delete a folder with files using Java","body":"<p>One more choice is to use Spring's <code>org.springframework.util.FileSystemUtils</code> relevant method which will recursively delete all content of the directory.</p>\n\n<pre><code>File directoryToDelete = new File(&lt;your_directory_path_to_delete&gt;);\nFileSystemUtils.deleteRecursively(directoryToDelete);\n</code></pre>\n\n<p>That will do the job!</p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625141711,"creation_date":1602240081,"answer_id":64278418,"question_id":20281835,"body_markdown":"2020 here :)\r\n\r\nWith Apache commons io FileUtils, contrary to the &quot;pure&quot; Java variants a folder **does not need to be empty** to be deleted. To give you a better overview I list the variants here, the following 3 **may throw** exceptions for various reasons:\r\n\r\n - [cleanDirectory][1]: Cleans a directory without deleting it\r\n - [forceDelete][2]: Deletes a file. If file is a directory, delete it and all sub-directories\r\n - [forceDeleteOnExit][3]: Schedules a file to be deleted when JVM exits. If file is directory delete it and all sub-directories. Not recommended for running servers as JVM may not exit any time soon ...\r\n\r\nThe following variant **never throws** exceptions (even if the file is null !)\r\n - [deleteQuietly][4]: Deletes a file, **never throwing an exception**. If it is a directory, delete it and all sub-directories.\r\n\r\nOne more thing to know is dealing with [symbolic links][5], it will delete the symbolic link and not the target folder... be careful.\r\n\r\nAlso keep in mind that deleting a large file or folder can be a **blocking operation** for a good while ... so if you do not mind having it run async do it (in a background thread via executor for example).\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#cleanDirectory-java.io.File-\r\n  [2]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDelete-java.io.File-\r\n  [3]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDeleteOnExit-java.io.File-\r\n  [4]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#deleteQuietly-java.io.File-\r\n  [5]: https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#isSymlink-java.io.File-","title":"How to delete a folder with files using Java","body":"<p>2020 here :)</p>\n<p>With Apache commons io FileUtils, contrary to the &quot;pure&quot; Java variants a folder <strong>does not need to be empty</strong> to be deleted. To give you a better overview I list the variants here, the following 3 <strong>may throw</strong> exceptions for various reasons:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#cleanDirectory-java.io.File-\" rel=\"nofollow noreferrer\">cleanDirectory</a>: Cleans a directory without deleting it</li>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDelete-java.io.File-\" rel=\"nofollow noreferrer\">forceDelete</a>: Deletes a file. If file is a directory, delete it and all sub-directories</li>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#forceDeleteOnExit-java.io.File-\" rel=\"nofollow noreferrer\">forceDeleteOnExit</a>: Schedules a file to be deleted when JVM exits. If file is directory delete it and all sub-directories. Not recommended for running servers as JVM may not exit any time soon ...</li>\n</ul>\n<p>The following variant <strong>never throws</strong> exceptions (even if the file is null !)</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#deleteQuietly-java.io.File-\" rel=\"nofollow noreferrer\">deleteQuietly</a>: Deletes a file, <strong>never throwing an exception</strong>. If it is a directory, delete it and all sub-directories.</li>\n</ul>\n<p>One more thing to know is dealing with <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.7/org/apache/commons/io/FileUtils.html#isSymlink-java.io.File-\" rel=\"nofollow noreferrer\">symbolic links</a>, it will delete the symbolic link and not the target folder... be careful.</p>\n<p>Also keep in mind that deleting a large file or folder can be a <strong>blocking operation</strong> for a good while ... so if you do not mind having it run async do it (in a background thread via executor for example).</p>\n"},{"tags":[],"owner":{"account_id":19884019,"reputation":1,"user_id":14567359,"display_name":"A. Aphise Traore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604365992,"creation_date":1604365682,"answer_id":64655408,"question_id":20281835,"body_markdown":"You may also use this to delete a folder that contains subfolders and files. \r\n\r\n1. Fist, create a recursive function. \r\n    \r\n        private void recursiveDelete(File file){\r\n                \r\n                if(file.list().length &gt; 0){\r\n                    String[] list = file.list();\r\n                    for(String is: list){\r\n                        File currentFile = new File(file.getPath(),is);\r\n                        if(currentFile.isDirectory()){\r\n                                recursiveDelete(currentFile);\r\n                        }else{\r\n                            currentFile.delete();\r\n                        }\r\n                    }\r\n                }else {\r\n                    file.delete();\r\n                }\r\n            }\r\n\r\n2. then, from your initial function use a while loop to call the recursive.\r\n \r\n\r\n        private boolean deleteFolderContainingSubFoldersAndFiles(){\r\n        \r\n                boolean deleted = false;\r\n                File folderToDelete = new File(&quot;C:/mainFolderDirectoryHere&quot;);\r\n        \r\n                while(folderToDelete != null &amp;&amp; folderToDelete.isDirectory()){\r\n                    recursiveDelete(folderToDelete);\r\n                }\r\n        \r\n                return deleted;\r\n            }\r\n\r\n\r\n","title":"How to delete a folder with files using Java","body":"<p>You may also use this to delete a folder that contains subfolders and files.</p>\n<ol>\n<li><p>Fist, create a recursive function.</p>\n<pre><code> private void recursiveDelete(File file){\n\n         if(file.list().length &gt; 0){\n             String[] list = file.list();\n             for(String is: list){\n                 File currentFile = new File(file.getPath(),is);\n                 if(currentFile.isDirectory()){\n                         recursiveDelete(currentFile);\n                 }else{\n                     currentFile.delete();\n                 }\n             }\n         }else {\n             file.delete();\n         }\n     }\n</code></pre>\n</li>\n<li><p>then, from your initial function use a while loop to call the recursive.</p>\n<pre><code> private boolean deleteFolderContainingSubFoldersAndFiles(){\n\n         boolean deleted = false;\n         File folderToDelete = new File(&quot;C:/mainFolderDirectoryHere&quot;);\n\n         while(folderToDelete != null &amp;&amp; folderToDelete.isDirectory()){\n             recursiveDelete(folderToDelete);\n         }\n\n         return deleted;\n     }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19750276,"reputation":35,"user_id":14461795,"display_name":"Xoma Devs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605855090,"creation_date":1605855090,"answer_id":64925021,"question_id":20281835,"body_markdown":"Here is a simple way to do it :\r\n\r\n```\r\npublic void deleteDirectory(String directoryPath)  {\r\n      new Thread(new Runnable() {\r\n          public void run() {\r\n             for(String e: new File(directoryPath).list()) {\r\n                 if(new File(e).isDirectory()) \r\n                     deleteDirectory(e);\r\n                 else \r\n                     new File(e).delete();\r\n             }\r\n          }\r\n      }).start();\r\n  }\r\n```","title":"How to delete a folder with files using Java","body":"<p>Here is a simple way to do it :</p>\n<pre><code>public void deleteDirectory(String directoryPath)  {\n      new Thread(new Runnable() {\n          public void run() {\n             for(String e: new File(directoryPath).list()) {\n                 if(new File(e).isDirectory()) \n                     deleteDirectory(e);\n                 else \n                     new File(e).delete();\n             }\n          }\n      }).start();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6466542,"reputation":231,"user_id":5008255,"display_name":"IMXQD"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608626733,"creation_date":1608626733,"answer_id":65405605,"question_id":20281835,"body_markdown":"You can try this\r\n\r\n    public static void deleteDir(File dirFile) {\r\n        if (dirFile.isDirectory()) {\r\n            File[] dirs = dirFile.listFiles();\r\n            for (File dir: dirs) {\r\n                deleteDir(dir);\r\n            }\r\n        }\r\n        dirFile.delete();\r\n    }","title":"How to delete a folder with files using Java","body":"<p>You can try this</p>\n<pre><code>public static void deleteDir(File dirFile) {\n    if (dirFile.isDirectory()) {\n        File[] dirs = dirFile.listFiles();\n        for (File dir: dirs) {\n            deleteDir(dir);\n        }\n    }\n    dirFile.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648716236,"creation_date":1648716236,"answer_id":71689477,"question_id":20281835,"body_markdown":"    You can simply remove the directory which contains a single file or multiple files using the apache commons library.\r\n \r\ngradle import :\r\n\r\nimplementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.5&#39;\r\n\r\n   \r\n\r\n     \r\n\r\n    \r\n\r\n   \r\n\r\n    \r\n\r\n \r\n\r\n    File file=new File(&quot;/Users/devil/Documents/DummyProject/hello.txt&quot;);\r\n        \r\n     File parentDirLocation=new File(file.getParent);\r\n        \r\n    //Confirming the file parent is a directory or not.\r\n                 \r\n    if(parentDirLocation.isDirectory){\r\n        \r\n        \r\n     //after this line the mentioned directory will deleted.\r\n     FileUtils.deleteDirectory(parentDirLocation);\r\n       \r\n     }\r\n\r\n","title":"How to delete a folder with files using Java","body":"<pre><code>You can simply remove the directory which contains a single file or multiple files using the apache commons library.\n</code></pre>\n<p>gradle import :</p>\n<p>implementation group: 'commons-io', name: 'commons-io', version: '2.5'</p>\n<pre><code>File file=new File(&quot;/Users/devil/Documents/DummyProject/hello.txt&quot;);\n    \n File parentDirLocation=new File(file.getParent);\n    \n//Confirming the file parent is a directory or not.\n             \nif(parentDirLocation.isDirectory){\n    \n    \n //after this line the mentioned directory will deleted.\n FileUtils.deleteDirectory(parentDirLocation);\n   \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5966995,"reputation":189,"user_id":4690527,"display_name":"Izzy Kiefer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653879539,"creation_date":1653879539,"answer_id":72428721,"question_id":20281835,"body_markdown":"    List&lt;File&gt; temp = Arrays.asList(new File(&quot;./DIRECTORY&quot;).listFiles());\r\n    for (int i = 0; i &lt; temp.size(); i++)\r\n    {\r\n        temp.get(i).delete();\r\n    }","title":"How to delete a folder with files using Java","body":"<pre><code>List&lt;File&gt; temp = Arrays.asList(new File(&quot;./DIRECTORY&quot;).listFiles());\nfor (int i = 0; i &lt; temp.size(); i++)\n{\n    temp.get(i).delete();\n}\n</code></pre>\n"}],"owner":{"account_id":3657940,"reputation":3431,"user_id":3048442,"accept_rate":17,"display_name":"Mr.G"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400694,"favorite_count":0,"down_vote_count":5,"up_vote_count":164,"accepted_answer_id":20281958,"answer_count":30,"score":159,"last_activity_date":1683624363,"creation_date":1385715881,"question_id":20281835,"body_markdown":"I want to create and delete a directory using Java, but it isn&#39;t working.\r\n\r\n    File index = new File(&quot;/home/Work/Indexer1&quot;);\r\n    if (!index.exists()) {\r\n        index.mkdir();\r\n    } else {\r\n        index.delete();\r\n        if (!index.exists()) {\r\n            index.mkdir();\r\n        }\r\n    }","title":"How to delete a folder with files using Java","body":"<p>I want to create and delete a directory using Java, but it isn't working.</p>\n\n<pre><code>File index = new File(\"/home/Work/Indexer1\");\nif (!index.exists()) {\n    index.mkdir();\n} else {\n    index.delete();\n    if (!index.exists()) {\n        index.mkdir();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","security","apache-kafka","microservices"],"owner":{"account_id":28555970,"reputation":1,"user_id":21860171,"display_name":"zengirlsays"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683624116,"creation_date":1683624116,"question_id":76207723,"body_markdown":"I am developing a Java Spring-Boot application that uses Kafka as a message broker. I need to ensure the security of the credentials used in configuration. What is the best way to achieve this in a Java Spring-Boot microservice?\r\n\r\nSpring Security is one of the ways of doing it which provides authentication and access control framework. I want to know if this is the recommended way of doing it or is there any other better approach.\r\n\r\nI would appreciate any advice or recommendations on this. Thank you in advance!","title":"Enable security for encrypting credentials used in a Java Spring Boot application that uses Kafka","body":"<p>I am developing a Java Spring-Boot application that uses Kafka as a message broker. I need to ensure the security of the credentials used in configuration. What is the best way to achieve this in a Java Spring-Boot microservice?</p>\n<p>Spring Security is one of the ways of doing it which provides authentication and access control framework. I want to know if this is the recommended way of doing it or is there any other better approach.</p>\n<p>I would appreciate any advice or recommendations on this. Thank you in advance!</p>\n"},{"tags":["java","docker","appium","healenium"],"owner":{"account_id":28530860,"reputation":1,"user_id":21838310,"display_name":"Anshuman A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683623977,"creation_date":1683403779,"question_id":76190914,"body_markdown":"I am new to Healenium and have been trying to run Android native app tests using Healnium-Appium. I tried all the possible things but not able to to get rid of the below error:\r\n\r\n    org.openqa.selenium.SessionNotCreatedException: \r\n    Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;DESKTOP-******&#39;, ip: &#39;192.***.**.*&#39;\r\n    \tat healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\r\n    Caused by: org.openqa.selenium.WebDriverException: \r\n    java.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\r\n    Build info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\n    System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.4.1&#39;\r\n    Driver info: driver.version: AppiumDriver\r\n    \tat healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\r\n    Caused by: java.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\r\n    \tat healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\r\n\r\n\r\nTried with RemoteWebDriver but it didn&#39;t work. I have all the setup - Docker, Appium server and Emulator running but no luck seem to be in my part.","title":"Healenium Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>I am new to Healenium and have been trying to run Android native app tests using Healnium-Appium. I tried all the possible things but not able to to get rid of the below error:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: \nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'DESKTOP-******', ip: '192.***.**.*'\n    at healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\nCaused by: org.openqa.selenium.WebDriverException: \njava.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.4.1'\nDriver info: driver.version: AppiumDriver\n    at healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\nCaused by: java.lang.NoSuchMethodException: org.openqa.selenium.remote.ProtocolHandshake.createSession(org.openqa.selenium.remote.http.HttpHandler,java.io.InputStream,long)\n    at healenium.TestEmulatorLoginForm.setUp(TestEmulatorLoginForm.java:48)\n</code></pre>\n<p>Tried with RemoteWebDriver but it didn't work. I have all the setup - Docker, Appium server and Emulator running but no luck seem to be in my part.</p>\n"},{"tags":["javascript","java","ajax"],"owner":{"account_id":27856701,"reputation":11,"user_id":21270037,"display_name":"Ardean Angkasa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683623757,"creation_date":1683623546,"question_id":76207638,"body_markdown":"I&#39;m trying to pass session from Java (myapp.java) to JavaScript (myapp_2.js). Below is my Java code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     @RequestMapping(value = {&quot;/&quot;}, method = {RequestMethod.GET})\r\n     @ResponseBody\r\n     public Map&lt;String, Object&gt; getSessionAttributes(HttpServletRequest request) {\r\n         HttpSession session = request.getSession();\r\n         Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();\r\n         attributes.put(&quot;userUsername&quot;, (String)session.getAttribute(&quot;userUsername&quot;));\r\n         attributes.put(&quot;accessGroup&quot;, (String)session.getAttribute(&quot;accessGroup&quot;));\r\n         attributes.put(&quot;username&quot;, (String)session.getAttribute(&quot;username&quot;));\r\n         LOG.info(&quot;username set to: &quot; + (String)session.getAttribute(&quot;username&quot;));\r\n         LOG.info(&quot;accessGroup set to: &quot; + (String)session.getAttribute(&quot;accessGroup&quot;));\r\n         LOG.info(&quot;userUsername set to: &quot; + (String)session.getAttribute(&quot;userUsername&quot;));\r\n         return attributes;\r\n     }\r\n    \r\n      @RequestMapping(value = {&quot;doLogin&quot;}, method = {RequestMethod.POST})\r\n      public String doLogin(HttpServletRequest request) {\r\n          String pathConfig = String.valueOf(System.getenv(&quot;CATALINA_HOME&quot;)) + &quot;/conf/sfmonitor/credentials.xml&quot;;              \r\n          HttpSession session = request.getSession();\r\n          String username = request.getParameter(&quot;username&quot;);\r\n          String password = request.getParameter(&quot;password&quot;);\r\n          // System.out.println(&quot;my username: &quot; + username);        \r\n          String hashedPassword = md5(password); \r\n          // System.out.println(&quot;my password: &quot; + hashedPassword);     \r\n          try {\r\n              File credentialsFile = new File(pathConfig);                \r\n              DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n              DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n              Document doc = dBuilder.parse(credentialsFile);\r\n              doc.getDocumentElement().normalize();                   \r\n              NodeList nList = doc.getElementsByTagName(&quot;user&quot;);\r\n              for (int temp = 0; temp &lt; nList.getLength(); temp++) {\r\n                  Node nNode = nList.item(temp);\r\n                  if (nNode.getNodeType() == Node.ELEMENT_NODE) {\r\n                      Element eElement = (Element) nNode;\r\n    \r\n                      String userUsername = eElement.getAttribute(&quot;username&quot;);\r\n                      String userPassword = eElement.getAttribute(&quot;password&quot;);\r\n                      String accessGroup = eElement.getAttribute(&quot;access_group&quot;);                                                             \r\n                                     \r\n                      if (username.equals(userUsername) &amp;&amp; hashedPassword.equals(userPassword)) {                                    \r\n                          session.setAttribute(&quot;isLoggedin&quot;, true);   \r\n                          session.setAttribute(&quot;accessGroup&quot;, accessGroup);                     \r\n                          session.setAttribute(&quot;userUsername&quot;, userUsername);    \r\n                          session.setAttribute(&quot;username&quot;, username);               \r\n                          session.setMaxInactiveInterval(21600);                                                        \r\n                          return &quot;redirect:/dashboard&quot;;                 \r\n                      }\r\n                  }\r\n              }\r\n          } catch (Exception e) {\r\n              e.printStackTrace();\r\n          }\r\n      \r\n          return &quot;redirect:/login&quot;;\r\n      }\r\n\r\nThis is the session I need to pass to myapp_2.js:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    session.setAttribute(&quot;accessGroup&quot;, accessGroup);\r\n                              System.out.println(&quot;accessGroup set to: &quot; + accessGroup);\r\n                              session.setAttribute(&quot;userUsername&quot;, userUsername);    \r\n                              session.setAttribute(&quot;username&quot;, username); \r\n\r\nThis is myapp_2.js:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function collectGroup(lstAgent) {\r\n      $(document).ready(function () {\r\n        $.ajax({\r\n          type: &quot;GET&quot;,\r\n          url: &quot;/&quot;,\r\n          data: {\r\n            action: &quot;getSessionAttributes&quot;,\r\n          },\r\n          success: function (data) {\r\n            // console.log(data);\r\n            var userUsername = data.userUsername;\r\n            var accessGroup2 = data.accessGroup;\r\n            var username = data.username;\r\n            console.log(&quot;userUsername set to: &quot; + userUsername);\r\n            console.log(&quot;accessGroup set to: &quot; + accessGroup2);\r\n            console.log(&quot;username set to: &quot; + username);\r\n            // Call your function to collect group passing accessGroup, userUsername and username\r\n            collectGroup(lstAgent, accessGroup2, userUsername, username);\r\n    \r\n            let ul = document.getElementById(&quot;dropdown-group&quot;);\r\n            if (ul.childNodes.length &lt;= 1) {\r\n              let rawGroup = [&quot;All&quot;];\r\n              var accessGroup = accessGroup2;\r\n              let filteredAgents = lstAgent.filter(function (agent) {\r\n                return agent.agent.group === accessGroup;\r\n              });\r\n    \r\n              // get the group names from the filtered agents\r\n              for (let i in filteredAgents) {\r\n                rawGroup.push(filteredAgents[i].agent.group);\r\n              }\r\n    \r\n              let fixGroup = rawGroup.filter(function (currValue, index, self) {\r\n                return self.indexOf(currValue) === index;\r\n              });\r\n              insertGroupToDropdown(fixGroup);\r\n              $(&quot;.dropdown-menu li a&quot;).click(function () {\r\n                $(this)\r\n                  .parents(&quot;.btn-group&quot;)\r\n                  .find(&quot;div&quot;, &quot;.btn&quot;, &quot;.btn-default&quot;)\r\n                  .html($(this).text());\r\n                filterCard();\r\n              });\r\n            }\r\n          },\r\n        });\r\n      });\r\n    }\r\n\r\n    console.log(userUsername);\r\n            console.log(accessGroup2);\r\n            console.log(username);\r\n\r\nResult from log:\r\n```none\r\nuserUsername set to: undefined\r\naccessGroup set to: undefined\r\nusername set to: undefined \r\n```\r\n\r\nThere&#39;s a value if I checked from LOG.info, but my JavaScript seemed unable to get the session (undefined). How can I solve it, or is there a simple way to pass the session from Java to JavaScript?","title":"How to pass Java session to JavaScript","body":"<p>I'm trying to pass session from Java (myapp.java) to JavaScript (myapp_2.js). Below is my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @RequestMapping(value = {&quot;/&quot;}, method = {RequestMethod.GET})\n @ResponseBody\n public Map&lt;String, Object&gt; getSessionAttributes(HttpServletRequest request) {\n     HttpSession session = request.getSession();\n     Map&lt;String, Object&gt; attributes = new HashMap&lt;&gt;();\n     attributes.put(&quot;userUsername&quot;, (String)session.getAttribute(&quot;userUsername&quot;));\n     attributes.put(&quot;accessGroup&quot;, (String)session.getAttribute(&quot;accessGroup&quot;));\n     attributes.put(&quot;username&quot;, (String)session.getAttribute(&quot;username&quot;));\n     LOG.info(&quot;username set to: &quot; + (String)session.getAttribute(&quot;username&quot;));\n     LOG.info(&quot;accessGroup set to: &quot; + (String)session.getAttribute(&quot;accessGroup&quot;));\n     LOG.info(&quot;userUsername set to: &quot; + (String)session.getAttribute(&quot;userUsername&quot;));\n     return attributes;\n }\n\n  @RequestMapping(value = {&quot;doLogin&quot;}, method = {RequestMethod.POST})\n  public String doLogin(HttpServletRequest request) {\n      String pathConfig = String.valueOf(System.getenv(&quot;CATALINA_HOME&quot;)) + &quot;/conf/sfmonitor/credentials.xml&quot;;              \n      HttpSession session = request.getSession();\n      String username = request.getParameter(&quot;username&quot;);\n      String password = request.getParameter(&quot;password&quot;);\n      // System.out.println(&quot;my username: &quot; + username);        \n      String hashedPassword = md5(password); \n      // System.out.println(&quot;my password: &quot; + hashedPassword);     \n      try {\n          File credentialsFile = new File(pathConfig);                \n          DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n          DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n          Document doc = dBuilder.parse(credentialsFile);\n          doc.getDocumentElement().normalize();                   \n          NodeList nList = doc.getElementsByTagName(&quot;user&quot;);\n          for (int temp = 0; temp &lt; nList.getLength(); temp++) {\n              Node nNode = nList.item(temp);\n              if (nNode.getNodeType() == Node.ELEMENT_NODE) {\n                  Element eElement = (Element) nNode;\n\n                  String userUsername = eElement.getAttribute(&quot;username&quot;);\n                  String userPassword = eElement.getAttribute(&quot;password&quot;);\n                  String accessGroup = eElement.getAttribute(&quot;access_group&quot;);                                                             \n                                 \n                  if (username.equals(userUsername) &amp;&amp; hashedPassword.equals(userPassword)) {                                    \n                      session.setAttribute(&quot;isLoggedin&quot;, true);   \n                      session.setAttribute(&quot;accessGroup&quot;, accessGroup);                     \n                      session.setAttribute(&quot;userUsername&quot;, userUsername);    \n                      session.setAttribute(&quot;username&quot;, username);               \n                      session.setMaxInactiveInterval(21600);                                                        \n                      return &quot;redirect:/dashboard&quot;;                 \n                  }\n              }\n          }\n      } catch (Exception e) {\n          e.printStackTrace();\n      }\n  \n      return &quot;redirect:/login&quot;;\n  }\n</code></pre>\n<p>This is the session I need to pass to myapp_2.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>session.setAttribute(&quot;accessGroup&quot;, accessGroup);\n                          System.out.println(&quot;accessGroup set to: &quot; + accessGroup);\n                          session.setAttribute(&quot;userUsername&quot;, userUsername);    \n                          session.setAttribute(&quot;username&quot;, username); \n</code></pre>\n<p>This is myapp_2.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function collectGroup(lstAgent) {\n  $(document).ready(function () {\n    $.ajax({\n      type: &quot;GET&quot;,\n      url: &quot;/&quot;,\n      data: {\n        action: &quot;getSessionAttributes&quot;,\n      },\n      success: function (data) {\n        // console.log(data);\n        var userUsername = data.userUsername;\n        var accessGroup2 = data.accessGroup;\n        var username = data.username;\n        console.log(&quot;userUsername set to: &quot; + userUsername);\n        console.log(&quot;accessGroup set to: &quot; + accessGroup2);\n        console.log(&quot;username set to: &quot; + username);\n        // Call your function to collect group passing accessGroup, userUsername and username\n        collectGroup(lstAgent, accessGroup2, userUsername, username);\n\n        let ul = document.getElementById(&quot;dropdown-group&quot;);\n        if (ul.childNodes.length &lt;= 1) {\n          let rawGroup = [&quot;All&quot;];\n          var accessGroup = accessGroup2;\n          let filteredAgents = lstAgent.filter(function (agent) {\n            return agent.agent.group === accessGroup;\n          });\n\n          // get the group names from the filtered agents\n          for (let i in filteredAgents) {\n            rawGroup.push(filteredAgents[i].agent.group);\n          }\n\n          let fixGroup = rawGroup.filter(function (currValue, index, self) {\n            return self.indexOf(currValue) === index;\n          });\n          insertGroupToDropdown(fixGroup);\n          $(&quot;.dropdown-menu li a&quot;).click(function () {\n            $(this)\n              .parents(&quot;.btn-group&quot;)\n              .find(&quot;div&quot;, &quot;.btn&quot;, &quot;.btn-default&quot;)\n              .html($(this).text());\n            filterCard();\n          });\n        }\n      },\n    });\n  });\n}\n\nconsole.log(userUsername);\n        console.log(accessGroup2);\n        console.log(username);\n</code></pre>\n<p>Result from log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>userUsername set to: undefined\naccessGroup set to: undefined\nusername set to: undefined \n</code></pre>\n<p>There's a value if I checked from LOG.info, but my JavaScript seemed unable to get the session (undefined). How can I solve it, or is there a simple way to pass the session from Java to JavaScript?</p>\n"},{"tags":["java","ejb","wildfly","java-9"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":4,"creation_date":1488977136,"post_id":42667837,"comment_id":72468082,"body_markdown":"Try to add `--add-opens java.base/java.io=ALL-UNNAMED` to the java command line to open the java.io package for reflection. Background: http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html","body":"Try to add <code>--add-opens java.base&#47;java.io=ALL-UNNAMED</code> to the java command line to open the java.io package for reflection. Background: <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/005276.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/jdk9-dev/2016-November/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1488987874,"creation_date":1488987874,"answer_id":42675738,"question_id":42667837,"body_markdown":"As per [this answer](https://stackoverflow.com/a/41265267/2525313) you need to add `--add-opens java.base/java.io=ALL-UNNAMED` to the `java` command that launches the application.","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>As per <a href=\"https://stackoverflow.com/a/41265267/2525313\">this answer</a> you need to add <code>--add-opens java.base/java.io=ALL-UNNAMED</code> to the <code>java</code> command that launches the application.</p>\n"},{"tags":[],"owner":{"account_id":10412233,"reputation":281,"user_id":7677303,"display_name":"Andrea Biasillo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1489145356,"creation_date":1489145356,"answer_id":42717318,"question_id":42667837,"body_markdown":"Adding the following JVM parameters:\r\n\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n    --add-opens=java.base/java.io=ALL-UNNAMED\r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\nthe above exception it is not reached anymore, it fails before with this exception:\r\n\r\n    java.lang.ClassNotFoundException: com.dataloy.client.Main\r\n    \tat jdk.deploy@9-ea/com.sun.deploy.security.DeployURLClassLoader.findClass(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n    \tat jdk.javaws@9-ea/com.sun.javaws.Launcher.run(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n\r\nI need to make visible more modules but I struggling to understand which one.\r\n\r\nAndrea \r\n\r\n\r\n","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>Adding the following JVM parameters:</p>\n\n<pre><code>--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n\n<p>the above exception it is not reached anymore, it fails before with this exception:</p>\n\n<pre><code>java.lang.ClassNotFoundException: com.dataloy.client.Main\n    at jdk.deploy@9-ea/com.sun.deploy.security.DeployURLClassLoader.findClass(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.jnlp.JNLPClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\n    at jdk.javaws@9-ea/com.sun.javaws.Launcher.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I need to make visible more modules but I struggling to understand which one.</p>\n\n<p>Andrea </p>\n"},{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683623430,"creation_date":1683623430,"answer_id":76207620,"question_id":42667837,"body_markdown":"I had the same problem before and I solve it, you can check this answer : https://stackoverflow.com/a/76207178/15721679","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>I had the same problem before and I solve it, you can check this answer : <a href=\"https://stackoverflow.com/a/76207178/15721679\">https://stackoverflow.com/a/76207178/15721679</a></p>\n"}],"owner":{"account_id":10412233,"reputation":281,"user_id":7677303,"display_name":"Andrea Biasillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39962,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1683623430,"creation_date":1488966236,"question_id":42667837,"body_markdown":"I tried to run my application (front-end developed in Java Swing, server developed with EJB deployed on Wildfly 8) with Java 9.\r\nWhen the client tries to establish an EJB connection got the following exception:\r\n\r\n        09:53:42,358 INFO  [xnio] XNIO version 3.2.0.Final\r\n    09:53:42,465 INFO  [nio] XNIO NIO Implementation Version 3.2.0.Final\r\n    09:53:42,507 DEBUG [nio] Started channel thread &#39;Remoting &quot;config-based-naming-client-endpoint&quot; I/O-1&#39;, selector sun.nio.ch.WindowsSelectorImpl@4b4a5caf\r\n    RmiServiceFactpry ExceptionInInitializerError\r\n    java.lang.ExceptionInInitializerError\r\n    \tat org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:148)\r\n    \tat org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:106)\r\n    \tat org.jboss.ejb.client.EJBClientContext.registerConnection(EJBClientContext.java:465)\r\n    \tat org.jboss.naming.remote.client.ejb.RemoteNamingStoreEJBClientHandler.associate(RemoteNamingStoreEJBClientHandler.java:78)\r\n    \tat org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1.&lt;init&gt;(RemoteNamingStoreV1.java:71)\r\n    \tat org.jboss.naming.remote.protocol.v1.VersionOne.getRemoteNamingStore(VersionOne.java:50)\r\n    \tat org.jboss.naming.remote.protocol.Versions.getRemoteNamingStore(Versions.java:55)\r\n    \tat org.jboss.naming.remote.client.RemoteContextFactory.createVersionedStore(RemoteContextFactory.java:73)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:202)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)\r\n    \tat org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)\r\n    \tat org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:79)\r\n    \tat org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:83)\r\n    \tat java.naming/javax.naming.InitialContext.lookup(Unknown Source)\r\n    \tat com.dataloy.client.core.RmiServiceFactory.createRemote(RmiServiceFactory.java:105)\r\n    \tat com.dataloy.client.core.RmiServiceFactory.getServiceImpl(RmiServiceFactory.java:96)\r\n    \tat com.dataloy.core.AbstractServiceFactory.getService(AbstractServiceFactory.java:58)\r\n    \tat com.dataloy.DataloyEngine.getService(DataloyEngine.java:198)\r\n    \tat com.dataloy.DataloyEngine.login(DataloyEngine.java:548)\r\n    \tat com.dataloy.client.login.LoginPanel.doLogin(LoginPanel.java:511)\r\n    \tat com.dataloy.client.login.LoginPanel.access$500(LoginPanel.java:56)\r\n    \tat com.dataloy.client.login.LoginPanel$5.run(LoginPanel.java:452)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.io.OptionalDataException(boolean) accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @312002a1\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Constructor.setAccessible(Unknown Source)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:385)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:381)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:381)\r\n    \tat org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:376)\r\n    \tat org.jboss.marshalling.Marshalling.&lt;clinit&gt;(Marshalling.java:374)\r\n    \t... 23 more\r\n\r\nI see there is some problem with the new module management introduced in Java 9, but I cannot understand what should do. \r\n\r\nRegards,\r\nAndrea","title":"Running application with Java 9, module java.base does not &quot;opens java.io&quot;","body":"<p>I tried to run my application (front-end developed in Java Swing, server developed with EJB deployed on Wildfly 8) with Java 9.\nWhen the client tries to establish an EJB connection got the following exception:</p>\n\n<pre><code>    09:53:42,358 INFO  [xnio] XNIO version 3.2.0.Final\n09:53:42,465 INFO  [nio] XNIO NIO Implementation Version 3.2.0.Final\n09:53:42,507 DEBUG [nio] Started channel thread 'Remoting \"config-based-naming-client-endpoint\" I/O-1', selector sun.nio.ch.WindowsSelectorImpl@4b4a5caf\nRmiServiceFactpry ExceptionInInitializerError\njava.lang.ExceptionInInitializerError\n    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:148)\n    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.&lt;init&gt;(RemotingConnectionEJBReceiver.java:106)\n    at org.jboss.ejb.client.EJBClientContext.registerConnection(EJBClientContext.java:465)\n    at org.jboss.naming.remote.client.ejb.RemoteNamingStoreEJBClientHandler.associate(RemoteNamingStoreEJBClientHandler.java:78)\n    at org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1.&lt;init&gt;(RemoteNamingStoreV1.java:71)\n    at org.jboss.naming.remote.protocol.v1.VersionOne.getRemoteNamingStore(VersionOne.java:50)\n    at org.jboss.naming.remote.protocol.Versions.getRemoteNamingStore(Versions.java:55)\n    at org.jboss.naming.remote.client.RemoteContextFactory.createVersionedStore(RemoteContextFactory.java:73)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:202)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)\n    at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:79)\n    at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:83)\n    at java.naming/javax.naming.InitialContext.lookup(Unknown Source)\n    at com.dataloy.client.core.RmiServiceFactory.createRemote(RmiServiceFactory.java:105)\n    at com.dataloy.client.core.RmiServiceFactory.getServiceImpl(RmiServiceFactory.java:96)\n    at com.dataloy.core.AbstractServiceFactory.getService(AbstractServiceFactory.java:58)\n    at com.dataloy.DataloyEngine.getService(DataloyEngine.java:198)\n    at com.dataloy.DataloyEngine.login(DataloyEngine.java:548)\n    at com.dataloy.client.login.LoginPanel.doLogin(LoginPanel.java:511)\n    at com.dataloy.client.login.LoginPanel.access$500(LoginPanel.java:56)\n    at com.dataloy.client.login.LoginPanel$5.run(LoginPanel.java:452)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make java.io.OptionalDataException(boolean) accessible: module java.base does not \"opens java.io\" to unnamed module @312002a1\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Unknown Source)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Unknown Source)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:385)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction$1.run(Marshalling.java:381)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:381)\n    at org.jboss.marshalling.Marshalling$OptionalDataExceptionCreateAction.&lt;init&gt;(Marshalling.java:376)\n    at org.jboss.marshalling.Marshalling.&lt;clinit&gt;(Marshalling.java:374)\n    ... 23 more\n</code></pre>\n\n<p>I see there is some problem with the new module management introduced in Java 9, but I cannot understand what should do. </p>\n\n<p>Regards,\nAndrea</p>\n"},{"tags":["java","nosuchmethoderror","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1674640852,"post_id":75232035,"comment_id":132755855,"body_markdown":"It&#39;s `API.areLoged(playerName)` and not `API.areLoged(player)` as the method request a string and not the player object","body":"It&#39;s <code>API.areLoged(playerName)</code> and not <code>API.areLoged(player)</code> as the method request a string and not the player object"},{"owner":{"account_id":27616741,"reputation":1,"user_id":21078647,"display_name":"Daniyusk"},"score":0,"creation_date":1674862003,"post_id":75232035,"comment_id":132811309,"body_markdown":"I know, but this is a recent change, before PlayerName it was just Player. But it keeps catching error...","body":"I know, but this is a recent change, before PlayerName it was just Player. But it keeps catching error..."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683635135,"post_id":76207617,"comment_id":134393996,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76207617/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25927964,"reputation":1,"user_id":19649555,"display_name":"creperozelot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683623401,"creation_date":1683623401,"answer_id":76207617,"question_id":75232035,"body_markdown":"On the MoveHandler you entered player instead of player.getName(). Be sure you have the right variable in the function.","title":"Could not pass event PlayerMoveEvent to &lt;plugin&gt;","body":"<p>On the MoveHandler you entered player instead of player.getName(). Be sure you have the right variable in the function.</p>\n"}],"owner":{"account_id":27616741,"reputation":1,"user_id":21078647,"display_name":"Daniyusk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683623401,"creation_date":1674639546,"question_id":75232035,"body_markdown":"I&#39;m trying to make a Register/Login plugin in spigot for minecraft and I caught a error:\r\n\r\n\r\n```\r\n[06:03:10 ERROR]: Could not pass event PlayerMoveEvent to AuthPlugin v1.0-SNAPSHOT\r\norg.bukkit.event.EventException: null\r\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:502) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:487) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PlayerConnection.a(PlayerConnection.java:270) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying.a(SourceFile:126) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying$PacketPlayInPosition.a(SourceFile:57) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.PlayerConnectionUtils$1.run(SourceFile:13) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n        at net.minecraft.server.v1_8_R3.SystemUtils.a(SourceFile:44) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:715) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:374) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:654) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:557) [Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        at java.lang.Thread.run(Thread.java:833) [?:?]\r\nCaused by: java.lang.NoSuchMethodError: &#39;boolean br.com.daniyusk.API.areLoged(java.lang.String)&#39;\r\n        at br.com.daniyusk.Events.doNotMove(Events.java:39) ~[?:?]\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]\r\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\r\n        ... 15 more\r\n```\r\n\r\nAnd here&#39;s the Events code:\r\n\r\n\r\n```\r\npackage br.com.daniyusk;\r\n\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\nimport org.bukkit.event.player.PlayerMoveEvent;\r\nimport org.bukkit.scheduler.BukkitRunnable;\r\n\r\npublic class Events implements Listener {\r\n\r\n    @EventHandler\r\n    public void playerJoined(PlayerJoinEvent e) {\r\n        Player player = e.getPlayer();\r\n        String playerName = player.getName();\r\n\r\n        if (!API.areLoged(player)) {\r\n            if (!Config.Contains(playerName)) {\r\n                player.sendMessage(&quot;&#167;a Registre-se por favor: /register &lt;password&gt; &lt;password&gt;&quot;);\r\n            } else {\r\n                player.sendMessage(&quot;&#167;a Logue-se por favor: /login &lt;password&gt;&quot;);\r\n            }\r\n        }\r\n\r\n        new BukkitRunnable() {\r\n            public void run(){\r\n                if (!API.areLoged(player)) {\r\n                    player.kickPlayer(&quot;&#167;cTempo esgotado!&quot;);\r\n                }\r\n            }\r\n        }.runTaskLater(authplugin.getInstance(), 20*60 );\r\n    }\r\n\r\n    @EventHandler\r\n    public void doNotMove(PlayerMoveEvent e) {\r\n        Player player = e.getPlayer();\r\n        if (!API.areLoged(player)) {\r\n            player.teleport(e.getFrom());\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void doNotChat(AsyncPlayerChatEvent e){\r\n        Player player = e.getPlayer();\r\n        if (!API.areLoged(player)) {\r\n            e.setCancelled(true);\r\n            player.sendMessage(&quot;&#167;cRegistre-se/Logue para digitar no chat!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAPI.areLoged() :\r\n\r\n```\r\n    public static boolean areLoged(String player) {\r\n        try {\r\n            return playersLoged.contains(player);\r\n        }catch (NullPointerException e){\r\n            System.out.println(&quot;Player == NULL&quot;);\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\nOne day before this error, the plugin was working correctly, but in the next day, I caught this error. I believed the error came from the &quot;API&quot; class, but I&#39;m not sure about that. But maybe it&#39;s the API that causes this error, because all classes that use the API have this error (only in areLoged(), I haven&#39;t tested it in the other methods of the API).\r\n\r\nI looked at the old versions of the classes, but they seem to me to be the same things as the current ones (with minimal differences, I believe that it is not affecting)\r\n\r\nI dont have so much details from this error.\r\n\r\nI tried using an if, as I thought that maybe Contains would return null, but I was wrong. I also changed the parameter that uses String (before it was Player). It didn&#39;t solve either.","title":"Could not pass event PlayerMoveEvent to &lt;plugin&gt;","body":"<p>I'm trying to make a Register/Login plugin in spigot for minecraft and I caught a error:</p>\n<pre><code>[06:03:10 ERROR]: Could not pass event PlayerMoveEvent to AuthPlugin v1.0-SNAPSHOT\norg.bukkit.event.EventException: null\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:310) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at org.bukkit.plugin.RegisteredListener.callEvent(RegisteredListener.java:62) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at org.bukkit.plugin.SimplePluginManager.fireEvent(SimplePluginManager.java:502) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:487) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PlayerConnection.a(PlayerConnection.java:270) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying.a(SourceFile:126) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PacketPlayInFlying$PacketPlayInPosition.a(SourceFile:57) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.PlayerConnectionUtils$1.run(SourceFile:13) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) [?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\n        at net.minecraft.server.v1_8_R3.SystemUtils.a(SourceFile:44) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.B(MinecraftServer.java:715) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.DedicatedServer.B(DedicatedServer.java:374) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.A(MinecraftServer.java:654) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:557) [Spigot.jar:git-Spigot-21fe707-741a1bd]\n        at java.lang.Thread.run(Thread.java:833) [?:?]\nCaused by: java.lang.NoSuchMethodError: 'boolean br.com.daniyusk.API.areLoged(java.lang.String)'\n        at br.com.daniyusk.Events.doNotMove(Events.java:39) ~[?:?]\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]\n        at org.bukkit.plugin.java.JavaPluginLoader$1.execute(JavaPluginLoader.java:306) ~[Spigot.jar:git-Spigot-21fe707-741a1bd]\n        ... 15 more\n</code></pre>\n<p>And here's the Events code:</p>\n<pre><code>package br.com.daniyusk;\n\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.event.player.PlayerMoveEvent;\nimport org.bukkit.scheduler.BukkitRunnable;\n\npublic class Events implements Listener {\n\n    @EventHandler\n    public void playerJoined(PlayerJoinEvent e) {\n        Player player = e.getPlayer();\n        String playerName = player.getName();\n\n        if (!API.areLoged(player)) {\n            if (!Config.Contains(playerName)) {\n                player.sendMessage(&quot;§a Registre-se por favor: /register &lt;password&gt; &lt;password&gt;&quot;);\n            } else {\n                player.sendMessage(&quot;§a Logue-se por favor: /login &lt;password&gt;&quot;);\n            }\n        }\n\n        new BukkitRunnable() {\n            public void run(){\n                if (!API.areLoged(player)) {\n                    player.kickPlayer(&quot;§cTempo esgotado!&quot;);\n                }\n            }\n        }.runTaskLater(authplugin.getInstance(), 20*60 );\n    }\n\n    @EventHandler\n    public void doNotMove(PlayerMoveEvent e) {\n        Player player = e.getPlayer();\n        if (!API.areLoged(player)) {\n            player.teleport(e.getFrom());\n        }\n    }\n\n    @EventHandler\n    public void doNotChat(AsyncPlayerChatEvent e){\n        Player player = e.getPlayer();\n        if (!API.areLoged(player)) {\n            e.setCancelled(true);\n            player.sendMessage(&quot;§cRegistre-se/Logue para digitar no chat!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>API.areLoged() :</p>\n<pre><code>    public static boolean areLoged(String player) {\n        try {\n            return playersLoged.contains(player);\n        }catch (NullPointerException e){\n            System.out.println(&quot;Player == NULL&quot;);\n            return false;\n        }\n    }\n</code></pre>\n<p>One day before this error, the plugin was working correctly, but in the next day, I caught this error. I believed the error came from the &quot;API&quot; class, but I'm not sure about that. But maybe it's the API that causes this error, because all classes that use the API have this error (only in areLoged(), I haven't tested it in the other methods of the API).</p>\n<p>I looked at the old versions of the classes, but they seem to me to be the same things as the current ones (with minimal differences, I believe that it is not affecting)</p>\n<p>I dont have so much details from this error.</p>\n<p>I tried using an if, as I thought that maybe Contains would return null, but I was wrong. I also changed the parameter that uses String (before it was Player). It didn't solve either.</p>\n"},{"tags":["java","algorithm","architecture","ibm-mq","system-design"],"comments":[{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1657561053,"post_id":72941660,"comment_id":128835001,"body_markdown":"What behaviour would you expect if the second job receives A2…A5 but not A1 (due to common failures like network issues)","body":"What behaviour would you expect if the second job receives A2…A5 but not A1 (due to common failures like network issues)"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1657575515,"post_id":72941660,"comment_id":128839179,"body_markdown":"The best I see is that you can split messages into groups and have each group arrive in logical order.  Groups can still be out of order relative to each other though.  See https://www.ibm.com/docs/en/ibm-mq/9.1?topic=queue-logical-physical-ordering for more.","body":"The best I see is that you can split messages into groups and have each group arrive in logical order.  Groups can still be out of order relative to each other though.  See <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.1?topic=queue-logical-physical-ordering\" rel=\"nofollow noreferrer\">ibm.com/docs/en/ibm-mq/&hellip;</a> for more."},{"owner":{"account_id":3975977,"reputation":1075,"user_id":3279163,"accept_rate":75,"display_name":"David Guida"},"score":0,"creation_date":1657624626,"post_id":72941660,"comment_id":128850021,"body_markdown":"do the messages belong to some kind of session? What I mean by that is if there is a way to logically group a batch of messages together OR the all need to be processed sequentially","body":"do the messages belong to some kind of session? What I mean by that is if there is a way to logically group a batch of messages together OR the all need to be processed sequentially"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1657648649,"post_id":72941660,"comment_id":128859114,"body_markdown":"If there are different types of messages on the same queue and order only matters for each type of message then one solution could be to have an app that splits the messages across multiple queues and then you can run multiple instances of your transformation app. If the messages could have a message property added at the source then you could even run multiple listeners each with a selector on the single input queue.","body":"If there are different types of messages on the same queue and order only matters for each type of message then one solution could be to have an app that splits the messages across multiple queues and then you can run multiple instances of your transformation app. If the messages could have a message property added at the source then you could even run multiple listeners each with a selector on the single input queue."},{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":1,"creation_date":1657707618,"post_id":72941660,"comment_id":128872706,"body_markdown":"Strictly if you have more than one application getting messages then you will have messages out of order.  For example  Instance1 gets message, Puts reply, Instance2 gets message puts reply.  instance 2 commits, instance 1 commits.  For a short while, reply2 was available, before reply1 was committed.  A stock exchange needs to process stock orders for a company in strict order.   They solved this by having multiple queues. QUEUE A_B  for all stocks beginning with A or B, QUEUE C for all stocks beginning with C... V-Z...  etc.  For each queue they had 1 app processing the queue.","body":"Strictly if you have more than one application getting messages then you will have messages out of order.  For example  Instance1 gets message, Puts reply, Instance2 gets message puts reply.  instance 2 commits, instance 1 commits.  For a short while, reply2 was available, before reply1 was committed.  A stock exchange needs to process stock orders for a company in strict order.   They solved this by having multiple queues. QUEUE A_B  for all stocks beginning with A or B, QUEUE C for all stocks beginning with C... V-Z...  etc.  For each queue they had 1 app processing the queue."},{"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"score":0,"creation_date":1657723495,"post_id":72941660,"comment_id":128879131,"body_markdown":"@colinpaice Then there will be lot of queues right? If suppose there are 10K companies stocks trading then theoretically 10K queues will be created, and queues keep on increasing with every new company?","body":"@colinpaice Then there will be lot of queues right? If suppose there are 10K companies stocks trading then theoretically 10K queues will be created, and queues keep on increasing with every new company?"},{"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"score":0,"creation_date":1657723844,"post_id":72941660,"comment_id":128879290,"body_markdown":"@JoshMc Generally messages will be different; only when there is some change in state of previous message received; we will get an amended message. Basically I am looking for way where in Amended message should not be processed before its previous version. Hope you have got what I am looking for. Will refine Question for better clarity.","body":"@JoshMc Generally messages will be different; only when there is some change in state of previous message received; we will get an amended message. Basically I am looking for way where in Amended message should not be processed before its previous version. Hope you have got what I am looking for. Will refine Question for better clarity."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1657726810,"post_id":72941660,"comment_id":128880597,"body_markdown":"You don&#39;t need 10k queues, you can split them how you want as long as they are always split consistently.   I know one app that created a hash based on some field of the message and had 20 readers,  each reader would only process a subset of hashes, but in total all hashes were processed.","body":"You don&#39;t need 10k queues, you can split them how you want as long as they are always split consistently.   I know one app that created a hash based on some field of the message and had 20 readers,  each reader would only process a subset of hashes, but in total all hashes were processed."},{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":0,"creation_date":1657816759,"post_id":72941660,"comment_id":128905849,"body_markdown":"You can have as many of few queues as you need.  If one cant handle it, try 10 - but have a consistent way of allocating messages to queues.  Eg hash (from Josh),could be first letter of an attribute  or all A* B* go to queue A_B. I picture a big switch statement.","body":"You can have as many of few queues as you need.  If one cant handle it, try 10 - but have a consistent way of allocating messages to queues.  Eg hash (from Josh),could be first letter of an attribute  or all A* B* go to queue A_B. I picture a big switch statement."}],"answers":[{"comments":[{"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"score":0,"creation_date":1657724728,"post_id":72945498,"comment_id":128879692,"body_markdown":"Can you please help me understand how it will solve the problem?","body":"Can you please help me understand how it will solve the problem?"},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1657755928,"post_id":72945498,"comment_id":128888956,"body_markdown":"I gave you the link, just read up on Message Groups.  When an instance starts getting messages for a group, then no other instances will get any of those messages in the group.","body":"I gave you the link, just read up on Message Groups.  When an instance starts getting messages for a group, then no other instances will get any of those messages in the group."}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657580875,"creation_date":1657580875,"answer_id":72945498,"question_id":72941660,"body_markdown":"IBM MQ has built-in features for grouping messages together. I would suggest you have a look at [Message Groups][1].\r\n\r\n\r\n  [1]: https://www.ibm.com/docs/en/ibm-mq/latest?topic=messages-message-groups","title":"How to maintain order of messages among multiple instances of same application","body":"<p>IBM MQ has built-in features for grouping messages together. I would suggest you have a look at <a href=\"https://www.ibm.com/docs/en/ibm-mq/latest?topic=messages-message-groups\" rel=\"nofollow noreferrer\">Message Groups</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user13602017"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659078606,"creation_date":1659078606,"answer_id":73162849,"question_id":72941660,"body_markdown":"When consuming messages store in a file according to the classification. When a message consumed and decided to a group according to the classification. Update the file. It can be done by the first answer for first way you have to specify a message a group ID on program and it will process messages as a group. ","title":"How to maintain order of messages among multiple instances of same application","body":"<p>When consuming messages store in a file according to the classification. When a message consumed and decided to a group according to the classification. Update the file. It can be done by the first answer for first way you have to specify a message a group ID on program and it will process messages as a group.</p>\n"}],"owner":{"account_id":21820986,"reputation":71,"user_id":16117187,"display_name":"vivek075"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683623362,"creation_date":1657556419,"question_id":72941660,"body_markdown":"We have a very simple application which read messages from MQ and transform the messages into some different format and send it to another MQ. \r\nThe application is deployed in the Openshift environment. Hence at any given time multiple instances of the same application will be running. We are not using any DB in our application. \r\n\r\n*We want to maintain the order of messages.*\r\nBasically while reading the messages, they were present in source MQ with some order(for e.g. A1-A2-A3-A4-A5) then post transformation they should be in same order in out MQ.\r\n\r\nEg.: Let&#39;s suppose event A1 has happened then A2 and then A3 and then A4 and then A5. Events A1 and A3 are interlinked means has some relation. Multiple instances of same application are listening on dedicated Queue for these events. Let&#39;s suppose there were 5 instances of applications running, then there can be a case where instance which has picked A3 event has finished processing. While A1 event processing still not completed. So basically I want to ensure A3 processed output should not be sent to out Queue until its previous event A1 is completed successfully and sent to out queue.\r\n\r\nCan someone please help me with this problem?","title":"How to maintain order of messages among multiple instances of same application","body":"<p>We have a very simple application which read messages from MQ and transform the messages into some different format and send it to another MQ.\nThe application is deployed in the Openshift environment. Hence at any given time multiple instances of the same application will be running. We are not using any DB in our application.</p>\n<p><em>We want to maintain the order of messages.</em>\nBasically while reading the messages, they were present in source MQ with some order(for e.g. A1-A2-A3-A4-A5) then post transformation they should be in same order in out MQ.</p>\n<p>Eg.: Let's suppose event A1 has happened then A2 and then A3 and then A4 and then A5. Events A1 and A3 are interlinked means has some relation. Multiple instances of same application are listening on dedicated Queue for these events. Let's suppose there were 5 instances of applications running, then there can be a case where instance which has picked A3 event has finished processing. While A1 event processing still not completed. So basically I want to ensure A3 processed output should not be sent to out Queue until its previous event A1 is completed successfully and sent to out queue.</p>\n<p>Can someone please help me with this problem?</p>\n"},{"tags":["java","static","initialization-block"],"comments":[{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":0,"creation_date":1683618142,"post_id":76206919,"comment_id":134389982,"body_markdown":"Does this answer your question? [Static Initialization Blocks](https://stackoverflow.com/questions/2420389/static-initialization-blocks)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2420389/static-initialization-blocks\">Static Initialization Blocks</a>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683618535,"post_id":76206919,"comment_id":134390065,"body_markdown":"See the duplicate. Note the wording &quot;A static field ***declared*** by `T`&quot;. What class your code uses doesn&#39;t matter. It is the class in which the field is *declared* that determines whether that class is initialised.","body":"See the duplicate. Note the wording &quot;A static field <b><i>declared</i></b> by <code>T</code>&quot;. What class your code uses doesn&#39;t matter. It is the class in which the field is <i>declared</i> that determines whether that class is initialised."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683618872,"post_id":76206919,"comment_id":134390131,"body_markdown":"Java Language Specification [8.7. Static Initializers](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.7): &quot;A static initializer declared in a class is executed when the class is initialized&quot; and [12.4.1. When Initialization Occurs](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1) &quot;...instance of T is created ... static method declared by T is invoked ... static field declared by T is assigned ... static field declared by T is used...&quot; (check the link for details) `Child` is not initialized since none of these four cases applies when running `Test`","body":"Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.7\" rel=\"nofollow noreferrer\">8.7. Static Initializers</a>: &quot;A static initializer declared in a class is executed when the class is initialized&quot; and <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">12.4.1. When Initialization Occurs</a> &quot;...instance of T is created ... static method declared by T is invoked ... static field declared by T is assigned ... static field declared by T is used...&quot; (check the link for details) <code>Child</code> is not initialized since none of these four cases applies when running <code>Test</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683619432,"post_id":76206919,"comment_id":134390237,"body_markdown":"Having said that, it is generally a bad idea to rely on static initialization order as it can hard to understand.","body":"Having said that, it is generally a bad idea to rely on static initialization order as it can hard to understand."},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1683621956,"post_id":76206919,"comment_id":134390836,"body_markdown":"What happens in that static block in Child? The `y` there is actually the field of the class Parent, that is not a declaration of a new field of class Child... right? Yet we are allowed to reference Child.y field? I glanced over the Oracle docs now but didn&#39;t find something relevant","body":"What happens in that static block in Child? The <code>y</code> there is actually the field of the class Parent, that is not a declaration of a new field of class Child... right? Yet we are allowed to reference Child.y field? I glanced over the Oracle docs now but didn&#39;t find something relevant"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683623585,"post_id":76206919,"comment_id":134391194,"body_markdown":"@GabiM check Java Language Specification [8.2. Class Members](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.2)","body":"@GabiM check Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.2\" rel=\"nofollow noreferrer\">8.2. Class Members</a>"}],"owner":{"account_id":19756404,"reputation":31,"user_id":14466590,"display_name":"Tohidur Islam Mondal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1683618429,"answer_count":0,"score":3,"last_activity_date":1683623212,"creation_date":1683617978,"question_id":76206919,"body_markdown":"    public class Parent {\r\n        public static int y=10 ;\r\n    }\r\n    \r\n    public class Child extends Parent {\r\n        static {\r\n            y=20 ;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(Child.y);  // output = 20\r\n        }\r\n    }\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.out.println(Child.y); // output = 10\r\n        }\r\n    }\r\n\r\nNote: in the first scenario, static block is getting executed. But this is not the same case in the second scenario. Why? Why does the output value differ?\r\nI am using jdk-17","title":"when does a static initializer block executes in java?","body":"<pre><code>public class Parent {\n    public static int y=10 ;\n}\n\npublic class Child extends Parent {\n    static {\n        y=20 ;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(Child.y);  // output = 20\n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(Child.y); // output = 10\n    }\n}\n</code></pre>\n<p>Note: in the first scenario, static block is getting executed. But this is not the same case in the second scenario. Why? Why does the output value differ?\nI am using jdk-17</p>\n"},{"tags":["java","debugging"],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1597382687,"creation_date":1347744892,"answer_id":12442741,"question_id":12442728,"body_markdown":"Use `d` for `int` instead of `i` and `f`for `double` instead of `d` in the following line\r\n\r\n    str = String.format(&quot;%s-30%i-6$%d-20&quot;, name, age, donation); \r\n\r\nYou can read about formatting syntax here http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html.","title":"Java UnknownFormatConversionException","body":"<p>Use <code>d</code> for <code>int</code> instead of <code>i</code> and <code>f</code>for <code>double</code> instead of <code>d</code> in the following line</p>\n<pre><code>str = String.format(&quot;%s-30%i-6$%d-20&quot;, name, age, donation); \n</code></pre>\n<p>You can read about formatting syntax here <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683623109,"creation_date":1683623109,"answer_id":76207576,"question_id":12442728,"body_markdown":"In my case, there is space added in between $ and s (**%1:$  s**) because of alignment. Removing space works\r\n\r\n**Before**\r\n\r\n    &lt;string name=&quot;ex_text&quot;&gt;text: %1$ s&lt;/string&gt;\r\n\r\n**After**\r\n\r\n    &lt;string name=&quot;ex_text&quot;&gt;text: %1$s&lt;/string&gt;","title":"Java UnknownFormatConversionException","body":"<p>In my case, there is space added in between $ and s (<strong>%1:$  s</strong>) because of alignment. Removing space works</p>\n<p><strong>Before</strong></p>\n<pre><code>&lt;string name=&quot;ex_text&quot;&gt;text: %1$ s&lt;/string&gt;\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>&lt;string name=&quot;ex_text&quot;&gt;text: %1$s&lt;/string&gt;\n</code></pre>\n"}],"owner":{"account_id":1843558,"reputation":7606,"user_id":1672458,"accept_rate":71,"display_name":"vaindil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73899,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":12442741,"answer_count":2,"score":31,"last_activity_date":1683623109,"creation_date":1347744540,"question_id":12442728,"body_markdown":"The code below throws this error, and I&#39;m not sure why. There is clearly a problem with outputting String.format to the `str` variable, but I don&#39;t know what&#39;s wrong with it.\r\n\r\n    Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;i&#39;\r\n        at java.util.Formatter$FormatSpecifier.conversion(Unknown Source)\r\n    \tat java.util.Formatter$FormatSpecifier.&lt;init&gt;(Unknown Source)\r\n    \tat java.util.Formatter.parse(Unknown Source)\r\n    \tat java.util.Formatter.format(Unknown Source)\r\n    \tat java.util.Formatter.format(Unknown Source)\r\n    \tat java.lang.String.format(Unknown Source)\r\n    \tat Donor.toString(Donor.java:41)\r\n    \tat Donor.main(Donor.java:65)\r\n\r\n-\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Donor {\r\n    \t\r\n    \tpublic String name;\r\n    \tpublic int age;\r\n    \tpublic double donation;\r\n    \t\r\n    \tDonor() {\r\n    \t\t\r\n    \t\t//Initialized to these values for debugging\r\n    \t\tname = &quot;NoName&quot;;\r\n    \t\tage = 0;\r\n    \t\tdonation = 0;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tDonor(String nameinit, int ageinit, double donationinit) {\r\n    \t\t\r\n    \t\tname = nameinit;\r\n    \t\tage = ageinit;\r\n    \t\tdonation = donationinit;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String toString() {\r\n    \t\t\r\n    \t\tString str = &quot;&quot;;\r\n    \t\t\r\n    \t\tstr = String.format(&quot;%s-30%i-6$%d-20&quot;, name, age, donation);\r\n    \t\t\r\n    \t\treturn str;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tString nameinit = null;\r\n    \t\tint ageinit = -1;\r\n    \t\tdouble donationinit = -1;\r\n    \t\tString outp = null;\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the donor&#39;s name: &quot;);\r\n    \t\tnameinit = input.nextLine();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the donor&#39;s age: &quot;);\r\n    \t\tageinit = input.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the donation amount: &quot;);\r\n    \t\tdonationinit = input.nextDouble();\r\n    \t\t\r\n    \t\tDonor d = new Donor(nameinit, ageinit, donationinit);\r\n    \t\toutp = d.toString();\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;%s30 %s6 %s10&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Donation&quot;);\r\n    \t\tSystem.out.print(&quot;\\n&quot; + outp);\r\n    \t\t\r\n    \t\tinput.close();\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Java UnknownFormatConversionException","body":"<p>The code below throws this error, and I'm not sure why. There is clearly a problem with outputting String.format to the <code>str</code> variable, but I don't know what's wrong with it.</p>\n\n<pre><code>Exception in thread \"main\" java.util.UnknownFormatConversionException: Conversion = 'i'\n    at java.util.Formatter$FormatSpecifier.conversion(Unknown Source)\n    at java.util.Formatter$FormatSpecifier.&lt;init&gt;(Unknown Source)\n    at java.util.Formatter.parse(Unknown Source)\n    at java.util.Formatter.format(Unknown Source)\n    at java.util.Formatter.format(Unknown Source)\n    at java.lang.String.format(Unknown Source)\n    at Donor.toString(Donor.java:41)\n    at Donor.main(Donor.java:65)\n</code></pre>\n\n<p>-</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Donor {\n\n    public String name;\n    public int age;\n    public double donation;\n\n    Donor() {\n\n        //Initialized to these values for debugging\n        name = \"NoName\";\n        age = 0;\n        donation = 0;\n\n    }\n\n    Donor(String nameinit, int ageinit, double donationinit) {\n\n        name = nameinit;\n        age = ageinit;\n        donation = donationinit;\n\n    }\n\n    public String toString() {\n\n        String str = \"\";\n\n        str = String.format(\"%s-30%i-6$%d-20\", name, age, donation);\n\n        return str;\n\n    }\n\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        String nameinit = null;\n        int ageinit = -1;\n        double donationinit = -1;\n        String outp = null;\n\n        System.out.print(\"Enter the donor's name: \");\n        nameinit = input.nextLine();\n\n        System.out.print(\"Enter the donor's age: \");\n        ageinit = input.nextInt();\n\n        System.out.print(\"Enter the donation amount: \");\n        donationinit = input.nextDouble();\n\n        Donor d = new Donor(nameinit, ageinit, donationinit);\n        outp = d.toString();\n\n        System.out.printf(\"%s30 %s6 %s10\", \"Name\", \"Age\", \"Donation\");\n        System.out.print(\"\\n\" + outp);\n\n        input.close();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2794,"reputation":88146,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"score":37,"creation_date":1286910155,"post_id":3918083,"comment_id":4177964,"body_markdown":"In what context?  Seriously -- (not a joke)","body":"In what context?  Seriously -- (not a joke)"},{"owner":{"account_id":2794,"reputation":88146,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"score":17,"creation_date":1286910209,"post_id":3918083,"comment_id":4177975,"body_markdown":"@Colin is one second funnier than me.","body":"@Colin is one second funnier than me."},{"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"score":0,"creation_date":1286910326,"post_id":3918083,"comment_id":4178002,"body_markdown":"Now I&#39;m even more confused. Seriously though, I&#39;ve been passing around &#39;this&#39; in my Android apps for Context, without understanding what exactly a Context is. I&#39;d like to know what Context is and why it&#39;s required. I guess you could also say my interest has to do with object factories as well.","body":"Now I&#39;m even more confused. Seriously though, I&#39;ve been passing around &#39;this&#39; in my Android apps for Context, without understanding what exactly a Context is. I&#39;d like to know what Context is and why it&#39;s required. I guess you could also say my interest has to do with object factories as well."},{"owner":{"account_id":68503,"reputation":3979,"user_id":199822,"accept_rate":70,"display_name":"Markus Johnsson"},"score":0,"creation_date":1286912043,"post_id":3918083,"comment_id":4178264,"body_markdown":"You should probably provide some code example where you as you said, &quot;pass this around as context&quot;. It sounds like it is a parameter to a method, perhaps the documentation of the method has a hint of what the context is supposed to be?","body":"You should probably provide some code example where you as you said, &quot;pass this around as context&quot;. It sounds like it is a parameter to a method, perhaps the documentation of the method has a hint of what the context is supposed to be?"},{"owner":{"account_id":83481,"reputation":46600,"user_id":234039,"accept_rate":67,"display_name":"Cheryl Simon"},"score":8,"creation_date":1286913311,"post_id":3918083,"comment_id":4178501,"body_markdown":"Do you mean the Android Context?  That is very different from the &quot;Context in Java&quot;.","body":"Do you mean the Android Context?  That is very different from the &quot;Context in Java&quot;."},{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":8,"creation_date":1395622384,"post_id":3918083,"comment_id":34408100,"body_markdown":"This question is similar to &quot;What does &#39;this&#39; mean?&quot;","body":"This question is similar to &quot;What does &#39;this&#39; mean?&quot;"},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1469858883,"post_id":3918083,"comment_id":64722390,"body_markdown":"A context is a set of name-to-object bindings.","body":"A context is a set of name-to-object bindings."},{"owner":{"account_id":5001436,"reputation":905,"user_id":4020329,"display_name":"Ali Yeganeh"},"score":0,"creation_date":1525266220,"post_id":3918083,"comment_id":87288630,"body_markdown":"Context is a pattern \nContext to keep references of other object that can service to this references\nas Spring IOC container that Services Dependency injection . . .","body":"Context is a pattern  Context to keep references of other object that can service to this references as Spring IOC container that Services Dependency injection . . ."},{"owner":{"account_id":1974896,"reputation":12096,"user_id":1772898,"accept_rate":65,"display_name":"Ahmad Ismail"},"score":0,"creation_date":1663227857,"post_id":3918083,"comment_id":130190724,"body_markdown":"`context ≈ global variable`. Please check https://stackoverflow.com/a/73727102/1772898","body":"<code>context ≈ global variable</code>. Please check <a href=\"https://stackoverflow.com/a/73727102/1772898\">stackoverflow.com/a/73727102/1772898</a>"}],"answers":[{"comments":[{"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"score":4,"creation_date":1286910670,"post_id":3918116,"comment_id":4178055,"body_markdown":"How is this useful? Can you give me an example in Android?","body":"How is this useful? Can you give me an example in Android?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1286911211,"post_id":3918116,"comment_id":4178127,"body_markdown":"The &quot;Facade Pattern&quot; link points to a Wikipedia article which contains an useful example in flavor of a &quot;Computer&quot;. Does it help? It at least boils down that it manages and controls inner parts of the entire device (CPU/HDD/RAM/GPU/etc) without that the enduser has to worry about. In case of Android, as per the linked Javadoc *&quot;It allows access to application-specific resources and classes, as well as up-calls for application-level operations such as launching activities, broadcasting and receiving intents, etc.&quot;*","body":"The &quot;Facade Pattern&quot; link points to a Wikipedia article which contains an useful example in flavor of a &quot;Computer&quot;. Does it help? It at least boils down that it manages and controls inner parts of the entire device (CPU/HDD/RAM/GPU/etc) without that the enduser has to worry about. In case of Android, as per the linked Javadoc <i>&quot;It allows access to application-specific resources and classes, as well as up-calls for application-level operations such as launching activities, broadcasting and receiving intents, etc.&quot;</i>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1286911641,"post_id":3918116,"comment_id":4178194,"body_markdown":"The major benefit is that you don&#39;t need to do it all the &quot;low-level&quot; way. The context will take care about this.","body":"The major benefit is that you don&#39;t need to do it all the &quot;low-level&quot; way. The context will take care about this."},{"owner":{"account_id":3879841,"reputation":129,"user_id":3212719,"accept_rate":100,"display_name":"user3212719"},"score":2,"creation_date":1395994623,"post_id":3918116,"comment_id":34600938,"body_markdown":"The meaning of CONTEXT changes with the context. Basically, it is used in content of current state of the application/object. It represents environment data and provide access to things like database, UI etc","body":"The meaning of CONTEXT changes with the context. Basically, it is used in content of current state of the application/object. It represents environment data and provide access to things like database, UI etc"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1286910376,"creation_date":1286910376,"answer_id":3918116,"question_id":3918083,"body_markdown":"In programming terms, it&#39;s the larger surrounding part which can have *any* influence on the behaviour of the current unit of work. E.g. the running environment used, the environment variables, instance variables, local variables, state of other classes, state of the current environment, etcetera.\r\n\r\nIn some API&#39;s you see this name back in an interface/class, e.g. Servlet&#39;s [`ServletContext`][1], JSF&#39;s [`FacesContext`][2], Spring&#39;s [`ApplicationContext`][3], Android&#39;s [`Context`][4], JNDI&#39;s [`InitialContext`][5], etc. They all often follow the [**Facade Pattern**][6] which abstracts the environmental details the enduser doesn&#39;t need to know about away in a single interface/class.\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html\r\n  [2]: http://download.oracle.com/javaee/6/api/javax/faces/context/FacesContext.html\r\n  [3]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/context/ApplicationContext.html\r\n  [4]: http://developer.android.com/reference/android/content/Context.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html\r\n  [6]: http://en.wikipedia.org/wiki/Facade_pattern","title":"What exactly is a Context in Java?","body":"<p>In programming terms, it's the larger surrounding part which can have <em>any</em> influence on the behaviour of the current unit of work. E.g. the running environment used, the environment variables, instance variables, local variables, state of other classes, state of the current environment, etcetera.</p>\n\n<p>In some API's you see this name back in an interface/class, e.g. Servlet's <a href=\"http://download.oracle.com/javaee/5/api/javax/servlet/ServletContext.html\" rel=\"noreferrer\"><code>ServletContext</code></a>, JSF's <a href=\"http://download.oracle.com/javaee/6/api/javax/faces/context/FacesContext.html\" rel=\"noreferrer\"><code>FacesContext</code></a>, Spring's <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/context/ApplicationContext.html\" rel=\"noreferrer\"><code>ApplicationContext</code></a>, Android's <a href=\"http://developer.android.com/reference/android/content/Context.html\" rel=\"noreferrer\"><code>Context</code></a>, JNDI's <a href=\"http://download.oracle.com/javase/6/docs/api/javax/naming/InitialContext.html\" rel=\"noreferrer\"><code>InitialContext</code></a>, etc. They all often follow the <a href=\"http://en.wikipedia.org/wiki/Facade_pattern\" rel=\"noreferrer\"><strong>Facade Pattern</strong></a> which abstracts the environmental details the enduser doesn't need to know about away in a single interface/class.</p>\n"},{"tags":[],"owner":{"account_id":186732,"reputation":141,"user_id":424318,"display_name":"chrismh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1420448406,"creation_date":1286910570,"answer_id":3918147,"question_id":3918083,"body_markdown":"since you capitalized the word, I assume you are referring to the interface `javax.naming.Context`.  A few classes implement this interface, and at its simplest description, it (generically) is a set of name/object pairs.","title":"What exactly is a Context in Java?","body":"<p>since you capitalized the word, I assume you are referring to the interface <code>javax.naming.Context</code>.  A few classes implement this interface, and at its simplest description, it (generically) is a set of name/object pairs.</p>\n"},{"tags":[],"owner":{"account_id":7795,"reputation":116415,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1369637806,"creation_date":1286910607,"answer_id":3918152,"question_id":3918083,"body_markdown":"A Context represents your environment. It represents the state surrounding where you are in your system.\r\n\r\nFor example, in web programming in Java, you have a Request, and a Response. These are passed to the service method of a Servlet.\r\n\r\nA property of the Servlet is the ServletConfig, and within that is a ServletContext.\r\n\r\nThe ServletContext is used to tell the servlet about the Container that the Servlet is within.\r\n\r\nSo, the ServletContext represents the servlets environment within its container.\r\n\r\nSimilarly, in Java EE, you have EBJContexts that elements (like session beans) can access to work with their containers.\r\n\r\nThose are two examples of contexts used in Java today.\r\n\r\nEdit --\r\n\r\nYou mention Android.\r\n\r\nLook here: http://developer.android.com/reference/android/content/Context.html\r\n\r\nYou can see how this Context gives you all sorts of information about where the Android app is deployed and what&#39;s available to it.\r\n\r\n","title":"What exactly is a Context in Java?","body":"<p>A Context represents your environment. It represents the state surrounding where you are in your system.</p>\n\n<p>For example, in web programming in Java, you have a Request, and a Response. These are passed to the service method of a Servlet.</p>\n\n<p>A property of the Servlet is the ServletConfig, and within that is a ServletContext.</p>\n\n<p>The ServletContext is used to tell the servlet about the Container that the Servlet is within.</p>\n\n<p>So, the ServletContext represents the servlets environment within its container.</p>\n\n<p>Similarly, in Java EE, you have EBJContexts that elements (like session beans) can access to work with their containers.</p>\n\n<p>Those are two examples of contexts used in Java today.</p>\n\n<p>Edit --</p>\n\n<p>You mention Android.</p>\n\n<p>Look here: <a href=\"http://developer.android.com/reference/android/content/Context.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/content/Context.html</a></p>\n\n<p>You can see how this Context gives you all sorts of information about where the Android app is deployed and what's available to it.</p>\n"},{"tags":[],"owner":{"account_id":540838,"reputation":689,"user_id":909169,"accept_rate":62,"display_name":"Dmitry Kolesnikovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1683622988,"creation_date":1368885628,"answer_id":16625096,"question_id":3918083,"body_markdown":"Simply saying, Java context means Java `native` methods all together.\r\n\r\nIn next Java code, two lines of code need context: `// (1)` and `// (2)`\r\n\r\n    import java.io.*;\r\n    \r\n    public class Runner{\r\n        public static void main(String[] args) throws IOException { // (1)           \r\n            File file = new File(&quot;D:/text.txt&quot;);\r\n            String text = &quot;&quot;;\r\n            BufferedReader reader = new BufferedReader(new FileReader(file));\r\n            String line;\r\n            while ((line = reader.readLine()) != null){ // (2)\r\n                text += line;\r\n            }\r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\n(1) needs context because *it is invoked by Java native method* `private native void java.lang.Thread.start0();`\r\n\r\n(2) `reader.readLine()` needs context because *invokes Java native method* `public static native void java.lang.System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length);`\r\n\r\nPS.\r\n\r\nThat is what BalusC has said about pattern Facade more strictly.","title":"What exactly is a Context in Java?","body":"<p>Simply saying, Java context means Java <code>native</code> methods all together.</p>\n<p>In next Java code, two lines of code need context: <code>// (1)</code> and <code>// (2)</code></p>\n<pre><code>import java.io.*;\n\npublic class Runner{\n    public static void main(String[] args) throws IOException { // (1)           \n        File file = new File(&quot;D:/text.txt&quot;);\n        String text = &quot;&quot;;\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n        String line;\n        while ((line = reader.readLine()) != null){ // (2)\n            text += line;\n        }\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p>(1) needs context because <em>it is invoked by Java native method</em> <code>private native void java.lang.Thread.start0();</code></p>\n<p>(2) <code>reader.readLine()</code> needs context because <em>invokes Java native method</em> <code>public static native void java.lang.System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length);</code></p>\n<p>PS.</p>\n<p>That is what BalusC has said about pattern Facade more strictly.</p>\n"}],"owner":{"account_id":180227,"reputation":38991,"user_id":413414,"accept_rate":72,"display_name":"Christopher Perry"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158228,"favorite_count":0,"down_vote_count":2,"up_vote_count":121,"closed_date":1374591216,"accepted_answer_id":3918116,"answer_count":4,"score":119,"last_activity_date":1683622988,"creation_date":1286910079,"question_id":3918083,"body_markdown":"I Googled this and read the Java documentation, but I&#39;m a bit confused. Can somebody please explain what a `Context` is in plain English? ","title":"What exactly is a Context in Java?","body":"<p>I Googled this and read the Java documentation, but I'm a bit confused. Can somebody please explain what a <code>Context</code> is in plain English? </p>\n"},{"tags":["java","java-8","reactive","spring-data-r2dbc","r2dbc-postgresql"],"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683621828,"creation_date":1683620671,"question_id":76207267,"body_markdown":"I have two tables in my use case.. \r\n\r\n1) Project \r\n2) Task \r\n\r\nA project can have multiple task associated with that project. \r\n\r\nIn task table I have FK relationship with project table, simple M:M relationship. \r\n\r\nAs in R2dbcRepository we do not have JPA support for table relationship , I am using join query with R2DBC DatabaseClient and executing the SQL query to get the data. \r\n\r\nMy SQL Query like this : `select project.\\&quot;projectName\\&quot;,project.\\&quot;projectId\\&quot;,tsk.\\&quot;taskName\\&quot; \\n&quot; +\r\n                &quot;from evolutionlinkgroup.task as tsk \\n&quot; +\r\n                &quot;inner join evolutionlinkgroup.project on project.\\&quot;projectId\\&quot;=tsk.\\&quot;taskProjectId\\&quot;`\r\n\r\n\r\nAfter exciting this query I am mapping this into object : \r\n\r\n`client.sql(queryForAllProj)\r\n                .map(mapper::apply)\r\n                .all();`\r\n\r\nMy Mapper Function : \r\n\r\n    public Project apply(Row row, Object o) {\r\n        Integer taskId = row.get(&quot;taskId&quot;, Integer.class);\r\n        String taskName = row.get(&quot;taskName&quot;, String.class);\r\n        Integer projectId = row.get(&quot;projectId&quot;, Integer.class);\r\n        String projectName = row.get(&quot;projectName&quot;, String.class);\r\n        Task task = new Task(taskId,taskName,null);\r\n        Project project = new Project(projectId, projectName,Arrays.asList(task));\r\n        task.setProjectId(new Project(projectId, projectName,null));\r\n        return project;\r\n    }\r\n\r\nWhich return me back Flux of project object :  `Flux&lt;Project&gt;`\r\n\r\nthe mapper return me back data in this way, the same way my SQL fetch data from DB : \r\n\r\n\r\n    Project ID | Project Name | Task ID \r\n---------------------------------------\r\n001          | Project1       | TSK001\r\n---------------------------------------\r\n001          | Project1       | TSK002\r\n---------------------------------------\r\n001          | Project1       | TSK003\r\n---------------------------------------\r\n002          | Project2       | TSK004\r\n---------------------------------------\r\n002          | Project2       | TSK006\r\n---------------------------------------\r\n003          | Project3       | TSK001\r\n---------------------------------------\r\n\r\nnow from this Flux of project I want to convert it something like this. \r\n\r\n    Project ID | Project Name | Task ID \r\n----------------------------------------------------------------\r\n001          | Project1       | ListOfTask(TSK001,TSK002,TSK003)\r\n----------------------------------------------------------------\r\n002          | Project2       | ListOfTask(TSK004,TSK006)\r\n----------------------------------------------------------------\r\n003          | Project3       | ListOfTask(TSK001)\r\n----------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n\r\nCan any one suggest me how can I do that by doing something in the mapper function or after I receive the response from mapper again run some transformation on top of that data. \r\n\r\nI tried in this way : \r\n\r\n```\r\nresult.collect(\r\n                Collectors.toMap(Project::getProjectId, Function.identity(), (Project project1, Project project2) -&gt; {\r\n                    project1.getTaskList().addAll(project2.getTaskList());\r\n                    project2.getTaskList().clear();\r\n                    return project1;\r\n                })\r\n```\r\n\r\nBut this is not what I am looking for. It returning me back map&lt;key,project&gt; , but I am not able convert that into Flux of project object along with the list of task object which are associated with that project. ","title":"R2DBC SQL mapper conversion","body":"<p>I have two tables in my use case..</p>\n<ol>\n<li>Project</li>\n<li>Task</li>\n</ol>\n<p>A project can have multiple task associated with that project.</p>\n<p>In task table I have FK relationship with project table, simple M:M relationship.</p>\n<p>As in R2dbcRepository we do not have JPA support for table relationship , I am using join query with R2DBC DatabaseClient and executing the SQL query to get the data.</p>\n<p>My SQL Query like this : <code>select project.\\&quot;projectName\\&quot;,project.\\&quot;projectId\\&quot;,tsk.\\&quot;taskName\\&quot; \\n&quot; + &quot;from evolutionlinkgroup.task as tsk \\n&quot; + &quot;inner join evolutionlinkgroup.project on project.\\&quot;projectId\\&quot;=tsk.\\&quot;taskProjectId\\&quot;</code></p>\n<p>After exciting this query I am mapping this into object :</p>\n<p><code>client.sql(queryForAllProj) .map(mapper::apply) .all();</code></p>\n<p>My Mapper Function :</p>\n<pre><code>public Project apply(Row row, Object o) {\n    Integer taskId = row.get(&quot;taskId&quot;, Integer.class);\n    String taskName = row.get(&quot;taskName&quot;, String.class);\n    Integer projectId = row.get(&quot;projectId&quot;, Integer.class);\n    String projectName = row.get(&quot;projectName&quot;, String.class);\n    Task task = new Task(taskId,taskName,null);\n    Project project = new Project(projectId, projectName,Arrays.asList(task));\n    task.setProjectId(new Project(projectId, projectName,null));\n    return project;\n}\n</code></pre>\n<p>Which return me back Flux of project object :  <code>Flux&lt;Project&gt;</code></p>\n<p>the mapper return me back data in this way, the same way my SQL fetch data from DB :</p>\n<pre><code>Project ID | Project Name | Task ID \n</code></pre>\n<hr />\n<h2>001          | Project1       | TSK001</h2>\n<h2>001          | Project1       | TSK002</h2>\n<h2>001          | Project1       | TSK003</h2>\n<h2>002          | Project2       | TSK004</h2>\n<h2>002          | Project2       | TSK006</h2>\n<h2>003          | Project3       | TSK001</h2>\n<p>now from this Flux of project I want to convert it something like this.</p>\n<pre><code>Project ID | Project Name | Task ID \n</code></pre>\n<hr />\n<h2>001          | Project1       | ListOfTask(TSK001,TSK002,TSK003)</h2>\n<h2>002          | Project2       | ListOfTask(TSK004,TSK006)</h2>\n<h2>003          | Project3       | ListOfTask(TSK001)</h2>\n<p>Can any one suggest me how can I do that by doing something in the mapper function or after I receive the response from mapper again run some transformation on top of that data.</p>\n<p>I tried in this way :</p>\n<pre><code>result.collect(\n                Collectors.toMap(Project::getProjectId, Function.identity(), (Project project1, Project project2) -&gt; {\n                    project1.getTaskList().addAll(project2.getTaskList());\n                    project2.getTaskList().clear();\n                    return project1;\n                })\n</code></pre>\n<p>But this is not what I am looking for. It returning me back map&lt;key,project&gt; , but I am not able convert that into Flux of project object along with the list of task object which are associated with that project.</p>\n"},{"tags":["java","spring-boot","caching"],"owner":{"account_id":2719519,"reputation":51,"user_id":5820919,"display_name":"cmatofte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683621616,"creation_date":1683621616,"question_id":76207365,"body_markdown":"I&#39;m trying to preload some cached functions for lookup purposes and I don&#39;t understand how cacheNames and key work here.\r\nCan I have a cache keyed by different attributes and how do I tell the cacheManager put() function what key to use?\r\n\r\n\r\nThis is my UnitService (simplified for clarity):\r\n\r\n``` lang-java\r\n@Service\r\npublic class UnitService {\r\n\r\n    @Autowired\r\n    CacheManager cacheManager;\r\n\r\n    @Autowired\r\n    UnitRepository unitRepository;\r\n\r\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#id&quot;)\r\n    public Unit getUnitById(Integer id) {\r\n        return unitRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#serialNumber&quot;)\r\n    public Unit getUnitBySerialNumber(String serialNumber) {\r\n        return unitRepository.findBySerialNumber(serialNumber).orElse(null);\r\n    }\r\n\r\n    public List&lt;Unit&gt; getAllUnits() {\r\n        return unitRepository.findAll();\r\n    }\r\n\r\n    public void preloadCache() {\r\n        for (Unit unit: getAllUnits()) {\r\n            //Is this the right way to do this?\r\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getId(), unit);\r\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getSerialNumber(), unit);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this example the serial number is 99% of the time a combination of letters and numbers but there are some erroneous data where it&#39;s just a number and this causes the findBySerialNumber function to return the wrong unit.\r\n\r\nWould I be better of just having different cacheNames for the two get functions or is there some way to manually populate one cache keyed by two different attributes?","title":"Spring Boot cache names and keys","body":"<p>I'm trying to preload some cached functions for lookup purposes and I don't understand how cacheNames and key work here.\nCan I have a cache keyed by different attributes and how do I tell the cacheManager put() function what key to use?</p>\n<p>This is my UnitService (simplified for clarity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UnitService {\n\n    @Autowired\n    CacheManager cacheManager;\n\n    @Autowired\n    UnitRepository unitRepository;\n\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#id&quot;)\n    public Unit getUnitById(Integer id) {\n        return unitRepository.findById(id).orElse(null);\n    }\n\n    @Cacheable(cacheNames = &quot;unit&quot;, key = &quot;#serialNumber&quot;)\n    public Unit getUnitBySerialNumber(String serialNumber) {\n        return unitRepository.findBySerialNumber(serialNumber).orElse(null);\n    }\n\n    public List&lt;Unit&gt; getAllUnits() {\n        return unitRepository.findAll();\n    }\n\n    public void preloadCache() {\n        for (Unit unit: getAllUnits()) {\n            //Is this the right way to do this?\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getId(), unit);\n            cacheManager.getCache(&quot;unit&quot;).put(unit.getSerialNumber(), unit);\n        }\n    }\n}\n</code></pre>\n<p>In this example the serial number is 99% of the time a combination of letters and numbers but there are some erroneous data where it's just a number and this causes the findBySerialNumber function to return the wrong unit.</p>\n<p>Would I be better of just having different cacheNames for the two get functions or is there some way to manually populate one cache keyed by two different attributes?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1664269804,"post_id":73862271,"comment_id":130427038,"body_markdown":"You&#39;re using a relative file path.  Your cmd would only work if you execute the command in the same directory as your .class file.  [Reading an image resource file in java](https://stackoverflow.com/questions/35251648/reading-an-image-resource-file-in-java)","body":"You&#39;re using a relative file path.  Your cmd would only work if you execute the command in the same directory as your .class file.  <a href=\"https://stackoverflow.com/questions/35251648/reading-an-image-resource-file-in-java\">Reading an image resource file in java</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664281082,"post_id":73862271,"comment_id":130430941,"body_markdown":"Better to load your files/images as resources:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\n[Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"Better to load your files/images as resources: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a> <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">Eclipse</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664281752,"post_id":73862271,"comment_id":130431248,"body_markdown":"And btw your problem is a [current directory](https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java)\nissue","body":"And btw your problem is a <a href=\"https://technojeeves.com/index.php/aliasjava1/91-find-the-current-directory-in-java\" rel=\"nofollow noreferrer\">current directory</a> issue"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664407220,"post_id":73862271,"comment_id":130467160,"body_markdown":"there is no __file__ path in a jar, it&#39;s a __package__ in a resource lookup","body":"there is no <b>file</b> path in a jar, it&#39;s a <b>package</b> in a resource lookup"}],"answers":[{"tags":[],"owner":{"account_id":25909666,"reputation":1,"user_id":19634161,"display_name":"Fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664400249,"creation_date":1664400023,"answer_id":73887916,"question_id":73862271,"body_markdown":"Your path is wrong. \r\nIf you run the .jar file, your computer will search in that directory:\r\n\r\n```\r\n./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png\r\n```\r\nyour machine will not find anything, because you did not provide the absolute path. \r\n\r\nYou need to input the absolute path. for example:\r\n\r\n```\r\n/Users/yourUser/Pictures/yourPic.jpg\r\n```\r\n\r\n\r\n\r\n**if you just put in the \\img path, your IDE will recognize it, because it has the mother directory already open. So it will just search in that. If you run as jar, on the other hand, your machine will not know where EXACTLY the File is located.That&#39;s because the .jar file and the cmd window is not located in your project folder.**","title":"I can access a file in ide, but it doesn&#39;t work on cmd","body":"<p>Your path is wrong.\nIf you run the .jar file, your computer will search in that directory:</p>\n<pre><code>./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png\n</code></pre>\n<p>your machine will not find anything, because you did not provide the absolute path.</p>\n<p>You need to input the absolute path. for example:</p>\n<pre><code>/Users/yourUser/Pictures/yourPic.jpg\n</code></pre>\n<p><strong>if you just put in the \\img path, your IDE will recognize it, because it has the mother directory already open. So it will just search in that. If you run as jar, on the other hand, your machine will not know where EXACTLY the File is located.That's because the .jar file and the cmd window is not located in your project folder.</strong></p>\n"}],"owner":{"account_id":23193927,"reputation":17,"user_id":17289849,"display_name":"정재상"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683621408,"creation_date":1664251648,"question_id":73862271,"body_markdown":"Hi I want to add images on Jpanel. when I clicked the run button on IDE, It works. But when I export the project as a jar file it doesn&#39;t work. it says that file doesn&#39;t exist. I don&#39;t know what causes the problem. \r\nsorry for my bad English. \r\n\r\n  `````\r\npackage avoidingGame;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.io.*;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class DroppingObject extends JPanel\r\n{\r\n\tpublic DroppingObject() {\r\n\t\ttry {\r\n\t\t\tFile poop = new File(&quot;./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png&quot;);\r\n\t\t\tSystem.out.println(&quot;isFile is= &quot;+ poop.isFile());\r\n\t\t\tSystem.out.println(&quot;fileExists is= &quot;+ poop.exists());\r\n\t\t\tBufferedImage bufferedImage = ImageIO.read(poop);\r\n\t\t\tImage image = bufferedImage.getScaledInstance(70, 70, Image.SCALE_DEFAULT);\r\n\t\t\tJLabel pic = new JLabel(new ImageIcon(image));\r\n\t\t\tpic.setOpaque(false);\r\n\t\t\tadd(pic);\r\n\t\t\tsetBounds(130, 180, 70, 70); // 크기설정\r\n\t\t}\r\n\t\t\r\n\t\tcatch(Exception e) {\r\n\t\t\t e.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;failed to load image&quot;);\r\n\t\t}\r\n\t}  \r\n}\r\n\r\n`````\r\n\r\n         the result is that\r\n        isFile is = true \r\n        fileExists is true \r\n         on IDE.\r\nbut both are false in cmd \r\n    ","title":"I can access a file in ide, but it doesn&#39;t work on cmd","body":"<p>Hi I want to add images on Jpanel. when I clicked the run button on IDE, It works. But when I export the project as a jar file it doesn't work. it says that file doesn't exist. I don't know what causes the problem.\nsorry for my bad English.</p>\n<pre><code>package avoidingGame;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.io.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\n\npublic class DroppingObject extends JPanel\n{\n  public DroppingObject() {\n      try {\n          File poop = new File(&quot;./img/pngtree-a-cute-brawn-turd-vector-or-color-illustration-png-image_2030317-removebg-preview.png&quot;);\n          System.out.println(&quot;isFile is= &quot;+ poop.isFile());\n          System.out.println(&quot;fileExists is= &quot;+ poop.exists());\n          BufferedImage bufferedImage = ImageIO.read(poop);\n          Image image = bufferedImage.getScaledInstance(70, 70, Image.SCALE_DEFAULT);\n          JLabel pic = new JLabel(new ImageIcon(image));\n          pic.setOpaque(false);\n          add(pic);\n          setBounds(130, 180, 70, 70); // 크기설정\n      }\n      \n      catch(Exception e) {\n           e.printStackTrace();\n          System.out.println(&quot;failed to load image&quot;);\n      }\n  }  \n}\n\n</code></pre>\n<pre><code>     the result is that\n    isFile is = true \n    fileExists is true \n     on IDE.\n</code></pre>\n<p>but both are false in cmd</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1683612864,"post_id":76206309,"comment_id":134389045,"body_markdown":"can you add your pom.xml or version of selenium that you are using","body":"can you add your pom.xml or version of selenium that you are using"},{"owner":{"account_id":28554375,"reputation":1,"user_id":21858811,"display_name":"Prabhakar Singh"},"score":0,"creation_date":1683655154,"post_id":76206309,"comment_id":134399031,"body_markdown":"I am using 4.9.0 selenium version","body":"I am using 4.9.0 selenium version"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683676504,"post_id":76206309,"comment_id":134402427,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28554375,"reputation":1,"user_id":21858811,"display_name":"Prabhakar Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683621264,"creation_date":1683612507,"question_id":76206309,"body_markdown":"Installed All the related thing required to execute or run the selenium Automation Scripts. Please help me as soon as possible. \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n    \tat org.asynchttpclient.DefaultAsyncHttpClient.&lt;clinit&gt;(DefaultAsyncHttpClient.java:49)\r\n    \tat org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:94)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:47)\r\n    \tat org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java:135)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:116)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:94)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:88)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;(ChromiumDriverCommandExecutor.java:40)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:111)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.generateExecutor(ChromeDriver.java:101)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n    \tat selenium.important.main(important.java:12)\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 15 more\r\n\r\n","title":"Getting LoggerFactory error tried so many thing added the maven dependency and all but still facing same issue","body":"<p>Installed All the related thing required to execute or run the selenium Automation Scripts. Please help me as soon as possible.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at org.asynchttpclient.DefaultAsyncHttpClient.&lt;clinit&gt;(DefaultAsyncHttpClient.java:49)\n    at org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\n    at org.openqa.selenium.remote.http.netty.NettyClient.createHttpClient(NettyClient.java:94)\n    at org.openqa.selenium.remote.http.netty.NettyClient.&lt;clinit&gt;(NettyClient.java:47)\n    at org.openqa.selenium.remote.http.netty.NettyClient$Factory.createClient(NettyClient.java:135)\n    at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:116)\n    at org.openqa.selenium.remote.HttpCommandExecutor.&lt;init&gt;(HttpCommandExecutor.java:94)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.&lt;init&gt;(DriverCommandExecutor.java:88)\n    at org.openqa.selenium.chromium.ChromiumDriverCommandExecutor.&lt;init&gt;(ChromiumDriverCommandExecutor.java:40)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:111)\n    at org.openqa.selenium.chrome.ChromeDriver.generateExecutor(ChromeDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n    at selenium.important.main(important.java:12)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 15 more\n</code></pre>\n"},{"tags":["java","docker","tomcat","docker-compose","axelor"],"answers":[{"tags":[],"owner":{"account_id":4742002,"reputation":448,"user_id":3834429,"display_name":"Karim G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683621153,"creation_date":1683621153,"answer_id":76207321,"question_id":74924554,"body_markdown":"With axelor v6, you can use an external configuration file like [this][1].\r\n\r\nYou have to set `-Daxelor.config` in your docker-compose file like [this][2].\r\n\r\n\r\n  [1]: https://docs.axelor.com/adk/6.1/dev-guide/application/config.html#external-configuration\r\n  [2]: https://docs.docker.com/compose/environment-variables/set-environment-variables/#use-the-environment-attribute","title":"Use custom axelor-config.properties in a docker compose","body":"<p>With axelor v6, you can use an external configuration file like <a href=\"https://docs.axelor.com/adk/6.1/dev-guide/application/config.html#external-configuration\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>You have to set <code>-Daxelor.config</code> in your docker-compose file like <a href=\"https://docs.docker.com/compose/environment-variables/set-environment-variables/#use-the-environment-attribute\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683621153,"creation_date":1672095338,"question_id":74924554,"body_markdown":"I have a docker file that uses this base image tomcat:9.0.70-jdk17-temurin , in it I am coping an axelor war that uses axelor-config.properties for its configuration \r\nThis file is stored in the following directory \r\n\r\n- /usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties\r\n\r\nWhen I use that file directly I don&#39;t have a problem and the app does run without a problem, but when I try to overwrite it using a volume in the docker-compose like this\r\n\r\n- ./configuration/axelor-config.properties:/usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties\r\n\r\nIt will not work, I want to overwrite that file so that I don&#39;t have to recompile the whole application and create the docker image each time I want to make a change in the configuration file. \r\nI know the overwrite I&#39;m doing is working as when I start the app and search for the file inside the container it does a comment line I have added but it doesn&#39;t end up starting. This are the docker logs I get when starting from a fresh image and fresh docker compose up:\r\n\r\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.618 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.70\r\n26-Dec-2022 22:51:21.666 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 1 2022 14:05:47 UTC\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.70.0\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-56-generic\r\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/java/openjdk\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Eclipse Adoptium\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\r\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\r\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\r\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\r\n26-Dec-2022 22:51:21.688 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].\r\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\r\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\r\n26-Dec-2022 22:51:21.699 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 3.0.2 15 Mar 2022]\r\n26-Dec-2022 22:51:22.409 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n26-Dec-2022 22:51:22.484 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [992] milliseconds\r\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.70]\r\n26-Dec-2022 22:51:22.599 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/nameofapp.war]\r\n26-Dec-2022 22:51:23.097 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/nameofapp.war] has finished in [498] ms\r\n26-Dec-2022 22:51:23.099 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n26-Dec-2022 22:51:23.106 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [622] milliseconds\r\n","title":"Use custom axelor-config.properties in a docker compose","body":"<p>I have a docker file that uses this base image tomcat:9.0.70-jdk17-temurin , in it I am coping an axelor war that uses axelor-config.properties for its configuration\nThis file is stored in the following directory</p>\n<ul>\n<li>/usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties</li>\n</ul>\n<p>When I use that file directly I don't have a problem and the app does run without a problem, but when I try to overwrite it using a volume in the docker-compose like this</p>\n<ul>\n<li>./configuration/axelor-config.properties:/usr/local/tomcat/webapps/nameofapp/WEB-INF/classes/axelor-config.properties</li>\n</ul>\n<p>It will not work, I want to overwrite that file so that I don't have to recompile the whole application and create the docker image each time I want to make a change in the configuration file.\nI know the overwrite I'm doing is working as when I start the app and search for the file inside the container it does a comment line I have added but it doesn't end up starting. This are the docker logs I get when starting from a fresh image and fresh docker compose up:</p>\n<p>NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n26-Dec-2022 22:51:21.618 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.70\n26-Dec-2022 22:51:21.666 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Dec 1 2022 14:05:47 UTC\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.70.0\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-56-generic\n26-Dec-2022 22:51:21.667 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /opt/java/openjdk\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Eclipse Adoptium\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /usr/local/tomcat\n26-Dec-2022 22:51:21.668 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /usr/local/tomcat\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n26-Dec-2022 22:51:21.681 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/usr/local/tomcat/conf/logging.properties\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n26-Dec-2022 22:51:21.682 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/usr/local/tomcat\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/usr/local/tomcat\n26-Dec-2022 22:51:21.683 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/usr/local/tomcat/temp\n26-Dec-2022 22:51:21.688 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded Apache Tomcat Native library [1.2.35] using APR version [1.7.0].\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].\n26-Dec-2022 22:51:21.689 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n26-Dec-2022 22:51:21.699 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 3.0.2 15 Mar 2022]\n26-Dec-2022 22:51:22.409 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n26-Dec-2022 22:51:22.484 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [992] milliseconds\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n26-Dec-2022 22:51:22.578 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.70]\n26-Dec-2022 22:51:22.599 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/usr/local/tomcat/webapps/nameofapp.war]\n26-Dec-2022 22:51:23.097 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deployment of web application archive [/usr/local/tomcat/webapps/nameofapp.war] has finished in [498] ms\n26-Dec-2022 22:51:23.099 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n26-Dec-2022 22:51:23.106 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [622] milliseconds</p>\n"},{"tags":["java","android","txt","zebra-printers"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1683630738,"post_id":76207253,"comment_id":134392905,"body_markdown":"Possibly a use case for a templating language like Freemarker","body":"Possibly a use case for a templating language like Freemarker"},{"owner":{"account_id":6183488,"reputation":336,"user_id":4818247,"accept_rate":50,"display_name":"Mridul S Kumar"},"score":0,"creation_date":1683633929,"post_id":76207253,"comment_id":134393702,"body_markdown":"I think you can download the text file to your android device and read the content of the file and pass that content directly to the printer","body":"I think you can download the text file to your android device and read the content of the file and pass that content directly to the printer"}],"owner":{"account_id":13527126,"reputation":23,"user_id":9758652,"display_name":"El_Microman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683620593,"creation_date":1683620593,"question_id":76207253,"body_markdown":"To be short I am converting an old Dataflex print function to java in Android Studio. Now the function I am trying to replace takes a hard coded layout from a txt document, replaces all the underscores with variables and then sends it to the printer. \r\n[![This is what the .img file for the layout looks like:](https://i.stack.imgur.com/tkyv3.png)](https://i.stack.imgur.com/tkyv3.png)\r\n\r\n[![Then the vars are named and assigned at run time](https://i.stack.imgur.com/3BoIQ.png)](https://i.stack.imgur.com/3BoIQ.png)\r\n\r\n\r\n\r\nIs there anyway to recreate this type of functionality in Java? My initial idea was of using a buffered reader to read a txt file and make a note of all of the instances of any underscores and replace these underscores with vars later, but this got confusing very fast. Any ideas or advice would be appreciated.","title":"Is there anyway to use a .txt file as a layout for printing to a Zebra Printer in Android Studio?","body":"<p>To be short I am converting an old Dataflex print function to java in Android Studio. Now the function I am trying to replace takes a hard coded layout from a txt document, replaces all the underscores with variables and then sends it to the printer.\n<a href=\"https://i.stack.imgur.com/tkyv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tkyv3.png\" alt=\"This is what the .img file for the layout looks like:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3BoIQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BoIQ.png\" alt=\"Then the vars are named and assigned at run time\" /></a></p>\n<p>Is there anyway to recreate this type of functionality in Java? My initial idea was of using a buffered reader to read a txt file and make a note of all of the instances of any underscores and replace these underscores with vars later, but this got confusing very fast. Any ideas or advice would be appreciated.</p>\n"},{"tags":["java","react-native","jsx"],"owner":{"account_id":12241951,"reputation":1,"user_id":8934761,"display_name":"Rahul B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683620484,"creation_date":1683620484,"question_id":76207238,"body_markdown":"Need some help here I have been using the Alchemist- sorcerer Plugin where I get an error when I try to load my plugin created via sorcerer.\r\n\r\n```\r\n{\r\n   &quot;manifestVersion&quot;: 5,\r\n   &quot;name&quot;: &quot;Table Runner&quot;,\r\n   &quot;version&quot;: &quot;1.0.0&quot;,\r\n   &quot;id&quot;: &quot;table runner&quot;,\r\n   &quot;main&quot;: &quot;index.html&quot;,\r\n   &quot;requiredPermissions&quot;: {\r\n      &quot;launchProcess&quot;: &quot;request&quot;\r\n   },\r\n```\r\nThis is the manifest code generated by my sorcerer-alchemist plugin creator\r\nI have used the Alchemist - sorcerer plugin creator\r\n\r\nBut when i try to import it on my adobe UXP developer tool It throws an errror.\r\n```\r\nPlugin Load Failed.\r\nDevtools: Plugin table runner : Expected an object for the permission &#39;launchProcess&#39;\r\n```\r\nPlease let me know what should i do ","title":"Adode UXP Alchemist- sorceror plugin permission error","body":"<p>Need some help here I have been using the Alchemist- sorcerer Plugin where I get an error when I try to load my plugin created via sorcerer.</p>\n<pre><code>{\n   &quot;manifestVersion&quot;: 5,\n   &quot;name&quot;: &quot;Table Runner&quot;,\n   &quot;version&quot;: &quot;1.0.0&quot;,\n   &quot;id&quot;: &quot;table runner&quot;,\n   &quot;main&quot;: &quot;index.html&quot;,\n   &quot;requiredPermissions&quot;: {\n      &quot;launchProcess&quot;: &quot;request&quot;\n   },\n</code></pre>\n<p>This is the manifest code generated by my sorcerer-alchemist plugin creator\nI have used the Alchemist - sorcerer plugin creator</p>\n<p>But when i try to import it on my adobe UXP developer tool It throws an errror.</p>\n<pre><code>Plugin Load Failed.\nDevtools: Plugin table runner : Expected an object for the permission 'launchProcess'\n</code></pre>\n<p>Please let me know what should i do</p>\n"},{"tags":["java","linux","shell"],"comments":[{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1683615724,"post_id":76206288,"comment_id":134389519,"body_markdown":"From the screenshot, we see that the script is executed in both cases, so at least invoking it works fine, so the possible problems are most likely inside the script. It is strange that the first `echo` does not show in the output, where the parent process is your Java program. This makes me wonder whether you REALLY execute the very same script in both cases. For verifying this (and possibly see, what&#39;s going wrong), I suggest that you replace `-c` by `-xc` when invoking the script, and analyze the output you get.","body":"From the screenshot, we see that the script is executed in both cases, so at least invoking it works fine, so the possible problems are most likely inside the script. It is strange that the first <code>echo</code> does not show in the output, where the parent process is your Java program. This makes me wonder whether you REALLY execute the very same script in both cases. For verifying this (and possibly see, what&#39;s going wrong), I suggest that you replace <code>-c</code> by <code>-xc</code> when invoking the script, and analyze the output you get."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1683622026,"post_id":76206288,"comment_id":134390848,"body_markdown":"it still works the same I so proceeded with armali&#39;s reply but thanks for commenting!! @user1934428","body":"it still works the same I so proceeded with armali&#39;s reply but thanks for commenting!! @user1934428"}],"answers":[{"tags":[],"owner":{"account_id":2805962,"reputation":18615,"user_id":2413201,"accept_rate":88,"display_name":"Armali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683620403,"creation_date":1683620403,"answer_id":76207232,"question_id":76206288,"body_markdown":"&gt;new Line not recognized\r\n\r\nThe newline is well recognized, it&#39;s just that [`readLine`][1]\r\n&gt;Returns:\r\n&gt;&lt;dd&gt;A String containing the contents of the line, not including\r\n&gt;             any line-termination characters…\r\n\r\nso you have to re-insert them if you want them in the result.  \r\nWhile you&#39;re at it, I suggest to shorten\r\n```\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line);\r\n            }\r\n            if(output.toString().equals(&quot;&quot;)) {\r\n                result = &quot;success&quot;;\r\n            }else {\r\n                result = output.toString();\r\n            }\r\n```\r\nto\r\n\r\n                result = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n                if (result.equals(&quot;&quot;)) result = &quot;success&quot;;\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--","title":"new Line not recognized in shell script on Linux","body":"<blockquote>\n<p>new Line not recognized</p>\n</blockquote>\n<p>The newline is well recognized, it's just that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\" rel=\"nofollow noreferrer\"><code>readLine</code></a></p>\n<blockquote>\n<p>Returns:</p>\nA String containing the contents of the line, not including\n            any line-termination characters…\n</blockquote>\n<p>so you have to re-insert them if you want them in the result.<br />\nWhile you're at it, I suggest to shorten</p>\n<pre><code>            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line);\n            }\n            if(output.toString().equals(&quot;&quot;)) {\n                result = &quot;success&quot;;\n            }else {\n                result = output.toString();\n            }\n</code></pre>\n<p>to</p>\n<pre><code>            result = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n            if (result.equals(&quot;&quot;)) result = &quot;success&quot;;\n</code></pre>\n"}],"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76207232,"answer_count":1,"score":2,"last_activity_date":1683620403,"creation_date":1683612274,"question_id":76206288,"body_markdown":"I wrote a shell script on the Linux Ubuntu server.\r\nAnd I want to run a shell script on Java.\r\n\r\nRunning the shell script inside the Linux server changes the way I wrote it, but not through Java.\r\n\r\nI&#39;ll show you Java code, shell script file, and capture screen.\r\n\r\n**Java**\r\n```\r\npublic class ShellScriptApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString start = &quot;start&quot;;\r\n\t\tString stop = &quot;stop&quot;;\r\n\t\tString name = &quot;&quot;;\r\n\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;start or stop? : &quot;);\r\n\t\tString s = sc.nextLine();\r\n\r\n\t\tif(s.equals(start)) {\r\n\t\t\tSystem.out.print(&quot;시작하실 프로그램을 입력해주세요 [admin / ap / json / fixed] : &quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t\topenShell(start, name);\r\n\t\t} else if (s.equals(stop)) {\r\n\t\t\tSystem.out.print(&quot;종료하실 프로그램을 입력해주세요 [admin / ap / json / fixed] : &quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t\topenShell(stop, name);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;wrong&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static String openShell(String status, String name)  {\r\n\t\tString result = &quot;&quot;;\r\n\r\n\t\tString dir = &quot;/data/GSLinkIN/app&quot;;\r\n\r\n\t\tString cdExec = &quot;cd &quot; + dir + &quot; &amp;&amp; ./&quot;+ name + &quot;-&quot; + status + &quot;.sh&quot;;\r\n\r\n\t\tString [] command = {&quot;/bin/sh&quot;,&quot;-c&quot;, cdExec};\r\n\t\tProcessBuilder processBuilder = new ProcessBuilder();\r\n\t    processBuilder.command(command);\r\n\r\n\t    try {\r\n\t        // Run script\r\n\t        Process process = processBuilder.start();\r\n\r\n\t        // Read output\r\n\t        StringBuilder output = new StringBuilder();\r\n\t        BufferedReader reader = new BufferedReader( new InputStreamReader(process.getInputStream()));\r\n\r\n\t        String line;\r\n\t        while ((line = reader.readLine()) != null) {\r\n\t            output.append(line);\r\n\t        }\r\n\t        if(output.toString().equals(&quot;&quot;)) {\r\n\t        \tresult = &quot;success&quot;;\r\n\t        }else {\r\n\t        \tresult = output.toString();\r\n\t        }\r\n\t    } catch (Exception e) {\r\n\t    \tresult = &quot;fail&quot;;\r\n\t    }\r\n\t    System.out.println(result);\r\n\r\n\t    return result;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**stop.sh**\r\n```\r\n#!/bin/sh\r\n\r\nAPP_NAME=linkin-admin-www-2.0.war\r\nAPP_PID=$(ps -ef | grep $APP_NAME | grep -v grep | awk &#39;{print $2}&#39;)\r\n\r\necho &quot;$APP_NAME (PID:$APP_PID)&quot;\r\nkill -9 $APP_PID\r\necho &quot;$APP_NAME stopped&quot;\r\n\r\n```\r\n\r\n**When running a shell script using Java**\r\n[![When running a shell script using Java](https://i.stack.imgur.com/92YXW.png)](https://i.stack.imgur.com/92YXW.png)\r\n\r\n**When running directly on a Linux server**\r\n\r\n[![When running directly on a Linux server][1]][1]\r\n\r\n\r\n\r\n\r\nEven if I run a shell script over Java, I want to print the PID and then get a new line.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PdWGL.png","title":"new Line not recognized in shell script on Linux","body":"<p>I wrote a shell script on the Linux Ubuntu server.\nAnd I want to run a shell script on Java.</p>\n<p>Running the shell script inside the Linux server changes the way I wrote it, but not through Java.</p>\n<p>I'll show you Java code, shell script file, and capture screen.</p>\n<p><strong>Java</strong></p>\n<pre><code>public class ShellScriptApplication {\n\n    public static void main(String[] args) {\n\n        String start = &quot;start&quot;;\n        String stop = &quot;stop&quot;;\n        String name = &quot;&quot;;\n\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;start or stop? : &quot;);\n        String s = sc.nextLine();\n\n        if(s.equals(start)) {\n            System.out.print(&quot;시작하실 프로그램을 입력해주세요 [admin / ap / json / fixed] : &quot;);\n            name = sc.nextLine();\n            openShell(start, name);\n        } else if (s.equals(stop)) {\n            System.out.print(&quot;종료하실 프로그램을 입력해주세요 [admin / ap / json / fixed] : &quot;);\n            name = sc.nextLine();\n            openShell(stop, name);\n        } else {\n            System.out.println(&quot;wrong&quot;);\n        }\n\n    }\n\n    public static String openShell(String status, String name)  {\n        String result = &quot;&quot;;\n\n        String dir = &quot;/data/GSLinkIN/app&quot;;\n\n        String cdExec = &quot;cd &quot; + dir + &quot; &amp;&amp; ./&quot;+ name + &quot;-&quot; + status + &quot;.sh&quot;;\n\n        String [] command = {&quot;/bin/sh&quot;,&quot;-c&quot;, cdExec};\n        ProcessBuilder processBuilder = new ProcessBuilder();\n        processBuilder.command(command);\n\n        try {\n            // Run script\n            Process process = processBuilder.start();\n\n            // Read output\n            StringBuilder output = new StringBuilder();\n            BufferedReader reader = new BufferedReader( new InputStreamReader(process.getInputStream()));\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line);\n            }\n            if(output.toString().equals(&quot;&quot;)) {\n                result = &quot;success&quot;;\n            }else {\n                result = output.toString();\n            }\n        } catch (Exception e) {\n            result = &quot;fail&quot;;\n        }\n        System.out.println(result);\n\n        return result;\n    }\n\n}\n</code></pre>\n<p><strong>stop.sh</strong></p>\n<pre><code>#!/bin/sh\n\nAPP_NAME=linkin-admin-www-2.0.war\nAPP_PID=$(ps -ef | grep $APP_NAME | grep -v grep | awk '{print $2}')\n\necho &quot;$APP_NAME (PID:$APP_PID)&quot;\nkill -9 $APP_PID\necho &quot;$APP_NAME stopped&quot;\n\n</code></pre>\n<p><strong>When running a shell script using Java</strong>\n<a href=\"https://i.stack.imgur.com/92YXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/92YXW.png\" alt=\"When running a shell script using Java\" /></a></p>\n<p><strong>When running directly on a Linux server</strong></p>\n<p><a href=\"https://i.stack.imgur.com/PdWGL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PdWGL.png\" alt=\"When running directly on a Linux server\" /></a></p>\n<p>Even if I run a shell script over Java, I want to print the PID and then get a new line.</p>\n"},{"tags":["java","android","configuration","gson","proguard"],"answers":[{"comments":[{"owner":{"account_id":32385,"reputation":31109,"user_id":89818,"accept_rate":96,"display_name":"caw"},"score":5,"creation_date":1425760050,"post_id":23826357,"comment_id":46096743,"body_markdown":"This is where it&#39;s from, by the way: http://google-gson.googlecode.com/svn/trunk/examples/android-proguard-example/proguard.cfg","body":"This is where it&#39;s from, by the way: <a href=\"http://google-gson.googlecode.com/svn/trunk/examples/android-proguard-example/proguard.cfg\" rel=\"nofollow noreferrer\">google-gson.googlecode.com/svn/trunk/examples/&hellip;</a>"},{"owner":{"account_id":1133173,"reputation":3334,"user_id":1118772,"accept_rate":60,"display_name":"Noundla Sandeep"},"score":2,"creation_date":1452240408,"post_id":23826357,"comment_id":57089520,"body_markdown":"After searching lots of QA.. I reached here. It makes me happy. Thanks Richard.\none note, &quot;mypersonalclass.data.model&quot; this is not required for me. just check.","body":"After searching lots of QA.. I reached here. It makes me happy. Thanks Richard. one note, &quot;mypersonalclass.data.model&quot; this is not required for me. just check."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":3,"creation_date":1452243148,"post_id":23826357,"comment_id":57090932,"body_markdown":"@Noundla updated answer to explain that `mypersonalclass.data.model` is placeholder text and should point at your own data model package.","body":"@Noundla updated answer to explain that <code>mypersonalclass.data.model</code> is placeholder text and should point at your own data model package."},{"owner":{"account_id":1695088,"reputation":343,"user_id":1556613,"display_name":"Tejzeratul"},"score":3,"creation_date":1464291076,"post_id":23826357,"comment_id":62437650,"body_markdown":"links are broken now","body":"links are broken now"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":1,"creation_date":1476686047,"post_id":23826357,"comment_id":67432518,"body_markdown":"`{*;}` this was the main thing (as it will also keep the members of the class from obfuscation) in `-keep class mypersonalclass.data.model.** { *; }`. Also remove the #.","body":"<code>{*;}</code> this was the main thing (as it will also keep the members of the class from obfuscation) in <code>-keep class mypersonalclass.data.model.** { *; }</code>. Also remove the #."},{"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"score":1,"creation_date":1494941782,"post_id":23826357,"comment_id":75034431,"body_markdown":"`-keep Unsafe` makes no sense, it is a framework class.","body":"<code>-keep Unsafe</code> makes no sense, it is a framework class."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":1,"creation_date":1494995211,"post_id":23826357,"comment_id":75058592,"body_markdown":"Probably not, but in 2014 it was required in the config. @Miha_x64","body":"Probably not, but in 2014 it was required in the config. @Miha_x64"},{"owner":{"account_id":6626535,"reputation":1252,"user_id":5116572,"display_name":"art"},"score":1,"creation_date":1576773743,"post_id":23826357,"comment_id":105014907,"body_markdown":"Alternatively, annotate your class with [`@Keep`](https://developer.android.com/reference/kotlin/androidx/annotation/Keep) and proguard won&#39;t modify it.","body":"Alternatively, annotate your class with <a href=\"https://developer.android.com/reference/kotlin/androidx/annotation/Keep\" rel=\"nofollow noreferrer\"><code>@Keep</code></a> and proguard won&#39;t modify it."},{"owner":{"account_id":2569662,"reputation":378,"user_id":2228725,"display_name":"RESTfulGeoffrey"},"score":2,"creation_date":1589594804,"post_id":23826357,"comment_id":109364249,"body_markdown":"Thanks a ton, had a model in a different package and needed to add that path!","body":"Thanks a ton, had a model in a different package and needed to add that path!"}],"tags":[],"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"comment_count":9,"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1472392848,"creation_date":1400839469,"answer_id":23826357,"question_id":23826171,"body_markdown":"I think most of those settings you have there are already included in the Android SDK by default.\r\n\r\nSo you can remove most of them, just leaving in the section devoted to GSON.\r\n\r\n\r\n----------\r\n\r\n\r\nI am developing in Eclipse using Android SDK Tools 22.6.3 &amp; whatever version of ProGuard ships with that.\r\n\r\nHere&#39;s what I&#39;m using for GSON 2.2.4 ([as per their example][1]):\r\n\r\n    ##---------------Begin: proguard configuration for Gson  ----------\r\n    # Gson uses generic type information stored in a class file when working with fields. Proguard\r\n    # removes such information by default, so configure it to keep all of it.\r\n    -keepattributes Signature\r\n    \r\n    # Gson specific classes\r\n    -keep class sun.misc.Unsafe { *; }\r\n    #-keep class com.google.gson.stream.** { *; }\r\n    \r\n    # Application classes that will be serialized/deserialized over Gson\r\n    # -keep class mypersonalclass.data.model.** { *; }\r\n\r\n\r\nIt looks exactly the same as what you have, except I don&#39;t need the line about the annotations.\r\n\r\n----------\r\n\r\nYou can see I&#39;ve commented out some classes that I added myself. If you serialize/deserialize your own classes, you need to declare them here in place of the reference to `mypersonalclass.data.model`. This is really important, as you don&#39;t want ProGuard to obfuscate the field or class names that GSON uses for serialization.\r\n\r\nI always leave those types of comments in there, so I know how to configure the next library or app. \r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg","title":"ProGuard for Android and GSON","body":"<p>I think most of those settings you have there are already included in the Android SDK by default.</p>\n\n<p>So you can remove most of them, just leaving in the section devoted to GSON.</p>\n\n<hr>\n\n<p>I am developing in Eclipse using Android SDK Tools 22.6.3 &amp; whatever version of ProGuard ships with that.</p>\n\n<p>Here's what I'm using for GSON 2.2.4 (<a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\">as per their example</a>):</p>\n\n<pre><code>##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# Gson specific classes\n-keep class sun.misc.Unsafe { *; }\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n# -keep class mypersonalclass.data.model.** { *; }\n</code></pre>\n\n<p>It looks exactly the same as what you have, except I don't need the line about the annotations.</p>\n\n<hr>\n\n<p>You can see I've commented out some classes that I added myself. If you serialize/deserialize your own classes, you need to declare them here in place of the reference to <code>mypersonalclass.data.model</code>. This is really important, as you don't want ProGuard to obfuscate the field or class names that GSON uses for serialization.</p>\n\n<p>I always leave those types of comments in there, so I know how to configure the next library or app. </p>\n"},{"tags":[],"owner":{"account_id":2352049,"reputation":1024,"user_id":2083526,"accept_rate":68,"display_name":"GotaloveCode"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491831352,"creation_date":1491831352,"answer_id":43324708,"question_id":23826171,"body_markdown":"In my case I added the above but still got an error until in my app level gradle I changed `compile &#39;org.immutables:gson:2.4.6&#39;` to `provided &#39;org.immutables:gson:2.4.6&#39;`. Maybe someone more enlightened can explain why but this solved my problem.","title":"ProGuard for Android and GSON","body":"<p>In my case I added the above but still got an error until in my app level gradle I changed <code>compile 'org.immutables:gson:2.4.6'</code> to <code>provided 'org.immutables:gson:2.4.6'</code>. Maybe someone more enlightened can explain why but this solved my problem.</p>\n"},{"comments":[{"owner":{"account_id":12881177,"reputation":879,"user_id":9316168,"display_name":"gmk57"},"score":1,"creation_date":1596120917,"post_id":57159734,"comment_id":111715578,"body_markdown":"What are the reasons behind &quot;using -keep is a bad practice and you should never do it&quot;? BTW, `keepclassmembernames` doesn&#39;t work in our setup, all fields are removed. Only `keep` or `keepclassmembers` really keeps them.","body":"What are the reasons behind &quot;using -keep is a bad practice and you should never do it&quot;? BTW, <code>keepclassmembernames</code> doesn&#39;t work in our setup, all fields are removed. Only <code>keep</code> or <code>keepclassmembers</code> really keeps them."}],"tags":[],"owner":{"account_id":2807903,"reputation":2803,"user_id":2414767,"accept_rate":100,"display_name":"Kaustubh Bhagwat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563870042,"creation_date":1563870042,"answer_id":57159734,"question_id":23826171,"body_markdown":"Using -keep is a bad practice and you should never do it .You almost never want to use -keep; if you do need a ProGuard rule, you usually want one of the more specific variants\r\n\r\n`-keepclassmembers` - This protects only the members of the class from shrinking and obfuscation.\r\n\r\n`-keepnames` - This allows shrinking for classes and members, but not obfuscation. That is, any unused code is going to get removed. But the code that is kept will keep its original names.\r\n\r\n`-keepclassmembernames` - Unused classes are removed, the remaining classes are renamed, unused members of those classes are removed, but then the remaining members keep their original names.\r\n\r\nFor more information please read this\r\n\r\nPS - this is what I did for Gson\r\n\r\n    -keepclassmembernames class rscom.pojo.** { &lt;fields&gt;; }","title":"ProGuard for Android and GSON","body":"<p>Using -keep is a bad practice and you should never do it .You almost never want to use -keep; if you do need a ProGuard rule, you usually want one of the more specific variants</p>\n\n<p><code>-keepclassmembers</code> - This protects only the members of the class from shrinking and obfuscation.</p>\n\n<p><code>-keepnames</code> - This allows shrinking for classes and members, but not obfuscation. That is, any unused code is going to get removed. But the code that is kept will keep its original names.</p>\n\n<p><code>-keepclassmembernames</code> - Unused classes are removed, the remaining classes are renamed, unused members of those classes are removed, but then the remaining members keep their original names.</p>\n\n<p>For more information please read this</p>\n\n<p>PS - this is what I did for Gson</p>\n\n<pre><code>-keepclassmembernames class rscom.pojo.** { &lt;fields&gt;; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195068,"reputation":3936,"user_id":2380518,"display_name":"Miloš Černilovsk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1683619905,"creation_date":1588082124,"answer_id":61481954,"question_id":23826171,"body_markdown":"The previous answer stopped working for me recently probably due to some changes in Android (R8 is used now instead of Proguard). The configuration I use now is as follows ([source - GSON examples][1]):\r\n\r\n```\r\n##---------------Begin: proguard configuration for Gson  ----------\r\n# Gson uses generic type information stored in a class file when working with fields. Proguard\r\n# removes such information by default, so configure it to keep all of it.\r\n-keepattributes Signature\r\n\r\n# For using GSON @Expose annotation\r\n-keepattributes *Annotation*\r\n\r\n# Gson specific classes\r\n-dontwarn sun.misc.**\r\n#-keep class com.google.gson.stream.** { *; }\r\n\r\n# Application classes that will be serialized/deserialized over Gson\r\n-keep class com.google.gson.examples.android.model.** { &lt;fields&gt;; }\r\n\r\n# Prevent proguard from stripping interface information from TypeAdapter, TypeAdapterFactory,\r\n# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\r\n-keep class * extends com.google.gson.TypeAdapter\r\n-keep class * implements com.google.gson.TypeAdapterFactory\r\n-keep class * implements com.google.gson.JsonSerializer\r\n-keep class * implements com.google.gson.JsonDeserializer\r\n\r\n# Prevent R8 from leaving Data object members always null\r\n-keepclassmembers,allowobfuscation class * {\r\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\r\n}\r\n\r\n# Retain generic signatures of TypeToken and its subclasses with R8 version 3.0 and higher.\r\n-keep,allowobfuscation,allowshrinking class com.google.gson.reflect.TypeToken\r\n-keep,allowobfuscation,allowshrinking class * extends com.google.gson.reflect.TypeToken\r\n\r\n##---------------End: proguard configuration for Gson  ----------\r\n```\r\n\r\nI found out that classes whose fields are annotated by @SerializedName do not have to be explicitly listed unless they are inner classes.\r\n\r\n\r\n  [1]: https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg","title":"ProGuard for Android and GSON","body":"<p>The previous answer stopped working for me recently probably due to some changes in Android (R8 is used now instead of Proguard). The configuration I use now is as follows (<a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"nofollow noreferrer\">source - GSON examples</a>):</p>\n<pre><code>##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-dontwarn sun.misc.**\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { &lt;fields&gt;; }\n\n# Prevent proguard from stripping interface information from TypeAdapter, TypeAdapterFactory,\n# JsonSerializer, JsonDeserializer instances (so they can be used in @JsonAdapter)\n-keep class * extends com.google.gson.TypeAdapter\n-keep class * implements com.google.gson.TypeAdapterFactory\n-keep class * implements com.google.gson.JsonSerializer\n-keep class * implements com.google.gson.JsonDeserializer\n\n# Prevent R8 from leaving Data object members always null\n-keepclassmembers,allowobfuscation class * {\n  @com.google.gson.annotations.SerializedName &lt;fields&gt;;\n}\n\n# Retain generic signatures of TypeToken and its subclasses with R8 version 3.0 and higher.\n-keep,allowobfuscation,allowshrinking class com.google.gson.reflect.TypeToken\n-keep,allowobfuscation,allowshrinking class * extends com.google.gson.reflect.TypeToken\n\n##---------------End: proguard configuration for Gson  ----------\n</code></pre>\n<p>I found out that classes whose fields are annotated by @SerializedName do not have to be explicitly listed unless they are inner classes.</p>\n"},{"comments":[{"owner":{"account_id":2847865,"reputation":2502,"user_id":2445763,"accept_rate":36,"display_name":"lasec0203"},"score":3,"creation_date":1601001983,"post_id":62133361,"comment_id":113274164,"body_markdown":"only one * is needed.","body":"only one * is needed."}],"tags":[],"owner":{"account_id":4596872,"reputation":2115,"user_id":3728639,"accept_rate":89,"display_name":"Chathura Buddhika"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1591018192,"creation_date":1591018192,"answer_id":62133361,"question_id":23826171,"body_markdown":"In my case, I just used GSON for deserializing JSON to an Object. So it was enough to add the following line to proguard file.\r\n\r\n    -keep class your.data.object.modals.package.** { &lt;fields&gt;; }","title":"ProGuard for Android and GSON","body":"<p>In my case, I just used GSON for deserializing JSON to an Object. So it was enough to add the following line to proguard file.</p>\n\n<pre><code>-keep class your.data.object.modals.package.** { &lt;fields&gt;; }\n</code></pre>\n"}],"owner":{"account_id":21152,"reputation":1388,"user_id":51211,"accept_rate":45,"display_name":"AtariPete"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44175,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":23826357,"answer_count":5,"score":55,"last_activity_date":1683619905,"creation_date":1400838987,"question_id":23826171,"body_markdown":"I&#39;m setting up ProGuard for my Android project. My project also uses GSON.\r\n\r\nI&#39;ve researched ProGuard configurations for compatibility with GSON and Android and came across this example offered by google-gson https://code.google.com/p/google-gson/source/browse/trunk/examples/android-proguard-example/proguard.cfg.\r\n\r\nProGuard config copied below:\r\n\r\n    ##---------------Begin: proguard configuration common for all Android apps ----------\r\n    -optimizationpasses 5\r\n    -dontusemixedcaseclassnames\r\n    -dontskipnonpubliclibraryclasses\r\n    -dontskipnonpubliclibraryclassmembers\r\n    -dontpreverify\r\n    -verbose\r\n    -dump class_files.txt\r\n    -printseeds seeds.txt\r\n    -printusage unused.txt\r\n    -printmapping mapping.txt\r\n    -optimizations !code/simplification/arithmetic,!field/*,!class/merging/*\r\n    \r\n    -allowaccessmodification\r\n    -keepattributes *Annotation*\r\n    -renamesourcefileattribute SourceFile\r\n    -keepattributes SourceFile,LineNumberTable\r\n    -repackageclasses &#39;&#39;\r\n    \r\n    -keep public class * extends android.app.Activity\r\n    -keep public class * extends android.app.Application\r\n    -keep public class * extends android.app.Service\r\n    -keep public class * extends android.content.BroadcastReceiver\r\n    -keep public class * extends android.content.ContentProvider\r\n    -keep public class * extends android.app.backup.BackupAgentHelper\r\n    -keep public class * extends android.preference.Preference\r\n    -keep public class com.android.vending.licensing.ILicensingService\r\n    -dontnote com.android.vending.licensing.ILicensingService\r\n    \r\n    # Explicitly preserve all serialization members. The Serializable interface\r\n    # is only a marker interface, so it wouldn&#39;t save them.\r\n    -keepclassmembers class * implements java.io.Serializable {\r\n        static final long serialVersionUID;\r\n        private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n        private void writeObject(java.io.ObjectOutputStream);\r\n        private void readObject(java.io.ObjectInputStream);\r\n        java.lang.Object writeReplace();\r\n        java.lang.Object readResolve();\r\n    }\r\n    \r\n    # Preserve all native method names and the names of their classes.\r\n    -keepclasseswithmembernames class * {\r\n        native &lt;methods&gt;;\r\n    }\r\n    \r\n    -keepclasseswithmembernames class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\r\n    }\r\n    \r\n    -keepclasseswithmembernames class * {\r\n        public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\r\n    }\r\n    \r\n    # Preserve static fields of inner classes of R classes that might be accessed\r\n    # through introspection.\r\n    -keepclassmembers class **.R$* {\r\n      public static &lt;fields&gt;;\r\n    }\r\n    \r\n    # Preserve the special static methods that are required in all enumeration classes.\r\n    -keepclassmembers enum * {\r\n        public static **[] values();\r\n        public static ** valueOf(java.lang.String);\r\n    }\r\n    \r\n    -keep public class * {\r\n        public protected *;\r\n    }\r\n    \r\n    -keep class * implements android.os.Parcelable {\r\n      public static final android.os.Parcelable$Creator *;\r\n    }\r\n    ##---------------End: proguard configuration common for all Android apps ----------\r\n    \r\n    ##---------------Begin: proguard configuration for Gson  ----------\r\n    # Gson uses generic type information stored in a class file when working with fields. Proguard\r\n    # removes such information by default, so configure it to keep all of it.\r\n    -keepattributes Signature\r\n    \r\n    # For using GSON @Expose annotation\r\n    -keepattributes *Annotation*\r\n    \r\n    # Gson specific classes\r\n    -keep class sun.misc.Unsafe { *; }\r\n    #-keep class com.google.gson.stream.** { *; }\r\n    \r\n    # Application classes that will be serialized/deserialized over Gson\r\n    -keep class com.google.gson.examples.android.model.** { *; }\r\n    \r\n    ##---------------End: proguard configuration for Gson  ----------\r\n\r\n\r\n**Questions:**\r\n\r\n 1. I see that this file has not been updated since 2011, is it still recommended for use? I ask because Android/GSON has changed quite a bit since then so I don&#39;t know how much of the above in unnecessary or incorrect.\r\n\r\n 2. If this is not recommended, is there a new recommended ProGuard configuration for GSON in Android?","title":"ProGuard for Android and GSON","body":"<p>I'm setting up ProGuard for my Android project. My project also uses GSON.</p>\n\n<p>I've researched ProGuard configurations for compatibility with GSON and Android and came across this example offered by google-gson <a href=\"https://code.google.com/p/google-gson/source/browse/trunk/examples/android-proguard-example/proguard.cfg\">https://code.google.com/p/google-gson/source/browse/trunk/examples/android-proguard-example/proguard.cfg</a>.</p>\n\n<p>ProGuard config copied below:</p>\n\n<pre><code>##---------------Begin: proguard configuration common for all Android apps ----------\n-optimizationpasses 5\n-dontusemixedcaseclassnames\n-dontskipnonpubliclibraryclasses\n-dontskipnonpubliclibraryclassmembers\n-dontpreverify\n-verbose\n-dump class_files.txt\n-printseeds seeds.txt\n-printusage unused.txt\n-printmapping mapping.txt\n-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*\n\n-allowaccessmodification\n-keepattributes *Annotation*\n-renamesourcefileattribute SourceFile\n-keepattributes SourceFile,LineNumberTable\n-repackageclasses ''\n\n-keep public class * extends android.app.Activity\n-keep public class * extends android.app.Application\n-keep public class * extends android.app.Service\n-keep public class * extends android.content.BroadcastReceiver\n-keep public class * extends android.content.ContentProvider\n-keep public class * extends android.app.backup.BackupAgentHelper\n-keep public class * extends android.preference.Preference\n-keep public class com.android.vending.licensing.ILicensingService\n-dontnote com.android.vending.licensing.ILicensingService\n\n# Explicitly preserve all serialization members. The Serializable interface\n# is only a marker interface, so it wouldn't save them.\n-keepclassmembers class * implements java.io.Serializable {\n    static final long serialVersionUID;\n    private static final java.io.ObjectStreamField[] serialPersistentFields;\n    private void writeObject(java.io.ObjectOutputStream);\n    private void readObject(java.io.ObjectInputStream);\n    java.lang.Object writeReplace();\n    java.lang.Object readResolve();\n}\n\n# Preserve all native method names and the names of their classes.\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n}\n\n-keepclasseswithmembernames class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n}\n\n-keepclasseswithmembernames class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n}\n\n# Preserve static fields of inner classes of R classes that might be accessed\n# through introspection.\n-keepclassmembers class **.R$* {\n  public static &lt;fields&gt;;\n}\n\n# Preserve the special static methods that are required in all enumeration classes.\n-keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n-keep public class * {\n    public protected *;\n}\n\n-keep class * implements android.os.Parcelable {\n  public static final android.os.Parcelable$Creator *;\n}\n##---------------End: proguard configuration common for all Android apps ----------\n\n##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-keep class sun.misc.Unsafe { *; }\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { *; }\n\n##---------------End: proguard configuration for Gson  ----------\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li><p>I see that this file has not been updated since 2011, is it still recommended for use? I ask because Android/GSON has changed quite a bit since then so I don't know how much of the above in unnecessary or incorrect.</p></li>\n<li><p>If this is not recommended, is there a new recommended ProGuard configuration for GSON in Android?</p></li>\n</ol>\n"},{"tags":["java","gradle","code-coverage","jacoco-plugin"],"comments":[{"owner":{"account_id":123059,"reputation":2103,"user_id":317275,"accept_rate":91,"display_name":"Len"},"score":0,"creation_date":1676548905,"post_id":74376607,"comment_id":133161191,"body_markdown":"were you able to find a solution? I&#39;m having a similar issue so a push in the right direction is welcome","body":"were you able to find a solution? I&#39;m having a similar issue so a push in the right direction is welcome"}],"answers":[{"tags":[],"owner":{"account_id":28555483,"reputation":1,"user_id":21859750,"display_name":"Dehong Liang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683619881,"creation_date":1683619881,"answer_id":76207172,"question_id":74376607,"body_markdown":"I have also encountered this problem, and I still don&#39;t know how to solve it.\r\n\r\njdk Version:11\r\n\r\ngradle Version:7.5\r\n\r\njacoco.gradle Part of the code is as follows:\r\n```\r\ntask jacocoTotalReport(type: JacocoReport, dependsOn: project.getTasksByName(&quot;testDebugUnitTest&quot;, true)) {\r\n    doFirst {\r\n        subprojects.each { project -&gt;\r\n           \r\n            def unitTestResultFile = &quot;${project.buildDir}/jacoco/testDebugUnitTest.exec&quot;\r\n\r\n            if (file(unitTestResultFile).exists() &amp;&amp; executionData != null) {\r\n                executionData.setFrom(unitTestResultFile)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nError content:\r\n&gt; The value for this file collection is final and cannot be changed.\r\n```","title":"Not able to generate Jacoco reports in Java multi module project","body":"<p>I have also encountered this problem, and I still don't know how to solve it.</p>\n<p>jdk Version:11</p>\n<p>gradle Version:7.5</p>\n<p>jacoco.gradle Part of the code is as follows:</p>\n<pre><code>task jacocoTotalReport(type: JacocoReport, dependsOn: project.getTasksByName(&quot;testDebugUnitTest&quot;, true)) {\n    doFirst {\n        subprojects.each { project -&gt;\n           \n            def unitTestResultFile = &quot;${project.buildDir}/jacoco/testDebugUnitTest.exec&quot;\n\n            if (file(unitTestResultFile).exists() &amp;&amp; executionData != null) {\n                executionData.setFrom(unitTestResultFile)\n            }\n        }\n    }\n}\n\n\nError content:\n&gt; The value for this file collection is final and cannot be changed.\n</code></pre>\n"}],"owner":{"account_id":2807857,"reputation":31,"user_id":2414732,"display_name":"jetzi06"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683619881,"creation_date":1668004507,"question_id":74376607,"body_markdown":"I&#39;m working on a Java Spring Boot project using Gradle 7.5\r\n\r\nIt is organized in multiple modules, which most of them have some tests included.\r\n\r\nToday I&#39;ve tried to enable code coverage reports for my project. Therefore I&#39;ve added the jacoco plugin to *allprojects*:\r\n\r\n`\r\n```\r\napply plugin: &#39;jacoco&#39;\r\n\r\njacoco {\r\n    toolVersion = &quot;0.8.8&quot;\r\n}\r\n```\r\n`\r\n\r\n\r\nOn *subprojects* I&#39;ve the following task:\r\n\r\n`\r\n```\r\njacocoTestReport {\r\n    reports {\r\n        html.enabled = true\r\n        xml.enabled = true\r\n        csv.enabled = false\r\n    }\r\n}\r\n```\r\n`\r\nWhen I try to run the task *jacocoTestReport* the build fails and following error is shown on the first module: \r\n\r\n`The value for this file collection is final and cannot be changed`\r\n\r\n\r\nWhat I&#39;m doing wrong here?\r\n\r\nThanks for your help!\r\n\r\n\r\n\r\nI&#39;ve already tried different versions of gradle and googled a lot, but unfortunately, none of the proposed soltions worked for me.","title":"Not able to generate Jacoco reports in Java multi module project","body":"<p>I'm working on a Java Spring Boot project using Gradle 7.5</p>\n<p>It is organized in multiple modules, which most of them have some tests included.</p>\n<p>Today I've tried to enable code coverage reports for my project. Therefore I've added the jacoco plugin to <em>allprojects</em>:</p>\n<p>`</p>\n<pre><code>apply plugin: 'jacoco'\n\njacoco {\n    toolVersion = &quot;0.8.8&quot;\n}\n</code></pre>\n<p>`</p>\n<p>On <em>subprojects</em> I've the following task:</p>\n<p>`</p>\n<pre><code>jacocoTestReport {\n    reports {\n        html.enabled = true\n        xml.enabled = true\n        csv.enabled = false\n    }\n}\n</code></pre>\n<p>`\nWhen I try to run the task <em>jacocoTestReport</em> the build fails and following error is shown on the first module:</p>\n<p><code>The value for this file collection is final and cannot be changed</code></p>\n<p>What I'm doing wrong here?</p>\n<p>Thanks for your help!</p>\n<p>I've already tried different versions of gradle and googled a lot, but unfortunately, none of the proposed soltions worked for me.</p>\n"},{"tags":["java","wildfly","jbpm","workflow-engine"],"owner":{"account_id":28554298,"reputation":1,"user_id":21858740,"display_name":"Dominik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683619191,"creation_date":1683619191,"question_id":76207082,"body_markdown":"I am encountering an issue with the use of an intermediate error boundary event in jBPM. My scenario involves two WorkItemHandlers, where the second one is expected to trigger the error boundary event by throwing a ProcessWorkItemHandlerException. I am uncertain if my setup is correct or how to accurately trigger the error boundary event, especially as the article referenced in the documentation is no longer available.\r\n\r\nHere is a diagram of my current configuration: [Diagram](https://i.stack.imgur.com/XW8tk.png)\r\n\r\n**Github Gist:** [Code and Exception](https://gist.github.com/dhois/bc6ac4688c08bfc3d6d0eff90b76bd5d)\r\n\r\nI would appreciate any guidance on what I might be doing wrong, or how I can ensure that the flow of the BPM diagram correctly splits at the boundary event. Additionally, I am receiving an exception message and would like to understand how to resolve it.\r\n\r\nThank you.","title":"UserTransaction cannot be rollbacked while using intermediate error event","body":"<p>I am encountering an issue with the use of an intermediate error boundary event in jBPM. My scenario involves two WorkItemHandlers, where the second one is expected to trigger the error boundary event by throwing a ProcessWorkItemHandlerException. I am uncertain if my setup is correct or how to accurately trigger the error boundary event, especially as the article referenced in the documentation is no longer available.</p>\n<p>Here is a diagram of my current configuration: <a href=\"https://i.stack.imgur.com/XW8tk.png\" rel=\"nofollow noreferrer\">Diagram</a></p>\n<p><strong>Github Gist:</strong> <a href=\"https://gist.github.com/dhois/bc6ac4688c08bfc3d6d0eff90b76bd5d\" rel=\"nofollow noreferrer\">Code and Exception</a></p>\n<p>I would appreciate any guidance on what I might be doing wrong, or how I can ensure that the flow of the BPM diagram correctly splits at the boundary event. Additionally, I am receiving an exception message and would like to understand how to resolve it.</p>\n<p>Thank you.</p>\n"},{"tags":["java","elasticsearch","security"],"owner":{"account_id":24062697,"reputation":11,"user_id":18039712,"display_name":"Diana Mihutescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683618800,"creation_date":1683618800,"question_id":76207035,"body_markdown":"I configured a two nodes cluster with\r\n\r\n```\r\nxpack.security.enabled: true\r\nxpack.security.http.ssl.enabled: true\r\nxpack.security.transport.ssl.enabled: true\r\nxpack.security.transport.ssl.verification_mode: &quot;certificate&quot;\r\nxpack.security.transport.ssl.keystore.path: &quot;application.keystore&quot;\r\nxpack.security.http.ssl.verification_mode: &quot;certificate&quot;\r\nxpack.security.http.ssl.keystore.path: &quot;application.keystore&quot;\r\nxpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\r\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\r\nxpack.security.transport.ssl.keystore.password: &quot;pass&quot;\r\nxpack.security.http.ssl.keystore.password: &quot;pass&quot;\r\nxpack.security.transport.ssl.keystore.key_password: &quot;pass&quot;\r\nxpack.security.http.ssl.keystore.key_password: &quot;pass&quot;\r\n```\r\nI have two different ca signed certificates and i added one on each node (and in the trustore of each node the corresponding one).\r\nI get\r\n```\r\njavax.net.ssl|SEVERE|B1|elasticsearch[node][transport_worker][T#66]|2023-05-02 15:08:56.928 UTC|TransportContext.java:316|Fatal (BAD_CERTIFICATE): Empty client certificate chain ( [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] &quot;throwable&quot; : { [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] javax.net.ssl.SSLHandshakeException: Empty client certificate chain [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:131) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:117) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:311) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:258) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1193)\r\n```\r\nfor internode communication. Enabled debug, the server sends its certificates, the client finds the corresponding one in the truststore and then sends an empty list of certificates.\r\n\r\nNote: this only happens when I try to use two different certificates - aka when adding\r\n\r\n```\r\nxpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\r\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\r\n```\r\n\r\n\r\n\r\n\r\nWith only one certificate, and without the truststore, no matter which of them, everything works fine.\r\n\r\nAlso, this configuration also works fine with only one certificate in the chain (tried with self signed and ca signed, but no intermediary.)","title":"Empty client certificate chain on internode handshake with different certificate on each node","body":"<p>I configured a two nodes cluster with</p>\n<pre><code>xpack.security.enabled: true\nxpack.security.http.ssl.enabled: true\nxpack.security.transport.ssl.enabled: true\nxpack.security.transport.ssl.verification_mode: &quot;certificate&quot;\nxpack.security.transport.ssl.keystore.path: &quot;application.keystore&quot;\nxpack.security.http.ssl.verification_mode: &quot;certificate&quot;\nxpack.security.http.ssl.keystore.path: &quot;application.keystore&quot;\nxpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\nxpack.security.transport.ssl.keystore.password: &quot;pass&quot;\nxpack.security.http.ssl.keystore.password: &quot;pass&quot;\nxpack.security.transport.ssl.keystore.key_password: &quot;pass&quot;\nxpack.security.http.ssl.keystore.key_password: &quot;pass&quot;\n</code></pre>\n<p>I have two different ca signed certificates and i added one on each node (and in the trustore of each node the corresponding one).\nI get</p>\n<pre><code>javax.net.ssl|SEVERE|B1|elasticsearch[node][transport_worker][T#66]|2023-05-02 15:08:56.928 UTC|TransportContext.java:316|Fatal (BAD_CERTIFICATE): Empty client certificate chain ( [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] &quot;throwable&quot; : { [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] javax.net.ssl.SSLHandshakeException: Empty client certificate chain [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:131) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.Alert.createSSLException(Alert.java:117) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:311) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.TransportContext.fatal(TransportContext.java:258) [2023-05-02T15:08:56,928][WARN ][stderr ] [node-mdtwnmst01ap02] at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1193)\n</code></pre>\n<p>for internode communication. Enabled debug, the server sends its certificates, the client finds the corresponding one in the truststore and then sends an empty list of certificates.</p>\n<p>Note: this only happens when I try to use two different certificates - aka when adding</p>\n<pre><code>xpack.security.transport.ssl.truststore.path: &quot;client.truststore&quot;\nxpack.security.transport.ssl.truststore.password: &quot;pass&quot;\n</code></pre>\n<p>With only one certificate, and without the truststore, no matter which of them, everything works fine.</p>\n<p>Also, this configuration also works fine with only one certificate in the chain (tried with self signed and ca signed, but no intermediary.)</p>\n"},{"tags":["java","spring-boot","jpa","criteria"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683613185,"post_id":76206319,"comment_id":134389080,"body_markdown":"did you read this part of the error: The data types time and datetime are incompatible in the less than or equal to operator.?","body":"did you read this part of the error: The data types time and datetime are incompatible in the less than or equal to operator.?"},{"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"score":0,"creation_date":1683614079,"post_id":76206319,"comment_id":134389208,"body_markdown":"yes, I&#39;m searching for it but don&#39;t get any way to fix it.","body":"yes, I&#39;m searching for it but don&#39;t get any way to fix it."},{"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"score":0,"creation_date":1683614198,"post_id":76206319,"comment_id":134389235,"body_markdown":"the first i get Expression&lt;LocalDateTime&gt; and convert it into Expression&lt;LocalTime&gt;. After that, I try to compare with the LocalTime that I pass in but the error happen to me.","body":"the first i get Expression&lt;LocalDateTime&gt; and convert it into Expression&lt;LocalTime&gt;. After that, I try to compare with the LocalTime that I pass in but the error happen to me."}],"answers":[{"comments":[{"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"score":1,"creation_date":1683617675,"post_id":76206541,"comment_id":134389901,"body_markdown":"Thank you, it&#39;s work, but it need to change in a application.properties file. \nAnd I avoid to edit that file. Is there have any solution?","body":"Thank you, it&#39;s work, but it need to change in a application.properties file.  And I avoid to edit that file. Is there have any solution?"}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683614782,"creation_date":1683614782,"answer_id":76206541,"question_id":76206319,"body_markdown":"One of 2 known solution: In `spring.data.url`, concate to end of string\r\n\r\n```\r\nsendTimeAsDateTime=false\r\n```\r\nfor example, original\r\n\r\n```\r\nspring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;\r\n```\r\nchange to\r\n\r\n```\r\nspring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;sendTimeAsDateTime=false;\r\n```\r\nLet&#39;s share with your result.","title":"Problem when using lessThanOrEqualTo() of Predicate when compare time","body":"<p>One of 2 known solution: In <code>spring.data.url</code>, concate to end of string</p>\n<pre><code>sendTimeAsDateTime=false\n</code></pre>\n<p>for example, original</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;\n</code></pre>\n<p>change to</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://DESKTOP-EQBT80R\\\\MSSQLSERVER:1433;database=FooSample;trustServerCertificate=true;sendTimeAsDateTime=false;\n</code></pre>\n<p>Let's share with your result.</p>\n"},{"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1683618607,"post_id":76206991,"comment_id":134390084,"body_markdown":"I am not sure it works, because I don&#39;t setup development environment now, it is cumbersome.","body":"I am not sure it works, because I don&#39;t setup development environment now, it is cumbersome."}],"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683618528,"creation_date":1683618528,"answer_id":76206991,"question_id":76206319,"body_markdown":"Try to change\r\n\r\n```java\r\nLocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\r\n```\r\n\r\nto \r\n\r\n```java\r\nLocalDateTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).plusMinutes(30L);\r\n```\r\n\r\nReference document: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plusMinutes-long-","title":"Problem when using lessThanOrEqualTo() of Predicate when compare time","body":"<p>Try to change</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).plusMinutes(30L);\n</code></pre>\n<p>Reference document: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plusMinutes-long-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plusMinutes-long-</a></p>\n"}],"owner":{"account_id":21207279,"reputation":1,"user_id":15596632,"display_name":"Duy Dang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76206541,"answer_count":2,"score":-1,"last_activity_date":1683618528,"creation_date":1683612634,"question_id":76206319,"body_markdown":"Source code\r\n```java\r\nExpression&lt;LocalDateTime&gt; dateTimeFromDatabase = root.get(&quot;period&quot;).as(LocalDateTime.class);\r\nExpression&lt;LocalTime&gt; timeFromDatabase = dateTimeFromDatabase.as(LocalTime.class);\r\nLocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\r\nPredicate predicate = criteriaBuilder.lessThanOrEqualTo(timeFromDatabase, periodToRequest.plusMinutes(30));\r\n```\r\n\r\nI have a column in database that datatype is datetime. I using JPA, Specification to get it with Criteria.\r\nIn my request, I pass in &quot;period_to&quot; ex: &quot;31-Mar-2023 07:30:00&quot;\r\nI wanna to implement dynamic filter, that compare the only time that I pass in request(&quot;07:30:00&quot;) with the time that I take from database.\r\nAnd I meet the error: \r\n`com.microsoft.sqlserver.jdbc.SQLServerException: The data types time and datetime are incompatible in the less than or equal to operator.`\r\n\r\n- The datatime in database is `2023-03-31 08:00:00.000`.\r\n- The period_to that I pass in is `31-Mar-2023 07:30:00`.\r\n- I wanna compare `07:30:00` with `08:00:00`.\r\n\r\nI need your help, thank you!","title":"Problem when using lessThanOrEqualTo() of Predicate when compare time","body":"<p>Source code</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expression&lt;LocalDateTime&gt; dateTimeFromDatabase = root.get(&quot;period&quot;).as(LocalDateTime.class);\nExpression&lt;LocalTime&gt; timeFromDatabase = dateTimeFromDatabase.as(LocalTime.class);\nLocalTime periodToRequest = FormatUtils.getLocalDateTime(request.getPeriodTo(), &quot;dd-MMM-yyyy HH:mm:ss&quot;).toLocalTime().plusMinutes(30);\nPredicate predicate = criteriaBuilder.lessThanOrEqualTo(timeFromDatabase, periodToRequest.plusMinutes(30));\n</code></pre>\n<p>I have a column in database that datatype is datetime. I using JPA, Specification to get it with Criteria.\nIn my request, I pass in &quot;period_to&quot; ex: &quot;31-Mar-2023 07:30:00&quot;\nI wanna to implement dynamic filter, that compare the only time that I pass in request(&quot;07:30:00&quot;) with the time that I take from database.\nAnd I meet the error:\n<code>com.microsoft.sqlserver.jdbc.SQLServerException: The data types time and datetime are incompatible in the less than or equal to operator.</code></p>\n<ul>\n<li>The datatime in database is <code>2023-03-31 08:00:00.000</code>.</li>\n<li>The period_to that I pass in is <code>31-Mar-2023 07:30:00</code>.</li>\n<li>I wanna compare <code>07:30:00</code> with <code>08:00:00</code>.</li>\n</ul>\n<p>I need your help, thank you!</p>\n"},{"tags":["java","generics","log4j2"],"comments":[{"owner":{"account_id":3344764,"reputation":455,"user_id":2810127,"display_name":"Chesser"},"score":0,"creation_date":1683532021,"post_id":76198281,"comment_id":134375424,"body_markdown":"SO question [Contructor inside static inner class](https://stackoverflow.com/questions/29260297/constructor-inside-inner-static-class-in-java) answers my second part around the constructor for this class.","body":"SO question <a href=\"https://stackoverflow.com/questions/29260297/constructor-inside-inner-static-class-in-java\">Contructor inside static inner class</a> answers my second part around the constructor for this class."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1683533729,"post_id":76198281,"comment_id":134375754,"body_markdown":"Possibly relevant: https://stackoverflow.com/questions/19588449/self-bounded-generics","body":"Possibly relevant: <a href=\"https://stackoverflow.com/questions/19588449/self-bounded-generics\" title=\"self bounded generics\">stackoverflow.com/questions/19588449/self-bounded-generics</a>"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1683542288,"post_id":76198470,"comment_id":134377464,"body_markdown":"A good explanation that buries the lede: &quot;B is intended to be &#39;self-type&#39;&quot;. Without that context it&#39;s a little hard to follow the otherwise excellent explanation as to _why_ a &#39;self type&#39; is needed for subclassable builders.","body":"A good explanation that buries the lede: &quot;B is intended to be &#39;self-type&#39;&quot;. Without that context it&#39;s a little hard to follow the otherwise excellent explanation as to <i>why</i> a &#39;self type&#39; is needed for subclassable builders."}],"tags":[],"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683618137,"creation_date":1683532151,"answer_id":76198470,"question_id":76198281,"body_markdown":"Builders usually have a fluent API. I.e. their building methods return the builder class to be able to directly call other building methods. For example, the class in question - `RollingFileAppender.Builder` - can be used like this:\r\n\r\n    var appender = builder.withAppend(true).withLocking(true).build();\r\n\r\nThat means that the building methods (the ones that are prefixed with `with` in this case) must return the same builder instance. But ... If you design a builder class for being subclassed, you have a problem. What type shall the building method return?\r\n\r\nConsider the following classes:\r\n\r\n    abstract class Builder {\r\n        abstract Object build();\r\n        Builder withProperty(String property) { return this; }\r\n    }\r\n    class ChildBuilder extends Builder {\r\n        Object build() { return new Object(); }\r\n        ChildBuilder withChildProperty(String childProperty) { return this; }\r\n    }\r\n\r\nThe actual return type of the `build` method does not matter for this explanation. The problem now is ... you can&#39;t do the following:\r\n\r\n    var obj = new ChildBuilder()\r\n        .withProperty(&quot;property&quot;)\r\n        .withChildProperty(&quot;child property&quot;) // Compiler error here!\r\n        .build();\r\n\r\nThe return type of `withProperty` is `Builder`, and this type does not know about the building method `withChildProperty`. So you are breaking the fluent API.\r\n\r\nThe solution: A parameterized builder class. The type parameter `B` in the following example is intended to express the concept of a _self type_.\r\n\r\nFor our example, you do the following:\r\n\r\n    abstract class Builder&lt;B extends Builder&lt;B&gt;&gt; {\r\n        abstract Object build();\r\n        B withProperty(String property) { return this; } // Note the return type here.\r\n    }\r\n    final class ChildBuilder extends Builder&lt;ChildBuilder&gt; {\r\n        Object build() { return new Object(); }\r\n        ChildBuilder withChildProperty(String childProperty) { return this; }\r\n    }\r\n\r\nNow you can do the code as I mentioned above. ","title":"Java Generics - Need explanation for the signature of this Log4j2 class - RollingFileAppender.Builder","body":"<p>Builders usually have a fluent API. I.e. their building methods return the builder class to be able to directly call other building methods. For example, the class in question - <code>RollingFileAppender.Builder</code> - can be used like this:</p>\n<pre><code>var appender = builder.withAppend(true).withLocking(true).build();\n</code></pre>\n<p>That means that the building methods (the ones that are prefixed with <code>with</code> in this case) must return the same builder instance. But ... If you design a builder class for being subclassed, you have a problem. What type shall the building method return?</p>\n<p>Consider the following classes:</p>\n<pre><code>abstract class Builder {\n    abstract Object build();\n    Builder withProperty(String property) { return this; }\n}\nclass ChildBuilder extends Builder {\n    Object build() { return new Object(); }\n    ChildBuilder withChildProperty(String childProperty) { return this; }\n}\n</code></pre>\n<p>The actual return type of the <code>build</code> method does not matter for this explanation. The problem now is ... you can't do the following:</p>\n<pre><code>var obj = new ChildBuilder()\n    .withProperty(&quot;property&quot;)\n    .withChildProperty(&quot;child property&quot;) // Compiler error here!\n    .build();\n</code></pre>\n<p>The return type of <code>withProperty</code> is <code>Builder</code>, and this type does not know about the building method <code>withChildProperty</code>. So you are breaking the fluent API.</p>\n<p>The solution: A parameterized builder class. The type parameter <code>B</code> in the following example is intended to express the concept of a <em>self type</em>.</p>\n<p>For our example, you do the following:</p>\n<pre><code>abstract class Builder&lt;B extends Builder&lt;B&gt;&gt; {\n    abstract Object build();\n    B withProperty(String property) { return this; } // Note the return type here.\n}\nfinal class ChildBuilder extends Builder&lt;ChildBuilder&gt; {\n    Object build() { return new Object(); }\n    ChildBuilder withChildProperty(String childProperty) { return this; }\n}\n</code></pre>\n<p>Now you can do the code as I mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683533304,"creation_date":1683533304,"answer_id":76198600,"question_id":76198281,"body_markdown":"This is known as the [curiously recurring template pattern][1].\r\n\r\nAs far as I know, `RollingFileAppender.Builder` doesn&#39;t have any subclasses, so this isn&#39;t technically needed for `RollingFileAppender.Builder` to work. It could have been declared as a non-generic type:\r\n\r\n    public static class RollingFileAppender.Builder extends \r\n        AbstractOutputStreamAppender.Builder&lt;RollingFileAppender.Builder&gt;\r\n\r\nand its builder methods, which all return a `B` (e.g. `withAdvertise`), can just as well return `RollingFileAppender.Builder`.\r\n\r\nHowever, consider the case where someone is trying to write a subclass of this non-generic class:\r\n\r\n```\r\npublic class FooBuilder extends RollingFileAppender.Builder {\r\n    public FooBuilder withFoo(String foo) {\r\n        // ...\r\n        return this;\r\n    }\r\n}\r\n\r\n// Let&#39;s try using MyBuilder:\r\nnew FooBuilder()\r\n    .withAdvertise(false) // let&#39;s call one of the methods in RollingFileAppender.Builder first...\r\n    .withFoo(&quot;Foo&quot;) // and now we try to call my subclass&#39;s method\r\n    .build()\r\n```\r\n\r\nThe call `withFoo` would not compile. This is because in our hypothetical, non-generic `RollingFileAppender.Builder`, `withAdvertise` returns `RollingFileAppender.Builder`, not `MyBuilder`.\r\n\r\nMaking `RollingFileAppender.Builder` generic, and making its builder methods return the generic type parameter `B` solves this problem. Because then we could write:\r\n\r\n    // in this pattern,\r\n    // you are always expected to put the class that you are declaring as B\r\n    public class MyBuilder extends RollingFileAppender.Builder&lt;MyBuilder&gt;\r\n\r\nWhatever methods declared in `RollingFileAppender.Builder` that returns a `B` will now return a `MyBuilder`.\r\n\r\n```\r\nnew MyBuilder()\r\n    .withAdvertise(false) // this now returns a MyBuilder\r\n    .withFoo(&quot;Foo&quot;) // and this now works\r\n    .build()\r\n```\r\n\r\nIt would also be helpful to see the inheritance hierarchy of `RollingFileAppender.Builder`:\r\n\r\n```\r\njava.lang.Object\r\n    org.apache.logging.log4j.core.filter.AbstractFilterable.Builder&lt;B&gt;\r\n        org.apache.logging.log4j.core.appender.AbstractAppender.Builder&lt;B&gt;\r\n            org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.Builder&lt;B&gt;\r\n                org.apache.logging.log4j.core.appender.RollingFileAppender.Builder&lt;B&gt;\r\n```\r\n\r\nAs you can see, this class inherits a lot of builder methods. If none of the classes followed this curiously recurring template pattern, you would not be able to call methods declared in `RollingFileAppender.Builder` after using one of the methods inherited from its superclasses.\r\n\r\n```\r\nnew RollingFileAppender.Builder()\r\n    .setImmediateFlush(true) // this is declared in AbstractOutputStreamAppender.Builder\r\n    // so the above would have returned an AbstractOutputStreamAppender.Builder\r\n    .withAdvertise(true); // now you wouldn&#39;t be able to do this\r\n```\r\n\r\nTo summarise, this `B` is simply a way for all the builder methods to return whatever `Builder` subclass that you are using, rather than the class that declared them. Although it is not needed for `RollingFileAppender.Builder` since it has no subclasses, the authors still declared it like that, presumably to follow the pattern.\r\n\r\n&lt;hr&gt;\r\n\r\nAs for why `static` classes can have constructors, `static` classes just means that you don&#39;t need an instance of the outer class (`RollingFileAppender`) in order to instantiate the nested class. It does not prevent declaring constructors.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2165660/5133585","title":"Java Generics - Need explanation for the signature of this Log4j2 class - RollingFileAppender.Builder","body":"<p>This is known as the <a href=\"https://stackoverflow.com/a/2165660/5133585\">curiously recurring template pattern</a>.</p>\n<p>As far as I know, <code>RollingFileAppender.Builder</code> doesn't have any subclasses, so this isn't technically needed for <code>RollingFileAppender.Builder</code> to work. It could have been declared as a non-generic type:</p>\n<pre><code>public static class RollingFileAppender.Builder extends \n    AbstractOutputStreamAppender.Builder&lt;RollingFileAppender.Builder&gt;\n</code></pre>\n<p>and its builder methods, which all return a <code>B</code> (e.g. <code>withAdvertise</code>), can just as well return <code>RollingFileAppender.Builder</code>.</p>\n<p>However, consider the case where someone is trying to write a subclass of this non-generic class:</p>\n<pre><code>public class FooBuilder extends RollingFileAppender.Builder {\n    public FooBuilder withFoo(String foo) {\n        // ...\n        return this;\n    }\n}\n\n// Let's try using MyBuilder:\nnew FooBuilder()\n    .withAdvertise(false) // let's call one of the methods in RollingFileAppender.Builder first...\n    .withFoo(&quot;Foo&quot;) // and now we try to call my subclass's method\n    .build()\n</code></pre>\n<p>The call <code>withFoo</code> would not compile. This is because in our hypothetical, non-generic <code>RollingFileAppender.Builder</code>, <code>withAdvertise</code> returns <code>RollingFileAppender.Builder</code>, not <code>MyBuilder</code>.</p>\n<p>Making <code>RollingFileAppender.Builder</code> generic, and making its builder methods return the generic type parameter <code>B</code> solves this problem. Because then we could write:</p>\n<pre><code>// in this pattern,\n// you are always expected to put the class that you are declaring as B\npublic class MyBuilder extends RollingFileAppender.Builder&lt;MyBuilder&gt;\n</code></pre>\n<p>Whatever methods declared in <code>RollingFileAppender.Builder</code> that returns a <code>B</code> will now return a <code>MyBuilder</code>.</p>\n<pre><code>new MyBuilder()\n    .withAdvertise(false) // this now returns a MyBuilder\n    .withFoo(&quot;Foo&quot;) // and this now works\n    .build()\n</code></pre>\n<p>It would also be helpful to see the inheritance hierarchy of <code>RollingFileAppender.Builder</code>:</p>\n<pre><code>java.lang.Object\n    org.apache.logging.log4j.core.filter.AbstractFilterable.Builder&lt;B&gt;\n        org.apache.logging.log4j.core.appender.AbstractAppender.Builder&lt;B&gt;\n            org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.Builder&lt;B&gt;\n                org.apache.logging.log4j.core.appender.RollingFileAppender.Builder&lt;B&gt;\n</code></pre>\n<p>As you can see, this class inherits a lot of builder methods. If none of the classes followed this curiously recurring template pattern, you would not be able to call methods declared in <code>RollingFileAppender.Builder</code> after using one of the methods inherited from its superclasses.</p>\n<pre><code>new RollingFileAppender.Builder()\n    .setImmediateFlush(true) // this is declared in AbstractOutputStreamAppender.Builder\n    // so the above would have returned an AbstractOutputStreamAppender.Builder\n    .withAdvertise(true); // now you wouldn't be able to do this\n</code></pre>\n<p>To summarise, this <code>B</code> is simply a way for all the builder methods to return whatever <code>Builder</code> subclass that you are using, rather than the class that declared them. Although it is not needed for <code>RollingFileAppender.Builder</code> since it has no subclasses, the authors still declared it like that, presumably to follow the pattern.</p>\n<hr>\n<p>As for why <code>static</code> classes can have constructors, <code>static</code> classes just means that you don't need an instance of the outer class (<code>RollingFileAppender</code>) in order to instantiate the nested class. It does not prevent declaring constructors.</p>\n"}],"owner":{"account_id":3344764,"reputation":455,"user_id":2810127,"display_name":"Chesser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76198470,"answer_count":2,"score":1,"last_activity_date":1683618137,"creation_date":1683530240,"question_id":76198281,"body_markdown":"Can someone please explain me the meaning of the signature of this class -\r\n \r\n`org.apache.logging.log4j.core.appender`\r\n\r\n`Class RollingFileAppender.Builder&lt;B extends RollingFileAppender.Builder&lt;B&gt;&gt;`\r\n\r\nas documented - [Log4j2 apidocs][1]\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.Builder.html\r\n\r\nI read it as `Builder` for type `B`, where `B` `extends` the *Builder for type B*, which confuses me like anything.\r\n\r\nAlso, this is a `static` class and it has a constructor as well. Is this normal? Can somebody please share a reference that can help me understand and use this in program? \r\n\r\nPS - \r\nAbout what I am doing here - I am working on modifying log4j code to make it compatible with log4j2, in which there is a `RollingFileAppender` created using `RollingFileAppender` constructor in a util class.","title":"Java Generics - Need explanation for the signature of this Log4j2 class - RollingFileAppender.Builder","body":"<p>Can someone please explain me the meaning of the signature of this class -</p>\n<p><code>org.apache.logging.log4j.core.appender</code></p>\n<p><code>Class RollingFileAppender.Builder&lt;B extends RollingFileAppender.Builder&lt;B&gt;&gt;</code></p>\n<p>as documented - <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.Builder.html\" rel=\"nofollow noreferrer\">Log4j2 apidocs</a></p>\n<p>I read it as <code>Builder</code> for type <code>B</code>, where <code>B</code> <code>extends</code> the <em>Builder for type B</em>, which confuses me like anything.</p>\n<p>Also, this is a <code>static</code> class and it has a constructor as well. Is this normal? Can somebody please share a reference that can help me understand and use this in program?</p>\n<p>PS -\nAbout what I am doing here - I am working on modifying log4j code to make it compatible with log4j2, in which there is a <code>RollingFileAppender</code> created using <code>RollingFileAppender</code> constructor in a util class.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1683214328,"post_id":76174874,"comment_id":134335599,"body_markdown":"What have you tried so far and why didn&#39;t it work?","body":"What have you tried so far and why didn&#39;t it work?"},{"owner":{"account_id":28507074,"reputation":13,"user_id":21817596,"display_name":"Google cloud"},"score":0,"creation_date":1683214874,"post_id":76174874,"comment_id":134335761,"body_markdown":"i tried this solution:\nhttps://copyprogramming.com/howto/filtering-out-unique-values-from-a-list-in-java\n\nbut the .equals(&quot;off&quot;) must be a list for me","body":"i tried this solution: <a href=\"https://copyprogramming.com/howto/filtering-out-unique-values-from-a-list-in-java\" rel=\"nofollow noreferrer\">copyprogramming.com/howto/&hellip;</a>  but the .equals(&quot;off&quot;) must be a list for me"},{"owner":{"account_id":5247691,"reputation":305,"user_id":4192839,"display_name":"CyberMafia"},"score":0,"creation_date":1683215289,"post_id":76174874,"comment_id":134335870,"body_markdown":"You can create a ```list, set or map``` of your existing ```enum values``` and then use that to filter out the invalid ones from your array using ```Java Streams```.","body":"You can create a <code>list, set or map</code> of your existing <code>enum values</code> and then use that to filter out the invalid ones from your array using <code>Java Streams</code>."},{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":1,"creation_date":1683215885,"post_id":76174874,"comment_id":134336011,"body_markdown":"I do not see any question mark in your post. What did you try already ? (please share what you&#39;ve tried and not the website from where you find the solution).","body":"I do not see any question mark in your post. What did you try already ? (please share what you&#39;ve tried and not the website from where you find the solution)."},{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1683219832,"post_id":76174874,"comment_id":134336965,"body_markdown":"try Type.WIN == Type.valueOf(&quot;window&quot;)","body":"try Type.WIN == Type.valueOf(&quot;window&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1683247935,"post_id":76176355,"comment_id":134341664,"body_markdown":"Your inner for-each loop does not have the correct variable type on the left hand side. It should be `Type type`, and then in your if statement, it should say `type.getType().equals(myType)`.","body":"Your inner for-each loop does not have the correct variable type on the left hand side. It should be <code>Type type</code>, and then in your if statement, it should say <code>type.getType().equals(myType)</code>."},{"owner":{"account_id":24023581,"reputation":16,"user_id":18005512,"display_name":"Stochu"},"score":0,"creation_date":1683617570,"post_id":76176355,"comment_id":134389879,"body_markdown":"True, now It&#39;s correct","body":"True, now It&#39;s correct"}],"tags":[],"owner":{"account_id":24023581,"reputation":16,"user_id":18005512,"display_name":"Stochu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683617811,"creation_date":1683225117,"answer_id":76176355,"question_id":76174874,"body_markdown":"Simple implementation:\r\n\r\n     List&lt;String&gt; matchingTypes = new ArrayList&lt;&gt;();\r\n        \r\n        for (String myType : matType) {\r\n           for (Type type : Type.values()) {\r\n              if (type.getType().equals(myType)) {\r\n                 matchingTypes.add(myType);\r\n              }\r\n            }\r\n         }\r\n\r\nImplementation using stream:\r\n\r\n        List&lt;String&gt; matchingTypes = Arrays.stream(Type.values())\r\n                .map(Type::getType)\r\n                .filter(matType::contains)\r\n                .collect(Collectors.toList());","title":"Filter list by enum","body":"<p>Simple implementation:</p>\n<pre><code> List&lt;String&gt; matchingTypes = new ArrayList&lt;&gt;();\n    \n    for (String myType : matType) {\n       for (Type type : Type.values()) {\n          if (type.getType().equals(myType)) {\n             matchingTypes.add(myType);\n          }\n        }\n     }\n</code></pre>\n<p>Implementation using stream:</p>\n<pre><code>    List&lt;String&gt; matchingTypes = Arrays.stream(Type.values())\n            .map(Type::getType)\n            .filter(matType::contains)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683275883,"creation_date":1683275883,"answer_id":76180306,"question_id":76174874,"body_markdown":"You could try to parse each list value as an enum and keep those which could be parsed:\r\n\r\n```\r\nfinal List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\r\nfinal List&lt;String&gt; result = matType.stream()\r\n    .filter(t -&gt; {\r\n      try {\r\n        Type.valueOf(t); // throws an exception for invalid names\r\n        return true;\r\n      } catch (final Exception ex) {\r\n        return false;\r\n      }\r\n    })\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nBut if you are filtering with your enum lots of times, it is probably worthwhile to build a set with your enum&#39;s names _once_ and then re-use:\r\n\r\n```\r\nclass Enum Type {\r\n    WIN(&quot;window&quot;),\r\n    DOOR(&quot;door&quot;);\r\n\r\n    private static final Set&lt;String&gt; typeNames = values().stream()\r\n        .map(Objects::toString)\r\n        .collect(Collectors.toUnmodifiableSet());\r\n\r\n    private final String type;\r\n\r\n    private Type(final String type) {\r\n        this.type = type;\r\n    }\r\n\r\n    private boolean isValidName(final String name) {\r\n      return typeNames.contains(name);\r\n    }\r\n}\r\n\r\nfinal List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\r\nfinal List&lt;String&gt; result = matType.stream()\r\n    .filter(Type::isValidName);\r\n    .collect(Collectors.toList());\r\n```","title":"Filter list by enum","body":"<p>You could try to parse each list value as an enum and keep those which could be parsed:</p>\n<pre><code>final List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\nfinal List&lt;String&gt; result = matType.stream()\n    .filter(t -&gt; {\n      try {\n        Type.valueOf(t); // throws an exception for invalid names\n        return true;\n      } catch (final Exception ex) {\n        return false;\n      }\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>But if you are filtering with your enum lots of times, it is probably worthwhile to build a set with your enum's names <em>once</em> and then re-use:</p>\n<pre><code>class Enum Type {\n    WIN(&quot;window&quot;),\n    DOOR(&quot;door&quot;);\n\n    private static final Set&lt;String&gt; typeNames = values().stream()\n        .map(Objects::toString)\n        .collect(Collectors.toUnmodifiableSet());\n\n    private final String type;\n\n    private Type(final String type) {\n        this.type = type;\n    }\n\n    private boolean isValidName(final String name) {\n      return typeNames.contains(name);\n    }\n}\n\nfinal List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;};\nfinal List&lt;String&gt; result = matType.stream()\n    .filter(Type::isValidName);\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":28507074,"reputation":13,"user_id":21817596,"display_name":"Google cloud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76176355,"answer_count":2,"score":1,"last_activity_date":1683617811,"creation_date":1683214094,"question_id":76174874,"body_markdown":"I have a list of String \r\n```\r\nList&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;}\r\n```\r\nand an enum \r\n```\r\nclass Enum Type{\r\n    WIN(&quot;window&quot;),\r\n    DOOR(&quot;door&quot;);\r\n\r\n    private String type;\r\n\r\n    private Type(String type){\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nMy final list should be `matType : {&quot;window&quot;, &quot;door&quot;}`.","title":"Filter list by enum","body":"<p>I have a list of String</p>\n<pre><code>List&lt;String&gt; matType = {&quot;window&quot;,&quot;door&quot;,&quot;room&quot;,&quot;kitchen&quot;,&quot;bedroom&quot;}\n</code></pre>\n<p>and an enum</p>\n<pre><code>class Enum Type{\n    WIN(&quot;window&quot;),\n    DOOR(&quot;door&quot;);\n\n    private String type;\n\n    private Type(String type){\n        this.type = type;\n    }\n}\n</code></pre>\n<p>My final list should be <code>matType : {&quot;window&quot;, &quot;door&quot;}</code>.</p>\n"},{"tags":["java","selenium-webdriver","gradle","intellij-idea","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683617525,"creation_date":1683617525,"answer_id":76206862,"question_id":76199978,"body_markdown":"Solved this issue- in line 1 highlighted in image 2, I removed the `/.gradlew clean` command, and just kept the environment variables like AWS keys, chrome driver details &amp; environment type and it worked.","title":"Could not find or load main class Gradlew Caused by : Caused by: java.lang.ClassNotFoundException: //gradlew","body":"<p>Solved this issue- in line 1 highlighted in image 2, I removed the <code>/.gradlew clean</code> command, and just kept the environment variables like AWS keys, chrome driver details &amp; environment type and it worked.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683617560,"creation_date":1683543993,"question_id":76199978,"body_markdown":"I am new to Gradle and Selenium testing. I am working on Mac &amp; using intelliJ .\r\nI am trying to setup my Junit Run Configuration for running selemium test in a package.\r\n \r\nPlease refer to image 2.\r\n\r\nLine marked with 1 has all the configurations like the chrome version, aws keys. It starts with command:  **./gradlew clean** \r\n\r\nLine marked with 2 has the package containing Selenium test class that I need to run.\r\n\r\nI built the project using : ./gradlew clean build testClasses -x test\r\n\r\nNow when I try to run the Test Configuration I created , it fails with this error:\r\n\r\n    Error: Could not find or load main class ..gradlew\r\n    Caused by: java.lang.ClassNotFoundException: //gradlew\r\n    Process finished with exit code 1\r\n\r\nPlease refer to the image 1 below for the error.\r\n\r\nI have tried the solutions given on this link but nothing is helping: \r\n[link][1]\r\n\r\nIs the error coming because I am using **gradlew** (gradle wrapper) in command instead of **gradle**? \r\n\r\nUpdate, tried the Run Config command with gradle too, still the same error, now with gradle :\r\n\r\n    Error: Could not find or load main class ..gradle\r\n    Caused by: java.lang.ClassNotFoundException: //gradle\r\n\r\n Please suggest solutions to me, let me know if any other details or files are required to be shared form my end.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n[![run][3]][3] \r\n\r\n\r\n  [1]: https://support.snyk.io/hc/en-us/articles/360007745957-Snyk-test-Could-not-find-or-load-main-class-org-gradle-wrapper-GradleWrapperMain\r\n  [2]: https://i.stack.imgur.com/PvuGN.png\r\n  [3]: https://i.stack.imgur.com/cezrz.png","title":"Could not find or load main class Gradlew Caused by : Caused by: java.lang.ClassNotFoundException: //gradlew","body":"<p>I am new to Gradle and Selenium testing. I am working on Mac &amp; using intelliJ .\nI am trying to setup my Junit Run Configuration for running selemium test in a package.</p>\n<p>Please refer to image 2.</p>\n<p>Line marked with 1 has all the configurations like the chrome version, aws keys. It starts with command:  <strong>./gradlew clean</strong></p>\n<p>Line marked with 2 has the package containing Selenium test class that I need to run.</p>\n<p>I built the project using : ./gradlew clean build testClasses -x test</p>\n<p>Now when I try to run the Test Configuration I created , it fails with this error:</p>\n<pre><code>Error: Could not find or load main class ..gradlew\nCaused by: java.lang.ClassNotFoundException: //gradlew\nProcess finished with exit code 1\n</code></pre>\n<p>Please refer to the image 1 below for the error.</p>\n<p>I have tried the solutions given on this link but nothing is helping:\n<a href=\"https://support.snyk.io/hc/en-us/articles/360007745957-Snyk-test-Could-not-find-or-load-main-class-org-gradle-wrapper-GradleWrapperMain\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Is the error coming because I am using <strong>gradlew</strong> (gradle wrapper) in command instead of <strong>gradle</strong>?</p>\n<p>Update, tried the Run Config command with gradle too, still the same error, now with gradle :</p>\n<pre><code>Error: Could not find or load main class ..gradle\nCaused by: java.lang.ClassNotFoundException: //gradle\n</code></pre>\n<p>Please suggest solutions to me, let me know if any other details or files are required to be shared form my end.</p>\n<p><a href=\"https://i.stack.imgur.com/PvuGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvuGN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cezrz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cezrz.png\" alt=\"run\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683627991,"post_id":76206813,"comment_id":134392286,"body_markdown":"I have no idea what you are trying to achieve or describe. Your question is, at best, confusing/not clear.","body":"I have no idea what you are trying to achieve or describe. Your question is, at best, confusing/not clear."},{"owner":{"account_id":27813744,"reputation":1,"user_id":21235613,"display_name":"wenda wang"},"score":0,"creation_date":1683628845,"post_id":76206813,"comment_id":134392489,"body_markdown":"I want to activate spring.profile.active by means of ApplicationContextInitializer","body":"I want to activate spring.profile.active by means of ApplicationContextInitializer"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683698333,"post_id":76206813,"comment_id":134404391,"body_markdown":"Which is the only thing I understood from your question, how you are testing this or what you are trying to do is totally unclear.","body":"Which is the only thing I understood from your question, how you are testing this or what you are trying to do is totally unclear."},{"owner":{"account_id":27813744,"reputation":1,"user_id":21235613,"display_name":"wenda wang"},"score":0,"creation_date":1683775754,"post_id":76206813,"comment_id":134419190,"body_markdown":"What I mean is that I want to get the value of the data in the active configuration file, such as home: addr: Zhongshan South Road in application-dev.yml, but I have not been able to read it","body":"What I mean is that I want to get the value of the data in the active configuration file, such as home: addr: Zhongshan South Road in application-dev.yml, but I have not been able to read it"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683782207,"post_id":76206813,"comment_id":134419846,"body_markdown":"How are you registering this initializer? How are you loading the configuration etc. There is far too little information here to answer it.","body":"How are you registering this initializer? How are you loading the configuration etc. There is far too little information here to answer it."}],"owner":{"account_id":27813744,"reputation":1,"user_id":21235613,"display_name":"wenda wang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683617102,"creation_date":1683617102,"question_id":76206813,"body_markdown":"When I was using ApplicationContextInitializer, I found that I could use it to specify the activation file, but I couldn&#39;t actually get the activation file data, at first I thought it was a file format problem, but when I changed to yml configuration profile.active, I could get it, why?\r\n\r\n```\r\npublic class MyApplicationContextInitializer implements ApplicationContextInitializer {\r\n    @Override\r\n    public void initialize(ConfigurableApplicationContext applicationContext) {\r\n        System.out.println(&quot;setActiveProfiles&quot;);\r\n        ConfigurableEnvironment environment = applicationContext.getEnvironment();\r\n        environment.setActiveProfiles(&quot;dev&quot;);\r\n    }\r\n}\r\n```\r\nI used Application.yml to load the custom initlizer,this is the text.\r\n\r\n`context:\r\n  initializer:\r\n    classes: com.xnew.springboot.initlister.initiallizer.MyApplicationContextInitializer`\r\n\r\nhere is the console text png.\r\n[enter image description here](https://i.stack.imgur.com/ZqGf3.png)\r\n\r\nI can see in the console that it is activated, but I can&#39;t get the parameter value of the activation configuration using @Value. ","title":"springboot ApplicationContextInitializer setActiveProfiles Why can&#39;t it take effect?","body":"<p>When I was using ApplicationContextInitializer, I found that I could use it to specify the activation file, but I couldn't actually get the activation file data, at first I thought it was a file format problem, but when I changed to yml configuration profile.active, I could get it, why?</p>\n<pre><code>public class MyApplicationContextInitializer implements ApplicationContextInitializer {\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n        System.out.println(&quot;setActiveProfiles&quot;);\n        ConfigurableEnvironment environment = applicationContext.getEnvironment();\n        environment.setActiveProfiles(&quot;dev&quot;);\n    }\n}\n</code></pre>\n<p>I used Application.yml to load the custom initlizer,this is the text.</p>\n<p><code>context: initializer: classes: com.xnew.springboot.initlister.initiallizer.MyApplicationContextInitializer</code></p>\n<p>here is the console text png.\n<a href=\"https://i.stack.imgur.com/ZqGf3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I can see in the console that it is activated, but I can't get the parameter value of the activation configuration using @Value.</p>\n"},{"tags":["java","collections","casting"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683611387,"post_id":76206184,"comment_id":134388875,"body_markdown":"Just to be clear, you want to *merge* the two maps `allCompInfo` and `allFunctionInfo`? That is, add the key value pairs of the two maps into a single map, and where the keys collide, make a new list that contains the `BaseInfo`s of both values?","body":"Just to be clear, you want to <i>merge</i> the two maps <code>allCompInfo</code> and <code>allFunctionInfo</code>? That is, add the key value pairs of the two maps into a single map, and where the keys collide, make a new list that contains the <code>BaseInfo</code>s of both values?"},{"owner":{"account_id":8132660,"reputation":99,"user_id":6125400,"accept_rate":0,"display_name":"RCode"},"score":0,"creation_date":1683611708,"post_id":76206184,"comment_id":134388908,"body_markdown":"Yes. You are correct. I am trying to create a single collection called as &#39;BaseInfo&#39; pulling the details from both componentLayer and FunctionLayer.","body":"Yes. You are correct. I am trying to create a single collection called as &#39;BaseInfo&#39; pulling the details from both componentLayer and FunctionLayer."}],"answers":[{"comments":[{"owner":{"account_id":8132660,"reputation":99,"user_id":6125400,"accept_rate":0,"display_name":"RCode"},"score":0,"creation_date":1683614934,"post_id":76206434,"comment_id":134389376,"body_markdown":"Thanks. I shall check try this . lets see","body":"Thanks. I shall check try this . lets see"},{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1683721600,"post_id":76206434,"comment_id":134409652,"body_markdown":"Great answer. It should be shown to all students who study Java generics I think.","body":"Great answer. It should be shown to all students who study Java generics I think."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683614106,"creation_date":1683613763,"answer_id":76206434,"question_id":76206184,"body_markdown":"`List&lt;Component&gt;` and `List&lt;Function&gt;` are just ***not*** subtypes of `List&lt;BaseInfo&gt;`. If they were a subtypes, everything you can do to `List&lt;BaseInfo&gt;` can also be done to `List&lt;Component&gt;`, right? But this is not the case - you can add a `Function` to a `List&lt;BaseInfo&gt;`, but you cannot add a `Function` to a `List&lt;Component&gt;`. Read more about this [here][1].\r\n\r\n`List&lt;Component&gt;` and `List&lt;Function&gt;` *are* subtypes of `List&lt;? extends BaseInfo&gt;` though. `List&lt;? extends BaseInfo&gt;` is very similar to `List&lt;BaseInfo&gt;`, but you cannot add elements to it (except null). You can combine the two maps into a `Map&lt;String, List&lt;? extends BaseInfo&gt;&gt;` like this:\r\n\r\n```\r\nvar map = new HashMap&lt;String, List&lt;? extends BaseInfo&gt;&gt;(allFunctionInfo);\r\nfor (var entry : allCompInfo.entrySet()) {\r\n    map.merge(entry.getKey(), entry.getValue(), (x, y) -&gt; {\r\n        // when keys collide, create a new List&lt;BaseInfo&gt; with elements from both lists\r\n        var list = new ArrayList&lt;BaseInfo&gt;(x);\r\n        list.addAll(y);\r\n        return list;\r\n    });\r\n}\r\n```\r\n\r\nAlternatively, you can create copies of every `List&lt;Function&gt;` and every `List&lt;Component&gt;`. And the copies can be of type `List&lt;BaseInfo&gt;` instead:\r\n\r\n```\r\nvar map = new HashMap&lt;String, List&lt;BaseInfo&gt;&gt;();\r\nfor (var entry : allCompInfo.entrySet()) {\r\n    // new ArrayList&lt;&gt;(anotherList) creates a copy\r\n    map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\r\n}\r\nfor (var entry : allFunctionInfo.entrySet()) {\r\n    map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\r\n        x.addAll(y);\r\n        return x;\r\n    });\r\n}\r\n```\r\n\r\nYou can extract this to a generic method that works on any base type and two subtypes:\r\n\r\n\r\n    private static &lt;TBase, TSub1 extends TBase, TSub2 extends TBase&gt; \r\n    Map&lt;String, List&lt;TBase&gt;&gt; merge(Map&lt;String, List&lt;TSub1&gt;&gt; map1, Map&lt;String, List&lt;TSub2&gt;&gt; map2) {\r\n        var map = new HashMap&lt;String, List&lt;TBase&gt;&gt;();\r\n        for (var entry : map1.entrySet()) {\r\n            map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\r\n        }\r\n        for (var entry : map2.entrySet()) {\r\n            map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\r\n                x.addAll(y);\r\n                return x;\r\n            });\r\n        }\r\n        return map;\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p><code>List&lt;Component&gt;</code> and <code>List&lt;Function&gt;</code> are just <em><strong>not</strong></em> subtypes of <code>List&lt;BaseInfo&gt;</code>. If they were a subtypes, everything you can do to <code>List&lt;BaseInfo&gt;</code> can also be done to <code>List&lt;Component&gt;</code>, right? But this is not the case - you can add a <code>Function</code> to a <code>List&lt;BaseInfo&gt;</code>, but you cannot add a <code>Function</code> to a <code>List&lt;Component&gt;</code>. Read more about this <a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\">here</a>.</p>\n<p><code>List&lt;Component&gt;</code> and <code>List&lt;Function&gt;</code> <em>are</em> subtypes of <code>List&lt;? extends BaseInfo&gt;</code> though. <code>List&lt;? extends BaseInfo&gt;</code> is very similar to <code>List&lt;BaseInfo&gt;</code>, but you cannot add elements to it (except null). You can combine the two maps into a <code>Map&lt;String, List&lt;? extends BaseInfo&gt;&gt;</code> like this:</p>\n<pre><code>var map = new HashMap&lt;String, List&lt;? extends BaseInfo&gt;&gt;(allFunctionInfo);\nfor (var entry : allCompInfo.entrySet()) {\n    map.merge(entry.getKey(), entry.getValue(), (x, y) -&gt; {\n        // when keys collide, create a new List&lt;BaseInfo&gt; with elements from both lists\n        var list = new ArrayList&lt;BaseInfo&gt;(x);\n        list.addAll(y);\n        return list;\n    });\n}\n</code></pre>\n<p>Alternatively, you can create copies of every <code>List&lt;Function&gt;</code> and every <code>List&lt;Component&gt;</code>. And the copies can be of type <code>List&lt;BaseInfo&gt;</code> instead:</p>\n<pre><code>var map = new HashMap&lt;String, List&lt;BaseInfo&gt;&gt;();\nfor (var entry : allCompInfo.entrySet()) {\n    // new ArrayList&lt;&gt;(anotherList) creates a copy\n    map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\n}\nfor (var entry : allFunctionInfo.entrySet()) {\n    map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\n        x.addAll(y);\n        return x;\n    });\n}\n</code></pre>\n<p>You can extract this to a generic method that works on any base type and two subtypes:</p>\n<pre><code>private static &lt;TBase, TSub1 extends TBase, TSub2 extends TBase&gt; \nMap&lt;String, List&lt;TBase&gt;&gt; merge(Map&lt;String, List&lt;TSub1&gt;&gt; map1, Map&lt;String, List&lt;TSub2&gt;&gt; map2) {\n    var map = new HashMap&lt;String, List&lt;TBase&gt;&gt;();\n    for (var entry : map1.entrySet()) {\n        map.put(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()));\n    }\n    for (var entry : map2.entrySet()) {\n        map.merge(entry.getKey(), new ArrayList&lt;&gt;(entry.getValue()), (x, y) -&gt; {\n            x.addAll(y);\n            return x;\n        });\n    }\n    return map;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8132660,"reputation":99,"user_id":6125400,"accept_rate":0,"display_name":"RCode"},"score":0,"creation_date":1683614981,"post_id":76206497,"comment_id":134389385,"body_markdown":"This for this small snippet. This looks promising. But I have to check that key collision case once.","body":"This for this small snippet. This looks promising. But I have to check that key collision case once."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683615802,"post_id":76206497,"comment_id":134389536,"body_markdown":"I see the answer from @Sweeper has already solution for collisions.","body":"I see the answer from @Sweeper has already solution for collisions."}],"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683614401,"creation_date":1683614401,"answer_id":76206497,"question_id":76206184,"body_markdown":"If there are no &quot;key&quot; collisions (https://www.baeldung.com/java-hashmap-advanced#collisions-in-the-hashmap) then you can try this approach:\r\n\r\n    Map&lt;String, List&lt;? extends BaseInfo&gt;&gt; allInfos = new HashMap&lt;&gt;();\r\n    allInfos.putAll(compoments);\r\n    allInfos.putAll(functions);","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p>If there are no &quot;key&quot; collisions (<a href=\"https://www.baeldung.com/java-hashmap-advanced#collisions-in-the-hashmap\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-hashmap-advanced#collisions-in-the-hashmap</a>) then you can try this approach:</p>\n<pre><code>Map&lt;String, List&lt;? extends BaseInfo&gt;&gt; allInfos = new HashMap&lt;&gt;();\nallInfos.putAll(compoments);\nallInfos.putAll(functions);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683630141,"post_id":76206679,"comment_id":134392759,"body_markdown":"Instead of a complicated and expensive `allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})` you can use `allInfo.computeIfAbsent(k, key -&gt; new ArrayList&lt;&gt;()).add(e)`","body":"Instead of a complicated and expensive <code>allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})</code> you can use <code>allInfo.computeIfAbsent(k, key -&gt; new ArrayList&lt;&gt;()).add(e)</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683630451,"post_id":76206679,"comment_id":134392833,"body_markdown":"And the Stream operation can be simplified to `Stream.of(allCompInfo, allFunctionInfo) .flatMap(m -&gt; m.entrySet().stream()) .collect(groupingBy(Map.Entry::getKey, flatMapping(e -&gt; e.getValue().stream(), toList())))`","body":"And the Stream operation can be simplified to <code>Stream.of(allCompInfo, allFunctionInfo) .flatMap(m -&gt; m.entrySet().stream()) .collect(groupingBy(Map.Entry::getKey, flatMapping(e -&gt; e.getValue().stream(), toList())))</code>"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683616738,"creation_date":1683616021,"answer_id":76206679,"question_id":76206184,"body_markdown":"You must create a new `List&lt;BaseInfo&gt;` and copy the child class objects over.\r\n\r\nSo this answer is broadly useful, here I&#39;ve used more familiar classes from the JDK instead of your custom classes: Parent class `Number` with child classes `Integer` and `Long`.\r\n\r\nGiven:\r\n\r\n    Map&lt;String, List&lt;Integer&gt;&gt; allCompInfo  = new HashMap&lt;&gt;();\r\n    Map&lt;String, List&lt;Long&gt;&gt; allFunctionInfo = new HashMap&lt;&gt;();\r\n\r\nand you want to populate a `Map&lt;String, List&lt;Number&gt;&gt; allInfo` with them:\r\n\r\nEither copy all values into the base map imperatively, manually handling merges:\r\n\r\n    Map&lt;String, List&lt;Number&gt;&gt; allInfo = new HashMap&lt;&gt;();\r\n    allCompInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\r\n    allFunctionInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\r\n\r\nOr, do it in one line via a stream, which would scale better if you add more child classes (and it looks cooler):\r\n\r\n    Map&lt;String, List&lt;Number&gt;&gt; baseInfo = Stream.of(allCompInfo, allFunctionInfo)\r\n       .map(Map::entrySet)\r\n       .flatMap(Set::stream)\r\n       .flatMap(e -&gt; e.getValue().stream().map(v -&gt; new AbstractMap.SimpleEntry&lt;String, Number&gt;(e.getKey(), v)))\r\n       .collect(groupingBy(Map.Entry::getKey, mapping(Map.Entry::getValue, toList())));\r\n        \r\n\r\n","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p>You must create a new <code>List&lt;BaseInfo&gt;</code> and copy the child class objects over.</p>\n<p>So this answer is broadly useful, here I've used more familiar classes from the JDK instead of your custom classes: Parent class <code>Number</code> with child classes <code>Integer</code> and <code>Long</code>.</p>\n<p>Given:</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; allCompInfo  = new HashMap&lt;&gt;();\nMap&lt;String, List&lt;Long&gt;&gt; allFunctionInfo = new HashMap&lt;&gt;();\n</code></pre>\n<p>and you want to populate a <code>Map&lt;String, List&lt;Number&gt;&gt; allInfo</code> with them:</p>\n<p>Either copy all values into the base map imperatively, manually handling merges:</p>\n<pre><code>Map&lt;String, List&lt;Number&gt;&gt; allInfo = new HashMap&lt;&gt;();\nallCompInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\nallFunctionInfo.forEach((k, v) -&gt; v.forEach(e -&gt; allInfo.merge(k, new ArrayList&lt;&gt;(List.of(e)), (a,b) -&gt; { a.addAll(b); return a;})));\n</code></pre>\n<p>Or, do it in one line via a stream, which would scale better if you add more child classes (and it looks cooler):</p>\n<pre><code>Map&lt;String, List&lt;Number&gt;&gt; baseInfo = Stream.of(allCompInfo, allFunctionInfo)\n   .map(Map::entrySet)\n   .flatMap(Set::stream)\n   .flatMap(e -&gt; e.getValue().stream().map(v -&gt; new AbstractMap.SimpleEntry&lt;String, Number&gt;(e.getKey(), v)))\n   .collect(groupingBy(Map.Entry::getKey, mapping(Map.Entry::getValue, toList())));\n    \n</code></pre>\n"}],"owner":{"account_id":8132660,"reputation":99,"user_id":6125400,"accept_rate":0,"display_name":"RCode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683616738,"creation_date":1683611098,"question_id":76206184,"body_markdown":"I have one base class\r\n\r\n    public class BaseInfo { }\r\n\r\nThen I have two child class from BaseInfo:\r\n\r\n    public class FunctionInfo extends BaseInfo {}\r\n    public class ComponentInfo extends BaseInfo {}\r\n\r\nNow In rest layer there is one method using which I can get the collection of those child objects similar to below\r\n\r\n    Map&lt;String, List&lt;ComponentInfo&gt;&gt; allCompInfo  = componentLayer.findById(Id, true);  \r\n    Map&lt;String, List&lt;FunctionInfo&gt;&gt; allFunctionInfo = functionLayer.findById(Id); \r\n\r\nHere In my next method I have to send the allCompInfo and allFunctionInfo both to get next info. Or I have to call twice that method If I am not sending them both together. In both cases the operation complexity is same. Iterating over two collection list.\r\n\r\nI am curious to know is there any way to collect both child object collections into the BaseInfo collection. something like\r\n```java\r\n     Map&lt;String, List&lt;BaseInfo&gt;&gt; allInfo  = componentLayer.findById(Id, true);\r\n     allInfo = functionLayer.findById(Id);\r\n```\r\n \r\n\r\nBasic upper casting I tried but the collection looks like work different way. Is there any way I can type cast a whole child collection to parent collection. It will be great help if one could help.","title":"How I can typecast a collection of Child objects to a collection of Parent Object","body":"<p>I have one base class</p>\n<pre><code>public class BaseInfo { }\n</code></pre>\n<p>Then I have two child class from BaseInfo:</p>\n<pre><code>public class FunctionInfo extends BaseInfo {}\npublic class ComponentInfo extends BaseInfo {}\n</code></pre>\n<p>Now In rest layer there is one method using which I can get the collection of those child objects similar to below</p>\n<pre><code>Map&lt;String, List&lt;ComponentInfo&gt;&gt; allCompInfo  = componentLayer.findById(Id, true);  \nMap&lt;String, List&lt;FunctionInfo&gt;&gt; allFunctionInfo = functionLayer.findById(Id); \n</code></pre>\n<p>Here In my next method I have to send the allCompInfo and allFunctionInfo both to get next info. Or I have to call twice that method If I am not sending them both together. In both cases the operation complexity is same. Iterating over two collection list.</p>\n<p>I am curious to know is there any way to collect both child object collections into the BaseInfo collection. something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>     Map&lt;String, List&lt;BaseInfo&gt;&gt; allInfo  = componentLayer.findById(Id, true);\n     allInfo = functionLayer.findById(Id);\n</code></pre>\n<p>Basic upper casting I tried but the collection looks like work different way. Is there any way I can type cast a whole child collection to parent collection. It will be great help if one could help.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-grid"],"answers":[{"tags":[],"owner":{"account_id":16640677,"reputation":3,"user_id":12026291,"display_name":"kjSel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683616590,"creation_date":1683616506,"answer_id":76206751,"question_id":74279980,"body_markdown":"Posting If you haven&#39;t found the answer yet - \r\n1. Set custom capabilities `&quot;networkname:applicationName&quot;:&quot;nodex&quot;, &quot;nodename:applicationName&quot;:&quot;appx&quot;` in your node.driver-configuration in grid config toml file \r\n\r\n   \r\n\r\n    `[node]\r\n    override-max-sessions = true\r\n    max-sessions = 15\r\n    selenium-manager = true\r\n    detect-drivers = false\r\n    enable-managed-downloads = true\r\n    grid-url = &quot;yourIp&quot;\r\n    session-timeout = 1800\r\n    [[node.driver-configuration]]\r\n    max-sessions = 15\r\n    display-name = &quot;Chrome&quot;\r\n    stereotype = &#39;{&quot;browserName&quot;: &quot;chrome&quot;, &quot;platformName&quot;: &quot;WIN10&quot;, \r\n    &quot;networkname:applicationName&quot;:&quot;nodex&quot;, \r\n    &quot;nodename:applicationName&quot;:&quot;appx&quot;}&#39;`\r\n\r\n\r\nIn your code - \r\n\r\n    public static void main (String[] args) throws MalformedURLException {\r\n    FirefoxOptions options = new FirefoxOptions();\r\n    options.setCapability(&quot;networkname:applicationName&quot;, &quot;nodex&quot;);\r\n    options.setCapability(&quot;nodename:applicationName&quot;, &quot;appx&quot;);\r\n    options.setBrowserVersion(&quot;96&quot;);\r\n    options.setPlatformName(&quot;macOS&quot;);\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;), options);\r\n    driver.get(&quot;python.org&quot;);\r\n    driver.quit();\r\n  }\r\n","title":"By using Selenium grid 4 running the Script on Specific Node","body":"<p>Posting If you haven't found the answer yet -</p>\n<ol>\n<li><p>Set custom capabilities <code>&quot;networkname:applicationName&quot;:&quot;nodex&quot;, &quot;nodename:applicationName&quot;:&quot;appx&quot;</code> in your node.driver-configuration in grid config toml file</p>\n<p><code>[node] override-max-sessions = true max-sessions = 15 selenium-manager = true detect-drivers = false enable-managed-downloads = true grid-url = &quot;yourIp&quot; session-timeout = 1800 [[node.driver-configuration]] max-sessions = 15 display-name = &quot;Chrome&quot; stereotype = '{&quot;browserName&quot;: &quot;chrome&quot;, &quot;platformName&quot;: &quot;WIN10&quot;,  &quot;networkname:applicationName&quot;:&quot;nodex&quot;,  &quot;nodename:applicationName&quot;:&quot;appx&quot;}'</code></p>\n</li>\n</ol>\n<p>In your code -</p>\n<pre><code>public static void main (String[] args) throws MalformedURLException {\nFirefoxOptions options = new FirefoxOptions();\noptions.setCapability(&quot;networkname:applicationName&quot;, &quot;nodex&quot;);\noptions.setCapability(&quot;nodename:applicationName&quot;, &quot;appx&quot;);\noptions.setBrowserVersion(&quot;96&quot;);\noptions.setPlatformName(&quot;macOS&quot;);\nWebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;), options);\ndriver.get(&quot;python.org&quot;);\ndriver.quit();\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":23124076,"reputation":21,"user_id":17230168,"display_name":"340- Surwade Ajay Mukund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683616590,"creation_date":1667325551,"question_id":74279980,"body_markdown":"\r\n\r\nI&#39;m new to Selenium Grid 4 and trying to setting up the grid with Node &amp; Hub Mode and run the test.For example, Below is my setup:\r\n\r\nHub: windows\r\nNode A: windows chrome_v103 ip:192.168.1.1\r\nNode B: windows chrome_v103 ip:192.168.1.2\r\nIf I run a test case, sometimes it run on Node A, sometimes on Node B;How can I run a test in specific node, For example in node A, Not Node B\r\n\r\nrunning node by specifying node name if its have the same browser","title":"By using Selenium grid 4 running the Script on Specific Node","body":"<p>I'm new to Selenium Grid 4 and trying to setting up the grid with Node &amp; Hub Mode and run the test.For example, Below is my setup:</p>\n<p>Hub: windows\nNode A: windows chrome_v103 ip:192.168.1.1\nNode B: windows chrome_v103 ip:192.168.1.2\nIf I run a test case, sometimes it run on Node A, sometimes on Node B;How can I run a test in specific node, For example in node A, Not Node B</p>\n<p>running node by specifying node name if its have the same browser</p>\n"},{"tags":["java","spring","transactions"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683545336,"post_id":76200126,"comment_id":134378080,"body_markdown":"have you tried implementing it like this?","body":"have you tried implementing it like this?"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1683546231,"post_id":76200126,"comment_id":134378309,"body_markdown":"Yes, that works perfectly fine.  When bean B calls a method of bean A (which is wrapped in the transactional proxy) you pass the proxy boundary and it will start and commit/rollback a transaction. You might want to read up on proxies when starting with Spring as most of the &#39;magic&#39; is merely proxy stuff.","body":"Yes, that works perfectly fine.  When bean B calls a method of bean A (which is wrapped in the transactional proxy) you pass the proxy boundary and it will start and commit/rollback a transaction. You might want to read up on proxies when starting with Spring as most of the &#39;magic&#39; is merely proxy stuff."}],"answers":[{"tags":[],"owner":{"account_id":12800386,"reputation":26,"user_id":9261899,"display_name":"user9261899"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683615917,"creation_date":1683615917,"answer_id":76206665,"question_id":76200126,"body_markdown":"1. Yes its possible, you can have two @Transactional methods in a single class and they work as you expect. However it is important to notice that your doSomeStuff() is not transactional even though it invokes two transactional methods because even if the actionB() fails it has no impact on actionA() because the transaction is already committed.\r\n2. It has nothing to do with transactional methods.","title":"Spring: Can single class have multiple @Transactional method","body":"<ol>\n<li>Yes its possible, you can have two @Transactional methods in a single class and they work as you expect. However it is important to notice that your doSomeStuff() is not transactional even though it invokes two transactional methods because even if the actionB() fails it has no impact on actionA() because the transaction is already committed.</li>\n<li>It has nothing to do with transactional methods.</li>\n</ol>\n"}],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76206665,"answer_count":1,"score":0,"last_activity_date":1683615917,"creation_date":1683545027,"question_id":76200126,"body_markdown":"I have a two simple questions:\r\n\r\n1. Is there a functionality to have more than one @Transactional method in single bean? If I use them in another bean and execute them one by one, will they work in proper way?\r\n\r\n```\r\n\r\nclass A {\r\n @Transactional\r\n public void actionA() {}\r\n\r\n @Trancational\r\n public void actionB() {}\r\n}\r\n\r\nclass B {\r\n\r\n private A a;\r\n\r\n void doSomeStuff() {\r\n   a.actionA();\r\n   a.actionB();\r\n }\r\n}\r\n```\r\n\r\n2. Does bean class has to be public if contains @Transactional? I know that methods must be public but whole class too?\r\n\r\nSorry, if another thread exists, but I could not find","title":"Spring: Can single class have multiple @Transactional method","body":"<p>I have a two simple questions:</p>\n<ol>\n<li>Is there a functionality to have more than one @Transactional method in single bean? If I use them in another bean and execute them one by one, will they work in proper way?</li>\n</ol>\n<pre><code>\nclass A {\n @Transactional\n public void actionA() {}\n\n @Trancational\n public void actionB() {}\n}\n\nclass B {\n\n private A a;\n\n void doSomeStuff() {\n   a.actionA();\n   a.actionB();\n }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Does bean class has to be public if contains @Transactional? I know that methods must be public but whole class too?</li>\n</ol>\n<p>Sorry, if another thread exists, but I could not find</p>\n"},{"tags":["java","spring-security","spring-graphql"],"owner":{"account_id":25748579,"reputation":45,"user_id":19501464,"display_name":"Sebastian L&#252;tge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683615871,"creation_date":1683554973,"question_id":76201401,"body_markdown":"I have a Vaadin view that shows `News` entries:\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic class NewsView extends VerticalLayout\r\n    private final NewsService service;\r\n\r\n    protected void onAttach(final AttachEvent attachEvent) {\r\n        if (attachEvent.isInitialAttach()) {\r\n            service.getNews().subscribe(result -&gt; addNewsEntries(attachEvent.getUI(), result));\r\n        }\r\n    }\r\n\r\n    private void addNewsEntries(final UI ui, final List&lt;News&gt; result) {\r\n        // This takes the DTOs, creates Vaadin components for each and adds them to the page.\r\n        ui.access(() -&gt; result.stream().map(NewsEntry::new).forEach(this::add));\r\n    }\r\n}\r\n```\r\nThe service is quite simple, it defines the GraphQL query and sends it on to the `GraphQlService`:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class NewsService {\r\n    private final GraphQlService graphQlService;\r\n\r\n    public Mono&lt;List&lt;News&gt;&gt; getNews() {\r\n        final String query = &quot;&quot;&quot;\r\n            query NewsQuery {\r\n                publishedNews {\r\n                    id\r\n                    author\r\n                    publishingDate\r\n                    children {\r\n                        language\r\n                        text\r\n                    }\r\n                }\r\n            }&quot;&quot;&quot;;\r\n\r\n        return graphQlService.queryList(query, Map.of(), &quot;publishedNews&quot;, News.class);\r\n    }\r\n}\r\n```\r\nWhich in turn uses a Spring `HttpGraphQlClient` to send the actual POST request:\r\n\r\n```\r\n@Service\r\npublic class GraphQlService {\r\n    private final HttpGraphQlClient client;\r\n\r\n    public GraphQlService(final WebClient.Builder webClientBuilder, final ClientRegistrationRepository clientRegistrationRepository,\r\n        final OAuth2AuthorizedClientRepository authorizedClientRepository, final @Value(&quot;${baseUrl}&quot;) String baseUrl) {\r\n        final var oauth2Client = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository,\r\nauthorizedClientRepository);\r\n        webClientBuilder.apply(oauth2Client.oauth2Configuration())\r\n            .defaultRequest(request -&gt; request.attributes(clientRegistrationId(&quot;custom&quot;)));\r\n        client = HttpGraphQlClient.builder(webClientBuilder.build()).url(baseUrl).build();\r\n    }\r\n\r\n    @NotNull\r\n    public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; queryList(final String query, final Map&lt;String, Object&gt; arguments, final String jsonPath, final Class&lt;T&gt; typeRef) {\r\n        return client.document(query).variables(arguments).retrieve(jsonPath).toEntityList(typeRef);\r\n    }\r\n}\r\n```\r\nUsers are authenticated via Spring Web Security and our Spring OAuth2 Authentication Server. This creates a `SecurityContext`, which is used to handle view access. The backend GraphQL service is implemented as a resource server and uses the granted access token for authentication. This works well, even requesting new access tokens works out of the box.\r\nThe problem starts, when the refresh token expires. In that case, the default error handler removes the stored authentication from the `OAuth2AuthorizedClientRepository`, causing an `OAuth2AuthorizationException`, which gets wrapped in a `GraphQlTransportException`. Any subsequent request will cause a `ClientAuthorizationRequiredException` (again wrapped in a `GraphQlTransportException`). But the Spring `SecurityContext` handling the normal application security is NOT cleared. So views remain accessible, but no data can be loaded. To fix this issue a user has to log out and back in again, getting a new refresh token.\r\n\r\nI tried a custom `RemoveAuthorizedClientOAuth2AuthorizationFailureHandler` which manually cleared the `SecurityContext`, but this did not help. I also tried manually unwrapping the exception, but the `OAuth2AuthorizationRequestRedirectFilter` still did not pick up on it (and the default implementation should already check the base cause anyway...).\r\n\r\nIdeally, the user would be automatically logged out once their refresh token expires. This forces them to login again, netting them a new refresh token.","title":"How to handle expired refresh tokens during GraphQL request","body":"<p>I have a Vaadin view that shows <code>News</code> entries:</p>\n<pre><code>@RequiredArgsConstructor\npublic class NewsView extends VerticalLayout\n    private final NewsService service;\n\n    protected void onAttach(final AttachEvent attachEvent) {\n        if (attachEvent.isInitialAttach()) {\n            service.getNews().subscribe(result -&gt; addNewsEntries(attachEvent.getUI(), result));\n        }\n    }\n\n    private void addNewsEntries(final UI ui, final List&lt;News&gt; result) {\n        // This takes the DTOs, creates Vaadin components for each and adds them to the page.\n        ui.access(() -&gt; result.stream().map(NewsEntry::new).forEach(this::add));\n    }\n}\n</code></pre>\n<p>The service is quite simple, it defines the GraphQL query and sends it on to the <code>GraphQlService</code>:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class NewsService {\n    private final GraphQlService graphQlService;\n\n    public Mono&lt;List&lt;News&gt;&gt; getNews() {\n        final String query = &quot;&quot;&quot;\n            query NewsQuery {\n                publishedNews {\n                    id\n                    author\n                    publishingDate\n                    children {\n                        language\n                        text\n                    }\n                }\n            }&quot;&quot;&quot;;\n\n        return graphQlService.queryList(query, Map.of(), &quot;publishedNews&quot;, News.class);\n    }\n}\n</code></pre>\n<p>Which in turn uses a Spring <code>HttpGraphQlClient</code> to send the actual POST request:</p>\n<pre><code>@Service\npublic class GraphQlService {\n    private final HttpGraphQlClient client;\n\n    public GraphQlService(final WebClient.Builder webClientBuilder, final ClientRegistrationRepository clientRegistrationRepository,\n        final OAuth2AuthorizedClientRepository authorizedClientRepository, final @Value(&quot;${baseUrl}&quot;) String baseUrl) {\n        final var oauth2Client = new ServletOAuth2AuthorizedClientExchangeFilterFunction(clientRegistrationRepository,\nauthorizedClientRepository);\n        webClientBuilder.apply(oauth2Client.oauth2Configuration())\n            .defaultRequest(request -&gt; request.attributes(clientRegistrationId(&quot;custom&quot;)));\n        client = HttpGraphQlClient.builder(webClientBuilder.build()).url(baseUrl).build();\n    }\n\n    @NotNull\n    public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; queryList(final String query, final Map&lt;String, Object&gt; arguments, final String jsonPath, final Class&lt;T&gt; typeRef) {\n        return client.document(query).variables(arguments).retrieve(jsonPath).toEntityList(typeRef);\n    }\n}\n</code></pre>\n<p>Users are authenticated via Spring Web Security and our Spring OAuth2 Authentication Server. This creates a <code>SecurityContext</code>, which is used to handle view access. The backend GraphQL service is implemented as a resource server and uses the granted access token for authentication. This works well, even requesting new access tokens works out of the box.\nThe problem starts, when the refresh token expires. In that case, the default error handler removes the stored authentication from the <code>OAuth2AuthorizedClientRepository</code>, causing an <code>OAuth2AuthorizationException</code>, which gets wrapped in a <code>GraphQlTransportException</code>. Any subsequent request will cause a <code>ClientAuthorizationRequiredException</code> (again wrapped in a <code>GraphQlTransportException</code>). But the Spring <code>SecurityContext</code> handling the normal application security is NOT cleared. So views remain accessible, but no data can be loaded. To fix this issue a user has to log out and back in again, getting a new refresh token.</p>\n<p>I tried a custom <code>RemoveAuthorizedClientOAuth2AuthorizationFailureHandler</code> which manually cleared the <code>SecurityContext</code>, but this did not help. I also tried manually unwrapping the exception, but the <code>OAuth2AuthorizationRequestRedirectFilter</code> still did not pick up on it (and the default implementation should already check the base cause anyway...).</p>\n<p>Ideally, the user would be automatically logged out once their refresh token expires. This forces them to login again, netting them a new refresh token.</p>\n"},{"tags":["java","android","mobile","mobile-development"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683211817,"post_id":76174448,"comment_id":134334942,"body_markdown":"You have two problems. One for assets resource for which you dont need any permission. And one for file storage. Please dont mix them. Make two posts. One for each. For both post the code too.","body":"You have two problems. One for assets resource for which you dont need any permission. And one for file storage. Please dont mix them. Make two posts. One for each. For both post the code too."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1683211956,"post_id":76174448,"comment_id":134334966,"body_markdown":"And there is no such thing as getFileExternalStorage().","body":"And there is no such thing as getFileExternalStorage()."}],"owner":{"account_id":24198507,"reputation":23,"user_id":18156649,"display_name":"amine ech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683615781,"creation_date":1683211347,"question_id":76174448,"body_markdown":"I can not acces excel (.xlsx) file neither from assets folder via AssetManager nor Internal storage via getFileExternalStorage() method, it display a permissions issue\r\n\r\nBut without success, Any help would be appreciated ! \r\n\r\nI added the 2 lines:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nI tried even adding methods to ask for permissions at Run Time because I use more than 23 in API version","title":"I can not acces excel (.xlsx) file neither from assets folder via AssetManager nor Internal storage via getFileExternalStorage() method","body":"<p>I can not acces excel (.xlsx) file neither from assets folder via AssetManager nor Internal storage via getFileExternalStorage() method, it display a permissions issue</p>\n<p>But without success, Any help would be appreciated !</p>\n<p>I added the 2 lines:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>I tried even adding methods to ask for permissions at Run Time because I use more than 23 in API version</p>\n"},{"tags":["java","android"],"owner":{"account_id":28542232,"reputation":1,"user_id":21848144,"display_name":"Praveen "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683615759,"creation_date":1683520712,"question_id":76197543,"body_markdown":"upto android 12 bluetooth headset profile connected state is working. when in android 13 its not detecting in connected state once i disconnect and connected it shows bluetooth state but in already connected bluetooth in mobile is not getting bluetooth state.\r\n\r\nbelow code working perfectely upto android 12 but not working for 13. below code works only when bluetooth headphone once connected but not detecting already connected devices.\r\n\r\n```\r\npublic class HeadsetStateBroadcastReceiver extends BroadcastReceiver  {\r\n\r\n    public static final String[] HEADPHONE_ACTIONS = {\r\n            Intent.ACTION_HEADSET_PLUG,\r\n            &quot;android.bluetooth.headset.action.STATE_CHANGED&quot;,\r\n            &quot;android.bluetooth.headset.profile.action.CONNECTION_STATE_CHANGED&quot;\r\n    };\r\n    private boolean isaudiostatechanged = false;\r\n    private Headphone_Connection headphoneConnection;\r\n    private static final int STATE_CONNECTED = 0x00000002;\r\n    private static final int STATE_DISCONNECTED = 0x00000000;\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n        String action = intent.getAction(); \r\n\r\n\r\n        // Wired headset monitoring\r\n\r\n        if (action.equals(HEADPHONE_ACTIONS[0])) {\r\n            int state = intent.getIntExtra(&quot;state&quot;, -1);\r\n\r\n            if (state == 1) {\r\n\r\n                int microphone = intent.getIntExtra(&quot;microphone&quot;, -1);\r\n                if (microphone == 1) {\r\n                    headphoneConnection.onSuccess(true);\r\n                    // Wired headset with microphone is connected\r\n                } else {\r\n                    headphoneConnection.onSuccess(true);\r\n                    // Wired headset without microphone is connected\r\n                }\r\n            } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\r\n                // Bluetooth headset is connected\r\n                Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\r\n                headphoneConnection.onSuccess(true);\r\n            } else {\r\n                headphoneConnection.onSuccess(false);\r\n                // Headset is disconnected\r\n            }\r\n\r\n        } else if (action.equals(HEADPHONE_ACTIONS[1])) {\r\n            int state = intent.getIntExtra(&quot;android.bluetooth.headset.extra.STATE&quot;, 0);\r\n            if (state == STATE_CONNECTED) {\r\n                headphoneConnection.onSuccess(true);\r\n            } else if (state == STATE_DISCONNECTED) {\r\n                headphoneConnection.onSuccess(false);\r\n            }\r\n        } else if (intent.getAction().equals(HEADPHONE_ACTIONS[2])) {\r\n            int state = intent.getIntExtra(&quot;android.bluetooth.profile.extra.STATE&quot;, 0);\r\n            if (state == STATE_CONNECTED) {\r\n                headphoneConnection.onSuccess(true);\r\n            } else if (state == STATE_DISCONNECTED) {\r\n                headphoneConnection.onSuccess(false);\r\n            }\r\n        }\r\n\r\n        if (audioManager.isWiredHeadsetOn()) {\r\n            // A wired headset is connected\r\n            Log.d(&quot;Headset&quot;, &quot;Wired headset is connected&quot;);\r\n            headphoneConnection.onSuccess(true);\r\n        } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\r\n            // Bluetooth headset is connected\r\n            Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\r\n            headphoneConnection.onSuccess(true);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public void setHeadphoneConnection(Headphone_Connection headphoneConnection) {\r\n        this.headphoneConnection = headphoneConnection;\r\n    }\r\n\r\n\r\n}\r\n```","title":"detect bluetooth profile of connected state in androd 13","body":"<p>upto android 12 bluetooth headset profile connected state is working. when in android 13 its not detecting in connected state once i disconnect and connected it shows bluetooth state but in already connected bluetooth in mobile is not getting bluetooth state.</p>\n<p>below code working perfectely upto android 12 but not working for 13. below code works only when bluetooth headphone once connected but not detecting already connected devices.</p>\n<pre><code>public class HeadsetStateBroadcastReceiver extends BroadcastReceiver  {\n\n    public static final String[] HEADPHONE_ACTIONS = {\n            Intent.ACTION_HEADSET_PLUG,\n            &quot;android.bluetooth.headset.action.STATE_CHANGED&quot;,\n            &quot;android.bluetooth.headset.profile.action.CONNECTION_STATE_CHANGED&quot;\n    };\n    private boolean isaudiostatechanged = false;\n    private Headphone_Connection headphoneConnection;\n    private static final int STATE_CONNECTED = 0x00000002;\n    private static final int STATE_DISCONNECTED = 0x00000000;\n\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\n        String action = intent.getAction(); \n\n\n        // Wired headset monitoring\n\n        if (action.equals(HEADPHONE_ACTIONS[0])) {\n            int state = intent.getIntExtra(&quot;state&quot;, -1);\n\n            if (state == 1) {\n\n                int microphone = intent.getIntExtra(&quot;microphone&quot;, -1);\n                if (microphone == 1) {\n                    headphoneConnection.onSuccess(true);\n                    // Wired headset with microphone is connected\n                } else {\n                    headphoneConnection.onSuccess(true);\n                    // Wired headset without microphone is connected\n                }\n            } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\n                // Bluetooth headset is connected\n                Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\n                headphoneConnection.onSuccess(true);\n            } else {\n                headphoneConnection.onSuccess(false);\n                // Headset is disconnected\n            }\n\n        } else if (action.equals(HEADPHONE_ACTIONS[1])) {\n            int state = intent.getIntExtra(&quot;android.bluetooth.headset.extra.STATE&quot;, 0);\n            if (state == STATE_CONNECTED) {\n                headphoneConnection.onSuccess(true);\n            } else if (state == STATE_DISCONNECTED) {\n                headphoneConnection.onSuccess(false);\n            }\n        } else if (intent.getAction().equals(HEADPHONE_ACTIONS[2])) {\n            int state = intent.getIntExtra(&quot;android.bluetooth.profile.extra.STATE&quot;, 0);\n            if (state == STATE_CONNECTED) {\n                headphoneConnection.onSuccess(true);\n            } else if (state == STATE_DISCONNECTED) {\n                headphoneConnection.onSuccess(false);\n            }\n        }\n\n        if (audioManager.isWiredHeadsetOn()) {\n            // A wired headset is connected\n            Log.d(&quot;Headset&quot;, &quot;Wired headset is connected&quot;);\n            headphoneConnection.onSuccess(true);\n        } else if (audioManager.isBluetoothA2dpOn() || audioManager.isBluetoothScoOn()) {\n            // Bluetooth headset is connected\n            Log.d(&quot;Headset&quot;, &quot;Bluetooth headset is connected&quot;);\n            headphoneConnection.onSuccess(true);\n        }\n\n\n    }\n\n    public void setHeadphoneConnection(Headphone_Connection headphoneConnection) {\n        this.headphoneConnection = headphoneConnection;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","jco"],"answers":[{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1273149387,"creation_date":1273149387,"answer_id":2781097,"question_id":2780439,"body_markdown":"Instead of getting all fields of the table record and checking them against fields present in displayFields, you could take only the fields of the record that are in displayFields. \r\nThe following code suppose that displayFields is a List of String\r\n\r\n    for (int i = 0; i &lt; ouputTable.getNumRows(); i++) {\r\n       outputTable.setRow(i);\r\n       Iterator it = displayField.iterator();\r\n       // get fields of current record\r\n       while(it.hasNext()){\r\n          String fieldName = (String)it.next();\r\n          String value = outputTable.getString(fieldName);\r\n          // do what you need to do with the field and value\r\n       }\r\n    }\r\n\r\nhope this helps,   \r\nRegards,   \r\nGuillaume","title":"JCo | How to iterate column wise","body":"<p>Instead of getting all fields of the table record and checking them against fields present in displayFields, you could take only the fields of the record that are in displayFields. \nThe following code suppose that displayFields is a List of String</p>\n\n<pre><code>for (int i = 0; i &lt; ouputTable.getNumRows(); i++) {\n   outputTable.setRow(i);\n   Iterator it = displayField.iterator();\n   // get fields of current record\n   while(it.hasNext()){\n      String fieldName = (String)it.next();\n      String value = outputTable.getString(fieldName);\n      // do what you need to do with the field and value\n   }\n}\n</code></pre>\n\n<p>hope this helps,<br>\nRegards,<br>\nGuillaume</p>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2781097,"answer_count":1,"score":1,"last_activity_date":1683615517,"creation_date":1273142856,"question_id":2780439,"body_markdown":"The data from SAP is returned as a `JCo.Table`. \r\nHowever, we don&#39;t want to display ALL the columns in the VIEW.\r\nSo, what we have done is, we have created a file called `display.xml` which has the `JCO.Table` columns to be displayed.\r\n\r\nThe `display.xml` is converted to a `List&lt;DisplayFieldDto&gt;` and **each field** is verified if it is present in the display list (see the code below) which is redundant from second row onwards, as shown in the code below.\r\n\r\nWhat is the better way to filter the fields in JCo?\r\nCan I iterate column wise?\r\nThank you :)\r\n\r\n    final Table outputTable = jcoFunction.getTableParameterList().\r\n                        getTable(&quot;OUTPUT_TABLE&quot;);\r\n        final int numRows = outputTable.getNumRows();\r\n        for (int i = 0; i &lt; numRows; i++) {\t\t\t\r\n            final FieldIterator fields = outputTable.fields();\r\n            while (fields.hasNextFields()) {\r\n               final JCO.Field recordField = fields.nextField();\r\n               final String sapFieldName = recordField.getName();\r\n               final DisplayFieldDto key = new DisplayFieldDto(sapFieldName);\r\n               if (displayFields.contains(key)) {\r\n            \t   System.out.println(&quot;recordField.getName() = &quot; \r\n                              + recordField.getName());\r\n                   final String sapFieldName = (String)recordField.getValue();\t\t\r\n               } else {\r\n            \t// ignore the field.\r\n               }\r\n             }\r\n        }\r\n","title":"JCo | How to iterate column wise","body":"<p>The data from SAP is returned as a <code>JCo.Table</code>.\nHowever, we don't want to display ALL the columns in the VIEW.\nSo, what we have done is, we have created a file called <code>display.xml</code> which has the <code>JCO.Table</code> columns to be displayed.</p>\n<p>The <code>display.xml</code> is converted to a <code>List&lt;DisplayFieldDto&gt;</code> and <strong>each field</strong> is verified if it is present in the display list (see the code below) which is redundant from second row onwards, as shown in the code below.</p>\n<p>What is the better way to filter the fields in JCo?\nCan I iterate column wise?\nThank you :)</p>\n<pre><code>final Table outputTable = jcoFunction.getTableParameterList().\n                    getTable(&quot;OUTPUT_TABLE&quot;);\n    final int numRows = outputTable.getNumRows();\n    for (int i = 0; i &lt; numRows; i++) {         \n        final FieldIterator fields = outputTable.fields();\n        while (fields.hasNextFields()) {\n           final JCO.Field recordField = fields.nextField();\n           final String sapFieldName = recordField.getName();\n           final DisplayFieldDto key = new DisplayFieldDto(sapFieldName);\n           if (displayFields.contains(key)) {\n               System.out.println(&quot;recordField.getName() = &quot; \n                          + recordField.getName());\n               final String sapFieldName = (String)recordField.getValue();      \n           } else {\n            // ignore the field.\n           }\n         }\n    }\n</code></pre>\n"},{"tags":["java","properties","connection","jco"],"answers":[{"comments":[{"owner":{"account_id":146642,"reputation":87,"user_id":357206,"accept_rate":50,"display_name":"user357206"},"score":0,"creation_date":1282893632,"post_id":3524861,"comment_id":3757472,"body_markdown":"Sorry, but I don&#180;t really get it. There are so many dependencies in the package, that I have to ask, which classes are essentially for the wanted function of a single, simple connection? I already browsed through the classes, but I also don&#180;t get the purpose of the Credentials. I imagined it easier. Your implementation is for sure really great, but I wanted to build my own class and by now, I really don&#180;t know how :/","body":"Sorry, but I don&#180;t really get it. There are so many dependencies in the package, that I have to ask, which classes are essentially for the wanted function of a single, simple connection? I already browsed through the classes, but I also don&#180;t get the purpose of the Credentials. I imagined it easier. Your implementation is for sure really great, but I wanted to build my own class and by now, I really don&#180;t know how :/"},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1282929374,"post_id":3524861,"comment_id":3762695,"body_markdown":"I&#39;ve extended my answer a bit - does that help?","body":"I&#39;ve extended my answer a bit - does that help?"},{"owner":{"account_id":146642,"reputation":87,"user_id":357206,"accept_rate":50,"display_name":"user357206"},"score":0,"creation_date":1283157527,"post_id":3524861,"comment_id":3778145,"body_markdown":"Yeah, thanks, it helps, but how to replace the Connection and Credential-class? Are they fully necessary or can I implement their basic function by myself? I couldn&#180;t understand the full functionality of this two until yet :/","body":"Yeah, thanks, it helps, but how to replace the Connection and Credential-class? Are they fully necessary or can I implement their basic function by myself? I couldn&#180;t understand the full functionality of this two until yet :/"},{"owner":{"account_id":146642,"reputation":87,"user_id":357206,"accept_rate":50,"display_name":"user357206"},"score":1,"creation_date":1283246006,"post_id":3524861,"comment_id":3787905,"body_markdown":"Thanks for your patience until yet ;)\nOk, I already worked this out yesterday, so I implemented my own DestinationDataProvider with the wanted data aquisition. But now I got caught at your third point how to pass the string identifier. When I define a String, set my Destinationproperties and want to call the Destination with the String, how are the properties linked with the String. Thats the most proplematic part for me, because I always only saw examples, where this String only direct to a destinationfile with the same name.","body":"Thanks for your patience until yet ;) Ok, I already worked this out yesterday, so I implemented my own DestinationDataProvider with the wanted data aquisition. But now I got caught at your third point how to pass the string identifier. When I define a String, set my Destinationproperties and want to call the Destination with the String, how are the properties linked with the String. Thats the most proplematic part for me, because I always only saw examples, where this String only direct to a destinationfile with the same name."}],"tags":[],"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1282929355,"creation_date":1282241514,"answer_id":3524861,"question_id":3521272,"body_markdown":"Yes, that&#39;s possible. You have to create your own implementation of DestinationDataProvider and register it using Environment.registerDestinationDataProvider(). However your DDP obtains the connection data and credentials is up to you. Take a look at [net.sf.rcer.conn.connections.ConnectionManager][1], there&#39;s a working example in there.\r\n\r\nYou need to\r\n\r\n - copy the private class starting on line 66 and adapt it to your own needs (that is, fetch the connection data from wherever you want to)\r\n - perform the registration (line 204) somewhere during the startup of your application\r\n - get the connection using some string identifier that will be passed to your DestinationDataProvider.\r\n\r\n  [1]: http://rcer.svn.sourceforge.net/viewvc/rcer/trunk/net.sf.rcer.conn/src/net/sf/rcer/conn/connections/ConnectionManager.java?revision=321&amp;view=markup","title":"Building JCoServer without Properties-File","body":"<p>Yes, that's possible. You have to create your own implementation of DestinationDataProvider and register it using Environment.registerDestinationDataProvider(). However your DDP obtains the connection data and credentials is up to you. Take a look at <a href=\"http://rcer.svn.sourceforge.net/viewvc/rcer/trunk/net.sf.rcer.conn/src/net/sf/rcer/conn/connections/ConnectionManager.java?revision=321&amp;view=markup\" rel=\"nofollow noreferrer\">net.sf.rcer.conn.connections.ConnectionManager</a>, there's a working example in there.</p>\n\n<p>You need to</p>\n\n<ul>\n<li>copy the private class starting on line 66 and adapt it to your own needs (that is, fetch the connection data from wherever you want to)</li>\n<li>perform the registration (line 204) somewhere during the startup of your application</li>\n<li>get the connection using some string identifier that will be passed to your DestinationDataProvider.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":82096,"reputation":306,"user_id":231100,"display_name":"franblay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285155235,"creation_date":1285155235,"answer_id":3768774,"question_id":3521272,"body_markdown":"It&#39;s a bit confusing, it was dificult to me how to figure this too.\r\n\r\nAll you need is an object of type java.util.Properties to fill the desired fields, but it&#39;s up to ou how to fill this object.\r\n\r\nI dit it through a ValueObject, I can fill this VO from a file, database, web form...\r\n\r\n        JCOProvider jcoProvider = null;\r\n        SAPVO sap = new SAPVO(); // Value Object\r\n        Properties properties = new Properties();\r\n    \r\n        if(jcoProvider == null) {\r\n    \r\n    \r\n            // Get SAP config from DB\r\n            try {\r\n                sap = SAPDAO.getSAPConfig(); // DAO object that gets conn data from DB\r\n            } catch (Exception ex) {\r\n                throw new ConexionSAPException(ex.getMessage());\r\n            }\r\n    \r\n             // Create new conn\r\n            jcoProvider = new JCOProvider();\r\n    \r\n        }\r\n    \r\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\r\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\r\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\r\n        properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\r\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\r\n        properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\r\n    //    properties.setProperty(DestinationDataProvider.JCO_TRACE,         &quot;10&quot;);\r\n    \r\n        try {\r\n    \r\n            jcoProvider.changePropertiesForABAP_AS(properties);\r\n    \r\n        } catch (Exception e) {\r\n    \r\n            throw new ConexionSAPException(e.getMessage());\r\n    \r\n        }\r\n\r\nThe JCOProvider class:\r\n\r\n    import com.sap.conn.jco.ext.DestinationDataEventListener;\r\n    import com.sap.conn.jco.ext.DestinationDataProvider;\r\n    import com.sap.conn.jco.ext.Environment;\r\n    import es.grupotec.ejb.util.ConexionSAPException;\r\n    import java.util.Properties;\r\n    \r\n    public class JCOProvider implements DestinationDataProvider {\r\n    \r\n        private String SAP_SERVER = &quot;SAPSERVER&quot;;\r\n        private DestinationDataEventListener eventListener;\r\n        private Properties ABAP_AS_properties;\r\n    \r\n        public JCOProvider() {\r\n        }\r\n        \r\n        @Override\r\n        public Properties getDestinationProperties(String name) {\r\n    \r\n            if (name.equals(SAP_SERVER) &amp;&amp; ABAP_AS_properties != null) {\r\n                return ABAP_AS_properties;\r\n            } else {\r\n                return null;\r\n            }\r\n    //        if(ABAP_AS_properties!=null) return ABAP_AS_properties;\r\n    //        else throw new RuntimeException(&quot;Destination &quot; + name + &quot; is not available&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean supportsEvents() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\r\n            this.eventListener = eventListener;\r\n        }\r\n    \r\n        public void changePropertiesForABAP_AS(Properties properties) throws ConexionSAPException {\r\n    \r\n            try {\r\n    \r\n                if (!Environment.isDestinationDataProviderRegistered()) {\r\n    \r\n                    if (ABAP_AS_properties == null) {\r\n                        ABAP_AS_properties = properties;\r\n                    }\r\n                    Environment.registerDestinationDataProvider(this);\r\n    \r\n                }\r\n    \r\n                if (properties == null) {\r\n    \r\n                    if (eventListener != null) {\r\n                        eventListener.deleted(SAP_SERVER);\r\n                    }\r\n                    ABAP_AS_properties = null;\r\n    \r\n                } else {\r\n    \r\n                    ABAP_AS_properties = properties;\r\n                    if (eventListener != null) {\r\n                        eventListener.updated(SAP_SERVER);\r\n                    }\r\n    \r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n    \r\n                throw new ConexionSAPException(ex.getMessage());\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nRegards\r\n\r\n\r\n","title":"Building JCoServer without Properties-File","body":"<p>It's a bit confusing, it was dificult to me how to figure this too.</p>\n\n<p>All you need is an object of type java.util.Properties to fill the desired fields, but it's up to ou how to fill this object.</p>\n\n<p>I dit it through a ValueObject, I can fill this VO from a file, database, web form...</p>\n\n<pre><code>    JCOProvider jcoProvider = null;\n    SAPVO sap = new SAPVO(); // Value Object\n    Properties properties = new Properties();\n\n    if(jcoProvider == null) {\n\n\n        // Get SAP config from DB\n        try {\n            sap = SAPDAO.getSAPConfig(); // DAO object that gets conn data from DB\n        } catch (Exception ex) {\n            throw new ConexionSAPException(ex.getMessage());\n        }\n\n         // Create new conn\n        jcoProvider = new JCOProvider();\n\n    }\n\n    properties.setProperty(DestinationDataProvider.JCO_ASHOST,        sap.getJCO_ASHOST());\n    properties.setProperty(DestinationDataProvider.JCO_SYSNR,         sap.getJCO_SYSNR());\n    properties.setProperty(DestinationDataProvider.JCO_CLIENT,        sap.getJCO_CLIENT());\n    properties.setProperty(DestinationDataProvider.JCO_USER,          sap.getJCO_USER());\n    properties.setProperty(DestinationDataProvider.JCO_PASSWD,        sap.getJCO_PASSWD());\n    properties.setProperty(DestinationDataProvider.JCO_LANG,          sap.getJCO_LANG());\n//    properties.setProperty(DestinationDataProvider.JCO_TRACE,         \"10\");\n\n    try {\n\n        jcoProvider.changePropertiesForABAP_AS(properties);\n\n    } catch (Exception e) {\n\n        throw new ConexionSAPException(e.getMessage());\n\n    }\n</code></pre>\n\n<p>The JCOProvider class:</p>\n\n<pre><code>import com.sap.conn.jco.ext.DestinationDataEventListener;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\nimport com.sap.conn.jco.ext.Environment;\nimport es.grupotec.ejb.util.ConexionSAPException;\nimport java.util.Properties;\n\npublic class JCOProvider implements DestinationDataProvider {\n\n    private String SAP_SERVER = \"SAPSERVER\";\n    private DestinationDataEventListener eventListener;\n    private Properties ABAP_AS_properties;\n\n    public JCOProvider() {\n    }\n\n    @Override\n    public Properties getDestinationProperties(String name) {\n\n        if (name.equals(SAP_SERVER) &amp;&amp; ABAP_AS_properties != null) {\n            return ABAP_AS_properties;\n        } else {\n            return null;\n        }\n//        if(ABAP_AS_properties!=null) return ABAP_AS_properties;\n//        else throw new RuntimeException(\"Destination \" + name + \" is not available\");\n\n    }\n\n    @Override\n    public boolean supportsEvents() {\n        return true;\n    }\n\n    @Override\n    public void setDestinationDataEventListener(DestinationDataEventListener eventListener) {\n        this.eventListener = eventListener;\n    }\n\n    public void changePropertiesForABAP_AS(Properties properties) throws ConexionSAPException {\n\n        try {\n\n            if (!Environment.isDestinationDataProviderRegistered()) {\n\n                if (ABAP_AS_properties == null) {\n                    ABAP_AS_properties = properties;\n                }\n                Environment.registerDestinationDataProvider(this);\n\n            }\n\n            if (properties == null) {\n\n                if (eventListener != null) {\n                    eventListener.deleted(SAP_SERVER);\n                }\n                ABAP_AS_properties = null;\n\n            } else {\n\n                ABAP_AS_properties = properties;\n                if (eventListener != null) {\n                    eventListener.updated(SAP_SERVER);\n                }\n\n            }\n\n        } catch (Exception ex) {\n\n            throw new ConexionSAPException(ex.getMessage());\n\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"}],"owner":{"account_id":146642,"reputation":87,"user_id":357206,"accept_rate":50,"display_name":"user357206"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3524861,"answer_count":2,"score":1,"last_activity_date":1683615421,"creation_date":1282217418,"question_id":3521272,"body_markdown":"With JCo you can easily build up a connection like it is explained in the example sheets which came with the JCo library. Unfortunately, the only way building a connection is handled with a created property file. It wouldn&#180;t be that bad, if there wasn&#180;t any sensible data in it. But at least, the password for the SAP user stands in the file, so it is a lack of safety in this way of connection-handling. The manual of JCo says so, too :\r\n\r\n&gt; *For this example the destination configuration is stored in a file that is called by the program. In practice you should avoid this for security reasons.*\r\n\r\nbut couldn&#180;t find a working solution after all. There are a palmful threads about this theme, like this\r\n\r\nhttp://forums.sdn.sap.com/thread.jspa?messageID=7303957\r\n\r\nbut none of them are helpful. I really can&#180;t figure out a solution and neither find one. Actually I solved the security-problem with deleting the file after building the connection, but this is not a satisfying solution. There is to be a better way getting the parameter for the connection, especially when it stands in the manual, but I have no clue how.\r\n\r\nDid anybody already work with JCo 3.0 and know this problem?","title":"Building JCoServer without Properties-File","body":"<p>With JCo you can easily build up a connection like it is explained in the example sheets which came with the JCo library. Unfortunately, the only way building a connection is handled with a created property file. It wouldn´t be that bad, if there wasn´t any sensible data in it. But at least, the password for the SAP user stands in the file, so it is a lack of safety in this way of connection-handling. The manual of JCo says so, too :</p>\n<blockquote>\n<p><em>For this example the destination configuration is stored in a file that is called by the program. In practice you should avoid this for security reasons.</em></p>\n</blockquote>\n<p>but couldn´t find a working solution after all. There are a palmful threads about this theme, like this</p>\n<p><a href=\"http://forums.sdn.sap.com/thread.jspa?messageID=7303957\" rel=\"nofollow noreferrer\">http://forums.sdn.sap.com/thread.jspa?messageID=7303957</a></p>\n<p>but none of them are helpful. I really can´t figure out a solution and neither find one. Actually I solved the security-problem with deleting the file after building the connection, but this is not a satisfying solution. There is to be a better way getting the parameter for the connection, especially when it stands in the manual, but I have no clue how.</p>\n<p>Did anybody already work with JCo 3.0 and know this problem?</p>\n"},{"tags":["java","junit","mocking","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":1,"creation_date":1288896995,"post_id":4098799,"comment_id":4412629,"body_markdown":"Which JCo version? There are huge differences between 2 and 3!","body":"Which JCo version? There are huge differences between 2 and 3!"},{"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"score":0,"creation_date":1294907843,"post_id":4098799,"comment_id":5157166,"body_markdown":"we&#39;re using sap-jco version 3.0.0","body":"we&#39;re using sap-jco version 3.0.0"},{"owner":{"account_id":200488,"reputation":2393,"user_id":446368,"accept_rate":49,"display_name":"Mejmo"},"score":0,"creation_date":1413191436,"post_id":4098799,"comment_id":41335780,"body_markdown":"Have you resolved this?","body":"Have you resolved this?"}],"answers":[{"comments":[{"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"score":0,"creation_date":1288888441,"post_id":4098861,"comment_id":4411000,"body_markdown":"Here it says that it&#39;s a class: http://www.huihoo.org/openweb/jco_api/com/sap/mw/jco/JCO.ParameterList.html","body":"Here it says that it&#39;s a class: <a href=\"http://www.huihoo.org/openweb/jco_api/com/sap/mw/jco/JCO.ParameterList.html\" rel=\"nofollow noreferrer\">huihoo.org/openweb/jco_api/com/sap/mw/jco/&hellip;</a>"},{"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"score":0,"creation_date":1288888508,"post_id":4098861,"comment_id":4411024,"body_markdown":"will look into that BUT for now i&#39;m talking about com.sap.conn.jco.JCoParameterList","body":"will look into that BUT for now i&#39;m talking about com.sap.conn.jco.JCoParameterList"},{"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"score":0,"creation_date":1288889576,"post_id":4098861,"comment_id":4411251,"body_markdown":"Where&#39;s the javadoc? Is it publically accessible?","body":"Where&#39;s the javadoc? Is it publically accessible?"},{"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"score":0,"creation_date":1288890691,"post_id":4098861,"comment_id":4411497,"body_markdown":"apparently not. i&#39;m gonna have to ask my boss to get a &quot;SAP Service Marketplace&quot; account. meanwhile, if anybody else already did something like this, it&#39;d be nice to give it a look.","body":"apparently not. i&#39;m gonna have to ask my boss to get a &quot;SAP Service Marketplace&quot; account. meanwhile, if anybody else already did something like this, it&#39;d be nice to give it a look."},{"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"score":0,"creation_date":1433884170,"post_id":4098861,"comment_id":49541559,"body_markdown":"@NidaSahar not working on this in a long time. sorry.","body":"@NidaSahar not working on this in a long time. sorry."}],"tags":[],"owner":{"account_id":229412,"reputation":45082,"user_id":492364,"accept_rate":82,"display_name":"thejh"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288888094,"creation_date":1288888094,"answer_id":4098861,"question_id":4098799,"body_markdown":"Why not this?\r\n\r\n    new JCO.ParameterList()","title":"SAP Java Connector (JCo) mocking/testing JCoFunction and/or JCoParameterList","body":"<p>Why not this?</p>\n\n<pre><code>new JCO.ParameterList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186851,"reputation":176,"user_id":424485,"accept_rate":100,"display_name":"Thiago Kronig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317846545,"creation_date":1317846545,"answer_id":7667329,"question_id":4098799,"body_markdown":"&gt;The SAP Java Connector (SAP JCo) is a toolkit that allows a Java application to communicate with any SAP System.\r\n\r\nThese guys here tried to do the same, using the 3.0 version of the SAP JCo: \r\n[Can a JCo server simulate a SAP remote function?][1]\r\n\r\nMy experience from last week is that it is not possible to create a mock SAP server to act like a `JCoDestination`.\r\n\r\n  [1]: http://forums.sdn.sap.com/thread.jspa?threadID=1646972","title":"SAP Java Connector (JCo) mocking/testing JCoFunction and/or JCoParameterList","body":"<blockquote>\n  <p>The SAP Java Connector (SAP JCo) is a toolkit that allows a Java application to communicate with any SAP System.</p>\n</blockquote>\n\n<p>These guys here tried to do the same, using the 3.0 version of the SAP JCo: \n<a href=\"http://forums.sdn.sap.com/thread.jspa?threadID=1646972\" rel=\"nofollow\">Can a JCo server simulate a SAP remote function?</a></p>\n\n<p>My experience from last week is that it is not possible to create a mock SAP server to act like a <code>JCoDestination</code>.</p>\n"}],"owner":{"account_id":232512,"reputation":3644,"user_id":497398,"accept_rate":41,"display_name":"mfirry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683615233,"creation_date":1288887736,"question_id":4098799,"body_markdown":"I need to test a module without actually calling our SAP provider via executing a &quot;real&quot; `JCoFunction`.\r\n\r\nHow do I instantiate a &quot;formally correct&quot; `JCoFunction`?\r\n\r\nI can even just deal with a `JCoParameterList` but just can&#39;t figure out how to instantiate it or even mock it.","title":"SAP Java Connector (JCo) mocking/testing JCoFunction and/or JCoParameterList","body":"<p>I need to test a module without actually calling our SAP provider via executing a &quot;real&quot; <code>JCoFunction</code>.</p>\n<p>How do I instantiate a &quot;formally correct&quot; <code>JCoFunction</code>?</p>\n<p>I can even just deal with a <code>JCoParameterList</code> but just can't figure out how to instantiate it or even mock it.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":3809217,"reputation":317,"user_id":3160696,"display_name":"Gustavo Gomes"},"score":0,"creation_date":1521125563,"post_id":49302552,"comment_id":85607043,"body_markdown":"What do you mean it started to work with Kotlin? It has Kotlin files or are you able to create Kotlin files? If it is the latter then you&#39;re all good, you just need to create Java classes (Kotlin is 100% inter-operable so you can still do it in Java).","body":"What do you mean it started to work with Kotlin? It has Kotlin files or are you able to create Kotlin files? If it is the latter then you&#39;re all good, you just need to create Java classes (Kotlin is 100% inter-operable so you can still do it in Java)."},{"owner":{"account_id":5641500,"reputation":86702,"user_id":4465208,"accept_rate":86,"display_name":"zsmb13"},"score":1,"creation_date":1521125580,"post_id":49302552,"comment_id":85607058,"body_markdown":"You can still use Java for your projects. Just pay attention when creating them to not check &quot;Include Kotlin support&quot;. Then the generated default files will be in Java.","body":"You can still use Java for your projects. Just pay attention when creating them to not check &quot;Include Kotlin support&quot;. Then the generated default files will be in Java."},{"owner":{"account_id":12793539,"reputation":215,"user_id":9257308,"display_name":"Alia Al-Nighaoui"},"score":0,"creation_date":1521192126,"post_id":49302552,"comment_id":85635283,"body_markdown":"when I try to create a simple method like public void onclick (View view), it shows errors , but when I write  &#39; fun&#39; it works. even when I want to declare something in java code it shows error but when used Kotlin declaration it worked","body":"when I try to create a simple method like public void onclick (View view), it shows errors , but when I write  &#39; fun&#39; it works. even when I want to declare something in java code it shows error but when used Kotlin declaration it worked"}],"answers":[{"tags":[],"owner":{"account_id":11878042,"reputation":564,"user_id":8692550,"display_name":"Aleksandar Mironov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1521126305,"creation_date":1521126305,"answer_id":49302910,"question_id":49302552,"body_markdown":"If I understand your problem correctly, when you create new project you have to uncheck &quot;Include Kotlin support&quot; checkbox at the bottom of &quot;Create new project&quot; window.\r\nAnd remember that you can create java classes in Kotlin project.","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>If I understand your problem correctly, when you create new project you have to uncheck \"Include Kotlin support\" checkbox at the bottom of \"Create new project\" window.\nAnd remember that you can create java classes in Kotlin project.</p>\n"},{"comments":[{"owner":{"account_id":12793539,"reputation":215,"user_id":9257308,"display_name":"Alia Al-Nighaoui"},"score":0,"creation_date":1521192340,"post_id":49305775,"comment_id":85635415,"body_markdown":"This answer works , and as @Aleksandar said I can just uncheck &quot;Include Kotlin support&quot; when creating the project","body":"This answer works , and as @Aleksandar said I can just uncheck &quot;Include Kotlin support&quot; when creating the project"},{"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"score":0,"creation_date":1521197115,"post_id":49305775,"comment_id":85638650,"body_markdown":"You can use this approach after setup a project.","body":"You can use this approach after setup a project."}],"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521135058,"creation_date":1521135058,"answer_id":49305775,"question_id":49302552,"body_markdown":"If you would like disable Kotlin in your project you should delete `MainActivity.kt` and remove next lines \r\n\r\nbuild.gradle(Project)\r\n\r\n    //classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;kotlin_version&gt;&quot;\r\n\r\nbuild.gradle(App)\r\n\r\n    //apply plugin: &#39;kotlin-android&#39;\r\n    //apply plugin: &#39;kotlin-android-extensions&#39;\r\n\r\n\r\n    dependencies {\r\n        ...\r\n        //implementation&quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:&lt;kotlin_version&gt;&quot;\r\n    }","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>If you would like disable Kotlin in your project you should delete <code>MainActivity.kt</code> and remove next lines </p>\n\n<p>build.gradle(Project)</p>\n\n<pre><code>//classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;kotlin_version&gt;\"\n</code></pre>\n\n<p>build.gradle(App)</p>\n\n<pre><code>//apply plugin: 'kotlin-android'\n//apply plugin: 'kotlin-android-extensions'\n\n\ndependencies {\n    ...\n    //implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:&lt;kotlin_version&gt;\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1438449,"reputation":813,"user_id":1359304,"display_name":"Elad Lavi"},"score":5,"creation_date":1682920934,"post_id":74762679,"comment_id":134284514,"body_markdown":"This answer is incorrect because it misses the point of the question of the author.\nThe author upgraded the Android Studio to a later version than in this answer and in the new version he can&#39;t see Java because Android Studio removed it for &quot;Empty Activity&quot;. If you choose &quot;No Activity&quot; (the first option, top left), then you can choose between Java and Kotlin.\nHopefully Android Studio will change it back in future version because many people want Java and this change is aggressive.","body":"This answer is incorrect because it misses the point of the question of the author. The author upgraded the Android Studio to a later version than in this answer and in the new version he can&#39;t see Java because Android Studio removed it for &quot;Empty Activity&quot;. If you choose &quot;No Activity&quot; (the first option, top left), then you can choose between Java and Kotlin. Hopefully Android Studio will change it back in future version because many people want Java and this change is aggressive."},{"owner":{"account_id":1723697,"reputation":4014,"user_id":1578867,"accept_rate":86,"display_name":"auspicious99"},"score":0,"creation_date":1695986017,"post_id":74762679,"comment_id":136099250,"body_markdown":"This option doesn&#39;t exist in recent versions of Android Studio.","body":"This option doesn&#39;t exist in recent versions of Android Studio."}],"tags":[],"owner":{"account_id":19710293,"reputation":19,"user_id":14430989,"display_name":"Ddhruv"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670777245,"creation_date":1670777245,"answer_id":74762679,"question_id":49302552,"body_markdown":"I understand the problem, it&#39;s simple, we are just missing the option to change the language while creating a new app. Just change the language to Java from kotlin.\r\n\r\nI am sharing the steps for the same (currently using android studio chipmunk)\r\n\r\n**Step 1:** Select New project from the menu\r\n[![New App][1]][1]\r\n\r\n\r\n**Step 2:** Select the main Activity Type\r\n[![Select activity type][2]][2]\r\n\r\n\r\n**Step 3:** Find the option to change the language\r\n[![update lang to JAVA][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/auBEg.jpg\r\n  [2]: https://i.stack.imgur.com/Wm32Y.jpg\r\n  [3]: https://i.stack.imgur.com/dC5RO.jpg","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>I understand the problem, it's simple, we are just missing the option to change the language while creating a new app. Just change the language to Java from kotlin.</p>\n<p>I am sharing the steps for the same (currently using android studio chipmunk)</p>\n<p><strong>Step 1:</strong> Select New project from the menu\n<a href=\"https://i.stack.imgur.com/auBEg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auBEg.jpg\" alt=\"New App\" /></a></p>\n<p><strong>Step 2:</strong> Select the main Activity Type\n<a href=\"https://i.stack.imgur.com/Wm32Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wm32Y.jpg\" alt=\"Select activity type\" /></a></p>\n<p><strong>Step 3:</strong> Find the option to change the language\n<a href=\"https://i.stack.imgur.com/dC5RO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dC5RO.jpg\" alt=\"update lang to JAVA\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1438449,"reputation":813,"user_id":1359304,"display_name":"Elad Lavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1682925041,"creation_date":1682925041,"answer_id":76145273,"question_id":49302552,"body_markdown":"In the new version of Android Studio, instead of choosing &quot;Empty Activity&quot; as usual, choose &quot;Empty Views Activity&quot;.\r\nAndroid Studio removed Java support in &quot;Empty Activity&quot;.\r\n\r\nOther answers are irrelevant because they explain how to choose Java for the previous versions where it was obvious anyway.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7gpy.png\r\n\r\n\r\nside personal notes:  \r\nThis behavior is not typical to Google and is very surprising and aggressive.\r\nIt becomes dangerous to upgrade versions these days.\r\nPeople love Java and are use to it.\r\nIt is great that Kotlin support was added but yet Java is powerful amazing programming language that will stay forever.\r\nI use Java also for server side and for desktop applications so it is convenient to use same programming language for multiple platforms.\r\nAndroid Studio doesn&#39;t even explain the change clearly.","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>In the new version of Android Studio, instead of choosing &quot;Empty Activity&quot; as usual, choose &quot;Empty Views Activity&quot;.\nAndroid Studio removed Java support in &quot;Empty Activity&quot;.</p>\n<p>Other answers are irrelevant because they explain how to choose Java for the previous versions where it was obvious anyway.</p>\n<p><a href=\"https://i.stack.imgur.com/t7gpy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/t7gpy.png\" alt=\"enter image description here\" /></a></p>\n<p>side personal notes:<br />\nThis behavior is not typical to Google and is very surprising and aggressive.\nIt becomes dangerous to upgrade versions these days.\nPeople love Java and are use to it.\nIt is great that Kotlin support was added but yet Java is powerful amazing programming language that will stay forever.\nI use Java also for server side and for desktop applications so it is convenient to use same programming language for multiple platforms.\nAndroid Studio doesn't even explain the change clearly.</p>\n"}],"owner":{"account_id":12793539,"reputation":215,"user_id":9257308,"display_name":"Alia Al-Nighaoui"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20489,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":49302910,"answer_count":4,"score":16,"last_activity_date":1683615188,"creation_date":1521125342,"question_id":49302552,"body_markdown":"my android studio started working with kotlin and not java after the last update. \r\nI have a university project that I need to deliver soon and we only learned coding with java, can anyone please help me find a way to return it to java \r\nthanks a lot ","title":"make Android Studio Work with Java and not Kotlin?","body":"<p>my android studio started working with kotlin and not java after the last update. \nI have a university project that I need to deliver soon and we only learned coding with java, can anyone please help me find a way to return it to java \nthanks a lot </p>\n"},{"tags":["java","spring-integration","jsch","spring-integration-sftp"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1683639355,"post_id":76204696,"comment_id":134395038,"body_markdown":"The fact that you see `SSH-2.0-JSCH-0.1.54` might be just because the library didn&#39;t update that string in the code. It look like you use a gateway somewhere downstream where a reply is not expected. So, this gateway is stuck waiting for reply therefore blocking the thread. I also see `Caught an exception, leaving main loop due to Socket closed` - would be great to have more info around that error.","body":"The fact that you see <code>SSH-2.0-JSCH-0.1.54</code> might be just because the library didn&#39;t update that string in the code. It look like you use a gateway somewhere downstream where a reply is not expected. So, this gateway is stuck waiting for reply therefore blocking the thread. I also see <code>Caught an exception, leaving main loop due to Socket closed</code> - would be great to have more info around that error."},{"owner":{"account_id":15695377,"reputation":25,"user_id":11325128,"display_name":"lavin249"},"score":0,"creation_date":1683645802,"post_id":76204696,"comment_id":134396753,"body_markdown":"Thank you @ArtemBilan for your prompt response. Indeed there is a functionality where we have used MessagingGateway thats for moving file from one folder to another based on the status of processing. Artem, just to highlight that I see `Caught an exception, leaving main loop due to Socket closed` regularly in the logs and I thought that its a part of regular JSch flow so it won&#39;t cause application freeze. But since you have pointed it out. I will look into it.","body":"Thank you @ArtemBilan for your prompt response. Indeed there is a functionality where we have used MessagingGateway thats for moving file from one folder to another based on the status of processing. Artem, just to highlight that I see <code>Caught an exception, leaving main loop due to Socket closed</code> regularly in the logs and I thought that its a part of regular JSch flow so it won&#39;t cause application freeze. But since you have pointed it out. I will look into it."}],"owner":{"account_id":15695377,"reputation":25,"user_id":11325128,"display_name":"lavin249"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683615172,"creation_date":1683583971,"question_id":76204696,"body_markdown":"I have an application which uses spring integration to poll the sftp and once it finds new file thats when spring batch kicks-in and processes the file. I have five such jobs written in an application which polls sftp (attached the code snippet of configuration of one module). I checked the JVM process is running on EC2 instance. There was no anomaly in the cpu usage I have also attached the application logs and the sftp logs of the server.\r\n\r\nHere&#39;s sequence of events (All events in UTC timezone &amp; date is 2023-05-08)\r\n\r\n1. Client uploaded file on SFTP at 00:28:00\r\n\r\n2. Application reads it\r\n\r\n3. Application last log printed at 00:29:52.032\r\n\r\n4. Application stalled indefinitely\r\n\r\n5. Application restarted at 04:59:35.098\r\n\r\nI am wondering why did the application abruptly freeze?\r\n\r\n**Footnotes:**\r\nEven though I am using JSCH-0.1.55 library, I saw that JSch class has version of &#39;0.1.54&#39; written inside it. This is the reason why I see &#39;Client=SSH-2.0-JSCH-0.1.54&#39; in SFTP logs. I hope this should not be crux of the problem.\r\n\r\nChecked the Profiler for the JVM and the EC2 instance. I have found no anomaly during the aforementioned timeline (attached picture). I have the feeling that there is something wrong with the JSch SFTP connection. Unfortunately, I am unable to replicate the issue.\r\n\r\nAppreciate any help around the issue. Be it replication or speculation.\r\n\r\n\r\n**SFTP Server Logs:**\r\n\r\n``` lang-java[enter image description here](https://i.stack.imgur.com/zCpvH.png)\r\ntime(UTC)       User        Message\r\n04:59:58\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n04:59:56\tmy-app-prod DISCONNECTED\r\n04:59:56\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n04:59:53\tmy-app-prod DISCONNECTED\r\n04:59:53\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:54\tmy-app-prod DISCONNECTED\r\n00:29:52\tmy-app-prod CLOSE Path=/&lt;censored&gt;/project/xyz.txt BytesOut=715152263\r\n00:28:33\tmy-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=READ\r\n00:28:32\tmy-app-prod DISCONNECTED\r\n00:28:31\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:29\tmy-app-prod DISCONNECTED\r\n00:28:29\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:26\tmy-app-prod DISCONNECTED\r\n00:28:26\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:24\tclient-app-prod DISCONNECTED\r\n00:28:24\tclient-app-prod ERROR Message=&quot;Access denied&quot;\r\n00:28:23\tclient-app-prod CLOSE Path=/&lt;censored&gt;/project/191544.txt BytesIn=715152263\r\n00:28:23\tmy-app-prod DISCONNECTED\r\n00:28:22\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:20\tmy-app-prod DISCONNECTED\r\n00:28:20\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:17\tmy-app-prod DISCONNECTED\r\n00:28:17\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:14\tmy-app-prod DISCONNECTED\r\n00:28:14\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:11\tmy-app-prod DISCONNECTED\r\n00:28:11\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:08\tmy-app-prod DISCONNECTED\r\n00:28:08\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:05\tmy-app-prod DISCONNECTED\r\n00:28:04\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:02\tmy-app-prod DISCONNECTED\r\n00:28:01\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:28:00\tclient-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=CREATE|TRUNCATE|WRITE\r\n00:28:00\tclient-app-prod CONNECTED SourceIP=&lt;client-ip&gt; \r\n00:27:58\tmy-app-prod DISCONNECTED\r\n00:27:58\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:55\tmy-app-prod DISCONNECTED\r\n00:27:55\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:53\tmy-app-prod DISCONNECTED\r\n00:27:52\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:50\tmy-app-prod DISCONNECTED\r\n00:27:49\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:47\tmy-app-prod DISCONNECTED\r\n00:27:46\tmy-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \r\n00:27:44\tmy-app-prod DISCONNECTED\r\n```\r\n\r\n**Java Application Logs (Reverse Chronology)**\r\n\r\n``` lang-java\r\n00:29:52.032 [Thread Id = 71] INFO com.example.apis.trigger.SFTPConfig:154 - Batch Triggered.\r\n00:28:31.852 [Thread Id = 71] INFO com.jcraft.jsch:54 - Disconnecting from &lt;PROD-SFTP-CENSORED&gt; port 22\r\n00:28:29.496 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentication succeeded (publickey).\r\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Next authentication method: publickey\r\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentications that can continue: publickey,keyboard-interactive,password\r\n00:28:29.409 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_ACCEPT received\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_REQUEST sent\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS received\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS sent\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - Host &#39;&lt;PROD-SFTP-CENSORED&gt;&#39; is known and matches the RSA host key\r\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - ssh_rsa_verify: signature true\r\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - expecting SSH_MSG_KEX_ECDH_REPLY\r\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEX_ECDH_INIT sent\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client-&gt;server aes128-ctr hmac-sha2-256 none\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server-&gt;client aes128-ctr hmac-sha2-256 none\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client:\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: none\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server:\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: none,zlib@openssh.com\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\r\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT received\r\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT sent\r\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Local version string: SSH-2.0-JSCH-0.1.54\r\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Remote version string: SSH-2.0-AWS_SFTP_1.1\r\n00:28:29.275 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connection established\r\n00:28:29.261 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connecting to &lt;PROD-SFTP-CENSORED&gt; port 22\r\n00:28:29.261 [Thread Id = 141857] INFO com.jcraft.jsch:54 - Caught an exception, leaving main loop due to Socket closed\r\n```\r\n\r\n\r\n**Code Snippet:**\r\n\r\n``` lang-java\r\npublic SessionFactory&lt;LsEntry&gt; xyzSFTPSessionFactory() {\r\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\r\n    try {\r\n        factory.setHost(&quot;abc&quot;);\r\n        factory.setPort(22);\r\n        factory.setUser(&quot;my-app-prod&quot;);\r\n        factory.setPrivateKey(sftpPrivateKey);\r\n        factory.setAllowUnknownKeys(true);\r\n    } catch (SftpConnectionException se) {\r\n        LOGGER.error(&quot;Exception occurred while creating ABC&quot;, se);\r\n    }\r\n        return new CachingSessionFactory&lt;&gt;(factory);\r\n}\r\n\r\n\r\n@InboundChannelAdapter(channel = &quot;xyzStream&quot;)\r\n    public MessageSource&lt;InputStream&gt; xyzSFTPMessageSource() {\r\n        SftpStreamingMessageSource mSource = new SftpStreamingMessageSource(xyzTemplate());\r\n        mSource.setRemoteDirectory(xyzRemoteDirectory);\r\n        mSource.setFilter(new AcceptAllFileListFilter&lt;&gt;());\r\n        mSource.setMaxFetchSize(1);\r\n        return mSource;\r\n    }\r\n```","title":"Spring Integration Module that Continuously Polls SFTP Stalled","body":"<p>I have an application which uses spring integration to poll the sftp and once it finds new file thats when spring batch kicks-in and processes the file. I have five such jobs written in an application which polls sftp (attached the code snippet of configuration of one module). I checked the JVM process is running on EC2 instance. There was no anomaly in the cpu usage I have also attached the application logs and the sftp logs of the server.</p>\n<p>Here's sequence of events (All events in UTC timezone &amp; date is 2023-05-08)</p>\n<ol>\n<li><p>Client uploaded file on SFTP at 00:28:00</p>\n</li>\n<li><p>Application reads it</p>\n</li>\n<li><p>Application last log printed at 00:29:52.032</p>\n</li>\n<li><p>Application stalled indefinitely</p>\n</li>\n<li><p>Application restarted at 04:59:35.098</p>\n</li>\n</ol>\n<p>I am wondering why did the application abruptly freeze?</p>\n<p><strong>Footnotes:</strong>\nEven though I am using JSCH-0.1.55 library, I saw that JSch class has version of '0.1.54' written inside it. This is the reason why I see 'Client=SSH-2.0-JSCH-0.1.54' in SFTP logs. I hope this should not be crux of the problem.</p>\n<p>Checked the Profiler for the JVM and the EC2 instance. I have found no anomaly during the aforementioned timeline (attached picture). I have the feeling that there is something wrong with the JSch SFTP connection. Unfortunately, I am unable to replicate the issue.</p>\n<p>Appreciate any help around the issue. Be it replication or speculation.</p>\n<p><strong>SFTP Server Logs:</strong></p>\n<pre><code>time(UTC)       User        Message\n04:59:58    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n04:59:56    my-app-prod DISCONNECTED\n04:59:56    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n04:59:53    my-app-prod DISCONNECTED\n04:59:53    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:54    my-app-prod DISCONNECTED\n00:29:52    my-app-prod CLOSE Path=/&lt;censored&gt;/project/xyz.txt BytesOut=715152263\n00:28:33    my-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=READ\n00:28:32    my-app-prod DISCONNECTED\n00:28:31    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:29    my-app-prod DISCONNECTED\n00:28:29    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:26    my-app-prod DISCONNECTED\n00:28:26    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:24    client-app-prod DISCONNECTED\n00:28:24    client-app-prod ERROR Message=&quot;Access denied&quot;\n00:28:23    client-app-prod CLOSE Path=/&lt;censored&gt;/project/191544.txt BytesIn=715152263\n00:28:23    my-app-prod DISCONNECTED\n00:28:22    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:20    my-app-prod DISCONNECTED\n00:28:20    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:17    my-app-prod DISCONNECTED\n00:28:17    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:14    my-app-prod DISCONNECTED\n00:28:14    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:11    my-app-prod DISCONNECTED\n00:28:11    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:08    my-app-prod DISCONNECTED\n00:28:08    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:05    my-app-prod DISCONNECTED\n00:28:04    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:02    my-app-prod DISCONNECTED\n00:28:01    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:28:00    client-app-prod OPEN Path=/&lt;censored&gt;/project/xyz.txt Mode=CREATE|TRUNCATE|WRITE\n00:28:00    client-app-prod CONNECTED SourceIP=&lt;client-ip&gt; \n00:27:58    my-app-prod DISCONNECTED\n00:27:58    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:55    my-app-prod DISCONNECTED\n00:27:55    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:53    my-app-prod DISCONNECTED\n00:27:52    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:50    my-app-prod DISCONNECTED\n00:27:49    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:47    my-app-prod DISCONNECTED\n00:27:46    my-app-prod CONNECTED SourceIP=&lt;poller-application-ip&gt; \n00:27:44    my-app-prod DISCONNECTED\n</code></pre>\n<p><strong>Java Application Logs (Reverse Chronology)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>00:29:52.032 [Thread Id = 71] INFO com.example.apis.trigger.SFTPConfig:154 - Batch Triggered.\n00:28:31.852 [Thread Id = 71] INFO com.jcraft.jsch:54 - Disconnecting from &lt;PROD-SFTP-CENSORED&gt; port 22\n00:28:29.496 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentication succeeded (publickey).\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Next authentication method: publickey\n00:28:29.430 [Thread Id = 71] INFO com.jcraft.jsch:54 - Authentications that can continue: publickey,keyboard-interactive,password\n00:28:29.409 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_ACCEPT received\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_SERVICE_REQUEST sent\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS received\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_NEWKEYS sent\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - Host '&lt;PROD-SFTP-CENSORED&gt;' is known and matches the RSA host key\n00:28:29.396 [Thread Id = 71] INFO com.jcraft.jsch:54 - ssh_rsa_verify: signature true\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - expecting SSH_MSG_KEX_ECDH_REPLY\n00:28:29.380 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEX_ECDH_INIT sent\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client-&gt;server aes128-ctr hmac-sha2-256 none\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server-&gt;client aes128-ctr hmac-sha2-256 none\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client:\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: none\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc,aes192-ctr,aes192-cbc,aes256-ctr,aes256-cbc\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: client: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server:\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: none,zlib@openssh.com\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: umac-128-etm@openssh.com,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,umac-128@openssh.com,hmac-sha2-256,hmac-sha2-512\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: chacha20-poly1305@openssh.com,aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: rsa-sha2-512,rsa-sha2-256,ssh-rsa\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - kex: server: ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512,diffie-hellman-group14-sha256\n00:28:29.378 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT received\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - SSH_MSG_KEXINIT sent\n00:28:29.351 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Local version string: SSH-2.0-JSCH-0.1.54\n00:28:29.341 [Thread Id = 71] INFO com.jcraft.jsch:54 - Remote version string: SSH-2.0-AWS_SFTP_1.1\n00:28:29.275 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connection established\n00:28:29.261 [Thread Id = 71] INFO com.jcraft.jsch:54 - Connecting to &lt;PROD-SFTP-CENSORED&gt; port 22\n00:28:29.261 [Thread Id = 141857] INFO com.jcraft.jsch:54 - Caught an exception, leaving main loop due to Socket closed\n</code></pre>\n<p><strong>Code Snippet:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public SessionFactory&lt;LsEntry&gt; xyzSFTPSessionFactory() {\n    DefaultSftpSessionFactory factory = new DefaultSftpSessionFactory(true);\n    try {\n        factory.setHost(&quot;abc&quot;);\n        factory.setPort(22);\n        factory.setUser(&quot;my-app-prod&quot;);\n        factory.setPrivateKey(sftpPrivateKey);\n        factory.setAllowUnknownKeys(true);\n    } catch (SftpConnectionException se) {\n        LOGGER.error(&quot;Exception occurred while creating ABC&quot;, se);\n    }\n        return new CachingSessionFactory&lt;&gt;(factory);\n}\n\n\n@InboundChannelAdapter(channel = &quot;xyzStream&quot;)\n    public MessageSource&lt;InputStream&gt; xyzSFTPMessageSource() {\n        SftpStreamingMessageSource mSource = new SftpStreamingMessageSource(xyzTemplate());\n        mSource.setRemoteDirectory(xyzRemoteDirectory);\n        mSource.setFilter(new AcceptAllFileListFilter&lt;&gt;());\n        mSource.setMaxFetchSize(1);\n        return mSource;\n    }\n</code></pre>\n"},{"tags":["java","sql","oracle","size","heap-memory"],"comments":[{"owner":{"account_id":7072373,"reputation":3737,"user_id":5413565,"display_name":"Mushif Ali Nawaz"},"score":0,"creation_date":1571986418,"post_id":58553553,"comment_id":103426858,"body_markdown":"What do you mean by data size? Do you mean the number of columns?","body":"What do you mean by data size? Do you mean the number of columns?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1571986463,"post_id":58553553,"comment_id":103426877,"body_markdown":"@MushifAliNawaz I think it&#39;s the size in bytes (or any similar unit) which is comparable to the RAM size somehow.","body":"@MushifAliNawaz I think it&#39;s the size in bytes (or any similar unit) which is comparable to the RAM size somehow."},{"owner":{"account_id":7048299,"reputation":800,"user_id":5398371,"display_name":"Zeinab Ghaffarnasab"},"score":0,"creation_date":1571988224,"post_id":58553553,"comment_id":103427587,"body_markdown":"use this: select count(*) from employee where id &lt; 11000;","body":"use this: select count(*) from employee where id &lt; 11000;"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1571989225,"post_id":58553553,"comment_id":103428015,"body_markdown":"What size do you want? The size of a record as stored on disk in the database? The size of a record as transmitted to the client? The size of a record as stored in Java memory? Stored how? In a POJO? In a `Map`? Please edit question and clarify what you&#39;re looking for.","body":"What size do you want? The size of a record as stored on disk in the database? The size of a record as transmitted to the client? The size of a record as stored in Java memory? Stored how? In a POJO? In a <code>Map</code>? Please edit question and clarify what you&#39;re looking for."},{"owner":{"account_id":49167,"reputation":144581,"user_id":146325,"display_name":"APC"},"score":1,"creation_date":1571991638,"post_id":58553553,"comment_id":103429050,"body_markdown":"*&quot;i need to load all records in memory; for these records for some processing in Java&quot;* Hmmm... Are you going to write those records back to the database after this processing?","body":"<i>&quot;i need to load all records in memory; for these records for some processing in Java&quot;</i> Hmmm... Are you going to write those records back to the database after this processing?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993354,"post_id":58553553,"comment_id":103429802,"body_markdown":"@APC: O i think my question is not clear... No i just want to see how much MB that data is when we hit SQL Query as i have to avoid memory issues in java program; so configure things accordingly. Edited my Question","body":"@APC: O i think my question is not clear... No i just want to see how much MB that data is when we hit SQL Query as i have to avoid memory issues in java program; so configure things accordingly. Edited my Question"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993400,"post_id":58553553,"comment_id":103429833,"body_markdown":"@Andreas: O Sorry, i have edited my question. Here i mean to if i load 10,000 records in memory using java then how much size it will take like 100 MB or what and how it can be calculated using oracle query or other ways. Reedited question","body":"@Andreas: O Sorry, i have edited my question. Here i mean to if i load 10,000 records in memory using java then how much size it will take like 100 MB or what and how it can be calculated using oracle query or other ways. Reedited question"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993431,"post_id":58553553,"comment_id":103429858,"body_markdown":"@ZeinabGhaffarnasab: Thanks. SOrry for confusion. Edited my queston. It is Memory size which i want to calculate when objects load in memory","body":"@ZeinabGhaffarnasab: Thanks. SOrry for confusion. Edited my queston. It is Memory size which i want to calculate when objects load in memory"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993460,"post_id":58553553,"comment_id":103429879,"body_markdown":"@deHaar: Thanks for understanding, i have done some editing may be now things are clear","body":"@deHaar: Thanks for understanding, i have done some editing may be now things are clear"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571993500,"post_id":58553553,"comment_id":103429900,"body_markdown":"@MushifAliNawaz: Sorry for bothering, i have edited my question, here i meant how to calculate how much data is loaded in memory (in oracle or other way)","body":"@MushifAliNawaz: Sorry for bothering, i have edited my question, here i meant how to calculate how much data is loaded in memory (in oracle or other way)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1571996149,"post_id":58553553,"comment_id":103431207,"body_markdown":"Well, varchar columns can contains values varying length (hence the name) so the strings that will be created in Java will have different memory requirements as well. That being said it might be hard to calculate the exact amount of memory needed because there might be multiple references (each of those already uses up some memory even if refering to the same object) in multiple locations (like the result set, in your application, some driver internal location etc.). ...","body":"Well, varchar columns can contains values varying length (hence the name) so the strings that will be created in Java will have different memory requirements as well. That being said it might be hard to calculate the exact amount of memory needed because there might be multiple references (each of those already uses up some memory even if refering to the same object) in multiple locations (like the result set, in your application, some driver internal location etc.). ..."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571996290,"post_id":58553553,"comment_id":103431272,"body_markdown":"@Thomas: Thanks, but like if i copied whole data in file it says 604KB text file. But when it comes to Java Platform then in memory for same data will it be like jump to 10 MB or will it like 1024 KB? Could you please give some rough idea in the use case","body":"@Thomas: Thanks, but like if i copied whole data in file it says 604KB text file. But when it comes to Java Platform then in memory for same data will it be like jump to 10 MB or will it like 1024 KB? Could you please give some rough idea in the use case"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1571996319,"post_id":58553553,"comment_id":103431282,"body_markdown":"But you should be able to _estimate_ the memory that could be needed and in most cases that&#39;s probably enough (if you&#39;re operating on hard restrictions that might not be the case but those restrictions rarely exist in business applications): get the size of each data type your results would contain (like `Integer`, `Date` etc.) and the maximum length of your strings. Add all those up and multiply with 10k and you should get a reasonable estimate already.","body":"But you should be able to <i>estimate</i> the memory that could be needed and in most cases that&#39;s probably enough (if you&#39;re operating on hard restrictions that might not be the case but those restrictions rarely exist in business applications): get the size of each data type your results would contain (like <code>Integer</code>, <code>Date</code> etc.) and the maximum length of your strings. Add all those up and multiply with 10k and you should get a reasonable estimate already."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571996872,"post_id":58553553,"comment_id":103431534,"body_markdown":"@Thomas\nSo as per your suggestion if i have 8 string variables(store everything into string) and each string variable say consume - 40 byte for empty (or 20 char) and so for 100 character 200Bytes almost and by this 1600 Byte for 8 String variables. So for 10,000 it will take 16 000 000 byte = 16 megabytes...Cool...","body":"@Thomas So as per your suggestion if i have 8 string variables(store everything into string) and each string variable say consume - 40 byte for empty (or 20 char) and so for 100 character 200Bytes almost and by this 1600 Byte for 8 String variables. So for 10,000 it will take 16 000 000 byte = 16 megabytes...Cool..."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1571997225,"post_id":58553553,"comment_id":103431718,"body_markdown":"Yes that&#39;s about it. Note that Java objects have a lot of internal fields and references so they require a lot more memory than just the basic primitive types (e.g. an `Integer` would require at least 16 bytes: 12 for the object header and 4 for the int value). Additionally writing data into a text file would change the size because that depends on the encoding (Latin-1 would use 1 byte per char while Java strings already use 2 bytes per char) and if you transform small integers to text that will require less memory as well.","body":"Yes that&#39;s about it. Note that Java objects have a lot of internal fields and references so they require a lot more memory than just the basic primitive types (e.g. an <code>Integer</code> would require at least 16 bytes: 12 for the object header and 4 for the int value). Additionally writing data into a text file would change the size because that depends on the encoding (Latin-1 would use 1 byte per char while Java strings already use 2 bytes per char) and if you transform small integers to text that will require less memory as well."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1571997601,"post_id":58553553,"comment_id":103431912,"body_markdown":"&quot;If i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.&quot; - let&#39;s assume you&#39;re using Latin-1 here, no column delimiters and no compression. That would mean that you&#39;d have (604 * 1024 - 10000 / 10000) = 60.8 bytes per row on average (that - 10000 is because you&#39;d need row delimiters at least). That would mean that each column would need 7.6 bytes on average. Let&#39;s round that up to 8 and thus your 80000 columns would need 1280000 bytes (1.2 MB) for the character data alone (8 * 80000 * 2).","body":"&quot;If i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.&quot; - let&#39;s assume you&#39;re using Latin-1 here, no column delimiters and no compression. That would mean that you&#39;d have (604 * 1024 - 10000 / 10000) = 60.8 bytes per row on average (that - 10000 is because you&#39;d need row delimiters at least). That would mean that each column would need 7.6 bytes on average. Let&#39;s round that up to 8 and thus your 80000 columns would need 1280000 bytes (1.2 MB) for the character data alone (8 * 80000 * 2)."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1571999073,"post_id":58553553,"comment_id":103432624,"body_markdown":"@Thomas: Thanks for detailed insight. You can share it in answer. Not sure if it has oracle perspective too to calculate data size according to query.","body":"@Thomas: Thanks for detailed insight. You can share it in answer. Not sure if it has oracle perspective too to calculate data size according to query."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683614646,"creation_date":1572003683,"answer_id":58557867,"question_id":58553553,"body_markdown":"Generally you can use Java&#39;s instrumentation capabilities to determine the memory consumption at runtime. For some information on that have a look here:\r\n\r\n- https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\r\n- https://www.baeldung.com/java-size-of-object\r\n\r\nHowever, it is not always that easy to determine the actual memory consumption for various reasons, some of them being:\r\n\r\n- Frameworks, libraries and even the JVM might create copies of your data or cache and reuse it\r\n- Queries might return differently sized results, especially when variable length column types like VARCHAR are used. You&#39;d have to read that data to determine the actual size of the corresponding objects\r\n- Some objects might be referenced by multiple others so their size might be included incorrectly (e.g. if some enum constant is used that might be counted into the object size but it wouldn&#39;t actually add to the increase because it&#39;s most likely already been loaded anyway).\r\n\r\nAdditionally in most business applications you don&#39;t need to bother with determining the exact memory consumption a piece of code results in. Again there are various reasons, e.g.:\r\n\r\n- Memory is cheap so if you run into problems it&#39;s often easier to (at least temporarily) increase available memory than (micro-) optimizing a piece of code.\r\n- System usage and load often isn&#39;t as predictable due to changing situations (e.g. number of active users, changes in data etc.)\r\n- The JVM often is able to efficiently use garbage collection to reclaim memory for other things.\r\n\r\nThis doesn&#39;t mean that you shouldn&#39;t think about memory usage though, e.g. do you really need all those 10k rows in memory at once? How long do you need that data and what are you doing with it? \r\n\r\nThat being said it&#39;s often helpful to roughly estimate memory consumption and in the case of a query that could return a lot of strings you should estimate the worst case, i.e. assume maximum length strings.\r\n\r\nTo do that you&#39;ll need some knowledge about what your rows will contain, e.g. whether integer numbers `Integer`, `Long` or `BigInteger` instances or how many columns there could be. Additionally you&#39;ll need to know at least the memory requirements for the data types, i.e. we don&#39;t take any caching, duplication, overhead for `ResultSet` and the like into account.\r\n\r\nThe sizes for Java objects depend on various things, e.g. which JVM you&#39;re using, whether it is a 32- or 64-bit JVM etc. Various sources state that an object&#39;s memory consumption can be calculated from the Object header (which often is stated to be 12 bytes in size) and the size of the object&#39;s fields.\r\n\r\nUsing that we&#39;ll assume `Integer` to have a size of 16 bytes (12b header and 4b `int`), `Date` would be 24 bytes (12b header, 8b `fastTime` and 4b `cdate` reference), String would be 12b header, 4b char[] reference, 8b other fields, 12h char[] header and 2*length bytes for the characters themselves (or 36 + 2 * length in total).\r\n\r\nThus let&#39;s say your 85 columns are split into 20 integers, 10 dates and 55 strings of 256 bytes max length. One row would that need _at least_ 20 * 16 + 10 * 24 + 55 * 548 = 30700 bytes. 10k rows would thus need 307000000 bytes or roughly 300 MB (when all strings are at maximum length).\r\n\r\n&gt; If I copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.\r\n\r\nLet&#39;s break that down a little as well:\r\n\r\n- 604 KB would be 618496 bytes (1024 being one KB)\r\n- Devide that by 10k and you get 61.8 bytes per row on average\r\n- Devide that by 8 and you get 7.7 bytes per column (if we don&#39;t take any row or column delimiters into account)\r\n- Let&#39;s round it up to 8 bytes per column and let&#39;s assume your text file is Latin-1 encoded (so 1 byte per char), thus each text column has 8 chars on average which is pretty short\r\n\r\nIn an easier calculation, if we use the same asumptions as above, 604KB would mean your data would consist of roughly 604k characters, which in Java would need 1208k bytes (or about 1.2 MB) just for the character data alone. Add to that the overhead for 80k strings, i.e. 36 bytes * 80k which is about 2.8 MB more so that data would need about 4 MB in memory.","title":"How to find Memory SIZE of records returned in a SQL Query in Oracle?","body":"<p>Generally you can use Java's instrumentation capabilities to determine the memory consumption at runtime. For some information on that have a look here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">How to determine the size of an object in Java</a></li>\n<li><a href=\"https://www.baeldung.com/java-size-of-object\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-size-of-object</a></li>\n</ul>\n<p>However, it is not always that easy to determine the actual memory consumption for various reasons, some of them being:</p>\n<ul>\n<li>Frameworks, libraries and even the JVM might create copies of your data or cache and reuse it</li>\n<li>Queries might return differently sized results, especially when variable length column types like VARCHAR are used. You'd have to read that data to determine the actual size of the corresponding objects</li>\n<li>Some objects might be referenced by multiple others so their size might be included incorrectly (e.g. if some enum constant is used that might be counted into the object size but it wouldn't actually add to the increase because it's most likely already been loaded anyway).</li>\n</ul>\n<p>Additionally in most business applications you don't need to bother with determining the exact memory consumption a piece of code results in. Again there are various reasons, e.g.:</p>\n<ul>\n<li>Memory is cheap so if you run into problems it's often easier to (at least temporarily) increase available memory than (micro-) optimizing a piece of code.</li>\n<li>System usage and load often isn't as predictable due to changing situations (e.g. number of active users, changes in data etc.)</li>\n<li>The JVM often is able to efficiently use garbage collection to reclaim memory for other things.</li>\n</ul>\n<p>This doesn't mean that you shouldn't think about memory usage though, e.g. do you really need all those 10k rows in memory at once? How long do you need that data and what are you doing with it?</p>\n<p>That being said it's often helpful to roughly estimate memory consumption and in the case of a query that could return a lot of strings you should estimate the worst case, i.e. assume maximum length strings.</p>\n<p>To do that you'll need some knowledge about what your rows will contain, e.g. whether integer numbers <code>Integer</code>, <code>Long</code> or <code>BigInteger</code> instances or how many columns there could be. Additionally you'll need to know at least the memory requirements for the data types, i.e. we don't take any caching, duplication, overhead for <code>ResultSet</code> and the like into account.</p>\n<p>The sizes for Java objects depend on various things, e.g. which JVM you're using, whether it is a 32- or 64-bit JVM etc. Various sources state that an object's memory consumption can be calculated from the Object header (which often is stated to be 12 bytes in size) and the size of the object's fields.</p>\n<p>Using that we'll assume <code>Integer</code> to have a size of 16 bytes (12b header and 4b <code>int</code>), <code>Date</code> would be 24 bytes (12b header, 8b <code>fastTime</code> and 4b <code>cdate</code> reference), String would be 12b header, 4b char[] reference, 8b other fields, 12h char[] header and 2*length bytes for the characters themselves (or 36 + 2 * length in total).</p>\n<p>Thus let's say your 85 columns are split into 20 integers, 10 dates and 55 strings of 256 bytes max length. One row would that need <em>at least</em> 20 * 16 + 10 * 24 + 55 * 548 = 30700 bytes. 10k rows would thus need 307000000 bytes or roughly 300 MB (when all strings are at maximum length).</p>\n<blockquote>\n<p>If I copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns.</p>\n</blockquote>\n<p>Let's break that down a little as well:</p>\n<ul>\n<li>604 KB would be 618496 bytes (1024 being one KB)</li>\n<li>Devide that by 10k and you get 61.8 bytes per row on average</li>\n<li>Devide that by 8 and you get 7.7 bytes per column (if we don't take any row or column delimiters into account)</li>\n<li>Let's round it up to 8 bytes per column and let's assume your text file is Latin-1 encoded (so 1 byte per char), thus each text column has 8 chars on average which is pretty short</li>\n</ul>\n<p>In an easier calculation, if we use the same asumptions as above, 604KB would mean your data would consist of roughly 604k characters, which in Java would need 1208k bytes (or about 1.2 MB) just for the character data alone. Add to that the overhead for 80k strings, i.e. 36 bytes * 80k which is about 2.8 MB more so that data would need about 4 MB in memory.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2543,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":58557867,"answer_count":1,"score":3,"last_activity_date":1683614646,"creation_date":1571986126,"question_id":58553553,"body_markdown":"I am hitting a query which returns 10,000 Records.\r\n\r\n```SQL\r\nSELECT * FROM employee WHERE id &lt; 11000;\r\n```\r\n\r\nThe data returned consists of 85 Columns (varchar, date, no.). \r\n(Also i have another similar query gets data consist of just 10 columns(varchar).)\r\n\r\nIs there any way in Oracle to find the data size of this resultset? Like the data loaded will be of 100 MB or 200 MB\r\n\r\n**Requirement**: Actually i need to load all records in memory; for these records for some processing in Java. So i need to check size of data using some preconditions in Oracle or Any other appropriate way you can suggest to check same? (I have production access. So i will implement logic after checking data size). \r\n\r\nThis precheck is just to avoid Out of memory exceptions in java.\r\n\r\nIF i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns. Does the same will there in memory?","title":"How to find Memory SIZE of records returned in a SQL Query in Oracle?","body":"<p>I am hitting a query which returns 10,000 Records.</p>\n\n<pre><code>SELECT * FROM employee WHERE id &lt; 11000;\n</code></pre>\n\n<p>The data returned consists of 85 Columns (varchar, date, no.). \n(Also i have another similar query gets data consist of just 10 columns(varchar).)</p>\n\n<p>Is there any way in Oracle to find the data size of this resultset? Like the data loaded will be of 100 MB or 200 MB</p>\n\n<p><strong>Requirement</strong>: Actually i need to load all records in memory; for these records for some processing in Java. So i need to check size of data using some preconditions in Oracle or Any other appropriate way you can suggest to check same? (I have production access. So i will implement logic after checking data size). </p>\n\n<p>This precheck is just to avoid Out of memory exceptions in java.</p>\n\n<p>IF i copy whole data and save it in file it shows only 604 KB for 10,000 records having 8 columns. Does the same will there in memory?</p>\n"},{"tags":["java","oop","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683614644,"creation_date":1683614644,"answer_id":76206523,"question_id":76189530,"body_markdown":"One option would be to define a `Map&lt;String, Supplier&lt;Metric&gt;&gt;` or even a `list of Pair&lt;String, Supplier&lt;Metric&gt;&gt;`. As a result, you&#39;ll be able to iterate through these pairs and evaluate the suppliers whenever you want. Finally, you can collect everything back to a map:\r\n\r\n```java\r\nprivate final List&lt;Pair&lt;String, Supplier&lt;Metric&gt;&gt;&gt; metrics = List.of(\r\n\tPair.of(&quot;IOTime&quot;, dependency1::methodX),\r\n\tPair.of(&quot;CPUTime&quot;, dependency1::methodY),\r\n\tPair.of(&quot;GPUComputeTime&quot;, dependency2::methodZ)\r\n);\r\n\r\n\r\npublic Map&lt;String, Metric&gt; metrics() {\r\n\treturn metrics.stream()\r\n\t\t.collect(toMap(p -&gt; p.getLeft(), p -&gt; p.getRight().get()));\r\n}\r\n```","title":"Design pattern for binding metrics to dependencies at run-time","body":"<p>One option would be to define a <code>Map&lt;String, Supplier&lt;Metric&gt;&gt;</code> or even a <code>list of Pair&lt;String, Supplier&lt;Metric&gt;&gt;</code>. As a result, you'll be able to iterate through these pairs and evaluate the suppliers whenever you want. Finally, you can collect everything back to a map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final List&lt;Pair&lt;String, Supplier&lt;Metric&gt;&gt;&gt; metrics = List.of(\n    Pair.of(&quot;IOTime&quot;, dependency1::methodX),\n    Pair.of(&quot;CPUTime&quot;, dependency1::methodY),\n    Pair.of(&quot;GPUComputeTime&quot;, dependency2::methodZ)\n);\n\n\npublic Map&lt;String, Metric&gt; metrics() {\n    return metrics.stream()\n        .collect(toMap(p -&gt; p.getLeft(), p -&gt; p.getRight().get()));\n}\n</code></pre>\n"}],"owner":{"account_id":16303682,"reputation":83,"user_id":14227763,"display_name":"Henry Page"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683614644,"creation_date":1683384686,"question_id":76189530,"body_markdown":"I&#39;m creating a Spark plugin which collects around 100 metrics for a spark job in real-time. For some metrics, we can get it from different dependencies (such as the Spark API and Prometheus), and I need to bind each metric to a dependency call at run-time (based on factors such as user configuration, dependency availability, etc). I&#39;m struggling to figure out a design pattern for this such that it can be created in an OOP language like Java. Furthermore, I&#39;m trying to avoid a use of a map structure, because I want to avoid any memory overhead wherever possible. The `adapter` class to collect the metrics would look something like this.\r\n\r\n```java\r\nSparkMetricAdapter {\r\n\t\r\n\t// constructor with dependencies(?)\r\n\t// substitute the dependency at runtime.\r\n\r\n\tpublic Metric IOTime() {\r\n\t return dependency.callMethod();\r\n\t}\r\n\r\n\tpublic Metric CPUTime() {\r\n\t  return dependency.callMethod(); \r\n\t}\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nThe problem here is, that I would have to specify a &#39;map&#39; structure for each metric, such that it substitutes the `dependency` instance **for each metric individually**. Is there an elegant way to do this using interfaces without the need of an auxillary data structure?","title":"Design pattern for binding metrics to dependencies at run-time","body":"<p>I'm creating a Spark plugin which collects around 100 metrics for a spark job in real-time. For some metrics, we can get it from different dependencies (such as the Spark API and Prometheus), and I need to bind each metric to a dependency call at run-time (based on factors such as user configuration, dependency availability, etc). I'm struggling to figure out a design pattern for this such that it can be created in an OOP language like Java. Furthermore, I'm trying to avoid a use of a map structure, because I want to avoid any memory overhead wherever possible. The <code>adapter</code> class to collect the metrics would look something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SparkMetricAdapter {\n    \n    // constructor with dependencies(?)\n    // substitute the dependency at runtime.\n\n    public Metric IOTime() {\n     return dependency.callMethod();\n    }\n\n    public Metric CPUTime() {\n      return dependency.callMethod(); \n    }\n\n\n\n}\n</code></pre>\n<p>The problem here is, that I would have to specify a 'map' structure for each metric, such that it substitutes the <code>dependency</code> instance <strong>for each metric individually</strong>. Is there an elegant way to do this using interfaces without the need of an auxillary data structure?</p>\n"},{"tags":["java","deployment","vert.x"],"comments":[{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":0,"creation_date":1549699036,"post_id":54590550,"comment_id":96004287,"body_markdown":"Pretty hard to suggest something without code of your schedulers.","body":"Pretty hard to suggest something without code of your schedulers."},{"owner":{"account_id":6429434,"reputation":11,"user_id":4983247,"display_name":"RAJESH KUMAR"},"score":0,"creation_date":1550040932,"post_id":54590550,"comment_id":96118882,"body_markdown":"There is no specific code for scheduler we just trigger it based on given schedule. We just want the mechanism if the cron is already started on one of the instances , then we should not run it again.","body":"There is no specific code for scheduler we just trigger it based on given schedule. We just want the mechanism if the cron is already started on one of the instances , then we should not run it again."},{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":0,"creation_date":1550041925,"post_id":54590550,"comment_id":96119341,"body_markdown":"And how do you run your instances? Are you using clustered mode?","body":"And how do you run your instances? Are you using clustered mode?"},{"owner":{"account_id":4226477,"reputation":380,"user_id":3459894,"accept_rate":75,"display_name":"Lucas Milotich"},"score":0,"creation_date":1550142883,"post_id":54590550,"comment_id":96165919,"body_markdown":"you can use a semaphore in a table, so each instance is going to query that table to know if other instance is running the process","body":"you can use a semaphore in a table, so each instance is going to query that table to know if other instance is running the process"}],"answers":[{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683614500,"creation_date":1683614500,"answer_id":76206505,"question_id":54590550,"body_markdown":"Let&#39;s assume you are deploying verticle in your project as follows:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  Vertx vertx = Vertx.vertx();\r\n  vertx.deployVerticle(YourVerticle.class.getName(), new DeploymentOptions().setInstances(10));\r\n}\r\n```\r\n\r\nAnd you can schedule periodic tasks in this way, which will only trigger task once at a give time point.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  Vertx vertx = Vertx.vertx();\r\n  vertx.setPeriodic(10 * 1000, 10 * 60 * 1000,\r\n      (timerId) -&gt; {\r\n          // the actual task code\r\n      });\r\n  vertx.deployVerticle(YourVerticle.class.getName(), new DeploymentOptions().setInstances(10));\r\n}\r\n```","title":"Running Scheduled Job only on single instance in vertx Application","body":"<p>Let's assume you are deploying verticle in your project as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  Vertx vertx = Vertx.vertx();\n  vertx.deployVerticle(YourVerticle.class.getName(), new DeploymentOptions().setInstances(10));\n}\n</code></pre>\n<p>And you can schedule periodic tasks in this way, which will only trigger task once at a give time point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  Vertx vertx = Vertx.vertx();\n  vertx.setPeriodic(10 * 1000, 10 * 60 * 1000,\n      (timerId) -&gt; {\n          // the actual task code\n      });\n  vertx.deployVerticle(YourVerticle.class.getName(), new DeploymentOptions().setInstances(10));\n}\n</code></pre>\n"}],"owner":{"account_id":6429434,"reputation":11,"user_id":4983247,"display_name":"RAJESH KUMAR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683614500,"creation_date":1549622127,"question_id":54590550,"body_markdown":"In my Vertx(Java) Application there are few Scheduled job(Written in java). These job either read/update redis or DB. When I deploy the application on multiple instance, All instances run their own copy of job. I need a solution where only one instance runs the Scheduled job.\r\n\r\n","title":"Running Scheduled Job only on single instance in vertx Application","body":"<p>In my Vertx(Java) Application there are few Scheduled job(Written in java). These job either read/update redis or DB. When I deploy the application on multiple instance, All instances run their own copy of job. I need a solution where only one instance runs the Scheduled job.</p>\n"},{"tags":["java","multithreading","race-condition","data-race"],"answers":[{"comments":[{"owner":{"account_id":28545325,"reputation":13,"user_id":21850832,"display_name":"JohhnyM"},"score":0,"creation_date":1683558481,"post_id":76200056,"comment_id":134381143,"body_markdown":"why 9 * 2^10 and not 10 * 2^10 ? there are 10 threads","body":"why 9 * 2^10 and not 10 * 2^10 ? there are 10 threads"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1683614392,"post_id":76200056,"comment_id":134389265,"body_markdown":"@JohhnyM – Because I have significant problems with basic addition? Of course it should be 10!","body":"@JohhnyM – Because I have significant problems with basic addition? Of course it should be 10!"}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683614438,"creation_date":1683544547,"answer_id":76200056,"question_id":76199684,"body_markdown":"Theoretically, it is possible that each thread will be interrupted after it executed `addOne()` so that `multiTwo()` is executed first after all threads have run `addOne()`. This would mean \r\n\r\n10 * 2^10 = 10240 \r\n\r\nas the result.\r\n\r\nIf each thread will execute `addOne()` immediately followed by `multiTwo()`, the result is the already mentioned 2046.\r\n\r\nOn a modern PC, the latter option is the most likely, but on a first generation Raspi that runs tons of other (unrelated) stuff at the same time, you may get something that resembles the first option at least partially – but only when `Thread::start` does not cause an immediate context switch to the new Thread.","title":"Java multithread race condition, Min and Max range of a value","body":"<p>Theoretically, it is possible that each thread will be interrupted after it executed <code>addOne()</code> so that <code>multiTwo()</code> is executed first after all threads have run <code>addOne()</code>. This would mean</p>\n<p>10 * 2^10 = 10240</p>\n<p>as the result.</p>\n<p>If each thread will execute <code>addOne()</code> immediately followed by <code>multiTwo()</code>, the result is the already mentioned 2046.</p>\n<p>On a modern PC, the latter option is the most likely, but on a first generation Raspi that runs tons of other (unrelated) stuff at the same time, you may get something that resembles the first option at least partially – but only when <code>Thread::start</code> does not cause an immediate context switch to the new Thread.</p>\n"},{"comments":[{"owner":{"account_id":28545325,"reputation":13,"user_id":21850832,"display_name":"JohhnyM"},"score":0,"creation_date":1683558966,"post_id":76200086,"comment_id":134381242,"body_markdown":"I didn&#39;t add those comments, this is the original code I got from the interviewer.\nWhy if there are 10 threads, and each one running the add operation first, I would get 9 and not 10?","body":"I didn&#39;t add those comments, this is the original code I got from the interviewer. Why if there are 10 threads, and each one running the add operation first, I would get 9 and not 10?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1683579264,"post_id":76200086,"comment_id":134385565,"body_markdown":"Nevermind, yes, 10. So, the max would be 10240.","body":"Nevermind, yes, 10. So, the max would be 10240."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683544757,"creation_date":1683544757,"answer_id":76200086,"question_id":76199684,"body_markdown":"Everything is synchronized and locked. That means you don&#39;t need to cover the intricate details of what happens when you access a field from multiple threads without Happens-Before relationships established.\r\n\r\nThat makes this not really an exercise in threading. That&#39;s good - generally these questions are annoying, in the sense that the useful thing to know is merely: &quot;This code is wrong, because it violates JMM here and here, and this is how you do it right&quot;. Knowing what possible answers the code could give is esoteric knowledge that is utterly ridiculous to expect anybody to know - it&#39;s not useful information for the job, at any rate. You might as well fail someone from the interview because their fly-fishing knowledge isn&#39;t up to par. So, rejoice in that, I guess. It&#39;s a fair question.\r\n\r\nThis question boils down to:\r\n\r\n* We start with 0\r\n* We have 10x &#39;+1&#39; operations (increment).\r\n* We have 10x &#39;*2&#39; operations (double).\r\n* We cannot perform a &#39;double&#39; operation unless that many increments have already been performed.\r\n\r\nWhat&#39;s the MIN and MAX, respectively?\r\n\r\nThe answer seems fairly simple, and is a math/logic question, it has nothing to do with programming (some basic java knowledge is required to break down the problem to this, then logic is needed to figure out the answer).\r\n\r\nYou get the highest value by maximizing the impact of `*2`. Hence, by running the add operations first - that gets you to 9. Then double that 10 times, gets you to 9216.\r\n\r\nYou get the lowest by minimizing. Hence, 2046: Incr-double-incr-double - in that order.\r\n\r\nIt would be quite difficult to actually make a system give you 9216. Probably impossible. The point is, if a JVM prints 9216, __it is working fine__ - the JMM (java memory model, a chapter in the Java Language Spec) gives a JVM the right to do that.\r\n\r\nIf you want to play around with it, get rid of the threading and replace the logic with random chance instead.\r\n\r\n&gt; I think the minimum answer is 2.\r\n\r\nThis cannot possibly be the case even if you play around with this code. For example, if you just remove all locking, the actual answer is __0__ - NONE of the 10 threads are guaranteed to propagate their changes to the main thread, so the main thread is free to print 0 in that case. Any individual thread would see a minimum of 2 (and is likely to on modern JVM impls), but those worker threads aren&#39;t doing the printing.\r\n\r\n&gt; `//todo add catch exception`\r\n\r\nI assume you wrote that? I would make a note on your file &#39;programmer has no idea how to do exception management properly&#39;. You&#39;re in some luck - _a lot_ of java programmers are completely clueless on this, but you&#39;re still getting past me only on the basis that hiring devs is hard right now so I need to be less picky.\r\n\r\n`InterruptedException` does not occur unless you explicitly write code that interrupts. Given that you don&#39;t, and given that this is `main`, where you can, and should, and even did, just pile your checked exceptions into the `throws` line (or even better, write `throws Exception`) you&#39;re doing exactly what you should be doing. So, that note indicating you feel guilt about having done the right thing and evidently feel the proper way to write this exercise would have been to add a catch block there, indicates you _do not_ actually know what you are doing. It&#39;s not really possible to know what the reviewers were thinking, but it&#39;s possible that threw that off a bit.\r\n\r\nOr they are also clueless, and sticklers, and downmarked you for not doing it the (wrong) way they wanted, and write a catch block.\r\n\r\nHere are a few rules of thumb to help with exception handling. Remember: _Rules of thumb_. That means they usually hold, but not always.\r\n\r\n* If you don&#39;t know what to do in an exception block, __do not write one__, or if you&#39;re forced into writing one (due to a API design rule (see below) or because you&#39;re overriding and can&#39;t declare it in your `throws`), then you MUST wrap it. Do not, ever, just &#39;log it&#39; or &#39;print it&#39; and carry on. Yes, every tutorial under the sun and many IDEs default to it. That just means many tutorials and many IDEs are selectively braindead in this regard. Yes, for most exceptions, you wouldn&#39;t know what to do, and therefore this rule kicks in.\r\n\r\n* If, looking at solely the signature of the method (the name, param types, and the class it is in - i.e. _not_ at its code) it is rather obvious that some checked exception could occur, then that exception should be in the throws clause. e.g. a method named `queryPerson` that _does not_ `throws SQLException` is virtually guaranteed to be badly written. However, the flipside is also true: e.g. a method called `save()` in class `GameState` should only `throws SQLException` if &#39;this system stores stuff in the database&#39; is inherent to the design of the `GameState` class. If it is not, write your own exception and wrap your SQLException in it.\r\n\r\n* If a checked exception cannot possibly even occur (Example: the `IOException` caused by `stream.read()` even when you know that stream is in fact a `ByteArrayInputStream` that cannot possibly throw it, or, `new String(byteArray, &quot;UTF-8&quot;)` - UTF_8 is guaranteed by the JVM spec so that cannot possibly throw the &#39;I do not know that charset encoding&#39; exception) - then the API is badly designed. Hence, do not write such APIs and if you&#39;re forced into using one, make sure to check the docs, there&#39;s often a better alternative. For example, `new String(byteArray, StandardCharsets.UTF_8)` is correct; it avoids having to deal with an impossible checked exception.\r\n\r\n* When designing APIs, if some exceptional state seems virtually never &#39;handleable&#39; by all use cases of your library/method you can think of, it should be unchecked. Similarly, if it is likely that some exceptional state can never occur and the caller knows it, it should be unchecked. Otherwise, make it checked.\r\n\r\n","title":"Java multithread race condition, Min and Max range of a value","body":"<p>Everything is synchronized and locked. That means you don't need to cover the intricate details of what happens when you access a field from multiple threads without Happens-Before relationships established.</p>\n<p>That makes this not really an exercise in threading. That's good - generally these questions are annoying, in the sense that the useful thing to know is merely: &quot;This code is wrong, because it violates JMM here and here, and this is how you do it right&quot;. Knowing what possible answers the code could give is esoteric knowledge that is utterly ridiculous to expect anybody to know - it's not useful information for the job, at any rate. You might as well fail someone from the interview because their fly-fishing knowledge isn't up to par. So, rejoice in that, I guess. It's a fair question.</p>\n<p>This question boils down to:</p>\n<ul>\n<li>We start with 0</li>\n<li>We have 10x '+1' operations (increment).</li>\n<li>We have 10x '*2' operations (double).</li>\n<li>We cannot perform a 'double' operation unless that many increments have already been performed.</li>\n</ul>\n<p>What's the MIN and MAX, respectively?</p>\n<p>The answer seems fairly simple, and is a math/logic question, it has nothing to do with programming (some basic java knowledge is required to break down the problem to this, then logic is needed to figure out the answer).</p>\n<p>You get the highest value by maximizing the impact of <code>*2</code>. Hence, by running the add operations first - that gets you to 9. Then double that 10 times, gets you to 9216.</p>\n<p>You get the lowest by minimizing. Hence, 2046: Incr-double-incr-double - in that order.</p>\n<p>It would be quite difficult to actually make a system give you 9216. Probably impossible. The point is, if a JVM prints 9216, <strong>it is working fine</strong> - the JMM (java memory model, a chapter in the Java Language Spec) gives a JVM the right to do that.</p>\n<p>If you want to play around with it, get rid of the threading and replace the logic with random chance instead.</p>\n<blockquote>\n<p>I think the minimum answer is 2.</p>\n</blockquote>\n<p>This cannot possibly be the case even if you play around with this code. For example, if you just remove all locking, the actual answer is <strong>0</strong> - NONE of the 10 threads are guaranteed to propagate their changes to the main thread, so the main thread is free to print 0 in that case. Any individual thread would see a minimum of 2 (and is likely to on modern JVM impls), but those worker threads aren't doing the printing.</p>\n<blockquote>\n<p><code>//todo add catch exception</code></p>\n</blockquote>\n<p>I assume you wrote that? I would make a note on your file 'programmer has no idea how to do exception management properly'. You're in some luck - <em>a lot</em> of java programmers are completely clueless on this, but you're still getting past me only on the basis that hiring devs is hard right now so I need to be less picky.</p>\n<p><code>InterruptedException</code> does not occur unless you explicitly write code that interrupts. Given that you don't, and given that this is <code>main</code>, where you can, and should, and even did, just pile your checked exceptions into the <code>throws</code> line (or even better, write <code>throws Exception</code>) you're doing exactly what you should be doing. So, that note indicating you feel guilt about having done the right thing and evidently feel the proper way to write this exercise would have been to add a catch block there, indicates you <em>do not</em> actually know what you are doing. It's not really possible to know what the reviewers were thinking, but it's possible that threw that off a bit.</p>\n<p>Or they are also clueless, and sticklers, and downmarked you for not doing it the (wrong) way they wanted, and write a catch block.</p>\n<p>Here are a few rules of thumb to help with exception handling. Remember: <em>Rules of thumb</em>. That means they usually hold, but not always.</p>\n<ul>\n<li><p>If you don't know what to do in an exception block, <strong>do not write one</strong>, or if you're forced into writing one (due to a API design rule (see below) or because you're overriding and can't declare it in your <code>throws</code>), then you MUST wrap it. Do not, ever, just 'log it' or 'print it' and carry on. Yes, every tutorial under the sun and many IDEs default to it. That just means many tutorials and many IDEs are selectively braindead in this regard. Yes, for most exceptions, you wouldn't know what to do, and therefore this rule kicks in.</p>\n</li>\n<li><p>If, looking at solely the signature of the method (the name, param types, and the class it is in - i.e. <em>not</em> at its code) it is rather obvious that some checked exception could occur, then that exception should be in the throws clause. e.g. a method named <code>queryPerson</code> that <em>does not</em> <code>throws SQLException</code> is virtually guaranteed to be badly written. However, the flipside is also true: e.g. a method called <code>save()</code> in class <code>GameState</code> should only <code>throws SQLException</code> if 'this system stores stuff in the database' is inherent to the design of the <code>GameState</code> class. If it is not, write your own exception and wrap your SQLException in it.</p>\n</li>\n<li><p>If a checked exception cannot possibly even occur (Example: the <code>IOException</code> caused by <code>stream.read()</code> even when you know that stream is in fact a <code>ByteArrayInputStream</code> that cannot possibly throw it, or, <code>new String(byteArray, &quot;UTF-8&quot;)</code> - UTF_8 is guaranteed by the JVM spec so that cannot possibly throw the 'I do not know that charset encoding' exception) - then the API is badly designed. Hence, do not write such APIs and if you're forced into using one, make sure to check the docs, there's often a better alternative. For example, <code>new String(byteArray, StandardCharsets.UTF_8)</code> is correct; it avoids having to deal with an impossible checked exception.</p>\n</li>\n<li><p>When designing APIs, if some exceptional state seems virtually never 'handleable' by all use cases of your library/method you can think of, it should be unchecked. Similarly, if it is likely that some exceptional state can never occur and the caller knows it, it should be unchecked. Otherwise, make it checked.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28545325,"reputation":13,"user_id":21850832,"display_name":"JohhnyM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76200056,"answer_count":2,"score":1,"last_activity_date":1683614438,"creation_date":1683541706,"question_id":76199684,"body_markdown":"I have been asked this question recently in an interview, and I didn&#39;t get a feedback from my interviewer. I think the minimum answer is 2.\r\n\r\nGiven the following code, what will be the minimum and maximum value that will be printed in the line marked with 3 black &#39;*&#39;\r\n```\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static final int THREAD_NUMBER = 10;\r\n    public static Integer num = 0;\r\n    final static Integer lock = 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        Thread threads[] = new Thread[THREAD_NUMBER];\r\n\r\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\r\n            int finalJ = j;\r\n            threads[j] = new Thread(() -&gt; {threadLogic(finalJ);});\r\n            threads[j].start();\r\n        }\r\n\r\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\r\n            threads[j].join(); //todo add catch exception\r\n        }\r\n\r\n***        System.out.println(&quot;********* The number is &quot; + num + &quot; *********&quot;);\r\n***    }\r\n\r\n    public static void addOne(int id){\r\n        // Critical Code\r\n        synchronized (lock) {\r\n            num = num + 1;\r\n            System.out.println(&quot;add action thread &quot; + id + &quot;: &quot; + num);\r\n        }\r\n    }\r\n\r\n    public static void multiTwo(int id){\r\n        // Critical Code\r\n        synchronized (lock) {\r\n            num = num * 2;\r\n            System.out.println(&quot;multi action thread &quot; + id + &quot;: &quot; + num);\r\n        }\r\n    }\r\n\r\n    public static void threadLogic(int id){\r\n            addOne(id);\r\n            multiTwo(id);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried running the code myself and got 2046 for the max number","title":"Java multithread race condition, Min and Max range of a value","body":"<p>I have been asked this question recently in an interview, and I didn't get a feedback from my interviewer. I think the minimum answer is 2.</p>\n<p>Given the following code, what will be the minimum and maximum value that will be printed in the line marked with 3 black '*'</p>\n<pre><code>import java.util.List;\n\npublic class Main {\n\n    public static final int THREAD_NUMBER = 10;\n    public static Integer num = 0;\n    final static Integer lock = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        Thread threads[] = new Thread[THREAD_NUMBER];\n\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\n            int finalJ = j;\n            threads[j] = new Thread(() -&gt; {threadLogic(finalJ);});\n            threads[j].start();\n        }\n\n        for (int j = 0; j &lt; THREAD_NUMBER; j++) {\n            threads[j].join(); //todo add catch exception\n        }\n\n***        System.out.println(&quot;********* The number is &quot; + num + &quot; *********&quot;);\n***    }\n\n    public static void addOne(int id){\n        // Critical Code\n        synchronized (lock) {\n            num = num + 1;\n            System.out.println(&quot;add action thread &quot; + id + &quot;: &quot; + num);\n        }\n    }\n\n    public static void multiTwo(int id){\n        // Critical Code\n        synchronized (lock) {\n            num = num * 2;\n            System.out.println(&quot;multi action thread &quot; + id + &quot;: &quot; + num);\n        }\n    }\n\n    public static void threadLogic(int id){\n            addOne(id);\n            multiTwo(id);\n    }\n}\n</code></pre>\n<p>I tried running the code myself and got 2046 for the max number</p>\n"},{"tags":["java","hibernate","postgresql","spring-data","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":347560,"reputation":3575,"user_id":681752,"accept_rate":80,"display_name":"rhorvath"},"score":6,"creation_date":1461581115,"post_id":36838201,"comment_id":61246710,"body_markdown":"But my intention is to check whether input from Java is null. I am not trying to select values from database which are null.","body":"But my intention is to check whether input from Java is null. I am not trying to select values from database which are null."}],"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461580773,"creation_date":1461580773,"answer_id":36838201,"question_id":36834537,"body_markdown":"You are trying to check whether a Java `null` is equal to Postgres `NULL` which I think is not necessary. You can rewrite as following and avoid sending null to the `simpleTest` function at all.\r\n\r\n    @Query(value = &quot;SELECT * FROM WINE w WHERE (w.id IS NULL OR w.id = ?1)&quot;, nativeQuery = true)\r\n    Wine simpleTest(Long id);","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>You are trying to check whether a Java <code>null</code> is equal to Postgres <code>NULL</code> which I think is not necessary. You can rewrite as following and avoid sending null to the <code>simpleTest</code> function at all.</p>\n\n<pre><code>@Query(value = \"SELECT * FROM WINE w WHERE (w.id IS NULL OR w.id = ?1)\", nativeQuery = true)\nWine simpleTest(Long id);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":991545,"reputation":140,"user_id":1008692,"display_name":"SimonH"},"score":0,"creation_date":1659000283,"post_id":46201521,"comment_id":129193345,"body_markdown":"In addition to this reply we converted the Long into a primitive. If the Long object was null, we initialized the primitive with -1 and checked the -1 in the sql query (:modelId = -1 OR table.model_id = :modelId)","body":"In addition to this reply we converted the Long into a primitive. If the Long object was null, we initialized the primitive with -1 and checked the -1 in the sql query (:modelId = -1 OR table.model_id = :modelId)"}],"tags":[],"owner":{"account_id":916866,"reputation":1,"user_id":8604327,"display_name":"HerdDad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505316765,"creation_date":1505316765,"answer_id":46201521,"question_id":36834537,"body_markdown":"I had a similar issue in an @Query where a Long was being interpreted by Postgres as a bytea. The solution for me was to unbox the @Param...by passing a long value, Postgres correctly interpreted the value as a bigint","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>I had a similar issue in an @Query where a Long was being interpreted by Postgres as a bytea. The solution for me was to unbox the @Param...by passing a long value, Postgres correctly interpreted the value as a bigint</p>\n"},{"tags":[],"owner":{"account_id":16278215,"reputation":705,"user_id":11754886,"display_name":"fjsv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591177579,"creation_date":1591177579,"answer_id":62169825,"question_id":36834537,"body_markdown":"I know it is an old issue, but you should be able to fix that bay casting the java value. Something like:\r\n\r\n    public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\r\n    @Query(value = &quot;SELECT * FROM WINE w WHERE (?1\\\\:\\\\:bigint IS NULL OR w.id = ?1\\\\:\\\\:bigint)&quot;, nativeQuery = true)\r\n    Wine simpleTest(Long id);","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>I know it is an old issue, but you should be able to fix that bay casting the java value. Something like:</p>\n\n<pre><code>public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\n@Query(value = \"SELECT * FROM WINE w WHERE (?1\\\\:\\\\:bigint IS NULL OR w.id = ?1\\\\:\\\\:bigint)\", nativeQuery = true)\nWine simpleTest(Long id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1281225,"reputation":5615,"user_id":1235281,"accept_rate":88,"display_name":"Jodiug"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1591869971,"creation_date":1591869971,"answer_id":62321877,"question_id":36834537,"body_markdown":"Try this.\r\n\r\n```lang=sql\r\nSELECT *\r\nFROM WINE w\r\nWHERE ?1 IS NULL OR w.id = CAST(CAST(?1 AS TEXT) AS BIGINT)\r\n```\r\n\r\nIt satisfies the type checker and should have the same properties as the original query. `CAST` is not a big performance hit if it happens on a constant value rather than a value from a database row.","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>Try this.</p>\n\n<pre><code>SELECT *\nFROM WINE w\nWHERE ?1 IS NULL OR w.id = CAST(CAST(?1 AS TEXT) AS BIGINT)\n</code></pre>\n\n<p>It satisfies the type checker and should have the same properties as the original query. <code>CAST</code> is not a big performance hit if it happens on a constant value rather than a value from a database row.</p>\n"},{"tags":[],"owner":{"account_id":18928145,"reputation":41,"user_id":13810798,"display_name":"Vu Tran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683613823,"creation_date":1683613823,"answer_id":76206445,"question_id":36834537,"body_markdown":"I am experiencing the same issue as you are. After I researched this problem i found the answer on https://github.com/spring-projects/spring-data-jpa/issues/2370\r\n\r\nThe problem will be solved by using Spring Data JPA 2.7. You can find the source code to demonstrate this at https://github.com/heowc-scratch/hibernate_postgres_HHH-14778/tree/main.\r\n\r\nmaybe it&#39;s helpful","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>I am experiencing the same issue as you are. After I researched this problem i found the answer on <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2370\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/issues/2370</a></p>\n<p>The problem will be solved by using Spring Data JPA 2.7. You can find the source code to demonstrate this at <a href=\"https://github.com/heowc-scratch/hibernate_postgres_HHH-14778/tree/main\" rel=\"nofollow noreferrer\">https://github.com/heowc-scratch/hibernate_postgres_HHH-14778/tree/main</a>.</p>\n<p>maybe it's helpful</p>\n"}],"owner":{"account_id":347560,"reputation":3575,"user_id":681752,"accept_rate":80,"display_name":"rhorvath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7871,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1683613823,"creation_date":1461569859,"question_id":36834537,"body_markdown":"After switching from MySQL to **PostgreSQL** I found out that my SQL query (@Query in spring data repository interface) does not work anymore. The issue is caused by **null** value being sent as **bytea** and I&#39;m getting following exception:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: bigint = bytea\r\n    Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n\r\nRepository with @Query:\r\n\r\n    public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\r\n        @Query(value = &quot;SELECT * FROM WINE w WHERE (?1 IS NULL OR w.id = ?1)&quot;, nativeQuery = true)\r\n        Wine simpleTest(Long id);\r\n    }\r\n\r\nSimple test:\r\n\r\n    LOGGER.warn(&quot;test1: {}&quot;, wineRepository.simpleTest(1L));    //ok\r\n    LOGGER.warn(&quot;test2: {}&quot;, wineRepository.simpleTest(null));  //PSQLException\r\n\r\nIn the real case I have multiple parameters which can be null and I would prefer not checking them in java code but sending them to sql query. I have checked questions here on stackoverflow but found none with a good answer especially for spring data repository @query annotation. \r\n\r\n**What is a correct way of handling null values with PostgreSQL? Or do you have any hints how to fix my approach?** Thanks!\r\n\r\n\r\n**Update:**\r\nIssue seems to be related to `nativeQuery = true`, when value is false, null values work as expected. So the question is whether it is possible to make it function even with nativeQuery enabled.","title":"Spring data repository sends null as bytea to PostgreSQL database","body":"<p>After switching from MySQL to <strong>PostgreSQL</strong> I found out that my SQL query (@Query in spring data repository interface) does not work anymore. The issue is caused by <strong>null</strong> value being sent as <strong>bytea</strong> and I'm getting following exception:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: bigint = bytea\nHint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<p>Repository with @Query:</p>\n\n<pre><code>public interface WineRepository extends PagingAndSortingRepository&lt;Wine, Long&gt; {\n    @Query(value = \"SELECT * FROM WINE w WHERE (?1 IS NULL OR w.id = ?1)\", nativeQuery = true)\n    Wine simpleTest(Long id);\n}\n</code></pre>\n\n<p>Simple test:</p>\n\n<pre><code>LOGGER.warn(\"test1: {}\", wineRepository.simpleTest(1L));    //ok\nLOGGER.warn(\"test2: {}\", wineRepository.simpleTest(null));  //PSQLException\n</code></pre>\n\n<p>In the real case I have multiple parameters which can be null and I would prefer not checking them in java code but sending them to sql query. I have checked questions here on stackoverflow but found none with a good answer especially for spring data repository @query annotation. </p>\n\n<p><strong>What is a correct way of handling null values with PostgreSQL? Or do you have any hints how to fix my approach?</strong> Thanks!</p>\n\n<p><strong>Update:</strong>\nIssue seems to be related to <code>nativeQuery = true</code>, when value is false, null values work as expected. So the question is whether it is possible to make it function even with nativeQuery enabled.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":0,"creation_date":1592479075,"post_id":62447977,"comment_id":110443181,"body_markdown":"Hi, thanks for your attempt to help. Unfortunately this does not solve the problem. I would have been surprised, That component scan should find only the configuration itself, which triggered the ComponentScan.","body":"Hi, thanks for your attempt to help. Unfortunately this does not solve the problem. I would have been surprised, That component scan should find only the configuration itself, which triggered the ComponentScan."},{"owner":{"account_id":2813880,"reputation":448,"user_id":2419499,"display_name":"Tanmoy Majumdar"},"score":0,"creation_date":1592480804,"post_id":62447977,"comment_id":110444053,"body_markdown":"`Finally, to make the autoconfiguration work, I placed a File spring.factories in the META-INF-Folder of the jar (yes, it is there!),`  you are doing this by placing the META-INF-Folder in the resource folder, right ?","body":"<code>Finally, to make the autoconfiguration work, I placed a File spring.factories in the META-INF-Folder of the jar (yes, it is there!),</code>  you are doing this by placing the META-INF-Folder in the resource folder, right ?"},{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":0,"creation_date":1592481103,"post_id":62447977,"comment_id":110444216,"body_markdown":"Yes. And I verify it is in the JAR by opening the JAR with my favorite Zip-Program, where I find in the root directory the two children: &quot;META-INF&quot; with the appropriate content and &quot;com&quot; (with the /mycorp/project/...)","body":"Yes. And I verify it is in the JAR by opening the JAR with my favorite Zip-Program, where I find in the root directory the two children: &quot;META-INF&quot; with the appropriate content and &quot;com&quot; (with the /mycorp/project/...)"},{"owner":{"account_id":2813880,"reputation":448,"user_id":2419499,"display_name":"Tanmoy Majumdar"},"score":0,"creation_date":1592482311,"post_id":62447977,"comment_id":110444816,"body_markdown":"@derM I guess auto-configuration is working but the problem here is the `@EventListener` is not fired(which is a different issue). to prove it can you plz add `@PostConstruct\npublic void postConstruct() {\n    messagePublisher.info(&quot;publisher constructed&quot;);\n}`","body":"@derM I guess auto-configuration is working but the problem here is the <code>@EventListener</code> is not fired(which is a different issue). to prove it can you plz add <code>@PostConstruct public void postConstruct() {     messagePublisher.info(&quot;publisher constructed&quot;); }</code>"},{"owner":{"account_id":2813880,"reputation":448,"user_id":2419499,"display_name":"Tanmoy Majumdar"},"score":0,"creation_date":1592482400,"post_id":62447977,"comment_id":110444867,"body_markdown":"@derM if the log `publisher constructed` is printed in the console then auto configuration is working","body":"@derM if the log <code>publisher constructed</code> is printed in the console then auto configuration is working"}],"tags":[],"owner":{"account_id":2813880,"reputation":448,"user_id":2419499,"display_name":"Tanmoy Majumdar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592482569,"creation_date":1592476386,"answer_id":62447977,"question_id":62447730,"body_markdown":"    @RequiredArgsConstructor\r\n    public class StartupNotificationPublisher {\r\n    private final String topic;\r\n\r\n    private final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\r\n\r\n    @PostConstruct\r\n    public void postConstruct() {\r\n        messagePublisher.info(&quot;publisher constructed&quot;);\r\n    }\r\n\r\n\r\n    @EventListener\r\n    public void onApplicationStartedEvent(ApplicationStartedEvent event) {\r\n        \r\n        messagePublisher.info(&quot;{}: Hello, Attention, I am here!&quot;, topic);\r\n    }}","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<pre><code>@RequiredArgsConstructor\npublic class StartupNotificationPublisher {\nprivate final String topic;\n\nprivate final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\n\n@PostConstruct\npublic void postConstruct() {\n    messagePublisher.info(\"publisher constructed\");\n}\n\n\n@EventListener\npublic void onApplicationStartedEvent(ApplicationStartedEvent event) {\n\n    messagePublisher.info(\"{}: Hello, Attention, I am here!\", topic);\n}}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":1,"creation_date":1592482825,"post_id":62449524,"comment_id":110445128,"body_markdown":"I feel so ashamed, it was a problem with the @ConditionalOnMissingBean. In my actual code I had it `@ConditionalOnMissingBean(name=&quot;StartupNotificationPublisher&quot;)` and from an older experiment, a Bean with this name did exist (same class name, diffrent package).  Thanks for your help with debugging.","body":"I feel so ashamed, it was a problem with the @ConditionalOnMissingBean. In my actual code I had it <code>@ConditionalOnMissingBean(name=&quot;StartupNotificationPublisher&zwnj;&#8203;&quot;)</code> and from an older experiment, a Bean with this name did exist (same class name, diffrent package).  Thanks for your help with debugging."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1592482919,"post_id":62449524,"comment_id":110445182,"body_markdown":"Cool, Really glad to hear you&#39;ve got it sorted. Keep it up and good luck   :)","body":"Cool, Really glad to hear you&#39;ve got it sorted. Keep it up and good luck   :)"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1592481670,"creation_date":1592481670,"answer_id":62449524,"question_id":62447730,"body_markdown":"Spring Factories, if configured correctly, have nothing to do with component scanning.\r\n\r\nI can confirm that you did everything right, the same configuration worked for my projects many times. So to track what happens:\r\n\r\n1. Make sure that given the module &quot;abc&quot;, you place the `spring.factories` file in:\r\n\r\n`abc/src/main/resources/META-INF/spring.factories`\r\n\r\n2. Make sure that the library jar indeed contains this file and it indeed resides in the artifact (your spring boot application). For that open the application with WinRar (or similar tool) and nagivate to `BOOT-INF/lib` - the jar should be there - open the jar and check that `META-INF/spring.factories` folder is there. If something is wrong here, check the dependencies in `pom.xml` the autoconfiguration module should be defined as a dependency of your spring boot application. \r\n\r\n3. Make sure that the configuration indeed loads (which means in turn the autoconfig module is recognized):\r\n\r\nRewrite the configuration in the following way:\r\n\r\n~~~\r\n@Configuration\r\npublic class StartupNotificationAutoConfiguration {\r\n\r\n    public StartupNotificationAutoConfiguration() {\r\n          System.out.println(&quot;Loading the configuration StartupNotificationAutoConfiguration&quot;); // or use logging framework\r\n    }\r\n\r\n   @ConditionalOnMissingBean\r\n   @Bean\r\n   StartupNotificationPublisher startupNotificationPublisher()\r\n   {\r\n    return new StartupNotificationPublisher(&quot;helloTopic&quot;);\r\n   }\r\n}\r\n~~~\r\n\r\nIf you see this message, then auto-configuration module is there and gets loaded by spring.\r\n\r\n4. Try to Remove `@ConditionalOnMissingBean` annotation. If the bean is defined in your application it will take precendence over beans defined in auto-configuration modules anyway. It can be a source of your issue as well.\r\n\r\n","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<p>Spring Factories, if configured correctly, have nothing to do with component scanning.</p>\n\n<p>I can confirm that you did everything right, the same configuration worked for my projects many times. So to track what happens:</p>\n\n<ol>\n<li>Make sure that given the module \"abc\", you place the <code>spring.factories</code> file in:</li>\n</ol>\n\n<p><code>abc/src/main/resources/META-INF/spring.factories</code></p>\n\n<ol start=\"2\">\n<li><p>Make sure that the library jar indeed contains this file and it indeed resides in the artifact (your spring boot application). For that open the application with WinRar (or similar tool) and nagivate to <code>BOOT-INF/lib</code> - the jar should be there - open the jar and check that <code>META-INF/spring.factories</code> folder is there. If something is wrong here, check the dependencies in <code>pom.xml</code> the autoconfiguration module should be defined as a dependency of your spring boot application. </p></li>\n<li><p>Make sure that the configuration indeed loads (which means in turn the autoconfig module is recognized):</p></li>\n</ol>\n\n<p>Rewrite the configuration in the following way:</p>\n\n<pre><code>@Configuration\npublic class StartupNotificationAutoConfiguration {\n\n    public StartupNotificationAutoConfiguration() {\n          System.out.println(\"Loading the configuration StartupNotificationAutoConfiguration\"); // or use logging framework\n    }\n\n   @ConditionalOnMissingBean\n   @Bean\n   StartupNotificationPublisher startupNotificationPublisher()\n   {\n    return new StartupNotificationPublisher(\"helloTopic\");\n   }\n}\n</code></pre>\n\n<p>If you see this message, then auto-configuration module is there and gets loaded by spring.</p>\n\n<ol start=\"4\">\n<li>Try to Remove <code>@ConditionalOnMissingBean</code> annotation. If the bean is defined in your application it will take precendence over beans defined in auto-configuration modules anyway. It can be a source of your issue as well.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":0,"creation_date":1678563195,"post_id":75708952,"comment_id":133559482,"body_markdown":"Thanks for this important info! Yet, it seems, _spring.factories_ still works - until further notice (_&quot;For backwards compatibility, entries in spring.factories will still be honored.&quot;_ ~ from your link) - I wonder if it is acceptable to provide both files in parallel to have it compatible with both Spring 2.x and 3.x?","body":"Thanks for this important info! Yet, it seems, <i>spring.factories</i> still works - until further notice (<i>&quot;For backwards compatibility, entries in spring.factories will still be honored.&quot;</i> ~ from your link) - I wonder if it is acceptable to provide both files in parallel to have it compatible with both Spring 2.x and 3.x?"},{"owner":{"account_id":8187839,"reputation":651,"user_id":6163105,"display_name":"David"},"score":1,"creation_date":1678689746,"post_id":75708952,"comment_id":133575306,"body_markdown":"@derM Your comment made me go and double check the information, turns out I was reading 2.7 release notes instead of 3.0. I&#39;ve done more digging and edited my answer. The deprecation of spring.factories was for spring boot 2.7 release, in 3.0 they completely removed support for that file.","body":"@derM Your comment made me go and double check the information, turns out I was reading 2.7 release notes instead of 3.0. I&#39;ve done more digging and edited my answer. The deprecation of spring.factories was for spring boot 2.7 release, in 3.0 they completely removed support for that file."},{"owner":{"account_id":186093,"reputation":5016,"user_id":423218,"accept_rate":75,"display_name":"BeepDog"},"score":2,"creation_date":1682613197,"post_id":75708952,"comment_id":134247048,"body_markdown":"I ran into this today, and on spring boot 3.0.6 spring.factories doesn&#39;t work any more. I couldn&#39;t get my autoconfiguration thing to fire up until I got it moved to the new location. And their documentation still shows the old way of doing it :(","body":"I ran into this today, and on spring boot 3.0.6 spring.factories doesn&#39;t work any more. I couldn&#39;t get my autoconfiguration thing to fire up until I got it moved to the new location. And their documentation still shows the old way of doing it :("}],"tags":[],"owner":{"account_id":8187839,"reputation":651,"user_id":6163105,"display_name":"David"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1683613671,"creation_date":1678562520,"answer_id":75708952,"question_id":62447730,"body_markdown":"I spent literally days on a similar issue and this is what worked for me. If you&#39;re using Spring boot 3+ they changed all this! You can find the change documented in the 2.7 release notes here: [2.7 release notes#auto-configuration][1]. In release 2.7 they supported both the old and new ways for backwards compatibility and marked spring.factories as deprecated ([deprecation notice][2]). They removed support completely in 3.0! You can find the removal information in the 2.7 -&gt; 3.0 migration guide here: [spring boot 2.7 -&gt; 3.0 migration guide#auto-configuration files][3]. In essence, you&#39;re now required to annotate your top level auto-configuration class with `@AutoConfiguration` and add the fully qualified name to a file in this location; `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports`; yes this is the name of the file. The different auto-configuration classes will be separated by newlines instead of a comma-separated string like in `spring.factories`.\r\n\r\nI hope this helped.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#auto-configuration-registration\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#deprecations-in-spring-boot-27\r\n  [3]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#auto-configuration-files","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<p>I spent literally days on a similar issue and this is what worked for me. If you're using Spring boot 3+ they changed all this! You can find the change documented in the 2.7 release notes here: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#auto-configuration-registration\" rel=\"noreferrer\">2.7 release notes#auto-configuration</a>. In release 2.7 they supported both the old and new ways for backwards compatibility and marked spring.factories as deprecated (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#deprecations-in-spring-boot-27\" rel=\"noreferrer\">deprecation notice</a>). They removed support completely in 3.0! You can find the removal information in the 2.7 -&gt; 3.0 migration guide here: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#auto-configuration-files\" rel=\"noreferrer\">spring boot 2.7 -&gt; 3.0 migration guide#auto-configuration files</a>. In essence, you're now required to annotate your top level auto-configuration class with <code>@AutoConfiguration</code> and add the fully qualified name to a file in this location; <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>; yes this is the name of the file. The different auto-configuration classes will be separated by newlines instead of a comma-separated string like in <code>spring.factories</code>.</p>\n<p>I hope this helped.</p>\n"}],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6622,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62449524,"answer_count":3,"score":4,"last_activity_date":1683613671,"creation_date":1592475533,"question_id":62447730,"body_markdown":"We intend to develop a library with Spring Components that all of our Spring Applications should have, like Beans that connect to our monitoring, administration and ochestration services.\r\n\r\nThe idea was, to make use of Springs&#39; &quot;AutoConfiguration&quot;-mechanism.\r\n\r\nFor a Starter I wrote a class `com.mycorp.project.basic.startup-notification.StartupNotificationPublisher.class` which, uppon &quot;ApplicationStartedEvent&quot; sends a Message via our favorite message broker (which for the exmample shall be a log file), saying hello to the world.\r\n\r\nAn instance of this class shall be created through the configuration class `com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration.class`\r\n\r\n\r\n    package com.mycorp.project.basic.startup-notification\r\n    // ... Imports\r\n    @RequiredArgsConstructor\r\n    public class StartupNotificationPublisher {\r\n        private final String topic;\r\n\r\n        private final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\r\n\r\n        @EventListener\r\n        public void onApplicationStartedEvent(ApplicationStartedEvent event) {\r\n            messagePublisher.info(&quot;{}: Hello, Attention, I am here!&quot;, topic);\r\n        }\r\n    }\r\n\r\n    package com.mycorp.project.basic.startup-notification.autoconfiguration\r\n    // ... Imports\r\n    @Configuration\r\n    public class StartupNotificationAutoConfiguration {\r\n\r\n        @ConditionalOnMissingBean\r\n        @Bean\r\n        StartupNotificationPublisher startupNotificationPublisher()\r\n        {\r\n            return new StartupNotificationPublisher(&quot;helloTopic&quot;);\r\n        }\r\n    }\r\n\r\nFinally, to make the autoconfiguration work, I placed a File `spring.factories` in the `META-INF`-Folder of the jar (*yes, it is there!*), containing:\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration\r\n\r\nI assumed, this will make spring do its magic, find that file when I add the dependency, run the configuration and create that bean to publish the message.\r\n\r\nThis however is not what happens. Only when I add the package to the scan path of my `@SpringBootApplication`, I will get my message.\r\n\r\n*What did I miss? Are there more specific requirements like special project structures? Do I need to have a library called spring-boot-starter or anything like that?*\r\n\r\n* [Not a Duplicate of this Question: That one is about Spring Cloud Config which we don&#39;t use](https://stackoverflow.com/questions/49520102/spring-boot-auto-config-spring-factories)\r\n* Not a Duplicate of any of the Questions where spring.factories does not end up in META-INF in the .jar, because in my case it is there.\r\n\r\nProjectStructure:\r\n\r\n    rootDirectory\r\n    |-src\r\n    |  |-main\r\n    |    |-java\r\n    |    | |-com/mycorp/project/basic/startup-notification\r\n    |    |                            |-autoconfiguration\r\n    |    |                            | |-StartupNotificationAutoConfiguration.java\r\n    |    |                            |-StartupNotificationPublisher.java\r\n    |    |-resources\r\n    |      |-META-INF\r\n    |        |-spring.factories\r\n    |-build.gradle\r\n    |-...etc...\r\n\r\nResulting Jar Structure:\r\n\r\n    .jar\r\n    |-META-INF\r\n    | |-spring.factories\r\n    |-com\r\n      |-mycorp\r\n        |-project\r\n          |-basic\r\n            |-startup-notification\r\n              |-autoconfiguration\r\n              | |-StartupNotificationAutoConfiguration.class\r\n              |-StartupNotificationPublisher.class\r\n","title":"Library with Spring AutoConfiguration: spring.factories and what else?","body":"<p>We intend to develop a library with Spring Components that all of our Spring Applications should have, like Beans that connect to our monitoring, administration and ochestration services.</p>\n\n<p>The idea was, to make use of Springs' \"AutoConfiguration\"-mechanism.</p>\n\n<p>For a Starter I wrote a class <code>com.mycorp.project.basic.startup-notification.StartupNotificationPublisher.class</code> which, uppon \"ApplicationStartedEvent\" sends a Message via our favorite message broker (which for the exmample shall be a log file), saying hello to the world.</p>\n\n<p>An instance of this class shall be created through the configuration class <code>com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration.class</code></p>\n\n<pre><code>package com.mycorp.project.basic.startup-notification\n// ... Imports\n@RequiredArgsConstructor\npublic class StartupNotificationPublisher {\n    private final String topic;\n\n    private final Logger messagePublisher = LoggerFactory.getLogger(StartupNotificationPublisher.class);\n\n    @EventListener\n    public void onApplicationStartedEvent(ApplicationStartedEvent event) {\n        messagePublisher.info(\"{}: Hello, Attention, I am here!\", topic);\n    }\n}\n\npackage com.mycorp.project.basic.startup-notification.autoconfiguration\n// ... Imports\n@Configuration\npublic class StartupNotificationAutoConfiguration {\n\n    @ConditionalOnMissingBean\n    @Bean\n    StartupNotificationPublisher startupNotificationPublisher()\n    {\n        return new StartupNotificationPublisher(\"helloTopic\");\n    }\n}\n</code></pre>\n\n<p>Finally, to make the autoconfiguration work, I placed a File <code>spring.factories</code> in the <code>META-INF</code>-Folder of the jar (<em>yes, it is there!</em>), containing:</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  com.mycorp.project.basic.startup-notification.autoconfiguration.StartupNotificationAutoConfiguration\n</code></pre>\n\n<p>I assumed, this will make spring do its magic, find that file when I add the dependency, run the configuration and create that bean to publish the message.</p>\n\n<p>This however is not what happens. Only when I add the package to the scan path of my <code>@SpringBootApplication</code>, I will get my message.</p>\n\n<p><em>What did I miss? Are there more specific requirements like special project structures? Do I need to have a library called spring-boot-starter or anything like that?</em></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49520102/spring-boot-auto-config-spring-factories\">Not a Duplicate of this Question: That one is about Spring Cloud Config which we don't use</a></li>\n<li>Not a Duplicate of any of the Questions where spring.factories does not end up in META-INF in the .jar, because in my case it is there.</li>\n</ul>\n\n<p>ProjectStructure:</p>\n\n<pre><code>rootDirectory\n|-src\n|  |-main\n|    |-java\n|    | |-com/mycorp/project/basic/startup-notification\n|    |                            |-autoconfiguration\n|    |                            | |-StartupNotificationAutoConfiguration.java\n|    |                            |-StartupNotificationPublisher.java\n|    |-resources\n|      |-META-INF\n|        |-spring.factories\n|-build.gradle\n|-...etc...\n</code></pre>\n\n<p>Resulting Jar Structure:</p>\n\n<pre><code>.jar\n|-META-INF\n| |-spring.factories\n|-com\n  |-mycorp\n    |-project\n      |-basic\n        |-startup-notification\n          |-autoconfiguration\n          | |-StartupNotificationAutoConfiguration.class\n          |-StartupNotificationPublisher.class\n</code></pre>\n"},{"tags":["java","maven","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1681311348,"post_id":75996306,"comment_id":134036535,"body_markdown":"Does this answer your question? [failing to load log4j2 while running fatjar](https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar\">failing to load log4j2 while running fatjar</a>"},{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":0,"creation_date":1681375362,"post_id":75996306,"comment_id":134047049,"body_markdown":"@PiotrP.Karwasz thanks so much for your comment. It didn&#39;t solve my problem but it leaded me to some useful information. I will post the solution I found.","body":"@PiotrP.Karwasz thanks so much for your comment. It didn&#39;t solve my problem but it leaded me to some useful information. I will post the solution I found."}],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1681467896,"post_id":76003471,"comment_id":134064799,"body_markdown":"The `Log4j2Plugins.dat` files need to be **merged**. Removing a copy of `Log4j2Plugins.dat` prevents Log4j from discovering the plugins contained in that jar. You might as well remove the jar itself.","body":"The <code>Log4j2Plugins.dat</code> files need to be <b>merged</b>. Removing a copy of <code>Log4j2Plugins.dat</code> prevents Log4j from discovering the plugins contained in that jar. You might as well remove the jar itself."},{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":0,"creation_date":1681582946,"post_id":76003471,"comment_id":134081141,"body_markdown":"@PiotrP.Karwasz thanks so much for your answer. My solution works too, but maybe because I am not using classes from other `Log4j2Plugins.dat` files. I will keep that in mind.","body":"@PiotrP.Karwasz thanks so much for your answer. My solution works too, but maybe because I am not using classes from other <code>Log4j2Plugins.dat</code> files. I will keep that in mind."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":2,"creation_date":1681587269,"post_id":76003471,"comment_id":134081753,"body_markdown":"I am sure it works to some extent, but it prevents you from using all the Log4j 2.x plugins on the classpath. BTW: Eduard&#39;s transformer has been donated to Log4j project a while ago (cf. [PR #2](https://github.com/apache/logging-log4j-tools/pull/2)), we just didn&#39;t have the time to publish it yet. We should be able to do it soon.","body":"I am sure it works to some extent, but it prevents you from using all the Log4j 2.x plugins on the classpath. BTW: Eduard&#39;s transformer has been donated to Log4j project a while ago (cf. <a href=\"https://github.com/apache/logging-log4j-tools/pull/2\" rel=\"nofollow noreferrer\">PR #2</a>), we just didn&#39;t have the time to publish it yet. We should be able to do it soon."}],"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681582788,"creation_date":1681375732,"answer_id":76003471,"question_id":75996306,"body_markdown":"After more investigation, I added a new commit to the sample project [log4j2-thread-context](https://github.com/fmaylinch/log4j2-thread-context) with the fixes, so now it works fine.\r\n\r\nI also added another fix related to `Log4j2Plugins.dat` (see https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar), that I didn&#39;t mention in my question.\r\n\r\nIn summary:\r\n- I add the required `Multi-Release` entry to `MANIFEST.MF` using `ManifestResourceTransformer`.\r\n- I copy the correct `Log4j2Plugins.dat` using `IncludeResourceTransformer`.\r\n\r\nMaybe someone can explain about the `Multi-Release` entry.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;filters&gt;\r\n            &lt;!-- Ignore these files, we will write the right one below --&gt;\r\n            &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/filter&gt;\r\n        &lt;/filters&gt;\r\n        &lt;transformers&gt;\r\n            &lt;!--\r\n              Copies the right Log4j2Plugins.dat file.\r\n              You need a copy of the right Log4j2Plugins.dat file from log4j2-core into src/main/resources.\r\n              You can get that file with these commands:\r\n                log4j2_version=2.17.2\r\n                rm src/main/resources/Log4j2Plugins-*.dat\r\n                unzip -j $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/${log4j2_version}/log4j-core-${log4j2_version}.jar META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat -d src/main/resources\r\n                mv src/main/resources/Log4j2Plugins.dat src/main/resources/Log4j2Plugins-${log4j2_version}.dat\r\n            --&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\r\n                &lt;resource&gt;META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat&lt;/resource&gt;\r\n                &lt;file&gt;src/main/resources/Log4j2Plugins-${log4j2.version}.dat&lt;/file&gt;\r\n            &lt;/transformer&gt;\r\n\r\n            &lt;!-- Adds the Multi-Release entry in MANIFEST.MF --&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                &lt;manifestEntries&gt;\r\n                    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                &lt;/manifestEntries&gt;\r\n            &lt;/transformer&gt;\r\n        &lt;/transformers&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAbout `Log4j2Plugins.dat`, an alternative to `IncludeResourceTransformer` is filtering all the versions except the one in `log4j-core`. For example:\r\n\r\n```xml\r\n&lt;filter&gt;\r\n    &lt;artifact&gt;io.github.technologize:*&lt;/artifact&gt;\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n    &lt;/excludes&gt;\r\n&lt;/filter&gt;\r\n&lt;!-- filter other artifacts if needed --&gt;\r\n```\r\n\r\nI don&#39;t like either solution because:\r\n- If you add a copy of the file, you need to update it in case you update Log4j2. You may use this [3rd party plugin](https://stackoverflow.com/a/36469245/1121497), but then you rely on a 3rd party plugin.\r\n- If you add filters, you need to modify them in case you modify the dependencies (e.g. maybe you add a new dependency that contains another version of this `dat` file).","title":"Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin","body":"<p>After more investigation, I added a new commit to the sample project <a href=\"https://github.com/fmaylinch/log4j2-thread-context\" rel=\"nofollow noreferrer\">log4j2-thread-context</a> with the fixes, so now it works fine.</p>\n<p>I also added another fix related to <code>Log4j2Plugins.dat</code> (see <a href=\"https://stackoverflow.com/questions/27361052/failing-to-load-log4j2-while-running-fatjar\">failing to load log4j2 while running fatjar</a>), that I didn't mention in my question.</p>\n<p>In summary:</p>\n<ul>\n<li>I add the required <code>Multi-Release</code> entry to <code>MANIFEST.MF</code> using <code>ManifestResourceTransformer</code>.</li>\n<li>I copy the correct <code>Log4j2Plugins.dat</code> using <code>IncludeResourceTransformer</code>.</li>\n</ul>\n<p>Maybe someone can explain about the <code>Multi-Release</code> entry.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;filters&gt;\n            &lt;!-- Ignore these files, we will write the right one below --&gt;\n            &lt;filter&gt;\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;transformers&gt;\n            &lt;!--\n              Copies the right Log4j2Plugins.dat file.\n              You need a copy of the right Log4j2Plugins.dat file from log4j2-core into src/main/resources.\n              You can get that file with these commands:\n                log4j2_version=2.17.2\n                rm src/main/resources/Log4j2Plugins-*.dat\n                unzip -j $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/${log4j2_version}/log4j-core-${log4j2_version}.jar META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat -d src/main/resources\n                mv src/main/resources/Log4j2Plugins.dat src/main/resources/Log4j2Plugins-${log4j2_version}.dat\n            --&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\n                &lt;resource&gt;META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat&lt;/resource&gt;\n                &lt;file&gt;src/main/resources/Log4j2Plugins-${log4j2.version}.dat&lt;/file&gt;\n            &lt;/transformer&gt;\n\n            &lt;!-- Adds the Multi-Release entry in MANIFEST.MF --&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                &lt;manifestEntries&gt;\n                    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n                &lt;/manifestEntries&gt;\n            &lt;/transformer&gt;\n        &lt;/transformers&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>About <code>Log4j2Plugins.dat</code>, an alternative to <code>IncludeResourceTransformer</code> is filtering all the versions except the one in <code>log4j-core</code>. For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;artifact&gt;io.github.technologize:*&lt;/artifact&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/filter&gt;\n&lt;!-- filter other artifacts if needed --&gt;\n</code></pre>\n<p>I don't like either solution because:</p>\n<ul>\n<li>If you add a copy of the file, you need to update it in case you update Log4j2. You may use this <a href=\"https://stackoverflow.com/a/36469245/1121497\">3rd party plugin</a>, but then you rely on a 3rd party plugin.</li>\n<li>If you add filters, you need to modify them in case you modify the dependencies (e.g. maybe you add a new dependency that contains another version of this <code>dat</code> file).</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"score":0,"creation_date":1681583102,"post_id":76015329,"comment_id":134081170,"body_markdown":"Could you add an example of `spring-boot-maven-plugin`? Does it have the problem with `Log4j2Plugins.dat`. Is it anyway necessary to use `Log4j2PluginCacheFileTransformer`?","body":"Could you add an example of <code>spring-boot-maven-plugin</code>? Does it have the problem with <code>Log4j2Plugins.dat</code>. Is it anyway necessary to use <code>Log4j2PluginCacheFileTransformer</code>?"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683613446,"creation_date":1681476922,"answer_id":76015329,"question_id":75996306,"body_markdown":"The problem with `maven-shade-plugin` is that it breaks the manifest of the original jars and overwrites important resources. I find the [`spring-boot-maven-plugin`](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage) much more useful and it can be also used by applications that don&#39;t use Spring at all.\r\n\r\nThe `maven-shade-plugin` in the context of Log4j requires a minimal configuration as [in this question](https://github.com/apache/logging-log4j2/issues/1386#issuecomment-1481686029):\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-transform-maven-shade-plugin-extensions&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;configuration&gt;\r\n    &lt;transformers&gt;\r\n      &lt;transformer implementation=&quot;org.apache.logging.log4j.maven.plugins.shade.transformer.Log4j2PluginCacheFileTransformer&quot;/&gt;\r\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n        &lt;manifestEntries&gt;\r\n          &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n        &lt;/manifestEntries&gt;\r\n      &lt;/transformer&gt;\r\n    &lt;/transformers&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis configuration takes care of:\r\n\r\n * **merging** `Log4j2Plugins.dat` files. Without `Log4j2PluginCacheFileTransformer` you can not use additional component libraries except `log4j-api` and `log4j-core`,\r\n * **merging** service files. Without `ServiceResourceTransformer` you&#39;ll lose additional component like property sources,\r\n * marking the JAR as multi-release jar: some classes used to gather caller&#39;s information were replaced in JDK 11. Therefore some Log4j classes have two versions (JDK 8 and JDK 9+). If you don&#39;t mark the JAR as multi-release, it will not work on JDK 11+.\r\n\r\n**Edit:** All these problems with the `maven-shade-plugin` sum up to one: every time two jars have a file with the same name, it must be somehow merged.\r\n\r\nThat is why I prefer the `spring-boot-maven-plugin`: instead of breaking multiple jars and adding their files into a single archive, it adds the original jars to the archive. The exact structure of the resulting jar is described in [executable Jar format](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html).\r\n\r\nThe usage is straightforward: just add the `repackage` goal to your build and remove `maven-shade-plugin`.\r\n\r\n```lang-xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.10&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis will effectively add the small [`spring-boot-loader`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-loader) to your application. Version 2.x of the library requires Java 8, while version 3.x requires Java 17.","title":"Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin","body":"<p>The problem with <code>maven-shade-plugin</code> is that it breaks the manifest of the original jars and overwrites important resources. I find the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#goals-repackage\" rel=\"nofollow noreferrer\"><code>spring-boot-maven-plugin</code></a> much more useful and it can be also used by applications that don't use Spring at all.</p>\n<p>The <code>maven-shade-plugin</code> in the context of Log4j requires a minimal configuration as <a href=\"https://github.com/apache/logging-log4j2/issues/1386#issuecomment-1481686029\" rel=\"nofollow noreferrer\">in this question</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-transform-maven-shade-plugin-extensions&lt;/artifactId&gt;\n      &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;configuration&gt;\n    &lt;transformers&gt;\n      &lt;transformer implementation=&quot;org.apache.logging.log4j.maven.plugins.shade.transformer.Log4j2PluginCacheFileTransformer&quot;/&gt;\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n      &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n        &lt;manifestEntries&gt;\n          &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n        &lt;/manifestEntries&gt;\n      &lt;/transformer&gt;\n    &lt;/transformers&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This configuration takes care of:</p>\n<ul>\n<li><strong>merging</strong> <code>Log4j2Plugins.dat</code> files. Without <code>Log4j2PluginCacheFileTransformer</code> you can not use additional component libraries except <code>log4j-api</code> and <code>log4j-core</code>,</li>\n<li><strong>merging</strong> service files. Without <code>ServiceResourceTransformer</code> you'll lose additional component like property sources,</li>\n<li>marking the JAR as multi-release jar: some classes used to gather caller's information were replaced in JDK 11. Therefore some Log4j classes have two versions (JDK 8 and JDK 9+). If you don't mark the JAR as multi-release, it will not work on JDK 11+.</li>\n</ul>\n<p><strong>Edit:</strong> All these problems with the <code>maven-shade-plugin</code> sum up to one: every time two jars have a file with the same name, it must be somehow merged.</p>\n<p>That is why I prefer the <code>spring-boot-maven-plugin</code>: instead of breaking multiple jars and adding their files into a single archive, it adds the original jars to the archive. The exact structure of the resulting jar is described in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html\" rel=\"nofollow noreferrer\">executable Jar format</a>.</p>\n<p>The usage is straightforward: just add the <code>repackage</code> goal to your build and remove <code>maven-shade-plugin</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.7.10&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This will effectively add the small <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-loader\" rel=\"nofollow noreferrer\"><code>spring-boot-loader</code></a> to your application. Version 2.x of the library requires Java 8, while version 3.x requires Java 17.</p>\n"}],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015329,"answer_count":2,"score":0,"last_activity_date":1683613446,"creation_date":1681307633,"question_id":75996306,"body_markdown":"I add an appender programmatically. It was working until I added `maven-shade-plugin`. I wonder what makes my appender fail.\r\n\r\nThe appender works ✅ or not ❌ in these scenarios:\r\n1. ✅ From IDE (IntelliJ IDEA)\r\n1. ❌ With the shade (Uber/fat) jar &lt;-- now works ✅ see answer\r\n1. ✅ With separate jars (app jar, log4j jars)\r\n1. ❌ With the app jar, and the log4j jars unzipped into a folder\r\n1. ✅ With the app jar, and the log4j folder re-zipped\r\n\r\n### Sample project\r\n- https://github.com/fmaylinch/log4j2-thread-context\r\n- Here&#39;s the point where I add the custom appender:\r\n[ThreadContextFileLogHandler.java#L79](https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L79)\r\n- When the appender fails, it&#39;s because it doesn&#39;t receive the events here: [ThreadContextFileLogHandler.java#L156](https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L156)\r\n\r\n### Reproduce scenarios with the sample project above\r\n\r\n```bash\r\nmvn clean compile\r\nmkdir -p local/log4j-jars\r\nunzip $HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar -d local/log4j-jars\r\nunzip -o $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar -d local/log4j-jars\r\ncd local/log4j-jars\r\nzip -r ../log4j-jars.zip .\r\ncd ../..\r\n\r\n# Scenario 2 ❌ uses fat jar\r\njava -cp &quot;target/log4j-test-1.0-SNAPSHOT.jar&quot; org.example.Main\r\n\r\n# Scenario 3 ✅ uses separate jars\r\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar&quot; org.example.Main\r\n\r\n# Scenario 4 ❌ uses log4j files unzipped\r\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars&quot; org.example.Main\r\n\r\n# Scenario 5 ✅ uses log4j files re-zipped\r\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars.zip&quot; org.example.Main\r\n```\r\n\r\n## Extra notes\r\n\r\nIn the scenario 5, I have noticed that I can remove some files in `META-INF`, but for my appender to work, I need to keep the following:\r\n- `META-INF`\r\n  - `org` (contains `Log4j2Plugins.dat`)\r\n  - `services` (without this, the app even crashes)\r\n  - `versions`\r\n  - `MANIFES.MF`\r\n\r\n\r\n### Related questions\r\n\r\n- https://stackoverflow.com/questions/67230924/log4j2-jsontemplatelayout-not-working-with-maven-shade-plugin - this seems to be a problem with `Log4j2Plugins.dat`, but in my project there&#39;s only one file, in `log4j2-core`.\r\n- https://stackoverflow.com/questions/4677674/is-there-any-diff-between-run-a-java-program-with-jar-or-with-a-package-unpacked - according to my problem, there IS a difference (maybe the `META-INF` folder is not processed like in a jar)","title":"Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin","body":"<p>I add an appender programmatically. It was working until I added <code>maven-shade-plugin</code>. I wonder what makes my appender fail.</p>\n<p>The appender works ✅ or not ❌ in these scenarios:</p>\n<ol>\n<li>✅ From IDE (IntelliJ IDEA)</li>\n<li>❌ With the shade (Uber/fat) jar &lt;-- now works ✅ see answer</li>\n<li>✅ With separate jars (app jar, log4j jars)</li>\n<li>❌ With the app jar, and the log4j jars unzipped into a folder</li>\n<li>✅ With the app jar, and the log4j folder re-zipped</li>\n</ol>\n<h3>Sample project</h3>\n<ul>\n<li><a href=\"https://github.com/fmaylinch/log4j2-thread-context\" rel=\"nofollow noreferrer\">https://github.com/fmaylinch/log4j2-thread-context</a></li>\n<li>Here's the point where I add the custom appender:\n<a href=\"https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L79\" rel=\"nofollow noreferrer\">ThreadContextFileLogHandler.java#L79</a></li>\n<li>When the appender fails, it's because it doesn't receive the events here: <a href=\"https://github.com/fmaylinch/log4j2-thread-context/blob/master/src/main/java/org/example/ThreadContextFileLogHandler.java#L156\" rel=\"nofollow noreferrer\">ThreadContextFileLogHandler.java#L156</a></li>\n</ul>\n<h3>Reproduce scenarios with the sample project above</h3>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean compile\nmkdir -p local/log4j-jars\nunzip $HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar -d local/log4j-jars\nunzip -o $HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar -d local/log4j-jars\ncd local/log4j-jars\nzip -r ../log4j-jars.zip .\ncd ../..\n\n# Scenario 2 ❌ uses fat jar\njava -cp &quot;target/log4j-test-1.0-SNAPSHOT.jar&quot; org.example.Main\n\n# Scenario 3 ✅ uses separate jars\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.17.2/log4j-core-2.17.2.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar&quot; org.example.Main\n\n# Scenario 4 ❌ uses log4j files unzipped\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars&quot; org.example.Main\n\n# Scenario 5 ✅ uses log4j files re-zipped\njava -cp &quot;target/original-log4j-test-1.0-SNAPSHOT.jar:local/log4j-jars.zip&quot; org.example.Main\n</code></pre>\n<h2>Extra notes</h2>\n<p>In the scenario 5, I have noticed that I can remove some files in <code>META-INF</code>, but for my appender to work, I need to keep the following:</p>\n<ul>\n<li><code>META-INF</code>\n<ul>\n<li><code>org</code> (contains <code>Log4j2Plugins.dat</code>)</li>\n<li><code>services</code> (without this, the app even crashes)</li>\n<li><code>versions</code></li>\n<li><code>MANIFES.MF</code></li>\n</ul>\n</li>\n</ul>\n<h3>Related questions</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67230924/log4j2-jsontemplatelayout-not-working-with-maven-shade-plugin\">log4j2 JsonTemplateLayout not working with maven shade plugin</a> - this seems to be a problem with <code>Log4j2Plugins.dat</code>, but in my project there's only one file, in <code>log4j2-core</code>.</li>\n<li><a href=\"https://stackoverflow.com/questions/4677674/is-there-any-diff-between-run-a-java-program-with-jar-or-with-a-package-unpacked\">is there any diff between run a java program with jar or with a package unpacked?</a> - according to my problem, there IS a difference (maybe the <code>META-INF</code> folder is not processed like in a jar)</li>\n</ul>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1683595796,"post_id":76205282,"comment_id":134387441,"body_markdown":"Probably there&#39;s a newline on the end of the string which is matching `[^\\&quot;);]`. Why not just use `https?:[^\\&quot;);]+`","body":"Probably there&#39;s a newline on the end of the string which is matching <code>[^\\&quot;);]</code>. Why not just use <code>https?:[^\\&quot;);]+</code>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1683613507,"post_id":76205282,"comment_id":134389125,"body_markdown":"You don&#39;t need all the code: [It can be done in one line](https://stackoverflow.com/a/76206073/256196).","body":"You don&#39;t need all the code: <a href=\"https://stackoverflow.com/a/76206073/256196\">It can be done in one line</a>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683596579,"creation_date":1683596579,"answer_id":76205334,"question_id":76205282,"body_markdown":"There is a newline at the end of the string. Since `\\S+` is greedy, it matches all the characters up to there, leaving the newline for `[^&quot;\\);]`.\r\n\r\nYou could directly use `https?:[^&quot;\\);\\s]+` instead, which matches a sequence of consecutive characters that are not part of the excluded ones.","title":"Java Regex pattern to extract a url from a response string using Pattern and Matcher","body":"<p>There is a newline at the end of the string. Since <code>\\S+</code> is greedy, it matches all the characters up to there, leaving the newline for <code>[^&quot;\\);]</code>.</p>\n<p>You could directly use <code>https?:[^&quot;\\);\\s]+</code> instead, which matches a sequence of consecutive characters that are not part of the excluded ones.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683613313,"creation_date":1683609697,"answer_id":76206073,"question_id":76205282,"body_markdown":"I would go for something simpler:\r\n\r\n    &quot;https?://[^\\&quot;]+&quot;\r\n\r\n(see [live demo][1])\r\n\r\nwhich matches everything up to, but not including, the next `&quot;`.\r\n\r\n&quot;//&quot; added to the protocol for tighter match.\r\n\r\n---\r\n\r\nBy the way, you don&#39;t need all that code. This returns the url, or blank if no url found, all in one line of code:\r\n\r\n\tpublic static  String extractUrl(String str) {\r\n        return str.replaceAll(&quot;(?s).*?(?=http)([^\\&quot;]+).*|.*&quot;, &quot;$1&quot;);\r\n    }\r\n\r\nSee [live java demo][2].\r\n\r\nThe extra `|.*` at the end handles the &quot;no url&quot; scenario as a fallback in case the first regex fails to match, in which case group 1 will be blank.\r\n\r\n\r\n  [1]: https://rubular.com/r/cKAW6wlFISObVa\r\n  [2]: https://ideone.com/ImmId5","title":"Java Regex pattern to extract a url from a response string using Pattern and Matcher","body":"<p>I would go for something simpler:</p>\n<pre><code>&quot;https?://[^\\&quot;]+&quot;\n</code></pre>\n<p>(see <a href=\"https://rubular.com/r/cKAW6wlFISObVa\" rel=\"nofollow noreferrer\">live demo</a>)</p>\n<p>which matches everything up to, but not including, the next <code>&quot;</code>.</p>\n<p>&quot;//&quot; added to the protocol for tighter match.</p>\n<hr />\n<p>By the way, you don't need all that code. This returns the url, or blank if no url found, all in one line of code:</p>\n<pre><code>public static  String extractUrl(String str) {\n    return str.replaceAll(&quot;(?s).*?(?=http)([^\\&quot;]+).*|.*&quot;, &quot;$1&quot;);\n}\n</code></pre>\n<p>See <a href=\"https://ideone.com/ImmId5\" rel=\"nofollow noreferrer\">live java demo</a>.</p>\n<p>The extra <code>|.*</code> at the end handles the &quot;no url&quot; scenario as a fallback in case the first regex fails to match, in which case group 1 will be blank.</p>\n"}],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76205334,"answer_count":2,"score":0,"last_activity_date":1683613313,"creation_date":1683595362,"question_id":76205282,"body_markdown":"from the following response string I want to extract the the http url . \r\n\r\n    throw &#39;allowScriptTagRemoting is false.&#39;;\r\n    //#AWR-INSERT\r\n    //#AWR-REPLY\r\n    dwr.engine._remoteHandleCallback(&#39;2&#39;,&#39;0&#39;,\\&quot;https://azqa.ms.tors.com/mediaservice/api/v2/media/showme_cf17c4eb_8368_4862_a97a_a5a435849e32/NG_LANDING/status?token=96389580449a866d787fcc1fbb8dac8fa893d8378a9d0a9b28a6569f29acb97cd85292dec28c2a3dad7c97dda33140a3f34fe7929e2646714a9a183cc58f8f9c,7400505368697056934,1683592125,2&quot;);\r\n\r\nI tried the following code using Pattern and Matcher:\r\n\r\n     public static  String extractUrl(String str){\r\n                String url= &quot;&quot;;\r\n                Pattern pattern = Pattern.compile(&quot;https?:\\\\S+[^\\&quot;);]&quot;);\r\n                Matcher matcher = pattern.matcher(str);\r\n                if(matcher.find()) {\r\n                    url = matcher.group(0);\r\n                    System.out.println(&quot;Media services URl is :\\n &quot;+ url);\r\n                    log.info(&quot;Media services URl is :\\n {}&quot;, url);\r\n                }\r\n                    return url;\r\n       }\r\n\r\nHowever, I see the `&quot;);` getting appended to the `url`. What am I missing here? , shouldn&#39;t the `[^\\&quot;);]` exclude the same. \r\n\r\n[on : regex101][1] \r\n\r\n\r\n  [1]: https://regex101.com/r/WojlZd/1","title":"Java Regex pattern to extract a url from a response string using Pattern and Matcher","body":"<p>from the following response string I want to extract the the http url .</p>\n<pre><code>throw 'allowScriptTagRemoting is false.';\n//#AWR-INSERT\n//#AWR-REPLY\ndwr.engine._remoteHandleCallback('2','0',\\&quot;https://azqa.ms.tors.com/mediaservice/api/v2/media/showme_cf17c4eb_8368_4862_a97a_a5a435849e32/NG_LANDING/status?token=96389580449a866d787fcc1fbb8dac8fa893d8378a9d0a9b28a6569f29acb97cd85292dec28c2a3dad7c97dda33140a3f34fe7929e2646714a9a183cc58f8f9c,7400505368697056934,1683592125,2&quot;);\n</code></pre>\n<p>I tried the following code using Pattern and Matcher:</p>\n<pre><code> public static  String extractUrl(String str){\n            String url= &quot;&quot;;\n            Pattern pattern = Pattern.compile(&quot;https?:\\\\S+[^\\&quot;);]&quot;);\n            Matcher matcher = pattern.matcher(str);\n            if(matcher.find()) {\n                url = matcher.group(0);\n                System.out.println(&quot;Media services URl is :\\n &quot;+ url);\n                log.info(&quot;Media services URl is :\\n {}&quot;, url);\n            }\n                return url;\n   }\n</code></pre>\n<p>However, I see the <code>&quot;);</code> getting appended to the <code>url</code>. What am I missing here? , shouldn't the <code>[^\\&quot;);]</code> exclude the same.</p>\n<p><a href=\"https://regex101.com/r/WojlZd/1\" rel=\"nofollow noreferrer\">on : regex101</a></p>\n"},{"tags":["java","spring-boot","macos","docker","port"],"comments":[{"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"score":3,"creation_date":1637003608,"post_id":69979519,"comment_id":123703909,"body_markdown":"with `-p 9090:8080` your application inside docker would be reachable with `localhost:9090` on your machine, not 8080. Check your firewall, maybe something is wrong with your ports?","body":"with <code>-p 9090:8080</code> your application inside docker would be reachable with <code>localhost:9090</code> on your machine, not 8080. Check your firewall, maybe something is wrong with your ports?"},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1637012432,"post_id":69979519,"comment_id":123706794,"body_markdown":"@Manu while what you said is true, looking closer at the output it seems like the docker CLI is having problems to connect to the internal sockets","body":"@Manu while what you said is true, looking closer at the output it seems like the docker CLI is having problems to connect to the internal sockets"}],"answers":[{"tags":[],"owner":{"account_id":18185227,"reputation":63,"user_id":13232116,"display_name":"Yotam Cohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637086813,"creation_date":1637086813,"answer_id":69994235,"question_id":69979519,"body_markdown":"So I finally managed to solve the problem.\r\nThere were a few problems that I had:\r\n\r\nIn the Dockerfile:\r\n1. My java version is 11 so I had to change the line in the Dockerfile to &quot;FROM openjdk:11&quot;.\r\n\r\n2. I needed to add &quot;.jar&quot; to the last parameter in the ADD line.\r\n(changed it to ADD target/digital-wallet-docker.jar digital-wallet-docker.jar)\r\n\r\nIn my firewall:\r\nI needed to modify my privacy settings. I enabled the Location Services for Docker and it solved the &quot;Ports are not available&quot; error that I had.\r\n\r\nHope it&#39;ll help :)","title":"Docker - &quot;Ports are not available&quot; problem on Mac","body":"<p>So I finally managed to solve the problem.\nThere were a few problems that I had:</p>\n<p>In the Dockerfile:</p>\n<ol>\n<li><p>My java version is 11 so I had to change the line in the Dockerfile to &quot;FROM openjdk:11&quot;.</p>\n</li>\n<li><p>I needed to add &quot;.jar&quot; to the last parameter in the ADD line.\n(changed it to ADD target/digital-wallet-docker.jar digital-wallet-docker.jar)</p>\n</li>\n</ol>\n<p>In my firewall:\nI needed to modify my privacy settings. I enabled the Location Services for Docker and it solved the &quot;Ports are not available&quot; error that I had.</p>\n<p>Hope it'll help :)</p>\n"},{"tags":[],"owner":{"account_id":17693618,"reputation":11,"user_id":12844864,"display_name":"aabidm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683611650,"creation_date":1683611650,"answer_id":76206231,"question_id":69979519,"body_markdown":"Was facing a similar issue in Flask. Changed the port to 5004 and it worked!","title":"Docker - &quot;Ports are not available&quot; problem on Mac","body":"<p>Was facing a similar issue in Flask. Changed the port to 5004 and it worked!</p>\n"}],"owner":{"account_id":18185227,"reputation":63,"user_id":13232116,"display_name":"Yotam Cohen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1580,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683611650,"creation_date":1637002743,"question_id":69979519,"body_markdown":"I&#39;ve done a mini project with Java Spring and I&#39;m trying to Dockerize it.\r\nEverything is going fine until I try to run the docker.\r\nWhen I&#39;m running the docker I get a &quot;Ports are not available&quot; error.\r\n\r\n[![Dockerfile][1]][1]\r\n\r\n\r\n[![Terminal][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mur6I.png\r\n  [2]: https://i.stack.imgur.com/OQp2P.png\r\n\r\nI have been trying to set the EXPOSE on the Dockerfile to many other ports (8085, 9000, 9090...) and changing the docker run command accordingly but nothing worked.\r\nAnother thing to mention is that when I&#39;m trying to access &quot;http://localhost:8080/&quot; to see if it is actually taken, there is nothing there.\r\n\r\nHow do I fix it?\r\n\r\nUpdate: \r\nI tried running the getting-started docker and it gave me the same error message so the problem is with my docker.\r\nDoes anyone got the same problem and was able to fix it?","title":"Docker - &quot;Ports are not available&quot; problem on Mac","body":"<p>I've done a mini project with Java Spring and I'm trying to Dockerize it.\nEverything is going fine until I try to run the docker.\nWhen I'm running the docker I get a &quot;Ports are not available&quot; error.</p>\n<p><a href=\"https://i.stack.imgur.com/Mur6I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mur6I.png\" alt=\"Dockerfile\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/OQp2P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OQp2P.png\" alt=\"Terminal\" /></a></p>\n<p>I have been trying to set the EXPOSE on the Dockerfile to many other ports (8085, 9000, 9090...) and changing the docker run command accordingly but nothing worked.\nAnother thing to mention is that when I'm trying to access &quot;http://localhost:8080/&quot; to see if it is actually taken, there is nothing there.</p>\n<p>How do I fix it?</p>\n<p>Update:\nI tried running the getting-started docker and it gave me the same error message so the problem is with my docker.\nDoes anyone got the same problem and was able to fix it?</p>\n"},{"tags":["java","android","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":25538318,"reputation":1,"user_id":19324938,"display_name":"xenia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683610412,"creation_date":1683610412,"answer_id":76206126,"question_id":75402981,"body_markdown":"According to this article:[&quot;Avoiding memory leaks when using Data Binding and View Binding&quot; by Anders Ulln&#230;ss][1]  Yes, you have to set a data binding to null in the OnDestroyView() method because a data binding is actually a view binding. Alternatively, you can use the unbind() function.\r\n\r\n\r\n  [1]: https://proandroiddev.com/avoiding-memory-leaks-when-using-data-binding-and-view-binding-3b91d571c150","title":"set data binding null like view binding","body":"<p>According to this article:<a href=\"https://proandroiddev.com/avoiding-memory-leaks-when-using-data-binding-and-view-binding-3b91d571c150\" rel=\"nofollow noreferrer\">&quot;Avoiding memory leaks when using Data Binding and View Binding&quot; by Anders Ullnæss</a>  Yes, you have to set a data binding to null in the OnDestroyView() method because a data binding is actually a view binding. Alternatively, you can use the unbind() function.</p>\n"}],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683610412,"creation_date":1675967595,"question_id":75402981,"body_markdown":"One of our dear fellow android developer asked that [Is it necessary to set ViewBinding to null in Fragment&#39;s onDestroy()?][1] and the answer was yes. i don&#39;t use `view binding` per se, is use [Data Binding][2] mostly for fragment bescause of suggested [single activity][3] method. But i did not find any reference to set data binding null in `onDestroy` or `onDestroyView`. In data binding we can use `setLifecycleOwner` for our data binding. Life cycle owner can be `this` as the `fragment` itself or `requireActivity`. My two Questions are :\r\n\r\nQuestion 1 :  like `view binding` do we need to set dataBinding null ? (data binding kinda does view binding&#39;s job that&#39;s why i&#39;m asking this Question) \r\n\r\nQuestion 2 : if yes then what really `setLifecycleOwner` for ?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66119231/is-it-necessary-to-set-viewbinding-to-null-in-fragments-ondestroy\r\n  [2]: https://developer.android.com/topic/libraries/data-binding\r\n  [3]: https://developer.android.com/guide/navigation/navigation-getting-started","title":"set data binding null like view binding","body":"<p>One of our dear fellow android developer asked that <a href=\"https://stackoverflow.com/questions/66119231/is-it-necessary-to-set-viewbinding-to-null-in-fragments-ondestroy\">Is it necessary to set ViewBinding to null in Fragment's onDestroy()?</a> and the answer was yes. i don't use <code>view binding</code> per se, is use <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">Data Binding</a> mostly for fragment bescause of suggested <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">single activity</a> method. But i did not find any reference to set data binding null in <code>onDestroy</code> or <code>onDestroyView</code>. In data binding we can use <code>setLifecycleOwner</code> for our data binding. Life cycle owner can be <code>this</code> as the <code>fragment</code> itself or <code>requireActivity</code>. My two Questions are :</p>\n<p>Question 1 :  like <code>view binding</code> do we need to set dataBinding null ? (data binding kinda does view binding's job that's why i'm asking this Question)</p>\n<p>Question 2 : if yes then what really <code>setLifecycleOwner</code> for ?</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683609730,"creation_date":1569996676,"answer_id":58196069,"question_id":58193392,"body_markdown":"Here&#39;s the annotation processor that does what you want. Your attempt was pretty close I&#39;d say.\r\n\r\n    class AnnotationProcessor implements ParameterResolver{\r\n    \t@Override\r\n    \tpublic boolean supportsParameter(\r\n    \t\tParameterContext parameterContext, \r\n    \t\tExtensionContext extensionContext\r\n    \t) {\r\n    \t\tParameter parameter = parameterContext.getParameter();\r\n    \r\n    \t\tType type = parameter.getParameterizedType();\r\n    \t\tif (type instanceof ParameterizedType) {\r\n    \t\t\tParameterizedType parameterizedType = (ParameterizedType) type;\r\n    \t\t\tif (!parameterizedType.getRawType().equals(List.class))\r\n    \t\t\t\treturn false;\r\n    \t\t\tType firstParameterType = parameterizedType.getActualTypeArguments()[0];\r\n    \t\t\treturn firstParameterType.equals(Person.class);\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object resolveParameter(\r\n    \t\tParameterContext parameterContext,\r\n    \t\tExtensionContext extensionContext\r\n    \t) {\r\n    \t\treturn Arrays.asList(new Person(), new Person());\r\n    \t}\r\n    }\r\n\r\n## How does it work?\r\n\r\nHandling annotations through reflection is an involved task because it was added to Java as an afterthought. That&#39;s why you have to do all the `instanceof` type checking. Apart from that it works reliably.\r\n\r\n## Why does it work?\r\n\r\nType erasure does not strike in this case because type erasure only erases types from runtime objects. It does _not_ erase types from _type declarations_ like parameters and return types. If it did many of the funny things that libraries do with generic types would not work. There are a few bugs in the JDK regarding generic type handling together with annotations but they&#39;ll only get you if you go for esoteric stuff like &quot;annotations on type parameters in innner non static classes&quot;. For straightforward uses like yours everything should be fine.","title":"JUnit method parameter check if List&lt;Person&gt;","body":"<p>Here's the annotation processor that does what you want. Your attempt was pretty close I'd say.</p>\n<pre><code>class AnnotationProcessor implements ParameterResolver{\n    @Override\n    public boolean supportsParameter(\n        ParameterContext parameterContext, \n        ExtensionContext extensionContext\n    ) {\n        Parameter parameter = parameterContext.getParameter();\n\n        Type type = parameter.getParameterizedType();\n        if (type instanceof ParameterizedType) {\n            ParameterizedType parameterizedType = (ParameterizedType) type;\n            if (!parameterizedType.getRawType().equals(List.class))\n                return false;\n            Type firstParameterType = parameterizedType.getActualTypeArguments()[0];\n            return firstParameterType.equals(Person.class);\n        }\n\n        return false;\n    }\n\n    @Override\n    public Object resolveParameter(\n        ParameterContext parameterContext,\n        ExtensionContext extensionContext\n    ) {\n        return Arrays.asList(new Person(), new Person());\n    }\n}\n</code></pre>\n<h2>How does it work?</h2>\n<p>Handling annotations through reflection is an involved task because it was added to Java as an afterthought. That's why you have to do all the <code>instanceof</code> type checking. Apart from that it works reliably.</p>\n<h2>Why does it work?</h2>\n<p>Type erasure does not strike in this case because type erasure only erases types from runtime objects. It does <em>not</em> erase types from <em>type declarations</em> like parameters and return types. If it did many of the funny things that libraries do with generic types would not work. There are a few bugs in the JDK regarding generic type handling together with annotations but they'll only get you if you go for esoteric stuff like &quot;annotations on type parameters in innner non static classes&quot;. For straightforward uses like yours everything should be fine.</p>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58196069,"answer_count":1,"score":3,"last_activity_date":1683609730,"creation_date":1569971467,"question_id":58193392,"body_markdown":"In JUnit, I am using `ParameterResolver` to dynamically create and inject method argument to a `Test`, this works for non generic methods like the one below which is expecting `Person peron`. How can I instead change it to `List&lt;Person&gt; personList`and have the `supportsParameter` check if `List` is of `Person`\r\n\r\n    @ExtendWith({AnnotationProcessor.class})\r\n    public void testInject(Person person) {\r\n        System.out.println(person);\r\n    }\r\n\r\n\r\nAnnotationProcessor.java\r\n\r\n    @Override\r\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\r\n            throws ParameterResolutionException {\r\n        Parameter parameter = parameterContext.getParameter();\r\n        \r\n        return Person.class.equals(parameter.getType());\r\n    }\r\n\r\nThe closest I was able to use is :\r\n\r\n \r\n\r\n       @Override\r\n        public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\r\n                throws ParameterResolutionException {\r\n            Parameter parameter = parameterContext.getParameter();\r\n    \r\n            if (parameter.getParameterizedType()!= null &amp;&amp; List.class.equals(parameter.getType())) {\r\n                if (parameter.getParameterizedType() instanceof ParameterizedType) {\r\n                    ParameterizedType pt = (ParameterizedType)parameter.getParameterizedType();\r\n                    Class&lt;?&gt; clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\r\n                    if (clazz == Person.class) return true;\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n            return false;\r\n        }","title":"JUnit method parameter check if List&lt;Person&gt;","body":"<p>In JUnit, I am using <code>ParameterResolver</code> to dynamically create and inject method argument to a <code>Test</code>, this works for non generic methods like the one below which is expecting <code>Person peron</code>. How can I instead change it to <code>List&lt;Person&gt; personList</code>and have the <code>supportsParameter</code> check if <code>List</code> is of <code>Person</code></p>\n\n<pre><code>@ExtendWith({AnnotationProcessor.class})\npublic void testInject(Person person) {\n    System.out.println(person);\n}\n</code></pre>\n\n<p>AnnotationProcessor.java</p>\n\n<pre><code>@Override\npublic boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\n        throws ParameterResolutionException {\n    Parameter parameter = parameterContext.getParameter();\n\n    return Person.class.equals(parameter.getType());\n}\n</code></pre>\n\n<p>The closest I was able to use is :</p>\n\n<pre><code>   @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext)\n            throws ParameterResolutionException {\n        Parameter parameter = parameterContext.getParameter();\n\n        if (parameter.getParameterizedType()!= null &amp;&amp; List.class.equals(parameter.getType())) {\n            if (parameter.getParameterizedType() instanceof ParameterizedType) {\n                ParameterizedType pt = (ParameterizedType)parameter.getParameterizedType();\n                Class&lt;?&gt; clazz = (Class&lt;?&gt;)pt.getActualTypeArguments()[0];\n                if (clazz == Person.class) return true;\n            }\n\n\n        }\n\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":9849101,"reputation":1255,"user_id":7295690,"display_name":"seyed Jafari"},"score":0,"creation_date":1559447201,"post_id":56412033,"comment_id":99420966,"body_markdown":"try cleaning your project. \nI met the same issue and it was resolved by a clean","body":"try cleaning your project.  I met the same issue and it was resolved by a clean"},{"owner":{"account_id":6302644,"reputation":5803,"user_id":4896784,"display_name":"ismail alaoui"},"score":0,"creation_date":1559449322,"post_id":56412033,"comment_id":99421200,"body_markdown":"could you please add your app gradle dependencies ?","body":"could you please add your app gradle dependencies ?"},{"owner":{"account_id":3283149,"reputation":2897,"user_id":2763238,"accept_rate":76,"display_name":"jacoballenwood"},"score":0,"creation_date":1559507919,"post_id":56412033,"comment_id":99433198,"body_markdown":"hello, thanks for the comments. I have cleaned the project and added some additional information to the question, including my dependencies! Thanks!","body":"hello, thanks for the comments. I have cleaned the project and added some additional information to the question, including my dependencies! Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":16329662,"reputation":1144,"user_id":11793333,"display_name":"Henrique Vasconcellos"},"score":2,"creation_date":1656540927,"post_id":58087095,"comment_id":128601403,"body_markdown":"just to update on this, now you just need to add the dagger kapt to the base module to have all working.","body":"just to update on this, now you just need to add the dagger kapt to the base module to have all working."}],"tags":[],"owner":{"account_id":12566271,"reputation":634,"user_id":9142147,"display_name":"Maxim Alov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569353668,"creation_date":1569353668,"answer_id":58087095,"question_id":56412033,"body_markdown":"You have your ```BaseDialogFragment_MembersInjector``` generated multiple times actually, for each of your sub-modules, as described. And there is a collision while assembling the topmost **:app** module. Clean or delete **build/** directories and recreating them won&#39;t help actually.\r\n\r\nWhat you should do is to extend your ```BaseDialogFragment```, say, making ```SimpleBaseDialogFragment extends BaseDialogFragment``` in **:base** module (near ```BaseDialogFragment```).\r\n\r\n - Then you **must** add some dummy @Inject-annotated field to it (to force Dagger to generate single ```_MembersInjector``` in **:base** rather than in sub-modules).\r\n\r\n - And then extend any further dialog-fragments from that ```SimpleBaseDialogFragment```, then clear and rebuild project.\r\n\r\nFor example (in Kotlin):\r\n\r\n```lang-java\r\nclass DummyInjectableField @Inject constructor() {}\r\n\r\nclass SimpleBaseDialogFragment : BaseDialogFragment() {\r\n\r\n    @Inject lateinit var dummy: DummyInjectableField\r\n}\r\n\r\n```\r\n\r\nThis is just a workaround, and this helped in my case.\r\nPlease, see explanation here: https://github.com/google/dagger/issues/955\r\n","title":"Dagger generating duplicate `XXXDialogFragment_MembersInjector` classes in Android app (Program type already present)","body":"<p>You have your <code>BaseDialogFragment_MembersInjector</code> generated multiple times actually, for each of your sub-modules, as described. And there is a collision while assembling the topmost <strong>:app</strong> module. Clean or delete <strong>build/</strong> directories and recreating them won't help actually.</p>\n\n<p>What you should do is to extend your <code>BaseDialogFragment</code>, say, making <code>SimpleBaseDialogFragment extends BaseDialogFragment</code> in <strong>:base</strong> module (near <code>BaseDialogFragment</code>).</p>\n\n<ul>\n<li><p>Then you <strong>must</strong> add some dummy @Inject-annotated field to it (to force Dagger to generate single <code>_MembersInjector</code> in <strong>:base</strong> rather than in sub-modules).</p></li>\n<li><p>And then extend any further dialog-fragments from that <code>SimpleBaseDialogFragment</code>, then clear and rebuild project.</p></li>\n</ul>\n\n<p>For example (in Kotlin):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class DummyInjectableField @Inject constructor() {}\n\nclass SimpleBaseDialogFragment : BaseDialogFragment() {\n\n    @Inject lateinit var dummy: DummyInjectableField\n}\n\n</code></pre>\n\n<p>This is just a workaround, and this helped in my case.\nPlease, see explanation here: <a href=\"https://github.com/google/dagger/issues/955\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/955</a></p>\n"}],"owner":{"account_id":3283149,"reputation":2897,"user_id":2763238,"accept_rate":76,"display_name":"jacoballenwood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1683607903,"creation_date":1559446801,"question_id":56412033,"body_markdown":"I have a `BaseDialogFragment` that uses dependency injection with Dagger, and then I have two different modules that subclass the `BaseDialogFragment`.\r\n\r\nWhen attempting to build I&#39;m getting the following error:\r\n\r\n```\r\n&gt; Task :app:transformClassesWithDexBuilderForDevelopmentDebug\r\nAGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Program type already present: BaseDialogFragment_MembersInjector&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}\r\n\r\n&gt; Task :app:transformDexArchiveWithDexMergerForDevelopmentDebug FAILED\r\njava.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \r\n```\r\n\r\nI&#39;ve searched my project and it appears that there are only two different `BaseDialogFragment_MembersInjector` classes being generated: one in each respective module.\r\n\r\nI have already:\r\n\r\n1. Cleaned the project\r\n2. Deleted the generated duplicate class\r\n3. Invalidated caches and restarted\r\n4. Updated Dagger version\r\n3. Ensured that `multidexEnabled` is set to true\r\n6. Added unnecessary `@inject` field on base class per recommendation found [here](https://github.com/google/dagger/issues/955)\r\n\r\n---\r\n\r\n`android.gradle`:\r\n\r\n```gradle\r\nandroid {\r\n    compileSdkVersion &quot;$android_compile_version&quot;.toInteger()\r\n    defaultConfig {\r\n        minSdkVersion &quot;$android_min_sdk&quot;.toInteger()\r\n        targetSdkVersion &quot;$android_target_sdk&quot;.toInteger()\r\n        versionCode = 1\r\n        versionName = &quot;1.0&quot;\r\n        manifestPlaceholders = rootProject.ext.manifestPlaceholders\r\n\r\n        renderscriptTargetApi 17\r\n\r\n        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        multiDexEnabled true\r\n        vectorDrawables.useSupportLibrary = true\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [&quot;room.schemaLocation&quot;: &quot;$projectDir/schemas&quot;.toString()]\r\n            }\r\n        }\r\n    }\r\n\r\n    packagingOptions {\r\n        exclude &quot;META-INF/DEPENDENCIES&quot;\r\n        exclude &quot;META-INF/NOTICE&quot;\r\n        exclude &quot;META-INF/LICENSE&quot;\r\n        exclude &quot;META-INF/LICENSE.txt&quot;\r\n        exclude &quot;META-INF/NOTICE.txt&quot;\r\n        exclude &quot;META-INF/maven/com.google.guava/guava/pom.properties&quot;\r\n        exclude &quot;META-INF/maven/com.google.guava/guava/pom.xml&quot;\r\n        exclude &quot;LICENSE.txt&quot;\r\n        exclude &quot;.readme&quot;\r\n    }\r\n\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&quot;${rootProject.projectDir}/keystores/debug.keystore&quot;)\r\n        }\r\n        release {\r\n            storeFile file(&quot;/opt/android-keystore/youversion.keystore&quot;)\r\n            storePassword &quot;youversion&quot;\r\n            keyAlias System.getenv(&quot;CERT_USER&quot;)\r\n            keyPassword System.getenv(&quot;CERT_PASS&quot;)\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n            debuggable true\r\n            minifyEnabled false\r\n            testCoverageEnabled coverage\r\n            if (project.name == &quot;app&quot;) {\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n                testProguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;test-proguard-rules.pro&quot;\r\n            }\r\n            multiDexKeepProguard file(&quot;${rootProject.projectDir}/config/proguard/test-proguard-keep.pro&quot;)\r\n            signingConfig signingConfigs.debug\r\n            ext.enableCrashlytics = false\r\n            matchingFallbacks = [&#39;release&#39;]\r\n        }\r\n        release {\r\n            debuggable false\r\n            minifyEnabled project.name == &quot;app&quot;\r\n            shrinkResources project.name == &quot;app&quot;\r\n            if (project.name == &quot;app&quot;) {\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n            }\r\n            signingConfig signingConfigs.release\r\n        }\r\n    }\r\n\r\n    testOptions {\r\n        animationsDisabled true\r\n    }\r\n\r\n    dataBinding {\r\n        enabled true\r\n    }\r\n\r\n    lintOptions {\r\n        lintConfig file(&quot;$rootProject.projectDir/config/lint/default.xml&quot;)\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    useLibrary &quot;org.apache.http.legacy&quot;\r\n}\r\n\r\n```\r\n\r\n`dependencies.gradle`:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines&quot;\r\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlin_coroutines&quot;\r\n\r\n    if (project.parent?.name == &quot;modules&quot; &amp;&amp; project.name != &quot;base&quot;) {\r\n        implementation project(&quot;:modules:base&quot;)\r\n    }\r\n\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.11.0-LC2&quot;) {\r\n        exclude group: &quot;org.jetbrains.kotlin&quot;\r\n    }\r\n\r\n    // brotli\r\n    implementation &quot;org.brotli:dec:$brotli_version&quot;\r\n\r\n    // wire\r\n    implementation &quot;com.squareup.wire:wire-runtime:2.3.0-RC1&quot;\r\n\r\n    // arch\r\n    implementation &quot;android.arch.lifecycle:extensions:$app_arch_version&quot;\r\n    implementation &quot;android.arch.persistence.room:runtime:$app_arch_version&quot;\r\n\r\n    // flurry\r\n    implementation &quot;com.flurry.android:analytics:$flurry_version@aar&quot;\r\n\r\n    // proto\r\n    implementation(&quot;youversion.android:protobuf:$bible_proto_version@aar&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n        exclude group: &quot;com.squareup.okio&quot;\r\n        exclude group: &quot;com.squareup.okhttp3&quot;\r\n        exclude group: &quot;com.google.android.gms&quot;\r\n        exclude group: &quot;com.facebook.android&quot;\r\n        exclude group: &quot;com.android.support&quot;\r\n        exclude group: &quot;com.github.bumptech.glide&quot;\r\n        exclude group: &quot;com.google.firebase&quot;\r\n        exclude group: &quot;com.android.databinding&quot;\r\n        exclude group: &quot;com.google.dagger&quot;\r\n        exclude group: &quot;android.arch.lifecycle&quot;\r\n        exclude group: &quot;android.arch.persistence.room&quot;\r\n    }\r\n\r\n    // nuclei\r\n    api(&quot;nuclei.android:nuclei-android:$nuclei_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;\r\n        exclude group: &quot;com.google.android.gms&quot;\r\n        exclude group: &quot;com.google.android.exoplayer&quot;\r\n        exclude group: &quot;com.squareup.okhttp3&quot;\r\n    }\r\n    api(&quot;nuclei3.android:nuclei-android:$nuclei3_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;\r\n        exclude group: &quot;com.google.android.gms&quot;\r\n        exclude group: &quot;com.google.android.exoplayer&quot;\r\n        exclude group: &quot;com.squareup.okhttp3&quot;\r\n    }\r\n\r\n    implementation &quot;com.squareup.okhttp3:okhttp:$okhttp_version&quot;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:$okhttp_version&quot;\r\n    androidTestImplementation(&quot;com.squareup.okhttp3:mockwebserver:$okhttp_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;, module: &quot;multidex&quot;\r\n    }\r\n    implementation &quot;com.squareup.sqldelight:android-driver:$sqldelight_version&quot;\r\n    implementation &quot;com.android.support:multidex:$support_multidex_version&quot;\r\n\r\n    // play services\r\n    implementation &quot;com.google.android.gms:play-services-auth:$play_services_auth_version&quot;\r\n    implementation &quot;com.google.android.gms:play-services-maps:$play_services_maps_version&quot;\r\n    implementation &quot;com.google.android.gms:play-services-cast-framework:$play_services_cast_version&quot;\r\n    implementation &quot;com.google.android.gms:play-services-base:$play_services_base_version&quot;\r\n\r\n    // android support libraries\r\n    implementation &quot;com.android.support:appcompat-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:support-v4:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:design:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:cardview-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:recyclerview-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:gridlayout-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:palette-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:customtabs:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:mediarouter-v7:$support_lib_version&quot;\r\n    implementation &quot;com.android.support:support-dynamic-animation:$support_lib_version&quot;\r\n    implementation &quot;com.android.support.constraint:constraint-layout:$constraint_layout_version&quot;\r\n    implementation &quot;com.android.support:preference-v14:$support_lib_version&quot;\r\n\r\n    // firebase\r\n    implementation &quot;com.google.firebase:firebase-messaging:$firebase_messaging_version&quot;\r\n    implementation &quot;com.google.firebase:firebase-invites:$firebase_invites_version&quot;\r\n    implementation &quot;com.google.firebase:firebase-appindexing:$firebase_app_indexing_version&quot;\r\n    implementation &quot;com.google.firebase:firebase-perf:$firebase_perf_version&quot;\r\n\r\n    // appboy\r\n    //implementation files(&quot;libs/appboy-mini.jar&quot;)\r\n    implementation &quot;com.appboy:android-sdk-base:$appboy_version@aar&quot;\r\n\r\n    // apps flyer\r\n    implementation &quot;com.appsflyer:af-android-sdk:$apps_flyer_version@aar&quot;\r\n\r\n    // glide image library\r\n    implementation (&quot;com.github.bumptech.glide:glide:$glide_version&quot;) {\r\n        exclude group: &quot;com.android.support&quot;\r\n    }\r\n    // glide okhttp module\r\n    implementation (&quot;com.github.bumptech.glide:okhttp-integration:$glide_version&quot;) {\r\n        exclude group: &quot;com.squareup.okhttp3&quot;, module: &quot;okhttp&quot;\r\n    }\r\n\r\n    // facebook support libraries\r\n    implementation &quot;com.facebook.android:facebook-android-sdk:$facebook_version&quot;\r\n\r\n    // crashlytics\r\n    implementation(&quot;com.crashlytics.sdk.android:crashlytics:$crashlytics_version@aar&quot;) {\r\n        transitive = true\r\n    }\r\n\r\n    // dagger\r\n    implementation(&quot;com.google.dagger:dagger:$dagger_version&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n    }\r\n    implementation(&quot;com.google.dagger:dagger-android:$dagger_version&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n    }\r\n    implementation(&quot;com.google.dagger:dagger-android-support:$dagger_version&quot;) {\r\n        exclude group: &quot;com.google.code.findbugs&quot;\r\n    }\r\n\r\n    kapt &quot;com.google.dagger:dagger-android-processor:$dagger_version&quot;\r\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\r\n\r\n    // arch apt\r\n    kapt &quot;android.arch.lifecycle:compiler:$app_arch_version&quot;\r\n    kapt &quot;android.arch.persistence.room:compiler:$app_arch_version&quot;\r\n\r\n    // branch\r\n    implementation &quot;io.branch.sdk.android:library:$branch_version&quot;\r\n\r\n    // Testing-only dependencies\r\n    androidTestImplementation project(&quot;:modules:tests&quot;)\r\n    androidTestImplementation &quot;androidx.test:core:$android_test_core&quot;\r\n    androidTestImplementation &quot;androidx.test:runner:$android_test_runner&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$android_espresso_core&quot;\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\nI&#39;ve also taken a look at this issue [here](https://github.com/google/dagger/issues/955) — not sure if it&#39;s related, but it sounds similar.\r\n\r\nCan anyone tell me what&#39;s going on here? Thanks for the help.","title":"Dagger generating duplicate `XXXDialogFragment_MembersInjector` classes in Android app (Program type already present)","body":"<p>I have a <code>BaseDialogFragment</code> that uses dependency injection with Dagger, and then I have two different modules that subclass the <code>BaseDialogFragment</code>.</p>\n\n<p>When attempting to build I'm getting the following error:</p>\n\n<pre><code>&gt; Task :app:transformClassesWithDexBuilderForDevelopmentDebug\nAGPBI: {\"kind\":\"error\",\"text\":\"Program type already present: BaseDialogFragment_MembersInjector\",\"sources\":[{}],\"tool\":\"D8\"}\n\n&gt; Task :app:transformDexArchiveWithDexMergerForDevelopmentDebug FAILED\njava.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \n</code></pre>\n\n<p>I've searched my project and it appears that there are only two different <code>BaseDialogFragment_MembersInjector</code> classes being generated: one in each respective module.</p>\n\n<p>I have already:</p>\n\n<ol>\n<li>Cleaned the project</li>\n<li>Deleted the generated duplicate class</li>\n<li>Invalidated caches and restarted</li>\n<li>Updated Dagger version</li>\n<li>Ensured that <code>multidexEnabled</code> is set to true</li>\n<li>Added unnecessary <code>@inject</code> field on base class per recommendation found <a href=\"https://github.com/google/dagger/issues/955\" rel=\"nofollow noreferrer\">here</a></li>\n</ol>\n\n<hr>\n\n<p><code>android.gradle</code>:</p>\n\n<pre><code>android {\n    compileSdkVersion \"$android_compile_version\".toInteger()\n    defaultConfig {\n        minSdkVersion \"$android_min_sdk\".toInteger()\n        targetSdkVersion \"$android_target_sdk\".toInteger()\n        versionCode = 1\n        versionName = \"1.0\"\n        manifestPlaceholders = rootProject.ext.manifestPlaceholders\n\n        renderscriptTargetApi 17\n\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\n\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [\"room.schemaLocation\": \"$projectDir/schemas\".toString()]\n            }\n        }\n    }\n\n    packagingOptions {\n        exclude \"META-INF/DEPENDENCIES\"\n        exclude \"META-INF/NOTICE\"\n        exclude \"META-INF/LICENSE\"\n        exclude \"META-INF/LICENSE.txt\"\n        exclude \"META-INF/NOTICE.txt\"\n        exclude \"META-INF/maven/com.google.guava/guava/pom.properties\"\n        exclude \"META-INF/maven/com.google.guava/guava/pom.xml\"\n        exclude \"LICENSE.txt\"\n        exclude \".readme\"\n    }\n\n    signingConfigs {\n        debug {\n            storeFile file(\"${rootProject.projectDir}/keystores/debug.keystore\")\n        }\n        release {\n            storeFile file(\"/opt/android-keystore/youversion.keystore\")\n            storePassword \"youversion\"\n            keyAlias System.getenv(\"CERT_USER\")\n            keyPassword System.getenv(\"CERT_PASS\")\n        }\n    }\n\n    buildTypes {\n        debug {\n            debuggable true\n            minifyEnabled false\n            testCoverageEnabled coverage\n            if (project.name == \"app\") {\n                proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n                testProguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"test-proguard-rules.pro\"\n            }\n            multiDexKeepProguard file(\"${rootProject.projectDir}/config/proguard/test-proguard-keep.pro\")\n            signingConfig signingConfigs.debug\n            ext.enableCrashlytics = false\n            matchingFallbacks = ['release']\n        }\n        release {\n            debuggable false\n            minifyEnabled project.name == \"app\"\n            shrinkResources project.name == \"app\"\n            if (project.name == \"app\") {\n                proguardFiles getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\"\n            }\n            signingConfig signingConfigs.release\n        }\n    }\n\n    testOptions {\n        animationsDisabled true\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    lintOptions {\n        lintConfig file(\"$rootProject.projectDir/config/lint/default.xml\")\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    useLibrary \"org.apache.http.legacy\"\n}\n\n</code></pre>\n\n<p><code>dependencies.gradle</code>:</p>\n\n<pre><code>dependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlin_coroutines\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlin_coroutines\"\n\n    if (project.parent?.name == \"modules\" &amp;&amp; project.name != \"base\") {\n        implementation project(\":modules:base\")\n    }\n\n    implementation(\"org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.11.0-LC2\") {\n        exclude group: \"org.jetbrains.kotlin\"\n    }\n\n    // brotli\n    implementation \"org.brotli:dec:$brotli_version\"\n\n    // wire\n    implementation \"com.squareup.wire:wire-runtime:2.3.0-RC1\"\n\n    // arch\n    implementation \"android.arch.lifecycle:extensions:$app_arch_version\"\n    implementation \"android.arch.persistence.room:runtime:$app_arch_version\"\n\n    // flurry\n    implementation \"com.flurry.android:analytics:$flurry_version@aar\"\n\n    // proto\n    implementation(\"youversion.android:protobuf:$bible_proto_version@aar\") {\n        exclude group: \"com.google.code.findbugs\"\n        exclude group: \"com.squareup.okio\"\n        exclude group: \"com.squareup.okhttp3\"\n        exclude group: \"com.google.android.gms\"\n        exclude group: \"com.facebook.android\"\n        exclude group: \"com.android.support\"\n        exclude group: \"com.github.bumptech.glide\"\n        exclude group: \"com.google.firebase\"\n        exclude group: \"com.android.databinding\"\n        exclude group: \"com.google.dagger\"\n        exclude group: \"android.arch.lifecycle\"\n        exclude group: \"android.arch.persistence.room\"\n    }\n\n    // nuclei\n    api(\"nuclei.android:nuclei-android:$nuclei_version\") {\n        exclude group: \"com.android.support\"\n        exclude group: \"com.google.android.gms\"\n        exclude group: \"com.google.android.exoplayer\"\n        exclude group: \"com.squareup.okhttp3\"\n    }\n    api(\"nuclei3.android:nuclei-android:$nuclei3_version\") {\n        exclude group: \"com.android.support\"\n        exclude group: \"com.google.android.gms\"\n        exclude group: \"com.google.android.exoplayer\"\n        exclude group: \"com.squareup.okhttp3\"\n    }\n\n    implementation \"com.squareup.okhttp3:okhttp:$okhttp_version\"\n    implementation \"com.squareup.okhttp3:logging-interceptor:$okhttp_version\"\n    androidTestImplementation(\"com.squareup.okhttp3:mockwebserver:$okhttp_version\") {\n        exclude group: \"com.android.support\", module: \"multidex\"\n    }\n    implementation \"com.squareup.sqldelight:android-driver:$sqldelight_version\"\n    implementation \"com.android.support:multidex:$support_multidex_version\"\n\n    // play services\n    implementation \"com.google.android.gms:play-services-auth:$play_services_auth_version\"\n    implementation \"com.google.android.gms:play-services-maps:$play_services_maps_version\"\n    implementation \"com.google.android.gms:play-services-cast-framework:$play_services_cast_version\"\n    implementation \"com.google.android.gms:play-services-base:$play_services_base_version\"\n\n    // android support libraries\n    implementation \"com.android.support:appcompat-v7:$support_lib_version\"\n    implementation \"com.android.support:support-v4:$support_lib_version\"\n    implementation \"com.android.support:design:$support_lib_version\"\n    implementation \"com.android.support:cardview-v7:$support_lib_version\"\n    implementation \"com.android.support:recyclerview-v7:$support_lib_version\"\n    implementation \"com.android.support:gridlayout-v7:$support_lib_version\"\n    implementation \"com.android.support:palette-v7:$support_lib_version\"\n    implementation \"com.android.support:customtabs:$support_lib_version\"\n    implementation \"com.android.support:mediarouter-v7:$support_lib_version\"\n    implementation \"com.android.support:support-dynamic-animation:$support_lib_version\"\n    implementation \"com.android.support.constraint:constraint-layout:$constraint_layout_version\"\n    implementation \"com.android.support:preference-v14:$support_lib_version\"\n\n    // firebase\n    implementation \"com.google.firebase:firebase-messaging:$firebase_messaging_version\"\n    implementation \"com.google.firebase:firebase-invites:$firebase_invites_version\"\n    implementation \"com.google.firebase:firebase-appindexing:$firebase_app_indexing_version\"\n    implementation \"com.google.firebase:firebase-perf:$firebase_perf_version\"\n\n    // appboy\n    //implementation files(\"libs/appboy-mini.jar\")\n    implementation \"com.appboy:android-sdk-base:$appboy_version@aar\"\n\n    // apps flyer\n    implementation \"com.appsflyer:af-android-sdk:$apps_flyer_version@aar\"\n\n    // glide image library\n    implementation (\"com.github.bumptech.glide:glide:$glide_version\") {\n        exclude group: \"com.android.support\"\n    }\n    // glide okhttp module\n    implementation (\"com.github.bumptech.glide:okhttp-integration:$glide_version\") {\n        exclude group: \"com.squareup.okhttp3\", module: \"okhttp\"\n    }\n\n    // facebook support libraries\n    implementation \"com.facebook.android:facebook-android-sdk:$facebook_version\"\n\n    // crashlytics\n    implementation(\"com.crashlytics.sdk.android:crashlytics:$crashlytics_version@aar\") {\n        transitive = true\n    }\n\n    // dagger\n    implementation(\"com.google.dagger:dagger:$dagger_version\") {\n        exclude group: \"com.google.code.findbugs\"\n    }\n    implementation(\"com.google.dagger:dagger-android:$dagger_version\") {\n        exclude group: \"com.google.code.findbugs\"\n    }\n    implementation(\"com.google.dagger:dagger-android-support:$dagger_version\") {\n        exclude group: \"com.google.code.findbugs\"\n    }\n\n    kapt \"com.google.dagger:dagger-android-processor:$dagger_version\"\n    kapt \"com.google.dagger:dagger-compiler:$dagger_version\"\n\n    // arch apt\n    kapt \"android.arch.lifecycle:compiler:$app_arch_version\"\n    kapt \"android.arch.persistence.room:compiler:$app_arch_version\"\n\n    // branch\n    implementation \"io.branch.sdk.android:library:$branch_version\"\n\n    // Testing-only dependencies\n    androidTestImplementation project(\":modules:tests\")\n    androidTestImplementation \"androidx.test:core:$android_test_core\"\n    androidTestImplementation \"androidx.test:runner:$android_test_runner\"\n    androidTestImplementation \"androidx.test.espresso:espresso-core:$android_espresso_core\"\n}\n\n</code></pre>\n\n<hr>\n\n<p>I've also taken a look at this issue <a href=\"https://github.com/google/dagger/issues/955\" rel=\"nofollow noreferrer\">here</a> — not sure if it's related, but it sounds similar.</p>\n\n<p>Can anyone tell me what's going on here? Thanks for the help.</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1526515607,"post_id":50381567,"comment_id":87779198,"body_markdown":"Seems like `hibernate-jpa-2.0-api` dependency references old Hibernate 4.x","body":"Seems like <code>hibernate-jpa-2.0-api</code> dependency references old Hibernate 4.x"},{"owner":{"account_id":6741302,"reputation":1946,"user_id":5194484,"display_name":"GAURAV MOKASHI"},"score":0,"creation_date":1526515888,"post_id":50381567,"comment_id":87779271,"body_markdown":"@LuiggiMendoza no changes even after deleting  hibernate-jpa-2.0-api and updating maven","body":"@LuiggiMendoza no changes even after deleting  hibernate-jpa-2.0-api and updating maven"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1526515991,"post_id":50381567,"comment_id":87779297,"body_markdown":"Ok, can you check if there&#39;s a jar for hibernate-core 5.2.10.Final in your maven repositories folder? Maybe there&#39;s a corrupt jar there.","body":"Ok, can you check if there&#39;s a jar for hibernate-core 5.2.10.Final in your maven repositories folder? Maybe there&#39;s a corrupt jar there."},{"owner":{"account_id":6741302,"reputation":1946,"user_id":5194484,"display_name":"GAURAV MOKASHI"},"score":0,"creation_date":1526516149,"post_id":50381567,"comment_id":87779329,"body_markdown":"There is no jar for  hibernate-core 5.2.10.Final , even after updating maven, it is unable to download this particular jar.","body":"There is no jar for  hibernate-core 5.2.10.Final , even after updating maven, it is unable to download this particular jar."}],"answers":[{"tags":[],"owner":{"account_id":19071489,"reputation":11,"user_id":13925557,"display_name":"Nikita Gurin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683607320,"creation_date":1594681122,"answer_id":62885580,"question_id":50381567,"body_markdown":"You may check if any other _Maven_ projects of yours are currently using this dependency for `Hibernate`.\r\n\r\nIf they do, then deactivate them and after, put this dependency into the project&#39;s `pom.xml` file and update _*ALL*_ your _Maven_ projects.","title":"Missing artifact org.hibernate:hibernate-core","body":"<p>You may check if any other <em>Maven</em> projects of yours are currently using this dependency for <code>Hibernate</code>.</p>\n<p>If they do, then deactivate them and after, put this dependency into the project's <code>pom.xml</code> file and update <em><em>ALL</em></em> your <em>Maven</em> projects.</p>\n"},{"tags":[],"owner":{"account_id":24058891,"reputation":11,"user_id":18036382,"display_name":"pushkar goyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683607223,"creation_date":1657363764,"answer_id":72920737,"question_id":50381567,"body_markdown":"I also faced this issue and I tried many things like restarting _Eclipse_ and `maven clean`\r\n\r\nIf you are using _Eclipse_ just `right-click -&gt; project -&gt; select run-as -&gt; click maven install`. ","title":"Missing artifact org.hibernate:hibernate-core","body":"<p>I also faced this issue and I tried many things like restarting <em>Eclipse</em> and <code>maven clean</code></p>\n<p>If you are using <em>Eclipse</em> just <code>right-click -&gt; project -&gt; select run-as -&gt; click maven install</code>.</p>\n"}],"owner":{"account_id":6741302,"reputation":1946,"user_id":5194484,"display_name":"GAURAV MOKASHI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10374,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1683607320,"creation_date":1526515496,"question_id":50381567,"body_markdown":"I&#39;m using Maven. I&#39;m having trouble downloading a dependency and getting the error, &quot;Missing artifact org.hibernate:hibernate-core:jar:5.2.10.final&quot;.\r\nI delete whole project an clone it again from git.I update maven dependencies, still there is no hibernate file load in it.\r\nHere is my pom.xml\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;gau&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;shoppingbackend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;shoppingbackend&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;spring.version&gt;4.3.6.RELEASE&lt;/spring.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- SPRING --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- H2 Database --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.193&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Hibernate --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Database connection pooling --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!-- update to latest java version --&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nGit link of my project\r\n\r\nhttps://github.com/Gauravmokashi/online-shopping.git\r\n","title":"Missing artifact org.hibernate:hibernate-core","body":"<p>I'm using Maven. I'm having trouble downloading a dependency and getting the error, \"Missing artifact org.hibernate:hibernate-core:jar:5.2.10.final\".\nI delete whole project an clone it again from git.I update maven dependencies, still there is no hibernate file load in it.\nHere is my pom.xml</p>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;gau&lt;/groupId&gt;\n&lt;artifactId&gt;shoppingbackend&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;shoppingbackend&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;spring.version&gt;4.3.6.RELEASE&lt;/spring.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SPRING --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- H2 Database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.193&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Hibernate --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Database connection pooling --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- update to latest java version --&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Git link of my project</p>\n\n<p><a href=\"https://github.com/Gauravmokashi/online-shopping.git\" rel=\"nofollow noreferrer\">https://github.com/Gauravmokashi/online-shopping.git</a></p>\n"},{"tags":["java","eclipse","hibernate"],"comments":[{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":1,"creation_date":1469691145,"post_id":38629760,"comment_id":64643736,"body_markdown":"You don&#39;t need to configure hibernate, spring boot does it for you, please have a look at the spring JPA doc https://spring.io/guides/gs/accessing-data-jpa/","body":"You don&#39;t need to configure hibernate, spring boot does it for you, please have a look at the spring JPA doc <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>"},{"owner":{"account_id":3685773,"reputation":819,"user_id":3069566,"accept_rate":85,"display_name":"Arty"},"score":0,"creation_date":1469691670,"post_id":38629760,"comment_id":64644085,"body_markdown":"I second @Saravana, the only configuration you should be touching will be adding the dependency in the pom. Gone are the days of tweaking config.xml files. Let Spring handle this for you :-)","body":"I second @Saravana, the only configuration you should be touching will be adding the dependency in the pom. Gone are the days of tweaking config.xml files. Let Spring handle this for you :-)"},{"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"score":0,"creation_date":1469692249,"post_id":38629760,"comment_id":64644450,"body_markdown":"If I am correct understand, Spring Data JPA is alternative for Hibernate, yes?","body":"If I am correct understand, Spring Data JPA is alternative for Hibernate, yes?"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1469766293,"post_id":38629760,"comment_id":64683052,"body_markdown":"JPA is a specification and hibernate is one of its implementations","body":"JPA is a specification and hibernate is one of its implementations"}],"answers":[{"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469766672,"creation_date":1469766232,"answer_id":38650478,"question_id":38629760,"body_markdown":"If you want to read the files in the resources directory, you need to use the classloder to get the file.\r\n\r\nIn static method\r\n\r\n    HibernateUtil.class.getClassLoader().getResource(&quot;hibernate.cfg.xml&quot;).getFile();\r\n\r\nnon static method\r\n\r\n    getClass().getClassLoader().getResource(&quot;hibernate.cfg.xml&quot;).getFile();\r\n\r\nand if the resource resides in any of the sub directories of `resources`, prefix the folder path while getting the resource\r\n\r\nExample to get the resource in META-INF directory \r\n\r\n    getResource(&quot;META-INF/hibernate.cfg.xml&quot;);\r\n\r\nBut spring boot auto configures, just by adding dependencies in `pom.xml` and providing JPA related properties in `application.properties`","title":"SpringBoot build Error: &quot;org.hibernate.HibernateException: /hibernate.cfg.xml not found from resources&quot;","body":"<p>If you want to read the files in the resources directory, you need to use the classloder to get the file.</p>\n\n<p>In static method</p>\n\n<pre><code>HibernateUtil.class.getClassLoader().getResource(\"hibernate.cfg.xml\").getFile();\n</code></pre>\n\n<p>non static method</p>\n\n<pre><code>getClass().getClassLoader().getResource(\"hibernate.cfg.xml\").getFile();\n</code></pre>\n\n<p>and if the resource resides in any of the sub directories of <code>resources</code>, prefix the folder path while getting the resource</p>\n\n<p>Example to get the resource in META-INF directory </p>\n\n<pre><code>getResource(\"META-INF/hibernate.cfg.xml\");\n</code></pre>\n\n<p>But spring boot auto configures, just by adding dependencies in <code>pom.xml</code> and providing JPA related properties in <code>application.properties</code></p>\n"},{"tags":[],"owner":{"account_id":8098043,"reputation":27,"user_id":6101913,"display_name":"黄伟杰"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683605921,"creation_date":1469766841,"answer_id":38650564,"question_id":38629760,"body_markdown":"If your application is a _web-service_ then you should put `hibernate.cfg.xml` in `WEB-INF` folder.\r\n\r\nIf your application is _client-service_ then you should put your `hibernate.cfg.xml` in `src` package. ","title":"SpringBoot build Error: &quot;org.hibernate.HibernateException: /hibernate.cfg.xml not found from resources&quot;","body":"<p>If your application is a <em>web-service</em> then you should put <code>hibernate.cfg.xml</code> in <code>WEB-INF</code> folder.</p>\n<p>If your application is <em>client-service</em> then you should put your <code>hibernate.cfg.xml</code> in <code>src</code> package.</p>\n"}],"owner":{"account_id":6469926,"reputation":7512,"user_id":5010413,"accept_rate":86,"display_name":"Edgaras Karka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683605921,"creation_date":1469690951,"question_id":38629760,"body_markdown":"I have a new _SpringBoot_ project that I&#39;m using _gradle_ as the build manager and _Eclipse IDE_.\r\n\r\nI want to use _hibernate_ and the configurations from `hibernate.cfg.xml` file, but I&#39;m getting: \r\n\r\n    org.hibernate.HibernateException: /hibernate.cfg.xml not found\r\n\r\nI store this file in `resources` folder, also I tried put it into `META-INF` folder.\r\n\r\nproject structure:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aMZZ1.png\r\n\r\n`HibernateUtil.java`:\r\n\r\n    public class HibernateUtil {\r\n\t\r\n\tprivate static  SessionFactory sessionFactory = buildSessionFactory();\r\n\r\n\r\n\t private static SessionFactory buildSessionFactory()\r\n\t   {\r\n\t      try\r\n\t      {\r\n\t         if (sessionFactory == null)\r\n\t         {\r\n\t        \t sessionFactory = new Configuration().configure().buildSessionFactory();\r\n\t         }\r\n\t         return sessionFactory;\r\n\t      } catch (Throwable ex)\r\n\t      {\r\n\t         System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n\t         throw new ExceptionInInitializerError(ex);\r\n\t      }\r\n\t }\r\n    \r\n    public static SessionFactory getSessionFactory() {\r\n        return sessionFactory;\r\n    }\r\n \r\n    public static void shutdown() {\r\n        // Close caches and connection pools\r\n        getSessionFactory().close();\r\n    }\r\n  }","title":"SpringBoot build Error: &quot;org.hibernate.HibernateException: /hibernate.cfg.xml not found from resources&quot;","body":"<p>I have a new <em>SpringBoot</em> project that I'm using <em>gradle</em> as the build manager and <em>Eclipse IDE</em>.</p>\n<p>I want to use <em>hibernate</em> and the configurations from <code>hibernate.cfg.xml</code> file, but I'm getting:</p>\n<pre><code>org.hibernate.HibernateException: /hibernate.cfg.xml not found\n</code></pre>\n<p>I store this file in <code>resources</code> folder, also I tried put it into <code>META-INF</code> folder.</p>\n<p>project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/aMZZ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aMZZ1.png\" alt=\"enter image description here\" /></a></p>\n<p><code>HibernateUtil.java</code>:</p>\n<pre><code>public class HibernateUtil {\n\nprivate static  SessionFactory sessionFactory = buildSessionFactory();\n\n\n private static SessionFactory buildSessionFactory()\n   {\n      try\n      {\n         if (sessionFactory == null)\n         {\n             sessionFactory = new Configuration().configure().buildSessionFactory();\n         }\n         return sessionFactory;\n      } catch (Throwable ex)\n      {\n         System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\n         throw new ExceptionInInitializerError(ex);\n      }\n }\n\npublic static SessionFactory getSessionFactory() {\n    return sessionFactory;\n}\n\npublic static void shutdown() {\n    // Close caches and connection pools\n    getSessionFactory().close();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1592740511,"post_id":62498065,"comment_id":110526854,"body_markdown":"Does this answer your question? [How to override Spring Boot dependencies default version?](https://stackoverflow.com/questions/39613498/how-to-override-spring-boot-dependencies-default-version)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39613498/how-to-override-spring-boot-dependencies-default-version\">How to override Spring Boot dependencies default version?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7548491,"reputation":844,"user_id":5730762,"display_name":"Alexander Terekhov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592740179,"creation_date":1592740179,"answer_id":62498105,"question_id":62498065,"body_markdown":"The problem might be in transitive dependencies (some other dependency has a dependeny to okhttp3 3.14.9 and it can overriede 4.7.2 )\r\nYou can try to execute `mvn dependency:tree -Dverbose=true`\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\r\nand find, which versions of okhttp3  you have,  and see which other dependency brought 3.14.9 version.","title":"Introducing dependencies in other projects causes Maven to downgrade okhttp3 version","body":"<p>The problem might be in transitive dependencies (some other dependency has a dependeny to okhttp3 3.14.9 and it can overriede 4.7.2 )\nYou can try to execute <code>mvn dependency:tree -Dverbose=true</code>\n<a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html</a>\nand find, which versions of okhttp3  you have,  and see which other dependency brought 3.14.9 version.</p>\n"},{"comments":[{"owner":{"account_id":18896706,"reputation":11,"user_id":13785704,"display_name":"zhucf"},"score":0,"creation_date":1594082581,"post_id":62498120,"comment_id":110995630,"body_markdown":"ndeed as you said，the okhttp3.version is now clearly specified in the project","body":"ndeed as you said，the okhttp3.version is now clearly specified in the project"}],"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592740714,"creation_date":1592740302,"answer_id":62498120,"question_id":62498065,"body_markdown":"The `spring-boot-starter-parent:2.3.1-RELEASE` that you extend manages the version of `com.squareup.okhttp3:okhttp` to 3.14.9 via [spring-boot-dependencies](https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.3.1.RELEASE/pom):\r\n\r\n```\r\n&lt;okhttp3.version&gt;3.14.9&lt;/okhttp3.version&gt;\r\n...\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n...\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;${okhttp3.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n...\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n```\r\nThis is documented under [dependency management](https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-dependency-management):\r\n\r\n&gt; Each release of Spring Boot provides a curated list of dependencies that it supports. In practice, you do not need to provide a version for any of these dependencies in your build configuration, as Spring Boot manages that for you.\r\n\r\nYou&#39;ll need to either accept that, and work with that version, or set the `okhttp3.version` property in your project for the `okhtttp` version that you&#39;d like to build with.","title":"Introducing dependencies in other projects causes Maven to downgrade okhttp3 version","body":"<p>The <code>spring-boot-starter-parent:2.3.1-RELEASE</code> that you extend manages the version of <code>com.squareup.okhttp3:okhttp</code> to 3.14.9 via <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.3.1.RELEASE/pom\" rel=\"nofollow noreferrer\">spring-boot-dependencies</a>:</p>\n<pre><code>&lt;okhttp3.version&gt;3.14.9&lt;/okhttp3.version&gt;\n...\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n...\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;${okhttp3.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n...\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n</code></pre>\n<p>This is documented under <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-dependency-management\" rel=\"nofollow noreferrer\">dependency management</a>:</p>\n<blockquote>\n<p>Each release of Spring Boot provides a curated list of dependencies that it supports. In practice, you do not need to provide a version for any of these dependencies in your build configuration, as Spring Boot manages that for you.</p>\n</blockquote>\n<p>You'll need to either accept that, and work with that version, or set the <code>okhttp3.version</code> property in your project for the <code>okhtttp</code> version that you'd like to build with.</p>\n"}],"owner":{"account_id":18896706,"reputation":11,"user_id":13785704,"display_name":"zhucf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683605544,"creation_date":1592739904,"question_id":62498065,"body_markdown":"I deploy my _maven_ project to a _maven_ private server. After introducing dependencies in other projects, the version of `okhttp3` changed from _4.7.2_ to _3.14.9_\r\n\r\n[The maven dependency of the deployed project：mdm-auth-spring-boot-starter](https://i.stack.imgur.com/JQJe6.png)\r\n\r\n[Another project introduces mdm-auth-spring-boot-starter](https://i.stack.imgur.com/YVFnI.png)\r\n\r\nWhy has the version of `okhttp3` has changed? \r\n\r\nMy OS is _Win10_, _JDK_version-1.8.181_, _maven_ version _3.6.3_\r\n\r\nReinstalling the system, _JDK_ and _maven_, doesn&#39;t solve the problem.","title":"Introducing dependencies in other projects causes Maven to downgrade okhttp3 version","body":"<p>I deploy my <em>maven</em> project to a <em>maven</em> private server. After introducing dependencies in other projects, the version of <code>okhttp3</code> changed from <em>4.7.2</em> to <em>3.14.9</em></p>\n<p><a href=\"https://i.stack.imgur.com/JQJe6.png\" rel=\"nofollow noreferrer\">The maven dependency of the deployed project：mdm-auth-spring-boot-starter</a></p>\n<p><a href=\"https://i.stack.imgur.com/YVFnI.png\" rel=\"nofollow noreferrer\">Another project introduces mdm-auth-spring-boot-starter</a></p>\n<p>Why has the version of <code>okhttp3</code> has changed?</p>\n<p>My OS is <em>Win10</em>, <em>JDK_version-1.8.181</em>, <em>maven</em> version <em>3.6.3</em></p>\n<p>Reinstalling the system, <em>JDK</em> and <em>maven</em>, doesn't solve the problem.</p>\n"},{"tags":["java","jdbc","teradata"],"comments":[{"owner":{"account_id":312086,"reputation":12243,"user_id":625983,"accept_rate":58,"display_name":"apesa"},"score":0,"creation_date":1456859463,"post_id":35731117,"comment_id":59137438,"body_markdown":"You&#39;ll need to add your code above the try/catch. whats going on before the execute batch. Also what might have changed recently to cause a consistent failure?","body":"You&#39;ll need to add your code above the try/catch. whats going on before the execute batch. Also what might have changed recently to cause a consistent failure?"},{"owner":{"account_id":7108198,"reputation":511,"user_id":5437138,"accept_rate":75,"display_name":"Emily"},"score":0,"creation_date":1456866460,"post_id":35731117,"comment_id":59141445,"body_markdown":"Nothing changed recently. Not a thing. A prepared statement `prst.executeBatch();` throws an error. Usually this error happens because of the large batch size. But i reduced it to a minimum","body":"Nothing changed recently. Not a thing. A prepared statement <code>prst.executeBatch();</code> throws an error. Usually this error happens because of the large batch size. But i reduced it to a minimum"},{"owner":{"account_id":3267339,"reputation":8505,"user_id":2751573,"accept_rate":52,"display_name":"Andrew"},"score":0,"creation_date":1456870991,"post_id":35731117,"comment_id":59143942,"body_markdown":"Error 1339 is a very generic error. Somewhere in your stack trace you should hopefully have a SQLException.  You may not be able to get to it with that old of a driver though, based on this [documentation](http://developer.teradata.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI).","body":"Error 1339 is a very generic error. Somewhere in your stack trace you should hopefully have a SQLException.  You may not be able to get to it with that old of a driver though, based on this <a href=\"http://developer.teradata.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"score":0,"creation_date":1456951478,"post_id":35731117,"comment_id":59188700,"body_markdown":"How do you prepare? Could you paste the code?","body":"How do you prepare? Could you paste the code?"}],"answers":[{"tags":[],"owner":{"account_id":6568308,"reputation":800,"user_id":5077154,"display_name":"Insac"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459198352,"creation_date":1459198352,"answer_id":36270971,"question_id":35731117,"body_markdown":"Had the same issue recently:\r\n\r\n 1. if you can,  identify the smallest subset of data that gives you the error\r\n 2. modify the code to be optionally launched without batching (not for production use) \r\n\r\nIn my case it was a single numeric value whose precision was more than the column it was inserted in,  but generally that error message is hiding whatever issue you&#39;re encountering (a field too large?  No more disk space?) ","title":"Teradata jdbc executeBatch throws a weird error?","body":"<p>Had the same issue recently:</p>\n\n<ol>\n<li>if you can,  identify the smallest subset of data that gives you the error</li>\n<li>modify the code to be optionally launched without batching (not for production use) </li>\n</ol>\n\n<p>In my case it was a single numeric value whose precision was more than the column it was inserted in,  but generally that error message is hiding whatever issue you're encountering (a field too large?  No more disk space?) </p>\n"},{"tags":[],"owner":{"account_id":16820485,"reputation":394,"user_id":12161087,"display_name":"Tom Nolan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683605419,"creation_date":1683605419,"answer_id":76205802,"question_id":35731117,"body_markdown":"Here is a link to the Teradata JDBC Driver documentation for the BatchUpdateException: https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI\r\n\r\nAs the documentation says, Error 1339 means that you are getting the old batch error behavior. One or more of the rows in your batch have problems, but the JDBC Driver is unable to identify which rows have a problem.\r\n\r\nIf you switch to a newer version of the JDBC Driver (and you may need a newer version of the database also) then a new feature &quot;Statement Independence&quot; is available that identifies which rows have a problem, and what the problem is for each row.\r\n\r\nYou can download the Teradata JDBC Driver from Maven Central or from the Teradata download site: https://downloads.teradata.com/download/connectivity/jdbc-driver","title":"Teradata jdbc executeBatch throws a weird error?","body":"<p>Here is a link to the Teradata JDBC Driver documentation for the BatchUpdateException: <a href=\"https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI\" rel=\"nofollow noreferrer\">https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#CCHJHFDI</a></p>\n<p>As the documentation says, Error 1339 means that you are getting the old batch error behavior. One or more of the rows in your batch have problems, but the JDBC Driver is unable to identify which rows have a problem.</p>\n<p>If you switch to a newer version of the JDBC Driver (and you may need a newer version of the database also) then a new feature &quot;Statement Independence&quot; is available that identifies which rows have a problem, and what the problem is for each row.</p>\n<p>You can download the Teradata JDBC Driver from Maven Central or from the Teradata download site: <a href=\"https://downloads.teradata.com/download/connectivity/jdbc-driver\" rel=\"nofollow noreferrer\">https://downloads.teradata.com/download/connectivity/jdbc-driver</a></p>\n"}],"owner":{"account_id":7108198,"reputation":511,"user_id":5437138,"accept_rate":75,"display_name":"Emily"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36270971,"answer_count":2,"score":0,"last_activity_date":1683605419,"creation_date":1456858596,"question_id":35731117,"body_markdown":"I use `jdbc` to load raw data sets to Teradata. I has been working **PERFECT** until recently. \r\n\r\nHere is the code \r\n\r\n\t\ttry { \r\n\t\t\tprst.executeBatch(); \r\n\t\t\t} \r\n\t\t\tcatch (SQLException ex) {  \r\n\t\t\t\tSystem.out.println(&quot;Batch outside the loop error: &quot;);\r\n\t\t\t\t while (ex != null)\r\n\t\t            {\r\n\t\t                System.out.println(&quot; Error code: &quot; + ex.getErrorCode());\r\n\t\t                System.out.println(&quot; SQL State: &quot; + ex.getSQLState());\r\n\t\t                System.out.println(&quot; Message: &quot; + ex.getMessage());\r\n\t\t                ex.printStackTrace();\r\n\t\t                System.out.println();\r\n\t\t                ex = ex.getNextException();\r\n\t\t            }\r\n\t\t\t\t \r\n\t\t\t}\r\n\r\n\r\nBut yesterday the same code statred throwing an error. Here is the error \r\n\r\n        [Teradata JDBC Driver] [TeraJDBC 13.00.00.16] [Error 1339] [SQLState HY000] \r\n    A failure occurred while executing a PreparedStatement batch request. \r\n    The parameter set was not executed and should be resubmitted\r\n     individually using the PreparedStatement executeUpdate method \r\n\r\nI checked using `getNextException()` but all I get is the same message  \r\n\r\n    A failure occurred while executing a PreparedStatement batch request. \r\n        The parameter set was not executed and should be resubmitted\r\n         individually using the PreparedStatement executeUpdate method  \r\n\r\nIt&#39;s repeating the same stuff all over again without any further details. I tried to decrease the batch size to a minimum as recomended [here][1]  but still no result. \r\n\r\nWhat could possible cause this error  ?  How to overcome it ?  \r\n\r\n\r\n  [1]: https://forums.teradata.com/forum/database/errors-teradata-jdbc-driver-terajdbc-13-00-00-16-error-1339-sqlstate-hy000","title":"Teradata jdbc executeBatch throws a weird error?","body":"<p>I use <code>jdbc</code> to load raw data sets to Teradata. I has been working <strong>PERFECT</strong> until recently. </p>\n\n<p>Here is the code </p>\n\n<pre><code>    try { \n        prst.executeBatch(); \n        } \n        catch (SQLException ex) {  \n            System.out.println(\"Batch outside the loop error: \");\n             while (ex != null)\n                {\n                    System.out.println(\" Error code: \" + ex.getErrorCode());\n                    System.out.println(\" SQL State: \" + ex.getSQLState());\n                    System.out.println(\" Message: \" + ex.getMessage());\n                    ex.printStackTrace();\n                    System.out.println();\n                    ex = ex.getNextException();\n                }\n\n        }\n</code></pre>\n\n<p>But yesterday the same code statred throwing an error. Here is the error </p>\n\n<pre><code>    [Teradata JDBC Driver] [TeraJDBC 13.00.00.16] [Error 1339] [SQLState HY000] \nA failure occurred while executing a PreparedStatement batch request. \nThe parameter set was not executed and should be resubmitted\n individually using the PreparedStatement executeUpdate method \n</code></pre>\n\n<p>I checked using <code>getNextException()</code> but all I get is the same message  </p>\n\n<pre><code>A failure occurred while executing a PreparedStatement batch request. \n    The parameter set was not executed and should be resubmitted\n     individually using the PreparedStatement executeUpdate method  \n</code></pre>\n\n<p>It's repeating the same stuff all over again without any further details. I tried to decrease the batch size to a minimum as recomended <a href=\"https://forums.teradata.com/forum/database/errors-teradata-jdbc-driver-terajdbc-13-00-00-16-error-1339-sqlstate-hy000\" rel=\"nofollow\">here</a>  but still no result. </p>\n\n<p>What could possible cause this error  ?  How to overcome it ?  </p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":0,"creation_date":1504780057,"post_id":46093720,"comment_id":79149530,"body_markdown":"How do you run it?","body":"How do you run it?"},{"owner":{"account_id":3445265,"reputation":2465,"user_id":2886234,"accept_rate":80,"display_name":"kkflf"},"score":0,"creation_date":1504781205,"post_id":46093720,"comment_id":79150269,"body_markdown":"Did you try maven clean install?","body":"Did you try maven clean install?"},{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504781924,"post_id":46093720,"comment_id":79150740,"body_markdown":"you mean clear .metadata folder ??","body":"you mean clear .metadata folder ??"},{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504782088,"post_id":46093720,"comment_id":79150861,"body_markdown":"@LucianovanderVeekens normal running in main method but my error is clear above","body":"@LucianovanderVeekens normal running in main method but my error is clear above"},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1504782150,"post_id":46093720,"comment_id":79150911,"body_markdown":"&quot;spring boot can&#39;t run&quot;. It&#39;s hard to run with only one boot. Sorry :)","body":"&quot;spring boot can&#39;t run&quot;. It&#39;s hard to run with only one boot. Sorry :)"},{"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"score":0,"creation_date":1504782344,"post_id":46093720,"comment_id":79151051,"body_markdown":"I know it might be obvious, but is the SpringApplication class imported? Are you using any IDE, is it not suggesting any other problems?","body":"I know it might be obvious, but is the SpringApplication class imported? Are you using any IDE, is it not suggesting any other problems?"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1504782652,"post_id":46093720,"comment_id":79151261,"body_markdown":"Possible duplicate of [Spring Boot application can&#39;t resolve the org.springframework.boot package](https://stackoverflow.com/questions/33301073/spring-boot-application-cant-resolve-the-org-springframework-boot-package)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33301073/spring-boot-application-cant-resolve-the-org-springframework-boot-package\">Spring Boot application can&#39;t resolve the org.springframework.boot package</a>"}],"answers":[{"comments":[{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504782225,"post_id":46094651,"comment_id":79150968,"body_markdown":"&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;","body":"&lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;         &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;         &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;     &lt;/parent&gt;"}],"tags":[],"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504781980,"creation_date":1504781980,"answer_id":46094651,"question_id":46093720,"body_markdown":"I think that you have to point to a parent POM where dependencies are stored:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;","title":"SpringBoot failing to run","body":"<p>I think that you have to point to a parent POM where dependencies are stored:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504782386,"post_id":46094662,"comment_id":79151074,"body_markdown":"sorry could you tell me where can i write that command and my IDE is STS  ?","body":"sorry could you tell me where can i write that command and my IDE is STS  ?"},{"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"score":0,"creation_date":1504782501,"post_id":46094662,"comment_id":79151157,"body_markdown":"@magedabdelkhalik And every ide has a re import or refresh procedure, which ide is you on?","body":"@magedabdelkhalik And every ide has a re import or refresh procedure, which ide is you on?"},{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504782548,"post_id":46094662,"comment_id":79151196,"body_markdown":"please specify place","body":"please specify place"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":1,"creation_date":1504782581,"post_id":46094662,"comment_id":79151212,"body_markdown":"I thought the command to run spring-boot app was `mvn spring-boot:run`","body":"I thought the command to run spring-boot app was <code>mvn spring-boot:run</code>"},{"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"score":0,"creation_date":1504782582,"post_id":46094662,"comment_id":79151214,"body_markdown":"im on STS IDE eclipse","body":"im on STS IDE eclipse"},{"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"score":0,"creation_date":1504782763,"post_id":46094662,"comment_id":79151333,"body_markdown":"@SukmaWardana thanks and updated, mixed it up with gradle :)","body":"@SukmaWardana thanks and updated, mixed it up with gradle :)"},{"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"score":0,"creation_date":1504782914,"post_id":46094662,"comment_id":79151410,"body_markdown":"@magedabdelkhalik hi updated my answer see if it helps","body":"@magedabdelkhalik hi updated my answer see if it helps"},{"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"score":0,"creation_date":1504783594,"post_id":46094662,"comment_id":79151897,"body_markdown":"@magedabdelkhalik That step is for building the project from command prompt, terminal, console. If you are not using one you can skip that step.","body":"@magedabdelkhalik That step is for building the project from command prompt, terminal, console. If you are not using one you can skip that step."}],"tags":[],"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504783462,"creation_date":1504782007,"answer_id":46094662,"question_id":46093720,"body_markdown":" 1. Fix your pom as it is malformed. Here is a working one generated from start.spring.io  \r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        \r\n            &lt;name&gt;demo&lt;/name&gt;\r\n            &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \r\n            &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n                &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n            &lt;/parent&gt;\r\n        \r\n            &lt;properties&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n                &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;/properties&gt;\r\n        \r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;/dependency&gt;\r\n        \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        \r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        \r\n        \r\n        &lt;/project&gt;\r\n\r\n 2. Or If you are using IDE like intelliJ idea or Eclipse make sure to re\r\n    import the project.\r\nHere is an answer how to refresh maven dependencies in eclipse\r\n\r\n    https://stackoverflow.com/questions/2555845/how-to-update-maven-repository-in-eclipse\r\n\r\n 3. Optionaly if you want to build from terminal.Try running the\r\n    following command in console\r\n        \r\n            mvn spring-boot:run","title":"SpringBoot failing to run","body":"<ol>\n<li><p>Fix your pom as it is malformed. Here is a working one generated from start.spring.io  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre></li>\n<li><p>Or If you are using IDE like intelliJ idea or Eclipse make sure to re\nimport the project.\nHere is an answer how to refresh maven dependencies in eclipse</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2555845/how-to-update-maven-repository-in-eclipse\">How to update maven repository in Eclipse?</a></p></li>\n<li><p>Optionaly if you want to build from terminal.Try running the\nfollowing command in console</p>\n\n<pre><code>    mvn spring-boot:run\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":10309287,"reputation":41,"user_id":7605627,"accept_rate":0,"display_name":"maged abdelkhalik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5919,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1683605266,"creation_date":1504779086,"question_id":46093720,"body_markdown":"I ran _maven_ correctly but when I run the main class I get an error:\r\n\r\n`Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: SpringApplication cannot be resolved`\r\n\r\n**Java**\r\n\r\n    @SpringBootApplication\r\n    public class CourseApiapp {\r\n\r\n\t    public static void main(String []args) {\r\n\t\t    SpringApplication.run(CourseApiapp.class, args);\r\n\t    }\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n  \r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  \r\n  \r\n&lt;/project&gt;","title":"SpringBoot failing to run","body":"<p>I ran <em>maven</em> correctly but when I run the main class I get an error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: SpringApplication cannot be resolved</code></p>\n<p><strong>Java</strong></p>\n<pre><code>@SpringBootApplication\npublic class CourseApiapp {\n\n    public static void main(String []args) {\n        SpringApplication.run(CourseApiapp.class, args);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","web-services","servlets","jersey","jetty"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1641360393,"post_id":70588055,"comment_id":124782142,"body_markdown":"Should ```server#start``` method be called?","body":"Should <code>server#start</code> method be called?"},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1641363017,"post_id":70588055,"comment_id":124782613,"body_markdown":"I checked the above blog again it is not present there. I tried adding server.start(). but now it is giving me null pointer exception.","body":"I checked the above blog again it is not present there. I tried adding server.start(). but now it is giving me null pointer exception."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1641363532,"post_id":70588055,"comment_id":124782720,"body_markdown":"@zysaaa : I checked , server value is returned null in \n\nfinal Server server =\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);","body":"@zysaaa : I checked , server value is returned null in   final Server server =                 JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1641394623,"post_id":70588055,"comment_id":124793926,"body_markdown":"When you create the server, add `server.setDumpAfterStart(true);`, if that server dump doesn&#39;t show up, then your server hasn&#39;t been started.  If it does show up, it will tell you the configuration that is being used, which will also help diagnose things.","body":"When you create the server, add <code>server.setDumpAfterStart(true);</code>, if that server dump doesn&#39;t show up, then your server hasn&#39;t been started.  If it does show up, it will tell you the configuration that is being used, which will also help diagnose things."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1642101398,"post_id":70588055,"comment_id":124988927,"body_markdown":"You are using Jersey 3.x, right?","body":"You are using Jersey 3.x, right?"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1642102000,"post_id":70588055,"comment_id":124989166,"body_markdown":"Can you share the Receiver class? I copied your code and it works well for me.","body":"Can you share the Receiver class? I copied your code and it works well for me."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1642131656,"post_id":70588055,"comment_id":124995878,"body_markdown":"@jan.supol : Hey it starts working for me as well, doing nothing.. It was some intermittent issue. Thanks","body":"@jan.supol : Hey it starts working for me as well, doing nothing.. It was some intermittent issue. Thanks"}],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683605026,"creation_date":1641359376,"question_id":70588055,"body_markdown":"I am learning java web application and started with jetty and jersey for creating the rest api. I am following this article [https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application][1]\r\n\r\n\r\n  [1]: https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application\r\n\r\nBy this, I am able to compile and run the server however it does not accept any requests. I tried telnet, curl and other things - I always get connection refused. \r\n\r\nMy `MainApp.java` looks like this \r\n\r\n```\r\n\r\npublic class MainApp {\r\n\r\n    public static final String BASE_URI = &quot;http://localhost:8080/&quot;;\r\n\r\n    public static Server startServer() {\r\n\r\n        // scan packages\r\n        // final ResourceConfig config = new ResourceConfig().packages(&quot;com.mkyong&quot;);\r\n\r\n        final ResourceConfig config = new ResourceConfig(Receiver.class);  -- This is my resouce. \r\n\r\n        final Server server =\r\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);\r\n\r\n        return server;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n\r\n            final Server server = startServer();\r\n\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n                try {\r\n                    System.out.println(&quot;Shutting down the application...&quot;);\r\n                    server.stop();\r\n                    System.out.println(&quot;Done, exit.&quot;);\r\n                } catch (Exception e) {\r\n                    Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);\r\n                }\r\n            }));\r\n\r\n            System.out.println(\r\n                    String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\r\n\r\n            // block and wait shut down signal, like CTRL+C\r\n            Thread.currentThread().join();\r\n\r\n            // alternative\r\n            // Thread.sleep(Long.MAX_VALUE);       // sleep forever...\r\n            // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years\r\n\r\n        } catch (InterruptedException ex) {\r\n            Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nAm I missing any other configuration? Any help would be appreciated. \r\n","title":"Jetty 11 with Jersey is not accepting requests","body":"<p>I am learning java web application and started with jetty and jersey for creating the rest api. I am following this article <a href=\"https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-rs/jersey-and-jetty-http-server-examples/#start-jersey-jetty-application</a></p>\n<p>By this, I am able to compile and run the server however it does not accept any requests. I tried telnet, curl and other things - I always get connection refused.</p>\n<p>My <code>MainApp.java</code> looks like this</p>\n<pre><code>\npublic class MainApp {\n\n    public static final String BASE_URI = &quot;http://localhost:8080/&quot;;\n\n    public static Server startServer() {\n\n        // scan packages\n        // final ResourceConfig config = new ResourceConfig().packages(&quot;com.mkyong&quot;);\n\n        final ResourceConfig config = new ResourceConfig(Receiver.class);  -- This is my resouce. \n\n        final Server server =\n                JettyHttpContainerFactory.createServer(URI.create(BASE_URI), config);\n\n        return server;\n\n    }\n\n    public static void main(String[] args) {\n\n        try {\n\n            final Server server = startServer();\n\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n                try {\n                    System.out.println(&quot;Shutting down the application...&quot;);\n                    server.stop();\n                    System.out.println(&quot;Done, exit.&quot;);\n                } catch (Exception e) {\n                    Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, e);\n                }\n            }));\n\n            System.out.println(\n                    String.format(&quot;Application started.%nStop the application using CTRL+C&quot;));\n\n            // block and wait shut down signal, like CTRL+C\n            Thread.currentThread().join();\n\n            // alternative\n            // Thread.sleep(Long.MAX_VALUE);       // sleep forever...\n            // Thread.sleep(Integer.MAX_VALUE);    // sleep around 60+ years\n\n        } catch (InterruptedException ex) {\n            Logger.getLogger(MainApp.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n}\n\n</code></pre>\n<p>Am I missing any other configuration? Any help would be appreciated.</p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1585456328,"post_id":60910187,"comment_id":107762916,"body_markdown":"Test it using [JMH](https://openjdk.java.net/projects/code-tools/jmh/).","body":"Test it using <a href=\"https://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":1,"creation_date":1585457574,"post_id":60910187,"comment_id":107763109,"body_markdown":"Does this answer your question? [Integer.toString(int i) vs String.valueOf(int i)](https://stackoverflow.com/questions/3335737/integer-tostringint-i-vs-string-valueofint-i)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3335737/integer-tostringint-i-vs-string-valueofint-i\">Integer.toString(int i) vs String.valueOf(int i)</a>"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1585471629,"post_id":60910210,"comment_id":107765793,"body_markdown":"Java Virtual Machines usually perform some form of JIT, which can inline methods like this.","body":"Java Virtual Machines usually perform some form of JIT, which can inline methods like this."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683607299,"post_id":60910210,"comment_id":134388418,"body_markdown":"&quot;Java does not normally inline function calls&quot;: false.","body":"&quot;Java does not normally inline function calls&quot;: false."}],"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1585457082,"creation_date":1585456546,"answer_id":60910210,"question_id":60910187,"body_markdown":"The performance should be nearly identical because `String.valueOf(a)` is defined as follows:\r\n```java\r\npublic static String valueOf(int i) {\r\n    return Integer.toString(i);\r\n}\r\n```\r\n\r\nIt also goes to reason that `Integer.toString` would be faster since it can skip `String.valueOf` on the call stack, but I don&#39;t know if the difference is enough to notice in practice.\r\n\r\nUnfortunately java does not normally inline function calls so at a minimum it will need to spend extra time loading the function, but after the first call the CPU cache would likely make the redirect nearly unnoticeable. \r\n\r\n**Edit**: You can find this on your own by using *go to definition* in your IDE. I was able to get this code snippit by selecting the function call and pressing **Ctrl + B** in Intellij Idea.","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p>The performance should be nearly identical because <code>String.valueOf(a)</code> is defined as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String valueOf(int i) {\n    return Integer.toString(i);\n}\n</code></pre>\n\n<p>It also goes to reason that <code>Integer.toString</code> would be faster since it can skip <code>String.valueOf</code> on the call stack, but I don't know if the difference is enough to notice in practice.</p>\n\n<p>Unfortunately java does not normally inline function calls so at a minimum it will need to spend extra time loading the function, but after the first call the CPU cache would likely make the redirect nearly unnoticeable. </p>\n\n<p><strong>Edit</strong>: You can find this on your own by using <em>go to definition</em> in your IDE. I was able to get this code snippit by selecting the function call and pressing <strong>Ctrl + B</strong> in Intellij Idea.</p>\n"},{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585456553,"creation_date":1585456553,"answer_id":60910212,"question_id":60910187,"body_markdown":"`String.valueOf(int)` internally calls the `Integer.toString(int)`. So there will not be any performance difference. Or theoretically Integer.toString should be better as 1 less call. ","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p><code>String.valueOf(int)</code> internally calls the <code>Integer.toString(int)</code>. So there will not be any performance difference. Or theoretically Integer.toString should be better as 1 less call. </p>\n"},{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683604908,"creation_date":1585459142,"answer_id":60910460,"question_id":60910187,"body_markdown":"Below is the source for both method as of JDK 8\r\n\r\nThis is the source for `Intger.toString()`\r\n\r\n     public static String toString(int i) {\r\n        if (i == Integer.MIN_VALUE)\r\n            return &quot;-2147483648&quot;;\r\n        int size = (i &lt; 0) ? stringSize(-i) + 1 : stringSize(i);\r\n        char[] buf = new char[size];\r\n        getChars(i, size, buf);\r\n        return new String(buf, true);\r\n    }\r\n\r\nAnd this is the source for `String.valueOf(int)`\r\n\r\n    public static String valueOf(int i) {\r\n    return Integer.toString(i);\r\n    }\r\n\r\n\r\nAs you can see there will be barely any difference in the performance , `Integer.toString()` is called in both  cases\r\n\r\nBut I you have to choose one then the answer is `Integer.toString()` because that way i can reduce the overhead of calling `String.valueOf(int)`  it will be barely anything , but as you may know a method call involves many things like putting method call on stack , saving state and control return position , then poping it off the stack , that all will be avoided, but still computers are too fast so it doesn&#39;t count  ","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p>Below is the source for both method as of JDK 8</p>\n<p>This is the source for <code>Intger.toString()</code></p>\n<pre><code> public static String toString(int i) {\n    if (i == Integer.MIN_VALUE)\n        return &quot;-2147483648&quot;;\n    int size = (i &lt; 0) ? stringSize(-i) + 1 : stringSize(i);\n    char[] buf = new char[size];\n    getChars(i, size, buf);\n    return new String(buf, true);\n}\n</code></pre>\n<p>And this is the source for <code>String.valueOf(int)</code></p>\n<pre><code>public static String valueOf(int i) {\nreturn Integer.toString(i);\n}\n</code></pre>\n<p>As you can see there will be barely any difference in the performance , <code>Integer.toString()</code> is called in both  cases</p>\n<p>But I you have to choose one then the answer is <code>Integer.toString()</code> because that way i can reduce the overhead of calling <code>String.valueOf(int)</code>  it will be barely anything , but as you may know a method call involves many things like putting method call on stack , saving state and control return position , then poping it off the stack , that all will be avoided, but still computers are too fast so it doesn't count</p>\n"}],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1585471697,"answer_count":3,"score":4,"last_activity_date":1683604908,"creation_date":1585456243,"question_id":60910187,"body_markdown":"I have an integer let say, `int a = 123;`\r\n\r\nNow, I can convert it to String using below two ways:\r\n\r\n    1. Integer.toString(a)\r\n    2. String.valueOf(a)\r\n\r\nI want to know, if there is any performance difference between the above two ways, let say when we are doing this for 10k integers or more and if yes then why? \r\n","title":"Performance difference between Integer.toString() and String.valueOf()?","body":"<p>I have an integer let say, <code>int a = 123;</code></p>\n\n<p>Now, I can convert it to String using below two ways:</p>\n\n<pre><code>1. Integer.toString(a)\n2. String.valueOf(a)\n</code></pre>\n\n<p>I want to know, if there is any performance difference between the above two ways, let say when we are doing this for 10k integers or more and if yes then why? </p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683624345,"post_id":76205678,"comment_id":134391388,"body_markdown":"Please post the full exception stacktrace.","body":"Please post the full exception stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":22906904,"reputation":113,"user_id":17044833,"display_name":"Jaison "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683604741,"creation_date":1683604741,"answer_id":76205773,"question_id":76205678,"body_markdown":"Ideally this issue occurs when the connection string becomes wrong. Can you check if the connection string formed is of the correct format.\r\n\r\nThe expected connection string for a mysql jdbc connection will be as below,\r\n \r\n\r\n    jdbc:mysql://localhost:3306/daily_db?user=root&amp;password=Prueb@1&amp;serverTimezone=UTC\r\n\r\nPlease refer https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html for more details regarding the connection string.\r\n\r\nAlso please make sure the DB is up and running on the ports provided in your code, i..e, localhost:3306.","title":"java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>Ideally this issue occurs when the connection string becomes wrong. Can you check if the connection string formed is of the correct format.</p>\n<p>The expected connection string for a mysql jdbc connection will be as below,</p>\n<pre><code>jdbc:mysql://localhost:3306/daily_db?user=root&amp;password=Prueb@1&amp;serverTimezone=UTC\n</code></pre>\n<p>Please refer <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-jdbc-url-format.html</a> for more details regarding the connection string.</p>\n<p>Also please make sure the DB is up and running on the ports provided in your code, i..e, localhost:3306.</p>\n"}],"owner":{"account_id":28553311,"reputation":11,"user_id":21857858,"display_name":"Jhon Edwin Rodr&#237;guez Ceron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683604741,"creation_date":1683603169,"question_id":76205678,"body_markdown":"I&#39;m having an issue with the error code &quot;java.sql.SQLNonTransientConnectionException: Could not create connection to database server.&quot; I&#39;m trying to use JDBC to establish a connection with the database, the credentials are correctly spelled. Could you please help me to check what could be failing in this project?\r\n\r\n```\r\npackage com.example.daily.db;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.example.daily.R;\r\nimport com.mysql.cj.protocol.Resultset;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class controler extends AppCompatActivity {\r\n    private controler controlador;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tercera);\r\n        controlador = new controler();\r\n    }\r\n    public static void micontroler (){\r\n\r\n        String usuario = &quot;root&quot;;\r\n        String password = &quot;Prueb@1&quot;;\r\n        String url = &quot;jdbc:mysql://localhost:3306/daily_db&quot;;\r\n        Connection conexion;\r\n        Statement statement;\r\n        Resultset rs;\r\n\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n\r\n        try {\r\n            conexion = DriverManager.getConnection(url,usuario,password);\r\n            statement = conexion.createStatement();\r\n            statement.executeUpdate(&quot;INSERT INTO USUARIOS(EMAIL,NOMBRES,APELLIDOS,APODO,FECHA_NACIMIENTO) VALUES (&#39;Teste&#39;,&#39;TESTn&#39;,&#39;TESTa&#39;,&#39;TESTp&#39;,&#39;14/06/22&#39;)&quot;);\r\n\r\n\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\nI checked the connection, rewrote the code, added the controller to the manifest.","title":"java.sql.SQLNonTransientConnectionException: Could not create connection to database server","body":"<p>I'm having an issue with the error code &quot;java.sql.SQLNonTransientConnectionException: Could not create connection to database server.&quot; I'm trying to use JDBC to establish a connection with the database, the credentials are correctly spelled. Could you please help me to check what could be failing in this project?</p>\n<pre><code>package com.example.daily.db;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.daily.R;\nimport com.mysql.cj.protocol.Resultset;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class controler extends AppCompatActivity {\n    private controler controlador;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tercera);\n        controlador = new controler();\n    }\n    public static void micontroler (){\n\n        String usuario = &quot;root&quot;;\n        String password = &quot;Prueb@1&quot;;\n        String url = &quot;jdbc:mysql://localhost:3306/daily_db&quot;;\n        Connection conexion;\n        Statement statement;\n        Resultset rs;\n\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n\n        try {\n            conexion = DriverManager.getConnection(url,usuario,password);\n            statement = conexion.createStatement();\n            statement.executeUpdate(&quot;INSERT INTO USUARIOS(EMAIL,NOMBRES,APELLIDOS,APODO,FECHA_NACIMIENTO) VALUES ('Teste','TESTn','TESTa','TESTp','14/06/22')&quot;);\n\n\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>I checked the connection, rewrote the code, added the controller to the manifest.</p>\n"},{"tags":["java","3d","collision-detection","collision"],"owner":{"account_id":28553310,"reputation":11,"user_id":21857857,"display_name":"Glitchh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683603231,"creation_date":1683603231,"question_id":76205685,"body_markdown":"I am trying to implement 3D GJK collision using JavaFx. It works when the colliders are actually colliding, and if the colliders are far apart from each other, yet delivers false positives when the colliders are nearby in specific orientation. This leads me to believe its an issue with the simplex, yet I am unable to find the issue. Can someone help me?\r\n\r\nHere is my code. The collider class only holds an array of points, and I double checked to make sure the points were convex. I can post them if needed.\r\n\r\n        private static final double EPILSON = 0;\r\n\t\r\n\tstatic private Point3D findSuppPoint(Collider_3d a, Collider_3d b, Point3D dir) {\r\n\t\treturn a.findExtrema(dir).subtract(b.findExtrema(dir.multiply(-1)));\r\n\t}\r\n\t\r\n\tpublic static boolean Gilbert_Johnson_Keerthi_Collision(Collider_3d a, Collider_3d b) {\r\n\t\tPoint3D dir = new Point3D(0,0,1);\r\n\t\tPoint3D currPoint = findSuppPoint(a,b,dir);\r\n\t\tArrayList&lt;Point3D&gt; simplex = new ArrayList&lt;Point3D&gt;();\r\n\t\tsimplex.add(currPoint);\r\n\t\t\r\n\t\tdir = currPoint.multiply(-1); // find point to origin\r\n\t\t\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tcurrPoint = findSuppPoint(a,b,dir);\r\n\t\t\tif(currPoint.dotProduct(dir) &lt; EPILSON) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tsimplex.add(currPoint);\r\n\t\t\tdir = calcSimplex(simplex, dir);\r\n\t\t\tif(dir == null){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tstatic private Point3D calcSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\r\n\t\tif(s.size() == 2) {\r\n\t\t\treturn nextDir(s);\r\n\t\t}else if(s.size() == 3) {\r\n\t\t\treturn triSimplex(s, dir);\r\n\t\t}else if(s.size() == 4){\r\n\t\t\treturn tetraSimplex(s, dir);\r\n\t\t}\r\n\t\treturn dir; // should never happen\r\n\t}\r\n\r\n\tstatic private Point3D tetraSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\r\n\t\tPoint3D AB = s.get(2).subtract(s.get(3));\r\n\t\tPoint3D AC = s.get(1).subtract(s.get(3));\r\n\t\tPoint3D AD = s.get(0).subtract(s.get(3));\r\n\t\tPoint3D AO = s.get(3).multiply(-1);\r\n\t\t\r\n\t\t\r\n\t\tPoint3D ABCDir = AB.crossProduct(AC);\r\n\t\tPoint3D ADBDir = AC.crossProduct(AD);\r\n\t\tPoint3D ACDDir = AD.crossProduct(AB);\r\n\t\t\r\n\t\tif(ABCDir.dotProduct(AD) &gt; 0) {\r\n\t\t\tABCDir = ABCDir.multiply(-1);\r\n\t\t}else if(ADBDir.dotProduct(AC) &gt; 0) {\r\n\t\t\tADBDir = ADBDir.multiply(-1);\r\n\t\t}else if(ACDDir.dotProduct(AB) &gt; 0) {\r\n\t\t\tACDDir = ACDDir.multiply(-1);\r\n\t\t}\r\n\t\t\r\n\t\tif(ABCDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(0);\r\n\t\t\treturn ABCDir;\r\n\t\t}else if(ADBDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(1);\r\n\t\t\treturn ADBDir;\r\n\t\t}else if(ACDDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(2);\r\n\t\t\treturn ACDDir;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;AHHHH&quot;);\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tstatic private Point3D triSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\r\n\t\tPoint3D AB = s.get(1).subtract(s.get(2));\r\n\t\tPoint3D AC = s.get(0).subtract(s.get(2));\r\n\t\tPoint3D AO = s.get(2).multiply(-1);\r\n\t\tPoint3D ABDir = (AC.crossProduct(AB)).crossProduct(AB);\r\n\t\tPoint3D ACDir = (AB.crossProduct(AC)).crossProduct(AC);\r\n\t\tif(ABDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(0);\r\n\t\t\treturn ABDir;\r\n\t\t}else if(ACDir.dotProduct(AO) &gt; 0) {\r\n\t\t\ts.remove(1);\r\n\t\t\treturn ACDir;\r\n\t\t}\r\n\t\treturn dir;\r\n\t}\r\n\r\n\tstatic private Point3D nextDir(ArrayList&lt;Point3D&gt; s) {\r\n\t\tPoint3D AB = s.get(0).subtract(s.get(1));\r\n\t\tPoint3D AO = s.get(1).multiply(-1);\r\n\t\treturn (AB.crossProduct(AO)).crossProduct(AB);\r\n\t\t\r\n\t}","title":"GJK Collision False-Positive in Java","body":"<p>I am trying to implement 3D GJK collision using JavaFx. It works when the colliders are actually colliding, and if the colliders are far apart from each other, yet delivers false positives when the colliders are nearby in specific orientation. This leads me to believe its an issue with the simplex, yet I am unable to find the issue. Can someone help me?</p>\n<p>Here is my code. The collider class only holds an array of points, and I double checked to make sure the points were convex. I can post them if needed.</p>\n<pre><code>    private static final double EPILSON = 0;\n\nstatic private Point3D findSuppPoint(Collider_3d a, Collider_3d b, Point3D dir) {\n    return a.findExtrema(dir).subtract(b.findExtrema(dir.multiply(-1)));\n}\n\npublic static boolean Gilbert_Johnson_Keerthi_Collision(Collider_3d a, Collider_3d b) {\n    Point3D dir = new Point3D(0,0,1);\n    Point3D currPoint = findSuppPoint(a,b,dir);\n    ArrayList&lt;Point3D&gt; simplex = new ArrayList&lt;Point3D&gt;();\n    simplex.add(currPoint);\n    \n    dir = currPoint.multiply(-1); // find point to origin\n    \n    \n    while(true) {\n        currPoint = findSuppPoint(a,b,dir);\n        if(currPoint.dotProduct(dir) &lt; EPILSON) {\n            return false;\n        }\n        simplex.add(currPoint);\n        dir = calcSimplex(simplex, dir);\n        if(dir == null){\n            return true;\n        }\n        \n        \n    }\n}\n\nstatic private Point3D calcSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\n    if(s.size() == 2) {\n        return nextDir(s);\n    }else if(s.size() == 3) {\n        return triSimplex(s, dir);\n    }else if(s.size() == 4){\n        return tetraSimplex(s, dir);\n    }\n    return dir; // should never happen\n}\n\nstatic private Point3D tetraSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\n    Point3D AB = s.get(2).subtract(s.get(3));\n    Point3D AC = s.get(1).subtract(s.get(3));\n    Point3D AD = s.get(0).subtract(s.get(3));\n    Point3D AO = s.get(3).multiply(-1);\n    \n    \n    Point3D ABCDir = AB.crossProduct(AC);\n    Point3D ADBDir = AC.crossProduct(AD);\n    Point3D ACDDir = AD.crossProduct(AB);\n    \n    if(ABCDir.dotProduct(AD) &gt; 0) {\n        ABCDir = ABCDir.multiply(-1);\n    }else if(ADBDir.dotProduct(AC) &gt; 0) {\n        ADBDir = ADBDir.multiply(-1);\n    }else if(ACDDir.dotProduct(AB) &gt; 0) {\n        ACDDir = ACDDir.multiply(-1);\n    }\n    \n    if(ABCDir.dotProduct(AO) &gt; 0) {\n        s.remove(0);\n        return ABCDir;\n    }else if(ADBDir.dotProduct(AO) &gt; 0) {\n        s.remove(1);\n        return ADBDir;\n    }else if(ACDDir.dotProduct(AO) &gt; 0) {\n        s.remove(2);\n        return ACDDir;\n    }\n    System.out.println(&quot;AHHHH&quot;);\n    return null;\n}\n\n\n\nstatic private Point3D triSimplex(ArrayList&lt;Point3D&gt; s, Point3D dir) {\n    Point3D AB = s.get(1).subtract(s.get(2));\n    Point3D AC = s.get(0).subtract(s.get(2));\n    Point3D AO = s.get(2).multiply(-1);\n    Point3D ABDir = (AC.crossProduct(AB)).crossProduct(AB);\n    Point3D ACDir = (AB.crossProduct(AC)).crossProduct(AC);\n    if(ABDir.dotProduct(AO) &gt; 0) {\n        s.remove(0);\n        return ABDir;\n    }else if(ACDir.dotProduct(AO) &gt; 0) {\n        s.remove(1);\n        return ACDir;\n    }\n    return dir;\n}\n\nstatic private Point3D nextDir(ArrayList&lt;Point3D&gt; s) {\n    Point3D AB = s.get(0).subtract(s.get(1));\n    Point3D AO = s.get(1).multiply(-1);\n    return (AB.crossProduct(AO)).crossProduct(AB);\n    \n}\n</code></pre>\n"},{"tags":["java","spring-transactions","declarative"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1579954419,"post_id":59900745,"comment_id":105943666,"body_markdown":"To understand the issue I tried a simple test and it does start a new txn . Could you please share why you think a new txn is not started ?","body":"To understand the issue I tried a simple test and it does start a new txn . Could you please share why you think a new txn is not started ?"},{"owner":{"account_id":3939456,"reputation":1801,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"score":0,"creation_date":1580076737,"post_id":59900745,"comment_id":105969600,"body_markdown":"Because when someService.updateSomething() throws an Exception, I get an UnexpectedRollbackException when someMethod tries to commit its transaction","body":"Because when someService.updateSomething() throws an Exception, I get an UnexpectedRollbackException when someMethod tries to commit its transaction"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1580082905,"post_id":59900745,"comment_id":105970663,"body_markdown":"Could you please share the complete code and the exception trace . Also following [post](https://stackoverflow.com/questions/2007097/unexpectedrollbackexception-a-full-scenario-analysis) will be helpful in your analysis .","body":"Could you please share the complete code and the exception trace . Also following <a href=\"https://stackoverflow.com/questions/2007097/unexpectedrollbackexception-a-full-scenario-analysis\">post</a> will be helpful in your analysis ."},{"owner":{"account_id":3939456,"reputation":1801,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"score":1,"creation_date":1580138311,"post_id":59900745,"comment_id":105989810,"body_markdown":"I understood whats happening. When you wrap programmatically a method with a new transaction, if the method throws an exception (this case), there is a LOGGER.error code but when it finishes, the parent method(someMethod) finishes and tries to commit the new transaction but the Transactional annotation in the someService.updateSomething() method in its class has marked the transaction to rollback. So, I do have a new transactional behaviour","body":"I understood whats happening. When you wrap programmatically a method with a new transaction, if the method throws an exception (this case), there is a LOGGER.error code but when it finishes, the parent method(someMethod) finishes and tries to commit the new transaction but the Transactional annotation in the someService.updateSomething() method in its class has marked the transaction to rollback. So, I do have a new transactional behaviour"}],"owner":{"account_id":3939456,"reputation":1801,"user_id":3254515,"accept_rate":52,"display_name":"fernando1979"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683603009,"creation_date":1579884944,"question_id":59900745,"body_markdown":"I am trying to override the transactional behaviour for a service method(someService.updateSomething() in the example) annotated with @Transactional annotation in Spring. To do so, from other class, I am using programmatic transactional code like the next:\r\n\r\n    @Service\r\n    public class MyServiceClass {\r\n\r\n     \r\n       private TransactionTemplate transactionTemplate;\t\r\n\t\r\n\t\r\n\t   public MyClass (PlatformTransactionManager transactionManager) {\r\n\t\t   transactionTemplate = new TransactionTemplate(transactionManager);\r\n\t   }\r\n\r\n\r\n\r\n     @Transactional\r\n     public void someMethod(){\t\t\t\t\t\r\n\t\ttransactionTemplate.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\t\t\r\n\t\ttransactionTemplate.execute(new TransactionCallbackWithoutResult()\t{    \r\n\t\t\tprotected void doInTransactionWithoutResult(TransactionStatus status){  \r\n\t\t\t\ttry{\r\n\t\t\t\t\tsomeService.updateSomething();    \r\n\t\t\t\t}catch(Exception e){\r\n\t\t        \tLOGGER.error(&quot;Error has ocurred&quot;);       \t      \t\r\n\t\t        }\r\n\t\t\t} \r\n\t\t});\r\n\t  }\r\n    }\r\n\r\n\r\nMy problem is that someService.updateSomething() does not run in a new Transaction and I dont understand why. So:\r\n\r\n - If I call a proxied service method with transactional behaviour like someService.updateSomething() but in the call I create a new transaction like in the example, when the code hits to the proxied method, it will take the new transaction created and not the transaction already running for the someMethod() method, right?\r\n\r\nThanks!","title":"Override declarative transactional methods with programmatic transactional code in Spring","body":"<p>I am trying to override the transactional behaviour for a service method(someService.updateSomething() in the example) annotated with @Transactional annotation in Spring. To do so, from other class, I am using programmatic transactional code like the next:</p>\n\n<pre><code>@Service\npublic class MyServiceClass {\n\n\n   private TransactionTemplate transactionTemplate; \n\n\n   public MyClass (PlatformTransactionManager transactionManager) {\n       transactionTemplate = new TransactionTemplate(transactionManager);\n   }\n\n\n\n @Transactional\n public void someMethod(){                  \n    transactionTemplate.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);     \n    transactionTemplate.execute(new TransactionCallbackWithoutResult()  {    \n        protected void doInTransactionWithoutResult(TransactionStatus status){  \n            try{\n                someService.updateSomething();    \n            }catch(Exception e){\n                LOGGER.error(\"Error has ocurred\");                  \n            }\n        } \n    });\n  }\n}\n</code></pre>\n\n<p>My problem is that someService.updateSomething() does not run in a new Transaction and I dont understand why. So:</p>\n\n<ul>\n<li>If I call a proxied service method with transactional behaviour like someService.updateSomething() but in the call I create a new transaction like in the example, when the code hits to the proxied method, it will take the new transaction created and not the transaction already running for the someMethod() method, right?</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683599208,"post_id":76205464,"comment_id":134387730,"body_markdown":"What does the error message say?","body":"What does the error message say?"},{"owner":{"account_id":21548755,"reputation":1,"user_id":15885212,"display_name":"Nirbhik"},"score":0,"creation_date":1683599367,"post_id":76205464,"comment_id":134387745,"body_markdown":"java: non-static variable this cannot be referenced from a static context","body":"java: non-static variable this cannot be referenced from a static context"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683599484,"post_id":76205464,"comment_id":134387749,"body_markdown":"Please [edit] to include a [mcve] of your code, and include it *as text*, not an image.","body":"Please <a href=\"https://stackoverflow.com/posts/76205464/edit\">edit</a> to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code, and include it <i>as text</i>, not an image."}],"answers":[{"comments":[{"owner":{"account_id":21548755,"reputation":1,"user_id":15885212,"display_name":"Nirbhik"},"score":0,"creation_date":1683599725,"post_id":76205484,"comment_id":134387774,"body_markdown":"ohhh okay thankyou I understood it now. I&#39;m just learning java so I put all the classes in the same file.","body":"ohhh okay thankyou I understood it now. I&#39;m just learning java so I put all the classes in the same file."}],"tags":[],"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683599558,"creation_date":1683599558,"answer_id":76205484,"question_id":76205464,"body_markdown":"If you are putting all your classes in the same file (not a standard thing), and you are using those classes from your ```void static main()``` method, then yes, you will need to put ```static``` in front of your classes.\r\n\r\nNormally classes would be in their own file, and then you would not use (actually, could not use) static in front of the ```class``` keyword.\r\n","title":"Error occurs if I do not make every class static in java","body":"<p>If you are putting all your classes in the same file (not a standard thing), and you are using those classes from your <code>void static main()</code> method, then yes, you will need to put <code>static</code> in front of your classes.</p>\n<p>Normally classes would be in their own file, and then you would not use (actually, could not use) static in front of the <code>class</code> keyword.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683602906,"creation_date":1683602906,"answer_id":76205663,"question_id":76205464,"body_markdown":"No.\r\n\r\n`main` has to be static. static is more or less an advanced concept; if you don&#39;t want to learn about it yet (probably a good idea), the fix is simple: Get out of `static` IMMEDIATELY. This is not difficult:\r\n\r\n```\r\npublic class MyApp {\r\n  public static void main(String[] args) throws Exception {\r\n    new MyApp().go();\r\n  }\r\n\r\n  void go() throws Exception {\r\n    // this is where you write your code\r\n  }\r\n}\r\n```\r\n\r\nOther than the one `static` in your `main` method, don&#39;t put static anywhere. You won&#39;t have any &#39;uhoh that is not static&#39; errors any more.","title":"Error occurs if I do not make every class static in java","body":"<p>No.</p>\n<p><code>main</code> has to be static. static is more or less an advanced concept; if you don't want to learn about it yet (probably a good idea), the fix is simple: Get out of <code>static</code> IMMEDIATELY. This is not difficult:</p>\n<pre><code>public class MyApp {\n  public static void main(String[] args) throws Exception {\n    new MyApp().go();\n  }\n\n  void go() throws Exception {\n    // this is where you write your code\n  }\n}\n</code></pre>\n<p>Other than the one <code>static</code> in your <code>main</code> method, don't put static anywhere. You won't have any 'uhoh that is not static' errors any more.</p>\n"}],"owner":{"account_id":21548755,"reputation":1,"user_id":15885212,"display_name":"Nirbhik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683602906,"creation_date":1683599126,"question_id":76205464,"body_markdown":"I am new to java. I&#39;m learning java from a youtube course. There the instructor makes classes just by using the &quot;class&quot; keyword. But whenever I try to do that, an error occurs and I have to add the keyword &quot;static&quot; before the class to solve the error. Should I add &quot;static&quot; keyword everytime I make a class? I have to add static even during inheriting the class.\r\n\r\n[Here we can see error is occured without the keyword &quot;static&quot;](https://i.stack.imgur.com/5b7YT.png)\r\n\r\n[The error goes away after I add the keyword &quot;static&quot;](https://i.stack.imgur.com/n8nGT.png)\r\n\r\n\r\n\r\n\r\nShould I add the keyword &quot;static&quot; everytime I make a class?","title":"Error occurs if I do not make every class static in java","body":"<p>I am new to java. I'm learning java from a youtube course. There the instructor makes classes just by using the &quot;class&quot; keyword. But whenever I try to do that, an error occurs and I have to add the keyword &quot;static&quot; before the class to solve the error. Should I add &quot;static&quot; keyword everytime I make a class? I have to add static even during inheriting the class.</p>\n<p><a href=\"https://i.stack.imgur.com/5b7YT.png\" rel=\"nofollow noreferrer\">Here we can see error is occured without the keyword &quot;static&quot;</a></p>\n<p><a href=\"https://i.stack.imgur.com/n8nGT.png\" rel=\"nofollow noreferrer\">The error goes away after I add the keyword &quot;static&quot;</a></p>\n<p>Should I add the keyword &quot;static&quot; everytime I make a class?</p>\n"},{"tags":["java","bitmap","icons","resolution"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646233104,"post_id":71324674,"comment_id":126072771,"body_markdown":"I&#39;m not fully understanding your question.  You typically don&#39;t store all resolutions of an image, you store a high resolution version of the image and scale it down if needed.  If at all possible, you could use SVGs and then resolution doesn&#39;t matter at all.","body":"I&#39;m not fully understanding your question.  You typically don&#39;t store all resolutions of an image, you store a high resolution version of the image and scale it down if needed.  If at all possible, you could use SVGs and then resolution doesn&#39;t matter at all."},{"owner":{"account_id":11227445,"reputation":11,"user_id":8236669,"display_name":"D.Price"},"score":0,"creation_date":1646233224,"post_id":71324674,"comment_id":126072829,"body_markdown":"I want to create a graphical representation of a set of resolutions","body":"I want to create a graphical representation of a set of resolutions"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646233617,"post_id":71324674,"comment_id":126073002,"body_markdown":"Again, you would need a single image and then scale it to what you need before displaying it to the UI.  See BufferedImage.getScaledInstance()","body":"Again, you would need a single image and then scale it to what you need before displaying it to the UI.  See BufferedImage.getScaledInstance()"}],"answers":[{"tags":[],"owner":{"account_id":3033509,"reputation":539,"user_id":2572072,"accept_rate":38,"display_name":"Stik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646233458,"creation_date":1646233458,"answer_id":71324902,"question_id":71324674,"body_markdown":"Make use of the image classes in `java.awt.*` and `javax.imageio.*`:\r\n\r\n```\r\n\t\tBufferedImage img = new BufferedImage(1024, 1024, BufferedImage.TYPE_INT_ARGB);\r\n\t\tGraphics2D g = img.createGraphics();\r\n\r\n\t\tg.setColor(Color.RED);\r\n\t\tg.fillRect(0, 0, 512, 512);\r\n\t\tg.setColor(Color.BLACK);\r\n\t\tg.drawString(&quot;512x512&quot;, 10, 20);\r\n\t\t// etc..\r\n\t\tImageIO.write(img, &quot;PNG&quot;, new File(&quot;C:\\\\junk\\\\output.png&quot;));\r\n```\r\n\r\nI assume you&#39;ll have a loop over your input pairs, then you&#39;ll have to fiddle around with the arithmetic needed to get the various bits of text where you want them","title":"How Java programmatically create an image showing its resolution or multiple resolutions","body":"<p>Make use of the image classes in <code>java.awt.*</code> and <code>javax.imageio.*</code>:</p>\n<pre><code>        BufferedImage img = new BufferedImage(1024, 1024, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g = img.createGraphics();\n\n        g.setColor(Color.RED);\n        g.fillRect(0, 0, 512, 512);\n        g.setColor(Color.BLACK);\n        g.drawString(&quot;512x512&quot;, 10, 20);\n        // etc..\n        ImageIO.write(img, &quot;PNG&quot;, new File(&quot;C:\\\\junk\\\\output.png&quot;));\n</code></pre>\n<p>I assume you'll have a loop over your input pairs, then you'll have to fiddle around with the arithmetic needed to get the various bits of text where you want them</p>\n"}],"owner":{"account_id":11227445,"reputation":11,"user_id":8236669,"display_name":"D.Price"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683602600,"creation_date":1646232558,"question_id":71324674,"body_markdown":"How can I programmatically create an Image/Icon/Bitmap that shows n number of resolutions in Java using just the SE i.e. no libraries.\r\n\r\ne.g. an array of resolutions like\r\n\r\n    [ [640, 480], [720, 576] ]\r\n\r\nto\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1z5cE.png\r\nThe location of the resolution doesn&#39;t matter but would be preferable as shown.\r\n\r\nWith custom colours/fonts ? maybe even just a line rather than solid fill ?","title":"How Java programmatically create an image showing its resolution or multiple resolutions","body":"<p>How can I programmatically create an Image/Icon/Bitmap that shows n number of resolutions in Java using just the SE i.e. no libraries.</p>\n<p>e.g. an array of resolutions like</p>\n<pre><code>[ [640, 480], [720, 576] ]\n</code></pre>\n<p>to</p>\n<p><a href=\"https://i.stack.imgur.com/1z5cE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1z5cE.png\" alt=\"enter image description here\" /></a></p>\n<p>The location of the resolution doesn't matter but would be preferable as shown.</p>\n<p>With custom colours/fonts ? maybe even just a line rather than solid fill ?</p>\n"},{"tags":["java","data-binding","binding","zk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648741877,"post_id":71694003,"comment_id":126707354,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"score":0,"creation_date":1648803899,"post_id":71694003,"comment_id":126722015,"body_markdown":"posted a long-form answer here: https://forum.zkoss.org/question/114206/problem-creating-data-binding-programmatically/","body":"posted a long-form answer here: <a href=\"https://forum.zkoss.org/question/114206/problem-creating-data-binding-programmatically/\" rel=\"nofollow noreferrer\">forum.zkoss.org/question/114206/&hellip;</a>"}],"owner":{"account_id":24759803,"reputation":1,"user_id":18644353,"display_name":"ImanolRP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683602455,"creation_date":1648735680,"question_id":71694003,"body_markdown":"I&#39;m creating a zk component for mount easy grid from view database. One of its powerful features is the automatic generation of filters by column. These filters appear automatically on the top column inside the auxheader tag and all are generated programmatically in java with the column info. Example of database view TIMESTAMP column (sorry not css right now):\r\n\r\nhttps://prnt.sc/ZK9nMws2l68p\r\n\r\nMy problem now is that I don&#39;t know how to bind these datebox generated programmatically in java with the view for recovering the filter values.\r\n\r\nI was searching inside the zkoss wiki and only found this:\r\n \r\n[create data binding programmatically](https://www.zkoss.org/wiki/User:Hawk/Create_Data_Binding_Programmatically), \r\n\r\nwhere you can find how bind zk components of the zul, or how bind components generated programatically if the parent has an item render option.\r\n\r\n**But i need generate N datebox, numberbox, textbox depending on the number and type of the columns and recover the values of it.**\r\n\r\nAnyone knows how do it?\r\n\r\nThe component has a loot of code and scrap, but more or less the idea is:\r\n\r\nhttps://pastebin.com/Q5VX472L\r\n\r\n        cols.setParent(gridDatatable);\r\n        // create filters inside AuxHeads\r\n        Auxhead auxhead1 = new Auxhead();\r\n        // create a line with the same number of AuxHeaders as Columns we have\r\n        for (int indexColumn = 0; indexColumn &lt; columnsList\r\n            .size(); indexColumn++) {\r\n          if (columnsList.get(indexColumn).getVisible()) {\r\n            // i have definned the diferent Auxheader with a patron factory\r\n            Auxheader auxheader = gridDatatableFilterFactory.generateFilter(\r\n                columnsList.get(indexColumn).getTerms().getType(),\r\n                columnsList.get(indexColumn).getTerms().getKey());\r\n            auxheader.setParent(auxhead1);\r\n          }\r\n        }\r\n        // set the Auxhead line between col names and rows\r\n        auxhead1.setParent(gridDatatable);\r\n        // we add the rowrender for print the rows\r\n        gridDatatable.setRowRenderer(\r\n            new DatatableRowRender(columnsList, gridDatatableCellFactory));\r\n        search();\r\n\r\nThank you in advance, regards.","title":"Zkoss-8.5.1 Problem creating data binding programmatically","body":"<p>I'm creating a zk component for mount easy grid from view database. One of its powerful features is the automatic generation of filters by column. These filters appear automatically on the top column inside the auxheader tag and all are generated programmatically in java with the column info. Example of database view TIMESTAMP column (sorry not css right now):</p>\n<p><a href=\"https://prnt.sc/ZK9nMws2l68p\" rel=\"nofollow noreferrer\">https://prnt.sc/ZK9nMws2l68p</a></p>\n<p>My problem now is that I don't know how to bind these datebox generated programmatically in java with the view for recovering the filter values.</p>\n<p>I was searching inside the zkoss wiki and only found this:</p>\n<p><a href=\"https://www.zkoss.org/wiki/User:Hawk/Create_Data_Binding_Programmatically\" rel=\"nofollow noreferrer\">create data binding programmatically</a>,</p>\n<p>where you can find how bind zk components of the zul, or how bind components generated programatically if the parent has an item render option.</p>\n<p><strong>But i need generate N datebox, numberbox, textbox depending on the number and type of the columns and recover the values of it.</strong></p>\n<p>Anyone knows how do it?</p>\n<p>The component has a loot of code and scrap, but more or less the idea is:</p>\n<p><a href=\"https://pastebin.com/Q5VX472L\" rel=\"nofollow noreferrer\">https://pastebin.com/Q5VX472L</a></p>\n<pre><code>    cols.setParent(gridDatatable);\n    // create filters inside AuxHeads\n    Auxhead auxhead1 = new Auxhead();\n    // create a line with the same number of AuxHeaders as Columns we have\n    for (int indexColumn = 0; indexColumn &lt; columnsList\n        .size(); indexColumn++) {\n      if (columnsList.get(indexColumn).getVisible()) {\n        // i have definned the diferent Auxheader with a patron factory\n        Auxheader auxheader = gridDatatableFilterFactory.generateFilter(\n            columnsList.get(indexColumn).getTerms().getType(),\n            columnsList.get(indexColumn).getTerms().getKey());\n        auxheader.setParent(auxhead1);\n      }\n    }\n    // set the Auxhead line between col names and rows\n    auxhead1.setParent(gridDatatable);\n    // we add the rowrender for print the rows\n    gridDatatable.setRowRenderer(\n        new DatatableRowRender(columnsList, gridDatatableCellFactory));\n    search();\n</code></pre>\n<p>Thank you in advance, regards.</p>\n"},{"tags":["java","runtime","cpu","processor"],"comments":[{"owner":{"account_id":7654063,"reputation":42255,"user_id":5801661,"display_name":"Margaret Bloom"},"score":0,"creation_date":1474398113,"post_id":39597474,"comment_id":66512076,"body_markdown":"The major issue is not the OS, it is the architecture. Java potentially targets every existing architecture, can you restrict the list? Say, x86(-64) only? ARM?","body":"The major issue is not the OS, it is the architecture. Java potentially targets every existing architecture, can you restrict the list? Say, x86(-64) only? ARM?"},{"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"score":0,"creation_date":1474438199,"post_id":39597474,"comment_id":66525245,"body_markdown":"@MargaretBloom yes, ofcourse, will be x86 machines with 64 bit&#39;s processors","body":"@MargaretBloom yes, ofcourse, will be x86 machines with 64 bit&#39;s processors"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683602548,"post_id":39597474,"comment_id":134388014,"body_markdown":"In linux, read the file /proc/cpuinfo.","body":"In linux, read the file /proc/cpuinfo."}],"answers":[{"comments":[{"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"score":0,"creation_date":1474438359,"post_id":39597558,"comment_id":66525313,"body_markdown":"and which whould be that native methods for Linux, WIndows an OS X ? can&#39;t find them","body":"and which whould be that native methods for Linux, WIndows an OS X ? can&#39;t find them"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683602637,"post_id":39597558,"comment_id":134388018,"body_markdown":"Read and parse /proc/cpuinfo.  Each available processor will have an entry.","body":"Read and parse /proc/cpuinfo.  Each available processor will have an entry."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1683602840,"post_id":39597558,"comment_id":134388036,"body_markdown":"@NullPointerException: parsing `/proc/cpuinfo` works on Linux.  Another answer mentions a perl module(!) to get info on Windows.  I don&#39;t know about macOS.","body":"@NullPointerException: parsing <code>&#47;proc&#47;cpuinfo</code> works on Linux.  Another answer mentions a perl module(!) to get info on Windows.  I don&#39;t know about macOS."}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474383774,"creation_date":1474383774,"answer_id":39597558,"question_id":39597474,"body_markdown":"No, there is no standard API in the JVM that reveals this information. You can create JNI for each platform that calls appropriate native OS methods to learn this information, but nothing is part of the standard, 100%-java, API.\r\n","title":"Is it possible to know maximum CPU speed in MHZ in java?","body":"<p>No, there is no standard API in the JVM that reveals this information. You can create JNI for each platform that calls appropriate native OS methods to learn this information, but nothing is part of the standard, 100%-java, API.</p>\n"},{"comments":[{"owner":{"account_id":39775,"reputation":4211,"user_id":114904,"accept_rate":70,"display_name":"MichielB"},"score":0,"creation_date":1492615527,"post_id":43016347,"comment_id":74054070,"body_markdown":"the question is about Java, and Linux/macOS/Windows, not just Win32.","body":"the question is about Java, and Linux/macOS/Windows, not just Win32."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683602786,"post_id":43016347,"comment_id":134388033,"body_markdown":"Indeed. If you want to run on three different operating systems, you will need at least three different ways to detemine the required result.  I suppose the downvoter could complain you only gave one-third of the answer :)","body":"Indeed. If you want to run on three different operating systems, you will need at least three different ways to detemine the required result.  I suppose the downvoter could complain you only gave one-third of the answer :)"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1683603025,"post_id":43016347,"comment_id":134388055,"body_markdown":"@ChristophBimminger: Perhaps because this is a Java question and you linked docs for a perl module which don&#39;t directly help in reimplementing it in Java, like which Win32 APIs to use.  Unless &quot;SystemInfo&quot; is also the name of the right Win32 API to look for, this is barely a link-only answer, and link-only answers are frowned upon on Stack Overflow.  (Due to the possibility of link rot among other things.)","body":"@ChristophBimminger: Perhaps because this is a Java question and you linked docs for a perl module which don&#39;t directly help in reimplementing it in Java, like which Win32 APIs to use.  Unless &quot;SystemInfo&quot; is also the name of the right Win32 API to look for, this is barely a link-only answer, and link-only answers are frowned upon on Stack Overflow.  (Due to the possibility of link rot among other things.)"}],"tags":[],"owner":{"account_id":6852097,"reputation":1006,"user_id":7470104,"display_name":"Christoph Bimminger"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490445048,"creation_date":1490445048,"answer_id":43016347,"question_id":39597474,"body_markdown":"On windows, you should be able to get the info from Win32 SystemInfo\r\nhttp://search.cpan.org/~cjohnston/Win32-SystemInfo-0.12/SystemInfo.pm","title":"Is it possible to know maximum CPU speed in MHZ in java?","body":"<p>On windows, you should be able to get the info from Win32 SystemInfo\n<a href=\"http://search.cpan.org/~cjohnston/Win32-SystemInfo-0.12/SystemInfo.pm\" rel=\"nofollow noreferrer\">http://search.cpan.org/~cjohnston/Win32-SystemInfo-0.12/SystemInfo.pm</a></p>\n"}],"owner":{"account_id":221733,"reputation":36369,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683602051,"creation_date":1474383591,"question_id":39597474,"body_markdown":"Is it possible to know maximum CPU speed in MHZ in java programatically?\r\n\r\nAfter a huge search in google and here i did not find the way to get it.\r\n\r\nI found a way to do it which works in Android but I&#39;m not developing this for android, so it does not work. (https://android.stackexchange.com/questions/19810/how-can-i-determine-max-cpu-speed-at-runtime/59351)\r\n\r\nI need it to work in a linux/osx/windows machine.\r\n\r\n","title":"Is it possible to know maximum CPU speed in MHZ in java?","body":"<p>Is it possible to know maximum CPU speed in MHZ in java programatically?</p>\n\n<p>After a huge search in google and here i did not find the way to get it.</p>\n\n<p>I found a way to do it which works in Android but I'm not developing this for android, so it does not work. (<a href=\"https://android.stackexchange.com/questions/19810/how-can-i-determine-max-cpu-speed-at-runtime/59351\">https://android.stackexchange.com/questions/19810/how-can-i-determine-max-cpu-speed-at-runtime/59351</a>)</p>\n\n<p>I need it to work in a linux/osx/windows machine.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":1,"creation_date":1683351151,"post_id":76179285,"comment_id":134357001,"body_markdown":"&quot;I understand disabling ssl verification is not a good solution . But I want it for development&quot; Even for development it is still not a good idea at all because it will just encroach sloppy programming into everything and it will leak in production.","body":"&quot;I understand disabling ssl verification is not a good solution . But I want it for development&quot; Even for development it is still not a good idea at all because it will just encroach sloppy programming into everything and it will leak in production."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1683351686,"post_id":76179285,"comment_id":134357038,"body_markdown":"SUGGESTION: review this link: https://www.javacodemonk.com/disable-ssl-validation-in-spring-resttemplate-e2c53583.   Please post back what you&#39;ve tried, and whether or not it worked.","body":"SUGGESTION: review this link: <a href=\"https://www.javacodemonk.com/disable-ssl-validation-in-spring-resttemplate-e2c53583\" rel=\"nofollow noreferrer\">javacodemonk.com/&hellip;</a>.   Please post back what you&#39;ve tried, and whether or not it worked."},{"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"score":0,"creation_date":1683527005,"post_id":76179285,"comment_id":134374535,"body_markdown":"@paulsm4 I am not using rest template to make the api call . I am using SVIX&#39;s sdk. I don&#39;t know what it uses underneath.","body":"@paulsm4 I am not using rest template to make the api call . I am using SVIX&#39;s sdk. I don&#39;t know what it uses underneath."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683607469,"post_id":76179285,"comment_id":134388435,"body_markdown":"&quot;I am looking for a command line flag to disable the ssl verification&quot;: you won&#39;t find one, and there will never be one. Sun/Oracle would have to be mad to introduce a security breach like this into Java. And you don&#39;t &quot;need it for development&quot;. You need to *solve* the problem, not just ignore it.","body":"&quot;I am looking for a command line flag to disable the ssl verification&quot;: you won&#39;t find one, and there will never be one. Sun/Oracle would have to be mad to introduce a security breach like this into Java. And you don&#39;t &quot;need it for development&quot;. You need to <i>solve</i> the problem, not just ignore it."},{"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"score":0,"creation_date":1683699060,"post_id":76179285,"comment_id":134404516,"body_markdown":"@user207421 I am on a corporate network which puts its certificate in the certificate chain. The certificate changes dynamically and adding to trusted certs won&#39;t work . How do I _solve_ the problem ?","body":"@user207421 I am on a corporate network which puts its certificate in the certificate chain. The certificate changes dynamically and adding to trusted certs won&#39;t work . How do I <i>solve</i> the problem ?"},{"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"score":0,"creation_date":1683699306,"post_id":76179285,"comment_id":134404554,"body_markdown":"@user207421  why Sun/Oracle is mad to keep a flag like [ `-Dtrust_all_cert=true`  ](https://docs.oracle.com/communications/E76289_01/doc.1001/e76292/sg_imp_security.htm#IMSSG166)","body":"@user207421  why Sun/Oracle is mad to keep a flag like [ <code>-Dtrust_all_cert=true</code>  ](<a href=\"https://docs.oracle.com/communications/E76289_01/doc.1001/e76292/sg_imp_security.htm#IMSSG166\" rel=\"nofollow noreferrer\">docs.oracle.com/communications/E76289_01/doc.1001/e76292/&hellip;</a>&zwnj;&#8203;)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683755549,"post_id":76179285,"comment_id":134417244,"body_markdown":"@Sushant I agree. They are mad. But that&#39;s only for IMS, not the whole of Java.","body":"@Sushant I agree. They are mad. But that&#39;s only for IMS, not the whole of Java."}],"answers":[{"tags":[],"owner":{"account_id":20382156,"reputation":1,"user_id":14952024,"display_name":"Tom Hacohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683601730,"creation_date":1683601730,"answer_id":76205593,"question_id":76179285,"body_markdown":"It looks like you may have an incomplete certificate store installed. Have you tried updating ca-certificates?\r\n\r\nE.g. on Debian (in Docker):\r\n```docker\r\nRUN apt-get update ;\\\r\n    apt-get install --no-install-recommends -y \\\r\n      curl \\\r\n      ca-certificates=20210119; \\\r\n    update-ca-certificates; \\\r\n    rm -rf /var/lib/apt/lists/*\r\n\r\n```","title":"command line flag to disable ssl certification validation in java","body":"<p>It looks like you may have an incomplete certificate store installed. Have you tried updating ca-certificates?</p>\n<p>E.g. on Debian (in Docker):</p>\n<pre><code>RUN apt-get update ;\\\n    apt-get install --no-install-recommends -y \\\n      curl \\\n      ca-certificates=20210119; \\\n    update-ca-certificates; \\\n    rm -rf /var/lib/apt/lists/*\n\n</code></pre>\n"}],"owner":{"account_id":17843362,"reputation":123,"user_id":12960773,"display_name":"Sushant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683601730,"creation_date":1683267339,"question_id":76179285,"body_markdown":"I am working on a Spring Boot application which calls a [SVIX][1] webhook .\r\n\r\n```java\r\nSvix svix = new Svix(&quot;TOKEN&quot;);\r\n        try {\r\n            svix.getMessage().create(&quot;APP_ID&quot;,\r\n                    new MessageIn()\r\n                            .eventType(rd.getEventType())\r\n                            .payload(ow.writeValueAsString(payload)));\r\n        }\r\n        catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n```\r\n\r\nI am getting the following error on running it\r\n\r\n```sh\r\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n```\r\n\r\nI am working on a corporate network and I think it is causing a certificate issue. ( I had same issue in postman and clicking `Disable SSL Verification` had solved it .)\r\n\r\nI am looking for a command line flag to disable the ssl verification. So far I&#39;ve tried\r\n\r\n - `-Djdk.internal.httpclient.disableHostnameVerification=true`\r\n - `-Dcom.sun.security.enableAIAcaIssuers=true`\r\n - `-Dtrust_all_cert=true`\r\n - `-Dcom.sun.net.ssl.checkRevocation=false`\r\n\r\nbut nothing works\r\n\r\nI am using Spring Boot version 3 and Java Version 17.\r\n\r\nI understand disabling ssl verification is not a good solution . But I want it for development\r\n\r\n  [1]: https://docs.svix.com/","title":"command line flag to disable ssl certification validation in java","body":"<p>I am working on a Spring Boot application which calls a <a href=\"https://docs.svix.com/\" rel=\"nofollow noreferrer\">SVIX</a> webhook .</p>\n<pre class=\"lang-java prettyprint-override\"><code>Svix svix = new Svix(&quot;TOKEN&quot;);\n        try {\n            svix.getMessage().create(&quot;APP_ID&quot;,\n                    new MessageIn()\n                            .eventType(rd.getEventType())\n                            .payload(ow.writeValueAsString(payload)));\n        }\n        catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n</code></pre>\n<p>I am getting the following error on running it</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\n</code></pre>\n<p>I am working on a corporate network and I think it is causing a certificate issue. ( I had same issue in postman and clicking <code>Disable SSL Verification</code> had solved it .)</p>\n<p>I am looking for a command line flag to disable the ssl verification. So far I've tried</p>\n<ul>\n<li><code>-Djdk.internal.httpclient.disableHostnameVerification=true</code></li>\n<li><code>-Dcom.sun.security.enableAIAcaIssuers=true</code></li>\n<li><code>-Dtrust_all_cert=true</code></li>\n<li><code>-Dcom.sun.net.ssl.checkRevocation=false</code></li>\n</ul>\n<p>but nothing works</p>\n<p>I am using Spring Boot version 3 and Java Version 17.</p>\n<p>I understand disabling ssl verification is not a good solution . But I want it for development</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683600609,"post_id":76205515,"comment_id":134387848,"body_markdown":"`execShellCmd` returns a `BufferedReader`. So just read it from there? What&#39;s wrong exactly?","body":"<code>execShellCmd</code> returns a <code>BufferedReader</code>. So just read it from there? What&#39;s wrong exactly?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1683601833,"post_id":76205515,"comment_id":134387961,"body_markdown":"Something like [this](https://stackoverflow.com/questions/25377355/processbuilder-cannot-run-bat-file-with-spaces-in-path/25377564#25377564) or [this](https://stackoverflow.com/questions/12869175/run-another-java-program-from-within-a-java-program-and-get-outputs-send-inputs/12869233#12869233)?","body":"Something like <a href=\"https://stackoverflow.com/questions/25377355/processbuilder-cannot-run-bat-file-with-spaces-in-path/25377564#25377564\">this</a> or <a href=\"https://stackoverflow.com/questions/12869175/run-another-java-program-from-within-a-java-program-and-get-outputs-send-inputs/12869233#12869233\">this</a>?"}],"owner":{"account_id":1495517,"reputation":14806,"user_id":1401560,"accept_rate":70,"display_name":"Chris F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683600218,"creation_date":1683600218,"question_id":76205515,"body_markdown":"Caveat - I&#39;m not a Java programmer, just a hacker!\r\n\r\nI wrote a Java-based Gradle plugin that executes shell commands, something like this, which in this case, are Git commands.\r\n```java\r\n    BufferedReader execShellCmd(final String cmd) {\r\n        BufferedReader br = null;\r\n        ProcessBuilder pb = new ProcessBuilder();\r\n        if (isWindows()) {\r\n            pb.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\r\n        }\r\n        else {\r\n            pb.command(&quot;sh&quot;, &quot;-c&quot;, cmd);\r\n        }\r\n        try {\r\n            Process p = pb.start();\r\n            br = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n            exitVal = p.waitFor();\r\n            if (exitVal &gt; 0) {\r\n                System.out.printf(&quot;%s failed, err no: %d&quot;, cmd, exitVal);\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            System.out.println(&quot;ERROR: I/O exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        catch (InterruptedException e){\r\n            System.out.println(&quot;ERROR: Interrupt exception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return br;\r\n    }\r\n\r\n    ...\r\n    cmd = &quot;if [[ -n $(git status -s) ]] ; then filelist=`git status -s` ; git commit -a -m \\&quot;&quot;+commitMsg+&quot;\\&quot;; git push origin &quot;+getSourceBranch()+&quot;:&quot;+getSourceBranch()+&quot; ; else echo \\&quot;No changes detected\\&quot;; fi&quot;;\r\n    execShellCmd(cmd);\r\n```\r\nHow can I print out the output of the `cmd` I&#39;m passing in? I&#39;m not talking about the result, where `pass == 0`, and `fail &gt; 0`, which is `exitVal` in my code.\r\n","title":"In Java, how can I print the output, not the result, of a shell command?","body":"<p>Caveat - I'm not a Java programmer, just a hacker!</p>\n<p>I wrote a Java-based Gradle plugin that executes shell commands, something like this, which in this case, are Git commands.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    BufferedReader execShellCmd(final String cmd) {\n        BufferedReader br = null;\n        ProcessBuilder pb = new ProcessBuilder();\n        if (isWindows()) {\n            pb.command(&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\n        }\n        else {\n            pb.command(&quot;sh&quot;, &quot;-c&quot;, cmd);\n        }\n        try {\n            Process p = pb.start();\n            br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n            exitVal = p.waitFor();\n            if (exitVal &gt; 0) {\n                System.out.printf(&quot;%s failed, err no: %d&quot;, cmd, exitVal);\n            }\n        }\n        catch (IOException e){\n            System.out.println(&quot;ERROR: I/O exception&quot;);\n            e.printStackTrace();\n        }\n        catch (InterruptedException e){\n            System.out.println(&quot;ERROR: Interrupt exception&quot;);\n            e.printStackTrace();\n        }\n        return br;\n    }\n\n    ...\n    cmd = &quot;if [[ -n $(git status -s) ]] ; then filelist=`git status -s` ; git commit -a -m \\&quot;&quot;+commitMsg+&quot;\\&quot;; git push origin &quot;+getSourceBranch()+&quot;:&quot;+getSourceBranch()+&quot; ; else echo \\&quot;No changes detected\\&quot;; fi&quot;;\n    execShellCmd(cmd);\n</code></pre>\n<p>How can I print out the output of the <code>cmd</code> I'm passing in? I'm not talking about the result, where <code>pass == 0</code>, and <code>fail &gt; 0</code>, which is <code>exitVal</code> in my code.</p>\n"},{"tags":["java","jboss","ejb","resteasy","jboss-weld"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1683309813,"post_id":76184789,"comment_id":134352653,"body_markdown":"Is there a specific end point that is causing this? I&#39;m trying to think of how it could be reproduced.","body":"Is there a specific end point that is causing this? I&#39;m trying to think of how it could be reproduced."},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1683599660,"post_id":76184789,"comment_id":134387767,"body_markdown":"never mind.. was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files and it caused all this ruckus.","body":"never mind.. was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files and it caused all this ruckus."}],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683599695,"creation_date":1683599695,"answer_id":76205492,"question_id":76184789,"body_markdown":"I was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files lib directory. \r\n\r\nThis was the cause of the 2 different resteasy jars on the classpath.","title":"JBoss + RestEasy - WELD-001318: Cannot resolve an ambiguous dependency between Managed Bean MultipartFormDataReader","body":"<p>I was a missing &quot;clean&quot; in maven job on build servers and it caused a resteasy jar stuffed in one of the EAR files lib directory.</p>\n<p>This was the cause of the 2 different resteasy jars on the classpath.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76205492,"answer_count":1,"score":0,"last_activity_date":1683599695,"creation_date":1683309126,"question_id":76184789,"body_markdown":"After upgrading to JBoss 7.4.7-eap, One of my apps refuses to deploy because of this error:\r\n\r\n```\r\njava.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:58)\r\n\tat org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:272)\r\n\tat org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98)\r\n\tat org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140)\r\n\tat org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42)\r\n\tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\r\n\tat org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\r\n\tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\r\n\tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:309)\r\n\tat io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:588)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)\r\n\tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n\tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\r\n\tat io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\r\n\tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n\t... 8 more\r\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1846)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1769)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:148)\r\n\tat org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:54)\r\n\t... 29 more\r\nCaused by: org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001318: Cannot resolve an ambiguous dependency between: \r\n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default],\r\n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default]\r\n\tat org.jboss.weld.manager.BeanManagerImpl.resolve(BeanManagerImpl.java:1158)\r\n\tat org.jboss.weld.util.ForwardingBeanManager.resolve(ForwardingBeanManager.java:94)\r\n\tat org.jboss.weld.bean.builtin.BeanManagerProxy.resolve(BeanManagerProxy.java:117)\r\n\tat org.jboss.resteasy.cdi.CdiConstructorInjector.construct(CdiConstructorInjector.java:66)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2835)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1068)\r\n\tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1841)\r\n\t... 32 more\r\n```\r\n\r\nMy resteasy jars are imported as provided dependencies:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;3.15.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd I can confirm there are no resteasy jar files in my EAR file. \r\n\r\nYet I keep getting this error.\r\n\r\nI do see that there are two version of the JAR file in the modules folder:\r\n\r\n - ./modules/system/layers/base/.overlays/layer-base-jboss-eap-7.4.7.CP/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.4.Final-redhat-00001.jar\r\n - ./modules/system/layers/base/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.1.Final-redhat-00001.jar\r\n\r\nI&#39;m guessing this is some usual thing that is result of the upgrade. But is this possibly why I have 2 beans when the JBoss app tries to look up the managed bean?","title":"JBoss + RestEasy - WELD-001318: Cannot resolve an ambiguous dependency between Managed Bean MultipartFormDataReader","body":"<p>After upgrading to JBoss 7.4.7-eap, One of my apps refuses to deploy because of this error:</p>\n<pre><code>java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.lang.Thread.run(Thread.java:750)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:58)\n    at org.jboss.resteasy.spi.ResteasyDeployment.startInternal(ResteasyDeployment.java:272)\n    at org.jboss.resteasy.spi.ResteasyDeployment.start(ResteasyDeployment.java:98)\n    at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.init(ServletContainerDispatcher.java:140)\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.init(HttpServletDispatcher.java:42)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\n    at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\n    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:309)\n    at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:588)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:559)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1551)\n    at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:601)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n    ... 8 more\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1846)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1769)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:148)\n    at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:54)\n    ... 29 more\nCaused by: org.jboss.weld.exceptions.AmbiguousResolutionException: WELD-001318: Cannot resolve an ambiguous dependency between: \n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default],\n  - Managed Bean [class org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataReader] with qualifiers [@Any @Default]\n    at org.jboss.weld.manager.BeanManagerImpl.resolve(BeanManagerImpl.java:1158)\n    at org.jboss.weld.util.ForwardingBeanManager.resolve(ForwardingBeanManager.java:94)\n    at org.jboss.weld.bean.builtin.BeanManagerProxy.resolve(BeanManagerProxy.java:117)\n    at org.jboss.resteasy.cdi.CdiConstructorInjector.construct(CdiConstructorInjector.java:66)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2835)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1068)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1841)\n    ... 32 more\n</code></pre>\n<p>My resteasy jars are imported as provided dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;3.15.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And I can confirm there are no resteasy jar files in my EAR file.</p>\n<p>Yet I keep getting this error.</p>\n<p>I do see that there are two version of the JAR file in the modules folder:</p>\n<ul>\n<li>./modules/system/layers/base/.overlays/layer-base-jboss-eap-7.4.7.CP/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.4.Final-redhat-00001.jar</li>\n<li>./modules/system/layers/base/org/jboss/resteasy/resteasy-multipart-provider/main/resteasy-multipart-provider-3.15.1.Final-redhat-00001.jar</li>\n</ul>\n<p>I'm guessing this is some usual thing that is result of the upgrade. But is this possibly why I have 2 beans when the JBoss app tries to look up the managed bean?</p>\n"},{"tags":["java","visual-studio-code","remote-debugging"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1681504473,"post_id":76018550,"comment_id":134072912,"body_markdown":"Related: https://stackoverflow.com/a/6037405/11107541 and https://stackoverflow.com/q/31878498/11107541. Show your launch.json file. And check if the output logs show what command is being run to launch your JVM. I want to see the flags being passed","body":"Related: <a href=\"https://stackoverflow.com/a/6037405/11107541\">stackoverflow.com/a/6037405/11107541</a> and <a href=\"https://stackoverflow.com/q/31878498/11107541\">stackoverflow.com/q/31878498/11107541</a>. Show your launch.json file. And check if the output logs show what command is being run to launch your JVM. I want to see the flags being passed"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1681721664,"post_id":76018550,"comment_id":134096489,"body_markdown":"What version of Java do you use? Try to replace the JDK version.","body":"What version of Java do you use? Try to replace the JDK version."},{"owner":{"account_id":756193,"reputation":765,"user_id":764027,"accept_rate":74,"display_name":"Russ Petersen"},"score":0,"creation_date":1681744943,"post_id":76018550,"comment_id":134102494,"body_markdown":"java --version\njava 18 2022-03-22\nJava(TM) SE Runtime Environment (build 18+36-2087)\nJava HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing)","body":"java --version java 18 2022-03-22 Java(TM) SE Runtime Environment (build 18+36-2087) Java HotSpot(TM) 64-Bit Server VM (build 18+36-2087, mixed mode, sharing)"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1681924491,"post_id":76018550,"comment_id":134136715,"body_markdown":"I&#39;d also encourage you to post this as a bug report to https://github.com/microsoft/vscode-java-debug and link us here to the issue ticket you create. That way we can also get the maintainers to look at it.","body":"I&#39;d also encourage you to post this as a bug report to <a href=\"https://github.com/microsoft/vscode-java-debug\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-debug</a> and link us here to the issue ticket you create. That way we can also get the maintainers to look at it."},{"owner":{"account_id":85284,"reputation":1160,"user_id":4150685,"accept_rate":100,"display_name":"johnjps111"},"score":0,"creation_date":1682098400,"post_id":76018550,"comment_id":134167663,"body_markdown":"This may sound crazy, but I had this exact problem yesterday. I&#39;m using Spring, and today, I drilled into my Spring extension and started from there. It started.  Thereafter I&#39;ve been able to just click the usual green arrow to start. Go figure.","body":"This may sound crazy, but I had this exact problem yesterday. I&#39;m using Spring, and today, I drilled into my Spring extension and started from there. It started.  Thereafter I&#39;ve been able to just click the usual green arrow to start. Go figure."}],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1681924362,"post_id":76056523,"comment_id":134136694,"body_markdown":"nice. this may be useful for others with a similar problem, but for the record, do notice that the asker _here_ does not have `&quot;console&quot;: &quot;internalConsole&quot;` in their launch config.","body":"nice. this may be useful for others with a similar problem, but for the record, do notice that the asker <i>here</i> does not have <code>&quot;console&quot;: &quot;internalConsole&quot;</code> in their launch config."},{"owner":{"account_id":300924,"reputation":493,"user_id":608354,"accept_rate":44,"display_name":"bluearth"},"score":0,"creation_date":1693225441,"post_id":76056523,"comment_id":135727881,"body_markdown":"This is 4 years old but I just ran into the same problem with the same sircumstances. My current remote work requires I installed SentinelOne on my work laptop. I can confirm that ever since it&#39;s installed I always get that same error &quot;ERROR: JDWP unable to get necessary JVMTI capabilities&quot; when debugging Java App from IDE. I use VSCode and the Java Debugger addon. SentinelOne is a centrally administered app there is no way I can temporary disable it for a debug session. This issue is very particular that this answer is the only one i can find referring to it","body":"This is 4 years old but I just ran into the same problem with the same sircumstances. My current remote work requires I installed SentinelOne on my work laptop. I can confirm that ever since it&#39;s installed I always get that same error &quot;ERROR: JDWP unable to get necessary JVMTI capabilities&quot; when debugging Java App from IDE. I use VSCode and the Java Debugger addon. SentinelOne is a centrally administered app there is no way I can temporary disable it for a debug session. This issue is very particular that this answer is the only one i can find referring to it"}],"tags":[],"owner":{"account_id":5043007,"reputation":23,"user_id":8681679,"display_name":"user630729"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682071718,"creation_date":1681919462,"answer_id":76056523,"question_id":76018550,"body_markdown":"I have had the same error as you for a few weeks/months: `Failed to launch debuggee VM. Reason: VM exited with status1` popup and `ERROR: JDWP unable to get necessary JVMTI capabilities.` message in the debug console when trying to debug a test method in VSCode.\r\n\r\nIn my case, here&#39;s the command line that is being executed by VSCode:\r\n\r\n    &quot;C:\\Program&#160;Files\\Eclipse&#160;Adoptium\\jdk-8.0.362.9-hotspot\\bin\\java.exe&quot; -Xdebug&#160;-Xnoagent&#160;-Djava.compiler=NONE&#160;-Xrunjdwp:transport=dt_socket,address=localhost:59735,server=n,suspend=y&#160;-ea&#160;-Dfile.encoding=UTF-8&#160;-cp&#160;[...my full classpath...];c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\99\\0\\.cp;c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\51\\0\\.cp&#160;org.eclipse.jdt.internal.junit.runner.RemoteTestRunner&#160;-version&#160;3&#160;-port&#160;59732&#160;-testLoaderClass&#160;org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader&#160;-loaderpluginname&#160;org.eclipse.jdt.junit4.runtime&#160;-test&#160;[...my test method...]\r\n\r\nRunning the same command from a command prompt outside of VSCode also results in this `ERROR: JDWP unable to get necessary JVMTI capabilities.` error message.\r\n\r\nIt seems that the issue is not only with tests. I had a project for which I had configured the launch configuration in `launch.json` with `&quot;console&quot;: &quot;internalConsole&quot;`, and it caused the same errors when trying to launch the program itself.\r\nI just removed that line and then it worked fine.\r\nBut for the tests, I currently don&#39;t have a solution.\r\n\r\n----------\r\n\r\nEDIT\r\n----\r\nI am not sure, but I suspect that the issue was somehow linked to SentinelOne (which is installed on my machine).\r\n\r\nI uninstalled and reinstalled the SentinelOne agent, and I do not have the error anymore. Neither when debugging a test case nor when launching a project with &quot;internalConsole&quot; config.\r\n\r\nHope this information can be useful to the original asker or anyone else.","title":"Why is VS Code saying &quot;Failed to launch debuggee VM. Reason: VM exited with status 1&quot; when trying to debug a Java test case?","body":"<p>I have had the same error as you for a few weeks/months: <code>Failed to launch debuggee VM. Reason: VM exited with status1</code> popup and <code>ERROR: JDWP unable to get necessary JVMTI capabilities.</code> message in the debug console when trying to debug a test method in VSCode.</p>\n<p>In my case, here's the command line that is being executed by VSCode:</p>\n<pre><code>&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.362.9-hotspot\\bin\\java.exe&quot; -Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=localhost:59735,server=n,suspend=y -ea -Dfile.encoding=UTF-8 -cp [...my full classpath...];c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\99\\0\\.cp;c:\\ProgramData\\VSCode\\Code\\User\\globalStorage\\redhat.java\\1.17.0\\config_win\\org.eclipse.osgi\\51\\0\\.cp org.eclipse.jdt.internal.junit.runner.RemoteTestRunner -version 3 -port 59732 -testLoaderClass org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader -loaderpluginname org.eclipse.jdt.junit4.runtime -test [...my test method...]\n</code></pre>\n<p>Running the same command from a command prompt outside of VSCode also results in this <code>ERROR: JDWP unable to get necessary JVMTI capabilities.</code> error message.</p>\n<p>It seems that the issue is not only with tests. I had a project for which I had configured the launch configuration in <code>launch.json</code> with <code>&quot;console&quot;: &quot;internalConsole&quot;</code>, and it caused the same errors when trying to launch the program itself.\nI just removed that line and then it worked fine.\nBut for the tests, I currently don't have a solution.</p>\n<hr />\n<h2>EDIT</h2>\n<p>I am not sure, but I suspect that the issue was somehow linked to SentinelOne (which is installed on my machine).</p>\n<p>I uninstalled and reinstalled the SentinelOne agent, and I do not have the error anymore. Neither when debugging a test case nor when launching a project with &quot;internalConsole&quot; config.</p>\n<p>Hope this information can be useful to the original asker or anyone else.</p>\n"}],"owner":{"account_id":756193,"reputation":765,"user_id":764027,"accept_rate":74,"display_name":"Russ Petersen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683599096,"creation_date":1681502433,"question_id":76018550,"body_markdown":"I have a simple Java test case in VS Code that runs fine, but when I try to step through it in debug it shows the error &quot;Failed to launch debuggee VM. Reason: VM exited with status1&quot;?\r\n\r\nI have these extensions installed\r\n\r\n - Debugger for Java \r\n - Extension Pack for Java Language Support for\r\n   Java(TM) by Red Hat\r\n - Maven for Java \r\n - Project Manager for Java \r\n - Test Runner for Java \r\n - Remote - SSH \r\n - Remote - SSH: Editing Configuration\r\n - Files Remote Explorer\r\n\r\n```\r\nimport org.junit.Assert; \r\nimport org.junit.Test;\r\n\r\npublic class ProgNodeTest {\r\n\r\n    @Test\r\n    public void progNodeShouldBeInitialized() {\r\n        ProgNode pn = new ProgNode();\r\n    }\r\n}\r\n```\r\n\r\nThe TEST RESULTS window shows\r\n\r\n```\r\nThe test run did not record any output.\r\n```\r\n\r\nThe DEBUG CONSOLE window shows \r\n\r\n```\r\nERROR: JDWP unable to get necessary JVMTI capabilities.\r\n```\r\n\r\nI found a VS Code log file that might give a hint to the issue.\r\n\r\nC:\\Users\\&lt;user&gt;\\AppData\\Roaming\\Code\\logs\\20230417T084536\\window1\\exthost\\output_logging_20230417T084539\r\n\r\n```\r\n[Error - 8:49:00 AM] Apr 17, 2023, 8:49:00 AM [error response][launch]: Failed to launch debuggee VM. Reason: VM exited with status 1\r\nFailed to launch debuggee VM. Reason: VM exited with status 1\r\ncom.microsoft.java.debug.core.DebugException: Failed to launch debuggee VM. Reason: VM exited with status 1\r\n\tat com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.launch(LaunchRequestHandler.java:326)\r\n\tat com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handleLaunchCommand(LaunchRequestHandler.java:193)\r\n\tat com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handle(LaunchRequestHandler.java:95)\r\n\tat com.microsoft.java.debug.core.adapter.DebugAdapter.lambda$dispatchRequest$0(DebugAdapter.java:93)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniComposeStage(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenCompose(Unknown Source)\r\n\tat com.microsoft.java.debug.core.adapter.DebugAdapter.dispatchRequest(DebugAdapter.java:92)\r\n\tat com.microsoft.java.debug.core.adapter.ProtocolServer.dispatchRequest(ProtocolServer.java:118)\r\n\tat com.microsoft.java.debug.core.protocol.AbstractProtocolServer.lambda$new$0(AbstractProtocolServer.java:81)\r\n\tat io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:201)\r\n\tat io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:255)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\r\n\tat io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    at java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nAnd the **3-Language Support for Java (Syntax Server).log** file shows what might be the cause of the error. This message **is not on its project&#39;s build path** sounds important.\r\n\r\n```\r\n[Error - 8:45:49 AM] Apr 17, 2023, 8:45:49 AM Problem with folding range for /dtxsql-java_92d3a23d/_/traceprofiler/src/test/java/com/xx/xx/traceprofiler/ProgNodeTest.java\r\n_/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project&#39;s build path\r\nJava Model Exception: Error in Java Model (code 1006): _/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project&#39;s build path\r\n\tat org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:584)\r\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:254)\r\n\tat org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\r\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\r\n\tat org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\r\n\tat org.eclipse.jdt.internal.core.CompilationUnit.openAncestors(CompilationUnit.java:1246)\r\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\r\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:597)\r\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:328)\r\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:314)\r\n\tat org.eclipse.jdt.internal.core.CompilationUnit.getSourceRange(CompilationUnit.java:961)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.computeFoldingRanges(FoldingRangeHandler.java:79)\r\n\tat org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.foldingRange(FoldingRangeHandler.java:70)\r\n\tat org.eclipse.jdt.ls.core.internal.syntaxserver.SyntaxLanguageServer.lambda$8(SyntaxLanguageServer.java:374)\r\n\tat org.eclipse.jdt.ls.core.internal.BaseJDTLanguageServer.lambda$0(BaseJDTLanguageServer.java:87)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(Unknown Source)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\r\n```\r\n\r\nContents of launch.json file\r\n\r\n```json\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch TraceProfiler&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;com.xx.xx.traceprofiler.TraceProfiler&quot;,\r\n            &quot;args&quot;: [ &quot;trace.qoe.profiler.log&quot; ],\r\n            &quot;projectName&quot;: &quot;traceprofiler&quot;,\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}${pathSeparator}traceprofiler&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nThanks","title":"Why is VS Code saying &quot;Failed to launch debuggee VM. Reason: VM exited with status 1&quot; when trying to debug a Java test case?","body":"<p>I have a simple Java test case in VS Code that runs fine, but when I try to step through it in debug it shows the error &quot;Failed to launch debuggee VM. Reason: VM exited with status1&quot;?</p>\n<p>I have these extensions installed</p>\n<ul>\n<li>Debugger for Java</li>\n<li>Extension Pack for Java Language Support for\nJava(TM) by Red Hat</li>\n<li>Maven for Java</li>\n<li>Project Manager for Java</li>\n<li>Test Runner for Java</li>\n<li>Remote - SSH</li>\n<li>Remote - SSH: Editing Configuration</li>\n<li>Files Remote Explorer</li>\n</ul>\n<pre><code>import org.junit.Assert; \nimport org.junit.Test;\n\npublic class ProgNodeTest {\n\n    @Test\n    public void progNodeShouldBeInitialized() {\n        ProgNode pn = new ProgNode();\n    }\n}\n</code></pre>\n<p>The TEST RESULTS window shows</p>\n<pre><code>The test run did not record any output.\n</code></pre>\n<p>The DEBUG CONSOLE window shows</p>\n<pre><code>ERROR: JDWP unable to get necessary JVMTI capabilities.\n</code></pre>\n<p>I found a VS Code log file that might give a hint to the issue.</p>\n<p>C:\\Users&lt;user&gt;\\AppData\\Roaming\\Code\\logs\\20230417T084536\\window1\\exthost\\output_logging_20230417T084539</p>\n<pre><code>[Error - 8:49:00 AM] Apr 17, 2023, 8:49:00 AM [error response][launch]: Failed to launch debuggee VM. Reason: VM exited with status 1\nFailed to launch debuggee VM. Reason: VM exited with status 1\ncom.microsoft.java.debug.core.DebugException: Failed to launch debuggee VM. Reason: VM exited with status 1\n    at com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.launch(LaunchRequestHandler.java:326)\n    at com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handleLaunchCommand(LaunchRequestHandler.java:193)\n    at com.microsoft.java.debug.core.adapter.handler.LaunchRequestHandler.handle(LaunchRequestHandler.java:95)\n    at com.microsoft.java.debug.core.adapter.DebugAdapter.lambda$dispatchRequest$0(DebugAdapter.java:93)\n    at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture.thenCompose(Unknown Source)\n    at com.microsoft.java.debug.core.adapter.DebugAdapter.dispatchRequest(DebugAdapter.java:92)\n    at com.microsoft.java.debug.core.adapter.ProtocolServer.dispatchRequest(ProtocolServer.java:118)\n    at com.microsoft.java.debug.core.protocol.AbstractProtocolServer.lambda$new$0(AbstractProtocolServer.java:81)\n    at io.reactivex.internal.observers.LambdaObserver.onNext(LambdaObserver.java:63)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:201)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:255)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>And the <strong>3-Language Support for Java (Syntax Server).log</strong> file shows what might be the cause of the error. This message <strong>is not on its project's build path</strong> sounds important.</p>\n<pre><code>[Error - 8:45:49 AM] Apr 17, 2023, 8:45:49 AM Problem with folding range for /dtxsql-java_92d3a23d/_/traceprofiler/src/test/java/com/xx/xx/traceprofiler/ProgNodeTest.java\n_/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project's build path\nJava Model Exception: Error in Java Model (code 1006): _/traceprofiler/src/test/java/com/xx/xx/traceprofiler [in dtxsql-java_92d3a23d] is not on its project's build path\n    at org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:584)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:254)\n    at org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\n    at org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:528)\n    at org.eclipse.jdt.internal.core.CompilationUnit.openAncestors(CompilationUnit.java:1246)\n    at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:248)\n    at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:597)\n    at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:328)\n    at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:314)\n    at org.eclipse.jdt.internal.core.CompilationUnit.getSourceRange(CompilationUnit.java:961)\n    at org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.computeFoldingRanges(FoldingRangeHandler.java:79)\n    at org.eclipse.jdt.ls.core.internal.handlers.FoldingRangeHandler.foldingRange(FoldingRangeHandler.java:70)\n    at org.eclipse.jdt.ls.core.internal.syntaxserver.SyntaxLanguageServer.lambda$8(SyntaxLanguageServer.java:374)\n    at org.eclipse.jdt.ls.core.internal.BaseJDTLanguageServer.lambda$0(BaseJDTLanguageServer.java:87)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(Unknown Source)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.exec(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source)\n</code></pre>\n<p>Contents of launch.json file</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch TraceProfiler&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;com.xx.xx.traceprofiler.TraceProfiler&quot;,\n            &quot;args&quot;: [ &quot;trace.qoe.profiler.log&quot; ],\n            &quot;projectName&quot;: &quot;traceprofiler&quot;,\n            &quot;cwd&quot;: &quot;${workspaceFolder}${pathSeparator}traceprofiler&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683536137,"post_id":76198876,"comment_id":134376231,"body_markdown":"How about calling the various getters of `PageFormat` to see for youself?","body":"How about calling the various getters of <code>PageFormat</code> to see for youself?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683569675,"post_id":76198876,"comment_id":134383646,"body_markdown":"Likely it uses a session or OS specific configuration, like the printer properties of the default printer in Windows. For example, on my machine it is A4 and portrait, but for someone in the US it&#39;s probably Letter and portrait. But I could change my printer config to use Landscape as the default.","body":"Likely it uses a session or OS specific configuration, like the printer properties of the default printer in Windows. For example, on my machine it is A4 and portrait, but for someone in the US it&#39;s probably Letter and portrait. But I could change my printer config to use Landscape as the default."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683598885,"creation_date":1683598885,"answer_id":76205452,"question_id":76198876,"body_markdown":"As Mark said, the default page format is obtained from the PrintService of the PrinterJob.\r\n\r\nThe internal sun.print.RasterPrinterJob class has this:\r\n\r\n    public PageFormat defaultPage(PageFormat page) {\r\n        PageFormat newPage = (PageFormat) page.clone();\r\n\r\n        Paper newPaper = new Paper();\r\n\r\n        double ptsPerInch = 72.0;\r\n        double w, h;\r\n\r\n        Media media = null;\r\n\r\n        PrintService service = getPrintService();\r\n        if (service != null) {\r\n            MediaSize size;\r\n\r\n            media = (Media)service.getDefaultAttributeValue(Media.class);\r\n            if (media instanceof MediaSizeName &amp;&amp;\r\n               ((size = MediaSize.getMediaSizeForName((MediaSizeName) media)) != null)) {\r\n\r\n                w =  size.getX(MediaSize.INCH) * ptsPerInch;\r\n                h =  size.getY(MediaSize.INCH) * ptsPerInch;\r\n                newPaper.setSize(w, h);\r\n                newPaper.setImageableArea(ptsPerInch, ptsPerInch,\r\n                                          w - 2.0*ptsPerInch,\r\n                                          h - 2.0*ptsPerInch);\r\n                newPage.setPaper(newPaper);\r\n                return newPage;\r\n            }\r\n        }\r\n\r\nAnd if the print service isn’t defined, the method falls back to guessing:\r\n\r\n    /* Default to A4 paper outside North America. */\r\n    String defaultCountry = Locale.getDefault().getCountry();\r\n    if (!Locale.getDefault().equals(Locale.ENGLISH) &amp;&amp; // ie &quot;C&quot;\r\n        defaultCountry != null &amp;&amp;\r\n        !defaultCountry.equals(Locale.US.getCountry()) &amp;&amp;\r\n        !defaultCountry.equals(Locale.CANADA.getCountry())) {\r\n\r\n        double mmPerInch = 25.4;\r\n        w = Math.rint((210.0*ptsPerInch)/mmPerInch);\r\n        h = Math.rint((297.0*ptsPerInch)/mmPerInch);\r\n        newPaper.setSize(w, h);\r\n        newPaper.setImageableArea(ptsPerInch, ptsPerInch,\r\n                                  w - 2.0*ptsPerInch,\r\n                                  h - 2.0*ptsPerInch);\r\n    }\r\n\r\n(I’ve taken the liberty of formatting and trimming the above code in some places, for clarity.)\r\n\r\nSo, in summary, the method returns:\r\n\r\n* The PrintService’s default page size if available (that is, the printer’s default page size, which probably comes from the printer’s default tray)\r\n* Otherwise, if the runtime locale is not English, use a portrait A4 page\r\n* Otherwise, fall back to the default Paper, which is [8&#189;&#215;11 inches with a 1-inch margin](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/print/Paper.html#%3Cinit%3E()).\r\n","title":"What does PrintJob.defaultPage() returns?","body":"<p>As Mark said, the default page format is obtained from the PrintService of the PrinterJob.</p>\n<p>The internal sun.print.RasterPrinterJob class has this:</p>\n<pre><code>public PageFormat defaultPage(PageFormat page) {\n    PageFormat newPage = (PageFormat) page.clone();\n\n    Paper newPaper = new Paper();\n\n    double ptsPerInch = 72.0;\n    double w, h;\n\n    Media media = null;\n\n    PrintService service = getPrintService();\n    if (service != null) {\n        MediaSize size;\n\n        media = (Media)service.getDefaultAttributeValue(Media.class);\n        if (media instanceof MediaSizeName &amp;&amp;\n           ((size = MediaSize.getMediaSizeForName((MediaSizeName) media)) != null)) {\n\n            w =  size.getX(MediaSize.INCH) * ptsPerInch;\n            h =  size.getY(MediaSize.INCH) * ptsPerInch;\n            newPaper.setSize(w, h);\n            newPaper.setImageableArea(ptsPerInch, ptsPerInch,\n                                      w - 2.0*ptsPerInch,\n                                      h - 2.0*ptsPerInch);\n            newPage.setPaper(newPaper);\n            return newPage;\n        }\n    }\n</code></pre>\n<p>And if the print service isn’t defined, the method falls back to guessing:</p>\n<pre><code>/* Default to A4 paper outside North America. */\nString defaultCountry = Locale.getDefault().getCountry();\nif (!Locale.getDefault().equals(Locale.ENGLISH) &amp;&amp; // ie &quot;C&quot;\n    defaultCountry != null &amp;&amp;\n    !defaultCountry.equals(Locale.US.getCountry()) &amp;&amp;\n    !defaultCountry.equals(Locale.CANADA.getCountry())) {\n\n    double mmPerInch = 25.4;\n    w = Math.rint((210.0*ptsPerInch)/mmPerInch);\n    h = Math.rint((297.0*ptsPerInch)/mmPerInch);\n    newPaper.setSize(w, h);\n    newPaper.setImageableArea(ptsPerInch, ptsPerInch,\n                              w - 2.0*ptsPerInch,\n                              h - 2.0*ptsPerInch);\n}\n</code></pre>\n<p>(I’ve taken the liberty of formatting and trimming the above code in some places, for clarity.)</p>\n<p>So, in summary, the method returns:</p>\n<ul>\n<li>The PrintService’s default page size if available (that is, the printer’s default page size, which probably comes from the printer’s default tray)</li>\n<li>Otherwise, if the runtime locale is not English, use a portrait A4 page</li>\n<li>Otherwise, fall back to the default Paper, which is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/print/Paper.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\">8½×11 inches with a 1-inch margin</a>.</li>\n</ul>\n"}],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76205452,"answer_count":1,"score":-2,"last_activity_date":1683598885,"creation_date":1683535305,"question_id":76198876,"body_markdown":"The [documentation][1] says it creates a new pageFormat instance and sets it to default size and orientation. What is default here? Is it printer specific page ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/print/PrinterJob.html#:~:text=defaultPage,-public%20PageFormat%20defaultPage&amp;text=PageFormat%20defaultPage()-,Creates%20a%20new%20PageFormat%20instance%20and%20sets%20it%20to%20a,a%20default%20size%20and%20orientation.","title":"What does PrintJob.defaultPage() returns?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/print/PrinterJob.html#:%7E:text=defaultPage,-public%20PageFormat%20defaultPage&amp;text=PageFormat%20defaultPage()-,Creates%20a%20new%20PageFormat%20instance%20and%20sets%20it%20to%20a,a%20default%20size%20and%20orientation.\" rel=\"nofollow noreferrer\">documentation</a> says it creates a new pageFormat instance and sets it to default size and orientation. What is default here? Is it printer specific page ?</p>\n"},{"tags":["java","sockets","urlconnection"],"answers":[{"comments":[{"owner":{"account_id":10962973,"reputation":11,"user_id":8055660,"display_name":"Vik"},"score":0,"creation_date":1497222568,"post_id":44489486,"comment_id":75973193,"body_markdown":"I&#39;m doing some research about old beast attack and there the researcher had told that : &quot;I could open a request, append more data to it as long as I want, and each time I &quot;flush&quot; the output stream, Java would send out a record in the same SSL connection.&quot; With which connection i can do such thing? Because there he told that used URLConnection","body":"I&#39;m doing some research about old beast attack and there the researcher had told that : &quot;I could open a request, append more data to it as long as I want, and each time I &quot;flush&quot; the output stream, Java would send out a record in the same SSL connection.&quot; With which connection i can do such thing? Because there he told that used URLConnection"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1497226537,"post_id":44489486,"comment_id":75973835,"body_markdown":"&#39;Append more data&#39; is not the same as what you&#39;re doing. You are trying to send multiple requests. If you remove all the `getInputStream()` calls except the last, you will be &#39;appending more data&#39;.","body":"&#39;Append more data&#39; is not the same as what you&#39;re doing. You are trying to send multiple requests. If you remove all the <code>getInputStream()</code> calls except the last, you will be &#39;appending more data&#39;."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497226588,"creation_date":1497221761,"answer_id":44489486,"question_id":44489226,"body_markdown":"You can&#39;t. `URLConnection` is for HTTP, which is a stateless protocol. Not for your own stateful messaging protocol. One request and one response. If you want to send another message, get a new `URLConnection`. Connection pooling will probably happen behind the scenes.\r\n\r\nYou also need to read the response. Merely getting the input stream is not sufficient, and getting it multiple times is pointless.\r\n\r\nHard to see why you are writing `&quot;Response&quot;` in a request.","title":"Fire multiple requests with URLConnection socket flush","body":"<p>You can't. <code>URLConnection</code> is for HTTP, which is a stateless protocol. Not for your own stateful messaging protocol. One request and one response. If you want to send another message, get a new <code>URLConnection</code>. Connection pooling will probably happen behind the scenes.</p>\n\n<p>You also need to read the response. Merely getting the input stream is not sufficient, and getting it multiple times is pointless.</p>\n\n<p>Hard to see why you are writing <code>\"Response\"</code> in a request.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1683265087,"post_id":76170322,"comment_id":134343157,"body_markdown":"Please explain the difference between this and what he is already doing, and how it solves the problem. And specifically, please explain how this code can send multiple messages over an `HttpURLConnection`, which it can&#39;t, as it is impossible.","body":"Please explain the difference between this and what he is already doing, and how it solves the problem. And specifically, please explain how this code can send multiple messages over an <code>HttpURLConnection</code>, which it can&#39;t, as it is impossible."},{"owner":{"account_id":28501815,"reputation":1,"user_id":21812951,"display_name":"Zark"},"score":0,"creation_date":1683511305,"post_id":76170322,"comment_id":134373131,"body_markdown":"The main difference is the &#39;ChunkedStreamingMode&#39; I mentioned above. It means sending data in chunked way. In the sample code above, when sending multiple messages or large data, the code will flush immediently after buffering 1024 bytes. Also, I do not get your point why it is impossible to send multiple messages. As long as we serialize and deserialize properly (ndjson for example) I think it is ok to send multiple messages.","body":"The main difference is the &#39;ChunkedStreamingMode&#39; I mentioned above. It means sending data in chunked way. In the sample code above, when sending multiple messages or large data, the code will flush immediently after buffering 1024 bytes. Also, I do not get your point why it is impossible to send multiple messages. As long as we serialize and deserialize properly (ndjson for example) I think it is ok to send multiple messages."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683533990,"post_id":76170322,"comment_id":134375800,"body_markdown":"In other words you haven&#39;t even tried what the OP is attempting. When and if you do, you will find that chunked streaming mode makes no difference to the impossibility of the problem whatsoever.","body":"In other words you haven&#39;t even tried what the OP is attempting. When and if you do, you will find that chunked streaming mode makes no difference to the impossibility of the problem whatsoever."},{"owner":{"account_id":28501815,"reputation":1,"user_id":21812951,"display_name":"Zark"},"score":0,"creation_date":1683598565,"post_id":76170322,"comment_id":134387688,"body_markdown":"I edited my answer which might relate more to the OP&#39;s question. Thanks to your comments","body":"I edited my answer which might relate more to the OP&#39;s question. Thanks to your comments"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1683606793,"post_id":76170322,"comment_id":134388357,"body_markdown":"&quot;I couldn&#39;t find a way to send a message based on the previous response&quot;: exactly, so you haven&#39;t answered the question, so your answer should be deleted.","body":"&quot;I couldn&#39;t find a way to send a message based on the previous response&quot;: exactly, so you haven&#39;t answered the question, so your answer should be deleted."}],"tags":[],"owner":{"account_id":28501815,"reputation":1,"user_id":21812951,"display_name":"Zark"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683598365,"creation_date":1683183117,"answer_id":76170322,"question_id":44489226,"body_markdown":"Try this way, use HttpURLConnection instead (sample code edited):\r\n\r\n```\r\nHttpURLConnection connection = (HttpURLConnection) new URL(&quot;https://example.com:443&quot;).openConnection();\r\nconnection.setRequestMethod(&quot;POST&quot;);\r\nconnection.setDoInput(true);\r\nconnection.setDoOutput(true);\r\nconnection.setChunkedStreamingMode(1024);\r\nconnection.connect();\r\n\r\ntry (OutputStream out = connection.getOutputStream()) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        String msg = &quot;hello&quot; + i + System.lineSeparator();\r\n        out.write(msg.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n\r\ntry (BufferedReader reader = new BufferedReader(\r\n        new InputStreamReader(connection.getInputStream(), StandardCharsets.UTF_8))) {\r\n    // messages sent back end with lineSeparator\r\n    reader.lines().filter(StringUtils::isNotEmpty).forEach(System.out::println);\r\n}\r\n```\r\n\r\nFor further infomation you might want to checkout the docstring of `setChunkedStreamingMode` or other streamingMode provided\r\n\r\nreference: https://bugs.openjdk.org/browse/JDK-5026745\r\n\r\n\r\n------------------------------------- edited based on user207421&#39;s reply\r\n\r\nI realized that your question might be different from the question in the reference link above, so streamingMode might not be something you are looking for. \r\n\r\nI updated the sample code above to send multiple messages separated by lineSeparator, and receive multiple messages in the same way.\r\nI couldn&#39;t find a way to send a message based on the previous response that is similar to your case.\r\n\r\nHope it helps a bit.\r\n \r\n\r\n","title":"Fire multiple requests with URLConnection socket flush","body":"<p>Try this way, use HttpURLConnection instead (sample code edited):</p>\n<pre><code>HttpURLConnection connection = (HttpURLConnection) new URL(&quot;https://example.com:443&quot;).openConnection();\nconnection.setRequestMethod(&quot;POST&quot;);\nconnection.setDoInput(true);\nconnection.setDoOutput(true);\nconnection.setChunkedStreamingMode(1024);\nconnection.connect();\n\ntry (OutputStream out = connection.getOutputStream()) {\n    for (int i = 0; i &lt; 10; i++) {\n        String msg = &quot;hello&quot; + i + System.lineSeparator();\n        out.write(msg.getBytes(StandardCharsets.UTF_8));\n    }\n}\n\ntry (BufferedReader reader = new BufferedReader(\n        new InputStreamReader(connection.getInputStream(), StandardCharsets.UTF_8))) {\n    // messages sent back end with lineSeparator\n    reader.lines().filter(StringUtils::isNotEmpty).forEach(System.out::println);\n}\n</code></pre>\n<p>For further infomation you might want to checkout the docstring of <code>setChunkedStreamingMode</code> or other streamingMode provided</p>\n<p>reference: <a href=\"https://bugs.openjdk.org/browse/JDK-5026745\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-5026745</a></p>\n<p>------------------------------------- edited based on user207421's reply</p>\n<p>I realized that your question might be different from the question in the reference link above, so streamingMode might not be something you are looking for.</p>\n<p>I updated the sample code above to send multiple messages separated by lineSeparator, and receive multiple messages in the same way.\nI couldn't find a way to send a message based on the previous response that is similar to your case.</p>\n<p>Hope it helps a bit.</p>\n"}],"owner":{"account_id":10962973,"reputation":11,"user_id":8055660,"display_name":"Vik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683598365,"creation_date":1497218929,"question_id":44489226,"body_markdown":"What did wrong here? I want to send multiple messages in one https connection with URLConnection. I only get the first message on server. \r\n\r\n        URL url = new URL(&quot;https://example.com:443&quot;);\r\n        URLConnection connection = url.openConnection();\r\n        connection.setDoOutput(true);\r\n    \r\n        BufferedWriter out = new BufferedWriter(\r\n                new OutputStreamWriter(connection.getOutputStream()));\r\n    \r\n        out.write(&quot;Hello&quot;);\r\n        out.flush();\r\n        \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n    \r\n        out.write(&quot;Response&quot;);\r\n        out.flush();\r\n        \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n        \r\n        out.write(&quot;Response2&quot;);\r\n        out.flush();\r\n        \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n        \r\n        out.write(&quot;Response3&quot;);\r\n        out.flush();\r\n    \r\n        inReader = new BufferedReader(\r\n                new InputStreamReader(connection.getInputStream()));\r\n    \r\n        inReader.close();\r\n    \r\n        out.close();","title":"Fire multiple requests with URLConnection socket flush","body":"<p>What did wrong here? I want to send multiple messages in one https connection with URLConnection. I only get the first message on server. </p>\n\n<pre><code>    URL url = new URL(\"https://example.com:443\");\n    URLConnection connection = url.openConnection();\n    connection.setDoOutput(true);\n\n    BufferedWriter out = new BufferedWriter(\n            new OutputStreamWriter(connection.getOutputStream()));\n\n    out.write(\"Hello\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    out.write(\"Response\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    out.write(\"Response2\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    out.write(\"Response3\");\n    out.flush();\n\n    inReader = new BufferedReader(\n            new InputStreamReader(connection.getInputStream()));\n\n    inReader.close();\n\n    out.close();\n</code></pre>\n"},{"tags":["java","android","kotlin","android-intent","android-jetpack-compose"],"owner":{"account_id":24806646,"reputation":3,"user_id":18688574,"display_name":"Ahmed Abdelrahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683594760,"creation_date":1683594668,"question_id":76205255,"body_markdown":"i have those two methods \r\nthe first one send an image to WhatsApp but after open WhatsApp it ask me to select a number on WhatsApp not go directly to number that sent with intent\r\n\r\n```\r\nprivate suspend fun shareImage(context: Context,bitmap: Bitmap) {\r\n    //val context = LocalContext.current\r\n    val fileName = &quot;screenshot_${System.currentTimeMillis()}.png&quot;\r\n    val file = File(context.externalCacheDir, fileName)\r\n\r\n    withContext(Dispatchers.IO) {\r\n        val outputStream = FileOutputStream(file)\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream)\r\n        outputStream.close()\r\n    }\r\n\r\n    val intent = Intent(Intent.ACTION_SEND)\r\n    intent.type = &quot;image/*&quot;\r\n    intent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(context, &quot;${context.packageName}.fileprovider&quot;, file))\r\n    intent.putExtra(&quot;jid&quot;, PhoneNumberUtils.stripSeparators(&quot;+201112076319&quot;) + &quot;@s.whatsapp.net&quot;)\r\n    intent.setPackage(&quot;com.whatsapp&quot;)\r\n    context.startActivity(intent)\r\n}\r\n```\r\n\r\nthe second one send a message directly , actually I need to do the same process but with image file not text message\r\n```\r\nprivate suspend fun shareText(context: Context) {\r\n    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://api.whatsapp.com/send?phone=&quot;+&quot;201112076319&quot;+\r\n            &quot;&amp;text=&quot;+&quot;Your Receipt&quot;))\r\n    context.startActivity(intent)\r\n}\r\n```\r\n\r\nActually i need to do the same process but with image file not text message.","title":"How to send a WhatsApp image without saving number","body":"<p>i have those two methods\nthe first one send an image to WhatsApp but after open WhatsApp it ask me to select a number on WhatsApp not go directly to number that sent with intent</p>\n<pre><code>private suspend fun shareImage(context: Context,bitmap: Bitmap) {\n    //val context = LocalContext.current\n    val fileName = &quot;screenshot_${System.currentTimeMillis()}.png&quot;\n    val file = File(context.externalCacheDir, fileName)\n\n    withContext(Dispatchers.IO) {\n        val outputStream = FileOutputStream(file)\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream)\n        outputStream.close()\n    }\n\n    val intent = Intent(Intent.ACTION_SEND)\n    intent.type = &quot;image/*&quot;\n    intent.putExtra(Intent.EXTRA_STREAM, FileProvider.getUriForFile(context, &quot;${context.packageName}.fileprovider&quot;, file))\n    intent.putExtra(&quot;jid&quot;, PhoneNumberUtils.stripSeparators(&quot;+201112076319&quot;) + &quot;@s.whatsapp.net&quot;)\n    intent.setPackage(&quot;com.whatsapp&quot;)\n    context.startActivity(intent)\n}\n</code></pre>\n<p>the second one send a message directly , actually I need to do the same process but with image file not text message</p>\n<pre><code>private suspend fun shareText(context: Context) {\n    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://api.whatsapp.com/send?phone=&quot;+&quot;201112076319&quot;+\n            &quot;&amp;text=&quot;+&quot;Your Receipt&quot;))\n    context.startActivity(intent)\n}\n</code></pre>\n<p>Actually i need to do the same process but with image file not text message.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":27959385,"reputation":11,"user_id":21351527,"display_name":"Mikel Jka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683593519,"creation_date":1683231828,"question_id":76177133,"body_markdown":"I&#39;m new in android developing and I&#39;m having issues when developing this Activity which basically compares faces.\r\nThe problem comes when I try to access &quot;context&quot; to capture my screen and save it in internal storage, I don&#39;t know how not to make `context=null` and actually be related with the Activity.\r\n\r\nI know this has to be really simple but I can&#39;t find a solution. This is the code I have so far:\r\n\r\n\r\n```\r\n@ExperimentalGetImage public class Processor extends VisionBaseProcessor&lt;List&lt;Face&gt;&gt; {\r\n\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    private static Bitmap bitmap;\r\n\r\n\r\n\r\n    private boolean mDetectadoEncontrado = false;\r\n\r\n\r\n\r\n    public Processor(Context context, FaceDetector detector, Interpreter faceNetModelInterpreter, ImageProcessor faceNetImageProcessor, Overlay graphicOverlay, FaceRecognitionCallback callback) {\r\n        super();\r\n        this.context = context;\r\n        this.detector = detector;\r\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\r\n        this.faceNetImageProcessor = faceNetImageProcessor;\r\n        this.graphicOverlay = graphicOverlay;\r\n        this.callback = callback;\r\n    }\r\n\r\n\r\n\r\n    class Person {\r\n        public String name;\r\n        public float[] faceVector;\r\n\r\n        public Person(String name, float[] faceVector) {\r\n            this.name = name;\r\n            this.faceVector = faceVector;\r\n        }\r\n    }\r\n\r\n    public interface FaceRecognitionCallback {\r\n        void onFaceRecognised(Face face, float probability, String name);\r\n        void onFaceDetected(Face face, Bitmap faceBitmap, float[] vector);\r\n    }\r\n\r\n    private static final String TAG = &quot;FaceRecognitionProcessor&quot;;\r\n\r\n    // Input image size for our facenet model\r\n    private static final int FACENET_INPUT_IMAGE_SIZE = 112;\r\n\r\n    private Context context;\r\n    private final FaceDetector detector;\r\n    private final Interpreter faceNetModelInterpreter;\r\n    private final ImageProcessor faceNetImageProcessor;\r\n    private final Overlay graphicOverlay;\r\n    private final FaceRecognitionCallback callback;\r\n\r\n    public RecFacialAct activity;\r\n\r\n    List&lt;Person&gt; recognisedFaceList = new ArrayList();\r\n\r\n    public Processor(Interpreter faceNetModelInterpreter,\r\n                                    Overlay graphicOverlay,\r\n                                    FaceRecognitionCallback callback) {\r\n        super();\r\n        this.callback = callback;\r\n        this.graphicOverlay = graphicOverlay;\r\n        // initialize processors\r\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\r\n        faceNetImageProcessor = new ImageProcessor.Builder()\r\n                .add(new ResizeOp(FACENET_INPUT_IMAGE_SIZE, FACENET_INPUT_IMAGE_SIZE, ResizeOp.ResizeMethod.BILINEAR))\r\n                .add(new NormalizeOp(0f, 255f))\r\n                .build();\r\n\r\n        FaceDetectorOptions faceDetectorOptions = new FaceDetectorOptions.Builder()\r\n                .setPerformanceMode(FaceDetectorOptions.PERFORMANCE_MODE_ACCURATE)\r\n                .setClassificationMode(FaceDetectorOptions.CLASSIFICATION_MODE_NONE)\r\n                // to ensure we don&#39;t count and analyse same person again\r\n                .enableTracking()\r\n                .build();\r\n        detector = FaceDetection.getClient(faceDetectorOptions);\r\n    }\r\n\r\n    public void init(Context context) {\r\n        this.context = context.getApplicationContext();\r\n    }\r\n\r\n    @OptIn(markerClass = ExperimentalGetImage.class)\r\n    public Task&lt;List&lt;Face&gt;&gt; detectInImage(ImageProxy imageProxy, Bitmap bitmap, int rotationDegrees) {\r\n        InputImage inputImage = InputImage.fromMediaImage(imageProxy.getImage(), rotationDegrees);\r\n        int rotation = rotationDegrees;\r\n\r\n\r\n        boolean reverseDimens = rotation == 90 || rotation == 270;\r\n        int width;\r\n        int height;\r\n        if (reverseDimens) {\r\n            width = imageProxy.getHeight();\r\n            height =  imageProxy.getWidth();\r\n        } else {\r\n            width = imageProxy.getWidth();\r\n            height = imageProxy.getHeight();\r\n        }\r\n\r\n        return detector.process(inputImage)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Face&gt; faces) {\r\n                        graphicOverlay.clear();\r\n                        for (Face face : faces) {\r\n                            FaceGraphic faceGraphic = new FaceGraphic(graphicOverlay, face, false, width, height);\r\n                            Log.d(TAG, &quot;face found, id: &quot; + face.getTrackingId());\r\n\r\n                            Bitmap faceBitmap = cropToBBox(bitmap, face.getBoundingBox(), rotation);\r\n\r\n                            if (faceBitmap == null) {\r\n                                Log.d(&quot;GraphicOverlay&quot;, &quot;Face bitmap null&quot;);\r\n                                return;\r\n                            }\r\n\r\n                            TensorImage tensorImage = TensorImage.fromBitmap(faceBitmap);\r\n                            ByteBuffer faceNetByteBuffer = faceNetImageProcessor.process(tensorImage).getBuffer();\r\n                            float[][] faceOutputArray = new float[1][192];\r\n                            faceNetModelInterpreter.run(faceNetByteBuffer, faceOutputArray);\r\n\r\n                            Log.d(TAG, &quot;output array: &quot; + Arrays.deepToString(faceOutputArray));\r\n\r\n                            if (callback != null) {\r\n                                callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\r\n                                if (callback != null) {\r\n                                    callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\r\n\r\n                                    // Hacer una consulta a la colecci&#243;n &quot;caras&quot;\r\n                                    db.collection(&quot;caras&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n\r\n                                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                                            if (task.isSuccessful()) {\r\n                                                List&lt;DocumentSnapshot&gt; documents = task.getResult().getDocuments();\r\n                                                for (DocumentSnapshot document : documents) {\r\n                                                    String name = document.getString(&quot;name&quot;);\r\n                                                    List&lt;Double&gt; vector = (List&lt;Double&gt;) document.get(&quot;vector&quot;);\r\n                                                    float[] faceVector = new float[vector.size()];\r\n\r\n                                                    RecFacialAct.recognizeFace(faceOutputArray[0]);\r\n\r\n                                                    LogcatHelper logcatHelper = new LogcatHelper(&quot;RecFacialAct&quot;, &quot;detectado&quot;, new LogcatHelper.LogcatListener() {\r\n                                                        @Override\r\n                                                        public void onMatchFound(String line) {\r\n                                                            mDetectadoEncontrado = true;\r\n\r\n\r\n                                                            WindowManager windowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\r\n\r\n                                                            Display display = windowManager.getDefaultDisplay();\r\n\r\n                                                            Point size = new Point();\r\n                                                            display.getSize(size);\r\n                                                            int width = (int) size.x;\r\n                                                            int height = (int) size.y;\r\n                                                            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n                                                            int[] pixelBuffer = new int[width * height];\r\n                                                            Rect rect = new Rect(0, 0, width, height);\r\n\r\n                                                            PixelCopy.OnPixelCopyFinishedListener listener = new PixelCopy.OnPixelCopyFinishedListener() {\r\n                                                                @Override\r\n                                                                public void onPixelCopyFinished(int copyResult) {\r\n                                                                    if (copyResult == PixelCopy.SUCCESS) {\r\n                                                                        // La copia se realiz&#243; correctamente, haz lo que quieras con el bitmap\r\n                                                                        saveBitmapToInternalStorage(bitmap);\r\n                                                                        Log.d(&quot;Captura&quot;, &quot;Captura guardada&quot;);\r\n                                                                    } else {\r\n                                                                        // La copia fall&#243;, maneja el error\r\n                                                                    }\r\n                                                                }\r\n                                                            };\r\n                                                        }\r\n                                                    });\r\n\r\n                                                    logcatHelper.start();\r\n\r\n\r\n                                                }\r\n                                            } else {\r\n                                                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                            }\r\n\r\n                            graphicOverlay.add(faceGraphic);\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        // intentionally left empty\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void saveBitmapToInternalStorage(Bitmap bitmap) {\r\n        File directory = context.getDir(&quot;screenshots&quot;, Context.MODE_PRIVATE);\r\n        File file = new File(directory, &quot;screenshot.png&quot;);\r\n\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(file);\r\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream);\r\n            outputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private Pair&lt;String, Float&gt; findNearestFace(float[] vector) {\r\n\r\n        Pair&lt;String, Float&gt; ret = null;\r\n        for (Person person : recognisedFaceList) {\r\n            final String name = person.name;\r\n            final float[] knownVector = person.faceVector;\r\n\r\n            float distance = 0;\r\n            for (int i = 0; i &lt; vector.length; i++) {\r\n                float diff = vector[i] - knownVector[i];\r\n                distance += diff*diff;\r\n            }\r\n            distance = (float) Math.sqrt(distance);\r\n            if (ret == null || distance &lt; ret.second) {\r\n                ret = new Pair&lt;&gt;(name, distance);\r\n            }\r\n        }\r\n\r\n        return ret;\r\n\r\n    }\r\n\r\n    public void stop() {\r\n        detector.close();\r\n    }\r\n\r\n    private Bitmap cropToBBox(Bitmap image, Rect boundingBox, int rotation) {\r\n        int shift = 0;\r\n        if (rotation != 0) {\r\n            Matrix matrix = new Matrix();\r\n            matrix.postRotate(rotation);\r\n            image = Bitmap.createBitmap(image, 0, 0, image.getWidth(), image.getHeight(), matrix, true);\r\n        }\r\n        if (boundingBox.top &gt;= 0 &amp;&amp; boundingBox.bottom &lt;= image.getWidth()\r\n                &amp;&amp; boundingBox.top + boundingBox.height() &lt;= image.getHeight()\r\n                &amp;&amp; boundingBox.left &gt;= 0\r\n                &amp;&amp; boundingBox.left + boundingBox.width() &lt;= image.getWidth()) {\r\n            return Bitmap.createBitmap(\r\n                    image,\r\n                    boundingBox.left,\r\n                    boundingBox.top + shift,\r\n                    boundingBox.width(),\r\n                    boundingBox.height()\r\n            );\r\n        } else return null;\r\n    }\r\n\r\n    // Register a name against the vector\r\n    public void registerFace(Editable input, float[] tempVector) {\r\n        recognisedFaceList.add(new Person(input.toString(), tempVector));\r\n    }\r\n\r\n```\r\n\r\n\r\nIn theory I was expecting my Activity to take an screenshot, however i end up getting this error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: es.upsa.mjb, PID: 6059\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object android.content.Context.getSystemService(java.lang.String)&#39; on a null object reference\r\n        at es.upsa.mjb.helper.Processor$2$1$1.onMatchFound(Processor.java:195)\r\n        at es.upsa.mjb.LogcatHelper$1.lambda$run$0$es-upsa-mjb-LogcatHelper$1(LogcatHelper.java:39)\r\n        at es.upsa.mjb.LogcatHelper$1$$ExternalSyntheticLambda0.run(Unknown Source:4)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:236)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8056)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)","title":"How can I solve this context=null problem in AndroidStudio Java?","body":"<p>I'm new in android developing and I'm having issues when developing this Activity which basically compares faces.\nThe problem comes when I try to access &quot;context&quot; to capture my screen and save it in internal storage, I don't know how not to make <code>context=null</code> and actually be related with the Activity.</p>\n<p>I know this has to be really simple but I can't find a solution. This is the code I have so far:</p>\n<pre><code>@ExperimentalGetImage public class Processor extends VisionBaseProcessor&lt;List&lt;Face&gt;&gt; {\n\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n    private static Bitmap bitmap;\n\n\n\n    private boolean mDetectadoEncontrado = false;\n\n\n\n    public Processor(Context context, FaceDetector detector, Interpreter faceNetModelInterpreter, ImageProcessor faceNetImageProcessor, Overlay graphicOverlay, FaceRecognitionCallback callback) {\n        super();\n        this.context = context;\n        this.detector = detector;\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\n        this.faceNetImageProcessor = faceNetImageProcessor;\n        this.graphicOverlay = graphicOverlay;\n        this.callback = callback;\n    }\n\n\n\n    class Person {\n        public String name;\n        public float[] faceVector;\n\n        public Person(String name, float[] faceVector) {\n            this.name = name;\n            this.faceVector = faceVector;\n        }\n    }\n\n    public interface FaceRecognitionCallback {\n        void onFaceRecognised(Face face, float probability, String name);\n        void onFaceDetected(Face face, Bitmap faceBitmap, float[] vector);\n    }\n\n    private static final String TAG = &quot;FaceRecognitionProcessor&quot;;\n\n    // Input image size for our facenet model\n    private static final int FACENET_INPUT_IMAGE_SIZE = 112;\n\n    private Context context;\n    private final FaceDetector detector;\n    private final Interpreter faceNetModelInterpreter;\n    private final ImageProcessor faceNetImageProcessor;\n    private final Overlay graphicOverlay;\n    private final FaceRecognitionCallback callback;\n\n    public RecFacialAct activity;\n\n    List&lt;Person&gt; recognisedFaceList = new ArrayList();\n\n    public Processor(Interpreter faceNetModelInterpreter,\n                                    Overlay graphicOverlay,\n                                    FaceRecognitionCallback callback) {\n        super();\n        this.callback = callback;\n        this.graphicOverlay = graphicOverlay;\n        // initialize processors\n        this.faceNetModelInterpreter = faceNetModelInterpreter;\n        faceNetImageProcessor = new ImageProcessor.Builder()\n                .add(new ResizeOp(FACENET_INPUT_IMAGE_SIZE, FACENET_INPUT_IMAGE_SIZE, ResizeOp.ResizeMethod.BILINEAR))\n                .add(new NormalizeOp(0f, 255f))\n                .build();\n\n        FaceDetectorOptions faceDetectorOptions = new FaceDetectorOptions.Builder()\n                .setPerformanceMode(FaceDetectorOptions.PERFORMANCE_MODE_ACCURATE)\n                .setClassificationMode(FaceDetectorOptions.CLASSIFICATION_MODE_NONE)\n                // to ensure we don't count and analyse same person again\n                .enableTracking()\n                .build();\n        detector = FaceDetection.getClient(faceDetectorOptions);\n    }\n\n    public void init(Context context) {\n        this.context = context.getApplicationContext();\n    }\n\n    @OptIn(markerClass = ExperimentalGetImage.class)\n    public Task&lt;List&lt;Face&gt;&gt; detectInImage(ImageProxy imageProxy, Bitmap bitmap, int rotationDegrees) {\n        InputImage inputImage = InputImage.fromMediaImage(imageProxy.getImage(), rotationDegrees);\n        int rotation = rotationDegrees;\n\n\n        boolean reverseDimens = rotation == 90 || rotation == 270;\n        int width;\n        int height;\n        if (reverseDimens) {\n            width = imageProxy.getHeight();\n            height =  imageProxy.getWidth();\n        } else {\n            width = imageProxy.getWidth();\n            height = imageProxy.getHeight();\n        }\n\n        return detector.process(inputImage)\n                .addOnSuccessListener(new OnSuccessListener&lt;List&lt;Face&gt;&gt;() {\n                    @Override\n                    public void onSuccess(List&lt;Face&gt; faces) {\n                        graphicOverlay.clear();\n                        for (Face face : faces) {\n                            FaceGraphic faceGraphic = new FaceGraphic(graphicOverlay, face, false, width, height);\n                            Log.d(TAG, &quot;face found, id: &quot; + face.getTrackingId());\n\n                            Bitmap faceBitmap = cropToBBox(bitmap, face.getBoundingBox(), rotation);\n\n                            if (faceBitmap == null) {\n                                Log.d(&quot;GraphicOverlay&quot;, &quot;Face bitmap null&quot;);\n                                return;\n                            }\n\n                            TensorImage tensorImage = TensorImage.fromBitmap(faceBitmap);\n                            ByteBuffer faceNetByteBuffer = faceNetImageProcessor.process(tensorImage).getBuffer();\n                            float[][] faceOutputArray = new float[1][192];\n                            faceNetModelInterpreter.run(faceNetByteBuffer, faceOutputArray);\n\n                            Log.d(TAG, &quot;output array: &quot; + Arrays.deepToString(faceOutputArray));\n\n                            if (callback != null) {\n                                callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\n                                if (callback != null) {\n                                    callback.onFaceDetected(face, faceBitmap, faceOutputArray[0]);\n\n                                    // Hacer una consulta a la colección &quot;caras&quot;\n                                    db.collection(&quot;caras&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n\n                                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                                            if (task.isSuccessful()) {\n                                                List&lt;DocumentSnapshot&gt; documents = task.getResult().getDocuments();\n                                                for (DocumentSnapshot document : documents) {\n                                                    String name = document.getString(&quot;name&quot;);\n                                                    List&lt;Double&gt; vector = (List&lt;Double&gt;) document.get(&quot;vector&quot;);\n                                                    float[] faceVector = new float[vector.size()];\n\n                                                    RecFacialAct.recognizeFace(faceOutputArray[0]);\n\n                                                    LogcatHelper logcatHelper = new LogcatHelper(&quot;RecFacialAct&quot;, &quot;detectado&quot;, new LogcatHelper.LogcatListener() {\n                                                        @Override\n                                                        public void onMatchFound(String line) {\n                                                            mDetectadoEncontrado = true;\n\n\n                                                            WindowManager windowManager = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);\n\n                                                            Display display = windowManager.getDefaultDisplay();\n\n                                                            Point size = new Point();\n                                                            display.getSize(size);\n                                                            int width = (int) size.x;\n                                                            int height = (int) size.y;\n                                                            Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n                                                            int[] pixelBuffer = new int[width * height];\n                                                            Rect rect = new Rect(0, 0, width, height);\n\n                                                            PixelCopy.OnPixelCopyFinishedListener listener = new PixelCopy.OnPixelCopyFinishedListener() {\n                                                                @Override\n                                                                public void onPixelCopyFinished(int copyResult) {\n                                                                    if (copyResult == PixelCopy.SUCCESS) {\n                                                                        // La copia se realizó correctamente, haz lo que quieras con el bitmap\n                                                                        saveBitmapToInternalStorage(bitmap);\n                                                                        Log.d(&quot;Captura&quot;, &quot;Captura guardada&quot;);\n                                                                    } else {\n                                                                        // La copia falló, maneja el error\n                                                                    }\n                                                                }\n                                                            };\n                                                        }\n                                                    });\n\n                                                    logcatHelper.start();\n\n\n                                                }\n                                            } else {\n                                                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n                                            }\n                                        }\n                                    });\n                                }\n\n                            }\n\n                            graphicOverlay.add(faceGraphic);\n                        }\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        // intentionally left empty\n                    }\n                });\n    }\n\n    private void saveBitmapToInternalStorage(Bitmap bitmap) {\n        File directory = context.getDir(&quot;screenshots&quot;, Context.MODE_PRIVATE);\n        File file = new File(directory, &quot;screenshot.png&quot;);\n\n        try {\n            FileOutputStream outputStream = new FileOutputStream(file);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputStream);\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n\n    private Pair&lt;String, Float&gt; findNearestFace(float[] vector) {\n\n        Pair&lt;String, Float&gt; ret = null;\n        for (Person person : recognisedFaceList) {\n            final String name = person.name;\n            final float[] knownVector = person.faceVector;\n\n            float distance = 0;\n            for (int i = 0; i &lt; vector.length; i++) {\n                float diff = vector[i] - knownVector[i];\n                distance += diff*diff;\n            }\n            distance = (float) Math.sqrt(distance);\n            if (ret == null || distance &lt; ret.second) {\n                ret = new Pair&lt;&gt;(name, distance);\n            }\n        }\n\n        return ret;\n\n    }\n\n    public void stop() {\n        detector.close();\n    }\n\n    private Bitmap cropToBBox(Bitmap image, Rect boundingBox, int rotation) {\n        int shift = 0;\n        if (rotation != 0) {\n            Matrix matrix = new Matrix();\n            matrix.postRotate(rotation);\n            image = Bitmap.createBitmap(image, 0, 0, image.getWidth(), image.getHeight(), matrix, true);\n        }\n        if (boundingBox.top &gt;= 0 &amp;&amp; boundingBox.bottom &lt;= image.getWidth()\n                &amp;&amp; boundingBox.top + boundingBox.height() &lt;= image.getHeight()\n                &amp;&amp; boundingBox.left &gt;= 0\n                &amp;&amp; boundingBox.left + boundingBox.width() &lt;= image.getWidth()) {\n            return Bitmap.createBitmap(\n                    image,\n                    boundingBox.left,\n                    boundingBox.top + shift,\n                    boundingBox.width(),\n                    boundingBox.height()\n            );\n        } else return null;\n    }\n\n    // Register a name against the vector\n    public void registerFace(Editable input, float[] tempVector) {\n        recognisedFaceList.add(new Person(input.toString(), tempVector));\n    }\n\n</code></pre>\n<p>In theory I was expecting my Activity to take an screenshot, however i end up getting this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: es.upsa.mjb, PID: 6059\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n        at es.upsa.mjb.helper.Processor$2$1$1.onMatchFound(Processor.java:195)\n        at es.upsa.mjb.LogcatHelper$1.lambda$run$0$es-upsa-mjb-LogcatHelper$1(LogcatHelper.java:39)\n        at es.upsa.mjb.LogcatHelper$1$$ExternalSyntheticLambda0.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:236)\n        at android.app.ActivityThread.main(ActivityThread.java:8056)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n</code></pre>\n"},{"tags":["java","gradle","openapi","openapi-generator","openfeign"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1701249871,"post_id":76204370,"comment_id":136751147,"body_markdown":"Sometimes, I wonder why answers are neither accepted nor upvoted...","body":"Sometimes, I wonder why answers are neither accepted nor upvoted..."}],"answers":[{"comments":[{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1701718890,"post_id":76205165,"comment_id":136808333,"body_markdown":"I&#39;m so very confused, since the front page example uses it. What are they encouraging? https://spring.io/projects/spring-cloud-openfeign","body":"I&#39;m so very confused, since the front page example uses it. What are they encouraging? <a href=\"https://spring.io/projects/spring-cloud-openfeign\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-openfeign</a>"},{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1701746752,"post_id":76205165,"comment_id":136811151,"body_markdown":"@xenoterracide The examples show _method_ level which is fine. It is _class_ level that was the issue.","body":"@xenoterracide The examples show <i>method</i> level which is fine. It is <i>class</i> level that was the issue."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1701883944,"post_id":76205165,"comment_id":136831039,"body_markdown":"Im confused, maybe the OP edited it, but I don&#39;t see any class level annotations, so why the reprimand","body":"Im confused, maybe the OP edited it, but I don&#39;t see any class level annotations, so why the reprimand"}],"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683592488,"creation_date":1683592488,"answer_id":76205165,"question_id":76204370,"body_markdown":"`@RequestMapping` in the Feign client has long been discouraged and bad practice. It lead to [CVE-2021-22044](https://spring.io/security/cve-2021-22044) and the functionality to support `@RequestMapping` was removed altogether in Feign clients due to the aforementioned security issue.\r\n\r\nHaving said that, based on the documentation for the `spring` generator: https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\r\n\r\nSpecifying the `library` configuration as `spring-cloud` should yield what you want.","title":"Can OpenApi Generator generate interface feign clients?","body":"<p><code>@RequestMapping</code> in the Feign client has long been discouraged and bad practice. It lead to <a href=\"https://spring.io/security/cve-2021-22044\" rel=\"nofollow noreferrer\">CVE-2021-22044</a> and the functionality to support <code>@RequestMapping</code> was removed altogether in Feign clients due to the aforementioned security issue.</p>\n<p>Having said that, based on the documentation for the <code>spring</code> generator: <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md</a></p>\n<p>Specifying the <code>library</code> configuration as <code>spring-cloud</code> should yield what you want.</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683592488,"creation_date":1683580182,"question_id":76204370,"body_markdown":"Is it possible to generate feign clients using OpenApiGenerator?\r\n\r\nThis is my current setup:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.11&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    id &quot;org.openapi.generator&quot; version &quot;6.3.0&quot;\r\n}\r\n\r\ngroup = &#39;dev.rifaii&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-openfeign:4.0.2&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\ndef swaggerCodeGenConfig = {\r\n    generatorName = &quot;spring&quot;\r\n    remoteInputSpec = &quot;someUrl&quot;\r\n    outputDir = &quot;$projectDir/external/src/main/java&quot;\r\n    apiPackage = &#39;somepackageForApis&#39;\r\n    modelPackage = &#39;somepackageForModels&#39;\r\n    additionalProperties = [\r\n            packageName: &quot;petstore&quot;,\r\n            interfaceOnly: &#39;true&#39;,\r\n            feign      : &#39;true&#39;\r\n    ]\r\n}\r\n\r\n\r\ntask buildExampleClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\r\n    configure swaggerCodeGenConfig\r\n    remoteInputSpec = &quot;http://158.101.191.70:8081/v3/api-docs&quot;\r\n    apiPackage = &#39;dev.rifaii.example.api&#39;\r\n    modelPackage = &#39;dev.rifaii.example.model&#39;\r\n}\r\n```\r\n\r\nwhat this task is currently generating:\r\n\r\n```java\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-05-09T00:05:09.505990300+03:00[Europe/Tallinn]&quot;)\r\n@Validated\r\n@Tag(name = &quot;store&quot;, description = &quot;the store API&quot;)\r\npublic interface StoreApi {\r\n\r\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    /**\r\n     * DELETE /store/order/{orderId} : Delete purchase order by ID\r\n     * For valid response try integer IDs with value &amp;lt; 1000. Anything above 1000 or nonintegers will generate API errors\r\n     *\r\n     * @param orderId ID of the order that needs to be deleted (required)\r\n     * @return Invalid ID supplied (status code 400)\r\n     *         or Order not found (status code 404)\r\n     */\r\n    @Operation(\r\n        operationId = &quot;deleteOrder&quot;,\r\n        summary = &quot;Delete purchase order by ID&quot;,\r\n        description = &quot;For valid response try integer IDs with value &lt; 1000. Anything above 1000 or nonintegers will generate API errors&quot;,\r\n        tags = { &quot;store&quot; },\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid ID supplied&quot;, content = {\r\n                @Content(mediaType = &quot;*/*&quot;, schema = @Schema(implementation = Map.class))\r\n            }),\r\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Order not found&quot;)\r\n        }\r\n    )\r\n    @RequestMapping(\r\n        method = RequestMethod.DELETE,\r\n        value = &quot;/store/order/{orderId}&quot;,\r\n        produces = { &quot;*/*&quot; }\r\n    )\r\n    default ResponseEntity&lt;Void&gt; deleteOrder(\r\n        @Parameter(name = &quot;orderId&quot;, description = &quot;ID of the order that needs to be deleted&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;orderId&quot;) Long orderId\r\n    ) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n   }\r\n```\r\n\r\nAll I want is for it to generate interfaces that look like this \r\n\r\n```java\r\n@FeignClient(&quot;someClient&quot;)\r\npublic interface SomeClient {\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/example&quot;)\r\n    List&lt;SomeObject&gt; getExample();\r\n}\r\n```\r\n\r\nIn another project I used an old version of swagger codegen with Springfox and I was able to achieve this but I&#39;m not sure how to do it with openapi generator","title":"Can OpenApi Generator generate interface feign clients?","body":"<p>Is it possible to generate feign clients using OpenApiGenerator?</p>\n<p>This is my current setup:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.11'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id &quot;org.openapi.generator&quot; version &quot;6.3.0&quot;\n}\n\ngroup = 'dev.rifaii'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.cloud:spring-cloud-starter-openfeign:4.0.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ndef swaggerCodeGenConfig = {\n    generatorName = &quot;spring&quot;\n    remoteInputSpec = &quot;someUrl&quot;\n    outputDir = &quot;$projectDir/external/src/main/java&quot;\n    apiPackage = 'somepackageForApis'\n    modelPackage = 'somepackageForModels'\n    additionalProperties = [\n            packageName: &quot;petstore&quot;,\n            interfaceOnly: 'true',\n            feign      : 'true'\n    ]\n}\n\n\ntask buildExampleClient(type: org.openapitools.generator.gradle.plugin.tasks.GenerateTask) {\n    configure swaggerCodeGenConfig\n    remoteInputSpec = &quot;http://158.101.191.70:8081/v3/api-docs&quot;\n    apiPackage = 'dev.rifaii.example.api'\n    modelPackage = 'dev.rifaii.example.model'\n}\n</code></pre>\n<p>what this task is currently generating:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-05-09T00:05:09.505990300+03:00[Europe/Tallinn]&quot;)\n@Validated\n@Tag(name = &quot;store&quot;, description = &quot;the store API&quot;)\npublic interface StoreApi {\n\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    /**\n     * DELETE /store/order/{orderId} : Delete purchase order by ID\n     * For valid response try integer IDs with value &amp;lt; 1000. Anything above 1000 or nonintegers will generate API errors\n     *\n     * @param orderId ID of the order that needs to be deleted (required)\n     * @return Invalid ID supplied (status code 400)\n     *         or Order not found (status code 404)\n     */\n    @Operation(\n        operationId = &quot;deleteOrder&quot;,\n        summary = &quot;Delete purchase order by ID&quot;,\n        description = &quot;For valid response try integer IDs with value &lt; 1000. Anything above 1000 or nonintegers will generate API errors&quot;,\n        tags = { &quot;store&quot; },\n        responses = {\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Invalid ID supplied&quot;, content = {\n                @Content(mediaType = &quot;*/*&quot;, schema = @Schema(implementation = Map.class))\n            }),\n            @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Order not found&quot;)\n        }\n    )\n    @RequestMapping(\n        method = RequestMethod.DELETE,\n        value = &quot;/store/order/{orderId}&quot;,\n        produces = { &quot;*/*&quot; }\n    )\n    default ResponseEntity&lt;Void&gt; deleteOrder(\n        @Parameter(name = &quot;orderId&quot;, description = &quot;ID of the order that needs to be deleted&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;orderId&quot;) Long orderId\n    ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n   }\n</code></pre>\n<p>All I want is for it to generate interfaces that look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(&quot;someClient&quot;)\npublic interface SomeClient {\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/example&quot;)\n    List&lt;SomeObject&gt; getExample();\n}\n</code></pre>\n<p>In another project I used an old version of swagger codegen with Springfox and I was able to achieve this but I'm not sure how to do it with openapi generator</p>\n"},{"tags":["java","spring","junit","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467130135,"post_id":38081086,"comment_id":63598818,"body_markdown":"dupplicated. See : http://stackoverflow.com/questions/13745848/how-to-test-valid","body":"dupplicated. See : <a href=\"http://stackoverflow.com/questions/13745848/how-to-test-valid\">stackoverflow.com/questions/13745848/how-to-test-valid</a>"},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1467130696,"post_id":38081086,"comment_id":63599188,"body_markdown":"that solution only gives a programmatic approach.:  validator.validateProperty(object, propertyName)\nI wanted an implicit validation on save","body":"that solution only gives a programmatic approach.:  validator.validateProperty(object, propertyName) I wanted an implicit validation on save"},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":0,"creation_date":1467187519,"post_id":38081086,"comment_id":63622533,"body_markdown":"The solution with `@Inject    MockMvc mvc;` look good to me ?","body":"The solution with <code>@Inject    MockMvc mvc;</code> look good to me ?"},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1467193679,"post_id":38081086,"comment_id":63626681,"body_markdown":"Well.. not bad.. but it assumes an MVC controller layer. What if I want to use @Valid to protect the layer below? (the service/business layer).... in that case there is no MVC involved. Additionally, it&#39;s not as transparent as doing just a &quot;save&quot; and expecting a validation (just like running the app).","body":"Well.. not bad.. but it assumes an MVC controller layer. What if I want to use @Valid to protect the layer below? (the service/business layer).... in that case there is no MVC involved. Additionally, it&#39;s not as transparent as doing just a &quot;save&quot; and expecting a validation (just like running the app)."},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467204048,"post_id":38081086,"comment_id":63633737,"body_markdown":"well, i&#39;m not sure about which componant in spring is responsible to process the validation.\nYou could test the validation itself, but you may need an integration test (full deploy) for testing if the @valid is processed. \nFor testing the validation result, see exemple &#167;101.2.1.5 at http://www.jmdoudoux.fr/java/dej/chap-validation_donnees.htm","body":"well, i&#39;m not sure about which componant in spring is responsible to process the validation. You could test the validation itself, but you may need an integration test (full deploy) for testing if the @valid is processed.  For testing the validation result, see exemple &#167;101.2.1.5 at <a href=\"http://www.jmdoudoux.fr/java/dej/chap-validation_donnees.htm\" rel=\"nofollow noreferrer\">jmdoudoux.fr/java/dej/chap-validation_donnees.htm</a>"},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467204522,"post_id":38081086,"comment_id":63634106,"body_markdown":"You may want to dig about `MethodValidationPostProcessor`","body":"You may want to dig about <code>MethodValidationPostProcessor</code>"},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1467216191,"post_id":38081086,"comment_id":63643134,"body_markdown":"great! it seems promising. thanks!","body":"great! it seems promising. thanks!"}],"answers":[{"comments":[{"owner":{"account_id":6909368,"reputation":99,"user_id":5305894,"accept_rate":20,"display_name":"Saran"},"score":3,"creation_date":1601034432,"post_id":48223916,"comment_id":113285517,"body_markdown":"This does not seem to be working with Junit 5. can you please help","body":"This does not seem to be working with Junit 5. can you please help"},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1610276976,"post_id":48223916,"comment_id":116076235,"body_markdown":"@Saran It seems work with JUnit5 in my case.","body":"@Saran It seems work with JUnit5 in my case."},{"owner":{"account_id":2301850,"reputation":4294,"user_id":2022000,"accept_rate":61,"display_name":"Anuj Sharma"},"score":1,"creation_date":1629111806,"post_id":48223916,"comment_id":121592044,"body_markdown":"can you tell the solution for quarkus ? @Valid annotation not working as expected. Not throwing validation error.","body":"can you tell the solution for quarkus ? @Valid annotation not working as expected. Not throwing validation error."}],"tags":[],"owner":{"account_id":2084279,"reputation":1181,"user_id":1855579,"accept_rate":67,"display_name":"Vlad Dinulescu"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1515751820,"creation_date":1515751820,"answer_id":48223916,"question_id":38081086,"body_markdown":"This solution works with Spring 5. It should work with Spring 4 as well. (I&#39;ve tested it on Spring 5 and SpringBoot 2.0.0).\r\n\r\nThere are three things that have to be there:\r\n\r\n1. in the test class, provide a bean for method validation (PostServiceTest in your example)\r\n\r\nLike this:\r\n\r\n    @TestConfiguration\r\n    static class TestContextConfiguration {\r\n       @Bean\r\n       public MethodValidationPostProcessor bean() {\r\n          return new MethodValidationPostProcessor();\r\n       }\r\n    }\r\n\r\n2. in the class that has @Valid annotations on method, you also need to annotate it with @Validated (org.springframework.validation.annotation.Validated) on the class level!\r\n\r\nLike this: \r\n\r\n    @Validated\r\n    class PostService {\r\n       public Post save(@Valid Post post) {\r\n           return postRepository.save(post);\r\n       }\r\n    }\r\n\r\n3. You have to have a Bean Validation 1.1 provider (such as Hibernate Validator 5.x) in the classpath. The actual provider will be autodetected by Spring and automatically adapted.\r\n\r\nMore details in [MethodValidationPostProcessor documentation](https://docs.spring.io/autorepo/docs/spring-framework/4.2.x/javadoc-api/org/springframework/validation/beanvalidation/MethodValidationPostProcessor.html)\r\n\r\nHope that helps","title":"How to test if @Valid annotation is working?","body":"<p>This solution works with Spring 5. It should work with Spring 4 as well. (I've tested it on Spring 5 and SpringBoot 2.0.0).</p>\n\n<p>There are three things that have to be there:</p>\n\n<ol>\n<li>in the test class, provide a bean for method validation (PostServiceTest in your example)</li>\n</ol>\n\n<p>Like this:</p>\n\n<pre><code>@TestConfiguration\nstatic class TestContextConfiguration {\n   @Bean\n   public MethodValidationPostProcessor bean() {\n      return new MethodValidationPostProcessor();\n   }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>in the class that has @Valid annotations on method, you also need to annotate it with @Validated (org.springframework.validation.annotation.Validated) on the class level!</li>\n</ol>\n\n<p>Like this: </p>\n\n<pre><code>@Validated\nclass PostService {\n   public Post save(@Valid Post post) {\n       return postRepository.save(post);\n   }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>You have to have a Bean Validation 1.1 provider (such as Hibernate Validator 5.x) in the classpath. The actual provider will be autodetected by Spring and automatically adapted.</li>\n</ol>\n\n<p>More details in <a href=\"https://docs.spring.io/autorepo/docs/spring-framework/4.2.x/javadoc-api/org/springframework/validation/beanvalidation/MethodValidationPostProcessor.html\" rel=\"noreferrer\">MethodValidationPostProcessor documentation</a></p>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":6980681,"reputation":2784,"user_id":5353734,"display_name":"Nima Ajdari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627494953,"creation_date":1627494953,"answer_id":68565258,"question_id":38081086,"body_markdown":"This is how I did it by loading `ValidationAutoConfiguration.class` into context:\r\n\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = { MyComponent.class, ValidationAutoConfiguration.class\r\n    public class MyComponentValidationTest {\r\n      \r\n      @Autowired\r\n      private MyComponent myComponent;\r\n\r\n      @Test\r\n      void myValidationTest() {\r\n        String input = ...;\r\n        // static import from org.assertj.core.api.Assertions\r\n        assertThatThrownBy(() -&gt; myComponent.myValidatedMethod(input))\r\n          .isInstanceOf(ConstraintViolationException.class)\r\n          .hasMessageContaining(&quot;my error message&quot;);\r\n      }\r\n    \r\n    }\r\n\r\n\r\nAnd MyComponent class:\r\n\r\n    @Component\r\n    @Validated\r\n    public class MyComponent {\r\n    \r\n    \r\n      public void myValidatedMethod(@Size(min = 1, max = 30) String input) {\r\n        // method body\r\n      }\r\n    \r\n    )\r\n\r\n","title":"How to test if @Valid annotation is working?","body":"<p>This is how I did it by loading <code>ValidationAutoConfiguration.class</code> into context:</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = { MyComponent.class, ValidationAutoConfiguration.class\npublic class MyComponentValidationTest {\n  \n  @Autowired\n  private MyComponent myComponent;\n\n  @Test\n  void myValidationTest() {\n    String input = ...;\n    // static import from org.assertj.core.api.Assertions\n    assertThatThrownBy(() -&gt; myComponent.myValidatedMethod(input))\n      .isInstanceOf(ConstraintViolationException.class)\n      .hasMessageContaining(&quot;my error message&quot;);\n  }\n\n}\n</code></pre>\n<p>And MyComponent class:</p>\n<pre><code>@Component\n@Validated\npublic class MyComponent {\n\n\n  public void myValidatedMethod(@Size(min = 1, max = 30) String input) {\n    // method body\n  }\n\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18242520,"reputation":1,"user_id":13279306,"display_name":"Shakti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683591182,"creation_date":1683591182,"answer_id":76205110,"question_id":38081086,"body_markdown":"Add below dependency in your pom and your junit with mockmvc will work. \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1-b08&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to test if @Valid annotation is working?","body":"<p>Add below dependency in your pom and your junit with mockmvc will work.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n  &lt;version&gt;3.0.1-b08&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17426,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48223916,"answer_count":3,"score":9,"last_activity_date":1683591182,"creation_date":1467129746,"question_id":38081086,"body_markdown":"I have the following unit test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = {EqualblogApplication.class})\r\n    @WebAppConfiguration\r\n    @TestPropertySource(&quot;classpath:application-test.properties&quot;)\r\n    public class PostServiceTest {\r\n      // ...\r\n\r\n      @Test(expected = ConstraintViolationException.class)\r\n      public void testInvalidTitle() {\r\n           postService.save(new Post());  // no title\r\n      }\r\n    }\r\n\r\nThe code for `save` in `PostService` is:\r\n\r\n    public Post save(@Valid Post post) {\r\n        return postRepository.save(post);\r\n    }\r\n\r\nThe `Post` class is marked with `@NotNull` in most fields.\r\n\r\nThe problem is: **no validation exception is thrown**.\r\n\r\nHowever, this happens only in testing. **Using the application normally runs the validation and throws the exception.**\r\n\r\nNote: I would like to do it automatically (on save) and not by manually validating and then saving (since it&#39;s more realistic).","title":"How to test if @Valid annotation is working?","body":"<p>I have the following unit test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = {EqualblogApplication.class})\n@WebAppConfiguration\n@TestPropertySource(\"classpath:application-test.properties\")\npublic class PostServiceTest {\n  // ...\n\n  @Test(expected = ConstraintViolationException.class)\n  public void testInvalidTitle() {\n       postService.save(new Post());  // no title\n  }\n}\n</code></pre>\n\n<p>The code for <code>save</code> in <code>PostService</code> is:</p>\n\n<pre><code>public Post save(@Valid Post post) {\n    return postRepository.save(post);\n}\n</code></pre>\n\n<p>The <code>Post</code> class is marked with <code>@NotNull</code> in most fields.</p>\n\n<p>The problem is: <strong>no validation exception is thrown</strong>.</p>\n\n<p>However, this happens only in testing. <strong>Using the application normally runs the validation and throws the exception.</strong></p>\n\n<p>Note: I would like to do it automatically (on save) and not by manually validating and then saving (since it's more realistic).</p>\n"},{"tags":["java","android","kotlin","encryption","aes-gcm"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1617606046,"post_id":66949178,"comment_id":118341644,"body_markdown":"At the moment your question is not answerable without seeing the encryption side, even if it should be in a different language. The reason is easy - the GCM mode provides additional security by adding an HMAC value but it differs from language to language and implementation how this value (&quot;GCM tag&quot;) is transported. Secondly: In your GCMParameterSpec the value is always 16 zero bytes - this would be horrible for the security of the complete encryption. Kindly add the encryption code to your question.","body":"At the moment your question is not answerable without seeing the encryption side, even if it should be in a different language. The reason is easy - the GCM mode provides additional security by adding an HMAC value but it differs from language to language and implementation how this value (&quot;GCM tag&quot;) is transported. Secondly: In your GCMParameterSpec the value is always 16 zero bytes - this would be horrible for the security of the complete encryption. Kindly add the encryption code to your question."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1617607994,"post_id":66949178,"comment_id":118342149,"body_markdown":"Decryption lacks the hex decoding of the ciphertext, apart from that decryption works on my machine (if consistent data is used in encryption and decryption and the non-posted `getPseudoSaltedValue()` is omitted).","body":"Decryption lacks the hex decoding of the ciphertext, apart from that decryption works on my machine (if consistent data is used in encryption and decryption and the non-posted <code>getPseudoSaltedValue()</code> is omitted)."},{"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"score":0,"creation_date":1617609366,"post_id":66949178,"comment_id":118342514,"body_markdown":"@Topaco it means server must send IV to client with encoded data?","body":"@Topaco it means server must send IV to client with encoded data?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1617611550,"post_id":66949178,"comment_id":118343111,"body_markdown":"In the code, both the IV (actually 12 bytes for GCM) for encryption (s. 1st comment) and the salt (referred to here as `secretKey`) for key derivation are static (usually both are randomly generated for each encryption and sent along with the ciphertext, e.g. concatenated). With AES/GCM, it&#39;s for security reasons crucial that a key/IV pair may only be used once. For this to be fulfilled with a static IV, the key (or with likewise static salt, the password, here referred to as `optCode`/`smsCode`) would have to be changed for each encryption.","body":"In the code, both the IV (actually 12 bytes for GCM) for encryption (s. 1st comment) and the salt (referred to here as <code>secretKey</code>) for key derivation are static (usually both are randomly generated for each encryption and sent along with the ciphertext, e.g. concatenated). With AES/GCM, it&#39;s for security reasons crucial that a key/IV pair may only be used once. For this to be fulfilled with a static IV, the key (or with likewise static salt, the password, here referred to as <code>optCode</code>/<code>smsCode</code>) would have to be changed for each encryption."},{"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"score":0,"creation_date":1617684002,"post_id":66949178,"comment_id":118365097,"body_markdown":"@Topaco in both sides (server and client) identical IV is being used (byte array with 16 zeros). But I&#39;m still catching the same error. It means problem&#39;s in generated key?","body":"@Topaco in both sides (server and client) identical IV is being used (byte array with 16 zeros). But I&#39;m still catching the same error. It means problem&#39;s in generated key?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1617690282,"post_id":66949178,"comment_id":118366602,"body_markdown":"The static IV and salt are a potential security issue, but are not the cause of the decryption failure. The actual bug in the Kotlin code is the missing hex decoding of `input` in the decryption (i.e. the inverse of `Hex.encode()` in the Java code). Have you fixed this issue?","body":"The static IV and salt are a potential security issue, but are not the cause of the decryption failure. The actual bug in the Kotlin code is the missing hex decoding of <code>input</code> in the decryption (i.e. the inverse of <code>Hex.encode()</code> in the Java code). Have you fixed this issue?"},{"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"score":0,"creation_date":1617699516,"post_id":66949178,"comment_id":118370157,"body_markdown":"@Topaco yeah I realized that problem may be in hex encoding/decoding, I&#39;m working on it right now","body":"@Topaco yeah I realized that problem may be in hex encoding/decoding, I&#39;m working on it right now"},{"owner":{"account_id":19392417,"reputation":197,"user_id":14180770,"display_name":"Bilal Bangash"},"score":0,"creation_date":1646115027,"post_id":66949178,"comment_id":126038088,"body_markdown":"I am facing the same exception while encryption. Could anyone help. my so question link . https://stackoverflow.com/questions/71304327/javax-crypto-aeadbadtagexception-mac-check-in-gcm-failed-android-aes-gcm-encry","body":"I am facing the same exception while encryption. Could anyone help. my so question link . <a href=\"https://stackoverflow.com/questions/71304327/javax-crypto-aeadbadtagexception-mac-check-in-gcm-failed-android-aes-gcm-encry\" title=\"javax crypto aeadbadtagexception mac check in gcm failed android aes gcm encry\">stackoverflow.com/questions/71304327/&hellip;</a>"}],"owner":{"account_id":13270675,"reputation":53,"user_id":9581836,"display_name":"kairatawer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683590397,"creation_date":1617604956,"question_id":66949178,"body_markdown":"I&#39;m developing Android client. What we have:\r\n 1. Server ecnrypts data by AES algorithm with GCM;\r\n 2. Server sends it to client by REST API;\r\n 3. Client has to decrypt data and display it.\r\n\r\nI stuck on 3 step. My question is how to decrypt arrived data. This is what I tried already:\r\n```\r\nclass PrivateInfoDecrypter {\r\n\r\n    companion object {\r\n        const val SECRET_KEY = &quot;secret_key&quot;\r\n    }\r\n\r\n    private val bytes = ByteArray(16)\r\n    private val gcmParameterSpec: GCMParameterSpec = GCMParameterSpec(128, bytes)\r\n\r\n    fun decrypt(input: String, smsCode: String): String {\r\n        val keySpec = generateKey(smsCode)\r\n\r\n        val cipher: Cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;)\r\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec)\r\n\r\n        val original = cipher.doFinal(input.toByteArray())\r\n\r\n        return String(original)\r\n    }\r\n\r\n    private fun generateKey(smsCode: String): SecretKeySpec {\r\n        val spec: KeySpec = PBEKeySpec(smsCode.toCharArray(), SECRET_KEY.encodeToByteArray(), 65536, 256)\r\n        val f: SecretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;)\r\n        val key: SecretKey = f.generateSecret(spec)\r\n\r\n        return SecretKeySpec(key.encoded, &quot;AES&quot;)\r\n    }\r\n\r\n}\r\n```\r\n\r\nI get this error in logcat:\r\n\r\n    E/Whoops: javax.crypto.AEADBadTagException: mac check in GCM failed\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\r\n        at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$AEADGenericBlockCipher.doFinal(BaseBlockCipher.java:1367)\r\n        at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(BaseBlockCipher.java:1100)\r\n        at javax.crypto.Cipher.doFinal(Cipher.java:2056)\r\n\r\nEncryption side: (server side code)\r\n```\r\n    private static final byte[] bytes = new byte[16];\r\n    static final GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, bytes);\r\n\r\n    String encrypt(String input) throws Exception {\r\n        KeySpec spec = new PBEKeySpec(otpCode.toCharArray(), secretKey.getEncoded(), 65536, 256);\r\n        SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n        byte[] key = f.generateSecret(spec).getEncoded();\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        SecretKeySpec keySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\r\n        var salted = getPseudoSaltedValue(val);\r\n        return new String(Hex.encode(cipher.doFinal(salted.getBytes())));\r\n    }\r\n```","title":"javax.crypto.AEADBadTagException: mac check in GCM failed","body":"<p>I'm developing Android client. What we have:</p>\n<ol>\n<li>Server ecnrypts data by AES algorithm with GCM;</li>\n<li>Server sends it to client by REST API;</li>\n<li>Client has to decrypt data and display it.</li>\n</ol>\n<p>I stuck on 3 step. My question is how to decrypt arrived data. This is what I tried already:</p>\n<pre><code>class PrivateInfoDecrypter {\n\n    companion object {\n        const val SECRET_KEY = &quot;secret_key&quot;\n    }\n\n    private val bytes = ByteArray(16)\n    private val gcmParameterSpec: GCMParameterSpec = GCMParameterSpec(128, bytes)\n\n    fun decrypt(input: String, smsCode: String): String {\n        val keySpec = generateKey(smsCode)\n\n        val cipher: Cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;)\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec)\n\n        val original = cipher.doFinal(input.toByteArray())\n\n        return String(original)\n    }\n\n    private fun generateKey(smsCode: String): SecretKeySpec {\n        val spec: KeySpec = PBEKeySpec(smsCode.toCharArray(), SECRET_KEY.encodeToByteArray(), 65536, 256)\n        val f: SecretKeyFactory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;)\n        val key: SecretKey = f.generateSecret(spec)\n\n        return SecretKeySpec(key.encoded, &quot;AES&quot;)\n    }\n\n}\n</code></pre>\n<p>I get this error in logcat:</p>\n<pre><code>E/Whoops: javax.crypto.AEADBadTagException: mac check in GCM failed\n    at java.lang.reflect.Constructor.newInstance0(Native Method)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n    at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$AEADGenericBlockCipher.doFinal(BaseBlockCipher.java:1367)\n    at com.android.org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(BaseBlockCipher.java:1100)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2056)\n</code></pre>\n<p>Encryption side: (server side code)</p>\n<pre><code>    private static final byte[] bytes = new byte[16];\n    static final GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, bytes);\n\n    String encrypt(String input) throws Exception {\n        KeySpec spec = new PBEKeySpec(otpCode.toCharArray(), secretKey.getEncoded(), 65536, 256);\n        SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n        byte[] key = f.generateSecret(spec).getEncoded();\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        SecretKeySpec keySpec = new SecretKeySpec(key, &quot;AES&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\n        var salted = getPseudoSaltedValue(val);\n        return new String(Hex.encode(cipher.doFinal(salted.getBytes())));\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cache","hibernate-cache"],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680440832,"creation_date":1680440832,"answer_id":75912204,"question_id":75911722,"body_markdown":"You could try to exclude the ehcache in your pom.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Unable to create requested service [org.hibernate.cache.spi.CacheImplementor] Hibernate Cache in Spring Boot","body":"<p>You could try to exclude the ehcache in your pom.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0.Final&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683589733,"creation_date":1683589733,"answer_id":76205045,"question_id":75911722,"body_markdown":"JCache ([JSR-107][1]) is simply an *Service Provider Interface* (SPI) defining an [API][2] for caching providers (such as Ehcache or Hazelcaset, etc) that implement the SPI.\r\n\r\nJCache by itself is not a caching provider and has no real caching functionality. You need to plugin an actual implementation, such as [Caffeine][3], [Ehcache][4], [Hazelcast][5], etc.\r\n\r\nAFAIK, the `hibernate-jCache` is simply and integration and adapter layer between Hibernate to use the JCache API an an implementing caching provider as a 2nd-level cache in Hibernate.\r\n\r\nUsing JCache simply enables you to plugin any compliant caching provider, of your choice, and mileage (aka capabilities) varies by caching provider. Some are simple in-memory stores while others are full-blown In-Memory Data Grids (IMDGs) complete with database-like functionality (e.g. persistence, transactions, functions, etc).\r\n\r\nHope this helps clarify the position if JCache here.\r\n\r\n\r\n  [1]: https://www.jcp.org/en/jsr/detail?id=107\r\n  [2]: https://javadoc.io/doc/javax.cache/cache-api/latest/index.html\r\n  [3]: https://github.com/ben-manes/caffeine/wiki/JCache\r\n  [4]: https://www.ehcache.org/documentation/3.7/107.html\r\n  [5]: https://docs.hazelcast.com/imdg/4.2/jcache/hazelcast-integration","title":"Unable to create requested service [org.hibernate.cache.spi.CacheImplementor] Hibernate Cache in Spring Boot","body":"<p>JCache (<a href=\"https://www.jcp.org/en/jsr/detail?id=107\" rel=\"nofollow noreferrer\">JSR-107</a>) is simply an <em>Service Provider Interface</em> (SPI) defining an <a href=\"https://javadoc.io/doc/javax.cache/cache-api/latest/index.html\" rel=\"nofollow noreferrer\">API</a> for caching providers (such as Ehcache or Hazelcaset, etc) that implement the SPI.</p>\n<p>JCache by itself is not a caching provider and has no real caching functionality. You need to plugin an actual implementation, such as <a href=\"https://github.com/ben-manes/caffeine/wiki/JCache\" rel=\"nofollow noreferrer\">Caffeine</a>, <a href=\"https://www.ehcache.org/documentation/3.7/107.html\" rel=\"nofollow noreferrer\">Ehcache</a>, <a href=\"https://docs.hazelcast.com/imdg/4.2/jcache/hazelcast-integration\" rel=\"nofollow noreferrer\">Hazelcast</a>, etc.</p>\n<p>AFAIK, the <code>hibernate-jCache</code> is simply and integration and adapter layer between Hibernate to use the JCache API an an implementing caching provider as a 2nd-level cache in Hibernate.</p>\n<p>Using JCache simply enables you to plugin any compliant caching provider, of your choice, and mileage (aka capabilities) varies by caching provider. Some are simple in-memory stores while others are full-blown In-Memory Data Grids (IMDGs) complete with database-like functionality (e.g. persistence, transactions, functions, etc).</p>\n<p>Hope this helps clarify the position if JCache here.</p>\n"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683589733,"creation_date":1680434842,"question_id":75911722,"body_markdown":"I am trying to hibernate cache in Spring dao layer. I get an error when I add the **ehcache** dependency.\r\n\r\n**application.properties**\r\n\r\n    spring.jpa.properties.hibernate.cache.use_second_level_cache=true\r\n    spring.jpa.properties.hibernate.cache.use_query_cache=true\r\n    spring.jpa.properties.javax.persistence.sharedCache.mode=ENABLE_SELECTIVE\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nError in Console:\r\n\r\n    org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;delegatingApplicationListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat com.example.application.AuthMain.main(AuthMain.java:20) ~[classes/:?]\r\n    \r\n    2023-04-02 14:17  INFO   38338 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\r\n    2023-04-02 14:17  INFO   38338 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2023-04-02 14:17 ERROR   38338 --- [           main] o.s.b.SpringApplication                  : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setConfigurers&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;openEntityManagerInViewInterceptorConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method &#39;openEntityManagerInViewInterceptorConfigurer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;openEntityManagerInViewInterceptor&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.cache.spi.CacheImplementor]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.23.jar:5.3.23]org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\r\n\r\n\r\nIf I add the **ehcache** dependency below, the error goes away. How can I work with just **jcache** without ehcache?\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.10&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Unable to create requested service [org.hibernate.cache.spi.CacheImplementor] Hibernate Cache in Spring Boot","body":"<p>I am trying to hibernate cache in Spring dao layer. I get an error when I add the <strong>ehcache</strong> dependency.</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.jpa.properties.hibernate.cache.use_second_level_cache=true\nspring.jpa.properties.hibernate.cache.use_query_cache=true\nspring.jpa.properties.javax.persistence.sharedCache.mode=ENABLE_SELECTIVE\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n    &lt;version&gt;2.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jcache&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Error in Console:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'delegatingApplicationListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.23.jar:5.3.23]\n    at com.example.application.AuthMain.main(AuthMain.java:20) ~[classes/:?]\n\n2023-04-02 14:17  INFO   38338 --- [           main] o.a.c.c.StandardService                  : Stopping service [Tomcat]\n2023-04-02 14:17  INFO   38338 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-04-02 14:17 ERROR   38338 --- [           main] o.s.b.SpringApplication                  : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'openEntityManagerInViewInterceptorConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Unsatisfied dependency expressed through method 'openEntityManagerInViewInterceptorConfigurer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'openEntityManagerInViewInterceptor' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/JpaBaseConfiguration$JpaWebConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.cache.spi.CacheImplementor]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-5.3.23.jar:5.3.23]org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.23.jar:5.3.23]\n</code></pre>\n<p>If I add the <strong>ehcache</strong> dependency below, the error goes away. How can I work with just <strong>jcache</strong> without ehcache?</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;3.9.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9776,"page":449,"page_size":100}
