{"items":[{"tags":["java","unit-testing","proxy","mocking","google-drive-api"],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646292430,"creation_date":1646292430,"question_id":71333460,"body_markdown":"I have a class `GoogleApiClientWrapper` which basically handles interactions with Google for authentication and listing files and drives using [Google Drive Java SDK][1] version: **v3-rev110-1.23.0**.\r\n\r\nI am using the following dependencies:\r\n\r\n - `google-api-client:1.28.0`\r\n - `google-http-client:1.28.0`\r\n - `google-http-client-apache-2.0.0.jar`\r\n - `com.github.tomakehurst:wiremock-jre8:2.32.0`\r\n\r\nI am trying to unit test my class. So I thought about using [WireMock Record &amp; Playback][2] feature to record the requests to Google APIs by routing the requests via WireMock to be able to record the responses for a given request.\r\n\r\nSo the idea is to create an instance of [HttpTransport][3] which is configured to proxy all requests to localhost on port 8443 which is the port WireMock is running on and inject this `HttpTransport` to the `GoogleRefreshTokenRequest` constructor or the [Drive.Builder][4]. Then WireMock is configured to proxy requests on localhost to the google api url. So ultimately the requests will be sent to google api the first time then after I am able to record the responses WireMock will be able to respond from the saved mappings.\r\n\r\nHere it the implementation of `GoogleRefreshTokenRequest` in `GoogleApiClientWrapper` is as follows:\r\n\r\n    GoogleTokenResponse getGoogleTokenResponse(HttpTransport httpTransport,\r\n                                               JsonFactory jsonFactory,\r\n                                               String refreshToken,\r\n                                               String clientId,\r\n                                               String clientSecret,\r\n                                               List&lt;String&gt; exportScopes) throws IOException {\r\n\r\n        return new GoogleRefreshTokenRequest(httpTransport, jsonFactory, refreshToken, clientId, clientSecret)\r\n                        .setScopes(exportScopes)\r\n                        .execute();\r\n    }\r\n\r\n\r\nHere is the test class with WireMock code to proxy the request and record the mappings.\r\n\r\n    public class GoogleApiWrapperTest {\r\n\r\n        @ClassRule\r\n        public static WireMockClassRule wireMockRule = new WireMockClassRule(WireMockConfiguration.wireMockConfig().httpsPort(8443));\r\n    \r\n        @Test\r\n        public void testGetGoogleTokenResponse() throws IOException, GeneralSecurityException {\r\n            wireMockRule.startRecording(&quot;https://oauth2.googleapis.com/token&quot;);\r\n\r\n            GoogleApiClientWrapper clientWrapper= new GoogleApiClientWrapper();\r\n        \r\n            HttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8443);\r\n            DefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\r\n            HttpClient client = HttpClients.custom()\r\n                                       .setRoutePlanner(routePlanner)\r\n                                       .build();\r\n        \r\n            HttpTransport httpTransport = new ApacheHttpTransport(client);\r\n\r\n            String clientId = &quot;my-client-id&quot;;\r\n            String clientSecret = &quot;my-client-secret&quot;;\r\n            String tokenString = &quot;sometoken&quot;;\r\n            String refreshToken =  tokenString.split(&quot;\\\\|&quot;)[0];\r\n\r\n            GoogleTokenResponse actual = clientWrapper.getGoogleTokenResponse(httpTransport,JacksonFactory.getDefaultInstance(),refreshToken,clientId,clientSecret,Arrays.asList(DriveScopes.DRIVE_READONLY));\r\n            wireMockRule.stopRecording().getStubMappings();\r\n        }\r\n    }\r\n\r\nThe following code will be removed from the test class once mapping created:\r\n\r\n    wireMockRule.startRecording(&quot;https://oauth2.googleapis.com/token&quot;);\r\n    wireMockRule.stopRecording().getStubMappings();\r\n\r\nWhen I run it I get the following exception:\r\n\r\n&gt; org.apache.http.client.ClientProtocolException\r\n\r\n&gt; Caused by: org.apache.http.ProtocolException: The server failed to respond with a valid HTTP response\r\n\r\n\r\nI also tried to create the HttpTransport as follows based on this [answer][5]\r\n\r\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;127.0.0.0&quot;, 8443));\r\n    HttpTransport httpTransport = new NetHttpTransport.Builder().setProxy(proxy).build();\r\n\r\nHow to solve this issue or is there a missing configuration for the `HttpTransport` or for the WireMockClassRule? Or is there an easier way to be able to store the google api responses via WireMock?\r\n\r\nI already used [Mockito][6] to mock the responses when testing other classes that use the `GoogleApiClientWrapper` class but in this unit test I want to try to test the behaviour.\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/quickstart/java\r\n  [2]: https://wiremock.org/docs/record-playback/\r\n  [3]: https://googleapis.dev/java/google-http-client/latest/com/google/api/client/http/HttpTransport.html\r\n  [4]: https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest/com/google/api/services/drive/Drive.Builder.html\r\n  [5]: https://stackoverflow.com/questions/14262519/using-proxies-with-google-http-client-library-for-java\r\n  [6]: https://site.mockito.org/","title":"How to proxy Google API Client requests via WireMock to be able to Record and Play the API responses for unit testing","body":"<p>I have a class <code>GoogleApiClientWrapper</code> which basically handles interactions with Google for authentication and listing files and drives using <a href=\"https://developers.google.com/drive/api/v3/quickstart/java\" rel=\"nofollow noreferrer\">Google Drive Java SDK</a> version: <strong>v3-rev110-1.23.0</strong>.</p>\n<p>I am using the following dependencies:</p>\n<ul>\n<li><code>google-api-client:1.28.0</code></li>\n<li><code>google-http-client:1.28.0</code></li>\n<li><code>google-http-client-apache-2.0.0.jar</code></li>\n<li><code>com.github.tomakehurst:wiremock-jre8:2.32.0</code></li>\n</ul>\n<p>I am trying to unit test my class. So I thought about using <a href=\"https://wiremock.org/docs/record-playback/\" rel=\"nofollow noreferrer\">WireMock Record &amp; Playback</a> feature to record the requests to Google APIs by routing the requests via WireMock to be able to record the responses for a given request.</p>\n<p>So the idea is to create an instance of <a href=\"https://googleapis.dev/java/google-http-client/latest/com/google/api/client/http/HttpTransport.html\" rel=\"nofollow noreferrer\">HttpTransport</a> which is configured to proxy all requests to localhost on port 8443 which is the port WireMock is running on and inject this <code>HttpTransport</code> to the <code>GoogleRefreshTokenRequest</code> constructor or the <a href=\"https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest/com/google/api/services/drive/Drive.Builder.html\" rel=\"nofollow noreferrer\">Drive.Builder</a>. Then WireMock is configured to proxy requests on localhost to the google api url. So ultimately the requests will be sent to google api the first time then after I am able to record the responses WireMock will be able to respond from the saved mappings.</p>\n<p>Here it the implementation of <code>GoogleRefreshTokenRequest</code> in <code>GoogleApiClientWrapper</code> is as follows:</p>\n<pre><code>GoogleTokenResponse getGoogleTokenResponse(HttpTransport httpTransport,\n                                           JsonFactory jsonFactory,\n                                           String refreshToken,\n                                           String clientId,\n                                           String clientSecret,\n                                           List&lt;String&gt; exportScopes) throws IOException {\n\n    return new GoogleRefreshTokenRequest(httpTransport, jsonFactory, refreshToken, clientId, clientSecret)\n                    .setScopes(exportScopes)\n                    .execute();\n}\n</code></pre>\n<p>Here is the test class with WireMock code to proxy the request and record the mappings.</p>\n<pre><code>public class GoogleApiWrapperTest {\n\n    @ClassRule\n    public static WireMockClassRule wireMockRule = new WireMockClassRule(WireMockConfiguration.wireMockConfig().httpsPort(8443));\n\n    @Test\n    public void testGetGoogleTokenResponse() throws IOException, GeneralSecurityException {\n        wireMockRule.startRecording(&quot;https://oauth2.googleapis.com/token&quot;);\n\n        GoogleApiClientWrapper clientWrapper= new GoogleApiClientWrapper();\n    \n        HttpHost proxy = new HttpHost(&quot;127.0.0.1&quot;, 8443);\n        DefaultProxyRoutePlanner routePlanner = new DefaultProxyRoutePlanner(proxy);\n        HttpClient client = HttpClients.custom()\n                                   .setRoutePlanner(routePlanner)\n                                   .build();\n    \n        HttpTransport httpTransport = new ApacheHttpTransport(client);\n\n        String clientId = &quot;my-client-id&quot;;\n        String clientSecret = &quot;my-client-secret&quot;;\n        String tokenString = &quot;sometoken&quot;;\n        String refreshToken =  tokenString.split(&quot;\\\\|&quot;)[0];\n\n        GoogleTokenResponse actual = clientWrapper.getGoogleTokenResponse(httpTransport,JacksonFactory.getDefaultInstance(),refreshToken,clientId,clientSecret,Arrays.asList(DriveScopes.DRIVE_READONLY));\n        wireMockRule.stopRecording().getStubMappings();\n    }\n}\n</code></pre>\n<p>The following code will be removed from the test class once mapping created:</p>\n<pre><code>wireMockRule.startRecording(&quot;https://oauth2.googleapis.com/token&quot;);\nwireMockRule.stopRecording().getStubMappings();\n</code></pre>\n<p>When I run it I get the following exception:</p>\n<blockquote>\n<p>org.apache.http.client.ClientProtocolException</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.apache.http.ProtocolException: The server failed to respond with a valid HTTP response</p>\n</blockquote>\n<p>I also tried to create the HttpTransport as follows based on this <a href=\"https://stackoverflow.com/questions/14262519/using-proxies-with-google-http-client-library-for-java\">answer</a></p>\n<pre><code>Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;127.0.0.0&quot;, 8443));\nHttpTransport httpTransport = new NetHttpTransport.Builder().setProxy(proxy).build();\n</code></pre>\n<p>How to solve this issue or is there a missing configuration for the <code>HttpTransport</code> or for the WireMockClassRule? Or is there an easier way to be able to store the google api responses via WireMock?</p>\n<p>I already used <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a> to mock the responses when testing other classes that use the <code>GoogleApiClientWrapper</code> class but in this unit test I want to try to test the behaviour.</p>\n"},{"tags":["java","swing","jframe"],"answers":[{"tags":[],"owner":{"account_id":24425299,"reputation":1,"user_id":18350969,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646203050,"creation_date":1646203050,"answer_id":71318374,"question_id":71318277,"body_markdown":"You can declare the &quot;index&quot; variable globally  or use static keyword. The static variable gets memory only once in the class area at the time of class loading.","title":"looping a jframe window","body":"<p>You can declare the &quot;index&quot; variable globally  or use static keyword. The static variable gets memory only once in the class area at the time of class loading.</p>\n"}],"owner":{"account_id":24418343,"reputation":1,"user_id":18344946,"display_name":"incognito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646291806,"creation_date":1646202441,"question_id":71318277,"body_markdown":"I need help with every time a button is pressed and it goes through the validation process, It will increment the `index` by 1 and will show up on the UI. However, I&#39;m having an issue where, when it get incremented, it won&#39;t go up by 1 in the UI and just won&#39;t update basically.\r\n\r\n```\r\nindex = 1;\r\n\r\nJLabel lblNewLabel = new JLabel(&quot;test &quot; + index );\r\ntestTextField = new JTextField();\r\nframe.getContentPane().add(testTextField, BorderLayout.CENTER);\r\ntestTextField.setColumns(10);\r\ntestTextField = new JTextField();\r\n\r\nnextButton.addActionListener(new ActionListener() {\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString txtField = testTextField.getText();\r\n\t\t \r\n\t\tint s = 3; \r\n\t\tint test = s - 1;\r\n\t      \r\n\t\tif (txtInvalid(txtField) == false) {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;input valid text field&quot;);\r\n\t\t} \r\n        else {\r\n\t\t    JOptionPane.showMessageDialog(null, &quot;gratz, onto the next !!&quot;);\r\n\t\t\tindex++;\r\n\t\t}\r\n\t}\r\n});\r\n```","title":"looping a jframe window","body":"<p>I need help with every time a button is pressed and it goes through the validation process, It will increment the <code>index</code> by 1 and will show up on the UI. However, I'm having an issue where, when it get incremented, it won't go up by 1 in the UI and just won't update basically.</p>\n<pre><code>index = 1;\n\nJLabel lblNewLabel = new JLabel(&quot;test &quot; + index );\ntestTextField = new JTextField();\nframe.getContentPane().add(testTextField, BorderLayout.CENTER);\ntestTextField.setColumns(10);\ntestTextField = new JTextField();\n\nnextButton.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        String txtField = testTextField.getText();\n         \n        int s = 3; \n        int test = s - 1;\n          \n        if (txtInvalid(txtField) == false) {\n            JOptionPane.showMessageDialog(null, &quot;input valid text field&quot;);\n        } \n        else {\n            JOptionPane.showMessageDialog(null, &quot;gratz, onto the next !!&quot;);\n            index++;\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","apache-spark","dataset"],"comments":[{"owner":{"account_id":73988,"reputation":1511,"user_id":212833,"accept_rate":75,"display_name":"Zenil"},"score":0,"creation_date":1646388111,"post_id":71283305,"comment_id":126115737,"body_markdown":"Dataset&lt;A+B+C+d1&gt; --&gt; can&#39;t d1 primitive be wrapped in a simple object ? One way  to do this is to wrap any primitives in a simple object, and also make all objects implement the same interface E. So say you wrap d1 in a object DD, then your dataset becomes Dataset&lt;A+B+C+DD&gt; , and then all your objects A,B,C,DD implements a same interface E , now your Dataset&lt;A+B+C+DD&gt; is effectively a List&lt;E&gt; , i.e a collection of E&#39;s ..Now you can do list&lt;E&gt;,forEach() etc..","body":"Dataset&lt;A+B+C+d1&gt; --&gt; can&#39;t d1 primitive be wrapped in a simple object ? One way  to do this is to wrap any primitives in a simple object, and also make all objects implement the same interface E. So say you wrap d1 in a object DD, then your dataset becomes Dataset&lt;A+B+C+DD&gt; , and then all your objects A,B,C,DD implements a same interface E , now your Dataset&lt;A+B+C+DD&gt; is effectively a List&lt;E&gt; , i.e a collection of E&#39;s ..Now you can do list&lt;E&gt;,forEach() etc.."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646291493,"creation_date":1645951118,"question_id":71283305,"body_markdown":"The following question is rather long. It depicts this:\r\n\r\n- I have a row dataset made of primitive types `a1, a2...a10, b1, b2...b8, c1..c4, d1`.\r\n- They are hiding objects `A`, `B`, `C` accompanied sometimes with others primitives attributes not in a class: `d1`, for example.\r\n- I could return instead of a `Dataset&lt;Row&gt;` a `Dataset&lt;E&gt;` where `E` would be a class having for members the `A`, `B`, `C` objects and the attribute `d1`.\r\n- But I want to avoid this, if I can, yet, and see how much I can approach a solution where I would return a dataset of joined objects [and attributes] : `Dataset&lt;A+B+C+d1&gt;`  \r\n(where the `+` sign means that objects are linked together by a join).  \r\nIf it&#39;s possible, is it really manageable?\r\n\r\n----------\r\n\r\nMy code uses mostly `Dataset&lt;Row&gt;`.\r\n\r\nFor example, I have a method that builds a (French) city description:\r\n\r\n```java\r\n/**\r\n* Obtenir un Dataset des communes.\r\n* @param session Session Spark.\r\n* @param anneeCOG Ann&#233;e du Code Officiel G&#233;ographique de r&#233;f&#233;rence.\r\n* @param verifications V&#233;rifications demand&#233;es.\r\n* @return Dataset des communes.\r\n* @throws TechniqueException si un incident survient.\r\n*/\r\npublic Dataset&lt;Row&gt; rowCommunes(SparkSession session, int anneeCOG, Verification... verifications) throws TechniqueException {\r\n  String nomStore = &quot;communes_par_codeCommune&quot;;\r\n  \r\n  Dataset&lt;Row&gt; communes = loadFromStore(session, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG, verifications);\r\n  \r\n  if (communes != null) {\r\n\t return communes;\r\n  }\r\n\r\n  LOGGER.info(&quot;Constitution du dataset des communes depuis pour le Code Officiel G&#233;ographique (COG) de l&#39;ann&#233;e {}...&quot;, anneeCOG);\r\n  \r\n  Dataset&lt;Row&gt; c = loadAndRenameCommmunesCSV(session, anneeCOG, false, verifications);\r\n  Dataset&lt;Row&gt; s = this.datasetSirenCommunaux.rowSirenCommunes(session, anneeCOG, TriSirenCommunaux.CODE_COMMUNE);\r\n\r\n  Column condition1 = c.col(&quot;codeCommune&quot;).equalTo(s.col(&quot;codeCommune&quot;));\r\n  Column condition2 = c.col(&quot;codeCommuneParente&quot;).equalTo(s.col(&quot;codeCommune&quot;));\r\n  \r\n  verifications(&quot;jonction communes et siren par codeCommune&quot;, c, null, s, condition1, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  Dataset&lt;Row&gt; join1 = c.join(s, condition1)\r\n\t .drop(s.col(&quot;codeCommune&quot;))\r\n\t .drop(s.col(&quot;nomCommune&quot;))\r\n\t .drop(s.col(&quot;codeRegion&quot;))\r\n\t .drop(s.col(&quot;codeDepartement&quot;));\r\n\r\n  verifications(&quot;jonction communes et siren par codeCommune, join1&quot;, c, null, null, null, verifications);\r\n  \r\n  verifications(&quot;jonction communes et siren par codeCommuneParente&quot;, c, null, s, condition2, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  Dataset&lt;Row&gt; join2 = c.join(s, condition2)\r\n\t .drop(s.col(&quot;codeCommune&quot;))\r\n\t .drop(s.col(&quot;nomCommune&quot;))\r\n\t .drop(s.col(&quot;codeRegion&quot;))\r\n\t .drop(s.col(&quot;codeDepartement&quot;));\r\n\r\n  verifications(&quot;jonction communes et siren par codeCommuneParente, join2&quot;, c, null, null, null, verifications);\r\n  \r\n  communes = join1.union(join2);\r\n\r\n  // La strate communale doit concorder avec celle des comptes individuels des communes.\r\n  communes = communes.withColumn(&quot;strateCommune&quot;, \r\n\t when(s.col(&quot;populationTotale&quot;).between(0, 249), lit(1))       // communes de moins de 250 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(250, 499), lit(2))     // communes de 250 &#224; 500 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(500, 1999), lit(3))    // communes de 500 &#224; 2 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(2000, 3499), lit(4))   // communes de 2 000 &#224; 3 500 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(3500, 4999), lit(5))   // communes de 3 500 &#224; 5 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(5000, 9999), lit(6))   // communes de 5 000 &#224; 10 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(10000, 19999), lit(7)) // communes de 10 000 &#224; 20 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(20000, 49999), lit(8)) // communes de 20 000 &#224; 50 000 hab\r\n\t .when(s.col(&quot;populationTotale&quot;).between(50000, 99999), lit(9)) // communes de 50 000 &#224; 100 000 hab\r\n\t .otherwise(lit(10)));                                          // communes de plus de 100 000 hab\r\n\r\n  // Obtenir les contours des communes.\r\n  // &quot;(requ&#234;te SQL) contours&quot; est la forme de substitution pour Spark. cf https://stackoverflow.com/questions/38376307/create-spark-dataframe-from-sql-query\r\n  String format = &quot;(select insee as codecommuneosm, nom as nomcommuneosm, surf_ha as surface2, st_x(st_centroid(geom)) as longitude, st_y(st_centroid(geom)) as latitude from communes_{0,number,#0}) contours&quot;;\r\n  String sql = MessageFormat.format(format, anneeCOG);\r\n  \r\n  Dataset&lt;Row&gt; contours = sql(session, sql).load();\r\n  contours = contours.withColumn(&quot;surface&quot;, col(&quot;surface2&quot;).cast(DoubleType)).drop(col(&quot;surface2&quot;))\r\n\t .orderBy(&quot;codecommuneosm&quot;);\r\n  \r\n  Column conditionJoinContours = col(&quot;codeCommune&quot;).equalTo(col(&quot;codecommuneosm&quot;));\r\n  \r\n  verifications(&quot;jonction communes et contours communaux OSM (centro&#239;de, surface)&quot;, communes, null, contours, conditionJoinContours, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  communes = communes.join(contours, conditionJoinContours, &quot;left_outer&quot;)\r\n\t .drop(col(&quot;codecommuneosm&quot;)).drop(col(&quot;nomcommuneosm&quot;));\r\n  verifications(&quot;jonction communes et contours communaux OSM (centro&#239;de, surface)&quot;, communes, null, null, null, verifications);\r\n\r\n  // Associer &#224; chaque commune son code intercommunalit&#233;, si elle en a un (les communes-communaut&#233;s peuvent ne pas en avoir).\r\n  Dataset&lt;Row&gt; perimetres = this.datasetPerimetres.rowPerimetres(session, anneeCOG, EPCIPerimetreDataset.TriPerimetresEPCI.CODE_COMMUNE_MEMBRE).selectExpr(&quot;sirenCommuneMembre&quot;, &quot;sirenGroupement as codeEPCI&quot;, &quot;nomGroupement as nomEPCI&quot;);\r\n  Column conditionJoinPerimetres = communes.col(&quot;sirenCommune&quot;).equalTo(perimetres.col(&quot;sirenCommuneMembre&quot;));\r\n\r\n  verifications(&quot;jonction communes et p&#233;rim&#232;tres&quot;, communes, null, perimetres, conditionJoinPerimetres, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\r\n  communes = communes.join(perimetres, conditionJoinPerimetres, &quot;left&quot;);\r\n\r\n  // Y associer les d&#233;partements.\r\n  communes = this.datasetDepartements.withDepartement(session, &quot;codeDepartementRetabli&quot;, communes, &quot;codeDepartement&quot;, null, true, anneeCOG)\r\n\t .drop(&quot;codeRegionDepartement&quot;)\r\n\t .drop(&quot;codeDepartementRetabli&quot;);\r\n\r\n  communes = communes.repartition(col(&quot;codeDepartement&quot;))\r\n\t .sortWithinPartitions(col(&quot;codeCommune&quot;))\r\n\t .persist(); // Important : am&#233;liore les performances.\r\n\r\n  saveToStore(communes, new String[] {&quot;codeDepartement&quot;}, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG);\r\n  LOGGER.info(&quot;Le dataset des communes du Code Officiel G&#233;ographique de l&#39;ann&#233;e {} est pr&#234;t et stock&#233;.&quot;, anneeCOG);\r\n\r\n  return communes;\r\n}\r\n```\r\n\r\nSometimes, it&#39;s useful if I convert these rows to a `Commune` object, because business objects, at least on server side, can have methods that bring them some kind of intelligence (limited to looking at themselves or to the objects of their package).\r\n\r\nFor example, the `Commune` object has this method to help detecting it has the same name than another one when an article can be found in its name.\r\n\r\n```java\r\n/**\r\n* D&#233;terminer si notre commune a le m&#234;me nom que celle en param&#232;tre.\r\n* @param nomCandidat Nom de commune : il peut contenir une charni&#232;re.\r\n* @return true si c&#39;est le cas.\r\n*/\r\npublic boolean hasMemeNom(String nomCandidat) {\r\n  // Si le nom soumis vaut null, r&#233;pondre non.\r\n  if (nomCandidat == null) {\r\n\t return false;\r\n  }\r\n  \r\n  // Faire une comparaison directe de nom de commune tout d&#39;abord, car l&#39;emploi du collator est tr&#232;s co&#251;teux.\r\n  if (nomCandidat.equalsIgnoreCase(this.nomCommune)) {\r\n\t return true;\r\n  }\r\n  \r\n  // Puis, rechercher avec les diff&#233;rentes charni&#232;res.\r\n  if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN))) {\r\n\t return true;\r\n  }\r\n  \r\n  if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A))) {\r\n\t return true;\r\n  }\r\n  \r\n  if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR))) {\r\n\t return true;\r\n  }\r\n  \r\n  // En cas d&#39;&#233;chec, reprendre ces tests, mais avec le collator, plus lent, mais qui passera outre les caract&#232;res accentu&#233;s.\r\n  if (collator.equals(nomCandidat, this.nomCommune)) {\r\n\t return true;\r\n  }\r\n  \r\n  if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.AUCUN))) {\r\n\t return true;\r\n  }\r\n  \r\n  if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.A))) {\r\n\t return true;\r\n  }\r\n  \r\n  if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.POUR))) {\r\n\t return true;\r\n  }\r\n  \r\n  return false;\r\n}\r\n```\r\n\r\nTo do that conversion from a `Dataset&lt;Row&gt;` to a `Dataset&lt;Commune&gt;`, I wrote this function, which works, but troubles me because it looks clumsy to me:\r\n\r\n```java\r\n/**\r\n* Obtenir un Dataset des communes (comme objets communes, incluant les donn&#233;es siren communaux).\r\n* @param session Session Spark.\r\n* @param anneeCOG Ann&#233;e du Code Officiel G&#233;ographique de r&#233;f&#233;rence.\r\n* @return Dataset des communes.\r\n* @throws TechniqueException si un incident survient.\r\n*/\r\npublic Dataset&lt;Commune&gt; obtenirCommunes(SparkSession session, int anneeCOG) throws TechniqueException {\r\n  Dataset&lt;Row&gt; communes = rowCommunes(session, anneeCOG);\r\n  \r\n  return communes\r\n\t .select(communes.col(&quot;typeCommune&quot;), communes.col(&quot;codeCommune&quot;), communes.col(&quot;codeRegion&quot;), communes.col(&quot;codeDepartement&quot;),\r\n\t\t communes.col(&quot;arrondissement&quot;), communes.col(&quot;typeNomEtCharniere&quot;), communes.col(&quot;nomMajuscules&quot;), communes.col(&quot;nomCommune&quot;), \r\n\t\t communes.col(&quot;codeCanton&quot;), communes.col(&quot;codeCommuneParente&quot;), communes.col(&quot;sirenCommune&quot;), communes.col(&quot;populationTotale&quot;).alias(&quot;population&quot;),\r\n\t\t communes.col(&quot;strateCommune&quot;), communes.col(&quot;codeEPCI&quot;), communes.col(&quot;surface&quot;), communes.col(&quot;longitude&quot;), communes.col(&quot;latitude&quot;),\r\n\t\t communes.col(&quot;nomDepartement&quot;), communes.col(&quot;nomEPCI&quot;))\r\n\t .as(Encoders.bean(Commune.class))\r\n\t .cache();\r\n}\r\n```\r\n\r\nHowever, my main problem is:\r\n\r\nThe `Commune` object (or rows) is almost never used (or returned) alone in most datasets, after that. \r\n\r\nOften a `Commune` will come with some employment data associated, or with financial information linked. Or sometimes, a calculation method can associate only one or two raw (primitive) data values to a city, if they make sense.\r\n\r\nSo, until today, what happened?\r\n\r\n  - I was starting with a `Dataset&lt;Row&gt;` of let&#39;s say 20 columns.  \r\n  - if I was doing some joins, calculations, enrichments, etc.: that dataset reached 40 or 50 columns sometimes,\r\n\r\n     - Let&#39;s say that a record was: `a1, a2...a10, b1, b2...b8, c1..c4, d1` of rows columns having primitive types.\r\n\r\n   - then I was extracting from that record, through the mean of `Encoders.bean(...)` method, the various business objects it was hiding, depending on my needs.\r\n   \r\n      - From a record, I could extract `A` from `a1, a2...a10` or `C` from `c1...c4`.\r\n\r\nIt worked (and it&#39;s working) but I&#39;m not really proud of this manner of doing things.\r\n\r\nI would enjoy more starting with a plain `Dataset&lt;Commune&gt;` dataset, hiding completely the row phase to the users of my API, then being able to return to them, depending of their needs:\r\n\r\n   - a dataset containing `Commune` and `Employment` business object together, or `Commune` and `Accounting`.\r\n\r\n   - a dataset containing `Commune`, but with also few row values of columns `&quot;d1&quot;`, `&quot;h1&quot;` and `&quot;k1&quot;` (if some calculation was needed to provide a specific information for that city, for some exceptional purpose/case that don&#39;t lead to changing the whole business object description, but only at this time to return an extra column value aside that city description).\r\n\r\nIt means that I will encounter cases where I would like to return a dataset showing __per__ &quot;record&quot;:  \r\n`A, B` (concrete objects coming together)  \r\nor  \r\n`A, C`  \r\nor even sometimes `A,B,C`.\r\n\r\nOr what I&#39;m fearing the most:  \r\n`A, C, d1` (two concrete objects, plus... a primitive value).\r\n\r\nCan you give me some ideas about how treating such problems before I start great moves?\r\n\r\n----------\r\n\r\nWarning: this problem isn&#39;t a simple one. It could even not have a clear solution.\r\n\r\n- Starting from row records made of primitive types `a1, a2...a10, b1, b2...b8, c1..c4, d1`, I am able to extract `A`, `B`, `C` objects from them, if I agree to do up to _n_ additional transformations for _n_ different objects types I can find in my attributes.\r\n\r\n- But I wonder about approaching the most I can the situation where, given the `+` sign would mean: _join_, I had a dataset :  \r\n`Dataset&lt;A+B+C&gt;`  \r\nand even: `Dataset&lt;A+B+C+d1&gt;`, where `d1` would still be a primitive type not in an object.\r\n\r\n- If this could be achieved, it could cause troubles.  \r\nWhat is a `Dataset&lt;A+B+C+d1&gt;.foreach`?  \r\nA `A`, `B` or `C` object?\r\n\r\nHow would you manage it after that?\r\n\r\nI&#39;m living in a magma of attributes yet, and I wonder if I can improve my datasets to new ones using objects. Objects that are tied together to describe a single record.\r\n\r\n----------\r\n\r\nThis question could have the solution of creating an `E` object having for members `A`, `B` or `C` objects and the `d1` primitive attribute, and returning a `Dataset&lt;E&gt;`.\r\n\r\nBut this I want to avoid the most I can, at this time. And try to find what I can do else, first.","title":"Mixing objects and rows, carrying muliples objects. How going from row datasets to datasets of objects (a Dataset&lt;A+B+C+d1&gt; where + mean: &quot;join&quot;)?","body":"<p>The following question is rather long. It depicts this:</p>\n<ul>\n<li>I have a row dataset made of primitive types <code>a1, a2...a10, b1, b2...b8, c1..c4, d1</code>.</li>\n<li>They are hiding objects <code>A</code>, <code>B</code>, <code>C</code> accompanied sometimes with others primitives attributes not in a class: <code>d1</code>, for example.</li>\n<li>I could return instead of a <code>Dataset&lt;Row&gt;</code> a <code>Dataset&lt;E&gt;</code> where <code>E</code> would be a class having for members the <code>A</code>, <code>B</code>, <code>C</code> objects and the attribute <code>d1</code>.</li>\n<li>But I want to avoid this, if I can, yet, and see how much I can approach a solution where I would return a dataset of joined objects [and attributes] : <code>Dataset&lt;A+B+C+d1&gt;</code><br />\n(where the <code>+</code> sign means that objects are linked together by a join).<br />\nIf it's possible, is it really manageable?</li>\n</ul>\n<hr />\n<p>My code uses mostly <code>Dataset&lt;Row&gt;</code>.</p>\n<p>For example, I have a method that builds a (French) city description:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n* Obtenir un Dataset des communes.\n* @param session Session Spark.\n* @param anneeCOG Année du Code Officiel Géographique de référence.\n* @param verifications Vérifications demandées.\n* @return Dataset des communes.\n* @throws TechniqueException si un incident survient.\n*/\npublic Dataset&lt;Row&gt; rowCommunes(SparkSession session, int anneeCOG, Verification... verifications) throws TechniqueException {\n  String nomStore = &quot;communes_par_codeCommune&quot;;\n  \n  Dataset&lt;Row&gt; communes = loadFromStore(session, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG, verifications);\n  \n  if (communes != null) {\n     return communes;\n  }\n\n  LOGGER.info(&quot;Constitution du dataset des communes depuis pour le Code Officiel Géographique (COG) de l'année {}...&quot;, anneeCOG);\n  \n  Dataset&lt;Row&gt; c = loadAndRenameCommmunesCSV(session, anneeCOG, false, verifications);\n  Dataset&lt;Row&gt; s = this.datasetSirenCommunaux.rowSirenCommunes(session, anneeCOG, TriSirenCommunaux.CODE_COMMUNE);\n\n  Column condition1 = c.col(&quot;codeCommune&quot;).equalTo(s.col(&quot;codeCommune&quot;));\n  Column condition2 = c.col(&quot;codeCommuneParente&quot;).equalTo(s.col(&quot;codeCommune&quot;));\n  \n  verifications(&quot;jonction communes et siren par codeCommune&quot;, c, null, s, condition1, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  Dataset&lt;Row&gt; join1 = c.join(s, condition1)\n     .drop(s.col(&quot;codeCommune&quot;))\n     .drop(s.col(&quot;nomCommune&quot;))\n     .drop(s.col(&quot;codeRegion&quot;))\n     .drop(s.col(&quot;codeDepartement&quot;));\n\n  verifications(&quot;jonction communes et siren par codeCommune, join1&quot;, c, null, null, null, verifications);\n  \n  verifications(&quot;jonction communes et siren par codeCommuneParente&quot;, c, null, s, condition2, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  Dataset&lt;Row&gt; join2 = c.join(s, condition2)\n     .drop(s.col(&quot;codeCommune&quot;))\n     .drop(s.col(&quot;nomCommune&quot;))\n     .drop(s.col(&quot;codeRegion&quot;))\n     .drop(s.col(&quot;codeDepartement&quot;));\n\n  verifications(&quot;jonction communes et siren par codeCommuneParente, join2&quot;, c, null, null, null, verifications);\n  \n  communes = join1.union(join2);\n\n  // La strate communale doit concorder avec celle des comptes individuels des communes.\n  communes = communes.withColumn(&quot;strateCommune&quot;, \n     when(s.col(&quot;populationTotale&quot;).between(0, 249), lit(1))       // communes de moins de 250 hab\n     .when(s.col(&quot;populationTotale&quot;).between(250, 499), lit(2))     // communes de 250 à 500 hab\n     .when(s.col(&quot;populationTotale&quot;).between(500, 1999), lit(3))    // communes de 500 à 2 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(2000, 3499), lit(4))   // communes de 2 000 à 3 500 hab\n     .when(s.col(&quot;populationTotale&quot;).between(3500, 4999), lit(5))   // communes de 3 500 à 5 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(5000, 9999), lit(6))   // communes de 5 000 à 10 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(10000, 19999), lit(7)) // communes de 10 000 à 20 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(20000, 49999), lit(8)) // communes de 20 000 à 50 000 hab\n     .when(s.col(&quot;populationTotale&quot;).between(50000, 99999), lit(9)) // communes de 50 000 à 100 000 hab\n     .otherwise(lit(10)));                                          // communes de plus de 100 000 hab\n\n  // Obtenir les contours des communes.\n  // &quot;(requête SQL) contours&quot; est la forme de substitution pour Spark. cf https://stackoverflow.com/questions/38376307/create-spark-dataframe-from-sql-query\n  String format = &quot;(select insee as codecommuneosm, nom as nomcommuneosm, surf_ha as surface2, st_x(st_centroid(geom)) as longitude, st_y(st_centroid(geom)) as latitude from communes_{0,number,#0}) contours&quot;;\n  String sql = MessageFormat.format(format, anneeCOG);\n  \n  Dataset&lt;Row&gt; contours = sql(session, sql).load();\n  contours = contours.withColumn(&quot;surface&quot;, col(&quot;surface2&quot;).cast(DoubleType)).drop(col(&quot;surface2&quot;))\n     .orderBy(&quot;codecommuneosm&quot;);\n  \n  Column conditionJoinContours = col(&quot;codeCommune&quot;).equalTo(col(&quot;codecommuneosm&quot;));\n  \n  verifications(&quot;jonction communes et contours communaux OSM (centroïde, surface)&quot;, communes, null, contours, conditionJoinContours, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  communes = communes.join(contours, conditionJoinContours, &quot;left_outer&quot;)\n     .drop(col(&quot;codecommuneosm&quot;)).drop(col(&quot;nomcommuneosm&quot;));\n  verifications(&quot;jonction communes et contours communaux OSM (centroïde, surface)&quot;, communes, null, null, null, verifications);\n\n  // Associer à chaque commune son code intercommunalité, si elle en a un (les communes-communautés peuvent ne pas en avoir).\n  Dataset&lt;Row&gt; perimetres = this.datasetPerimetres.rowPerimetres(session, anneeCOG, EPCIPerimetreDataset.TriPerimetresEPCI.CODE_COMMUNE_MEMBRE).selectExpr(&quot;sirenCommuneMembre&quot;, &quot;sirenGroupement as codeEPCI&quot;, &quot;nomGroupement as nomEPCI&quot;);\n  Column conditionJoinPerimetres = communes.col(&quot;sirenCommune&quot;).equalTo(perimetres.col(&quot;sirenCommuneMembre&quot;));\n\n  verifications(&quot;jonction communes et périmètres&quot;, communes, null, perimetres, conditionJoinPerimetres, verifications, SHOW_REJETS, COMPTAGES_ET_STATISTIQUES);\n  communes = communes.join(perimetres, conditionJoinPerimetres, &quot;left&quot;);\n\n  // Y associer les départements.\n  communes = this.datasetDepartements.withDepartement(session, &quot;codeDepartementRetabli&quot;, communes, &quot;codeDepartement&quot;, null, true, anneeCOG)\n     .drop(&quot;codeRegionDepartement&quot;)\n     .drop(&quot;codeDepartementRetabli&quot;);\n\n  communes = communes.repartition(col(&quot;codeDepartement&quot;))\n     .sortWithinPartitions(col(&quot;codeCommune&quot;))\n     .persist(); // Important : améliore les performances.\n\n  saveToStore(communes, new String[] {&quot;codeDepartement&quot;}, &quot;{0}_{1,number,#0}&quot;, nomStore, anneeCOG);\n  LOGGER.info(&quot;Le dataset des communes du Code Officiel Géographique de l'année {} est prêt et stocké.&quot;, anneeCOG);\n\n  return communes;\n}\n</code></pre>\n<p>Sometimes, it's useful if I convert these rows to a <code>Commune</code> object, because business objects, at least on server side, can have methods that bring them some kind of intelligence (limited to looking at themselves or to the objects of their package).</p>\n<p>For example, the <code>Commune</code> object has this method to help detecting it has the same name than another one when an article can be found in its name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n* Déterminer si notre commune a le même nom que celle en paramètre.\n* @param nomCandidat Nom de commune : il peut contenir une charnière.\n* @return true si c'est le cas.\n*/\npublic boolean hasMemeNom(String nomCandidat) {\n  // Si le nom soumis vaut null, répondre non.\n  if (nomCandidat == null) {\n     return false;\n  }\n  \n  // Faire une comparaison directe de nom de commune tout d'abord, car l'emploi du collator est très coûteux.\n  if (nomCandidat.equalsIgnoreCase(this.nomCommune)) {\n     return true;\n  }\n  \n  // Puis, rechercher avec les différentes charnières.\n  if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.AUCUN))) {\n     return true;\n  }\n  \n  if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.A))) {\n     return true;\n  }\n  \n  if (nomCandidat.equalsIgnoreCase(nomAvecType(false, PrefixageNomCommune.POUR))) {\n     return true;\n  }\n  \n  // En cas d'échec, reprendre ces tests, mais avec le collator, plus lent, mais qui passera outre les caractères accentués.\n  if (collator.equals(nomCandidat, this.nomCommune)) {\n     return true;\n  }\n  \n  if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.AUCUN))) {\n     return true;\n  }\n  \n  if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.A))) {\n     return true;\n  }\n  \n  if (collator.equals(nomCandidat, nomAvecType(false, PrefixageNomCommune.POUR))) {\n     return true;\n  }\n  \n  return false;\n}\n</code></pre>\n<p>To do that conversion from a <code>Dataset&lt;Row&gt;</code> to a <code>Dataset&lt;Commune&gt;</code>, I wrote this function, which works, but troubles me because it looks clumsy to me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n* Obtenir un Dataset des communes (comme objets communes, incluant les données siren communaux).\n* @param session Session Spark.\n* @param anneeCOG Année du Code Officiel Géographique de référence.\n* @return Dataset des communes.\n* @throws TechniqueException si un incident survient.\n*/\npublic Dataset&lt;Commune&gt; obtenirCommunes(SparkSession session, int anneeCOG) throws TechniqueException {\n  Dataset&lt;Row&gt; communes = rowCommunes(session, anneeCOG);\n  \n  return communes\n     .select(communes.col(&quot;typeCommune&quot;), communes.col(&quot;codeCommune&quot;), communes.col(&quot;codeRegion&quot;), communes.col(&quot;codeDepartement&quot;),\n         communes.col(&quot;arrondissement&quot;), communes.col(&quot;typeNomEtCharniere&quot;), communes.col(&quot;nomMajuscules&quot;), communes.col(&quot;nomCommune&quot;), \n         communes.col(&quot;codeCanton&quot;), communes.col(&quot;codeCommuneParente&quot;), communes.col(&quot;sirenCommune&quot;), communes.col(&quot;populationTotale&quot;).alias(&quot;population&quot;),\n         communes.col(&quot;strateCommune&quot;), communes.col(&quot;codeEPCI&quot;), communes.col(&quot;surface&quot;), communes.col(&quot;longitude&quot;), communes.col(&quot;latitude&quot;),\n         communes.col(&quot;nomDepartement&quot;), communes.col(&quot;nomEPCI&quot;))\n     .as(Encoders.bean(Commune.class))\n     .cache();\n}\n</code></pre>\n<p>However, my main problem is:</p>\n<p>The <code>Commune</code> object (or rows) is almost never used (or returned) alone in most datasets, after that.</p>\n<p>Often a <code>Commune</code> will come with some employment data associated, or with financial information linked. Or sometimes, a calculation method can associate only one or two raw (primitive) data values to a city, if they make sense.</p>\n<p>So, until today, what happened?</p>\n<ul>\n<li><p>I was starting with a <code>Dataset&lt;Row&gt;</code> of let's say 20 columns.</p>\n</li>\n<li><p>if I was doing some joins, calculations, enrichments, etc.: that dataset reached 40 or 50 columns sometimes,</p>\n<ul>\n<li>Let's say that a record was: <code>a1, a2...a10, b1, b2...b8, c1..c4, d1</code> of rows columns having primitive types.</li>\n</ul>\n</li>\n<li><p>then I was extracting from that record, through the mean of <code>Encoders.bean(...)</code> method, the various business objects it was hiding, depending on my needs.</p>\n<ul>\n<li>From a record, I could extract <code>A</code> from <code>a1, a2...a10</code> or <code>C</code> from <code>c1...c4</code>.</li>\n</ul>\n</li>\n</ul>\n<p>It worked (and it's working) but I'm not really proud of this manner of doing things.</p>\n<p>I would enjoy more starting with a plain <code>Dataset&lt;Commune&gt;</code> dataset, hiding completely the row phase to the users of my API, then being able to return to them, depending of their needs:</p>\n<ul>\n<li><p>a dataset containing <code>Commune</code> and <code>Employment</code> business object together, or <code>Commune</code> and <code>Accounting</code>.</p>\n</li>\n<li><p>a dataset containing <code>Commune</code>, but with also few row values of columns <code>&quot;d1&quot;</code>, <code>&quot;h1&quot;</code> and <code>&quot;k1&quot;</code> (if some calculation was needed to provide a specific information for that city, for some exceptional purpose/case that don't lead to changing the whole business object description, but only at this time to return an extra column value aside that city description).</p>\n</li>\n</ul>\n<p>It means that I will encounter cases where I would like to return a dataset showing <strong>per</strong> &quot;record&quot;:<br />\n<code>A, B</code> (concrete objects coming together)<br />\nor<br />\n<code>A, C</code><br />\nor even sometimes <code>A,B,C</code>.</p>\n<p>Or what I'm fearing the most:<br />\n<code>A, C, d1</code> (two concrete objects, plus... a primitive value).</p>\n<p>Can you give me some ideas about how treating such problems before I start great moves?</p>\n<hr />\n<p>Warning: this problem isn't a simple one. It could even not have a clear solution.</p>\n<ul>\n<li><p>Starting from row records made of primitive types <code>a1, a2...a10, b1, b2...b8, c1..c4, d1</code>, I am able to extract <code>A</code>, <code>B</code>, <code>C</code> objects from them, if I agree to do up to <em>n</em> additional transformations for <em>n</em> different objects types I can find in my attributes.</p>\n</li>\n<li><p>But I wonder about approaching the most I can the situation where, given the <code>+</code> sign would mean: <em>join</em>, I had a dataset :<br />\n<code>Dataset&lt;A+B+C&gt;</code><br />\nand even: <code>Dataset&lt;A+B+C+d1&gt;</code>, where <code>d1</code> would still be a primitive type not in an object.</p>\n</li>\n<li><p>If this could be achieved, it could cause troubles.<br />\nWhat is a <code>Dataset&lt;A+B+C+d1&gt;.foreach</code>?<br />\nA <code>A</code>, <code>B</code> or <code>C</code> object?</p>\n</li>\n</ul>\n<p>How would you manage it after that?</p>\n<p>I'm living in a magma of attributes yet, and I wonder if I can improve my datasets to new ones using objects. Objects that are tied together to describe a single record.</p>\n<hr />\n<p>This question could have the solution of creating an <code>E</code> object having for members <code>A</code>, <code>B</code> or <code>C</code> objects and the <code>d1</code> primitive attribute, and returning a <code>Dataset&lt;E&gt;</code>.</p>\n<p>But this I want to avoid the most I can, at this time. And try to find what I can do else, first.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1646260022,"post_id":71329830,"comment_id":126082292,"body_markdown":"Better to simply use `ThreadLocalRandom.current()` when you want a `Random` instance, than to store the result (as it would allow other threads to then call the result). That aside, I&#39;m surprised if the above code had the effect you describe, as `Random`&#39;s default constructor takes into account `System.currentTimeMillis()`. In running your code myself, I get new results each time. Did you modify something else that would change the construction of the random values?","body":"Better to simply use <code>ThreadLocalRandom.current()</code> when you want a <code>Random</code> instance, than to store the result (as it would allow other threads to then call the result). That aside, I&#39;m surprised if the above code had the effect you describe, as <code>Random</code>&#39;s default constructor takes into account <code>System.currentTimeMillis()</code>. In running your code myself, I get new results each time. Did you modify something else that would change the construction of the random values?"},{"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"score":0,"creation_date":1646265614,"post_id":71329830,"comment_id":126083508,"body_markdown":"This might be a &quot;you don&#39;t know what you don&#39;t know&quot; situation; I&#39;m not sure if Spring applies some of it&#39;s own &quot;magic&quot; that would affect the seed value, because I only see this weird behavior in Spring and nowhere else.","body":"This might be a &quot;you don&#39;t know what you don&#39;t know&quot; situation; I&#39;m not sure if Spring applies some of it&#39;s own &quot;magic&quot; that would affect the seed value, because I only see this weird behavior in Spring and nowhere else."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646270539,"post_id":71329830,"comment_id":126084414,"body_markdown":"Because you are always instantiating this object in the same thread? There is no reason to have this as an instance member at all. Just remove it and use `ThreadLocalRandom.current()` when you need it.","body":"Because you are always instantiating this object in the same thread? There is no reason to have this as an instance member at all. Just remove it and use <code>ThreadLocalRandom.current()</code> when you need it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646290083,"post_id":71329830,"comment_id":126087677,"body_markdown":"Storing `ThreadLocalRandom.current()` in the constructor in an instance variable is basically defeating the whole purpose of `ThreadLocalRandom.current()` in the first place (as it will actually leak 1 `ThreadLocalRandom` across threads with this, instead of having a fresh one per thread). I doubt it is only in Spring but if you write a program with multiple threads in which thread 1 initializes the stuff and others try create random values you will get the same result. The documentation of said class even mentions that you should use `ThreadLocalRandom.current().nextInt()`.","body":"Storing <code>ThreadLocalRandom.current()</code> in the constructor in an instance variable is basically defeating the whole purpose of <code>ThreadLocalRandom.current()</code> in the first place (as it will actually leak 1 <code>ThreadLocalRandom</code> across threads with this, instead of having a fresh one per thread). I doubt it is only in Spring but if you write a program with multiple threads in which thread 1 initializes the stuff and others try create random values you will get the same result. The documentation of said class even mentions that you should use <code>ThreadLocalRandom.current().nextInt()</code>."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646291333,"creation_date":1646291333,"answer_id":71333285,"question_id":71329830,"body_markdown":"Storing the result of `ThreadLocalRandom.current()` in the constructor in an instance variable of a class is a bad idea. In fact beats the purpose of `ThreadLocalRandom` completely and you are then better of with an regular `Random` or `SecureRandom`. \r\n\r\nThat being said. This has nothing to do with Spring but the fact that you are storing the `ThreadLocalRandom.current()` result in an instance variable. The following program will yield the same result and it doesn&#39;t use Spring. \r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n\tvar rnd = ThreadLocalRandom.current();\r\n\r\n\tSystem.out.println(&quot;Starting with RND &quot; + rnd.getClass().getName() + &quot; - &quot; + rnd.hashCode());\r\n\r\n\tvar executor = Executors.newSingleThreadExecutor();\r\n\tfor (int i = 0; i &lt; 50; i++) {\r\n\t\texecutor.submit(() -&gt; System.out.println(&quot;Value: &quot; + rnd.nextInt(1000, 10000)));\r\n\t}\r\n\r\n\tSystem.out.println(&quot;Waiting to finish!&quot;);\r\n\r\n\texecutor.shutdown();\r\n\twhile (!executor.awaitTermination(50, TimeUnit.MILLISECONDS)) {\r\n\r\n\t}\r\n}\r\n```\r\n\r\nWhat happens is that the `Random` is initialized on the `main` thread and the seed etc. used by the random is stored in-memory for the `main` thread. Now you launch a new thread, it tries to find the seed for that thread and there is none, so it will seed always with 0, because no seed bound to that thread.\r\n\r\nThis is all due to storing the `ThreadLocalRandom` from main in a instance variable. The `ThreadLocalRandom` (as the name implies) uses thread bound seeds etc. to generate a random number. Which is why you should always use `ThreadLocalRandom.current()` and not store the result of that in a variable. ","title":"Why do I always get the same result when using a ThreadLocalRandom class member?","body":"<p>Storing the result of <code>ThreadLocalRandom.current()</code> in the constructor in an instance variable of a class is a bad idea. In fact beats the purpose of <code>ThreadLocalRandom</code> completely and you are then better of with an regular <code>Random</code> or <code>SecureRandom</code>.</p>\n<p>That being said. This has nothing to do with Spring but the fact that you are storing the <code>ThreadLocalRandom.current()</code> result in an instance variable. The following program will yield the same result and it doesn't use Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    var rnd = ThreadLocalRandom.current();\n\n    System.out.println(&quot;Starting with RND &quot; + rnd.getClass().getName() + &quot; - &quot; + rnd.hashCode());\n\n    var executor = Executors.newSingleThreadExecutor();\n    for (int i = 0; i &lt; 50; i++) {\n        executor.submit(() -&gt; System.out.println(&quot;Value: &quot; + rnd.nextInt(1000, 10000)));\n    }\n\n    System.out.println(&quot;Waiting to finish!&quot;);\n\n    executor.shutdown();\n    while (!executor.awaitTermination(50, TimeUnit.MILLISECONDS)) {\n\n    }\n}\n</code></pre>\n<p>What happens is that the <code>Random</code> is initialized on the <code>main</code> thread and the seed etc. used by the random is stored in-memory for the <code>main</code> thread. Now you launch a new thread, it tries to find the seed for that thread and there is none, so it will seed always with 0, because no seed bound to that thread.</p>\n<p>This is all due to storing the <code>ThreadLocalRandom</code> from main in a instance variable. The <code>ThreadLocalRandom</code> (as the name implies) uses thread bound seeds etc. to generate a random number. Which is why you should always use <code>ThreadLocalRandom.current()</code> and not store the result of that in a variable.</p>\n"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71333285,"answer_count":1,"score":2,"last_activity_date":1646291333,"creation_date":1646259420,"question_id":71329830,"body_markdown":"In my Spring app, if I have a `ThreadLocalRandom` class member that is set during construction:\r\n```\r\npublic class RNG {\r\n  private ThreadLocalRandom rng;\r\n  \r\n  public RNG() {\r\n    rng = ThreadLocalRandom.current();\r\n  }\r\n  \r\n  public int getInt() {\r\n    return rng.nextInt(1000, 10000);\r\n  }\r\n}\r\n\r\n// some other class\r\nRNG a = new RNG();\r\na.getInt();\r\n```\r\nThe first int that&#39;s returned is always the same, even across restarts of the app. If I instead modify the `getInt()` method:\r\n```\r\npublic int getInt() {\r\n  return ThreadLocalRandom.current().nextInt(1000, 10000);\r\n}\r\n```\r\nI&#39;ll get psuedo-random values every time, even across restarts of the app (which is what I expect). This seems to only happen in Spring; I&#39;ve tried the same in `jshell` and [Replit](https://replit.com/languages/java10) and don&#39;t see this behavior. For context, the Spring bean that generates the random number is autowired.\r\n\r\nTo be completely honest, I&#39;ve removed random number generation from that part of the code altogether, and use an injected dependency instead, so I can unit test it.\r\n\r\nThis question is for me to get a better understanding of what is happening. As far as I&#39;m aware, setting the class member during construction should provide a different value across restarts of the app.","title":"Why do I always get the same result when using a ThreadLocalRandom class member?","body":"<p>In my Spring app, if I have a <code>ThreadLocalRandom</code> class member that is set during construction:</p>\n<pre><code>public class RNG {\n  private ThreadLocalRandom rng;\n  \n  public RNG() {\n    rng = ThreadLocalRandom.current();\n  }\n  \n  public int getInt() {\n    return rng.nextInt(1000, 10000);\n  }\n}\n\n// some other class\nRNG a = new RNG();\na.getInt();\n</code></pre>\n<p>The first int that's returned is always the same, even across restarts of the app. If I instead modify the <code>getInt()</code> method:</p>\n<pre><code>public int getInt() {\n  return ThreadLocalRandom.current().nextInt(1000, 10000);\n}\n</code></pre>\n<p>I'll get psuedo-random values every time, even across restarts of the app (which is what I expect). This seems to only happen in Spring; I've tried the same in <code>jshell</code> and <a href=\"https://replit.com/languages/java10\" rel=\"nofollow noreferrer\">Replit</a> and don't see this behavior. For context, the Spring bean that generates the random number is autowired.</p>\n<p>To be completely honest, I've removed random number generation from that part of the code altogether, and use an injected dependency instead, so I can unit test it.</p>\n<p>This question is for me to get a better understanding of what is happening. As far as I'm aware, setting the class member during construction should provide a different value across restarts of the app.</p>\n"},{"tags":["java","c#","encryption","cryptography","rsa"],"comments":[{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1646171841,"post_id":71314959,"comment_id":126056822,"body_markdown":"&#39;the downstream system can&#39;t decrypt the data, so I&#39;ve done something wrong&#39; - we need more info. It fails? How are you trying to decrypt? What is teh error?","body":"&#39;the downstream system can&#39;t decrypt the data, so I&#39;ve done something wrong&#39; - we need more info. It fails? How are you trying to decrypt? What is teh error?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1646171874,"post_id":71314959,"comment_id":126056831,"body_markdown":"@ErmiyaEskandary what info do you need?","body":"@ErmiyaEskandary what info do you need?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1646175186,"post_id":71314959,"comment_id":126057663,"body_markdown":"*...I tried &quot;RSA/ECB/PKCS1Padding&quot; but get a &quot;not found&quot; exception...* I find that hard to believe, that transformation has been available for every version of Java I&#39;m aware of for the last 20 years.","body":"<i>...I tried &quot;RSA/ECB/PKCS1Padding&quot; but get a &quot;not found&quot; exception...</i> I find that hard to believe, that transformation has been available for every version of Java I&#39;m aware of for the last 20 years."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1646178141,"post_id":71314959,"comment_id":126058230,"body_markdown":"@PresidentJamesK.Polk I tried on two different PCs, both using Java 17. Not really sure what to say!","body":"@PresidentJamesK.Polk I tried on two different PCs, both using Java 17. Not really sure what to say!"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1646178277,"post_id":71314959,"comment_id":126058260,"body_markdown":"The algorithm string for `Cipher.getInstance()` is not the same as the algorithm string for `KeyFactory.getInstance()`. This is why it&#39;s critical to include the actual exception stacktrace copied and pasted into the question.","body":"The algorithm string for <code>Cipher.getInstance()</code> is not the same as the algorithm string for <code>KeyFactory.getInstance()</code>. This is why it&#39;s critical to include the actual exception stacktrace copied and pasted into the question."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1646178445,"post_id":71314959,"comment_id":126058286,"body_markdown":"@PresidentJamesK.Polk thanks, I&#39;ve updated the question.","body":"@PresidentJamesK.Polk thanks, I&#39;ve updated the question."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1646212315,"post_id":71314959,"comment_id":126065028,"body_markdown":"The error message is caused by `KeyFactory.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)`, see the Edit Section of my answer for more details.","body":"The error message is caused by <code>KeyFactory.getInstance(&quot;RSA&#47;ECB&#47;PKCS1Padding&quot;)</code>, see the Edit Section of my answer for more details."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646213110,"creation_date":1646174326,"answer_id":71315414,"question_id":71314959,"body_markdown":"Since in `RSACryptoServiceProvider#Encrypt()` a `true` is passed in the 2nd parameter, OAEP is used as padding and SHA-1 for the OAEP and the MGF1 digest, i.e. the decryption is to be performed in Java e.g. with:\r\n\r\n```java\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.spec.MGF1ParameterSpec;\r\nimport java.util.Base64;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.OAEPParameterSpec;\r\nimport javax.crypto.spec.PSource;\r\n...\r\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\nOAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-1&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\r\ncipher.init(Cipher.ENCRYPT_MODE, key, oaepParameterSpec);\r\nbyte[] ciphertext = cipher.doFinal(&quot;test&quot;.getBytes(StandardCharsets.UTF_8));\r\nSystem.out.println(Base64.getEncoder().encodeToString(ciphertext));\r\n```\r\n\r\nNote that `X509EncodedKeySpec()` expects a DER encoded X.509/SPKI key, i.e. `PEM_KEY` must not contain the PEM encoded key, but only the Base64 encoded body (i.e. without header, without footer and without line breaks).\r\n\r\nNote also that OAEP is a probabilistic padding, i.e. the ciphertext is different for each encryption even for the same input data. For this reason, the ciphertexts of both codes will not match, even with identical input data, which is not a malfunction.\r\n\r\n---------\r\n\r\nA test is possible with the following C# code:\r\n\r\n```cs\r\nusing System;\r\nusing System.Security.Cryptography;\r\nusing System.Text;\r\n...\r\nstring xmlKeyPriv = &quot;&lt;private key in XML format&gt;&quot;;\r\nRSACryptoServiceProvider cipherDec = new RSACryptoServiceProvider();\r\ncipherDec.FromXmlString(xmlKeyPriv);\r\n\r\nbyte[] ciphertext = Convert.FromBase64String(&quot;&lt;Base64 encoded ciphertext&gt;&quot;);\r\nbyte[] decrypted = cipherDec.Decrypt(ciphertext, true);\r\nConsole.WriteLine(Encoding.UTF8.GetString(decrypted));\r\n```\r\n\r\nThis code decrypts the ciphertext of the C# code as well as the ciphertext of the Java code.\r\n\r\n-----------\r\n\r\nEDIT:&lt;br&gt;\r\nRegarding the key import in the Java code mentioned in your comment: As explained above, `PEM_KEY` contains only the Base64 encoded body of the PEM key without line breaks. Apart from that, the key import matches your code:\r\n\r\n```java\r\nimport java.security.KeyFactory;\r\nimport java.security.PublicKey;\r\n...\r\nprivate static String PEM_KEY = &quot;MIIBIjANB...IDAQAB&quot;\r\n...\r\nPublicKey key = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(getX509Key());\r\n```\r\n\r\nRegarding the exception *NoSuchAlgorithmException: RSA/ECB/PKCS1Padding KeyFactory not available*: This is thrown if the padding is specified in addition to the algorithm when the `KeyFactory` object is created, e.g. if `RSA/ECB/PKCS1Padding` is passed instead of `RSA` in `getInstance()`. In contrast, padding should be specified when instantiating the `Cipher` object, e.g. `RSA/ECB/PKCS1Padding` should be passed instead of `RSA`. If only the algorithm is specified here, a provider-dependent default value would be used for the padding, which should be avoided. Note that `PKCS1Padding` denotes PKCS#1 v1.5 padding and does not correspond to OAEP used in the C# code.","title":"Struggling to use C# RSA in Java","body":"<p>Since in <code>RSACryptoServiceProvider#Encrypt()</code> a <code>true</code> is passed in the 2nd parameter, OAEP is used as padding and SHA-1 for the OAEP and the MGF1 digest, i.e. the decryption is to be performed in Java e.g. with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.charset.StandardCharsets;\nimport java.security.spec.MGF1ParameterSpec;\nimport java.util.Base64;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.OAEPParameterSpec;\nimport javax.crypto.spec.PSource;\n...\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\nOAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-1&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA1, PSource.PSpecified.DEFAULT);\ncipher.init(Cipher.ENCRYPT_MODE, key, oaepParameterSpec);\nbyte[] ciphertext = cipher.doFinal(&quot;test&quot;.getBytes(StandardCharsets.UTF_8));\nSystem.out.println(Base64.getEncoder().encodeToString(ciphertext));\n</code></pre>\n<p>Note that <code>X509EncodedKeySpec()</code> expects a DER encoded X.509/SPKI key, i.e. <code>PEM_KEY</code> must not contain the PEM encoded key, but only the Base64 encoded body (i.e. without header, without footer and without line breaks).</p>\n<p>Note also that OAEP is a probabilistic padding, i.e. the ciphertext is different for each encryption even for the same input data. For this reason, the ciphertexts of both codes will not match, even with identical input data, which is not a malfunction.</p>\n<hr />\n<p>A test is possible with the following C# code:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Security.Cryptography;\nusing System.Text;\n...\nstring xmlKeyPriv = &quot;&lt;private key in XML format&gt;&quot;;\nRSACryptoServiceProvider cipherDec = new RSACryptoServiceProvider();\ncipherDec.FromXmlString(xmlKeyPriv);\n\nbyte[] ciphertext = Convert.FromBase64String(&quot;&lt;Base64 encoded ciphertext&gt;&quot;);\nbyte[] decrypted = cipherDec.Decrypt(ciphertext, true);\nConsole.WriteLine(Encoding.UTF8.GetString(decrypted));\n</code></pre>\n<p>This code decrypts the ciphertext of the C# code as well as the ciphertext of the Java code.</p>\n<hr />\n<p>EDIT:<br>\nRegarding the key import in the Java code mentioned in your comment: As explained above, <code>PEM_KEY</code> contains only the Base64 encoded body of the PEM key without line breaks. Apart from that, the key import matches your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.KeyFactory;\nimport java.security.PublicKey;\n...\nprivate static String PEM_KEY = &quot;MIIBIjANB...IDAQAB&quot;\n...\nPublicKey key = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(getX509Key());\n</code></pre>\n<p>Regarding the exception <em>NoSuchAlgorithmException: RSA/ECB/PKCS1Padding KeyFactory not available</em>: This is thrown if the padding is specified in addition to the algorithm when the <code>KeyFactory</code> object is created, e.g. if <code>RSA/ECB/PKCS1Padding</code> is passed instead of <code>RSA</code> in <code>getInstance()</code>. In contrast, padding should be specified when instantiating the <code>Cipher</code> object, e.g. <code>RSA/ECB/PKCS1Padding</code> should be passed instead of <code>RSA</code>. If only the algorithm is specified here, a provider-dependent default value would be used for the padding, which should be avoided. Note that <code>PKCS1Padding</code> denotes PKCS#1 v1.5 padding and does not correspond to OAEP used in the C# code.</p>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71315414,"answer_count":1,"score":1,"last_activity_date":1646289741,"creation_date":1646171021,"question_id":71314959,"body_markdown":"I&#39;m trying to replicate an existing C# application, part of which encrypts some data using a key.\r\n\r\nSimple example:\r\n```cs\r\nusing System;\r\nusing System.Security.Cryptography;\r\nusing System.Text;\r\n\r\npublic class Program {\r\n  private static string xmlKey = &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;{REDACTED MODULUS}&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;&quot;;\r\n\r\n  public static void Main() {\r\n    RSACryptoServiceProvider cipher = new RSACryptoServiceProvider();\r\n    cipher.FromXmlString(xmlKey);\r\n\r\n    Console.WriteLine(&quot;KeyExchangeAlgorithm: &quot; + cipher.KeyExchangeAlgorithm);\r\n\r\n    byte[] input = Encoding.UTF8.GetBytes(&quot;test&quot;);\r\n    byte[] output = cipher.Encrypt(input, true);\r\n    Console.WriteLine(&quot;Output: &quot; + Convert.ToBase64String(output));\r\n  }\r\n}\r\n```\r\n\r\nWhich outputs:\r\n```none\r\nKeyExchangeAlgorithm: RSA-PKCS1-KeyEx\r\nOutput: {THE ENCRYPTED OUTPUT}\r\n```\r\n\r\nI&#39;ve replicated this in Java with the following, but while it runs ok, the downstream system can&#39;t decrypt the data, so I&#39;ve done something wrong\r\n\r\n```java\r\nimport java.math.BigInteger;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.KeyFactory;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.KeySpec;\r\nimport java.security.spec.RSAPublicKeySpec;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.Base64;\r\nimport javax.crypto.Cipher;\r\n\r\npublic class Program {\r\n    // I tried &quot;RSA/ECB/PKCS1Padding&quot; but got &quot;java.security.NoSuchAlgorithmException: RSA/ECB/PKCS1Padding KeyFactory not available at java.base/java.security.KeyFactory.&lt;init&gt;(KeyFactory.java:138)&quot;\r\n    private static final String ALGORITHM = &quot;RSA&quot;;\r\n\r\n    private static final String MODULUS = &quot;{REDACTED MODULUS}&quot;;\r\n    private static final String EXPONENT = &quot;AQAB&quot;;\r\n\r\n    // Converted from XML using\r\n    // https://superdry.apphb.com/tools/online-rsa-key-converter\r\n    private static final String PEM_KEY = &quot;{REDACTED PEM KEY}&quot;;\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        final Cipher cipher = Cipher.getInstance(ALGORITHM);\r\n        final PublicKey key = KeyFactory.getInstance(ALGORITHM).generatePublic(getX509Key());\r\n        cipher.init(Cipher.ENCRYPT_MODE, key);\r\n\r\n        System.out.println(&quot;Algorithm: &quot; + cipher.getAlgorithm());\r\n\r\n        final byte[] input = &quot;test&quot;.getBytes(StandardCharsets.UTF_8);\r\n        final byte[] output = cipher.doFinal(input);\r\n        System.out.println(&quot;Output: &quot; + Base64.getEncoder().encodeToString(output));\r\n    }\r\n\r\n    private static KeySpec getRSAKey() throws Exception {\r\n        return new RSAPublicKeySpec(base64ToInt(MODULUS), base64ToInt(EXPONENT));\r\n    }\r\n\r\n    private static BigInteger base64ToInt(final String str) {\r\n        return new BigInteger(1, Base64.getDecoder().decode(str.getBytes()));\r\n    }\r\n\r\n    private static KeySpec getX509Key() throws Exception {\r\n        return new X509EncodedKeySpec(Base64.getDecoder().decode(PEM_KEY));\r\n    }\r\n}\r\n```\r\n\r\nCan anyone advise what I&#39;ve done wrong, please?","title":"Struggling to use C# RSA in Java","body":"<p>I'm trying to replicate an existing C# application, part of which encrypts some data using a key.</p>\n<p>Simple example:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Security.Cryptography;\nusing System.Text;\n\npublic class Program {\n  private static string xmlKey = &quot;&lt;RSAKeyValue&gt;&lt;Modulus&gt;{REDACTED MODULUS}&lt;/Modulus&gt;&lt;Exponent&gt;AQAB&lt;/Exponent&gt;&lt;/RSAKeyValue&gt;&quot;;\n\n  public static void Main() {\n    RSACryptoServiceProvider cipher = new RSACryptoServiceProvider();\n    cipher.FromXmlString(xmlKey);\n\n    Console.WriteLine(&quot;KeyExchangeAlgorithm: &quot; + cipher.KeyExchangeAlgorithm);\n\n    byte[] input = Encoding.UTF8.GetBytes(&quot;test&quot;);\n    byte[] output = cipher.Encrypt(input, true);\n    Console.WriteLine(&quot;Output: &quot; + Convert.ToBase64String(output));\n  }\n}\n</code></pre>\n<p>Which outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>KeyExchangeAlgorithm: RSA-PKCS1-KeyEx\nOutput: {THE ENCRYPTED OUTPUT}\n</code></pre>\n<p>I've replicated this in Java with the following, but while it runs ok, the downstream system can't decrypt the data, so I've done something wrong</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\nimport java.nio.charset.StandardCharsets;\nimport java.security.KeyFactory;\nimport java.security.PublicKey;\nimport java.security.spec.KeySpec;\nimport java.security.spec.RSAPublicKeySpec;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.Base64;\nimport javax.crypto.Cipher;\n\npublic class Program {\n    // I tried &quot;RSA/ECB/PKCS1Padding&quot; but got &quot;java.security.NoSuchAlgorithmException: RSA/ECB/PKCS1Padding KeyFactory not available at java.base/java.security.KeyFactory.&lt;init&gt;(KeyFactory.java:138)&quot;\n    private static final String ALGORITHM = &quot;RSA&quot;;\n\n    private static final String MODULUS = &quot;{REDACTED MODULUS}&quot;;\n    private static final String EXPONENT = &quot;AQAB&quot;;\n\n    // Converted from XML using\n    // https://superdry.apphb.com/tools/online-rsa-key-converter\n    private static final String PEM_KEY = &quot;{REDACTED PEM KEY}&quot;;\n\n    public static void main(final String[] args) throws Exception {\n        final Cipher cipher = Cipher.getInstance(ALGORITHM);\n        final PublicKey key = KeyFactory.getInstance(ALGORITHM).generatePublic(getX509Key());\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n\n        System.out.println(&quot;Algorithm: &quot; + cipher.getAlgorithm());\n\n        final byte[] input = &quot;test&quot;.getBytes(StandardCharsets.UTF_8);\n        final byte[] output = cipher.doFinal(input);\n        System.out.println(&quot;Output: &quot; + Base64.getEncoder().encodeToString(output));\n    }\n\n    private static KeySpec getRSAKey() throws Exception {\n        return new RSAPublicKeySpec(base64ToInt(MODULUS), base64ToInt(EXPONENT));\n    }\n\n    private static BigInteger base64ToInt(final String str) {\n        return new BigInteger(1, Base64.getDecoder().decode(str.getBytes()));\n    }\n\n    private static KeySpec getX509Key() throws Exception {\n        return new X509EncodedKeySpec(Base64.getDecoder().decode(PEM_KEY));\n    }\n}\n</code></pre>\n<p>Can anyone advise what I've done wrong, please?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646233594,"creation_date":1646233594,"answer_id":71324929,"question_id":71298443,"body_markdown":"Today I faced the same problem. I need to transfer templates, css files and images from the webapp folder to the resources folder.\r\nIn search of an answer, I went through the code of stores that are publicly available on github.\r\nI found a project in which all these resources are stored in the resources folder. As I understand it, another class is used there to configure the application. Here is the code. So far, I have not been able to make it work in my project, but I will dig in this direction.\r\nPerhaps this will help you too.\r\n\r\npackage com.geekbrains.geekspring.config;\r\n\r\nimport org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n\r\n    @Configuration\r\n    public class AppConfig extends WebMvcAutoConfiguration {\r\n    //    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    //        if (!registry.hasMappingForPattern(&quot;/webjars/**&quot;)) {\r\n    //            registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n    //        }\r\n    //    }\r\n    }","title":"How I can set my Views files(.html) resource from &quot;webapp&quot; to &quot;resources&quot; folder in SpringMVC project","body":"<p>Today I faced the same problem. I need to transfer templates, css files and images from the webapp folder to the resources folder.\nIn search of an answer, I went through the code of stores that are publicly available on github.\nI found a project in which all these resources are stored in the resources folder. As I understand it, another class is used there to configure the application. Here is the code. So far, I have not been able to make it work in my project, but I will dig in this direction.\nPerhaps this will help you too.</p>\n<p>package com.geekbrains.geekspring.config;</p>\n<p>import org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</p>\n<pre><code>@Configuration\npublic class AppConfig extends WebMvcAutoConfiguration {\n//    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n//        if (!registry.hasMappingForPattern(&quot;/webjars/**&quot;)) {\n//            registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n//        }\n//    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646289550,"creation_date":1646289550,"answer_id":71333024,"question_id":71298443,"body_markdown":"Ok, I seem to have solved the problem. I think you should be able to too. You only need to change one line of code.\r\nMy mistake was that when I specified the path in this line:\r\ntemplateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n\r\nI thought I was specifying it in MyProjectName/src/main/webapp/WEB-INF/views/\r\nThis is where my templates used to be.\r\nBut in fact, I specified the path in the server folder that is generated during compilation\r\nbased on the folders we created in src.\r\nNow this folder is called &quot;target&quot;. So, in fact, I pointed the way to\r\nMyProjectName/target/shop/WEB-INF/views/\r\n\r\nNow I have moved all my templates to MyProjectName/src/main/resources/templates folder\r\nSince a new folder has appeared here, then on its basis in the &quot;target&quot; directory at startup\r\nproject generated a new folder along the path\r\nMyProjectName/target/shop/WEB-INF/classes/templates\r\n\r\nAccordingly, I indicated a new path following this logic\r\ntemplateResolver.setPrefix(&quot;/WEB-INF/classes/templates/&quot;);\r\n\r\nAnd everything worked!\r\nIt remains to transfer css and images.\r\n\r\n[![my project directory][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1WBp0.jpg\r\n\r\n  My config file\r\n\r\n    package ru.shop.three_d_print.config;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.web.servlet.config.annotation.*;\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    import org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;\r\n    import org.thymeleaf.spring5.view.ThymeleafViewResolver;\r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;ru.shop.three_d_print&quot;)\r\n    @EnableWebMvc\r\n\r\n    public class SpringConfig implements WebMvcConfigurer\r\n    {\r\n      private final ApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry)\r\n    {\r\n        registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    }\r\n\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext)\r\n    {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver()\r\n    {\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(applicationContext);\r\n        templateResolver.setPrefix(&quot;/WEB-INF/classes/templates/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine()\r\n    {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.setEnableSpringELCompiler(true);\r\n        return templateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry)\r\n    {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        registry.viewResolver(resolver);\r\n    }\r\n    }","title":"How I can set my Views files(.html) resource from &quot;webapp&quot; to &quot;resources&quot; folder in SpringMVC project","body":"<p>Ok, I seem to have solved the problem. I think you should be able to too. You only need to change one line of code.\nMy mistake was that when I specified the path in this line:\ntemplateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);</p>\n<p>I thought I was specifying it in MyProjectName/src/main/webapp/WEB-INF/views/\nThis is where my templates used to be.\nBut in fact, I specified the path in the server folder that is generated during compilation\nbased on the folders we created in src.\nNow this folder is called &quot;target&quot;. So, in fact, I pointed the way to\nMyProjectName/target/shop/WEB-INF/views/</p>\n<p>Now I have moved all my templates to MyProjectName/src/main/resources/templates folder\nSince a new folder has appeared here, then on its basis in the &quot;target&quot; directory at startup\nproject generated a new folder along the path\nMyProjectName/target/shop/WEB-INF/classes/templates</p>\n<p>Accordingly, I indicated a new path following this logic\ntemplateResolver.setPrefix(&quot;/WEB-INF/classes/templates/&quot;);</p>\n<p>And everything worked!\nIt remains to transfer css and images.</p>\n<p><a href=\"https://i.stack.imgur.com/1WBp0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1WBp0.jpg\" alt=\"my project directory\" /></a></p>\n<p>My config file</p>\n<pre><code>package ru.shop.three_d_print.config;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.web.servlet.config.annotation.*;\nimport org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver;\nimport org.thymeleaf.spring5.view.ThymeleafViewResolver;\nimport javax.sql.DataSource;\n\n@Configuration\n@ComponentScan(&quot;ru.shop.three_d_print&quot;)\n@EnableWebMvc\n\npublic class SpringConfig implements WebMvcConfigurer\n{\n  private final ApplicationContext applicationContext;\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry)\n{\n    registry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n}\n\n@Autowired\npublic SpringConfig(ApplicationContext applicationContext)\n{\n    this.applicationContext = applicationContext;\n}\n\n@Bean\npublic SpringResourceTemplateResolver templateResolver()\n{\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n    templateResolver.setApplicationContext(applicationContext);\n    templateResolver.setPrefix(&quot;/WEB-INF/classes/templates/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    return templateResolver;\n}\n\n@Bean\npublic SpringTemplateEngine templateEngine()\n{\n    SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n    templateEngine.setTemplateResolver(templateResolver());\n    templateEngine.setEnableSpringELCompiler(true);\n    return templateEngine;\n}\n\n@Override\npublic void configureViewResolvers(ViewResolverRegistry registry)\n{\n    ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n    resolver.setTemplateEngine(templateEngine());\n    registry.viewResolver(resolver);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21606474,"reputation":15,"user_id":16909643,"display_name":"shaxa 2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646289550,"creation_date":1646067474,"question_id":71298443,"body_markdown":"I want to know how I can set my Views files(.html) resource from &quot;webapp&quot; to &quot;resources&quot; folder in SpringMVC project.\r\n\r\n[this is my project directory][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/890zB.png\r\n\r\nHere is my config file code, now my .html files resource folder is in webapp folder, and I want to change it to resources folder.\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;Controllers&quot;)\r\npublic class ApplicationConfig implements WebMvcConfigurer {\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public ApplicationConfig(ApplicationContext applicationContext){\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver(){\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(applicationContext);\r\n        templateResolver.setPrefix(&quot;resources&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine(){\r\n        SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\r\n        springTemplateEngine.setTemplateResolver(templateResolver());\r\n        springTemplateEngine.setEnableSpringELCompiler(true);\r\n        return springTemplateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry) {//to set viewer\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        registry.viewResolver(resolver);\r\n    }\r\n\r\n}\r\n```","title":"How I can set my Views files(.html) resource from &quot;webapp&quot; to &quot;resources&quot; folder in SpringMVC project","body":"<p>I want to know how I can set my Views files(.html) resource from &quot;webapp&quot; to &quot;resources&quot; folder in SpringMVC project.</p>\n<p><a href=\"https://i.stack.imgur.com/890zB.png\" rel=\"nofollow noreferrer\">this is my project directory</a></p>\n<p>Here is my config file code, now my .html files resource folder is in webapp folder, and I want to change it to resources folder.</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;Controllers&quot;)\npublic class ApplicationConfig implements WebMvcConfigurer {\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public ApplicationConfig(ApplicationContext applicationContext){\n        this.applicationContext = applicationContext;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver(){\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(applicationContext);\n        templateResolver.setPrefix(&quot;resources&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        return templateResolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine(){\n        SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\n        springTemplateEngine.setTemplateResolver(templateResolver());\n        springTemplateEngine.setEnableSpringELCompiler(true);\n        return springTemplateEngine;\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {//to set viewer\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        registry.viewResolver(resolver);\n    }\n\n}\n</code></pre>\n"},{"tags":["mouseevent","mouselistener","java"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1528794201,"creation_date":1528794201,"answer_id":50813241,"question_id":50813124,"body_markdown":"There is not a very big difference, but [`mouseClicked`][1] happens when:\r\n\r\n&gt; Invoked when the mouse button has been clicked (pressed and released) on a component.\r\n\r\nInstead [`mouseReleased`][2]:\r\n\r\n&gt; Invoked when a mouse button has been released on a component.\r\n\r\nSo if you click outside your application, drag the mouse on the application and release it you have a `mouseReleased` event, but you don&#39;t have a `mouseClicked` event, because it was pressed outside the application.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html#mouseClicked(java.awt.event.MouseEvent)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html#mouseReleased(java.awt.event.MouseEvent)","title":"difference between mouseReleased and mouseClicked","body":"<p>There is not a very big difference, but <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html#mouseClicked(java.awt.event.MouseEvent)\" rel=\"nofollow noreferrer\"><code>mouseClicked</code></a> happens when:</p>\n\n<blockquote>\n  <p>Invoked when the mouse button has been clicked (pressed and released) on a component.</p>\n</blockquote>\n\n<p>Instead <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html#mouseReleased(java.awt.event.MouseEvent)\" rel=\"nofollow noreferrer\"><code>mouseReleased</code></a>:</p>\n\n<blockquote>\n  <p>Invoked when a mouse button has been released on a component.</p>\n</blockquote>\n\n<p>So if you click outside your application, drag the mouse on the application and release it you have a <code>mouseReleased</code> event, but you don't have a <code>mouseClicked</code> event, because it was pressed outside the application.</p>\n"},{"tags":[],"owner":{"account_id":18722109,"reputation":11,"user_id":13649724,"display_name":"hcrisanto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590870092,"creation_date":1590870092,"answer_id":62108217,"question_id":50813124,"body_markdown":"**mouseClicked** work when you press and release the mouse button in the same coordinates, obviously inside the JComponent.  \r\n**mousePressed** work as soon as press the mouse button in the JComponent.  \r\n**mouseReleased** work as soon as release the mouse button, provided that has previously press in the JComponent.  \r\n\r\nWhile you press the mouse button in the JComponent, no matter the final coordinate for to release the mouse button, it could even be outside the JComponent.  \r\nIn all cases no matter the length of time between pressing and releasing.\r\n\r\nHCL from Per&#250;","title":"difference between mouseReleased and mouseClicked","body":"<p><strong>mouseClicked</strong> work when you press and release the mouse button in the same coordinates, obviously inside the JComponent.<br>\n<strong>mousePressed</strong> work as soon as press the mouse button in the JComponent.<br>\n<strong>mouseReleased</strong> work as soon as release the mouse button, provided that has previously press in the JComponent.  </p>\n\n<p>While you press the mouse button in the JComponent, no matter the final coordinate for to release the mouse button, it could even be outside the JComponent.<br>\nIn all cases no matter the length of time between pressing and releasing.</p>\n\n<p>HCL from Perú</p>\n"},{"tags":[],"owner":{"account_id":19867946,"reputation":11,"user_id":14554787,"display_name":"Rails Abam De Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646288436,"creation_date":1646288436,"answer_id":71332864,"question_id":50813124,"body_markdown":"MouseDragged, generated when the user moves the mouse while holding down a mouse button;\r\n\r\nMouseReleased, generated when the user releases one of the buttons on the mouse;\r\n\r\nvoid mouseReleased(MouseEvent e)\r\n\r\nInvoked when a mouse button has been released on a component.\r\n\r\n","title":"difference between mouseReleased and mouseClicked","body":"<p>MouseDragged, generated when the user moves the mouse while holding down a mouse button;</p>\n<p>MouseReleased, generated when the user releases one of the buttons on the mouse;</p>\n<p>void mouseReleased(MouseEvent e)</p>\n<p>Invoked when a mouse button has been released on a component.</p>\n"}],"owner":{"account_id":13116948,"reputation":45,"user_id":9475789,"display_name":"Teapot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7133,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50813241,"answer_count":3,"score":4,"last_activity_date":1646288436,"creation_date":1528793872,"question_id":50813124,"body_markdown":"searching on the JAVA api document, i knew the difference between the mousePressed and mouseClicked. but.. the mouseClicked method involves both pressing and releasing so the action is done after the releasing the mouse, i don&#39;t find much difference with mouseReleased.\r\n\r\nwhen i tried myself, i found that pressed and clicked are different because the time of action is different, but it&#39;s not the case between clicked and released. \r\n\r\nmy program is about drawing oval at the selected point in canvas\r\n\r\ni&#39;m looking for help in this problem. ","title":"difference between mouseReleased and mouseClicked","body":"<p>searching on the JAVA api document, i knew the difference between the mousePressed and mouseClicked. but.. the mouseClicked method involves both pressing and releasing so the action is done after the releasing the mouse, i don't find much difference with mouseReleased.</p>\n\n<p>when i tried myself, i found that pressed and clicked are different because the time of action is different, but it's not the case between clicked and released. </p>\n\n<p>my program is about drawing oval at the selected point in canvas</p>\n\n<p>i'm looking for help in this problem. </p>\n"},{"tags":["java","android","kotlin","storage","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646290169,"post_id":71332853,"comment_id":126087696,"body_markdown":"`new File(folder...` What is `folder`? Please declare variable in your code. We wanna see what you do.","body":"<code>new File(folder...</code> What is <code>folder</code>? Please declare variable in your code. We wanna see what you do."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646290402,"post_id":71332853,"comment_id":126087747,"body_markdown":"`storage/emulated/0/Documents/SamparkSetuFolder/SamparkSetuDB.db` Is that a folder? Looks more a path to a .db file.","body":"<code>storage&#47;emulated&#47;0&#47;Documents&#47;SamparkSetuFolder&#47;SamparkSetuDB&zwnj;&#8203;.db</code> Is that a folder? Looks more a path to a .db file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646290503,"post_id":71332853,"comment_id":126087772,"body_markdown":"Post your deleteFile() function.","body":"Post your deleteFile() function."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1646290537,"post_id":71332853,"comment_id":126087784,"body_markdown":"Ever tried `dbfile.delete()`?","body":"Ever tried <code>dbfile.delete()</code>?"},{"owner":{"account_id":24352115,"reputation":1,"user_id":18287808,"display_name":"Vaibhavi"},"score":0,"creation_date":1646290610,"post_id":71332853,"comment_id":126087800,"body_markdown":"My folder path:\n\n                File folder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;AppFolder/&quot;);","body":"My folder path:                  File folder = new File(Environment.getExternalStoragePublicDirectory(Environme&zwnj;&#8203;nt.DIRECTORY_DOCUMEN&zwnj;&#8203;TS) + File.separator + &quot;AppFolder/&quot;);"},{"owner":{"account_id":24352115,"reputation":1,"user_id":18287808,"display_name":"Vaibhavi"},"score":0,"creation_date":1646290720,"post_id":71332853,"comment_id":126087821,"body_markdown":"Post your deleteFile() function.  ( this is default function)\nEver tried dbfile.delete()?  ( yes but its return false not working)","body":"Post your deleteFile() function.  ( this is default function) Ever tried dbfile.delete()?  ( yes but its return false not working)"},{"owner":{"account_id":16740979,"reputation":2260,"user_id":12100652,"display_name":"Karunesh Palekar"},"score":0,"creation_date":1646291301,"post_id":71332853,"comment_id":126087965,"body_markdown":"Try doing the same with MediaStore. Make sure that the file is being owned by you before deleting, if not you have to start an Intent Sender for the same to ask for the permission from the user to delete the file.","body":"Try doing the same with MediaStore. Make sure that the file is being owned by you before deleting, if not you have to start an Intent Sender for the same to ask for the permission from the user to delete the file."}],"owner":{"account_id":24352115,"reputation":1,"user_id":18287808,"display_name":"Vaibhavi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646288365,"creation_date":1646288365,"question_id":71332853,"body_markdown":"I tried below code to delete that folder but its going in catch\r\n\r\nMy app folder is in : /storage/emulated/0/Documents/AppFolder/AppDB.db\r\n\r\n```\r\nFile dbfile = new File(folder,  Constant.KEY_DB_FILE_NAME + &quot;.db&quot;);\r\n                try {\r\n                    this.deleteFile(dbfile.getPath());\r\n\r\n                }catch (Exception e){\r\n                    Log.e(&quot;test==&gt;&quot;, &quot;catch&quot; + e.getMessage());\r\n                }\r\n```\r\n\r\n```\r\ncatch==&gt; File /storage/emulated/0/Documents/SamparkSetuFolder/SamparkSetuDB.db contains a path separator\r\n```","title":"How to delete folder that is in document directory in android 11 and above","body":"<p>I tried below code to delete that folder but its going in catch</p>\n<p>My app folder is in : /storage/emulated/0/Documents/AppFolder/AppDB.db</p>\n<pre><code>File dbfile = new File(folder,  Constant.KEY_DB_FILE_NAME + &quot;.db&quot;);\n                try {\n                    this.deleteFile(dbfile.getPath());\n\n                }catch (Exception e){\n                    Log.e(&quot;test==&gt;&quot;, &quot;catch&quot; + e.getMessage());\n                }\n</code></pre>\n<pre><code>catch==&gt; File /storage/emulated/0/Documents/SamparkSetuFolder/SamparkSetuDB.db contains a path separator\n</code></pre>\n"},{"tags":["java","servlet-filters"],"comments":[{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1352167683,"post_id":13243149,"comment_id":18044195,"body_markdown":"Can you provide a concrete example of `modify this header based on page contents`?","body":"Can you provide a concrete example of <code>modify this header based on page contents</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1968345,"reputation":3866,"user_id":1767992,"display_name":"thedayofcondor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352227536,"creation_date":1352227536,"answer_id":13257315,"question_id":13243149,"body_markdown":"Just implement getHeader and getHeaderNames to ignore the header you want to discard and set the Wrapper as a filter. \r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.PrintWriter;\r\n    import java.util.Collection;\r\n    \r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpServletResponseWrapper;\r\n    \r\n    public class GenericResponseWrapper extends HttpServletResponseWrapper {\r\n    \r\n    \t\r\n    \r\n    \tpublic GenericResponseWrapper(final HttpServletResponse response) {\r\n    \t\tsuper(response);\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getHeader(String name) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn super.getHeader(name);\r\n    \t}\r\n    \t@Override\r\n    \tpublic Collection&lt;String&gt; getHeaderNames() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn super.getHeaderNames();\r\n    \t}\r\n    }\r\n\r\n\r\n    public class Wrapper implements Filter {\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws IOException, ServletException {\r\n    \t\tfinal HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n    \t\tfinal HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n    \t\t\tfinal GenericResponseWrapper wrapper = new GenericResponseWrapper(httpResponse);\r\n    \t\t\twrapper.getResponse().setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \r\n    \t\t\tchain.doFilter(request, wrapper);\r\n    }\r\n    }\r\n","title":"how to modify a http header if already set?","body":"<p>Just implement getHeader and getHeaderNames to ignore the header you want to discard and set the Wrapper as a filter. </p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.PrintWriter;\nimport java.util.Collection;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpServletResponseWrapper;\n\npublic class GenericResponseWrapper extends HttpServletResponseWrapper {\n\n\n\n    public GenericResponseWrapper(final HttpServletResponse response) {\n        super(response);    \n    }\n\n    @Override\n    public String getHeader(String name) {\n        // TODO Auto-generated method stub\n        return super.getHeader(name);\n    }\n    @Override\n    public Collection&lt;String&gt; getHeaderNames() {\n        // TODO Auto-generated method stub\n        return super.getHeaderNames();\n    }\n}\n\n\npublic class Wrapper implements Filter {\n\n    @Override\n    public void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws IOException, ServletException {\n        final HttpServletRequest httpRequest = (HttpServletRequest) request;\n        final HttpServletResponse httpResponse = (HttpServletResponse) response;\n            final GenericResponseWrapper wrapper = new GenericResponseWrapper(httpResponse);\n            wrapper.getResponse().setCharacterEncoding(\"UTF-8\");\n\n            chain.doFilter(request, wrapper);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9687457,"reputation":599,"user_id":7186690,"display_name":"Doston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599634132,"creation_date":1599634132,"answer_id":63806194,"question_id":13243149,"body_markdown":"Whenever I search &quot;How to modify the header in servlet response that is already set&quot; this post comes first and even if the question description is different, I (maybe like many others) want to know how to modify the header in the servlet response that is already set. In this regard, I want to post my answer for those who are looking for (instead of writing a question/answer).\r\n\r\n    public class SameSiteCookieHeaderFilter implements Filter {\r\n\r\n\r\n    private static final String LOCALE_ID_COOKIE = &quot;locale&quot;;\r\n\r\n\r\n    private static final String SET_COOKIE_HEADER = &quot;Set-Cookie&quot;;\r\n\r\n    @Override\r\n    public void destroy() {\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(final ServletRequest servletRequest, final ServletResponse servletResponse,\r\n                         final FilterChain filterChain) throws IOException, ServletException {\r\n        final HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\r\n        final HttpServletResponse httpServletResponse = (HttpServletResponse) servletResponse;\r\n        final Collection&lt;String&gt; setCookieHeaders = httpServletResponse.getHeaders(SET_COOKIE_HEADER);\r\n\r\n        for (final String setCookieHeader : setCookieHeaders) {\r\n            httpServletResponse.addHeader(SET_COOKIE_HEADER, setCookieHeader + &quot;; Secure; SameSite=None&quot;);\r\n        }\r\n\r\n        if (setCookieHeaders.size() == 0) {\r\n            final Cookie[] cookies = httpServletRequest.getCookies();\r\n\r\n            for (final Cookie cookie : cookies) {\r\n                if (cookie.getName().equals(LOCALE_ID_COOKIE)) {\r\n                    httpServletResponse.addHeader(SET_COOKIE_HEADER, buildSessionIdCookie(cookie.getValue()));\r\n                }\r\n            }\r\n        }\r\n\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) throws ServletException {\r\n    }\r\n\r\n\r\n    private String buildSessionIdCookie(final String value) {\r\n        return LOCALE_ID_COOKIE + &quot;=&quot; + value + &quot;; &quot; + &quot;Path=/; &quot; + &quot;SameSite=None; &quot; + &quot;Secure; HttpOnly;&quot;;\r\n    }\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;SameSiteCookieHeaderFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;de.chemmedia.kw.core.filter.SameSiteCookieHeaderFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SameSiteCookieHeaderFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\nso what it does, it detects ```Set-Cookie``` header and adds ```SameSite=None``` property, or takes Cookie and constructs ```Set-Cookie``` with ```SameSite=None``` in every response. In this way, there will be two ```Set-Cookie``` headers with the same value, and the second one will overwrite the previous one, **or modify the header which exists already ** in the response.\r\n\r\n    Set-Cookie: locale=EN; Path=/; HttpOnly;\r\n    Set-Cookie: locale=EN; Path=/; SameSite=None; Secure; HttpOnly;\r\n\r\nFYI: tomcat 7.0.104, Servlet 3.1 and Spring 4.2.x","title":"how to modify a http header if already set?","body":"<p>Whenever I search &quot;How to modify the header in servlet response that is already set&quot; this post comes first and even if the question description is different, I (maybe like many others) want to know how to modify the header in the servlet response that is already set. In this regard, I want to post my answer for those who are looking for (instead of writing a question/answer).</p>\n<pre><code>public class SameSiteCookieHeaderFilter implements Filter {\n\n\nprivate static final String LOCALE_ID_COOKIE = &quot;locale&quot;;\n\n\nprivate static final String SET_COOKIE_HEADER = &quot;Set-Cookie&quot;;\n\n@Override\npublic void destroy() {\n}\n\n@Override\npublic void doFilter(final ServletRequest servletRequest, final ServletResponse servletResponse,\n                     final FilterChain filterChain) throws IOException, ServletException {\n    final HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;\n    final HttpServletResponse httpServletResponse = (HttpServletResponse) servletResponse;\n    final Collection&lt;String&gt; setCookieHeaders = httpServletResponse.getHeaders(SET_COOKIE_HEADER);\n\n    for (final String setCookieHeader : setCookieHeaders) {\n        httpServletResponse.addHeader(SET_COOKIE_HEADER, setCookieHeader + &quot;; Secure; SameSite=None&quot;);\n    }\n\n    if (setCookieHeaders.size() == 0) {\n        final Cookie[] cookies = httpServletRequest.getCookies();\n\n        for (final Cookie cookie : cookies) {\n            if (cookie.getName().equals(LOCALE_ID_COOKIE)) {\n                httpServletResponse.addHeader(SET_COOKIE_HEADER, buildSessionIdCookie(cookie.getValue()));\n            }\n        }\n    }\n\n    filterChain.doFilter(servletRequest, servletResponse);\n}\n\n@Override\npublic void init(FilterConfig filterConfig) throws ServletException {\n}\n\n\nprivate String buildSessionIdCookie(final String value) {\n    return LOCALE_ID_COOKIE + &quot;=&quot; + value + &quot;; &quot; + &quot;Path=/; &quot; + &quot;SameSite=None; &quot; + &quot;Secure; HttpOnly;&quot;;\n}\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;SameSiteCookieHeaderFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;de.chemmedia.kw.core.filter.SameSiteCookieHeaderFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SameSiteCookieHeaderFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>so what it does, it detects <code>Set-Cookie</code> header and adds <code>SameSite=None</code> property, or takes Cookie and constructs <code>Set-Cookie</code> with <code>SameSite=None</code> in every response. In this way, there will be two <code>Set-Cookie</code> headers with the same value, and the second one will overwrite the previous one, **or modify the header which exists already ** in the response.</p>\n<pre><code>Set-Cookie: locale=EN; Path=/; HttpOnly;\nSet-Cookie: locale=EN; Path=/; SameSite=None; Secure; HttpOnly;\n</code></pre>\n<p>FYI: tomcat 7.0.104, Servlet 3.1 and Spring 4.2.x</p>\n"},{"tags":[],"owner":{"account_id":5376932,"reputation":159,"user_id":4283476,"display_name":"Anushka Senarathna"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646287628,"creation_date":1646287628,"answer_id":71332762,"question_id":13243149,"body_markdown":"you can do something like below by overriding HttpServletRequestWrapper&#39;s getHeader method. \r\n\r\n    @Override\r\n    public Enumeration&lt;String&gt; getHeaders(String name) {\r\n        List&lt;String&gt; values = Collections.list(super.getHeaders(name));\r\n        if (headerMap.containsKey(name)) {\r\n            if (name.equals(&quot;Header_attibutes_needs_to_be_replace&quot;)) {\r\n                values.clear();\r\n            }\r\n            values.add(headerMap.get(name));\r\n        }\r\n        return Collections.enumeration(values);\r\n    }\r\n\r\nAnd inside your filter, you set new value\r\n\r\n     wrappedRequest = new HeaderMapRequestWrapper(request);\r\n     wrappedRequest.addHeader(&quot;Header_attibutes_needs_to_be_replace&quot;, value);","title":"how to modify a http header if already set?","body":"<p>you can do something like below by overriding HttpServletRequestWrapper's getHeader method.</p>\n<pre><code>@Override\npublic Enumeration&lt;String&gt; getHeaders(String name) {\n    List&lt;String&gt; values = Collections.list(super.getHeaders(name));\n    if (headerMap.containsKey(name)) {\n        if (name.equals(&quot;Header_attibutes_needs_to_be_replace&quot;)) {\n            values.clear();\n        }\n        values.add(headerMap.get(name));\n    }\n    return Collections.enumeration(values);\n}\n</code></pre>\n<p>And inside your filter, you set new value</p>\n<pre><code> wrappedRequest = new HeaderMapRequestWrapper(request);\n wrappedRequest.addHeader(&quot;Header_attibutes_needs_to_be_replace&quot;, value);\n</code></pre>\n"}],"owner":{"account_id":223906,"reputation":1027,"user_id":483409,"accept_rate":59,"display_name":"treefrog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8656,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13257315,"answer_count":3,"score":3,"last_activity_date":1646287628,"creation_date":1352165681,"question_id":13243149,"body_markdown":"I need to modify this header based on page contents. \r\n\r\neg: this is a contrieved example-since it was requested. I cannot go into the details of the specific header\r\nThe servlet/page sets a header specialheader=xyz based on what backend system was accessed. If this specialheader is set the filter will modify it to xyz+abc. If the header is not set, the filter will set it to 123. \r\n\r\n\r\nI could use a filter to create a wrapped `HttpServletResponse` and modify it on its way back. However, I am fuzzy on the details.\r\n\r\nI know I have to prevent the output from being sent back to client before my filter does its job. In order to do this, do I need to pass it my own `OutputStream` and buffer the output?\r\n\r\nDo I really need to do that ? can I avoid buffering the output which may put load on the server\r\n\r\nThe basic question is- if I need to modify the header AFTER the doFilter call, what is the minimum do I need to do ? \r\nIs there some other way of preventing the output from being committed such as overriuciding flush etc., ?\r\n","title":"how to modify a http header if already set?","body":"<p>I need to modify this header based on page contents. </p>\n\n<p>eg: this is a contrieved example-since it was requested. I cannot go into the details of the specific header\nThe servlet/page sets a header specialheader=xyz based on what backend system was accessed. If this specialheader is set the filter will modify it to xyz+abc. If the header is not set, the filter will set it to 123. </p>\n\n<p>I could use a filter to create a wrapped <code>HttpServletResponse</code> and modify it on its way back. However, I am fuzzy on the details.</p>\n\n<p>I know I have to prevent the output from being sent back to client before my filter does its job. In order to do this, do I need to pass it my own <code>OutputStream</code> and buffer the output?</p>\n\n<p>Do I really need to do that ? can I avoid buffering the output which may put load on the server</p>\n\n<p>The basic question is- if I need to modify the header AFTER the doFilter call, what is the minimum do I need to do ? \nIs there some other way of preventing the output from being committed such as overriuciding flush etc., ?</p>\n"},{"tags":["java","string","list","arraylist"],"comments":[{"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"score":0,"creation_date":1330999664,"post_id":9576937,"comment_id":12143400,"body_markdown":"What is your original list of? Does it have a `toString()` Method implemented?","body":"What is your original list of? Does it have a <code>toString()</code> Method implemented?"},{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":0,"creation_date":1330999715,"post_id":9576937,"comment_id":12143410,"body_markdown":"The message about &quot;The requested resource () is not available.&quot; has nothing to do with this code; something weird just happened that one time.","body":"The message about &quot;The requested resource () is not available.&quot; has nothing to do with this code; something weird just happened that one time."},{"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"score":0,"creation_date":1330999785,"post_id":9576937,"comment_id":12143422,"body_markdown":"Also have you tried list.toArray(new String[0])","body":"Also have you tried list.toArray(new String[0])"}],"answers":[{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1330999612,"creation_date":1330999612,"answer_id":9576955,"question_id":9576937,"body_markdown":"You need to be using `list.toArray(new String[list.size()])`. An `Object[]` is not type compatible with `String[]`, despite every element in the `Object[]` being a `String`. Also, you should consider specifying the type parameter of your `List` to maintain type safety.","title":"Java List list to String []","body":"<p>You need to be using <code>list.toArray(new String[list.size()])</code>. An <code>Object[]</code> is not type compatible with <code>String[]</code>, despite every element in the <code>Object[]</code> being a <code>String</code>. Also, you should consider specifying the type parameter of your <code>List</code> to maintain type safety.</p>\n"},{"tags":[],"owner":{"account_id":280581,"reputation":3054,"user_id":576369,"display_name":"S.P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330999683,"creation_date":1330999683,"answer_id":9576971,"question_id":9576937,"body_markdown":"Basically you need to use \r\n\r\n&gt; String profArr = list.toArray( &lt; String array &gt; (size))","title":"Java List list to String []","body":"<p>Basically you need to use </p>\n\n<blockquote>\n  <p>String profArr = list.toArray( &lt; String array > (size))</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18882368,"reputation":131,"user_id":13774496,"display_name":"smart lph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646287594,"creation_date":1646287594,"answer_id":71332756,"question_id":9576937,"body_markdown":"you can use java collector\r\n```\r\nList&lt;Tuple2&lt;String, Boolean&gt;&gt; paras_check\r\nString miss_params= paras_check.stream().map(e-&gt;e._1)\r\n            .reduce(&quot;,&quot;,(x,y)-&gt;(x+y));","title":"Java List list to String []","body":"<p>you can use java collector</p>\n<pre><code>List&lt;Tuple2&lt;String, Boolean&gt;&gt; paras_check\nString miss_params= paras_check.stream().map(e-&gt;e._1)\n            .reduce(&quot;,&quot;,(x,y)-&gt;(x+y));\n</code></pre>\n"}],"owner":{"account_id":948278,"reputation":375,"user_id":975044,"accept_rate":50,"display_name":"user975044"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9576955,"answer_count":3,"score":0,"last_activity_date":1646287594,"creation_date":1330999457,"question_id":9576937,"body_markdown":"How would I convert \r\n\r\n    List list= new ArrayList();\r\n\r\nto\r\n\r\n    String [] profArr= {};\r\n\r\nI have tried doing\r\n\r\n    profArr = list.toArrary() \r\n\r\n        and\r\n\r\n    profArr = (String [])list.toArrary()\r\n\r\n\r\nI get the following error:\r\n\r\n    java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\r\n\r\n\r\nI also have tried\r\n\r\n    String [] profArr= (String [])list.toArray(new String[0]);\r\n\r\nand I get this error: The requested resource () is not available.\r\n\r\n\r\n\r\nHere is how I create the list:\r\n\r\n\r\n    static List decode(int x)\r\n        {\r\n            List power2List = new ArrayList();\r\n            if (x &lt; 0) \r\n                throw new IllegalArgumentException(&quot;Decode does not like negatives&quot;);\r\n            while (x &gt; 0)\r\n            {\r\n                int p2 = Integer.highestOneBit(x);\r\n                x = x - p2;\r\n                power2List.add(p2);\r\n            }\r\n            return power2List;   \r\n        }\r\n    \r\n    List list= new ArrayList();\r\n    list= decode(rset.getInt(&quot;favprofs&quot;)); //rset being a result set which pulls one int\r\n\r\n","title":"Java List list to String []","body":"<p>How would I convert </p>\n\n<pre><code>List list= new ArrayList();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>String [] profArr= {};\n</code></pre>\n\n<p>I have tried doing</p>\n\n<pre><code>profArr = list.toArrary() \n\n    and\n\nprofArr = (String [])list.toArrary()\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\n</code></pre>\n\n<p>I also have tried</p>\n\n<pre><code>String [] profArr= (String [])list.toArray(new String[0]);\n</code></pre>\n\n<p>and I get this error: The requested resource () is not available.</p>\n\n<p>Here is how I create the list:</p>\n\n<pre><code>static List decode(int x)\n    {\n        List power2List = new ArrayList();\n        if (x &lt; 0) \n            throw new IllegalArgumentException(\"Decode does not like negatives\");\n        while (x &gt; 0)\n        {\n            int p2 = Integer.highestOneBit(x);\n            x = x - p2;\n            power2List.add(p2);\n        }\n        return power2List;   \n    }\n\nList list= new ArrayList();\nlist= decode(rset.getInt(\"favprofs\")); //rset being a result set which pulls one int\n</code></pre>\n"},{"tags":["java","hibernate-criteria","criteria-api","nhibernate-criteria","criteriaquery"],"comments":[{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":1,"creation_date":1646289336,"post_id":71332104,"comment_id":126087503,"body_markdown":"Please check this thread https://stackoverflow.com/questions/17825610/getting-first-row-of-table-by-criteria-query","body":"Please check this thread <a href=\"https://stackoverflow.com/questions/17825610/getting-first-row-of-table-by-criteria-query\" title=\"getting first row of table by criteria query\">stackoverflow.com/questions/17825610/&hellip;</a>"},{"owner":{"account_id":24436041,"reputation":1,"user_id":18360311,"display_name":"Harshit Kapoor"},"score":0,"creation_date":1646290962,"post_id":71332104,"comment_id":126087884,"body_markdown":"I am passing list of subscription key, if I will use \nqueryCriteria.setFirstResult(0);\nqueryCriteria.setMaxResults(1);\nthen I will get only 1 record every time.","body":"I am passing list of subscription key, if I will use  queryCriteria.setFirstResult(0); queryCriteria.setMaxResults(1); then I will get only 1 record every time."},{"owner":{"account_id":24436041,"reputation":1,"user_id":18360311,"display_name":"Harshit Kapoor"},"score":0,"creation_date":1646291077,"post_id":71332104,"comment_id":126087913,"body_markdown":"I want to fetch only one user per subscription key as there can be multiple user for a single key.\n\nAnd I am passing key(1234, 2213). currently DB is returning 3 records because in DB there are two user having same key. But my expectation is I should get 2 record only.","body":"I want to fetch only one user per subscription key as there can be multiple user for a single key.  And I am passing key(1234, 2213). currently DB is returning 3 records because in DB there are two user having same key. But my expectation is I should get 2 record only."},{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":0,"creation_date":1646373243,"post_id":71332104,"comment_id":126111663,"body_markdown":"there is another thread with probably same requirement. https://stackoverflow.com/questions/47914988/use-hibernate-criteria-api-to-return-first-row-of-each-group you need to add ``group by`` subscription id","body":"there is another thread with probably same requirement. <a href=\"https://stackoverflow.com/questions/47914988/use-hibernate-criteria-api-to-return-first-row-of-each-group\" title=\"use hibernate criteria api to return first row of each group\">stackoverflow.com/questions/47914988/&hellip;</a> you need to add <code>group by</code> subscription id"}],"owner":{"account_id":24436041,"reputation":1,"user_id":18360311,"display_name":"Harshit Kapoor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646287111,"creation_date":1646281170,"question_id":71332104,"body_markdown":"    Table User{    \r\n     String id;\r\n     String name;\r\n     Date created_at;\r\n     Set&lt;Subscription&gt; key;\r\n    }\r\n    \r\n    Table Subscription  {\r\n      String key;\r\n      Date expiry;\r\n    }\r\n\r\n\r\nI have to find user using list of subscription key but since one key is having multiple user. I have to take only the first user which is created first.\r\n\r\n\r\nMy code :\r\n\r\n  \r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n                                CriteriaQuery&lt;User&gt; criteriaQuery = criteriaBuilder.createQuery(User.class);\r\n                                Root&lt;User&gt; userRoot = criteriaQuery.from(User.class);\r\n                                SetJoin&lt;User, Subscription&gt; subscriptionJoin= userRoot.join(USer_.key);\r\n                                \r\n                                criteriaQuery.where(criteriaBuilder.and(subscriptionJoin.get(.key).in(keys)));\r\n                                criteriaQuery.orderBy(criteriaBuilder.desc(userRoot_.get(user_.CREATED_AT)));\r\n\r\n\r\n","title":"How to Fetch Single record using Criteria in java","body":"<pre><code>Table User{    \n String id;\n String name;\n Date created_at;\n Set&lt;Subscription&gt; key;\n}\n\nTable Subscription  {\n  String key;\n  Date expiry;\n}\n</code></pre>\n<p>I have to find user using list of subscription key but since one key is having multiple user. I have to take only the first user which is created first.</p>\n<p>My code :</p>\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n                            CriteriaQuery&lt;User&gt; criteriaQuery = criteriaBuilder.createQuery(User.class);\n                            Root&lt;User&gt; userRoot = criteriaQuery.from(User.class);\n                            SetJoin&lt;User, Subscription&gt; subscriptionJoin= userRoot.join(USer_.key);\n                            \n                            criteriaQuery.where(criteriaBuilder.and(subscriptionJoin.get(.key).in(keys)));\n                            criteriaQuery.orderBy(criteriaBuilder.desc(userRoot_.get(user_.CREATED_AT)));\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646287082,"creation_date":1646287082,"answer_id":71332695,"question_id":71332526,"body_markdown":"Elasticsearch comes with its own DSL(Domain specific language), Hence MongoDB query will not work on the Elasticsearch, Although as Elasticsearch is built on top of Lucene, So for its [query string][1] it supports Lucene syntax.\r\nYou can write your own converter to convert the mongoDB, although there are few failed attempts [here][2] and [here][3]..\r\n\r\nIf you like to use the advanced queries of Elasticsearch than writing your converter for those queries might be challanging. \r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/8.0/query-dsl-query-string-query.html#query-dsl-query-string-query\r\n  [2]: https://github.com/Shane-Neeley/mongodb-to-elasticsearch-query\r\n  [3]: https://stackoverflow.com/questions/28703101/convert-mongodb-query-to-elastic-query","title":"how to execute mongosearch query on elasticsearch in java?","body":"<p>Elasticsearch comes with its own DSL(Domain specific language), Hence MongoDB query will not work on the Elasticsearch, Although as Elasticsearch is built on top of Lucene, So for its <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.0/query-dsl-query-string-query.html#query-dsl-query-string-query\" rel=\"nofollow noreferrer\">query string</a> it supports Lucene syntax.\nYou can write your own converter to convert the mongoDB, although there are few failed attempts <a href=\"https://github.com/Shane-Neeley/mongodb-to-elasticsearch-query\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/28703101/convert-mongodb-query-to-elastic-query\">here</a>..</p>\n<p>If you like to use the advanced queries of Elasticsearch than writing your converter for those queries might be challanging.</p>\n"}],"owner":{"account_id":22022326,"reputation":46,"user_id":16290940,"display_name":"Abhinav Batta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71332695,"answer_count":1,"score":0,"last_activity_date":1646287082,"creation_date":1646285631,"question_id":71332526,"body_markdown":"I am working on elasticsearch.\r\n\r\nThe thing is the method I am implementing takes in a mongosearch query but I need to execute it on elasticsearch. \r\n\r\nso far the mongosearch query will contain the criterias based on which i need to look.\r\n\r\nis there any way to execute a mongosearch query on es ? or some way to change it to es query ?","title":"how to execute mongosearch query on elasticsearch in java?","body":"<p>I am working on elasticsearch.</p>\n<p>The thing is the method I am implementing takes in a mongosearch query but I need to execute it on elasticsearch.</p>\n<p>so far the mongosearch query will contain the criterias based on which i need to look.</p>\n<p>is there any way to execute a mongosearch query on es ? or some way to change it to es query ?</p>\n"},{"tags":["java","maven","javafx","javafx-8"],"answers":[{"tags":[],"owner":{"account_id":1595791,"reputation":2097,"user_id":1477949,"accept_rate":40,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557321198,"creation_date":1557321198,"answer_id":56041696,"question_id":56039722,"body_markdown":"It is from JDK 11 Oracle has decoupled JavaFX from JDK. You can refer to below link\r\n[JavaFX][1] If you are using 1.8, JavaFX is bundled with JDK 8\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java-platform-group/the-future-of-javafx-and-other-java-client-roadmap-updates\r\n  [2]: https://i.stack.imgur.com/1IWmM.jpg","title":"How to fix &quot;package javafx.util does not exist&quot; in maven","body":"<p>It is from JDK 11 Oracle has decoupled JavaFX from JDK. You can refer to below link\n<a href=\"https://blogs.oracle.com/java-platform-group/the-future-of-javafx-and-other-java-client-roadmap-updates\" rel=\"nofollow noreferrer\">JavaFX</a> If you are using 1.8, JavaFX is bundled with JDK 8</p>\n\n<p><a href=\"https://i.stack.imgur.com/1IWmM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1IWmM.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":3233098,"reputation":1049,"user_id":2727884,"accept_rate":61,"display_name":"Raj Bhatia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56041696,"answer_count":1,"score":1,"last_activity_date":1646286496,"creation_date":1557314813,"question_id":56039722,"body_markdown":"My code build on jenkins working till few days back with jdk 1.8 and suddenly it started throwing exception javafx packages doesn&#39;t exist like\r\n \r\n\r\n    16:28:25 [ERROR] /home/jenkins/workspace/dev-compiler.build.pre-submit/dev-client/src/main/java/com/dev/monitor/javafx/config/ConfigController.java:[11,26] package javafx.collections does not exist\r\n\t16:28:25 [ERROR] /home/jenkins/workspace/dev-compiler.build.pre-submit/dev-client/src/main/java/com/dev/monitor/javafx/AppView.java:[4,23] package javafx.geometry does not exist\r\n\t16:28:25 [ERROR] /home/jenkins/workspace/dev-compiler.build.pre-submit/dev-client/src/main/java/com/dev/monitor/javafx/AppView.java:[9,36] package javafx.scene.control.TabPane does not exist\r\n\r\nAs I got to know from google javafx is not the part of jdk anymore. So I need to get javafx dependencies externally.\r\n\r\nDo we have any maven plugin or configuration which can solve this problem.?","title":"How to fix &quot;package javafx.util does not exist&quot; in maven","body":"<p>My code build on jenkins working till few days back with jdk 1.8 and suddenly it started throwing exception javafx packages doesn't exist like</p>\n\n<pre><code>16:28:25 [ERROR] /home/jenkins/workspace/dev-compiler.build.pre-submit/dev-client/src/main/java/com/dev/monitor/javafx/config/ConfigController.java:[11,26] package javafx.collections does not exist\n16:28:25 [ERROR] /home/jenkins/workspace/dev-compiler.build.pre-submit/dev-client/src/main/java/com/dev/monitor/javafx/AppView.java:[4,23] package javafx.geometry does not exist\n16:28:25 [ERROR] /home/jenkins/workspace/dev-compiler.build.pre-submit/dev-client/src/main/java/com/dev/monitor/javafx/AppView.java:[9,36] package javafx.scene.control.TabPane does not exist\n</code></pre>\n\n<p>As I got to know from google javafx is not the part of jdk anymore. So I need to get javafx dependencies externally.</p>\n\n<p>Do we have any maven plugin or configuration which can solve this problem.?</p>\n"},{"tags":["java","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":22231719,"reputation":472,"user_id":16467763,"display_name":"DholaHardik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646228532,"creation_date":1646228532,"answer_id":71323739,"question_id":71322691,"body_markdown":"Did you tried this way?\r\n\r\n    convertDateFormat(lowprice.dateFrom!, &quot;dd-MMM-yyyy&quot;)\r\n\r\n//\r\n\r\n    String convertDateFormat(String date, String new_format) {\r\n        DateTime dateTime = DateTime.parse(date);\r\n        return DateFormat(new_format).format(dateTime);\r\n    }","title":"change date format in flutter for json list particular data value","body":"<p>Did you tried this way?</p>\n<pre><code>convertDateFormat(lowprice.dateFrom!, &quot;dd-MMM-yyyy&quot;)\n</code></pre>\n<p>//</p>\n<pre><code>String convertDateFormat(String date, String new_format) {\n    DateTime dateTime = DateTime.parse(date);\n    return DateFormat(new_format).format(dateTime);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19894980,"reputation":453,"user_id":14576258,"display_name":"btm me"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646286000,"creation_date":1646231376,"answer_id":71324376,"question_id":71322691,"body_markdown":"It&#39;s working now\r\n     \r\n    \r\n    CustomText(\r\n        TimeUtils.convertddMMMyy(\r\n        DateTime.parse(List[index].paidOn!)),\r\n        color: ColorResource.appBarTextColor,\r\n    ),","title":"change date format in flutter for json list particular data value","body":"<p>It's working now</p>\n<pre><code>CustomText(\n    TimeUtils.convertddMMMyy(\n    DateTime.parse(List[index].paidOn!)),\n    color: ColorResource.appBarTextColor,\n),\n</code></pre>\n"}],"owner":{"account_id":19894980,"reputation":453,"user_id":14576258,"display_name":"btm me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71324376,"answer_count":2,"score":0,"last_activity_date":1646286000,"creation_date":1646223993,"question_id":71322691,"body_markdown":"this is working Because String \r\n  \r\n\r\n    TimeUtils.convertddMMMyy( \r\n        DateTime.parse(lowprice.paidOn!)\r\n            ),\r\n\r\n\r\n     static String convertddMMMyy(DateTime date) {\r\n        final DateTime dateTime = date;\r\n        final DateFormat formatter = DateFormat(&#39;yyyy-MMM-dd&#39;);\r\n        final String formattedDate = formatter.format(dateTime);\r\n        return formattedDate;\r\n\r\nI need  for a list , like below\r\n\r\n    CustomText(\r\n        List[index].paidOn,\r\n        color: ColorResource.appBarTextColor, ),\r\n\r\nso how to change dateformat  in list for flutter  ?\r\nnow its giving 01-03-2022 i need 01-mar-2022","title":"change date format in flutter for json list particular data value","body":"<p>this is working Because String</p>\n<pre><code>TimeUtils.convertddMMMyy( \n    DateTime.parse(lowprice.paidOn!)\n        ),\n\n\n static String convertddMMMyy(DateTime date) {\n    final DateTime dateTime = date;\n    final DateFormat formatter = DateFormat('yyyy-MMM-dd');\n    final String formattedDate = formatter.format(dateTime);\n    return formattedDate;\n</code></pre>\n<p>I need  for a list , like below</p>\n<pre><code>CustomText(\n    List[index].paidOn,\n    color: ColorResource.appBarTextColor, ),\n</code></pre>\n<p>so how to change dateformat  in list for flutter  ?\nnow its giving 01-03-2022 i need 01-mar-2022</p>\n"},{"tags":["java","javascript","client-side","server-side","google-translate"],"answers":[{"tags":[],"owner":{"account_id":172825,"reputation":9242,"user_id":401096,"accept_rate":75,"display_name":"bwest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299301034,"creation_date":1299301034,"answer_id":5201786,"question_id":5201769,"body_markdown":"There is nothing limiting the Google Translate API to client side code. There is a [RESTful Google Translate interface][1] available. You are free to consume this API from the client side or from javascript-originated requests from the browser. I have implemented a text localizing service using this API from the server side in the past.\r\n\r\n\r\n  [1]: http://code.google.com/apis/language/translate/v2/using_rest.html\r\n","title":"Are there any APIs for programmatically translating text on the server-side?","body":"<p>There is nothing limiting the Google Translate API to client side code. There is a <a href=\"http://code.google.com/apis/language/translate/v2/using_rest.html\" rel=\"nofollow\">RESTful Google Translate interface</a> available. You are free to consume this API from the client side or from javascript-originated requests from the browser. I have implemented a text localizing service using this API from the server side in the past.</p>\n"},{"tags":[],"owner":{"account_id":153959,"reputation":17661,"user_id":369591,"accept_rate":88,"display_name":"Brandon Frohbieter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299301112,"creation_date":1299301112,"answer_id":5201792,"question_id":5201769,"body_markdown":"Here is a Java API...\r\n\r\nhttp://code.google.com/p/google-api-translate-java/\r\n\r\nand just for reference, a PHP implementation - \r\n\r\nhttp://code.google.com/p/gtranslate-api-php/","title":"Are there any APIs for programmatically translating text on the server-side?","body":"<p>Here is a Java API...</p>\n\n<p><a href=\"http://code.google.com/p/google-api-translate-java/\" rel=\"nofollow\">http://code.google.com/p/google-api-translate-java/</a></p>\n\n<p>and just for reference, a PHP implementation - </p>\n\n<p><a href=\"http://code.google.com/p/gtranslate-api-php/\" rel=\"nofollow\">http://code.google.com/p/gtranslate-api-php/</a></p>\n"},{"tags":[],"owner":{"account_id":2387746,"reputation":1070,"user_id":2088345,"display_name":"ahong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646285893,"creation_date":1646285893,"answer_id":71332553,"question_id":5201769,"body_markdown":"Although this is an old question, for anyone that comes here and is looking for a more up to date answer, there is the [Google Cloud Translation API](https://cloud.google.com/translate/docs/overview) which is Google&#39;s fuller translation package, with the &quot;Advanced&quot; version being server-side only ([does not allow API keys](https://cloud.google.com/translate/docs/editions)).\r\n\r\nIt comes with an [official Java client](https://cloud.google.com/translate/docs/reference/libraries/v3/java).\r\n\r\nAlso, it is free for the [&quot;First 500,000 characters* per month&quot;](https://cloud.google.com/translate/pricing).","title":"Are there any APIs for programmatically translating text on the server-side?","body":"<p>Although this is an old question, for anyone that comes here and is looking for a more up to date answer, there is the <a href=\"https://cloud.google.com/translate/docs/overview\" rel=\"nofollow noreferrer\">Google Cloud Translation API</a> which is Google's fuller translation package, with the &quot;Advanced&quot; version being server-side only (<a href=\"https://cloud.google.com/translate/docs/editions\" rel=\"nofollow noreferrer\">does not allow API keys</a>).</p>\n<p>It comes with an <a href=\"https://cloud.google.com/translate/docs/reference/libraries/v3/java\" rel=\"nofollow noreferrer\">official Java client</a>.</p>\n<p>Also, it is free for the <a href=\"https://cloud.google.com/translate/pricing\" rel=\"nofollow noreferrer\">&quot;First 500,000 characters* per month&quot;</a>.</p>\n"}],"owner":{"account_id":717411,"reputation":51,"user_id":645734,"display_name":"Oscar Demassio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1646285893,"creation_date":1299300828,"question_id":5201769,"body_markdown":"\r\nI&#39;ve looked at Google Translate but from what I can tell it only offers a client-side JavaScript API for freely translating text between languages.\r\n\r\nWhat I need to do is translate text on the server side in Java. Is there a library that makes it possible to do this for free with Google Translate?","title":"Are there any APIs for programmatically translating text on the server-side?","body":"<p>I've looked at Google Translate but from what I can tell it only offers a client-side JavaScript API for freely translating text between languages.</p>\n\n<p>What I need to do is translate text on the server side in Java. Is there a library that makes it possible to do this for free with Google Translate?</p>\n"},{"tags":["java","android","android-studio","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646285687,"creation_date":1646285687,"answer_id":71332535,"question_id":71324666,"body_markdown":"[GitHub-AlarmManger][1] this library you&#39;re using (directly or through dependencies) has not been updated in a long time. the merged manifest is throwing the error from there. You can either fork the library and fix it yourself, or consider using a different library.\r\n\r\nIf you want to fork and fix:\r\n\r\n1. Fork the library\r\n2. Fix the manifest there\r\n3. Go to [JitPack][2] and find your repo\r\n4. Use it as a dependency\r\n\r\n\r\n  [1]: https://github.com/zubairehman/AlarmManager\r\n  [2]: https://jitpack.io/","title":"How to fix android app bundle exported error in Android Studio","body":"<p><a href=\"https://github.com/zubairehman/AlarmManager\" rel=\"nofollow noreferrer\">GitHub-AlarmManger</a> this library you're using (directly or through dependencies) has not been updated in a long time. the merged manifest is throwing the error from there. You can either fork the library and fix it yourself, or consider using a different library.</p>\n<p>If you want to fork and fix:</p>\n<ol>\n<li>Fork the library</li>\n<li>Fix the manifest there</li>\n<li>Go to <a href=\"https://jitpack.io/\" rel=\"nofollow noreferrer\">JitPack</a> and find your repo</li>\n<li>Use it as a dependency</li>\n</ol>\n"}],"owner":{"account_id":22493873,"reputation":13,"user_id":16691221,"display_name":"sidharth P.L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71332535,"answer_count":1,"score":0,"last_activity_date":1646285687,"creation_date":1646232539,"question_id":71324666,"body_markdown":"Hi so I just want to release an update for my app and when I upload the app bundle to Google Play Console, I&#39;m getting this error: [Error showing in Play Console][1]\r\n\r\nand I saw some solutions for that. In that they are telling me add a line called `android:exported=&quot;true&quot;` then they are telling me to look on merged manifest. here is mine: [Merged Manifest][2] to see the log. It is showing me the same error in merged manifest. But I can&#39;t Solve it. Please help me with this. Thanks in advance. This is my manifest file: [Manifest file][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fNL4V.png\r\n  [2]: https://i.stack.imgur.com/33beO.png\r\n  [3]: https://i.stack.imgur.com/axBWH.png","title":"How to fix android app bundle exported error in Android Studio","body":"<p>Hi so I just want to release an update for my app and when I upload the app bundle to Google Play Console, I'm getting this error: <a href=\"https://i.stack.imgur.com/fNL4V.png\" rel=\"nofollow noreferrer\">Error showing in Play Console</a></p>\n<p>and I saw some solutions for that. In that they are telling me add a line called <code>android:exported=&quot;true&quot;</code> then they are telling me to look on merged manifest. here is mine: <a href=\"https://i.stack.imgur.com/33beO.png\" rel=\"nofollow noreferrer\">Merged Manifest</a> to see the log. It is showing me the same error in merged manifest. But I can't Solve it. Please help me with this. Thanks in advance. This is my manifest file: <a href=\"https://i.stack.imgur.com/axBWH.png\" rel=\"nofollow noreferrer\">Manifest file</a></p>\n"},{"tags":["java","hibernate","jpa","persistence"],"answers":[{"tags":[],"owner":{"account_id":41465,"reputation":43854,"user_id":120513,"accept_rate":100,"display_name":"Daff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251781860,"creation_date":1251781860,"answer_id":1360629,"question_id":1360606,"body_markdown":"Have a look at the [Hibernate Annotations Documentation about Collections][1] basically you have to tell the list in what relation it stands to.\r\n\r\n    @OneToMany(mappedBy=&quot;blog&quot;)\r\n    public List&lt;String&gt; getList() { return list; }\r\n\r\nThen it should work.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#entity-mapping-association-collections","title":"Persist collection fields with hibernate","body":"<p>Have a look at the <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html/entity.html#entity-mapping-association-collections\" rel=\"nofollow noreferrer\">Hibernate Annotations Documentation about Collections</a> basically you have to tell the list in what relation it stands to.</p>\n\n<pre><code>@OneToMany(mappedBy=\"blog\")\npublic List&lt;String&gt; getList() { return list; }\n</code></pre>\n\n<p>Then it should work.</p>\n"},{"tags":[],"owner":{"account_id":51776,"reputation":3994,"user_id":154722,"accept_rate":82,"display_name":"shipmaster"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1251783139,"creation_date":1251783139,"answer_id":1360681,"question_id":1360606,"body_markdown":"Have a look at [This][1]. Maybe it is of help.\r\n\r\nDid you apply @CollectionOfElements as follows?\r\n\r\n    @org.hibernate.annotations.CollectionOfElements(\r\n    targetElement = java.lang.String.class\r\n)\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/287201/how-to-persist-a-property-of-type-liststringin-jpa","title":"Persist collection fields with hibernate","body":"<p>Have a look at <a href=\"https://stackoverflow.com/questions/287201/how-to-persist-a-property-of-type-liststringin-jpa\">This</a>. Maybe it is of help.</p>\n\n<p>Did you apply @CollectionOfElements as follows?</p>\n\n<pre><code>@org.hibernate.annotations.CollectionOfElements(\ntargetElement = java.lang.String.class\n</code></pre>\n\n<p>)</p>\n"},{"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251785168,"creation_date":1251785168,"answer_id":1360768,"question_id":1360606,"body_markdown":"Use a `Serializable` object seems to work better.  Changing `list` property to `ArrayList&lt;String&gt;` seems to solve the problem.\r\n","title":"Persist collection fields with hibernate","body":"<p>Use a <code>Serializable</code> object seems to work better.  Changing <code>list</code> property to <code>ArrayList&lt;String&gt;</code> seems to solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646285269,"creation_date":1646285269,"answer_id":71332475,"question_id":1360606,"body_markdown":"   \r\n\r\n     package com.company.directDataLoader.model.admin;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import javax.persistence.AttributeConverter;\r\n    \r\n    import static java.util.Collections.emptyList;\r\n    \r\n    public class StringListConverter implements AttributeConverter&lt;Collection&lt;String&gt;, String&gt; {\r\n    \tprivate static final String SPLIT_CHAR = &quot;;&quot;;\r\n    \r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(Collection&lt;String&gt; stringList) {\r\n    \t\treturn stringList != null ? String.join(SPLIT_CHAR, stringList) : &quot;&quot;;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;String&gt; convertToEntityAttribute(String string) {\r\n    \t\treturn string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\r\n    \t}\r\n    }\r\n\r\n\r\nIn the entity class:\r\n\r\n\t@Column(name=&quot;table_keys&quot;)\r\n\t@Convert(converter = StringListConverter.class)\r\n\tprivate Collection&lt;String&gt; tableKeys;\r\n\r\n","title":"Persist collection fields with hibernate","body":"<pre><code> package com.company.directDataLoader.model.admin;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport javax.persistence.AttributeConverter;\n\nimport static java.util.Collections.emptyList;\n\npublic class StringListConverter implements AttributeConverter&lt;Collection&lt;String&gt;, String&gt; {\n    private static final String SPLIT_CHAR = &quot;;&quot;;\n\n    @Override\n    public String convertToDatabaseColumn(Collection&lt;String&gt; stringList) {\n        return stringList != null ? String.join(SPLIT_CHAR, stringList) : &quot;&quot;;\n    }\n\n    @Override\n    public Collection&lt;String&gt; convertToEntityAttribute(String string) {\n        return string != null ? Arrays.asList(string.split(SPLIT_CHAR)) : emptyList();\n    }\n}\n</code></pre>\n<p>In the entity class:</p>\n<pre><code>@Column(name=&quot;table_keys&quot;)\n@Convert(converter = StringListConverter.class)\nprivate Collection&lt;String&gt; tableKeys;\n</code></pre>\n"}],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16097,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1360681,"answer_count":4,"score":9,"last_activity_date":1646285269,"creation_date":1251781270,"question_id":1360606,"body_markdown":"Using hibernate, how can I persist a class with a `List&lt;String&gt;` field?\r\n\r\nConsider the following entity class:\r\n\r\n    @Entity\r\n    public class Blog {\r\n        private Long id;\r\n        private List&lt;String&gt; list;\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        public Long getId() { return id; }\r\n        public void setId(Long id) { this.id = id; }\r\n    \r\n        public List&lt;String&gt; getList() { return list; }\r\n        public void setList(List&lt;String&gt; list) { this.list = list; }\r\n    }\r\n\r\nHowever, when I attempt to save it, I get the following error:\r\n\r\n    [INFO] An exception occured while executing the Java class. null\r\n    \r\n    Could not determine type for: java.util.List, at table: Blog, for columns: [org.hibernate.mapping.Column(list)]\r\n\r\nI tried adding &#39;`@CollectionOfElements`&#39; to `getList()`, but then only the `id` is saved to the library.  No corresponding column is created for the list.\r\n\r\nNote: I&#39;m just trying Hibernate, so I could use documentation links that we will help me understand the collection relationship management in Hibernate","title":"Persist collection fields with hibernate","body":"<p>Using hibernate, how can I persist a class with a <code>List&lt;String&gt;</code> field?</p>\n\n<p>Consider the following entity class:</p>\n\n<pre><code>@Entity\npublic class Blog {\n    private Long id;\n    private List&lt;String&gt; list;\n\n    @Id\n    @GeneratedValue\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n\n    public List&lt;String&gt; getList() { return list; }\n    public void setList(List&lt;String&gt; list) { this.list = list; }\n}\n</code></pre>\n\n<p>However, when I attempt to save it, I get the following error:</p>\n\n<pre><code>[INFO] An exception occured while executing the Java class. null\n\nCould not determine type for: java.util.List, at table: Blog, for columns: [org.hibernate.mapping.Column(list)]\n</code></pre>\n\n<p>I tried adding '<code>@CollectionOfElements</code>' to <code>getList()</code>, but then only the <code>id</code> is saved to the library.  No corresponding column is created for the list.</p>\n\n<p>Note: I'm just trying Hibernate, so I could use documentation links that we will help me understand the collection relationship management in Hibernate</p>\n"},{"tags":["java","reflection","annotations"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1520234788,"post_id":49105303,"comment_id":85215617,"body_markdown":"Is `@SomeAnnotation` your annotation class?","body":"Is <code>@SomeAnnotation</code> your annotation class?"},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1520234827,"post_id":49105303,"comment_id":85215642,"body_markdown":"@daniu Yes, this is my annotation. But does it matter?","body":"@daniu Yes, this is my annotation. But does it matter?"}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1520234877,"creation_date":1520234877,"answer_id":49105375,"question_id":49105303,"body_markdown":"You need to declare `@SomeAnnotation` as `@Inherited`:\r\n\r\n    @Inherited\r\n    @interface SomeAnnotation {}","title":"How to get annotation from overridden method in Java?","body":"<p>You need to declare <code>@SomeAnnotation</code> as <code>@Inherited</code>:</p>\n\n<pre><code>@Inherited\n@interface SomeAnnotation {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646285188,"creation_date":1520430560,"answer_id":49153521,"question_id":49105303,"body_markdown":"I think you have get super class method and test for annotation. Other than that java does not support to get super method annotations. \r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.FIELD, ElementType.METHOD, ElementType.TYPE})\r\n    @Inherited\r\n    public @interface SomeAnnotation {\r\n    }\r\n\r\n    @SomeAnnotation\r\n    public class Parent {\r\n    \r\n        @SomeAnnotation\r\n        public void someMethod() {\r\n            System.out.println(&quot;Parent&quot;);\r\n        }\r\n    }\r\n\r\n    public class Child extends Parent {\r\n    \r\n        @Override\r\n        public void someMethod() {\r\n            super.someMethod();\r\n        }\r\n    \r\n        public static void main(String[] args) throws NoSuchMethodException {\r\n            Class clazz = Child.class;\r\n    \r\n            System.out.println(&quot;Child Method&quot;);\r\n            Method method = clazz.getMethod(&quot;someMethod&quot;);\r\n            Arrays.stream(method.getDeclaredAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\r\n    \r\n            System.out.println(&quot;Parent Method&quot;);\r\n            Method superMethod = clazz.getSuperclass().getMethod(&quot;someMethod&quot;);\r\n            Arrays.stream(superMethod.getDeclaredAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\r\n    \r\n            System.out.println(&quot;Class Level support inherited annotations. &quot;);\r\n            Arrays.stream(clazz.getAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\r\n        }\r\n    }\r\n\r\nAlso you can do some generic way is access super class by dynamically. As\r\n\r\n    public void printAnnotationInMethod(String methodName, Class clazz) {\r\n            try {\r\n                Method method = clazz.getDeclaredMethod(methodName);\r\n                Arrays.stream(method.getDeclaredAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\r\n                if (null != clazz.getSuperclass()) {\r\n                    printAnnotationInMethod(methodName, clazz.getSuperclass());\r\n                }\r\n            } catch (NoSuchMethodException e) {\r\n                //e.printStackTrace();\r\n            } catch (SecurityException e) {\r\n                //e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n@Inherited in annotation support only for annotation which use TYPE. (classes level only)\r\n\r\nFor reference \r\n[Java Inheritance annotation][1]\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html#annotation-inheritance\r\n","title":"How to get annotation from overridden method in Java?","body":"<p>I think you have get super class method and test for annotation. Other than that java does not support to get super method annotations.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.TYPE})\n@Inherited\npublic @interface SomeAnnotation {\n}\n\n@SomeAnnotation\npublic class Parent {\n\n    @SomeAnnotation\n    public void someMethod() {\n        System.out.println(&quot;Parent&quot;);\n    }\n}\n\npublic class Child extends Parent {\n\n    @Override\n    public void someMethod() {\n        super.someMethod();\n    }\n\n    public static void main(String[] args) throws NoSuchMethodException {\n        Class clazz = Child.class;\n\n        System.out.println(&quot;Child Method&quot;);\n        Method method = clazz.getMethod(&quot;someMethod&quot;);\n        Arrays.stream(method.getDeclaredAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\n\n        System.out.println(&quot;Parent Method&quot;);\n        Method superMethod = clazz.getSuperclass().getMethod(&quot;someMethod&quot;);\n        Arrays.stream(superMethod.getDeclaredAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\n\n        System.out.println(&quot;Class Level support inherited annotations. &quot;);\n        Arrays.stream(clazz.getAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\n    }\n}\n</code></pre>\n<p>Also you can do some generic way is access super class by dynamically. As</p>\n<pre><code>public void printAnnotationInMethod(String methodName, Class clazz) {\n        try {\n            Method method = clazz.getDeclaredMethod(methodName);\n            Arrays.stream(method.getDeclaredAnnotations()).forEach(annotation -&gt; System.out.println(annotation));\n            if (null != clazz.getSuperclass()) {\n                printAnnotationInMethod(methodName, clazz.getSuperclass());\n            }\n        } catch (NoSuchMethodException e) {\n            //e.printStackTrace();\n        } catch (SecurityException e) {\n            //e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>@Inherited in annotation support only for annotation which use TYPE. (classes level only)</p>\n<p>For reference\n<a href=\"http://www.eclipse.org/aspectj/doc/released/adk15notebook/annotations.html#annotation-inheritance\" rel=\"nofollow noreferrer\">Java Inheritance annotation</a></p>\n"},{"tags":[],"owner":{"account_id":5160541,"reputation":357,"user_id":5332993,"accept_rate":40,"display_name":"Satyendra Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520434808,"creation_date":1520434808,"answer_id":49154963,"question_id":49105303,"body_markdown":"Is this what you want, or am I missing something?\r\n\r\n    \t\r\n\t\t@Retention(RetentionPolicy.RUNTIME)\r\n\t\t@interface SomeAnnotation{\r\n\t\t}\r\n\r\n\t\tclass Parent {\r\n\t\t\t@SomeAnnotation()\r\n\t\t\tpublic void someMethod(){\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass Child extends Parent {\r\n\t\t\t@Override\r\n\t\t\tpublic void someMethod(){\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass Test{\r\n\t\t\tpublic static void main(String[] args) throws NoSuchMethodException {\r\n\t\t\t\tChild child = new Child();\r\n\t\t\t\tMethod someMethodChild = child.getClass().getMethod(&quot;someMethod&quot;);\r\n\t\t\t\tClass&lt;?&gt; superclass = someMethodChild.getDeclaringClass().getSuperclass();\r\n\t\t\t\tSystem.out.println(superclass.getMethod(&quot;someMethod&quot;).getAnnotations().length); //prints 1\r\n\t\t\t}\r\n\t\t}","title":"How to get annotation from overridden method in Java?","body":"<p>Is this what you want, or am I missing something?</p>\n\n<pre><code>    @Retention(RetentionPolicy.RUNTIME)\n    @interface SomeAnnotation{\n    }\n\n    class Parent {\n        @SomeAnnotation()\n        public void someMethod(){\n\n        }\n    }\n\n    class Child extends Parent {\n        @Override\n        public void someMethod(){\n        }\n    }\n\n    class Test{\n        public static void main(String[] args) throws NoSuchMethodException {\n            Child child = new Child();\n            Method someMethodChild = child.getClass().getMethod(\"someMethod\");\n            Class&lt;?&gt; superclass = someMethodChild.getDeclaringClass().getSuperclass();\n            System.out.println(superclass.getMethod(\"someMethod\").getAnnotations().length); //prints 1\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1520521479,"creation_date":1520479033,"answer_id":49164791,"question_id":49105303,"body_markdown":"Here&#39;s a complete solution. I believe this should be correct for *all* cases, except in strange situations like `class A extends B` where `A` and `B` were loaded by different class loaders. This also might not work correctly with other JVM languages (like Scala) where methods can have the same erasure but not override one another (like `void m(List&lt;A&gt; l)` and `void m(List&lt;B&gt; l)`, which would cause a compilation error in Java).\r\n\r\nDoing this correctly turns out to be a bit complicated, because you have to make sure that two methods actually override each other, and there&#39;s no method that does that in Java SE at the moment. It&#39;s useful code to have on the site, anyway.\r\n\r\n    package mcve.reflect;\r\n    \r\n    import java.util.*;\r\n    import java.lang.reflect.*;\r\n    import java.lang.annotation.*;\r\n    \r\n    public final class MCVEReflect {\r\n        private MCVEReflect() {}\r\n        \r\n        /**\r\n         * Returns the 0th element of the list returned by\r\n         * {@code getAnnotations}, or {@code null} if the\r\n         * list would be empty.\r\n         * \r\n         * @param  &lt;A&gt; the type of the annotation to find.\r\n         * @param  m   the method to begin the search from.\r\n         * @param  t   the type of the annotation to find.\r\n         * @return the first annotation found of the specified type which\r\n         *         is present on {@code m}, or present on any methods which\r\n         *         {@code m} overrides.\r\n         * @throws NullPointerException if any argument is {@code null}.\r\n         * @see    MCVEReflect#getAnnotations(Method, Class)\r\n         */\r\n        public static &lt;A extends Annotation&gt; A getAnnotation(Method m, Class&lt;A&gt; t) {\r\n            List&lt;A&gt; list = getAnnotations(m, t);\r\n            return list.isEmpty() ? null : list.get(0);\r\n        }\r\n        \r\n        /**\r\n         * Let {@code D} be the class or interface which declares the method\r\n         * {@code m}.\r\n         * &lt;p&gt;\r\n         * Returns a list of all of the annotations of the specified type\r\n         * which are either present on {@code m}, or present on any methods\r\n         * declared by a supertype of {@code D} which {@code m} overrides.\r\n         * &lt;p&gt;\r\n         * Annotations are listed in order of nearest proximity to {@code D},\r\n         * that is, assuming {@code D extends E} and {@code E extends F}, then\r\n         * the returned list would contain annotations in the order of\r\n         * {@code [D, E, F]}. A bit more formally, if {@code Sn} is the nth\r\n         * superclass of {@code D} (where {@code n} is an integer starting at 0),\r\n         * then the index of the annotation present on {@code Sn.m} is {@code n+1},\r\n         * assuming annotations are present on {@code m} for every class.\r\n         * &lt;p&gt;\r\n         * Annotations from methods declared by the superinterfaces of {@code D}\r\n         * appear &lt;em&gt;last&lt;/em&gt; in the list, in order of their declaration,\r\n         * recursively. For example, if {@code class D implements X, Y} and\r\n         * {@code interface X extends Z}, then annotations will appear in the\r\n         * list in the order of {@code [D, X, Z, Y]}.\r\n         * \r\n         * @param  &lt;A&gt; the type of the annotation to find.\r\n         * @param  m   the method to begin the search from.\r\n         * @param  t   the type of the annotation to find.\r\n         * @return a list of all of the annotations of the specified type\r\n         *         which are either present on {@code m}, or present on any\r\n         *         methods which {@code m} overrides.\r\n         * @throws NullPointerException if any argument is {@code null}.\r\n         */\r\n        public static &lt;A extends Annotation&gt; List&lt;A&gt; getAnnotations(Method m, Class&lt;A&gt; t) {\r\n            List&lt;A&gt; list = new ArrayList&lt;&gt;();\r\n            Collections.addAll(list, m.getAnnotationsByType(t));\r\n            Class&lt;?&gt; decl = m.getDeclaringClass();\r\n            \r\n            for (Class&lt;?&gt; supr = decl; (supr = supr.getSuperclass()) != null;) {\r\n                addAnnotations(list, m, t, supr);\r\n            }\r\n            for (Class&lt;?&gt; face : getAllInterfaces(decl)) {\r\n                addAnnotations(list, m, t, face);\r\n            }\r\n            \r\n            return list;\r\n        }\r\n        \r\n        private static Set&lt;Class&lt;?&gt;&gt; getAllInterfaces(Class&lt;?&gt; c) {\r\n            Set&lt;Class&lt;?&gt;&gt; set = new LinkedHashSet&lt;&gt;();\r\n            do {\r\n                addAllInterfaces(set, c);\r\n            } while ((c = c.getSuperclass()) != null);\r\n            return set;\r\n        }\r\n        private static void addAllInterfaces(Set&lt;Class&lt;?&gt;&gt; set, Class&lt;?&gt; c) {\r\n            for (Class&lt;?&gt; i : c.getInterfaces()) {\r\n                if (set.add(i)) {\r\n                    addAllInterfaces(set, i);\r\n                }\r\n            }\r\n        }\r\n        private static &lt;A extends Annotation&gt; void addAnnotations\r\n                (List&lt;A&gt; list, Method m, Class&lt;A&gt; t, Class&lt;?&gt; decl) {\r\n            try {\r\n                Method n = decl.getDeclaredMethod(m.getName(), m.getParameterTypes());\r\n                if (overrides(m, n)) {\r\n                    Collections.addAll(list, n.getAnnotationsByType(t));\r\n                }\r\n            } catch (NoSuchMethodException x) {\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * @param  a the method which may override {@code b}.\r\n         * @param  b the method which may be overridden by {@code a}.\r\n         * @return {@code true} if {@code a} probably overrides {@code b}\r\n         *         and {@code false} otherwise.\r\n         * @throws NullPointerException if any argument is {@code null}.\r\n         */\r\n        public static boolean overrides(Method a, Method b) {\r\n            if (!a.getName().equals(b.getName()))\r\n                return false;\r\n            Class&lt;?&gt; classA = a.getDeclaringClass();\r\n            Class&lt;?&gt; classB = b.getDeclaringClass();\r\n            if (classA.equals(classB))\r\n                return false;\r\n            if (!classB.isAssignableFrom(classA))\r\n                return false;\r\n            int modsA = a.getModifiers();\r\n            int modsB = b.getModifiers();\r\n            if (Modifier.isPrivate(modsA) || Modifier.isPrivate(modsB))\r\n                return false;\r\n            if (Modifier.isStatic(modsA) || Modifier.isStatic(modsB))\r\n                return false;\r\n            if (Modifier.isFinal(modsB))\r\n                return false;\r\n            if (compareAccess(modsA, modsB) &lt; 0)\r\n                return false;\r\n            if ((isPackageAccess(modsA) || isPackageAccess(modsB))\r\n                &amp;&amp; !Objects.equals(classA.getPackage(), classB.getPackage()))\r\n                return false;\r\n            if (!b.getReturnType().isAssignableFrom(a.getReturnType()))\r\n                return false;\r\n            Class&lt;?&gt;[] paramsA = a.getParameterTypes();\r\n            Class&lt;?&gt;[] paramsB = b.getParameterTypes();\r\n            if (paramsA.length != paramsB.length)\r\n                return false;\r\n            for (int i = 0; i &lt; paramsA.length; ++i)\r\n                if (!paramsA[i].equals(paramsB[i]))\r\n                    return false;\r\n            return true;\r\n        }\r\n        \r\n        public static boolean isPackageAccess(int mods) {\r\n            return (mods &amp; ACCESS_MODIFIERS) == 0;\r\n        }\r\n        \r\n        private static final int ACCESS_MODIFIERS =\r\n            Modifier.PUBLIC | Modifier.PROTECTED | Modifier.PRIVATE;\r\n        private static final List&lt;Integer&gt; ACCESS_ORDER =\r\n            Arrays.asList(Modifier.PRIVATE,\r\n                          0,\r\n                          Modifier.PROTECTED,\r\n                          Modifier.PUBLIC);\r\n        public static int compareAccess(int lhs, int rhs) {\r\n            return Integer.compare(ACCESS_ORDER.indexOf(lhs &amp; ACCESS_MODIFIERS),\r\n                                   ACCESS_ORDER.indexOf(rhs &amp; ACCESS_MODIFIERS));\r\n        }\r\n    }\r\n\r\nHere&#39;s a JUnit 4 test as well:\r\n\r\n    package mcve.reflect;\r\n    \r\n    import static mcve.reflect.MCVEReflect.*;\r\n    \r\n    import java.lang.reflect.*;\r\n    import java.lang.annotation.*;\r\n    import java.util.*;\r\n    import static java.util.stream.Collectors.*;\r\n    import org.junit.*;\r\n    import static org.junit.Assert.*;\r\n    \r\n    public class MCVEReflectTest {\r\n        public MCVEReflectTest() {\r\n        }\r\n        \r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @interface AnnoContainer {\r\n            Anno[] value();\r\n        }\r\n        \r\n        @Repeatable(AnnoContainer.class)\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @interface Anno {\r\n            String value();\r\n        }\r\n        \r\n        interface I {\r\n            @Anno(&quot;I.m&quot;)\r\n            void m();\r\n        }\r\n        interface J extends I {\r\n            @Anno(&quot;J.m&quot;)\r\n            @Override\r\n            void m();\r\n        }\r\n        interface K {\r\n            @Anno(&quot;K.m&quot;)\r\n            void m();\r\n        }\r\n        \r\n        @Test\r\n        public void getAnnotationsTest() throws NoSuchMethodException {\r\n            try {\r\n                getAnnotations(null, Anno.class);\r\n                fail();\r\n            } catch (NullPointerException x) {\r\n            }\r\n            try {\r\n                getAnnotations(List.class.getMethod(&quot;size&quot;), null);\r\n                fail();\r\n            } catch (NullPointerException x) {\r\n            }\r\n            \r\n            class A {\r\n                @Anno(&quot;A.m&quot;)\r\n                void m() {}\r\n                @Anno(&quot;A.m(int)&quot;)\r\n                void m(int a) {}\r\n            }\r\n            class B extends A implements K {\r\n                @Anno(&quot;B.m 1&quot;)\r\n                @Anno(&quot;B.m 2&quot;)\r\n                @Override\r\n                public void m() {}\r\n            }\r\n            class C extends B implements J {\r\n                @Anno(&quot;C.m&quot;)\r\n                @Override\r\n                public void m() {}\r\n            }\r\n            \r\n            System.out.println(Arrays.toString(B.class.getInterfaces()));\r\n            \r\n            List&lt;Anno&gt;   annos;\r\n            List&lt;String&gt; expect;\r\n            List&lt;String&gt; actual;\r\n            \r\n            annos  = getAnnotations(A.class.getDeclaredMethod(&quot;m&quot;), Anno.class);\r\n            expect = Arrays.asList(&quot;A.m&quot;);\r\n            actual = annos.stream().map(Anno::value).collect(toList());\r\n            \r\n            assertEquals(expect, actual);\r\n            \r\n            annos  = getAnnotations(B.class.getDeclaredMethod(&quot;m&quot;), Anno.class);\r\n            expect = Arrays.asList(&quot;B.m 1&quot;, &quot;B.m 2&quot;, &quot;A.m&quot;, &quot;K.m&quot;);\r\n            actual = annos.stream().map(Anno::value).collect(toList());\r\n            \r\n            assertEquals(expect, actual);\r\n            \r\n            annos  = getAnnotations(C.class.getDeclaredMethod(&quot;m&quot;), Anno.class);\r\n            expect = Arrays.asList(&quot;C.m&quot;, &quot;B.m 1&quot;, &quot;B.m 2&quot;, &quot;A.m&quot;, &quot;J.m&quot;, &quot;I.m&quot;, &quot;K.m&quot;);\r\n            actual = annos.stream().map(Anno::value).collect(toList());\r\n            \r\n            assertEquals(expect, actual);\r\n            \r\n            annos  = getAnnotations(J.class.getDeclaredMethod(&quot;m&quot;), Anno.class);\r\n            expect = Arrays.asList(&quot;J.m&quot;, &quot;I.m&quot;);\r\n            actual = annos.stream().map(Anno::value).collect(toList());\r\n            \r\n            assertEquals(expect, actual);\r\n            \r\n            annos = getAnnotations(Object.class.getMethod(&quot;toString&quot;), Anno.class);\r\n            assertEquals(Collections.emptyList(), annos);\r\n        }\r\n        \r\n        private boolean overrides(Method a, Method b) {\r\n            return MCVEReflect.overrides(a, b);\r\n        }\r\n        \r\n        private boolean overrides(Class&lt;?&gt; classA, String nameA,\r\n                                  Class&lt;?&gt; classB, String nameB)\r\n                throws NoSuchMethodException {\r\n            return MCVEReflect.overrides(classA.getDeclaredMethod(nameA),\r\n                                         classB.getDeclaredMethod(nameB));\r\n        }\r\n        \r\n        private boolean overrides(Class&lt;?&gt; classA, Class&lt;?&gt; classB, String name)\r\n                throws NoSuchMethodException {\r\n            return overrides(classA, name, classB, name);\r\n        }\r\n        \r\n        @Test\r\n        public void overridesTest() throws NoSuchMethodException {\r\n            try {\r\n                overrides(null, List.class.getMethod(&quot;size&quot;));\r\n                fail();\r\n            } catch (NullPointerException x) {\r\n            }\r\n            try {\r\n                overrides(List.class.getMethod(&quot;size&quot;), null);\r\n                fail();\r\n            } catch (NullPointerException x) {\r\n            }\r\n            \r\n            assertTrue(&quot;this is an override&quot;, overrides(ArrayList.class, &quot;size&quot;,  List.class, &quot;size&quot;));\r\n            assertFalse(&quot;same method&quot;,        overrides(List.class,      &quot;size&quot;,  List.class, &quot;size&quot;));\r\n            assertFalse(&quot;different methods&quot;,  overrides(ArrayList.class, &quot;clear&quot;, List.class, &quot;size&quot;));\r\n            \r\n            class A { private void m() {} }\r\n            class B extends A { private void m() {} }\r\n            \r\n            assertFalse(&quot;private methods&quot;, overrides(B.class, &quot;m&quot;, A.class, &quot;m&quot;));\r\n            \r\n            class C { public void m() {} }\r\n            class D { public void m() {} }\r\n            \r\n            assertFalse(&quot;no inheritance&quot;, overrides(D.class, &quot;m&quot;, C.class, &quot;m&quot;));\r\n            \r\n            class E { public void m() {} }\r\n            class F { public void m() {} }\r\n            class G extends F { @Override public void m() {} }\r\n            \r\n            assertTrue(&quot;yes inheritance&quot;, overrides(G.class, &quot;m&quot;, F.class, &quot;m&quot;));\r\n            assertFalse(&quot;no inheritance&quot;, overrides(G.class, &quot;m&quot;, E.class, &quot;m&quot;));\r\n            \r\n            class H {\r\n                public void m(char a) {}\r\n                public void m(long a) {}\r\n            }\r\n            class I extends H {\r\n                @Override public void m(char a) {}\r\n                @Override public void m(long a) {}\r\n            }\r\n            \r\n            assertTrue(&quot;same parameters&quot;,\r\n                       overrides(I.class.getDeclaredMethod(&quot;m&quot;, char.class),\r\n                                 H.class.getDeclaredMethod(&quot;m&quot;, char.class)));\r\n            assertFalse(&quot;different parameters&quot;,\r\n                        overrides(I.class.getDeclaredMethod(&quot;m&quot;, char.class),\r\n                                  H.class.getDeclaredMethod(&quot;m&quot;, long.class)));\r\n            \r\n            class SubHashMap extends HashMap&lt;Object, Object&gt; {\r\n                void reinitialize() {\r\n                }\r\n            }\r\n            \r\n            String reinitialize = &quot;reinitialize&quot;;\r\n            // if this throws, find another method as a replacement\r\n            Method m = HashMap.class.getDeclaredMethod(reinitialize);\r\n            assertTrue(isPackageAccess(m.getModifiers()));\r\n            assertFalse(Modifier.isFinal(m.getModifiers()));\r\n            \r\n            assertFalse(&quot;would override, except they are in different packages&quot;,\r\n                        overrides(SubHashMap.class, HashMap.class, reinitialize));\r\n        }\r\n        \r\n        @Test\r\n        public void compareAccessTest() {\r\n            assertEquals( 0, compareAccess(Modifier.PUBLIC,    Modifier.PUBLIC));\r\n            assertEquals(+1, compareAccess(Modifier.PUBLIC,    Modifier.PROTECTED));\r\n            assertEquals(+1, compareAccess(Modifier.PUBLIC,    0));\r\n            assertEquals(+1, compareAccess(Modifier.PUBLIC,    Modifier.PRIVATE));\r\n            assertEquals(-1, compareAccess(Modifier.PROTECTED, Modifier.PUBLIC));\r\n            assertEquals( 0, compareAccess(Modifier.PROTECTED, Modifier.PROTECTED));\r\n            assertEquals(+1, compareAccess(Modifier.PROTECTED, 0));\r\n            assertEquals(+1, compareAccess(Modifier.PROTECTED, Modifier.PRIVATE));\r\n            assertEquals(-1, compareAccess(0,                  Modifier.PUBLIC));\r\n            assertEquals(-1, compareAccess(0,                  Modifier.PROTECTED));\r\n            assertEquals( 0, compareAccess(0,                  0));\r\n            assertEquals(+1, compareAccess(0,                  Modifier.PRIVATE));\r\n            assertEquals(-1, compareAccess(Modifier.PRIVATE,   Modifier.PUBLIC));\r\n            assertEquals(-1, compareAccess(Modifier.PRIVATE,   Modifier.PROTECTED));\r\n            assertEquals(-1, compareAccess(Modifier.PRIVATE,   0));\r\n            assertEquals( 0, compareAccess(Modifier.PRIVATE,   Modifier.PRIVATE));\r\n            int notModsL = Modifier.PRIVATE | Modifier.PUBLIC;\r\n            int notModsR = Modifier.PRIVATE | Modifier.PROTECTED;\r\n            assertEquals(&quot;this might as well be undefined, but it&#39;s here for posterity&quot;,\r\n                         0, compareAccess(notModsL, notModsR));\r\n        }\r\n    }","title":"How to get annotation from overridden method in Java?","body":"<p>Here's a complete solution. I believe this should be correct for <em>all</em> cases, except in strange situations like <code>class A extends B</code> where <code>A</code> and <code>B</code> were loaded by different class loaders. This also might not work correctly with other JVM languages (like Scala) where methods can have the same erasure but not override one another (like <code>void m(List&lt;A&gt; l)</code> and <code>void m(List&lt;B&gt; l)</code>, which would cause a compilation error in Java).</p>\n\n<p>Doing this correctly turns out to be a bit complicated, because you have to make sure that two methods actually override each other, and there's no method that does that in Java SE at the moment. It's useful code to have on the site, anyway.</p>\n\n<pre><code>package mcve.reflect;\n\nimport java.util.*;\nimport java.lang.reflect.*;\nimport java.lang.annotation.*;\n\npublic final class MCVEReflect {\n    private MCVEReflect() {}\n\n    /**\n     * Returns the 0th element of the list returned by\n     * {@code getAnnotations}, or {@code null} if the\n     * list would be empty.\n     * \n     * @param  &lt;A&gt; the type of the annotation to find.\n     * @param  m   the method to begin the search from.\n     * @param  t   the type of the annotation to find.\n     * @return the first annotation found of the specified type which\n     *         is present on {@code m}, or present on any methods which\n     *         {@code m} overrides.\n     * @throws NullPointerException if any argument is {@code null}.\n     * @see    MCVEReflect#getAnnotations(Method, Class)\n     */\n    public static &lt;A extends Annotation&gt; A getAnnotation(Method m, Class&lt;A&gt; t) {\n        List&lt;A&gt; list = getAnnotations(m, t);\n        return list.isEmpty() ? null : list.get(0);\n    }\n\n    /**\n     * Let {@code D} be the class or interface which declares the method\n     * {@code m}.\n     * &lt;p&gt;\n     * Returns a list of all of the annotations of the specified type\n     * which are either present on {@code m}, or present on any methods\n     * declared by a supertype of {@code D} which {@code m} overrides.\n     * &lt;p&gt;\n     * Annotations are listed in order of nearest proximity to {@code D},\n     * that is, assuming {@code D extends E} and {@code E extends F}, then\n     * the returned list would contain annotations in the order of\n     * {@code [D, E, F]}. A bit more formally, if {@code Sn} is the nth\n     * superclass of {@code D} (where {@code n} is an integer starting at 0),\n     * then the index of the annotation present on {@code Sn.m} is {@code n+1},\n     * assuming annotations are present on {@code m} for every class.\n     * &lt;p&gt;\n     * Annotations from methods declared by the superinterfaces of {@code D}\n     * appear &lt;em&gt;last&lt;/em&gt; in the list, in order of their declaration,\n     * recursively. For example, if {@code class D implements X, Y} and\n     * {@code interface X extends Z}, then annotations will appear in the\n     * list in the order of {@code [D, X, Z, Y]}.\n     * \n     * @param  &lt;A&gt; the type of the annotation to find.\n     * @param  m   the method to begin the search from.\n     * @param  t   the type of the annotation to find.\n     * @return a list of all of the annotations of the specified type\n     *         which are either present on {@code m}, or present on any\n     *         methods which {@code m} overrides.\n     * @throws NullPointerException if any argument is {@code null}.\n     */\n    public static &lt;A extends Annotation&gt; List&lt;A&gt; getAnnotations(Method m, Class&lt;A&gt; t) {\n        List&lt;A&gt; list = new ArrayList&lt;&gt;();\n        Collections.addAll(list, m.getAnnotationsByType(t));\n        Class&lt;?&gt; decl = m.getDeclaringClass();\n\n        for (Class&lt;?&gt; supr = decl; (supr = supr.getSuperclass()) != null;) {\n            addAnnotations(list, m, t, supr);\n        }\n        for (Class&lt;?&gt; face : getAllInterfaces(decl)) {\n            addAnnotations(list, m, t, face);\n        }\n\n        return list;\n    }\n\n    private static Set&lt;Class&lt;?&gt;&gt; getAllInterfaces(Class&lt;?&gt; c) {\n        Set&lt;Class&lt;?&gt;&gt; set = new LinkedHashSet&lt;&gt;();\n        do {\n            addAllInterfaces(set, c);\n        } while ((c = c.getSuperclass()) != null);\n        return set;\n    }\n    private static void addAllInterfaces(Set&lt;Class&lt;?&gt;&gt; set, Class&lt;?&gt; c) {\n        for (Class&lt;?&gt; i : c.getInterfaces()) {\n            if (set.add(i)) {\n                addAllInterfaces(set, i);\n            }\n        }\n    }\n    private static &lt;A extends Annotation&gt; void addAnnotations\n            (List&lt;A&gt; list, Method m, Class&lt;A&gt; t, Class&lt;?&gt; decl) {\n        try {\n            Method n = decl.getDeclaredMethod(m.getName(), m.getParameterTypes());\n            if (overrides(m, n)) {\n                Collections.addAll(list, n.getAnnotationsByType(t));\n            }\n        } catch (NoSuchMethodException x) {\n        }\n    }\n\n    /**\n     * @param  a the method which may override {@code b}.\n     * @param  b the method which may be overridden by {@code a}.\n     * @return {@code true} if {@code a} probably overrides {@code b}\n     *         and {@code false} otherwise.\n     * @throws NullPointerException if any argument is {@code null}.\n     */\n    public static boolean overrides(Method a, Method b) {\n        if (!a.getName().equals(b.getName()))\n            return false;\n        Class&lt;?&gt; classA = a.getDeclaringClass();\n        Class&lt;?&gt; classB = b.getDeclaringClass();\n        if (classA.equals(classB))\n            return false;\n        if (!classB.isAssignableFrom(classA))\n            return false;\n        int modsA = a.getModifiers();\n        int modsB = b.getModifiers();\n        if (Modifier.isPrivate(modsA) || Modifier.isPrivate(modsB))\n            return false;\n        if (Modifier.isStatic(modsA) || Modifier.isStatic(modsB))\n            return false;\n        if (Modifier.isFinal(modsB))\n            return false;\n        if (compareAccess(modsA, modsB) &lt; 0)\n            return false;\n        if ((isPackageAccess(modsA) || isPackageAccess(modsB))\n            &amp;&amp; !Objects.equals(classA.getPackage(), classB.getPackage()))\n            return false;\n        if (!b.getReturnType().isAssignableFrom(a.getReturnType()))\n            return false;\n        Class&lt;?&gt;[] paramsA = a.getParameterTypes();\n        Class&lt;?&gt;[] paramsB = b.getParameterTypes();\n        if (paramsA.length != paramsB.length)\n            return false;\n        for (int i = 0; i &lt; paramsA.length; ++i)\n            if (!paramsA[i].equals(paramsB[i]))\n                return false;\n        return true;\n    }\n\n    public static boolean isPackageAccess(int mods) {\n        return (mods &amp; ACCESS_MODIFIERS) == 0;\n    }\n\n    private static final int ACCESS_MODIFIERS =\n        Modifier.PUBLIC | Modifier.PROTECTED | Modifier.PRIVATE;\n    private static final List&lt;Integer&gt; ACCESS_ORDER =\n        Arrays.asList(Modifier.PRIVATE,\n                      0,\n                      Modifier.PROTECTED,\n                      Modifier.PUBLIC);\n    public static int compareAccess(int lhs, int rhs) {\n        return Integer.compare(ACCESS_ORDER.indexOf(lhs &amp; ACCESS_MODIFIERS),\n                               ACCESS_ORDER.indexOf(rhs &amp; ACCESS_MODIFIERS));\n    }\n}\n</code></pre>\n\n<p>Here's a JUnit 4 test as well:</p>\n\n<pre><code>package mcve.reflect;\n\nimport static mcve.reflect.MCVEReflect.*;\n\nimport java.lang.reflect.*;\nimport java.lang.annotation.*;\nimport java.util.*;\nimport static java.util.stream.Collectors.*;\nimport org.junit.*;\nimport static org.junit.Assert.*;\n\npublic class MCVEReflectTest {\n    public MCVEReflectTest() {\n    }\n\n    @Retention(RetentionPolicy.RUNTIME)\n    @interface AnnoContainer {\n        Anno[] value();\n    }\n\n    @Repeatable(AnnoContainer.class)\n    @Retention(RetentionPolicy.RUNTIME)\n    @interface Anno {\n        String value();\n    }\n\n    interface I {\n        @Anno(\"I.m\")\n        void m();\n    }\n    interface J extends I {\n        @Anno(\"J.m\")\n        @Override\n        void m();\n    }\n    interface K {\n        @Anno(\"K.m\")\n        void m();\n    }\n\n    @Test\n    public void getAnnotationsTest() throws NoSuchMethodException {\n        try {\n            getAnnotations(null, Anno.class);\n            fail();\n        } catch (NullPointerException x) {\n        }\n        try {\n            getAnnotations(List.class.getMethod(\"size\"), null);\n            fail();\n        } catch (NullPointerException x) {\n        }\n\n        class A {\n            @Anno(\"A.m\")\n            void m() {}\n            @Anno(\"A.m(int)\")\n            void m(int a) {}\n        }\n        class B extends A implements K {\n            @Anno(\"B.m 1\")\n            @Anno(\"B.m 2\")\n            @Override\n            public void m() {}\n        }\n        class C extends B implements J {\n            @Anno(\"C.m\")\n            @Override\n            public void m() {}\n        }\n\n        System.out.println(Arrays.toString(B.class.getInterfaces()));\n\n        List&lt;Anno&gt;   annos;\n        List&lt;String&gt; expect;\n        List&lt;String&gt; actual;\n\n        annos  = getAnnotations(A.class.getDeclaredMethod(\"m\"), Anno.class);\n        expect = Arrays.asList(\"A.m\");\n        actual = annos.stream().map(Anno::value).collect(toList());\n\n        assertEquals(expect, actual);\n\n        annos  = getAnnotations(B.class.getDeclaredMethod(\"m\"), Anno.class);\n        expect = Arrays.asList(\"B.m 1\", \"B.m 2\", \"A.m\", \"K.m\");\n        actual = annos.stream().map(Anno::value).collect(toList());\n\n        assertEquals(expect, actual);\n\n        annos  = getAnnotations(C.class.getDeclaredMethod(\"m\"), Anno.class);\n        expect = Arrays.asList(\"C.m\", \"B.m 1\", \"B.m 2\", \"A.m\", \"J.m\", \"I.m\", \"K.m\");\n        actual = annos.stream().map(Anno::value).collect(toList());\n\n        assertEquals(expect, actual);\n\n        annos  = getAnnotations(J.class.getDeclaredMethod(\"m\"), Anno.class);\n        expect = Arrays.asList(\"J.m\", \"I.m\");\n        actual = annos.stream().map(Anno::value).collect(toList());\n\n        assertEquals(expect, actual);\n\n        annos = getAnnotations(Object.class.getMethod(\"toString\"), Anno.class);\n        assertEquals(Collections.emptyList(), annos);\n    }\n\n    private boolean overrides(Method a, Method b) {\n        return MCVEReflect.overrides(a, b);\n    }\n\n    private boolean overrides(Class&lt;?&gt; classA, String nameA,\n                              Class&lt;?&gt; classB, String nameB)\n            throws NoSuchMethodException {\n        return MCVEReflect.overrides(classA.getDeclaredMethod(nameA),\n                                     classB.getDeclaredMethod(nameB));\n    }\n\n    private boolean overrides(Class&lt;?&gt; classA, Class&lt;?&gt; classB, String name)\n            throws NoSuchMethodException {\n        return overrides(classA, name, classB, name);\n    }\n\n    @Test\n    public void overridesTest() throws NoSuchMethodException {\n        try {\n            overrides(null, List.class.getMethod(\"size\"));\n            fail();\n        } catch (NullPointerException x) {\n        }\n        try {\n            overrides(List.class.getMethod(\"size\"), null);\n            fail();\n        } catch (NullPointerException x) {\n        }\n\n        assertTrue(\"this is an override\", overrides(ArrayList.class, \"size\",  List.class, \"size\"));\n        assertFalse(\"same method\",        overrides(List.class,      \"size\",  List.class, \"size\"));\n        assertFalse(\"different methods\",  overrides(ArrayList.class, \"clear\", List.class, \"size\"));\n\n        class A { private void m() {} }\n        class B extends A { private void m() {} }\n\n        assertFalse(\"private methods\", overrides(B.class, \"m\", A.class, \"m\"));\n\n        class C { public void m() {} }\n        class D { public void m() {} }\n\n        assertFalse(\"no inheritance\", overrides(D.class, \"m\", C.class, \"m\"));\n\n        class E { public void m() {} }\n        class F { public void m() {} }\n        class G extends F { @Override public void m() {} }\n\n        assertTrue(\"yes inheritance\", overrides(G.class, \"m\", F.class, \"m\"));\n        assertFalse(\"no inheritance\", overrides(G.class, \"m\", E.class, \"m\"));\n\n        class H {\n            public void m(char a) {}\n            public void m(long a) {}\n        }\n        class I extends H {\n            @Override public void m(char a) {}\n            @Override public void m(long a) {}\n        }\n\n        assertTrue(\"same parameters\",\n                   overrides(I.class.getDeclaredMethod(\"m\", char.class),\n                             H.class.getDeclaredMethod(\"m\", char.class)));\n        assertFalse(\"different parameters\",\n                    overrides(I.class.getDeclaredMethod(\"m\", char.class),\n                              H.class.getDeclaredMethod(\"m\", long.class)));\n\n        class SubHashMap extends HashMap&lt;Object, Object&gt; {\n            void reinitialize() {\n            }\n        }\n\n        String reinitialize = \"reinitialize\";\n        // if this throws, find another method as a replacement\n        Method m = HashMap.class.getDeclaredMethod(reinitialize);\n        assertTrue(isPackageAccess(m.getModifiers()));\n        assertFalse(Modifier.isFinal(m.getModifiers()));\n\n        assertFalse(\"would override, except they are in different packages\",\n                    overrides(SubHashMap.class, HashMap.class, reinitialize));\n    }\n\n    @Test\n    public void compareAccessTest() {\n        assertEquals( 0, compareAccess(Modifier.PUBLIC,    Modifier.PUBLIC));\n        assertEquals(+1, compareAccess(Modifier.PUBLIC,    Modifier.PROTECTED));\n        assertEquals(+1, compareAccess(Modifier.PUBLIC,    0));\n        assertEquals(+1, compareAccess(Modifier.PUBLIC,    Modifier.PRIVATE));\n        assertEquals(-1, compareAccess(Modifier.PROTECTED, Modifier.PUBLIC));\n        assertEquals( 0, compareAccess(Modifier.PROTECTED, Modifier.PROTECTED));\n        assertEquals(+1, compareAccess(Modifier.PROTECTED, 0));\n        assertEquals(+1, compareAccess(Modifier.PROTECTED, Modifier.PRIVATE));\n        assertEquals(-1, compareAccess(0,                  Modifier.PUBLIC));\n        assertEquals(-1, compareAccess(0,                  Modifier.PROTECTED));\n        assertEquals( 0, compareAccess(0,                  0));\n        assertEquals(+1, compareAccess(0,                  Modifier.PRIVATE));\n        assertEquals(-1, compareAccess(Modifier.PRIVATE,   Modifier.PUBLIC));\n        assertEquals(-1, compareAccess(Modifier.PRIVATE,   Modifier.PROTECTED));\n        assertEquals(-1, compareAccess(Modifier.PRIVATE,   0));\n        assertEquals( 0, compareAccess(Modifier.PRIVATE,   Modifier.PRIVATE));\n        int notModsL = Modifier.PRIVATE | Modifier.PUBLIC;\n        int notModsR = Modifier.PRIVATE | Modifier.PROTECTED;\n        assertEquals(\"this might as well be undefined, but it's here for posterity\",\n                     0, compareAccess(notModsL, notModsR));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3380,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49164791,"answer_count":4,"score":9,"last_activity_date":1646285188,"creation_date":1520234557,"question_id":49105303,"body_markdown":"I have the following situation\r\n\r\n    class Parent {\r\n        @SomeAnnotation(someValue)\r\n        public void someMethod(){...}\r\n    }\r\n    \r\n    class Child extends Parent {\r\n        @Override\r\n        public void someMethod(){...}\r\n    }\r\n\r\nAnd I need to get `@SomeAnnotation` when I have reference to method `Child.someMethod`.\r\n\r\nUsing `Child.getSuperclass()` I can get `Parent.class`. Besides, I found a solution [here][1] to get reference to `MethodHandle` of `Parent.someMethod`, so I have\r\n\r\n    MethodHandle parentMethodHandle = MethodHandles.lookup().findSpecial(\r\n            Parent.class, childSomeMethod.getName(),\r\n            MethodType.methodType(Void.class), Child.class);\r\n\r\nHowever, I can&#39;t find a way to get reference to method `Parent.someMethod` from `parentMethodHandle` to `getAnnotation()` from it. Please, help.\r\n\r\n  [1]: https://stackoverflow.com/a/15674467/5057736","title":"How to get annotation from overridden method in Java?","body":"<p>I have the following situation</p>\n\n<pre><code>class Parent {\n    @SomeAnnotation(someValue)\n    public void someMethod(){...}\n}\n\nclass Child extends Parent {\n    @Override\n    public void someMethod(){...}\n}\n</code></pre>\n\n<p>And I need to get <code>@SomeAnnotation</code> when I have reference to method <code>Child.someMethod</code>.</p>\n\n<p>Using <code>Child.getSuperclass()</code> I can get <code>Parent.class</code>. Besides, I found a solution <a href=\"https://stackoverflow.com/a/15674467/5057736\">here</a> to get reference to <code>MethodHandle</code> of <code>Parent.someMethod</code>, so I have</p>\n\n<pre><code>MethodHandle parentMethodHandle = MethodHandles.lookup().findSpecial(\n        Parent.class, childSomeMethod.getName(),\n        MethodType.methodType(Void.class), Child.class);\n</code></pre>\n\n<p>However, I can't find a way to get reference to method <code>Parent.someMethod</code> from <code>parentMethodHandle</code> to <code>getAnnotation()</code> from it. Please, help.</p>\n"},{"tags":["java","sql-server","spring","azure","spring-batch"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645813199,"post_id":71269511,"comment_id":125978091,"body_markdown":"Does this answer your question? [How to create custom retry logic for Spring Datasource?](https://stackoverflow.com/questions/53948890/how-to-create-custom-retry-logic-for-spring-datasource)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53948890/how-to-create-custom-retry-logic-for-spring-datasource\">How to create custom retry logic for Spring Datasource?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21648916,"reputation":2333,"user_id":15969833,"display_name":"SaiSakethGuduru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646284885,"creation_date":1646284885,"answer_id":71332434,"question_id":71269511,"body_markdown":"To retry the spring you need to restart the dependencies to pom.xml files\r\n\r\n    &lt;**dependency**&gt;  &lt;**groupId**&gt;org.springframework.retry&lt;/**groupId**&gt;  &lt;**artifactId**&gt;spring-retry&lt;/**artifactId**&gt;  &lt;**version**&gt;1.2.5.RELEASE&lt;/**version**&gt;  &lt;/**dependency**&gt;\r\n    \r\n    &lt;**dependency**&gt;  &lt;**groupId**&gt;org.springframework&lt;/**groupId**&gt;  &lt;**artifactId**&gt;spring-aspects&lt;/**artifactId**&gt;  &lt;**version**&gt;5.2.8.RELEASE&lt;/**version**&gt;  &lt;/**dependency**\r\n\r\nbelow sample you need to add the following to the main class.\r\n\r\n\r\n    @EnableRetry\r\n\r\nHere are the references with related topics\r\n\r\n\r\n[DataAccessResourceFailureException (Spring Framework 5.3.16 API)](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/dao/DataAccessResourceFailureException.html)\r\n\r\n[Guide to Spring Retry | Baeldung](https://www.baeldung.com/spring-retry#:~:text=Guide%20to%20Spring%20Retry%201%20Overview.%20Spring%20Retry,...%207%20Testing%20the%20Results%208%20Conclusion.%20)\r\n\r\n[Retry (spring.io)](https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html)","title":"How to implement the retry in spring batch 2.1.8?","body":"<p>To retry the spring you need to restart the dependencies to pom.xml files</p>\n<pre><code>&lt;**dependency**&gt;  &lt;**groupId**&gt;org.springframework.retry&lt;/**groupId**&gt;  &lt;**artifactId**&gt;spring-retry&lt;/**artifactId**&gt;  &lt;**version**&gt;1.2.5.RELEASE&lt;/**version**&gt;  &lt;/**dependency**&gt;\n\n&lt;**dependency**&gt;  &lt;**groupId**&gt;org.springframework&lt;/**groupId**&gt;  &lt;**artifactId**&gt;spring-aspects&lt;/**artifactId**&gt;  &lt;**version**&gt;5.2.8.RELEASE&lt;/**version**&gt;  &lt;/**dependency**\n</code></pre>\n<p>below sample you need to add the following to the main class.</p>\n<pre><code>@EnableRetry\n</code></pre>\n<p>Here are the references with related topics</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/dao/DataAccessResourceFailureException.html\" rel=\"nofollow noreferrer\">DataAccessResourceFailureException (Spring Framework 5.3.16 API)</a></p>\n<p><a href=\"https://www.baeldung.com/spring-retry#:%7E:text=Guide%20to%20Spring%20Retry%201%20Overview.%20Spring%20Retry,...%207%20Testing%20the%20Results%208%20Conclusion.%20\" rel=\"nofollow noreferrer\">Guide to Spring Retry | Baeldung</a></p>\n<p><a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/retry.html\" rel=\"nofollow noreferrer\">Retry (spring.io)</a></p>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646284885,"creation_date":1645809839,"question_id":71269511,"body_markdown":"We are in the process of moving to Azure SQL Server from Oracle DB for our Spring Batch application that runs for few hours with 50 Threads. \r\n\r\nI am getting the following error intermittently\r\n\r\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Executing stored procedure; SQL [{call itemmaintenance(?, ?, ?, ?)}]; SQL Server returned an incomplete response. The connection has been closed.;\r\n\r\nWe are using spring batch 2.1.8 and I want to implement the spring retry? How do I achieve this? ","title":"How to implement the retry in spring batch 2.1.8?","body":"<p>We are in the process of moving to Azure SQL Server from Oracle DB for our Spring Batch application that runs for few hours with 50 Threads.</p>\n<p>I am getting the following error intermittently</p>\n<p>Caused by: org.springframework.dao.DataAccessResourceFailureException: Executing stored procedure; SQL [{call itemmaintenance(?, ?, ?, ?)}]; SQL Server returned an incomplete response. The connection has been closed.;</p>\n<p>We are using spring batch 2.1.8 and I want to implement the spring retry? How do I achieve this?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646285060,"post_id":71332355,"comment_id":126086669,"body_markdown":"[Java: maintaining aspect ratio of JPanel background image](https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928); [Resizing icon to fit on JButton in Java?](https://stackoverflow.com/questions/25798156/resizing-icon-to-fit-on-jbutton-in-java/25798462#25798462); [Scale the ImageIcon automatically to label size](https://stackoverflow.com/questions/14548808/scale-the-imageicon-automatically-to-label-size/14553003#14553003)","body":"<a href=\"https://stackoverflow.com/questions/11959758/java-maintaining-aspect-ratio-of-jpanel-background-image/11959928#11959928\">Java: maintaining aspect ratio of JPanel background image</a>; <a href=\"https://stackoverflow.com/questions/25798156/resizing-icon-to-fit-on-jbutton-in-java/25798462#25798462\">Resizing icon to fit on JButton in Java?</a>; <a href=\"https://stackoverflow.com/questions/14548808/scale-the-imageicon-automatically-to-label-size/14553003#14553003\">Scale the ImageIcon automatically to label size</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1646285279,"post_id":71332355,"comment_id":126086716,"body_markdown":"[Getting the size of a JButton inside a JPanel that has a GridLayout](https://stackoverflow.com/questions/29160101/getting-the-size-of-a-jbutton-inside-a-jpanel-that-has-a-gridlayout/29160938#29160938)","body":"<a href=\"https://stackoverflow.com/questions/29160101/getting-the-size-of-a-jbutton-inside-a-jpanel-that-has-a-gridlayout/29160938#29160938\">Getting the size of a JButton inside a JPanel that has a GridLayout</a>"}],"owner":{"account_id":24063738,"reputation":1,"user_id":18040598,"display_name":"jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646284674,"creation_date":1646284046,"question_id":71332355,"body_markdown":"I just wanted to know how to simply fit the [logo] in the desired size.\r\nDisclaimer: this is just a bootleg program.\r\n\r\n\r\n  [logo]: https://i.stack.imgur.com/4DbTH.png","title":"how to resize/fit image in jframe?","body":"<p>I just wanted to know how to simply fit the <a href=\"https://i.stack.imgur.com/4DbTH.png\" rel=\"nofollow noreferrer\">logo</a> in the desired size.\nDisclaimer: this is just a bootleg program.</p>\n"},{"tags":["java","snowflake-cloud-data-platform","jna","snowflake-schema","snowflake-connector"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1646283507,"post_id":71323160,"comment_id":126086419,"body_markdown":"The underlying problem is an older JNA version in your project from somewhere.  Try moving the JNA dependencies to be *first* in the list of the dependencies.  Are you using a parent POM? Check if it includes JNA.","body":"The underlying problem is an older JNA version in your project from somewhere.  Try moving the JNA dependencies to be <i>first</i> in the list of the dependencies.  Are you using a parent POM? Check if it includes JNA."}],"answers":[{"tags":[],"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646231693,"creation_date":1646231693,"answer_id":71324458,"question_id":71323160,"body_markdown":"Connection caching for browser-based SSO and token caching for multi-factor authentication (MFA) require the use of the Java Native Access (JNA) classes to save data securely to the filesystem.\r\n\r\nAs of version 3.12.18 of the JDBC Driver, the JNA classes are no longer packaged in the JDBC Driver JAR file. In the JDBC Driver pom.xml file, the dependencies on these classes are marked as optional.\r\n\r\nIf you need to use connection caching or token caching, you must add the following libraries to your classpath.\r\n\r\nThe pom.xml file for the [JDBC Driver](https://search.maven.org/search?q=a:snowflake-jdbc) specifies the version of the JNA classes that have been tested with the JDBC Driver. We recommend using this version (or the same major version) of the JNA classes.\r\n\r\nFor more information read [here](https://docs.snowflake.com/en/user-guide/jdbc-download.html?_ga=2.2527475.2112353851.1646044741-1460752457.1626086463#adding-the-jna-classes-to-your-classpath)\r\n","title":"Secure Local Storage issue while connecting java with Snowflake","body":"<p>Connection caching for browser-based SSO and token caching for multi-factor authentication (MFA) require the use of the Java Native Access (JNA) classes to save data securely to the filesystem.</p>\n<p>As of version 3.12.18 of the JDBC Driver, the JNA classes are no longer packaged in the JDBC Driver JAR file. In the JDBC Driver pom.xml file, the dependencies on these classes are marked as optional.</p>\n<p>If you need to use connection caching or token caching, you must add the following libraries to your classpath.</p>\n<p>The pom.xml file for the <a href=\"https://search.maven.org/search?q=a:snowflake-jdbc\" rel=\"nofollow noreferrer\">JDBC Driver</a> specifies the version of the JNA classes that have been tested with the JDBC Driver. We recommend using this version (or the same major version) of the JNA classes.</p>\n<p>For more information read <a href=\"https://docs.snowflake.com/en/user-guide/jdbc-download.html?_ga=2.2527475.2112353851.1646044741-1460752457.1626086463#adding-the-jna-classes-to-your-classpath\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":16347281,"reputation":11,"user_id":11806698,"display_name":"Vishal rana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71324458,"answer_count":1,"score":-1,"last_activity_date":1646282855,"creation_date":1646226111,"question_id":71323160,"body_markdown":"I am receiving this error:\r\n&gt; net.snowflake.client.core.CredentialManager initSecureStorageManager\r\n&gt; \r\n&gt; INFO: JNA jar files are needed for Secure Local Storage service. Please follow the Snowflake JDBC instruction for Secure Local Storage feature. Fall back to normal process.\r\n&gt;\r\n&gt; net.snowflake.client.core.CredentialManager fillCachedCredential\r\n&gt;\r\n&gt; INFO: JNA jar files are needed for Secure Local Storage service. Please follow the Snowflake JDBC instruction for Secure Local Storage feature. Fall back to normal process.\r\n\r\n\r\nHow do I add these files in my project?\r\n\r\nThis is my connection properties files:\r\n```text\r\nhostname=jdbc:snowflake://ya189.ap-south-1.aws.snowflakecomputing.com/\r\nuser=\r\npassword=\r\naccount=ya189.ap-south-1\r\ndatabase=DEMO_DB\r\nrole=\r\nwarehouse=COMPUTE_WH\r\nschema=PUBLIC\r\nIS_ENCRYPTED=true\r\nauthenticator=externalbrowser  \r\n```\r\n\r\nI have included JNA in my pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\r\n    &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;3.13.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/net.java.dev.jna/jna --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Secure Local Storage issue while connecting java with Snowflake","body":"<p>I am receiving this error:</p>\n<blockquote>\n<p>net.snowflake.client.core.CredentialManager initSecureStorageManager</p>\n<p>INFO: JNA jar files are needed for Secure Local Storage service. Please follow the Snowflake JDBC instruction for Secure Local Storage feature. Fall back to normal process.</p>\n<p>net.snowflake.client.core.CredentialManager fillCachedCredential</p>\n<p>INFO: JNA jar files are needed for Secure Local Storage service. Please follow the Snowflake JDBC instruction for Secure Local Storage feature. Fall back to normal process.</p>\n</blockquote>\n<p>How do I add these files in my project?</p>\n<p>This is my connection properties files:</p>\n<pre><code>hostname=jdbc:snowflake://ya189.ap-south-1.aws.snowflakecomputing.com/\nuser=\npassword=\naccount=ya189.ap-south-1\ndatabase=DEMO_DB\nrole=\nwarehouse=COMPUTE_WH\nschema=PUBLIC\nIS_ENCRYPTED=true\nauthenticator=externalbrowser  \n</code></pre>\n<p>I have included JNA in my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.snowflake&lt;/groupId&gt;\n    &lt;artifactId&gt;snowflake-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;3.13.15&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/net.java.dev.jna/jna --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n    &lt;artifactId&gt;jna&lt;/artifactId&gt;\n    &lt;version&gt;5.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n    &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n    &lt;version&gt;5.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","file","annotation-processing"],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646282330,"creation_date":1646281700,"question_id":71332149,"body_markdown":"Based on the Javadoc of [Processor][1]\r\n&gt; The [Filer][2] interface discusses restrictions on how processors can operate on files. \r\n\r\nTherefore, I presume other forms of file manipulation, such as with [Files][3] are not a good practice. \r\nMy question is why in `Filer` it was decided not to allow overwriting files that are generated with annotation processors? What are the pros and cons? I understand that overwriting the source code or other critical objects may pose security risks, but what about those generated by processors?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Filer.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html\r\n  [4]: https://projectlombok.org/","title":"(Annotation Processing) Why Filer does not (mostly) allow overwriting?","body":"<p>Based on the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\">Processor</a></p>\n<blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Filer.html\" rel=\"nofollow noreferrer\">Filer</a> interface discusses restrictions on how processors can operate on files.</p>\n</blockquote>\n<p>Therefore, I presume other forms of file manipulation, such as with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> are not a good practice.\nMy question is why in <code>Filer</code> it was decided not to allow overwriting files that are generated with annotation processors? What are the pros and cons? I understand that overwriting the source code or other critical objects may pose security risks, but what about those generated by processors?</p>\n"},{"tags":["java","multithreading","thread-safety","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1646251093,"post_id":71328425,"comment_id":126079657,"body_markdown":"You omitted the crucial bit... the actual output showing which thread printed which number.","body":"You omitted the crucial bit... the actual output showing which thread printed which number."},{"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"score":0,"creation_date":1646251617,"post_id":71328425,"comment_id":126079832,"body_markdown":"@JimGarrison I have edited the outputs to include the names of the threads","body":"@JimGarrison I have edited the outputs to include the names of the threads"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1646251848,"post_id":71328425,"comment_id":126079904,"body_markdown":"This seems very painful, and doesn&#39;t seem likely to teach you anything.","body":"This seems very painful, and doesn&#39;t seem likely to teach you anything."},{"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"score":0,"creation_date":1646252056,"post_id":71328425,"comment_id":126079968,"body_markdown":"@NathanHughes I wanted to use this as a demonstration of inter-thread communication between three threads for the learners. But the unexpected output is baffling me.","body":"@NathanHughes I wanted to use this as a demonstration of inter-thread communication between three threads for the learners. But the unexpected output is baffling me."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1646258109,"post_id":71328425,"comment_id":126081745,"body_markdown":"This doesn&#39;t seem like a great way of demonstrating inter-thread communication. Maybe try using Actors?","body":"This doesn&#39;t seem like a great way of demonstrating inter-thread communication. Maybe try using Actors?"},{"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"score":0,"creation_date":1646308885,"post_id":71328425,"comment_id":126093738,"body_markdown":"@NathanHughes I had intended to use this as a demonstration of wait() and notifyAll() methods in a scenario involving three threads. I do understand threads can have unexpected behavior and this is probably not very useful. Just meant it as a proof of concept.","body":"@NathanHughes I had intended to use this as a demonstration of wait() and notifyAll() methods in a scenario involving three threads. I do understand threads can have unexpected behavior and this is probably not very useful. Just meant it as a proof of concept."}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646282321,"creation_date":1646282321,"answer_id":71332202,"question_id":71328425,"body_markdown":"When a thread is woken up(```wait```-&gt;```runnable```), it needs to judge again whether the current ```counter``` is less than ```LIMIT```, otherwise, it will continue to print until ```while (counter &lt;= LIMIT)``` does not hold.(That&#39;s why ```11``` and ```12``` are printed too).\r\n\r\nI would suggest that you determine in advance how many times each thread will loop(This will make the code simpler):\r\n\r\n```\r\n    // thread1\r\n    // prints 1, 4, 7, 10, ...\r\n    synchronized void printAPStartingFrom1() {\r\n        int count = LIMIT % 3 == 0 ? LIMIT / 3 : LIMIT / 3 + 1;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            while (counter % 3 != 1) {\r\n                wait();\r\n            }\r\n            printAndAddCounter();\r\n            notifyAll();\r\n        }\r\n    }\r\n    // thread2\r\n    // prints 2, 5, 8, 11, ...\r\n    synchronized void printAPStartingFrom1() {\r\n        int count = (LIMIT - 1) % 3 == 0 ? LIMIT / 3 : LIMIT / 3 + 1;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            while (counter % 3 != 2) {\r\n                wait();\r\n            }\r\n            printAndAddCounter();\r\n            notifyAll();\r\n        }\r\n    }\r\n    // thread3\r\n    // prints 3, 6, 9, 12, ...\r\n    synchronized void printAPStartingFrom1() {\r\n        int count = LIMIT / 3;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            while (counter % 3 != 0) {\r\n                wait();\r\n            }\r\n            printAndAddCounter();\r\n            notifyAll();\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Java Thread Cooperation with Three Threads Prints Extra Numbers","body":"<p>When a thread is woken up(<code>wait</code>-&gt;<code>runnable</code>), it needs to judge again whether the current <code>counter</code> is less than <code>LIMIT</code>, otherwise, it will continue to print until <code>while (counter &lt;= LIMIT)</code> does not hold.(That's why <code>11</code> and <code>12</code> are printed too).</p>\n<p>I would suggest that you determine in advance how many times each thread will loop(This will make the code simpler):</p>\n<pre><code>    // thread1\n    // prints 1, 4, 7, 10, ...\n    synchronized void printAPStartingFrom1() {\n        int count = LIMIT % 3 == 0 ? LIMIT / 3 : LIMIT / 3 + 1;\n        for (int i = 0; i &lt; count; i++) {\n            while (counter % 3 != 1) {\n                wait();\n            }\n            printAndAddCounter();\n            notifyAll();\n        }\n    }\n    // thread2\n    // prints 2, 5, 8, 11, ...\n    synchronized void printAPStartingFrom1() {\n        int count = (LIMIT - 1) % 3 == 0 ? LIMIT / 3 : LIMIT / 3 + 1;\n        for (int i = 0; i &lt; count; i++) {\n            while (counter % 3 != 2) {\n                wait();\n            }\n            printAndAddCounter();\n            notifyAll();\n        }\n    }\n    // thread3\n    // prints 3, 6, 9, 12, ...\n    synchronized void printAPStartingFrom1() {\n        int count = LIMIT / 3;\n        for (int i = 0; i &lt; count; i++) {\n            while (counter % 3 != 0) {\n                wait();\n            }\n            printAndAddCounter();\n            notifyAll();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71332202,"answer_count":1,"score":0,"last_activity_date":1646282321,"creation_date":1646250794,"question_id":71328425,"body_markdown":"I am trying to print three AP sequences (in increments of 3) by three threads as follows:\r\n\r\n - Thread-1 is printing the sequence `1, 4, 7, 10, ...`\r\n - Thread-2 is printing the sequence `2, 5, 8, ...`\r\n - Thread-3 is printing the sequence `3, 6, 9, ...`\r\n\r\nA thread should wait while any other threads are taking their turns to print a number of their sequence. The threads should cooperate with each other to print the numbers sequentially from 1 to LIMIT (an integer; here LIMIT = 10).\r\n\r\n## Expected Output\r\n(For LIMIT = 10)\r\n\r\n    1 (printed by Thread-1)\r\n    2 (printed by Thread-2)\r\n    3 (printed by Thread-3)\r\n    4 (printed by Thread-1)\r\n    5 (printed by Thread-2)\r\n    6 (printed by Thread-3)\r\n    7 (printed by Thread-1)\r\n    8 (printed by Thread-2)\r\n    9 (printed by Thread-3)\r\n    10 (printed by Thread-1)\r\n\r\n## Actual Output\r\n(For LIMIT = 10)\r\n\r\n    1 (printed by Thread-1)\r\n    2 (printed by Thread-2)\r\n    3 (printed by Thread-3)\r\n    4 (printed by Thread-1)\r\n    5 (printed by Thread-2)\r\n    6 (printed by Thread-3)\r\n    7 (printed by Thread-1)\r\n    8 (printed by Thread-2)\r\n    9 (printed by Thread-3)\r\n    10 (printed by Thread-1)\r\n    11 (printed by Thread-2)\r\n    12 (printed by Thread-3)\r\n\r\n## Code\r\n\r\n    class PrintingSequences {\r\n        private static final int LIMIT = 10;\r\n        int counter = 1;\r\n        boolean isPrinting = false;\r\n    \r\n        // prints 1, 4, 7, 10, ...\r\n        synchronized void printAPStartingFrom1() {\r\n            while (counter &lt;= LIMIT) {\r\n                while (isPrinting || counter % 3 != 1) {\r\n                    try {\r\n                        wait();\r\n                    } catch (InterruptedException e) {\r\n                        System.out.println(e);\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n                }\r\n                isPrinting = true;\r\n                System.out.println(counter++ + &quot; (printed by &quot; + Thread.currentThread().getName() + &quot;)&quot;);\r\n                isPrinting = false;\r\n                notifyAll();\r\n            }\r\n        }\r\n    \r\n        // prints 2, 5, 8, 11, ...\r\n        synchronized void printAPStartingFrom2() {\r\n            while (counter &lt;= LIMIT) {\r\n                while (isPrinting || counter % 3 != 2) {\r\n                    try {\r\n                        wait();\r\n                    } catch (InterruptedException e) {\r\n                        System.out.println(e);\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n                }\r\n                isPrinting = true;\r\n                System.out.println(counter++ + &quot; (printed by &quot; + Thread.currentThread().getName() + &quot;)&quot;);\r\n                isPrinting = false;\r\n                notifyAll();\r\n            }\r\n        }\r\n    \r\n        // prints 3, 6, 9, 12, ...\r\n        synchronized void printAPStartingFrom3() {\r\n            while (counter &lt;= LIMIT) {\r\n                while (isPrinting || counter % 3 != 0) {\r\n                    try {\r\n                        wait();\r\n                    } catch (InterruptedException e) {\r\n                        System.out.println(e);\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n                }\r\n                isPrinting = true;\r\n                System.out.println(counter++ + &quot; (printed by &quot; + Thread.currentThread().getName() + &quot;)&quot;);\r\n                isPrinting = false;\r\n                notifyAll();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class TripleThreadCommunication {\r\n        public static void main(String[] args) {\r\n            PrintingSequences naturalNumbers = new PrintingSequences();\r\n    \r\n            new Thread(&quot;Thread-1&quot;) {\r\n                @Override\r\n                public void run() {\r\n                    naturalNumbers.printAPStartingFrom1();\r\n                }\r\n            }.start();\r\n    \r\n            new Thread(&quot;Thread-2&quot;) {\r\n                @Override\r\n                public void run() {\r\n                    naturalNumbers.printAPStartingFrom2();\r\n                }\r\n            }.start();\r\n    \r\n            new Thread(&quot;Thread-3&quot;) {\r\n                @Override\r\n                public void run() {\r\n                    naturalNumbers.printAPStartingFrom3();\r\n                }\r\n            }.start();\r\n        }\r\n    }\r\n\r\nThe program has three different synchronized methods: `printAPStartingFrom1()`, `printAPStartingFrom2()`, `printAPStartingFrom3()`, invoked by Thread-1, Thread-2, and Thread-3 respectively. The threads cooperate with each other using `wait()` and `notifyAll()` methods. \r\n\r\nWhy is the output consistently involving two additional numbers which are exceeding the given limit of 10, i.e., 11 and 12?\r\n\r\n\r\n\r\n","title":"Java Thread Cooperation with Three Threads Prints Extra Numbers","body":"<p>I am trying to print three AP sequences (in increments of 3) by three threads as follows:</p>\n<ul>\n<li>Thread-1 is printing the sequence <code>1, 4, 7, 10, ...</code></li>\n<li>Thread-2 is printing the sequence <code>2, 5, 8, ...</code></li>\n<li>Thread-3 is printing the sequence <code>3, 6, 9, ...</code></li>\n</ul>\n<p>A thread should wait while any other threads are taking their turns to print a number of their sequence. The threads should cooperate with each other to print the numbers sequentially from 1 to LIMIT (an integer; here LIMIT = 10).</p>\n<h2>Expected Output</h2>\n<p>(For LIMIT = 10)</p>\n<pre><code>1 (printed by Thread-1)\n2 (printed by Thread-2)\n3 (printed by Thread-3)\n4 (printed by Thread-1)\n5 (printed by Thread-2)\n6 (printed by Thread-3)\n7 (printed by Thread-1)\n8 (printed by Thread-2)\n9 (printed by Thread-3)\n10 (printed by Thread-1)\n</code></pre>\n<h2>Actual Output</h2>\n<p>(For LIMIT = 10)</p>\n<pre><code>1 (printed by Thread-1)\n2 (printed by Thread-2)\n3 (printed by Thread-3)\n4 (printed by Thread-1)\n5 (printed by Thread-2)\n6 (printed by Thread-3)\n7 (printed by Thread-1)\n8 (printed by Thread-2)\n9 (printed by Thread-3)\n10 (printed by Thread-1)\n11 (printed by Thread-2)\n12 (printed by Thread-3)\n</code></pre>\n<h2>Code</h2>\n<pre><code>class PrintingSequences {\n    private static final int LIMIT = 10;\n    int counter = 1;\n    boolean isPrinting = false;\n\n    // prints 1, 4, 7, 10, ...\n    synchronized void printAPStartingFrom1() {\n        while (counter &lt;= LIMIT) {\n            while (isPrinting || counter % 3 != 1) {\n                try {\n                    wait();\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                    Thread.currentThread().interrupt();\n                }\n            }\n            isPrinting = true;\n            System.out.println(counter++ + &quot; (printed by &quot; + Thread.currentThread().getName() + &quot;)&quot;);\n            isPrinting = false;\n            notifyAll();\n        }\n    }\n\n    // prints 2, 5, 8, 11, ...\n    synchronized void printAPStartingFrom2() {\n        while (counter &lt;= LIMIT) {\n            while (isPrinting || counter % 3 != 2) {\n                try {\n                    wait();\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                    Thread.currentThread().interrupt();\n                }\n            }\n            isPrinting = true;\n            System.out.println(counter++ + &quot; (printed by &quot; + Thread.currentThread().getName() + &quot;)&quot;);\n            isPrinting = false;\n            notifyAll();\n        }\n    }\n\n    // prints 3, 6, 9, 12, ...\n    synchronized void printAPStartingFrom3() {\n        while (counter &lt;= LIMIT) {\n            while (isPrinting || counter % 3 != 0) {\n                try {\n                    wait();\n                } catch (InterruptedException e) {\n                    System.out.println(e);\n                    Thread.currentThread().interrupt();\n                }\n            }\n            isPrinting = true;\n            System.out.println(counter++ + &quot; (printed by &quot; + Thread.currentThread().getName() + &quot;)&quot;);\n            isPrinting = false;\n            notifyAll();\n        }\n    }\n}\n\npublic class TripleThreadCommunication {\n    public static void main(String[] args) {\n        PrintingSequences naturalNumbers = new PrintingSequences();\n\n        new Thread(&quot;Thread-1&quot;) {\n            @Override\n            public void run() {\n                naturalNumbers.printAPStartingFrom1();\n            }\n        }.start();\n\n        new Thread(&quot;Thread-2&quot;) {\n            @Override\n            public void run() {\n                naturalNumbers.printAPStartingFrom2();\n            }\n        }.start();\n\n        new Thread(&quot;Thread-3&quot;) {\n            @Override\n            public void run() {\n                naturalNumbers.printAPStartingFrom3();\n            }\n        }.start();\n    }\n}\n</code></pre>\n<p>The program has three different synchronized methods: <code>printAPStartingFrom1()</code>, <code>printAPStartingFrom2()</code>, <code>printAPStartingFrom3()</code>, invoked by Thread-1, Thread-2, and Thread-3 respectively. The threads cooperate with each other using <code>wait()</code> and <code>notifyAll()</code> methods.</p>\n<p>Why is the output consistently involving two additional numbers which are exceeding the given limit of 10, i.e., 11 and 12?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":2,"creation_date":1646276970,"post_id":71331651,"comment_id":126085499,"body_markdown":"try `System.out.flush()` after each `print`?","body":"try <code>System.out.flush()</code> after each <code>print</code>?"},{"owner":{"account_id":15171470,"reputation":13,"user_id":16682446,"display_name":"Joshua"},"score":0,"creation_date":1646277689,"post_id":71331651,"comment_id":126085583,"body_markdown":"I tried it, but nothing changes.","body":"I tried it, but nothing changes."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646277910,"post_id":71331651,"comment_id":126085613,"body_markdown":"please include you `main` method, for us to copy code and reproduce the issue.","body":"please include you <code>main</code> method, for us to copy code and reproduce the issue."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646282447,"post_id":71331651,"comment_id":126086283,"body_markdown":"i ran you code and working fine, each char is displayed at fixed interval.","body":"i ran you code and working fine, each char is displayed at fixed interval."},{"owner":{"account_id":15171470,"reputation":13,"user_id":16682446,"display_name":"Joshua"},"score":0,"creation_date":1646321874,"post_id":71331651,"comment_id":126099047,"body_markdown":"Does it have to do with what version of Java I&#39;m using? I&#39;m using 11 Eclipse Temurin 11.0.14. Does it have to do with me running it Itellij?","body":"Does it have to do with what version of Java I&#39;m using? I&#39;m using 11 Eclipse Temurin 11.0.14. Does it have to do with me running it Itellij?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1646322178,"post_id":71331651,"comment_id":126099180,"body_markdown":"if you doubt the ide, just run from command line. i&#39;m using intellij and jdk11.","body":"if you doubt the ide, just run from command line. i&#39;m using intellij and jdk11."}],"owner":{"account_id":15171470,"reputation":13,"user_id":16682446,"display_name":"Joshua"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646282009,"creation_date":1646276720,"question_id":71331651,"body_markdown":"``` public void statement(String StatementInput) throws InterruptedException {\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask(){\r\n            int letter = 0;\r\n            @Override\r\n            public void run() {\r\n                if(letter&lt;StatementInput.length()){\r\n                    System.out.print(StatementInput.charAt(letter));\r\n                    letter++;\r\n                }else{timer.cancel();}\r\n            }\r\n        };\r\n        timer.scheduleAtFixedRate(task,0,100 );\r\n    }\r\n```\r\n\r\nI&#39;m trying to print out text one character at a time, with a small interval between each letter. When I try Thread.sleep or the above code, it won&#39;t print smoothly, the text comes out in bunches. Is there any way for me to smoothen it out? \r\n\r\nI am running the code in intellij and am new to Java. \r\n\r\nEDIT: Here&#39;s the full source code:\r\n```\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class test {\r\n    public static void statement(String StatementInput) throws InterruptedException {\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask(){\r\n            int letter = 0;\r\n            @Override\r\n            public void run() {\r\n                if(letter&lt;StatementInput.length()){\r\n                    System.out.print(StatementInput.charAt(letter));\r\n                    letter++;\r\n                }else{timer.cancel();}\r\n                System.out.flush();\r\n            }\r\n        };\r\n        timer.scheduleAtFixedRate(task,0,100 );\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        test.statement(&quot;Hello World!!!!&quot;);\r\n\r\n    }\r\n}\r\n```","title":"Can Java print text (letter by letter) into the command prompt?","body":"<pre><code>        Timer timer = new Timer();\n        TimerTask task = new TimerTask(){\n            int letter = 0;\n            @Override\n            public void run() {\n                if(letter&lt;StatementInput.length()){\n                    System.out.print(StatementInput.charAt(letter));\n                    letter++;\n                }else{timer.cancel();}\n            }\n        };\n        timer.scheduleAtFixedRate(task,0,100 );\n    }\n</code></pre>\n<p>I'm trying to print out text one character at a time, with a small interval between each letter. When I try Thread.sleep or the above code, it won't print smoothly, the text comes out in bunches. Is there any way for me to smoothen it out?</p>\n<p>I am running the code in intellij and am new to Java.</p>\n<p>EDIT: Here's the full source code:</p>\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n\npublic class test {\n    public static void statement(String StatementInput) throws InterruptedException {\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask(){\n            int letter = 0;\n            @Override\n            public void run() {\n                if(letter&lt;StatementInput.length()){\n                    System.out.print(StatementInput.charAt(letter));\n                    letter++;\n                }else{timer.cancel();}\n                System.out.flush();\n            }\n        };\n        timer.scheduleAtFixedRate(task,0,100 );\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        test.statement(&quot;Hello World!!!!&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string","locking","guava"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646281858,"creation_date":1646211337,"answer_id":71319872,"question_id":71318991,"body_markdown":"In the first version, you get a unique lock per device as distinguished by the `deviceId` string.  The `intern` is necessary in this case.\r\n\r\nIn the second version, you have only (say) 8 locks and they are striped across all of the devices.\r\n\r\n------------------\r\n\r\nWhat is the difference?\r\n\r\n  - The first version creates more primitive locks.  But primitive locks are cheap unless there is contention on a lock.  With this version you only get lock contention if two or more threads are *really* trying to do something with the same device.\r\n\r\n  - The second version never creates more than 8 locks, and they are `Lock` objects.  The `Lock` API provides more functionality than a primitive lock ... if that is useful to you.\r\n\r\n    But with this version you get more contention.  For example, if two different devices use the same striped lock, you get mutual exclusion for those two devices ... which you probably don&#39;t want.\r\n\r\nThere is also a theoretical issue with using interned strings as lock identifiers.  The space of interned strings is JVM wide, so if you have different parts of your application *independently* locking things this way (e.g. using the interned device id strings), they can potentially interfere.  The two parts of the application might end up accidentally sharing locks.  (This issue is discussed in more depth in https://stackoverflow.com/a/134154/5973816.)\r\n\r\nThere are ways to avoid this if it is a real issue.  For example, the two parts of the application could add (different) prefixes to the strings before interning, etc.  \r\n\r\n---------------\r\n\r\nWhich is better?\r\n\r\nWell it depends on 1) what you are optimizing for and 2) how long the locks are liable to be held; i.e. the *cost* of unwanted contention caused by striping.\r\n\r\nUnder most circumstances, the first version (a distinct lock per device) will be better.  But, if you have a huge number of devices, the cost of a huge number of interned strings might be significant.  In that case, AND if the locks are held for a very short time, then lock striping might be better.\r\n","title":"When String is the object of the lock, which is better String.intern() or Striped?","body":"<p>In the first version, you get a unique lock per device as distinguished by the <code>deviceId</code> string.  The <code>intern</code> is necessary in this case.</p>\n<p>In the second version, you have only (say) 8 locks and they are striped across all of the devices.</p>\n<hr />\n<p>What is the difference?</p>\n<ul>\n<li><p>The first version creates more primitive locks.  But primitive locks are cheap unless there is contention on a lock.  With this version you only get lock contention if two or more threads are <em>really</em> trying to do something with the same device.</p>\n</li>\n<li><p>The second version never creates more than 8 locks, and they are <code>Lock</code> objects.  The <code>Lock</code> API provides more functionality than a primitive lock ... if that is useful to you.</p>\n<p>But with this version you get more contention.  For example, if two different devices use the same striped lock, you get mutual exclusion for those two devices ... which you probably don't want.</p>\n</li>\n</ul>\n<p>There is also a theoretical issue with using interned strings as lock identifiers.  The space of interned strings is JVM wide, so if you have different parts of your application <em>independently</em> locking things this way (e.g. using the interned device id strings), they can potentially interfere.  The two parts of the application might end up accidentally sharing locks.  (This issue is discussed in more depth in <a href=\"https://stackoverflow.com/a/134154/5973816.\">https://stackoverflow.com/a/134154/5973816.</a>)</p>\n<p>There are ways to avoid this if it is a real issue.  For example, the two parts of the application could add (different) prefixes to the strings before interning, etc.</p>\n<hr />\n<p>Which is better?</p>\n<p>Well it depends on 1) what you are optimizing for and 2) how long the locks are liable to be held; i.e. the <em>cost</em> of unwanted contention caused by striping.</p>\n<p>Under most circumstances, the first version (a distinct lock per device) will be better.  But, if you have a huge number of devices, the cost of a huge number of interned strings might be significant.  In that case, AND if the locks are held for a very short time, then lock striping might be better.</p>\n"}],"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71319872,"answer_count":1,"score":1,"last_activity_date":1646281858,"creation_date":1646206668,"question_id":71318991,"body_markdown":"Imagine a scenario where we need to lock based on the device id, which is a string. Many people recommend using `String.intern()` as the lock object, but some people recommend using `Striped` for concurrency control, such as the following code:\r\n```java\r\nimport com.google.common.util.concurrent.Striped;\r\n\r\nimport java.util.concurrent.locks.Lock;\r\n\r\npublic class Test {\r\n\r\n    private Striped&lt;Lock&gt; striped = Striped.lock(8);\r\n\r\n    public void businessLogicByStringIntern(String deviceId) {\r\n        // use deviceId.intern() as lock\r\n        synchronized (deviceId.intern()) {\r\n            // execute code thread-safely\r\n        }\r\n    }\r\n\r\n    public void businessLogicByStriped(String deviceId) {\r\n        // use striped lock\r\n        synchronized (striped.get(deviceId)) {\r\n            // execute code thread-safely\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhich implementation is more recommended, `businessLogicByStringIntern` or `businessLogicByStriped`?\r\n\r\nReference:&lt;br /&gt;\r\n[Striped (Guava: Google Core Libraries for Java 19.0 API)](https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/Striped.html)\r\n\r\n","title":"When String is the object of the lock, which is better String.intern() or Striped?","body":"<p>Imagine a scenario where we need to lock based on the device id, which is a string. Many people recommend using <code>String.intern()</code> as the lock object, but some people recommend using <code>Striped</code> for concurrency control, such as the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.util.concurrent.Striped;\n\nimport java.util.concurrent.locks.Lock;\n\npublic class Test {\n\n    private Striped&lt;Lock&gt; striped = Striped.lock(8);\n\n    public void businessLogicByStringIntern(String deviceId) {\n        // use deviceId.intern() as lock\n        synchronized (deviceId.intern()) {\n            // execute code thread-safely\n        }\n    }\n\n    public void businessLogicByStriped(String deviceId) {\n        // use striped lock\n        synchronized (striped.get(deviceId)) {\n            // execute code thread-safely\n        }\n    }\n\n}\n</code></pre>\n<p>Which implementation is more recommended, <code>businessLogicByStringIntern</code> or <code>businessLogicByStriped</code>?</p>\n<p>Reference:<br />\n<a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/util/concurrent/Striped.html\" rel=\"nofollow noreferrer\">Striped (Guava: Google Core Libraries for Java 19.0 API)</a></p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1646276906,"post_id":71331643,"comment_id":126085492,"body_markdown":"Format the code correctly and you will see why it doesn&#39;t work","body":"Format the code correctly and you will see why it doesn&#39;t work"},{"owner":{"display_name":"user15048458"},"score":0,"creation_date":1646277205,"post_id":71331643,"comment_id":126085528,"body_markdown":"I formatted it the exact way my professor did","body":"I formatted it the exact way my professor did"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1646279235,"post_id":71331643,"comment_id":126085820,"body_markdown":"Now it&#39;s formatted correctly...","body":"Now it&#39;s formatted correctly..."}],"answers":[{"tags":[],"owner":{"account_id":22332486,"reputation":1159,"user_id":16553558,"display_name":"Python learner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646281297,"creation_date":1646277086,"answer_id":71331694,"question_id":71331643,"body_markdown":"The reason that it didn&#39;t print &quot;hi&quot; is because the `else` part belongs to the `outer` if statement not `inner`.  \r\nYou can see the curly braces `{}` of the outer if statement. It&#39;s closed before else. That&#39;s why it&#39;s not executed. You can change it and see the output once.\r\n\r\n    if (x &gt; y) {\r\n       if (x &gt; 100) { \r\n          System.out.print(&quot;Hello&quot;); \r\n       } \r\n    }\r\n    else\r\n       System.out.print(&quot;hi&quot;);\r\n    System.out.print(&quot;ther3&quot;); \r\n\r\n","title":"I have a question regarding the logic of this Java program. It should go into the first if/else statement, but it does not?","body":"<p>The reason that it didn't print &quot;hi&quot; is because the <code>else</code> part belongs to the <code>outer</code> if statement not <code>inner</code>.<br />\nYou can see the curly braces <code>{}</code> of the outer if statement. It's closed before else. That's why it's not executed. You can change it and see the output once.</p>\n<pre><code>if (x &gt; y) {\n   if (x &gt; 100) { \n      System.out.print(&quot;Hello&quot;); \n   } \n}\nelse\n   System.out.print(&quot;hi&quot;);\nSystem.out.print(&quot;ther3&quot;); \n</code></pre>\n"}],"owner":{"display_name":"user15048458"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71331694,"answer_count":1,"score":-1,"last_activity_date":1646281297,"creation_date":1646276568,"question_id":71331643,"body_markdown":"Since 31 &gt; 8,  is should go into the first if statement, and since 31 &lt; 100, it then should go into the else statement and output &quot;hi&quot;. However the output of this program is &quot;ther3&quot;. I do understand that `System.out.print(&quot;ther3&quot;);` is outside both if statements and would be printed regardless. But why is `System.out.print(&quot;hi&quot;);` not printed.\r\n\r\n\tpublic static void main(String[] args) {\r\n        int x = 31;\r\n        int y = 8;\r\n        if (x &gt; y) {\r\n            if (x &gt; 100) {\r\n                System.out.print(&quot;Hello&quot;);\r\n            }\r\n\t\t}\r\n\t\telse\r\n            System.out.print(&quot;hi&quot;);\r\n        System.out.print(&quot;ther3&quot;);\r\n    }\r\n","title":"I have a question regarding the logic of this Java program. It should go into the first if/else statement, but it does not?","body":"<p>Since 31 &gt; 8,  is should go into the first if statement, and since 31 &lt; 100, it then should go into the else statement and output &quot;hi&quot;. However the output of this program is &quot;ther3&quot;. I do understand that <code>System.out.print(&quot;ther3&quot;);</code> is outside both if statements and would be printed regardless. But why is <code>System.out.print(&quot;hi&quot;);</code> not printed.</p>\n<pre><code>public static void main(String[] args) {\n    int x = 31;\n    int y = 8;\n    if (x &gt; y) {\n        if (x &gt; 100) {\n            System.out.print(&quot;Hello&quot;);\n        }\n    }\n    else\n        System.out.print(&quot;hi&quot;);\n    System.out.print(&quot;ther3&quot;);\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","junit"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1646142719,"post_id":71309320,"comment_id":126046613,"body_markdown":"I believe you also need to bring the org.junit.jupiter:junit-jupiter-engine dependency. But the message you are seeing may be something different, it will help you more to provide the full stack trace AND the relevant code.","body":"I believe you also need to bring the org.junit.jupiter:junit-jupiter-engine dependency. But the message you are seeing may be something different, it will help you more to provide the full stack trace AND the relevant code."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646251069,"post_id":71309320,"comment_id":126079651,"body_markdown":"First try to build your project on plain command line...furthermore an example test class would be help ful and a log output because the message `Cannot resolve symbol..` indicates some problem with your test code?","body":"First try to build your project on plain command line...furthermore an example test class would be help ful and a log output because the message <code>Cannot resolve symbol..</code> indicates some problem with your test code?"},{"owner":{"account_id":24382783,"reputation":79,"user_id":18314039,"display_name":"Rashmi"},"score":0,"creation_date":1646283789,"post_id":71309320,"comment_id":126086464,"body_markdown":"@khmarbaise I have not coded anything in the test code yet.","body":"@khmarbaise I have not coded anything in the test code yet."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646289906,"post_id":71309320,"comment_id":126087635,"body_markdown":"In the upper right corner of IntelliJ there is a Button with a Maven symbol (&quot;M&quot;) on it... You should press that button to reload the pom.xml by IntelliJ ...","body":"In the upper right corner of IntelliJ there is a Button with a Maven symbol (&quot;M&quot;) on it... You should press that button to reload the pom.xml by IntelliJ ..."}],"owner":{"account_id":24382783,"reputation":79,"user_id":18314039,"display_name":"Rashmi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646280513,"creation_date":1646141805,"question_id":71309320,"body_markdown":"I am trying to run an unit testing and I have already installed the dependencies. Below is the pom.xml file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Lecture_1-2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-all --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.19&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nBut when I am running my test case, it still gives me the error,\r\n```\r\nCannot resolve symbol &#39;test&#39;\r\n```\r\n\r\nI have tried reloading the maven project but it has not worked.\r\n\r\nThis is what I get when importing junit. Why is this?\r\n[![Cannot Resolve symbol junit?][1]][1]\r\n\r\nWhat is the reason for the issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3AMbu.png","title":"Why does junit dependencies have not installed properly?","body":"<p>I am trying to run an unit testing and I have already installed the dependencies. Below is the pom.xml file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Lecture_1-2&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-all --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;version&gt;1.10.19&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>But when I am running my test case, it still gives me the error,</p>\n<pre><code>Cannot resolve symbol 'test'\n</code></pre>\n<p>I have tried reloading the maven project but it has not worked.</p>\n<p>This is what I get when importing junit. Why is this?\n<a href=\"https://i.stack.imgur.com/3AMbu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AMbu.png\" alt=\"Cannot Resolve symbol junit?\" /></a></p>\n<p>What is the reason for the issue?</p>\n"},{"tags":["java","html","jtextpane"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646238429,"creation_date":1646238429,"answer_id":71326053,"question_id":71325646,"body_markdown":"For a reasonable display of HTML documents use [JEditorPane][1].\r\nSwitch it to `text/html` content and you should be able to get your stuff rendered.\r\n\r\nAlso check https://stackoverflow.com/questions/44939558/how-to-make-div-to-new-line how to get DIVs on one line each.\r\n\r\nWhen in doubt, simply add `&lt;br/&gt;` elements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JEditorPane.html","title":"JTextPane is not adding a new line when reading text from HTML file","body":"<p>For a reasonable display of HTML documents use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JEditorPane.html\" rel=\"nofollow noreferrer\">JEditorPane</a>.\nSwitch it to <code>text/html</code> content and you should be able to get your stuff rendered.</p>\n<p>Also check <a href=\"https://stackoverflow.com/questions/44939558/how-to-make-div-to-new-line\">how to make div to new line</a> how to get DIVs on one line each.</p>\n<p>When in doubt, simply add <code>&lt;br/&gt;</code> elements.</p>\n"},{"tags":[],"owner":{"account_id":24430391,"reputation":3,"user_id":18355406,"display_name":"Erik Lightner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646279814,"creation_date":1646244451,"answer_id":71327271,"question_id":71325646,"body_markdown":"I figured out what to do to solve the problem. Instead of putting the text in a \\&lt;p&gt; tag, I put it in a \\&lt;div&gt; tag in the HTML document and set the display to block and it is working like I want it to. I also appended a \\&lt;br&gt; tag to the end of the text to be added to the JEditorPane.\r\n\r\nFor example I changed:\r\n\r\n    &lt;p id=&quot;look-bed&quot;&gt;\r\n        The bed looks hard and uncomfortable.\r\n    &lt;/p&gt;\r\n\r\nto:\r\n\r\n    &lt;div id=&quot;look-bed&quot;&gt;\r\n        The bed looks hard and uncomfortable.\r\n    &lt;/div&gt;\r\n\r\nI added a CSS style specific to the div tag to set the display:\r\n\r\n\r\ndiv { display: block }\r\n\r\nThe new method that adds text to the JEditorPane is:\r\n\r\n```\r\npublic static void SetGameText(String location, String text, boolean appendText) {\r\n        if(appendText) {\r\n            try {\r\n                String addedText = text + &quot;&lt;br&gt;&quot;; // added new variable to append &lt;br&gt; tag\r\n                HTMLDocument doc = (HTMLDocument) gameText.getDocument();\r\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), addedText); //use new variable to add text to JEditorPane\r\n            }\r\n            catch (IOException | BadLocationException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        else {\r\n            gameText.setText(HTMLStyles);\r\n            gameText.setText(location + text);\r\n        }\r\n    }\r\n```","title":"JTextPane is not adding a new line when reading text from HTML file","body":"<p>I figured out what to do to solve the problem. Instead of putting the text in a &lt;p&gt; tag, I put it in a &lt;div&gt; tag in the HTML document and set the display to block and it is working like I want it to. I also appended a &lt;br&gt; tag to the end of the text to be added to the JEditorPane.</p>\n<p>For example I changed:</p>\n<pre><code>&lt;p id=&quot;look-bed&quot;&gt;\n    The bed looks hard and uncomfortable.\n&lt;/p&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;div id=&quot;look-bed&quot;&gt;\n    The bed looks hard and uncomfortable.\n&lt;/div&gt;\n</code></pre>\n<p>I added a CSS style specific to the div tag to set the display:</p>\n<p>div { display: block }</p>\n<p>The new method that adds text to the JEditorPane is:</p>\n<pre><code>public static void SetGameText(String location, String text, boolean appendText) {\n        if(appendText) {\n            try {\n                String addedText = text + &quot;&lt;br&gt;&quot;; // added new variable to append &lt;br&gt; tag\n                HTMLDocument doc = (HTMLDocument) gameText.getDocument();\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), addedText); //use new variable to add text to JEditorPane\n            }\n            catch (IOException | BadLocationException e) {\n                e.printStackTrace();\n            }\n        }\n        else {\n            gameText.setText(HTMLStyles);\n            gameText.setText(location + text);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":24430391,"reputation":3,"user_id":18355406,"display_name":"Erik Lightner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71327271,"answer_count":2,"score":0,"last_activity_date":1646279814,"creation_date":1646236718,"question_id":71325646,"body_markdown":"I am attempting to read text from an HTML file based on the id of the element and display it in a JTextPane. However, when I read in the text and display it, it is not going to a new line.\r\nHere is an example of the HTML being read in:\r\n\r\n    &lt;!-- LOOK BED command text --&gt;\r\n    &lt;p id=&quot;look-bed&quot;&gt;\r\n        The bed looks hard and uncomfortable.&lt;br&gt;\r\n    &lt;/p&gt;\r\n\r\n\r\n    &lt;!-- LOOK FOOD command text --&gt;\r\n    &lt;p id=&quot;look-food&quot;&gt;\r\n        The food doesn&#39;t look very appetizing.&lt;br&gt;\r\n    &lt;/p&gt;\r\n\r\nThe method that I am using to read from the HTML page is:\r\n```\r\n   public static String ReadFromHTMLFile(String tagId) {\r\n        Document htmlFile;\r\n        File file = new File(&quot;GameText.html&quot;);\r\n        try {\r\n            htmlFile = Jsoup.parse(file, &quot;UTF-8&quot;);\r\n            Element element = htmlFile.getElementById(tagId);\r\n            return String.valueOf(element);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;Unable to access &quot; + tagId + &quot; element&quot;;\r\n    }\r\n```\r\n\r\nThe method that I am using to update the text in the JTextPane is:\r\n\r\n```\r\n   public static void SetGameText(String location, String text, boolean appendText) {\r\n        if(appendText) {\r\n            try {\r\n                HTMLDocument doc = (HTMLDocument) gameText.getStyledDocument();\r\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), text);\r\n            }\r\n            catch (IOException | BadLocationException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        else {\r\n            gameText.setText(&quot;&quot;);\r\n            gameText.setText(location + text);\r\n        }\r\n    }\r\n```\r\n\r\nThe user is supposed to enter a command in a text box and click the submit button and get feedback based on the command that was entered. The problem is that each of the commands that are entered appear on the same line instead of a new line.\r\n\r\nThe part of the SetGameText method that runs if appendText is false functions the way it is supposed to, creating line breaks where I want them, but the part that runs if appendText is true is not creating a line break, even though I am using the \\&lt;br&gt; tag in the HTML.","title":"JTextPane is not adding a new line when reading text from HTML file","body":"<p>I am attempting to read text from an HTML file based on the id of the element and display it in a JTextPane. However, when I read in the text and display it, it is not going to a new line.\nHere is an example of the HTML being read in:</p>\n<pre><code>&lt;!-- LOOK BED command text --&gt;\n&lt;p id=&quot;look-bed&quot;&gt;\n    The bed looks hard and uncomfortable.&lt;br&gt;\n&lt;/p&gt;\n\n\n&lt;!-- LOOK FOOD command text --&gt;\n&lt;p id=&quot;look-food&quot;&gt;\n    The food doesn't look very appetizing.&lt;br&gt;\n&lt;/p&gt;\n</code></pre>\n<p>The method that I am using to read from the HTML page is:</p>\n<pre><code>   public static String ReadFromHTMLFile(String tagId) {\n        Document htmlFile;\n        File file = new File(&quot;GameText.html&quot;);\n        try {\n            htmlFile = Jsoup.parse(file, &quot;UTF-8&quot;);\n            Element element = htmlFile.getElementById(tagId);\n            return String.valueOf(element);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        return &quot;Unable to access &quot; + tagId + &quot; element&quot;;\n    }\n</code></pre>\n<p>The method that I am using to update the text in the JTextPane is:</p>\n<pre><code>   public static void SetGameText(String location, String text, boolean appendText) {\n        if(appendText) {\n            try {\n                HTMLDocument doc = (HTMLDocument) gameText.getStyledDocument();\n                doc.insertAfterEnd(doc.getCharacterElement(doc.getLength()), text);\n            }\n            catch (IOException | BadLocationException e) {\n                e.printStackTrace();\n            }\n        }\n        else {\n            gameText.setText(&quot;&quot;);\n            gameText.setText(location + text);\n        }\n    }\n</code></pre>\n<p>The user is supposed to enter a command in a text box and click the submit button and get feedback based on the command that was entered. The problem is that each of the commands that are entered appear on the same line instead of a new line.</p>\n<p>The part of the SetGameText method that runs if appendText is false functions the way it is supposed to, creating line breaks where I want them, but the part that runs if appendText is true is not creating a line break, even though I am using the &lt;br&gt; tag in the HTML.</p>\n"},{"tags":["java","spring","maven","spring-mvc","web-applications"],"answers":[{"tags":[],"owner":{"account_id":18147851,"reputation":56,"user_id":13200971,"display_name":"Babji Polisetti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646277397,"creation_date":1646277397,"answer_id":71331718,"question_id":71331672,"body_markdown":"Try to use below dependency in pom.xml because mentioned method not supported in older versions.\r\n\r\njavax.servlet.http.HttpServletResponse.getStatus() was added in Servlet 3.0\r\n\r\nAdd the following:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>Try to use below dependency in pom.xml because mentioned method not supported in older versions.</p>\n<p>javax.servlet.http.HttpServletResponse.getStatus() was added in Servlet 3.0</p>\n<p>Add the following:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646279678,"creation_date":1646277410,"answer_id":71331719,"question_id":71331672,"body_markdown":"Jetty 6.x uses Servlet 2.5 and the `int javax.servlet.http.HttpServletResponse.getStatus()` is added in Servlet 3.x. Spring framework 5.x uses Servlet 3.x so you must use compatible jetty version. \r\n\r\nUpdate the `maven-jetty-plugin` maven plugin to at least 8.x or better 9.x if you are using Java 8 and if you are using Java 11 or later then update to 10.x. \r\n\r\nRefs:\r\n\r\n1. https://www.eclipse.org/jetty/download.php#version-table\r\n2. https://spring.io/blog/2015/06/10/feedback-welcome-spring-5-system-requirements","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>Jetty 6.x uses Servlet 2.5 and the <code>int javax.servlet.http.HttpServletResponse.getStatus()</code> is added in Servlet 3.x. Spring framework 5.x uses Servlet 3.x so you must use compatible jetty version.</p>\n<p>Update the <code>maven-jetty-plugin</code> maven plugin to at least 8.x or better 9.x if you are using Java 8 and if you are using Java 11 or later then update to 10.x.</p>\n<p>Refs:</p>\n<ol>\n<li><a href=\"https://www.eclipse.org/jetty/download.php#version-table\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/download.php#version-table</a></li>\n<li><a href=\"https://spring.io/blog/2015/06/10/feedback-welcome-spring-5-system-requirements\" rel=\"nofollow noreferrer\">https://spring.io/blog/2015/06/10/feedback-welcome-spring-5-system-requirements</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3928993,"reputation":343,"user_id":3248353,"display_name":"Sathiyaraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646277843,"creation_date":1646277843,"answer_id":71331776,"question_id":71331672,"body_markdown":"@ktm5124. In normal @controller is required for response serialization in the method level so you could include the below sample.\r\n\r\n    @GetMapping(&quot;/{id}&quot;, produces = &quot;application/json&quot;)\r\n    public @ResponseBody Book getBook(@PathVariable int id) {\r\n        return findBookById(id);\r\n    }","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>@ktm5124. In normal @controller is required for response serialization in the method level so you could include the below sample.</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;, produces = &quot;application/json&quot;)\npublic @ResponseBody Book getBook(@PathVariable int id) {\n    return findBookById(id);\n}\n</code></pre>\n"}],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1646277424,"answer_count":3,"score":2,"last_activity_date":1646279678,"creation_date":1646276885,"question_id":71331672,"body_markdown":"I have set up my spring-mvc webapp according to tutorials I have read.\r\n\r\nHere is my controller class:\r\n\r\n    package hellowebapp;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    public class HelloController {\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n Here is my servlet.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;hellowebapp&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;jspViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        \r\n    &lt;/beans&gt;\r\n\r\nHere is my web.xml file:\r\n\r\n    &lt;web-app&gt;    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHere is my hello.jsp file:\r\n\r\n    &lt;%@ page contentType = &quot;text/html; charset = UTF-8&quot; %&gt;\r\n    &lt;html&gt;\r\n       &lt;head&gt;\r\n          &lt;title&gt;Hello World&lt;/title&gt;\r\n       &lt;/head&gt;\r\n       \r\n       &lt;body&gt;\r\n          &lt;h2&gt;${message}&lt;/h2&gt;\r\n       &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHere is my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;hellowebapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;HelloWebapp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;name&gt;HelloWebapp&lt;/name&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.16&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;6.1.10&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\r\n                        &lt;connectors&gt;\r\n                            &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\r\n                                &lt;port&gt;8080&lt;/port&gt;\r\n                                &lt;maxIdleTime&gt;60000&lt;/maxIdleTime&gt;\r\n                            &lt;/connector&gt;\r\n                        &lt;/connectors&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe directory structure shows in a list of files and paths:\r\n\r\n 1. src/main/webapp/WEB-INF/views/hello.jsp\r\n 2. src/main/webapp/WEB-INF/HelloWebapp-servlet.xml\r\n 3. src/main/webapp/WEB-INF/web.xml\r\n 4. src/main/java/hellowebapp/HelloController.java\r\n 5. pom.xml\r\n\r\nI can package my webapp with &quot;mvn clean package&quot; and run it with &quot;mvn jetty:run&quot;. When I point my web browser to http://localhost:8080/HelloWebapp/hello, I get this error message:\r\n\r\n    HTTP ERROR: 500\r\n    \r\n    &#39;int javax.servlet.http.HttpServletResponse.getStatus()&#39;\r\n    RequestURI=/HelloWebapp/hello\r\n    \r\n    Caused by:\r\n    \r\n    java.lang.NoSuchMethodError: &#39;int javax.servlet.http.HttpServletResponse.getStatus()&#39;\r\n    \tat org.springframework.web.servlet.FrameworkServlet.publishRequestHandledEvent(FrameworkServlet.java:1146)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1023)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n    \tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\r\n    \tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\r\n    \tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n    \tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\r\n    \tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\r\n    \tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\r\n    \tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\r\n    \tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n    \tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n    \tat org.mortbay.jetty.Server.handle(Server.java:324)\r\n    \tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\r\n    \tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\r\n    \tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)\r\n    \tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\r\n    \tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\r\n    \tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\r\n    \tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\r\n    Powered by Jetty://\r\n\r\nWhy am I getting this error message? How can I make the webapp work as intended?","title":"Why am I getting NoSuchMethodError in my Java webapp?","body":"<p>I have set up my spring-mvc webapp according to tutorials I have read.</p>\n<p>Here is my controller class:</p>\n<pre><code>package hellowebapp;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HelloController {\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String helloWorld(Model model) {\n        model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>Here is my servlet.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;hellowebapp&quot;/&gt;\n\n    &lt;bean id=&quot;jspViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>Here is my web.xml file:</p>\n<pre><code>&lt;web-app&gt;    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;    \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;HelloWebapp&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>Here is my hello.jsp file:</p>\n<pre><code>&lt;%@ page contentType = &quot;text/html; charset = UTF-8&quot; %&gt;\n&lt;html&gt;\n   &lt;head&gt;\n      &lt;title&gt;Hello World&lt;/title&gt;\n   &lt;/head&gt;\n   \n   &lt;body&gt;\n      &lt;h2&gt;${message}&lt;/h2&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;hellowebapp&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloWebapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;name&gt;HelloWebapp&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.16&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.1.10&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\n                    &lt;connectors&gt;\n                        &lt;connector implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\n                            &lt;port&gt;8080&lt;/port&gt;\n                            &lt;maxIdleTime&gt;60000&lt;/maxIdleTime&gt;\n                        &lt;/connector&gt;\n                    &lt;/connectors&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The directory structure shows in a list of files and paths:</p>\n<ol>\n<li>src/main/webapp/WEB-INF/views/hello.jsp</li>\n<li>src/main/webapp/WEB-INF/HelloWebapp-servlet.xml</li>\n<li>src/main/webapp/WEB-INF/web.xml</li>\n<li>src/main/java/hellowebapp/HelloController.java</li>\n<li>pom.xml</li>\n</ol>\n<p>I can package my webapp with &quot;mvn clean package&quot; and run it with &quot;mvn jetty:run&quot;. When I point my web browser to http://localhost:8080/HelloWebapp/hello, I get this error message:</p>\n<pre><code>HTTP ERROR: 500\n\n'int javax.servlet.http.HttpServletResponse.getStatus()'\nRequestURI=/HelloWebapp/hello\n\nCaused by:\n\njava.lang.NoSuchMethodError: 'int javax.servlet.http.HttpServletResponse.getStatus()'\n    at org.springframework.web.servlet.FrameworkServlet.publishRequestHandledEvent(FrameworkServlet.java:1146)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1023)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)\n    at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)\n    at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:324)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)\nPowered by Jetty://\n</code></pre>\n<p>Why am I getting this error message? How can I make the webapp work as intended?</p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam","google-cloud-build"],"answers":[{"tags":[],"owner":{"account_id":2800545,"reputation":369,"user_id":2408869,"accept_rate":90,"display_name":"onji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646278603,"creation_date":1646278603,"answer_id":71331855,"question_id":71305588,"body_markdown":"Turns out `BigQueryOptions.java` already has a method `getNumStorageWriteApiStreams()` that returns an Integer. I was unknowingly trying to rewrite it with a different return, oops.\r\n\r\n\r\nhttps://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryOptions.java#L95-L98","title":"Substitute ints into Dataflow via Cloudbuild yaml","body":"<p>Turns out <code>BigQueryOptions.java</code> already has a method <code>getNumStorageWriteApiStreams()</code> that returns an Integer. I was unknowingly trying to rewrite it with a different return, oops.</p>\n<p><a href=\"https://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryOptions.java#L95-L98\" rel=\"nofollow noreferrer\">https://github.com/apache/beam/blob/master/sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryOptions.java#L95-L98</a></p>\n"}],"owner":{"account_id":2800545,"reputation":369,"user_id":2408869,"accept_rate":90,"display_name":"onji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646278603,"creation_date":1646123092,"question_id":71305588,"body_markdown":"I&#39;ve got a streaming Dataflow pipeline, written in Java with BEAM 2.35. It commits data to BigQuery via StorageWriteApi. Initially the code looks like\r\n\r\n```\r\nBigQueryIO.writeTableRows()\r\n  .withTimePartitioning(/* some column */)\r\n  .withClustering(/* another column */)\r\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\r\n  .withTriggeringFrequency(Duration.standardSeconds(30))\r\n  .withNumStorageWriteApiStreams(20) // want to make this dynamic\r\n```\r\n\r\nThis code runs in different environment eg Dev &amp; Prod. When I deploy in Dev I want 2 StorageWriteApiStreams, in Prod I want 20, and I&#39;m trying to pass/resolve these values at the moment I deploy with a Cloudbuild.\r\n\r\nThe cloudbuild-dev.yaml looks like\r\n\r\n```\r\nsteps:\r\n  - lots-of-steps\r\nargs:\r\n --numStorageWriteApiStreams=${_NUM_STORAGEWRITEAPI_STREAMS}\r\nsubstitutions:\r\n  _PROJECT: dev-project\r\n  _NUM_STORAGEWRITEAPI_STREAMS: &#39;2&#39;\r\n```\r\n\r\nI expose the substitution in the job code with an interface\r\n```\r\n  ValueProvider&lt;String&gt; getNumStorageWriteApiStreams();\r\n  void setNumStorageWriteApiStreams(ValueProvider&lt;String&gt; numStorageWriteApiStreams);\r\n```\r\n\r\nI then refactor the writeTableRows() call to invoke getNumStorageWriteApiStreams()\r\n```\r\nBigQueryIO.writeTableRows()\r\n  .withTimePartitioning(/* some column */)\r\n  .withClustering(/* another column */)\r\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\r\n  .withTriggeringFrequency(Duration.standardSeconds(30))\r\n  .withNumStorageWriteApiStreams(Integer.parseInt(String.valueOf(options.getNumStorageWriteApiStreams())))\r\n```\r\n\r\nNow it&#39;s dynamic but I get a build failure on account of `java.lang.IllegalArgumentException: methods with same signature getNumStorageWriteApiStreams() but incompatible return types: [class java.lang.Integer, interface org.apache.beam.sdk.options.ValueProvider]`\r\n\r\nMy understanding was that `Integer.parseInt` returns an `int`, which I want so I can pass it to `withNumStorageWriteApiStreams()` which requires an `int`.\r\n\r\nI&#39;d appreciate any help I can get here thanks","title":"Substitute ints into Dataflow via Cloudbuild yaml","body":"<p>I've got a streaming Dataflow pipeline, written in Java with BEAM 2.35. It commits data to BigQuery via StorageWriteApi. Initially the code looks like</p>\n<pre><code>BigQueryIO.writeTableRows()\n  .withTimePartitioning(/* some column */)\n  .withClustering(/* another column */)\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\n  .withTriggeringFrequency(Duration.standardSeconds(30))\n  .withNumStorageWriteApiStreams(20) // want to make this dynamic\n</code></pre>\n<p>This code runs in different environment eg Dev &amp; Prod. When I deploy in Dev I want 2 StorageWriteApiStreams, in Prod I want 20, and I'm trying to pass/resolve these values at the moment I deploy with a Cloudbuild.</p>\n<p>The cloudbuild-dev.yaml looks like</p>\n<pre><code>steps:\n  - lots-of-steps\nargs:\n --numStorageWriteApiStreams=${_NUM_STORAGEWRITEAPI_STREAMS}\nsubstitutions:\n  _PROJECT: dev-project\n  _NUM_STORAGEWRITEAPI_STREAMS: '2'\n</code></pre>\n<p>I expose the substitution in the job code with an interface</p>\n<pre><code>  ValueProvider&lt;String&gt; getNumStorageWriteApiStreams();\n  void setNumStorageWriteApiStreams(ValueProvider&lt;String&gt; numStorageWriteApiStreams);\n</code></pre>\n<p>I then refactor the writeTableRows() call to invoke getNumStorageWriteApiStreams()</p>\n<pre><code>BigQueryIO.writeTableRows()\n  .withTimePartitioning(/* some column */)\n  .withClustering(/* another column */)\n  .withMethod(BigQueryIO.Write.Method.STORAGE_WRITE_API)\n  .withTriggeringFrequency(Duration.standardSeconds(30))\n  .withNumStorageWriteApiStreams(Integer.parseInt(String.valueOf(options.getNumStorageWriteApiStreams())))\n</code></pre>\n<p>Now it's dynamic but I get a build failure on account of <code>java.lang.IllegalArgumentException: methods with same signature getNumStorageWriteApiStreams() but incompatible return types: [class java.lang.Integer, interface org.apache.beam.sdk.options.ValueProvider]</code></p>\n<p>My understanding was that <code>Integer.parseInt</code> returns an <code>int</code>, which I want so I can pass it to <code>withNumStorageWriteApiStreams()</code> which requires an <code>int</code>.</p>\n<p>I'd appreciate any help I can get here thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5482441,"reputation":2640,"user_id":4358405,"accept_rate":62,"display_name":"TMG"},"score":0,"creation_date":1467673622,"post_id":38193194,"comment_id":63811795,"body_markdown":"Is this your jar (created by you) or some third party jar?","body":"Is this your jar (created by you) or some third party jar?"},{"owner":{"account_id":4188848,"reputation":1319,"user_id":4516837,"display_name":"Robert Navado"},"score":0,"creation_date":1467673660,"post_id":38193194,"comment_id":63811803,"body_markdown":"How do you build your jar?","body":"How do you build your jar?"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":4,"creation_date":1467673669,"post_id":38193194,"comment_id":63811808,"body_markdown":"Most probably this JAR contains some dependent libraries. Besides &quot;your simple program&quot;","body":"Most probably this JAR contains some dependent libraries. Besides &quot;your simple program&quot;"},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467673679,"post_id":38193194,"comment_id":63811809,"body_markdown":"this is my jar, it&#39;s only 70 lines","body":"this is my jar, it&#39;s only 70 lines"},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467673709,"post_id":38193194,"comment_id":63811816,"body_markdown":"@RobertNavado I use intellij","body":"@RobertNavado I use intellij"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1467673742,"post_id":38193194,"comment_id":63811825,"body_markdown":"Can you post your 70 lines code?","body":"Can you post your 70 lines code?"},{"owner":{"account_id":3503303,"reputation":1573,"user_id":2929488,"accept_rate":88,"display_name":"Abaddon666"},"score":1,"creation_date":1467673877,"post_id":38193194,"comment_id":63811864,"body_markdown":"Selenium and PhantomJs are quite the dependencies if you package them in your jar. They easily give you your 26.9 MB","body":"Selenium and PhantomJs are quite the dependencies if you package them in your jar. They easily give you your 26.9 MB"},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467673891,"post_id":38193194,"comment_id":63811868,"body_markdown":"Yes, I posted it. probably really ugly, but it&#39;s my first program","body":"Yes, I posted it. probably really ugly, but it&#39;s my first program"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":2,"creation_date":1467673920,"post_id":38193194,"comment_id":63811875,"body_markdown":"That `org.openqa.selenium` answers everything. Selenium library has lots of dependencies. IntelliJ is just adding it automatically for you.","body":"That <code>org.openqa.selenium</code> answers everything. Selenium library has lots of dependencies. IntelliJ is just adding it automatically for you."},{"owner":{"display_name":"user6543998"},"score":0,"creation_date":1467674007,"post_id":38193194,"comment_id":63811894,"body_markdown":"Okay, so it&#39;s because of org.openqa.selenium.. is there anyway to get it down just a little bit?","body":"Okay, so it&#39;s because of org.openqa.selenium.. is there anyway to get it down just a little bit?"},{"owner":{"account_id":3503303,"reputation":1573,"user_id":2929488,"accept_rate":88,"display_name":"Abaddon666"},"score":0,"creation_date":1467674061,"post_id":38193194,"comment_id":63811903,"body_markdown":"You have only the option to provide Selenium and PhantomJs as separate libraries. But the overall size won&#39;t change much. (it may even get bigger with more jar files)","body":"You have only the option to provide Selenium and PhantomJs as separate libraries. But the overall size won&#39;t change much. (it may even get bigger with more jar files)"},{"owner":{"account_id":949203,"reputation":4454,"user_id":975741,"display_name":"trooper"},"score":0,"creation_date":1467674153,"post_id":38193194,"comment_id":63811916,"body_markdown":"you can create the jar without the dependencies, but those files are still going to be needed to run it, so its really only saving space for people who already have the libraries installed. http://stackoverflow.com/questions/2264153/create-jar-file-without-including-external-dependencies .. You could also try throwing proguard into the mix.","body":"you can create the jar without the dependencies, but those files are still going to be needed to run it, so its really only saving space for people who already have the libraries installed. <a href=\"http://stackoverflow.com/questions/2264153/create-jar-file-without-including-external-dependencies\" title=\"create jar file without including external dependencies\">stackoverflow.com/questions/2264153/&hellip;</a> .. You could also try throwing proguard into the mix."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1467674154,"post_id":38193194,"comment_id":63811917,"body_markdown":"For that you would have to analyze your code and try to find out only specifics usages of selenium in your code, then just add specific dependencies by hand. But that will be a really long and hard work. OR even worst, download the selenium code and cut out what it isn&#39;t be used.","body":"For that you would have to analyze your code and try to find out only specifics usages of selenium in your code, then just add specific dependencies by hand. But that will be a really long and hard work. OR even worst, download the selenium code and cut out what it isn&#39;t be used."},{"owner":{"account_id":80348,"reputation":63958,"user_id":227267,"accept_rate":80,"display_name":"Matti Virkkunen"},"score":0,"creation_date":1467674284,"post_id":38193194,"comment_id":63811939,"body_markdown":"If you really want to bring the size down one way would be to get rid of Selenium and use plain web requests - however give the nature of the page you&#39;re automating that might be easier said than done (I doubt they&#39;re making it very automation friendly, the opposite probably)","body":"If you really want to bring the size down one way would be to get rid of Selenium and use plain web requests - however give the nature of the page you&#39;re automating that might be easier said than done (I doubt they&#39;re making it very automation friendly, the opposite probably)"}],"answers":[{"tags":[],"owner":{"account_id":4188848,"reputation":1319,"user_id":4516837,"display_name":"Robert Navado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467675457,"creation_date":1467674248,"answer_id":38193272,"question_id":38193194,"body_markdown":"It seems that you&#39;re using a lot of external libraries (now when you provided the code seems that they pulled by Selenium)  in your code and intellij  kindly packs them together into one jar, so you can run your program without need to care about class path in runtime.\n\nTo reduce the size of your jar I can suggest the following approaches:\n\n1. Reduce amount of external libraries (imported classes). For example don&#39;t include **java.io.*** but only the class you&#39;re actually using.\n\n2. Build proper compilation script using ant or maven. Then your jar will include only your classes and will be very small relatively to what you have now. However to run your code you&#39;ll need to care about having all required libs in runtime.","title":"Java why is my jar file so big?","body":"<p>It seems that you're using a lot of external libraries (now when you provided the code seems that they pulled by Selenium)  in your code and intellij  kindly packs them together into one jar, so you can run your program without need to care about class path in runtime.</p>\n\n<p>To reduce the size of your jar I can suggest the following approaches:</p>\n\n<ol>\n<li><p>Reduce amount of external libraries (imported classes). For example don't include <strong>java.io.*</strong> but only the class you're actually using.</p></li>\n<li><p>Build proper compilation script using ant or maven. Then your jar will include only your classes and will be very small relatively to what you have now. However to run your code you'll need to care about having all required libs in runtime.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2471819,"reputation":672,"user_id":2153485,"display_name":"Gavin Harris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1467676835,"creation_date":1467676835,"answer_id":38193536,"question_id":38193194,"body_markdown":"As said above, IntelliJ will package the dependencies into the created JAR file. You can see this by extracting the JAR &lt;code&gt;jar xf file.jar&lt;/code&gt; file and taking a look in the contents.\r\n\r\nWhat you can do is (as suggested) use Maven (https://maven.apache.org/install.html) this will allow you to create Dependencies that you can then supply to your code on the classpath. \r\n\r\nWith IntelliJ click File &gt; New &gt; Project,\r\n\r\nPick Maven from the list and choose a Project SDK.\r\n\r\nNext give your project a Group ID (com.company) and Artifact ID (myproject); leave Version as is for now.\r\n\r\nNow, give you project a local name (this will be the folder that gets created on your IdeaProjects directory.\r\n\r\nIntelliJ will popup a message to you saying that &quot;Maven projects need to be imported&quot;, I always Enable Auto-Import and then just maintain the &lt;code&gt;pom.xml&lt;/code&gt; file. \r\n\r\nThis will create you a project, find you pom.xml file: it will look something like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.7&lt;/source&gt;\r\n                        &lt;target&gt;1.7&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;2.53.1&lt;/version&gt;&lt;!-- Pick a different version if needed --&gt;\r\n            &lt;/dependency&gt; \r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nNow you can package your project by running &lt;code&gt;mvn package&lt;/code&gt; from the terminal, and your jar file will be saved into a &lt;code&gt;target&lt;/code&gt; directory. It will be very small as it will contain only your code.\r\n\r\nTo run the program, you can then do the following:\r\n\r\n&lt;code&gt;mvn exec:java -Dexec.mainClass=&quot;com.company.Test&quot; -Dexec.args=&quot;space separated arguments&quot;&lt;/code&gt; ","title":"Java why is my jar file so big?","body":"<p>As said above, IntelliJ will package the dependencies into the created JAR file. You can see this by extracting the JAR <code>jar xf file.jar</code> file and taking a look in the contents.</p>\n\n<p>What you can do is (as suggested) use Maven (<a href=\"https://maven.apache.org/install.html\" rel=\"nofollow\">https://maven.apache.org/install.html</a>) this will allow you to create Dependencies that you can then supply to your code on the classpath. </p>\n\n<p>With IntelliJ click File > New > Project,</p>\n\n<p>Pick Maven from the list and choose a Project SDK.</p>\n\n<p>Next give your project a Group ID (com.company) and Artifact ID (myproject); leave Version as is for now.</p>\n\n<p>Now, give you project a local name (this will be the folder that gets created on your IdeaProjects directory.</p>\n\n<p>IntelliJ will popup a message to you saying that \"Maven projects need to be imported\", I always Enable Auto-Import and then just maintain the <code>pom.xml</code> file. </p>\n\n<p>This will create you a project, find you pom.xml file: it will look something like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n            &lt;version&gt;2.53.1&lt;/version&gt;&lt;!-- Pick a different version if needed --&gt;\n        &lt;/dependency&gt; \n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Now you can package your project by running <code>mvn package</code> from the terminal, and your jar file will be saved into a <code>target</code> directory. It will be very small as it will contain only your code.</p>\n\n<p>To run the program, you can then do the following:</p>\n\n<p><code>mvn exec:java -Dexec.mainClass=\"com.company.Test\" -Dexec.args=\"space separated arguments\"</code> </p>\n"}],"owner":{"display_name":"user6543998"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7684,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":38193536,"answer_count":2,"score":3,"last_activity_date":1646278083,"creation_date":1467673522,"question_id":38193194,"body_markdown":"I have a pretty simple (And short) program that when compiled is somehow 26.9 MB?\r\n\r\nI used a online java decompiler and all this came up:\r\n[![imgur link][1]][1]\r\n\r\nMy program uses one java file which is `main.java`:\r\n\r\n}\r\n    \r\nWhy is my program so large?\r\n    \r\n     \r\n[1]: http://i.stack.imgur.com/RWEtU.png","title":"Java why is my jar file so big?","body":"<p>I have a pretty simple (And short) program that when compiled is somehow 26.9 MB?</p>\n\n<p>I used a online java decompiler and all this came up:\n<a href=\"https://i.stack.imgur.com/RWEtU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RWEtU.png\" alt=\"imgur link\"></a></p>\n\n<p>My program uses one java file which is <code>main.java</code>:</p>\n\n<p>}</p>\n\n<p>Why is my program so large?</p>\n"},{"tags":["java","spring-boot","rest","resttemplate","spring-webclient"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1646080731,"post_id":71300811,"comment_id":126031940,"body_markdown":"What does the log contain on the server side?  What is the actual value of `HOSTNAME + ENDPOINT + &quot;find/lastName/&quot;`?  There&#39;s a lot of necessary information missing.  Please take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"What does the log contain on the server side?  What is the actual value of <code>HOSTNAME + ENDPOINT + &quot;find&#47;lastName&#47;&quot;</code>?  There&#39;s a lot of necessary information missing.  Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":18539956,"reputation":35,"user_id":13508692,"display_name":"Paracetamol12"},"score":0,"creation_date":1646080978,"post_id":71300811,"comment_id":126032016,"body_markdown":"The value is: http://localhost:8080/employee/find/lastName/, it can be seen in &quot;Error&quot;. Thank you for advices :)","body":"The value is: <a href=\"http://localhost:8080/employee/find/lastName/\" rel=\"nofollow noreferrer\">localhost:8080/employee/find/lastName</a>, it can be seen in &quot;Error&quot;. Thank you for advices :)"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1646099544,"post_id":71300811,"comment_id":126035762,"body_markdown":"Since your `GET` has no body, the `Content-Type` header doesn&#39;t make much sense. Try setting the `Accept` header instead (in the test). Does it work?","body":"Since your <code>GET</code> has no body, the <code>Content-Type</code> header doesn&#39;t make much sense. Try setting the <code>Accept</code> header instead (in the test). Does it work?"},{"owner":{"account_id":18539956,"reputation":35,"user_id":13508692,"display_name":"Paracetamol12"},"score":0,"creation_date":1646119728,"post_id":71300811,"comment_id":126039027,"body_markdown":"@acdcjunior My request have a body which is a text (string) that&#39;s why I added the Content-Type header. I&#39;ve tried your solution, but the only change is that the response code changed from 400 to 406.","body":"@acdcjunior My request have a body which is a text (string) that&#39;s why I added the Content-Type header. I&#39;ve tried your solution, but the only change is that the response code changed from 400 to 406."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1646186202,"post_id":71300811,"comment_id":126059575,"body_markdown":"Ah, sorry, I was on mobile and didn&#39;t notice that. I posted an answer now. Hope it helps.","body":"Ah, sorry, I was on mobile and didn&#39;t notice that. I posted an answer now. Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646186159,"creation_date":1646186159,"answer_id":71316607,"question_id":71300811,"body_markdown":"&gt; My request have a body which is a text (string) that&#39;s why I added the Content-Type header.\r\n\r\nThe `RestTemplate` client doesn&#39;t support entities in `GET` requests. This is lack of support for body in `GET`s pretty common in clients, given those kinds of APIs are rare.\r\n\r\n[More info on `RestTemplate` specifically][1]:\r\n\r\n&gt; I assume you are using a `RestTemplate` with a default `ClientHttpRequestFactory`. In this case, JDK&#39;s `HttpURLConnection` is the underlying HTTP client. `HttpURLConnection` does not send a request body for GET requests; I&#39;ve verified that using Wireshark.\r\n\r\nIf you really are stuck with `RestTemplate`, your alternative is to use a different `ClientHttpRequestFactory`. For instance:\r\n\r\n    import org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\r\n    import org.apache.http.client.methods.HttpUriRequest;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import java.net.URI;\r\n    \r\n    class HttpComponentsClientHttpRequestFactoryForGetWithBody extends HttpComponentsClientHttpRequestFactory {\r\n        private static final class HttpGetRequestWithBody extends HttpEntityEnclosingRequestBase {\r\n            public HttpGetRequestWithBody(URI uri) { super.setURI(uri); }\r\n            @Override public String getMethod() { return HttpMethod.GET.name(); }\r\n        }\r\n        @Override\r\n        protected HttpUriRequest createHttpUriRequest(HttpMethod httpMethod, URI uri) {\r\n            if (HttpMethod.GET.equals(httpMethod)) {\r\n                return new HttpGetRequestWithBody(uri);\r\n            }\r\n            return super.createHttpUriRequest(httpMethod, uri);\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactoryForGetWithBody());   \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/20978#issuecomment-453466705","title":"Using RestTemplate GET request throws 400 Bad Request","body":"<blockquote>\n<p>My request have a body which is a text (string) that's why I added the Content-Type header.</p>\n</blockquote>\n<p>The <code>RestTemplate</code> client doesn't support entities in <code>GET</code> requests. This is lack of support for body in <code>GET</code>s pretty common in clients, given those kinds of APIs are rare.</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/20978#issuecomment-453466705\" rel=\"nofollow noreferrer\">More info on <code>RestTemplate</code> specifically</a>:</p>\n<blockquote>\n<p>I assume you are using a <code>RestTemplate</code> with a default <code>ClientHttpRequestFactory</code>. In this case, JDK's <code>HttpURLConnection</code> is the underlying HTTP client. <code>HttpURLConnection</code> does not send a request body for GET requests; I've verified that using Wireshark.</p>\n</blockquote>\n<p>If you really are stuck with <code>RestTemplate</code>, your alternative is to use a different <code>ClientHttpRequestFactory</code>. For instance:</p>\n<pre><code>import org.apache.http.client.methods.HttpEntityEnclosingRequestBase;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\nimport org.springframework.web.client.RestTemplate;\nimport java.net.URI;\n\nclass HttpComponentsClientHttpRequestFactoryForGetWithBody extends HttpComponentsClientHttpRequestFactory {\n    private static final class HttpGetRequestWithBody extends HttpEntityEnclosingRequestBase {\n        public HttpGetRequestWithBody(URI uri) { super.setURI(uri); }\n        @Override public String getMethod() { return HttpMethod.GET.name(); }\n    }\n    @Override\n    protected HttpUriRequest createHttpUriRequest(HttpMethod httpMethod, URI uri) {\n        if (HttpMethod.GET.equals(httpMethod)) {\n            return new HttpGetRequestWithBody(uri);\n        }\n        return super.createHttpUriRequest(httpMethod, uri);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactoryForGetWithBody());   \n</code></pre>\n"}],"owner":{"account_id":18539956,"reputation":35,"user_id":13508692,"display_name":"Paracetamol12"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71316607,"answer_count":1,"score":1,"last_activity_date":1646278080,"creation_date":1646080683,"question_id":71300811,"body_markdown":"I am getting 400 Bad Request when I send a GET request to Rest Service from JUnit Test case. My request body should be `text/plain` (`Content-Type: text/plain`) and the response should be a `ResponseEntity` of type `Employee`.\r\nI am not getting any error when I call request using Postman, but how I&#39;m not able to make it pass using Spring Web Client methods.\r\n\r\nI have an example for a POST REQUEST where almost similar test implementation passes, the difference is that in the request body I pass an entire object of `Employee` and in the test which fails is a `text/plain`. ( Last added)\r\n\r\nI tried to understand why it doesn&#39;t work, but I couldn&#39;t figure out.\r\nI also tried to change exchange Method with `getForObject`, `getForEntity` but it didn&#39;t work.\r\n\r\nFull URL : http://localhost:8080/employee/find/lastName/\r\n\r\nL.E.: IntelliJ hellps me by highlighting .exchange method and tells me that that method will respond with 400.\r\n\r\n\r\n### Controller ###\r\n```\r\n@RequestMapping (value = &quot;/find/lastName&quot;, headers=&quot;Content-Type=text/plain&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;Employee&gt; findEmployeeByLastName(@RequestBody String lastName) {\r\n        return EmployeeService.getEmployeeByLastName(lastName);\r\n    }\r\n```\r\n### Service ####\r\n\r\n    public static ResponseEntity&lt;Employee&gt; getEmployeeByLastName(String lastName) {\r\n        return employees\r\n                .stream()\r\n                .filter(employee -&gt; employee.getLastName().equals(lastName))\r\n                .findFirst()\r\n                .map(employee -&gt; new ResponseEntity&lt;&gt;(employee, HttpStatus.OK))\r\n                .orElseThrow(() -&gt; new ExmployeeResourceException(&quot;Not Found&quot;));\r\n    }\r\n\r\n### JUnit Test ####\r\n\r\n    @Test\r\n    public void ShouldReturnEmployeeByUsingLastName() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        String employeeLastName = &quot;Doe&quot;;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.TEXT_PLAIN);\r\n\r\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(employeeLastName, headers);\r\n        ResponseEntity&lt;Employee&gt; responseEntity =\r\n                restTemplate.exchange(\r\n                        HOSTNAME + ENDPOINT + &quot;find/lastName/&quot;,\r\n                        HttpMethod.GET,\r\n                        request,\r\n                        Employee.class\r\n                );\r\n    }\r\n\r\n### Error log ###\r\n```\r\n22:12:28.619 [main] DEBUG org.springframework.web.client.RestTemplate - Writing [Doe] as &quot;text/plain&quot; using [org.springframework.http.converter.StringHttpMessageConverter@48075da3]\r\n22:12:28.764 [main] DEBUG org.springframework.web.client.RestTemplate - GET request for &quot;http://localhost:8080/employee/find/lastName/&quot; resulted in 400 (null); invoking error handler\r\norg.springframework.web.client.HttpClientErrorException: 400 null at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)\r\n\tat com.endava.rest.EmployeeTests.ShouldReturnEmployeeByUsingLastName(EmployeeTests.java:90)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n### Example of test which passes ###\r\n```\r\n    @Test\r\n    public void ShouldBeAbleToCreateAnEmployee() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        Integer id = 3;\r\n        String firstName = &quot;Ionut&quot;;\r\n        String lastName = &quot;Popescu&quot;;\r\n\r\n        Employee newEmployee = new Employee(id, firstName, lastName);\r\n        HttpEntity&lt;Employee&gt; httpEntity = new HttpEntity&lt;&gt;(newEmployee);\r\n        ResponseEntity&lt;Employee&gt; responseEntity =\r\n                restTemplate.exchange(\r\n                        HOSTNAME + ENDPOINT,\r\n                        HttpMethod.POST,\r\n                        httpEntity,\r\n                        Employee.class\r\n                );\r\n}\r\n```","title":"Using RestTemplate GET request throws 400 Bad Request","body":"<p>I am getting 400 Bad Request when I send a GET request to Rest Service from JUnit Test case. My request body should be <code>text/plain</code> (<code>Content-Type: text/plain</code>) and the response should be a <code>ResponseEntity</code> of type <code>Employee</code>.\nI am not getting any error when I call request using Postman, but how I'm not able to make it pass using Spring Web Client methods.</p>\n<p>I have an example for a POST REQUEST where almost similar test implementation passes, the difference is that in the request body I pass an entire object of <code>Employee</code> and in the test which fails is a <code>text/plain</code>. ( Last added)</p>\n<p>I tried to understand why it doesn't work, but I couldn't figure out.\nI also tried to change exchange Method with <code>getForObject</code>, <code>getForEntity</code> but it didn't work.</p>\n<p>Full URL : http://localhost:8080/employee/find/lastName/</p>\n<p>L.E.: IntelliJ hellps me by highlighting .exchange method and tells me that that method will respond with 400.</p>\n<h3>Controller</h3>\n<pre><code>@RequestMapping (value = &quot;/find/lastName&quot;, headers=&quot;Content-Type=text/plain&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;Employee&gt; findEmployeeByLastName(@RequestBody String lastName) {\n        return EmployeeService.getEmployeeByLastName(lastName);\n    }\n</code></pre>\n<h3>Service</h3>\n<pre><code>public static ResponseEntity&lt;Employee&gt; getEmployeeByLastName(String lastName) {\n    return employees\n            .stream()\n            .filter(employee -&gt; employee.getLastName().equals(lastName))\n            .findFirst()\n            .map(employee -&gt; new ResponseEntity&lt;&gt;(employee, HttpStatus.OK))\n            .orElseThrow(() -&gt; new ExmployeeResourceException(&quot;Not Found&quot;));\n}\n</code></pre>\n<h3>JUnit Test</h3>\n<pre><code>@Test\npublic void ShouldReturnEmployeeByUsingLastName() {\n    RestTemplate restTemplate = new RestTemplate();\n\n    String employeeLastName = &quot;Doe&quot;;\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.TEXT_PLAIN);\n\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(employeeLastName, headers);\n    ResponseEntity&lt;Employee&gt; responseEntity =\n            restTemplate.exchange(\n                    HOSTNAME + ENDPOINT + &quot;find/lastName/&quot;,\n                    HttpMethod.GET,\n                    request,\n                    Employee.class\n            );\n}\n</code></pre>\n<h3>Error log</h3>\n<pre><code>22:12:28.619 [main] DEBUG org.springframework.web.client.RestTemplate - Writing [Doe] as &quot;text/plain&quot; using [org.springframework.http.converter.StringHttpMessageConverter@48075da3]\n22:12:28.764 [main] DEBUG org.springframework.web.client.RestTemplate - GET request for &quot;http://localhost:8080/employee/find/lastName/&quot; resulted in 400 (null); invoking error handler\norg.springframework.web.client.HttpClientErrorException: 400 null at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)\n    at com.endava.rest.EmployeeTests.ShouldReturnEmployeeByUsingLastName(EmployeeTests.java:90)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<h3>Example of test which passes</h3>\n<pre><code>    @Test\n    public void ShouldBeAbleToCreateAnEmployee() {\n        RestTemplate restTemplate = new RestTemplate();\n\n        Integer id = 3;\n        String firstName = &quot;Ionut&quot;;\n        String lastName = &quot;Popescu&quot;;\n\n        Employee newEmployee = new Employee(id, firstName, lastName);\n        HttpEntity&lt;Employee&gt; httpEntity = new HttpEntity&lt;&gt;(newEmployee);\n        ResponseEntity&lt;Employee&gt; responseEntity =\n                restTemplate.exchange(\n                        HOSTNAME + ENDPOINT,\n                        HttpMethod.POST,\n                        httpEntity,\n                        Employee.class\n                );\n}\n</code></pre>\n"},{"tags":["java","http"],"answers":[{"tags":[],"owner":{"account_id":1545931,"reputation":912,"user_id":1439485,"accept_rate":88,"display_name":"prometheus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635144029,"creation_date":1635144029,"answer_id":69703782,"question_id":69703673,"body_markdown":"I suggest you use a simple web framework like javalin.\r\n\r\nhttps://github.com/tipsy/javalin\r\n\r\n\r\nExample\r\n\r\n        Javalin app = Javalin.create().start(7000);\r\n        app.get(&quot;/hello&quot;, ctx -&gt; ctx.result(&quot;I am alive&quot;));\r\n\r\n","title":"How do I set http entry point to my java application","body":"<p>I suggest you use a simple web framework like javalin.</p>\n<p><a href=\"https://github.com/tipsy/javalin\" rel=\"nofollow noreferrer\">https://github.com/tipsy/javalin</a></p>\n<p>Example</p>\n<pre><code>    Javalin app = Javalin.create().start(7000);\n    app.get(&quot;/hello&quot;, ctx -&gt; ctx.result(&quot;I am alive&quot;));\n</code></pre>\n"}],"owner":{"account_id":23130784,"reputation":1,"user_id":17235822,"display_name":"Smile88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646277846,"creation_date":1635143479,"question_id":69703673,"body_markdown":"I would like to create an entry point for my Java application where I am able to call my program with different inputs, preferrably over HTTP.\r\nI am not sure if I should use Servlet like here\r\nhttps://stackoverflow.com/questions/26806120/java-web-application-specify-entry-point\r\nor there is simplier way to do that?\r\n\r\n","title":"How do I set http entry point to my java application","body":"<p>I would like to create an entry point for my Java application where I am able to call my program with different inputs, preferrably over HTTP.\nI am not sure if I should use Servlet like here\n<a href=\"https://stackoverflow.com/questions/26806120/java-web-application-specify-entry-point\">Java Web Application specify entry point</a>\nor there is simplier way to do that?</p>\n"},{"tags":["java","eclipse","puzzle"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1646130120,"post_id":71306880,"comment_id":126042522,"body_markdown":"Step through your code with a debugger. I&#39;d guess that `isSafe` never returns true (or, it doesn&#39;t return true enough times to hit the `saveBoard` call).","body":"Step through your code with a debugger. I&#39;d guess that <code>isSafe</code> never returns true (or, it doesn&#39;t return true enough times to hit the <code>saveBoard</code> call)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1646130363,"post_id":71306880,"comment_id":126042599,"body_markdown":"Also, possibly, the `//  grid` loops in `isSafe` should start from `sr`/`sc`, rather than 0.","body":"Also, possibly, the <code>&#47;&#47;  grid</code> loops in <code>isSafe</code> should start from <code>sr</code>/<code>sc</code>, rather than 0."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1646130546,"post_id":71306880,"comment_id":126042656,"body_markdown":"As a tip: call `saveBoard` in `main`, rather than in `helper`, so it will always print something if `helper` returns.","body":"As a tip: call <code>saveBoard</code> in <code>main</code>, rather than in <code>helper</code>, so it will always print something if <code>helper</code> returns."},{"owner":{"account_id":23623859,"reputation":11,"user_id":17656679,"display_name":"Sayan Mazumder"},"score":0,"creation_date":1646277820,"post_id":71306880,"comment_id":126085596,"body_markdown":"//grid loop fixed and calling saveBoard() from the main function worked. Thanks #Andy.","body":"//grid loop fixed and calling saveBoard() from the main function worked. Thanks #Andy."}],"owner":{"account_id":23623859,"reputation":11,"user_id":17656679,"display_name":"Sayan Mazumder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646277435,"creation_date":1646129903,"question_id":71306880,"body_markdown":"I&#39;ve written the code as per the logic, but my Eclipse console is empty when I click &#39;Run&#39;.\r\n\r\nThis is my code:\r\n\r\n```\r\npublic class test {\r\n  public static void main(String[] args) {\r\n\r\n    int[][] board = new int[9][9];\r\n    helper(board, 0, 0);\r\n  }\r\n\r\n  public static void saveBoard(int[][] board) {\r\n\r\n    for (int i = 0; i &lt; board.length; i++) {\r\n      for (int j = 0; j &lt; board.length; j++) {\r\n        System.out.print(board[i][j]);\r\n      }\r\n      System.out.println();\r\n    }\r\n  }\r\n\r\n  public static void helper(int[][] board, int row, int col) {\r\n\r\n    if (row == board.length - 1) {\r\n      saveBoard(board);\r\n      return;\r\n    }\r\n\r\n    if (col == board.length - 1) {\r\n      col = 0;\r\n      row += 1;\r\n    }\r\n\r\n    for (int i = 1; i &lt;= 9; i++) {\r\n      if (isSafe(board, row, col, i)) {\r\n        board[row][col] = i;\r\n        helper(board, row, col + 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  public static boolean isSafe(int[][] board, int row, int col, int number) {\r\n\r\n    //  row &amp; column\r\n\r\n    for (int i = 0; i &lt; board.length; i++) {\r\n      if (board[row][i] == number) return false;\r\n      if (board[i][col] == number) return false;\r\n    }\r\n    //  grid\r\n\r\n    int sc = (col / 3) * 3;\r\n    int sr = (row / 3) * 3;\r\n    for (int i = 0; i &lt; sr + 3; i++) {\r\n      for (int j = 0; j &lt; sc + 3; j++) {\r\n        if (board[i][j] == number) return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\n```\r\nor [here&#39;s a screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CPV7n.png","title":"Solve Sudoko in Java","body":"<p>I've written the code as per the logic, but my Eclipse console is empty when I click 'Run'.</p>\n<p>This is my code:</p>\n<pre><code>public class test {\n  public static void main(String[] args) {\n\n    int[][] board = new int[9][9];\n    helper(board, 0, 0);\n  }\n\n  public static void saveBoard(int[][] board) {\n\n    for (int i = 0; i &lt; board.length; i++) {\n      for (int j = 0; j &lt; board.length; j++) {\n        System.out.print(board[i][j]);\n      }\n      System.out.println();\n    }\n  }\n\n  public static void helper(int[][] board, int row, int col) {\n\n    if (row == board.length - 1) {\n      saveBoard(board);\n      return;\n    }\n\n    if (col == board.length - 1) {\n      col = 0;\n      row += 1;\n    }\n\n    for (int i = 1; i &lt;= 9; i++) {\n      if (isSafe(board, row, col, i)) {\n        board[row][col] = i;\n        helper(board, row, col + 1);\n      }\n    }\n  }\n\n  public static boolean isSafe(int[][] board, int row, int col, int number) {\n\n    //  row &amp; column\n\n    for (int i = 0; i &lt; board.length; i++) {\n      if (board[row][i] == number) return false;\n      if (board[i][col] == number) return false;\n    }\n    //  grid\n\n    int sc = (col / 3) * 3;\n    int sr = (row / 3) * 3;\n    for (int i = 0; i &lt; sr + 3; i++) {\n      for (int j = 0; j &lt; sc + 3; j++) {\n        if (board[i][j] == number) return false;\n      }\n    }\n    return true;\n  }\n}\n\n</code></pre>\n<p>or <a href=\"https://i.stack.imgur.com/CPV7n.png\" rel=\"nofollow noreferrer\">here's a screenshot</a></p>\n"},{"tags":["java","swing","jframe","jpanel","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1544990094,"post_id":53805840,"comment_id":94460396,"body_markdown":"JPanel is using a FlowLayout by default, change the layout to something else, maybe a GridBagLout, depending on your desired results","body":"JPanel is using a FlowLayout by default, change the layout to something else, maybe a GridBagLout, depending on your desired results"},{"owner":{"account_id":14957714,"reputation":13,"user_id":10798467,"display_name":"JAY"},"score":0,"creation_date":1544991884,"post_id":53805840,"comment_id":94460893,"body_markdown":"@MadProgrammer Thanks, I&#39;ll look into that.","body":"@MadProgrammer Thanks, I&#39;ll look into that."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544994616,"creation_date":1544994616,"answer_id":53806519,"question_id":53805840,"body_markdown":"There are any number of ways you &quot;might&quot; achieve this, but the basic answer is, you need to choose one or more layout managers which better meets your needs.\r\n\r\nFor example, using a `GridBagLayout`, you can do something like...\r\n\r\n[![Normal][1]][1][![Resized][2]][2]\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.border.LineBorder;\r\n    \r\n    public class JavaApplication1 {\r\n    \r\n        public static void main(String[] args) {\r\n            new JavaApplication1();\r\n        }\r\n    \r\n        public JavaApplication1() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n    \r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n                \r\n                JLabel label = new JLabel(&quot;Image placeholder&quot;) {\r\n                    // This is done only for demonstration purposes\r\n                    @Override\r\n                    public Dimension getPreferredSize() {\r\n                        return new Dimension(128, 128);\r\n                    }\r\n                };\r\n                label.setBorder(new LineBorder(Color.DARK_GRAY));\r\n                \r\n                add(label, gbc);\r\n                \r\n                gbc.gridy++;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                // This will cause the text area to occupy all the avalilable free space\r\n                //gbc.weightx = 1;\r\n                //gbc.weighty = 1;\r\n                JTextArea ta = new JTextArea(10, 20);\r\n                add(new JScrollPane(ta), gbc);\r\n                \r\n                JButton btn = new JButton(&quot;Run&quot;);\r\n                gbc.gridy++;\r\n                // Reset the constraints\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                gbc.weightx = 0;\r\n                gbc.weighty = 0;\r\n                add(btn, gbc);\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xTUig.png\r\n  [2]: https://i.stack.imgur.com/oOmM9.png\r\n\r\nTake a look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details and ideas\r\n\r\n### Recommendations...\r\n\r\nThere are a few things in your code that are, &quot;off&quot;, but this...\r\n\r\n    tf = new JTextArea();\r\n    tf.setPreferredSize(new Dimension(300, 200));\r\n\r\n    p.add(tf);\r\n\r\nis probably the most striking.\r\n\r\nGenerally speaking, `JTextArea` will benefit from been wrapped in a `JScrollPane`.  Also, due to the inconsistencies in how text is rendered across multiple platforms, you should avoid using `setPreferredSize` (in fact, you should avoid using it in general) and instead rely in the `rows, columns` constructor, which will make calculations based on the current font and graphics properties.","title":"How do I stop JFrame/JPanel from auto-formatting the distances between my components?","body":"<p>There are any number of ways you \"might\" achieve this, but the basic answer is, you need to choose one or more layout managers which better meets your needs.</p>\n\n<p>For example, using a <code>GridBagLayout</code>, you can do something like...</p>\n\n<p><a href=\"https://i.stack.imgur.com/xTUig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xTUig.png\" alt=\"Normal\"></a><a href=\"https://i.stack.imgur.com/oOmM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOmM9.png\" alt=\"Resized\"></a></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.border.LineBorder;\n\npublic class JavaApplication1 {\n\n    public static void main(String[] args) {\n        new JavaApplication1();\n    }\n\n    public JavaApplication1() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            JLabel label = new JLabel(\"Image placeholder\") {\n                // This is done only for demonstration purposes\n                @Override\n                public Dimension getPreferredSize() {\n                    return new Dimension(128, 128);\n                }\n            };\n            label.setBorder(new LineBorder(Color.DARK_GRAY));\n\n            add(label, gbc);\n\n            gbc.gridy++;\n            gbc.fill = GridBagConstraints.BOTH;\n            // This will cause the text area to occupy all the avalilable free space\n            //gbc.weightx = 1;\n            //gbc.weighty = 1;\n            JTextArea ta = new JTextArea(10, 20);\n            add(new JScrollPane(ta), gbc);\n\n            JButton btn = new JButton(\"Run\");\n            gbc.gridy++;\n            // Reset the constraints\n            gbc.fill = GridBagConstraints.NONE;\n            gbc.weightx = 0;\n            gbc.weighty = 0;\n            add(btn, gbc);\n        }\n\n    }\n}\n</code></pre>\n\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details and ideas</p>\n\n<h3>Recommendations...</h3>\n\n<p>There are a few things in your code that are, \"off\", but this...</p>\n\n<pre><code>tf = new JTextArea();\ntf.setPreferredSize(new Dimension(300, 200));\n\np.add(tf);\n</code></pre>\n\n<p>is probably the most striking.</p>\n\n<p>Generally speaking, <code>JTextArea</code> will benefit from been wrapped in a <code>JScrollPane</code>.  Also, due to the inconsistencies in how text is rendered across multiple platforms, you should avoid using <code>setPreferredSize</code> (in fact, you should avoid using it in general) and instead rely in the <code>rows, columns</code> constructor, which will make calculations based on the current font and graphics properties.</p>\n"}],"owner":{"account_id":14957714,"reputation":13,"user_id":10798467,"display_name":"JAY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53806519,"answer_count":1,"score":1,"last_activity_date":1646276924,"creation_date":1544989358,"question_id":53805840,"body_markdown":"So I&#39;m writing a program which utilizes a GUI. The GUI is built from a JFrame and a JPanel in Java. I have a JTextArea() and a JButton() that appears beside the JTextArea on the left. I also have an image which I imported locally using the method call below (&quot;f&quot; is the variable name of my JFrame):\r\n\r\n    f.setIconImage(ImageIO.read(new File(&quot;image.png&quot;)));\r\n\r\nI don&#39;t mind allowing the users to resize the JFrame but what I dislike is that JFrame automatically reformats the components on my JFrame - specifically the distance between my image and the JTextArea(). I&#39;d like, if possible, to keep the distance between my image and the JTextArea the same regardless of the size the user resizes the JFrame to. Here&#39;s the rest of my code if that helps:\r\n\r\n    public class GUI {\r\n    private JFrame f;\r\n    private JPanel p;\r\n    private JButton b1;\r\n    private JLabel lab;\r\n    private JTextArea tf;\r\n\r\n    private static final String FileName = &quot;schedule.txt&quot;;\r\n    private static final String FileName2 = &quot;schedule2.txt&quot;;\r\n\r\n    public void show()\r\n    {\r\n        f = new JFrame(&quot;Scheduler&quot;);\r\n        f.setSize(600, 400);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        p = new JPanel();\r\n        //p.setPreferredSize(new Dimension(200, 400));\r\n\r\n        b1 = new JButton(&quot;Run&quot;);\r\n\r\n        p.add(b1);\r\n\r\n        f.add(p);\r\n        f.add(p, BorderLayout.SOUTH);\r\n        f.add(new JLabel(new ImageIcon(&quot;image.png&quot;)));\r\n        try {\r\n            f.setIconImage(ImageIO.read(new File(&quot;image.png&quot;)));\r\n        } catch(Exception z){\r\n            System.out.println(&quot;Trouble reading file&quot;);\r\n        }\r\n\r\n        tf = new JTextArea();\r\n        tf.setPreferredSize(new Dimension(300, 200));\r\n\r\n        p.add(tf);\r\n\r\n        b1.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                String text = tf.getText();\r\n                try {\r\n                    FileWriter fw = new FileWriter(FileName);\r\n                    fw.write(text);\r\n                    fw.close();\r\n                    parseInfo();\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n\r\n                }\r\n            }\r\n        });\r\n        f.setVisible(true);\r\n\r\n    }\r\n\r\n ","title":"How do I stop JFrame/JPanel from auto-formatting the distances between my components?","body":"<p>So I'm writing a program which utilizes a GUI. The GUI is built from a JFrame and a JPanel in Java. I have a JTextArea() and a JButton() that appears beside the JTextArea on the left. I also have an image which I imported locally using the method call below (\"f\" is the variable name of my JFrame):</p>\n\n<pre><code>f.setIconImage(ImageIO.read(new File(\"image.png\")));\n</code></pre>\n\n<p>I don't mind allowing the users to resize the JFrame but what I dislike is that JFrame automatically reformats the components on my JFrame - specifically the distance between my image and the JTextArea(). I'd like, if possible, to keep the distance between my image and the JTextArea the same regardless of the size the user resizes the JFrame to. Here's the rest of my code if that helps:</p>\n\n<pre><code>public class GUI {\nprivate JFrame f;\nprivate JPanel p;\nprivate JButton b1;\nprivate JLabel lab;\nprivate JTextArea tf;\n\nprivate static final String FileName = \"schedule.txt\";\nprivate static final String FileName2 = \"schedule2.txt\";\n\npublic void show()\n{\n    f = new JFrame(\"Scheduler\");\n    f.setSize(600, 400);\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    p = new JPanel();\n    //p.setPreferredSize(new Dimension(200, 400));\n\n    b1 = new JButton(\"Run\");\n\n    p.add(b1);\n\n    f.add(p);\n    f.add(p, BorderLayout.SOUTH);\n    f.add(new JLabel(new ImageIcon(\"image.png\")));\n    try {\n        f.setIconImage(ImageIO.read(new File(\"image.png\")));\n    } catch(Exception z){\n        System.out.println(\"Trouble reading file\");\n    }\n\n    tf = new JTextArea();\n    tf.setPreferredSize(new Dimension(300, 200));\n\n    p.add(tf);\n\n    b1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            String text = tf.getText();\n            try {\n                FileWriter fw = new FileWriter(FileName);\n                fw.write(text);\n                fw.close();\n                parseInfo();\n            }\n            catch(Exception ex)\n            {\n\n            }\n        }\n    });\n    f.setVisible(true);\n\n}\n</code></pre>\n"},{"tags":["java","swing","printing","jframe","jbutton"],"owner":{"account_id":14995944,"reputation":13,"user_id":10825290,"display_name":"lines"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646276867,"creation_date":1545577996,"question_id":53904731,"body_markdown":"I&#39;m a newbie in coding.\r\nI want to make a shipping label program that printable using JForm Netbeans.\r\nThe printable text is in a JPanel.\r\n\r\nAlready looked for the print action code (which hard to found), finally found it, tried it but all failed.\r\nThe error warning said that the method is not applicable.\r\n\r\n        private void buttonprintActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n      \r\n            try{\r\n            panelpreview.print(); //error: no suitable method for prints (no argument)\r\n            }\r\n\r\n            catch(java.awt.print.PrinterException e){  //error: exception PrinterException is never thrown in body of corresponding try statement\r\n            System.err.format(&quot;No Printer Found&quot;, e.getMessage());\r\n            }\r\n        \r\n    }\r\n\r\nCan you help me so it can work?\r\nThank you in advance.\r\n\r\n","title":"How to Print Some Items in JForm Using JButton","body":"<p>I'm a newbie in coding.\nI want to make a shipping label program that printable using JForm Netbeans.\nThe printable text is in a JPanel.</p>\n\n<p>Already looked for the print action code (which hard to found), finally found it, tried it but all failed.\nThe error warning said that the method is not applicable.</p>\n\n<pre><code>    private void buttonprintActionPerformed(java.awt.event.ActionEvent evt) {                                            \n\n        try{\n        panelpreview.print(); //error: no suitable method for prints (no argument)\n        }\n\n        catch(java.awt.print.PrinterException e){  //error: exception PrinterException is never thrown in body of corresponding try statement\n        System.err.format(\"No Printer Found\", e.getMessage());\n        }\n\n}\n</code></pre>\n\n<p>Can you help me so it can work?\nThank you in advance.</p>\n"},{"tags":["java","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646270244,"post_id":71330960,"comment_id":126084364,"body_markdown":"`write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);`: it is writing exactly what you told it to write here. If that&#39;s not what you want, fix it. Unclear what you&#39;re asking.","body":"<code>write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);</code>: it is writing exactly what you told it to write here. If that&#39;s not what you want, fix it. Unclear what you&#39;re asking."},{"owner":{"account_id":58030,"reputation":2715,"user_id":173806,"display_name":"gwell"},"score":1,"creation_date":1646270518,"post_id":71330960,"comment_id":126084407,"body_markdown":"It seems wrong to close the files `iBuffer.close(); rBuffer.close();` immediately after writing the same result 10 times. It also looks like the `unsortedArray` should be cloned instead of assigned.","body":"It seems wrong to close the files <code>iBuffer.close(); rBuffer.close();</code> immediately after writing the same result 10 times. It also looks like the <code>unsortedArray</code> should be cloned instead of assigned."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646272791,"post_id":71330960,"comment_id":126084809,"body_markdown":"You are looping for your file output, but not for your sysout output - why?  Also as @gwell says *It seems wrong to close the files iBuffer.close(); rBuffer.close();* - You also should not be creating multiple instances of this class as each one will have their own variables.","body":"You are looping for your file output, but not for your sysout output - why?  Also as @gwell says <i>It seems wrong to close the files iBuffer.close(); rBuffer.close();</i> - You also should not be creating multiple instances of this class as each one will have their own variables."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1646276007,"post_id":71330960,"comment_id":126085350,"body_markdown":"Too much code. A [mcve] would be helpful.","body":"Too much code. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646275445,"creation_date":1646271311,"answer_id":71331132,"question_id":71330960,"body_markdown":"It looks generally confused.\r\n\r\n    //========================================================\r\n    //method to add random numbers to the array index size,\r\n    //then send them to be sorted iteratively and recursively\r\n    //before being displayed with the benchmark results\r\n    //========================================================\r\n    private BenchmarkSorts(int n)  \r\n  \r\nThat&#39;s a constructor, not a method, so each use of it will construct (!) a new BenchmarkSorts instance, each of which has its own set of instance variables.  And you apparently know it&#39;s a constructor, because to use it you wrote `new BenchmarkSorts(...)` - which means that creating one object using the first constructor ends up creating many of them using the second constructor, none of which instances are really used.  Probably not a good idea in retrospect to have &#39;fixed&#39; the unused-variable warning by suppressing it.\r\n\r\nAnd this is probably the source of your bug.  Each instance creates new BufferedWriters, each of which overwrites the same file.\r\n\r\nAlso,\r\n\r\n    int[] tempArray1 = unsortedArray;\r\n    int[] tempArray2 = unsortedArray;\r\n\r\nYou still have exactly one array.\r\n\r\nYour first fix should be to turn the 2nd constructor into a method. Then worry about whether you really wanted 2 copies of 1 array.\r\n","title":"BufferedWriter not writing data line by line","body":"<p>It looks generally confused.</p>\n<pre><code>//========================================================\n//method to add random numbers to the array index size,\n//then send them to be sorted iteratively and recursively\n//before being displayed with the benchmark results\n//========================================================\nprivate BenchmarkSorts(int n)  \n</code></pre>\n<p>That's a constructor, not a method, so each use of it will construct (!) a new BenchmarkSorts instance, each of which has its own set of instance variables.  And you apparently know it's a constructor, because to use it you wrote <code>new BenchmarkSorts(...)</code> - which means that creating one object using the first constructor ends up creating many of them using the second constructor, none of which instances are really used.  Probably not a good idea in retrospect to have 'fixed' the unused-variable warning by suppressing it.</p>\n<p>And this is probably the source of your bug.  Each instance creates new BufferedWriters, each of which overwrites the same file.</p>\n<p>Also,</p>\n<pre><code>int[] tempArray1 = unsortedArray;\nint[] tempArray2 = unsortedArray;\n</code></pre>\n<p>You still have exactly one array.</p>\n<p>Your first fix should be to turn the 2nd constructor into a method. Then worry about whether you really wanted 2 copies of 1 array.</p>\n"}],"owner":{"account_id":24257883,"reputation":1,"user_id":18207958,"display_name":"GhostRider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646275445,"creation_date":1646269342,"question_id":71330960,"body_markdown":"Currently trying to edit my old code from System.out.println() statements that display the results of a benchmark test to writing the results to 2 different .txt files. I am doing this so I can create a new program that uses JFileChooser to select one of the 2 .txt files and display the data on a JTable. The problem is the BufferedWriter is only writing the last set of data values 10x over so I cant display the correct results in my JTable. \r\n\r\n**BenchmarkSorts.java:**\r\n\r\n    /**\r\n     * \r\n     * BenchmarkSorts is going to generate arrays consisting of random integers the size of which is supplied from SortMain.java.\r\n     * It will then send the randomly generated array to be sorted using the Quick Sort Algorithm both Iteratively and Recursively\r\n     * a total of 50 times each and display the benchmark results to the user.\r\n     */\r\n    \r\n    //=========\r\n    //packages\r\n    //=========\r\n    import java.io.*;\r\n    import java.util.Random;\r\n    \r\n    //==============================\r\n    //start of class BenchmarkSorts\r\n    //==============================\r\n    public class BenchmarkSorts {\r\n    \r\n    \t//==========\r\n    \t//variables\r\n    \t//==========\r\n        private int[] unsortedArray;\r\n        private int iterativeCount = 0;\r\n        private int recursiveCount = 0;\r\n        private long iterativeTime, recursiveTime;\r\n        private int[] iterativeCountLog = new int[50];\r\n        private int[] recursiveCountLog = new int[50];\r\n        private int iCounter = 0;\r\n        private int rCounter = 0;\r\n        private long[] iterativeTimeLog = new long[50];\r\n        private long[] recursiveTimeLog = new long[50];\r\n        private int arraySize;\r\n        \r\n    \tprivate FileWriter iFileWriter = new FileWriter(&quot;iterativeResults.txt&quot;);\r\n    \tprivate FileWriter rFileWriter = new FileWriter(&quot;recursiveResults.txt&quot;);\r\n    \t\r\n    \tprivate BufferedWriter iBuffer = new BufferedWriter(iFileWriter);\r\n    \tprivate BufferedWriter rBuffer = new BufferedWriter(rFileWriter);\r\n    \r\n        //=========\r\n        //invoking\r\n        //=========\r\n        private QuickSort quickSort = new QuickSort();\r\n    \r\n        //============\r\n        //constructor\r\n        //============\r\n        public BenchmarkSorts(int[] sizes) throws Exception {\r\n    \r\n            //==========================================================\r\n        \t//for loop to add the sizes of the arrays to be benchmarked\r\n        \t//==========================================================\r\n            for(int i = 0; i &lt; sizes.length; i++){\r\n            \tarraySize = sizes[i];\r\n                @SuppressWarnings(&quot;unused&quot;)\r\n    \t\t\tBenchmarkSorts bms = new BenchmarkSorts(arraySize);        \r\n            }\r\n        }\r\n    \r\n        //========================================================\r\n        //method to add random numbers to the array index size,\r\n        //then send them to be sorted iteratively and recursively\r\n        //before being displayed with the benchmark results\r\n        //========================================================\r\n        private BenchmarkSorts(int n) throws Exception {\r\n    \r\n        \t//=================================\r\n        \t//nested for loops to run 50 times\r\n        \t//creating arrays\r\n        \t//=================================\r\n            for(int i = 0; i &lt; 50; i++) {\r\n            \tunsortedArray = new int[n];\r\n    \r\n                for(int j = 0; j &lt; n; j++) {\r\n                    Random randNum = new Random();\r\n                    unsortedArray[j] = (randNum.nextInt(1000));\r\n                }\r\n                runSorts();\r\n            }\r\n            displayReport(n);\r\n        }\r\n    \r\n        //=========================================================\r\n        //method to sort unsortedArray iteratively and recursively\r\n        //while keeping track of count, time(in nano seconds)\r\n        //=========================================================\r\n        public void runSorts() throws Exception {\r\n    \r\n        \t//=========================================\r\n        \t//creating 2 temporary arrays to be sorted\r\n        \t//=========================================\r\n            int[] tempArray1 = unsortedArray;\r\n            int[] tempArray2 = unsortedArray;\r\n    \r\n            //============================\r\n            //iterative sort and trackers\r\n            //============================\r\n            quickSort.iterativeSort(tempArray1);\r\n            int returnCount = quickSort.getCount();\r\n            long returnTime = quickSort.getTime();\r\n            iterativeCount = iterativeCount + returnCount;\r\n            iterativeTime = iterativeTime + returnTime;\r\n            iterativeCountLog[iCounter] = returnCount;\r\n            iterativeTimeLog[iCounter] = returnTime;\r\n            iCounter++;\r\n    \r\n            //============================\r\n            //recursive sort and trackers\r\n            //============================\r\n            quickSort.recursiveSort(tempArray2);\r\n            returnCount = quickSort.getCount();\r\n            returnTime = quickSort.getTime();\r\n            recursiveCount = recursiveCount + returnCount;\r\n            recursiveTime = recursiveTime + returnTime;\r\n            recursiveCountLog[rCounter] = recursiveCount;\r\n            recursiveTimeLog[rCounter] = recursiveTime;\r\n            rCounter++;\r\n        }\r\n    \r\n        //===================================================\r\n        //method to display averages and standard deviations\r\n        //===================================================\r\n        public void displayReport(int arraySize) throws IOException {  \t\r\n    \r\n        \t//==========\r\n        \t//variables\r\n        \t//==========\r\n            double iterativeAverageCount = 0;\r\n            double iterativeAverageTime = 0;\r\n            double recursiveAverageCount = 0;\r\n            double recursiveAverageTime = 0;\r\n            double iterativeSDCount = 0;\r\n            double iterativeSDTime = 0;\r\n            double recursiveSDCount = 0;\r\n            double recursiveSDTime = 0;\r\n    \r\n            //========================================================\r\n            //averaging the trackers for both iterative and recursive\r\n            //========================================================\r\n            iterativeAverageCount = iterativeCount / 50;\r\n            iterativeAverageTime = iterativeTime / 50;\r\n            recursiveAverageCount = recursiveCount / 50;\r\n            recursiveAverageTime = recursiveTime / 50;\r\n    \r\n            //==========================================\r\n            //for loop to calculate standard deviations\r\n            //==========================================\r\n            for(int i = 0; i &lt; 50; i++) {\r\n                iterativeSDCount = iterativeSDCount + Math.pow((iterativeCountLog[i] - iterativeAverageCount), 2);\r\n                iterativeSDTime = iterativeSDTime + Math.pow((iterativeTimeLog[i] - iterativeAverageTime), 2);\r\n                recursiveSDCount = recursiveSDCount + Math.pow((recursiveCountLog[i] - recursiveAverageCount), 2);\r\n                recursiveSDTime = recursiveSDTime + Math.pow((recursiveTimeLog[i] - recursiveAverageTime), 2);\r\n            }\r\n    \r\n            //====================\r\n            //standard deviations\r\n            //====================\r\n            iterativeSDCount = Math.pow(iterativeSDCount, .5) / arraySize;\r\n            iterativeSDTime = Math.pow(iterativeSDTime, .5) / arraySize;\r\n            recursiveSDCount = Math.pow(recursiveSDCount, .5) / arraySize;\r\n            recursiveSDTime = Math.pow(recursiveSDTime, .5) / arraySize;\r\n    \r\n            //====================================================\r\n            //for loops to BufferedWrite data to respective files\r\n            //====================================================\r\n            for (int i = 0; i &lt; 10; i++)    {\r\n            \tiBuffer.write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);\r\n            \tiBuffer.newLine();\r\n            }\r\n            for (int i = 0; i &lt; 10; i++)    {\r\n            \trBuffer.write(arraySize + &quot; &quot; + recursiveAverageCount +  &quot; &quot; + recursiveSDCount + &quot; &quot; + recursiveAverageTime + &quot; &quot; + recursiveSDTime);\r\n            \trBuffer.newLine();\r\n            }\r\n            iBuffer.close();\r\n            rBuffer.close();\r\n            \r\n            //==========================================\r\n            //old output that I want to write to a file\r\n            //==========================================\r\n            System.out.println(&quot;Iterative Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\r\n                    &quot;, Average Critical Operation Count: &quot; + iterativeAverageCount + &quot;, Standard Deviation of Count: &quot; +\r\n                    iterativeSDCount + &quot;, Average Execution Time: &quot; + iterativeAverageTime + &quot;, Standard Deviation of Time: &quot; +\r\n                    iterativeSDTime);\r\n    \r\n            System.out.println(&quot;Recursive Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\r\n                    &quot;, Average Critical Operation Count: &quot; + recursiveAverageCount + &quot;, Standard Deviation of Count: &quot; +\r\n                    recursiveSDCount + &quot;, Average Execution Time: &quot; + recursiveAverageTime + &quot;, Standard Deviation of Time: &quot; +\r\n                    recursiveSDTime);\r\n        }\r\n    }\r\n\r\n**This is the old output using System.out.println() statements:**\r\n\r\n    Iterative Quick Sort Results: \r\n    Data Set Size (n): 100, Average Critical Operation Count: 66.0, Standard Deviation of Count: 0.13490737563232041, Average Execution Time: 11528.0, Standard Deviation of Time: 394.80891580611495\r\n    Recursive Quick Sort Results: \r\n    Data Set Size (n): 100, Average Critical Operation Count: 99.0, Standard Deviation of Count: 199.0490957025427, Average Execution Time: 36124.0, Standard Deviation of Time: 78349.10253729777\r\n    Iterative Quick Sort Results: \r\n    Data Set Size (n): 200, Average Critical Operation Count: 133.0, Standard Deviation of Count: 0.11224972160321825, Average Execution Time: 27364.0, Standard Deviation of Time: 544.5295033329232\r\n    Recursive Quick Sort Results: \r\n    Data Set Size (n): 200, Average Critical Operation Count: 199.0, Standard Deviation of Count: 200.05439416568686, Average Execution Time: 29262.0, Standard Deviation of Time: 27784.950723818103\r\n    ...\r\n    ...\r\n    Iterative Quick Sort Results: \r\n    Data Set Size (n): 12000, Average Critical Operation Count: 11000.0, Standard Deviation of Count: 2.6352313834736497E-4, Average Execution Time: 720028.0, Standard Deviation of Time: 69.97877063001957\r\n    Recursive Quick Sort Results: \r\n    Data Set Size (n): 12000, Average Critical Operation Count: 11999.0, Standard Deviation of Count: 201.04293765444527, Average Execution Time: 6.034408E7, Standard Deviation of Time: 1011471.3254720564\r\n\r\n\r\nAs you can see it produces the correct outputs for all arraySize&#39;s from [100...12000] (I cut out the mid section to shorten the total length).\r\n\r\nThe 2 .txt files produced however only display the last arraySize [12000] 10x and I can&#39;t figure out why\r\n\r\n**iterativeResult.txt:**\r\n\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n    12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\r\n\r\n**recursiveResult.txt:**\r\n\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n    12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\r\n\r\n","title":"BufferedWriter not writing data line by line","body":"<p>Currently trying to edit my old code from System.out.println() statements that display the results of a benchmark test to writing the results to 2 different .txt files. I am doing this so I can create a new program that uses JFileChooser to select one of the 2 .txt files and display the data on a JTable. The problem is the BufferedWriter is only writing the last set of data values 10x over so I cant display the correct results in my JTable.</p>\n<p><strong>BenchmarkSorts.java:</strong></p>\n<pre><code>/**\n * \n * BenchmarkSorts is going to generate arrays consisting of random integers the size of which is supplied from SortMain.java.\n * It will then send the randomly generated array to be sorted using the Quick Sort Algorithm both Iteratively and Recursively\n * a total of 50 times each and display the benchmark results to the user.\n */\n\n//=========\n//packages\n//=========\nimport java.io.*;\nimport java.util.Random;\n\n//==============================\n//start of class BenchmarkSorts\n//==============================\npublic class BenchmarkSorts {\n\n    //==========\n    //variables\n    //==========\n    private int[] unsortedArray;\n    private int iterativeCount = 0;\n    private int recursiveCount = 0;\n    private long iterativeTime, recursiveTime;\n    private int[] iterativeCountLog = new int[50];\n    private int[] recursiveCountLog = new int[50];\n    private int iCounter = 0;\n    private int rCounter = 0;\n    private long[] iterativeTimeLog = new long[50];\n    private long[] recursiveTimeLog = new long[50];\n    private int arraySize;\n    \n    private FileWriter iFileWriter = new FileWriter(&quot;iterativeResults.txt&quot;);\n    private FileWriter rFileWriter = new FileWriter(&quot;recursiveResults.txt&quot;);\n    \n    private BufferedWriter iBuffer = new BufferedWriter(iFileWriter);\n    private BufferedWriter rBuffer = new BufferedWriter(rFileWriter);\n\n    //=========\n    //invoking\n    //=========\n    private QuickSort quickSort = new QuickSort();\n\n    //============\n    //constructor\n    //============\n    public BenchmarkSorts(int[] sizes) throws Exception {\n\n        //==========================================================\n        //for loop to add the sizes of the arrays to be benchmarked\n        //==========================================================\n        for(int i = 0; i &lt; sizes.length; i++){\n            arraySize = sizes[i];\n            @SuppressWarnings(&quot;unused&quot;)\n            BenchmarkSorts bms = new BenchmarkSorts(arraySize);        \n        }\n    }\n\n    //========================================================\n    //method to add random numbers to the array index size,\n    //then send them to be sorted iteratively and recursively\n    //before being displayed with the benchmark results\n    //========================================================\n    private BenchmarkSorts(int n) throws Exception {\n\n        //=================================\n        //nested for loops to run 50 times\n        //creating arrays\n        //=================================\n        for(int i = 0; i &lt; 50; i++) {\n            unsortedArray = new int[n];\n\n            for(int j = 0; j &lt; n; j++) {\n                Random randNum = new Random();\n                unsortedArray[j] = (randNum.nextInt(1000));\n            }\n            runSorts();\n        }\n        displayReport(n);\n    }\n\n    //=========================================================\n    //method to sort unsortedArray iteratively and recursively\n    //while keeping track of count, time(in nano seconds)\n    //=========================================================\n    public void runSorts() throws Exception {\n\n        //=========================================\n        //creating 2 temporary arrays to be sorted\n        //=========================================\n        int[] tempArray1 = unsortedArray;\n        int[] tempArray2 = unsortedArray;\n\n        //============================\n        //iterative sort and trackers\n        //============================\n        quickSort.iterativeSort(tempArray1);\n        int returnCount = quickSort.getCount();\n        long returnTime = quickSort.getTime();\n        iterativeCount = iterativeCount + returnCount;\n        iterativeTime = iterativeTime + returnTime;\n        iterativeCountLog[iCounter] = returnCount;\n        iterativeTimeLog[iCounter] = returnTime;\n        iCounter++;\n\n        //============================\n        //recursive sort and trackers\n        //============================\n        quickSort.recursiveSort(tempArray2);\n        returnCount = quickSort.getCount();\n        returnTime = quickSort.getTime();\n        recursiveCount = recursiveCount + returnCount;\n        recursiveTime = recursiveTime + returnTime;\n        recursiveCountLog[rCounter] = recursiveCount;\n        recursiveTimeLog[rCounter] = recursiveTime;\n        rCounter++;\n    }\n\n    //===================================================\n    //method to display averages and standard deviations\n    //===================================================\n    public void displayReport(int arraySize) throws IOException {   \n\n        //==========\n        //variables\n        //==========\n        double iterativeAverageCount = 0;\n        double iterativeAverageTime = 0;\n        double recursiveAverageCount = 0;\n        double recursiveAverageTime = 0;\n        double iterativeSDCount = 0;\n        double iterativeSDTime = 0;\n        double recursiveSDCount = 0;\n        double recursiveSDTime = 0;\n\n        //========================================================\n        //averaging the trackers for both iterative and recursive\n        //========================================================\n        iterativeAverageCount = iterativeCount / 50;\n        iterativeAverageTime = iterativeTime / 50;\n        recursiveAverageCount = recursiveCount / 50;\n        recursiveAverageTime = recursiveTime / 50;\n\n        //==========================================\n        //for loop to calculate standard deviations\n        //==========================================\n        for(int i = 0; i &lt; 50; i++) {\n            iterativeSDCount = iterativeSDCount + Math.pow((iterativeCountLog[i] - iterativeAverageCount), 2);\n            iterativeSDTime = iterativeSDTime + Math.pow((iterativeTimeLog[i] - iterativeAverageTime), 2);\n            recursiveSDCount = recursiveSDCount + Math.pow((recursiveCountLog[i] - recursiveAverageCount), 2);\n            recursiveSDTime = recursiveSDTime + Math.pow((recursiveTimeLog[i] - recursiveAverageTime), 2);\n        }\n\n        //====================\n        //standard deviations\n        //====================\n        iterativeSDCount = Math.pow(iterativeSDCount, .5) / arraySize;\n        iterativeSDTime = Math.pow(iterativeSDTime, .5) / arraySize;\n        recursiveSDCount = Math.pow(recursiveSDCount, .5) / arraySize;\n        recursiveSDTime = Math.pow(recursiveSDTime, .5) / arraySize;\n\n        //====================================================\n        //for loops to BufferedWrite data to respective files\n        //====================================================\n        for (int i = 0; i &lt; 10; i++)    {\n            iBuffer.write(arraySize + &quot; &quot; + iterativeAverageCount +  &quot; &quot; + iterativeSDCount + &quot; &quot; + iterativeAverageTime + &quot; &quot; + iterativeSDTime);\n            iBuffer.newLine();\n        }\n        for (int i = 0; i &lt; 10; i++)    {\n            rBuffer.write(arraySize + &quot; &quot; + recursiveAverageCount +  &quot; &quot; + recursiveSDCount + &quot; &quot; + recursiveAverageTime + &quot; &quot; + recursiveSDTime);\n            rBuffer.newLine();\n        }\n        iBuffer.close();\n        rBuffer.close();\n        \n        //==========================================\n        //old output that I want to write to a file\n        //==========================================\n        System.out.println(&quot;Iterative Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\n                &quot;, Average Critical Operation Count: &quot; + iterativeAverageCount + &quot;, Standard Deviation of Count: &quot; +\n                iterativeSDCount + &quot;, Average Execution Time: &quot; + iterativeAverageTime + &quot;, Standard Deviation of Time: &quot; +\n                iterativeSDTime);\n\n        System.out.println(&quot;Recursive Quick Sort Results: &quot; + &quot;\\nData Set Size (n): &quot; + arraySize +\n                &quot;, Average Critical Operation Count: &quot; + recursiveAverageCount + &quot;, Standard Deviation of Count: &quot; +\n                recursiveSDCount + &quot;, Average Execution Time: &quot; + recursiveAverageTime + &quot;, Standard Deviation of Time: &quot; +\n                recursiveSDTime);\n    }\n}\n</code></pre>\n<p><strong>This is the old output using System.out.println() statements:</strong></p>\n<pre><code>Iterative Quick Sort Results: \nData Set Size (n): 100, Average Critical Operation Count: 66.0, Standard Deviation of Count: 0.13490737563232041, Average Execution Time: 11528.0, Standard Deviation of Time: 394.80891580611495\nRecursive Quick Sort Results: \nData Set Size (n): 100, Average Critical Operation Count: 99.0, Standard Deviation of Count: 199.0490957025427, Average Execution Time: 36124.0, Standard Deviation of Time: 78349.10253729777\nIterative Quick Sort Results: \nData Set Size (n): 200, Average Critical Operation Count: 133.0, Standard Deviation of Count: 0.11224972160321825, Average Execution Time: 27364.0, Standard Deviation of Time: 544.5295033329232\nRecursive Quick Sort Results: \nData Set Size (n): 200, Average Critical Operation Count: 199.0, Standard Deviation of Count: 200.05439416568686, Average Execution Time: 29262.0, Standard Deviation of Time: 27784.950723818103\n...\n...\nIterative Quick Sort Results: \nData Set Size (n): 12000, Average Critical Operation Count: 11000.0, Standard Deviation of Count: 2.6352313834736497E-4, Average Execution Time: 720028.0, Standard Deviation of Time: 69.97877063001957\nRecursive Quick Sort Results: \nData Set Size (n): 12000, Average Critical Operation Count: 11999.0, Standard Deviation of Count: 201.04293765444527, Average Execution Time: 6.034408E7, Standard Deviation of Time: 1011471.3254720564\n</code></pre>\n<p>As you can see it produces the correct outputs for all arraySize's from [100...12000] (I cut out the mid section to shorten the total length).</p>\n<p>The 2 .txt files produced however only display the last arraySize [12000] 10x and I can't figure out why</p>\n<p><strong>iterativeResult.txt:</strong></p>\n<pre><code>12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n12000 11000.0 2.6352313834736497E-4 720028.0 69.97877063001957\n</code></pre>\n<p><strong>recursiveResult.txt:</strong></p>\n<pre><code>12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n12000 11999.0 201.04293765444527 6.034408E7 1011471.3254720564\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1612201661,"post_id":65987425,"comment_id":116687305,"body_markdown":"You may also want to check out [jpackage](https://docs.oracle.com/en/java/javase/15/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A) (available since Java 14).","body":"You may also want to check out <a href=\"https://docs.oracle.com/en/java/javase/15/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">jpackage</a> (available since Java 14)."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646275305,"creation_date":1612157358,"answer_id":65987597,"question_id":65987425,"body_markdown":"From Java 9 onwards, Oracle no longer provides a JRE-only installation kit, either with the Oracle Java badge or the OpenJDK badge.  That&#39;s why you can&#39;t find Java 15 JRE downloads on the Oracle and OpenJDK download sites.\r\n\r\nYou / they have three options:\r\n\r\n  1.  They can download and install a JDK for Java 15.  You or he will also need to deal with the JavaFX JAR and other 3rd-party JARs that your application uses.  \r\n  2.  You can use `jlink` (or similar) to turn your JAR file into an executable with an embedded (cut down) JRE.  You then ship that executable rather than the JAR file.\r\n  3.  You can recommend that they obtain Java from a 3rd party Java vendor that provides a JRE option for Java 15.\r\n\r\n\r\n--------------------------\r\n\r\n&gt; My program contains VM options so that can I embed them within the .jar file?\r\n\r\nI don&#39;t think you can do that.  But it should be a simple matter to write a shell script or batch file which calls (for example) `java` with the required options.\r\n\r\nIf you use `jlink` you can embed JVM options in the executable; see https://stackoverflow.com/questions/54208800/how-to-set-vm-options-for-jlink-launcher-executable.\r\n\r\nThe `jpackage` tool may also be an option, though this is not a production feature until Java 16.","title":"What version of JRE should I use to run a Java 15 compiled program?","body":"<p>From Java 9 onwards, Oracle no longer provides a JRE-only installation kit, either with the Oracle Java badge or the OpenJDK badge.  That's why you can't find Java 15 JRE downloads on the Oracle and OpenJDK download sites.</p>\n<p>You / they have three options:</p>\n<ol>\n<li>They can download and install a JDK for Java 15.  You or he will also need to deal with the JavaFX JAR and other 3rd-party JARs that your application uses.</li>\n<li>You can use <code>jlink</code> (or similar) to turn your JAR file into an executable with an embedded (cut down) JRE.  You then ship that executable rather than the JAR file.</li>\n<li>You can recommend that they obtain Java from a 3rd party Java vendor that provides a JRE option for Java 15.</li>\n</ol>\n<hr />\n<blockquote>\n<p>My program contains VM options so that can I embed them within the .jar file?</p>\n</blockquote>\n<p>I don't think you can do that.  But it should be a simple matter to write a shell script or batch file which calls (for example) <code>java</code> with the required options.</p>\n<p>If you use <code>jlink</code> you can embed JVM options in the executable; see <a href=\"https://stackoverflow.com/questions/54208800/how-to-set-vm-options-for-jlink-launcher-executable\">How to set VM options for JLink launcher executable</a>.</p>\n<p>The <code>jpackage</code> tool may also be an option, though this is not a production feature until Java 16.</p>\n"}],"owner":{"account_id":20595623,"reputation":111,"user_id":15118121,"display_name":"Alpha Beta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6332,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65987597,"answer_count":1,"score":4,"last_activity_date":1646275305,"creation_date":1612155898,"question_id":65987425,"body_markdown":"I am new to Java Programming. Recently I created a JavaFX program using the latest JDK 15 (https://www.oracle.com/java/technologies/javase-downloads.html) and the latest JavaFX SDK 15 (https://openjfx.io/index.html). Suppose that I need to deploy the application (.jar) in someone else&#39;s computer.\r\n\r\n- What is the version of JRE which should be in the client&#39;s PC? Or does he need to install complete JDK?\r\n- My program contains VM options so that can I embed them within the .jar file?\r\n- Are there specific JREs for version after Java 8? Or is the JRE coupled with the JDK itself?\r\n","title":"What version of JRE should I use to run a Java 15 compiled program?","body":"<p>I am new to Java Programming. Recently I created a JavaFX program using the latest JDK 15 (<a href=\"https://www.oracle.com/java/technologies/javase-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-downloads.html</a>) and the latest JavaFX SDK 15 (<a href=\"https://openjfx.io/index.html\" rel=\"nofollow noreferrer\">https://openjfx.io/index.html</a>). Suppose that I need to deploy the application (.jar) in someone else's computer.</p>\n<ul>\n<li>What is the version of JRE which should be in the client's PC? Or does he need to install complete JDK?</li>\n<li>My program contains VM options so that can I embed them within the .jar file?</li>\n<li>Are there specific JREs for version after Java 8? Or is the JRE coupled with the JDK itself?</li>\n</ul>\n"},{"tags":["java","spring","hibernate","spring-boot","sessionfactory"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1573941519,"post_id":58895540,"comment_id":104055865,"body_markdown":"Perhaps if you showed the full stacktrace, so we can see where the **`NullPointerException`** originates, and the source code covering that, we might better be able to help you. ---  See also [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/q/218384/5221149)","body":"Perhaps if you showed the full stacktrace, so we can see where the <b><code>NullPointerException</code></b> originates, and the source code covering that, we might better be able to help you. ---  See also <a href=\"https://stackoverflow.com/q/218384/5221149\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1573941541,"post_id":58895540,"comment_id":104055873,"body_markdown":"What happens if you completely remove your `@Bean` method? What, specifically, Hibernate and Spring dependencies are you using?","body":"What happens if you completely remove your <code>@Bean</code> method? What, specifically, Hibernate and Spring dependencies are you using?"},{"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"score":0,"creation_date":1573942570,"post_id":58895540,"comment_id":104056060,"body_markdown":"@Andreas I added full stack trace, please, take a look, thanks","body":"@Andreas I added full stack trace, please, take a look, thanks"},{"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"score":0,"creation_date":1573942666,"post_id":58895540,"comment_id":104056081,"body_markdown":"@chrylis-onstrike-   I added dependencies versions for hibernate and spring","body":"@chrylis-onstrike-   I added dependencies versions for hibernate and spring"},{"owner":{"account_id":9132794,"reputation":83,"user_id":6793708,"display_name":"VKJava"},"score":0,"creation_date":1573943104,"post_id":58895540,"comment_id":104056176,"body_markdown":"Please post your pom.xml as well.","body":"Please post your pom.xml as well."},{"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"score":0,"creation_date":1573943520,"post_id":58895540,"comment_id":104056265,"body_markdown":"@janlan What are you trying to achieve? Do you want a reference to the SessionFactory so you can use and call it in your code?","body":"@janlan What are you trying to achieve? Do you want a reference to the SessionFactory so you can use and call it in your code?"},{"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"score":0,"creation_date":1573943635,"post_id":58895540,"comment_id":104056297,"body_markdown":"@fap That is right. I need it to handle DAO layer for my app obviously","body":"@fap That is right. I need it to handle DAO layer for my app obviously"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1573944210,"post_id":58895540,"comment_id":104056414,"body_markdown":"@janlan Why do you need it? Do you understand the relationship between Hibernate and JPA?","body":"@janlan Why do you need it? Do you understand the relationship between Hibernate and JPA?"},{"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"score":0,"creation_date":1573944259,"post_id":58895540,"comment_id":104056426,"body_markdown":"The usual way to do this with Spring Boot is by including either `spring-boot-starter-data-jpa` or `spring-boot-starter-data-jdbc` as a dependency.\nSpring Boot then automatically reads your `application.properties` and creates all the necessary database / hibernate classes.\nTry to follow https://spring.io/guides/gs/accessing-data-jpa/.\n(or check out https://spring.io/blog/2018/09/17/introducing-spring-data-jdbc if you don&#39;t like JPA, although Data JPA is much more mature and you&#39;ll find more online resources / tutorials)","body":"The usual way to do this with Spring Boot is by including either <code>spring-boot-starter-data-jpa</code> or <code>spring-boot-starter-data-jdbc</code> as a dependency. Spring Boot then automatically reads your <code>application.properties</code> and creates all the necessary database / hibernate classes. Try to follow <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-jpa</a>. (or check out <a href=\"https://spring.io/blog/2018/09/17/introducing-spring-data-jdbc\" rel=\"nofollow noreferrer\">spring.io/blog/2018/09/17/introducing-spring-data-jdbc</a> if you don&#39;t like JPA, although Data JPA is much more mature and you&#39;ll find more online resources / tutorials)"}],"answers":[{"tags":[],"owner":{"account_id":4289314,"reputation":178,"user_id":3506105,"display_name":"lsantamaria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1573949056,"creation_date":1573949056,"answer_id":58896371,"question_id":58895540,"body_markdown":"Remove hibernate-core dependency and add spring-data-jpa which already includes it.","title":"Cannot instantiate Session Factory in Spring Boot Application","body":"<p>Remove hibernate-core dependency and add spring-data-jpa which already includes it.</p>\n"}],"owner":{"account_id":15210769,"reputation":477,"user_id":10975673,"display_name":"janlan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58896371,"answer_count":1,"score":0,"last_activity_date":1646274890,"creation_date":1573941158,"question_id":58895540,"body_markdown":"Whenever I run Spring boot app, I got following errors about EntityManagerFactory and SessionFactory which results in Spring error with current stack trace below:\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appConfig&#39;: Unsatisfied dependency expressed through field &#39;entityManagerFactory&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean &#39;appConfig&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:397) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1429) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n\tat com.cms.qlturka.app.QlturkaApplication.main(QlturkaApplication.java:10) [classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean &#39;appConfig&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:645) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:475) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:636) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\t... 19 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean &#39;appConfig&#39; - consider declaring the factory method as static for independence from its containing instance. Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\t... 32 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat com.cms.qlturka.app.AppConfig.sessionFactory(AppConfig.java:28) ~[classes/:na]\r\n\tat com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.CGLIB$sessionFactory$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5$$FastClassBySpringCGLIB$$fab66a3e.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\tat com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.sessionFactory(&lt;generated&gt;) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n\t... 33 common frames omitted\r\n```\r\nClasses:\r\n\r\nMain:\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication()\r\npublic class QlturkaApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(QlturkaApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nConfiguration class:\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n@EnableAutoConfiguration\r\npublic class AppConfig {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Autowired\r\n    private EntityManagerFactory entityManagerFactory;\r\n\r\n    @Bean\r\n    public SessionFactory sessionFactory() {\r\n        if (entityManagerFactory.unwrap(SessionFactory.class) == null) {\r\n            throw new NullPointerException(&quot;factory is not a hibernate factory&quot;);\r\n        }\r\n        System.out.println(&quot;here&quot;);\r\n        return entityManagerFactory.unwrap(SessionFactory.class);\r\n    }\r\n}\r\n```\r\nHow can I fix that? What is the problem with creating the beans? I cannot find any information about this problem\r\n\r\nDependencies for Hibernate and Spring are below:  \r\nHibernate -&gt; 5.4.1.Final  \r\nSpring -&gt; 2.2.1 Release  \r\nMy `pom.xml` file for dependencies:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.cms&lt;/groupId&gt;\r\n    &lt;artifactId&gt;qlturka&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Qlturka&lt;/name&gt;\r\n    &lt;description&gt;test app&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.13&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Cannot instantiate Session Factory in Spring Boot Application","body":"<p>Whenever I run Spring boot app, I got following errors about EntityManagerFactory and SessionFactory which results in Spring error with current stack trace below:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig': Unsatisfied dependency expressed through field 'entityManagerFactory'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean 'appConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:116) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:397) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1429) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n    at com.cms.qlturka.app.QlturkaApplication.main(QlturkaApplication.java:10) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [com/cms/qlturka/app/AppConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean 'appConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:645) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:475) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:636) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.hibernate.SessionFactory]: Circular reference involving containing bean 'appConfig' - consider declaring the factory method as static for independence from its containing instance. Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:640) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 32 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at com.cms.qlturka.app.AppConfig.sessionFactory(AppConfig.java:28) ~[classes/:na]\n    at com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.CGLIB$sessionFactory$0(&lt;generated&gt;) ~[classes/:na]\n    at com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5$$FastClassBySpringCGLIB$$fab66a3e.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:363) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at com.cms.qlturka.app.AppConfig$$EnhancerBySpringCGLIB$$2d1fc4f5.sessionFactory(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    ... 33 common frames omitted\n</code></pre>\n<p>Classes:</p>\n<p>Main:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication()\npublic class QlturkaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QlturkaApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Configuration class:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\n@EnableAutoConfiguration\npublic class AppConfig {\n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private EntityManagerFactory entityManagerFactory;\n\n    @Bean\n    public SessionFactory sessionFactory() {\n        if (entityManagerFactory.unwrap(SessionFactory.class) == null) {\n            throw new NullPointerException(&quot;factory is not a hibernate factory&quot;);\n        }\n        System.out.println(&quot;here&quot;);\n        return entityManagerFactory.unwrap(SessionFactory.class);\n    }\n}\n</code></pre>\n<p>How can I fix that? What is the problem with creating the beans? I cannot find any information about this problem</p>\n<p>Dependencies for Hibernate and Spring are below:<br />\nHibernate -&gt; 5.4.1.Final<br />\nSpring -&gt; 2.2.1 Release<br />\nMy <code>pom.xml</code> file for dependencies:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cms&lt;/groupId&gt;\n    &lt;artifactId&gt;qlturka&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Qlturka&lt;/name&gt;\n    &lt;description&gt;test app&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.13&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":9701780,"reputation":1040,"user_id":7196490,"accept_rate":25,"display_name":"Edu G"},"score":0,"creation_date":1487583463,"post_id":42340927,"comment_id":71833840,"body_markdown":"Did you check if that folder really exists and you have JDK installed ?","body":"Did you check if that folder really exists and you have JDK installed ?"},{"owner":{"account_id":10290157,"reputation":181,"user_id":7592138,"display_name":"구지훈"},"score":0,"creation_date":1487583536,"post_id":42340927,"comment_id":71833874,"body_markdown":"yes, I already installed JDK so i can compile and run my java programm by cmd. ㅠㅠ","body":"yes, I already installed JDK so i can compile and run my java programm by cmd. ㅠㅠ"}],"answers":[{"tags":[],"owner":{"account_id":10051238,"reputation":486,"user_id":7430994,"display_name":"FrederikVH"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1487583918,"creation_date":1487583918,"answer_id":42341138,"question_id":42340927,"body_markdown":"You have to restart VS Code after entering the java.home variable in the settings file.\r\n\r\nAlternatively, setting that variable isn&#39;t even required. You can remove it from your settings and VS Code will automatically check your user/system environment variables for JDK_HOME and JAVA_HOME.\r\n\r\nSee &quot;Setting the JDK&quot; at https://marketplace.visualstudio.com/items?itemName=redhat.java\r\n\r\nFor information on how to set the environment variables, see https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>You have to restart VS Code after entering the java.home variable in the settings file.</p>\n\n<p>Alternatively, setting that variable isn't even required. You can remove it from your settings and VS Code will automatically check your user/system environment variables for JDK_HOME and JAVA_HOME.</p>\n\n<p>See \"Setting the JDK\" at <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"noreferrer\">https://marketplace.visualstudio.com/items?itemName=redhat.java</a></p>\n\n<p>For information on how to set the environment variables, see <a href=\"https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation\">Environment variables for java installation</a></p>\n"},{"tags":[],"owner":{"account_id":3918586,"reputation":458,"user_id":3241790,"accept_rate":20,"display_name":"Zaher88abd"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1576046997,"creation_date":1498500905,"answer_id":44766079,"question_id":42340927,"body_markdown":"you should change the path to be like this:\r\n\r\n    &quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_111&quot;\r\n","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>you should change the path to be like this:</p>\n\n<pre><code>\"java.home\":\"C:\\\\Program Files\\\\Java\\\\jdk1.8.0_111\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":981631,"reputation":2772,"user_id":1001199,"accept_rate":62,"display_name":"profimedica"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522493294,"creation_date":1522491318,"answer_id":49586642,"question_id":42340927,"body_markdown":"My Visual Studio Code is set to use the 32 bit version of JDK\r\n\r\nA default java.exe is installed in your %SYSTEMROOT%\\System32\r\n\r\nCheck java version from command line:\r\n\r\n&gt; java -version\r\n\r\nYou might need to add your version to **PATH**:\r\n\r\n&gt; set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.8.0_111\\bin\r\n\r\nAnd set your system **JAVA_HOME**:\r\n\r\n&gt; setx -m JAVA_HOME &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_111&quot;\r\n\r\nRestart cmd and try:\r\n\r\necho %JAVA_HOME%\r\n\r\nRestart Visual Studio Code and be happy.\r\n\r\nUse `set` instead of `setx` for local user.","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>My Visual Studio Code is set to use the 32 bit version of JDK</p>\n\n<p>A default java.exe is installed in your %SYSTEMROOT%\\System32</p>\n\n<p>Check java version from command line:</p>\n\n<blockquote>\n  <p>java -version</p>\n</blockquote>\n\n<p>You might need to add your version to <strong>PATH</strong>:</p>\n\n<blockquote>\n  <p>set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.8.0_111\\bin</p>\n</blockquote>\n\n<p>And set your system <strong>JAVA_HOME</strong>:</p>\n\n<blockquote>\n  <p>setx -m JAVA_HOME \"C:\\Program Files (x86)\\Java\\jdk1.8.0_111\"</p>\n</blockquote>\n\n<p>Restart cmd and try:</p>\n\n<p>echo %JAVA_HOME%</p>\n\n<p>Restart Visual Studio Code and be happy.</p>\n\n<p>Use <code>set</code> instead of <code>setx</code> for local user.</p>\n"},{"tags":[],"owner":{"account_id":12531346,"reputation":33,"user_id":9119513,"display_name":"nevyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539695569,"creation_date":1539695569,"answer_id":52836272,"question_id":42340927,"body_markdown":"In case this question is still open.\r\n\r\nTry placing a space between the words, Program and Files, so it reads:\r\n\r\n&gt;&quot;C:/Program Files/Java/jdk1.8.0_131&quot;","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>In case this question is still open.</p>\n\n<p>Try placing a space between the words, Program and Files, so it reads:</p>\n\n<blockquote>\n  <p>\"C:/Program Files/Java/jdk1.8.0_131\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14751445,"reputation":11,"user_id":10653427,"display_name":"Uma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563950166,"creation_date":1542216769,"answer_id":53305825,"question_id":42340927,"body_markdown":"If you are using bash from VSCode, should use:\r\n\r\n`export JAVA_HOME=/c/Program\\ Files/Java/jdk1.8.0_172`\r\n\r\nYou can use this in the terminal there.","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>If you are using bash from VSCode, should use:</p>\n\n<p><code>export JAVA_HOME=/c/Program\\ Files/Java/jdk1.8.0_172</code></p>\n\n<p>You can use this in the terminal there.</p>\n"},{"tags":[],"owner":{"account_id":12623243,"reputation":13,"user_id":9177971,"display_name":"Diwakar Chauhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544169199,"creation_date":1544169199,"answer_id":53665347,"question_id":42340927,"body_markdown":"You only need to put the space in between Program and files like: \r\n\r\n&gt; java.home :- &quot;C:/Program Files/Java/jdk1.8.0_111&quot;\r\n\r\n","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>You only need to put the space in between Program and files like: </p>\n\n<blockquote>\n  <p>java.home :- \"C:/Program Files/Java/jdk1.8.0_111\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12372875,"reputation":21,"user_id":9022379,"display_name":"Aldo Biturku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557387033,"creation_date":1557387033,"answer_id":56054297,"question_id":42340927,"body_markdown":"try to change path as follow: \r\n\r\n    &quot;java.home&quot;:&quot;C:/Program Files/Java/jdk1.8.0_202&quot;\r\n\r\n**Make attention to the space in &quot;Program Files&quot; in the path**.","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>try to change path as follow: </p>\n\n<pre><code>\"java.home\":\"C:/Program Files/Java/jdk1.8.0_202\"\n</code></pre>\n\n<p><strong>Make attention to the space in \"Program Files\" in the path</strong>.</p>\n"}],"owner":{"account_id":10290157,"reputation":181,"user_id":7592138,"display_name":"구지훈"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57042,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":7,"score":18,"last_activity_date":1646273778,"creation_date":1487583312,"question_id":42340927,"body_markdown":"\r\nI downloaded language support for Java by Red Hat in Microsoft Visual Studio Code, \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O3uZN.png\r\n\r\nbut I got a problem as shown in the above picture.\r\n\r\nSo I tried to set my JDK path in the `settings.json` file in VSCode:\r\n\r\n    &quot;java.home&quot;: &quot;C:/ProgramFiles/Java/jdk1.8.0_111&quot;\r\n\r\nBut the problem is still not solved.\r\n\r\nDo you know how to solve this problem?","title":"Java Programming with Microsoft Visual Studio Code","body":"<p>I downloaded language support for Java by Red Hat in Microsoft Visual Studio Code, \n<img src=\"https://i.stack.imgur.com/O3uZN.png\" alt=\"enter image description here\"></p>\n\n<p>but I got a problem as shown in the above picture.</p>\n\n<p>So I tried to set my JDK path in the <code>settings.json</code> file in VSCode:</p>\n\n<pre><code>\"java.home\": \"C:/ProgramFiles/Java/jdk1.8.0_111\"\n</code></pre>\n\n<p>But the problem is still not solved.</p>\n\n<p>Do you know how to solve this problem?</p>\n"},{"tags":["java","android","youtube"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1646273495,"post_id":71330737,"comment_id":126084944,"body_markdown":"Did you try anything from the [how to show a youtube video in an android app](https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app) results I linked from [your previous question](https://stackoverflow.com/questions/71326787/youtube-video-link-on-android-studio)?","body":"Did you try anything from the <a href=\"https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app\" rel=\"nofollow noreferrer\">how to show a youtube video in an android app</a> results I linked from <a href=\"https://stackoverflow.com/questions/71326787/youtube-video-link-on-android-studio\">your previous question</a>?"},{"owner":{"account_id":24389727,"reputation":15,"user_id":18319871,"display_name":"777111222"},"score":0,"creation_date":1646276390,"post_id":71330737,"comment_id":126085424,"body_markdown":"@FrankvanPuffelen I added the dependencies, but in my onBindViewHolder, I can&#39;t figure out how to display it.  I tried holder.youTubePlayerView.loadVideo(exercise.getVideo(), 0) but the loadVideo() method is not loading.","body":"@FrankvanPuffelen I added the dependencies, but in my onBindViewHolder, I can&#39;t figure out how to display it.  I tried holder.youTubePlayerView.loadVideo(exercise.getVideo(), 0) but the loadVideo() method is not loading."}],"owner":{"account_id":24389727,"reputation":15,"user_id":18319871,"display_name":"777111222"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646273440,"creation_date":1646266915,"question_id":71330737,"body_markdown":"I want to get the video ID from my database, use the string and load the YouTube video in the cardview. But I&#39;m lost on how to load the video using the holder.\r\n\r\n[![I have the video ID stored as a string in my database][1]][1]\r\n\r\n[![CardView][2]][2]\r\n\r\n\r\nThis is my onBindViewHolder in my adapter class.\r\n\r\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        Exercise exercise = list.get(position);\r\n        holder.exerciseName.setText(exercise.getExerciseName());\r\n        holder.muscleGroupName.setText(exercise.getMuscleGroupName());\r\n        holder.equipmentName.setText(exercise.getEquipmentName());\r\n        Glide.with(holder.imageView).load(exercise.getImage()).into(holder.imageView);\r\n\r\n    }\r\n\r\n\r\n\r\n public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        public ImageView imageView;\r\n        TextView exerciseName, muscleGroupName, equipmentName;\r\n        YouTubePlayerView youTubePlayerView;\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            exerciseName = itemView.findViewById(R.id.exerciseNameInput);\r\n            muscleGroupName = itemView.findViewById(R.id.muscleGroupNameInput);\r\n            equipmentName = itemView.findViewById(R.id.equipmentNameInput);\r\n            imageView = itemView.findViewById(R.id.imageInput);\r\n            youTubePlayerView = itemView.findViewById(R.id.video);\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rhsHu.png\r\n  [2]: https://i.stack.imgur.com/XXe7I.png","title":"How would I use YouTubePlayerView with holder to display in recyclerview?","body":"<p>I want to get the video ID from my database, use the string and load the YouTube video in the cardview. But I'm lost on how to load the video using the holder.</p>\n<p><a href=\"https://i.stack.imgur.com/rhsHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rhsHu.png\" alt=\"I have the video ID stored as a string in my database\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XXe7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XXe7I.png\" alt=\"CardView\" /></a></p>\n<p>This is my onBindViewHolder in my adapter class.</p>\n<p>public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {</p>\n<pre><code>    Exercise exercise = list.get(position);\n    holder.exerciseName.setText(exercise.getExerciseName());\n    holder.muscleGroupName.setText(exercise.getMuscleGroupName());\n    holder.equipmentName.setText(exercise.getEquipmentName());\n    Glide.with(holder.imageView).load(exercise.getImage()).into(holder.imageView);\n\n}\n</code></pre>\n<p>public static class MyViewHolder extends RecyclerView.ViewHolder{</p>\n<pre><code>    public ImageView imageView;\n    TextView exerciseName, muscleGroupName, equipmentName;\n    YouTubePlayerView youTubePlayerView;\n\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        exerciseName = itemView.findViewById(R.id.exerciseNameInput);\n        muscleGroupName = itemView.findViewById(R.id.muscleGroupNameInput);\n        equipmentName = itemView.findViewById(R.id.equipmentNameInput);\n        imageView = itemView.findViewById(R.id.imageInput);\n        youTubePlayerView = itemView.findViewById(R.id.video);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","loops","while-loop"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646272990,"creation_date":1646272990,"answer_id":71331303,"question_id":71331225,"body_markdown":"Just change:\r\n\r\n    s = scan.next();\r\n\r\nTo:\r\n\r\n    i = scan.nextInt();\r\n\r\nIf you only want POSITIVE ints to be added, then also change your `if` statement to:\r\n\r\n    if (i &gt; 0)\r\n","title":"How to end while loop for integer gathering array in java?","body":"<p>Just change:</p>\n<pre><code>s = scan.next();\n</code></pre>\n<p>To:</p>\n<pre><code>i = scan.nextInt();\n</code></pre>\n<p>If you only want POSITIVE ints to be added, then also change your <code>if</code> statement to:</p>\n<pre><code>if (i &gt; 0)\n</code></pre>\n"}],"owner":{"account_id":20889260,"reputation":7,"user_id":15345065,"display_name":"Tusk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71331303,"answer_count":1,"score":-1,"last_activity_date":1646273025,"creation_date":1646272268,"question_id":71331225,"body_markdown":"I am wring a program that askes the user to give any value they want as long as it is a whole number, and that value will be placed in a array. They can do this asmany times as they would like, until they add -1 to the array. I am having a hard time figurig out how to get the loop to end. \r\nMy code: \r\n\r\n```\r\n    int i = 0;\r\n\t\t    while (i != -1) {\r\n\t\t\t    System.out.print(&quot;Enter a positive whole number, enter &#39;-1&#39; to stop:&quot;);\r\n\t\t\t    s = scan.next();\r\n\t\t\t    if (i ! = -1)\r\n\t\t\t     intElements.add(i);\r\n```\r\n\r\nI think the issue is in my if conditional. Not sure what the correct way to write out the logic would be.  ","title":"How to end while loop for integer gathering array in java?","body":"<p>I am wring a program that askes the user to give any value they want as long as it is a whole number, and that value will be placed in a array. They can do this asmany times as they would like, until they add -1 to the array. I am having a hard time figurig out how to get the loop to end.\nMy code:</p>\n<pre><code>    int i = 0;\n            while (i != -1) {\n                System.out.print(&quot;Enter a positive whole number, enter '-1' to stop:&quot;);\n                s = scan.next();\n                if (i ! = -1)\n                 intElements.add(i);\n</code></pre>\n<p>I think the issue is in my if conditional. Not sure what the correct way to write out the logic would be.</p>\n"},{"tags":["java","android"],"owner":{"account_id":16114085,"reputation":563,"user_id":13452141,"display_name":"JP711"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646272708,"creation_date":1646272708,"question_id":71331264,"body_markdown":"Today I got this error in my app:\r\n\r\n&gt; java.lang.IllegalArgumentException: com.money.saving: Targeting S+\r\n&gt; (version 31 and above) requires that one of FLAG_IMMUTABLE or\r\n&gt; FLAG_MUTABLE be specified when creating a PendingIntent.\r\n&gt;     Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\r\n&gt; it needs to be used with inline replies or bubbles.\r\n\r\nI don&#39;t understand when my PendingIntent is mutable.\r\n\r\nIn my application I use `PendingIntent` 2 times, the first time is to schedule an AlarmManager that repeats daily\r\n\r\n    AlarmManager alarm = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n        alarm.cancel(pendingIntent);\r\n        alarm.setRepeating(AlarmManager.RTC_WAKEUP, cHoraActivacion.getTimeInMillis(), (24 * 60 * 60 * 1000), pendingIntent);\r\n\r\nThe second to create a notification\r\n\r\n    AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\r\n        am.set(AlarmManager.RTC_WAKEUP, cFecha.getTimeInMillis(), pendingIntent);\r\n\r\nI assume that when using setRepeating I should use FLAG_MUTABLE and in the case of notification I should use FLAG_IMMUTABLE, This assumption is because setRepeating has to undergo changes to see when it is activated. Am I correct?","title":"FLAG_MUTABLE usage examples, when should I use it?","body":"<p>Today I got this error in my app:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: com.money.saving: Targeting S+\n(version 31 and above) requires that one of FLAG_IMMUTABLE or\nFLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\nit needs to be used with inline replies or bubbles.</p>\n</blockquote>\n<p>I don't understand when my PendingIntent is mutable.</p>\n<p>In my application I use <code>PendingIntent</code> 2 times, the first time is to schedule an AlarmManager that repeats daily</p>\n<pre><code>AlarmManager alarm = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    alarm.cancel(pendingIntent);\n    alarm.setRepeating(AlarmManager.RTC_WAKEUP, cHoraActivacion.getTimeInMillis(), (24 * 60 * 60 * 1000), pendingIntent);\n</code></pre>\n<p>The second to create a notification</p>\n<pre><code>AlarmManager am = (AlarmManager) context.getSystemService(ALARM_SERVICE);\n    am.set(AlarmManager.RTC_WAKEUP, cFecha.getTimeInMillis(), pendingIntent);\n</code></pre>\n<p>I assume that when using setRepeating I should use FLAG_MUTABLE and in the case of notification I should use FLAG_IMMUTABLE, This assumption is because setRepeating has to undergo changes to see when it is activated. Am I correct?</p>\n"},{"tags":["java","stack","comparable"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1646274035,"post_id":71331260,"comment_id":126085049,"body_markdown":"Try this tutorial https://www.baeldung.com/java-comparator-comparable","body":"Try this tutorial <a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\">baeldung.com/java-comparator-comparable</a>"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1646275898,"post_id":71331260,"comment_id":126085333,"body_markdown":"Keeping a member variable for min and max would work for push, but not for pop as it would have nothing to compare against.  it would also not account for duplicates.  So basically, you could use a compareTo() to find the greater of the two on push, but on pops you&#39;d need to recalculate the min and max.","body":"Keeping a member variable for min and max would work for push, but not for pop as it would have nothing to compare against.  it would also not account for duplicates.  So basically, you could use a compareTo() to find the greater of the two on push, but on pops you&#39;d need to recalculate the min and max."}],"owner":{"account_id":24359465,"reputation":41,"user_id":18294046,"display_name":"XanJo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646272651,"creation_date":1646272651,"question_id":71331260,"body_markdown":"For this assignment I need to create a linked stack class that contains a `getMin()` and `getMax()`. I cannot change the class header which was provided by the instructor. Both `getMin` and `getMax` should be O(1) time. \r\n\r\nMy thought is that I need to use the `compareTo` method to compare entries as they are pushed or poped so that I can set variables `minValue` and `maxValue` equal to their respective values. However, I don&#39;t understand the section in the class header `&lt;T extends Comparable&lt;? super T&gt;&gt;` nor do I know how or where to implement Comparable. I tried having my `class Node&lt;E&gt;` implement `Comparable` but it asked me to override the `compareTo` method and I&#39;m not sure how that would work. \r\n\r\nAny help would be greatly appreciated! Below is my code for this assignment:\r\n```\r\npublic class MinMaxStack &lt;T extends Comparable&lt;? super T&gt;&gt; implements StackADT&lt;T&gt; {\t\r\n\tprivate Node&lt;T&gt; top;\r\n\tprivate int size;\r\n\t\r\n\tpublic MinMaxStack() {\r\n\t\tclear();\r\n\t}\r\n\t\r\n\tprivate class Node&lt;E&gt;{\r\n\t\tE data;\r\n\t\tNode&lt;E&gt; previous;\r\n\t}\r\n\t\r\n\tpublic T getMin() {\t\t\r\n\t\tif(isEmpty()) {\r\n\t\t\tthrow new EmptyCollectionException(&quot;The stack is empty but is trying to getMin.&quot;);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic T getMax() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic T pop() {\r\n\t\tif(isEmpty()) {\r\n\t\t\tthrow new EmptyStackException(&quot;Stack is empty but trying to pop.&quot;);\r\n\t\t}else {\r\n\t\t\tT dataToReturn = top.data;\r\n\t\t\ttop = top.previous;\r\n\t\t\tsize -= 1;\r\n\t\t\treturn dataToReturn;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic T peek() {\r\n\t\tif(isEmpty()) {\r\n\t\t\tthrow new EmptyStackException(&quot;Stack is empty but trying to peek&quot;);\r\n\t\t}else {\r\n\t\t\treturn top.data;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void push(T newItem) {\r\n\t\tNode&lt;T&gt; newNode = new Node&lt;&gt;();\r\n\t\tnewNode.data = newItem;\r\n\t\tif(!isEmpty()) {\r\n\t\tnewNode.previous = top;\r\n\t\t}\r\n\t\ttop = newNode;\r\n\t\tsize += 1; \r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getSize() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void clear() {\r\n\t\twhile(!isEmpty()) {\r\n\t\t\ttop = null;\r\n\t\t\tsize = 0;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEmpty() {\r\n\t\treturn size == 0;\r\n\t}\r\n\t\r\n}\r\n```","title":"How to write `getMin()` method for a linked stack class that extends Comparable? (Homework)","body":"<p>For this assignment I need to create a linked stack class that contains a <code>getMin()</code> and <code>getMax()</code>. I cannot change the class header which was provided by the instructor. Both <code>getMin</code> and <code>getMax</code> should be O(1) time.</p>\n<p>My thought is that I need to use the <code>compareTo</code> method to compare entries as they are pushed or poped so that I can set variables <code>minValue</code> and <code>maxValue</code> equal to their respective values. However, I don't understand the section in the class header <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code> nor do I know how or where to implement Comparable. I tried having my <code>class Node&lt;E&gt;</code> implement <code>Comparable</code> but it asked me to override the <code>compareTo</code> method and I'm not sure how that would work.</p>\n<p>Any help would be greatly appreciated! Below is my code for this assignment:</p>\n<pre><code>public class MinMaxStack &lt;T extends Comparable&lt;? super T&gt;&gt; implements StackADT&lt;T&gt; { \n    private Node&lt;T&gt; top;\n    private int size;\n    \n    public MinMaxStack() {\n        clear();\n    }\n    \n    private class Node&lt;E&gt;{\n        E data;\n        Node&lt;E&gt; previous;\n    }\n    \n    public T getMin() {     \n        if(isEmpty()) {\n            throw new EmptyCollectionException(&quot;The stack is empty but is trying to getMin.&quot;);\n        } else {\n            return null;\n        }\n    }\n    \n    public T getMax() {\n        return null;\n    }\n    \n    @Override\n    public T pop() {\n        if(isEmpty()) {\n            throw new EmptyStackException(&quot;Stack is empty but trying to pop.&quot;);\n        }else {\n            T dataToReturn = top.data;\n            top = top.previous;\n            size -= 1;\n            return dataToReturn;\n        }\n    }\n\n    @Override\n    public T peek() {\n        if(isEmpty()) {\n            throw new EmptyStackException(&quot;Stack is empty but trying to peek&quot;);\n        }else {\n            return top.data;\n        }\n    }\n\n    @Override\n    public void push(T newItem) {\n        Node&lt;T&gt; newNode = new Node&lt;&gt;();\n        newNode.data = newItem;\n        if(!isEmpty()) {\n        newNode.previous = top;\n        }\n        top = newNode;\n        size += 1; \n    }\n\n    @Override\n    public int getSize() {\n        return size;\n    }\n\n    @Override\n    public void clear() {\n        while(!isEmpty()) {\n            top = null;\n            size = 0;\n        }\n        \n    }\n\n    @Override\n    public boolean isEmpty() {\n        return size == 0;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","active-directory","ldap","domaincontroller"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1605268363,"post_id":64819099,"comment_id":114605154,"body_markdown":"Look into https://docs.ldap.com/ldap-sdk/docs/advantages/ease-of-use.html","body":"Look into <a href=\"https://docs.ldap.com/ldap-sdk/docs/advantages/ease-of-use.html\" rel=\"nofollow noreferrer\">docs.ldap.com/ldap-sdk/docs/advantages/ease-of-use.html</a>"},{"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"score":0,"creation_date":1605498808,"post_id":64819099,"comment_id":114659618,"body_markdown":"Hi Susan,\nThanks for providing reference link.","body":"Hi Susan, Thanks for providing reference link."},{"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"score":0,"creation_date":1605536271,"post_id":64819099,"comment_id":114672341,"body_markdown":"The question in we will be provided with only domain name and port details(example.com and 389).\nenv.put(Context.PROVIDER_URL, &quot;ldap://server.example.com:389/&quot;);\n\nWe have to identify the nearby server based on the domain name, so that we can pass it as ldap://server.example.com:389/ to create connection.","body":"The question in we will be provided with only domain name and port details(example.com and 389). env.put(Context.PROVIDER_URL, &quot;ldap://server.example.com:389/&quot;);  We have to identify the nearby server based on the domain name, so that we can pass it as ldap://server.example.com:389/ to create connection."}],"answers":[{"tags":[],"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642564369,"creation_date":1642564369,"answer_id":70765112,"question_id":64819099,"body_markdown":"To locate the domain controllers we can use LDAP queries(with site name) in java code.\r\n\r\nEx : srv _ldap._tcp.sitename._sites.example.net.local","title":"Locate closest domain controller using Java","body":"<p>To locate the domain controllers we can use LDAP queries(with site name) in java code.</p>\n<p>Ex : srv _ldap._tcp.sitename._sites.example.net.local</p>\n"},{"tags":[],"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646272152,"creation_date":1646272152,"answer_id":71331215,"question_id":64819099,"body_markdown":"According to [Microsoft&#39;s How domain controllers are located in Windows][1], you can look up the LDAP SRV records of either of these forms:\r\n\r\n - _ldap._tcp.domainname\r\n - _ldap._tcp.dc._msdcs.domainname - this is karthik&#39;s sitename._sites example.\r\n\r\nE.g. nslookup -type=srv _ldap._tcp.company.int if your computer&#39;s FQDN is name.company.int.\r\n\r\nAt least where I&#39;m testing, it doesn&#39;t seem to give them with a weight or priority to indicate the closest. I found a similar question on ServerFault, [Finding closest Domain Controller through LDAP][2], that dives further into figuring out the closest.\r\n\r\nSee also [6.3.2.3 SRV Records][3]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/troubleshoot/windows-server/identity/how-domain-controllers-are-located\r\n  [2]: https://serverfault.com/questions/77947/finding-closest-domain-controller-through-ldap\r\n  [3]: https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/c1987d42-1847-4cc9-acf7-aab2136d6952","title":"Locate closest domain controller using Java","body":"<p>According to <a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows-server/identity/how-domain-controllers-are-located\" rel=\"nofollow noreferrer\">Microsoft's How domain controllers are located in Windows</a>, you can look up the LDAP SRV records of either of these forms:</p>\n<ul>\n<li>_ldap._tcp.domainname</li>\n<li>_ldap._tcp.dc._msdcs.domainname - this is karthik's sitename._sites example.</li>\n</ul>\n<p>E.g. nslookup -type=srv _ldap._tcp.company.int if your computer's FQDN is name.company.int.</p>\n<p>At least where I'm testing, it doesn't seem to give them with a weight or priority to indicate the closest. I found a similar question on ServerFault, <a href=\"https://serverfault.com/questions/77947/finding-closest-domain-controller-through-ldap\">Finding closest Domain Controller through LDAP</a>, that dives further into figuring out the closest.</p>\n<p>See also <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-adts/c1987d42-1847-4cc9-acf7-aab2136d6952\" rel=\"nofollow noreferrer\">6.3.2.3 SRV Records</a></p>\n"}],"owner":{"account_id":19964845,"reputation":21,"user_id":14631672,"display_name":"karthik raja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646272152,"creation_date":1605262445,"question_id":64819099,"body_markdown":"I have to connect Active Directory and fetch data based on the domain names. Using LDAP connection with Java.\r\nFor this I wanted to identify closest domain controller first. \r\nIs there any method or API available in Java to identify closest domain controller based on domain name?","title":"Locate closest domain controller using Java","body":"<p>I have to connect Active Directory and fetch data based on the domain names. Using LDAP connection with Java.\nFor this I wanted to identify closest domain controller first.\nIs there any method or API available in Java to identify closest domain controller based on domain name?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646271887,"creation_date":1646271887,"answer_id":71331184,"question_id":71331091,"body_markdown":"Change:\r\n\r\n    for (int q = 1; q &lt;= PLAYERS; q++){\r\n        System.out.println(&quot;Hand &quot; + q);\r\n        for (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\r\n            System.out.println(deck[i]);\r\n            if (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\r\n                System.out.println();\r\n    \r\n        }\r\n    }\r\n\r\nTo:\r\n\r\n    for (int q = 0; q &lt; PLAYERS; q++){\r\n        System.out.println(&quot;Hand &quot; + (q+1));\r\n        for (int i = 0; i &lt; CARDS_PER_PLAYER; i++) {\r\n            System.out.println(deck[(q * CARDS_PER_PLAYER) + i]);    \r\n        }\r\n        System.out.println();\r\n    }\r\n","title":"I need help adding something in a Deal Card programm","body":"<p>Change:</p>\n<pre><code>for (int q = 1; q &lt;= PLAYERS; q++){\n    System.out.println(&quot;Hand &quot; + q);\n    for (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\n        System.out.println(deck[i]);\n        if (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\n            System.out.println();\n\n    }\n}\n</code></pre>\n<p>To:</p>\n<pre><code>for (int q = 0; q &lt; PLAYERS; q++){\n    System.out.println(&quot;Hand &quot; + (q+1));\n    for (int i = 0; i &lt; CARDS_PER_PLAYER; i++) {\n        System.out.println(deck[(q * CARDS_PER_PLAYER) + i]);    \n    }\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":24434976,"reputation":1,"user_id":18359365,"display_name":"DrolEvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1646307390,"accepted_answer_id":71331184,"answer_count":1,"score":-1,"last_activity_date":1646271887,"creation_date":1646270879,"question_id":71331091,"body_markdown":"I have this code which is almost done. I only need to add the hand humbers at the begininng of every deal. My problem is that they get repeated after the first one.\r\n\r\n\tpublic class Cards {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint CARDS_PER_PLAYER = 5;\r\n\t\t\t// number of players\r\n\t\t\tint PLAYERS = Integer.parseInt(args[0]);\r\n\r\n\t\t\tString[] SUITS = {\r\n\t\t\t\t&quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;\r\n\t\t\t};\r\n\r\n\t\t\tString[] RANKS = {\r\n\t\t\t\t&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;,\r\n\t\t\t\t&quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tint n = SUITS.length * RANKS.length;\r\n\r\n\t\t\tif (CARDS_PER_PLAYER * PLAYERS &gt; n)\r\n\t\t\t\tthrow new RuntimeException(&quot;Not enough cards&quot;);\r\n\r\n\r\n\t\t\t// initialize deck\r\n\t\t\tString[] deck = new String[n];\r\n\t\t\tfor (int i = 0; i &lt; RANKS.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; SUITS.length; j++) {\r\n\t\t\t\t\tdeck[SUITS.length*i + j] = RANKS[i] + &quot; of &quot; + SUITS[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// shuffle\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tint r = i + (int) (Math.random() * (n-i));\r\n\t\t\t\tString temp = deck[r];\r\n\t\t\t\tdeck[r] = deck[i];\r\n\t\t\t\tdeck[i] = temp;\r\n\t\t\t}\r\n\r\n\t\t\t// print shuffled deck\r\n\t\t\t\r\n\t\t\tfor (int q = 1; q &lt;= PLAYERS; q++){\r\n\t\t\t\tSystem.out.println(&quot;Hand &quot; + q);\r\n\t\t\t\tfor (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\r\n\t\t\t\t\tSystem.out.println(deck[i]);\r\n\t\t\t\t\tif (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\r\n\t\t\t\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"I need help adding something in a Deal Card programm","body":"<p>I have this code which is almost done. I only need to add the hand humbers at the begininng of every deal. My problem is that they get repeated after the first one.</p>\n<pre><code>public class Cards {\n\n    public static void main(String[] args) {\n        int CARDS_PER_PLAYER = 5;\n        // number of players\n        int PLAYERS = Integer.parseInt(args[0]);\n\n        String[] SUITS = {\n            &quot;Clubs&quot;, &quot;Diamonds&quot;, &quot;Hearts&quot;, &quot;Spades&quot;\n        };\n\n        String[] RANKS = {\n            &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;,\n            &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;\n        };\n        \n        int n = SUITS.length * RANKS.length;\n\n        if (CARDS_PER_PLAYER * PLAYERS &gt; n)\n            throw new RuntimeException(&quot;Not enough cards&quot;);\n\n\n        // initialize deck\n        String[] deck = new String[n];\n        for (int i = 0; i &lt; RANKS.length; i++) {\n            for (int j = 0; j &lt; SUITS.length; j++) {\n                deck[SUITS.length*i + j] = RANKS[i] + &quot; of &quot; + SUITS[j];\n            }\n        }\n\n        // shuffle\n        for (int i = 0; i &lt; n; i++) {\n            int r = i + (int) (Math.random() * (n-i));\n            String temp = deck[r];\n            deck[r] = deck[i];\n            deck[i] = temp;\n        }\n\n        // print shuffled deck\n        \n        for (int q = 1; q &lt;= PLAYERS; q++){\n            System.out.println(&quot;Hand &quot; + q);\n            for (int i = 0; i &lt; PLAYERS * CARDS_PER_PLAYER; i++) {\n                System.out.println(deck[i]);\n                if (i % CARDS_PER_PLAYER == CARDS_PER_PLAYER - 1)\n                    System.out.println();\n        \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1646269059,"post_id":71330935,"comment_id":126084165,"body_markdown":"&quot;Can I both have a cookie and not have a cookie&quot;? Obviously not. Either [A] add that constructor or [B] change the code in `main`.","body":"&quot;Can I both have a cookie and not have a cookie&quot;? Obviously not. Either [A] add that constructor or [B] change the code in <code>main</code>."},{"owner":{"account_id":1118152,"reputation":1791,"user_id":1107013,"accept_rate":50,"display_name":"Gavin Haynes"},"score":0,"creation_date":1646270274,"post_id":71330935,"comment_id":126084373,"body_markdown":"Just define `public Box(...) { }`. A constructor is not a method because it belongs to the class, not a specific instance of the class.","body":"Just define <code>public Box(...) { }</code>. A constructor is not a method because it belongs to the class, not a specific instance of the class."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646270999,"post_id":71330935,"comment_id":126084497,"body_markdown":"Define &#39;manipulate&#39;.","body":"Define &#39;manipulate&#39;."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1646271002,"post_id":71330935,"comment_id":126084498,"body_markdown":"You can&#39;t manipulate a constructor but you can have multiple constructors with a different set of arguments. Also, your class `Box` will always have atleast one default constructor, even when you don&#39;t  explicitly create one. This default constructor is defined implicitly as `public Box(){}` and has no arguments.","body":"You can&#39;t manipulate a constructor but you can have multiple constructors with a different set of arguments. Also, your class <code>Box</code> will always have atleast one default constructor, even when you don&#39;t  explicitly create one. This default constructor is defined implicitly as <code>public Box(){}</code> and has no arguments."},{"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"score":0,"creation_date":1646276239,"post_id":71330935,"comment_id":126085392,"body_markdown":"The diagram you refer to for `Box` is part of the UML (Unified Modeling Language). It is not uncommon to include methods but skip constructors in Class Diagrams because they tend to be trivial. I would assume that you are allowed to implement a constructor in this exercise even though it does not appear in the diagram.","body":"The diagram you refer to for <code>Box</code> is part of the UML (Unified Modeling Language). It is not uncommon to include methods but skip constructors in Class Diagrams because they tend to be trivial. I would assume that you are allowed to implement a constructor in this exercise even though it does not appear in the diagram."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1646270554,"creation_date":1646270554,"answer_id":71331063,"question_id":71330935,"body_markdown":"The `Main` class you have been given will only work if the `Box` method has a `Box(double, double, double)` constructor.\r\n\r\nSo you **MUST** add one.\r\n\r\nThe apparent contradiction with the UML snippet is easy to explain.  UML class diagrams frequently don&#39;t show constructors.  My guess is that whoever created that diagram didn&#39;t want to clutter it with superfluous detail.\r\n\r\nBut here is the thing.  Irrespective of what the diagram says, your `Box` class **cannot** work with that `Main` class unless the `Box` class provides the constructors that the `main` method is going to use.\r\n\r\n-------------------\r\n\r\nTo answer the question in the title\r\n\r\n&gt; Is there any way to manipulate a constructor in Java?\r\n\r\nNo there isn&#39;t.  At least ... not in the sense that I think you mean.\r\n\r\n&lt;sup&gt;In theory, you could use &quot;byte code manipulation&quot; tricks to inject an extra constructor after compilation, but that would be the wrong solution in this context.&lt;/sup&gt;\r\n\r\n","title":"Is there any way to manipulate a constructor in Java?","body":"<p>The <code>Main</code> class you have been given will only work if the <code>Box</code> method has a <code>Box(double, double, double)</code> constructor.</p>\n<p>So you <strong>MUST</strong> add one.</p>\n<p>The apparent contradiction with the UML snippet is easy to explain.  UML class diagrams frequently don't show constructors.  My guess is that whoever created that diagram didn't want to clutter it with superfluous detail.</p>\n<p>But here is the thing.  Irrespective of what the diagram says, your <code>Box</code> class <strong>cannot</strong> work with that <code>Main</code> class unless the <code>Box</code> class provides the constructors that the <code>main</code> method is going to use.</p>\n<hr />\n<p>To answer the question in the title</p>\n<blockquote>\n<p>Is there any way to manipulate a constructor in Java?</p>\n</blockquote>\n<p>No there isn't.  At least ... not in the sense that I think you mean.</p>\n<p><sup>In theory, you could use &quot;byte code manipulation&quot; tricks to inject an extra constructor after compilation, but that would be the wrong solution in this context.</sup></p>\n"}],"owner":{"account_id":24434596,"reputation":3,"user_id":18359023,"display_name":"KickCrush10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71331063,"answer_count":1,"score":-1,"last_activity_date":1646270554,"creation_date":1646269017,"question_id":71330935,"body_markdown":"I&#39;m currently working on my assignment and I&#39;m stuck rn. The task is to create a program based on this [diagram][1]. In that diagram, as you can see, there is no behavior for creating constructors, but in the given [Main Class][2] there is. Is there a way to create a program without changing the given Main Class and not creating new methods in addition to the given diagram. The program is to calculate density. Help : )\r\n\r\nThis is my Box class code:\r\n```\r\nclass Box {\r\n    private double width;\r\n    private double height;\r\n    private double depth;\r\n    private double mass;\r\n    private double density;\r\n\r\n\r\n    public void setWidth(double width){\r\n        this.width = width;\r\n    }\r\n\r\n    public void setHeight(double height){\r\n        this.height = height;\r\n    }\r\n\r\n    public void setDepth(double depth){\r\n        this.depth = depth;\r\n    }\r\n\r\n    public void setMass(double mass){\r\n        this.mass = mass;\r\n    }\r\n\r\n    public double getDensity(){\r\n        density = mass / (width * height * depth);\r\n        return density;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/9ePcJ.png\r\n  [2]: https://i.stack.imgur.com/vF2iA.png","title":"Is there any way to manipulate a constructor in Java?","body":"<p>I'm currently working on my assignment and I'm stuck rn. The task is to create a program based on this <a href=\"https://i.stack.imgur.com/9ePcJ.png\" rel=\"nofollow noreferrer\">diagram</a>. In that diagram, as you can see, there is no behavior for creating constructors, but in the given <a href=\"https://i.stack.imgur.com/vF2iA.png\" rel=\"nofollow noreferrer\">Main Class</a> there is. Is there a way to create a program without changing the given Main Class and not creating new methods in addition to the given diagram. The program is to calculate density. Help : )</p>\n<p>This is my Box class code:</p>\n<pre><code>class Box {\n    private double width;\n    private double height;\n    private double depth;\n    private double mass;\n    private double density;\n\n\n    public void setWidth(double width){\n        this.width = width;\n    }\n\n    public void setHeight(double height){\n        this.height = height;\n    }\n\n    public void setDepth(double depth){\n        this.depth = depth;\n    }\n\n    public void setMass(double mass){\n        this.mass = mass;\n    }\n\n    public double getDensity(){\n        density = mass / (width * height * depth);\n        return density;\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string","split"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646268972,"creation_date":1646225830,"answer_id":71323098,"question_id":71323034,"body_markdown":"The argument to `split` is a __regular expression__, not a literal &#39;this is the string you should scan for&#39;. The `.` symbol in regex means &#39;anything&#39;, so it&#39;s like `&quot;   &quot;.split(&quot; &quot;)` - the string you&#39;re passing is all separators, hence, you get no output.\r\n\r\n`.split(Pattern.quote(&quot;.&quot;))` will take care of it.\r\n\r\nEDIT: To go in some detail - given that the string consists of all separators, split initially provides you with an array filled with empty strings; one for each position &#39;in between&#39; any character (as each character is a separator). However, by default `split` will strip all empty strings off of the end, hence you end up with a 0-length string array.","title":"Why this .split resulting in array out of bound error?","body":"<p>The argument to <code>split</code> is a <strong>regular expression</strong>, not a literal 'this is the string you should scan for'. The <code>.</code> symbol in regex means 'anything', so it's like <code>&quot;   &quot;.split(&quot; &quot;)</code> - the string you're passing is all separators, hence, you get no output.</p>\n<p><code>.split(Pattern.quote(&quot;.&quot;))</code> will take care of it.</p>\n<p>EDIT: To go in some detail - given that the string consists of all separators, split initially provides you with an array filled with empty strings; one for each position 'in between' any character (as each character is a separator). However, by default <code>split</code> will strip all empty strings off of the end, hence you end up with a 0-length string array.</p>\n"}],"owner":{"account_id":15027272,"reputation":79,"user_id":10846653,"display_name":"Narasima.Codes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1646226628,"accepted_answer_id":71323098,"answer_count":1,"score":3,"last_activity_date":1646268972,"creation_date":1646225588,"question_id":71323034,"body_markdown":"```\r\npublic class test {\r\n    public static void main(String[] args) {\t\t\r\n    \tString[] arr = {&quot;0 1.2.3.4&quot;,&quot;a b.c.d.e&quot;};\r\n    \tSystem.out.println(arr[0].split(&quot;.&quot;)[2]);\r\n    }\r\n}\r\n```\r\n\r\nI am using java 8.\r\n\r\nthe expected output is **3**.\r\n\r\n","title":"Why this .split resulting in array out of bound error?","body":"<pre><code>public class test {\n    public static void main(String[] args) {        \n        String[] arr = {&quot;0 1.2.3.4&quot;,&quot;a b.c.d.e&quot;};\n        System.out.println(arr[0].split(&quot;.&quot;)[2]);\n    }\n}\n</code></pre>\n<p>I am using java 8.</p>\n<p>the expected output is <strong>3</strong>.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"score":2,"creation_date":1646255993,"post_id":71329228,"comment_id":126081155,"body_markdown":"Add &#39;A&#39;, intead of &#39;a&#39;. I don&#39;t really understand your question, do you want a mix of lower-upper case?","body":"Add &#39;A&#39;, intead of &#39;a&#39;. I don&#39;t really understand your question, do you want a mix of lower-upper case?"},{"owner":{"account_id":24204705,"reputation":1,"user_id":18162078,"display_name":"Leksus"},"score":0,"creation_date":1646256108,"post_id":71329228,"comment_id":126081182,"body_markdown":"yes I want to make a mix of both","body":"yes I want to make a mix of both"}],"answers":[{"tags":[],"owner":{"account_id":2857042,"reputation":5165,"user_id":2453089,"accept_rate":72,"display_name":"vish4071"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646262867,"creation_date":1646256218,"answer_id":71329310,"question_id":71329228,"body_markdown":"You can randomize upper and lower-cases as well. Something like this:\r\n\r\n    public static void fillSpecialMatrice(char[][] matrice) {\r\n        Random random = new Random();\r\n            for(int i = 0; i &lt; matrice.length; i++) {\r\n                for(int j = 0; j &lt; matrice.length-i; j++) {\r\n                       case_int = random.nextInt(2);\r\n                       case_char = (case_int == 0 ) ? &#39;a&#39; : &#39;A&#39;;\r\n                       matrice[i][j] = (char) (random.nextInt(26) + case_char);\r\n         }\r\n        }\r\n      }","title":"How to fill a matrix with uppercase AND lowercase characters","body":"<p>You can randomize upper and lower-cases as well. Something like this:</p>\n<pre><code>public static void fillSpecialMatrice(char[][] matrice) {\n    Random random = new Random();\n        for(int i = 0; i &lt; matrice.length; i++) {\n            for(int j = 0; j &lt; matrice.length-i; j++) {\n                   case_int = random.nextInt(2);\n                   case_char = (case_int == 0 ) ? 'a' : 'A';\n                   matrice[i][j] = (char) (random.nextInt(26) + case_char);\n     }\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":24204705,"reputation":1,"user_id":18162078,"display_name":"Leksus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646268689,"creation_date":1646255784,"question_id":71329228,"body_markdown":"Hello and thank you for reading this. I have written code that fills a 2d triangular array, but it only fills with lower case letters. How do I get it to also fill with uppercase letters? \r\n\r\nHere is a small part of the code:\r\n\r\n    public static void fillSpecialMatrice(char[][] matrice) {\r\n       Random random = new Random();\r\n       for(int i = 0; i &lt; matrice.length; i++) {\r\n          for(int j = 0; j &lt; matrice.length-i; j++) {\r\n             matrice[i][j] = (char) (random.nextInt(26) + &#39;a&#39;);\r\n          }\r\n       }\r\n    }\r\n\r\nHow the triangular matrix looks when printed:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5FqC.png","title":"How to fill a matrix with uppercase AND lowercase characters","body":"<p>Hello and thank you for reading this. I have written code that fills a 2d triangular array, but it only fills with lower case letters. How do I get it to also fill with uppercase letters?</p>\n<p>Here is a small part of the code:</p>\n<pre><code>public static void fillSpecialMatrice(char[][] matrice) {\n   Random random = new Random();\n   for(int i = 0; i &lt; matrice.length; i++) {\n      for(int j = 0; j &lt; matrice.length-i; j++) {\n         matrice[i][j] = (char) (random.nextInt(26) + 'a');\n      }\n   }\n}\n</code></pre>\n<p>How the triangular matrix looks when printed:</p>\n<p><a href=\"https://i.stack.imgur.com/B5FqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5FqC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","excel","multidimensional-array","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":6318535,"reputation":63,"user_id":4907574,"display_name":"Damian W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646267470,"creation_date":1646267470,"answer_id":71330789,"question_id":71327097,"body_markdown":"You need to change index in the 1st loop to 0 (first field in excel file)\r\nbut in row you must provide index + 1 bc you need to read from the 2nd field.\r\nSame analogy for 2nd loop and cell field\r\n```\r\n\r\n Workbook workbook = new XSSFWorkbook(new File(&quot;d:\\\\book1.xlsx&quot;));\r\n        Sheet firstSheet = workbook.getSheetAt(1);\r\n        int numRows = 3;\r\n        int cols = 5;\r\n        double[][] excelData = new double[numRows][cols];\r\n        for (int i = 0; i &lt; numRows; i++) {\r\n            Row row = firstSheet.getRow(i + 1);\r\n            if (row != null) {\r\n                for (int j = 0; j &lt; cols; j++) {\r\n                    Cell cell = row.getCell(j + 1);\r\n                    if (cell != null) {\r\n                        try {\r\n                            if (cell.getCellType().equals(CellType.NUMERIC)) {\r\n                                excelData[i][j] = Double.valueOf(cell.getNumericCellValue());\r\n                            }\r\n                        } catch (IllegalStateException e) {\r\n                            System.out.println(&quot;Cell data is not a double&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        workbook.close();\r\n\r\n```\r\nReturned result for it:\r\n\r\n    0.041256 0.033079 -0.01138 -0.02138 -0.01138 \r\n    0.041256 0.033079 -0.01138 -0.01138 -0.01138 \r\n    0.020628 0.01654 -0.00569 -0.10569 -0.00569 ","title":"Reading 2D double array in Excel Using Apache POI","body":"<p>You need to change index in the 1st loop to 0 (first field in excel file)\nbut in row you must provide index + 1 bc you need to read from the 2nd field.\nSame analogy for 2nd loop and cell field</p>\n<pre><code>\n Workbook workbook = new XSSFWorkbook(new File(&quot;d:\\\\book1.xlsx&quot;));\n        Sheet firstSheet = workbook.getSheetAt(1);\n        int numRows = 3;\n        int cols = 5;\n        double[][] excelData = new double[numRows][cols];\n        for (int i = 0; i &lt; numRows; i++) {\n            Row row = firstSheet.getRow(i + 1);\n            if (row != null) {\n                for (int j = 0; j &lt; cols; j++) {\n                    Cell cell = row.getCell(j + 1);\n                    if (cell != null) {\n                        try {\n                            if (cell.getCellType().equals(CellType.NUMERIC)) {\n                                excelData[i][j] = Double.valueOf(cell.getNumericCellValue());\n                            }\n                        } catch (IllegalStateException e) {\n                            System.out.println(&quot;Cell data is not a double&quot;);\n                        }\n                    }\n                }\n            }\n        }\n        workbook.close();\n\n</code></pre>\n<p>Returned result for it:</p>\n<pre><code>0.041256 0.033079 -0.01138 -0.02138 -0.01138 \n0.041256 0.033079 -0.01138 -0.01138 -0.01138 \n0.020628 0.01654 -0.00569 -0.10569 -0.00569 \n</code></pre>\n"}],"owner":{"account_id":15177550,"reputation":3,"user_id":18356313,"display_name":"user637300"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71330789,"answer_count":1,"score":0,"last_activity_date":1646267470,"creation_date":1646243496,"question_id":71327097,"body_markdown":"I am trying to make use of Apache POI to read an excel file and convert it to a 2-dimensional object array. Attached is the code section.\r\n\r\n\r\n        Workbook workbook = new XSSFWorkbook(inputStream);\r\n        Sheet firstSheet = workbook.getSheetAt(1);\r\n        int numRows = 3;\r\n        int cols = 5;\r\n        double[][] excelData = new double[numRows][cols];\r\n        for (int i = 1; i &lt; numRows; i++) {\r\n            Row row = firstSheet.getRow(i);\r\n            if (row != null) {\r\n                for (int j = 1; j &lt; cols; j++) {\r\n                    Cell cell = row.getCell(j);\r\n                    if (cell != null) {\r\n                        try {\r\n                            excelData[i][j] = cell.getNumericCellValue();\r\n                        } catch (IllegalStateException e) {\r\n                            System.out.println(&quot;Cell data is not a double&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        workbook.close();\r\n        inputStream.close();\r\n        return excelData;\r\n    }\r\n\r\n[enter image description here][1] This is my excel sheet and I want to &quot;just&quot; read the blue part of it as a 2d array, but after running the code the first row and column all are zero and I don&#39;t want it, appreciate your help on how can quickly pull out all the zeros  [enter image description here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xneXu.png\r\n  [2]: https://i.stack.imgur.com/d64ZP.png","title":"Reading 2D double array in Excel Using Apache POI","body":"<p>I am trying to make use of Apache POI to read an excel file and convert it to a 2-dimensional object array. Attached is the code section.</p>\n<pre><code>    Workbook workbook = new XSSFWorkbook(inputStream);\n    Sheet firstSheet = workbook.getSheetAt(1);\n    int numRows = 3;\n    int cols = 5;\n    double[][] excelData = new double[numRows][cols];\n    for (int i = 1; i &lt; numRows; i++) {\n        Row row = firstSheet.getRow(i);\n        if (row != null) {\n            for (int j = 1; j &lt; cols; j++) {\n                Cell cell = row.getCell(j);\n                if (cell != null) {\n                    try {\n                        excelData[i][j] = cell.getNumericCellValue();\n                    } catch (IllegalStateException e) {\n                        System.out.println(&quot;Cell data is not a double&quot;);\n                    }\n                }\n            }\n        }\n    }\n    workbook.close();\n    inputStream.close();\n    return excelData;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xneXu.png\" rel=\"nofollow noreferrer\">enter image description here</a> This is my excel sheet and I want to &quot;just&quot; read the blue part of it as a 2d array, but after running the code the first row and column all are zero and I don't want it, appreciate your help on how can quickly pull out all the zeros  <a href=\"https://i.stack.imgur.com/d64ZP.png\" rel=\"nofollow noreferrer\">enter image description here</a>.</p>\n"},{"tags":["java","spring-boot","gradle","build.gradle","gradle-plugin"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1646108337,"post_id":71303524,"comment_id":126036936,"body_markdown":"And why is there a `,` after `&#39;1.0.11.RELEASE&#39;` ??","body":"And why is there a <code>,</code> after <code>&#39;1.0.11.RELEASE&#39;</code> ??"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1646267332,"post_id":71303524,"comment_id":126083885,"body_markdown":"Sorry. My mistake when typing the question. I don&#39;t have a comma in my code. I removed it to avoid further confusion","body":"Sorry. My mistake when typing the question. I don&#39;t have a comma in my code. I removed it to avoid further confusion"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646267411,"creation_date":1646106524,"question_id":71303524,"body_markdown":"I am using the `io.spring.dependency-management` Gradle plugin in all our work builds and never had an issue with it. It just works.\r\nHere are parts of my local setup:\r\n\r\n    build.gradle:\r\n\r\n    plugins {\r\n        ...\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        ...\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &#39;org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR8&#39;\r\n        }\r\n    }\r\n\r\n    settings.gradle:\r\n    \r\n    pluginManagement {\r\n    resolutionStrategy {\r\n        eachPlugin {\r\n            switch (requested.id.id) {\r\n            ...\r\n                case &#39;io.spring.dependency-management&#39;:\r\n                    useModule(&quot;io.spring.gradle:dependency-management-plugin:${requested.version}&quot;)\r\n                    break\r\n            ...\r\n\r\nWhen I try to build I can see in the logs:\r\n\r\n    Apply plugin io.spring.dependency-management to root project &#39;my-project&#39; completed\r\n    ...\r\n    [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; A problem occurred evaluating root project &#39;my-project&#39;\r\n    [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; No signature of method: build_97hpysomemorerandomshere.dependencyManagement() is applicable for argument types: (build_97hpysomemorerandomshere$_run_closure4) values: [build_97hpysomemorerandomshere$_run_closure4@2d5aa553]\r\n\r\nTo me this is just telling me the dependency-management has not been applied and such the functions coming with that plugin are not accessible. \r\n\r\nI look at the spellings until I got tired and I am a bit out of ideas about what I am doing wrong.\r\n\r\nThank you in advance for your help.\r\n ","title":"Unable to apply io.spring.dependency-management Gradle plugin","body":"<p>I am using the <code>io.spring.dependency-management</code> Gradle plugin in all our work builds and never had an issue with it. It just works.\nHere are parts of my local setup:</p>\n<pre><code>build.gradle:\n\nplugins {\n    ...\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    ...\n}\nrepositories {\n    mavenCentral()\n}\ndependencyManagement {\n    imports {\n        mavenBom 'org.springframework.cloud:spring-cloud-dependencies:Hoxton.SR8'\n    }\n}\n\nsettings.gradle:\n\npluginManagement {\nresolutionStrategy {\n    eachPlugin {\n        switch (requested.id.id) {\n        ...\n            case 'io.spring.dependency-management':\n                useModule(&quot;io.spring.gradle:dependency-management-plugin:${requested.version}&quot;)\n                break\n        ...\n</code></pre>\n<p>When I try to build I can see in the logs:</p>\n<pre><code>Apply plugin io.spring.dependency-management to root project 'my-project' completed\n...\n[ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; A problem occurred evaluating root project 'my-project'\n[ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; No signature of method: build_97hpysomemorerandomshere.dependencyManagement() is applicable for argument types: (build_97hpysomemorerandomshere$_run_closure4) values: [build_97hpysomemorerandomshere$_run_closure4@2d5aa553]\n</code></pre>\n<p>To me this is just telling me the dependency-management has not been applied and such the functions coming with that plugin are not accessible.</p>\n<p>I look at the spellings until I got tired and I am a bit out of ideas about what I am doing wrong.</p>\n<p>Thank you in advance for your help.</p>\n"},{"tags":["java","maven","cucumber","cucumber-java","cucumber-junit"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1646261238,"post_id":71328780,"comment_id":126082581,"body_markdown":"You may need to add some braces to indicate which clauses go together.","body":"You may need to add some braces to indicate which clauses go together."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1646261300,"post_id":71328780,"comment_id":126082593,"body_markdown":"So something like `@tag1 and @tag2 and not (@ignore or @issue)`","body":"So something like <code>@tag1 and @tag2 and not (@ignore or @issue)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6349700,"reputation":311,"user_id":4929164,"accept_rate":82,"display_name":"Lea2501"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646266372,"creation_date":1646266372,"answer_id":71330687,"question_id":71328780,"body_markdown":"Solved! thanks to M.P.Korstanje\r\n\r\nThe correct way to use the tags for multiple exclution is this:\r\n\r\n    mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not (@ignore or @issue)&quot;","title":"Excluding several different scenarios in cucumber feature file with tags","body":"<p>Solved! thanks to M.P.Korstanje</p>\n<p>The correct way to use the tags for multiple exclution is this:</p>\n<pre><code>mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not (@ignore or @issue)&quot;\n</code></pre>\n"}],"owner":{"account_id":6349700,"reputation":311,"user_id":4929164,"accept_rate":82,"display_name":"Lea2501"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646266372,"creation_date":1646253067,"question_id":71328780,"body_markdown":"i have several cucumber scenarios with issues (tagged as @issue) on them and others that i plainly want to ignore due to several reasons (tagged as @ignore).\r\n\r\nI made a separate jenkins job, that only runs the scenarios that have the &quot;@issue&quot; tag on them, but i want to exclude those from the normal executions jobs, but i also want to exclude the scenarios marked with the &quot;@ignore&quot; tag.\r\n\r\nI tried the following with no success, given the following example:\r\n\r\n      @tag1 @tag2 @severity=critical @issue @ignore\r\n      Escenario: Scenario name\r\n        Given The user is in some place\r\n        When The user do something\r\n        Then The user successfully achieved it\r\n\r\nI run with the following command:\r\n\r\n    mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not @ignore or @issue&quot;\r\n\r\nbut i got all test running, even the @ignore and @issue ones","title":"Excluding several different scenarios in cucumber feature file with tags","body":"<p>i have several cucumber scenarios with issues (tagged as @issue) on them and others that i plainly want to ignore due to several reasons (tagged as @ignore).</p>\n<p>I made a separate jenkins job, that only runs the scenarios that have the &quot;@issue&quot; tag on them, but i want to exclude those from the normal executions jobs, but i also want to exclude the scenarios marked with the &quot;@ignore&quot; tag.</p>\n<p>I tried the following with no success, given the following example:</p>\n<pre><code>  @tag1 @tag2 @severity=critical @issue @ignore\n  Escenario: Scenario name\n    Given The user is in some place\n    When The user do something\n    Then The user successfully achieved it\n</code></pre>\n<p>I run with the following command:</p>\n<pre><code>mvn clean test -Dcucumber.filter.tags=&quot;@tag1 and @tag2 and not @ignore or @issue&quot;\n</code></pre>\n<p>but i got all test running, even the @ignore and @issue ones</p>\n"},{"tags":["java","javafx","netbeans","jakarta-mail"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646194054,"post_id":71313332,"comment_id":126060716,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1646269531,"post_id":71313332,"comment_id":126084249,"body_markdown":"NetBeans 12.0 does not support Java 17, so whatever other problems you may have, you must address that. The easiest resolution is to [download and install NetBeans 12.6](https://netbeans.apache.org/download/nb126/nb126.html), which does support Java 17. You can leave NetBeans 12.0 installed for now, since each version of NetBeans is completely independent of any others. If you still have problems when running on NetBeans 12.6 with JDK 17 then update your question accordingly. Otherwise, post an answer to your question, detailing the resolution.","body":"NetBeans 12.0 does not support Java 17, so whatever other problems you may have, you must address that. The easiest resolution is to <a href=\"https://netbeans.apache.org/download/nb126/nb126.html\" rel=\"nofollow noreferrer\">download and install NetBeans 12.6</a>, which does support Java 17. You can leave NetBeans 12.0 installed for now, since each version of NetBeans is completely independent of any others. If you still have problems when running on NetBeans 12.6 with JDK 17 then update your question accordingly. Otherwise, post an answer to your question, detailing the resolution."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646266055,"creation_date":1646179895,"answer_id":71316031,"question_id":71313332,"body_markdown":"*Include the Jakarta Activation library*\r\n\r\nJakarta Mail is the modern packaging for Java mail.\r\n\r\nSee the [Jakarta Mail readme](https://eclipse-ee4j.github.io/mail/docs/README.txt):\r\n\r\n&gt; Jakarta Mail requires Jakarta Activation 2.0.0 or newer.\r\n\r\n[Jakarta Activation website](https://eclipse-ee4j.github.io/jaf/#:~:text=Jakarta%20Activation%201%20Jakarta%20Activation.%20Jakarta%20Activation%20lets,...%206%20Bugs.%20...%207%20Development%20Releases.%20) and [download](https://github.com/eclipse-ee4j/jaf/releases).\r\n\r\nIf you use a build tool (highly recommended), such as Maven or Gradle, it will likely already add a transitive dependency on Jakarta activation to your build when you add the Jakarta mail dependency.  If it doesn’t, then add the dependency yourself.\r\n\r\n*If you have additional issues*\r\n\r\nUse recent versions of all software, JDK/JavaFX 17.0.2+, JakartaMail 2.0.1+. See:\r\n\r\n * [JakartaMail release downloads](https://eclipse-ee4j.github.io/mail/#Download_Jakarta_Mail_Release).\r\n\r\nAlso, see [jakarta mail compatability notes](https://eclipse-ee4j.github.io/mail/docs/COMPAT.txt)\r\n\r\n &gt; In this release the name of that module is changed to &quot;jakarta.mail&quot;.\r\n\r\nSo use `jakarta.mail` in your `module-info.Java` when requiring the module \r\n\r\nOR\r\n\r\nPlace `jakarta.mail` in your `--add-module` switch, if adding modules via command line switches instead of `module-info.java`.\r\n\r\n**Example App**\r\n\r\nThe following app compiles and runs but will fail when trying to send mail due to incorrect authentication, however, I think it demonstrates how to fix the issues with class resolution asked in the question.\r\n\r\nThings it does:\r\n\r\n 1. `requires jakarta.mail` in the module-info.\r\n\r\n 2. Adds a dependency on jakarta mail in the pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n 3. An explicit dependency on the jakarta activation framework library is not needed as it brought it via a transitive dependency on jakarta.mail.\r\n\r\n 4. Changes the imports to use the jakarta.mail package instead of the java.mail package.\r\n\r\n 5. Makes minor changes to the example from the question to allow it to compile and run.\r\n\r\n*module-info.java*\r\n\r\n    module com.example.maildemo {\r\n        requires javafx.controls;\r\n        requires jakarta.mail;\r\n    \r\n        exports com.example.maildemo;\r\n    }\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mail-demo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;mail-demo&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*MailDemoApp.java*\r\n\r\n    package com.example.maildemo;\r\n    \r\n    import jakarta.mail.*;\r\n    import jakarta.mail.internet.InternetAddress;\r\n    import jakarta.mail.internet.MimeMessage;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class MailDemoApp extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Button sendMailButton = new Button(&quot;Send mail&quot;);\r\n            sendMailButton.setOnAction(e -&gt; enviarMail(&quot;example1@gmail.com&quot;));\r\n            stage.setScene(new Scene(sendMailButton));\r\n            stage.show();\r\n        }\r\n    \r\n        private void enviarMail(String destinatario) {\r\n            String remitente = &quot;127.0.0.1&quot;;\r\n            String asunto = &quot;enviar correo de confirmacion&quot;;\r\n            String cuerpo = &quot;mensaje a enviar&quot;;\r\n            String clv = &quot;1234&quot;;\r\n    \r\n            Properties props = System.getProperties();\r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            props.put(&quot;mail.smtp.user&quot;, remitente);\r\n            props.put(&quot;mail.smtp.clave&quot;, clv);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \r\n            MyAuthenticator aut = new MyAuthenticator(remitente, clv);\r\n            Session session = Session.getInstance(props, aut);\r\n            MimeMessage mm = new MimeMessage(session);\r\n    \r\n            try {\r\n                mm.setFrom(new InternetAddress(remitente));\r\n                mm.addRecipients(Message.RecipientType.TO, destinatario);\r\n                mm.setSubject(asunto);\r\n                mm.setText(cuerpo);\r\n    \r\n                try (Transport transport = session.getTransport(&quot;smtp&quot;)) {\r\n                    transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\r\n                    transport.sendMessage(mm, mm.getAllRecipients());\r\n                }\r\n            } catch (MessagingException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    class MyAuthenticator extends Authenticator {\r\n        private String smtp_usuario = &quot;&quot;;\r\n        private String smtp_pass = &quot;&quot;;\r\n    \r\n        MyAuthenticator(String user, String pass) {\r\n            this.smtp_usuario = user;\r\n            this.smtp_pass = pass;\r\n        }\r\n    \r\n        @Override\r\n        public PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication(this.smtp_usuario,\r\n                    this.smtp_pass);\r\n        }\r\n    }\r\n\r\n*Maven dependency tree*\r\n\r\n    [INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ mail-demo ---\r\n    [INFO] com.example:mail-demo:jar:1.0-SNAPSHOT\r\n    [INFO] +- org.openjfx:javafx-controls:jar:17.0.2:compile\r\n    [INFO] |  +- org.openjfx:javafx-controls:jar:win:17.0.2:compile\r\n    [INFO] |  \\- org.openjfx:javafx-graphics:jar:17.0.2:compile\r\n    [INFO] |     +- org.openjfx:javafx-graphics:jar:win:17.0.2:compile\r\n    [INFO] |     \\- org.openjfx:javafx-base:jar:17.0.2:compile\r\n    [INFO] |        \\- org.openjfx:javafx-base:jar:win:17.0.2:compile\r\n    [INFO] \\- com.sun.mail:jakarta.mail:jar:2.0.1:compile\r\n    [INFO]    \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\r\n\r\n","title":"Exception: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p><em>Include the Jakarta Activation library</em></p>\n<p>Jakarta Mail is the modern packaging for Java mail.</p>\n<p>See the <a href=\"https://eclipse-ee4j.github.io/mail/docs/README.txt\" rel=\"nofollow noreferrer\">Jakarta Mail readme</a>:</p>\n<blockquote>\n<p>Jakarta Mail requires Jakarta Activation 2.0.0 or newer.</p>\n</blockquote>\n<p><a href=\"https://eclipse-ee4j.github.io/jaf/#:%7E:text=Jakarta%20Activation%201%20Jakarta%20Activation.%20Jakarta%20Activation%20lets,...%206%20Bugs.%20...%207%20Development%20Releases.%20\" rel=\"nofollow noreferrer\">Jakarta Activation website</a> and <a href=\"https://github.com/eclipse-ee4j/jaf/releases\" rel=\"nofollow noreferrer\">download</a>.</p>\n<p>If you use a build tool (highly recommended), such as Maven or Gradle, it will likely already add a transitive dependency on Jakarta activation to your build when you add the Jakarta mail dependency.  If it doesn’t, then add the dependency yourself.</p>\n<p><em>If you have additional issues</em></p>\n<p>Use recent versions of all software, JDK/JavaFX 17.0.2+, JakartaMail 2.0.1+. See:</p>\n<ul>\n<li><a href=\"https://eclipse-ee4j.github.io/mail/#Download_Jakarta_Mail_Release\" rel=\"nofollow noreferrer\">JakartaMail release downloads</a>.</li>\n</ul>\n<p>Also, see <a href=\"https://eclipse-ee4j.github.io/mail/docs/COMPAT.txt\" rel=\"nofollow noreferrer\">jakarta mail compatability notes</a></p>\n<blockquote>\n<p>In this release the name of that module is changed to &quot;jakarta.mail&quot;.</p>\n</blockquote>\n<p>So use <code>jakarta.mail</code> in your <code>module-info.Java</code> when requiring the module</p>\n<p>OR</p>\n<p>Place <code>jakarta.mail</code> in your <code>--add-module</code> switch, if adding modules via command line switches instead of <code>module-info.java</code>.</p>\n<p><strong>Example App</strong></p>\n<p>The following app compiles and runs but will fail when trying to send mail due to incorrect authentication, however, I think it demonstrates how to fix the issues with class resolution asked in the question.</p>\n<p>Things it does:</p>\n<ol>\n<li><p><code>requires jakarta.mail</code> in the module-info.</p>\n</li>\n<li><p>Adds a dependency on jakarta mail in the pom.xml.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>An explicit dependency on the jakarta activation framework library is not needed as it brought it via a transitive dependency on jakarta.mail.</p>\n</li>\n<li><p>Changes the imports to use the jakarta.mail package instead of the java.mail package.</p>\n</li>\n<li><p>Makes minor changes to the example from the question to allow it to compile and run.</p>\n</li>\n</ol>\n<p><em>module-info.java</em></p>\n<pre><code>module com.example.maildemo {\n    requires javafx.controls;\n    requires jakarta.mail;\n\n    exports com.example.maildemo;\n}\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mail-demo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mail-demo&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>MailDemoApp.java</em></p>\n<pre><code>package com.example.maildemo;\n\nimport jakarta.mail.*;\nimport jakarta.mail.internet.InternetAddress;\nimport jakarta.mail.internet.MimeMessage;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.stage.Stage;\n\nimport java.util.Properties;\n\npublic class MailDemoApp extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Button sendMailButton = new Button(&quot;Send mail&quot;);\n        sendMailButton.setOnAction(e -&gt; enviarMail(&quot;example1@gmail.com&quot;));\n        stage.setScene(new Scene(sendMailButton));\n        stage.show();\n    }\n\n    private void enviarMail(String destinatario) {\n        String remitente = &quot;127.0.0.1&quot;;\n        String asunto = &quot;enviar correo de confirmacion&quot;;\n        String cuerpo = &quot;mensaje a enviar&quot;;\n        String clv = &quot;1234&quot;;\n\n        Properties props = System.getProperties();\n        props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        props.put(&quot;mail.smtp.user&quot;, remitente);\n        props.put(&quot;mail.smtp.clave&quot;, clv);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n\n        MyAuthenticator aut = new MyAuthenticator(remitente, clv);\n        Session session = Session.getInstance(props, aut);\n        MimeMessage mm = new MimeMessage(session);\n\n        try {\n            mm.setFrom(new InternetAddress(remitente));\n            mm.addRecipients(Message.RecipientType.TO, destinatario);\n            mm.setSubject(asunto);\n            mm.setText(cuerpo);\n\n            try (Transport transport = session.getTransport(&quot;smtp&quot;)) {\n                transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\n                transport.sendMessage(mm, mm.getAllRecipients());\n            }\n        } catch (MessagingException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\nclass MyAuthenticator extends Authenticator {\n    private String smtp_usuario = &quot;&quot;;\n    private String smtp_pass = &quot;&quot;;\n\n    MyAuthenticator(String user, String pass) {\n        this.smtp_usuario = user;\n        this.smtp_pass = pass;\n    }\n\n    @Override\n    public PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(this.smtp_usuario,\n                this.smtp_pass);\n    }\n}\n</code></pre>\n<p><em>Maven dependency tree</em></p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.2.0:tree (default-cli) @ mail-demo ---\n[INFO] com.example:mail-demo:jar:1.0-SNAPSHOT\n[INFO] +- org.openjfx:javafx-controls:jar:17.0.2:compile\n[INFO] |  +- org.openjfx:javafx-controls:jar:win:17.0.2:compile\n[INFO] |  \\- org.openjfx:javafx-graphics:jar:17.0.2:compile\n[INFO] |     +- org.openjfx:javafx-graphics:jar:win:17.0.2:compile\n[INFO] |     \\- org.openjfx:javafx-base:jar:17.0.2:compile\n[INFO] |        \\- org.openjfx:javafx-base:jar:win:17.0.2:compile\n[INFO] \\- com.sun.mail:jakarta.mail:jar:2.0.1:compile\n[INFO]    \\- com.sun.activation:jakarta.activation:jar:2.0.1:compile\n</code></pre>\n"}],"owner":{"account_id":20212957,"reputation":31,"user_id":14831533,"display_name":"dante33"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646266055,"creation_date":1646160927,"question_id":71313332,"body_markdown":"I am creating a chat application in javafx and I am trying to use the javamail api to verify the user&#39;s email. The problem is that when I run the application it shows me the following message:\r\n  java.lang.NoClassDefFoundError: javax/activation/DataHandler\r\nI am using java 17, javafx 17, netbeans ide 12.0.\r\n \r\nThis is the code I have written:\r\n\r\n    package chat;\r\n\r\n    import java.util.Properties;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.Image;\r\n    import javafx.stage.Stage;\r\n    import javax.mail.Authenticator;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n\r\n    public class Chat extends Application{\r\n       private Parent raiz;\r\n       private Scene scene;\r\n       private Stage stg1;\r\n       private Image imagenx;\r\n    \r\n       @Override\r\n       public void start(Stage stage) throws Exception {\r\n          raiz = FXMLLoader.load(getClass().getResource(&quot;Chat.fxml&quot;));\r\n          scene = new Scene(raiz);\r\n          scene.setUserAgentStylesheet(getClass().getResource(&quot;chat.css&quot;).toExternalForm());\r\n          stg1 = stage;\r\n          stg1.setScene(scene);\r\n          imagenx = new Image(getClass().getResource(&quot;icono.jpg&quot;).toString());\r\n          stg1.getIcons().add(imagenx);\r\n          stg1.setTitle(&quot;Video chat&quot;);\r\n          stg1.setWidth(800);\r\n          stg1.setHeight(600);\r\n          stg1.show();\r\n       }\r\n\r\n       private void enviarMail(String destinatario){\r\n          String remitente = &quot;mi remitente&quot;;\r\n          String asunto = &quot;enviar correo de confirmacion&quot;;\r\n          String cuerpo = &quot;mensaje a enviar&quot;;\r\n          String clv = &quot;1234&quot;;\r\n        \r\n          Properties props = System.getProperties();\r\n          props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n          props.put(&quot;mail.smtp.user&quot;, remitente);\r\n          props.put(&quot;mail.smtp.clave&quot;, clv);\r\n          props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n          props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n          props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        \r\n          Autenticador aut = new Autenticador(remitente,clv);\r\n          sesion = Session.getInstance(props,aut);\r\n          mm = new MimeMessage(sesion);\r\n\r\n          try{\r\n            mm.setFrom(new InternetAddress(remitente));\r\n            mm.addRecipients(Message.RecipientType.TO, destinatario);\r\n            mm.setSubject(asunto);\r\n            mm.setText(cuerpo);\r\n            try(Transport transport = sesion.getTransport(&quot;smtp&quot;)) {\r\n                transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\r\n                try{\r\n                    transport.sendMessage(mm, mm.getAllRecipients());\r\n                }\r\n                catch(MessagingException ex){\r\n                    System.out.println(ex);\r\n                }\r\n            }\r\n            catch(Exception ex){\r\n                System.out.println(ex);\r\n            }\r\n          }\r\n          catch(MessagingException ex){\r\n            System.out.println(ex);\r\n          }\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          launch(args);\r\n          enviarMail(&quot;example1@gmail.com&quot;);\r\n       }\r\n    }\r\n\r\n    class Autenticador extends Authenticator{\r\n       private String smtp_usuario = &quot;&quot;;\r\n       private String smtp_pass = &quot;&quot;;\r\n    \r\n       Autenticador() {}\r\n\r\n       Autenticador(String user , String pass) {\r\n         this.smtp_usuario = user;\r\n         this.smtp_pass = pass;\r\n       }\r\n\r\n       @Override\r\n       public PasswordAuthentication getPasswordAuthentication() {\r\n         return new PasswordAuthentication(this.smtp_usuario, \r\n         this.smtp_pass);\r\n       }\r\n    }\r\n\r\n\r\nThe error is generated in this line of code:\r\n   mm = new MimeMessage(sesion);\r\n\r\nchange the library from javax.mail to jakarta.mail, update netbeans to version 12.6, I have version java 17 installed, add the jar jakarta.activation, but when I run the project in netbeans this error is generated: java.lang.NoClassDefFoundError: jakarta/activation/DataHandler. Googling I found that I should add the following dependency: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nquery, where should I add the pom.xml file with the dependency and how to use the jakarta.activation jar? I&#39;m self-taught so maybe the question is very obvious.Apart from JavaMail is there any other library that I could use to send email?","title":"Exception: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p>I am creating a chat application in javafx and I am trying to use the javamail api to verify the user's email. The problem is that when I run the application it shows me the following message:\njava.lang.NoClassDefFoundError: javax/activation/DataHandler\nI am using java 17, javafx 17, netbeans ide 12.0.</p>\n<p>This is the code I have written:</p>\n<pre><code>package chat;\n\nimport java.util.Properties;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.stage.Stage;\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\npublic class Chat extends Application{\n   private Parent raiz;\n   private Scene scene;\n   private Stage stg1;\n   private Image imagenx;\n\n   @Override\n   public void start(Stage stage) throws Exception {\n      raiz = FXMLLoader.load(getClass().getResource(&quot;Chat.fxml&quot;));\n      scene = new Scene(raiz);\n      scene.setUserAgentStylesheet(getClass().getResource(&quot;chat.css&quot;).toExternalForm());\n      stg1 = stage;\n      stg1.setScene(scene);\n      imagenx = new Image(getClass().getResource(&quot;icono.jpg&quot;).toString());\n      stg1.getIcons().add(imagenx);\n      stg1.setTitle(&quot;Video chat&quot;);\n      stg1.setWidth(800);\n      stg1.setHeight(600);\n      stg1.show();\n   }\n\n   private void enviarMail(String destinatario){\n      String remitente = &quot;mi remitente&quot;;\n      String asunto = &quot;enviar correo de confirmacion&quot;;\n      String cuerpo = &quot;mensaje a enviar&quot;;\n      String clv = &quot;1234&quot;;\n    \n      Properties props = System.getProperties();\n      props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n      props.put(&quot;mail.smtp.user&quot;, remitente);\n      props.put(&quot;mail.smtp.clave&quot;, clv);\n      props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n      props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n      props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    \n      Autenticador aut = new Autenticador(remitente,clv);\n      sesion = Session.getInstance(props,aut);\n      mm = new MimeMessage(sesion);\n\n      try{\n        mm.setFrom(new InternetAddress(remitente));\n        mm.addRecipients(Message.RecipientType.TO, destinatario);\n        mm.setSubject(asunto);\n        mm.setText(cuerpo);\n        try(Transport transport = sesion.getTransport(&quot;smtp&quot;)) {\n            transport.connect(&quot;smtp.gmail.com&quot;, remitente, clv);\n            try{\n                transport.sendMessage(mm, mm.getAllRecipients());\n            }\n            catch(MessagingException ex){\n                System.out.println(ex);\n            }\n        }\n        catch(Exception ex){\n            System.out.println(ex);\n        }\n      }\n      catch(MessagingException ex){\n        System.out.println(ex);\n      }\n   }\n\n   public static void main(String[] args) {\n      launch(args);\n      enviarMail(&quot;example1@gmail.com&quot;);\n   }\n}\n\nclass Autenticador extends Authenticator{\n   private String smtp_usuario = &quot;&quot;;\n   private String smtp_pass = &quot;&quot;;\n\n   Autenticador() {}\n\n   Autenticador(String user , String pass) {\n     this.smtp_usuario = user;\n     this.smtp_pass = pass;\n   }\n\n   @Override\n   public PasswordAuthentication getPasswordAuthentication() {\n     return new PasswordAuthentication(this.smtp_usuario, \n     this.smtp_pass);\n   }\n}\n</code></pre>\n<p>The error is generated in this line of code:\nmm = new MimeMessage(sesion);</p>\n<p>change the library from javax.mail to jakarta.mail, update netbeans to version 12.6, I have version java 17 installed, add the jar jakarta.activation, but when I run the project in netbeans this error is generated: java.lang.NoClassDefFoundError: jakarta/activation/DataHandler. Googling I found that I should add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>query, where should I add the pom.xml file with the dependency and how to use the jakarta.activation jar? I'm self-taught so maybe the question is very obvious.Apart from JavaMail is there any other library that I could use to send email?</p>\n"},{"tags":["java","spring","netflix-eureka"],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1872,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646265948,"creation_date":1646265648,"question_id":71330619,"body_markdown":"after I added Eureka to my application I get this error:\r\n\r\n    2022-03-02 23:57:13.067 ERROR 15068 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw except\r\n    ion [Request processing failed; nested exception is java.lang.IllegalArgumentException: Source must not be null] with root cause\r\n    \r\n    java.lang.IllegalArgumentException: Source must not be null\r\n            at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.16.jar:5.3.16]\r\n            at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:757) ~[spring-beans-5.3.16.jar:5.3.16]\r\n            at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:701) ~[spring-beans-5.3.16.jar:5.3.16]\r\n            at cdg.releve.persistence.mongodb.adapter.ReleveBancaireSpringMongodbAdapter.getReleveBancaireById(ReleveBancaireSpringMongodbAdapter.java:57) ~[classes/:na]\r\n            at cdg.releve.application.service.adapter.ReServiceAdapter.getReById(ReleveBancaireServiceAdapter.java:39) ~[classes/:na]\r\n            at cdg.releve.infrastructure.rest.controller.ReControllerImpl.getReById(ReleveBancaireControllerImpl.java:46) ~[classes/:na]\r\n\r\n\r\n\r\nHere I was sending endpoints request and I get Status: 500 internal Server error. Before adding eureka client it was working greate just after adding eureka dependency this happened.\r\n\r\n\r\nThis is my project structure\r\n\r\n    + -- MyMainProject\r\n         + -- application           &lt;- Module 1\r\n         |     ` -- pom.xml\r\n         + -- domain                &lt;- Module 2\r\n         |     ` -- pom.xml\r\n         + -- bootloader            &lt;- Module 3\r\n         |     `src/main/java/BootloaderApplicationLuncher (Java application launcher)\r\n         |     ` -- pom.xml\r\n         + -- infrastructure        &lt;- Module 4 (has 3 modules)\r\n              + -- infrastructure 1          &lt;- Module 4.1\r\n              |     `  --  pom.xml\r\n              + -- infrastructure 2          &lt;- Module 4.2\r\n              |     `  --  pom.xml\r\n              + -- infrastructure 3          &lt;- Module 4.3\r\n              |     `  --  pom.xml\r\n         | -- pom.xml","title":"java.lang.IllegalArgumentException: Source must not be null","body":"<p>after I added Eureka to my application I get this error:</p>\n<pre><code>2022-03-02 23:57:13.067 ERROR 15068 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw except\nion [Request processing failed; nested exception is java.lang.IllegalArgumentException: Source must not be null] with root cause\n\njava.lang.IllegalArgumentException: Source must not be null\n        at org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.16.jar:5.3.16]\n        at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:757) ~[spring-beans-5.3.16.jar:5.3.16]\n        at org.springframework.beans.BeanUtils.copyProperties(BeanUtils.java:701) ~[spring-beans-5.3.16.jar:5.3.16]\n        at cdg.releve.persistence.mongodb.adapter.ReleveBancaireSpringMongodbAdapter.getReleveBancaireById(ReleveBancaireSpringMongodbAdapter.java:57) ~[classes/:na]\n        at cdg.releve.application.service.adapter.ReServiceAdapter.getReById(ReleveBancaireServiceAdapter.java:39) ~[classes/:na]\n        at cdg.releve.infrastructure.rest.controller.ReControllerImpl.getReById(ReleveBancaireControllerImpl.java:46) ~[classes/:na]\n</code></pre>\n<p>Here I was sending endpoints request and I get Status: 500 internal Server error. Before adding eureka client it was working greate just after adding eureka dependency this happened.</p>\n<p>This is my project structure</p>\n<pre><code>+ -- MyMainProject\n     + -- application           &lt;- Module 1\n     |     ` -- pom.xml\n     + -- domain                &lt;- Module 2\n     |     ` -- pom.xml\n     + -- bootloader            &lt;- Module 3\n     |     `src/main/java/BootloaderApplicationLuncher (Java application launcher)\n     |     ` -- pom.xml\n     + -- infrastructure        &lt;- Module 4 (has 3 modules)\n          + -- infrastructure 1          &lt;- Module 4.1\n          |     `  --  pom.xml\n          + -- infrastructure 2          &lt;- Module 4.2\n          |     `  --  pom.xml\n          + -- infrastructure 3          &lt;- Module 4.3\n          |     `  --  pom.xml\n     | -- pom.xml\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646265309,"creation_date":1646265309,"answer_id":71330575,"question_id":71316971,"body_markdown":"You need to define `HttpComponentsClientHttpRequestFactory` as a `Bean`.\r\nIt becomes managed by the Spring bean factory, which will call the factory&#39;s `destroy` method when the application is closed, or the bean goes out of scope. The `destroy` method of the `ClientHttpRequestFactory` will close the underlying `ClientConnectionManager` connection pool.\r\n\r\n    @Bean\r\n    public ClientHttpRequestFactory createRequestFactory() {\r\n        CloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\r\n        return new HttpComponentsClientHttpRequestFactory(client);\r\n    }\r\n\r\n`HttpComponentsClientHttpRequestFactory` implements `DisposableBean` interface\r\n&lt;br&gt;See [documentation][1] or [Destruction Callbacks][2]:\r\n&gt; Interface to be implemented by beans that want to release resources on\r\n&gt; destruction. A BeanFactory will invoke the destroy method on\r\n&gt; individual destruction of a scoped bean. An ApplicationContext is\r\n&gt; supposed to dispose all of its singletons on shutdown, driven by the\r\n&gt; application lifecycle.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/DisposableBean.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-disposablebean","title":"When is destroy() method called in HttpComponentsClientHttpRequestFactory class?","body":"<p>You need to define <code>HttpComponentsClientHttpRequestFactory</code> as a <code>Bean</code>.\nIt becomes managed by the Spring bean factory, which will call the factory's <code>destroy</code> method when the application is closed, or the bean goes out of scope. The <code>destroy</code> method of the <code>ClientHttpRequestFactory</code> will close the underlying <code>ClientConnectionManager</code> connection pool.</p>\n<pre><code>@Bean\npublic ClientHttpRequestFactory createRequestFactory() {\n    CloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\n    return new HttpComponentsClientHttpRequestFactory(client);\n}\n</code></pre>\n<p><code>HttpComponentsClientHttpRequestFactory</code> implements <code>DisposableBean</code> interface\n<br>See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/DisposableBean.html\" rel=\"nofollow noreferrer\">documentation</a> or <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-disposablebean\" rel=\"nofollow noreferrer\">Destruction Callbacks</a>:</p>\n<blockquote>\n<p>Interface to be implemented by beans that want to release resources on\ndestruction. A BeanFactory will invoke the destroy method on\nindividual destruction of a scoped bean. An ApplicationContext is\nsupposed to dispose all of its singletons on shutdown, driven by the\napplication lifecycle.</p>\n</blockquote>\n"}],"owner":{"account_id":9048658,"reputation":35,"user_id":6739796,"display_name":"Ssg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646265309,"creation_date":1646190105,"question_id":71316971,"body_markdown":"I have created CloseableHttpClient object as shown below. I am trying to understand when will the destroy method in HttpComponentsClientHttpRequestFactory class be called? I tried debugging by terminating the application but the destory() method is not called when the application is terminated.\r\n\r\n```\r\nCloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\r\n\r\nreturn new HttpComponentsClientHttpRequestFactory(client);\r\n\r\n```","title":"When is destroy() method called in HttpComponentsClientHttpRequestFactory class?","body":"<p>I have created CloseableHttpClient object as shown below. I am trying to understand when will the destroy method in HttpComponentsClientHttpRequestFactory class be called? I tried debugging by terminating the application but the destory() method is not called when the application is terminated.</p>\n<pre><code>CloseableHttpClient client = HttpClientBuilder.create().setSSLSocketFactory(csf).setDefaultRequestConfig(config).build();\n\nreturn new HttpComponentsClientHttpRequestFactory(client);\n\n</code></pre>\n"},{"tags":["java","multithreading","process","runtime","runtime.exec"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456390979,"creation_date":1456390979,"answer_id":35622631,"question_id":35622593,"body_markdown":"Unless you call `p.waitFor();` your process will happily run concurrently alongside the process that it spawned (`p`).","title":"Process p = Runtime.getRuntime().exec() will run asynchronously?","body":"<p>Unless you call <code>p.waitFor();</code> your process will happily run concurrently alongside the process that it spawned (<code>p</code>).</p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646264176,"creation_date":1456390845,"question_id":35622593,"body_markdown":"Starting from this situation:\r\n\r\n            for (String certificateSha1:certificateSha1List){\r\n    \t\t\tProcess\tp = Runtime.getRuntime().exec(new String [] {&quot;security&quot;, &quot;delete-certificate&quot;, &quot;-Z&quot;, certificateSha1}, null , new File(this.workDir+&quot;&quot;) );\t\t\r\n    \t\t\t\r\n    \t\t\tHelpers.asynchOutputWrite(new InputStreamReader(p.getInputStream()), standardOutput);\r\n    \t\t}\r\n\r\nAnd noting that Helpers.asynchOutputWrite generates a new thread which will write the parametrized stream into that output file. Will these threads overlap themselves writing into the file? or will the next iteration of the for wait until exec() method has finalized?\r\n","title":"Process p = Runtime.getRuntime().exec() will run asynchronously?","body":"<p>Starting from this situation:</p>\n<pre><code>        for (String certificateSha1:certificateSha1List){\n            Process p = Runtime.getRuntime().exec(new String [] {&quot;security&quot;, &quot;delete-certificate&quot;, &quot;-Z&quot;, certificateSha1}, null , new File(this.workDir+&quot;&quot;) );      \n            \n            Helpers.asynchOutputWrite(new InputStreamReader(p.getInputStream()), standardOutput);\n        }\n</code></pre>\n<p>And noting that Helpers.asynchOutputWrite generates a new thread which will write the parametrized stream into that output file. Will these threads overlap themselves writing into the file? or will the next iteration of the for wait until exec() method has finalized?</p>\n"},{"tags":["java","android","android-recyclerview","android-checkbox"],"comments":[{"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"score":0,"creation_date":1542880571,"post_id":53428224,"comment_id":93730524,"body_markdown":"It&#39;s Single item choice selection. You can manage it by declaring _position = -1_ and check your adapter position while clicking on it.","body":"It&#39;s Single item choice selection. You can manage it by declaring <i>position = -1</i> and check your adapter position while clicking on it."},{"owner":{"account_id":14551906,"reputation":3794,"user_id":10510491,"display_name":"Aaron"},"score":0,"creation_date":1542880799,"post_id":53428224,"comment_id":93730657,"body_markdown":"It is very likely the problem is within the adapter, can you post the code of your adapter?","body":"It is very likely the problem is within the adapter, can you post the code of your adapter?"},{"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"score":0,"creation_date":1542881181,"post_id":53428224,"comment_id":93730902,"body_markdown":"@Piyush I am not sure how to tell which checkbox to setSelected false.","body":"@Piyush I am not sure how to tell which checkbox to setSelected false."},{"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"score":0,"creation_date":1542881202,"post_id":53428224,"comment_id":93730924,"body_markdown":"@Aaron I updated my question with adapter class added","body":"@Aaron I updated my question with adapter class added"},{"owner":{"account_id":14551906,"reputation":3794,"user_id":10510491,"display_name":"Aaron"},"score":0,"creation_date":1542881343,"post_id":53428224,"comment_id":93731023,"body_markdown":"@code Weird.. I don&#39;t see them.. and your ViewHolder is incomplete, anyway I just want to make sure that you bind the views correctly.","body":"@code Weird.. I don&#39;t see them.. and your ViewHolder is incomplete, anyway I just want to make sure that you bind the views correctly."},{"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"score":0,"creation_date":1542881938,"post_id":53428224,"comment_id":93731391,"body_markdown":"@Aaron I updated method added remaining bits on adapter as well","body":"@Aaron I updated method added remaining bits on adapter as well"}],"answers":[{"tags":[],"owner":{"account_id":14763836,"reputation":795,"user_id":10662432,"display_name":"Hossam Hassan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1542881119,"creation_date":1542881119,"answer_id":53428427,"question_id":53428224,"body_markdown":"Inside your `Adapter` \r\n\r\nuse this :   \r\n  `private int row_index;`\r\n\r\n       @Override\r\n        public void onBindViewHolder(final Main_Page_Payment_Cash_Adapter.ViewHolder holder, final int position) {\r\n    \r\n                 holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        // checkbox.setChecked(true);\r\n                        row_index = position;\r\n                        notifyDataSetChanged();\r\n                    }\r\n                });\r\n    \r\n                if (row_index == position) {\r\n                  // checkbox.setChecked(true);\r\n                } else {\r\n                   // checkbox.setChecked(false);\r\n                }\r\n        }\r\n\r\nI hope this is what you are looking for.","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<p>Inside your <code>Adapter</code> </p>\n\n<p>use this :<br>\n  <code>private int row_index;</code></p>\n\n<pre><code>   @Override\n    public void onBindViewHolder(final Main_Page_Payment_Cash_Adapter.ViewHolder holder, final int position) {\n\n             holder.itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    // checkbox.setChecked(true);\n                    row_index = position;\n                    notifyDataSetChanged();\n                }\n            });\n\n            if (row_index == position) {\n              // checkbox.setChecked(true);\n            } else {\n               // checkbox.setChecked(false);\n            }\n    }\n</code></pre>\n\n<p>I hope this is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":8485478,"reputation":840,"user_id":6363766,"accept_rate":25,"display_name":"Farman Ali Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542882601,"creation_date":1542882601,"answer_id":53428891,"question_id":53428224,"body_markdown":"     @Override\r\n        public void onBindViewHolder(MyViewHolder holder, final int position) {\r\n    \r\n            AnimalObject animalObject = list.get(position);\r\n    \r\n            holder.title.setText(animalObject.name);\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    AnimalObject animalObject = list.get(position);\r\n                    int currentCheckedStatus = animalObject.ischecked();\r\n                    for (int i =0;i&lt;list.size();i++)\r\n                    {\r\n    \r\n                        if (i==position)\r\n                        {\r\n                            animalObject.setIschecked(!currentCheckedStatus);\r\n                        }\r\n                        else\r\n                        {\r\n                            animalObject.setIschecked(false);\r\n                        }\r\n                    }\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n    \r\n                holder.checkBox.setChecked(animalObject.ischecked());\r\n        }","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<pre><code> @Override\n    public void onBindViewHolder(MyViewHolder holder, final int position) {\n\n        AnimalObject animalObject = list.get(position);\n\n        holder.title.setText(animalObject.name);\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AnimalObject animalObject = list.get(position);\n                int currentCheckedStatus = animalObject.ischecked();\n                for (int i =0;i&lt;list.size();i++)\n                {\n\n                    if (i==position)\n                    {\n                        animalObject.setIschecked(!currentCheckedStatus);\n                    }\n                    else\n                    {\n                        animalObject.setIschecked(false);\n                    }\n                }\n                notifyDataSetChanged();\n            }\n        });\n\n            holder.checkBox.setChecked(animalObject.ischecked());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12880158,"reputation":753,"user_id":9315431,"display_name":"Mudassar Ashraf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646262934,"creation_date":1602797674,"answer_id":64379979,"question_id":53428224,"body_markdown":"**Complete example**&lt;br&gt;\r\n\r\n    public class ChildAddressAdapter extends \r\n            RecyclerView.Adapter&lt;ChildAddressAdapter.CartViewHolder&gt; {\r\n\r\n    private Activity context;\r\n\r\n    private List&lt;AddressDetail&gt; addressDetailList;\r\n\r\n    private int selectedPosition = -1;\r\n\r\n    public ChildAddressAdapter(Activity context, List&lt;AddressDetail&gt; addressDetailList) {\r\n        this.context = context;\r\n        this.addressDetailList = addressDetailList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View myView = inflater.inflate(R.layout.address_layout, parent, false);\r\n        return new CartViewHolder(myView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CartViewHolder holder, int position) {\r\n\r\n        holder.adress_checkbox.setOnClickListener(view -&gt; {\r\n            selectedPosition = holder.getAdapterPosition();\r\n            notifyDataSetChanged();\r\n        });\r\n\r\n        if (selectedPosition==position){\r\n            holder.adress_checkbox.setChecked(true);\r\n        }\r\n        else {\r\n            holder.adress_checkbox.setChecked(false);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return  addressDetailList.size();\r\n    }\r\n\r\n    class CartViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        TextView address_text,address_tag;\r\n        CheckBox adress_checkbox;\r\n\r\n        CartViewHolder(View itemView) {\r\n            super(itemView);\r\n            address_text = itemView.findViewById(R.id.address_text);\r\n            address_tag = itemView.findViewById(R.id.address_tag);\r\n            adress_checkbox = itemView.findViewById(R.id.adress_checkbox);\r\n        }\r\n    }}","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<p><strong>Complete example</strong><br></p>\n<pre><code>public class ChildAddressAdapter extends \n        RecyclerView.Adapter&lt;ChildAddressAdapter.CartViewHolder&gt; {\n\nprivate Activity context;\n\nprivate List&lt;AddressDetail&gt; addressDetailList;\n\nprivate int selectedPosition = -1;\n\npublic ChildAddressAdapter(Activity context, List&lt;AddressDetail&gt; addressDetailList) {\n    this.context = context;\n    this.addressDetailList = addressDetailList;\n}\n\n@NonNull\n@Override\npublic CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    LayoutInflater inflater = LayoutInflater.from(context);\n    View myView = inflater.inflate(R.layout.address_layout, parent, false);\n    return new CartViewHolder(myView);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull CartViewHolder holder, int position) {\n\n    holder.adress_checkbox.setOnClickListener(view -&gt; {\n        selectedPosition = holder.getAdapterPosition();\n        notifyDataSetChanged();\n    });\n\n    if (selectedPosition==position){\n        holder.adress_checkbox.setChecked(true);\n    }\n    else {\n        holder.adress_checkbox.setChecked(false);\n    }\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return  addressDetailList.size();\n}\n\nclass CartViewHolder extends RecyclerView.ViewHolder\n{\n    TextView address_text,address_tag;\n    CheckBox adress_checkbox;\n\n    CartViewHolder(View itemView) {\n        super(itemView);\n        address_text = itemView.findViewById(R.id.address_text);\n        address_tag = itemView.findViewById(R.id.address_tag);\n        adress_checkbox = itemView.findViewById(R.id.adress_checkbox);\n    }\n}}\n</code></pre>\n"}],"owner":{"account_id":7119578,"reputation":3217,"user_id":5444667,"accept_rate":76,"display_name":"cole"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4091,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53428427,"answer_count":3,"score":2,"last_activity_date":1646262934,"creation_date":1542880489,"question_id":53428224,"body_markdown":"I have recycler-view with sections. The item include row and title. I want to select one item with checkbox and if user select next one I want to deselect the old the one(checkbox). I cannot find anywhere to achieve this functionality.\r\n\r\nHere is my code\r\n\r\n    recyclerView = (RecyclerView)findViewById(R.id.recyclerViewActivityExample);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        list.add(new AnimalObject(&quot;Cat&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Lion&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Dog&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Monkey&quot;,&quot;Mammals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Puma&quot;,&quot;Mammals&quot;, false));\r\n\r\n        list.add(new AnimalObject(&quot;Albatross&quot;,&quot;Birds&quot;, false));\r\n        list.add(new AnimalObject(&quot;Pigeon&quot;,&quot;Birds&quot;, false));\r\n\r\n        list.add(new AnimalObject(&quot;Crabs&quot;,&quot;Aquatic Animals&quot;, false));\r\n        list.add(new AnimalObject(&quot;Sharks&quot;,&quot;Aquatic Animals&quot;, false));\r\n\r\n        MyAdapter myAdapter = new MyAdapter();\r\n\r\n\r\n        sectionedRecyclerViewAdapter = new SectionedRecyclerViewAdapter(getApplicationContext(),\r\n                R.layout.layout_list_section, R.id.textViewItemSection, myAdapter, this);\r\n        sectionedRecyclerViewAdapter.setSections(list);\r\n\r\n        recyclerView.setAdapter(sectionedRecyclerViewAdapter);\r\n\r\n    }\r\n\r\n\r\n     \r\n\r\n\r\n     //-------------------Adapter----------------------------\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; implements MyViewHolder.ViewHolderClickListener {\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n\r\n            View itemView = LayoutInflater.\r\n                    from(parent.getContext()).\r\n                    inflate(R.layout.layout_list_item, parent, false);\r\n\r\n            return new MyViewHolder(itemView,this);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, final int position) {\r\n\r\n            AnimalObject animalObject = list.get(position);\r\n\r\n            holder.title.setText(animalObject.name);\r\n\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // checkbox.setChecked(true);\r\n                    row_index = position;\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n\r\n            if (row_index == position) {\r\n                holder.checkBox.setChecked(true);\r\n            } else {\r\n                holder.checkBox.setChecked(false);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            Toast.makeText(getApplicationContext(), list.get(sectionedRecyclerViewAdapter.getIndexForPosition(recyclerView.getChildPosition(v))).name,Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n// Adapter\r\n\r\n     public String name;\r\n    public String type;\r\n    public boolean ischecked ;\r\n\r\n    public AnimalObject(final String name, final String type, boolean ischecked){\r\n\r\n        this.name = name ;\r\n        this.type = type ;\r\n        this.ischecked = ischecked;\r\n    }\r\n    public boolean ischecked() {\r\n        return ischecked;\r\n    }\r\n\r\n    public void setIschecked(boolean ischecked) {\r\n        this.ischecked = ischecked;\r\n    }","title":"Select one checkBox in item from recyclerView and deselect previously selected checkBox","body":"<p>I have recycler-view with sections. The item include row and title. I want to select one item with checkbox and if user select next one I want to deselect the old the one(checkbox). I cannot find anywhere to achieve this functionality.</p>\n\n<p>Here is my code</p>\n\n<pre><code>recyclerView = (RecyclerView)findViewById(R.id.recyclerViewActivityExample);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n\n    list = new ArrayList&lt;&gt;();\n    list.add(new AnimalObject(\"Cat\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Lion\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Dog\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Monkey\",\"Mammals\", false));\n    list.add(new AnimalObject(\"Puma\",\"Mammals\", false));\n\n    list.add(new AnimalObject(\"Albatross\",\"Birds\", false));\n    list.add(new AnimalObject(\"Pigeon\",\"Birds\", false));\n\n    list.add(new AnimalObject(\"Crabs\",\"Aquatic Animals\", false));\n    list.add(new AnimalObject(\"Sharks\",\"Aquatic Animals\", false));\n\n    MyAdapter myAdapter = new MyAdapter();\n\n\n    sectionedRecyclerViewAdapter = new SectionedRecyclerViewAdapter(getApplicationContext(),\n            R.layout.layout_list_section, R.id.textViewItemSection, myAdapter, this);\n    sectionedRecyclerViewAdapter.setSections(list);\n\n    recyclerView.setAdapter(sectionedRecyclerViewAdapter);\n\n}\n\n\n\n\n\n //-------------------Adapter----------------------------\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; implements MyViewHolder.ViewHolderClickListener {\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n\n        View itemView = LayoutInflater.\n                from(parent.getContext()).\n                inflate(R.layout.layout_list_item, parent, false);\n\n        return new MyViewHolder(itemView,this);\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, final int position) {\n\n        AnimalObject animalObject = list.get(position);\n\n        holder.title.setText(animalObject.name);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // checkbox.setChecked(true);\n                row_index = position;\n                notifyDataSetChanged();\n            }\n        });\n\n        if (row_index == position) {\n            holder.checkBox.setChecked(true);\n        } else {\n            holder.checkBox.setChecked(false);\n        }\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        Toast.makeText(getApplicationContext(), list.get(sectionedRecyclerViewAdapter.getIndexForPosition(recyclerView.getChildPosition(v))).name,Toast.LENGTH_SHORT).show();\n\n    }\n}\n</code></pre>\n\n<p>// Adapter</p>\n\n<pre><code> public String name;\npublic String type;\npublic boolean ischecked ;\n\npublic AnimalObject(final String name, final String type, boolean ischecked){\n\n    this.name = name ;\n    this.type = type ;\n    this.ischecked = ischecked;\n}\npublic boolean ischecked() {\n    return ischecked;\n}\n\npublic void setIschecked(boolean ischecked) {\n    this.ischecked = ischecked;\n}\n</code></pre>\n"},{"tags":["java","json","hashmap"],"answers":[{"tags":[],"owner":{"account_id":2855107,"reputation":1111,"user_id":2451524,"accept_rate":40,"display_name":"VikramV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646262911,"creation_date":1646262911,"answer_id":71330303,"question_id":71329716,"body_markdown":"You can try this (without any external library - using only Java 8)\r\n\r\n        Map&lt;String, Object&gt; customFields = new LinkedHashMap&lt;&gt;();\r\n\r\n        List&lt;String&gt; jsonKeyList = List.of(&quot;orderLines1&quot;, &quot;orderLines2&quot;);\r\n        jsonKeyList.forEach(listItem -&gt; orderKeys(listItem, customFields));\r\n\r\n        String result = &quot;{&quot; + customFields.entrySet().stream()\r\n                                          .map(e -&gt; &quot;\\&quot;&quot; + e.getKey() + &quot;\\&quot;:&quot; +\r\n                                                    String.valueOf(e.getValue()))\r\n                                          .collect(Collectors.joining(&quot;, &quot;)) +\r\n                        &quot;}&quot;;\r\n\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n\r\n    public static void orderKeys(final String key, final Map&lt;String, Object&gt; result)\r\n    {\r\n        JSONArray array = new JSONArray();\r\n        JSONObject item = new JSONObject();\r\n        item.put(&quot;xx&quot;, &quot;XX&quot;);\r\n        item.put(&quot;yy&quot;, &quot;YY&quot;);\r\n        array.put(item);\r\n\r\n        result.put(key, array);\r\n    }\r\n\r\n**Output:**\r\n\r\n    Result: {&quot;orderLines1&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}], &quot;orderLines2&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]}\r\n\r\nElse you can use external libraries for your usecase (viz. [Underscore-java][1] - library to convert hash map or array list to json and vice versa).\r\n\r\n*Courtesy:*\r\n[StackOverflow][2]\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://stackoverflow.com/a/36934134/2451524","title":"Add JSONArray to map value in Hashmap","body":"<p>You can try this (without any external library - using only Java 8)</p>\n<pre><code>    Map&lt;String, Object&gt; customFields = new LinkedHashMap&lt;&gt;();\n\n    List&lt;String&gt; jsonKeyList = List.of(&quot;orderLines1&quot;, &quot;orderLines2&quot;);\n    jsonKeyList.forEach(listItem -&gt; orderKeys(listItem, customFields));\n\n    String result = &quot;{&quot; + customFields.entrySet().stream()\n                                      .map(e -&gt; &quot;\\&quot;&quot; + e.getKey() + &quot;\\&quot;:&quot; +\n                                                String.valueOf(e.getValue()))\n                                      .collect(Collectors.joining(&quot;, &quot;)) +\n                    &quot;}&quot;;\n\n    System.out.println(&quot;Result: &quot; + result);\n}\n\npublic static void orderKeys(final String key, final Map&lt;String, Object&gt; result)\n{\n    JSONArray array = new JSONArray();\n    JSONObject item = new JSONObject();\n    item.put(&quot;xx&quot;, &quot;XX&quot;);\n    item.put(&quot;yy&quot;, &quot;YY&quot;);\n    array.put(item);\n\n    result.put(key, array);\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Result: {&quot;orderLines1&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}], &quot;orderLines2&quot;:[{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]}\n</code></pre>\n<p>Else you can use external libraries for your usecase (viz. <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> - library to convert hash map or array list to json and vice versa).</p>\n<p><em>Courtesy:</em>\n<a href=\"https://stackoverflow.com/a/36934134/2451524\">StackOverflow</a></p>\n"}],"owner":{"account_id":9238145,"reputation":31,"user_id":6862093,"accept_rate":67,"display_name":"Dhirish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1646262911,"creation_date":1646258750,"question_id":71329716,"body_markdown":"I am having a JSON Array which I am populating using a JSON object, and the code looks like this\r\n\r\n    \t\r\n    \tMap&lt;String, String&gt; orderLines = new HashMap&lt;&gt;();\r\n    \torderLines.put(&quot;xx&quot;,XX);\r\n    \torderLines.put(&quot;yy&quot;,YY);\r\n    JSONObject obj=new JSONObject(orderLines);\r\n    JSONArray array = new JSONArray().put(obj);\r\n\r\nand I am trying to add this array into my map and add it to the  \r\n\r\n    Map&lt;String, Object&gt; customFields = new HashMap&lt;&gt;();\r\n    customFields.put(&quot;postOrderRequest.orderLines&quot;, array);\r\n\r\nbut when I am building a json out of these map values using\r\n\r\n    customFields.forEach((k, v) -&gt; json.set(k, v));\r\n\r\n, I am not able to build a json out of the map,what I am trying to achieve is something like this\r\n\r\n    {\r\n        &quot;orderLines&quot; : [{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]\r\n     }\r\n\r\n","title":"Add JSONArray to map value in Hashmap","body":"<p>I am having a JSON Array which I am populating using a JSON object, and the code looks like this</p>\n<pre><code>    Map&lt;String, String&gt; orderLines = new HashMap&lt;&gt;();\n    orderLines.put(&quot;xx&quot;,XX);\n    orderLines.put(&quot;yy&quot;,YY);\nJSONObject obj=new JSONObject(orderLines);\nJSONArray array = new JSONArray().put(obj);\n</code></pre>\n<p>and I am trying to add this array into my map and add it to the</p>\n<pre><code>Map&lt;String, Object&gt; customFields = new HashMap&lt;&gt;();\ncustomFields.put(&quot;postOrderRequest.orderLines&quot;, array);\n</code></pre>\n<p>but when I am building a json out of these map values using</p>\n<pre><code>customFields.forEach((k, v) -&gt; json.set(k, v));\n</code></pre>\n<p>, I am not able to build a json out of the map,what I am trying to achieve is something like this</p>\n<pre><code>{\n    &quot;orderLines&quot; : [{&quot;xx&quot;:&quot;XX&quot;,&quot;yy&quot;:&quot;YY&quot;}]\n }\n</code></pre>\n"},{"tags":["java","android","firebase","youtube"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1646242764,"post_id":71326787,"comment_id":126076868,"body_markdown":"Are you asking [how to show a youtube video in an android app](https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app)?","body":"Are you asking <a href=\"https://www.google.com/search?q=site:stackoverflow.com+how+to+show+a+youtube+video+in+android+app\" rel=\"nofollow noreferrer\">how to show a youtube video in an android app</a>?"}],"answers":[{"tags":[],"owner":{"account_id":14310867,"reputation":46,"user_id":10337197,"display_name":"Mahmood Shahsavari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646246204,"creation_date":1646246204,"answer_id":71327610,"question_id":71326787,"body_markdown":"for show youtube video in your android app please see this library : \r\n[android youtube player github][1]\r\n\r\n\r\n  [1]: https://github.com/PierfrancescoSoffritti/android-youtube-player\r\n\r\nyou can simply add video id to this view and it will show the video from youtube :\r\n   \r\n\r\n    &lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\r\n            android:id=&quot;@+id/youtube_player_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            \r\n            app:videoId=&quot;S0Q4gqBUs7c&quot;\r\n            app:autoPlay=&quot;true&quot; /&gt;\r\n\r\n","title":"Youtube Video link on Android Studio","body":"<p>for show youtube video in your android app please see this library :\n<a href=\"https://github.com/PierfrancescoSoffritti/android-youtube-player\" rel=\"nofollow noreferrer\">android youtube player github</a></p>\n<p>you can simply add video id to this view and it will show the video from youtube :</p>\n<pre><code>&lt;com.pierfrancescosoffritti.androidyoutubeplayer.core.player.views.YouTubePlayerView\n        android:id=&quot;@+id/youtube_player_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        \n        app:videoId=&quot;S0Q4gqBUs7c&quot;\n        app:autoPlay=&quot;true&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":24389727,"reputation":15,"user_id":18319871,"display_name":"777111222"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646259267,"accepted_answer_id":71327610,"answer_count":1,"score":0,"last_activity_date":1646262634,"creation_date":1646241962,"question_id":71326787,"body_markdown":"I am displaying a database from firebase and I want to replace the image with either a YouTube link or just display the video on the app. Also, I am using a card view for the recyclerview. How would I implement that if I want to save the link as &quot;video&quot; in my exercise database?\r\n[![This is the recyclerView of the database][1]][1]\r\n\r\n\r\n[![database in firebase][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/adQ6m.png\r\n  [2]: https://i.stack.imgur.com/PvziP.png","title":"Youtube Video link on Android Studio","body":"<p>I am displaying a database from firebase and I want to replace the image with either a YouTube link or just display the video on the app. Also, I am using a card view for the recyclerview. How would I implement that if I want to save the link as &quot;video&quot; in my exercise database?\n<a href=\"https://i.stack.imgur.com/adQ6m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/adQ6m.png\" alt=\"This is the recyclerView of the database\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PvziP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvziP.png\" alt=\"database in firebase\" /></a></p>\n"},{"tags":["java","kotlin","types","hashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646263343,"post_id":71330259,"comment_id":126083077,"body_markdown":"Generally speaking, no.  You really need to convert the entire deep map to a full concrete type.","body":"Generally speaking, no.  You really need to convert the entire deep map to a full concrete type."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1646267301,"post_id":71330259,"comment_id":126083877,"body_markdown":"How big is this JSON? If it is not very big and the data structure doesn&#39;t change often, then you can just re-create the data structure and use one of serialization frameworks that provide object mapping (e.g.: kotlinx-serialization, jackson, gson). If the data structure is big and/or it changes, I believe there are some tools that generate typed data structures from JSON. Unfortunately, I can&#39;t suggest any specific one.","body":"How big is this JSON? If it is not very big and the data structure doesn&#39;t change often, then you can just re-create the data structure and use one of serialization frameworks that provide object mapping (e.g.: kotlinx-serialization, jackson, gson). If the data structure is big and/or it changes, I believe there are some tools that generate typed data structures from JSON. Unfortunately, I can&#39;t suggest any specific one."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1646267425,"post_id":71330259,"comment_id":126083898,"body_markdown":"There are some suggestions here: https://stackoverflow.com/questions/1957406/generate-java-class-from-json","body":"There are some suggestions here: <a href=\"https://stackoverflow.com/questions/1957406/generate-java-class-from-json\" title=\"generate java class from json\">stackoverflow.com/questions/1957406/&hellip;</a>"},{"owner":{"account_id":12118656,"reputation":157,"user_id":8851278,"display_name":"Filip Zedek"},"score":0,"creation_date":1646315259,"post_id":71330259,"comment_id":126096190,"body_markdown":"The JSON itself is not too big. It could have about 30 props, including nested, and it has some multi-level nested maps/lists inside. The problem is I need to process thousands of them for the request, so each millisecond in processing a single item counts. Generating a class from JSON is not what I need, since I know the type in advance and as I said, instantiating objects is slow. And when working with Map I need to cast, which is ugly and also takes some time, because it&#39;s not implicit.","body":"The JSON itself is not too big. It could have about 30 props, including nested, and it has some multi-level nested maps/lists inside. The problem is I need to process thousands of them for the request, so each millisecond in processing a single item counts. Generating a class from JSON is not what I need, since I know the type in advance and as I said, instantiating objects is slow. And when working with Map I need to cast, which is ugly and also takes some time, because it&#39;s not implicit."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1646340760,"post_id":71330259,"comment_id":126105805,"body_markdown":"So honestly, I&#39;m not sure what do you need ;-) Deserializing to classes shouldn&#39;t be slower than deserializing to map. I think it would be even faster. If for some reason you have to keep it as a map then you can create classes that wrap this map. You can make it easier by using property delegation to map: https://kotlinlang.org/docs/delegated-properties.html#storing-properties-in-a-map","body":"So honestly, I&#39;m not sure what do you need ;-) Deserializing to classes shouldn&#39;t be slower than deserializing to map. I think it would be even faster. If for some reason you have to keep it as a map then you can create classes that wrap this map. You can make it easier by using property delegation to map: <a href=\"https://kotlinlang.org/docs/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>"},{"owner":{"account_id":12118656,"reputation":157,"user_id":8851278,"display_name":"Filip Zedek"},"score":0,"creation_date":1647107833,"post_id":71330259,"comment_id":126292402,"body_markdown":"Unfortunately, it&#39;s not faster. It took 327 millis converting 5k items to objects vs 232 to map (Jackson object mapper). The closest I could get in optimization is using property delegation, but here I need to cast when working with arrays.","body":"Unfortunately, it&#39;s not faster. It took 327 millis converting 5k items to objects vs 232 to map (Jackson object mapper). The closest I could get in optimization is using property delegation, but here I need to cast when working with arrays."}],"owner":{"account_id":12118656,"reputation":157,"user_id":8851278,"display_name":"Filip Zedek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646262546,"creation_date":1646262546,"question_id":71330259,"body_markdown":"I read some items from DB as JSON and create a Map&lt;String, Any&gt; from each of them. I want to process the items as Map because instantiating objects using Jackson Object Mapper&#39;s .convertValue took a long time (decimals of milliseconds more than with Map, per item). However, the type of the map is not uniform and when I need to for example get some nested prop (e.g. `map.child.prop`), I need to go like this:\r\n\r\n    val prop = (parentMap[&quot;child&quot;] as Map&lt;String, Any&gt;)[&quot;prop&quot;]\r\n\r\nI am aware there is Apache Commons providing `PropertyUtils.getProperty(map, &quot;map.child.prop&quot;))`, but it is not exactly what I want. The object is quite complex and I need to work with the whole map as it was typed. Is there such an option? The casting goes crazy as the item is a big map, but currently the only solution I have.\r\n\r\nWhat I tried:\r\n1) Convert map to class \r\n- Too long\r\n\r\n2) Using typed map library https://github.com/broo2s/typedmap  \r\n- The map type seems to be built continuously as you add some key/value. But I am not building continuously, I am converting from JSON.\r\n\r\n3) Using Kotlin delegated properties\r\n- Works well for flat structure, but needs to casting when going deeper.\r\n\r\n","title":"Working with heterogenous map as it was typed in Kotlin/Java","body":"<p>I read some items from DB as JSON and create a Map&lt;String, Any&gt; from each of them. I want to process the items as Map because instantiating objects using Jackson Object Mapper's .convertValue took a long time (decimals of milliseconds more than with Map, per item). However, the type of the map is not uniform and when I need to for example get some nested prop (e.g. <code>map.child.prop</code>), I need to go like this:</p>\n<pre><code>val prop = (parentMap[&quot;child&quot;] as Map&lt;String, Any&gt;)[&quot;prop&quot;]\n</code></pre>\n<p>I am aware there is Apache Commons providing <code>PropertyUtils.getProperty(map, &quot;map.child.prop&quot;))</code>, but it is not exactly what I want. The object is quite complex and I need to work with the whole map as it was typed. Is there such an option? The casting goes crazy as the item is a big map, but currently the only solution I have.</p>\n<p>What I tried:</p>\n<ol>\n<li>Convert map to class</li>\n</ol>\n<ul>\n<li>Too long</li>\n</ul>\n<ol start=\"2\">\n<li>Using typed map library <a href=\"https://github.com/broo2s/typedmap\" rel=\"nofollow noreferrer\">https://github.com/broo2s/typedmap</a></li>\n</ol>\n<ul>\n<li>The map type seems to be built continuously as you add some key/value. But I am not building continuously, I am converting from JSON.</li>\n</ul>\n<ol start=\"3\">\n<li>Using Kotlin delegated properties</li>\n</ol>\n<ul>\n<li>Works well for flat structure, but needs to casting when going deeper.</li>\n</ul>\n"},{"tags":["java","android","android-activity","permissions","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646262427,"creation_date":1646262427,"answer_id":71330243,"question_id":71329901,"body_markdown":"Specifically, `requestPermissions()` is used for permissions with a `protectionLevel` of `dangerous`.\r\n\r\n`WRITE_EXTERNAL_STORAGE` [is `dangerous`](https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE). [`WRITE_SETTINGS` is not](https://developer.android.com/reference/android/Manifest.permission#WRITE_SETTINGS).","title":"What are acceptable permissions for ActivityCompat.requestPermissions() to request?","body":"<p>Specifically, <code>requestPermissions()</code> is used for permissions with a <code>protectionLevel</code> of <code>dangerous</code>.</p>\n<p><code>WRITE_EXTERNAL_STORAGE</code> <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\">is <code>dangerous</code></a>. <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_SETTINGS\" rel=\"nofollow noreferrer\"><code>WRITE_SETTINGS</code> is not</a>.</p>\n"}],"owner":{"account_id":5949777,"reputation":1089,"user_id":4678207,"accept_rate":93,"display_name":"David Read"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71330243,"answer_count":1,"score":1,"last_activity_date":1646262427,"creation_date":1646259926,"question_id":71329901,"body_markdown":"In my Android app using Java, I define a `checkForPermission()` method to check the grant status of a single permission. If the permission has not already been granted, it requests this permission from the user using `ActivityCompat.requestPermissions()`.\r\n\r\nHere is the method:\r\n\r\n    private boolean checkForPermission(String permission, int rationaleMessageId, int requestCode) {\r\n\r\n        // Check if permission is already granted.\r\n        if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            // Permission has not been granted. Check if a rationale AlertDialog should be shown.\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, permission)) {\r\n\r\n                // Show rationale AlertDialog explaining why this permission is needed.\r\n                new AlertDialog.Builder(this)\r\n                        .setTitle(R.string.rationale_dialog_title)\r\n                        .setMessage(rationaleMessageId)\r\n                        .setPositiveButton(android.R.string.ok,\r\n                                new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                                        // Request permission again.\r\n                                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\r\n                                    }\r\n                                })\r\n                        .create()\r\n                        .show();\r\n            }\r\n\r\n            // Do not show rationale AlertDialog. Just request permission again.\r\n            else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\r\n            }\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\nI&#39;ve noticed that the method works perfectly fine for simple permissions such as `android.permission.WRITE_EXTERNAL_STORAGE`, but does not work for more dangerous permissions such as `android.permission.WRITE_SETTINGS`.\r\n\r\nI&#39;m wondering which types of permissions `ActivityCompat.requestPermissions()` may actually request. My assumption is that dangerous permissions must be requested using other means, but I would like any feedback I can get on this. Thank you.","title":"What are acceptable permissions for ActivityCompat.requestPermissions() to request?","body":"<p>In my Android app using Java, I define a <code>checkForPermission()</code> method to check the grant status of a single permission. If the permission has not already been granted, it requests this permission from the user using <code>ActivityCompat.requestPermissions()</code>.</p>\n<p>Here is the method:</p>\n<pre><code>private boolean checkForPermission(String permission, int rationaleMessageId, int requestCode) {\n\n    // Check if permission is already granted.\n    if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n\n        // Permission has not been granted. Check if a rationale AlertDialog should be shown.\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, permission)) {\n\n            // Show rationale AlertDialog explaining why this permission is needed.\n            new AlertDialog.Builder(this)\n                    .setTitle(R.string.rationale_dialog_title)\n                    .setMessage(rationaleMessageId)\n                    .setPositiveButton(android.R.string.ok,\n                            new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialogInterface, int i) {\n                                    // Request permission again.\n                                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\n                                }\n                            })\n                    .create()\n                    .show();\n        }\n\n        // Do not show rationale AlertDialog. Just request permission again.\n        else {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{permission}, requestCode);\n        }\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n<p>I've noticed that the method works perfectly fine for simple permissions such as <code>android.permission.WRITE_EXTERNAL_STORAGE</code>, but does not work for more dangerous permissions such as <code>android.permission.WRITE_SETTINGS</code>.</p>\n<p>I'm wondering which types of permissions <code>ActivityCompat.requestPermissions()</code> may actually request. My assumption is that dangerous permissions must be requested using other means, but I would like any feedback I can get on this. Thank you.</p>\n"},{"tags":["java","maven","jvm","heap-memory"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":1,"creation_date":1400687100,"post_id":23787943,"comment_id":36585371,"body_markdown":"Can you run java at all? Try `java -version` first. What happens?","body":"Can you run java at all? Try <code>java -version</code> first. What happens?"},{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1400687365,"post_id":23787943,"comment_id":36585539,"body_markdown":"Are you sure `-Xms256m -Xmx512m` doesn&#39;t contain strange characters? Perhaps the hyphen became an n-dash or something? Might have happened if you copy/pasted the example from somewhere.","body":"Are you sure <code>-Xms256m -Xmx512m</code> doesn&#39;t contain strange characters? Perhaps the hyphen became an n-dash or something? Might have happened if you copy/pasted the example from somewhere."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1400687745,"post_id":23787943,"comment_id":36585785,"body_markdown":"@RobAu No such thing as &quot;M3_HOME&quot;, it&#39;s just M2_HOME for all versions of Maven. See http://maven.apache.org/download.cgi#Installation","body":"@RobAu No such thing as &quot;M3_HOME&quot;, it&#39;s just M2_HOME for all versions of Maven. See <a href=\"http://maven.apache.org/download.cgi#Installation\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi#Installation</a>"},{"owner":{"account_id":1799971,"reputation":767,"user_id":1638555,"display_name":"khriskooper"},"score":0,"creation_date":1400687880,"post_id":23787943,"comment_id":36585875,"body_markdown":"Really? Mine is set to &quot;MAVEN_HOME&quot;, which works fine.","body":"Really? Mine is set to &quot;MAVEN_HOME&quot;, which works fine."},{"owner":{"account_id":1799971,"reputation":767,"user_id":1638555,"display_name":"khriskooper"},"score":0,"creation_date":1400688218,"post_id":23787943,"comment_id":36586105,"body_markdown":"Since it&#39;s optional, what happens when you remove the MAVEN_OPTS altogether?","body":"Since it&#39;s optional, what happens when you remove the MAVEN_OPTS altogether?"},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1400695026,"post_id":23787943,"comment_id":36590350,"body_markdown":"Do you have to put the options in quotes, e.g. `MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;`?  There is a space between the options, perhaps Windows doesn&#39;t like that.","body":"Do you have to put the options in quotes, e.g. <code>MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;</code>?  There is a space between the options, perhaps Windows doesn&#39;t like that."},{"owner":{"account_id":1099852,"reputation":321,"user_id":1092531,"accept_rate":44,"display_name":"med_alpa"},"score":3,"creation_date":1418747308,"post_id":23787943,"comment_id":43448574,"body_markdown":"I resolved the same issue on windows executing this command on windows command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M","body":"I resolved the same issue on windows executing this command on windows command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M"},{"owner":{"account_id":1656808,"reputation":2475,"user_id":1526139,"accept_rate":25,"display_name":"Yauhen"},"score":1,"creation_date":1421928761,"post_id":23787943,"comment_id":44553678,"body_markdown":"med_alpa comment helps me, quotes are ambiguous in Windows","body":"med_alpa comment helps me, quotes are ambiguous in Windows"}],"answers":[{"tags":[],"owner":{"account_id":6826184,"reputation":1,"user_id":5251838,"display_name":"sunil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440158725,"creation_date":1440158725,"answer_id":32139893,"question_id":23787943,"body_markdown":"alter jvm.config in .mvn directory ( it is in controller directory ).\r\nstudy mvn.sh that comes with maven. you will see MAVEN_OPTS setting in the script. \r\ntry out java &lt;heap option&gt; -version before altering. \r\neg : java -Xmx512m -version\r\nnow you know how to go about and make the changes.\r\n\r\n/sunil","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>alter jvm.config in .mvn directory ( it is in controller directory ).\nstudy mvn.sh that comes with maven. you will see MAVEN_OPTS setting in the script. \ntry out java  -version before altering. \neg : java -Xmx512m -version\nnow you know how to go about and make the changes.</p>\n\n<p>/sunil</p>\n"},{"tags":[],"owner":{"account_id":11643443,"reputation":1,"user_id":8527142,"display_name":"David Hern&#225;ndez Mart&#237;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503921328,"creation_date":1503919839,"answer_id":45917953,"question_id":23787943,"body_markdown":"Try using: -Xmx1024M \r\n\r\n**Note:** &#39;M&#39; instead &#39;m&#39;","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>Try using: -Xmx1024M </p>\n\n<p><strong>Note:</strong> 'M' instead 'm'</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1572264849,"creation_date":1530796801,"answer_id":51192416,"question_id":23787943,"body_markdown":"User @med_alpa had the right suggestion in my case (Windows):\r\n\r\n&gt; I resolved the same issue on windows executing this command on windows\r\n&gt; command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M\r\n\r\nSo make sure to not put quotes around the value you set for MAVEN_OPTS ","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>User @med_alpa had the right suggestion in my case (Windows):</p>\n\n<blockquote>\n  <p>I resolved the same issue on windows executing this command on windows\n  command line : set MAVEN_OPTS=-Xmx1024M -XX:MaxPermSize=256M</p>\n</blockquote>\n\n<p>So make sure to not put quotes around the value you set for MAVEN_OPTS </p>\n"},{"tags":[],"owner":{"account_id":1920607,"reputation":1847,"user_id":1732222,"accept_rate":64,"display_name":"Micah Stubbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646262276,"creation_date":1646262276,"answer_id":71330219,"question_id":23787943,"body_markdown":"On MacOS a version of [@adriaan-koster](https://stackoverflow.com/users/181336/adriaan-koster)&#39;s [answer](https://stackoverflow.com/a/51192416/1732222) works. \r\n\r\nIn your `~/.zshrc` (or `.bashrc` or `.bash_profile`) config file add this line:\r\n\r\n```bash\r\nexport MAVEN_OPTS=&quot;-Xmx2G&quot;\r\n```\r\n\r\nTo test, run `mvn -v` again and verify that it prints the Maven version, Maven home location, and Java version.","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>On MacOS a version of <a href=\"https://stackoverflow.com/users/181336/adriaan-koster\">@adriaan-koster</a>'s <a href=\"https://stackoverflow.com/a/51192416/1732222\">answer</a> works.</p>\n<p>In your <code>~/.zshrc</code> (or <code>.bashrc</code> or <code>.bash_profile</code>) config file add this line:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export MAVEN_OPTS=&quot;-Xmx2G&quot;\n</code></pre>\n<p>To test, run <code>mvn -v</code> again and verify that it prints the Maven version, Maven home location, and Java version.</p>\n"}],"owner":{"account_id":4503574,"reputation":91,"user_id":3661538,"display_name":"metaphizix"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14098,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1646262276,"creation_date":1400686945,"question_id":23787943,"body_markdown":"I&#39;m having problems setting up maven. I&#39;m using windows 7 64 bit with 4 GB of RAM.\r\n\r\nI get this error when trying to run mvn:\r\n\r\n&lt;!-- language-all: none --&gt;\r\n\r\n    Invalid maximum heap size: -Xmx512m.\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nHere are my user variables:\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_55\r\n    \r\n    M2=%M2_HOME%\\bin\r\n    \r\n    M2_HOME=C:\\Program Files\\Apache Software Foundation\\apache-maven-3.2.1\r\n    \r\n    MAVEN_OPTS=-Xms256m -Xmx512m\r\n    \r\n    Path=%M2%;%JAVA_HOME%\\bin","title":"&quot;Invalid maximum heap size&quot; when running Maven","body":"<p>I'm having problems setting up maven. I'm using windows 7 64 bit with 4 GB of RAM.</p>\n\n<p>I get this error when trying to run mvn:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>Invalid maximum heap size: -Xmx512m.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>Here are my user variables:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>JAVA_HOME=C:\\Program Files\\Java\\jdk1.7.0_55\n\nM2=%M2_HOME%\\bin\n\nM2_HOME=C:\\Program Files\\Apache Software Foundation\\apache-maven-3.2.1\n\nMAVEN_OPTS=-Xms256m -Xmx512m\n\nPath=%M2%;%JAVA_HOME%\\bin\n</code></pre>\n"},{"tags":["java","android","annotations","javassist","bcel"],"comments":[{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1340063335,"post_id":11092573,"comment_id":14525450,"body_markdown":"What other classes reference them?  Why do you have those classes included in your Android app?","body":"What other classes reference them?  Why do you have those classes included in your Android app?"},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":0,"creation_date":1340064979,"post_id":11092573,"comment_id":14525764,"body_markdown":"i don&#39;t have control over the classes the reference the annotations unfortunately. they are referenced from another library.","body":"i don&#39;t have control over the classes the reference the annotations unfortunately. they are referenced from another library."},{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1340065995,"post_id":11092573,"comment_id":14525929,"body_markdown":"I am still curious, what is the library that references these classes?","body":"I am still curious, what is the library that references these classes?"},{"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"score":0,"creation_date":1340070503,"post_id":11092573,"comment_id":14526621,"body_markdown":"jackson. any class that iterates over the annotations of a class will cause the same problem.","body":"jackson. any class that iterates over the annotations of a class will cause the same problem."}],"answers":[{"tags":[],"owner":{"account_id":170362,"reputation":8745,"user_id":397016,"display_name":"John Watts"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1340074962,"creation_date":1340074962,"answer_id":11093841,"question_id":11092573,"body_markdown":"I recommend BCEL 6. You can also use ASM, but I hear BCEL is easier to use. Here is a quick test method for making a field final:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(F.class.getField(&quot;a&quot;).getModifiers());\r\n        JavaClass aClass = Repository.lookupClass(F.class);\r\n        ClassGen aGen = new ClassGen(aClass);\r\n        for (Field field : aGen.getFields()) {\r\n            if (field.getName().equals(&quot;a&quot;)) {\r\n                int mods = field.getModifiers();\r\n                field.setModifiers(mods | Modifier.FINAL);\r\n            }\r\n        }\r\n        final byte[] classBytes = aGen.getJavaClass().getBytes();\r\n        ClassLoader cl = new ClassLoader(null) {\r\n            @Override\r\n            protected synchronized Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n                return defineClass(&quot;F&quot;, classBytes, 0, classBytes.length);\r\n            }\r\n        };\r\n        Class&lt;?&gt; fWithoutDeprecated = cl.loadClass(&quot;F&quot;);\r\n        System.out.println(fWithoutDeprecated.getField(&quot;a&quot;).getModifiers());\r\n    }\r\n\r\nOf course, you would actually write your classes out to disk as files and then jar them up but this is easier for trying things out. I don&#39;t have BCEL 6 handy, so I can&#39;t modify this example to remove annotations, but I imagine the code would be something like:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ...\r\n        ClassGen aGen = new ClassGen(aClass);\r\n        aGen.setAttributes(cleanupAttributes(aGen.getAttributes()));\r\n        aGen.getFields();\r\n        for (Field field : aGen.getFields()) {\r\n            field.setAttributes(cleanupAttributes(field.getAttributes()));\r\n        }\r\n        for (Method method : aGen.getMethods()) {\r\n            method.setAttributes(cleanupAttributes(method.getAttributes()));\r\n        }\r\n        ...\r\n    }\r\n    \r\n    private Attribute[] cleanupAttributes(Attribute[] attributes) {\r\n        for (Attribute attribute : attributes) {\r\n            if (attribute instanceof Annotations) {\r\n                Annotations annotations = (Annotations) attribute;\r\n                if (annotations.isRuntimeVisible()) {\r\n                    AnnotationEntry[] entries = annotations.getAnnotationEntries();\r\n                    List&lt;AnnotationEntry&gt; newEntries = new ArrayList&lt;AnnotationEntry&gt;();\r\n                    for (AnnotationEntry entry : entries) {\r\n                        if (!entry.getAnnotationType().startsWith(&quot;javax&quot;)) {\r\n                            newEntries.add(entry);\r\n                        }\r\n                    }\r\n                    annotations.setAnnotationTable(newEntries);\r\n                }\r\n            }\r\n        }\r\n        return attributes;\r\n    }","title":"Post-compilation removal of annotations from byte code","body":"<p>I recommend BCEL 6. You can also use ASM, but I hear BCEL is easier to use. Here is a quick test method for making a field final:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    System.out.println(F.class.getField(\"a\").getModifiers());\n    JavaClass aClass = Repository.lookupClass(F.class);\n    ClassGen aGen = new ClassGen(aClass);\n    for (Field field : aGen.getFields()) {\n        if (field.getName().equals(\"a\")) {\n            int mods = field.getModifiers();\n            field.setModifiers(mods | Modifier.FINAL);\n        }\n    }\n    final byte[] classBytes = aGen.getJavaClass().getBytes();\n    ClassLoader cl = new ClassLoader(null) {\n        @Override\n        protected synchronized Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n            return defineClass(\"F\", classBytes, 0, classBytes.length);\n        }\n    };\n    Class&lt;?&gt; fWithoutDeprecated = cl.loadClass(\"F\");\n    System.out.println(fWithoutDeprecated.getField(\"a\").getModifiers());\n}\n</code></pre>\n\n<p>Of course, you would actually write your classes out to disk as files and then jar them up but this is easier for trying things out. I don't have BCEL 6 handy, so I can't modify this example to remove annotations, but I imagine the code would be something like:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    ...\n    ClassGen aGen = new ClassGen(aClass);\n    aGen.setAttributes(cleanupAttributes(aGen.getAttributes()));\n    aGen.getFields();\n    for (Field field : aGen.getFields()) {\n        field.setAttributes(cleanupAttributes(field.getAttributes()));\n    }\n    for (Method method : aGen.getMethods()) {\n        method.setAttributes(cleanupAttributes(method.getAttributes()));\n    }\n    ...\n}\n\nprivate Attribute[] cleanupAttributes(Attribute[] attributes) {\n    for (Attribute attribute : attributes) {\n        if (attribute instanceof Annotations) {\n            Annotations annotations = (Annotations) attribute;\n            if (annotations.isRuntimeVisible()) {\n                AnnotationEntry[] entries = annotations.getAnnotationEntries();\n                List&lt;AnnotationEntry&gt; newEntries = new ArrayList&lt;AnnotationEntry&gt;();\n                for (AnnotationEntry entry : entries) {\n                    if (!entry.getAnnotationType().startsWith(\"javax\")) {\n                        newEntries.add(entry);\n                    }\n                }\n                annotations.setAnnotationTable(newEntries);\n            }\n        }\n    }\n    return attributes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87652,"reputation":52646,"user_id":242930,"display_name":"Nikolay Elenkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340079598,"creation_date":1340079598,"answer_id":11094299,"question_id":11092573,"body_markdown":"ProGuard will also do this, in addition to obfuscating your code. ","title":"Post-compilation removal of annotations from byte code","body":"<p>ProGuard will also do this, in addition to obfuscating your code. </p>\n"},{"tags":[],"owner":{"account_id":1762104,"reputation":11,"user_id":1608931,"display_name":"Peter Fichtner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348822237,"creation_date":1345301762,"answer_id":12019561,"question_id":11092573,"body_markdown":"There is an additional AntTask [Purge Annotation References Ant Task](http://sourceforge.net/projects/purgeannorefs/), which\r\n\r\n&gt; Purge references to annotations out of the java bytecode/classfiles\r\n&gt; (remove the @Anno tag from annotated elements). Now you can use\r\n&gt; annotations to check constellations in bytecode after compilation but\r\n&gt; remove the used annos before releasing the jars.","title":"Post-compilation removal of annotations from byte code","body":"<p>There is an additional AntTask <a href=\"http://sourceforge.net/projects/purgeannorefs/\" rel=\"nofollow\">Purge Annotation References Ant Task</a>, which</p>\n\n<blockquote>\n  <p>Purge references to annotations out of the java bytecode/classfiles\n  (remove the @Anno tag from annotated elements). Now you can use\n  annotations to check constellations in bytecode after compilation but\n  remove the used annos before releasing the jars.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":485928,"reputation":1328,"user_id":902533,"display_name":"Mikalai Parafeniuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487238794,"creation_date":1487237014,"answer_id":42269690,"question_id":11092573,"body_markdown":"I have used [ByteBuddy][1] library to remove annotations. Unfortunately I was unable to remove annotation with high level api, so I used ASM api.  Here is example, how you can remove @Deprecated annotation from field of a class:\r\n\r\n    import net.bytebuddy.ByteBuddy;\r\n    import net.bytebuddy.asm.AsmVisitorWrapper;\r\n    import net.bytebuddy.description.field.FieldDescription;\r\n    import net.bytebuddy.description.type.TypeDescription;\r\n    import net.bytebuddy.jar.asm.AnnotationVisitor;\r\n    import net.bytebuddy.jar.asm.FieldVisitor;\r\n    import net.bytebuddy.jar.asm.Opcodes;\r\n    import net.bytebuddy.jar.asm.Type;\r\n    import net.bytebuddy.matcher.ElementMatchers;\r\n\r\n    import java.lang.annotation.Annotation;\r\n    import java.util.Arrays;\r\n\r\n    public class Test {\r\n\r\n        public static class Foo {\r\n            @Deprecated\r\n            public Integer bar;\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(&quot;Annotations before processing &quot; + getAnnotationsString(Foo.class));\r\n            Class&lt;? extends Foo&gt; modifiedClass = new ByteBuddy()\r\n                    .redefine(Foo.class)\r\n                    .visit(new AsmVisitorWrapper.ForDeclaredFields()\r\n                            .field(ElementMatchers.isAnnotatedWith(Deprecated.class),\r\n                                    new AsmVisitorWrapper.ForDeclaredFields.FieldVisitorWrapper() {\r\n                                        @Override\r\n                                        public FieldVisitor wrap(TypeDescription instrumentedType,\r\n                                                                 FieldDescription.InDefinedShape fieldDescription,\r\n                                                                 FieldVisitor fieldVisitor) {\r\n                                            return new FieldVisitor(Opcodes.ASM5, fieldVisitor) {\r\n                                                @Override\r\n                                                public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\r\n                                                    if (Type.getDescriptor(Deprecated.class).equals(desc)) {\r\n                                                        return null;\r\n                                                    }\r\n                                                    return super.visitAnnotation(desc, visible);\r\n                                                }\r\n                                            };\r\n                                        }\r\n                                    }))\r\n                    // can&#39;t use the same name, because Test$Foo is already loaded\r\n                    .name(&quot;Test$Foo1&quot;)\r\n                    .make()\r\n                    .load(Test.class.getClassLoader())\r\n                    .getLoaded();\r\n            System.out.println(&quot;Annotations after processing &quot; + getAnnotationsString(modifiedClass));\r\n        }\r\n\r\n        private static String getAnnotationsString(Class&lt;? extends  Foo&gt; clazz) throws NoSuchFieldException {\r\n            Annotation[] annotations = clazz.getDeclaredField(&quot;bar&quot;).getDeclaredAnnotations();\r\n            return Arrays.toString(annotations);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://bytebuddy.net/#/","title":"Post-compilation removal of annotations from byte code","body":"<p>I have used <a href=\"http://bytebuddy.net/#/\" rel=\"nofollow noreferrer\">ByteBuddy</a> library to remove annotations. Unfortunately I was unable to remove annotation with high level api, so I used ASM api.  Here is example, how you can remove @Deprecated annotation from field of a class:</p>\n\n<pre><code>import net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.asm.AsmVisitorWrapper;\nimport net.bytebuddy.description.field.FieldDescription;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.jar.asm.AnnotationVisitor;\nimport net.bytebuddy.jar.asm.FieldVisitor;\nimport net.bytebuddy.jar.asm.Opcodes;\nimport net.bytebuddy.jar.asm.Type;\nimport net.bytebuddy.matcher.ElementMatchers;\n\nimport java.lang.annotation.Annotation;\nimport java.util.Arrays;\n\npublic class Test {\n\n    public static class Foo {\n        @Deprecated\n        public Integer bar;\n    }\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(\"Annotations before processing \" + getAnnotationsString(Foo.class));\n        Class&lt;? extends Foo&gt; modifiedClass = new ByteBuddy()\n                .redefine(Foo.class)\n                .visit(new AsmVisitorWrapper.ForDeclaredFields()\n                        .field(ElementMatchers.isAnnotatedWith(Deprecated.class),\n                                new AsmVisitorWrapper.ForDeclaredFields.FieldVisitorWrapper() {\n                                    @Override\n                                    public FieldVisitor wrap(TypeDescription instrumentedType,\n                                                             FieldDescription.InDefinedShape fieldDescription,\n                                                             FieldVisitor fieldVisitor) {\n                                        return new FieldVisitor(Opcodes.ASM5, fieldVisitor) {\n                                            @Override\n                                            public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\n                                                if (Type.getDescriptor(Deprecated.class).equals(desc)) {\n                                                    return null;\n                                                }\n                                                return super.visitAnnotation(desc, visible);\n                                            }\n                                        };\n                                    }\n                                }))\n                // can't use the same name, because Test$Foo is already loaded\n                .name(\"Test$Foo1\")\n                .make()\n                .load(Test.class.getClassLoader())\n                .getLoaded();\n        System.out.println(\"Annotations after processing \" + getAnnotationsString(modifiedClass));\n    }\n\n    private static String getAnnotationsString(Class&lt;? extends  Foo&gt; clazz) throws NoSuchFieldException {\n        Annotation[] annotations = clazz.getDeclaredField(\"bar\").getDeclaredAnnotations();\n        return Arrays.toString(annotations);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":134964,"reputation":22313,"user_id":337455,"accept_rate":80,"display_name":"Jeffrey Blattman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3780,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":11093841,"answer_count":4,"score":12,"last_activity_date":1646261327,"creation_date":1340062806,"question_id":11092573,"body_markdown":"We are using a library that contains beans that are annotated with JAXB annotations. nothing in the way we use these classes depends on JAXB. in other words, we don&#39;t need JAXB and do not depend on the annotations.\r\n\r\nHowever, because the annotations exist, they end up being referenced by other classes that process annotations. This requires me to bundle JAXB in our application, which isn&#39;t allowed, because JAXB is in the `javax.*` package (Android doesn&#39;t allow &quot;core libraries&quot; to be included in your application).\r\n\r\nSo, with this in mind, I&#39;m looking for a way to remove the annotations from the compiled byte code. I know there are utilities for manipulating byte code, but this is quite new to me. How can I get started?\r\n","title":"Post-compilation removal of annotations from byte code","body":"<p>We are using a library that contains beans that are annotated with JAXB annotations. nothing in the way we use these classes depends on JAXB. in other words, we don't need JAXB and do not depend on the annotations.</p>\n<p>However, because the annotations exist, they end up being referenced by other classes that process annotations. This requires me to bundle JAXB in our application, which isn't allowed, because JAXB is in the <code>javax.*</code> package (Android doesn't allow &quot;core libraries&quot; to be included in your application).</p>\n<p>So, with this in mind, I'm looking for a way to remove the annotations from the compiled byte code. I know there are utilities for manipulating byte code, but this is quite new to me. How can I get started?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":16322449,"reputation":29,"user_id":11787904,"display_name":"greenTea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646261241,"creation_date":1646261241,"answer_id":71330072,"question_id":71329439,"body_markdown":"I solved this issue (it was silly).\r\n\r\n - I went into the Firebase database and noticed that there were some entries without a User Id.\r\n - These entries were already in there database before i started pushing user ids to the particular node.\r\n - I just deleted these bad entries and re-ran the app.","title":"How Can I Hide Button On Some Recycler View Rows For Only Some Users","body":"<p>I solved this issue (it was silly).</p>\n<ul>\n<li>I went into the Firebase database and noticed that there were some entries without a User Id.</li>\n<li>These entries were already in there database before i started pushing user ids to the particular node.</li>\n<li>I just deleted these bad entries and re-ran the app.</li>\n</ul>\n"}],"owner":{"account_id":16322449,"reputation":29,"user_id":11787904,"display_name":"greenTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646261241,"creation_date":1646256955,"question_id":71329439,"body_markdown":"Issue:\r\n- Currently, a user can write a post and it displays in a recycler view.\r\n- There is a menu button on each recycler view row where a user can edit/delete their post.\r\n- I don&#39;t want users who are not the authors of the post to be able to access this menu button.\r\n- I want the menu button hidden for everyone who is not the author of that post.\r\n\r\n- Below is part of my adapter\r\n- I know I&#39;m probably missing something very simple, but I just can not figure out what it is. Thank you so much for your help.\r\n\r\n````public class MainPostsAdapter extends FirebaseRecyclerAdapter&lt;MainWallModel, MainPostsAdapter.myviewholder&gt;\r\n{\r\n    private ArrayList&lt;MainWallModel&gt; mainwallPosts = new ArrayList&lt;&gt;();\r\n    private MainWallInterface mainWallInterface;\r\n    FirebaseAuth mAuth;\r\n    private FirebaseUser currentuser;\r\n\r\n    private String userID, currentUserID;\r\n\r\n    public  void updateMainPosts(ArrayList list) {\r\n        //this is used to update the adapter when new data is added, so it will show fresh data in the recyclerview.//\r\n        mainwallPosts .clear();\r\n        mainwallPosts .addAll(list);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n\r\n    public MainPostsAdapter(@NonNull FirebaseRecyclerOptions&lt;MainWallModel&gt; options) {\r\n        super(options);\r\n        currentuser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull MainWallModel model)\r\n    {\r\n\r\n        //MainWallModel mainWallModel = mainwallPosts.get(position);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        String currentUserId = mAuth.getCurrentUser().getUid();\r\n\r\n        holder.full_name.setText(model.getFirst_name());\r\n        holder.post_date.setText(model.getPost_date());\r\n        holder.post_body_text.setText(model.getPost_body_text());\r\n\r\n        holder.setData(model,mainWallInterface);\r\n\r\n/////////POINT OF ISSUE - APP CRASHES //////////////\r\n\r\n        String postAuthorId = model.getUser_id();\r\n        if(postAuthorId.equals(currentUserId)){\r\n            holder.kabobMenuButton.setVisibility(VISIBLE);\r\n\r\n        } else {\r\n            holder.kabobMenuButton.setVisibility(GONE);\r\n\r\n        }\r\n/////////POINT OF ISSUE - APP CRASHES //////////////\r\n\r\n","title":"How Can I Hide Button On Some Recycler View Rows For Only Some Users","body":"<p>Issue:</p>\n<ul>\n<li><p>Currently, a user can write a post and it displays in a recycler view.</p>\n</li>\n<li><p>There is a menu button on each recycler view row where a user can edit/delete their post.</p>\n</li>\n<li><p>I don't want users who are not the authors of the post to be able to access this menu button.</p>\n</li>\n<li><p>I want the menu button hidden for everyone who is not the author of that post.</p>\n</li>\n<li><p>Below is part of my adapter</p>\n</li>\n<li><p>I know I'm probably missing something very simple, but I just can not figure out what it is. Thank you so much for your help.</p>\n</li>\n</ul>\n<pre><code>{\n    private ArrayList&lt;MainWallModel&gt; mainwallPosts = new ArrayList&lt;&gt;();\n    private MainWallInterface mainWallInterface;\n    FirebaseAuth mAuth;\n    private FirebaseUser currentuser;\n\n    private String userID, currentUserID;\n\n    public  void updateMainPosts(ArrayList list) {\n        //this is used to update the adapter when new data is added, so it will show fresh data in the recyclerview.//\n        mainwallPosts .clear();\n        mainwallPosts .addAll(list);\n        notifyDataSetChanged();\n    }\n\n\n\n    public MainPostsAdapter(@NonNull FirebaseRecyclerOptions&lt;MainWallModel&gt; options) {\n        super(options);\n        currentuser = FirebaseAuth.getInstance().getCurrentUser();\n\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull MainWallModel model)\n    {\n\n        //MainWallModel mainWallModel = mainwallPosts.get(position);\n        mAuth = FirebaseAuth.getInstance();\n        String currentUserId = mAuth.getCurrentUser().getUid();\n\n        holder.full_name.setText(model.getFirst_name());\n        holder.post_date.setText(model.getPost_date());\n        holder.post_body_text.setText(model.getPost_body_text());\n\n        holder.setData(model,mainWallInterface);\n\n/////////POINT OF ISSUE - APP CRASHES //////////////\n\n        String postAuthorId = model.getUser_id();\n        if(postAuthorId.equals(currentUserId)){\n            holder.kabobMenuButton.setVisibility(VISIBLE);\n\n        } else {\n            holder.kabobMenuButton.setVisibility(GONE);\n\n        }\n/////////POINT OF ISSUE - APP CRASHES //////////////\n\n</code></pre>\n"},{"tags":["java","arrays","list","loops","combinations"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1646259463,"post_id":71329799,"comment_id":126082149,"body_markdown":"Use 3 nested loops.","body":"Use 3 nested loops."}],"answers":[{"tags":[],"owner":{"account_id":18264024,"reputation":50,"user_id":13296195,"display_name":"Frangu Mădălin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646261038,"creation_date":1646261038,"answer_id":71330050,"question_id":71329799,"body_markdown":"Create 3 nested loops that loop trough each element in the array.\r\nThen create a new array inside the nested loops.\r\nAccess the values from your array using the variable that you named in the loop as the index.\r\nShould look something like:\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n    // 2 more nested loops\r\n    // char[] combination = new char[]{array[i], array[j], array[k]};\r\n    }\r\n\r\nI&#39;m assuming that this is some kind of university assignment.\r\nQuick tip would be to always try to find the solution in pseudocode before writing the actual code.\r\nUnderstand the problem first, find a solution on paper even, and after that you can research on how to apply the solution using specific language syntax.\r\nThis snippet should be more than enough to get you going.","title":"Char combination with repetition in Java","body":"<p>Create 3 nested loops that loop trough each element in the array.\nThen create a new array inside the nested loops.\nAccess the values from your array using the variable that you named in the loop as the index.\nShould look something like:</p>\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n// 2 more nested loops\n// char[] combination = new char[]{array[i], array[j], array[k]};\n}\n</code></pre>\n<p>I'm assuming that this is some kind of university assignment.\nQuick tip would be to always try to find the solution in pseudocode before writing the actual code.\nUnderstand the problem first, find a solution on paper even, and after that you can research on how to apply the solution using specific language syntax.\nThis snippet should be more than enough to get you going.</p>\n"}],"owner":{"account_id":15003718,"reputation":11,"user_id":10830470,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646320817,"answer_count":1,"score":0,"last_activity_date":1646261038,"creation_date":1646259236,"question_id":71329799,"body_markdown":"sorry for the maybe trivial question, but taken an array of chars [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] I would like to get as an output a series of char arrays (also List are fine) listing all the 27 combinations, including of course the repetitions. For instance:\r\n\r\n    [&#39;a&#39;, &#39;a&#39;, &#39;c&#39;]\r\n    [&#39;a&#39;, &#39;a&#39;, &#39;a&#39;]\r\n    [&#39;c&#39;, &#39;a&#39;, &#39;b&#39;]\r\n\r\nand so on\r\n\r\ncould you please help me in the implementation? \r\n\r\nThank you in advance","title":"Char combination with repetition in Java","body":"<p>sorry for the maybe trivial question, but taken an array of chars ['a', 'b', 'c'] I would like to get as an output a series of char arrays (also List are fine) listing all the 27 combinations, including of course the repetitions. For instance:</p>\n<pre><code>['a', 'a', 'c']\n['a', 'a', 'a']\n['c', 'a', 'b']\n</code></pre>\n<p>and so on</p>\n<p>could you please help me in the implementation?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-mvc","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646259357,"creation_date":1645703282,"answer_id":71251483,"question_id":71250920,"body_markdown":"It works as follows, but don&#39;t know it that&#39;s the correct way:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class ReactiveWebFluxConfigurer {\r\n    \t@Value(&quot;${spring.mvc.contentnegotiation.parameter-name}&quot;)\r\n    \tprivate String formatName;\r\n    \r\n    \t@Bean\r\n\t    public WebFluxConfigurer webFluxConfigurer() {\r\n\t\t    return new WebFluxConfigurer() {\r\n\t\t\t    @Override\r\n\t\t\t    public void configureContentTypeResolver(RequestedContentTypeResolverBuilder builder) {\r\n\t\t\t\t    builder.parameterResolver().parameterName(formatName);\r\n\r\n                    //if you want, add additional fallback to Accept header if format param is missing\r\n\t\t\t\t    builder.headerResolver();\r\n\t\t\t    }\r\n\t\t    };\r\n\t    }\r\n    }\r\n\r\n","title":"How to use content negotation format parameter in Spring WebFlux?","body":"<p>It works as follows, but don't know it that's the correct way:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class ReactiveWebFluxConfigurer {\n    @Value(&quot;${spring.mvc.contentnegotiation.parameter-name}&quot;)\n    private String formatName;\n\n    @Bean\n    public WebFluxConfigurer webFluxConfigurer() {\n        return new WebFluxConfigurer() {\n            @Override\n            public void configureContentTypeResolver(RequestedContentTypeResolverBuilder builder) {\n                builder.parameterResolver().parameterName(formatName);\n\n                //if you want, add additional fallback to Accept header if format param is missing\n                builder.headerResolver();\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71251483,"answer_count":1,"score":0,"last_activity_date":1646259357,"creation_date":1645700488,"question_id":71250920,"body_markdown":"    spring.mvc.contentnegotiation.favor-parameter=true\r\n    spring.mvc.contentnegotiation.parameter-name=format\r\n\r\nHow can I use the content negotiation feature in spring `webflux`?\r\n\r\nSo that `/request?format=json` is possible beside `Accept` header.","title":"How to use content negotation format parameter in Spring WebFlux?","body":"<pre><code>spring.mvc.contentnegotiation.favor-parameter=true\nspring.mvc.contentnegotiation.parameter-name=format\n</code></pre>\n<p>How can I use the content negotiation feature in spring <code>webflux</code>?</p>\n<p>So that <code>/request?format=json</code> is possible beside <code>Accept</code> header.</p>\n"},{"tags":["java","android","assets","ondemand","app-bundle"],"comments":[{"owner":{"account_id":19638948,"reputation":592,"user_id":14375571,"display_name":"ZP007"},"score":0,"creation_date":1646023509,"post_id":65458733,"comment_id":126013922,"body_markdown":"Pretty comprehensive description here: https://medium.com/mindful-engineering/google-play-asset-delivery-in-android-dcc2059e5a63","body":"Pretty comprehensive description here: <a href=\"https://medium.com/mindful-engineering/google-play-asset-delivery-in-android-dcc2059e5a63\" rel=\"nofollow noreferrer\">medium.com/mindful-engineering/&hellip;</a>"},{"owner":{"account_id":439498,"reputation":199,"user_id":828465,"display_name":"gerardg"},"score":0,"creation_date":1646259955,"post_id":65458733,"comment_id":126082279,"body_markdown":"ZP007 provides a valid link. I did not use it because I had already implemented my solution (see below).","body":"ZP007 provides a valid link. I did not use it because I had already implemented my solution (see below)."}],"answers":[{"tags":[],"owner":{"account_id":439498,"reputation":199,"user_id":828465,"display_name":"gerardg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646259314,"creation_date":1646259314,"answer_id":71329817,"question_id":65458733,"body_markdown":"Google Play said I couldn&#39;t store assets in Internal storage &gt; Android &gt; obb anymore so I attempted to implement Asset Packs, failed, and wrote this question. I ended up simply installing each asset on Play Store as an app, and added the following to my help page. \r\n\r\nThere are NO songs in this app. ZERO. You have to load them from another app. There are currently four other apps that are associated with this app: Birding Via Mic New World, ... Old World, ... Orient Australasia, and ... North American Common.\r\n\r\nThese apps contain songs for their respective region (called YourRegion below) but no functionality other than supply this app with the songs they contain. You will need to install one (or more if desired) of these and transfer the songs to this app.\r\n\r\nIf you are running on Android Version 6.0 or greater, verify your permissions are turned on: Settings &gt; Applications &gt; Application Manager &gt; Birding Via Mic &gt; Permissions\r\n\r\nTo transfer the songs:\r\n1) Install this Birding Via Mic app.\r\n2) Install Birding Via Mic_YourRegion app.\r\n3) Open Birding Via Mic_YourRegion, tap Songs and verify a list of songs is displayed.\r\n4) In this Birding Via Mic app tap the Path button.\r\n5) On the Path screen select Birding Via Mic -- YourRegion.\r\n6) Tap the &quot;Load Now&quot; button.\r\nUninstall the Birding Via Mic_YourRegion app to recover memory.\r\n","title":"How can I load an Android asset pack on-demand using Java from the Google Play app bundle?","body":"<p>Google Play said I couldn't store assets in Internal storage &gt; Android &gt; obb anymore so I attempted to implement Asset Packs, failed, and wrote this question. I ended up simply installing each asset on Play Store as an app, and added the following to my help page.</p>\n<p>There are NO songs in this app. ZERO. You have to load them from another app. There are currently four other apps that are associated with this app: Birding Via Mic New World, ... Old World, ... Orient Australasia, and ... North American Common.</p>\n<p>These apps contain songs for their respective region (called YourRegion below) but no functionality other than supply this app with the songs they contain. You will need to install one (or more if desired) of these and transfer the songs to this app.</p>\n<p>If you are running on Android Version 6.0 or greater, verify your permissions are turned on: Settings &gt; Applications &gt; Application Manager &gt; Birding Via Mic &gt; Permissions</p>\n<p>To transfer the songs:</p>\n<ol>\n<li>Install this Birding Via Mic app.</li>\n<li>Install Birding Via Mic_YourRegion app.</li>\n<li>Open Birding Via Mic_YourRegion, tap Songs and verify a list of songs is displayed.</li>\n<li>In this Birding Via Mic app tap the Path button.</li>\n<li>On the Path screen select Birding Via Mic -- YourRegion.</li>\n<li>Tap the &quot;Load Now&quot; button.\nUninstall the Birding Via Mic_YourRegion app to recover memory.</li>\n</ol>\n"}],"owner":{"account_id":439498,"reputation":199,"user_id":828465,"display_name":"gerardg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1925,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1646259314,"creation_date":1609002362,"question_id":65458733,"body_markdown":"**How can I load an Android asset pack on-demand using Java from the Google Play app bundle?**&lt;br&gt;\r\nI have tried passing the parameter and hard coding it in AssetPackManager.\r\nI think my problem is associated with not understanding interface.\r\n\r\n**Some Links**\r\n\r\nhttps://developer.android.com/guide/playcore/asset-delivery/integrate-java&lt;br&gt;\r\nThe Play Core Java API provides the AssetPackManager class for requesting asset packs,\r\n    managing downloads, and accessing the assets.\r\nYou implement this API according to the delivery type of the asset pack you wish to access.\r\n\r\nhttps://developer.android.com/reference/com/google/android/play/core/assetpacks/AssetPackManager#getpacklocation&lt;br&gt;\r\n\r\n\r\n**My asset pack (SongsNW) structure is at the same level indent as app**\r\n\r\n        app  // my app\r\n            src\r\n               main\r\n                    java\r\n                    AndroidManifest.xml\r\n                build.gradle\r\n\r\n**My app level build.gradle (above) lists my AssetPacks**\r\n\r\n        android {\r\n            other {\r\n                ...\r\n            }\r\n            dynamicFeatures = [&#39;:....X&#39;, &#39;:SongsNW&#39;, &#39;:.....Y&#39;, &#39;:.....Z&#39;]\r\n        }\r\n        dependencies {\r\n            ....\r\n        }\r\n\t\r\n**My Asset Pack (SongsNW)**\r\n\r\n        SongsNW \r\n            src\r\n                main\r\n                    assets\r\n                        NW folder with assets\r\n                    AndroidManifest.xml\r\n                build.gradle\r\n        \r\n**My AndroidManifest.xml (under SongsNW above)**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:dist=&quot;http://schemas.android.com/apk/distribution&quot;\r\n            package=&quot;com.companyname.songsnw&quot;&gt;\r\n        \r\n            &lt;dist:module\r\n                dist:instant=&quot;false&quot;\r\n                dist:title=&quot;@string/title_songsnw&quot;&gt;\r\n                &lt;dist:delivery&gt;\r\n                    &lt;dist:on-demand/&gt;\r\n                &lt;/dist:delivery&gt;\r\n                &lt;dist:fusing dist:include=&quot;false&quot; /&gt;\r\n            &lt;/dist:module&gt;\r\n        &lt;/manifest&gt;\r\n\r\n**My build.gradle (under SongsNW above)**\r\n\r\n        apply plugin: &#39;com.android.asset-pack&#39;\r\n        \r\n        assetPack {\r\n            packName = &quot;SongsNW&quot; // Directory name for the asset pack\r\n            dynamicDelivery {\r\n                deliveryType = &quot;on-demand&quot;\r\n            }\r\n        }\r\n\r\n**LoadAssetPack.java (module)**\r\n\r\n        package com.companyname.appname;\r\n        \r\n        import android.util.Log;\r\n        import com.google.android.play.core.assetpacks.AssetPackLocation;\r\n        import com.google.android.play.core.assetpacks.AssetPackState;\r\n        import com.google.android.play.core.assetpacks.AssetPackStates;\r\n        import com.google.android.play.core.tasks.OnCompleteListener;\r\n        import com.google.android.play.core.tasks.RuntimeExecutionException;\r\n        import com.google.android.play.core.tasks.Task;\r\n        \r\n        import static android.content.ContentValues.TAG;\r\n        \r\n        \r\n        interface AssetPackManager {\r\n            // I am passing the assetPackName to here with this call:\r\n            // AssetPackLocation assetPackLocation = AssetPackManager.getPackLocation(&quot;SongsNW&quot;);\r\n            public static final String TAG = &quot;LoadAssetPack&quot;;\r\n            public static final String assetPackName = &quot;&quot;;\r\n            // public static final String assetPackName = &quot;SongsNW&quot;;\r\n            public static final AssetPackLocation assetPacklocation = null;\r\n\r\n            public static final AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\r\n\r\n            public static AssetPackLocation getPackLocation(String assetPackName) {\r\n                Log.d(TAG, &quot;in AssetPackManager assetPackName:&quot; + assetPackName);\r\n                        AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\r\n                Log.d(TAG, &quot;assetPackName:&quot; + assetPackName + &quot; assetPackLocation: &quot; + assetPackLocation );\r\n                return assetPackLocation;  // null if it isn&#39;t complete\r\n\r\n            }\r\n\r\n            // I need to run the following list, but first I need to understand what I am doing wrong.\r\n            AssetPackStates cancel (List&lt;String&gt; packNames)\r\n            Task&lt;AssetPackStates&gt; fetch (List&lt;String&gt; packNames)\r\n            Task&lt;AssetPackStates&gt; getPackStates (List&lt;String&gt; packNames)\r\n            void registerListener (AssetPackStateUpdateListener listener)\r\n            Task&lt;Void&gt; removePack (String packName)\r\n            Task&lt;Integer&gt; showCellularDataConfirmation (Activity activity)\r\n            void unregisterListener (AssetPackStateUpdateListener listener)\r\n        }\r\n\r\n\r\n**This is not the answer to the above question but I believe it defines the questions better.** \r\n\r\nFirst be able to see the original error message.&lt;br&gt;\r\nIncrease Android Studio Logcat buffer size to hold 16384 KB (Default 1024 KB)&lt;br&gt;\r\nFile &gt; Settings &gt; Editor &gt; General &gt; Console &gt; override console cycle buffer size.&lt;br&gt; then you can see the error at the top.&lt;br&gt;\r\n\r\n**message in Logcat:**&lt;br&gt;\r\nI/SystemServer: InitBeforeStartServices&lt;br&gt;\r\nW/YouTube: Fetching the Gservices key &#39;disable_binder_callback_flush&#39; before the end of the bulk initialization&lt;br&gt;\r\nW/Primes: Primes not initialized, returning default (no-op) Primes instance which will ignore all calls.&lt;br&gt;\r\nPlease call Primes.initialize(...) before using any Primes API.&lt;br&gt;\r\n\r\n**Google the above error provides:**&lt;br&gt;\r\nPlay Services tries to authenticate, closes the profile popup prematurely, fails #2362&lt;br&gt;\r\nhttps://github.com/playgameservices/play-games-plugin-for-unity/issues/2362\r\n\r\n**In the following comment they are discussing Google Play services.**&lt;br&gt;\r\n... The Web Client ID was the right way to go. Once I got that properly configured it did the trick. The part that wasn&#39;t intuitive was the redirect_uri. For anyone running into the same problem because the Google API Console isn&#39;t super intuitive: In the credentials section, under the Oauth consent screen tab, toward the bottom is an &quot;Authorized domains&quot; section. In order to add an Authorized domain, you need to type it into the box right below that says example.com.&lt;br&gt;\r\n\r\n**That brought up a lot of additional questions:**&lt;br&gt;\r\nWhat is the Web Client ID? Where is this credentials section? What is a redirect_uri? What is my Authorized domain? The real question is, Why am I trying to create and manage Google Cloud projects? The answer, I believe, is because that is where Google Play is storing my app bundle.\r\n\r\n**The answer to properly managing projects probably is in:**&lt;br&gt;\r\nhttps://cloud.google.com/resource-manager/docs/creating-managing-projects\r\n\r\n**I have found OAuth clients at**&lt;br&gt;\r\nGoogle Play Console &gt; Settings &gt; Developer account &gt; API access&lt;br&gt;\r\n\r\nSo, my question at this time is: &quot;What is the minimum I need to fill out in Google Play to Initialize the System Server. (Which is my first error statement).\r\n\r\n","title":"How can I load an Android asset pack on-demand using Java from the Google Play app bundle?","body":"<p><strong>How can I load an Android asset pack on-demand using Java from the Google Play app bundle?</strong><br>\nI have tried passing the parameter and hard coding it in AssetPackManager.\nI think my problem is associated with not understanding interface.</p>\n<p><strong>Some Links</strong></p>\n<p><a href=\"https://developer.android.com/guide/playcore/asset-delivery/integrate-java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/asset-delivery/integrate-java</a><br>\nThe Play Core Java API provides the AssetPackManager class for requesting asset packs,\nmanaging downloads, and accessing the assets.\nYou implement this API according to the delivery type of the asset pack you wish to access.</p>\n<p><a href=\"https://developer.android.com/reference/com/google/android/play/core/assetpacks/AssetPackManager#getpacklocation\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/com/google/android/play/core/assetpacks/AssetPackManager#getpacklocation</a><br></p>\n<p><strong>My asset pack (SongsNW) structure is at the same level indent as app</strong></p>\n<pre><code>    app  // my app\n        src\n           main\n                java\n                AndroidManifest.xml\n            build.gradle\n</code></pre>\n<p><strong>My app level build.gradle (above) lists my AssetPacks</strong></p>\n<pre><code>    android {\n        other {\n            ...\n        }\n        dynamicFeatures = [':....X', ':SongsNW', ':.....Y', ':.....Z']\n    }\n    dependencies {\n        ....\n    }\n</code></pre>\n<p><strong>My Asset Pack (SongsNW)</strong></p>\n<pre><code>    SongsNW \n        src\n            main\n                assets\n                    NW folder with assets\n                AndroidManifest.xml\n            build.gradle\n    \n</code></pre>\n<p><strong>My AndroidManifest.xml (under SongsNW above)</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:dist=&quot;http://schemas.android.com/apk/distribution&quot;\n        package=&quot;com.companyname.songsnw&quot;&gt;\n    \n        &lt;dist:module\n            dist:instant=&quot;false&quot;\n            dist:title=&quot;@string/title_songsnw&quot;&gt;\n            &lt;dist:delivery&gt;\n                &lt;dist:on-demand/&gt;\n            &lt;/dist:delivery&gt;\n            &lt;dist:fusing dist:include=&quot;false&quot; /&gt;\n        &lt;/dist:module&gt;\n    &lt;/manifest&gt;\n</code></pre>\n<p><strong>My build.gradle (under SongsNW above)</strong></p>\n<pre><code>    apply plugin: 'com.android.asset-pack'\n    \n    assetPack {\n        packName = &quot;SongsNW&quot; // Directory name for the asset pack\n        dynamicDelivery {\n            deliveryType = &quot;on-demand&quot;\n        }\n    }\n</code></pre>\n<p><strong>LoadAssetPack.java (module)</strong></p>\n<pre><code>    package com.companyname.appname;\n    \n    import android.util.Log;\n    import com.google.android.play.core.assetpacks.AssetPackLocation;\n    import com.google.android.play.core.assetpacks.AssetPackState;\n    import com.google.android.play.core.assetpacks.AssetPackStates;\n    import com.google.android.play.core.tasks.OnCompleteListener;\n    import com.google.android.play.core.tasks.RuntimeExecutionException;\n    import com.google.android.play.core.tasks.Task;\n    \n    import static android.content.ContentValues.TAG;\n    \n    \n    interface AssetPackManager {\n        // I am passing the assetPackName to here with this call:\n        // AssetPackLocation assetPackLocation = AssetPackManager.getPackLocation(&quot;SongsNW&quot;);\n        public static final String TAG = &quot;LoadAssetPack&quot;;\n        public static final String assetPackName = &quot;&quot;;\n        // public static final String assetPackName = &quot;SongsNW&quot;;\n        public static final AssetPackLocation assetPacklocation = null;\n\n        public static final AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\n\n        public static AssetPackLocation getPackLocation(String assetPackName) {\n            Log.d(TAG, &quot;in AssetPackManager assetPackName:&quot; + assetPackName);\n                    AssetPackLocation assetPackLocation = getPackLocation(assetPackName);\n            Log.d(TAG, &quot;assetPackName:&quot; + assetPackName + &quot; assetPackLocation: &quot; + assetPackLocation );\n            return assetPackLocation;  // null if it isn't complete\n\n        }\n\n        // I need to run the following list, but first I need to understand what I am doing wrong.\n        AssetPackStates cancel (List&lt;String&gt; packNames)\n        Task&lt;AssetPackStates&gt; fetch (List&lt;String&gt; packNames)\n        Task&lt;AssetPackStates&gt; getPackStates (List&lt;String&gt; packNames)\n        void registerListener (AssetPackStateUpdateListener listener)\n        Task&lt;Void&gt; removePack (String packName)\n        Task&lt;Integer&gt; showCellularDataConfirmation (Activity activity)\n        void unregisterListener (AssetPackStateUpdateListener listener)\n    }\n</code></pre>\n<p><strong>This is not the answer to the above question but I believe it defines the questions better.</strong></p>\n<p>First be able to see the original error message.<br>\nIncrease Android Studio Logcat buffer size to hold 16384 KB (Default 1024 KB)<br>\nFile &gt; Settings &gt; Editor &gt; General &gt; Console &gt; override console cycle buffer size.<br> then you can see the error at the top.<br></p>\n<p><strong>message in Logcat:</strong><br>\nI/SystemServer: InitBeforeStartServices<br>\nW/YouTube: Fetching the Gservices key 'disable_binder_callback_flush' before the end of the bulk initialization<br>\nW/Primes: Primes not initialized, returning default (no-op) Primes instance which will ignore all calls.<br>\nPlease call Primes.initialize(...) before using any Primes API.<br></p>\n<p><strong>Google the above error provides:</strong><br>\nPlay Services tries to authenticate, closes the profile popup prematurely, fails #2362<br>\n<a href=\"https://github.com/playgameservices/play-games-plugin-for-unity/issues/2362\" rel=\"nofollow noreferrer\">https://github.com/playgameservices/play-games-plugin-for-unity/issues/2362</a></p>\n<p><strong>In the following comment they are discussing Google Play services.</strong><br>\n... The Web Client ID was the right way to go. Once I got that properly configured it did the trick. The part that wasn't intuitive was the redirect_uri. For anyone running into the same problem because the Google API Console isn't super intuitive: In the credentials section, under the Oauth consent screen tab, toward the bottom is an &quot;Authorized domains&quot; section. In order to add an Authorized domain, you need to type it into the box right below that says example.com.<br></p>\n<p><strong>That brought up a lot of additional questions:</strong><br>\nWhat is the Web Client ID? Where is this credentials section? What is a redirect_uri? What is my Authorized domain? The real question is, Why am I trying to create and manage Google Cloud projects? The answer, I believe, is because that is where Google Play is storing my app bundle.</p>\n<p><strong>The answer to properly managing projects probably is in:</strong><br>\n<a href=\"https://cloud.google.com/resource-manager/docs/creating-managing-projects\" rel=\"nofollow noreferrer\">https://cloud.google.com/resource-manager/docs/creating-managing-projects</a></p>\n<p><strong>I have found OAuth clients at</strong><br>\nGoogle Play Console &gt; Settings &gt; Developer account &gt; API access<br></p>\n<p>So, my question at this time is: &quot;What is the minimum I need to fill out in Google Play to Initialize the System Server. (Which is my first error statement).</p>\n"},{"tags":["java","android","android-videoview"],"comments":[{"owner":{"account_id":2009443,"reputation":3774,"user_id":1798304,"accept_rate":92,"display_name":"MalaKa"},"score":0,"creation_date":1538908514,"post_id":52687639,"comment_id":92302441,"body_markdown":"Make `paused` a member variable.","body":"Make <code>paused</code> a member variable."},{"owner":{"account_id":13391028,"reputation":349,"user_id":9663390,"display_name":"compsciman"},"score":0,"creation_date":1538908572,"post_id":52687639,"comment_id":92302452,"body_markdown":"@MalaKa wouldn&#39;t I have to make `vidRight` a member variable too then? In my case it would not be possible.","body":"@MalaKa wouldn&#39;t I have to make <code>vidRight</code> a member variable too then? In my case it would not be possible."},{"owner":{"account_id":2009443,"reputation":3774,"user_id":1798304,"accept_rate":92,"display_name":"MalaKa"},"score":0,"creation_date":1538908836,"post_id":52687639,"comment_id":92302519,"body_markdown":"No, from what you posted, I don&#39;t think so. If you don&#39;t override the `vidRight` variable, it is effectively final (which is sufficient in java 8). But you do override the value of paused. So you need to make it a member variable.","body":"No, from what you posted, I don&#39;t think so. If you don&#39;t override the <code>vidRight</code> variable, it is effectively final (which is sufficient in java 8). But you do override the value of paused. So you need to make it a member variable."}],"answers":[{"tags":[],"owner":{"account_id":9259838,"reputation":1606,"user_id":6877321,"display_name":"Gratien Asimbahwe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538909870,"creation_date":1538909453,"answer_id":52687779,"question_id":52687639,"body_markdown":"Declare the &quot;paused&quot; variable as a member variable just like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class YourClassName extends AppCompatActivity implements YourInterfaces {\r\n        private boolean paused=false;\r\n        /* your other variables */\r\n          @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n\r\n            vidRight.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n                    @Override\r\n                    public boolean onTouch(View view, MotionEvent event) {\r\n                        if (paused) {\r\n                            vidRight.start();\r\n                            paused = false;\r\n                        }\r\n                        else {\r\n                            vidRight.stopPlayback();\r\n                            paused = true;\r\n                        }\r\n\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to add tap to play/pause to a VideoView?","body":"<p>Declare the \"paused\" variable as a member variable just like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class YourClassName extends AppCompatActivity implements YourInterfaces {\n    private boolean paused=false;\n    /* your other variables */\n      @Override\n    public void onCreate(Bundle savedInstanceState) {\n\n        vidRight.setOnTouchListener(new View.OnTouchListener() {\n\n                @Override\n                public boolean onTouch(View view, MotionEvent event) {\n                    if (paused) {\n                        vidRight.start();\n                        paused = false;\n                    }\n                    else {\n                        vidRight.stopPlayback();\n                        paused = true;\n                    }\n\n                    return true;\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8930357,"reputation":150,"user_id":6663184,"display_name":"Adarsh Yashvanth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539000825,"creation_date":1539000825,"answer_id":52702043,"question_id":52687639,"body_markdown":"You don&#39;t have to maintain a custom flag `paused` for checking the state. Instead you can use `isPlaying` to check if the video is currently playing or not.\r\n\r\n    vidRight.setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            if (vidRight.isPlaying()) {\r\n                vidRight.stopPlayback();\r\n             }\r\n             else {\r\n                vidRight.start();\r\n             }\r\n    \r\n             return true;\r\n        }\r\n    });","title":"How to add tap to play/pause to a VideoView?","body":"<p>You don't have to maintain a custom flag <code>paused</code> for checking the state. Instead you can use <code>isPlaying</code> to check if the video is currently playing or not.</p>\n\n<pre><code>vidRight.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        if (vidRight.isPlaying()) {\n            vidRight.stopPlayback();\n         }\n         else {\n            vidRight.start();\n         }\n\n         return true;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6364280,"reputation":583,"user_id":4938712,"accept_rate":75,"display_name":"Giovanny Pi&#241;eros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646259187,"creation_date":1646259187,"answer_id":71329791,"question_id":52687639,"body_markdown":"I&#39;ve manage to handle this by implementing this code: \r\n\r\n     if (videoView.isPlaying()) {\r\n            videoView.pause();\r\n         } else {\r\n            videoView.start();         \r\n         }\r\nI hope this will be usefull for someone. ","title":"How to add tap to play/pause to a VideoView?","body":"<p>I've manage to handle this by implementing this code:</p>\n<pre><code> if (videoView.isPlaying()) {\n        videoView.pause();\n     } else {\n        videoView.start();         \n     }\n</code></pre>\n<p>I hope this will be usefull for someone.</p>\n"}],"owner":{"account_id":13391028,"reputation":349,"user_id":9663390,"display_name":"compsciman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1646259187,"creation_date":1538908388,"question_id":52687639,"body_markdown":"I&#39;m trying to add video play/pause functionality into a chat that I&#39;m making, so I have a standard:\r\n\r\n    VideoView vidRight;\r\n    vidRight = v.findViewById(R.id.videoViewRight);\r\n\r\nHowever, trying to add a tap to play/pause with a listener is not possible as I would need to declare `paused` final:\r\n\r\n    boolean paused = false;\r\n    vidRight.setOnTouchListener(new View.OnTouchListener() {\r\n    \r\n        @Override\r\n        public boolean onTouch(View view, MotionEvent event) {\r\n            if (paused) {\r\n                vidRight.start();\r\n                paused = false;\r\n            }\r\n            else {\r\n                vidRight.stopPlayback();\r\n                paused = true;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    });\r\n\r\nIs there another way to do this?","title":"How to add tap to play/pause to a VideoView?","body":"<p>I'm trying to add video play/pause functionality into a chat that I'm making, so I have a standard:</p>\n\n<pre><code>VideoView vidRight;\nvidRight = v.findViewById(R.id.videoViewRight);\n</code></pre>\n\n<p>However, trying to add a tap to play/pause with a listener is not possible as I would need to declare <code>paused</code> final:</p>\n\n<pre><code>boolean paused = false;\nvidRight.setOnTouchListener(new View.OnTouchListener() {\n\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n        if (paused) {\n            vidRight.start();\n            paused = false;\n        }\n        else {\n            vidRight.stopPlayback();\n            paused = true;\n        }\n\n        return true;\n    }\n});\n</code></pre>\n\n<p>Is there another way to do this?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1447980356,"creation_date":1447980356,"answer_id":33817107,"question_id":33817045,"body_markdown":"The [javadoc of `JsonObject`][1] states\r\n\r\n&gt; `JsonObject` class represents an **immutable** JSON object value (an\r\n&gt; unordered collection of zero or more name/value pairs). It also\r\n&gt; provides unmodifiable map view to the JSON object name/value mappings.\r\n\r\nYou can&#39;t modify these objects. \r\n\r\nYou&#39;ll need to create a copy. There doesn&#39;t seem to be a direct way to do that. It looks like you&#39;ll need to use `Json.createObjectBuilder()` and build it yourself (see the example in the javadoc linked).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>The <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"noreferrer\">javadoc of <code>JsonObject</code></a> states</p>\n\n<blockquote>\n  <p><code>JsonObject</code> class represents an <strong>immutable</strong> JSON object value (an\n  unordered collection of zero or more name/value pairs). It also\n  provides unmodifiable map view to the JSON object name/value mappings.</p>\n</blockquote>\n\n<p>You can't modify these objects. </p>\n\n<p>You'll need to create a copy. There doesn't seem to be a direct way to do that. It looks like you'll need to use <code>Json.createObjectBuilder()</code> and build it yourself (see the example in the javadoc linked).</p>\n"},{"tags":[],"owner":{"account_id":11500951,"reputation":101,"user_id":8428764,"display_name":"Lubos Prague"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591170816,"creation_date":1591170816,"answer_id":62167824,"question_id":33817045,"body_markdown":"As answered by Sotirios, you can use JsonObjectBuilders.\r\nTo insert value into JsonObject, you can use method:\r\n\r\n    private JsonObject insertValue(JsonObject source, String key, String value) {\r\n        JsonObjectBuilder builder = Json.createObjectBuilder();\r\n        builder.add(key, value);\r\n        source.entrySet().\r\n                forEach(e -&gt; builder.add(e.getKey(), e.getValue()));\r\n        return builder.build();\r\n    }\r\n\r\nTo insert JsonObject into JsonObject, you can use method:\r\n\r\n    private JsonObject insertObject(JsonObject parent, JsonObject child, String childName) {\r\n        JsonObjectBuilder child_builder = Json.createObjectBuilder();\r\n        JsonObjectBuilder parent_builder = Json.createObjectBuilder();\r\n        parent.entrySet().\r\n                forEach(e -&gt; parent_builder.add(e.getKey(), e.getValue()));\r\n        child.entrySet().\r\n                forEach(e -&gt; child_builder.add(e.getKey(), e.getValue()));\r\n        parent_builder.add(childName, child_builder);\r\n        return parent_builder.build();\r\n    }\r\n\r\nPlease note, if you change the child JsonObject after inserting it into another &quot;parent&quot; JsonObject, it will have no effect on the &quot;parent&quot; JsonObject.\r\n","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>As answered by Sotirios, you can use JsonObjectBuilders.\nTo insert value into JsonObject, you can use method:</p>\n\n<pre><code>private JsonObject insertValue(JsonObject source, String key, String value) {\n    JsonObjectBuilder builder = Json.createObjectBuilder();\n    builder.add(key, value);\n    source.entrySet().\n            forEach(e -&gt; builder.add(e.getKey(), e.getValue()));\n    return builder.build();\n}\n</code></pre>\n\n<p>To insert JsonObject into JsonObject, you can use method:</p>\n\n<pre><code>private JsonObject insertObject(JsonObject parent, JsonObject child, String childName) {\n    JsonObjectBuilder child_builder = Json.createObjectBuilder();\n    JsonObjectBuilder parent_builder = Json.createObjectBuilder();\n    parent.entrySet().\n            forEach(e -&gt; parent_builder.add(e.getKey(), e.getValue()));\n    child.entrySet().\n            forEach(e -&gt; child_builder.add(e.getKey(), e.getValue()));\n    parent_builder.add(childName, child_builder);\n    return parent_builder.build();\n}\n</code></pre>\n\n<p>Please note, if you change the child JsonObject after inserting it into another \"parent\" JsonObject, it will have no effect on the \"parent\" JsonObject.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632922718,"creation_date":1632922718,"answer_id":69377547,"question_id":33817045,"body_markdown":"**JsonObject is immutable** so you cannot modify the object , you can use this example and try to inspire from it : creation of a new JsonObject who contains the same values and add some elements to it ..\r\n\r\n**Example :**\r\n\r\n             \r\n            import java.io.ByteArrayInputStream;\r\n            import java.io.InputStream;\r\n\r\n            import javax.json.Json;\r\n            import javax.json.JsonArray;\r\n            import javax.json.JsonArrayBuilder;\r\n            import javax.json.JsonObject;\r\n            import javax.json.JsonObjectBuilder;\r\n            import javax.json.JsonReader;\r\n            import javax.json.JsonValue;\r\n \r\n\r\n            public class Jsonizer {\r\n\t        public static void main(String[] args) {\r\n\r\n \t\ttry {\r\n\t\t\tString s = &quot;{\\&quot;persons\\&quot;: [ {\\&quot;name\\&quot;:\\&quot;oussama\\&quot;,\\&quot;age\\&quot;:\\&quot;30\\&quot;}, {\\&quot;name\\&quot;:\\&quot;amine\\&quot;,\\&quot;age\\&quot;:\\&quot;25\\&quot;} ]}&quot;;\r\n\t\t\tInputStream is = new ByteArrayInputStream(s.getBytes());\r\n\t\t\tJsonReader jr = Json.createReader(is);\r\n\t\t\tJsonObject jo = jr.readObject();\r\n\t\t\tSystem.out.println(&quot;Before :&quot;);\r\n\t\t\tSystem.out.println(jo);\r\n\t\t\tJsonArray ja = jo.getJsonArray(&quot;persons&quot;);\r\n \r\n\t\t\tInputStream targetStream = new ByteArrayInputStream(&quot;{\\&quot;name\\&quot;:\\&quot;sami\\&quot;,\\&quot;age\\&quot;:\\&quot;50\\&quot;}&quot;.getBytes());\r\n\t\t\tjr = Json.createReader(targetStream);\r\n\t\t\tJsonObject newJo = jr.readObject();\r\n\t\t\tJsonArrayBuilder jsonArraybuilder = Json.createArrayBuilder();\r\n\t\t\tjsonArraybuilder.add(newJo);\r\n\t\t\t\r\n\t\t\tfor (JsonValue jValue : ja) {\r\n\t\t\t\tjsonArraybuilder.add(jValue);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tja = jsonArraybuilder.build();\r\n\t\t\tJsonObjectBuilder jsonObjectBuilder = Json.createObjectBuilder();\r\n\t\t\tjsonObjectBuilder.add(&quot;persons&quot;, ja);\r\n\t\t\tJsonObject jsonAfterAdd = jsonObjectBuilder.build();\r\n\t\t\tSystem.out.println(&quot;After&quot;);\r\n\t\t\tSystem.out.println(jsonAfterAdd.toString());\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t  }\r\n     }\r\n\r\n\r\n**Output :**\r\n\r\n           Before :\r\n           {&quot;persons&quot;:[{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\r\n           After\r\n           {&quot;persons&quot;:[{&quot;name&quot;:&quot;sami&quot;,&quot;age&quot;:&quot;50&quot;},{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\r\n\r\n","title":"How to Modify a javax.json.JsonObject Object?","body":"<p><strong>JsonObject is immutable</strong> so you cannot modify the object , you can use this example and try to inspire from it : creation of a new JsonObject who contains the same values and add some elements to it ..</p>\n<p><strong>Example :</strong></p>\n<pre><code>        import java.io.ByteArrayInputStream;\n        import java.io.InputStream;\n\n        import javax.json.Json;\n        import javax.json.JsonArray;\n        import javax.json.JsonArrayBuilder;\n        import javax.json.JsonObject;\n        import javax.json.JsonObjectBuilder;\n        import javax.json.JsonReader;\n        import javax.json.JsonValue;\n\n\n        public class Jsonizer {\n        public static void main(String[] args) {\n\n    try {\n        String s = &quot;{\\&quot;persons\\&quot;: [ {\\&quot;name\\&quot;:\\&quot;oussama\\&quot;,\\&quot;age\\&quot;:\\&quot;30\\&quot;}, {\\&quot;name\\&quot;:\\&quot;amine\\&quot;,\\&quot;age\\&quot;:\\&quot;25\\&quot;} ]}&quot;;\n        InputStream is = new ByteArrayInputStream(s.getBytes());\n        JsonReader jr = Json.createReader(is);\n        JsonObject jo = jr.readObject();\n        System.out.println(&quot;Before :&quot;);\n        System.out.println(jo);\n        JsonArray ja = jo.getJsonArray(&quot;persons&quot;);\n\n        InputStream targetStream = new ByteArrayInputStream(&quot;{\\&quot;name\\&quot;:\\&quot;sami\\&quot;,\\&quot;age\\&quot;:\\&quot;50\\&quot;}&quot;.getBytes());\n        jr = Json.createReader(targetStream);\n        JsonObject newJo = jr.readObject();\n        JsonArrayBuilder jsonArraybuilder = Json.createArrayBuilder();\n        jsonArraybuilder.add(newJo);\n        \n        for (JsonValue jValue : ja) {\n            jsonArraybuilder.add(jValue);\n        }\n        \n        ja = jsonArraybuilder.build();\n        JsonObjectBuilder jsonObjectBuilder = Json.createObjectBuilder();\n        jsonObjectBuilder.add(&quot;persons&quot;, ja);\n        JsonObject jsonAfterAdd = jsonObjectBuilder.build();\n        System.out.println(&quot;After&quot;);\n        System.out.println(jsonAfterAdd.toString());\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n  }\n }\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>       Before :\n       {&quot;persons&quot;:[{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\n       After\n       {&quot;persons&quot;:[{&quot;name&quot;:&quot;sami&quot;,&quot;age&quot;:&quot;50&quot;},{&quot;name&quot;:&quot;oussama&quot;,&quot;age&quot;:&quot;30&quot;},{&quot;name&quot;:&quot;amine&quot;,&quot;age&quot;:&quot;25&quot;}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646258989,"creation_date":1646258989,"answer_id":71329761,"question_id":33817045,"body_markdown":"Try using the simple JSONObject, not javax.\r\n\r\n`import org.json.JSONObject;`\r\n\r\nYou can download the jar or include it in your maven or gradle like so:\r\n\r\n    dependencies {\r\n      compile group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n    }\r\n\r\nalso see:\r\nhttps://stackoverflow.com/questions/11587001/creating-json-string-using-jsonobject-and-jsonarray","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>Try using the simple JSONObject, not javax.</p>\n<p><code>import org.json.JSONObject;</code></p>\n<p>You can download the jar or include it in your maven or gradle like so:</p>\n<pre><code>dependencies {\n  compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n}\n</code></pre>\n<p>also see:\n<a href=\"https://stackoverflow.com/questions/11587001/creating-json-string-using-jsonobject-and-jsonarray\">creating json string using JSONObject and JSONArray</a></p>\n"}],"owner":{"account_id":360835,"reputation":1802,"user_id":703061,"accept_rate":79,"display_name":"wayfare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8231,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1646258989,"creation_date":1447979983,"question_id":33817045,"body_markdown":"I am coding a feature in which I read and write back json. However I can read the json elements from a file but can&#39;t edit the same loaded object. Here is my code which I am working on. \n\n``` java\nInputStream inp = new FileInputStream(jsonFilePath);\nJsonReader reader = Json.createReader(inp);\n\nJsonArray employeesArr = reader.readArray();\nfor (int i = 0; i &lt; 2; i++) {\n    JsonObject jObj = employeesArr.getJsonObject(i);\n    JsonObject teammanager = jObj.getJsonObject(&quot;manager&quot;);\n\n    Employee manager = new Employee();\n    manager.name = teammanager.getString(&quot;name&quot;);\n    manager.emailAddress = teammanager.getString(&quot;email&quot;);\n    System.out.println(&quot;uploading File &quot; + listOfFiles[i].getName());\n    File file  = insertFile(...);\n    JsonObject tmpJsonValue = Json.createObjectBuilder()\n        .add(&quot;fileId&quot;, file.getId())\n        .add(&quot;alternativeLink&quot;, file.getAlternateLink())\n        .build();\n\n    jObj.put(&quot;alternativeLink&quot;, tmpJsonValue.get(&quot;alternativeLink&quot;));  &lt;-- fails here \n}\n```\n\nI get the following exception when I run it. \n\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\n&gt;\n&gt;  at java.util.AbstractMap.put(AbstractMap.java:203)\n&gt;\n&gt;  at com.mongodb.okr.DriveQuickstart.uploadAllFiles(DriveQuickstart.java:196)\n&gt;\n&gt;  at com.mongodb.okr.App.main(App.java:28)\n","title":"How to Modify a javax.json.JsonObject Object?","body":"<p>I am coding a feature in which I read and write back json. However I can read the json elements from a file but can't edit the same loaded object. Here is my code which I am working on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream inp = new FileInputStream(jsonFilePath);\nJsonReader reader = Json.createReader(inp);\n\nJsonArray employeesArr = reader.readArray();\nfor (int i = 0; i &lt; 2; i++) {\n    JsonObject jObj = employeesArr.getJsonObject(i);\n    JsonObject teammanager = jObj.getJsonObject(&quot;manager&quot;);\n\n    Employee manager = new Employee();\n    manager.name = teammanager.getString(&quot;name&quot;);\n    manager.emailAddress = teammanager.getString(&quot;email&quot;);\n    System.out.println(&quot;uploading File &quot; + listOfFiles[i].getName());\n    File file  = insertFile(...);\n    JsonObject tmpJsonValue = Json.createObjectBuilder()\n        .add(&quot;fileId&quot;, file.getId())\n        .add(&quot;alternativeLink&quot;, file.getAlternateLink())\n        .build();\n\n    jObj.put(&quot;alternativeLink&quot;, tmpJsonValue.get(&quot;alternativeLink&quot;));  &lt;-- fails here \n}\n</code></pre>\n<p>I get the following exception when I run it.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</p>\n<p>at java.util.AbstractMap.put(AbstractMap.java:203)</p>\n<p>at com.mongodb.okr.DriveQuickstart.uploadAllFiles(DriveQuickstart.java:196)</p>\n<p>at com.mongodb.okr.App.main(App.java:28)</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1646258150,"post_id":71319520,"comment_id":126081759,"body_markdown":"You might consider starting with a simple working sample like https://github.com/spring-projects/spring-security-samples/blob/main/servlet/java-configuration/authentication/remember-me/src/main/java/example/SecurityConfiguration.java","body":"You might consider starting with a simple working sample like <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/servlet/java-configuration/authentication/remember-me/src/main/java/example/SecurityConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security-samples/blob/main&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10362225,"reputation":11,"user_id":7642362,"display_name":"Arpan Shingala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646258517,"creation_date":1646258517,"answer_id":71329686,"question_id":71319520,"body_markdown":"To implement your own logic for authentication, you need to extend WebSecurityConfigurerAdapter and override configure method.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    private final MyUserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService)\r\n                .passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(UNPROTECTED_RESOURCES);\r\n    }\r\n\r\n    @Autowired\r\n    public WebSecurityConfiguration(BCryptPasswordEncoder bCryptPasswordEncoder, MyUserDetailsService userDetailsService) {\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n    }\r\n\r\n\r\nCustom login logic class:\r\n\r\n    @Service\r\n    public class MyUserDetailsService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Override\r\n    @Transactional\r\n    public UserDetails loadUserByUsername(String userName) {\r\n        User user = userService.findUserByUserName(userName);\r\n        List&lt;GrantedAuthority&gt; authorities = getUserAuthority(user.getRoles());\r\n        return buildUserForAuthentication(user, authorities);\r\n    }\r\n\r\n    private List&lt;GrantedAuthority&gt; getUserAuthority(Set&lt;Role&gt; userRoles) {\r\n        Set&lt;GrantedAuthority&gt; roles = new HashSet&lt;&gt;();\r\n        for (Role role : userRoles) {\r\n            roles.add(new SimpleGrantedAuthority(role.getRole()));\r\n        }\r\n        return new ArrayList&lt;&gt;(roles);\r\n    }\r\n\r\n    private UserDetails buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\r\n        return new org.springframework.security.core.userdetails.User(user.getUserName(), user.getPassword(),\r\n                user.getActive(), true, true, true, authorities);\r\n    }\r\n    }\r\n    \r\nHere is an existing [example][1] I could find for you.\r\n\r\n\r\n\r\n  [1]: https://hellokoding.com/spring-security-login-logout-thymeleaf/","title":"Custom login does not override default login spring boot","body":"<p>To implement your own logic for authentication, you need to extend WebSecurityConfigurerAdapter and override configure method.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\nprivate final MyUserDetailsService userDetailsService;\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService)\n            .passwordEncoder(bCryptPasswordEncoder);\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(UNPROTECTED_RESOURCES);\n}\n\n@Autowired\npublic WebSecurityConfiguration(BCryptPasswordEncoder bCryptPasswordEncoder, MyUserDetailsService userDetailsService) {\n    this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    this.userDetailsService = userDetailsService;\n}\n}\n</code></pre>\n<p>Custom login logic class:</p>\n<pre><code>@Service\npublic class MyUserDetailsService implements UserDetailsService {\n\n@Autowired\nprivate UserService userService;\n\n@Override\n@Transactional\npublic UserDetails loadUserByUsername(String userName) {\n    User user = userService.findUserByUserName(userName);\n    List&lt;GrantedAuthority&gt; authorities = getUserAuthority(user.getRoles());\n    return buildUserForAuthentication(user, authorities);\n}\n\nprivate List&lt;GrantedAuthority&gt; getUserAuthority(Set&lt;Role&gt; userRoles) {\n    Set&lt;GrantedAuthority&gt; roles = new HashSet&lt;&gt;();\n    for (Role role : userRoles) {\n        roles.add(new SimpleGrantedAuthority(role.getRole()));\n    }\n    return new ArrayList&lt;&gt;(roles);\n}\n\nprivate UserDetails buildUserForAuthentication(User user, List&lt;GrantedAuthority&gt; authorities) {\n    return new org.springframework.security.core.userdetails.User(user.getUserName(), user.getPassword(),\n            user.getActive(), true, true, true, authorities);\n}\n}\n</code></pre>\n<p>Here is an existing <a href=\"https://hellokoding.com/spring-security-login-logout-thymeleaf/\" rel=\"nofollow noreferrer\">example</a> I could find for you.</p>\n"}],"owner":{"account_id":22294782,"reputation":1051,"user_id":16520980,"display_name":"etranz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646258517,"creation_date":1646209675,"question_id":71319520,"body_markdown":"I am working on an application with spring boot and thymeleaf\r\n\r\nI want to override the default login with my custom login \r\n\r\nbut it is redirects me to default login page\r\n\r\nTemplateController\r\n\r\n    @Controller\r\n    public class TemplateController {\r\n    \r\n    \t@GetMapping(&quot;/login&quot;)\r\n    \tpublic String getLoginView() {\r\n    \t\treturn &quot;login&quot;;\r\n    \t}\r\n    }\r\n\r\nApplicationSecurityConfig\r\n\r\n     http\r\n\t\t\t.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;)\r\n\t\t\t.permitAll()\r\n\t\t\t.antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\r\n\t\t\t.antMatchers(&quot;/admin/api/**&quot;).hasRole(ADMIN.name())\r\n\t\t\t.antMatchers(&quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMINTRAINEE.name())\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t.loginPage(&quot;/login&quot;).permitAll();\r\n\r\n\r\nProject structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QIgBj.png","title":"Custom login does not override default login spring boot","body":"<p>I am working on an application with spring boot and thymeleaf</p>\n<p>I want to override the default login with my custom login</p>\n<p>but it is redirects me to default login page</p>\n<p>TemplateController</p>\n<pre><code>@Controller\npublic class TemplateController {\n\n    @GetMapping(&quot;/login&quot;)\n    public String getLoginView() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>ApplicationSecurityConfig</p>\n<pre><code> http\n        .csrf().disable()\n        .authorizeRequests()\n        .antMatchers(&quot;/&quot;, &quot;index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;)\n        .permitAll()\n        .antMatchers(&quot;/api/**&quot;).hasRole(STUDENT.name())\n        .antMatchers(&quot;/admin/api/**&quot;).hasRole(ADMIN.name())\n        .antMatchers(&quot;/management/api/**&quot;).hasAnyRole(ADMIN.name(), ADMINTRAINEE.name())\n        .anyRequest()\n        .authenticated()\n        .and()\n        .formLogin()\n        .loginPage(&quot;/login&quot;).permitAll();\n</code></pre>\n<p>Project structure</p>\n<p><a href=\"https://i.stack.imgur.com/QIgBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIgBj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","parallel-processing"],"answers":[{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646258503,"creation_date":1646258503,"answer_id":71329684,"question_id":71329607,"body_markdown":"Use an ExecutorService and submit it tasks to run in parallel:\r\n    \r\n    ExecutorService execServ = Executors.newFixedThreadPool(numThreads);\r\n    final List&lt;BulkResponse&gt; bulkResponseList = new ArrayList&lt;&gt;();\r\n    int BULK_SUBREQUEST_SIZE = 5;\r\n\r\n    for (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\r\n        List&lt;InfoRequest&gt; infoRequestChunk;\r\n        if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\r\n            infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\r\n        } else {\r\n            infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\r\n        }\r\n        BulkRequest bulkRequestChunk = new BulkRequest();\r\n        bulkRequestChunk.setRequests(infoRequestChunk);\r\n        execServ.submit(() -&gt; {\r\n            BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\r\n            bulkResponseList.add(bulkResponseChunk);\r\n        });\r\n    }\r\n    execServ.shutdown();\r\n    try {\r\n        execServ.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\r\n    } catch (InterruptedException e) {\r\n        \r\n    }","title":"Java how to call a method in parallel passing chunked data","body":"<p>Use an ExecutorService and submit it tasks to run in parallel:</p>\n<pre><code>ExecutorService execServ = Executors.newFixedThreadPool(numThreads);\nfinal List&lt;BulkResponse&gt; bulkResponseList = new ArrayList&lt;&gt;();\nint BULK_SUBREQUEST_SIZE = 5;\n\nfor (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\n    List&lt;InfoRequest&gt; infoRequestChunk;\n    if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\n        infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\n    } else {\n        infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\n    }\n    BulkRequest bulkRequestChunk = new BulkRequest();\n    bulkRequestChunk.setRequests(infoRequestChunk);\n    execServ.submit(() -&gt; {\n        BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\n        bulkResponseList.add(bulkResponseChunk);\n    });\n}\nexecServ.shutdown();\ntry {\n    execServ.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n} catch (InterruptedException e) {\n    \n}\n</code></pre>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329684,"answer_count":1,"score":0,"last_activity_date":1646258503,"creation_date":1646258049,"question_id":71329607,"body_markdown":"I have an API call that can only accept 5 subrequests at a time. So I need to chunkify if more than 10 subrequests come in and then send them in parallel as per the SLA.\r\n\r\nBelow is a nonparallel chunkified code and I am looking to parallelize this call `invokeService(bulkRequestChunk)`\r\n\r\n```\r\n int BULK_SUBREQUEST_SIZE = 5;\r\n // infoRequestList size = 7\r\n for (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\r\n                List&lt;InfoRequest&gt; infoRequestChunk;\r\n                if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\r\n                    infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\r\n                } else {\r\n                    infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\r\n                }\r\n                BulkRequest bulkRequestChunk = new BulkRequest();\r\n                bulkRequestChunk.setRequests(infoRequestChunk);\r\n                BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\r\n\r\n                // output list to capture all chunked requests\r\n                bulkResponseList.add(bulkResponseChunk); \r\n            }\r\n\r\n```","title":"Java how to call a method in parallel passing chunked data","body":"<p>I have an API call that can only accept 5 subrequests at a time. So I need to chunkify if more than 10 subrequests come in and then send them in parallel as per the SLA.</p>\n<p>Below is a nonparallel chunkified code and I am looking to parallelize this call <code>invokeService(bulkRequestChunk)</code></p>\n<pre><code> int BULK_SUBREQUEST_SIZE = 5;\n // infoRequestList size = 7\n for (int i = 0; i &lt; numOfSubRequests; i += BULK_SUBREQUEST_SIZE) {\n                List&lt;InfoRequest&gt; infoRequestChunk;\n                if (i + BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\n                    infoRequestChunk = infoRequestList.subList(i, numOfSubRequests);\n                } else {\n                    infoRequestChunk = infoRequestList.subList(i, i + BULK_SUBREQUEST_SIZE);\n                }\n                BulkRequest bulkRequestChunk = new BulkRequest();\n                bulkRequestChunk.setRequests(infoRequestChunk);\n                BulkResponse bulkResponseChunk = invokeService(bulkRequestChunk);\n\n                // output list to capture all chunked requests\n                bulkResponseList.add(bulkResponseChunk); \n            }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646254835,"creation_date":1646254835,"answer_id":71329081,"question_id":71327227,"body_markdown":"I&#39;m not certain how your project is arranged, but no, it&#39;s not intentional. You can take a look at [Spring Security&#39;s Reactive Sample][1] that demonstrates this.\r\n\r\nIt may be that your `TestClass` is not finding the `@SpringBootConfiguration` annotation attached to `MainApp`.\r\n\r\n  [1]: https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/hello-security/src/test/java/example/HelloSecurityTests.java","title":"How to load ServerHttpSecurity in @SpringBootTest?","body":"<p>I'm not certain how your project is arranged, but no, it's not intentional. You can take a look at <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/reactive/webflux/java/hello-security/src/test/java/example/HelloSecurityTests.java\" rel=\"nofollow noreferrer\">Spring Security's Reactive Sample</a> that demonstrates this.</p>\n<p>It may be that your <code>TestClass</code> is not finding the <code>@SpringBootConfiguration</code> annotation attached to <code>MainApp</code>.</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646258453,"creation_date":1646258105,"answer_id":71329619,"question_id":71327227,"body_markdown":"I have a `spring-boot-starter-web` dependency pulled somewhere in the classpath. Removing it resolved the problem.\r\n\r\nIf both web and webflux dependency should be kept, it&#39;s still possible to run a test in reactive only, with:\r\n\r\n    @SpringBootTest(properties = &quot;spring.main.web-application-type=REACTIVE&quot;)\r\n    class MyWebFluxTests {\r\n    \r\n        // ...\r\n    \r\n    }\r\n\r\n","title":"How to load ServerHttpSecurity in @SpringBootTest?","body":"<p>I have a <code>spring-boot-starter-web</code> dependency pulled somewhere in the classpath. Removing it resolved the problem.</p>\n<p>If both web and webflux dependency should be kept, it's still possible to run a test in reactive only, with:</p>\n<pre><code>@SpringBootTest(properties = &quot;spring.main.web-application-type=REACTIVE&quot;)\nclass MyWebFluxTests {\n\n    // ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646258453,"creation_date":1646244114,"question_id":71327227,"body_markdown":"I want to create a `@SpringBootTest` that makes use of my full configuration structure.\r\n\r\nProblem: I&#39;m creating an `@Bean SecurityWebFilterChain` that requires a `ServerHttpSecurity`, which is somehow missing in a test:\r\n\r\n    @SpringBootApplication  \r\n    public class MainApp { ... }\r\n\r\n    //for simple testing I started with anonymous auth\r\n    @Configuration\r\n    public class ReactiveSecurityConfiguration {\r\n    \t@Bean\r\n    \tpublic SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n    \t\treturn http.anonymous()\r\n    \t\t\t\t.and().csrf().disable()\r\n    \t\t\t\t.build();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    @SpringBootTest\r\n    public class TestClass {\r\n        @Test\r\n        public void test() {\r\n        \r\n        }\r\n    }\r\n\r\nResult:\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n    Error creating bean with name &#39;securityWebFilterChain&#39; defined in class path resource [ReactiveSecurityConfiguration.class]:\r\n    Unsatisfied dependency expressed through method &#39;securityWebFilterChain&#39; parameter 0;\r\n    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\r\n    No qualifying bean of type &#39;org.springframework.security.config.web.server.ServerHttpSecurity&#39; available:\r\n    expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n**Update**\r\n\r\nI discovered if I add the following annotations to my **Test** Class, the testmethod works without errors. But is that intentional?\r\n\r\n    @EnableWebFlux\r\n    @EnableWebFluxSecurity\r\n    @SpringBootTest\r\n    public class TestClass { }","title":"How to load ServerHttpSecurity in @SpringBootTest?","body":"<p>I want to create a <code>@SpringBootTest</code> that makes use of my full configuration structure.</p>\n<p>Problem: I'm creating an <code>@Bean SecurityWebFilterChain</code> that requires a <code>ServerHttpSecurity</code>, which is somehow missing in a test:</p>\n<pre><code>@SpringBootApplication  \npublic class MainApp { ... }\n\n//for simple testing I started with anonymous auth\n@Configuration\npublic class ReactiveSecurityConfiguration {\n    @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        return http.anonymous()\n                .and().csrf().disable()\n                .build();\n    }\n}\n\n\n@SpringBootTest\npublic class TestClass {\n    @Test\n    public void test() {\n    \n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'securityWebFilterChain' defined in class path resource [ReactiveSecurityConfiguration.class]:\nUnsatisfied dependency expressed through method 'securityWebFilterChain' parameter 0;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException:\nNo qualifying bean of type 'org.springframework.security.config.web.server.ServerHttpSecurity' available:\nexpected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I discovered if I add the following annotations to my <strong>Test</strong> Class, the testmethod works without errors. But is that intentional?</p>\n<pre><code>@EnableWebFlux\n@EnableWebFluxSecurity\n@SpringBootTest\npublic class TestClass { }\n</code></pre>\n"},{"tags":["java","drools","rules","decision-tree"],"answers":[{"tags":[],"owner":{"account_id":331890,"reputation":1150,"user_id":656853,"display_name":"kevinpeterson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377106972,"creation_date":1377106972,"answer_id":18364219,"question_id":18359590,"body_markdown":"Generally, I&#39;ve found it is easier to work at a more abstract level, such as a Domain Model, and have some sort of programmatic conversion from that to Drools rules, instead of dealing with Drools rules directly. That way, you can store your Domain Model however you like, and you can build UIs around it, etc, and still have the option to generate Drools rules on demand. Then challenge with this is creating a programmatic transformation from your model to Drools rules, but templating tools will help here. I&#39;ve used Groovy templating for this, and it has worked well.","title":"Data Driven Rules Engine - Drools","body":"<p>Generally, I've found it is easier to work at a more abstract level, such as a Domain Model, and have some sort of programmatic conversion from that to Drools rules, instead of dealing with Drools rules directly. That way, you can store your Domain Model however you like, and you can build UIs around it, etc, and still have the option to generate Drools rules on demand. Then challenge with this is creating a programmatic transformation from your model to Drools rules, but templating tools will help here. I've used Groovy templating for this, and it has worked well.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377274594,"creation_date":1377273321,"answer_id":18407054,"question_id":18359590,"body_markdown":"You asked me to give an answer to your question, given my answer to [Data driven business rules][1].  My answer to that question was that SQL is a bad solution to *execute* business rules stored in the database.  The person who asked that question wanted to generate SQL expressions from their stored business rules, and I cautioned against doing that, because it would lead to problems in security, testability, performance, and maintenance.\r\n\r\nI have not used Drools, but I gather from documentation that it includes Guvnor, a business rules manager that supports using an RDBMS as a **repository** for user-defined rules.  \r\n\r\n&gt; [Drools] Guvnor uses the JCR standard for storing assets such as rules. The default implementation is Apache Jackrabbit, http://jackrabbit.apache.org. This includes an out of the box storage engine/database, which you can use as is, or configure to use an existing RDBMS if needed. (http://docs.jboss.org/drools/release/5.2.0.Final/drools-guvnor-docs/html/chap-database_configuration.html)\r\n\r\nApache Jackrabbit is not an RDBMS, it is &quot;a content repository is a hierarchical content store with support for structured and unstructured content, full text search, versioning, transactions, observation, and more.&quot;  This seems like a more appropriate repository for Drools.\r\n\r\nBut Drools doesn&#39;t say it tries to use SQL to execute those business rules.  It has a separate component, **Drools Expert (Rules Engine)** to do that.\r\n\r\n&gt; Drools Expert is a declarative, rule based, coding environment. This allows you to focus on &quot;what it is you want to do&quot;, and not the &quot;how to do this&quot;.\r\n(http://www.jboss.org/drools/drools-expert.html)\r\n\r\nSQL is also a declarative programming language, but it&#39;s designed to perform relational operations on table-structured data.  A language to implement a rules engine has different goals, and can probably do things that SQL can&#39;t (and vice-versa).\r\n\r\nSo I would suggest if you use Drools, feel free to use an RDBMS as a repository as they document (use their JCR-compliant implementation of content repository, do not try to design your own).  Then use their Drools Expert as a specialized language designed for executing rules.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6879853/data-driven-business-rules/6879949?noredirect=1#comment27019167_6879949","title":"Data Driven Rules Engine - Drools","body":"<p>You asked me to give an answer to your question, given my answer to <a href=\"https://stackoverflow.com/questions/6879853/data-driven-business-rules/6879949?noredirect=1#comment27019167_6879949\">Data driven business rules</a>.  My answer to that question was that SQL is a bad solution to <em>execute</em> business rules stored in the database.  The person who asked that question wanted to generate SQL expressions from their stored business rules, and I cautioned against doing that, because it would lead to problems in security, testability, performance, and maintenance.</p>\n\n<p>I have not used Drools, but I gather from documentation that it includes Guvnor, a business rules manager that supports using an RDBMS as a <strong>repository</strong> for user-defined rules.  </p>\n\n<blockquote>\n  <p>[Drools] Guvnor uses the JCR standard for storing assets such as rules. The default implementation is Apache Jackrabbit, <a href=\"http://jackrabbit.apache.org\" rel=\"nofollow noreferrer\">http://jackrabbit.apache.org</a>. This includes an out of the box storage engine/database, which you can use as is, or configure to use an existing RDBMS if needed. (<a href=\"http://docs.jboss.org/drools/release/5.2.0.Final/drools-guvnor-docs/html/chap-database_configuration.html\" rel=\"nofollow noreferrer\">http://docs.jboss.org/drools/release/5.2.0.Final/drools-guvnor-docs/html/chap-database_configuration.html</a>)</p>\n</blockquote>\n\n<p>Apache Jackrabbit is not an RDBMS, it is \"a content repository is a hierarchical content store with support for structured and unstructured content, full text search, versioning, transactions, observation, and more.\"  This seems like a more appropriate repository for Drools.</p>\n\n<p>But Drools doesn't say it tries to use SQL to execute those business rules.  It has a separate component, <strong>Drools Expert (Rules Engine)</strong> to do that.</p>\n\n<blockquote>\n  <p>Drools Expert is a declarative, rule based, coding environment. This allows you to focus on \"what it is you want to do\", and not the \"how to do this\".\n  (<a href=\"http://www.jboss.org/drools/drools-expert.html\" rel=\"nofollow noreferrer\">http://www.jboss.org/drools/drools-expert.html</a>)</p>\n</blockquote>\n\n<p>SQL is also a declarative programming language, but it's designed to perform relational operations on table-structured data.  A language to implement a rules engine has different goals, and can probably do things that SQL can't (and vice-versa).</p>\n\n<p>So I would suggest if you use Drools, feel free to use an RDBMS as a repository as they document (use their JCR-compliant implementation of content repository, do not try to design your own).  Then use their Drools Expert as a specialized language designed for executing rules.</p>\n"},{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1377625238,"creation_date":1377625238,"answer_id":18472110,"question_id":18359590,"body_markdown":"&gt; - There is no meaningful UI that i can offer to the end users to modify the rules.\r\n\r\nOut of the box, Guvnor provides [web based decision tables][1] (and [Excel if you prefer][2]), as you say you would like to provide. It provides [guided editors][3] for more complex rules, but your rules would appear to be very simple.\r\n\r\n&gt;  - Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view \r\n\r\nAs mentioned, Guvnor supports decision tables. If you don&#39;t like the layout of the Guvnor web application, then you can just [embed the Guvnor editors][4] into your own web application.\r\n\r\n&gt; - Most of these Rules will operate on often huge data available in db \r\n\r\nThe size of your database is irrelevant to the use of Guvnor. Guvnor is for editing rules, not  runtime evaluation. Drools Expert is the runtime rules engine. It&#39;s fast. It can deal with very large volumes of data and very large volumes of rules. All you need to do is write database queries to get relevant chunks of that data into the rules engine at runtime. You need to do that, whatever solution you try to implement.\r\n\r\n\r\nOn a side-note, if what you&#39;re really after is an explanation of when rules engines are good (and bad) solutions to a problem, then I would recommend reading the [Why use a Rule engine?][5] section of the Drools Expert manual.\r\n\r\n\r\n  [1]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1046\r\n  [2]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1033\r\n  [3]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e599\r\n  [4]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e4506\r\n  [5]: http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/#d0e384","title":"Data Driven Rules Engine - Drools","body":"<blockquote>\n  <ul>\n  <li>There is no meaningful UI that i can offer to the end users to modify the rules.</li>\n  </ul>\n</blockquote>\n\n<p>Out of the box, Guvnor provides <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1046\" rel=\"noreferrer\">web based decision tables</a> (and <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e1033\" rel=\"noreferrer\">Excel if you prefer</a>), as you say you would like to provide. It provides <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e599\" rel=\"noreferrer\">guided editors</a> for more complex rules, but your rules would appear to be very simple.</p>\n\n<blockquote>\n  <ul>\n  <li>Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view </li>\n  </ul>\n</blockquote>\n\n<p>As mentioned, Guvnor supports decision tables. If you don't like the layout of the Guvnor web application, then you can just <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-guvnor-docs/html_single/index.html#d0e4506\" rel=\"noreferrer\">embed the Guvnor editors</a> into your own web application.</p>\n\n<blockquote>\n  <ul>\n  <li>Most of these Rules will operate on often huge data available in db </li>\n  </ul>\n</blockquote>\n\n<p>The size of your database is irrelevant to the use of Guvnor. Guvnor is for editing rules, not  runtime evaluation. Drools Expert is the runtime rules engine. It's fast. It can deal with very large volumes of data and very large volumes of rules. All you need to do is write database queries to get relevant chunks of that data into the rules engine at runtime. You need to do that, whatever solution you try to implement.</p>\n\n<p>On a side-note, if what you're really after is an explanation of when rules engines are good (and bad) solutions to a problem, then I would recommend reading the <a href=\"http://docs.jboss.org/drools/release/5.5.0.Final/drools-expert-docs/html_single/#d0e384\" rel=\"noreferrer\">Why use a Rule engine?</a> section of the Drools Expert manual.</p>\n"}],"owner":{"account_id":947165,"reputation":8480,"user_id":974169,"accept_rate":57,"display_name":"Jasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14054,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":3,"score":13,"last_activity_date":1646257764,"creation_date":1377093793,"question_id":18359590,"body_markdown":"I have been evaluating Drools as a Rules Engine for use in our Business Web Application.\r\n\r\nMy use case is a Order Management Application.&lt;br&gt;\r\n**And the rules are of following kind:**&lt;br&gt;\r\n- If User Type is &quot;SPECIAL&quot; give an extra 5% discount.&lt;br&gt;\r\n- If User has made 10+ Purchases already, give an extra 3% discount.&lt;br&gt;\r\n- If Product Category is &quot;OLD&quot;, give a Gift Hamper to the user worth $5.&lt;br&gt;\r\n- If Product Category is &quot;NEW&quot;, give a Gift Hamper to the user worth $1&lt;br&gt;\r\n- If User has made purchases of over $1000 in the past, Shipping is Free&lt;br&gt;\r\n\r\n**The immediate challenge i see is that:**&lt;br&gt;\r\n- There is no meaningful UI that i can offer to the end users to modify the rules. &lt;br&gt;\r\n- Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view\r\n- Most of these Rules will operate on often huge data available in db &lt;br&gt;\r\n\r\n**So,**&lt;br&gt;\r\n- I want a way for Admin users to specify these Rule from within my Web App UI.&lt;br&gt;\r\n- Could i store these &quot;Rules&quot; in database, and then operate on them via Drools - at least that allows me to &quot;modify&quot; these Rules via my &quot;own&quot; UI. So this is something like a Decision Table in DB.&lt;br&gt;\r\n- What is the best way to go about this? &lt;br&gt;","title":"Data Driven Rules Engine - Drools","body":"<p>I have been evaluating Drools as a Rules Engine for use in our Business Web Application.</p>\n\n<p>My use case is a Order Management Application.<br>\n<strong>And the rules are of following kind:</strong><br>\n- If User Type is \"SPECIAL\" give an extra 5% discount.<br>\n- If User has made 10+ Purchases already, give an extra 3% discount.<br>\n- If Product Category is \"OLD\", give a Gift Hamper to the user worth $5.<br>\n- If Product Category is \"NEW\", give a Gift Hamper to the user worth $1<br>\n- If User has made purchases of over $1000 in the past, Shipping is Free<br></p>\n\n<p><strong>The immediate challenge i see is that:</strong><br>\n- There is no meaningful UI that i can offer to the end users to modify the rules. <br>\n- Guvnor UI or any Editor to modify drl files is just not acceptable from end user point of view\n- Most of these Rules will operate on often huge data available in db <br></p>\n\n<p><strong>So,</strong><br>\n- I want a way for Admin users to specify these Rule from within my Web App UI.<br>\n- Could i store these \"Rules\" in database, and then operate on them via Drools - at least that allows me to \"modify\" these Rules via my \"own\" UI. So this is something like a Decision Table in DB.<br>\n- What is the best way to go about this? <br></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1646256057,"post_id":71329224,"comment_id":126081170,"body_markdown":"post a [mcve] please","body":"post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please"}],"answers":[{"tags":[],"owner":{"account_id":6529233,"reputation":3369,"user_id":5050924,"display_name":"Facundo Larrosa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646257071,"creation_date":1646257071,"answer_id":71329455,"question_id":71329224,"body_markdown":"You need to remove the braces [] when you reference the array. Instead of `itemList[]` it should be just `itemList` like this:\r\n\r\n    String [] itemList;\r\n\r\n    Magazine magazine1 = new Magazine(nMagazine, itemList, distributionPrice, pvp);","title":"How can I pass a variable of type array","body":"<p>You need to remove the braces [] when you reference the array. Instead of <code>itemList[]</code> it should be just <code>itemList</code> like this:</p>\n<pre><code>String [] itemList;\n\nMagazine magazine1 = new Magazine(nMagazine, itemList, distributionPrice, pvp);\n</code></pre>\n"}],"owner":{"account_id":24321563,"reputation":17,"user_id":18357924,"display_name":"Frank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646257368,"creation_date":1646255759,"question_id":71329224,"body_markdown":"How can I pass a variable of type array as a parameter in an instantiated object\r\n\r\nI have this on the **Main.java Class**: \r\n\r\n    String [] itemList;\r\n\r\n    Magazine magazine1 = new Magazine(nMagazine, itemList[], distributionPrice, pvp);\r\n\r\nThis the **Magazine.java Class**\r\n\r\n    public class Magazine extends Publication {\r\n\r\n     private int numberMagazine;\r\n     private String[] itemList;\r\n\r\n\r\n    public Magazine(int numberMagazine, String[] itemList, float distributionPrice, float pvp) {\r\n        super(distributionPrice, pvp);\r\n        \r\n\r\n        this.numberMagazin = numberMagazin;\r\n        this.itemList = itemList;\r\n\r\n    }\r\n\r\nIn the main class when \r\nI instantiate the magazine1 object I can&#39;t call the **itemList[]** variable and I don&#39;t understand why","title":"How can I pass a variable of type array","body":"<p>How can I pass a variable of type array as a parameter in an instantiated object</p>\n<p>I have this on the <strong>Main.java Class</strong>:</p>\n<pre><code>String [] itemList;\n\nMagazine magazine1 = new Magazine(nMagazine, itemList[], distributionPrice, pvp);\n</code></pre>\n<p>This the <strong>Magazine.java Class</strong></p>\n<pre><code>public class Magazine extends Publication {\n\n private int numberMagazine;\n private String[] itemList;\n\n\npublic Magazine(int numberMagazine, String[] itemList, float distributionPrice, float pvp) {\n    super(distributionPrice, pvp);\n    \n\n    this.numberMagazin = numberMagazin;\n    this.itemList = itemList;\n\n}\n</code></pre>\n<p>In the main class when\nI instantiate the magazine1 object I can't call the <strong>itemList[]</strong> variable and I don't understand why</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646257224,"creation_date":1646256905,"answer_id":71329428,"question_id":71329408,"body_markdown":"You need to do the other association too, but don&#39;t use `person.setPartner(this)` because it would call it then the other and you&#39;ll go deep into recursion until a `StackOverflowError`\r\n\r\n\r\n    public void setPartner(Partner person) {\r\n        if (this == person) {\r\n            throw new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\r\n        } // else isn&#39;t mandatory as code execution whould stop if first branch taken\r\n        this.partner = person;\r\n        person.partner = this;\r\n    }\r\n\r\nFor the same reason, you may use `partner.name`. If you keep `partner`, it&#39; would call it&#39;s `toString` which would call it&#39;s partner `toString` , then road to `StackOverflowError`\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner.name + &quot;]&quot;;\r\n    }","title":"Connect to objects using one call (Partner in Java)","body":"<p>You need to do the other association too, but don't use <code>person.setPartner(this)</code> because it would call it then the other and you'll go deep into recursion until a <code>StackOverflowError</code></p>\n<pre><code>public void setPartner(Partner person) {\n    if (this == person) {\n        throw new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\n    } // else isn't mandatory as code execution whould stop if first branch taken\n    this.partner = person;\n    person.partner = this;\n}\n</code></pre>\n<p>For the same reason, you may use <code>partner.name</code>. If you keep <code>partner</code>, it' would call it's <code>toString</code> which would call it's partner <code>toString</code> , then road to <code>StackOverflowError</code></p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner.name + &quot;]&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":23041306,"reputation":15,"user_id":17159452,"display_name":"abzain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329428,"answer_count":1,"score":0,"last_activity_date":1646257224,"creation_date":1646256782,"question_id":71329408,"body_markdown":"I&#39;m struggling with Java and need some help with 1-1 associations.\r\nSorry if I&#39;m wording something wrong, I don&#39;t know how to word it properly in English.\r\n\r\nI want to connect both partner1 and partner2 using one call. Before the call, partner1 and partner2 is not connected, but after, they are. I can&#39;t wrap my head around and have been stuck for hours. \r\n\r\nHere is what I have so far:\r\n\r\n```\r\npublic class Partner {\r\n\r\n\tprivate String name;\r\n\tprivate Partner partner;\r\n\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\tpublic Partner getPartner() {\r\n\t\treturn this.partner;\r\n\t}\r\n\r\n\tpublic Partner(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic void setPartner(Partner person) {\r\n\t\tif (this == person) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\r\n\t\t} else {\r\n\t\t\tthis.partner = person;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tPartner p1 = new Partner(&quot;Mickey&quot;);\r\n\t\tPartner p2 = new Partner(&quot;Minnie&quot;);\r\n\t\tp1.setPartner(p2);\r\n\t\tSystem.out.println(p1.getPartner());\r\n\t}\r\n}\r\n```\r\n","title":"Connect to objects using one call (Partner in Java)","body":"<p>I'm struggling with Java and need some help with 1-1 associations.\nSorry if I'm wording something wrong, I don't know how to word it properly in English.</p>\n<p>I want to connect both partner1 and partner2 using one call. Before the call, partner1 and partner2 is not connected, but after, they are. I can't wrap my head around and have been stuck for hours.</p>\n<p>Here is what I have so far:</p>\n<pre><code>public class Partner {\n\n    private String name;\n    private Partner partner;\n\n    public String getName() {\n        return this.name;\n    }\n\n    public Partner getPartner() {\n        return this.partner;\n    }\n\n    public Partner(String name) {\n        this.name = name;\n    }\n\n    public void setPartner(Partner person) {\n        if (this == person) {\n            throw new IllegalArgumentException(&quot;You can not marry yourself!&quot;);\n        } else {\n            this.partner = person;\n        }\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Partner [name=&quot; + name + &quot;, partner=&quot; + partner + &quot;]&quot;;\n    }\n\n    public static void main(String[] args) {\n        Partner p1 = new Partner(&quot;Mickey&quot;);\n        Partner p2 = new Partner(&quot;Minnie&quot;);\n        p1.setPartner(p2);\n        System.out.println(p1.getPartner());\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645950124,"creation_date":1645950124,"answer_id":71283196,"question_id":71257184,"body_markdown":"I have such test for some similar page. Maybe the details will be different here, but the idea I used is:  \r\n1) Play the video  \r\n2) Get video current time  \r\n3) Set some pause  \r\n4) Get video current time again  \r\n5) Validate that the initial video current time and the second current time values are not the same.  \r\nHere is my code:   \r\n```java\r\npublic class Reusable extends BasePage {\r\n    public Reusable(WebDriver driver){\r\n        super(driver);\r\n    }\r\n\r\n    //Embedded YouTube elements\r\n    public String videoIframe = &quot;//iframe[@class=&#39;elementor-video&#39;]&quot;;\r\n    public String playVideoBtn = &quot;//button[@aria-label =&#39;Play&#39;]&quot;;\r\n    public String videoCurrentTimeIndicator = &quot;//span[@class=&#39;ytp-time-current&#39;]&quot;;\r\n    public String muteYoutubeBtn = &quot;//button[contains(@class,&#39;mute-button&#39;)]&quot;;\r\n\r\n    //Embedded YouTube methods\r\n    public void switchToVideoIframe(){\r\n        switchToIframe(videoIframe);\r\n    }\r\n\r\n    public void playVideo(){\r\n        clickVisible(playVideoBtn);\r\n    }\r\n\r\n    public String getVideoCurrentTime(){\r\n        return getVisibleElementText(videoCurrentTimeIndicator);\r\n    }\r\n\r\n    public boolean validateVideoIsPlaying(){\r\n        playVideo();\r\n        String initialVideoTime = getVideoCurrentTime();\r\n        wait(3000);\r\n        hoverOverElement(muteYoutubeBtn);\r\n        String secondVideoTime = getVideoCurrentTime();\r\n        Assert.assertFalse(initialVideoTime.contains(secondVideoTime),&quot;Failed playing the embedded YouTube video&quot;);\r\n    }\r\n}\r\n```\r\nThe methods inside the Basepage are used here are:\r\n```java\r\npublic void switchToIframe(By locator){\r\n    waitForElementPresence(locator);\r\n    wait(100);\r\n    driver.switchTo().frame(driver.findElement(locator));\r\n}\r\n\r\npublic void switchToIframe(String xpath){\r\n    switchToIframe(By.xpath(xpath));\r\n}\r\n\r\n\r\npublic void clickVisible(By element){\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\r\n    driver.findElement(element).click();\r\n}\r\n\r\npublic void clickVisible(String xpath){\r\n    clickVisible(By.xpath(xpath));\r\n}\r\n\r\npublic String getVisibleElementText(By element){\r\n    waitForElementToBeVisible(element);\r\n    wait(50);\r\n    return driver.findElement(element).getText();\r\n}\r\n\r\npublic String getVisibleElementText(String xpath){\r\n    return getVisibleElementText(By.xpath(xpath));\r\n}\r\n\r\npublic void hoverOverElement(By element){\r\n    action = new Actions(driver);\r\n    webElement = driver.findElement(element);\r\n    action.moveToElement(webElement).build().perform();\r\n}\r\n\r\npublic void hoverOverElement(String xpath){\r\n    hoverOverElement(By.xpath(xpath));\r\n}\r\n\r\npublic void wait(int delay){\r\n    Uninterruptibles.sleepUninterruptibly((long) delay, TimeUnit.MILLISECONDS);\r\n}\r\n```\r\n\r\n","title":"Check if video is playing using Serenity BDD and Selenium","body":"<p>I have such test for some similar page. Maybe the details will be different here, but the idea I used is:</p>\n<ol>\n<li>Play the video</li>\n<li>Get video current time</li>\n<li>Set some pause</li>\n<li>Get video current time again</li>\n<li>Validate that the initial video current time and the second current time values are not the same.<br />\nHere is my code:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Reusable extends BasePage {\n    public Reusable(WebDriver driver){\n        super(driver);\n    }\n\n    //Embedded YouTube elements\n    public String videoIframe = &quot;//iframe[@class='elementor-video']&quot;;\n    public String playVideoBtn = &quot;//button[@aria-label ='Play']&quot;;\n    public String videoCurrentTimeIndicator = &quot;//span[@class='ytp-time-current']&quot;;\n    public String muteYoutubeBtn = &quot;//button[contains(@class,'mute-button')]&quot;;\n\n    //Embedded YouTube methods\n    public void switchToVideoIframe(){\n        switchToIframe(videoIframe);\n    }\n\n    public void playVideo(){\n        clickVisible(playVideoBtn);\n    }\n\n    public String getVideoCurrentTime(){\n        return getVisibleElementText(videoCurrentTimeIndicator);\n    }\n\n    public boolean validateVideoIsPlaying(){\n        playVideo();\n        String initialVideoTime = getVideoCurrentTime();\n        wait(3000);\n        hoverOverElement(muteYoutubeBtn);\n        String secondVideoTime = getVideoCurrentTime();\n        Assert.assertFalse(initialVideoTime.contains(secondVideoTime),&quot;Failed playing the embedded YouTube video&quot;);\n    }\n}\n</code></pre>\n<p>The methods inside the Basepage are used here are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void switchToIframe(By locator){\n    waitForElementPresence(locator);\n    wait(100);\n    driver.switchTo().frame(driver.findElement(locator));\n}\n\npublic void switchToIframe(String xpath){\n    switchToIframe(By.xpath(xpath));\n}\n\n\npublic void clickVisible(By element){\n    wait.until(ExpectedConditions.visibilityOfElementLocated(element));\n    driver.findElement(element).click();\n}\n\npublic void clickVisible(String xpath){\n    clickVisible(By.xpath(xpath));\n}\n\npublic String getVisibleElementText(By element){\n    waitForElementToBeVisible(element);\n    wait(50);\n    return driver.findElement(element).getText();\n}\n\npublic String getVisibleElementText(String xpath){\n    return getVisibleElementText(By.xpath(xpath));\n}\n\npublic void hoverOverElement(By element){\n    action = new Actions(driver);\n    webElement = driver.findElement(element);\n    action.moveToElement(webElement).build().perform();\n}\n\npublic void hoverOverElement(String xpath){\n    hoverOverElement(By.xpath(xpath));\n}\n\npublic void wait(int delay){\n    Uninterruptibles.sleepUninterruptibly((long) delay, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18348172,"reputation":302,"user_id":13362939,"display_name":"Kumar Rishabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646132533,"creation_date":1646132028,"answer_id":71307348,"question_id":71257184,"body_markdown":"If it is Chrome, there is a Promise returned. Simply get that promise may be via JS executor to get true as value. JS code :-\r\n\r\n    var playPromise = document.querySelector(&#39;video&#39;).play();\r\n\r\n\r\nSee https://developers.google.com/web/updates/2016/03/play-returns-promise\r\n\r\nsimilarly there should be something for other browsers as well(Could be the same promise working for all)\r\n\r\nAlso see:-\r\nhttps://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs","title":"Check if video is playing using Serenity BDD and Selenium","body":"<p>If it is Chrome, there is a Promise returned. Simply get that promise may be via JS executor to get true as value. JS code :-</p>\n<pre><code>var playPromise = document.querySelector('video').play();\n</code></pre>\n<p>See <a href=\"https://developers.google.com/web/updates/2016/03/play-returns-promise\" rel=\"nofollow noreferrer\">https://developers.google.com/web/updates/2016/03/play-returns-promise</a></p>\n<p>similarly there should be something for other browsers as well(Could be the same promise working for all)</p>\n<p>Also see:-\n<a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs</a></p>\n"}],"owner":{"account_id":9223316,"reputation":2501,"user_id":6851888,"accept_rate":50,"display_name":"SUPARNA SOMAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1646257108,"creation_date":1645730442,"question_id":71257184,"body_markdown":"I&#39;m trying to verify if a video is playing when the user clicks on the play button. Is there a way to find if the video is playing, like make sure the timeline is not at &quot;0&quot; etc?\r\n\r\nPlease find my code below\r\n\r\nThe Page object:\r\n\r\n    public class VideoPage {\r\n\r\n        private static final String VIDEO_ELEMENT = &quot;//*[@id=&#39;examplevideo_html5_api&#39;]&quot;;\r\n\r\n        public String findTitle() {\r\n            return getText(ABOUT_MODAL_TITLE);\r\n        }\r\n\r\n        private void videoIsPlaying() {\r\n            // ????\r\n        }\r\n    }\r\n\r\nThe Test code:\r\n\r\n    @When(&quot;user clicks on Play button on the modal&quot;)\r\n    public void userClicksOnPlayButton() {\r\n        aboutUsUser.clickPlayButtonModal();\r\n    }\r\n\r\n    @Then(&quot;the video should start playing&quot;)\r\n    public void videoShouldPlay() {\r\n        videoUser.showPauseButton();\r\n        videoUser.videoIsPlaying();\r\n        Object t = videoUser.videoElement().getAttribute(&quot;currentTime&quot;);\r\n        Assert.assertNotEquals(0, t);\r\n    }","title":"Check if video is playing using Serenity BDD and Selenium","body":"<p>I'm trying to verify if a video is playing when the user clicks on the play button. Is there a way to find if the video is playing, like make sure the timeline is not at &quot;0&quot; etc?</p>\n<p>Please find my code below</p>\n<p>The Page object:</p>\n<pre><code>public class VideoPage {\n\n    private static final String VIDEO_ELEMENT = &quot;//*[@id='examplevideo_html5_api']&quot;;\n\n    public String findTitle() {\n        return getText(ABOUT_MODAL_TITLE);\n    }\n\n    private void videoIsPlaying() {\n        // ????\n    }\n}\n</code></pre>\n<p>The Test code:</p>\n<pre><code>@When(&quot;user clicks on Play button on the modal&quot;)\npublic void userClicksOnPlayButton() {\n    aboutUsUser.clickPlayButtonModal();\n}\n\n@Then(&quot;the video should start playing&quot;)\npublic void videoShouldPlay() {\n    videoUser.showPauseButton();\n    videoUser.videoIsPlaying();\n    Object t = videoUser.videoElement().getAttribute(&quot;currentTime&quot;);\n    Assert.assertNotEquals(0, t);\n}\n</code></pre>\n"},{"tags":["java","tomcat","servlets","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646255439,"post_id":71328692,"comment_id":126081016,"body_markdown":"Did you try setting the Java system property `log4j2.enableThreadlocals=false`?","body":"Did you try setting the Java system property <code>log4j2.enableThreadlocals=false</code>?"}],"answers":[{"tags":[],"owner":{"account_id":20491251,"reputation":1305,"user_id":15037284,"display_name":"V.D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646255956,"creation_date":1646255956,"answer_id":71329262,"question_id":71328692,"body_markdown":"Fully deleting target folder and recompiling my project seems like resolved my issue.","title":"Log4j2 tomcat 10 memory leaks on shutdown","body":"<p>Fully deleting target folder and recompiling my project seems like resolved my issue.</p>\n"}],"owner":{"account_id":20491251,"reputation":1305,"user_id":15037284,"display_name":"V.D."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329262,"answer_count":1,"score":0,"last_activity_date":1646255956,"creation_date":1646252497,"question_id":71328692,"body_markdown":"I have memory leaks at my tomcat 10.0.16 servlet application. I am using Log4j2 2.17.2 version, and after tomcat shutdown I see next logs:\r\n```\r\n02-Mar-2022 22:14:54.513 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@43f82e78]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.FixedFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$FixedFormatter@6986bbaf]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@4879dfad]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@4758820d]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@74eb909f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@28ec166e]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n```\r\nMy pom.xml for Log4j2 is:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jakarta-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nAnd also log4j2 config\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;INFO&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nMost common fix is to add log4j-jakarta-web, but this does not works for me","title":"Log4j2 tomcat 10 memory leaks on shutdown","body":"<p>I have memory leaks at my tomcat 10.0.16 servlet application. I am using Log4j2 2.17.2 version, and after tomcat shutdown I see next logs:</p>\n<pre><code>02-Mar-2022 22:14:54.513 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@43f82e78]) and a value of type [org.apache.logging.log4j.core.pattern.DatePatternConverter.FixedFormatter] (value [org.apache.logging.log4j.core.pattern.DatePatternConverter$FixedFormatter@6986bbaf]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@4879dfad]) and a value of type [org.apache.logging.log4j.message.ReusableSimpleMessage] (value [org.apache.logging.log4j.message.ReusableSimpleMessage@4758820d]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n02-Mar-2022 22:14:54.529 SEVERE [main] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [MVCProject_war_exploded] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@74eb909f]) and a value of type [org.apache.logging.log4j.core.impl.MutableLogEvent] (value [org.apache.logging.log4j.core.impl.MutableLogEvent@28ec166e]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n</code></pre>\n<p>My pom.xml for Log4j2 is:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-jakarta-web&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And also log4j2 config</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Most common fix is to add log4j-jakarta-web, but this does not works for me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1646266025,"post_id":71329233,"comment_id":126083597,"body_markdown":"It seems a little pointless to use a map to get from string to length, since the string can tell you its own length directly.  Why not just keep a Set&lt;String&gt; ?","body":"It seems a little pointless to use a map to get from string to length, since the string can tell you its own length directly.  Why not just keep a Set&lt;String&gt; ?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646255919,"creation_date":1646255919,"answer_id":71329255,"question_id":71329233,"body_markdown":"You&#39;r calling the scanner twice, so that&#39;s 2 input as you need only one per word\r\n\r\n\r\n    String word;\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        word = sc.nextLine();\r\n        linkedMap1.put(word, word.length());\r\n    }\r\n    System.out.println(linkedMap1);\r\n","title":"adding strings (key) to a Map where the value is the length of each String","body":"<p>You'r calling the scanner twice, so that's 2 input as you need only one per word</p>\n<pre><code>String word;\nfor (int i = 0; i &lt; 4; i++) {\n    word = sc.nextLine();\n    linkedMap1.put(word, word.length());\n}\nSystem.out.println(linkedMap1);\n</code></pre>\n"}],"owner":{"account_id":24414896,"reputation":3,"user_id":18341881,"display_name":"Krisu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71329255,"answer_count":1,"score":0,"last_activity_date":1646255919,"creation_date":1646255822,"question_id":71329233,"body_markdown":"Need to add 4 Strings - as a keys, using scanner, to a Map and the value has to be the lenght of each String.\r\n\r\nfor example: &quot;House&quot; - 5 etc .\r\n\r\n   \r\n\r\n  \r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    \r\n    \tMap&lt;String, Integer&gt; linkedMap1 = new LinkedHashMap&lt;&gt;();\r\n    \r\n    \tfor (int i = 0; i &lt; 4; i++) {\r\n    \t\tlinkedMap1.put(sc.next(), sc.next().length());\r\n    \t\tSystem.out.println(linkedMap1);\r\n    \t}","title":"adding strings (key) to a Map where the value is the length of each String","body":"<p>Need to add 4 Strings - as a keys, using scanner, to a Map and the value has to be the lenght of each String.</p>\n<p>for example: &quot;House&quot; - 5 etc .</p>\n<pre><code>Scanner sc = new Scanner(System.in);\n\n    Map&lt;String, Integer&gt; linkedMap1 = new LinkedHashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; 4; i++) {\n        linkedMap1.put(sc.next(), sc.next().length());\n        System.out.println(linkedMap1);\n    }\n</code></pre>\n"},{"tags":["java","maven","log4j","jetty"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1508700706,"creation_date":1508699985,"answer_id":46878196,"question_id":46878035,"body_markdown":"log4j 2.9 and later are [*multi-release jars*][1] for Java 9.\r\n\r\nYour Jetty version don&#39;t support that. Either upgrade Jetty to a Java 9 compatible version, or use log4j 2.8.x.\r\n\r\nSee Jetty issue #1797: [JEP 238 - Multi-Release JAR files break bytecode scanning][2].\r\n\r\n\r\n  [1]: https://blogs.apache.org/logging/entry/log4j-2-9-released\r\n  [2]: https://github.com/eclipse/jetty.project/issues/1797","title":"Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class with jetty and log4j 2.9.1?","body":"<p>log4j 2.9 and later are <a href=\"https://blogs.apache.org/logging/entry/log4j-2-9-released\" rel=\"noreferrer\"><em>multi-release jars</em></a> for Java 9.</p>\n\n<p>Your Jetty version don't support that. Either upgrade Jetty to a Java 9 compatible version, or use log4j 2.8.x.</p>\n\n<p>See Jetty issue #1797: <a href=\"https://github.com/eclipse/jetty.project/issues/1797\" rel=\"noreferrer\">JEP 238 - Multi-Release JAR files break bytecode scanning</a>.</p>\n"},{"tags":[],"owner":{"account_id":11432760,"reputation":61,"user_id":8381018,"display_name":"NavsTrend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563526007,"creation_date":1563526007,"answer_id":57108766,"question_id":46878035,"body_markdown":"The following error occurred:  com.ibm.ws.metadata.annotations.AnnotationException: Annotation processing failed for class:  META-INF/versions/9/module-info.class\r\n\r\nAbove error will be encountered in WAS 9, when we try deploying and undeploying multiple applications too many times. The server becomes malfunctioning. \r\n\r\nWhen I encountered this, I uninstalled all the applications in the server. And rebooted 2-3 times. Once the server is rebooted, I tried to deploy it again and the application worked as expected.","title":"Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class with jetty and log4j 2.9.1?","body":"<p>The following error occurred:  com.ibm.ws.metadata.annotations.AnnotationException: Annotation processing failed for class:  META-INF/versions/9/module-info.class</p>\n\n<p>Above error will be encountered in WAS 9, when we try deploying and undeploying multiple applications too many times. The server becomes malfunctioning. </p>\n\n<p>When I encountered this, I uninstalled all the applications in the server. And rebooted 2-3 times. Once the server is rebooted, I tried to deploy it again and the application worked as expected.</p>\n"}],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26272,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":46878196,"answer_count":2,"score":15,"last_activity_date":1646255602,"creation_date":1508698893,"question_id":46878035,"body_markdown":"This is the directory layout I have in my maven project:\r\n\r\n    .\r\n    ├── pom.xml\r\n    └── src\r\n        └── main\r\n            ├── java\r\n            │&#160;&#160; └── biz\r\n            │&#160;&#160;     └── tugay\r\n            │&#160;&#160;         └── web\r\n            │&#160;&#160;             └── servlet\r\n            │&#160;&#160;                 └── MainServlet.java\r\n            ├── resources\r\n            │&#160;&#160; └── log4j.properties\r\n            └── webapp\r\n                └── WEB-INF\r\n                    └── web.xml\r\n\r\npom.xml relavent parts as follows:\r\n\r\n    &lt;/dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;bare-webapp&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;9.2.1.v20140609&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;log4j.version&gt;2.8.2&lt;/log4j.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nAnd here is my web.xml\r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n                                 http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n             version=&quot;3.1&quot;&gt;\r\n    &lt;/web-app&gt;\r\n\r\nand finally this is what log4j.properties look like:\r\n\r\n    # suppress inspection &quot;UnusedProperty&quot; for whole file\r\n    \r\n    # logger level configurations\r\n    log4j.rootLogger=ALL, console\r\n    \r\n    # configuration for console outputs\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.conversionPattern=[%t] %-5p %c - %m%n\r\n\r\nSo currently everything runs fine (I start jetty with: mvn jetty:start) and when I visit &quot;/&quot; I see in console:\r\n\r\n    20:38:09.433 [qtp1503674351-26] ERROR biz.tugay.web.servlet.MainServlet - Serving request!\r\n\r\nThis is all fine..\r\n    \r\n    &lt;log4j.version&gt;2.9.1&lt;/log4j.version&gt;\r\n\r\nafter **jetty:start** I get:\r\n\r\n    [WARNING] Failed startup of context o.e.j.m.p.JettyWebAppContext@fb0d6fe{/,file:/Users/koraytugay/bare-webapp/src/main/webapp/,STARTING}{file:/Users/koraytugay/bare-webapp/src/main/webapp/}\r\n    MultiException[java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar, java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar]\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration.scanForAnnotations(AnnotationConfiguration.java:530)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration.configure(AnnotationConfiguration.java:441)\r\n        at org.eclipse.jetty.webapp.WebAppContext.configure(WebAppContext.java:471)\r\n        at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1329)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:744)\r\n        at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:497)\r\n        at org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:281)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n        at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:154)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\r\n        at org.eclipse.jetty.server.Server.start(Server.java:357)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\r\n        at org.eclipse.jetty.server.Server.doStart(Server.java:324)\r\n        at org.eclipse.jetty.maven.plugin.JettyServer.doStart(JettyServer.java:68)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\r\n        at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:564)\r\n        at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:360)\r\n        at org.eclipse.jetty.maven.plugin.JettyRunMojo.execute(JettyRunMojo.java:168)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n        at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\r\n    java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.IllegalArgumentException\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\r\n        ... 6 more\r\n    java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\r\n        at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.IllegalArgumentException\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\r\n        at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\r\n        ... 6 more\r\n    [WARNING] !RequestLog\r\n    [INFO] Started ServerConnector@42c81ca{HTTP/1.1}{0.0.0.0:8080}\r\n    [INFO] Started @2609ms\r\n    [INFO] Started Jetty Server\r\n\r\nHow can I make jetty work with log4j 2.9.1? Is there a problem in my configuration or is this a bug in jetty or log4j?\r\n","title":"Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class with jetty and log4j 2.9.1?","body":"<p>This is the directory layout I have in my maven project:</p>\n\n<pre><code>.\n├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── biz\n        │       └── tugay\n        │           └── web\n        │               └── servlet\n        │                   └── MainServlet.java\n        ├── resources\n        │   └── log4j.properties\n        └── webapp\n            └── WEB-INF\n                └── web.xml\n</code></pre>\n\n<p>pom.xml relavent parts as follows:</p>\n\n<pre><code>&lt;/dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n        &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;bare-webapp&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;9.2.1.v20140609&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;log4j.version&gt;2.8.2&lt;/log4j.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>And here is my web.xml</p>\n\n<pre><code>&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee\n                             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>and finally this is what log4j.properties look like:</p>\n\n<pre><code># suppress inspection \"UnusedProperty\" for whole file\n\n# logger level configurations\nlog4j.rootLogger=ALL, console\n\n# configuration for console outputs\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.conversionPattern=[%t] %-5p %c - %m%n\n</code></pre>\n\n<p>So currently everything runs fine (I start jetty with: mvn jetty:start) and when I visit \"/\" I see in console:</p>\n\n<pre><code>20:38:09.433 [qtp1503674351-26] ERROR biz.tugay.web.servlet.MainServlet - Serving request!\n</code></pre>\n\n<p>This is all fine..</p>\n\n<pre><code>&lt;log4j.version&gt;2.9.1&lt;/log4j.version&gt;\n</code></pre>\n\n<p>after <strong>jetty:start</strong> I get:</p>\n\n<pre><code>[WARNING] Failed startup of context o.e.j.m.p.JettyWebAppContext@fb0d6fe{/,file:/Users/koraytugay/bare-webapp/src/main/webapp/,STARTING}{file:/Users/koraytugay/bare-webapp/src/main/webapp/}\nMultiException[java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar, java.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar]\n    at org.eclipse.jetty.annotations.AnnotationConfiguration.scanForAnnotations(AnnotationConfiguration.java:530)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration.configure(AnnotationConfiguration.java:441)\n    at org.eclipse.jetty.webapp.WebAppContext.configure(WebAppContext.java:471)\n    at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1329)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:744)\n    at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:497)\n    at org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStart(JettyWebAppContext.java:281)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:154)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n    at org.eclipse.jetty.server.Server.start(Server.java:357)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:60)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:324)\n    at org.eclipse.jetty.maven.plugin.JettyServer.doStart(JettyServer.java:68)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n    at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:564)\n    at org.eclipse.jetty.maven.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:360)\n    at org.eclipse.jetty.maven.plugin.JettyRunMojo.execute(JettyRunMojo.java:168)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    at org.codehaus.classworlds.Launcher.main(Launcher.java:47)\njava.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/ProcessIdUtil.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\n    at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\n    ... 6 more\njava.lang.RuntimeException: Error scanning entry META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class from jar file:/Users/koraytugay/.m2/repository/org/apache/logging/log4j/log4j-api/2.9.1/log4j-api-2.9.1.jar\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:913)\n    at org.eclipse.jetty.annotations.AnnotationParser.parse(AnnotationParser.java:831)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$ParserTask.call(AnnotationConfiguration.java:159)\n    at org.eclipse.jetty.annotations.AnnotationConfiguration$1.run(AnnotationConfiguration.java:542)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:607)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:536)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n    at org.eclipse.jetty.annotations.AnnotationParser.scanClass(AnnotationParser.java:973)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJarEntry(AnnotationParser.java:956)\n    at org.eclipse.jetty.annotations.AnnotationParser.parseJar(AnnotationParser.java:909)\n    ... 6 more\n[WARNING] !RequestLog\n[INFO] Started ServerConnector@42c81ca{HTTP/1.1}{0.0.0.0:8080}\n[INFO] Started @2609ms\n[INFO] Started Jetty Server\n</code></pre>\n\n<p>How can I make jetty work with log4j 2.9.1? Is there a problem in my configuration or is this a bug in jetty or log4j?</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1646255693,"post_id":71329169,"comment_id":126081082,"body_markdown":"I know it&#39;s weird to hear that, but don&#39;t. they use `caliper` for perf tests and `jmh` is a lot better and more correct.","body":"I know it&#39;s weird to hear that, but don&#39;t. they use <code>caliper</code> for perf tests and <code>jmh</code> is a lot better and more correct."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1646256108,"post_id":71329169,"comment_id":126081183,"body_markdown":"Generally you just run them like any other binary.  I&#39;ve never had to worry about it -- if I load them into my IDE, I can just run the class.","body":"Generally you just run them like any other binary.  I&#39;ve never had to worry about it -- if I load them into my IDE, I can just run the class."},{"owner":{"account_id":21589757,"reputation":1,"user_id":15919570,"display_name":"user15919570"},"score":0,"creation_date":1646257572,"post_id":71329169,"comment_id":126081591,"body_markdown":"Is there a way to run this benchmark suite locally via some command line?","body":"Is there a way to run this benchmark suite locally via some command line?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646263009,"post_id":71329169,"comment_id":126082993,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21589757,"reputation":1,"user_id":15919570,"display_name":"user15919570"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646255394,"creation_date":1646255394,"question_id":71329169,"body_markdown":"Guava has `guava-tests` subdirectory that contains a `benchmark` directory -- https://github.com/google/guava/tree/master/guava-tests/benchmark/com/google/common. \r\n\r\nHow can I run this benchmark suite?\r\n","title":"How can I run benchmarks in Guava","body":"<p>Guava has <code>guava-tests</code> subdirectory that contains a <code>benchmark</code> directory -- <a href=\"https://github.com/google/guava/tree/master/guava-tests/benchmark/com/google/common\" rel=\"nofollow noreferrer\">https://github.com/google/guava/tree/master/guava-tests/benchmark/com/google/common</a>.</p>\n<p>How can I run this benchmark suite?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1646192545,"post_id":71317154,"comment_id":126060506,"body_markdown":"The constructor doesn&#39;t get called because you&#39;re not calling it.","body":"The constructor doesn&#39;t get called because you&#39;re not calling it."},{"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"score":0,"creation_date":1646220964,"post_id":71317154,"comment_id":126068032,"body_markdown":"Yes your are right, my mistake.","body":"Yes your are right, my mistake."}],"owner":{"account_id":24290154,"reputation":41,"user_id":18235332,"display_name":"eric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646255220,"creation_date":1646192084,"question_id":71317154,"body_markdown":"What is the difference between constructor and static code?\r\n\r\nWhy `Thread.setDefaultUncaughtExceptionHandler`  can not work in constructor?\r\n\r\nSource code 1:\r\n```\r\nclass MyUncaughtExceptionHandler implements\r\n        Thread.UncaughtExceptionHandler {\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        System.out.println(&quot;caught &quot; + e.getMessage());\r\n    }\r\n}\r\npublic class CaughtExceptionThread extends Thread{\r\n\r\n    static {\r\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\r\n    }\r\n}\r\n ```\r\n\r\nSource code 2:\r\n```\r\nclass MyUncaughtExceptionHandler implements\r\n        Thread.UncaughtExceptionHandler {\r\n    @Override\r\n    public void uncaughtException(Thread t, Throwable e) {\r\n        System.out.println(&quot;caught &quot; + e.getMessage());\r\n    }\r\n}\r\npublic class CaughtExceptionThread extends Thread{\r\n\r\n    public CaughtExceptionThread() {\r\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\r\n    }\r\n}\r\n ```\r\n\r\nTest Code:\r\n```\r\npublic class DefaultExceptionHandler extends CaughtExceptionThread{\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService es =\r\n                Executors.newCachedThreadPool();\r\n        es.execute(new ExceptionThread());\r\n        es.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nWhy source code 1 is working but source code 2 is not?\r\n","title":"What is the difference between constructor and static code for &quot;Thread.setDefaultUncaughtExceptionHandler&quot; function","body":"<p>What is the difference between constructor and static code?</p>\n<p>Why <code>Thread.setDefaultUncaughtExceptionHandler</code>  can not work in constructor?</p>\n<p>Source code 1:</p>\n<pre><code>class MyUncaughtExceptionHandler implements\n        Thread.UncaughtExceptionHandler {\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        System.out.println(&quot;caught &quot; + e.getMessage());\n    }\n}\npublic class CaughtExceptionThread extends Thread{\n\n    static {\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\n    }\n}\n</code></pre>\n<p>Source code 2:</p>\n<pre><code>class MyUncaughtExceptionHandler implements\n        Thread.UncaughtExceptionHandler {\n    @Override\n    public void uncaughtException(Thread t, Throwable e) {\n        System.out.println(&quot;caught &quot; + e.getMessage());\n    }\n}\npublic class CaughtExceptionThread extends Thread{\n\n    public CaughtExceptionThread() {\n        Thread.setDefaultUncaughtExceptionHandler(new MyUncaughtExceptionHandler());\n    }\n}\n</code></pre>\n<p>Test Code:</p>\n<pre><code>public class DefaultExceptionHandler extends CaughtExceptionThread{\n\n    public static void main(String[] args) {\n        ExecutorService es =\n                Executors.newCachedThreadPool();\n        es.execute(new ExceptionThread());\n        es.shutdown();\n    }\n}\n</code></pre>\n<p>Why source code 1 is working but source code 2 is not?</p>\n"},{"tags":["java","object-class"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1646252383,"post_id":71328597,"comment_id":126080068,"body_markdown":"When you are comparing two objects for equity (no matter where) Java uses `equals()` method of their class (either overwritten or inherited).  You did not to do anything to be able to use `equals()` for `String` or `Thread` objects.","body":"When you are comparing two objects for equity (no matter where) Java uses <code>equals()</code> method of their class (either overwritten or inherited).  You did not to do anything to be able to use <code>equals()</code> for <code>String</code> or <code>Thread</code> objects."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1646252520,"post_id":71328597,"comment_id":126080140,"body_markdown":"Also whenever you investigate `String` comparison - take into consideration Java&#39;s [`string interning`](https://stackoverflow.com/questions/10578984/what-is-java-string-interning).  Your particular example is still fine.","body":"Also whenever you investigate <code>String</code> comparison - take into consideration Java&#39;s <a href=\"https://stackoverflow.com/questions/10578984/what-is-java-string-interning\"><code>string interning</code></a>.  Your particular example is still fine."},{"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"score":0,"creation_date":1646253249,"post_id":71328597,"comment_id":126080384,"body_markdown":"@PM77-1 Thanks for the reply, I will definitely try to learn about String Intern.","body":"@PM77-1 Thanks for the reply, I will definitely try to learn about String Intern."}],"answers":[{"tags":[],"owner":{"account_id":12929247,"reputation":163,"user_id":9348806,"display_name":"Akash Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646252709,"creation_date":1646252362,"answer_id":71328667,"question_id":71328597,"body_markdown":"The String class overrides the equals method that is inherited from the Object class and implemented logic to compare the two String objects character by character.\r\n\r\nWhy you might ask, did the String class override the equals method inherited from the Object class?  Because the equals method inherited from Object performs reference equality!\r\n\r\nThat&#39;s why when comparing two Strings using .equals() method, their content is compared, and not their references.\r\n\r\nThe evidence is provided by your code itself.\r\n\r\nHere are two more pieces of evidence the String overrides the Object.equals(Object)\r\n\r\nThe [Javadoc][1] implies so. Notice that equality is based on the contents of the string. Indeed, even the existence of a distinct Javadoc for the String.equals(Object) method implies that the method has been overloaded ... given the way that javadocs are generated.\r\n\r\nThe [source code][2] says so. Clearly, the linked code is an overload. And clearly, it is not simply comparing object references.\r\n\r\n#### Note\r\nAs commented, not all Strings in Java are interned. Try reading something from a file or console, those Strings aren&#39;t &quot;interned&quot;, thus equals() (and also hashcode()) needs to be overridden.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java#String.equals%28java.lang.Object%29","title":"Reference Comparison and Content Comparison in Java","body":"<p>The String class overrides the equals method that is inherited from the Object class and implemented logic to compare the two String objects character by character.</p>\n<p>Why you might ask, did the String class override the equals method inherited from the Object class?  Because the equals method inherited from Object performs reference equality!</p>\n<p>That's why when comparing two Strings using .equals() method, their content is compared, and not their references.</p>\n<p>The evidence is provided by your code itself.</p>\n<p>Here are two more pieces of evidence the String overrides the Object.equals(Object)</p>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">Javadoc</a> implies so. Notice that equality is based on the contents of the string. Indeed, even the existence of a distinct Javadoc for the String.equals(Object) method implies that the method has been overloaded ... given the way that javadocs are generated.</p>\n<p>The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">source code</a> says so. Clearly, the linked code is an overload. And clearly, it is not simply comparing object references.</p>\n<h4>Note</h4>\n<p>As commented, not all Strings in Java are interned. Try reading something from a file or console, those Strings aren't &quot;interned&quot;, thus equals() (and also hashcode()) needs to be overridden.</p>\n"}],"owner":{"account_id":10712907,"reputation":221,"user_id":7884616,"display_name":"Superman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646254807,"creation_date":1646251911,"question_id":71328597,"body_markdown":"I was learning about Reference (or Address) comparison and Content comparison. The below statement makes me confused:\r\n\r\n&gt;If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.\r\n\r\n**Point to note:** I haven&#39;t overridden the `.equals()` method and I&#39;m only practicing it in my main class.\r\n\r\n**Below is my code:**\r\n\r\n    package com.reference.content.comparison;\r\n    \r\n    public class ReferenceAndContentComparison {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\t/* &quot;==&quot; operator is used for REFERENCE (or address) comparison. It means, it check if both objects point to same memory location or not.\r\n    \t\t * &quot;.equals()&quot; method is used for CONTENT comparison (in String class). It means, it check if both objects have same value or not.\r\n    \t\t * \r\n    \t\t * MAIN DIFFERENCES ARE:\r\n    \t\t * 1. &quot;==&quot; is an operator while &quot;.equals()&quot; is a method (of Object class).\r\n    \t\t * 2. Line 7 to 8.\r\n    \t\t * 3. &quot;.equals()&quot; method of Object class is used for REFERENCE comparison but in String class, it is used for CONTENT reference (by overriding .equals()).\r\n    \t\t * 4. If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.\r\n    \t\t * 5. When comparing two Strings using .equals() method, their content is compared, and not their references.\r\n    \t\t *    Link for point 5: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\r\n    \t\t */\r\n    \t\tString s1 = &quot;HELLO&quot;;\r\n            String s2 = &quot;HELLO&quot;; // references s1\r\n            String s3 =  new String(&quot;HELLO&quot;); // new instance but same content\r\n     \r\n            System.out.println(s1 == s2); // true; Both s1 and s2 refer to same objects. Their addresses are same.\r\n            System.out.println(s1 == s3); // false; Addresses of s1 and s3 are different.\r\n            System.out.println(s1.equals(s2)); // true; Content of both s1 and s2 are same. Content Reference, because s1 and s2 are string class objects.\r\n            System.out.println(s1.equals(s3)); // true; Content of both s1 and s3 are same. Content Reference, because s1 and s3 are string class objects.\r\n    \t\t\r\n            System.out.println(&quot;-----&quot;);\r\n            \r\n    \t\tThread t1 = new Thread();\r\n            Thread t2 = new Thread();\r\n            Thread t3 = t1;\r\n            String st1 = new String(&quot;WORLD&quot;);\r\n            String st2 = new String(&quot;WORLD&quot;);\r\n     \r\n            System.out.println(t1 == t3); // true; Both t1 and t3 refer to same objects. Address of t1 is assigned to t3.\r\n            System.out.println(t1 == t2); //false; Addresses of t1 and t2 are different.\r\n            System.out.println(st1 == st2); // false; Addresses of st1 and st2 are different.\r\n            System.out.println(t1.equals(t2)); /* false; Here, t1 and t2 are both Thread class objects (not String class objects) and we haven&#39;t overridden the\r\n            \t\t\t\t\t\t\t\t\t.equals() method for Thread class anywhere so by default (as per point 4), .equals() of Object class will be\r\n            \t\t\t\t\t\t\t\t\tin effect and hence as per point 3, .equals() will be used as REFERNCE Comparison.\r\n            \t\t\t\t\t\t\t\t\tAnd since addresses are different, it&#39;s false.*/\r\n            System.out.println(st1.equals(st2)); /* true; Unlike above scenario, st1 and st2 are String class objects and hence as per point 5, content reference is\r\n             \t\t\t\t\t\t\t\t\t\thappening here and since their contents are same, it is true.*/\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nMy confusion is that this `t1.equals(t2)` gives false because of which reason? Is it because the contents are not matching or reference comparison is happening here? I&#39;m sure that the answer is Reference Comparison since I haven&#39;t overridden the `.equals()` method in my main class and by default it is using the method of the `Object` class (as stated in the statement at the very beginning). \r\n\r\nBut consider the below scenario too:\r\n\r\n`st1.equals(st2)` is giving true because of which reason? Contents are matching? Is it not like reference comparison is happening here as well? Or, since contents are matching, it is not a reference comparison but a content comparison? Or, something else?\r\nPlease explain.\r\n\r\n","title":"Reference Comparison and Content Comparison in Java","body":"<p>I was learning about Reference (or Address) comparison and Content comparison. The below statement makes me confused:</p>\n<blockquote>\n<p>If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.</p>\n</blockquote>\n<p><strong>Point to note:</strong> I haven't overridden the <code>.equals()</code> method and I'm only practicing it in my main class.</p>\n<p><strong>Below is my code:</strong></p>\n<pre><code>package com.reference.content.comparison;\n\npublic class ReferenceAndContentComparison {\n\n    public static void main(String[] args) {\n\n        /* &quot;==&quot; operator is used for REFERENCE (or address) comparison. It means, it check if both objects point to same memory location or not.\n         * &quot;.equals()&quot; method is used for CONTENT comparison (in String class). It means, it check if both objects have same value or not.\n         * \n         * MAIN DIFFERENCES ARE:\n         * 1. &quot;==&quot; is an operator while &quot;.equals()&quot; is a method (of Object class).\n         * 2. Line 7 to 8.\n         * 3. &quot;.equals()&quot; method of Object class is used for REFERENCE comparison but in String class, it is used for CONTENT reference (by overriding .equals()).\n         * 4. If a class does not override the equals method, then by default, it uses the equals(Object o) method of the closest parent class that has overridden this method.\n         * 5. When comparing two Strings using .equals() method, their content is compared, and not their references.\n         *    Link for point 5: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\n         */\n        String s1 = &quot;HELLO&quot;;\n        String s2 = &quot;HELLO&quot;; // references s1\n        String s3 =  new String(&quot;HELLO&quot;); // new instance but same content\n \n        System.out.println(s1 == s2); // true; Both s1 and s2 refer to same objects. Their addresses are same.\n        System.out.println(s1 == s3); // false; Addresses of s1 and s3 are different.\n        System.out.println(s1.equals(s2)); // true; Content of both s1 and s2 are same. Content Reference, because s1 and s2 are string class objects.\n        System.out.println(s1.equals(s3)); // true; Content of both s1 and s3 are same. Content Reference, because s1 and s3 are string class objects.\n        \n        System.out.println(&quot;-----&quot;);\n        \n        Thread t1 = new Thread();\n        Thread t2 = new Thread();\n        Thread t3 = t1;\n        String st1 = new String(&quot;WORLD&quot;);\n        String st2 = new String(&quot;WORLD&quot;);\n \n        System.out.println(t1 == t3); // true; Both t1 and t3 refer to same objects. Address of t1 is assigned to t3.\n        System.out.println(t1 == t2); //false; Addresses of t1 and t2 are different.\n        System.out.println(st1 == st2); // false; Addresses of st1 and st2 are different.\n        System.out.println(t1.equals(t2)); /* false; Here, t1 and t2 are both Thread class objects (not String class objects) and we haven't overridden the\n                                            .equals() method for Thread class anywhere so by default (as per point 4), .equals() of Object class will be\n                                            in effect and hence as per point 3, .equals() will be used as REFERNCE Comparison.\n                                            And since addresses are different, it's false.*/\n        System.out.println(st1.equals(st2)); /* true; Unlike above scenario, st1 and st2 are String class objects and hence as per point 5, content reference is\n                                                happening here and since their contents are same, it is true.*/\n\n    }\n\n}\n</code></pre>\n<p>My confusion is that this <code>t1.equals(t2)</code> gives false because of which reason? Is it because the contents are not matching or reference comparison is happening here? I'm sure that the answer is Reference Comparison since I haven't overridden the <code>.equals()</code> method in my main class and by default it is using the method of the <code>Object</code> class (as stated in the statement at the very beginning).</p>\n<p>But consider the below scenario too:</p>\n<p><code>st1.equals(st2)</code> is giving true because of which reason? Contents are matching? Is it not like reference comparison is happening here as well? Or, since contents are matching, it is not a reference comparison but a content comparison? Or, something else?\nPlease explain.</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"score":0,"creation_date":1491576725,"post_id":43279070,"comment_id":73630376,"body_markdown":"In your `persistence.xml`  there is not persistence unit called `&quot;Trainstops&quot;` which is you&#39;re trying to instantiate here: `Persistence.createEntityManagerFactory(&quot;Trainstops&quot;)`. The persistence unit is called  `SubmissionIds` and the entity this PU maps is called `OriginationSubmissions` not `Submissions`. You should check both persistence unit name and class name are the right ones.","body":"In your <code>persistence.xml</code>  there is not persistence unit called <code>&quot;Trainstops&quot;</code> which is you&#39;re trying to instantiate here: <code>Persistence.createEntityManagerFactory(&quot;Trainstops&quot;)</code>. The persistence unit is called  <code>SubmissionIds</code> and the entity this PU maps is called <code>OriginationSubmissions</code> not <code>Submissions</code>. You should check both persistence unit name and class name are the right ones."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1491586807,"post_id":43279070,"comment_id":73636444,"body_markdown":"&quot;LEVEL&quot; is a reserved word and cannot be used as a column name.  Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name.","body":"&quot;LEVEL&quot; is a reserved word and cannot be used as a column name.  Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name."},{"owner":{"account_id":10083601,"reputation":83,"user_id":7453015,"accept_rate":67,"display_name":"Sourajyoti Bose"},"score":0,"creation_date":1491630907,"post_id":43279070,"comment_id":73648811,"body_markdown":"@dic19 - Changed the entity name from TrainStops to SubmissionIds. Still the error persists.","body":"@dic19 - Changed the entity name from TrainStops to SubmissionIds. Still the error persists."}],"answers":[{"tags":[],"owner":{"account_id":10083601,"reputation":83,"user_id":7453015,"accept_rate":67,"display_name":"Sourajyoti Bose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491631655,"creation_date":1491631655,"answer_id":43290787,"question_id":43279070,"body_markdown":"The problem lay in the LEVEL named Field. @Chris has suggested the correct answer in the comment. **&quot;LEVEL&quot; is a reserved word and cannot be used as a column name. Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name.** \r\n\r\nChanging the field name worked easily.","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>The problem lay in the LEVEL named Field. @Chris has suggested the correct answer in the comment. <strong>\"LEVEL\" is a reserved word and cannot be used as a column name. Add the column annotation to your level attribute and name it something else in the table for this to work, or just give the attribute a different name.</strong> </p>\n\n<p>Changing the field name worked easily.</p>\n"},{"tags":[],"owner":{"account_id":8666433,"reputation":727,"user_id":6486778,"display_name":"Vivien SA&#39;A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491644749,"creation_date":1491644080,"answer_id":43292414,"question_id":43279070,"body_markdown":"Avtually Eclipse reported a bug that rises when there is a reserved word usage you can fine here :  \r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=260637.\r\n\r\nthe problem comes from using a reserved word I dont actually know your DBMS, if it is Mysql your attributs\r\n**XID** and **LEVEL**\r\n is a reserved word. you can find mysql reserved word here : \r\n https://dev.mysql.com/doc/refman/5.7/en/keywords.html.\r\n\r\nYou can also se from the sql code used to build your tables that there is a column name update of type DATE\r\n\r\n&gt; UDATE DATE NULL\r\n \r\nSo to my opinion, you also need watch your attribut name on uDate\r\n\r\n\r\n","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>Avtually Eclipse reported a bug that rises when there is a reserved word usage you can fine here :<br>\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=260637\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=260637</a>.</p>\n\n<p>the problem comes from using a reserved word I dont actually know your DBMS, if it is Mysql your attributs\n<strong>XID</strong> and <strong>LEVEL</strong>\n is a reserved word. you can find mysql reserved word here : \n <a href=\"https://dev.mysql.com/doc/refman/5.7/en/keywords.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/keywords.html</a>.</p>\n\n<p>You can also se from the sql code used to build your tables that there is a column name update of type DATE</p>\n\n<blockquote>\n  <p>UDATE DATE NULL</p>\n</blockquote>\n\n<p>So to my opinion, you also need watch your attribut name on uDate</p>\n"},{"tags":[],"owner":{"account_id":15632276,"reputation":117,"user_id":11569193,"display_name":"Takouo Gnegneri Franck Kris-ke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646254730,"creation_date":1646254730,"answer_id":71329059,"question_id":43279070,"body_markdown":"This is very often due to the use of keywords as a column or table name.\r\n\r\nFor columns you can use **@Column(name = &quot;new_name_with_keywords&quot;)**","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>This is very often due to the use of keywords as a column or table name.</p>\n<p>For columns you can use <strong>@Column(name = &quot;new_name_with_keywords&quot;)</strong></p>\n"}],"owner":{"account_id":10083601,"reputation":83,"user_id":7453015,"accept_rate":67,"display_name":"Sourajyoti Bose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":43292414,"answer_count":3,"score":0,"last_activity_date":1646254730,"creation_date":1491570686,"question_id":43279070,"body_markdown":"I am trying to create a table using EclipseLink. The java class being used is :-\r\n\r\n    import java.util.Date;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    public class Submissions {\r\n\r\n\t @Id\r\n\t @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t private Long Id;\r\n\t private String XID;\r\n\t private String Y;\r\n\t @Temporal(TemporalType.DATE)\r\n\t private Date uDate;\r\n\t private String level;\r\n\t private String state;\r\n\r\n\t public Submissions() {\r\n\t }\r\n\r\n\t //All Relevant getter and setter functions\r\n    }\r\n\r\nThe relevant persistence xml in question is as follows:- \r\n    \r\n    &lt;persistence-unit name=&quot;SubmissionIds&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n\t\t&lt;class&gt;com.obp.selenium.DataObjects.OriginationSubmissions&lt;/class&gt;\r\n\t\t&lt;properties&gt;\r\n\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n\t\t\t\tvalue=&quot;jdbc:oracle:thin:@localhost:1521:orcl&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;------&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;------&quot; /&gt;\r\n\r\n\t\t\t&lt;!-- EclipseLink should create the database schema automatically --&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-tables&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation.output-mode&quot;\r\n\t\t\t\tvalue=&quot;database&quot; /&gt;\r\n\t\t\t&lt;!-- &lt;property name=&quot;eclipselink.canonicalmodel.subpackage&quot;\r\n\t\t\t\tvalue=&quot;originationSubmissions&quot; /&gt; --&gt;\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n\r\nWe use the standard method is by implementing the EntityManagerFactory as :-\r\n\r\n    EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;SubmissionIds&quot;);\r\n\t\tEntityManager em = factory.createEntityManager();\r\n\t\tem.getTransaction().begin();\r\n\t\tem.getTransaction().commit();\r\n\t\tem.close();\r\n\r\nHowever I keep getting the following errors :- \r\n&gt;EL Warning]: 2017-04-07 14:04:53.768--ServerSession(1650327539)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.3.v20160428-59c81c5): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLSyntaxErrorException: ORA-00904: : invalid identifier\r\n\r\n&gt;Error Code: 904\r\nCall: CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))\r\nQuery: DataModifyQuery(sql=&quot;CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))&quot;)","title":"JPA/EclipseLink Error in Creating Tables","body":"<p>I am trying to create a table using EclipseLink. The java class being used is :-</p>\n\n<pre><code>import java.util.Date;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Submissions {\n\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long Id;\n private String XID;\n private String Y;\n @Temporal(TemporalType.DATE)\n private Date uDate;\n private String level;\n private String state;\n\n public Submissions() {\n }\n\n //All Relevant getter and setter functions\n}\n</code></pre>\n\n<p>The relevant persistence xml in question is as follows:- </p>\n\n<pre><code>&lt;persistence-unit name=\"SubmissionIds\"&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;com.obp.selenium.DataObjects.OriginationSubmissions&lt;/class&gt;\n    &lt;properties&gt;\n\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"oracle.jdbc.OracleDriver\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.url\"\n            value=\"jdbc:oracle:thin:@localhost:1521:orcl\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"------\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"------\" /&gt;\n\n        &lt;!-- EclipseLink should create the database schema automatically --&gt;\n        &lt;property name=\"eclipselink.ddl-generation\" value=\"create-tables\" /&gt;\n        &lt;property name=\"eclipselink.ddl-generation.output-mode\"\n            value=\"database\" /&gt;\n        &lt;!-- &lt;property name=\"eclipselink.canonicalmodel.subpackage\"\n            value=\"originationSubmissions\" /&gt; --&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p>We use the standard method is by implementing the EntityManagerFactory as :-</p>\n\n<pre><code>EntityManagerFactory factory = Persistence.createEntityManagerFactory(\"SubmissionIds\");\n    EntityManager em = factory.createEntityManager();\n    em.getTransaction().begin();\n    em.getTransaction().commit();\n    em.close();\n</code></pre>\n\n<p>However I keep getting the following errors :- </p>\n\n<blockquote>\n  <p>EL Warning]: 2017-04-07 14:04:53.768--ServerSession(1650327539)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.3.v20160428-59c81c5): org.eclipse.persistence.exceptions.DatabaseException\n  Internal Exception: java.sql.SQLSyntaxErrorException: ORA-00904: : invalid identifier</p>\n  \n  <p>Error Code: 904\n  Call: CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))\n  Query: DataModifyQuery(sql=\"CREATE TABLE SUBMISSIONS (ID NUMBER(19) NOT NULL, XID VARCHAR2(255) NULL, Y VARCHAR2(255) NULL, LEVEL VARCHAR2(255) NULL, STATE VARCHAR2(255) NULL, UDATE DATE NULL, PRIMARY KEY (ID))\")</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1646158054,"post_id":71312817,"comment_id":126052645,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646194770,"post_id":71312817,"comment_id":126060832,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":7010170,"reputation":1,"user_id":5618538,"display_name":"thiago"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646254635,"creation_date":1646157904,"question_id":71312817,"body_markdown":"i&#39;m developing a java desktop application to use as a tool to manipulate properties files.\r\nSo my application need to  to load a TXT file containing several keys (or properties), and be able to changes there values.\r\nI use [Apache commons configurations 2](https://commons.apache.org/proper/commons-configuration) project to do this work.\r\nEverything was going well until a face this situation..\r\nthere is a txt file contating several properties but, one properties (or key) has a # before his name (look at config.txt file below), so apache commons do not recognize this propertie.\r\nWhen i set a value to this propertie (look at last two lines on main method), apache commons configurator creates a new line on config.txt\r\n\r\nThis is not good to me, because i need to preserve the original config.txt format, so if i need to set a value to fileDb propertie, my expected behavior is to remove the # from fileDb name and do not create a new fileDb propertie on config.txt.\r\n\r\nthe program that uses this configuration file (config.txt) understands that if the property is commented (if it has &quot;#&quot; in its name), it means that it should not be used, but if it is uncommented (without &quot;#&quot; in the name) means that it should be used and that its value should be read.\r\n\r\nSo what can i do to add or remove &quot;#&quot; from the propertie name using common configuration? if is not possible to do it with commons configurator, how to do it?\r\n\r\n\r\nOn the ConfigTest class i show how the problem ocours.\r\nBefore run the code, the file config.txt has a commented propertie named fileDB\r\n```\r\n    #fileDb = C:/test/test.db\r\n```\r\nthe maind method try to change the filedb value to &quot;C://aa//bb//cc&quot;\r\nbut after the executions end wil appears a new propetie with the same name &quot;fileDb&quot; but uncomented (without &quot;#&quot;). At the end, config.txt wil have two fileDb propertie, one with &quot;#&quot; and other without &quot;#&quot;\r\n```\r\n    #fileDb = C:/test/test.db\r\n    fileDb = C://aa//bb//cc\r\n```\r\nMy expectd behavior after the code execution is to has only one fileDb propetie\r\n\r\n```\r\n    fileDb = C://aa//bb//cc\r\n```\r\nAfter be able to uncoment this propertie i expect to be able to comment again if necessery (if user wish to do it on my app).\r\n\r\n\r\n### ConfigTest class ###\r\n\r\n\r\n    import org.apache.commons.configuration2.Configuration;\r\n    import org.apache.commons.configuration2.FileBasedConfiguration;\r\n    import org.apache.commons.configuration2.PropertiesConfiguration;\r\n    import org.apache.commons.configuration2.builder.FileBasedConfigurationBuilder;\r\n    import org.apache.commons.configuration2.builder.fluent.FileBasedBuilderParameters;\r\n    import org.apache.commons.configuration2.builder.fluent.Parameters;\r\n    import org.apache.commons.configuration2.ex.ConfigurationException;\r\n\r\n    import java.io.File;\r\n    public class ConfigTest {\r\n\r\n        private Configuration localConfiguration;\r\n        private FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; fileBuilder;\r\n\r\n    private ConfigTest() throws ConfigurationException {\r\n        this.loadPropertiesFile();\r\n    }\r\n\r\n    private void loadPropertiesFile() throws ConfigurationException {\r\n        File file = new File(&quot;config.txt&quot;);\r\n        FileBasedBuilderParameters fb = new Parameters().fileBased();\r\n        fb.setFile(file);\r\n        fileBuilder = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class);\r\n        fileBuilder.configure(fb);\r\n        localConfiguration = fileBuilder.getConfiguration();\r\n    }\r\n\r\n    public boolean saveModifications(){\r\n        try {\r\n            fileBuilder.save();\r\n            return true;\r\n        } catch (ConfigurationException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public void setProperty(String key, String value){\r\n        localConfiguration.setProperty(key,value);\r\n    }\r\n\r\n    public static void main(String[] args) throws ConfigurationException {\r\n\r\n        ConfigTest test = new ConfigTest();\r\n        //change outputOnSSD propertie value to false\r\n        test.setProperty(&quot;outputOnSSD&quot;, &quot;false&quot;);\r\n        //here when i set a new value to fileDb propertie, a new line on config.txt with a new fileDb propertie name is created\r\n        //the question is: how to remove # from fileDb propetie name on config.txt to commons config recognize it as a existent propertie?\r\n        test.setProperty(&quot;fileDb&quot;, &quot;C://aa//bb//cc&quot;);\r\n        test.saveModifications();\r\n\r\n    }\r\n\r\n    }\r\n\r\n### File &quot;config.txt&quot; used by ConfigTest class to change his value ###\r\n```\r\n########################################################################\r\n# Local environment configuration\r\n########################################################################\r\n\r\n# Defines program localization/language\r\nlocale = pt-BR\r\n\r\n# Temporary directory for processing: &quot;default&quot; uses the system temporary folder.\r\nindexTemp = /home/downloads\r\n\r\n# Enable if is on a SSD disk.\r\nindexTempOnSSD = true\r\n\r\n# Enable if output/case folder is on SSD. If enabled, index is created directly in case folder,\r\noutputOnSSD = false\r\n\r\n# Number of processing threads/workers: &quot;default&quot; uses the number of CPU logical cores.\r\nnumThreads = 14\r\n\r\n# Full path for hash index database. \r\n#fileDb = C:/test/test.db\r\n```\r\n\r\n","title":"Common configuration 2 - commented properties","body":"<p>i'm developing a java desktop application to use as a tool to manipulate properties files.\nSo my application need to  to load a TXT file containing several keys (or properties), and be able to changes there values.\nI use <a href=\"https://commons.apache.org/proper/commons-configuration\" rel=\"nofollow noreferrer\">Apache commons configurations 2</a> project to do this work.\nEverything was going well until a face this situation..\nthere is a txt file contating several properties but, one properties (or key) has a # before his name (look at config.txt file below), so apache commons do not recognize this propertie.\nWhen i set a value to this propertie (look at last two lines on main method), apache commons configurator creates a new line on config.txt</p>\n<p>This is not good to me, because i need to preserve the original config.txt format, so if i need to set a value to fileDb propertie, my expected behavior is to remove the # from fileDb name and do not create a new fileDb propertie on config.txt.</p>\n<p>the program that uses this configuration file (config.txt) understands that if the property is commented (if it has &quot;#&quot; in its name), it means that it should not be used, but if it is uncommented (without &quot;#&quot; in the name) means that it should be used and that its value should be read.</p>\n<p>So what can i do to add or remove &quot;#&quot; from the propertie name using common configuration? if is not possible to do it with commons configurator, how to do it?</p>\n<p>On the ConfigTest class i show how the problem ocours.\nBefore run the code, the file config.txt has a commented propertie named fileDB</p>\n<pre><code>    #fileDb = C:/test/test.db\n</code></pre>\n<p>the maind method try to change the filedb value to &quot;C://aa//bb//cc&quot;\nbut after the executions end wil appears a new propetie with the same name &quot;fileDb&quot; but uncomented (without &quot;#&quot;). At the end, config.txt wil have two fileDb propertie, one with &quot;#&quot; and other without &quot;#&quot;</p>\n<pre><code>    #fileDb = C:/test/test.db\n    fileDb = C://aa//bb//cc\n</code></pre>\n<p>My expectd behavior after the code execution is to has only one fileDb propetie</p>\n<pre><code>    fileDb = C://aa//bb//cc\n</code></pre>\n<p>After be able to uncoment this propertie i expect to be able to comment again if necessery (if user wish to do it on my app).</p>\n<h3>ConfigTest class</h3>\n<pre><code>import org.apache.commons.configuration2.Configuration;\nimport org.apache.commons.configuration2.FileBasedConfiguration;\nimport org.apache.commons.configuration2.PropertiesConfiguration;\nimport org.apache.commons.configuration2.builder.FileBasedConfigurationBuilder;\nimport org.apache.commons.configuration2.builder.fluent.FileBasedBuilderParameters;\nimport org.apache.commons.configuration2.builder.fluent.Parameters;\nimport org.apache.commons.configuration2.ex.ConfigurationException;\n\nimport java.io.File;\npublic class ConfigTest {\n\n    private Configuration localConfiguration;\n    private FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt; fileBuilder;\n\nprivate ConfigTest() throws ConfigurationException {\n    this.loadPropertiesFile();\n}\n\nprivate void loadPropertiesFile() throws ConfigurationException {\n    File file = new File(&quot;config.txt&quot;);\n    FileBasedBuilderParameters fb = new Parameters().fileBased();\n    fb.setFile(file);\n    fileBuilder = new FileBasedConfigurationBuilder&lt;FileBasedConfiguration&gt;(PropertiesConfiguration.class);\n    fileBuilder.configure(fb);\n    localConfiguration = fileBuilder.getConfiguration();\n}\n\npublic boolean saveModifications(){\n    try {\n        fileBuilder.save();\n        return true;\n    } catch (ConfigurationException e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n\npublic void setProperty(String key, String value){\n    localConfiguration.setProperty(key,value);\n}\n\npublic static void main(String[] args) throws ConfigurationException {\n\n    ConfigTest test = new ConfigTest();\n    //change outputOnSSD propertie value to false\n    test.setProperty(&quot;outputOnSSD&quot;, &quot;false&quot;);\n    //here when i set a new value to fileDb propertie, a new line on config.txt with a new fileDb propertie name is created\n    //the question is: how to remove # from fileDb propetie name on config.txt to commons config recognize it as a existent propertie?\n    test.setProperty(&quot;fileDb&quot;, &quot;C://aa//bb//cc&quot;);\n    test.saveModifications();\n\n}\n\n}\n</code></pre>\n<h3>File &quot;config.txt&quot; used by ConfigTest class to change his value</h3>\n<pre><code>########################################################################\n# Local environment configuration\n########################################################################\n\n# Defines program localization/language\nlocale = pt-BR\n\n# Temporary directory for processing: &quot;default&quot; uses the system temporary folder.\nindexTemp = /home/downloads\n\n# Enable if is on a SSD disk.\nindexTempOnSSD = true\n\n# Enable if output/case folder is on SSD. If enabled, index is created directly in case folder,\noutputOnSSD = false\n\n# Number of processing threads/workers: &quot;default&quot; uses the number of CPU logical cores.\nnumThreads = 14\n\n# Full path for hash index database. \n#fileDb = C:/test/test.db\n</code></pre>\n"},{"tags":["java","dependency-injection","guice"],"answers":[{"tags":[],"owner":{"account_id":461975,"reputation":6635,"user_id":864027,"accept_rate":64,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646254620,"creation_date":1646254620,"answer_id":71329033,"question_id":71328643,"body_markdown":"Ok, I figured out this _was_ the issue. The way I got around this is by binding the Parent class with the annotation using a constructor. This avoids the circular binding dependency.\r\n\r\n    bind(Parent.class).to(Child.class);\r\n\r\n    Constructor&lt;?&gt;[] parentConstructors = Parent.class.getDeclaredConstructors();\r\n    checkArgument(parentConstructors.length == 1); // Since I only have an @Inject constructor, I can use that\r\n    Constructor&lt;Parent&gt; parentConstructor = (Constructor&lt;Parent&gt;) parentConstructors[0];\r\n    bind(Key.get(Parent.class, MyAnnotation.class)).toConstructor(parentConstructor);","title":"Guice binding a parent concrete class separately from child","body":"<p>Ok, I figured out this <em>was</em> the issue. The way I got around this is by binding the Parent class with the annotation using a constructor. This avoids the circular binding dependency.</p>\n<pre><code>bind(Parent.class).to(Child.class);\n\nConstructor&lt;?&gt;[] parentConstructors = Parent.class.getDeclaredConstructors();\ncheckArgument(parentConstructors.length == 1); // Since I only have an @Inject constructor, I can use that\nConstructor&lt;Parent&gt; parentConstructor = (Constructor&lt;Parent&gt;) parentConstructors[0];\nbind(Key.get(Parent.class, MyAnnotation.class)).toConstructor(parentConstructor);\n</code></pre>\n"}],"owner":{"account_id":461975,"reputation":6635,"user_id":864027,"accept_rate":64,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646254620,"creation_date":1646252203,"question_id":71328643,"body_markdown":"I&#39;m trying set up a Guice Module that will allow me to inject a parent class if the field has a certain annotation and a child class if the field does _not_ have that annotation. Both the parent and child are concrete classes. What I have so far is:\r\n\r\n    bind(Key.get(Parent.class, MyAnnotation.class)).to(Parent.class);\r\n    bind(Parent.class).to(Child.class);\r\n\r\nWhen I do this, I still seem to get an instance of the `Child` class even when I inject with the annotation. I believe the problem is that Guice sees from the first binding that it needs an instance of `Parent`. But then when it goes to provide the instance, it finds a binding for `Parent` (without an annotation) and uses it, resulting in a `Child` instance still being created. Is there a way to get around this problem?\r\n\r\nFWIW, I have discovered that I can get around this by switching which gets the annotation. But for simplicity&#39;s sake, I&#39;d prefer to have the Parent be the one that&#39;s provided when there&#39;s an annotation.","title":"Guice binding a parent concrete class separately from child","body":"<p>I'm trying set up a Guice Module that will allow me to inject a parent class if the field has a certain annotation and a child class if the field does <em>not</em> have that annotation. Both the parent and child are concrete classes. What I have so far is:</p>\n<pre><code>bind(Key.get(Parent.class, MyAnnotation.class)).to(Parent.class);\nbind(Parent.class).to(Child.class);\n</code></pre>\n<p>When I do this, I still seem to get an instance of the <code>Child</code> class even when I inject with the annotation. I believe the problem is that Guice sees from the first binding that it needs an instance of <code>Parent</code>. But then when it goes to provide the instance, it finds a binding for <code>Parent</code> (without an annotation) and uses it, resulting in a <code>Child</code> instance still being created. Is there a way to get around this problem?</p>\n<p>FWIW, I have discovered that I can get around this by switching which gets the annotation. But for simplicity's sake, I'd prefer to have the Parent be the one that's provided when there's an annotation.</p>\n"},{"tags":["java","maven","s3proxy"],"answers":[{"tags":[],"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646254586,"creation_date":1646254586,"answer_id":71329027,"question_id":71328842,"body_markdown":"It&#39;s not a maven problem.\r\nIt comes from error prone Plugin.\r\nSee https://github.com/google/error-prone/issues/535\r\n\r\nCan you upgrade to more recent jdk?\r\n\r\nCan you build without the error prone Plugin?","title":"&#39;mvn package&#39; build errors out with","body":"<p>It's not a maven problem.\nIt comes from error prone Plugin.\nSee <a href=\"https://github.com/google/error-prone/issues/535\" rel=\"nofollow noreferrer\">https://github.com/google/error-prone/issues/535</a></p>\n<p>Can you upgrade to more recent jdk?</p>\n<p>Can you build without the error prone Plugin?</p>\n"}],"owner":{"account_id":24431616,"reputation":1,"user_id":18356475,"display_name":"Fabiola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646254586,"creation_date":1646253384,"question_id":71328842,"body_markdown":"I&#39;m trying to run a &#39;mvn package&#39; and get the same error on multiple systems. I&#39;m not sure if this is an error from my lack of knowledge in maven, a configuration issue or an actual Java bug. Has anyone run in to something similar or know a fix? \r\n\r\n    [INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ s3proxy ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 26 source files to /tmp/s3/s3proxy-s3proxy-1.9.0/target/classes\r\n    An exception has occurred in the compiler (1.8.0_282). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\r\n    java.lang.RuntimeException: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:473)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\r\n    \tat com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)\r\n    \tat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\r\n    \tat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\r\n    \tat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1129)\r\n    \tat org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:188)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:954)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\r\n    \tat com.google.errorprone.BaseErrorProneJavaCompiler.setupMessageBundle(BaseErrorProneJavaCompiler.java:209)\r\n    \tat com.google.errorprone.BaseErrorProneJavaCompiler.addTaskListener(BaseErrorProneJavaCompiler.java:96)\r\n    \tat com.google.errorprone.ErrorProneJavacPlugin.init(ErrorProneJavacPlugin.java:34)\r\n    \tat com.sun.tools.javac.main.Main.compile(Main.java:470)\r\n    \t... 28 more\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] An unknown compilation problem occurred\r\n    [INFO] 1 error\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.764 s\r\n    [INFO] Finished at: 2022-03-02T12:47:20-06:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project s3proxy: Compilation failure\r\n    [ERROR] An unknown compilation problem occurred\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nI have doin a mvn clean package, I have tried resolving dependencies. ","title":"&#39;mvn package&#39; build errors out with","body":"<p>I'm trying to run a 'mvn package' and get the same error on multiple systems. I'm not sure if this is an error from my lack of knowledge in maven, a configuration issue or an actual Java bug. Has anyone run in to something similar or know a fix?</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.8.0:compile (default-compile) @ s3proxy ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 26 source files to /tmp/s3/s3proxy-s3proxy-1.9.0/target/classes\nAn exception has occurred in the compiler (1.8.0_282). Please file a bug against the Java compiler via the Java bug reporting page (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com) for duplicates. Include your program and the following diagnostic in your report. Thank you.\njava.lang.RuntimeException: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\n    at com.sun.tools.javac.main.Main.compile(Main.java:473)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:129)\n    at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:138)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1129)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:188)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:954)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: java.lang.NoSuchMethodError: com.sun.tools.javac.util.JavacMessages.add(Lcom/sun/tools/javac/util/JavacMessages$ResourceBundleHelper;)V\n    at com.google.errorprone.BaseErrorProneJavaCompiler.setupMessageBundle(BaseErrorProneJavaCompiler.java:209)\n    at com.google.errorprone.BaseErrorProneJavaCompiler.addTaskListener(BaseErrorProneJavaCompiler.java:96)\n    at com.google.errorprone.ErrorProneJavacPlugin.init(ErrorProneJavacPlugin.java:34)\n    at com.sun.tools.javac.main.Main.compile(Main.java:470)\n    ... 28 more\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] An unknown compilation problem occurred\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.764 s\n[INFO] Finished at: 2022-03-02T12:47:20-06:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project s3proxy: Compilation failure\n[ERROR] An unknown compilation problem occurred\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>I have doin a mvn clean package, I have tried resolving dependencies.</p>\n"},{"tags":["java","grpc"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646254083,"creation_date":1646254083,"answer_id":71328948,"question_id":71328565,"body_markdown":"[`NettyChannelBuilder.forAddress(SocketAddress)`](https://grpc.github.io/grpc-java/javadoc/io/grpc/netty/NettyChannelBuilder.html#forAddress-java.net.SocketAddress-) is the API that can only access a single IP, due to InetSocketAddress&#39;s eager resolution.\r\n\r\n`forAddress(String, int)` was retrofit to use `forTarget(String)` internally. So it is a convenience and converts to something similar to `forTarget(host + &quot;:&quot; + port)`, but with some extra logic to handle IPv6 literals. The &quot;dns:///&quot; prefix is added to target strings when they fail to parse. See [the `forTarget()` docs](https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#forTarget-java.lang.String-) for both details. So it is essentially equivalent to using `forTarget(&quot;dns:///mybackend:6565&quot;)`.\r\n\r\ngRPC, by default, doesn&#39;t round-robin over multiple addresses. By default it does &quot;pick-first&quot; which stops on the first working address (potentially choosing a different address when reconnecting). You can change that via a service config or [`defaultLoadBalancingPolicy(&quot;round_robin&quot;)`](https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#defaultLoadBalancingPolicy-java.lang.String-).","title":"Does GRPC ManagedChannel use DNS-RR for load balancing?","body":"<p><a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/netty/NettyChannelBuilder.html#forAddress-java.net.SocketAddress-\" rel=\"nofollow noreferrer\"><code>NettyChannelBuilder.forAddress(SocketAddress)</code></a> is the API that can only access a single IP, due to InetSocketAddress's eager resolution.</p>\n<p><code>forAddress(String, int)</code> was retrofit to use <code>forTarget(String)</code> internally. So it is a convenience and converts to something similar to <code>forTarget(host + &quot;:&quot; + port)</code>, but with some extra logic to handle IPv6 literals. The &quot;dns:///&quot; prefix is added to target strings when they fail to parse. See <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#forTarget-java.lang.String-\" rel=\"nofollow noreferrer\">the <code>forTarget()</code> docs</a> for both details. So it is essentially equivalent to using <code>forTarget(&quot;dns:///mybackend:6565&quot;)</code>.</p>\n<p>gRPC, by default, doesn't round-robin over multiple addresses. By default it does &quot;pick-first&quot; which stops on the first working address (potentially choosing a different address when reconnecting). You can change that via a service config or <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#defaultLoadBalancingPolicy-java.lang.String-\" rel=\"nofollow noreferrer\"><code>defaultLoadBalancingPolicy(&quot;round_robin&quot;)</code></a>.</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646254083,"creation_date":1646251689,"question_id":71328565,"body_markdown":"When creating a channel like this\r\n\r\n```\r\nManagedChannelBuilder.forAddress(&quot;mybackend&quot;, 6565)\r\n```\r\n\r\nAnd `mybackend` is a DNS A record with multiple IP addresses.\r\n\r\nDoes GRPC round-robin between the records or does it just stick to one for the lifetime of the channel?\r\n\r\nIf not, would it work if I do?\r\n\r\n```\r\nManagedChannelBuilder.forTarget(&quot;dns:///mybackend:6565&quot;)\r\n```\r\n\r\nOr is this capability just not available?","title":"Does GRPC ManagedChannel use DNS-RR for load balancing?","body":"<p>When creating a channel like this</p>\n<pre><code>ManagedChannelBuilder.forAddress(&quot;mybackend&quot;, 6565)\n</code></pre>\n<p>And <code>mybackend</code> is a DNS A record with multiple IP addresses.</p>\n<p>Does GRPC round-robin between the records or does it just stick to one for the lifetime of the channel?</p>\n<p>If not, would it work if I do?</p>\n<pre><code>ManagedChannelBuilder.forTarget(&quot;dns:///mybackend:6565&quot;)\n</code></pre>\n<p>Or is this capability just not available?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1646253403,"post_id":71328758,"comment_id":126080433,"body_markdown":"welcome to SO , i added an answer if it satisfy your requirement please accept it as answer to improve the community .","body":"welcome to SO , i added an answer if it satisfy your requirement please accept it as answer to improve the community ."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646253768,"creation_date":1646253320,"answer_id":71328829,"question_id":71328758,"body_markdown":"Consider to use absolute pathname to where the file exists.\r\n\r\n\r\n\r\n    PDFMergerUtility result = new PDFMergerUtility();\r\n    result.addSource(&quot;C:\\\\...\\\\FileRead\\\\first.txt&quot;);\r\n    result.addSource(&quot;C:\\\\...\\\\FileRead\\\\second.txt&quot;);\r\n    result.setDestinationFileName(&quot;the destination path&quot;);\r\n    result.mergeDocuments();\r\n\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/docs/2.0.0/javadocs/org/apache/pdfbox/multipdf/PDFMergerUtility.html","title":"How can I merge two pdf using pdfBox","body":"<p>Consider to use absolute pathname to where the file exists.</p>\n<pre><code>PDFMergerUtility result = new PDFMergerUtility();\nresult.addSource(&quot;C:\\\\...\\\\FileRead\\\\first.txt&quot;);\nresult.addSource(&quot;C:\\\\...\\\\FileRead\\\\second.txt&quot;);\nresult.setDestinationFileName(&quot;the destination path&quot;);\nresult.mergeDocuments();\n</code></pre>\n"}],"owner":{"account_id":24432972,"reputation":13,"user_id":18357642,"display_name":"hafoxi2844"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71328829,"answer_count":1,"score":1,"last_activity_date":1646253768,"creation_date":1646252942,"question_id":71328758,"body_markdown":"Hi there I am trying to generate pdf by combining two one from my local machine and another one from s3 I am not sure how to do this \r\nhere is what I tried doing - \r\n\r\n    S3Object object = amazonS3.getObject(new GetObjectRequest(bucket, &quot;name.pdf&quot;));\r\n    InputStream ins = object.getObjectContent();\r\n    try {\r\n        PDDocument doc = PDDocument.load(ins);\r\n\r\n        File file1 = new File(\r\n                &quot;C:\\\\Users\\\\admin\\\\example.pdf&quot;);\r\n        PDFMergerUtility obj = new PDFMergerUtility();\r\n\r\n        obj.setDestinationFileName(\r\n                &quot;C:\\\\Users\\\\admin\\\\newMerged.pdf&quot;);\r\n\r\n        obj.addSource(file1);\r\n        obj.addSource(String.valueOf(doc));\r\n        obj.mergeDocuments();\r\n        System.out.println(&quot;PDF Documents merged to a single file&quot;);\r\n    }\r\n    catch (Exception e){\r\n        e.printStackTrace();\r\n    }\r\n\r\nError -  `org.apache.pdfbox.pdmodel.PDDocument@4d33940d (The system cannot find the file specified)`\r\n\r\nI know this could not be the way, I wanna know how to do this thing. ","title":"How can I merge two pdf using pdfBox","body":"<p>Hi there I am trying to generate pdf by combining two one from my local machine and another one from s3 I am not sure how to do this\nhere is what I tried doing -</p>\n<pre><code>S3Object object = amazonS3.getObject(new GetObjectRequest(bucket, &quot;name.pdf&quot;));\nInputStream ins = object.getObjectContent();\ntry {\n    PDDocument doc = PDDocument.load(ins);\n\n    File file1 = new File(\n            &quot;C:\\\\Users\\\\admin\\\\example.pdf&quot;);\n    PDFMergerUtility obj = new PDFMergerUtility();\n\n    obj.setDestinationFileName(\n            &quot;C:\\\\Users\\\\admin\\\\newMerged.pdf&quot;);\n\n    obj.addSource(file1);\n    obj.addSource(String.valueOf(doc));\n    obj.mergeDocuments();\n    System.out.println(&quot;PDF Documents merged to a single file&quot;);\n}\ncatch (Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>Error -  <code>org.apache.pdfbox.pdmodel.PDDocument@4d33940d (The system cannot find the file specified)</code></p>\n<p>I know this could not be the way, I wanna know how to do this thing.</p>\n"},{"tags":["java","spring","soap","saml","spring-ws"],"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":0,"creation_date":1646253680,"post_id":71297255,"comment_id":126080522,"body_markdown":"I ended up doing it according to the answer here.","body":"I ended up doing it according to the answer here."}],"answers":[{"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646253744,"creation_date":1646253744,"answer_id":71328895,"question_id":71297255,"body_markdown":"I ended up fixing it via this answer, which worked perfectly:\r\n\r\nhttps://stackoverflow.com/a/59666667/3094805","title":"How to add a SAML assertion to a SOAP security header in Spring using Wss4jSecurityInterceptor","body":"<p>I ended up fixing it via this answer, which worked perfectly:</p>\n<p><a href=\"https://stackoverflow.com/a/59666667/3094805\">https://stackoverflow.com/a/59666667/3094805</a></p>\n"}],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328895,"answer_count":1,"score":0,"last_activity_date":1646253744,"creation_date":1646061915,"question_id":71297255,"body_markdown":"I have a requirement to pass a SAML assertion as a token inside a SOAP security header. I am using Spring-WS as the framework.\r\n\r\nThe XML that I want to create looks like this:\r\n\r\nI have a requirement to pass a SAML assertion as a token inside a SOAP security header.\r\n\r\nThe XML that I want to create looks as below. As can be seen, the XML contains the assertion with the ```wsse:Security``` block.\r\n\r\nIs there a way to do this with the ```Wss4jSecurityInterceptor``` class ?\r\n\r\n\r\n```\r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;SOAP-ENV:Header&gt;\r\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n\r\n            &lt;Assertion MinorVersion=&quot;1&quot; MajorVersion=&quot;1&quot; Issuer=&quot;http://www.bea.com/saml&quot;\r\n                       IssueInstant=&quot;2005-11-10T11:27:36.233Z&quot; AssertionID=&quot;HRMC-SM172.26.5.143.1106860829320&quot;\r\n                       xmlns=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;&gt;\r\n                &lt;Conditions NotOnOrAfter=&quot;2005-11-10T15:27:36.233Z&quot; NotBefore=&quot;2005-11-10T11:22:36.233Z&quot;/&gt;\r\n                &lt;AuthenticationStatement AuthenticationMethod=&quot;urn:oasis:names:tc:SAML:1.0:am:unspecified&quot;\r\n                                         AuthenticationInstant=&quot;2005-11-10T11:27:36.233Z&quot;&gt;\r\n                    &lt;Subject&gt;\r\n                        &lt;NameIdentifier Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;&gt;ANYAGENT\r\n                        &lt;/NameIdentifier&gt;\r\n                        &lt;SubjectConfirmation&gt;\r\n                            &lt;ConfirmationMethod&gt;urn:oasis:names:tc:SAML:1.0:cm:sender-vouches&lt;/ConfirmationMethod&gt;\r\n                        &lt;/SubjectConfirmation&gt;\r\n                    &lt;/Subject&gt;\r\n                &lt;/AuthenticationStatement&gt;\r\n            &lt;/Assertion&gt;\r\n\r\n        &lt;/wsse:Security&gt;\r\n    &lt;/SOAP-ENV:Header&gt;\r\n    &lt;SOAP-ENV:Body&gt;\r\n        &lt;m:DPSretrieve xmlns:m=&quot;https://tpvs.hmrc.gov.uk/dps&quot;&gt;\r\n            &lt;m:version&gt;1&lt;/m:version&gt;\r\n            &lt;m:vendorID&gt;your 4 digit vendorID&lt;/m:vendorID&gt;\r\n            &lt;m:service&gt;PAYE&lt;/m:service&gt;\r\n            &lt;m:entityType&gt;EmpRef&lt;/m:entityType&gt;\r\n            &lt;m:entity&gt;as advised by SDS Team&lt;/m:entity&gt;\r\n            &lt;m:dataType&gt;P6&lt;/m:dataType&gt;\r\n            &lt;m:got&gt;0&lt;/m:got&gt;\r\n            &lt;m:nItems&gt;0&lt;/m:nItems&gt;\r\n        &lt;/m:DPSretrieve&gt;\r\n    &lt;/SOAP-ENV:Body&gt;\r\n&lt;/SOAP-ENV:Envelope&gt;\r\n```","title":"How to add a SAML assertion to a SOAP security header in Spring using Wss4jSecurityInterceptor","body":"<p>I have a requirement to pass a SAML assertion as a token inside a SOAP security header. I am using Spring-WS as the framework.</p>\n<p>The XML that I want to create looks like this:</p>\n<p>I have a requirement to pass a SAML assertion as a token inside a SOAP security header.</p>\n<p>The XML that I want to create looks as below. As can be seen, the XML contains the assertion with the <code>wsse:Security</code> block.</p>\n<p>Is there a way to do this with the <code>Wss4jSecurityInterceptor</code> class ?</p>\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;SOAP-ENV:Header&gt;\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\n\n            &lt;Assertion MinorVersion=&quot;1&quot; MajorVersion=&quot;1&quot; Issuer=&quot;http://www.bea.com/saml&quot;\n                       IssueInstant=&quot;2005-11-10T11:27:36.233Z&quot; AssertionID=&quot;HRMC-SM172.26.5.143.1106860829320&quot;\n                       xmlns=&quot;urn:oasis:names:tc:SAML:1.0:assertion&quot;&gt;\n                &lt;Conditions NotOnOrAfter=&quot;2005-11-10T15:27:36.233Z&quot; NotBefore=&quot;2005-11-10T11:22:36.233Z&quot;/&gt;\n                &lt;AuthenticationStatement AuthenticationMethod=&quot;urn:oasis:names:tc:SAML:1.0:am:unspecified&quot;\n                                         AuthenticationInstant=&quot;2005-11-10T11:27:36.233Z&quot;&gt;\n                    &lt;Subject&gt;\n                        &lt;NameIdentifier Format=&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified&quot;&gt;ANYAGENT\n                        &lt;/NameIdentifier&gt;\n                        &lt;SubjectConfirmation&gt;\n                            &lt;ConfirmationMethod&gt;urn:oasis:names:tc:SAML:1.0:cm:sender-vouches&lt;/ConfirmationMethod&gt;\n                        &lt;/SubjectConfirmation&gt;\n                    &lt;/Subject&gt;\n                &lt;/AuthenticationStatement&gt;\n            &lt;/Assertion&gt;\n\n        &lt;/wsse:Security&gt;\n    &lt;/SOAP-ENV:Header&gt;\n    &lt;SOAP-ENV:Body&gt;\n        &lt;m:DPSretrieve xmlns:m=&quot;https://tpvs.hmrc.gov.uk/dps&quot;&gt;\n            &lt;m:version&gt;1&lt;/m:version&gt;\n            &lt;m:vendorID&gt;your 4 digit vendorID&lt;/m:vendorID&gt;\n            &lt;m:service&gt;PAYE&lt;/m:service&gt;\n            &lt;m:entityType&gt;EmpRef&lt;/m:entityType&gt;\n            &lt;m:entity&gt;as advised by SDS Team&lt;/m:entity&gt;\n            &lt;m:dataType&gt;P6&lt;/m:dataType&gt;\n            &lt;m:got&gt;0&lt;/m:got&gt;\n            &lt;m:nItems&gt;0&lt;/m:nItems&gt;\n        &lt;/m:DPSretrieve&gt;\n    &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":3,"creation_date":1530472594,"post_id":51126188,"comment_id":89237481,"body_markdown":"Debugging is an integral part of programming. In this case you can easily find &quot;corner cases&quot; by writing a &quot;naive&quot; implementation and running it against your implementation of all pairs of `L` and `R` from 0 to 100.","body":"Debugging is an integral part of programming. In this case you can easily find &quot;corner cases&quot; by writing a &quot;naive&quot; implementation and running it against your implementation of all pairs of <code>L</code> and <code>R</code> from 0 to 100."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1530472671,"post_id":51126188,"comment_id":89237498,"body_markdown":"What does your program output for the range `[4, 14]`?","body":"What does your program output for the range <code>[4, 14]</code>?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1530473494,"post_id":51126188,"comment_id":89237686,"body_markdown":"Hint: such stuff is *perfect* for TDD. Meaning: instead of first writing all the code, to hope it works, you start by writing a simple test. Then you write code to solve the test. And so on ...","body":"Hint: such stuff is <i>perfect</i> for TDD. Meaning: instead of first writing all the code, to hope it works, you start by writing a simple test. Then you write code to solve the test. And so on ..."},{"owner":{"account_id":4015930,"reputation":15925,"user_id":3308055,"display_name":"juvian"},"score":0,"creation_date":1530483712,"post_id":51126188,"comment_id":89239782,"body_markdown":"R = L = 3, your program gives wrong output","body":"R = L = 3, your program gives wrong output"}],"answers":[{"tags":[],"owner":{"account_id":23752080,"reputation":1,"user_id":17768702,"display_name":"Aniket Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253681,"creation_date":1646231600,"answer_id":71324431,"question_id":51126188,"body_markdown":"    class Codechef {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint t = sc.nextInt();\r\n    \t\tfor (int i =0;i&lt;t ;i++ ){\r\n    \t\t    int l = sc.nextInt();\r\n    \t\t    int r = sc.nextInt();\r\n    \t\t    int count = 0;\r\n    \t\t    for(int j=l;j&lt;=r;j++){\r\n    \t\t         if(j%10==2){\r\n    \t\t        count++;`\r\n    \t\t    }\r\n    \t\t    else if (j%10==3) {\r\n    \t\t        count++;\r\n    \t\t    }\r\n    \t\t    else if(j%10==9){\r\n    \t\t        count++;\r\n    \t\t    }\r\n    \t\t    \r\n    \t\t}\r\n    \t\tSystem.out.println(count);\r\n    \t}\r\n    }\r\n\r\ninput is :\r\n\r\n    2\r\n    1 10\r\n    11 33\r\n\r\noutput is :\r\n\r\n    3\r\n    8\r\n\r\n","title":"Code Chef Counting Pretty Numbers","body":"<pre><code>class Codechef {\n    public static void main (String[] args) throws java.lang.Exception {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        for (int i =0;i&lt;t ;i++ ){\n            int l = sc.nextInt();\n            int r = sc.nextInt();\n            int count = 0;\n            for(int j=l;j&lt;=r;j++){\n                 if(j%10==2){\n                count++;`\n            }\n            else if (j%10==3) {\n                count++;\n            }\n            else if(j%10==9){\n                count++;\n            }\n            \n        }\n        System.out.println(count);\n    }\n}\n</code></pre>\n<p>input is :</p>\n<pre><code>2\n1 10\n11 33\n</code></pre>\n<p>output is :</p>\n<pre><code>3\n8\n</code></pre>\n"}],"owner":{"account_id":8620507,"reputation":1,"user_id":8886108,"display_name":"Muhammad Saboor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646253681,"creation_date":1530471889,"question_id":51126188,"body_markdown":"I am doing code chef problems. I am stuck on this one. The problem is simple one.\r\nhttps://www.codechef.com/LTIME61B/problems/NUM239\r\n\r\nVasya likes the number 239. Therefore, he considers a number pretty if its last digit is 2, 3 or 9.\r\nVasya wants to watch the numbers between L\r\nand R (both inclusive), so he asked you to determine how many pretty numbers are in this range. Can you help him?\r\n\r\nI wrote a solution in O(T) which is giving correct answers for my inputs. But shows wrong answer on codechef.\r\nIs there any corner case I am missing?\r\nMy code is:\r\n\r\n        public class Solution {\r\n            public static void main( String[] args ) {\r\n            Scanner scanner = new Scanner( System.in );\r\n            int T = scanner.nextInt();\r\n            for( int i = 0; i &lt; T; i++ ) {\r\n                int prettyNumbers;\r\n                int L = scanner.nextInt();\r\n                int R = scanner.nextInt();\r\n\r\n                prettyNumbers = ( (R/10) - (L/10) ) * 3;\r\n\r\n                if( R%10 &gt; 1 ) {\r\n                    prettyNumbers++;\r\n                    if( R%10 &gt;= 3 ) {\r\n                        prettyNumbers++;\r\n                    }\r\n                    if( R%10 == 9 ) {\r\n                        prettyNumbers++;\r\n                    }\r\n                }\r\n\r\n                System.out.println( prettyNumbers );\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n","title":"Code Chef Counting Pretty Numbers","body":"<p>I am doing code chef problems. I am stuck on this one. The problem is simple one.\n<a href=\"https://www.codechef.com/LTIME61B/problems/NUM239\" rel=\"nofollow noreferrer\">https://www.codechef.com/LTIME61B/problems/NUM239</a></p>\n\n<p>Vasya likes the number 239. Therefore, he considers a number pretty if its last digit is 2, 3 or 9.\nVasya wants to watch the numbers between L\nand R (both inclusive), so he asked you to determine how many pretty numbers are in this range. Can you help him?</p>\n\n<p>I wrote a solution in O(T) which is giving correct answers for my inputs. But shows wrong answer on codechef.\nIs there any corner case I am missing?\nMy code is:</p>\n\n<pre><code>    public class Solution {\n        public static void main( String[] args ) {\n        Scanner scanner = new Scanner( System.in );\n        int T = scanner.nextInt();\n        for( int i = 0; i &lt; T; i++ ) {\n            int prettyNumbers;\n            int L = scanner.nextInt();\n            int R = scanner.nextInt();\n\n            prettyNumbers = ( (R/10) - (L/10) ) * 3;\n\n            if( R%10 &gt; 1 ) {\n                prettyNumbers++;\n                if( R%10 &gt;= 3 ) {\n                    prettyNumbers++;\n                }\n                if( R%10 == 9 ) {\n                    prettyNumbers++;\n                }\n            }\n\n            System.out.println( prettyNumbers );\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","angular","typescript","spring-boot"],"comments":[{"owner":{"account_id":10144463,"reputation":545,"user_id":7493043,"display_name":"Ezani"},"score":0,"creation_date":1627529068,"post_id":68568709,"comment_id":121181936,"body_markdown":"Why are you showing that you are logged in before you even get to the Login Form to keyin your username and password? Also your logout function should clear your credential variables otherwise they remain and you will still be logged in.","body":"Why are you showing that you are logged in before you even get to the Login Form to keyin your username and password? Also your logout function should clear your credential variables otherwise they remain and you will still be logged in."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1627540999,"creation_date":1627540999,"answer_id":68571263,"question_id":68568709,"body_markdown":"Try clearing out your `localStorage` when logging out:\r\n\r\n```js\r\nlocalStorage.clear();\r\n```\r\n\r\nBasically, this removes any trace that the app left when logging in.","title":"logout function refreshes the page but it&#39;s still logged in","body":"<p>Try clearing out your <code>localStorage</code> when logging out:</p>\n<pre class=\"lang-js prettyprint-override\"><code>localStorage.clear();\n</code></pre>\n<p>Basically, this removes any trace that the app left when logging in.</p>\n"},{"tags":[],"owner":{"account_id":24432261,"reputation":1,"user_id":18357041,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253602,"creation_date":1646250834,"answer_id":71328428,"question_id":68568709,"body_markdown":"**Try This Approach **\r\n\r\n  \r\n\r\n    logout() {\r\n       this.loginService.logOut().subscribe(\r\n        res =&gt; {\r\n    \r\n          if(res) {\r\n            // clear localStorage\r\n            localStorage.clear();\r\n            //navigate to login component\r\n            this.router.navigate([&#39;loginPagePathName&#39;]);\r\n            console.log(&quot;Logged out&quot;)\r\n          }\t\t\r\n        },\r\n        error =&gt; console.log(error));\r\n    }\r\n\r\n\r\nWe don&#39;t need to refresh the page\r\nNote :- You can also clear the local storage whenever login component load into the browser simply put localStorage.clear() inside ngOnInit method of loginComponent ","title":"logout function refreshes the page but it&#39;s still logged in","body":"<p>**Try This Approach **</p>\n<pre><code>logout() {\n   this.loginService.logOut().subscribe(\n    res =&gt; {\n\n      if(res) {\n        // clear localStorage\n        localStorage.clear();\n        //navigate to login component\n        this.router.navigate(['loginPagePathName']);\n        console.log(&quot;Logged out&quot;)\n      }     \n    },\n    error =&gt; console.log(error));\n}\n</code></pre>\n<p>We don't need to refresh the page\nNote :- You can also clear the local storage whenever login component load into the browser simply put localStorage.clear() inside ngOnInit method of loginComponent</p>\n"}],"owner":{"account_id":4528612,"reputation":47,"user_id":3679756,"display_name":"WannaBeDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2074,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68571263,"answer_count":2,"score":0,"last_activity_date":1646253602,"creation_date":1627518111,"question_id":68568709,"body_markdown":"I am following a course on Udemy, the instructor&#39;s side is using Angular 2 and I am trying to build the app using the latest version. The main problem I have, is that the logout function is accessed but because I have to refresh the page to display the login form again, for some reason, after the refresh, I see the login form but then it goes back to the part where I&#39;m logged in.\r\n\r\nLogout method on the back-end side:\r\n\r\n    @RequestMapping(value=&quot;/loggedOut&quot;, method=RequestMethod.POST)\r\n\tpublic ResponseEntity logout(){\r\n\t\tSecurityContextHolder.clearContext();\r\n\t\treturn new ResponseEntity(&quot;Logout Successfully!&quot;, HttpStatus.OK);\r\n\t}\r\n\r\nLogout function from my login service:\r\n\r\n    logOut() {\r\n    const url = &#39;http://localhost:8181/loggedOut&#39;;\r\n    const basicHeader = &#39;Basic &#39; + localStorage.getItem(&#39;credentials&#39;);\r\n    const headers = new HttpHeaders({\r\n      &#39;x-auth-token&#39; : JSON.stringify(localStorage.getItem(&#39;xAuthToken&#39;)),\r\n      &#39;Authorization&#39; : basicHeader\r\n    });\r\n    return this.http.post(url, &#39;&#39;, { headers, responseType: &#39;text&#39;});\r\n\r\nThe button responsible for logging out:\r\n\r\n    logout() {\r\n      this.loginService.logOut().subscribe(\r\n        res =&gt; {\r\n          location.reload();\r\n          console.log(&quot;Logged out&quot;)\r\n        },\r\n        error =&gt; {\r\n          console.log(error)\r\n        }\r\n      );\r\n\r\nTechnically, it goes as follow: Logged in -&gt; Login form -&gt; Logged in\r\n\r\nLogged in:\r\n[![Logged in picture][1]][1]\r\n\r\nLog in form:\r\n[![Logged out][2]][2]\r\n\r\n\r\nIf I remove the reload method, I can see that the logout method is accessed and I get a 200 from the back-end.\r\n\r\n[![Logged Out][3]][3]\r\n\r\nNetwork tab before refreshing: \r\n\r\n[![Network tab response][4]][4]\r\n\r\nThe server response before refreshing:\r\n\r\n[![Server Response][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AO8Jj.png\r\n  [2]: https://i.stack.imgur.com/rHL4O.png\r\n  [3]: https://i.stack.imgur.com/J6krZ.png\r\n  [4]: https://i.stack.imgur.com/LghYO.png\r\n  [5]: https://i.stack.imgur.com/0cVU1.png","title":"logout function refreshes the page but it&#39;s still logged in","body":"<p>I am following a course on Udemy, the instructor's side is using Angular 2 and I am trying to build the app using the latest version. The main problem I have, is that the logout function is accessed but because I have to refresh the page to display the login form again, for some reason, after the refresh, I see the login form but then it goes back to the part where I'm logged in.</p>\n<p>Logout method on the back-end side:</p>\n<pre><code>@RequestMapping(value=&quot;/loggedOut&quot;, method=RequestMethod.POST)\npublic ResponseEntity logout(){\n    SecurityContextHolder.clearContext();\n    return new ResponseEntity(&quot;Logout Successfully!&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>Logout function from my login service:</p>\n<pre><code>logOut() {\nconst url = 'http://localhost:8181/loggedOut';\nconst basicHeader = 'Basic ' + localStorage.getItem('credentials');\nconst headers = new HttpHeaders({\n  'x-auth-token' : JSON.stringify(localStorage.getItem('xAuthToken')),\n  'Authorization' : basicHeader\n});\nreturn this.http.post(url, '', { headers, responseType: 'text'});\n</code></pre>\n<p>The button responsible for logging out:</p>\n<pre><code>logout() {\n  this.loginService.logOut().subscribe(\n    res =&gt; {\n      location.reload();\n      console.log(&quot;Logged out&quot;)\n    },\n    error =&gt; {\n      console.log(error)\n    }\n  );\n</code></pre>\n<p>Technically, it goes as follow: Logged in -&gt; Login form -&gt; Logged in</p>\n<p>Logged in:\n<a href=\"https://i.stack.imgur.com/AO8Jj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AO8Jj.png\" alt=\"Logged in picture\" /></a></p>\n<p>Log in form:\n<a href=\"https://i.stack.imgur.com/rHL4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rHL4O.png\" alt=\"Logged out\" /></a></p>\n<p>If I remove the reload method, I can see that the logout method is accessed and I get a 200 from the back-end.</p>\n<p><a href=\"https://i.stack.imgur.com/J6krZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J6krZ.png\" alt=\"Logged Out\" /></a></p>\n<p>Network tab before refreshing:</p>\n<p><a href=\"https://i.stack.imgur.com/LghYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LghYO.png\" alt=\"Network tab response\" /></a></p>\n<p>The server response before refreshing:</p>\n<p><a href=\"https://i.stack.imgur.com/0cVU1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cVU1.png\" alt=\"Server Response\" /></a></p>\n"},{"tags":["java","proxy","httpclient","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":1227667,"reputation":116,"user_id":1192929,"display_name":"quotidian-ennui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646252166,"creation_date":1646252166,"answer_id":71328636,"question_id":71327914,"body_markdown":"Set the proxy when you create the client, or set the proxy on the Request.\r\n\r\nSince you already refer to a createHttpClient() method :\r\n\r\n\r\n```java\r\nprivate ClosableHttpClient createHttpClient() {\r\n  HttpClientBuilder builder = HttpClients.custom();\r\n  builder.setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\r\n  return builder.build();\r\n}\r\n```\r\n\r\nor setting it when you create the request : \r\n\r\n```java\r\n            RequestConfig requestConfig = RequestConfig.custom()\r\n                    .setConnectionRequestTimeout(1000 * 60 * 5)\r\n                    .setSocketTimeout(1000 * 60 * 5)\r\n                    .setProxy(&quot;http://my.proxy&quot;)\r\n                    .build();\r\n```\r\n\r\nSince you&#39;re implying that it&#39;s an authenticated proxy then I guess some credentials are in order.\r\n\r\n```java\r\nprivate ClosableHttpClient createHttpClient() {\r\n  CredentialsProvider creds = new BasicCredentialsProvider();\r\n  creds.setCredentials(new AuthScope(&quot;my.proxy&quot;, 80), \r\n     new UsernamePasswordCredentials(&quot;myuser&quot;, &quot;mypassword&quot;)));\r\n  HttpClientBuilder builder = HttpClients.custom()\r\n     .setDefaultCredentialsProvider(creds)\r\n     .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\r\n     .setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\r\n  return builder.build();\r\n}\r\n```\r\n","title":"How to set Proxy in HttpPost in java","body":"<p>Set the proxy when you create the client, or set the proxy on the Request.</p>\n<p>Since you already refer to a createHttpClient() method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ClosableHttpClient createHttpClient() {\n  HttpClientBuilder builder = HttpClients.custom();\n  builder.setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\n  return builder.build();\n}\n</code></pre>\n<p>or setting it when you create the request :</p>\n<pre class=\"lang-java prettyprint-override\"><code>            RequestConfig requestConfig = RequestConfig.custom()\n                    .setConnectionRequestTimeout(1000 * 60 * 5)\n                    .setSocketTimeout(1000 * 60 * 5)\n                    .setProxy(&quot;http://my.proxy&quot;)\n                    .build();\n</code></pre>\n<p>Since you're implying that it's an authenticated proxy then I guess some credentials are in order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ClosableHttpClient createHttpClient() {\n  CredentialsProvider creds = new BasicCredentialsProvider();\n  creds.setCredentials(new AuthScope(&quot;my.proxy&quot;, 80), \n     new UsernamePasswordCredentials(&quot;myuser&quot;, &quot;mypassword&quot;)));\n  HttpClientBuilder builder = HttpClients.custom()\n     .setDefaultCredentialsProvider(creds)\n     .setProxyAuthenticationStrategy(ProxyAuthenticationStrategy.INSTANCE)\n     .setProxy(HttpHost.create(&quot;http://my.proxy&quot;));\n  return builder.build();\n}\n</code></pre>\n"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328636,"answer_count":1,"score":0,"last_activity_date":1646253503,"creation_date":1646247830,"question_id":71327914,"body_markdown":"Please consider that I have a Custom Proxy Class with fields,\r\n\r\n    private final String serverName;\r\n\tprivate final int port;\r\n\tprivate final String username;\r\n\tprivate final String password;\r\n\r\nI want to use this Proxy in the below existing code, but I am not sure how to add that. The below code does not support proxy.\r\n\r\n    public CustomClassForResponse createRequest(CreateCustomRequest request) {\r\n    \t\tHttpPost httpRequest = new HttpPost();\r\n    \t\ttry {\r\n    \t\t\tURIBuilder uriBuilder = new URIBuilder();\r\n    \t\t\turiBuilder.setScheme(URL_SCHEME).setHost(HOST_URL).setPath(&quot;/api&quot;);\r\n    \t\t\thttpRequest.setURI(uriBuilder.build());\r\n    \t\t\thttpRequest.setHeader(&quot;Authorization&quot;, accessToken());\r\n    \t\t\thttpRequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t\thttpRequest.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n    \t\t\tRequestConfig requestConfig = RequestConfig.custom()\r\n    \t\t\t\t\t.setConnectionRequestTimeout(1000 * 60 * 5)\r\n    \t\t\t\t\t.setSocketTimeout(1000 * 60 * 5)\r\n    \t\t\t\t\t.build();\r\n    \t\t\thttpRequest.setConfig(requestConfig);\r\n    \r\n    \t\t\thttpRequest = (HttpPost) addJsonBody(request, httpRequest);\r\n    \r\n    \t\t\treturn sendRequest(httpRequest, CustomClassForResponse.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new CustomException(e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate HttpEntityEnclosingRequest addJsonBody(JsonRequest request, HttpEntityEnclosingRequest httpRequest) throws JsonProcessingException {\r\n    \t\tEntityBuilder builder = EntityBuilder.create();\r\n    \t\tbuilder.setContentType(ContentType.APPLICATION_JSON);\r\n    \t\tbuilder.setText(ObjectMapperProvider.getInstance().writeValueAsString(request));\r\n    \t\tHttpEntity httpEntity = builder.build();\r\n    \t\thttpRequest.setEntity(httpEntity);\r\n    \t\treturn httpRequest;\r\n    \t}\r\n    \t\r\n    \tprivate &lt;T extends JsonResponse&gt; T sendRequest(HttpRequestBase httpRequest, Class&lt;T&gt; responseClass) throws IOException {\r\n    \t\tCloseableHttpResponse response = createHttpClient().execute(httpRequest, createHttpClientContext());\r\n    \t\tHttpEntity entity = response.getEntity();\r\n    \t\tif (isResponseSuccess(response)) {\r\n    \t\t\tT jsonResponse = ObjectMapperProvider.getInstance().readValue(entity.getContent(), responseClass);\r\n    \t\t\treturn jsonResponse;\r\n    \t\t} else {\r\n    \t\t\tthrow new CustomException();\r\n    \t\t}\r\n    \t}\r\n\r\nso the `createRequest` method is called and then it calls the `addJsonBody` and then the `sendRequest` method.\r\n\r\nHere are the version details:\r\n\r\n    (&quot;org.apache.httpcomponents:httpcore:4.4.6&quot;)\r\n    (&quot;org.apache.httpcomponents:httpclient:4.5.13&quot;)\r\n    (&quot;org.apache.httpcomponents:httpmime:4.5.3&quot;)\r\n    (&quot;commons-logging:commons-logging:1.2&quot;)","title":"How to set Proxy in HttpPost in java","body":"<p>Please consider that I have a Custom Proxy Class with fields,</p>\n<pre><code>private final String serverName;\nprivate final int port;\nprivate final String username;\nprivate final String password;\n</code></pre>\n<p>I want to use this Proxy in the below existing code, but I am not sure how to add that. The below code does not support proxy.</p>\n<pre><code>public CustomClassForResponse createRequest(CreateCustomRequest request) {\n        HttpPost httpRequest = new HttpPost();\n        try {\n            URIBuilder uriBuilder = new URIBuilder();\n            uriBuilder.setScheme(URL_SCHEME).setHost(HOST_URL).setPath(&quot;/api&quot;);\n            httpRequest.setURI(uriBuilder.build());\n            httpRequest.setHeader(&quot;Authorization&quot;, accessToken());\n            httpRequest.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n            httpRequest.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n\n            RequestConfig requestConfig = RequestConfig.custom()\n                    .setConnectionRequestTimeout(1000 * 60 * 5)\n                    .setSocketTimeout(1000 * 60 * 5)\n                    .build();\n            httpRequest.setConfig(requestConfig);\n\n            httpRequest = (HttpPost) addJsonBody(request, httpRequest);\n\n            return sendRequest(httpRequest, CustomClassForResponse.class);\n        } catch (Exception e) {\n            throw new CustomException(e);\n        }\n    }\n    \n    private HttpEntityEnclosingRequest addJsonBody(JsonRequest request, HttpEntityEnclosingRequest httpRequest) throws JsonProcessingException {\n        EntityBuilder builder = EntityBuilder.create();\n        builder.setContentType(ContentType.APPLICATION_JSON);\n        builder.setText(ObjectMapperProvider.getInstance().writeValueAsString(request));\n        HttpEntity httpEntity = builder.build();\n        httpRequest.setEntity(httpEntity);\n        return httpRequest;\n    }\n    \n    private &lt;T extends JsonResponse&gt; T sendRequest(HttpRequestBase httpRequest, Class&lt;T&gt; responseClass) throws IOException {\n        CloseableHttpResponse response = createHttpClient().execute(httpRequest, createHttpClientContext());\n        HttpEntity entity = response.getEntity();\n        if (isResponseSuccess(response)) {\n            T jsonResponse = ObjectMapperProvider.getInstance().readValue(entity.getContent(), responseClass);\n            return jsonResponse;\n        } else {\n            throw new CustomException();\n        }\n    }\n</code></pre>\n<p>so the <code>createRequest</code> method is called and then it calls the <code>addJsonBody</code> and then the <code>sendRequest</code> method.</p>\n<p>Here are the version details:</p>\n<pre><code>(&quot;org.apache.httpcomponents:httpcore:4.4.6&quot;)\n(&quot;org.apache.httpcomponents:httpclient:4.5.13&quot;)\n(&quot;org.apache.httpcomponents:httpmime:4.5.3&quot;)\n(&quot;commons-logging:commons-logging:1.2&quot;)\n</code></pre>\n"},{"tags":["java","plugins","minecraft","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646253446,"creation_date":1646253446,"answer_id":71328852,"question_id":71328664,"body_markdown":"I just checked your repository.\r\n\r\nThe main issue is that everything is in the `denoriabot` and not in main folder. So, instead of beeing `src/main` it&#39;s `denoriabot/src/main`. To fix it, you can change it in your `pom.xml`, or change the folder itself.\r\n\r\nAlso, you used github workflows. I suggest you to make auto-run with 2 things:\r\n1. Run maven:\r\n```yml\r\n- name: Build with Maven\r\n  run: mvn install\r\n```\r\n2. Upload artifact to github:\r\n```yml\r\n- uses: actions/upload-artifact@v2\r\n  name: Upload Artifact\r\n  with:\r\n    name: FileName.jar\r\n    path: target/FileName*.jar\r\n```","title":"Jar does not contain plugin.yml","body":"<p>I just checked your repository.</p>\n<p>The main issue is that everything is in the <code>denoriabot</code> and not in main folder. So, instead of beeing <code>src/main</code> it's <code>denoriabot/src/main</code>. To fix it, you can change it in your <code>pom.xml</code>, or change the folder itself.</p>\n<p>Also, you used github workflows. I suggest you to make auto-run with 2 things:</p>\n<ol>\n<li>Run maven:</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: Build with Maven\n  run: mvn install\n</code></pre>\n<ol start=\"2\">\n<li>Upload artifact to github:</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>- uses: actions/upload-artifact@v2\n  name: Upload Artifact\n  with:\n    name: FileName.jar\n    path: target/FileName*.jar\n</code></pre>\n"}],"owner":{"account_id":24144809,"reputation":3,"user_id":18110585,"display_name":"Norbiros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328852,"answer_count":1,"score":0,"last_activity_date":1646253446,"creation_date":1646252354,"question_id":71328664,"body_markdown":"*I know this is another question like, this but really - I tested all things that are on internet, and I can&#39;t make it work!*\r\n\r\nHi!\r\nI created GitHub repo: https://github.com/Norbiros/DenoriaBot.\r\nWhen I export this file - everything works fine, but when I add this plugin to server and reload it I have this error:\r\n```\r\nCould not load &#39;plugins/DenoriaBot.jar&#39; in folder &#39;plugins&#39;\r\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\r\nat org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:178) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\r\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:159) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\r\nat org.bukkit.craftbukkit.v1_18_R1.CraftServer.loadPlugins(CraftServer.java:419) ~[paper-1.18.1.jar:git-Paper-197]\r\nat net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:285) ~[paper-1.18.1.jar:git-Paper-197]\r\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1202) ~[paper-1.18.1.jar:git-Paper-197]\r\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:317) ~[paper-1.18.1.jar:git-Paper-197]\r\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\r\n```\r\nI looked in every file, but I can&#39;t see what I did wrong. Maybe someone will help me...\r\n\r\nI&#39;m exporting plugin with command:\r\n`mvn clean install`\r\nWhen I&#39;m running this command I have warning (I think it is not important, but IDK):\r\n```\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n[WARNING] DenoriaBot.jar, JDA-5.0.0-alpha.9.jar, annotations-16.0.1.jar, commons-collections4-4.1.jar, jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar, jna-4.4.0.jar, jsr305-3.0.2.jar, nv-websocket-client-2.14.jar, okhttp-3.13.0.jar, okio-1.17.2.jar, opus-java-1.1.1.jar, opus-java-api-1.1.1.jar, opus-java-natives-1.1.1.jar, slf4j-api-1.7.25.jar, trove4j-3.0.3.jar define 1 overlapping resources: \r\n[WARNING]   - META-INF/MANIFEST.MF\r\n[WARNING] jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \r\n[WARNING]   - META-INF/NOTICE\r\n[WARNING] jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \r\n[WARNING]   - META-INF/LICENSE\r\n[WARNING] maven-shade-plugin has detected that some class files are\r\n[WARNING] present in two or more JARs. When this happens, only one\r\n[WARNING] single version of the class is copied to the uber jar.\r\n[WARNING] Usually this is not harmful and you can skip these warnings,\r\n[WARNING] otherwise try to manually exclude artifacts based on\r\n[WARNING] mvn dependency:tree -Ddetail=true and the above output.\r\n[WARNING] See http://maven.apache.org/plugins/maven-shade-plugin/\r\n```","title":"Jar does not contain plugin.yml","body":"<p><em>I know this is another question like, this but really - I tested all things that are on internet, and I can't make it work!</em></p>\n<p>Hi!\nI created GitHub repo: <a href=\"https://github.com/Norbiros/DenoriaBot\" rel=\"nofollow noreferrer\">https://github.com/Norbiros/DenoriaBot</a>.\nWhen I export this file - everything works fine, but when I add this plugin to server and reload it I have this error:</p>\n<pre><code>Could not load 'plugins/DenoriaBot.jar' in folder 'plugins'\norg.bukkit.plugin.InvalidDescriptionException: Invalid plugin.yml\nat org.bukkit.plugin.java.JavaPluginLoader.getPluginDescription(JavaPluginLoader.java:178) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:159) ~[paper-api-1.18.1-R0.1-SNAPSHOT.jar:?]\nat org.bukkit.craftbukkit.v1_18_R1.CraftServer.loadPlugins(CraftServer.java:419) ~[paper-1.18.1.jar:git-Paper-197]\nat net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:285) ~[paper-1.18.1.jar:git-Paper-197]\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1202) ~[paper-1.18.1.jar:git-Paper-197]\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:317) ~[paper-1.18.1.jar:git-Paper-197]\nat java.lang.Thread.run(Thread.java:833) ~[?:?]\nCaused by: java.io.FileNotFoundException: Jar does not contain plugin.yml\n</code></pre>\n<p>I looked in every file, but I can't see what I did wrong. Maybe someone will help me...</p>\n<p>I'm exporting plugin with command:\n<code>mvn clean install</code>\nWhen I'm running this command I have warning (I think it is not important, but IDK):</p>\n<pre><code>[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n[WARNING] DenoriaBot.jar, JDA-5.0.0-alpha.9.jar, annotations-16.0.1.jar, commons-collections4-4.1.jar, jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar, jna-4.4.0.jar, jsr305-3.0.2.jar, nv-websocket-client-2.14.jar, okhttp-3.13.0.jar, okio-1.17.2.jar, opus-java-1.1.1.jar, opus-java-api-1.1.1.jar, opus-java-natives-1.1.1.jar, slf4j-api-1.7.25.jar, trove4j-3.0.3.jar define 1 overlapping resources: \n[WARNING]   - META-INF/MANIFEST.MF\n[WARNING] jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \n[WARNING]   - META-INF/NOTICE\n[WARNING] jackson-annotations-2.10.1.jar, jackson-core-2.10.1.jar, jackson-databind-2.10.1.jar define 1 overlapping resources: \n[WARNING]   - META-INF/LICENSE\n[WARNING] maven-shade-plugin has detected that some class files are\n[WARNING] present in two or more JARs. When this happens, only one\n[WARNING] single version of the class is copied to the uber jar.\n[WARNING] Usually this is not harmful and you can skip these warnings,\n[WARNING] otherwise try to manually exclude artifacts based on\n[WARNING] mvn dependency:tree -Ddetail=true and the above output.\n[WARNING] See http://maven.apache.org/plugins/maven-shade-plugin/\n</code></pre>\n"},{"tags":["java","selenium","selenium-chromedriver","webautomation","selenium-edgedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646266416,"post_id":71328844,"comment_id":126083688,"body_markdown":"The code will work just fine as is.  (as long as the driver is in the path you set in setProperty)  Are you asking how to package the driver with your JAR?","body":"The code will work just fine as is.  (as long as the driver is in the path you set in setProperty)  Are you asking how to package the driver with your JAR?"},{"owner":{"account_id":23371121,"reputation":1,"user_id":17441953,"display_name":"Prit Patel"},"score":0,"creation_date":1646275454,"post_id":71328844,"comment_id":126085268,"body_markdown":"Yes, thats what I mean like how to package the driver with JAR.","body":"Yes, thats what I mean like how to package the driver with JAR."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646330802,"post_id":71328844,"comment_id":126102544,"body_markdown":"You can add it as a resource and then extract it at run-time.  (You would then know the path because you put it there...)  I just put it in a folder called &quot;Resources&quot; (in src/.../).  Check &quot;getResourceAsStream&quot;: https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResourceAsStream-java.lang.String-","body":"You can add it as a resource and then extract it at run-time.  (You would then know the path because you put it there...)  I just put it in a folder called &quot;Resources&quot; (in src/.../).  Check &quot;getResourceAsStream&quot;: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResourceAsStream-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1646330973,"post_id":71328844,"comment_id":126102601,"body_markdown":"if you don&#39;t want to bloat your JAR file, there&#39;s always webdrivermanager which will download it at run-time if needed.  (It&#39;ll also manage your updates...)","body":"if you don&#39;t want to bloat your JAR file, there&#39;s always webdrivermanager which will download it at run-time if needed.  (It&#39;ll also manage your updates...)"}],"owner":{"account_id":23371121,"reputation":1,"user_id":17441953,"display_name":"Prit Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646253404,"creation_date":1646253404,"question_id":71328844,"body_markdown":"I have written a Java selenium web automation code and I want to create a JAR for the same java code. Initially, I have hardcoded web-driver dependency like this:\r\n\r\n            System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;EdgeDriver/msedgedriver.exe&quot;);\r\n\r\nNow, If I create a JAR it will not work because we cannot run exe from JAR. I will really appreciate if someone can help me out.\r\n\r\nThank You\r\n\r\n ","title":"How to create Jar File dependent on exe? Selenium Web Driver","body":"<p>I have written a Java selenium web automation code and I want to create a JAR for the same java code. Initially, I have hardcoded web-driver dependency like this:</p>\n<pre><code>        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;EdgeDriver/msedgedriver.exe&quot;);\n</code></pre>\n<p>Now, If I create a JAR it will not work because we cannot run exe from JAR. I will really appreciate if someone can help me out.</p>\n<p>Thank You</p>\n"},{"tags":["java","spring","rabbitmq","spring-rabbit","messagebroker"],"comments":[{"owner":{"account_id":4487313,"reputation":806,"user_id":3649484,"display_name":"Risul Islam"},"score":0,"creation_date":1569480293,"post_id":58110868,"comment_id":102611846,"body_markdown":"https://stackoverflow.com/help/how-to-ask","body":"<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1569481051,"post_id":58110868,"comment_id":102612197,"body_markdown":"I suggest you store those events in a database, and then publish them to rabbtmq when it is back up.","body":"I suggest you store those events in a database, and then publish them to rabbtmq when it is back up."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1569485407,"post_id":58110868,"comment_id":102614408,"body_markdown":"@Kayaman why the heck a database? A marshalled array would do the same trick, just a *lot* more lightweight...","body":"@Kayaman why the heck a database? A marshalled array would do the same trick, just a <i>lot</i> more lightweight..."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1569487467,"post_id":58110868,"comment_id":102615407,"body_markdown":"@MarkusWMahlberg because that&#39;s what he said he was planning to do, I just suggested he do as planned. As for your idea, sure, let&#39;s fill up the memory when there are problems. In the best case scenario we&#39;ll run out of memory, and your lightweight solution turns into a data loss disaster. Don&#39;t be afraid of RDBMSs, even if you&#39;re used to the NoSQL hype.","body":"@MarkusWMahlberg because that&#39;s what he said he was planning to do, I just suggested he do as planned. As for your idea, sure, let&#39;s fill up the memory when there are problems. In the best case scenario we&#39;ll run out of memory, and your lightweight solution turns into a data loss disaster. Don&#39;t be afraid of RDBMSs, even if you&#39;re used to the NoSQL hype."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1569530329,"post_id":58110868,"comment_id":102637348,"body_markdown":"@Kayaman `Marshalled` aka coverted into a persistable format, aka `new ObjecOutputStream(new FileOutputStream(filepath))`. Don&#39;t be afraid of POJOs, even if you are used to the RDBMS hype.","body":"@Kayaman <code>Marshalled</code> aka coverted into a persistable format, aka <code>new ObjecOutputStream(new FileOutputStream(filepath))</code>. Don&#39;t be afraid of POJOs, even if you are used to the RDBMS hype."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1569551943,"post_id":58110868,"comment_id":102641776,"body_markdown":"@Kayaman Please see my answer for a bit more detailed explanation.","body":"@Kayaman Please see my answer for a bit more detailed explanation."},{"owner":{"account_id":25336,"reputation":4953,"user_id":65087,"accept_rate":87,"display_name":"Bertvan"},"score":0,"creation_date":1636715744,"post_id":58110868,"comment_id":123636291,"body_markdown":"@MarkusWMahlberg I&#39;d still consider the database because then the whole operation can be transactional.","body":"@MarkusWMahlberg I&#39;d still consider the database because then the whole operation can be transactional."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1636980537,"post_id":58110868,"comment_id":123694527,"body_markdown":"@Bertvan Uhm... So can file system operations...","body":"@Bertvan Uhm... So can file system operations..."},{"owner":{"account_id":25336,"reputation":4953,"user_id":65087,"accept_rate":87,"display_name":"Bertvan"},"score":0,"creation_date":1637083260,"post_id":58110868,"comment_id":123729103,"body_markdown":"Sure, but can you distribute a transaction over both database and disk? I&#39;m assuming the ts wants to store other data as well. If not, then less relevant indeed.","body":"Sure, but can you distribute a transaction over both database and disk? I&#39;m assuming the ts wants to store other data as well. If not, then less relevant indeed."},{"owner":{"account_id":25336,"reputation":4953,"user_id":65087,"accept_rate":87,"display_name":"Bertvan"},"score":0,"creation_date":1637233524,"post_id":58110868,"comment_id":123773824,"body_markdown":"BTW, a nice article on the subject: https://jimmybogard.com/refactoring-towards-resilience-a-primer/","body":"BTW, a nice article on the subject: <a href=\"https://jimmybogard.com/refactoring-towards-resilience-a-primer/\" rel=\"nofollow noreferrer\">jimmybogard.com/refactoring-towards-resilience-a-primer</a>"}],"answers":[{"tags":[],"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1569552670,"creation_date":1569551918,"answer_id":58127042,"question_id":58110868,"body_markdown":"To expand a bit on my comment: There is really no need to use a database for persistent buffering.\r\n\r\n**EDIT**: Also, the very reason for not being able to send messages to RabbitMQ might well be a lost network connection. Most DBMSes would be of little use in this case. *End of edit.*\r\n\r\n```java\r\npackage io.mahlberg.stackoverflow.questions.objpersistencedemo;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Date;\r\n\r\npublic class PersistenceDemo {\r\n\r\n  /*\r\n   * A decent default number of objects to be buffered.\r\n   */\r\n  private static long COUNT = 10000L;\r\n\r\n  /*\r\n   * Default filename\r\n   */\r\n  private static final String OBJ_DAT = &quot;./obj.dat&quot;;\r\n\r\n  private static FileOutputStream   fos;\r\n  private static ObjectOutputStream oos;\r\n\r\n  private static FileInputStream   fis;\r\n  private static ObjectInputStream ois;\r\n\r\n  private static File dat;\r\n\r\n  private static Object lock;\r\n\r\n  public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n    // Get the actual number of counts\r\n    if (args[0] != null) {\r\n      COUNT = Long.parseLong(args[0]);\r\n    }\r\n\r\n    // Initialize out lock\r\n    lock = new Object();\r\n\r\n    // Ensure the datafile exists.\r\n    dat = new File(OBJ_DAT);\r\n    dat.createNewFile();\r\n\r\n    // Initialize our streams.\r\n    try {\r\n      fos = new FileOutputStream(dat);\r\n    } catch (Exception e1) {\r\n      e1.printStackTrace();\r\n      System.exit(1);\r\n    }\r\n\r\n    oos = new ObjectOutputStream(fos);\r\n\r\n    // Define the writer thread.\r\n    Thread writer = new Thread(new Runnable() {\r\n\r\n      public void run() {\r\n        Data obj;\r\n\r\n        // Make sure we have the behaviour of the queue.\r\n        synchronized (lock) {\r\n\r\n          for (int i = 0; i &lt; COUNT; i++) {\r\n            obj = new Data(String.format(&quot;Obj-%d&quot;, i), new Date());\r\n            try {\r\n              oos.writeObject(obj);\r\n              oos.flush();\r\n              fos.flush();\r\n\r\n              // Notify the reader...\r\n              lock.notify();\r\n            } catch (IOException e1) {\r\n              // TODO Auto-generated catch block\r\n              e1.printStackTrace();\r\n            }\r\n            try {\r\n              // ... and wait until the reader is finished.\r\n              lock.wait();\r\n            } catch (InterruptedException e) {\r\n              e.printStackTrace();\r\n              break;\r\n            }\r\n          }\r\n          // We need to notify the reader one last time for the last\r\n          // Object we put into the stream.\r\n          lock.notify();\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n    // Initialize the streams used by reader.\r\n    fis = new FileInputStream(dat);\r\n    ois = new ObjectInputStream(fis);\r\n\r\n    Thread reader = new Thread(new Runnable() {\r\n\r\n      public void run() {\r\n        Data obj;\r\n        while (true) {\r\n          synchronized (lock) {\r\n\r\n            try {\r\n              obj = (Data) ois.readObject();\r\n\r\n              // Notify writer we are finished with reading the latest entry...\r\n              lock.notify();\r\n            } catch (ClassNotFoundException e1) {\r\n              e1.printStackTrace();\r\n            } catch (IOException e1) {\r\n              break;\r\n            }\r\n\r\n            try {\r\n              // ...and wait till writer is done writing.\r\n              lock.wait();\r\n            } catch (InterruptedException e) {\r\n              e.printStackTrace();\r\n              break;\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // For doing a rough performance measurement.\r\n    Instant start = Instant.now();\r\n    writer.start();\r\n    reader.start();\r\n\r\n    // Wait till both threads are done.\r\n    writer.join();\r\n    reader.join();\r\n\r\n    Instant end = Instant.now();\r\n    Duration timeElapsed = Duration.between(start, end);\r\n    System.out.format(&quot;Took %sms for %d objects\\n&quot;, timeElapsed.toMillis(), COUNT);\r\n    System.out.format(&quot;Avg: %.3fms/object\\n&quot;, ((double) timeElapsed.toMillis() / COUNT));\r\n\r\n    // Cleanup\r\n    oos.close();\r\n    fos.close();\r\n    ois.close();\r\n    fis.close();\r\n  }\r\n\r\n}\r\n```\r\n\r\nBasically, we use `synchronize`, `notify` and `wait` to emulate a FIFO buffer with a file.\r\n\r\nPlease note that I took some shortcuts for the sake of brevity and readability, but I guess you get the picture. The reader should check for the file size every once in a while (how often depends on the size of your data) and truncate the file, and the error handling is practically non-existant. I created a jar from that class and a data class, and here are some sample results:\r\n\r\n```bash\r\n$ for i in {1..10}; do java -jar target/objpersistencedemo-0.0.1-SNAPSHOT.jar 20000; done\r\n20000\r\nTook 1470ms for 20000 objects\r\nAvg: 0,074ms/object\r\n20000\r\nTook 1510ms for 20000 objects\r\nAvg: 0,076ms/object\r\n20000\r\nTook 1614ms for 20000 objects\r\nAvg: 0,081ms/object\r\n20000\r\nTook 1600ms for 20000 objects\r\nAvg: 0,080ms/object\r\n20000\r\nTook 1626ms for 20000 objects\r\nAvg: 0,081ms/object\r\n20000\r\nTook 1620ms for 20000 objects\r\nAvg: 0,081ms/object\r\n20000\r\nTook 1489ms for 20000 objects\r\nAvg: 0,074ms/object\r\n20000\r\nTook 1604ms for 20000 objects\r\nAvg: 0,080ms/object\r\n20000\r\nTook 1632ms for 20000 objects\r\nAvg: 0,082ms/object\r\n20000\r\nTook 1564ms for 20000 objects\r\nAvg: 0,078ms/object\r\n```\r\n\r\nPlease note that these values are for writing *and* reading. I guess that less than 0.1ms/object is quite a bit faster than a write and subsequent read from an RDBMS.\r\n\r\nIf you let your reader do the sending of the messages to the RabbitMQ instance and add a little truncation and backoff logic, you can basically ensure that all the events you have are either in the buffer file or written to RabbitMQ.","title":"Fallback mechanism when Rabbitmq goes down","body":"<p>To expand a bit on my comment: There is really no need to use a database for persistent buffering.</p>\n\n<p><strong>EDIT</strong>: Also, the very reason for not being able to send messages to RabbitMQ might well be a lost network connection. Most DBMSes would be of little use in this case. <em>End of edit.</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package io.mahlberg.stackoverflow.questions.objpersistencedemo;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Date;\n\npublic class PersistenceDemo {\n\n  /*\n   * A decent default number of objects to be buffered.\n   */\n  private static long COUNT = 10000L;\n\n  /*\n   * Default filename\n   */\n  private static final String OBJ_DAT = \"./obj.dat\";\n\n  private static FileOutputStream   fos;\n  private static ObjectOutputStream oos;\n\n  private static FileInputStream   fis;\n  private static ObjectInputStream ois;\n\n  private static File dat;\n\n  private static Object lock;\n\n  public static void main(String[] args) throws InterruptedException, IOException {\n\n    // Get the actual number of counts\n    if (args[0] != null) {\n      COUNT = Long.parseLong(args[0]);\n    }\n\n    // Initialize out lock\n    lock = new Object();\n\n    // Ensure the datafile exists.\n    dat = new File(OBJ_DAT);\n    dat.createNewFile();\n\n    // Initialize our streams.\n    try {\n      fos = new FileOutputStream(dat);\n    } catch (Exception e1) {\n      e1.printStackTrace();\n      System.exit(1);\n    }\n\n    oos = new ObjectOutputStream(fos);\n\n    // Define the writer thread.\n    Thread writer = new Thread(new Runnable() {\n\n      public void run() {\n        Data obj;\n\n        // Make sure we have the behaviour of the queue.\n        synchronized (lock) {\n\n          for (int i = 0; i &lt; COUNT; i++) {\n            obj = new Data(String.format(\"Obj-%d\", i), new Date());\n            try {\n              oos.writeObject(obj);\n              oos.flush();\n              fos.flush();\n\n              // Notify the reader...\n              lock.notify();\n            } catch (IOException e1) {\n              // TODO Auto-generated catch block\n              e1.printStackTrace();\n            }\n            try {\n              // ... and wait until the reader is finished.\n              lock.wait();\n            } catch (InterruptedException e) {\n              e.printStackTrace();\n              break;\n            }\n          }\n          // We need to notify the reader one last time for the last\n          // Object we put into the stream.\n          lock.notify();\n        }\n\n      }\n    });\n\n    // Initialize the streams used by reader.\n    fis = new FileInputStream(dat);\n    ois = new ObjectInputStream(fis);\n\n    Thread reader = new Thread(new Runnable() {\n\n      public void run() {\n        Data obj;\n        while (true) {\n          synchronized (lock) {\n\n            try {\n              obj = (Data) ois.readObject();\n\n              // Notify writer we are finished with reading the latest entry...\n              lock.notify();\n            } catch (ClassNotFoundException e1) {\n              e1.printStackTrace();\n            } catch (IOException e1) {\n              break;\n            }\n\n            try {\n              // ...and wait till writer is done writing.\n              lock.wait();\n            } catch (InterruptedException e) {\n              e.printStackTrace();\n              break;\n            }\n\n          }\n        }\n      }\n    });\n\n    // For doing a rough performance measurement.\n    Instant start = Instant.now();\n    writer.start();\n    reader.start();\n\n    // Wait till both threads are done.\n    writer.join();\n    reader.join();\n\n    Instant end = Instant.now();\n    Duration timeElapsed = Duration.between(start, end);\n    System.out.format(\"Took %sms for %d objects\\n\", timeElapsed.toMillis(), COUNT);\n    System.out.format(\"Avg: %.3fms/object\\n\", ((double) timeElapsed.toMillis() / COUNT));\n\n    // Cleanup\n    oos.close();\n    fos.close();\n    ois.close();\n    fis.close();\n  }\n\n}\n</code></pre>\n\n<p>Basically, we use <code>synchronize</code>, <code>notify</code> and <code>wait</code> to emulate a FIFO buffer with a file.</p>\n\n<p>Please note that I took some shortcuts for the sake of brevity and readability, but I guess you get the picture. The reader should check for the file size every once in a while (how often depends on the size of your data) and truncate the file, and the error handling is practically non-existant. I created a jar from that class and a data class, and here are some sample results:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ for i in {1..10}; do java -jar target/objpersistencedemo-0.0.1-SNAPSHOT.jar 20000; done\n20000\nTook 1470ms for 20000 objects\nAvg: 0,074ms/object\n20000\nTook 1510ms for 20000 objects\nAvg: 0,076ms/object\n20000\nTook 1614ms for 20000 objects\nAvg: 0,081ms/object\n20000\nTook 1600ms for 20000 objects\nAvg: 0,080ms/object\n20000\nTook 1626ms for 20000 objects\nAvg: 0,081ms/object\n20000\nTook 1620ms for 20000 objects\nAvg: 0,081ms/object\n20000\nTook 1489ms for 20000 objects\nAvg: 0,074ms/object\n20000\nTook 1604ms for 20000 objects\nAvg: 0,080ms/object\n20000\nTook 1632ms for 20000 objects\nAvg: 0,082ms/object\n20000\nTook 1564ms for 20000 objects\nAvg: 0,078ms/object\n</code></pre>\n\n<p>Please note that these values are for writing <em>and</em> reading. I guess that less than 0.1ms/object is quite a bit faster than a write and subsequent read from an RDBMS.</p>\n\n<p>If you let your reader do the sending of the messages to the RabbitMQ instance and add a little truncation and backoff logic, you can basically ensure that all the events you have are either in the buffer file or written to RabbitMQ.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572720450,"creation_date":1572720046,"answer_id":58674166,"question_id":58110868,"body_markdown":"# Resilient, concurrent, efficient, portable, and local\r\n\r\nAs [Kayaman](https://stackoverflow.com/questions/58110868/fallback-mechanism-when-rabbitmq-goes-down#comment102612197_58110868) suggested, if preserving your messages is critical, you should be using a database system that resilient, concurrent, efficient, and preferably local (on the same machine). \r\n\r\n - If RabbitMQ is not available, the cause is likely to be related to a network outage. So your fallback mechanism should be local on the same machine, if possible.\r\n - We don&#39;t want to overburden your local server. So a database used as the fallback should ideally be efficient with its use of RAM, CPU, and storage. \r\n - If access to RabbitMQ fails repeatedly in rapid succession, we may be adding messages to our fallback database while overlapping in time with moving recorded messages out of the database going back to RabbitMQ. So the fallback mechanism should be able to handle concurrent access. \r\n - If preserving these messages is critical, then our fallback database should be resilient, able to tolerate crashes/power-outages. \r\n - If the server gets redeployed, it would be nice if the fallback mechanism was portable, not dependent on any particular OS or CPU instruction set. So Java-based would address that issue.\r\n\r\n# *H2 Database Engine*\r\n\r\nMy first thought to meet those needs is to use the [*H2 Database Engine*][1]. H2 is a relational database, built in pure Java, actively developed, and proven to be production-worthy. \r\n\r\nA similar product to consider is [*Apache Derby*][2]. But I have heard of various issues that may mean it is not production-worthy, though you should research its current condition. \r\n\r\nThe relational part of H2 may not be relevant, as you may need only a single table to track your stream of messages to be resent later to RabbitMQ. As for the other requirements of being local, efficient, resilient, portable, and concurrent, H2 fits the bill. And if you ever need to add additional tables, H2 is ready as a fully relational database system.\r\n\r\nH2 can be started in either of two modes:\r\n\r\n - [Database server][3], able to take connections from various processes &amp; computers.\r\n - [Embedded database][4], allowing only connections from within the same Java app.\r\n\r\nWhich mode is appropriate to your needs is hard to say without more information. If you want external monitoring tools to attach, then you may want server mode. If you want simple &amp; lean, then embedded mode.\r\n\r\nYour Java app connects to H2 via the included [JDBC driver][5].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Derby\r\n  [3]: https://en.wikipedia.org/wiki/Database_server\r\n  [4]: https://en.wikipedia.org/wiki/Embedded_database\r\n  [5]: https://en.wikipedia.org/wiki/JDBC_driver","title":"Fallback mechanism when Rabbitmq goes down","body":"<h1>Resilient, concurrent, efficient, portable, and local</h1>\n\n<p>As <a href=\"https://stackoverflow.com/questions/58110868/fallback-mechanism-when-rabbitmq-goes-down#comment102612197_58110868\">Kayaman</a> suggested, if preserving your messages is critical, you should be using a database system that resilient, concurrent, efficient, and preferably local (on the same machine). </p>\n\n<ul>\n<li>If RabbitMQ is not available, the cause is likely to be related to a network outage. So your fallback mechanism should be local on the same machine, if possible.</li>\n<li>We don't want to overburden your local server. So a database used as the fallback should ideally be efficient with its use of RAM, CPU, and storage. </li>\n<li>If access to RabbitMQ fails repeatedly in rapid succession, we may be adding messages to our fallback database while overlapping in time with moving recorded messages out of the database going back to RabbitMQ. So the fallback mechanism should be able to handle concurrent access. </li>\n<li>If preserving these messages is critical, then our fallback database should be resilient, able to tolerate crashes/power-outages. </li>\n<li>If the server gets redeployed, it would be nice if the fallback mechanism was portable, not dependent on any particular OS or CPU instruction set. So Java-based would address that issue.</li>\n</ul>\n\n<h1><em>H2 Database Engine</em></h1>\n\n<p>My first thought to meet those needs is to use the <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\"><em>H2 Database Engine</em></a>. H2 is a relational database, built in pure Java, actively developed, and proven to be production-worthy. </p>\n\n<p>A similar product to consider is <a href=\"https://en.wikipedia.org/wiki/Apache_Derby\" rel=\"nofollow noreferrer\"><em>Apache Derby</em></a>. But I have heard of various issues that may mean it is not production-worthy, though you should research its current condition. </p>\n\n<p>The relational part of H2 may not be relevant, as you may need only a single table to track your stream of messages to be resent later to RabbitMQ. As for the other requirements of being local, efficient, resilient, portable, and concurrent, H2 fits the bill. And if you ever need to add additional tables, H2 is ready as a fully relational database system.</p>\n\n<p>H2 can be started in either of two modes:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Database_server\" rel=\"nofollow noreferrer\">Database server</a>, able to take connections from various processes &amp; computers.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Embedded_database\" rel=\"nofollow noreferrer\">Embedded database</a>, allowing only connections from within the same Java app.</li>\n</ul>\n\n<p>Which mode is appropriate to your needs is hard to say without more information. If you want external monitoring tools to attach, then you may want server mode. If you want simple &amp; lean, then embedded mode.</p>\n\n<p>Your Java app connects to H2 via the included <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>.</p>\n"},{"tags":[],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253205,"creation_date":1646253205,"answer_id":71328802,"question_id":58110868,"body_markdown":"Rabbit has its own persistence, you can configure your queues so that they persist through a shutdown and come right back up with the same messages they had before the failure.","title":"Fallback mechanism when Rabbitmq goes down","body":"<p>Rabbit has its own persistence, you can configure your queues so that they persist through a shutdown and come right back up with the same messages they had before the failure.</p>\n"}],"owner":{"account_id":16770639,"reputation":41,"user_id":12123135,"display_name":"Vin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5105,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1646253205,"creation_date":1569479856,"question_id":58110868,"body_markdown":"My Spring Boot application sends events to Timescale through RabbitMQ.\r\nI need to know how to save my events if RabbitMQ goes down.\r\n\r\nIn detail:\r\n\r\nThe messages that RabbitMQ publish are persistent. When the message broker goes down, the events are not published and I am planning to store these events in a database and publish them again to RabbitMQ when it is up.\r\nAny solution and suggestion is welcome.","title":"Fallback mechanism when Rabbitmq goes down","body":"<p>My Spring Boot application sends events to Timescale through RabbitMQ.\nI need to know how to save my events if RabbitMQ goes down.</p>\n\n<p>In detail:</p>\n\n<p>The messages that RabbitMQ publish are persistent. When the message broker goes down, the events are not published and I am planning to store these events in a database and publish them again to RabbitMQ when it is up.\nAny solution and suggestion is welcome.</p>\n"},{"tags":["java","unit-testing","junit","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646253149,"creation_date":1646253149,"answer_id":71328792,"question_id":71323008,"body_markdown":"`extracting(singleParam or lambda)` can&#39;t return assertions specific to the extracted value type due to java generics limitations, in this case one can inform AssertJ of the type by using [asInstanceOf][1] which would look like:\r\n\r\n```java\r\nstatic import org.assertj.core.api.InstanceOfAssertFactories.LIST;\r\n\r\nassertThat(result)\r\n                .returns(&quot;PASSED&quot;, Result::getValue)\r\n                .extracting(Result::getResponses).asInstanceOf(LIST) // static import for readability\r\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\r\n                .contains(\r\n                        Tuple.tuple(resStatus, tc1, r1),\r\n                        Tuple.tuple(resStatus, tc1, r2));\r\n```\r\n[InstanceOfAssertFactories][2] provides types AssertJ supports assertions for. \r\n\r\nAnother option would be to pass a lambda that extracts the responses and their fields directly (but that&#39;s probably of bit too much work).\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#asInstanceOf(org.assertj.core.api.InstanceOfAssertFactory)\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html","title":"AsserJ - chaing together returns and extracting","body":"<p><code>extracting(singleParam or lambda)</code> can't return assertions specific to the extracted value type due to java generics limitations, in this case one can inform AssertJ of the type by using <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#asInstanceOf(org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\">asInstanceOf</a> which would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static import org.assertj.core.api.InstanceOfAssertFactories.LIST;\n\nassertThat(result)\n                .returns(&quot;PASSED&quot;, Result::getValue)\n                .extracting(Result::getResponses).asInstanceOf(LIST) // static import for readability\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\n                .contains(\n                        Tuple.tuple(resStatus, tc1, r1),\n                        Tuple.tuple(resStatus, tc1, r2));\n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html\" rel=\"nofollow noreferrer\">InstanceOfAssertFactories</a> provides types AssertJ supports assertions for.</p>\n<p>Another option would be to pass a lambda that extracts the responses and their fields directly (but that's probably of bit too much work).</p>\n"}],"owner":{"account_id":8986741,"reputation":65,"user_id":6700097,"display_name":"siwonpawel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71328792,"answer_count":1,"score":0,"last_activity_date":1646253149,"creation_date":1646225463,"question_id":71323008,"body_markdown":"Sometimes sonar cloud is complaining about number of assertions in tests. I wanted and found out how I can chain assertions one to another, but theres a case where I cannot figure out how I can chain assertions.\r\n\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.assertj.core.groups.Tuple;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nclass FakeTest\r\n{\r\n    @Test\r\n    void fakeTest()\r\n    {\r\n        // given\r\n        var resStatus = &quot;FINISHED&quot;;\r\n\r\n        var tc1 = &quot;Test case 1&quot;;\r\n        var r1 = &quot;GOOD&quot;;\r\n\r\n        var tc2 = &quot;Test case 2&quot;;\r\n        var r2 = &quot;ALARMING&quot;;\r\n\r\n        var res1 = Response.builder()\r\n                .status(resStatus)\r\n                .testCaseName(tc1)\r\n                .result(r1)\r\n                .build();\r\n        var res2 = Response.builder()\r\n                .status(resStatus)\r\n                .testCaseName(tc2)\r\n                .result(r2)\r\n                .build();\r\n\r\n        var result = Result.builder()\r\n                .responses(List.of(res1, res2))\r\n                .value(&quot;PASSED&quot;)\r\n                .build();\r\n\r\n        // then\r\n        assertThat(result)\r\n                .returns(&quot;PASSED&quot;, Result::getValue);\r\n\r\n        assertThat(result.getResponses())\r\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\r\n                .contains(\r\n                        Tuple.tuple(resStatus, tc1, r1),\r\n                        Tuple.tuple(resStatus, tc1, r2));\r\n    }\r\n}\r\n\r\n@Data\r\n@Builder\r\nclass Result\r\n{\r\n    private String value;\r\n    private List&lt;Response&gt; responses;\r\n}\r\n\r\n@Data\r\n@Builder\r\nclass Response\r\n{\r\n    private String status;\r\n    private String testCaseName;\r\n    private String result;\r\n    private String error;\r\n}\r\n```\r\n\r\nHow can I do assertions in FakeTest#fakeTest with chaining them instead of splitting to two assertions (one for assertThat(result).returns(...) and then assertThat(result.getResponses()).extracting(...)...)\r\n\r\nWhat I want to achive is:\r\n\r\n```java\r\nassertThat(result)\r\n                .returns(&quot;PASSED&quot;, Result::getValue)\r\n                .extracting(Result::getResponses) // connection between two assertThat(...)\r\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\r\n                .contains(\r\n                        Tuple.tuple(resStatus, tc1, r1),\r\n                        Tuple.tuple(resStatus, tc1, r2));\r\n```\r\n\r\nI&#39;ve found out that returning Assertion object are different:\r\n*  ListAssert\\&lt;Response&gt; when doing the chain of second assertion \r\n*  AbstractObjectAssert&lt;capture of ?, List\\&lt;Response&gt;&gt; when doing **merged** assertion","title":"AsserJ - chaing together returns and extracting","body":"<p>Sometimes sonar cloud is complaining about number of assertions in tests. I wanted and found out how I can chain assertions one to another, but theres a case where I cannot figure out how I can chain assertions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.assertj.core.groups.Tuple;\nimport org.junit.jupiter.api.Test;\n\nimport lombok.Builder;\nimport lombok.Data;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nclass FakeTest\n{\n    @Test\n    void fakeTest()\n    {\n        // given\n        var resStatus = &quot;FINISHED&quot;;\n\n        var tc1 = &quot;Test case 1&quot;;\n        var r1 = &quot;GOOD&quot;;\n\n        var tc2 = &quot;Test case 2&quot;;\n        var r2 = &quot;ALARMING&quot;;\n\n        var res1 = Response.builder()\n                .status(resStatus)\n                .testCaseName(tc1)\n                .result(r1)\n                .build();\n        var res2 = Response.builder()\n                .status(resStatus)\n                .testCaseName(tc2)\n                .result(r2)\n                .build();\n\n        var result = Result.builder()\n                .responses(List.of(res1, res2))\n                .value(&quot;PASSED&quot;)\n                .build();\n\n        // then\n        assertThat(result)\n                .returns(&quot;PASSED&quot;, Result::getValue);\n\n        assertThat(result.getResponses())\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\n                .contains(\n                        Tuple.tuple(resStatus, tc1, r1),\n                        Tuple.tuple(resStatus, tc1, r2));\n    }\n}\n\n@Data\n@Builder\nclass Result\n{\n    private String value;\n    private List&lt;Response&gt; responses;\n}\n\n@Data\n@Builder\nclass Response\n{\n    private String status;\n    private String testCaseName;\n    private String result;\n    private String error;\n}\n</code></pre>\n<p>How can I do assertions in FakeTest#fakeTest with chaining them instead of splitting to two assertions (one for assertThat(result).returns(...) and then assertThat(result.getResponses()).extracting(...)...)</p>\n<p>What I want to achive is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(result)\n                .returns(&quot;PASSED&quot;, Result::getValue)\n                .extracting(Result::getResponses) // connection between two assertThat(...)\n                .extracting(&quot;status&quot;, &quot;testCaseName&quot;, &quot;result&quot;)\n                .contains(\n                        Tuple.tuple(resStatus, tc1, r1),\n                        Tuple.tuple(resStatus, tc1, r2));\n</code></pre>\n<p>I've found out that returning Assertion object are different:</p>\n<ul>\n<li>ListAssert&lt;Response&gt; when doing the chain of second assertion</li>\n<li>AbstractObjectAssert&lt;capture of ?, List&lt;Response&gt;&gt; when doing <strong>merged</strong> assertion</li>\n</ul>\n"},{"tags":["java","objectdb"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1646247863,"post_id":71327788,"comment_id":126078579,"body_markdown":"try in inicializaFactory to use `em.getMetamodel().entity(Jugador.class);`","body":"try in inicializaFactory to use <code>em.getMetamodel().entity(Jugador.class);</code>"},{"owner":{"account_id":23511472,"reputation":11,"user_id":17560088,"display_name":"jrro0"},"score":0,"creation_date":1646250948,"post_id":71327788,"comment_id":126079612,"body_markdown":"em.getMetamodel().entity(Jugador.class); not working.","body":"em.getMetamodel().entity(Jugador.class); not working."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646288342,"post_id":71327788,"comment_id":126087297,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":1054347,"reputation":1308,"user_id":1057389,"display_name":"ObjectDB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646253049,"creation_date":1646253049,"answer_id":71328775,"question_id":71327788,"body_markdown":"JPA requires listing all the entity classes in a [persistence.xml file][1], so this is the standard solution to make all the entity classes known in queries even before persisting their first instances.\r\n\r\nHowever, the solution suggested by Panagiotis Bougioukos in a comment should also work (and is simpler), i.e. calling `em.getMetamodel().entity(Jugador.class);` **before** executing the query, on the same database, and then the class becomes also known in queries and the exception should not be thrown.\r\n\r\n\r\n  [1]: https://m.objectdb.com/java/jpa/entity/persistence-unit","title":"Error &quot;javax.persistence.PersistenceException Type xxx is not found (error 301)&quot; while using ObjectDB (Java)","body":"<p>JPA requires listing all the entity classes in a <a href=\"https://m.objectdb.com/java/jpa/entity/persistence-unit\" rel=\"nofollow noreferrer\">persistence.xml file</a>, so this is the standard solution to make all the entity classes known in queries even before persisting their first instances.</p>\n<p>However, the solution suggested by Panagiotis Bougioukos in a comment should also work (and is simpler), i.e. calling <code>em.getMetamodel().entity(Jugador.class);</code> <strong>before</strong> executing the query, on the same database, and then the class becomes also known in queries and the exception should not be thrown.</p>\n"}],"owner":{"account_id":23511472,"reputation":11,"user_id":17560088,"display_name":"jrro0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646253049,"creation_date":1646247078,"question_id":71327788,"body_markdown":"I&#39;m working with ObjectDB at school, and, while doing homework I had a problem.\r\n\r\nThere is the problem: \r\n\r\n    Exception in thread &quot;main&quot; [ObjectDB 2.8.7] DELETE FROM  ==&gt; Jugador &lt;== \r\n    javax.persistence.PersistenceException\r\n    Type Jugador is not found (error 301)\r\n     (position 12)\tat com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:805)\r\n    \tat com.mycompany.objectdb.NewMain.eliminarDatos(NewMain.java:89)\r\n    \tat com.mycompany.objectdb.NewMain.main(NewMain.java:38)\r\n    Caused by: com.objectdb.o.TEX: Type Jugador is not found\r\n    \tat com.objectdb.o.MSG.b(MSG.java:110)\r\n    \tat com.objectdb.o.TRS.b(TRS.java:214)\r\n    \tat com.objectdb.o.SYR.g(SYR.java:261)\r\n    \tat com.objectdb.o.SYR.f(SYR.java:190)\r\n    \tat com.objectdb.o.QRC.&lt;init&gt;(QRC.java:158)\r\n    \tat com.objectdb.o.QRM.Z1(QRM.java:272)\r\n    \tat com.objectdb.o.MST.Z1(MST.java:1026)\r\n    \tat com.objectdb.o.WRA.Z1(WRA.java:313)\r\n    \tat com.objectdb.o.WSM.Z1(WSM.java:117)\r\n    \tat com.objectdb.o.QRR.k(QRR.java:260)\r\n    \tat com.objectdb.o.QRR.i(QRR.java:154)\r\n    \tat com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:791)\r\n    \t... 2 more\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:764)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:711)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:289)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:78)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:567)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n\r\nThere is my Main and my class &quot;Jugador&quot;, which is reference that is doesn&#39;t exist.\r\n\r\n&gt; package com.mycompany.objectdb;\r\n&gt; \r\n&gt; import javax.persistence.*; import java.util.*; import\r\n&gt; java.text.ParseException; import java.text.SimpleDateFormat; import\r\n&gt; java.util.logging.Level; import java.util.logging.Logger;\r\n&gt; \r\n&gt; public class NewMain {\r\n&gt; \r\n&gt;     public static EntityManagerFactory emf;\r\n&gt;     public static EntityManager em;\r\n&gt;     public static void main(String[] args) {\r\n&gt;         Scanner in = new Scanner(System.in);\r\n&gt;         int opcion = -1;\r\n&gt;         int opcion3 = -1;\r\n&gt;         \r\n&gt;         while (opcion != 0) {\r\n&gt;             System.out.println(&quot;0. Cerrar aplicaci&#243;n&quot;);\r\n&gt;             System.out.println(&quot;1. Conexi&#243;n a BBDD&quot;);\r\n&gt;             System.out.println(&quot;2. Reiniciar datos&quot;);\r\n&gt;             System.out.println(&quot;3. Aplicacion&quot;);\r\n&gt;             System.out.println(&quot;&quot;);\r\n&gt;             try {\r\n&gt;                 System.out.println(&quot;&#191;Qu&#233; desea hacer?&quot;);\r\n&gt;                 opcion = in.nextInt();\r\n&gt;                 System.out.println(&quot;&quot;);\r\n&gt;                 \r\n&gt;                 switch (opcion) {\r\n&gt;                     case 0:\r\n&gt;                         break;\r\n&gt;                     case 1:\r\n&gt;                         inicializaFactory();\r\n&gt;                         break;\r\n&gt;                     case 2:\r\n&gt;                         inicializaFactory();\r\n&gt;                         eliminarDatos(em);\r\n&gt;                         reiniciarDatos(em);\r\n&gt;                     case 3:\r\n&gt;                         System.out.println(&quot;Has elegido aplicaci&#243;n&quot;);\r\n&gt;                         System.out.println(&quot;Selecciona lo que desea hacer&quot;);\r\n&gt;                         System.out.println(&quot;1. Insertar objeto&quot;);\r\n&gt;                         System.out.println(&quot;2. Modificar objeto&quot;);\r\n&gt;                         System.out.println(&quot;3. Borrar objeto&quot;);\r\n&gt;                         System.out.println(&quot;4. Realizar consulta&quot;);\r\n&gt;                         opcion3 = in.nextInt();\r\n&gt;                             if (opcion3== 1) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.insJPQLT2(em);\r\n&gt;                             } else if (opcion3 == 2) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.modifJPQLT2(em);\r\n&gt;                             } else if (opcion3 == 3) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.borradoJPTLT2(em);\r\n&gt;                             } else if (opcion3 == 4) {\r\n&gt;                                 inicializaFactory();\r\n&gt;                                 Expulsion2OP2.consultaJPTLT2(em);\r\n&gt;                             } else {\r\n&gt;                                 System.out.println(&quot;No existe ning&#250;n m&#233;todo asignado a ese n&#250;mero&quot;);\r\n&gt;                                 opcion3 = in.nextInt();\r\n&gt;                             }\r\n&gt;                         \r\n&gt;                     break;\r\n&gt;                     \r\n&gt;                     default:\r\n&gt;                     System.out.println(&quot;Escribe un n&#250;mero entre el 0 y el 3&quot;);\r\n&gt;                 }\r\n&gt;             } catch (InputMismatchException e) {\r\n&gt;                 System.out.println(&quot;Inserta un valor v&#225;lido&quot;);\r\n&gt;                 in.next();\r\n&gt;             }\r\n&gt;       }\r\n&gt;         if (em != null){\r\n&gt;             em.close();\r\n&gt;             emf.close();\r\n&gt;         }\r\n&gt;     }\r\n&gt;     public static void inicializaFactory(){\r\n&gt;         emf=Persistence.createEntityManagerFactory(&quot;./db/proyecto.odb&quot;);\r\n&gt;         em=emf.createEntityManager();\r\n&gt;         System.out.println(&quot;Conexi&#243;n exitosa&quot;);\r\n&gt;         System.out.println(&quot;&quot;);\r\n&gt;     }\r\n&gt;     public static void eliminarDatos(EntityManager em){\r\n&gt;         // Eliminar\r\n&gt;         em.getTransaction().begin();\r\n&gt;         em.createQuery(&quot;DELETE FROM Jugador&quot;).executeUpdate();\r\n&gt;         em.createQuery(&quot;DELETE FROM Partido&quot;).executeUpdate();\r\n&gt;         em.createQuery(&quot;DELETE FROM Expulsion&quot;).executeUpdate();\r\n&gt;         em.getTransaction().commit();\r\n&gt;         System.out.println(&quot;&quot;);\r\n&gt;         System.out.println(&quot;Datos eliminados con &#233;xito&quot;);\r\n&gt;     }\r\n&gt;     public static void reiniciarDatos(EntityManager em){\r\n&gt;         //Crear\r\n&gt;         em.getTransaction().begin();\r\n&gt;         Jugador j1 = new Jugador(&quot;8&quot;,&quot;Griezmann&quot;,&quot;Atl&#233;tico de Madrid&quot;,&quot;8&quot;,&quot;Delantero&quot;);\r\n&gt;                 em.persist(j1);\r\n&gt;         Jugador j2 = new Jugador(&quot;23&quot;,&quot;Pedri&quot;,&quot;F.C Barcelona&quot;,&quot;16&quot;,&quot;Delantero&quot;);\r\n&gt;                 em.persist(j2);\r\n&gt;         Jugador j3 = new Jugador(&quot;55&quot;,&quot;Pau Torres&quot;,&quot;Villarreal&quot;,&quot;4&quot;,&quot;Defensa&quot;);  \r\n&gt;                 em.persist(j3);\r\n&gt;         Partido p1 = new Partido(&quot;442&quot;,&quot;Atl&#233;tico de Madrid&quot;,&quot;Osasuna&quot;,&quot;Semifinal Copa del Rey&quot;,&quot;Wanda Metropolitano&quot;);\r\n&gt;                 em.persist(p1);\r\n&gt;         Partido p2 = new Partido(&quot;452&quot;,&quot;F.C Barcelona&quot;,&quot;Betis&quot;,&quot;Jornada 8 Liga&quot;,&quot;Camp Nou&quot;);\r\n&gt;                 em.persist(p2);\r\n&gt;         Partido p3 = new Partido(&quot;447&quot;,&quot;Sevilla&quot;,&quot;Villarreal&quot;,&quot;Jornada 11 Liga&quot;,&quot;Sanchez Pizjuan&quot;);\r\n&gt;                 em.persist(p3);\r\n&gt;         Expulsion e1 = new Expulsion(&quot;120&quot;,&quot;28&quot;,&quot;Patada en el tobillo&quot;,j1,p1);\r\n&gt;                 em.persist(e1);\r\n&gt;         Expulsion e2 = new Expulsion(&quot;124&quot;,&quot;88&quot;,&quot;Falta por detr&#225;s&quot;,j2,p2);\r\n&gt;                 em.persist(e2);\r\n&gt;         Expulsion e3 = new Expulsion(&quot;126&quot;,&quot;41&quot;,&quot;Cabezazo en el pecho&quot;,j3,p3);\r\n&gt;                 em.persist(e3);\r\n&gt;         em.getTransaction().commit();\r\n&gt;         System.out.println(&quot;Los datos han sido reiniciados con &#233;xito&quot;);\r\n&gt;     }\r\n&gt;     \r\n&gt;      }\r\n\r\n\r\nJugador\r\n\r\n\r\n&gt; package com.mycompany.objectdb;\r\n&gt; \r\n&gt; import java.io.Serializable; import javax.persistence.Basic; import\r\n&gt; javax.persistence.Column; import javax.persistence.Entity; import\r\n&gt; javax.persistence.Id;\r\n&gt; \r\n&gt; @Entity\r\n&gt; \r\n&gt; public class Jugador implements Serializable {\r\n&gt; \r\n&gt;     private static final long serialVersionUID = 1L;\r\n&gt;     @Id\r\n&gt;     @Basic(optional = false)\r\n&gt;     @Column(name = &quot;IDJUGADOR&quot;)\r\n&gt;     private String idjugador;\r\n&gt;     @Column(name = &quot;NOMBRE&quot;)\r\n&gt;     private String nombre;\r\n&gt;     @Column(name = &quot;EQUIPO&quot;)\r\n&gt;     private String equipo;\r\n&gt;     @Column(name = &quot;DORSAL&quot;)\r\n&gt;     private String dorsal;\r\n&gt;     @Column(name = &quot;POSICION&quot;)\r\n&gt;     private String posicion;\r\n&gt; \r\n&gt;     public Jugador() {\r\n&gt;         \r\n&gt;     }\r\n&gt;     \r\n&gt;     public Jugador(String idjugador){\r\n&gt;         this.idjugador = idjugador;\r\n&gt;     }\r\n&gt; \r\n&gt;     public Jugador(String idjugador, String nombre, String equipo, String dorsal, String posicion) {\r\n&gt;         this.idjugador = idjugador;\r\n&gt;         this.nombre = nombre;\r\n&gt;         this.equipo = equipo;\r\n&gt;         this.dorsal = dorsal;\r\n&gt;         this.posicion = posicion;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getIdjugador() {\r\n&gt;         return idjugador;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setIdjugador(String idjugador) {\r\n&gt;         this.idjugador = idjugador;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getNombre() {\r\n&gt;         return nombre;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setNombre(String nombre) {\r\n&gt;         this.nombre = nombre;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getEquipo() {\r\n&gt;         return equipo;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setEquipo(String equipo) {\r\n&gt;         this.equipo = equipo;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getDorsal() {\r\n&gt;         return dorsal;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setDorsal(String dorsal) {\r\n&gt;         this.dorsal = dorsal;\r\n&gt;     }\r\n&gt; \r\n&gt;     public String getPosicion() {\r\n&gt;         return posicion;\r\n&gt;     }\r\n&gt; \r\n&gt;     public void setPosicion(String posicion) {\r\n&gt;         this.posicion = posicion;\r\n&gt;     }\r\n&gt;     \r\n&gt;     @Override\r\n&gt;     public String toString() {\r\n&gt;         return &quot;Jugador{&quot; + &quot;idjugador=&quot; + idjugador +&quot;, nombre=&quot; + nombre + &quot;, equipo=&quot; + equipo + &quot;, dorsal=&quot; + dorsal + &quot;, posicion=&quot; +\r\n&gt; posicion + &#39;}&#39;;\r\n&gt;     }\r\n&gt; \r\n&gt; }\r\n\r\n\r\nThank you!","title":"Error &quot;javax.persistence.PersistenceException Type xxx is not found (error 301)&quot; while using ObjectDB (Java)","body":"<p>I'm working with ObjectDB at school, and, while doing homework I had a problem.</p>\n<p>There is the problem:</p>\n<pre><code>Exception in thread &quot;main&quot; [ObjectDB 2.8.7] DELETE FROM  ==&gt; Jugador &lt;== \njavax.persistence.PersistenceException\nType Jugador is not found (error 301)\n (position 12)  at com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:805)\n    at com.mycompany.objectdb.NewMain.eliminarDatos(NewMain.java:89)\n    at com.mycompany.objectdb.NewMain.main(NewMain.java:38)\nCaused by: com.objectdb.o.TEX: Type Jugador is not found\n    at com.objectdb.o.MSG.b(MSG.java:110)\n    at com.objectdb.o.TRS.b(TRS.java:214)\n    at com.objectdb.o.SYR.g(SYR.java:261)\n    at com.objectdb.o.SYR.f(SYR.java:190)\n    at com.objectdb.o.QRC.&lt;init&gt;(QRC.java:158)\n    at com.objectdb.o.QRM.Z1(QRM.java:272)\n    at com.objectdb.o.MST.Z1(MST.java:1026)\n    at com.objectdb.o.WRA.Z1(WRA.java:313)\n    at com.objectdb.o.WSM.Z1(WSM.java:117)\n    at com.objectdb.o.QRR.k(QRR.java:260)\n    at com.objectdb.o.QRR.i(QRR.java:154)\n    at com.objectdb.jpa.JpaQuery.executeUpdate(JpaQuery.java:791)\n    ... 2 more\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:764)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:711)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:289)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:78)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:567)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\n</code></pre>\n<p>There is my Main and my class &quot;Jugador&quot;, which is reference that is doesn't exist.</p>\n<blockquote>\n<p>package com.mycompany.objectdb;</p>\n<p>import javax.persistence.<em>; import java.util.</em>; import\njava.text.ParseException; import java.text.SimpleDateFormat; import\njava.util.logging.Level; import java.util.logging.Logger;</p>\n<p>public class NewMain {</p>\n<pre><code>public static EntityManagerFactory emf;\npublic static EntityManager em;\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int opcion = -1;\n    int opcion3 = -1;\n    \n    while (opcion != 0) {\n        System.out.println(&quot;0. Cerrar aplicación&quot;);\n        System.out.println(&quot;1. Conexión a BBDD&quot;);\n        System.out.println(&quot;2. Reiniciar datos&quot;);\n        System.out.println(&quot;3. Aplicacion&quot;);\n        System.out.println(&quot;&quot;);\n        try {\n            System.out.println(&quot;¿Qué desea hacer?&quot;);\n            opcion = in.nextInt();\n            System.out.println(&quot;&quot;);\n            \n            switch (opcion) {\n                case 0:\n                    break;\n                case 1:\n                    inicializaFactory();\n                    break;\n                case 2:\n                    inicializaFactory();\n                    eliminarDatos(em);\n                    reiniciarDatos(em);\n                case 3:\n                    System.out.println(&quot;Has elegido aplicación&quot;);\n                    System.out.println(&quot;Selecciona lo que desea hacer&quot;);\n                    System.out.println(&quot;1. Insertar objeto&quot;);\n                    System.out.println(&quot;2. Modificar objeto&quot;);\n                    System.out.println(&quot;3. Borrar objeto&quot;);\n                    System.out.println(&quot;4. Realizar consulta&quot;);\n                    opcion3 = in.nextInt();\n                        if (opcion3== 1) {\n                            inicializaFactory();\n                            Expulsion2OP2.insJPQLT2(em);\n                        } else if (opcion3 == 2) {\n                            inicializaFactory();\n                            Expulsion2OP2.modifJPQLT2(em);\n                        } else if (opcion3 == 3) {\n                            inicializaFactory();\n                            Expulsion2OP2.borradoJPTLT2(em);\n                        } else if (opcion3 == 4) {\n                            inicializaFactory();\n                            Expulsion2OP2.consultaJPTLT2(em);\n                        } else {\n                            System.out.println(&quot;No existe ningún método asignado a ese número&quot;);\n                            opcion3 = in.nextInt();\n                        }\n                    \n                break;\n                \n                default:\n                System.out.println(&quot;Escribe un número entre el 0 y el 3&quot;);\n            }\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Inserta un valor válido&quot;);\n            in.next();\n        }\n  }\n    if (em != null){\n        em.close();\n        emf.close();\n    }\n}\npublic static void inicializaFactory(){\n    emf=Persistence.createEntityManagerFactory(&quot;./db/proyecto.odb&quot;);\n    em=emf.createEntityManager();\n    System.out.println(&quot;Conexión exitosa&quot;);\n    System.out.println(&quot;&quot;);\n}\npublic static void eliminarDatos(EntityManager em){\n    // Eliminar\n    em.getTransaction().begin();\n    em.createQuery(&quot;DELETE FROM Jugador&quot;).executeUpdate();\n    em.createQuery(&quot;DELETE FROM Partido&quot;).executeUpdate();\n    em.createQuery(&quot;DELETE FROM Expulsion&quot;).executeUpdate();\n    em.getTransaction().commit();\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;Datos eliminados con éxito&quot;);\n}\npublic static void reiniciarDatos(EntityManager em){\n    //Crear\n    em.getTransaction().begin();\n    Jugador j1 = new Jugador(&quot;8&quot;,&quot;Griezmann&quot;,&quot;Atlético de Madrid&quot;,&quot;8&quot;,&quot;Delantero&quot;);\n            em.persist(j1);\n    Jugador j2 = new Jugador(&quot;23&quot;,&quot;Pedri&quot;,&quot;F.C Barcelona&quot;,&quot;16&quot;,&quot;Delantero&quot;);\n            em.persist(j2);\n    Jugador j3 = new Jugador(&quot;55&quot;,&quot;Pau Torres&quot;,&quot;Villarreal&quot;,&quot;4&quot;,&quot;Defensa&quot;);  \n            em.persist(j3);\n    Partido p1 = new Partido(&quot;442&quot;,&quot;Atlético de Madrid&quot;,&quot;Osasuna&quot;,&quot;Semifinal Copa del Rey&quot;,&quot;Wanda Metropolitano&quot;);\n            em.persist(p1);\n    Partido p2 = new Partido(&quot;452&quot;,&quot;F.C Barcelona&quot;,&quot;Betis&quot;,&quot;Jornada 8 Liga&quot;,&quot;Camp Nou&quot;);\n            em.persist(p2);\n    Partido p3 = new Partido(&quot;447&quot;,&quot;Sevilla&quot;,&quot;Villarreal&quot;,&quot;Jornada 11 Liga&quot;,&quot;Sanchez Pizjuan&quot;);\n            em.persist(p3);\n    Expulsion e1 = new Expulsion(&quot;120&quot;,&quot;28&quot;,&quot;Patada en el tobillo&quot;,j1,p1);\n            em.persist(e1);\n    Expulsion e2 = new Expulsion(&quot;124&quot;,&quot;88&quot;,&quot;Falta por detrás&quot;,j2,p2);\n            em.persist(e2);\n    Expulsion e3 = new Expulsion(&quot;126&quot;,&quot;41&quot;,&quot;Cabezazo en el pecho&quot;,j3,p3);\n            em.persist(e3);\n    em.getTransaction().commit();\n    System.out.println(&quot;Los datos han sido reiniciados con éxito&quot;);\n}\n\n }\n</code></pre>\n</blockquote>\n<p>Jugador</p>\n<blockquote>\n<p>package com.mycompany.objectdb;</p>\n<p>import java.io.Serializable; import javax.persistence.Basic; import\njavax.persistence.Column; import javax.persistence.Entity; import\njavax.persistence.Id;</p>\n<p>@Entity</p>\n<p>public class Jugador implements Serializable {</p>\n<pre><code>private static final long serialVersionUID = 1L;\n@Id\n@Basic(optional = false)\n@Column(name = &quot;IDJUGADOR&quot;)\nprivate String idjugador;\n@Column(name = &quot;NOMBRE&quot;)\nprivate String nombre;\n@Column(name = &quot;EQUIPO&quot;)\nprivate String equipo;\n@Column(name = &quot;DORSAL&quot;)\nprivate String dorsal;\n@Column(name = &quot;POSICION&quot;)\nprivate String posicion;\n\npublic Jugador() {\n    \n}\n\npublic Jugador(String idjugador){\n    this.idjugador = idjugador;\n}\n\npublic Jugador(String idjugador, String nombre, String equipo, String dorsal, String posicion) {\n    this.idjugador = idjugador;\n    this.nombre = nombre;\n    this.equipo = equipo;\n    this.dorsal = dorsal;\n    this.posicion = posicion;\n}\n\npublic String getIdjugador() {\n    return idjugador;\n}\n\npublic void setIdjugador(String idjugador) {\n    this.idjugador = idjugador;\n}\n\npublic String getNombre() {\n    return nombre;\n}\n\npublic void setNombre(String nombre) {\n    this.nombre = nombre;\n}\n\npublic String getEquipo() {\n    return equipo;\n}\n\npublic void setEquipo(String equipo) {\n    this.equipo = equipo;\n}\n\npublic String getDorsal() {\n    return dorsal;\n}\n\npublic void setDorsal(String dorsal) {\n    this.dorsal = dorsal;\n}\n\npublic String getPosicion() {\n    return posicion;\n}\n\npublic void setPosicion(String posicion) {\n    this.posicion = posicion;\n}\n\n@Override\npublic String toString() {\n    return &quot;Jugador{&quot; + &quot;idjugador=&quot; + idjugador +&quot;, nombre=&quot; + nombre + &quot;, equipo=&quot; + equipo + &quot;, dorsal=&quot; + dorsal + &quot;, posicion=&quot; +\n</code></pre>\n<p>posicion + '}';\n}</p>\n<p>}</p>\n</blockquote>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":11335070,"reputation":887,"user_id":8311212,"display_name":"Sounak Saha"},"score":0,"creation_date":1646144801,"post_id":71309053,"comment_id":126047437,"body_markdown":"Any other mapping mentioned in your controller class?","body":"Any other mapping mentioned in your controller class?"},{"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"score":0,"creation_date":1646151263,"post_id":71309053,"comment_id":126050120,"body_markdown":"@SounakSaha in my RestController there are some GetMapping and DeleteMapping methods. I&#39;ve tried to change my PutMapping on a PostMapping method but i receive the same error type.","body":"@SounakSaha in my RestController there are some GetMapping and DeleteMapping methods. I&#39;ve tried to change my PutMapping on a PostMapping method but i receive the same error type."}],"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646252488,"creation_date":1646140551,"question_id":71309053,"body_markdown":"I&#39;ve made a simple SpringBoot project with 3 microservices, built by docker-compose.yml.\r\n\r\nWhen I try to communicate between microservices with a Spring WebClient call, I received\r\n\r\n&gt; 405 Request method &#39;PUT&#39; not supported  http://transactions-ms:8080/sendAccountTransaction\r\n\r\nbut if I made a Postman call the transactions microservice is reachable and other webclient calls (with another WebClient contained in other microservices) work fine.\r\n\r\n**WebClient (URI: http://transactions-ms:8080/sendAccountTransaction)**\r\n```\r\npublic ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(SendTransactionRequest request) {\r\n\t\tSavedTransactionRTO response = webClient.put()\r\n\t\t\t\t.uri(ClientUrl.TRANSACTIONS_URL+ClientEndp.SEND_ACC_TRANSACTION)\r\n\t\t\t\t.bodyValue(request)\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(SavedTransactionRTO.class)\r\n\t\t\t\t.block();\r\n\t\treturn new  ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\r\n\t}\r\n```\r\n**Controller method:**\r\n```\r\n@PutMapping(value = &quot;/sendAccountTransaction&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(@RequestBody SendTransactionRequest request){\t\r\n\t\tSavedTransactionRTO response = transactionService.sendAccountTransaction(request);\t\t\r\n\t\treturn new ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\r\n\t}\r\n```\r\n**Docker-compose.yml**\r\n```\r\nversion: &quot;3&quot;\r\nservices:\r\n   transactions-ms:\r\n      image: transactions-ms\r\n      hostname: transactions-ms\r\n      container_name: transactions-ms\r\n      build:\r\n         context: ./transactions-ms\r\n         dockerfile: Dockerfile\r\n      ports:\r\n         - &quot;8080:8080&quot;\r\n              \r\n   accounts-ms:\r\n      image: accounts-ms\r\n      hostname: accounts-ms\r\n      container_name: accounts-ms\r\n      depends_on:\r\n         transactions-ms:\r\n            condition: service_started\r\n      build:\r\n         context: ./accounts-ms\r\n         dockerfile: Dockerfile\r\n      ports:\r\n         - &quot;8081:8081&quot;\r\n      \r\n   customers-ms:\r\n      image: customers-ms\r\n      hostname: customers-ms  \r\n      container_name : customers-ms\r\n      depends_on:\r\n          accounts-ms:\r\n            condition: service_started\r\n      build:\r\n         context: ./customers-ms\r\n         dockerfile: Dockerfile   \r\n      ports:\r\n         - &quot;8082:8082&quot;\r\n```\r\n**DockerFile**\r\n```\r\nFROM openjdk:8\r\nEXPOSE 8080 \r\nADD target/transactions-ms.jar transactions-ms.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/transactions-ms.jar&quot;]\r\n```\r\n\r\n\r\nI have made all possible attempts, anyone has a solution?\r\n","title":"Request method PUT not supported with Spring webClient call on dockerized app","body":"<p>I've made a simple SpringBoot project with 3 microservices, built by docker-compose.yml.</p>\n<p>When I try to communicate between microservices with a Spring WebClient call, I received</p>\n<blockquote>\n<p>405 Request method 'PUT' not supported  http://transactions-ms:8080/sendAccountTransaction</p>\n</blockquote>\n<p>but if I made a Postman call the transactions microservice is reachable and other webclient calls (with another WebClient contained in other microservices) work fine.</p>\n<p><strong>WebClient (URI: http://transactions-ms:8080/sendAccountTransaction)</strong></p>\n<pre><code>public ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(SendTransactionRequest request) {\n        SavedTransactionRTO response = webClient.put()\n                .uri(ClientUrl.TRANSACTIONS_URL+ClientEndp.SEND_ACC_TRANSACTION)\n                .bodyValue(request)\n                .retrieve()\n                .bodyToMono(SavedTransactionRTO.class)\n                .block();\n        return new  ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\n    }\n</code></pre>\n<p><strong>Controller method:</strong></p>\n<pre><code>@PutMapping(value = &quot;/sendAccountTransaction&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;SavedTransactionRTO&gt; sendAccountTransaction(@RequestBody SendTransactionRequest request){ \n        SavedTransactionRTO response = transactionService.sendAccountTransaction(request);      \n        return new ResponseEntity&lt;SavedTransactionRTO&gt;(response, HttpStatus.OK);\n    }\n</code></pre>\n<p><strong>Docker-compose.yml</strong></p>\n<pre><code>version: &quot;3&quot;\nservices:\n   transactions-ms:\n      image: transactions-ms\n      hostname: transactions-ms\n      container_name: transactions-ms\n      build:\n         context: ./transactions-ms\n         dockerfile: Dockerfile\n      ports:\n         - &quot;8080:8080&quot;\n              \n   accounts-ms:\n      image: accounts-ms\n      hostname: accounts-ms\n      container_name: accounts-ms\n      depends_on:\n         transactions-ms:\n            condition: service_started\n      build:\n         context: ./accounts-ms\n         dockerfile: Dockerfile\n      ports:\n         - &quot;8081:8081&quot;\n      \n   customers-ms:\n      image: customers-ms\n      hostname: customers-ms  \n      container_name : customers-ms\n      depends_on:\n          accounts-ms:\n            condition: service_started\n      build:\n         context: ./customers-ms\n         dockerfile: Dockerfile   \n      ports:\n         - &quot;8082:8082&quot;\n</code></pre>\n<p><strong>DockerFile</strong></p>\n<pre><code>FROM openjdk:8\nEXPOSE 8080 \nADD target/transactions-ms.jar transactions-ms.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/transactions-ms.jar&quot;]\n</code></pre>\n<p>I have made all possible attempts, anyone has a solution?</p>\n"},{"tags":["java","javafx","leaflet","javafx-webengine","javafx-17"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1636293273,"post_id":69872483,"comment_id":123512559,"body_markdown":"Stick with JavaFX 16 for your app as that works.  File a JavaFX bug (search for instructions for that).","body":"Stick with JavaFX 16 for your app as that works.  File a JavaFX bug (search for instructions for that)."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1636301683,"post_id":69872483,"comment_id":123514748,"body_markdown":"You can report this issue here: https://bugs.java.com/bugdatabase/","body":"You can report this issue here: <a href=\"https://bugs.java.com/bugdatabase/\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase</a>"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1636303033,"post_id":69872483,"comment_id":123515121,"body_markdown":"I can also confirm the issue on my Mac with Catalina 10.15.7.","body":"I can also confirm the issue on my Mac with Catalina 10.15.7."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1636306488,"post_id":69872483,"comment_id":123516014,"body_markdown":"Same as @mipa with Java 1.8; JavaFX 16 OK.","body":"Same as @mipa with Java 1.8; JavaFX 16 OK."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636466884,"creation_date":1636466884,"answer_id":69899621,"question_id":69872483,"body_markdown":"I have entered this into the JDK bug database because there seems to be a more general issue here. See: https://bugs.openjdk.java.net/browse/JDK-8276859  This is also not the only report about such an issue. See also: https://stackoverflow.com/questions/69895487/after-java-update-to-the-version-1-8-0-301-javafx-webview-with-leaflet-draw-circ","title":"Leaflet does not work in WebEngine after JavaFX 17","body":"<p>I have entered this into the JDK bug database because there seems to be a more general issue here. See: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8276859\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8276859</a>  This is also not the only report about such an issue. See also: <a href=\"https://stackoverflow.com/questions/69895487/after-java-update-to-the-version-1-8-0-301-javafx-webview-with-leaflet-draw-circ\">After Java update to the version 1.8.0_301 JavaFX WebView with Leaflet.Draw.Circle, Leaflet.Edit.Circle does not work as well as OSM is not draggable</a></p>\n"},{"tags":[],"owner":{"account_id":306956,"reputation":13878,"user_id":617996,"accept_rate":93,"display_name":"PrimosK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646251707,"creation_date":1639118556,"answer_id":70300669,"question_id":69872483,"body_markdown":"It&#39;s nice to see that there are more of us looking into this.  \r\n\r\nI did some deeper investigation and was able to pinpoint the problem which consequently lead me to a workaround/hack which makes dragging of Leaflet map to work fine in WebKit (Java FX 17).\r\n\r\n**Findings:**\r\n\r\n1. This is definitely regression as dragging of Leaflet map works fine with JavaFX releases prior to 17. So as @Jos&#233; pointed out it&#39;s most probably related to WebKit 610.2 upgrade ([JDK-8259635][1]).\r\n\r\n2. It seems to be related to [PointerEvent][2] which seems to not be properly generated in the case of Java FX 17. Following example outputs 1 when dragging with the mouse button down. But it **outputs 0** in the case of WebView/WebKit inside Java FX 17. Note that `e.buttons` value is properly set to 1 in JavaFX WebView/WebKit versions prior to Java FX 17.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!doctype html&gt;\r\n    &lt;body style=&quot;height: 200px&quot;&gt;\r\n      &lt;p&gt;Click and drag &amp; observe the console output&lt;/p&gt;  \r\n\r\n      &lt;script&gt;\r\n        var onMove = function (e) {      \r\n          console.log(&quot;e.buttons: &quot; + e.buttons);\r\n        }\r\n        \r\n        var body = document.getElementsByTagName(&#39;body&#39;)[0];\r\n        document.addEventListener(&quot;pointermove&quot;, onMove, false);\r\n      &lt;/script&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n3. Based on the finding no. 2 I was able to identify the JS code which prevent the Leaflet map from moving (while being dragged). In Leaflet 1.7.1. it&#39;s actually this `if` expression which consequently causes map to **not** be moved (because `PointerEvent.buttons` is wrongfully set to 0 by Java FX 17):\r\nhttps://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\r\n\r\n4. I&#39;ve already reported this through the Oracle bug report system ([JDK-8278150][3]). The issue was &quot;mistakenly&quot; closed - I&#39;ve already provided them with the info explained in this answer so they will hopefully re-open it or tackle it under [JDK-8276859][4].\r\n\r\n**Workaround (Leaflet 1.7.1):**\r\n\r\nWorkaround/hack to make Leaflet map work again:\r\n\r\nComment out the `if` expressions at:\r\nhttps://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\r\n\r\nThis makes the Leaftlet map to move properly while being dragged in the Java FX 17 WebView - but please consider this more like a hack to make it work again as this was not tested out thoroughly...\r\n\r\n**Update 1**\r\n\r\nThis issue seems to be gone with the latest [master branch][5] of Leaflet despite regression in JavaFX WebView/WebKit remains (can anyone please confirm this?).\r\n\r\n**Update 2**\r\n\r\nAs stated by @mipa, the underlying issue was fixed in 8u291 and openjfx17. More info available at:\r\nhttp://bugs.openjdk.java.net/browse/JDK-8278759 \r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8259635\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/pointermove_event\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8278150?jql=project%20%3D%20JDK\r\n  [4]: https://bugs.openjdk.java.net/browse/JDK-8276859\r\n  [5]: https://leafletjs-cdn.s3.amazonaws.com/content/leaflet/master/leaflet-src.js","title":"Leaflet does not work in WebEngine after JavaFX 17","body":"<p>It's nice to see that there are more of us looking into this.</p>\n<p>I did some deeper investigation and was able to pinpoint the problem which consequently lead me to a workaround/hack which makes dragging of Leaflet map to work fine in WebKit (Java FX 17).</p>\n<p><strong>Findings:</strong></p>\n<ol>\n<li><p>This is definitely regression as dragging of Leaflet map works fine with JavaFX releases prior to 17. So as @José pointed out it's most probably related to WebKit 610.2 upgrade (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8259635\" rel=\"nofollow noreferrer\">JDK-8259635</a>).</p>\n</li>\n<li><p>It seems to be related to <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/pointermove_event\" rel=\"nofollow noreferrer\">PointerEvent</a> which seems to not be properly generated in the case of Java FX 17. Following example outputs 1 when dragging with the mouse button down. But it <strong>outputs 0</strong> in the case of WebView/WebKit inside Java FX 17. Note that <code>e.buttons</code> value is properly set to 1 in JavaFX WebView/WebKit versions prior to Java FX 17.</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;body style=\"height: 200px\"&gt;\n  &lt;p&gt;Click and drag &amp; observe the console output&lt;/p&gt;  \n\n  &lt;script&gt;\n    var onMove = function (e) {      \n      console.log(\"e.buttons: \" + e.buttons);\n    }\n    \n    var body = document.getElementsByTagName('body')[0];\n    document.addEventListener(\"pointermove\", onMove, false);\n  &lt;/script&gt;\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<ol start=\"3\">\n<li><p>Based on the finding no. 2 I was able to identify the JS code which prevent the Leaflet map from moving (while being dragged). In Leaflet 1.7.1. it's actually this <code>if</code> expression which consequently causes map to <strong>not</strong> be moved (because <code>PointerEvent.buttons</code> is wrongfully set to 0 by Java FX 17):\n<a href=\"https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\" rel=\"nofollow noreferrer\">https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104</a></p>\n</li>\n<li><p>I've already reported this through the Oracle bug report system (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8278150?jql=project%20%3D%20JDK\" rel=\"nofollow noreferrer\">JDK-8278150</a>). The issue was &quot;mistakenly&quot; closed - I've already provided them with the info explained in this answer so they will hopefully re-open it or tackle it under <a href=\"https://bugs.openjdk.java.net/browse/JDK-8276859\" rel=\"nofollow noreferrer\">JDK-8276859</a>.</p>\n</li>\n</ol>\n<p><strong>Workaround (Leaflet 1.7.1):</strong></p>\n<p>Workaround/hack to make Leaflet map work again:</p>\n<p>Comment out the <code>if</code> expressions at:\n<a href=\"https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104\" rel=\"nofollow noreferrer\">https://github.com/Leaflet/Leaflet/blob/bd88f73e8ddb90eb945a28bc1de9eb07f7386118/src/dom/DomEvent.Pointer.js#L104</a></p>\n<p>This makes the Leaftlet map to move properly while being dragged in the Java FX 17 WebView - but please consider this more like a hack to make it work again as this was not tested out thoroughly...</p>\n<p><strong>Update 1</strong></p>\n<p>This issue seems to be gone with the latest <a href=\"https://leafletjs-cdn.s3.amazonaws.com/content/leaflet/master/leaflet-src.js\" rel=\"nofollow noreferrer\">master branch</a> of Leaflet despite regression in JavaFX WebView/WebKit remains (can anyone please confirm this?).</p>\n<p><strong>Update 2</strong></p>\n<p>As stated by @mipa, the underlying issue was fixed in 8u291 and openjfx17. More info available at:\n<a href=\"http://bugs.openjdk.java.net/browse/JDK-8278759\" rel=\"nofollow noreferrer\">http://bugs.openjdk.java.net/browse/JDK-8278759</a></p>\n"}],"owner":{"account_id":18528480,"reputation":71,"user_id":13499844,"display_name":"ChaseTheBurrow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1646251707,"creation_date":1636288619,"question_id":69872483,"body_markdown":"I have an application made with JavaFX 16 which contains a WebView used to show an interactive map using the Leaflet JS library.\r\n\r\nI have a problem when I try to transition to JavaFX 17, the interactive map does not work anymore (it cannot be moved nor clicked, but it can be scrolled). I reproduced the bug on a minimal example with the OpenStreetMap website that uses Leaflet :\r\n```\r\npackage test;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.web.WebView;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        WebView webView = new WebView();\r\n        webView.getEngine().load(&quot;https://www.openstreetmap.org/&quot;);\r\n        Scene scene = new Scene(new StackPane(webView), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nThe interactive map on the OpenStreetMap website is rendered correctly and can be zoomed in but it cannot be moved.\r\n\r\nI am using Gradle to download JavaFX, this is my build.gradle :\r\n```\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;17&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.web&#39;]\r\n}\r\n\r\napplication {\r\n    mainClass = &#39;test.App&#39;\r\n}\r\n```\r\nI reproduced the bug with versions :\r\n-  18-ea+5\r\n-  17.0.1\r\n-  17\r\n-  17-ea+2\r\n\r\nbut the map worked with versions :\r\n-  16\r\n-  15 \r\n\r\nSo it seems that version 17 brings the issue.\r\n\r\nAlso I reproduced the bug on macOS 12 (M1 using x86 JavaFX with Rosetta) and on Ubuntu 20. So it does not seem to be an issue with JavaFX on macOS.\r\n\r\nOther interactive maps such as Google map, Apple map and Bing map, worked with the same code as above, and MapBoxGL does not work because WebGL is not supported. So it seems that the issue is related to Leaflet.\r\n\r\nSo I wonder if it is a known issue, if anyone else has the same issue, or if it is an issue on my side ?","title":"Leaflet does not work in WebEngine after JavaFX 17","body":"<p>I have an application made with JavaFX 16 which contains a WebView used to show an interactive map using the Leaflet JS library.</p>\n<p>I have a problem when I try to transition to JavaFX 17, the interactive map does not work anymore (it cannot be moved nor clicked, but it can be scrolled). I reproduced the bug on a minimal example with the OpenStreetMap website that uses Leaflet :</p>\n<pre><code>package test;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        WebView webView = new WebView();\n        webView.getEngine().load(&quot;https://www.openstreetmap.org/&quot;);\n        Scene scene = new Scene(new StackPane(webView), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>The interactive map on the OpenStreetMap website is rendered correctly and can be zoomed in but it cannot be moved.</p>\n<p>I am using Gradle to download JavaFX, this is my build.gradle :</p>\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = [ 'javafx.controls', 'javafx.web']\n}\n\napplication {\n    mainClass = 'test.App'\n}\n</code></pre>\n<p>I reproduced the bug with versions :</p>\n<ul>\n<li>18-ea+5</li>\n<li>17.0.1</li>\n<li>17</li>\n<li>17-ea+2</li>\n</ul>\n<p>but the map worked with versions :</p>\n<ul>\n<li>16</li>\n<li>15</li>\n</ul>\n<p>So it seems that version 17 brings the issue.</p>\n<p>Also I reproduced the bug on macOS 12 (M1 using x86 JavaFX with Rosetta) and on Ubuntu 20. So it does not seem to be an issue with JavaFX on macOS.</p>\n<p>Other interactive maps such as Google map, Apple map and Bing map, worked with the same code as above, and MapBoxGL does not work because WebGL is not supported. So it seems that the issue is related to Leaflet.</p>\n<p>So I wonder if it is a known issue, if anyone else has the same issue, or if it is an issue on my side ?</p>\n"},{"tags":["java","selenium","web-testing"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1646248276,"post_id":71327821,"comment_id":126078722,"body_markdown":"What line gives you that exception?","body":"What line gives you that exception?"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":1,"creation_date":1646248359,"post_id":71327821,"comment_id":126078754,"body_markdown":"Where I click the a tag -&gt; a.click()","body":"Where I click the a tag -&gt; a.click()"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":1,"creation_date":1646248477,"post_id":71327821,"comment_id":126078785,"body_markdown":"But it actually comes from this line -&gt; if(a.getText().equals(&quot;Java&quot;)). I have just uploaded a screenshot of the failure trace","body":"But it actually comes from this line -&gt; if(a.getText().equals(&quot;Java&quot;)). I have just uploaded a screenshot of the failure trace"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1646248946,"post_id":71327821,"comment_id":126078935,"body_markdown":"Does this occur after the clicking on `Java` link and the page `https://www.geeksforgeeks.org/java/?ref=ghm` is presented or this page never opened?","body":"Does this occur after the clicking on <code>Java</code> link and the page <code>https:&#47;&#47;www.geeksforgeeks.org&#47;java&#47;?ref=ghm</code> is presented or this page never opened?"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":0,"creation_date":1646249311,"post_id":71327821,"comment_id":126079069,"body_markdown":"Yes, this occurs after clicking on Java and the page https://www.geeksforgeeks.org/java/?ref=ghm is presented.","body":"Yes, this occurs after clicking on Java and the page <a href=\"https://www.geeksforgeeks.org/java/?ref=ghm\" rel=\"nofollow noreferrer\">geeksforgeeks.org/java/?ref=ghm</a> is presented."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1646249565,"post_id":71327821,"comment_id":126079155,"body_markdown":"OK, now it&#39;s clear without need to make actual debug :) I&#39;ll give an answer shortly","body":"OK, now it&#39;s clear without need to make actual debug :) I&#39;ll give an answer shortly"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1646250479,"creation_date":1646250479,"answer_id":71328361,"question_id":71327821,"body_markdown":"After clicking on the `a` element with `Java` text the [`Java Programming Language`](https://www.geeksforgeeks.org/java/?ref=ghm) page is opened.   \r\nAt this point all the element references collected on the previous page are becoming `Stale`.  \r\nGenerally, each Selenium `WebElement` object is actually a reference (pointer) to physical web element object.  \r\nSo, when you are opening another web page or refreshing the existing page (reloading the web elements there) all the references to the web elements on the previous web page are no more valid.  \r\nIn the Selenium terminology this situation is called [Stale Element](https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference).  \r\nGetting back to your specific code flow.  \r\nLooks like your target here is to open the [`Java Programming Language`](https://www.geeksforgeeks.org/java/?ref=ghm) page. If so, all what you are missing here is to exit your loop once that page is opened and finish the test.  \r\nIn case you wish to continue opening another tutorials from the menu on the main page you will have to go back from the internal page you opened and then get all the elements you wish to use there again.","title":"org.openqa.selenium.StaleElementReferenceException: element is not attached to the page document","body":"<p>After clicking on the <code>a</code> element with <code>Java</code> text the <a href=\"https://www.geeksforgeeks.org/java/?ref=ghm\" rel=\"nofollow noreferrer\"><code>Java Programming Language</code></a> page is opened.<br />\nAt this point all the element references collected on the previous page are becoming <code>Stale</code>.<br />\nGenerally, each Selenium <code>WebElement</code> object is actually a reference (pointer) to physical web element object.<br />\nSo, when you are opening another web page or refreshing the existing page (reloading the web elements there) all the references to the web elements on the previous web page are no more valid.<br />\nIn the Selenium terminology this situation is called <a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"nofollow noreferrer\">Stale Element</a>.<br />\nGetting back to your specific code flow.<br />\nLooks like your target here is to open the <a href=\"https://www.geeksforgeeks.org/java/?ref=ghm\" rel=\"nofollow noreferrer\"><code>Java Programming Language</code></a> page. If so, all what you are missing here is to exit your loop once that page is opened and finish the test.<br />\nIn case you wish to continue opening another tutorials from the menu on the main page you will have to go back from the internal page you opened and then get all the elements you wish to use there again.</p>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71328361,"answer_count":1,"score":1,"last_activity_date":1646251475,"creation_date":1646247297,"question_id":71327821,"body_markdown":"I am trying to test the GeeksForGeeks UI. When I click the tutorials dropdown, then select languages and select Java, it links to a new page and the following error occurs org.openqa.selenium.StaleElementReferenceException. How can I solve this issue? I have tried all the possible solutions from stackoverflow.\r\n\r\n    public class SeleniumTest {\r\n    \r\n    \tpublic static WebDriver driver;\r\n    \r\n    \t@BeforeClass\r\n    \tpublic static void setupClass() {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;driver/chromedriver.exe&quot;);\r\n    \t}\r\n    \r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void after() {\r\n    \t\tdriver.close();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void testGeeksForGeeksR() throws InterruptedException {\r\n    \t\tdriver.get(&quot;https://www.geeksforgeeks.org/&quot;);\r\n    \t\tWebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\r\n    \t\ttutorialsMenu.click();\r\n    \t\tList&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\r\n    \t\tfor (WebElement li : tutorialsList) {\r\n    \t\t\tif (li.getText().equals(&quot;Languages&quot;)) {\r\n    \t\t\t\tli.click();\r\n    \t\t\t\tList&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \t\t\t\tfor (WebElement a : languages) {\r\n    \t\t\t\t\tif (a.getText().equals(&quot;Java&quot;)) {\r\n    \t\t\t\t\t\tWebDriverWait wait = new WebDriverWait(driver, 20);\r\n    \t\t\t\t\t\twait.until(ExpectedConditions.elementToBeClickable(a));\r\n    \t\t\t\t\t\ta.click();\r\n    \t\t\t\t\t\tWebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\r\n    \t\t\t\t\t\tassertEquals(&quot;Java Programming Language&quot;, title.getText());\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tThread.sleep(6000);\r\n    \t}\r\n    \r\n    }\r\n\r\nSolution:\r\n\r\n    @Test\r\n    \tpublic void testGeeksForGeeksR() throws InterruptedException {\r\n    \t\tdriver.get(&quot;https://www.geeksforgeeks.org/&quot;);\r\n    \t\tWebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\r\n    \t\ttutorialsMenu.click();\r\n    \t\tList&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\r\n    \t\tWebElement javaLanguage = null;\r\n    \t\tfor (WebElement li : tutorialsList) {\r\n    \t\t\tif (li.getText().equals(&quot;Languages&quot;)) {\r\n    \t\t\t\tli.click();\r\n    \t\t\t\tList&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\r\n    \t\t\t\tfor (WebElement a : languages) {\r\n    \t\t\t\t\tif (a.getText().equals(&quot;Java&quot;)) {\r\n    \t\t\t\t\t\tjavaLanguage = a;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tjavaLanguage.click();\r\n    \t\tdriver.switchTo().activeElement();\r\n    \t\tWebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\r\n    \t\tassertEquals(&quot;Java Programming Language&quot;, title.getText());\r\n    \t\tThread.sleep(3000);\r\n    \t}","title":"org.openqa.selenium.StaleElementReferenceException: element is not attached to the page document","body":"<p>I am trying to test the GeeksForGeeks UI. When I click the tutorials dropdown, then select languages and select Java, it links to a new page and the following error occurs org.openqa.selenium.StaleElementReferenceException. How can I solve this issue? I have tried all the possible solutions from stackoverflow.</p>\n<pre><code>public class SeleniumTest {\n\n    public static WebDriver driver;\n\n    @BeforeClass\n    public static void setupClass() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;driver/chromedriver.exe&quot;);\n    }\n\n    @Before\n    public void setup() {\n        driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n    }\n\n    @After\n    public void after() {\n        driver.close();\n    }\n\n    @Test\n    public void testGeeksForGeeksR() throws InterruptedException {\n        driver.get(&quot;https://www.geeksforgeeks.org/&quot;);\n        WebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\n        tutorialsMenu.click();\n        List&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\n        for (WebElement li : tutorialsList) {\n            if (li.getText().equals(&quot;Languages&quot;)) {\n                li.click();\n                List&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\n                for (WebElement a : languages) {\n                    if (a.getText().equals(&quot;Java&quot;)) {\n                        WebDriverWait wait = new WebDriverWait(driver, 20);\n                        wait.until(ExpectedConditions.elementToBeClickable(a));\n                        a.click();\n                        WebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\n                        assertEquals(&quot;Java Programming Language&quot;, title.getText());\n\n                    }\n                }\n            }\n        }\n        Thread.sleep(6000);\n    }\n\n}\n</code></pre>\n<p>Solution:</p>\n<pre><code>@Test\n    public void testGeeksForGeeksR() throws InterruptedException {\n        driver.get(&quot;https://www.geeksforgeeks.org/&quot;);\n        WebElement tutorialsMenu = driver.findElement(By.className(&quot;header-main__list-item&quot;));\n        tutorialsMenu.click();\n        List&lt;WebElement&gt; tutorialsList = tutorialsMenu.findElements(By.tagName(&quot;li&quot;));\n        WebElement javaLanguage = null;\n        for (WebElement li : tutorialsList) {\n            if (li.getText().equals(&quot;Languages&quot;)) {\n                li.click();\n                List&lt;WebElement&gt; languages = driver.findElements(By.tagName(&quot;a&quot;));\n                for (WebElement a : languages) {\n                    if (a.getText().equals(&quot;Java&quot;)) {\n                        javaLanguage = a;\n                        break;\n                    }\n                }\n            }\n        }\n        javaLanguage.click();\n        driver.switchTo().activeElement();\n        WebElement title = driver.findElement(By.className(&quot;entry-title&quot;));\n        assertEquals(&quot;Java Programming Language&quot;, title.getText());\n        Thread.sleep(3000);\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8445,"page":1547,"page_size":100}
