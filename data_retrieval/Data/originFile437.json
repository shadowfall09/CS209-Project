{"items":[{"tags":["java","spring-boot","testing","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683989105,"creation_date":1683989105,"answer_id":76243301,"question_id":76231590,"body_markdown":"Can try by following example, while adjusting to your requirement:\r\n\r\n```\r\n@RequestMapping(path = {&quot;MYURL&quot;}, method = RequestMethod.POST)\r\n    public @ResponseBody\r\n    Single&lt;List&lt;MyResponse&gt;&gt; myMethod(\r\n            @RequestPart(&quot;metadata&quot;) myRequest metadata,\r\n            @RequestPart(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        return // TODO\r\n    }\r\n\t\r\n\t\r\n\tprivate boolean upload() {\r\n\t        HttpHeaders headers = new HttpHeaders();\r\n\t        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n\t        MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t        ContentDisposition fileContentDisposition = ContentDisposition\r\n\t            .builder(&quot;form-data&quot;)\r\n\t            .name(&quot;file&quot;)\r\n\t            .filename(&quot;testfile.txt&quot;)\r\n\t            .build();\r\n\t        fileMap.add(HttpHeaders.CONTENT_DISPOSITION, fileContentDisposition.toString());\r\n\t        HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileContent).getByteArray(), fileMap);\r\n\t        body.add(&quot;file&quot;, fileEntity);\r\n\r\n\t        MultiValueMap&lt;String, String&gt; metadataMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t        ContentDisposition metadataContentDisposition = ContentDisposition\r\n\t            .builder(&quot;form-data&quot;)\r\n\t            .name(&quot;metadata&quot;)\r\n\t            .filename(&quot;testmetadata.json&quot;)\r\n\t            .build();\r\n\t        metadataMap.add(HttpHeaders.CONTENT_DISPOSITION, metadataContentDisposition.toString());\r\n\t        metadataMap.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n\t        HttpEntity&lt;byte[]&gt; metadataEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileMetadataContent).getByteArray(), metadataMap);\r\n\t        body.add(&quot;metadata&quot;, metadataEntity);\r\n\r\n\t        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\t        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, requestEntity, String.class);\r\n\t        log.debug(&quot;result: {}&quot;, response.getBody());\r\n\t        return HttpStatus.OK.equals(response.getStatusCode());\r\n\t    }\r\n\r\n\t\r\n```\r\n\r\nor via OkHttp:\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder()\r\n  .build();\r\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n  .addFormDataPart(&quot;file&quot;,&quot;metadata.json&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\r\n  .addFormDataPart(&quot;metadata&quot;,&quot;metadata.json&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\r\n  .build();\r\nRequest request = new Request.Builder()\r\n  .url(MYURL)\r\n  .method(&quot;POST&quot;, body)\r\n  .build();\r\nResponse response = client.newCall(request).execute();\r\n```\r\n","title":"415 UNSUPPORTED_MEDIA_TYPE when using SpringBoot HttpRequestTest with multipart/form-data","body":"<p>Can try by following example, while adjusting to your requirement:</p>\n<pre><code>@RequestMapping(path = {&quot;MYURL&quot;}, method = RequestMethod.POST)\n    public @ResponseBody\n    Single&lt;List&lt;MyResponse&gt;&gt; myMethod(\n            @RequestPart(&quot;metadata&quot;) myRequest metadata,\n            @RequestPart(&quot;file&quot;) MultipartFile file) throws IOException {\n        return // TODO\n    }\n    \n    \n    private boolean upload() {\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n            MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n\n            MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\n            ContentDisposition fileContentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;file&quot;)\n                .filename(&quot;testfile.txt&quot;)\n                .build();\n            fileMap.add(HttpHeaders.CONTENT_DISPOSITION, fileContentDisposition.toString());\n            HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileContent).getByteArray(), fileMap);\n            body.add(&quot;file&quot;, fileEntity);\n\n            MultiValueMap&lt;String, String&gt; metadataMap = new LinkedMultiValueMap&lt;&gt;();\n            ContentDisposition metadataContentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;metadata&quot;)\n                .filename(&quot;testmetadata.json&quot;)\n                .build();\n            metadataMap.add(HttpHeaders.CONTENT_DISPOSITION, metadataContentDisposition.toString());\n            metadataMap.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n            HttpEntity&lt;byte[]&gt; metadataEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileMetadataContent).getByteArray(), metadataMap);\n            body.add(&quot;metadata&quot;, metadataEntity);\n\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, requestEntity, String.class);\n            log.debug(&quot;result: {}&quot;, response.getBody());\n            return HttpStatus.OK.equals(response.getStatusCode());\n        }\n\n    \n</code></pre>\n<p>or via OkHttp:</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n  .build();\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n  .addFormDataPart(&quot;file&quot;,&quot;metadata.json&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\n  .addFormDataPart(&quot;metadata&quot;,&quot;metadata.json&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\n  .build();\nRequest request = new Request.Builder()\n  .url(MYURL)\n  .method(&quot;POST&quot;, body)\n  .build();\nResponse response = client.newCall(request).execute();\n</code></pre>\n"}],"owner":{"account_id":17056266,"reputation":455,"user_id":12340711,"display_name":"riggedCoinflip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683989105,"creation_date":1683838999,"question_id":76231590,"body_markdown":"I have the following endpoint:\r\n\r\n```java\r\n@PostMapping(value = &quot;/{id}&quot;, consumes = {&quot;multipart/form-data&quot;})\r\n@ResponseStatus(code = HttpStatus.CREATED)\r\npublic ResponseEntity&lt;LocalizedStatusMessage&gt; postFormFileUpload(@PathVariable(value = &quot;id&quot;) String id, @RequestBody Map&lt;String, JsonNode&gt; rawFormValues, @RequestParam(&quot;attachments&quot;) MultipartFile[] attachments) {...}\r\n````\r\nThe endpoint should send a json as well as any number of attachments \r\n\r\nwhich I would like to test using the following test, using `@SpringBootTest` HttpRequestTest:\r\n\r\n```java\r\n@Autowired\r\nprivate TestRestTemplate restTemplate;\r\n\r\npublic void givenMultipartFormData_whenEndpointIsCalled_thenReturn201() {\r\n    String id = &quot;fileTest&quot; //irrelevant\r\n    String content = &quot;{\\&quot;fileTestField}\\&quot;: []}&quot; //irrelevant\r\n    MultipartFile[] attachments = new MultipartFile[]{};\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n    body.add(&quot;id&quot;, id);\r\n    body.add(&quot;content&quot;, content);\r\n    for (MultipartFile attachment : attachments) {\r\n        body.add(&quot;attachments&quot;, attachment.getResource());\r\n    }\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n    String url = domain + port + formPath + &quot;/&quot; + id;\r\n\r\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(url, requestEntity, String.class);\r\n    // THEN return 201 CREATED\r\n    assertEquals(HttpStatus.CREATED, result.getStatusCode());\r\n}\r\n```\r\n\r\nInstead of getting a `201 CREATED`, I receive a `415 UNSUPPORTED_MEDIA_TYPE`.\r\n\r\nWhat am I missing/doing wrong?","title":"415 UNSUPPORTED_MEDIA_TYPE when using SpringBoot HttpRequestTest with multipart/form-data","body":"<p>I have the following endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/{id}&quot;, consumes = {&quot;multipart/form-data&quot;})\n@ResponseStatus(code = HttpStatus.CREATED)\npublic ResponseEntity&lt;LocalizedStatusMessage&gt; postFormFileUpload(@PathVariable(value = &quot;id&quot;) String id, @RequestBody Map&lt;String, JsonNode&gt; rawFormValues, @RequestParam(&quot;attachments&quot;) MultipartFile[] attachments) {...}\n</code></pre>\n<p>The endpoint should send a json as well as any number of attachments</p>\n<p>which I would like to test using the following test, using <code>@SpringBootTest</code> HttpRequestTest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate TestRestTemplate restTemplate;\n\npublic void givenMultipartFormData_whenEndpointIsCalled_thenReturn201() {\n    String id = &quot;fileTest&quot; //irrelevant\n    String content = &quot;{\\&quot;fileTestField}\\&quot;: []}&quot; //irrelevant\n    MultipartFile[] attachments = new MultipartFile[]{};\n    \n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;id&quot;, id);\n    body.add(&quot;content&quot;, content);\n    for (MultipartFile attachment : attachments) {\n        body.add(&quot;attachments&quot;, attachment.getResource());\n    }\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n    String url = domain + port + formPath + &quot;/&quot; + id;\n\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(url, requestEntity, String.class);\n    // THEN return 201 CREATED\n    assertEquals(HttpStatus.CREATED, result.getStatusCode());\n}\n</code></pre>\n<p>Instead of getting a <code>201 CREATED</code>, I receive a <code>415 UNSUPPORTED_MEDIA_TYPE</code>.</p>\n<p>What am I missing/doing wrong?</p>\n"},{"tags":["java","android","mvvm","navigation","bottomnavigationview"],"owner":{"account_id":28594484,"reputation":1,"user_id":21892972,"display_name":"pezhman sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683987873,"creation_date":1683985665,"question_id":76243055,"body_markdown":"Hi I have an application which get bottom navigation menu items and data from server. but when I choose each item the data in other&#39;s lost and if I click on another item it&#39;s load again. but when I create a bottom navigation inside app and get data inside them from server with changing fragment data wont lost. \r\n\r\nMy Navigation Drawer: \r\n```\r\nprivate void setUpNavigationDrawer() {\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this,\r\n                binding.drawerLayout,\r\n                R.string.navigation_drawer_open,\r\n                R.string.navigation_drawer_close);\r\n\r\n        binding.mainToolbar.setContentInsetStartWithNavigation(0);\r\n        binding.drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder()\r\n                .setOpenableLayout(binding.drawerLayout)\r\n                .build();\r\n\r\n        // Show and Manage the Drawer and Back Icon\r\n        NavigationUI.setupActionBarWithNavController(\r\n                this, navController, mAppBarConfiguration\r\n        );\r\n        binding.navigationView.setNavigationItemSelectedListener(this::onDrawerMenuItemSelected);\r\n\r\n        navController.addOnDestinationChangedListener(this);\r\n    }\r\n\r\n\r\n    private void selectBottomNavigationItem(Bundle arguments) {\r\n        Menu menus = binding.bottomNav.getMenu();\r\n        currentPageLink = (String) arguments.get(&quot;link&quot;);\r\n        for (int i = 0; i &lt; menus.size(); i++) {\r\n            if (bottomNavItemsDestinationMatches.get(i).equals(currentPageLink)) {\r\n                menus.getItem(i).setChecked(true);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private boolean onBottomNavItemSelected(@NonNull MenuItem item) {\r\n        String link = bottomNavItemsDestinationMatches.get(item.getItemId());\r\n\r\n        if (Objects.equals(link, currentPageLink)) {\r\n            return true;\r\n        }\r\n\r\n        navigateNormal(link, null);\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestinationChanged(@NonNull NavController controller,\r\n                                     @NonNull NavDestination destination, @Nullable Bundle arguments) {\r\n        selectBottomNavigationItem(arguments);\r\n        ((AppBarLayout) findViewById(R.id.app_bar)).setExpanded(true, true);\r\n    }\r\n\r\n\r\n    private boolean isTopLevelDestination() {\r\n        try {\r\n            NavBackStackEntry last = navController.getPreviousBackStackEntry();\r\n            boolean isAtLast = last != null &amp;&amp; ((FragmentNavigator.Destination) last.getDestination()).getClassName()\r\n                    .equals(BaseFragment.class.getName());\r\n            boolean isTopLevelDestination = currentPageLink != null &amp;&amp; currentPageLink.replace(&quot;/&quot;, &quot;&quot;)\r\n                    .equalsIgnoreCase(defaultDestination.getLink().replace(&quot;/&quot;, &quot;&quot;));\r\n            return isTopLevelDestination || isAtLast;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private void navigateToTopLevelDestinationIfNotInBackStack() {\r\n        for (int id : bottomNavItemsDestinationMatches.keySet()) {\r\n            String link = bottomNavItemsDestinationMatches.get(id);\r\n            if (Objects.equals(link, defaultDestination.getLink())) {\r\n                binding.bottomNav.setSelectedItemId(id);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nNow my expample navigation.xml is: \r\n\r\n\r\n```\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/base_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.base.BaseFragment&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;args&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/home_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.home.HomeFragment&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;address&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/profile_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.profile.ProfileFragment&quot;\r\n        android:label=&quot;&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_go_to_order&quot;\r\n            app:destination=&quot;@id/orders_fragment&quot;\r\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\r\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\r\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\r\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;address&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n\r\n```\r\n\r\nso when I click on a bottomNavigation Item finally this function called: \r\n\r\n    private void navigateNormal(String link, Runnable onSuccessOptional) {\r\n        navigator.navigate(this,\r\n                link,\r\n                state -&gt; {\r\n                    if (state instanceof NavigationState.Loading) {\r\n                        navProgress(true);\r\n                    } else if (state instanceof NavigationState.Error) {\r\n                        navProgress(false);\r\n                    } else if (state instanceof NavigationState.Success) {\r\n                        navProgress(false);\r\n                        if (onSuccessOptional != null) {\r\n                            onSuccessOptional.run();\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n\r\nand my navigator.navigate is: \r\n\r\n     public void navigate(FragmentActivity activity, String link, INavigationState state) {\r\n        try {\r\n            NavController navController = Navigation.findNavController(activity, R.id.main_nav_fragment);\r\n            getDataAndNavigate(navController, link, null, false, false, state);\r\n        } catch (Exception e) {\r\n            Logger.error(TAG, &quot;Could not Naviate: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nand getDataAndNavigate function is: \r\n\r\n     private void getDataAndNavigate(NavController controller, String link, JsonObject postBody,\r\n                                    boolean isPost, boolean isPop, INavigationState state) {\r\n        try {\r\n            if (link == null || link.isEmpty()) {\r\n                state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                return;\r\n            }\r\n\r\n            // support full path links\r\n            NavigationUrl navigationUrl = resolveLink(link);\r\n\r\n            if (navigationUrl.isExternal()) {\r\n                openUrl(navigationUrl.getLink());\r\n                return;\r\n            }\r\n\r\n            Single&lt;Response&lt;CommonResponse&lt;Object&gt;&gt;&gt; request = resolveRequest(navigationUrl, postBody, isPost);\r\n\r\n            // start showing progress\r\n            state.onNext(new NavigationState.Loading());\r\n\r\n            // resolve url\r\n            disposable = request\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribeOn(Schedulers.io())\r\n                    .subscribe(response -&gt; {\r\n                        dataController.onSuccess(response);\r\n\r\n\r\n                        NavigationArgs navigationArgs = extractCurrentAction(\r\n                                response.body(),\r\n                                navigationUrl.getLink()\r\n\r\n                        );\r\n\r\n\r\n                        if (navigateTo(controller, navigationArgs, isPop)) {\r\n                            state.onNext(new NavigationState.Success(navigationArgs));\r\n                        } else {\r\n                            state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                        }\r\n\r\n                    }, throwable -&gt; {\r\n                        dataController.onFailure(throwable);\r\n                        state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                    });\r\n        } catch (Exception e) {\r\n            Logger.error(TAG, e.getMessage());\r\n            ACRA.getErrorReporter().handleException(new CrashReportException(\r\n                    &quot;An error occurred while fetching next destination data in (NavigationHelper). &quot;, e));\r\n        }\r\n    }\r\n\r\n\r\nI tried above code ... I expect that all bottom navigation item&#39;s state&#39;s saved and on navigation their state wont lost and no need to get data from server again. but each time I navigate to a item it should download data again","title":"BottomNavigation navigate doesn&#39;t save the state","body":"<p>Hi I have an application which get bottom navigation menu items and data from server. but when I choose each item the data in other's lost and if I click on another item it's load again. but when I create a bottom navigation inside app and get data inside them from server with changing fragment data wont lost.</p>\n<p>My Navigation Drawer:</p>\n<pre><code>private void setUpNavigationDrawer() {\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this,\n                binding.drawerLayout,\n                R.string.navigation_drawer_open,\n                R.string.navigation_drawer_close);\n\n        binding.mainToolbar.setContentInsetStartWithNavigation(0);\n        binding.drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n        mAppBarConfiguration = new AppBarConfiguration.Builder()\n                .setOpenableLayout(binding.drawerLayout)\n                .build();\n\n        // Show and Manage the Drawer and Back Icon\n        NavigationUI.setupActionBarWithNavController(\n                this, navController, mAppBarConfiguration\n        );\n        binding.navigationView.setNavigationItemSelectedListener(this::onDrawerMenuItemSelected);\n\n        navController.addOnDestinationChangedListener(this);\n    }\n\n\n    private void selectBottomNavigationItem(Bundle arguments) {\n        Menu menus = binding.bottomNav.getMenu();\n        currentPageLink = (String) arguments.get(&quot;link&quot;);\n        for (int i = 0; i &lt; menus.size(); i++) {\n            if (bottomNavItemsDestinationMatches.get(i).equals(currentPageLink)) {\n                menus.getItem(i).setChecked(true);\n                break;\n            }\n        }\n    }\n\n\n    private boolean onBottomNavItemSelected(@NonNull MenuItem item) {\n        String link = bottomNavItemsDestinationMatches.get(item.getItemId());\n\n        if (Objects.equals(link, currentPageLink)) {\n            return true;\n        }\n\n        navigateNormal(link, null);\n        return true;\n    }\n\n\n    @Override\n    public void onDestinationChanged(@NonNull NavController controller,\n                                     @NonNull NavDestination destination, @Nullable Bundle arguments) {\n        selectBottomNavigationItem(arguments);\n        ((AppBarLayout) findViewById(R.id.app_bar)).setExpanded(true, true);\n    }\n\n\n    private boolean isTopLevelDestination() {\n        try {\n            NavBackStackEntry last = navController.getPreviousBackStackEntry();\n            boolean isAtLast = last != null &amp;&amp; ((FragmentNavigator.Destination) last.getDestination()).getClassName()\n                    .equals(BaseFragment.class.getName());\n            boolean isTopLevelDestination = currentPageLink != null &amp;&amp; currentPageLink.replace(&quot;/&quot;, &quot;&quot;)\n                    .equalsIgnoreCase(defaultDestination.getLink().replace(&quot;/&quot;, &quot;&quot;));\n            return isTopLevelDestination || isAtLast;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private void navigateToTopLevelDestinationIfNotInBackStack() {\n        for (int id : bottomNavItemsDestinationMatches.keySet()) {\n            String link = bottomNavItemsDestinationMatches.get(id);\n            if (Objects.equals(link, defaultDestination.getLink())) {\n                binding.bottomNav.setSelectedItemId(id);\n            }\n        }\n\n    }\n</code></pre>\n<p>Now my expample navigation.xml is:</p>\n<pre><code>\n    &lt;fragment\n        android:id=&quot;@+id/base_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.base.BaseFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;args&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/home_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.home.HomeFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;address&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/profile_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.profile.ProfileFragment&quot;\n        android:label=&quot;&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_go_to_order&quot;\n            app:destination=&quot;@id/orders_fragment&quot;\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\n        &lt;argument\n            android:name=&quot;address&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n\n</code></pre>\n<p>so when I click on a bottomNavigation Item finally this function called:</p>\n<pre><code>private void navigateNormal(String link, Runnable onSuccessOptional) {\n    navigator.navigate(this,\n            link,\n            state -&gt; {\n                if (state instanceof NavigationState.Loading) {\n                    navProgress(true);\n                } else if (state instanceof NavigationState.Error) {\n                    navProgress(false);\n                } else if (state instanceof NavigationState.Success) {\n                    navProgress(false);\n                    if (onSuccessOptional != null) {\n                        onSuccessOptional.run();\n                    }\n                }\n            }\n    );\n}\n</code></pre>\n<p>and my navigator.navigate is:</p>\n<pre><code> public void navigate(FragmentActivity activity, String link, INavigationState state) {\n    try {\n        NavController navController = Navigation.findNavController(activity, R.id.main_nav_fragment);\n        getDataAndNavigate(navController, link, null, false, false, state);\n    } catch (Exception e) {\n        Logger.error(TAG, &quot;Could not Naviate: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>and getDataAndNavigate function is:</p>\n<pre><code> private void getDataAndNavigate(NavController controller, String link, JsonObject postBody,\n                                boolean isPost, boolean isPop, INavigationState state) {\n    try {\n        if (link == null || link.isEmpty()) {\n            state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n            return;\n        }\n\n        // support full path links\n        NavigationUrl navigationUrl = resolveLink(link);\n\n        if (navigationUrl.isExternal()) {\n            openUrl(navigationUrl.getLink());\n            return;\n        }\n\n        Single&lt;Response&lt;CommonResponse&lt;Object&gt;&gt;&gt; request = resolveRequest(navigationUrl, postBody, isPost);\n\n        // start showing progress\n        state.onNext(new NavigationState.Loading());\n\n        // resolve url\n        disposable = request\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    dataController.onSuccess(response);\n\n\n                    NavigationArgs navigationArgs = extractCurrentAction(\n                            response.body(),\n                            navigationUrl.getLink()\n\n                    );\n\n\n                    if (navigateTo(controller, navigationArgs, isPop)) {\n                        state.onNext(new NavigationState.Success(navigationArgs));\n                    } else {\n                        state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n                    }\n\n                }, throwable -&gt; {\n                    dataController.onFailure(throwable);\n                    state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n                });\n    } catch (Exception e) {\n        Logger.error(TAG, e.getMessage());\n        ACRA.getErrorReporter().handleException(new CrashReportException(\n                &quot;An error occurred while fetching next destination data in (NavigationHelper). &quot;, e));\n    }\n}\n</code></pre>\n<p>I tried above code ... I expect that all bottom navigation item's state's saved and on navigation their state wont lost and no need to get data from server again. but each time I navigate to a item it should download data again</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"owner":{"account_id":14998174,"reputation":311,"user_id":10927368,"display_name":"Lightsong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683987406,"creation_date":1683987406,"question_id":76243189,"body_markdown":"I am trying to increase the maximum response size allowed when searching with the elastic 8.6 new(ish) java client, but I don&#39;t see the option anywhere.\r\n\r\n\r\nThe search looks like this \r\n```\r\nSearchResponse&lt;MyClass&gt; response = connector.getClient().search(s -&gt; s\r\n                        .index(connector.getIndexName())\r\n                        .query(q -&gt; q\r\n                                .match(t -&gt; t\r\n                                        .field(&quot;whatever&quot;)\r\n                                        .query(query)\r\n                                )\r\n                        )\r\n                        .size(1000)\r\n                MyClass.class\r\n        );\r\n\r\n```\r\n\r\nAnd I found that there&#39;s a ```RequestOptions``` class which allows to set HTTP params, but I don&#39;t see anywhere how to plug it to the Request builder\r\n\r\n```\r\nvar customOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\r\n        customOptionsBuilder.setHttpAsyncResponseConsumerFactory(\r\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_HTTP_RESPONSE_SIZE)\r\n        );\r\n\r\n        this.customOptions = customOptionsBuilder.build();\r\n\r\n```\r\n\r\nI need to retrieve exactly 1000 results in one sitting, and the response sizes are just a little bit above 100MiB...","title":"How to increase maximum response sizes in the new elastic java client","body":"<p>I am trying to increase the maximum response size allowed when searching with the elastic 8.6 new(ish) java client, but I don't see the option anywhere.</p>\n<p>The search looks like this</p>\n<pre><code>SearchResponse&lt;MyClass&gt; response = connector.getClient().search(s -&gt; s\n                        .index(connector.getIndexName())\n                        .query(q -&gt; q\n                                .match(t -&gt; t\n                                        .field(&quot;whatever&quot;)\n                                        .query(query)\n                                )\n                        )\n                        .size(1000)\n                MyClass.class\n        );\n\n</code></pre>\n<p>And I found that there's a <code>RequestOptions</code> class which allows to set HTTP params, but I don't see anywhere how to plug it to the Request builder</p>\n<pre><code>var customOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\n        customOptionsBuilder.setHttpAsyncResponseConsumerFactory(\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_HTTP_RESPONSE_SIZE)\n        );\n\n        this.customOptions = customOptionsBuilder.build();\n\n</code></pre>\n<p>I need to retrieve exactly 1000 results in one sitting, and the response sizes are just a little bit above 100MiB...</p>\n"},{"tags":["java","sdk","fingerprint"],"comments":[{"owner":{"display_name":"user984453"},"score":0,"creation_date":1318008599,"post_id":7285001,"comment_id":9349930,"body_markdown":"There is someone telling about here: http://stackoverflow.com/questions/7690698/applet-with-fingerprint-uareu-dont-capture-reader-events","body":"There is someone telling about here: <a href=\"http://stackoverflow.com/questions/7690698/applet-with-fingerprint-uareu-dont-capture-reader-events\" title=\"applet with fingerprint uareu dont capture reader events\">stackoverflow.com/questions/7690698/&hellip;</a>"},{"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1532797512,"post_id":7285001,"comment_id":90112834,"body_markdown":"Please don&#39;t add not working link @user984453","body":"Please don&#39;t add not working link @user984453"}],"answers":[{"tags":[],"owner":{"account_id":906750,"reputation":66,"user_id":941486,"display_name":"JCalfucura"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1315867005,"creation_date":1315867005,"answer_id":7394839,"question_id":7285001,"body_markdown":"Well, what you want to achieve can be a bit hard to do depending on your needs/experience, but having done a biometric matching/enrollment/digital signature system in delphi(client)/java(server) i can summarize the steps as follows:\r\n\r\n1.- The client is an win32 activex (could be a java applet) that can take a fingerprint image and send it to the server for matching or enrollment purposes, the server takes the image and applies a matching function that returns a score, here i recommend you to take a look at some paid options like verifinger, griaule etc. I dont know if it can be done with the UareU One Touch SDK.\r\n\r\n2.- The client is an Activex embedded in the web page as an object (calling an applet is very similar), you just call it with a simple javascript code like &quot;identResult = activexObj.Identify(&lt;parameters&gt;)&quot; or something. The image is sent to the server which in return replies if the fingerprint matches the template stored, comparing the score vs threshold defined as the minimum for matching.\r\n\r\n3.- Probably you will need to do some image processing in the client, like converting your raw image to a compressed format like WSQ, there are no (to my knowledge) java implementations of wsq, so you will have to interface to native code via JNI for this purpose.\r\n\r\n4.- There might be a lot of nuances but i hope this helps you to clarify the situation.\r\nGood Luck\r\nJuan.","title":"integrate digital persona sdk into my application in java","body":"<p>Well, what you want to achieve can be a bit hard to do depending on your needs/experience, but having done a biometric matching/enrollment/digital signature system in delphi(client)/java(server) i can summarize the steps as follows:</p>\n\n<p>1.- The client is an win32 activex (could be a java applet) that can take a fingerprint image and send it to the server for matching or enrollment purposes, the server takes the image and applies a matching function that returns a score, here i recommend you to take a look at some paid options like verifinger, griaule etc. I dont know if it can be done with the UareU One Touch SDK.</p>\n\n<p>2.- The client is an Activex embedded in the web page as an object (calling an applet is very similar), you just call it with a simple javascript code like \"identResult = activexObj.Identify()\" or something. The image is sent to the server which in return replies if the fingerprint matches the template stored, comparing the score vs threshold defined as the minimum for matching.</p>\n\n<p>3.- Probably you will need to do some image processing in the client, like converting your raw image to a compressed format like WSQ, there are no (to my knowledge) java implementations of wsq, so you will have to interface to native code via JNI for this purpose.</p>\n\n<p>4.- There might be a lot of nuances but i hope this helps you to clarify the situation.\nGood Luck\nJuan.</p>\n"},{"tags":[],"owner":{"account_id":28594600,"reputation":16,"user_id":21893068,"display_name":"Jaco foran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683987117,"creation_date":1683986877,"answer_id":76243148,"question_id":7285001,"body_markdown":"    switch (irq_type) {\r\n        case IRQDATA_SCANPWR_ON:\r\n            updateStatus(Status.SCANNER_POWERED_ON);\r\n            reader.awaitFinger();\r\n            updateStatus(Status.READY_TO_SCAN);\r\n            break;\r\n        case IRQDATA_FINGER_ON:\r\n            updateStatus(Status.FINGER_DETECTED);\r\n            UruImage img = reader.captureFinger(data_endpoint);\r\n            sendImage(img);\r\n            break;\r\n        case IRQDATA_FINGER_OFF:\r\n            updateStatus(Status.FINGER_LIFTED);\r\n            reader.turnScannerOff();\r\n            updateStatus(Status.SCANNER_POWERED_OFF);\r\n            listen = false;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\ntry this android app:\r\nhttps://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\r\n\r\nfor more info:\r\nhttp://digital.persona.sdk.android.brainwaveappstudio.com/","title":"integrate digital persona sdk into my application in java","body":"<pre><code>switch (irq_type) {\n    case IRQDATA_SCANPWR_ON:\n        updateStatus(Status.SCANNER_POWERED_ON);\n        reader.awaitFinger();\n        updateStatus(Status.READY_TO_SCAN);\n        break;\n    case IRQDATA_FINGER_ON:\n        updateStatus(Status.FINGER_DETECTED);\n        UruImage img = reader.captureFinger(data_endpoint);\n        sendImage(img);\n        break;\n    case IRQDATA_FINGER_OFF:\n        updateStatus(Status.FINGER_LIFTED);\n        reader.turnScannerOff();\n        updateStatus(Status.SCANNER_POWERED_OFF);\n        listen = false;\n        break;\n    default:\n        break;\n}\n</code></pre>\n<p>try this android app:\n<a href=\"https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona</a></p>\n<p>for more info:\n<a href=\"http://digital.persona.sdk.android.brainwaveappstudio.com/\" rel=\"nofollow noreferrer\">http://digital.persona.sdk.android.brainwaveappstudio.com/</a></p>\n"}],"owner":{"display_name":"user918477"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7394839,"answer_count":2,"score":0,"last_activity_date":1683987117,"creation_date":1314973953,"question_id":7285001,"body_markdown":"I need urgent help, after googling a lot since last 3-4 weeks. I only able to figure out that, i can use digital persona sdk on my web application, which i am trying to make in java. \r\n                  &lt;p&gt;Since, hardware for **fingerprint reader (Digital Persona Personal)** has already been installed in my system. And, i&#39;m trying to use same hardware for my web application. But, how can i embed it in my application, don&#39;t know. &lt;/p&gt;\r\n                 &lt;p&gt;I&#39;m assuming that, fingerprint reader (Digital Persona Personal) will be installed in client side.  &lt;/p&gt;\r\n\r\nI need everyone help, anybody know.. i&#39;ll appreciate !! ","title":"integrate digital persona sdk into my application in java","body":"<p>I need urgent help, after googling a lot since last 3-4 weeks. I only able to figure out that, i can use digital persona sdk on my web application, which i am trying to make in java. \n                  <p>Since, hardware for <strong>fingerprint reader (Digital Persona Personal)</strong> has already been installed in my system. And, i'm trying to use same hardware for my web application. But, how can i embed it in my application, don't know. </p>\n                 <p>I'm assuming that, fingerprint reader (Digital Persona Personal) will be installed in client side.  </p></p>\n\n<p>I need everyone help, anybody know.. i'll appreciate !! </p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683854004,"creation_date":1683853685,"answer_id":76232519,"question_id":76232336,"body_markdown":"Two consumers within a group cannot read the same partition at once. You will need to verify records are written to both partitions and not batched together, which is the console producer default behavior for small record batches\r\n\r\nUse GetOffsetShell tool to inspect how many offsets (approximately, number of records) each partition has. You can also use `kafka-consumer-groups` command to see lag for the group. If you see all partitions have zero lag, then you&#39;ve consumed all the records in the topic with all consumers (take note that one partition may have a start and end offset of the same value, which GetOffsetShell would show as well, meaning that partition is empty, thereby explaining why only one consumer prints any data). ","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>Two consumers within a group cannot read the same partition at once. You will need to verify records are written to both partitions and not batched together, which is the console producer default behavior for small record batches</p>\n<p>Use GetOffsetShell tool to inspect how many offsets (approximately, number of records) each partition has. You can also use <code>kafka-consumer-groups</code> command to see lag for the group. If you see all partitions have zero lag, then you've consumed all the records in the topic with all consumers (take note that one partition may have a start and end offset of the same value, which GetOffsetShell would show as well, meaning that partition is empty, thereby explaining why only one consumer prints any data).</p>\n"},{"tags":[],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986969,"creation_date":1683923457,"answer_id":76239762,"question_id":76232336,"body_markdown":"Kafka has the default batch size of 16384(bytes), once we start produce enough messages to fill that buffer size then it will change partition. \r\n\r\nstarting from kafka2.4 the default partitioned has changed from round robin to [sticky][1] \r\n\r\nSo I override the property like this it worked. \r\n\r\n`C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --broker-list localhost:9092 --batch-size=1 --topic test32` \r\n\r\nand we can also produce messages to a particular partition by specifying partitions ids like below:\r\n\r\n`C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test32 -property &quot;parse.key=true&quot; -property &quot;key.separator=:&quot;`\r\n\r\n`0:test`\r\n`1:test2`\r\n\r\nwhere `0` and `1` are the partition ids and `test`, `test2` are values. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\r\n  [2]: https://i.stack.imgur.com/C6aZO.png","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>Kafka has the default batch size of 16384(bytes), once we start produce enough messages to fill that buffer size then it will change partition.</p>\n<p>starting from kafka2.4 the default partitioned has changed from round robin to <a href=\"https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\" rel=\"nofollow noreferrer\">sticky</a></p>\n<p>So I override the property like this it worked.</p>\n<p><code>C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --broker-list localhost:9092 --batch-size=1 --topic test32</code></p>\n<p>and we can also produce messages to a particular partition by specifying partitions ids like below:</p>\n<p><code>C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test32 -property &quot;parse.key=true&quot; -property &quot;key.separator=:&quot;</code></p>\n<p><code>0:test</code>\n<code>1:test2</code></p>\n<p>where <code>0</code> and <code>1</code> are the partition ids and <code>test</code>, <code>test2</code> are values.</p>\n<p><a href=\"https://i.stack.imgur.com/C6aZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6aZO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683986969,"creation_date":1683849976,"question_id":76232336,"body_markdown":"I created kafka topic with partitions and replication factor \r\n\r\n[![enter image description here](https://i.stack.imgur.com/X4Ms7.png)](https://i.stack.imgur.com/X4Ms7.png)\r\n\r\nThen I started producing messages, with my producer \r\n\r\n[![enter image description here](https://i.stack.imgur.com/cfjBQ.png)](https://i.stack.imgur.com/cfjBQ.png)\r\n\r\nI started two consumers with help of consumer groups parallely. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Dhlqy.png)](https://i.stack.imgur.com/Dhlqy.png)\r\n\r\n when I stopped one consumer, the other consumer starts working.\r\n\r\nI&#39;m suspecting that default configuration when I downloading kafka is misleading me.\r\n\r\nI expect all my consumers need to receive messages concurrently. ","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>I created kafka topic with partitions and replication factor</p>\n<p><a href=\"https://i.stack.imgur.com/X4Ms7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4Ms7.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I started producing messages, with my producer</p>\n<p><a href=\"https://i.stack.imgur.com/cfjBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cfjBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I started two consumers with help of consumer groups parallely.</p>\n<p><a href=\"https://i.stack.imgur.com/Dhlqy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dhlqy.png\" alt=\"enter image description here\" /></a></p>\n<p>when I stopped one consumer, the other consumer starts working.</p>\n<p>I'm suspecting that default configuration when I downloading kafka is misleading me.</p>\n<p>I expect all my consumers need to receive messages concurrently.</p>\n"},{"tags":["java","junit","automated-tests","classpath","randoop"],"owner":{"account_id":28594342,"reputation":11,"user_id":21892859,"display_name":"maverick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683986582,"creation_date":1683986513,"question_id":76243120,"body_markdown":"Currently, I am working on a project that requires me to utilize the Randoop tool to generate tests for a testjar named TEST.jar. To achieve this, I need to dynamically create a classpath consisting of jars from a directory named ABC, which contains thousands of jars. \r\nCommand to generate test on TEST.jar-&gt;\r\n```\r\njava -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main gentests --testjar=TEST.jar --output-limit=100\r\n```\r\nHere, RANDOOP_JAR is path of randoop-all-4.3.2.jar\r\nmyclasspath= Classpath required for generating test on TEST.jar. Basically It is a list of path of jar present in ABC directory. \r\n\r\nI ran above command and it threw java.lang.NoClassDefFoundError and then I used shellscript to find the jar in ABC directory having that class. \r\nShellscript: \r\n```\r\nfor i in $(ls -R ABC/*.jar);do jar -tvf $i | grep missing-class &amp;&amp; echo $i;done\r\n```\r\nHere missing-class refers to a class that was not found by the Java Virtual Machine (JVM) at runtime, resulting in a java.lang.NoClassDefFoundError.\r\n\r\nAbove is basically naive and also time consuming.\r\n\r\nMy problem is that-&gt; Is their any tool or method so that myclasspath can be discovered automatically.\r\nI need a tool or method in which I can pass the TEST.jar and ABC directory as input and its output is list of jars(myclasspath).","title":"Discovering the classpath for a testjar automatically, allowing the Randoop tool to generate Junit tests for the testjar","body":"<p>Currently, I am working on a project that requires me to utilize the Randoop tool to generate tests for a testjar named TEST.jar. To achieve this, I need to dynamically create a classpath consisting of jars from a directory named ABC, which contains thousands of jars.\nCommand to generate test on TEST.jar-&gt;</p>\n<pre><code>java -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main gentests --testjar=TEST.jar --output-limit=100\n</code></pre>\n<p>Here, RANDOOP_JAR is path of randoop-all-4.3.2.jar\nmyclasspath= Classpath required for generating test on TEST.jar. Basically It is a list of path of jar present in ABC directory.</p>\n<p>I ran above command and it threw java.lang.NoClassDefFoundError and then I used shellscript to find the jar in ABC directory having that class.\nShellscript:</p>\n<pre><code>for i in $(ls -R ABC/*.jar);do jar -tvf $i | grep missing-class &amp;&amp; echo $i;done\n</code></pre>\n<p>Here missing-class refers to a class that was not found by the Java Virtual Machine (JVM) at runtime, resulting in a java.lang.NoClassDefFoundError.</p>\n<p>Above is basically naive and also time consuming.</p>\n<p>My problem is that-&gt; Is their any tool or method so that myclasspath can be discovered automatically.\nI need a tool or method in which I can pass the TEST.jar and ABC directory as input and its output is list of jars(myclasspath).</p>\n"},{"tags":["java","jira","jql","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1463050463,"creation_date":1463050463,"answer_id":37184837,"question_id":37161494,"body_markdown":"Use this function, which accepts 4 params:\r\n\r\n[Jira rest API searchRestClient.searchJql][1]\r\n\r\nNow you can set the maxResults value. Since you are not setting it, it is defaulting to 50\r\n\r\n\r\n  [1]: https://docs.atlassian.com/jira-rest-java-client-parent/2.0.0-m8/apidocs/com/atlassian/jira/rest/client/api/SearchRestClient.html#searchJql(java.lang.String,%20java.lang.Integer,%20java.lang.Integer,%20java.lang.String)","title":"Jira REST Java Client get all issues using searchJql","body":"<p>Use this function, which accepts 4 params:</p>\n\n<p><a href=\"https://docs.atlassian.com/jira-rest-java-client-parent/2.0.0-m8/apidocs/com/atlassian/jira/rest/client/api/SearchRestClient.html#searchJql(java.lang.String,%20java.lang.Integer,%20java.lang.Integer,%20java.lang.String)\" rel=\"nofollow\">Jira rest API searchRestClient.searchJql</a></p>\n\n<p>Now you can set the maxResults value. Since you are not setting it, it is defaulting to 50</p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986457,"creation_date":1683984500,"answer_id":76242975,"question_id":37161494,"body_markdown":"searchJql (in v 5.2.5) has this signature:\r\n\r\n```\r\nsearchJql(String jql, Integer maxResults, Integer startAt, Set&lt;String&gt; fields)\r\n```\r\nIf `maxResults` is null, a default value is assumed which seems to be 50. If `maxResults` is specified, it still possible that the Jira instance is configured to never return more then a predefined number of results. \r\n\r\nThis means that you need to examine the value `SearchResult.total` and repeatedly execute `searchJql` while bumping up `startAt`.     ","title":"Jira REST Java Client get all issues using searchJql","body":"<p>searchJql (in v 5.2.5) has this signature:</p>\n<pre><code>searchJql(String jql, Integer maxResults, Integer startAt, Set&lt;String&gt; fields)\n</code></pre>\n<p>If <code>maxResults</code> is null, a default value is assumed which seems to be 50. If <code>maxResults</code> is specified, it still possible that the Jira instance is configured to never return more then a predefined number of results.</p>\n<p>This means that you need to examine the value <code>SearchResult.total</code> and repeatedly execute <code>searchJql</code> while bumping up <code>startAt</code>.</p>\n"}],"owner":{"display_name":"user3693913"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37184837,"answer_count":2,"score":1,"last_activity_date":1683986457,"creation_date":1462966679,"question_id":37161494,"body_markdown":"I am trying to get all issues from the project using JQL query but get only 50, I know that it is a problem, but how I can figure out with it?\r\n\r\n    Promise&lt;SearchResult&gt; searchJqlPromiseTest = client.getSearchClient().searchJql(&quot;project = UARECR &quot;);\r\n    for (Issue issue : searchJqlPromiseTest.claim().getIssues()) {\r\n        System.out.println(issue.getId());\r\n    }\r\n","title":"Jira REST Java Client get all issues using searchJql","body":"<p>I am trying to get all issues from the project using JQL query but get only 50, I know that it is a problem, but how I can figure out with it?</p>\n\n<pre><code>Promise&lt;SearchResult&gt; searchJqlPromiseTest = client.getSearchClient().searchJql(\"project = UARECR \");\nfor (Issue issue : searchJqlPromiseTest.claim().getIssues()) {\n    System.out.println(issue.getId());\n}\n</code></pre>\n"},{"tags":["java","android","reverse-engineering","frida","java-native-library"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609416878,"post_id":65513492,"comment_id":115838390,"body_markdown":"So you have an app that obviously contains no native libraries and you find no native calls but you are still sure that it uses at least native library - why? Also make sure you have a full app APK, modern apps are distributed by Google in form of multiple APK files,  one for the code, one for the native libs, one for the language specific strings,...","body":"So you have an app that obviously contains no native libraries and you find no native calls but you are still sure that it uses at least native library - why? Also make sure you have a full app APK, modern apps are distributed by Google in form of multiple APK files,  one for the code, one for the native libs, one for the language specific strings,..."},{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1609429828,"post_id":65513492,"comment_id":115842596,"body_markdown":"i did find the native calls and they are being called but a apk from playstore can be without librarys and can it use another apk libs?","body":"i did find the native calls and they are being called but a apk from playstore can be without librarys and can it use another apk libs?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609432175,"post_id":65513492,"comment_id":115843340,"body_markdown":"@technically the libraries can be downloaded and then loaded. Or the libraries are contained within the APK files or an OBB files but obfuscated or in a different path so that you don&#39;t identify them as libraries.","body":"@technically the libraries can be downloaded and then loaded. Or the libraries are contained within the APK files or an OBB files but obfuscated or in a different path so that you don&#39;t identify them as libraries."}],"answers":[{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609407037,"creation_date":1609407037,"answer_id":65519035,"question_id":65513492,"body_markdown":"If I understood well you want to find native function name that is called BY Java?\r\n\r\n 1. list all calls to System.loadLibrary() to detect all libraries\r\n 2. using IDA Pro (or one of its alternatives here: https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro) check for all methods starting with &quot;Java_....&quot;\r\n\r\nThe theory behind this is that all native methods should start with &quot;Java_&quot; and continue by the rest of package name.\r\n\r\nFor example:\r\n\r\n    Java_com_foobar_main_test(...);\r\n\r\nrapresents a method &quot;test()&quot; in packagename &quot;com.foobar&quot; and classfile &quot;main&quot;.\r\nOverloaded methods could have their signature after the method name like:\r\n\r\n    Java_com_foobar_main_test__Ljava_lang_String_I(..., jstring text, jint integer);\r\n\r\nbut the concept remains the same as before.\r\n\r\nIf you want to know which Java method is called by a specific native method, then you have to find &quot;GetMethodID(..)&quot; or &quot;GetStaticMethodID(..)&quot; from native code and check the string as 3rd argument: it&#39;s the name of Java method.","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>If I understood well you want to find native function name that is called BY Java?</p>\n<ol>\n<li>list all calls to System.loadLibrary() to detect all libraries</li>\n<li>using IDA Pro (or one of its alternatives here: <a href=\"https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro\">https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro</a>) check for all methods starting with &quot;Java_....&quot;</li>\n</ol>\n<p>The theory behind this is that all native methods should start with &quot;Java_&quot; and continue by the rest of package name.</p>\n<p>For example:</p>\n<pre><code>Java_com_foobar_main_test(...);\n</code></pre>\n<p>rapresents a method &quot;test()&quot; in packagename &quot;com.foobar&quot; and classfile &quot;main&quot;.\nOverloaded methods could have their signature after the method name like:</p>\n<pre><code>Java_com_foobar_main_test__Ljava_lang_String_I(..., jstring text, jint integer);\n</code></pre>\n<p>but the concept remains the same as before.</p>\n<p>If you want to know which Java method is called by a specific native method, then you have to find &quot;GetMethodID(..)&quot; or &quot;GetStaticMethodID(..)&quot; from native code and check the string as 3rd argument: it's the name of Java method.</p>\n"},{"tags":[],"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683986119,"creation_date":1683986119,"answer_id":76243092,"question_id":65513492,"body_markdown":"my skills have advanced since this question so hopefully someone finds this helpful\r\n\r\nsadly there is no way to get a java traceback using frida that includes C++ functions however there is better solutions but before that how is a java function get called from native layer?\r\n\r\nfirst a method id of the java method is fetched using the jni function &quot;GetMethodID&quot; which returns a unique integer relative to the method \r\nthen the methodid and the method javaobject which the method will called on is passed to one of these functions depending on the return value of the java method for example if the java returns void &quot;callVoidMethod&quot; will be called and so on\r\n[![][1]][1]\r\nthe idea here is to hook getmethodid and log the params as the method signature will be passed as string\r\n\r\n\r\nsecond solution is to emulate the so library inside a android so emulator and to print the debug log there currently 2 emus capable of doing this \r\n - [unidbg][2]\r\n - [ExandroidNativeEmu][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G9vJr.png\r\n  [2]: https://github.com/zhkl0228/unidbg\r\n  [3]: https://github.com/maiyao1988/ExAndroidNativeEmu","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>my skills have advanced since this question so hopefully someone finds this helpful</p>\n<p>sadly there is no way to get a java traceback using frida that includes C++ functions however there is better solutions but before that how is a java function get called from native layer?</p>\n<p>first a method id of the java method is fetched using the jni function &quot;GetMethodID&quot; which returns a unique integer relative to the method\nthen the methodid and the method javaobject which the method will called on is passed to one of these functions depending on the return value of the java method for example if the java returns void &quot;callVoidMethod&quot; will be called and so on\n<a href=\"https://i.stack.imgur.com/G9vJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9vJr.png\" alt=\"\" /></a>\nthe idea here is to hook getmethodid and log the params as the method signature will be passed as string</p>\n<p>second solution is to emulate the so library inside a android so emulator and to print the debug log there currently 2 emus capable of doing this</p>\n<ul>\n<li><a href=\"https://github.com/zhkl0228/unidbg\" rel=\"nofollow noreferrer\">unidbg</a></li>\n<li><a href=\"https://github.com/maiyao1988/ExAndroidNativeEmu\" rel=\"nofollow noreferrer\">ExandroidNativeEmu</a></li>\n</ul>\n"}],"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243092,"answer_count":2,"score":0,"last_activity_date":1683986119,"creation_date":1609361793,"question_id":65513492,"body_markdown":"im reverse engineering a app (with the permission of the dev) and im still new to this but is it possible to get the name of the native function thats calling a java method? and in which library?? i know for sure the native functions are being called yet if i try to intercept the library using frida i get a error saying that frida cant find the library i decompiled the apk using jd-gui and i couldnt find the library in the libs folder i tried to intercept the System.loadLibrary() but the app crashes with invalid address error yet i did find a library being loaded by the app if i enumertae loaded modules using frida i dont find that library name and its also not found in the libs folder is there a way to specify a native library path in java? and how can the app load librarys yet frida cant see them?? ","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>im reverse engineering a app (with the permission of the dev) and im still new to this but is it possible to get the name of the native function thats calling a java method? and in which library?? i know for sure the native functions are being called yet if i try to intercept the library using frida i get a error saying that frida cant find the library i decompiled the apk using jd-gui and i couldnt find the library in the libs folder i tried to intercept the System.loadLibrary() but the app crashes with invalid address error yet i did find a library being loaded by the app if i enumertae loaded modules using frida i dont find that library name and its also not found in the libs folder is there a way to specify a native library path in java? and how can the app load librarys yet frida cant see them??</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1683985900,"post_id":76242239,"comment_id":134452081,"body_markdown":"Most likely you need to redownload the google-service.json file and add the updated version to your app. If you tried doing that, edit your question to show the steps you took for it.","body":"Most likely you need to redownload the google-service.json file and add the updated version to your app. If you tried doing that, edit your question to show the steps you took for it."}],"owner":{"account_id":21383109,"reputation":101,"user_id":15748687,"display_name":"Shital Ghimire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683974144,"answer_count":0,"score":0,"last_activity_date":1683985728,"creation_date":1683973651,"question_id":76242239,"body_markdown":"pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Firebase error. Please ensure that you have the URL of your Firebase Realtime Database instance configured correctly.\r\n\r\n\r\nI created the database after connecting the app to firebase from the firebase assistant of android studio.\r\n\r\nI tried to change the URL, but I searched everywhere and I couldn&#39;t find the URL to change it.","title":"I am new to firebase. When I try to Upload data to firebase, I&#39;m getting an error","body":"<p>pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Firebase error. Please ensure that you have the URL of your Firebase Realtime Database instance configured correctly.</p>\n<p>I created the database after connecting the app to firebase from the firebase assistant of android studio.</p>\n<p>I tried to change the URL, but I searched everywhere and I couldn't find the URL to change it.</p>\n"},{"tags":["java","database","database-connection","h2"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683421224,"post_id":76191171,"comment_id":134364171,"body_markdown":"What is &quot;SQLight&quot;?","body":"What is &quot;SQLight&quot;?"}],"owner":{"account_id":28320922,"reputation":1,"user_id":21656737,"display_name":"Tiiita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683985161,"creation_date":1683407673,"question_id":76191171,"body_markdown":"I have a problem! I wanted to make a project with H2. I added the dependency in my pom.xml:\r\n```\r\n &lt;dependency&gt;\r\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n     &lt;version&gt;1.4.200&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis is my code to connect:\r\n\r\n```\r\npublic H2(Plugin plugin) {\r\n        this.plugin = plugin;\r\n        this.databaseFile = plugin.getDataFolder().getAbsolutePath() + File.separator + &quot;database&quot;;\r\n\r\n        connect();\r\n        try {\r\n            initDb();\r\n        } catch (SQLException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void connect() {\r\n        try {\r\n            config.setJdbcUrl(&quot;jdbc:h2:&quot; + databaseFile);\r\n            dataSource = new HikariDataSource(config);\r\n            dataSource.getConnection();\r\n            plugin.getLogger().log(Level.INFO, &quot;Successfully connected to H2 database!&quot;);\r\n        } catch (SQLException e) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Cannot connect to H2 database! Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void close() {\r\n        try {\r\n            if (connection != null) {\r\n                connection.close();\r\n                plugin.getLogger().log(Level.INFO, &quot;The H2 database connection has been closed!&quot;);\r\n            }\r\n        } catch (SQLException e) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Cannot close H2 database connection! Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void initDb() throws SQLException, IOException {\r\n        // check if database file exists\r\n        Path path = Paths.get(databaseFile + &quot;.mv.db&quot;);\r\n        if (!Files.exists(path)) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Creating new H2 database file: &quot; + databaseFile);\r\n            Files.createFile(path);\r\n        }\r\n\r\n        // read database setup file\r\n        String setup;\r\n        try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;dbsetup.sql&quot;)) {\r\n            setup = new BufferedReader(new InputStreamReader(in)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n        } catch (IOException e) {\r\n            plugin.getLogger().log(Level.SEVERE, &quot;Could not read H2 database setup file.&quot;, e);\r\n            throw e;\r\n        }\r\n\r\n        // split setup file into queries\r\n        String[] queries = setup.split(&quot;;&quot;);\r\n\r\n        // execute each query\r\n        for (String query : queries) {\r\n            if (query.isEmpty()) continue;\r\n            try (Connection conn = dataSource.getConnection();\r\n                 PreparedStatement stmt = conn.prepareStatement(query)) {\r\n                stmt.execute();\r\n            }\r\n        }\r\n        plugin.getLogger().info(&quot;H2 database setup complete.&quot;);\r\n    }\r\n```\r\nBut if I load my project I do get this error:\r\n```\r\n[23:03:05 WARN]: Exception encountered when loading plugin: EaroBot\r\njava.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:h2:/home/proxy/plugins/EaroBot/database\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:114) ~[?:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[?:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[?:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[?:?]\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[?:?]\r\n        at de.tiiita.earobot.util.database.H2.connect(H2.java:43) ~[?:?]\r\n        at de.tiiita.earobot.util.database.H2.&lt;init&gt;(H2.java:32) ~[?:?]\r\n        at de.tiiita.earobot.EaroBot.onEnable(EaroBot.java:44) ~[?:?]\r\n        at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.BungeeCord.start(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.BungeeCordLauncher.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.Bootstrap.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\nCaused by: java.sql.SQLException: No suitable driver\r\n        at java.sql.DriverManager.getDriver(DriverManager.java:315) ~[?:1.8.0_352]\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:106) ~[?:?]\r\n        ... 11 more\r\n```\r\nI expect that the plugin runs and my h2 class connects to the h2 database. I really dont know what why I get this error. Java should find the driver because I add it with the dependency!","title":"H2 / SQLiteDriver not found","body":"<p>I have a problem! I wanted to make a project with H2. I added the dependency in my pom.xml:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\n     &lt;version&gt;1.4.200&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my code to connect:</p>\n<pre><code>public H2(Plugin plugin) {\n        this.plugin = plugin;\n        this.databaseFile = plugin.getDataFolder().getAbsolutePath() + File.separator + &quot;database&quot;;\n\n        connect();\n        try {\n            initDb();\n        } catch (SQLException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void connect() {\n        try {\n            config.setJdbcUrl(&quot;jdbc:h2:&quot; + databaseFile);\n            dataSource = new HikariDataSource(config);\n            dataSource.getConnection();\n            plugin.getLogger().log(Level.INFO, &quot;Successfully connected to H2 database!&quot;);\n        } catch (SQLException e) {\n            plugin.getLogger().log(Level.INFO, &quot;Cannot connect to H2 database! Error: &quot; + e.getMessage());\n        }\n    }\n\n    public void close() {\n        try {\n            if (connection != null) {\n                connection.close();\n                plugin.getLogger().log(Level.INFO, &quot;The H2 database connection has been closed!&quot;);\n            }\n        } catch (SQLException e) {\n            plugin.getLogger().log(Level.INFO, &quot;Cannot close H2 database connection! Error: &quot; + e.getMessage());\n        }\n    }\n\n    private void initDb() throws SQLException, IOException {\n        // check if database file exists\n        Path path = Paths.get(databaseFile + &quot;.mv.db&quot;);\n        if (!Files.exists(path)) {\n            plugin.getLogger().log(Level.INFO, &quot;Creating new H2 database file: &quot; + databaseFile);\n            Files.createFile(path);\n        }\n\n        // read database setup file\n        String setup;\n        try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;dbsetup.sql&quot;)) {\n            setup = new BufferedReader(new InputStreamReader(in)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n        } catch (IOException e) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Could not read H2 database setup file.&quot;, e);\n            throw e;\n        }\n\n        // split setup file into queries\n        String[] queries = setup.split(&quot;;&quot;);\n\n        // execute each query\n        for (String query : queries) {\n            if (query.isEmpty()) continue;\n            try (Connection conn = dataSource.getConnection();\n                 PreparedStatement stmt = conn.prepareStatement(query)) {\n                stmt.execute();\n            }\n        }\n        plugin.getLogger().info(&quot;H2 database setup complete.&quot;);\n    }\n</code></pre>\n<p>But if I load my project I do get this error:</p>\n<pre><code>[23:03:05 WARN]: Exception encountered when loading plugin: EaroBot\njava.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:h2:/home/proxy/plugins/EaroBot/database\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:114) ~[?:?]\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[?:?]\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[?:?]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[?:?]\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[?:?]\n        at de.tiiita.earobot.util.database.H2.connect(H2.java:43) ~[?:?]\n        at de.tiiita.earobot.util.database.H2.&lt;init&gt;(H2.java:32) ~[?:?]\n        at de.tiiita.earobot.EaroBot.onEnable(EaroBot.java:44) ~[?:?]\n        at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.BungeeCord.start(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.BungeeCordLauncher.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.Bootstrap.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\nCaused by: java.sql.SQLException: No suitable driver\n        at java.sql.DriverManager.getDriver(DriverManager.java:315) ~[?:1.8.0_352]\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:106) ~[?:?]\n        ... 11 more\n</code></pre>\n<p>I expect that the plugin runs and my h2 class connects to the h2 database. I really dont know what why I get this error. Java should find the driver because I add it with the dependency!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683982836,"post_id":76242840,"comment_id":134451736,"body_markdown":"where is ```drawerLayout``` in your xml ? issue is occuring because of it as in your layout , there is no ```drawerLayout```","body":"where is <code>drawerLayout</code> in your xml ? issue is occuring because of it as in your layout , there is no <code>drawerLayout</code>"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683984307,"creation_date":1683984307,"answer_id":76242959,"question_id":76242840,"body_markdown":"As per your code , it looks like some issue with layout file use . In Activity , you have used ```R.layout.activity_main ``` and code you have pasted here is ```activity_navigationdrawer.xml```  so kindly replace ```R.layout.activity_main``` with ```R.layout.activity_navigationdrawer``` in your ```onCreate``` method","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo... on a null object reference","body":"<p>As per your code , it looks like some issue with layout file use . In Activity , you have used <code>R.layout.activity_main </code> and code you have pasted here is <code>activity_navigationdrawer.xml</code>  so kindly replace <code>R.layout.activity_main</code> with <code>R.layout.activity_navigationdrawer</code> in your <code>onCreate</code> method</p>\n"}],"owner":{"display_name":"user21892848"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76242959,"answer_count":1,"score":1,"last_activity_date":1683984307,"creation_date":1683982372,"question_id":76242840,"body_markdown":"The error \r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tourism.myapplication/com.tourism.myapplication.navigationdrawer}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.drawerlayout.widget.DrawerLayout.addDrawerListener(androidx.drawerlayout.widget.DrawerLayout$DrawerListener)&#39; on a null object reference\r\n\r\nthis is activity_navigationdrawer.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/navigationView&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nThis is activity_navigationdrawer.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/navigationView&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\nThis is app_bar_name.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/ttoolbar&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n```\r\n\r\n\r\nthis is the activity file\r\n\r\n```\r\npackage com.tourism.myapplication;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class navigationdrawer`your text` extends AppCompatActivity {\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    Toolbar toolbar;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        drawerLayout = findViewById(R.id.drawerLayout);\r\n        navigationView = findViewById(R.id.navigationView);\r\n        toolbar = findViewById(R.id.ttoolbar);\r\n\r\n        //step1\r\n\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawerLayout, toolbar, R.string.OpenDrawer, R.string.CloseDrawer);\r\n\r\n        drawerLayout.addDrawerListener(toggle);\r\n\r\n        toggle.syncState();\r\n\r\n//       /**/ loadFragment(new homefrag());\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                int id = item.getItemId();\r\n\r\n                if  (id==R.id.optTrip){\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } else if (id==R.id.optHome) {\r\n                    loadFragment(new homefrag());\r\n                } else if (id==R.id.optAbout) {\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        FragmentTransaction ft = fm.beginTransaction();\r\n\r\n        ft.add(R.id.container, fragment);\r\n        ft.commit();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried all solutions please help","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo... on a null object reference","body":"<p>The error\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tourism.myapplication/com.tourism.myapplication.navigationdrawer}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.drawerlayout.widget.DrawerLayout.addDrawerListener(androidx.drawerlayout.widget.DrawerLayout$DrawerListener)' on a null object reference</p>\n<p>this is activity_navigationdrawer.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/navigationView&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>This is activity_navigationdrawer.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/navigationView&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>This is app_bar_name.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/ttoolbar&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n\n\n</code></pre>\n<p>this is the activity file</p>\n<pre><code>package com.tourism.myapplication;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\n\npublic class navigationdrawer`your text` extends AppCompatActivity {\n    DrawerLayout drawerLayout;\n    NavigationView navigationView;\n    Toolbar toolbar;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        drawerLayout = findViewById(R.id.drawerLayout);\n        navigationView = findViewById(R.id.navigationView);\n        toolbar = findViewById(R.id.ttoolbar);\n\n        //step1\n\n        setSupportActionBar(toolbar);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawerLayout, toolbar, R.string.OpenDrawer, R.string.CloseDrawer);\n\n        drawerLayout.addDrawerListener(toggle);\n\n        toggle.syncState();\n\n//       /**/ loadFragment(new homefrag());\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                int id = item.getItemId();\n\n                if  (id==R.id.optTrip){\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n\n                } else if (id==R.id.optHome) {\n                    loadFragment(new homefrag());\n                } else if (id==R.id.optAbout) {\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n\n                return true;\n            }\n        });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        } else{\n            super.onBackPressed();\n        }\n    }\n\n    private void loadFragment(Fragment fragment) {\n\n        FragmentManager fm = getSupportFragmentManager();\n        FragmentTransaction ft = fm.beginTransaction();\n\n        ft.add(R.id.container, fragment);\n        ft.commit();\n\n\n    }\n}\n</code></pre>\n<p>I tried all solutions please help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683977813,"post_id":76242503,"comment_id":134451221,"body_markdown":"Look for the numerous SO questions and answers about correctly comparing strings in Java.","body":"Look for the numerous SO questions and answers about correctly comparing strings in Java."}],"answers":[{"tags":[],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683978308,"creation_date":1683978308,"answer_id":76242550,"question_id":76242503,"body_markdown":"You could consider using the `Scanner` class. \r\n\r\nEssentially use it&#39;s `nextLine` method to capture the input data each time.\r\n\r\nOnce you done with the actions in your logic, break out of it if user enters the word you looking for. Else repeat and rinse. \r\n\r\nExample: \r\n\r\n    public void validate() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        while (true) {\r\n            System.out.print(&quot;Enter username: &quot;);\r\n            String username = scanner.nextLine();\r\n            System.out.print(&quot;Enter password: &quot;);\r\n            String password = scanner.nextLine();\r\n            System.out.println(&quot;Username: &quot; + username + &quot;, Password: &quot; + password);\r\n            System.out.println(&quot;Type &#39;cancel&#39; to exit or any other key to continue&quot;);\r\n            String input = scanner.nextLine();\r\n            if (input.equalsIgnoreCase(&quot;cancel&quot;)) {\r\n                break; // exit loop if input is &quot;cancel&quot;\r\n            }\r\n        }\r\n    }","title":"Java while statement involving string class","body":"<p>You could consider using the <code>Scanner</code> class.</p>\n<p>Essentially use it's <code>nextLine</code> method to capture the input data each time.</p>\n<p>Once you done with the actions in your logic, break out of it if user enters the word you looking for. Else repeat and rinse.</p>\n<p>Example:</p>\n<pre><code>public void validate() {\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        System.out.print(&quot;Enter username: &quot;);\n        String username = scanner.nextLine();\n        System.out.print(&quot;Enter password: &quot;);\n        String password = scanner.nextLine();\n        System.out.println(&quot;Username: &quot; + username + &quot;, Password: &quot; + password);\n        System.out.println(&quot;Type 'cancel' to exit or any other key to continue&quot;);\n        String input = scanner.nextLine();\n        if (input.equalsIgnoreCase(&quot;cancel&quot;)) {\n            break; // exit loop if input is &quot;cancel&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28593977,"reputation":1,"user_id":21892571,"display_name":"Kamara "},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683978391,"answer_count":1,"score":-1,"last_activity_date":1683984145,"creation_date":1683977660,"question_id":76242503,"body_markdown":"How to escape while loop by typing a certain string ( words ). Basically I&#39;m trying to create a program that operates similar to a computer login process and the loop asks to enter name and password. However if I want to exit the loop I type a certain word which allows me to exit the loop. If that specific word isn&#39;t type then the loop continues \r\n\r\nTried using != Operator but doesn&#39;t work","title":"Java while statement involving string class","body":"<p>How to escape while loop by typing a certain string ( words ). Basically I'm trying to create a program that operates similar to a computer login process and the loop asks to enter name and password. However if I want to exit the loop I type a certain word which allows me to exit the loop. If that specific word isn't type then the loop continues</p>\n<p>Tried using != Operator but doesn't work</p>\n"},{"tags":["java","sorting","collections","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364999507,"creation_date":1364999200,"answer_id":15790125,"question_id":15789979,"body_markdown":"Make a copy of the`ArrayList` then sort the copy. After that use `indexOf` method passing element of sorted array and invoking on original `ArrayList`.\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Make a copy of the<code>ArrayList</code> then sort the copy. After that use <code>indexOf</code> method passing element of sorted array and invoking on original <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364999248,"creation_date":1364999248,"answer_id":15790138,"question_id":15789979,"body_markdown":"If the values are unique, you can use a `Map&lt;Double, Integer&gt;` to hold the value and initial order. You just need to sort the map keys and get the correspond value of each key.\r\n\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>If the values are unique, you can use a <code>Map&lt;Double, Integer&gt;</code> to hold the value and initial order. You just need to sort the map keys and get the correspond value of each key.</p>\n"},{"tags":[],"owner":{"account_id":293853,"reputation":1346,"user_id":597408,"accept_rate":50,"display_name":"WPrecht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364999270,"creation_date":1364999270,"answer_id":15790147,"question_id":15789979,"body_markdown":"Two solutions: 1) if you are wedded to ArrayList, you&#39;ll need to use an Iterator to build the index list of the solution set.  2) Switch to a Map with the value and the order (which can be changed by sorting).","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Two solutions: 1) if you are wedded to ArrayList, you'll need to use an Iterator to build the index list of the solution set.  2) Switch to a Map with the value and the order (which can be changed by sorting).</p>\n"},{"tags":[],"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1589190517,"creation_date":1364999395,"answer_id":15790218,"question_id":15789979,"body_markdown":"Copy the ArrayList and sort, then use indexOf.\r\n\r\n  \r\n\r\n    ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\r\n    nfit.add(2.0);\r\n    nfit.add(5.0);\r\n    nfit.add(1.0);\r\n    nfit.add(8.0);\r\n    nfit.add(3.0);\r\n    ArrayList&lt;Double&gt; nstore = new ArrayList&lt;Double&gt;(nfit); // may need to be new ArrayList(nfit)\r\n    Collections.sort(nfit);\r\n    int[] indexes = new int[nfit.size()];\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        indexes[n] = nstore.indexOf(nfit.get(n));\r\n    }\r\n    System.out.println(Arrays.toString(indexes));\r\n\r\n\r\nIf you wanted the indexes in an ArrayList,\r\n\r\n    Collections.sort(nstore);\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }\r\n    Collections.sort(nfit);\r\n\r\nThat will result in one sorted ArrayList nfit, and one ArrayList  of indexes nstore.\r\n\r\n\r\nEdited: In the for loop \r\n\r\n    for (int n = 0; n &lt; nfit.size(); nfit++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }\r\n\r\nThe loop count must be iterated over n and not on nfit\r\nFind the corrected code:\r\n\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Copy the ArrayList and sort, then use indexOf.</p>\n\n<pre><code>ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\nnfit.add(2.0);\nnfit.add(5.0);\nnfit.add(1.0);\nnfit.add(8.0);\nnfit.add(3.0);\nArrayList&lt;Double&gt; nstore = new ArrayList&lt;Double&gt;(nfit); // may need to be new ArrayList(nfit)\nCollections.sort(nfit);\nint[] indexes = new int[nfit.size()];\nfor (int n = 0; n &lt; nfit.size(); n++){\n    indexes[n] = nstore.indexOf(nfit.get(n));\n}\nSystem.out.println(Arrays.toString(indexes));\n</code></pre>\n\n<p>If you wanted the indexes in an ArrayList,</p>\n\n<pre><code>Collections.sort(nstore);\nfor (int n = 0; n &lt; nfit.size(); n++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\nCollections.sort(nfit);\n</code></pre>\n\n<p>That will result in one sorted ArrayList nfit, and one ArrayList  of indexes nstore.</p>\n\n<p>Edited: In the for loop </p>\n\n<pre><code>for (int n = 0; n &lt; nfit.size(); nfit++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\n</code></pre>\n\n<p>The loop count must be iterated over n and not on nfit\nFind the corrected code:</p>\n\n<pre><code>for (int n = 0; n &lt; nfit.size(); n++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2293270,"reputation":1,"user_id":2434610,"display_name":"user36536"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412879302,"creation_date":1412879302,"answer_id":26285533,"question_id":15789979,"body_markdown":"The following implementation of mergesort implements a method &#39;indexSort&#39; that does just that without messing with the input array.\r\nhttp://algs4.cs.princeton.edu/22mergesort/Merge.java.html\r\nhttp://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])\r\n\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>The following implementation of mergesort implements a method 'indexSort' that does just that without messing with the input array.\n<a href=\"http://algs4.cs.princeton.edu/22mergesort/Merge.java.html\" rel=\"nofollow\">http://algs4.cs.princeton.edu/22mergesort/Merge.java.html</a>\n<a href=\"http://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])\" rel=\"nofollow\">http://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])</a></p>\n"},{"tags":[],"owner":{"account_id":7070805,"reputation":1824,"user_id":5412470,"display_name":"hmofrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510712546,"creation_date":1510712546,"answer_id":47298368,"question_id":15789979,"body_markdown":"Bubble sort is always your friend. You can use it to sort the array and at the same time keep track of original array indices. It will also work when you have multiple similar elements in your array.\r\n\r\n    import java.util.*;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    public class BubbleSort {\r\n        public static void main(String[] args) {\r\n            Random rnd = new Random();\r\n            int count = 5;\r\n            ArrayList&lt;Double&gt; array = new ArrayList&lt;Double&gt;();\r\n            int[] indices = new int[count];\r\n            for(int i = 0; i &lt; indices.length; i++) {\r\n                array.add(rnd.nextDouble() * count);\r\n                indices[i] = i;\r\n            }\r\n            ArrayList&lt;Double&gt; values = new ArrayList&lt;Double&gt;(array);\r\n            bubbleSort(values, indices);\r\n            System.out.println(&quot;Unsorted input array   :&quot; + array);\r\n            System.out.print(&quot;Sorted   input array   : &quot;);\r\n            for(int i = 0; i &lt; array.size(); i++) {\r\n                System.out.print(array.get(indices[i]) + &quot; &quot; );\r\n            }\r\n            System.out.println();\r\n        }\r\n        private static void bubbleSort(ArrayList&lt;Double&gt; values, int[] indices) {\r\n            for(int k = 0; k &lt; values.size(); k++) {\r\n                for(int l = k + 1; l &lt; values.size(); l++) {\r\n                    if(values.get(k) &gt; values.get(l)) {\r\n                        double temp_value = values.get(k);\r\n                        values.set(k, values.get(l));\r\n                        values.set(l, temp_value);\r\n                        int temp_index = indices[k];\r\n                        indices[k] = indices[l];\r\n                        indices[l] = temp_index;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe reason I answered this question after this many years is that the  [accepted answer][1] will fail if you have multiple elements with similar values because in `indexes[n] = nstore.indexOf(nfit.get(n));`, `indexOf` method is always returning the first occurrence of the specified element which results in an incorrect indices array while having similar elements in the input array.\r\n\r\nLast, copy and paste the code in `BubbleSort.java` and then run `javac BubbleSort.java &amp;&amp; java BubbleSort` to compile and see the results.\r\n\r\n  [1]: https://stackoverflow.com/a/15790218/5412470","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Bubble sort is always your friend. You can use it to sort the array and at the same time keep track of original array indices. It will also work when you have multiple similar elements in your array.</p>\n\n<pre><code>import java.util.*;\nimport java.util.Arrays;\nimport java.util.Random;\npublic class BubbleSort {\n    public static void main(String[] args) {\n        Random rnd = new Random();\n        int count = 5;\n        ArrayList&lt;Double&gt; array = new ArrayList&lt;Double&gt;();\n        int[] indices = new int[count];\n        for(int i = 0; i &lt; indices.length; i++) {\n            array.add(rnd.nextDouble() * count);\n            indices[i] = i;\n        }\n        ArrayList&lt;Double&gt; values = new ArrayList&lt;Double&gt;(array);\n        bubbleSort(values, indices);\n        System.out.println(\"Unsorted input array   :\" + array);\n        System.out.print(\"Sorted   input array   : \");\n        for(int i = 0; i &lt; array.size(); i++) {\n            System.out.print(array.get(indices[i]) + \" \" );\n        }\n        System.out.println();\n    }\n    private static void bubbleSort(ArrayList&lt;Double&gt; values, int[] indices) {\n        for(int k = 0; k &lt; values.size(); k++) {\n            for(int l = k + 1; l &lt; values.size(); l++) {\n                if(values.get(k) &gt; values.get(l)) {\n                    double temp_value = values.get(k);\n                    values.set(k, values.get(l));\n                    values.set(l, temp_value);\n                    int temp_index = indices[k];\n                    indices[k] = indices[l];\n                    indices[l] = temp_index;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The reason I answered this question after this many years is that the  <a href=\"https://stackoverflow.com/a/15790218/5412470\">accepted answer</a> will fail if you have multiple elements with similar values because in <code>indexes[n] = nstore.indexOf(nfit.get(n));</code>, <code>indexOf</code> method is always returning the first occurrence of the specified element which results in an incorrect indices array while having similar elements in the input array.</p>\n\n<p>Last, copy and paste the code in <code>BubbleSort.java</code> and then run <code>javac BubbleSort.java &amp;&amp; java BubbleSort</code> to compile and see the results.</p>\n"},{"tags":[],"owner":{"account_id":28591145,"reputation":1,"user_id":21890351,"display_name":"Usmani Adnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683983003,"creation_date":1683925480,"answer_id":76239933,"question_id":15789979,"body_markdown":"If your list have duplicate values below code will work to get index of initial list\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    ArrayList&lt;Double&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0));\r\n    ArrayList&lt;Double&gt; arrr = new ArrayList&lt;&gt;(arr);\r\n    int[] index = new int[arr.size()];\r\n\r\n    Collections.sort(arrr);\r\n    final double min = Double.MIN_VALUE;\r\n    System.out.println(arr);\r\n    System.out.println(arrr);\r\n\r\n    for (int i = 0; i &lt; arr.size(); i++) {\r\n      index[i] = arr.indexOf(arrr.get(i));\r\n      arr.set(arr.indexOf(arrr.get(i)), min);\r\n      System.out.print(index[i] + &quot; &quot;);\r\n    }\r\n  }\r\n```\r\n\r\nOutput on console:\r\n```\r\n[1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0]\r\n[1.0, 1.0, 2.0, 2.0, 3.0, 5.0, 8.0]\r\n0 3 1 4 2 5 6 \r\n```","title":"Initial indexes of sorted elements of ArrayList","body":"<p>If your list have duplicate values below code will work to get index of initial list</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Double&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0));\n    ArrayList&lt;Double&gt; arrr = new ArrayList&lt;&gt;(arr);\n    int[] index = new int[arr.size()];\n\n    Collections.sort(arrr);\n    final double min = Double.MIN_VALUE;\n    System.out.println(arr);\n    System.out.println(arrr);\n\n    for (int i = 0; i &lt; arr.size(); i++) {\n      index[i] = arr.indexOf(arrr.get(i));\n      arr.set(arr.indexOf(arrr.get(i)), min);\n      System.out.print(index[i] + &quot; &quot;);\n    }\n  }\n</code></pre>\n<p>Output on console:</p>\n<pre><code>[1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0]\n[1.0, 1.0, 2.0, 2.0, 3.0, 5.0, 8.0]\n0 3 1 4 2 5 6 \n</code></pre>\n"}],"owner":{"account_id":1096046,"reputation":15508,"user_id":1089623,"accept_rate":84,"display_name":"Klausos Klausos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15790218,"answer_count":7,"score":5,"last_activity_date":1683983003,"creation_date":1364998844,"question_id":15789979,"body_markdown":"The following code implements sorting of `nfit` in ascending order.\r\n\r\n    public static void main(String[] args) {\r\n    \tArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\r\n    \t\r\n    \tnfit.add(2.0);\r\n    \tnfit.add(5.0);\r\n    \tnfit.add(1.0);\r\n    \tnfit.add(8.0);\r\n    \tnfit.add(3.0);\r\n    \t\r\n    \t// Sort individuals in ascending order\r\n    \tCollections.sort(nfit);\r\n    \t\r\n    \tSystem.out.print(nfit);\r\n    \r\n    }\r\n\r\nThe output is:\r\n\r\n    [1.0, 2.0, 3.0, 5.0, 8.0]\r\n\r\nMy question is how to get initial indexes of sorted elements? In this example the answer to my question would be the following:\r\n\r\n    [2, 0, 4, 1, 3]\r\n\r\nHow can I get these indexes?","title":"Initial indexes of sorted elements of ArrayList","body":"<p>The following code implements sorting of <code>nfit</code> in ascending order.</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\n\n    nfit.add(2.0);\n    nfit.add(5.0);\n    nfit.add(1.0);\n    nfit.add(8.0);\n    nfit.add(3.0);\n\n    // Sort individuals in ascending order\n    Collections.sort(nfit);\n\n    System.out.print(nfit);\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>[1.0, 2.0, 3.0, 5.0, 8.0]\n</code></pre>\n\n<p>My question is how to get initial indexes of sorted elements? In this example the answer to my question would be the following:</p>\n\n<pre><code>[2, 0, 4, 1, 3]\n</code></pre>\n\n<p>How can I get these indexes?</p>\n"},{"tags":["java","redis","cluster-computing","pool","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683981368,"creation_date":1683981368,"answer_id":76242759,"question_id":76238329,"body_markdown":"BY DEFAULT, you should be considering the Redis Enterprise (RE) as a single node from client side. So you can use `JedisPooled` to communicate with RE.\r\n\r\nNote 1: Cluster specific commands are actually disabled in default mode. That&#39;s what you can see in error message `ERR command is not allowed`.\r\n\r\nNote 2: Redis Enterprise has a `OSS Cluster` mode where cluster specific commands are allowed. Only in this RE mode you should be using `JedisCluster` to communicate instead of JedisPooled.","title":"Jedis TLS connection to Redis Cluster","body":"<p>BY DEFAULT, you should be considering the Redis Enterprise (RE) as a single node from client side. So you can use <code>JedisPooled</code> to communicate with RE.</p>\n<p>Note 1: Cluster specific commands are actually disabled in default mode. That's what you can see in error message <code>ERR command is not allowed</code>.</p>\n<p>Note 2: Redis Enterprise has a <code>OSS Cluster</code> mode where cluster specific commands are allowed. Only in this RE mode you should be using <code>JedisCluster</code> to communicate instead of JedisPooled.</p>\n"}],"owner":{"account_id":20666338,"reputation":41,"user_id":15173097,"display_name":"JShao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76242759,"answer_count":1,"score":1,"last_activity_date":1683981368,"creation_date":1683909109,"question_id":76238329,"body_markdown":"We are using Redis enterprise edition \r\n5 shards: host:6379 - 6383\r\nendpoint: redis-endpoint.example.com 6378\r\nUsing Jedis 4.3.x, it works ok when I use JedisPooled\r\n\r\n```\r\nGenericObjectPoolConfig&lt;Connection&gt; genericPoolConfig = new GenericObjectPoolConfig&lt;&gt;();\r\ngenericPoolConfig.setMaxIdle(4);\r\ngenericPoolConfig.setMaxTotal(5);\r\ngenericPoolConfig.setMinIdle(2);\r\n\r\nJedisClientConfig clientConfig = DefaultJedisClientConfig.builder()\r\n      .sslSocketFactory(sslContext.getSocketFactory()) // key/trust stores here\r\n      .ssl(true)\r\n      .user(&quot;user_here&quot;)\r\n      .password(redisPassword)\r\n      .hostnameVerifier(hostnameVerifier)\r\n      .build();\r\nJedisPooled jedis = new JedisPooled(genericPoolConfig, new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378), clientConfig);\r\njedis.set(&quot;key_1&quot;, &quot;value_1&quot;); // this cmd works\r\n```\r\n\r\nBut when I try to use JedisCluster, it throws Exception\r\n\r\n```\r\nSet&lt;HostAndPort&gt; jedisClusterNodes = new HashSet&lt;&gt;();\r\njedisClusterNodes.add(new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378));\r\nJedisCluster cluster = new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig); // &lt;== ERROR here\r\ncluster.set(&quot;key_2&quot;, &quot;value_2&quot;); \r\n```\r\n\r\nI got errors:\r\n```\r\nException in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: ERR command is not allowed\r\n\tat redis.clients.jedis.Protocol.processError(Protocol.java:96)\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:137)\r\n\tat redis.clients.jedis.Protocol.read(Protocol.java:192)\r\n\tat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\r\n\tat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\r\n\tat redis.clients.jedis.Connection.getObjectMultiBulkReply(Connection.java:287)\r\n\tat redis.clients.jedis.JedisClusterInfoCache.executeClusterSlots(JedisClusterInfoCache.java:320)\r\n\tat redis.clients.jedis.JedisClusterInfoCache.discoverClusterNodesAndSlots(JedisClusterInfoCache.java:60)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:42)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\r\n\tat redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\r\n```\r\nQuestions: \r\n1. Should I put all 5 shards in Set&lt;HostAndPort&gt; jedisClusterNodes or just need to put cluster endpoint. \r\n2. Any things I did incorrectly when using ```new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig);```? \r\n3. will JedisPooled work well for cluster mode?","title":"Jedis TLS connection to Redis Cluster","body":"<p>We are using Redis enterprise edition\n5 shards: host:6379 - 6383\nendpoint: redis-endpoint.example.com 6378\nUsing Jedis 4.3.x, it works ok when I use JedisPooled</p>\n<pre><code>GenericObjectPoolConfig&lt;Connection&gt; genericPoolConfig = new GenericObjectPoolConfig&lt;&gt;();\ngenericPoolConfig.setMaxIdle(4);\ngenericPoolConfig.setMaxTotal(5);\ngenericPoolConfig.setMinIdle(2);\n\nJedisClientConfig clientConfig = DefaultJedisClientConfig.builder()\n      .sslSocketFactory(sslContext.getSocketFactory()) // key/trust stores here\n      .ssl(true)\n      .user(&quot;user_here&quot;)\n      .password(redisPassword)\n      .hostnameVerifier(hostnameVerifier)\n      .build();\nJedisPooled jedis = new JedisPooled(genericPoolConfig, new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378), clientConfig);\njedis.set(&quot;key_1&quot;, &quot;value_1&quot;); // this cmd works\n</code></pre>\n<p>But when I try to use JedisCluster, it throws Exception</p>\n<pre><code>Set&lt;HostAndPort&gt; jedisClusterNodes = new HashSet&lt;&gt;();\njedisClusterNodes.add(new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378));\nJedisCluster cluster = new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig); // &lt;== ERROR here\ncluster.set(&quot;key_2&quot;, &quot;value_2&quot;); \n</code></pre>\n<p>I got errors:</p>\n<pre><code>Exception in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: ERR command is not allowed\n    at redis.clients.jedis.Protocol.processError(Protocol.java:96)\n    at redis.clients.jedis.Protocol.process(Protocol.java:137)\n    at redis.clients.jedis.Protocol.read(Protocol.java:192)\n    at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\n    at redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\n    at redis.clients.jedis.Connection.getObjectMultiBulkReply(Connection.java:287)\n    at redis.clients.jedis.JedisClusterInfoCache.executeClusterSlots(JedisClusterInfoCache.java:320)\n    at redis.clients.jedis.JedisClusterInfoCache.discoverClusterNodesAndSlots(JedisClusterInfoCache.java:60)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:42)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\n    at redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li>Should I put all 5 shards in Set jedisClusterNodes or just need to put cluster endpoint.</li>\n<li>Any things I did incorrectly when using <code>new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig);</code>?</li>\n<li>will JedisPooled work well for cluster mode?</li>\n</ol>\n"},{"tags":["java","reflection","itext","pdf-generation"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683963744,"post_id":76241502,"comment_id":134449819,"body_markdown":"itext5 is end of life. Perhaps this answers your question? [Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1](https://stackoverflow.com/questions/53301158/itext-java-11-illegal-reflective-access-by-com-itextpdf-io-source-bytebufferran)","body":"itext5 is end of life. Perhaps this answers your question? <a href=\"https://stackoverflow.com/questions/53301158/itext-java-11-illegal-reflective-access-by-com-itextpdf-io-source-bytebufferran\">Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1</a>"},{"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"score":0,"creation_date":1683981200,"post_id":76241502,"comment_id":134451573,"body_markdown":"thx, but solution is found :)","body":"thx, but solution is found :)"}],"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683981112,"creation_date":1683961865,"question_id":76241502,"body_markdown":"context: jdk11, springboot, itextpdf 5.5.13.3, ubuntu, eclipse\r\n\r\nduring: ` new HtmlPipelineContext(null); ` throughout ` new CssAppliersImpl(new XMLWorkerFontProvider()); ` and last ` CssAppliersImpl(){// map builder inside } ` appears \r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/home/awieclawski/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\r\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\r\n```\r\nquestion: how to avoid it?\r\n\r\nPS.\r\nBefore `HtmlPipelineContext` instance is established:\r\n```\r\n\t\tCSSResolver cssResolver = new StyleAttrCSSResolver();\r\n\t\tcssResolver.addCss(cssFile);\r\n // \tcssFile is returned from XMLWorkerHelper.getCSS(getCssStream(path));\r\n\t}\r\n```\r\nand at the debug of `new HtmlPipelineContext(null);` is signalized: `com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred invoking method.` \r\n\r\nsolution: \r\n\r\nthere is problematic line (503) in `FontFactoryImp` where static method `BaseFont.enumerateTTCNames(path);` is called. To avoid this in `XMLWorkerFontProvider` constructor should be used `XMLWorkerFontProvider.DONTLOOKFORFONTS` as parameter value.\r\n```\r\nXMLWorkerFontProvider fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS); `\r\n```\r\nit&#39;s quite enough - problem disappeared :)","title":"llegal reflective access at HtmlPipelineContext constructor of itext 5","body":"<p>context: jdk11, springboot, itextpdf 5.5.13.3, ubuntu, eclipse</p>\n<p>during: <code>new HtmlPipelineContext(null);</code> throughout <code>new CssAppliersImpl(new XMLWorkerFontProvider());</code> and last <code>CssAppliersImpl(){// map builder inside }</code> appears</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/home/awieclawski/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\n</code></pre>\n<p>question: how to avoid it?</p>\n<p>PS.\nBefore <code>HtmlPipelineContext</code> instance is established:</p>\n<pre><code>        CSSResolver cssResolver = new StyleAttrCSSResolver();\n        cssResolver.addCss(cssFile);\n //     cssFile is returned from XMLWorkerHelper.getCSS(getCssStream(path));\n    }\n</code></pre>\n<p>and at the debug of <code>new HtmlPipelineContext(null);</code> is signalized: <code>com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred invoking method.</code></p>\n<p>solution:</p>\n<p>there is problematic line (503) in <code>FontFactoryImp</code> where static method <code>BaseFont.enumerateTTCNames(path);</code> is called. To avoid this in <code>XMLWorkerFontProvider</code> constructor should be used <code>XMLWorkerFontProvider.DONTLOOKFORFONTS</code> as parameter value.</p>\n<pre><code>XMLWorkerFontProvider fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS); `\n</code></pre>\n<p>it's quite enough - problem disappeared :)</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683979259,"post_id":76242611,"comment_id":134451366,"body_markdown":"Why are you using base64 at all in your code? I don&#39;t see anything in there which requires it...","body":"Why are you using base64 at all in your code? I don&#39;t see anything in there which requires it..."},{"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"score":0,"creation_date":1683980055,"post_id":76242611,"comment_id":134451449,"body_markdown":"this image I will send to the cloud service to remove background, the cloud service api that accept base64 string. @JonSkeet","body":"this image I will send to the cloud service to remove background, the cloud service api that accept base64 string. @JonSkeet"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1683987287,"post_id":76242611,"comment_id":134452267,"body_markdown":"Right, but none of that&#39;s relevant to the aspect of resizing the image, right? You&#39;d only need to encode it as base64 after doing everything else - which means it&#39;s irrelevant to this question. (I&#39;d also recommend avoiding base64 encoding until the final step in your real code, too - it&#39;ll make your code much simpler and cleaner.)","body":"Right, but none of that&#39;s relevant to the aspect of resizing the image, right? You&#39;d only need to encode it as base64 after doing everything else - which means it&#39;s irrelevant to this question. (I&#39;d also recommend avoiding base64 encoding until the final step in your real code, too - it&#39;ll make your code much simpler and cleaner.)"},{"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"score":0,"creation_date":1683989404,"post_id":76242611,"comment_id":134452556,"body_markdown":"yes, you are correct. I just use this code to show the issue. the resize will happen in the step flow because I need to generate different  size of photo, it will used by different countries id card. each countries has there own specification.","body":"yes, you are correct. I just use this code to show the issue. the resize will happen in the step flow because I need to generate different  size of photo, it will used by different countries id card. each countries has there own specification."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683989639,"post_id":76242611,"comment_id":134452577,"body_markdown":"&quot;I just use this code to show the issue.&quot; But the base64 part is irrelevant to the issue, and so shouldn&#39;t be in the question. Ideally, Stack Overflow questions should show minimal but complete code required to reproduce the issue - anything irrelevant is a distraction.","body":"&quot;I just use this code to show the issue.&quot; But the base64 part is irrelevant to the issue, and so shouldn&#39;t be in the question. Ideally, Stack Overflow questions should show minimal but complete code required to reproduce the issue - anything irrelevant is a distraction."}],"answers":[{"tags":[],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683980803,"creation_date":1683980803,"answer_id":76242721,"question_id":76242611,"body_markdown":"Finally I found thumbnailator https://github.com/coobird/thumbnailator can handle this, first import the dependencies:\r\n\r\n\r\n    implementation &#39;net.coobird:thumbnailator:0.4.19&#39;\r\n\r\n\r\nthen resize the image like this:\r\n\r\n\r\n\r\n\r\n    Thumbnails.of(&quot;/Users/John/Downloads/zj/test.jpeg&quot;)\r\n    \t\t\t\t.size(300,400)\r\n    \t\t\t\t.toFile(&quot;/Users/John/Downloads/hr-thumbnail.jpeg&quot;);\r\n\r\n\r\n\r\nthe resized image quality are perfect.\r\n","title":"is it possible to keep image quality when resize in java","body":"<p>Finally I found thumbnailator <a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">https://github.com/coobird/thumbnailator</a> can handle this, first import the dependencies:</p>\n<pre><code>implementation 'net.coobird:thumbnailator:0.4.19'\n</code></pre>\n<p>then resize the image like this:</p>\n<pre><code>Thumbnails.of(&quot;/Users/John/Downloads/zj/test.jpeg&quot;)\n                .size(300,400)\n                .toFile(&quot;/Users/John/Downloads/hr-thumbnail.jpeg&quot;);\n</code></pre>\n<p>the resized image quality are perfect.</p>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683980803,"creation_date":1683979127,"question_id":76242611,"body_markdown":"is it possible to keep the image quality when resize it in java? this is my code:\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.yaml.snakeyaml.external.biz.base64Coder.Base64Coder;\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Base64;\r\n    \r\n    @Slf4j\r\n    public class DemoApplicationSlim {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tString filePath = &quot;/Users/john/Downloads/zj/test.jpeg&quot;;\r\n    \t\tPath path = Paths.get(filePath);\r\n    \t\tbyte[] bytes = Files.readAllBytes(path);\r\n    \t\tString base64Origin = Base64.getEncoder().encodeToString(bytes);\r\n    \t\tBufferedImage resizedIdPhoto = new BufferedImage(300, 400, BufferedImage.TYPE_INT_ARGB);\r\n    \t\tGraphics2D graphics = resizedIdPhoto.createGraphics();\r\n    \t\tBufferedImage img = Base64ToBufferImage(base64Origin);\r\n    \t\tgraphics.drawImage(img, 0, 0, 300, 400, null);\r\n    \t\tString b64Resize = bufferImageToBase64(resizedIdPhoto, &quot;png&quot;);\r\n    \t\tsaveImage(base64Origin,&quot;/Users/john/Downloads/hr-origin.jpeg&quot;);\r\n    \t\tsaveImage(b64Resize,&quot;/Users/john/Downloads/hr-resize.jpeg&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void saveImage(String base64Image, String imagePath) {\r\n    \t\ttry {\r\n    \t\t\tbyte[] imageBytes = Base64Coder.decode(base64Image);\r\n    \t\t\tFile imageFile = new File(imagePath);\r\n    \t\t\tif (!imageFile.exists()) {\r\n    \t\t\t\timageFile.createNewFile();\r\n    \t\t\t}\r\n    \t\t\tFileOutputStream outputStream = new FileOutputStream(imageFile);\r\n    \t\t\toutputStream.write(imageBytes);\r\n    \t\t\toutputStream.flush();\r\n    \t\t\toutputStream.close();\r\n    \t\t\tSystem.out.println(&quot;save success：&quot; + imagePath);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlog.error(&quot;save file failed&quot;,e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static BufferedImage Base64ToBufferImage(String base64) {\r\n    \t\tBufferedImage image = null;\r\n    \t\tbyte[] imageBytes;\r\n    \t\timageBytes = Base64.getDecoder().decode(base64);\r\n    \t\ttry (ByteArrayInputStream bis = new ByteArrayInputStream(imageBytes)) {\r\n    \t\t\timage = ImageIO.read(bis);\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tlog.error(&quot;read  image error&quot;, ex);\r\n    \t\t}\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic static String bufferImageToBase64(BufferedImage image, String format) throws IOException {\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\tjavax.imageio.ImageIO.write(image, format, baos);\r\n    \t\tbyte[] bytes = baos.toByteArray();\r\n    \t\tString base64 = Base64.getEncoder().encodeToString(bytes);\r\n    \t\treturn base64;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nnow I found a issue it that when I resized the image, the resized output image loss so much quality. is it possible to keep original quality when resize? I have found this lib https://github.com/rkalla/imgscalr but it stop maintain for 5 years.","title":"is it possible to keep image quality when resize in java","body":"<p>is it possible to keep the image quality when resize it in java? this is my code:</p>\n<pre><code>package com.example.demo;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.yaml.snakeyaml.external.biz.base64Coder.Base64Coder;\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Base64;\n\n@Slf4j\npublic class DemoApplicationSlim {\n    public static void main(String[] args) throws Exception {\n        String filePath = &quot;/Users/john/Downloads/zj/test.jpeg&quot;;\n        Path path = Paths.get(filePath);\n        byte[] bytes = Files.readAllBytes(path);\n        String base64Origin = Base64.getEncoder().encodeToString(bytes);\n        BufferedImage resizedIdPhoto = new BufferedImage(300, 400, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D graphics = resizedIdPhoto.createGraphics();\n        BufferedImage img = Base64ToBufferImage(base64Origin);\n        graphics.drawImage(img, 0, 0, 300, 400, null);\n        String b64Resize = bufferImageToBase64(resizedIdPhoto, &quot;png&quot;);\n        saveImage(base64Origin,&quot;/Users/john/Downloads/hr-origin.jpeg&quot;);\n        saveImage(b64Resize,&quot;/Users/john/Downloads/hr-resize.jpeg&quot;);\n    }\n\n    private static void saveImage(String base64Image, String imagePath) {\n        try {\n            byte[] imageBytes = Base64Coder.decode(base64Image);\n            File imageFile = new File(imagePath);\n            if (!imageFile.exists()) {\n                imageFile.createNewFile();\n            }\n            FileOutputStream outputStream = new FileOutputStream(imageFile);\n            outputStream.write(imageBytes);\n            outputStream.flush();\n            outputStream.close();\n            System.out.println(&quot;save success：&quot; + imagePath);\n        } catch (IOException e) {\n            log.error(&quot;save file failed&quot;,e);\n        }\n    }\n\n    public static BufferedImage Base64ToBufferImage(String base64) {\n        BufferedImage image = null;\n        byte[] imageBytes;\n        imageBytes = Base64.getDecoder().decode(base64);\n        try (ByteArrayInputStream bis = new ByteArrayInputStream(imageBytes)) {\n            image = ImageIO.read(bis);\n        } catch (IOException ex) {\n            log.error(&quot;read  image error&quot;, ex);\n        }\n        return image;\n    }\n\n    public static String bufferImageToBase64(BufferedImage image, String format) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        javax.imageio.ImageIO.write(image, format, baos);\n        byte[] bytes = baos.toByteArray();\n        String base64 = Base64.getEncoder().encodeToString(bytes);\n        return base64;\n    }\n}\n</code></pre>\n<p>now I found a issue it that when I resized the image, the resized output image loss so much quality. is it possible to keep original quality when resize? I have found this lib <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">https://github.com/rkalla/imgscalr</a> but it stop maintain for 5 years.</p>\n"},{"tags":["java","image","swing","jframe","icons"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1683878954,"post_id":76234325,"comment_id":134436985,"body_markdown":"`setIcon` is a method in [`JLabel`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html), not in [`Label`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Label.html).","body":"<code>setIcon</code> is a method in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html\" rel=\"nofollow noreferrer\"><code>JLabel</code></a>, not in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Label.html\" rel=\"nofollow noreferrer\"><code>Label</code></a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683879588,"post_id":76234325,"comment_id":134437095,"body_markdown":"BTW be aware that Java is case sensitive: `setIcon` is not the same as `SetIcon` or `seticon` (both being used in this this question, including in the error message - Now we do not know if you also reported the correct type `Label` or was it `JLabel`)","body":"BTW be aware that Java is case sensitive: <code>setIcon</code> is not the same as <code>SetIcon</code> or <code>seticon</code> (both being used in this this question, including in the error message - Now we do not know if you also reported the correct type <code>Label</code> or was it <code>JLabel</code>)"}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683980415,"creation_date":1683980415,"answer_id":76242697,"question_id":76234325,"body_markdown":"You need to use a `JLabel` and call `setIcon` to add the `ImageIcon`.\r\n\r\nHere&#39;s a working example:\r\n\r\n    import javax.swing.ImageIcon;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.SwingUtilities;\r\n\timport java.awt.BorderLayout;\r\n\r\n\tpublic class MyApp extends JFrame {\r\n\r\n\t\tprivate MyApp() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\r\n\t\t\tImageIcon icon = new ImageIcon(&quot;image.jpg&quot;);\r\n\t\t\tJLabel label = new JLabel(icon);\r\n\r\n\t\t\tadd(label, BorderLayout.CENTER);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApp app = new MyApp();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}","title":"SetIcon gives symbol error in Java when I want to set icon of label","body":"<p>You need to use a <code>JLabel</code> and call <code>setIcon</code> to add the <code>ImageIcon</code>.</p>\n<p>Here's a working example:</p>\n<pre><code>import javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\nimport java.awt.BorderLayout;\n\npublic class MyApp extends JFrame {\n\n    private MyApp() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n\n        ImageIcon icon = new ImageIcon(&quot;image.jpg&quot;);\n        JLabel label = new JLabel(icon);\n\n        add(label, BorderLayout.CENTER);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApp app = new MyApp();\n                app.setVisible(true);\n            }\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28586766,"reputation":1,"user_id":21886833,"display_name":"Lemonexe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683980415,"creation_date":1683878709,"question_id":76234325,"body_markdown":"I am trying to Add an Image into jFrame with a label.\r\n\r\nI saw on multiple website you should import javax.swing.ImageIcon, create a ImageIcon object and set the icon of the label as the object.\r\n\r\nWhen I set my label I get the following Error:\r\ncannot find symbol symbol: method seticon(Imagelcon) location: variable IbiPic of type Label (Alt-Enter shows hints)\r\n\r\n```\r\nimport javax.swing.*;\r\npublic class HomePage extends javax.swing.JFrame {\r\n    public HomePage() {\r\n        initComponents();\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)             \r\n    \r\n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \r\n        ImageIcon imageAd = new ImageIcon(&quot;VWad.jpeg&quot;);\r\n        lblPic.setIcon(imageAd); \r\n```\r\n\r\nThank you!\r\n\r\n\r\nTried to lblPic.setIcon(ImageAd), result: error","title":"SetIcon gives symbol error in Java when I want to set icon of label","body":"<p>I am trying to Add an Image into jFrame with a label.</p>\n<p>I saw on multiple website you should import javax.swing.ImageIcon, create a ImageIcon object and set the icon of the label as the object.</p>\n<p>When I set my label I get the following Error:\ncannot find symbol symbol: method seticon(Imagelcon) location: variable IbiPic of type Label (Alt-Enter shows hints)</p>\n<pre><code>import javax.swing.*;\npublic class HomePage extends javax.swing.JFrame {\n    public HomePage() {\n        initComponents();\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)             \n    \n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \n        ImageIcon imageAd = new ImageIcon(&quot;VWad.jpeg&quot;);\n        lblPic.setIcon(imageAd); \n</code></pre>\n<p>Thank you!</p>\n<p>Tried to lblPic.setIcon(ImageAd), result: error</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329888799,"creation_date":1329888799,"answer_id":9389576,"question_id":9389503,"body_markdown":"You can use `StringTokenizer` for this purpose...\r\n\r\n    String test1 = &quot;/Test/Stuff&quot;;\r\n    \t\tStringTokenizer st = new StringTokenizer(test1,&quot;/&quot;);\r\n    \t\twhile(st.hasMoreTokens())\r\n    \t\t\tSystem.out.println(st.nextToken());","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>You can use <code>StringTokenizer</code> for this purpose...</p>\n\n<pre><code>String test1 = \"/Test/Stuff\";\n        StringTokenizer st = new StringTokenizer(test1,\"/\");\n        while(st.hasMoreTokens())\n            System.out.println(st.nextToken());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1329889378,"creation_date":1329889001,"answer_id":9389603,"question_id":9389503,"body_markdown":"I don&#39;t think there is a way you could do this with the built-in `split` method. So you have two options: \r\n\r\n1) Make your own split \r\n\r\n2) Iterate through the array after calling split and remove empty elements\r\n\r\nIf you make your own split you can just combine these two options\r\n\r\n    public List&lt;String&gt; split(String inString)\r\n    {\r\n       List&lt;String&gt; outList = new ArrayList&lt;&gt;();\r\n       String[]     test    = inString.split(&quot;/&quot;);\r\n    \r\n       for(String s : test)\r\n       {\r\n           if(s != null &amp;&amp; s.length() &gt; 0)\r\n               outList.add(s);\r\n       }\r\n    \r\n       return outList;\r\n    }\r\n\r\nor you could just check for the delimiter being in the first position before you call split and ignore the first character if it does:\r\n\r\n    String   delimiter       = &quot;/&quot;;\r\n    String   delimitedString = &quot;/Test/Stuff&quot;;\r\n    String[] test;\r\n    \r\n    if(delimitedString.startsWith(delimiter)){\r\n        //start at the 1st character not the 0th\r\n        test = delimitedString.substring(1).split(delimiter); \r\n    }\r\n    else\r\n        test = delimitedString.split(delimiter);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I don't think there is a way you could do this with the built-in <code>split</code> method. So you have two options: </p>\n\n<p>1) Make your own split </p>\n\n<p>2) Iterate through the array after calling split and remove empty elements</p>\n\n<p>If you make your own split you can just combine these two options</p>\n\n<pre><code>public List&lt;String&gt; split(String inString)\n{\n   List&lt;String&gt; outList = new ArrayList&lt;&gt;();\n   String[]     test    = inString.split(\"/\");\n\n   for(String s : test)\n   {\n       if(s != null &amp;&amp; s.length() &gt; 0)\n           outList.add(s);\n   }\n\n   return outList;\n}\n</code></pre>\n\n<p>or you could just check for the delimiter being in the first position before you call split and ignore the first character if it does:</p>\n\n<pre><code>String   delimiter       = \"/\";\nString   delimitedString = \"/Test/Stuff\";\nString[] test;\n\nif(delimitedString.startsWith(delimiter)){\n    //start at the 1st character not the 0th\n    test = delimitedString.substring(1).split(delimiter); \n}\nelse\n    test = delimitedString.split(delimiter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20306,"reputation":4411,"user_id":48405,"accept_rate":56,"display_name":"Joe Attardi"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1329927759,"creation_date":1329889140,"answer_id":9389620,"question_id":9389503,"body_markdown":"Your best bet is probably just to strip out any leading delimiter:\r\n\r\n    String input = &quot;/Test/Stuff&quot;;\r\n    String[] test = input.replaceFirst(&quot;^/&quot;, &quot;&quot;).split(&quot;/&quot;);\r\n\r\nYou can make it more generic by putting it in a method:\r\n\r\n    public String[] mySplit(final String input, final String delim)\r\n    {\r\n        return input.replaceFirst(&quot;^&quot; + delim, &quot;&quot;).split(delim);\r\n    }\r\n\r\n    String[] test = mySplit(&quot;/Test/Stuff&quot;, &quot;/&quot;);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Your best bet is probably just to strip out any leading delimiter:</p>\n\n<pre><code>String input = \"/Test/Stuff\";\nString[] test = input.replaceFirst(\"^/\", \"\").split(\"/\");\n</code></pre>\n\n<p>You can make it more generic by putting it in a method:</p>\n\n<pre><code>public String[] mySplit(final String input, final String delim)\n{\n    return input.replaceFirst(\"^\" + delim, \"\").split(delim);\n}\n\nString[] test = mySplit(\"/Test/Stuff\", \"/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1236369,"reputation":14751,"user_id":1199882,"accept_rate":80,"display_name":"CodeBlue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329889165,"creation_date":1329889165,"answer_id":9389625,"question_id":9389503,"body_markdown":"I think you shall have to manually remove the first empty string. A simple way to do that is this - \r\n\r\n      String string, subString;\r\n      int index;\r\n      String[] test;\r\n\r\n      string = &quot;/Test/Stuff&quot;;\r\n      index  = string.indexOf(&quot;/&quot;);\r\n      subString = string.substring(index+1);\r\n \r\n      test = subString.split(&quot;/&quot;); \r\n\r\nThis will exclude the leading empty string.","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I think you shall have to manually remove the first empty string. A simple way to do that is this - </p>\n\n<pre><code>  String string, subString;\n  int index;\n  String[] test;\n\n  string = \"/Test/Stuff\";\n  index  = string.indexOf(\"/\");\n  subString = string.substring(index+1);\n\n  test = subString.split(\"/\"); \n</code></pre>\n\n<p>This will exclude the leading empty string.</p>\n"},{"tags":[],"owner":{"account_id":1152215,"reputation":9967,"user_id":1133674,"accept_rate":52,"display_name":"Rahul Tapali"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1329900039,"creation_date":1329900039,"answer_id":9391527,"question_id":9389503,"body_markdown":"I think there is no built-in function to remove blank string in Java. You can eliminate blank deleting string but it may lead to error. For safe you can do this by writing small piece of code as follow:\r\n\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n      for(String str : test) \r\n      {\r\n         if(str != null &amp;&amp; str.length() &gt; 0) \r\n         {\r\n             list.add(str);\r\n         }\r\n      }\r\n\r\n      test = stringList.toArray(new String[list.size()]);\r\n\r\n","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I think there is no built-in function to remove blank string in Java. You can eliminate blank deleting string but it may lead to error. For safe you can do this by writing small piece of code as follow:</p>\n\n<pre><code>  List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n  for(String str : test) \n  {\n     if(str != null &amp;&amp; str.length() &gt; 0) \n     {\n         list.add(str);\n     }\n  }\n\n  test = stringList.toArray(new String[list.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1417714752,"creation_date":1329903736,"answer_id":9392369,"question_id":9389503,"body_markdown":"Apache Commons has a utility method for exactly this: `org.apache.commons.lang.StringUtils.split`\r\n\r\n[StringUtils.split()][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String)\r\n\r\nActually in our company we now prefer using this method for splitting in all our projects.","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Apache Commons has a utility method for exactly this: <code>org.apache.commons.lang.StringUtils.split</code></p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String)\" rel=\"noreferrer\">StringUtils.split()</a></p>\n\n<p>Actually in our company we now prefer using this method for splitting in all our projects.</p>\n"},{"tags":[],"owner":{"account_id":2972933,"reputation":173,"user_id":2524635,"display_name":"K. George Pradhan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400440472,"creation_date":1400440472,"answer_id":23725841,"question_id":9389503,"body_markdown":"This is how I&#39;ve gotten around this problem. I take the string, call .toCharArray() on it to split it into an array of chars, and then loop through that array and add it to my String list (wrapping each char with String.valueOf). I imagine there&#39;s some performance tradeoff but it seems like a readable solution. Hope this helps! \r\n\r\n     char[] stringChars = string.toCharArray(); \r\n     List&lt;String&gt; stringList = new ArrayList&lt;&gt;(); \r\n\r\n     for (char stringChar : stringChars) { \r\n          stringList.add(String.valueOf(stringChar)); \r\n     }","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>This is how I've gotten around this problem. I take the string, call .toCharArray() on it to split it into an array of chars, and then loop through that array and add it to my String list (wrapping each char with String.valueOf). I imagine there's some performance tradeoff but it seems like a readable solution. Hope this helps! </p>\n\n<pre><code> char[] stringChars = string.toCharArray(); \n List&lt;String&gt; stringList = new ArrayList&lt;&gt;(); \n\n for (char stringChar : stringChars) { \n      stringList.add(String.valueOf(stringChar)); \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17276027,"reputation":1,"user_id":12510644,"display_name":"enjoy187"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1575972078,"creation_date":1575971124,"answer_id":59264303,"question_id":9389503,"body_markdown":"You can only add statement like `if(StringUtils.isEmpty(string)) continue;` before print the string. My JDK version 1.8, no Blank will be printed. \r\n5\r\nthis\r\nprogram\r\ngives\r\nme\r\nproblems","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>You can only add statement like <code>if(StringUtils.isEmpty(string)) continue;</code> before print the string. My JDK version 1.8, no Blank will be printed. \n5\nthis\nprogram\ngives\nme\nproblems</p>\n"},{"tags":[],"owner":{"account_id":2015074,"reputation":59,"user_id":1802592,"display_name":"m_c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588753058,"creation_date":1588753058,"answer_id":61630479,"question_id":9389503,"body_markdown":"When using JDK8 and streams, just add a skip(1) after the split. Following sniped decodes a (very wired) hex encoded string.\r\n\r\n    Arrays.asList(&quot;\\\\x42\\\\x41\\\\x53\\\\x45\\\\x36\\\\x34&quot;.split(&quot;\\\\\\\\x&quot;))\r\n        .stream()\r\n        .skip(1) // &lt;- ignore the first empty element\r\n        .map(c-&gt;&quot;&quot;+(char)Integer.parseInt(c, 16))\r\n        .collect(Collectors.joining())","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>When using JDK8 and streams, just add a skip(1) after the split. Following sniped decodes a (very wired) hex encoded string.</p>\n\n<pre><code>Arrays.asList(\"\\\\x42\\\\x41\\\\x53\\\\x45\\\\x36\\\\x34\".split(\"\\\\\\\\x\"))\n    .stream()\n    .skip(1) // &lt;- ignore the first empty element\n    .map(c-&gt;\"\"+(char)Integer.parseInt(c, 16))\n    .collect(Collectors.joining())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28484031,"reputation":11,"user_id":21797603,"display_name":"hari862"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683979972,"creation_date":1683979972,"answer_id":76242672,"question_id":9389503,"body_markdown":"Split method variants like split(regex, limit) can also produce empty strings at beginning or in middle of the resulting String array. Below code removes all such empty strings using streams api filter method in Java 8.\r\n\r\nSample code:\r\n\r\n    String[] tokens = s.split(&quot;/&quot;);\r\n    Arrays.stream(tokens)\r\n    .filter(s1 -&gt; !s1.isEmpty())\r\n    .forEach(System.out::println);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Split method variants like split(regex, limit) can also produce empty strings at beginning or in middle of the resulting String array. Below code removes all such empty strings using streams api filter method in Java 8.</p>\n<p>Sample code:</p>\n<pre><code>String[] tokens = s.split(&quot;/&quot;);\nArrays.stream(tokens)\n.filter(s1 -&gt; !s1.isEmpty())\n.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48965,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":9389620,"answer_count":10,"score":68,"last_activity_date":1683979972,"creation_date":1329888240,"question_id":9389503,"body_markdown":"passing 0 as a limit argument prevents trailing empty strings, but how does one prevent *leading* empty strings?\r\n\r\n\r\nfor instance\r\n\r\n    String[] test = &quot;/Test/Stuff&quot;.split(&quot;/&quot;);\r\n\r\nresults in an array with &quot;&quot;, &quot;Test&quot;, &quot;Stuff&quot;.\r\n\r\nYeah, I know I could roll my own Tokenizer...  but the API docs for StringTokenizer say \r\n\r\n&gt; &quot;StringTokenizer is a legacy class that is retained for compatibility\r\n&gt; reasons although its use is discouraged in new code. It is recommended\r\n&gt; that anyone seeking this functionality use the split&quot;","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>passing 0 as a limit argument prevents trailing empty strings, but how does one prevent <em>leading</em> empty strings?</p>\n\n<p>for instance</p>\n\n<pre><code>String[] test = \"/Test/Stuff\".split(\"/\");\n</code></pre>\n\n<p>results in an array with \"\", \"Test\", \"Stuff\".</p>\n\n<p>Yeah, I know I could roll my own Tokenizer...  but the API docs for StringTokenizer say </p>\n\n<blockquote>\n  <p>\"StringTokenizer is a legacy class that is retained for compatibility\n  reasons although its use is discouraged in new code. It is recommended\n  that anyone seeking this functionality use the split\"</p>\n</blockquote>\n"},{"tags":["java","directory","filewalker"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683900803,"post_id":76237002,"comment_id":134441989,"body_markdown":"are you sure the problem is not inside `distributionFolder.readingDirectory`? *Posted* code seems OK, but it would be easier to debug if we had a [mre]...","body":"are you sure the problem is not inside <code>distributionFolder.readingDirectory</code>? <i>Posted</i> code seems OK, but it would be easier to debug if we had a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>..."},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":2,"creation_date":1683902228,"post_id":76237002,"comment_id":134442339,"body_markdown":"What you have provided is not a minimal example - all of the thread pool stuff is irrelevant and should be removed.","body":"What you have provided is not a minimal example - all of the thread pool stuff is irrelevant and should be removed."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683902311,"post_id":76237002,"comment_id":134442362,"body_markdown":"@jon-hanson Ok I am editing right now","body":"@jon-hanson Ok I am editing right now"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683902854,"post_id":76237002,"comment_id":134442493,"body_markdown":"I have not understood why your code would read the `1111` folder twice, Have you?","body":"I have not understood why your code would read the <code>1111</code> folder twice, Have you?"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903446,"post_id":76237002,"comment_id":134442620,"body_markdown":"@OleV.V. I just edited the question and my therory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; class is going to the sub folders as well, and I want to prevent that.","body":"@OleV.V. I just edited the question and my therory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; class is going to the sub folders as well, and I want to prevent that."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903499,"post_id":76237002,"comment_id":134442629,"body_markdown":"@jon-hanson ready, I edited the question","body":"@jon-hanson ready, I edited the question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683903816,"post_id":76237002,"comment_id":134442686,"body_markdown":"still not clear, do you eventually want to limit the maximum depth that the `walk` is going? Maybe using the 3-argument `walk()` method (2nd argument is max depth) (e.g. it does not *walk* over `1111` since it already got `55354....` with its conetent)","body":"still not clear, do you eventually want to limit the maximum depth that the <code>walk</code> is going? Maybe using the 3-argument <code>walk()</code> method (2nd argument is max depth) (e.g. it does not <i>walk</i> over <code>1111</code> since it already got <code>55354....</code> with its conetent)"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903934,"post_id":76237002,"comment_id":134442714,"body_markdown":"@user16320675 Yes I want to put a limit to the depth but I did not know how to explain this, thank you. The 3-argument as the &quot;walkFileTree()&quot;?","body":"@user16320675 Yes I want to put a limit to the depth but I did not know how to explain this, thank you. The 3-argument as the &quot;walkFileTree()&quot;?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683903997,"post_id":76237002,"comment_id":134442734,"body_markdown":"link to documentation -&gt; [`Files.walk(Path, int, FileVisitOption...)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)) || BTW `File` has a `toPath()`","body":"link to documentation -&gt; <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\"><code>Files.walk(Path, int, FileVisitOption...)</code></a> || BTW <code>File</code> has a <code>toPath()</code>"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683904651,"post_id":76237002,"comment_id":134442884,"body_markdown":"@user16320675 Thank you so much, I learned something you, sorry for my silly question","body":"@user16320675 Thank you so much, I learned something you, sorry for my silly question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683905774,"post_id":76237002,"comment_id":134443201,"body_markdown":"it would be nice if you complement the question (adding the depth limit requirement) - maybe someone can write an answer (even you)","body":"it would be nice if you complement the question (adding the depth limit requirement) - maybe someone can write an answer (even you)"}],"answers":[{"tags":[],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683977950,"creation_date":1683977950,"answer_id":76242529,"question_id":76237002,"body_markdown":"In order limit the maximum depth that the walk is going I used the &quot;Files.walk&quot; with all 3 parameters. I used in the &quot;DistributionFolder&quot; class for that try and catch block:\r\n\r\n\r\n     try (Stream&lt;Path&gt; paths = Files.walk(files.toPath(),1, FileVisitOption.FOLLOW_LINKS)){","title":"Iterate through a folder just once JAVA Files.walk","body":"<p>In order limit the maximum depth that the walk is going I used the &quot;Files.walk&quot; with all 3 parameters. I used in the &quot;DistributionFolder&quot; class for that try and catch block:</p>\n<pre><code> try (Stream&lt;Path&gt; paths = Files.walk(files.toPath(),1, FileVisitOption.FOLLOW_LINKS)){\n</code></pre>\n"}],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683977950,"creation_date":1683899533,"question_id":76237002,"body_markdown":"I am stuck regarding reading only the directories. I want to iterate a folder and see all the subdirectories that the folder contains. If the subdirectory contains txt files, then send it to the &quot;DistributionFolder&quot; class which will read that subdirectory. Now is reading a subdirectory, for instance:\r\n\r\n[![enter image description here][1]][1]\r\n \r\nCan read the content of &quot;check&quot;, which is a subdirectory of the &quot;Alex&quot; directory and both subdirectories of &quot;check&quot;, but unfortunately, if I will add another directory, for instance:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe content of &quot;1111&quot; directory will be read it twice. \r\n\r\nThis is the code that splits the directory and subdirectories:\r\n\r\n\r\n     private boolean readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\r\n    \r\n    \r\n    \r\n            List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n            // is getting the number of available processes\r\n            int nrThreads = Runtime.getRuntime().availableProcessors();\r\n    \r\n            // Creating a ExecutorService pool with the number of available processes\r\n            ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\r\n    \r\n            //Traverse the dataset using File walker\r\n    \r\n            try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\r\n                //filter the file to be a regular file\r\n                paths.filter(Files ::isDirectory)\r\n                        .filter(mainReader::isNotTheDefault)\r\n                // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\r\n                .forEach(\r\n                    path -&gt; {\r\n                        DistributionFolder distributionFolder = new DistributionFolder(this.directory,this.videoNumber);\r\n                        try {\r\n                            System.out.println(path);\r\n                            this.videoNumber=distributionFolder.readingDirectory(path.toFile(),writeDatasetInfo);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    });\r\n    \r\n            }catch (Exception e){\r\n                throw new RuntimeException(e);\r\n            }\r\n            finally {\r\n                pool.shutdown();\r\n                while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\r\n                    System.out.println(&quot;Not yet. Still waiting for termination&quot;);\r\n                }\r\n                Regression.FullRegression(this.directory);\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        private static boolean isNotTheDefault(Path path){\r\n            if(!defaultFile.equals(path.toFile())){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\nThis is the &quot;DistributionFolder&quot; class\r\n\r\n    protected final String directory;\r\n    protected int videoNumber;\r\n    \r\n    \r\n    public DistributionFolder(String directory,int videoNumber){\r\n        this.directory=directory;\r\n        this.videoNumber=videoNumber;\r\n    }\r\n    \r\n    \r\n    protected int readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\r\n    \r\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n        // is getting the number of available processes\r\n        int nrThreads = Runtime.getRuntime().availableProcessors();\r\n    \r\n        // Creating a ExecutorService pool with the number of available processes\r\n        ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\r\n    \r\n        //Traverse the dataset using File walker\r\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\r\n            //filter the file to be a regular file\r\n            paths.filter(Files::isRegularFile)\r\n                    // apply the custom filter in order to read only txt files\r\n                    .filter(DistributionFolder::isTXT)\r\n                    // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\r\n                    .forEach(\r\n                            path -&gt; {\r\n    \r\n                                String[] strPath = String.valueOf(path).split(&quot;/&quot;);\r\n    \r\n                                pool.submit(new Reader(String.valueOf(path), videoNumber, this.directory, writeDatasetInfo,strPath[strPath.length-2]));\r\n                                this.videoNumber++;\r\n    \r\n                            });\r\n    \r\n        }catch (Exception e){\r\n            throw new RuntimeException(e);\r\n        }\r\n        finally {\r\n            // wait fo the execution of the pool to be done\r\n            pool.shutdown();\r\n            while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\r\n                System.out.println(&quot;Not yet. Still waiting for termination&quot;);\r\n            }\r\n            String[] splitFile = files.toString().split(&quot;/&quot;);\r\n    \r\n            MaintainedForRegression.SendMapForRegression(splitFile[splitFile.length-1],this.directory);\r\n            return this.videoNumber;\r\n        }\r\n    }\r\n    \r\n    private static boolean isTXT(Path path) {\r\n        String pathFile = String.valueOf(path);\r\n        String[] slittedpath = pathFile.split(&quot;/&quot;);\r\n        String[] splittedname = slittedpath[slittedpath.length - 1].split(&quot;\\\\.&quot;);\r\n        return splittedname[splittedname.length - 1].equals(&quot;txt&quot;);\r\n    }\r\n\r\nThis is the output when a new directory is inside of the first subdirectory of the check directory:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nThis is an example that works perfectly fine, when the is no other subdirectory:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe output:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI edited the question to add more context.\r\n\r\nMy theory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; will go to the subdirectories as well\r\n\r\nIf you have any suggestion please let me know. Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SUYpg.png\r\n  [2]: https://i.stack.imgur.com/bVPR6.png\r\n  [3]: https://i.stack.imgur.com/z37No.png\r\n  [4]: https://i.stack.imgur.com/Jw5qk.png\r\n  [5]: https://i.stack.imgur.com/34IrI.png","title":"Iterate through a folder just once JAVA Files.walk","body":"<p>I am stuck regarding reading only the directories. I want to iterate a folder and see all the subdirectories that the folder contains. If the subdirectory contains txt files, then send it to the &quot;DistributionFolder&quot; class which will read that subdirectory. Now is reading a subdirectory, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/SUYpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SUYpg.png\" alt=\"enter image description here\" /></a></p>\n<p>Can read the content of &quot;check&quot;, which is a subdirectory of the &quot;Alex&quot; directory and both subdirectories of &quot;check&quot;, but unfortunately, if I will add another directory, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/bVPR6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bVPR6.png\" alt=\"enter image description here\" /></a></p>\n<p>The content of &quot;1111&quot; directory will be read it twice.</p>\n<p>This is the code that splits the directory and subdirectories:</p>\n<pre><code> private boolean readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\n\n\n\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n        // is getting the number of available processes\n        int nrThreads = Runtime.getRuntime().availableProcessors();\n\n        // Creating a ExecutorService pool with the number of available processes\n        ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\n\n        //Traverse the dataset using File walker\n\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\n            //filter the file to be a regular file\n            paths.filter(Files ::isDirectory)\n                    .filter(mainReader::isNotTheDefault)\n            // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\n            .forEach(\n                path -&gt; {\n                    DistributionFolder distributionFolder = new DistributionFolder(this.directory,this.videoNumber);\n                    try {\n                        System.out.println(path);\n                        this.videoNumber=distributionFolder.readingDirectory(path.toFile(),writeDatasetInfo);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                });\n\n        }catch (Exception e){\n            throw new RuntimeException(e);\n        }\n        finally {\n            pool.shutdown();\n            while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\n                System.out.println(&quot;Not yet. Still waiting for termination&quot;);\n            }\n            Regression.FullRegression(this.directory);\n            return true;\n        }\n    }\n\n    private static boolean isNotTheDefault(Path path){\n        if(!defaultFile.equals(path.toFile())){\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>This is the &quot;DistributionFolder&quot; class</p>\n<pre><code>protected final String directory;\nprotected int videoNumber;\n\n\npublic DistributionFolder(String directory,int videoNumber){\n    this.directory=directory;\n    this.videoNumber=videoNumber;\n}\n\n\nprotected int readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\n\n    List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n    // is getting the number of available processes\n    int nrThreads = Runtime.getRuntime().availableProcessors();\n\n    // Creating a ExecutorService pool with the number of available processes\n    ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\n\n    //Traverse the dataset using File walker\n    try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\n        //filter the file to be a regular file\n        paths.filter(Files::isRegularFile)\n                // apply the custom filter in order to read only txt files\n                .filter(DistributionFolder::isTXT)\n                // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\n                .forEach(\n                        path -&gt; {\n\n                            String[] strPath = String.valueOf(path).split(&quot;/&quot;);\n\n                            pool.submit(new Reader(String.valueOf(path), videoNumber, this.directory, writeDatasetInfo,strPath[strPath.length-2]));\n                            this.videoNumber++;\n\n                        });\n\n    }catch (Exception e){\n        throw new RuntimeException(e);\n    }\n    finally {\n        // wait fo the execution of the pool to be done\n        pool.shutdown();\n        while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\n            System.out.println(&quot;Not yet. Still waiting for termination&quot;);\n        }\n        String[] splitFile = files.toString().split(&quot;/&quot;);\n\n        MaintainedForRegression.SendMapForRegression(splitFile[splitFile.length-1],this.directory);\n        return this.videoNumber;\n    }\n}\n\nprivate static boolean isTXT(Path path) {\n    String pathFile = String.valueOf(path);\n    String[] slittedpath = pathFile.split(&quot;/&quot;);\n    String[] splittedname = slittedpath[slittedpath.length - 1].split(&quot;\\\\.&quot;);\n    return splittedname[splittedname.length - 1].equals(&quot;txt&quot;);\n}\n</code></pre>\n<p>This is the output when a new directory is inside of the first subdirectory of the check directory:</p>\n<p><a href=\"https://i.stack.imgur.com/z37No.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z37No.png\" alt=\"enter image description here\" /></a></p>\n<p>This is an example that works perfectly fine, when the is no other subdirectory:</p>\n<p><a href=\"https://i.stack.imgur.com/Jw5qk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jw5qk.png\" alt=\"enter image description here\" /></a></p>\n<p>The output:</p>\n<p><a href=\"https://i.stack.imgur.com/34IrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34IrI.png\" alt=\"enter image description here\" /></a></p>\n<p>I edited the question to add more context.</p>\n<p>My theory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; will go to the subdirectories as well</p>\n<p>If you have any suggestion please let me know. Thanks!</p>\n"},{"tags":["java","algorithm","tensorflow","knapsack-problem","or-tools"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1684123709,"post_id":76242028,"comment_id":134465216,"body_markdown":"looks like didn&#39;t try, instead looking for way to solve his task problem","body":"looks like didn&#39;t try, instead looking for way to solve his task problem"}],"answers":[{"tags":[],"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683977711,"creation_date":1683977711,"answer_id":76242507,"question_id":76242028,"body_markdown":"this is not a linear problem. So not using the linear solver wrapper.","title":"a ortools problem，find min value of the Knapsack problem,but value is caculated by tensorflow model not constant coefficient","body":"<p>this is not a linear problem. So not using the linear solver wrapper.</p>\n"}],"owner":{"account_id":14362391,"reputation":11,"user_id":10374373,"display_name":"冯佳奇"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683977711,"creation_date":1683970591,"question_id":76242028,"body_markdown":"    public List&lt;Waste&gt; main(List&lt;Waste&gt; nowStock) throws Exception {\r\n        Loader.loadNativeLibraries();\r\n\r\n        HashMap&lt;@Nullable Integer, @Nullable Waste&gt; iToWaste = Maps.newHashMap();\r\n\r\n        for (int i = 0; i &lt; nowStock.size(); i++) {\r\n            iToWaste.put(i, nowStock.get(i));\r\n        }\r\n\r\n        final int numItems = iToWaste.size();\r\n\r\n        final int[] allItemsId = IntStream.range(0, numItems).toArray();\r\n\r\n        final double binCapacities = 70;\r\n        //StringBuffer sb = new StringBuffer();\r\n        // Create the linear solver with the SCIP backend.\r\n        MPSolver solver = MPSolver.createSolver(&quot;SCIP&quot;);\r\n        if (solver == null) {\r\n\r\n            throw new Exception(&quot;Could not create solver SCIP&quot;);\r\n\r\n        }\r\n\r\n        // Variables.\r\n        MPVariable[] x = new MPVariable[numItems];\r\n\r\n        for (int i : allItemsId) {\r\n            x[i] = solver.makeBoolVar(&quot;x_&quot; + i);\r\n        }\r\n\r\n        // Constraints.\r\n        // Each item is assigned to at most one bin.\r\n        for (int i : allItemsId) {\r\n            MPConstraint constraint = solver.makeConstraint(0, 1, &quot;&quot;);\r\n            constraint.setCoefficient(x[i], 1);\r\n        }\r\n\r\n        // The amount packed in each bin cannot exceed its capacity.\r\n\r\n        MPConstraint constraint = solver.makeConstraint(binCapacities*0.95, binCapacities*1.05, &quot;&quot;);\r\n\r\n        for (int i : allItemsId) {\r\n            constraint.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\r\n        }\r\n\r\n\r\n        // Objective.\r\n        // Minimize cost value of packed items.\r\n        MPObjective costValue = solver.objective();\r\n\r\n        List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\r\n\r\n        costValue.setOffset(getCost(wastes).doubleValue());\r\n\r\n        costValue.setMinimization();\r\n\r\n\r\n        // Objective.\r\n        // Maximize weight of packed items.\r\n        MPObjective weight = solver.objective();\r\n        for (int i : allItemsId) {\r\n            weight.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\r\n        }\r\n        weight.setMaximization();\r\n        \r\n        solver.setNumThreads(20);\r\n\r\n        final MPSolver.ResultStatus status = solver.solve();\r\n\r\n\r\n        // Check that the problem has an optimal solution.\r\n        if (status == MPSolver.ResultStatus.OPTIMAL) {\r\n            return Arrays.stream(allItemsId).filter(id-&gt;x[id].solutionValue() == 1).mapToObj(id -&gt; iToWaste.get(id)).toList();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nthis part code\r\n\r\n        MPObjective costValue = solver.objective();\r\n\r\n        List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\r\n\r\n        costValue.setOffset(getCost(wastes).doubleValue());\r\n\r\n        costValue.setMinimization();\r\n\r\n\r\ni konw it is wrong.i want to find the minimize cost value,its cost is not depend on anyone of the combination，the cost depend on the combination.So the coefficient is dynamic，\r\nhow can i solve this problem.Thanks.\r\n\r\n\r\n\r\nhttps://developers.google.com/optimization/lp/stigler_diet\r\nhttps://developers.google.com/optimization/pack/multiple_knapsack\r\n\r\nthese are the docs I  refer to\r\n","title":"a ortools problem，find min value of the Knapsack problem,but value is caculated by tensorflow model not constant coefficient","body":"<pre><code>public List&lt;Waste&gt; main(List&lt;Waste&gt; nowStock) throws Exception {\n    Loader.loadNativeLibraries();\n\n    HashMap&lt;@Nullable Integer, @Nullable Waste&gt; iToWaste = Maps.newHashMap();\n\n    for (int i = 0; i &lt; nowStock.size(); i++) {\n        iToWaste.put(i, nowStock.get(i));\n    }\n\n    final int numItems = iToWaste.size();\n\n    final int[] allItemsId = IntStream.range(0, numItems).toArray();\n\n    final double binCapacities = 70;\n    //StringBuffer sb = new StringBuffer();\n    // Create the linear solver with the SCIP backend.\n    MPSolver solver = MPSolver.createSolver(&quot;SCIP&quot;);\n    if (solver == null) {\n\n        throw new Exception(&quot;Could not create solver SCIP&quot;);\n\n    }\n\n    // Variables.\n    MPVariable[] x = new MPVariable[numItems];\n\n    for (int i : allItemsId) {\n        x[i] = solver.makeBoolVar(&quot;x_&quot; + i);\n    }\n\n    // Constraints.\n    // Each item is assigned to at most one bin.\n    for (int i : allItemsId) {\n        MPConstraint constraint = solver.makeConstraint(0, 1, &quot;&quot;);\n        constraint.setCoefficient(x[i], 1);\n    }\n\n    // The amount packed in each bin cannot exceed its capacity.\n\n    MPConstraint constraint = solver.makeConstraint(binCapacities*0.95, binCapacities*1.05, &quot;&quot;);\n\n    for (int i : allItemsId) {\n        constraint.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\n    }\n\n\n    // Objective.\n    // Minimize cost value of packed items.\n    MPObjective costValue = solver.objective();\n\n    List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\n\n    costValue.setOffset(getCost(wastes).doubleValue());\n\n    costValue.setMinimization();\n\n\n    // Objective.\n    // Maximize weight of packed items.\n    MPObjective weight = solver.objective();\n    for (int i : allItemsId) {\n        weight.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\n    }\n    weight.setMaximization();\n    \n    solver.setNumThreads(20);\n\n    final MPSolver.ResultStatus status = solver.solve();\n\n\n    // Check that the problem has an optimal solution.\n    if (status == MPSolver.ResultStatus.OPTIMAL) {\n        return Arrays.stream(allItemsId).filter(id-&gt;x[id].solutionValue() == 1).mapToObj(id -&gt; iToWaste.get(id)).toList();\n    }\n    return null;\n}\n</code></pre>\n<p>this part code</p>\n<pre><code>    MPObjective costValue = solver.objective();\n\n    List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\n\n    costValue.setOffset(getCost(wastes).doubleValue());\n\n    costValue.setMinimization();\n</code></pre>\n<p>i konw it is wrong.i want to find the minimize cost value,its cost is not depend on anyone of the combination，the cost depend on the combination.So the coefficient is dynamic，\nhow can i solve this problem.Thanks.</p>\n<p><a href=\"https://developers.google.com/optimization/lp/stigler_diet\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/lp/stigler_diet</a>\n<a href=\"https://developers.google.com/optimization/pack/multiple_knapsack\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/pack/multiple_knapsack</a></p>\n<p>these are the docs I  refer to</p>\n"},{"tags":["java","generics","reflection","comparator"],"answers":[{"tags":[],"owner":{"account_id":4500219,"reputation":26,"user_id":3658934,"display_name":"developerSid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400645619,"creation_date":1400640316,"answer_id":23773146,"question_id":23772308,"body_markdown":"I&#39;m inclined to say that you might be best just creating concrete implementations of the different comparators similar to what you showed at the beginning of your question.\r\n\r\n    public class PersonNameComparator implements Comparator&lt;Person&gt;\r\n    {\r\n       public int compareTo(Person o1, Person o2)\r\n       {\r\n           return o1.getName().compareTo(o2.getName());\r\n       }\r\n    }\r\n\r\n    public class PersonSurnameComparator implements Comparator&lt;Person&gt;\r\n    {\r\n       public int compareTo(Person o1, Person o2)\r\n       {\r\n           return o1.getSurname().compareTo(o2.getSurname());\r\n       }\r\n    }\r\n\r\nThen just call the standard library Collections sorting method\r\n\r\n    Collections.sort(listofpersons, new PersonNameComparator());\r\n    Collections.sort(listofpersons, new PersonSurameComparator());\r\n\r\nIt is probably a bit of a code smell since it is a lot of bowler plate code that you&#39;ll end up having the IDE generate, but it would at least have the advantage of being easy to write some unit tests around, and be more performant (if only slightly) than using reflection.\r\n\r\nThe short coming of this approach is that you will have to implement a new comparator every time you add a new method to the Person class, so there is a lot of bloat going on here.","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>I'm inclined to say that you might be best just creating concrete implementations of the different comparators similar to what you showed at the beginning of your question.</p>\n\n<pre><code>public class PersonNameComparator implements Comparator&lt;Person&gt;\n{\n   public int compareTo(Person o1, Person o2)\n   {\n       return o1.getName().compareTo(o2.getName());\n   }\n}\n\npublic class PersonSurnameComparator implements Comparator&lt;Person&gt;\n{\n   public int compareTo(Person o1, Person o2)\n   {\n       return o1.getSurname().compareTo(o2.getSurname());\n   }\n}\n</code></pre>\n\n<p>Then just call the standard library Collections sorting method</p>\n\n<pre><code>Collections.sort(listofpersons, new PersonNameComparator());\nCollections.sort(listofpersons, new PersonSurameComparator());\n</code></pre>\n\n<p>It is probably a bit of a code smell since it is a lot of bowler plate code that you'll end up having the IDE generate, but it would at least have the advantage of being easy to write some unit tests around, and be more performant (if only slightly) than using reflection.</p>\n\n<p>The short coming of this approach is that you will have to implement a new comparator every time you add a new method to the Person class, so there is a lot of bloat going on here.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400641741,"creation_date":1400641741,"answer_id":23773301,"question_id":23772308,"body_markdown":"You can&#39;t sort a *Collection*, only a *List*. This is because not all Collections (eg Set) support the concept of element &quot;order&quot;.\r\n\r\n\r\nChange the method signature to:\r\n\r\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, final String methodName) {\r\n","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>You can't sort a <em>Collection</em>, only a <em>List</em>. This is because not all Collections (eg Set) support the concept of element \"order\".</p>\n\n<p>Change the method signature to:</p>\n\n<pre><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, final String methodName) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1400643887,"creation_date":1400641796,"answer_id":23773309,"question_id":23772308,"body_markdown":"The problem is in the signature of the `sortCollection` method. You should change the type of the `list` parameter from `Collection&lt;T&gt;` to `List&lt;T&gt;`. In other words, your method&#39;s header  should be:\r\n\r\n    public static &lt;T&gt; void sortCollection(List&lt;T&gt; list, final String methodName)\r\n\r\n\r\nThat&#39;s because `Collections.sort()` expects its first parameter to be a `List` (See its [javadoc][1])\r\n\r\n\r\n\r\n\r\nEDIT:\r\n\r\nRegarding your implementation, there are some generic/reflection tricks which you can use. Here&#39;s a possible alternative impl.\r\n\r\n    \r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    public static&lt;T&gt; Comparator&lt;T&gt; \r\n      newMethodComparator(Class&lt;T&gt; cls, String methodName) throws Exception {    \r\n      Method method = cls.getMethod(methodName);\r\n      if (method.getParameterTypes().length != 0) \r\n        throw new Exception(&quot;Method &quot; + method + &quot; takes parameters&quot;);\r\n      \r\n      Class&lt;?&gt; returnType = method.getReturnType();\r\n      if (!Comparable.class.isAssignableFrom(returnType))\r\n        throw new Exception(&quot;The return type &quot; + returnType + &quot; is not Comparable&quot;);\r\n      \r\n      return newMethodComparator(method, (Class&lt;? extends Comparable&gt;) returnType);      \r\n    }\r\n  \r\n    private static&lt;T,R extends Comparable&lt;R&gt;&gt; Comparator&lt;T&gt; newMethodComparator(\r\n        final Method method, final Class&lt;R&gt; returnType) throws Exception {    \r\n      return new Comparator&lt;T&gt;() {\r\n        @Override\r\n        public int compare(T o1, T o2) {\r\n          try {\r\n            R a = invoke(method, o1);\r\n            R b = invoke(method, o2);\r\n            return a.compareTo(b);\r\n          } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n  \r\n        private R invoke(Method method, T o) throws Exception {\r\n          return returnType.cast(method.invoke(o));\r\n        }\r\n      };\r\n    }\r\n\r\n\r\nHere&#39;s how you would use it:\r\n\r\n      List&lt;Person&gt; ps = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Person(&quot;A&quot;, &quot;D&quot;), new Person(&quot;B&quot;,  &quot;C&quot;)));\r\n      ...\r\n\r\n      Comparator&lt;Person&gt; byNameComparator = \r\n        newMethodComparator(Person.class, &quot;getName&quot;);\r\n      Collections.sort(ps,  byNameComparator);\r\n\r\n\r\nRationale:\r\n\r\n(a) This impl. will work for any method that returns a `Comparable` object. Your implementation is using string-comparison which will not work nicely, for one, if the method  return an int.\r\n\r\n(b) This impl. checks the method&#39;s return type and the fact that it takes zero arguments at the point where the `Comparator` is created, which is *before* the sorting has started. Thus, there is lesser chance of `Collections.sort()` throwing an exception on you.\r\n\r\n(c) Note that the `@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })` does not pose any real risk. If the method&#39;s return type is `Comparable` then the downcasts will succeed. If the return type is not `Comparable` then `Comparable.class.isAssignableFrom(returnType))` will return false, the method will throw an explicit exception and the downcast will never be reached.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>The problem is in the signature of the <code>sortCollection</code> method. You should change the type of the <code>list</code> parameter from <code>Collection&lt;T&gt;</code> to <code>List&lt;T&gt;</code>. In other words, your method's header  should be:</p>\n\n<pre><code>public static &lt;T&gt; void sortCollection(List&lt;T&gt; list, final String methodName)\n</code></pre>\n\n<p>That's because <code>Collections.sort()</code> expects its first parameter to be a <code>List</code> (See its <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow\">javadoc</a>)</p>\n\n<p>EDIT:</p>\n\n<p>Regarding your implementation, there are some generic/reflection tricks which you can use. Here's a possible alternative impl.</p>\n\n<pre><code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\npublic static&lt;T&gt; Comparator&lt;T&gt; \n  newMethodComparator(Class&lt;T&gt; cls, String methodName) throws Exception {    \n  Method method = cls.getMethod(methodName);\n  if (method.getParameterTypes().length != 0) \n    throw new Exception(\"Method \" + method + \" takes parameters\");\n\n  Class&lt;?&gt; returnType = method.getReturnType();\n  if (!Comparable.class.isAssignableFrom(returnType))\n    throw new Exception(\"The return type \" + returnType + \" is not Comparable\");\n\n  return newMethodComparator(method, (Class&lt;? extends Comparable&gt;) returnType);      \n}\n\nprivate static&lt;T,R extends Comparable&lt;R&gt;&gt; Comparator&lt;T&gt; newMethodComparator(\n    final Method method, final Class&lt;R&gt; returnType) throws Exception {    \n  return new Comparator&lt;T&gt;() {\n    @Override\n    public int compare(T o1, T o2) {\n      try {\n        R a = invoke(method, o1);\n        R b = invoke(method, o2);\n        return a.compareTo(b);\n      } catch (Exception e) {\n        throw new RuntimeException(e);\n      }\n    }\n\n    private R invoke(Method method, T o) throws Exception {\n      return returnType.cast(method.invoke(o));\n    }\n  };\n}\n</code></pre>\n\n<p>Here's how you would use it:</p>\n\n<pre><code>  List&lt;Person&gt; ps = new ArrayList&lt;&gt;(Arrays.asList(\n    new Person(\"A\", \"D\"), new Person(\"B\",  \"C\")));\n  ...\n\n  Comparator&lt;Person&gt; byNameComparator = \n    newMethodComparator(Person.class, \"getName\");\n  Collections.sort(ps,  byNameComparator);\n</code></pre>\n\n<p>Rationale:</p>\n\n<p>(a) This impl. will work for any method that returns a <code>Comparable</code> object. Your implementation is using string-comparison which will not work nicely, for one, if the method  return an int.</p>\n\n<p>(b) This impl. checks the method's return type and the fact that it takes zero arguments at the point where the <code>Comparator</code> is created, which is <em>before</em> the sorting has started. Thus, there is lesser chance of <code>Collections.sort()</code> throwing an exception on you.</p>\n\n<p>(c) Note that the <code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })</code> does not pose any real risk. If the method's return type is <code>Comparable</code> then the downcasts will succeed. If the return type is not <code>Comparable</code> then <code>Comparable.class.isAssignableFrom(returnType))</code> will return false, the method will throw an explicit exception and the downcast will never be reached.</p>\n"},{"tags":[],"owner":{"account_id":3434736,"reputation":1,"user_id":2878109,"display_name":"Ganesh Gore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683977017,"creation_date":1683974388,"answer_id":76242286,"question_id":23772308,"body_markdown":"\r\nBelow solution still might need few more checks if the &#39;T&#39; contains other complex types and are not comparable.     \t\r\n\r\n```\r\npublic &lt;T&gt; void sortList(List&lt;T&gt; objList, String[] attributes) throws ClassNotFoundException {\r\n  Comparator&lt;T&gt; comparator = null;\r\n  Comparator&lt;T&gt; temp = null;\r\n  if (objList != null) {\r\n    Class classObj = objList.get(0).getClass();\r\n    Method[] methods = classObj.getMethods();\r\n    for(String attribute : attributes) {\r\n      for(Method method : methods) {\r\n    \tif(method.getName().contains(&quot;get&quot;) &amp;&amp; method.getName().toLowerCase().contains(attribute.toLowerCase()))\r\n    \t  temp = new Comparator&lt;T&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic int compare(T o1, T o2) {\r\n    \t\t  try {\r\n    \t\t    Comparable v1 = (Comparable) method.invoke(o1);\r\n    \t\t\tComparable v2 = (Comparable) method.invoke(o2);\r\n    \t\t\treturn v1.compareTo(v2);\r\n    \t\t  } catch (IllegalAccessException | InvocationTargetException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t  }\r\n    \t\t  return 0;\r\n    \t\t}\r\n    \t  };\r\n    \t  if (temp != null)\r\n    \t\tif (comparator == null)\r\n    \t\t  comparator = temp;\r\n    \t\telse\r\n    \t\t  comparator = comparator.thenComparing(temp);\r\n    \t\t}\r\n    \t  }\r\n    \t  if (comparator != null)\r\n    \t    objList.sort(comparator);\r\n    \t  }\r\n    \t}\r\n```","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>Below solution still might need few more checks if the 'T' contains other complex types and are not comparable.</p>\n<pre><code>public &lt;T&gt; void sortList(List&lt;T&gt; objList, String[] attributes) throws ClassNotFoundException {\n  Comparator&lt;T&gt; comparator = null;\n  Comparator&lt;T&gt; temp = null;\n  if (objList != null) {\n    Class classObj = objList.get(0).getClass();\n    Method[] methods = classObj.getMethods();\n    for(String attribute : attributes) {\n      for(Method method : methods) {\n        if(method.getName().contains(&quot;get&quot;) &amp;&amp; method.getName().toLowerCase().contains(attribute.toLowerCase()))\n          temp = new Comparator&lt;T&gt;() {\n            @Override\n            public int compare(T o1, T o2) {\n              try {\n                Comparable v1 = (Comparable) method.invoke(o1);\n                Comparable v2 = (Comparable) method.invoke(o2);\n                return v1.compareTo(v2);\n              } catch (IllegalAccessException | InvocationTargetException e) {\n                e.printStackTrace();\n              }\n              return 0;\n            }\n          };\n          if (temp != null)\n            if (comparator == null)\n              comparator = temp;\n            else\n              comparator = comparator.thenComparing(temp);\n            }\n          }\n          if (comparator != null)\n            objList.sort(comparator);\n          }\n        }\n</code></pre>\n"}],"owner":{"account_id":1159821,"reputation":1128,"user_id":1139581,"accept_rate":62,"display_name":"moretti.fabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23773309,"answer_count":4,"score":2,"last_activity_date":1683977017,"creation_date":1400633686,"question_id":23772308,"body_markdown":"I hava a lot of classes like this:\r\n\r\n    Class Person {\r\n      protected String name;\r\n      protected String surname;\r\n      ...getters and setters...\r\n    }\r\n\r\nI&#39;d like to order a Collection of Person by name or by surname. Actually I&#39;m simply doing this:\r\n\r\n    Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\r\n      @Override \r\n      public int compare(Person p1, Person p2) { return p1.getName().compareTo(p2.getName()); }      \r\n    })\r\n\r\nor\r\n\r\n    Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\r\n      @Override \r\n      public int compare(Person p1, Person p2) { return p1.getSurname().compareTo(p2.getSurname()); }      \r\n    })\r\n\r\nI&#39;m trying to implement a generic comparator, like:\r\n\r\n    MyUtils.sort(listofpersons,&quot;getName&quot;);\r\n    MyUtils.sort(listofpersons,&quot;getSurame&quot;);\r\n\r\nand I&#39;m trying to understand of to do it with generics and reflection, but I&#39;m stuck. I&#39;m doing this:\r\n\r\n    public static &lt;T&gt; void sortCollection(Collection&lt;T&gt; list, final String methodName) {\r\n      Comparator&lt;T&gt; comparator = new Comparator&lt;T&gt;() {\r\n        @Override\r\n        public int compare(T o1, T o2) {\r\n          try {\r\n            String a=o1.getClass().getMethod(methodName).invoke(o1).toString();\r\n            String b=o2.getClass().getMethod(methodName).invoke(o2).toString();\r\n            return a.compareTo(b);\r\n          } catch (Exception ex) {\r\n            ...log somewhere...\r\n            return 0;\r\n          }\r\n        }\r\n      };\r\n      Collections.sort(list, comparator);\r\n    }\r\n\r\nforget the catch Exception and the String casting for now, the point is that Collections.sort(Collection&lt;T&gt;,Comparator&lt;T&gt;) does not exists, but I don&#39;t know of to create a Comparator&lt;? super T&gt;...\r\nI&#39;m very curious to know if my idea have any sense or not (an why) and what&#39;s the correct way implement it.\r\n\r\nThank you!","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>I hava a lot of classes like this:</p>\n\n<pre><code>Class Person {\n  protected String name;\n  protected String surname;\n  ...getters and setters...\n}\n</code></pre>\n\n<p>I'd like to order a Collection of Person by name or by surname. Actually I'm simply doing this:</p>\n\n<pre><code>Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\n  @Override \n  public int compare(Person p1, Person p2) { return p1.getName().compareTo(p2.getName()); }      \n})\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\n  @Override \n  public int compare(Person p1, Person p2) { return p1.getSurname().compareTo(p2.getSurname()); }      \n})\n</code></pre>\n\n<p>I'm trying to implement a generic comparator, like:</p>\n\n<pre><code>MyUtils.sort(listofpersons,\"getName\");\nMyUtils.sort(listofpersons,\"getSurame\");\n</code></pre>\n\n<p>and I'm trying to understand of to do it with generics and reflection, but I'm stuck. I'm doing this:</p>\n\n<pre><code>public static &lt;T&gt; void sortCollection(Collection&lt;T&gt; list, final String methodName) {\n  Comparator&lt;T&gt; comparator = new Comparator&lt;T&gt;() {\n    @Override\n    public int compare(T o1, T o2) {\n      try {\n        String a=o1.getClass().getMethod(methodName).invoke(o1).toString();\n        String b=o2.getClass().getMethod(methodName).invoke(o2).toString();\n        return a.compareTo(b);\n      } catch (Exception ex) {\n        ...log somewhere...\n        return 0;\n      }\n    }\n  };\n  Collections.sort(list, comparator);\n}\n</code></pre>\n\n<p>forget the catch Exception and the String casting for now, the point is that Collections.sort(Collection,Comparator) does not exists, but I don't know of to create a Comparator...\nI'm very curious to know if my idea have any sense or not (an why) and what's the correct way implement it.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","azure-devops","appinsights"],"answers":[{"tags":[],"owner":{"account_id":209494,"reputation":892,"user_id":460544,"accept_rate":67,"display_name":"Sven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683976652,"creation_date":1683976652,"answer_id":76242431,"question_id":76090709,"body_markdown":"Turned out, you can&#39;t. The Azure Java libraries don&#39;t fully support Micrometer as of now. This is requested and will be available in a future release of AppInsights for Java.\r\nhttps://github.com/microsoft/ApplicationInsights-Java/issues/3027 \r\n\r\nUntil released, Telemetry libs must be used to get a clear separation between apps.","title":"Spring Boot Micrometer to Azure Appinsights Collects Under the Same Namespace","body":"<p>Turned out, you can't. The Azure Java libraries don't fully support Micrometer as of now. This is requested and will be available in a future release of AppInsights for Java.\n<a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/3027\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-Java/issues/3027</a></p>\n<p>Until released, Telemetry libs must be used to get a clear separation between apps.</p>\n"}],"owner":{"account_id":209494,"reputation":892,"user_id":460544,"accept_rate":67,"display_name":"Sven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683976652,"creation_date":1682330487,"question_id":76090709,"body_markdown":"Is there a way to change the *Custom Namespace* name in a Spring Boot app when using MS Application Insights?\r\n\r\nI have a Spring Boot application deployed in Azure Devops with the appinsights runtime as a dependency.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have the insights config set as Application config, specifically these:\r\n- APPINSIGHTS_INSTRUMENTATIONKEY\r\n- APPLICATIONINSIGHTS_CONNECTION_STRING\r\n- APPLICATIONINSIGHTS_ROLE_NAME\r\n- ApplicationInsightsAgent_EXTENSION_VERSION (because of a known MS bug)\r\n\r\nAccording to MS documentation, Micrometer metrics are gathered automatically. Which happens, but...\r\n\r\nIn my business logic I have a few Micrometer counters (`` Counter metricCounter = Metrics.counter(&quot;metric-name&quot;); ``) for monitoring and all metrics are available in the Application Insights service, including Tomcat and JVM metrics. Problem here is that *all* Spring Boot metrics are gathered under the Custom Namespace ``azure.applicationinsights``. This is becoming a mess really fast as several apps are logging to the same Custom Namespace. Is there a way to set a namespace on an application level for a Spring Boot app?\r\n\r\nIn C# equivalent apps, we&#39;ve used ``new MetricTelemetry(&quot;metric-name&quot;){ MetricNamespace = customNamespace}`` to set a namespace for metrics which separates the custom metrics in Application Insights. But same here, would love to see it on an application level.\r\n","title":"Spring Boot Micrometer to Azure Appinsights Collects Under the Same Namespace","body":"<p>Is there a way to change the <em>Custom Namespace</em> name in a Spring Boot app when using MS Application Insights?</p>\n<p>I have a Spring Boot application deployed in Azure Devops with the appinsights runtime as a dependency.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\n        &lt;version&gt;3.4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have the insights config set as Application config, specifically these:</p>\n<ul>\n<li>APPINSIGHTS_INSTRUMENTATIONKEY</li>\n<li>APPLICATIONINSIGHTS_CONNECTION_STRING</li>\n<li>APPLICATIONINSIGHTS_ROLE_NAME</li>\n<li>ApplicationInsightsAgent_EXTENSION_VERSION (because of a known MS bug)</li>\n</ul>\n<p>According to MS documentation, Micrometer metrics are gathered automatically. Which happens, but...</p>\n<p>In my business logic I have a few Micrometer counters (<code>Counter metricCounter = Metrics.counter(&quot;metric-name&quot;);</code>) for monitoring and all metrics are available in the Application Insights service, including Tomcat and JVM metrics. Problem here is that <em>all</em> Spring Boot metrics are gathered under the Custom Namespace <code>azure.applicationinsights</code>. This is becoming a mess really fast as several apps are logging to the same Custom Namespace. Is there a way to set a namespace on an application level for a Spring Boot app?</p>\n<p>In C# equivalent apps, we've used <code>new MetricTelemetry(&quot;metric-name&quot;){ MetricNamespace = customNamespace}</code> to set a namespace for metrics which separates the custom metrics in Application Insights. But same here, would love to see it on an application level.</p>\n"},{"tags":["java","spring","file","java-io"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683918533,"post_id":76239135,"comment_id":134445701,"body_markdown":"There is no SQL anywhere in your question.","body":"There is no SQL anywhere in your question."},{"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"score":0,"creation_date":1683976309,"post_id":76239135,"comment_id":134451069,"body_markdown":"Sorry. Let me edit that","body":"Sorry. Let me edit that"}],"answers":[{"tags":[],"owner":{"account_id":23062580,"reputation":41,"user_id":17177536,"display_name":"Nicolas Francisco Corvi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683918761,"creation_date":1683918761,"answer_id":76239311,"question_id":76239135,"body_markdown":"You can use the findAll(Pageable page) variant that comes with the PagingAndSortingRepository which returns a Page, like so:\r\n\r\n```\r\nFileWriter fw = new FileWriter(path);\r\nBufferedWriter bw = new BufferedWriter(fw);\r\n\r\nPageRequest request = PageRequest.of(0, 100000); // this brings first 100000\r\nSlice&lt;Data&gt; dataList = null;\r\ndo {\r\n    dataList = dataRepository.findAll(request);\r\n    for(Data data: dataList){\r\n        bw.write(data.toString());\r\n    }\r\n    request = request.next(); //turn the page\r\n   \r\n} while(dataList.hasNext());\r\n```\r\ndataList.hasNext() will return false when no data is left to retrieve and will exit the do while\r\n","title":"Optimize read and file write","body":"<p>You can use the findAll(Pageable page) variant that comes with the PagingAndSortingRepository which returns a Page, like so:</p>\n<pre><code>FileWriter fw = new FileWriter(path);\nBufferedWriter bw = new BufferedWriter(fw);\n\nPageRequest request = PageRequest.of(0, 100000); // this brings first 100000\nSlice&lt;Data&gt; dataList = null;\ndo {\n    dataList = dataRepository.findAll(request);\n    for(Data data: dataList){\n        bw.write(data.toString());\n    }\n    request = request.next(); //turn the page\n   \n} while(dataList.hasNext());\n</code></pre>\n<p>dataList.hasNext() will return false when no data is left to retrieve and will exit the do while</p>\n"}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76239311,"answer_count":1,"score":-3,"last_activity_date":1683976145,"creation_date":1683917003,"question_id":76239135,"body_markdown":"I have this scenario wherein my repository will retrieve 1million+ rows. Is there any way retrieve the records incrementally. Let&#39;s say, I will only read 100k+ data first before writing it. \r\n\r\nBy the way, I don&#39;t have an option to use Spring Batch.\r\n\r\n\r\n\r\n```\r\nList&lt;Data&gt; dataList = dataRepository.findAll(); // This will retrieve 1million+ rows\r\n\r\nFileWriter fw = new FileWriter(path);\r\nBufferedWriter bw = new BufferedWriter(fw);\r\nfor(Data data: dataList){\r\n        bw.write(data.toString()); // I need to write the data in the file incrementally\r\n}\r\n\r\n\r\n\r\n```  ","title":"Optimize read and file write","body":"<p>I have this scenario wherein my repository will retrieve 1million+ rows. Is there any way retrieve the records incrementally. Let's say, I will only read 100k+ data first before writing it.</p>\n<p>By the way, I don't have an option to use Spring Batch.</p>\n<pre><code>List&lt;Data&gt; dataList = dataRepository.findAll(); // This will retrieve 1million+ rows\n\nFileWriter fw = new FileWriter(path);\nBufferedWriter bw = new BufferedWriter(fw);\nfor(Data data: dataList){\n        bw.write(data.toString()); // I need to write the data in the file incrementally\n}\n\n\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681128836,"creation_date":1681128836,"answer_id":75977021,"question_id":75976696,"body_markdown":"You can&#39;t get view&#39;s id with string type.If you call view.getId(),it&#39;ll return an Integer value.\r\n\r\ntry this\r\n\r\n    if(view.getId() == R.id.team1AddButton){\r\n            \r\n    }else if(view.getId() == R.id.team1SubButton){\r\n            \r\n    }\r\n\r\n","title":"How do I check if an ID contains a certain phrase?","body":"<p>You can't get view's id with string type.If you call view.getId(),it'll return an Integer value.</p>\n<p>try this</p>\n<pre><code>if(view.getId() == R.id.team1AddButton){\n        \n}else if(view.getId() == R.id.team1SubButton){\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683976075,"creation_date":1681138033,"answer_id":75978099,"question_id":75976696,"body_markdown":"Here is what are you looking for:\r\n\r\n    public void addScore(View v) {\r\n        String resourceName = getResources().getResourceName(v.getId());\r\n        String[] parts = resourceName.split(&quot;/&quot;);\r\n        String result = parts[parts.length - 1];\r\n        \r\n        if (result.contains(&quot;team1&quot;)) {\r\n            //..\r\n        }\r\n    }\r\nresourceName value will be like: `packageName:id/team1AddButton`\r\n\r\nSo if we split the string by &quot;/&quot; and take the last part, we get the result. \r\n\r\nor\r\n\r\n    public void addScore(View v) {\r\n       String resourceName = getResources().getResourceName(v.getId());\r\n\r\n       if (resourceName.contains(&quot;team1&quot;)) {\r\n           //..\r\n       }\r\n    }\r\nIf exact resourceName doesn&#39;t required then just check if contains or not. \r\n\r\n   \r\nHope it helps!","title":"How do I check if an ID contains a certain phrase?","body":"<p>Here is what are you looking for:</p>\n<pre><code>public void addScore(View v) {\n    String resourceName = getResources().getResourceName(v.getId());\n    String[] parts = resourceName.split(&quot;/&quot;);\n    String result = parts[parts.length - 1];\n    \n    if (result.contains(&quot;team1&quot;)) {\n        //..\n    }\n}\n</code></pre>\n<p>resourceName value will be like: <code>packageName:id/team1AddButton</code></p>\n<p>So if we split the string by &quot;/&quot; and take the last part, we get the result.</p>\n<p>or</p>\n<pre><code>public void addScore(View v) {\n   String resourceName = getResources().getResourceName(v.getId());\n\n   if (resourceName.contains(&quot;team1&quot;)) {\n       //..\n   }\n}\n</code></pre>\n<p>If exact resourceName doesn't required then just check if contains or not.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75978099,"answer_count":2,"score":1,"last_activity_date":1683976075,"creation_date":1681126152,"question_id":75976696,"body_markdown":"I am making a simple app with four scores, each score having an add button and a subtract button. To make code simpler, I named each button&#39;s `onClick` to `addScore` or `subScore`. Each button&#39;s ID contains something such as `android:@+id/team1AddButton`. I need to check in the `onClick` which team is being affected for both `onClick`s.\r\n\r\nThe button code is simple (removed most formatting code):\r\n\r\n```\r\n&lt;Button\r\n           android:id=&quot;@+id/team1AddButton&quot;\r\n           android:layout_width=&quot;55dp&quot;\r\n           android:layout_height=&quot;75dp&quot;\r\n           android:text=&quot;+&quot;\r\n           android:onClick=&quot;addScore&quot; /&gt;\r\n\r\n&lt;Button\r\n           android:id=&quot;@+id/team1SubButton&quot;\r\n           android:layout_width=&quot;55dp&quot;\r\n           android:layout_height=&quot;75dp&quot;\r\n           android:text=&quot;-&quot;\r\n           android:onClick=&quot;addScore&quot; /&gt;\r\n```\r\n\r\nThe Java code is what I&#39;m having trouble with.\r\n\r\n```\r\npublic void addScore(View v) {\r\n        if (v.getId().toString().contains(&quot;team1&quot;));\r\n\r\n    }\r\n```","title":"How do I check if an ID contains a certain phrase?","body":"<p>I am making a simple app with four scores, each score having an add button and a subtract button. To make code simpler, I named each button's <code>onClick</code> to <code>addScore</code> or <code>subScore</code>. Each button's ID contains something such as <code>android:@+id/team1AddButton</code>. I need to check in the <code>onClick</code> which team is being affected for both <code>onClick</code>s.</p>\n<p>The button code is simple (removed most formatting code):</p>\n<pre><code>&lt;Button\n           android:id=&quot;@+id/team1AddButton&quot;\n           android:layout_width=&quot;55dp&quot;\n           android:layout_height=&quot;75dp&quot;\n           android:text=&quot;+&quot;\n           android:onClick=&quot;addScore&quot; /&gt;\n\n&lt;Button\n           android:id=&quot;@+id/team1SubButton&quot;\n           android:layout_width=&quot;55dp&quot;\n           android:layout_height=&quot;75dp&quot;\n           android:text=&quot;-&quot;\n           android:onClick=&quot;addScore&quot; /&gt;\n</code></pre>\n<p>The Java code is what I'm having trouble with.</p>\n<pre><code>public void addScore(View v) {\n        if (v.getId().toString().contains(&quot;team1&quot;));\n\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","mobile"],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683975786,"creation_date":1683975706,"question_id":76242376,"body_markdown":"I am using selenium 4.9.1 and cucumber 7.12.0.\r\nOn desktop view everything works. On mobile emulation I get the following error when I want to take a screenshot when scenario fails.\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: disconnected: unable to send message to renderer\r\n  (failed to check if window was closed: disconnected: not connected to DevTools)\r\n  (Session info: chrome=113.0.5672.93)\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.16&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [bd62678bc5d0feaabd87666c9c090d8c, screenshot {}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\User\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:56115}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:56115/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: bd62678bc5d0feaabd87666c9c090d8c\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:318)\r\n\tat stepDefs.Hook.afterTest(Hook.java:112)\r\n```\r\n\r\nBefore method \r\n\r\n```\r\n@Before(&quot;@mobile&quot;)\r\npublic void beforeMobile(Scenario scenario) {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//IdeaProjects/chromedriver.exe&quot;);\r\n    driver = new ChromeDriver();\r\n    DevTools devTools = ((ChromeDriver) driver).getDevTools();\r\n    devTools.createSession();\r\n    Map deviceMetrics = new HashMap()\r\n    {{\r\n        put(&quot;width&quot;, 480);\r\n        put(&quot;height&quot;, 640);\r\n        put(&quot;mobile&quot;, true);\r\n        put(&quot;deviceScaleFactor&quot;, 50);\r\n    }};\r\n    ((ChromeDriver) driver).executeCdpCommand(&quot;Emulation.setDeviceMetricsOverride&quot;, deviceMetrics);\r\n\r\n}\r\n```\r\n\r\nAfter method \r\n\r\n```\r\n@After\r\npublic void afterTest(Scenario scenario) throws IOException {\r\n    if (scenario.isFailed()) {\r\n\r\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.attach(screenshot, &quot;image/png&quot;, scenario.getName());\r\n}\r\n```\r\n\r\nDo you know how to solve this ? Thank you","title":"Java selenium - mobile eumlation screenshot - error &quot;not connected to DevTools&quot;","body":"<p>I am using selenium 4.9.1 and cucumber 7.12.0.\nOn desktop view everything works. On mobile emulation I get the following error when I want to take a screenshot when scenario fails.</p>\n<pre><code>org.openqa.selenium.WebDriverException: disconnected: unable to send message to renderer\n  (failed to check if window was closed: disconnected: not connected to DevTools)\n  (Session info: chrome=113.0.5672.93)\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.16'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [bd62678bc5d0feaabd87666c9c090d8c, screenshot {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\User\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:56115}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:56115/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: bd62678bc5d0feaabd87666c9c090d8c\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\n    at org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:318)\n    at stepDefs.Hook.afterTest(Hook.java:112)\n</code></pre>\n<p>Before method</p>\n<pre><code>@Before(&quot;@mobile&quot;)\npublic void beforeMobile(Scenario scenario) {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//IdeaProjects/chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n    DevTools devTools = ((ChromeDriver) driver).getDevTools();\n    devTools.createSession();\n    Map deviceMetrics = new HashMap()\n    {{\n        put(&quot;width&quot;, 480);\n        put(&quot;height&quot;, 640);\n        put(&quot;mobile&quot;, true);\n        put(&quot;deviceScaleFactor&quot;, 50);\n    }};\n    ((ChromeDriver) driver).executeCdpCommand(&quot;Emulation.setDeviceMetricsOverride&quot;, deviceMetrics);\n\n}\n</code></pre>\n<p>After method</p>\n<pre><code>@After\npublic void afterTest(Scenario scenario) throws IOException {\n    if (scenario.isFailed()) {\n\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n        scenario.attach(screenshot, &quot;image/png&quot;, scenario.getName());\n}\n</code></pre>\n<p>Do you know how to solve this ? Thank you</p>\n"},{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1287030193,"post_id":3927091,"comment_id":4193359,"body_markdown":"Show us the mapping, the code, and the original error.","body":"Show us the mapping, the code, and the original error."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1596539656,"post_id":3927091,"comment_id":111837261,"body_markdown":"Does this answer your question? [hibernate and mappedBy: Is it possible to automatically set foreign key without setting bidirectional relationship among objects?](https://stackoverflow.com/questions/48817280/hibernate-and-mappedby-is-it-possible-to-automatically-set-foreign-key-without)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48817280/hibernate-and-mappedby-is-it-possible-to-automatically-set-foreign-key-without\">hibernate and mappedBy: Is it possible to automatically set foreign key without setting bidirectional relationship among objects?</a>"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1286997019,"creation_date":1286997019,"answer_id":3927137,"question_id":3927091,"body_markdown":"in your setChilds, you might want to try looping thru the list and doing something like\r\n\r\n    child.parent = this;\r\n\r\nyou also should set up the cascade on the parent to the appropriate values.","title":"Save child objects automatically using JPA Hibernate","body":"<p>in your setChilds, you might want to try looping thru the list and doing something like</p>\n\n<pre><code>child.parent = this;\n</code></pre>\n\n<p>you also should set up the cascade on the parent to the appropriate values.</p>\n"},{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1366187963,"creation_date":1287030085,"answer_id":3930071,"question_id":3927091,"body_markdown":"I believe you need to set the cascade option in your mapping via xml/annotation. Refer to [Hibernate reference example here][1].\r\n\r\nIn case you are using annotation, you need to do something like this,\r\n\r\n    @OneToMany(cascade = CascadeType.PERSIST) // Other options are CascadeType.ALL, CascadeType.UPDATE etc..\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/reference/en/html/example-parentchild.html","title":"Save child objects automatically using JPA Hibernate","body":"<p>I believe you need to set the cascade option in your mapping via xml/annotation. Refer to <a href=\"http://docs.jboss.org/hibernate/core/3.5/reference/en/html/example-parentchild.html\" rel=\"noreferrer\">Hibernate reference example here</a>.</p>\n\n<p>In case you are using annotation, you need to do something like this,</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.PERSIST) // Other options are CascadeType.ALL, CascadeType.UPDATE etc..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1589564391,"creation_date":1287092889,"answer_id":3937867,"question_id":3927091,"body_markdown":"&gt; I tried the above but I&#39;m getting a database error complaining that the foreign key field in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?\r\n\r\nWell, there are two things here. \r\n\r\nFirst, you need to cascade the save operation (but my understanding is that you are doing this or you wouldn&#39;t get a FK constraint violation during inserts in the &quot;child&quot; table) \r\n\r\nSecond, you probably have a bidirectional association and I think that you&#39;re not setting &quot;both sides of the link&quot; correctly. You are supposed to do something like this:\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n    c1.setParent(parent);\r\n\r\n    List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n    children.add(c1);\r\n    parent.setChildren(children);\r\n\r\n    session.save(parent);\r\n\r\nA common pattern is to use link management methods:\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id private Long id;\r\n    \r\n        @OneToMany(mappedBy=&quot;parent&quot;)\r\n        private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n        \r\n        ...\r\n\r\n        protected void setChildren(List&lt;Child&gt; children) {\r\n            this.children = children;\r\n        }\r\n    \r\n        public void addToChildren(Child child) {\r\n            child.setParent(this);\r\n            this.children.add(child);\r\n        }\r\n    }\r\n\r\nAnd the code becomes:\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n\r\n    parent.addToChildren(c1);\r\n\r\n    session.save(parent);\r\n\r\n\r\n###### References \r\n\r\n- Hibernate Core Reference Guide\r\n - [1.2.6. Working bi-directional links][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/tutorial.html#tutorial-associations-usingbidir","title":"Save child objects automatically using JPA Hibernate","body":"<blockquote>\n  <p>I tried the above but I'm getting a database error complaining that the foreign key field in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?</p>\n</blockquote>\n\n<p>Well, there are two things here. </p>\n\n<p>First, you need to cascade the save operation (but my understanding is that you are doing this or you wouldn't get a FK constraint violation during inserts in the \"child\" table) </p>\n\n<p>Second, you probably have a bidirectional association and I think that you're not setting \"both sides of the link\" correctly. You are supposed to do something like this:</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\nc1.setParent(parent);\n\nList&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\nchildren.add(c1);\nparent.setChildren(children);\n\nsession.save(parent);\n</code></pre>\n\n<p>A common pattern is to use link management methods:</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @Id private Long id;\n\n    @OneToMany(mappedBy=\"parent\")\n    private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\n\n    ...\n\n    protected void setChildren(List&lt;Child&gt; children) {\n        this.children = children;\n    }\n\n    public void addToChildren(Child child) {\n        child.setParent(this);\n        this.children.add(child);\n    }\n}\n</code></pre>\n\n<p>And the code becomes:</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\n\nparent.addToChildren(c1);\n\nsession.save(parent);\n</code></pre>\n\nReferences\n\n<ul>\n<li>Hibernate Core Reference Guide\n\n<ul>\n<li><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/tutorial.html#tutorial-associations-usingbidir\" rel=\"noreferrer\">1.2.6. Working bi-directional links</a></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3385608,"reputation":5527,"user_id":2841630,"accept_rate":24,"display_name":"Sunil Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473412385,"creation_date":1473412385,"answer_id":39407955,"question_id":3927091,"body_markdown":"**Here are the ways to assign parent object in child object of Bi-directional relations ?**\r\n\r\nSuppose you have a relation say One-To-Many,then for each parent object,a set of child object exists.\r\nIn bi-directional relations,each child object will have reference to its parent.\r\n\r\n    eg : Each Department will have list of Employees and each Employee is part of some department.This is called Bi directional relations.\r\n\r\nTo achieve this, **one way** is to assign parent in child object while persisting parent object\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n    c1.setParent(parent);\r\n    \r\n    List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n    children.add(c1);\r\n    parent.setChilds(children);\r\n    \r\n    session.save(parent);\r\n\r\n\r\n**Other way** is, you can do using hibernate Intercepter,this way helps you not to write above code for all models.\r\n\r\nHibernate interceptor provide apis to do your own work before perform any DB operation.Likewise onSave of object, we can assign parent object in child objects using reflection.\r\n\r\n    public class CustomEntityInterceptor extends EmptyInterceptor {\r\n    \r\n        @Override\r\n        public boolean onSave(\r\n                final Object entity, final Serializable id, final Object[] state, final String[] propertyNames,\r\n                final Type[] types) {\r\n            if (types != null) {\r\n                for (int i = 0; i &lt; types.length; i++) {\r\n                    if (types[i].isCollectionType()) {\r\n                        String propertyName = propertyNames[i];\r\n                        propertyName = propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1);\r\n                        try {\r\n                            Method method = entity.getClass().getMethod(&quot;get&quot; + propertyName);\r\n                            List&lt;Object&gt; objectList = (List&lt;Object&gt;) method.invoke(entity);\r\n    \r\n                            if (objectList != null) {\r\n                                for (Object object : objectList) {\r\n                                    String entityName = entity.getClass().getSimpleName();\r\n                                    Method eachMethod = object.getClass().getMethod(&quot;set&quot; + entityName, entity.getClass());\r\n                                    eachMethod.invoke(object, entity);\r\n                                }\r\n                            }\r\n    \r\n                        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nAnd you can register Intercepter to configuration as\r\n\r\n    new Configuration().setInterceptor( new CustomEntityInterceptor() );","title":"Save child objects automatically using JPA Hibernate","body":"<p><strong>Here are the ways to assign parent object in child object of Bi-directional relations ?</strong></p>\n\n<p>Suppose you have a relation say One-To-Many,then for each parent object,a set of child object exists.\nIn bi-directional relations,each child object will have reference to its parent.</p>\n\n<pre><code>eg : Each Department will have list of Employees and each Employee is part of some department.This is called Bi directional relations.\n</code></pre>\n\n<p>To achieve this, <strong>one way</strong> is to assign parent in child object while persisting parent object</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\nc1.setParent(parent);\n\nList&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\nchildren.add(c1);\nparent.setChilds(children);\n\nsession.save(parent);\n</code></pre>\n\n<p><strong>Other way</strong> is, you can do using hibernate Intercepter,this way helps you not to write above code for all models.</p>\n\n<p>Hibernate interceptor provide apis to do your own work before perform any DB operation.Likewise onSave of object, we can assign parent object in child objects using reflection.</p>\n\n<pre><code>public class CustomEntityInterceptor extends EmptyInterceptor {\n\n    @Override\n    public boolean onSave(\n            final Object entity, final Serializable id, final Object[] state, final String[] propertyNames,\n            final Type[] types) {\n        if (types != null) {\n            for (int i = 0; i &lt; types.length; i++) {\n                if (types[i].isCollectionType()) {\n                    String propertyName = propertyNames[i];\n                    propertyName = propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1);\n                    try {\n                        Method method = entity.getClass().getMethod(\"get\" + propertyName);\n                        List&lt;Object&gt; objectList = (List&lt;Object&gt;) method.invoke(entity);\n\n                        if (objectList != null) {\n                            for (Object object : objectList) {\n                                String entityName = entity.getClass().getSimpleName();\n                                Method eachMethod = object.getClass().getMethod(\"set\" + entityName, entity.getClass());\n                                eachMethod.invoke(object, entity);\n                            }\n                        }\n\n                    } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>And you can register Intercepter to configuration as</p>\n\n<pre><code>new Configuration().setInterceptor( new CustomEntityInterceptor() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9997008,"reputation":19,"user_id":7394282,"display_name":"sandhya nayak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488522931,"creation_date":1488522605,"answer_id":42572125,"question_id":3927091,"body_markdown":"Use `org.hibernate.annotations` for doing `Cascade` , if the `hibernate` and `JPA` are used together , its somehow complaining on saving the child objects.","title":"Save child objects automatically using JPA Hibernate","body":"<p>Use <code>org.hibernate.annotations</code> for doing <code>Cascade</code> , if the <code>hibernate</code> and <code>JPA</code> are used together , its somehow complaining on saving the child objects.</p>\n"},{"tags":[],"owner":{"account_id":11210394,"reputation":189,"user_id":8224617,"accept_rate":100,"display_name":"shriram"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1580709940,"creation_date":1502208964,"answer_id":45573323,"question_id":3927091,"body_markdown":"Following program describe how bidirectional relation work in hibernate.\r\n\r\nWhen parent will save its list of child object will be auto save.\r\n         \r\nOn Parent side:\r\n```\r\n    @Entity\r\n    @Table(name=&quot;clients&quot;)\r\n    public class Clients implements Serializable  {\r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)     \r\n         @OneToMany(mappedBy=&quot;clients&quot;, cascade=CascadeType.ALL)\r\n          List&lt;SmsNumbers&gt; smsNumbers;\r\n    }\r\n```\r\n\r\nAnd put the following annotation on the child side:\r\n\r\n  ```   \r\n    @Entity\r\n    @Table(name=&quot;smsnumbers&quot;)\r\n    public class SmsNumbers implements Serializable {\r\n\t   \r\n       @Id\r\n\t   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   int id;\r\n\t   String number;\r\n\t   String status;\r\n\t   Date reg_date;\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;client_id&quot;)\r\n       private Clients clients;\r\n\r\n      // and getter setter.\r\n\r\n   }\r\n```\r\n\r\nMain class:\r\n```\r\n public static void main(String arr[])\r\n {\r\n    Session session = HibernateUtil.openSession();\r\n\t  //getting transaction object from session object\r\n\tsession.beginTransaction();\r\n\r\n    Clients cl=new Clients(&quot;Murali&quot;, &quot;1010101010&quot;);\r\n\tSmsNumbers sms1=new SmsNumbers(&quot;99999&quot;, &quot;Active&quot;, cl);\r\n\tSmsNumbers sms2=new SmsNumbers(&quot;88888&quot;, &quot;InActive&quot;, cl);\r\n\tSmsNumbers sms3=new SmsNumbers(&quot;77777&quot;, &quot;Active&quot;, cl);\r\n\tList&lt;SmsNumbers&gt; lstSmsNumbers=new ArrayList&lt;SmsNumbers&gt;();\r\n\tlstSmsNumbers.add(sms1);\r\n\tlstSmsNumbers.add(sms2);\r\n\tlstSmsNumbers.add(sms3);\r\n\tcl.setSmsNumbers(lstSmsNumbers);\r\n\tsession.saveOrUpdate(cl);\r\n    session.getTransaction().commit(); \r\n    session.close();\t\r\n\r\n }\r\n```","title":"Save child objects automatically using JPA Hibernate","body":"<p>Following program describe how bidirectional relation work in hibernate.</p>\n\n<p>When parent will save its list of child object will be auto save.</p>\n\n<p>On Parent side:</p>\n\n<pre><code>    @Entity\n    @Table(name=\"clients\")\n    public class Clients implements Serializable  {\n\n         @Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)     \n         @OneToMany(mappedBy=\"clients\", cascade=CascadeType.ALL)\n          List&lt;SmsNumbers&gt; smsNumbers;\n    }\n</code></pre>\n\n<p>And put the following annotation on the child side:</p>\n\n<pre><code>  @Entity\n  @Table(name=\"smsnumbers\")\n  public class SmsNumbers implements Serializable {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\n     int id;\n     String number;\n     String status;\n     Date reg_date;\n     @ManyToOne\n     @JoinColumn(name = \"client_id\")\n     private Clients clients;\n\n    // and getter setter.\n\n }\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code> public static void main(String arr[])\n {\n    Session session = HibernateUtil.openSession();\n      //getting transaction object from session object\n    session.beginTransaction();\n\n    Clients cl=new Clients(\"Murali\", \"1010101010\");\n    SmsNumbers sms1=new SmsNumbers(\"99999\", \"Active\", cl);\n    SmsNumbers sms2=new SmsNumbers(\"88888\", \"InActive\", cl);\n    SmsNumbers sms3=new SmsNumbers(\"77777\", \"Active\", cl);\n    List&lt;SmsNumbers&gt; lstSmsNumbers=new ArrayList&lt;SmsNumbers&gt;();\n    lstSmsNumbers.add(sms1);\n    lstSmsNumbers.add(sms2);\n    lstSmsNumbers.add(sms3);\n    cl.setSmsNumbers(lstSmsNumbers);\n    session.saveOrUpdate(cl);\n    session.getTransaction().commit(); \n    session.close();    \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521550647,"creation_date":1521550647,"answer_id":49384841,"question_id":3927091,"body_markdown":"In short set cascade type to all , will do a job;\r\nFor an example in your model.\r\nAdd Code like this .\r\n @OneToMany(mappedBy = &quot;receipt&quot;, cascade=CascadeType.ALL)\r\n private List&lt;Sale&gt; saleSet;\r\n","title":"Save child objects automatically using JPA Hibernate","body":"<p>In short set cascade type to all , will do a job;\nFor an example in your model.\nAdd Code like this .\n @OneToMany(mappedBy = \"receipt\", cascade=CascadeType.ALL)\n private List saleSet;</p>\n"},{"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626378059,"creation_date":1626378059,"answer_id":68399953,"question_id":3927091,"body_markdown":"If you do not have bidirectional relationship and want to only save/update the the single column in the child table, then you can create JPA repository with child Entity and call save/saveAll or update method.\r\n\r\n**Note:**  if you come across FK violations then it means your postman request having primary and foreign key ids is not matching with generated ids in child table , **check the ids in your request and child table which your are going to update(they should match/if they don&#39;t means you get FK violations)** whatever ids generated while saving the parent and child in before transactions, those ids should match in your second call when you try to update the single column in your child table.\r\n\r\nParent:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Customer&quot;)\r\n    public class Customer implements Serializable  {\r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)  \r\n         private UUID customerId ;\r\n         \r\n         @OneToMany(cascade = CascadeType.ALL) \r\n         @JoinColumn(name =&quot;child_columnName&quot;, referencedColumnName= \r\n                    &quot;parent_columnName&quot;)\r\n         List&lt;Accounts&gt; accountList;\r\n    }\r\n\r\n\r\nChild :\r\n\r\n   \r\n\r\n     @Entity\r\n        @Table(name=&quot;Account&quot;)\r\n        public class Account implements Serializable  {\r\n    \r\n             @Id\r\n             @GeneratedValue(strategy = GenerationType.IDENTITY)  \r\n             private UUID accountid;\r\n             \r\n            \r\n        }\r\n\r\n","title":"Save child objects automatically using JPA Hibernate","body":"<p>If you do not have bidirectional relationship and want to only save/update the the single column in the child table, then you can create JPA repository with child Entity and call save/saveAll or update method.</p>\n<p><strong>Note:</strong>  if you come across FK violations then it means your postman request having primary and foreign key ids is not matching with generated ids in child table , <strong>check the ids in your request and child table which your are going to update(they should match/if they don't means you get FK violations)</strong> whatever ids generated while saving the parent and child in before transactions, those ids should match in your second call when you try to update the single column in your child table.</p>\n<p>Parent:</p>\n<pre><code>@Entity\n@Table(name=&quot;Customer&quot;)\npublic class Customer implements Serializable  {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)  \n     private UUID customerId ;\n     \n     @OneToMany(cascade = CascadeType.ALL) \n     @JoinColumn(name =&quot;child_columnName&quot;, referencedColumnName= \n                &quot;parent_columnName&quot;)\n     List&lt;Accounts&gt; accountList;\n}\n</code></pre>\n<p>Child :</p>\n<pre><code> @Entity\n    @Table(name=&quot;Account&quot;)\n    public class Account implements Serializable  {\n\n         @Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)  \n         private UUID accountid;\n         \n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630680043,"creation_date":1630680043,"answer_id":69046726,"question_id":3927091,"body_markdown":"In JPA ```@*To*``` relationships  both parent and child entities must be cross assigned before (parent) saving.","title":"Save child objects automatically using JPA Hibernate","body":"<p>In JPA <code>@*To*</code> relationships  both parent and child entities must be cross assigned before (parent) saving.</p>\n"},{"tags":[],"owner":{"account_id":21959529,"reputation":73,"user_id":16237620,"display_name":"Rafał Borkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683974002,"creation_date":1683974002,"answer_id":76242258,"question_id":3927091,"body_markdown":"I saw very useful tip for assigning parent to any child in bidirectional connections. If you don&#39;t want to use `child.setParent(parent)` every time, you can create method in your parent entity with annotation `@PrePersist` which is one of JPA Entity Lifecycle Events and there you can define `this.children.forEach(child -&gt; child.setParent(this));` which will create this required connection between parent and children before persisting it in db. ","title":"Save child objects automatically using JPA Hibernate","body":"<p>I saw very useful tip for assigning parent to any child in bidirectional connections. If you don't want to use <code>child.setParent(parent)</code> every time, you can create method in your parent entity with annotation <code>@PrePersist</code> which is one of JPA Entity Lifecycle Events and there you can define <code>this.children.forEach(child -&gt; child.setParent(this));</code> which will create this required connection between parent and children before persisting it in db.</p>\n"}],"owner":{"account_id":213165,"reputation":4611,"user_id":466410,"accept_rate":78,"display_name":"Marquinio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175749,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":3937867,"answer_count":10,"score":89,"last_activity_date":1683974002,"creation_date":1286996680,"question_id":3927091,"body_markdown":"I have a one-to-many relation between Parent and Child table.  In the parent object I have a \r\n\r\n    List&lt;Child&gt; setChildren(List&lt;Child&gt; childs)\r\n\r\nI also have a foreign key in the Child table. This foreign key is an ID that references a Parent row in database.  So in my database configuration this foreign key can not be NULL.\r\nAlso this foreign key is the primary key in the Parent table.\r\n\r\nSo my question is how I can automatically save the children objects by doing something like this:\r\n\r\n    session.save(parent);\r\n\r\nI tried the above but I&#39;m getting a database error complaining that the foreign key field  in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?","title":"Save child objects automatically using JPA Hibernate","body":"<p>I have a one-to-many relation between Parent and Child table.  In the parent object I have a</p>\n<pre><code>List&lt;Child&gt; setChildren(List&lt;Child&gt; childs)\n</code></pre>\n<p>I also have a foreign key in the Child table. This foreign key is an ID that references a Parent row in database.  So in my database configuration this foreign key can not be NULL.\nAlso this foreign key is the primary key in the Parent table.</p>\n<p>So my question is how I can automatically save the children objects by doing something like this:</p>\n<pre><code>session.save(parent);\n</code></pre>\n<p>I tried the above but I'm getting a database error complaining that the foreign key field  in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?</p>\n"},{"tags":["java","gradle","apache-kafka","dependencies"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637587104,"post_id":70066296,"comment_id":123858225,"body_markdown":"Try a different version?","body":"Try a different version?"},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1637587390,"post_id":70066296,"comment_id":123858330,"body_markdown":"@OneCricketeer different version of what? gradle? dependencies?","body":"@OneCricketeer different version of what? gradle? dependencies?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637588343,"post_id":70066296,"comment_id":123858732,"body_markdown":"The Avro serializer since that&#39;s what it&#39;s saying cannot be found. However, you should verify this url in the error can actually be resolved by your machine. https://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom","body":"The Avro serializer since that&#39;s what it&#39;s saying cannot be found. However, you should verify this url in the error can actually be resolved by your machine. <a href=\"https://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom\" rel=\"nofollow noreferrer\">packages.confluent.io/maven/io/confluent/kafka-avro-serializ&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637598563,"creation_date":1637598563,"answer_id":70069148,"question_id":70066296,"body_markdown":"The firewall in the cloud was blocking the requests. For some reason they were classified not as `http`, but as `confluent` requests, which the firewall did not knew about and therefore were blocking. The aimed at a &quot;confluent&quot; app within the k8s. I don&#39;t know where this app comes from, but ...\r\nEnabling those requests solved the issue.","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<p>The firewall in the cloud was blocking the requests. For some reason they were classified not as <code>http</code>, but as <code>confluent</code> requests, which the firewall did not knew about and therefore were blocking. The aimed at a &quot;confluent&quot; app within the k8s. I don't know where this app comes from, but ...\nEnabling those requests solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":5640275,"reputation":379,"user_id":4464360,"accept_rate":75,"display_name":"Abhijeet Kale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683973393,"creation_date":1683973393,"answer_id":76242232,"question_id":70066296,"body_markdown":"    Include below repository in your pom.xml file\r\n    \r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;confluent&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://packages.confluent.io/maven/&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<pre><code>Include below repository in your pom.xml file\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;http://packages.confluent.io/maven/&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70069148,"answer_count":2,"score":0,"last_activity_date":1683973393,"creation_date":1637586625,"question_id":70066296,"body_markdown":"Trying to deploy our service in the cloud I am facing the issue that two transitive dependencies could not been downloaded with the error:\r\n\r\n```\r\nWelcome to Gradle 6.7.1!\r\nHere are the highlights of this release:\r\n - File system watching is ready for production use\r\n - Declare the version of Java your build requires\r\n - Java 15 support\r\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Task :compileJava FAILED\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\r\n     Required by:\r\n         project :\r\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\r\n      &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\r\n         &gt; Could not get resource &#39;http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom&#39;.\r\n            &gt; Could not GET &#39;http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom&#39;.\r\n               &gt; Connection reset\r\n   &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\r\n     Required by:\r\n         project :\r\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\r\n      &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\r\n         &gt; Could not get resource &#39;http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom&#39;.\r\n            &gt; Could not GET &#39;http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom&#39;.\r\n               &gt; Connection reset\r\n```\r\n\r\nMost resolutions that I could find in the web and here on stackoverflow are centered around adding a new confluent.io gradle repository:\r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;http://packages.confluent.io/maven/&quot;\r\n    }\r\n}\r\n```\r\nI tried both http and https. Neither changed anything in the cloud.\r\n\r\nI tried to add the transitive dependencies direct to the project gradle. This approach was not succesful too:\r\n\r\n```\r\n\r\n    implementation group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;5.3.2&#39;\r\n    implementation group: &#39;io.confluent&#39;, name: &#39;kafka-schema-registry-client&#39;, version: &#39;5.3.2&#39;\r\n```\r\n\r\nWhat could be the Issue? How to best approach this Problem?","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<p>Trying to deploy our service in the cloud I am facing the issue that two transitive dependencies could not been downloaded with the error:</p>\n<pre><code>Welcome to Gradle 6.7.1!\nHere are the highlights of this release:\n - File system watching is ready for production use\n - Declare the version of Java your build requires\n - Java 15 support\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :compileJava FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\n     Required by:\n         project :\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\n      &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\n         &gt; Could not get resource 'http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom'.\n            &gt; Could not GET 'http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom'.\n               &gt; Connection reset\n   &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\n     Required by:\n         project :\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\n      &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\n         &gt; Could not get resource 'http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom'.\n            &gt; Could not GET 'http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom'.\n               &gt; Connection reset\n</code></pre>\n<p>Most resolutions that I could find in the web and here on stackoverflow are centered around adding a new confluent.io gradle repository:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;http://packages.confluent.io/maven/&quot;\n    }\n}\n</code></pre>\n<p>I tried both http and https. Neither changed anything in the cloud.</p>\n<p>I tried to add the transitive dependencies direct to the project gradle. This approach was not succesful too:</p>\n<pre><code>\n    implementation group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.3.2'\n    implementation group: 'io.confluent', name: 'kafka-schema-registry-client', version: '5.3.2'\n</code></pre>\n<p>What could be the Issue? How to best approach this Problem?</p>\n"},{"tags":["java","performance","heap","cpu-cache"],"comments":[{"owner":{"account_id":8564,"reputation":235714,"user_id":15498,"accept_rate":76,"display_name":"Damien_The_Unbeliever"},"score":1,"creation_date":1683786242,"post_id":76224578,"comment_id":134420443,"body_markdown":"So this is java? Or some other language? Please add a language tag. Also, if there&#39;s not a single obvious way in which benchmarking is done with this language/platform, please add details of how the benchmarking has been done also.","body":"So this is java? Or some other language? Please add a language tag. Also, if there&#39;s not a single obvious way in which benchmarking is done with this language/platform, please add details of how the benchmarking has been done also."},{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":0,"creation_date":1683787251,"post_id":76224578,"comment_id":134420635,"body_markdown":"@Damien_The_Unbeliever Yes, it&#39;s Java. I added the tag. The benchmark was done running the main method which is at the top of the source code.","body":"@Damien_The_Unbeliever Yes, it&#39;s Java. I added the tag. The benchmark was done running the main method which is at the top of the source code."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":1,"creation_date":1683788924,"post_id":76224578,"comment_id":134420922,"body_markdown":"Your benchmark is flawed. Rewrite it using JMH https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774","body":"Your benchmark is flawed. Rewrite it using JMH <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683792750,"post_id":76224578,"comment_id":134421673,"body_markdown":"You benchmark the worst case scenario for the `indexOfSlow()` method: the test data in the heap is totally ordered and therefore `indexOfSlow()` has to search through the same number of elements as `indexOf()`, but it does so in a much more complicated way. Initialize your test data with 50_000 random values.","body":"You benchmark the worst case scenario for the <code>indexOfSlow()</code> method: the test data in the heap is totally ordered and therefore <code>indexOfSlow()</code> has to search through the same number of elements as <code>indexOf()</code>, but it does so in a much more complicated way. Initialize your test data with 50_000 random values."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683796412,"post_id":76224578,"comment_id":134422506,"body_markdown":"@EvgeniyBerezovsky, max/min heap is a data structure which guarantees O(1) TC for `peek` and O(log(N)) TC for add/remove, `indexOf` method does not make any sense.","body":"@EvgeniyBerezovsky, max/min heap is a data structure which guarantees O(1) TC for <code>peek</code> and O(log(N)) TC for add/remove, <code>indexOf</code> method does not make any sense."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1683818514,"post_id":76224578,"comment_id":134427910,"body_markdown":"In addition to what Thomas Kl&#228;ger said, read [When to use LinkedList over ArrayList in Java?](https://stackoverflow.com/q/322715/2711488). You’ve chosen the worst way to store a sequence of `int` values. An `ArrayDeque` will perform much better even though it will still have the auto-boxing overhead.","body":"In addition to what Thomas Kl&#228;ger said, read <a href=\"https://stackoverflow.com/q/322715/2711488\">When to use LinkedList over ArrayList in Java?</a>. You’ve chosen the worst way to store a sequence of <code>int</code> values. An <code>ArrayDeque</code> will perform much better even though it will still have the auto-boxing overhead."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1683792581,"creation_date":1683792581,"answer_id":76225415,"question_id":76224578,"body_markdown":"First of all, the results obtained with \r\n```java\r\nfinal long nanoBefore = System.nanoTime();\r\n//...\r\nfinal long nanoAfter = System.nanoTime();\r\n```\r\nare not reliable at all. To get reliable results you need to use JMH.\r\n\r\nSecond, in `indexOfSlow()` you use `LinkedList` which is highly ineffective.\r\n\r\nThird, in `indexOf()` you don&#39;t allocate any memory, iterating over the same list again and again. In `indexOfSlow()` you allocate a new `LinkedList` for each method invocation. This obviously costs us time and GC.\r\n\r\nFourth, in spite of the fact that in theory linear search has complexity O(n) in practice in your example you are searching over `ArrayList` which is array-based and extremely fast when you are accessing elements by index (even if you need to iterate over the whole list). In the `indexOfSlow()` on the contrary you rely on continuous `poll()`/`add()` operations. Imagine you are looking for `49733`, then for the `1`, `2`, `3` etc. values you execute both `poll()` and `add()`operation. As a result before returning the value you are looking for your `childrenToVisit` list is modified **99734** (!!!) times. So this algorithm is extremely ineffectively implemented and this is why you have such a dramatic difference in numbers.","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>First of all, the results obtained with</p>\n<pre class=\"lang-java prettyprint-override\"><code>final long nanoBefore = System.nanoTime();\n//...\nfinal long nanoAfter = System.nanoTime();\n</code></pre>\n<p>are not reliable at all. To get reliable results you need to use JMH.</p>\n<p>Second, in <code>indexOfSlow()</code> you use <code>LinkedList</code> which is highly ineffective.</p>\n<p>Third, in <code>indexOf()</code> you don't allocate any memory, iterating over the same list again and again. In <code>indexOfSlow()</code> you allocate a new <code>LinkedList</code> for each method invocation. This obviously costs us time and GC.</p>\n<p>Fourth, in spite of the fact that in theory linear search has complexity O(n) in practice in your example you are searching over <code>ArrayList</code> which is array-based and extremely fast when you are accessing elements by index (even if you need to iterate over the whole list). In the <code>indexOfSlow()</code> on the contrary you rely on continuous <code>poll()</code>/<code>add()</code> operations. Imagine you are looking for <code>49733</code>, then for the <code>1</code>, <code>2</code>, <code>3</code> etc. values you execute both <code>poll()</code> and <code>add()</code>operation. As a result before returning the value you are looking for your <code>childrenToVisit</code> list is modified <strong>99734</strong> (!!!) times. So this algorithm is extremely ineffectively implemented and this is why you have such a dramatic difference in numbers.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683865365,"creation_date":1683865365,"answer_id":76233106,"question_id":76224578,"body_markdown":"You are writing ~ more than reading, moreover, you are doing that in a very inefficient manner, it is possible to get some improvements if replace `LinkedList` with `int[]`:\r\n\r\n```java\r\nfinal int size = list.size();\r\nif (size &lt;= 0) {\r\n    return -1;\r\n}\r\n\r\nint[] queue = new int[size];\r\nint last = 0;\r\nfor (int index = 0; index &lt;= last; index++) {\r\n    int cmp = list.get(queue[index]).compareTo(value);\r\n    if (cmp == 0) {\r\n        return index;\r\n    }\r\n    if (cmp &gt; 0) {\r\n        continue;\r\n    }\r\n    int right = (index + 1) * 2;\r\n    int left = right - 1;\r\n    if (left &lt; size) {\r\n        queue[++last] = left;\r\n        if (right &lt; size) {\r\n            queue[++last] = right;\r\n        }\r\n    }\r\n}\r\nreturn -1;\r\n```\r\n\r\nsince in the worst case `LinkedList` will contain `N/2` elements, such replacement is reasonable, however, that still performs worse than DFS approach:\r\n\r\n```java\r\nint indexOf(T value, int index, int size) {\r\n    if (index &gt;= size) {\r\n        return -1;\r\n    }\r\n\r\n    int cmp = list.get(index).compareTo(value);\r\n\r\n    if (cmp == 0) {\r\n        return index;\r\n    }\r\n\r\n    int res = -1;\r\n\r\n    if (cmp &gt; 0) {\r\n        return res;\r\n    }\r\n\r\n    int rIdx = (index + 1) * 2;\r\n    int lIdx = rIdx - 1;\r\n\r\n    if ((res = indexOf(value, rIdx, size)) &gt;= 0) {\r\n        return res;\r\n    }\r\n\r\n    return indexOf(value, lIdx, size);\r\n}\r\n```\r\n\r\nthe idea of optimizing out some paths via storing information about them somewhere is not so good for this particular case - you may store indexes in `HashMap` and achieve `O(1)` TC for search operation utilising comparable amount of memory. ","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>You are writing ~ more than reading, moreover, you are doing that in a very inefficient manner, it is possible to get some improvements if replace <code>LinkedList</code> with <code>int[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int size = list.size();\nif (size &lt;= 0) {\n    return -1;\n}\n\nint[] queue = new int[size];\nint last = 0;\nfor (int index = 0; index &lt;= last; index++) {\n    int cmp = list.get(queue[index]).compareTo(value);\n    if (cmp == 0) {\n        return index;\n    }\n    if (cmp &gt; 0) {\n        continue;\n    }\n    int right = (index + 1) * 2;\n    int left = right - 1;\n    if (left &lt; size) {\n        queue[++last] = left;\n        if (right &lt; size) {\n            queue[++last] = right;\n        }\n    }\n}\nreturn -1;\n</code></pre>\n<p>since in the worst case <code>LinkedList</code> will contain <code>N/2</code> elements, such replacement is reasonable, however, that still performs worse than DFS approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int indexOf(T value, int index, int size) {\n    if (index &gt;= size) {\n        return -1;\n    }\n\n    int cmp = list.get(index).compareTo(value);\n\n    if (cmp == 0) {\n        return index;\n    }\n\n    int res = -1;\n\n    if (cmp &gt; 0) {\n        return res;\n    }\n\n    int rIdx = (index + 1) * 2;\n    int lIdx = rIdx - 1;\n\n    if ((res = indexOf(value, rIdx, size)) &gt;= 0) {\n        return res;\n    }\n\n    return indexOf(value, lIdx, size);\n}\n</code></pre>\n<p>the idea of optimizing out some paths via storing information about them somewhere is not so good for this particular case - you may store indexes in <code>HashMap</code> and achieve <code>O(1)</code> TC for search operation utilising comparable amount of memory.</p>\n"}],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76225415,"answer_count":2,"score":1,"last_activity_date":1683972960,"creation_date":1683785161,"question_id":76224578,"body_markdown":"In the following code, `indexOfSlow` is around 17 times slower than `indexOf` in my test cases, although the former does fewer comparison than the latter.\r\n\r\n**Why is that?**\r\n\r\n(My hunch is that the superior performance of `indexOf` is due to sequential array access which has e.g. caching benefits - but I&#39;d like to know for sure)\r\n\r\nPerformance numbers from my machine:\r\n```\r\n| elementCount | indexOf msec | indexOfSlow msec | slow/fast |\r\n|--------------+--------------+------------------+-----------|\r\n|        10000 |           41 |              852 |        21 |\r\n|        20000 |          232 |             3387 |        15 |\r\n|        30000 |          375 |             6642 |        18 |\r\n|        40000 |          710 |            12699 |        18 |\r\n|        50000 |         1197 |            19182 |        16 |\r\n|--------------+--------------+------------------+-----------|\r\n|      average |              |                  |      17.6 |\r\n```\r\n\r\nN.B. Java&#39;s `PriorityQueue.indexOf()` is similar to my `indexOf`, so it does not try to walk the tree and stop early like my `indexOfSlow` does.\r\n\r\n```java\r\nclass Heap&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n    public static void main(String[] args) {\r\n        int elementCount = 50_000;\r\n\r\n        final List&lt;Integer&gt; elements = new ArrayList&lt;&gt;(elementCount);\r\n        for (int i = 0; i &lt; elementCount; i++)\r\n            elements.add(i);\r\n\r\n        for (int j = 0; j &lt; 3; j++) {\r\n            final var heap = new Heap&lt;Integer&gt;();\r\n            for (int i : elements)\r\n                heap.add(i);\r\n            assert heap.peek() == 0;\r\n            final long nanoBefore = System.nanoTime();\r\n            for (int i = elementCount; i &gt; 0; i--)\r\n                heap.indexOf(i - 1);\r\n//                heap.indexOfSlow(i - 1);\r\n            final long nanoAfter = System.nanoTime();\r\n            if (j &gt; 0) // discard first round as warmup\r\n                System.out.println(&quot;Time taken: &quot; + (nanoAfter - nanoBefore) / 1_000_000 + &quot; msec&quot;);\r\n        }\r\n    }\r\n\r\n    private final ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    public T peek() {\r\n        return list.isEmpty() ? null : list.get(0);\r\n    }\r\n\r\n    private void siftUp(int i, T value) {\r\n        while (i &gt; 0) {\r\n            int parentI = (i - 1) / 2;\r\n            final T parentValue = list.get(parentI);\r\n            if (parentValue.compareTo(value) &lt;= 0)\r\n                return;\r\n            list.set(parentI, value);\r\n            list.set(i, parentValue);\r\n            i = parentI;\r\n        }\r\n    }\r\n\r\n    public void add(T value) {\r\n        list.add(value);\r\n        siftUp(list.size() - 1, value);\r\n    }\r\n\r\n    public int indexOf(T value) {\r\n        final int size = list.size();\r\n        if (size &gt; 0) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (value.compareTo(list.get(i)) == 0)\r\n                    return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public int indexOfSlow(T value) {\r\n        final int size = list.size();\r\n        if (size &gt; 0) {\r\n            Queue&lt;Integer&gt; childrenToVisit = new LinkedList&lt;&gt;();\r\n            childrenToVisit.add(0);\r\n            while (!childrenToVisit.isEmpty()) {\r\n                int i = childrenToVisit.poll();\r\n                final int cmp = list.get(i).compareTo(value);\r\n                if (cmp == 0)\r\n                    return i;\r\n                if (cmp &gt; 0)\r\n                    continue;\r\n                int rightChildIdx = (i + 1) * 2;\r\n                int leftChildIdx = rightChildIdx - 1;\r\n                if (leftChildIdx &lt; size)\r\n                    childrenToVisit.add(leftChildIdx);\r\n                if (rightChildIdx &lt; size)\r\n                    childrenToVisit.add(rightChildIdx);\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>In the following code, <code>indexOfSlow</code> is around 17 times slower than <code>indexOf</code> in my test cases, although the former does fewer comparison than the latter.</p>\n<p><strong>Why is that?</strong></p>\n<p>(My hunch is that the superior performance of <code>indexOf</code> is due to sequential array access which has e.g. caching benefits - but I'd like to know for sure)</p>\n<p>Performance numbers from my machine:</p>\n<pre><code>| elementCount | indexOf msec | indexOfSlow msec | slow/fast |\n|--------------+--------------+------------------+-----------|\n|        10000 |           41 |              852 |        21 |\n|        20000 |          232 |             3387 |        15 |\n|        30000 |          375 |             6642 |        18 |\n|        40000 |          710 |            12699 |        18 |\n|        50000 |         1197 |            19182 |        16 |\n|--------------+--------------+------------------+-----------|\n|      average |              |                  |      17.6 |\n</code></pre>\n<p>N.B. Java's <code>PriorityQueue.indexOf()</code> is similar to my <code>indexOf</code>, so it does not try to walk the tree and stop early like my <code>indexOfSlow</code> does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Heap&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    public static void main(String[] args) {\n        int elementCount = 50_000;\n\n        final List&lt;Integer&gt; elements = new ArrayList&lt;&gt;(elementCount);\n        for (int i = 0; i &lt; elementCount; i++)\n            elements.add(i);\n\n        for (int j = 0; j &lt; 3; j++) {\n            final var heap = new Heap&lt;Integer&gt;();\n            for (int i : elements)\n                heap.add(i);\n            assert heap.peek() == 0;\n            final long nanoBefore = System.nanoTime();\n            for (int i = elementCount; i &gt; 0; i--)\n                heap.indexOf(i - 1);\n//                heap.indexOfSlow(i - 1);\n            final long nanoAfter = System.nanoTime();\n            if (j &gt; 0) // discard first round as warmup\n                System.out.println(&quot;Time taken: &quot; + (nanoAfter - nanoBefore) / 1_000_000 + &quot; msec&quot;);\n        }\n    }\n\n    private final ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\n\n    public T peek() {\n        return list.isEmpty() ? null : list.get(0);\n    }\n\n    private void siftUp(int i, T value) {\n        while (i &gt; 0) {\n            int parentI = (i - 1) / 2;\n            final T parentValue = list.get(parentI);\n            if (parentValue.compareTo(value) &lt;= 0)\n                return;\n            list.set(parentI, value);\n            list.set(i, parentValue);\n            i = parentI;\n        }\n    }\n\n    public void add(T value) {\n        list.add(value);\n        siftUp(list.size() - 1, value);\n    }\n\n    public int indexOf(T value) {\n        final int size = list.size();\n        if (size &gt; 0) {\n            for (int i = 0; i &lt; list.size(); i++) {\n                if (value.compareTo(list.get(i)) == 0)\n                    return i;\n            }\n        }\n        return -1;\n    }\n\n    public int indexOfSlow(T value) {\n        final int size = list.size();\n        if (size &gt; 0) {\n            Queue&lt;Integer&gt; childrenToVisit = new LinkedList&lt;&gt;();\n            childrenToVisit.add(0);\n            while (!childrenToVisit.isEmpty()) {\n                int i = childrenToVisit.poll();\n                final int cmp = list.get(i).compareTo(value);\n                if (cmp == 0)\n                    return i;\n                if (cmp &gt; 0)\n                    continue;\n                int rightChildIdx = (i + 1) * 2;\n                int leftChildIdx = rightChildIdx - 1;\n                if (leftChildIdx &lt; size)\n                    childrenToVisit.add(leftChildIdx);\n                if (rightChildIdx &lt; size)\n                    childrenToVisit.add(rightChildIdx);\n            }\n        }\n        return -1;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","design-patterns","solid-principles"],"answers":[{"tags":[],"owner":{"account_id":7268019,"reputation":755,"user_id":5542049,"display_name":"Tando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972959,"creation_date":1683964144,"answer_id":76241635,"question_id":76234924,"body_markdown":"Here is a sample that follows OCP.\r\n```\r\npublic class SecretKeeper {\r\n    private int secretCode;\r\n    private String secret1, secret2;\r\n    private State state;\r\n\r\n    //...\r\n\r\n  void evKey(int digit) {\r\n        state.setCode(digit);\r\n        state.doStuff();\r\n        boolean isSuccess = checkCode(state.getCode());\r\n        if(isSuccess){\r\n            state = state.getSwitchedState();\r\n        }\r\n    }\r\n\r\n    //...\r\n}\r\n```\r\n```\r\n\r\npublic interface State {\r\n    void setCode(int digit);\r\n    int getCode();\r\n    State getSwitchedState();\r\n    void doStuff();\r\n}\r\n```\r\n```\r\n\r\npublic class LockedState implements State {\r\n    private int code = 0;\r\n\r\n    @Override\r\n    public void setCode(int digit) {\r\n        if (digit == 0) code = 0;\r\n        else code = code * 10 + digit;\r\n    }\r\n\r\n    @Override\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n\r\n    @Override\r\n    public State getSwitchedState() {\r\n        return new SemiLockedState();\r\n    }\r\n\r\n    @Override\r\n    public void doStuff() {\r\n        // implement behavior for LockedState\r\n    }\r\n}\r\n\r\npublic class UnlockedState implements State {\r\n    private int code = 0;\r\n\r\n    @Override\r\n    public void setCode(int digit) {\r\n        code = digit;\r\n    }\r\n\r\n    @Override\r\n    public int getCode() {\r\n        return code;\r\n    }\r\n\r\n    @Override\r\n    public State getSwitchedState() {\r\n        return new LockedState(); // Modify as per requirement\r\n    }\r\n\r\n    @Override\r\n    public void doStuff() {\r\n       if (getCode() == 1) SecretKeeper.printSecret1();\r\n       else if (getCode() == 2) SecretKeeper.printSecret2();\r\n       \r\n    }\r\n}\r\n```\r\n","title":"state design pattern - how to implement it with Open-Close Principle","body":"<p>Here is a sample that follows OCP.</p>\n<pre><code>public class SecretKeeper {\n    private int secretCode;\n    private String secret1, secret2;\n    private State state;\n\n    //...\n\n  void evKey(int digit) {\n        state.setCode(digit);\n        state.doStuff();\n        boolean isSuccess = checkCode(state.getCode());\n        if(isSuccess){\n            state = state.getSwitchedState();\n        }\n    }\n\n    //...\n}\n</code></pre>\n<pre><code>\npublic interface State {\n    void setCode(int digit);\n    int getCode();\n    State getSwitchedState();\n    void doStuff();\n}\n</code></pre>\n<pre><code>\npublic class LockedState implements State {\n    private int code = 0;\n\n    @Override\n    public void setCode(int digit) {\n        if (digit == 0) code = 0;\n        else code = code * 10 + digit;\n    }\n\n    @Override\n    public int getCode() {\n        return code;\n    }\n\n    @Override\n    public State getSwitchedState() {\n        return new SemiLockedState();\n    }\n\n    @Override\n    public void doStuff() {\n        // implement behavior for LockedState\n    }\n}\n\npublic class UnlockedState implements State {\n    private int code = 0;\n\n    @Override\n    public void setCode(int digit) {\n        code = digit;\n    }\n\n    @Override\n    public int getCode() {\n        return code;\n    }\n\n    @Override\n    public State getSwitchedState() {\n        return new LockedState(); // Modify as per requirement\n    }\n\n    @Override\n    public void doStuff() {\n       if (getCode() == 1) SecretKeeper.printSecret1();\n       else if (getCode() == 2) SecretKeeper.printSecret2();\n       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4975852,"reputation":1046,"user_id":4002204,"accept_rate":4,"display_name":"Zag Gol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683972959,"creation_date":1683883651,"question_id":76234924,"body_markdown":"I implemented the state design pattern in Java with two states: Locked and Unlocked.\r\nThe initial state is Lock. if the user enters the code (password), It changes to Unlock, Then if the user enters &#39;0&#39;, it changes to Lock state.\r\n\r\nThe problem with my current code implementation is that if I want to add another state - example: SemiLocked, I will also have to change the evKey function in the Locked, Unlocked classes, so that they allow a transition to the new state of SemiLocked. (example: user entering the right code will not change anymore to Unlock, but to SemiLocked)\r\n\r\nHow to implement it better with fewer required changes if I add more states in the future?\r\n\r\nCurrent code:\r\n\r\n    public class SecretKeeper {\r\n        private int secretCode;\r\n        String secret1, secret2;\r\n        private State state = new Locked(); \r\n\r\n        public SecretKeeper(int secretCode, String secret1, String secret2){\r\n            this.secretCode=secretCode;\r\n            this.secret1=secret1;\r\n            this.secret2=secret2;\r\n        }\r\n\r\n        void printSecret1(){\r\n            System.out.println(secret1);\r\n        }\r\n\r\n        void printSecret2(){\r\n            System.out.println(secret2);\r\n        }\r\n\r\n        public boolean checkCode(int code){\r\n            return code==secretCode;\r\n        }\r\n\r\n        void evKey(int digit){\r\n            state.evKey(this, digit);\r\n        }\r\n        \r\n        public void setState(State state) {\r\n            this.state = state;\r\n        }\r\n    }\r\n\r\n    public interface State {\r\n        void evKey(SecretKeeper sk, int digit);\r\n    }\r\n     \r\n    public class Locked implements State{\r\n        int code = 0;\r\n        @Override\r\n        public void evKey(SecretKeeper sk, int digit) {\r\n            if (digit == 0) code = 0;\r\n            else code = code*10+digit;\r\n            if (sk.checkCode(code)) sk.setState(new Unlocked());\r\n        }\r\n    }\r\n    \r\n    public class Unlocked implements State{\r\n        @Override\r\n        public void evKey(SecretKeeper sk, int digit) {\r\n            if (digit == 0) sk.setState(new Locked());\r\n            else if (digit == 1) sk.printSecret1();\r\n            else if (digit == 2) sk.printSecret2();\r\n        }\r\n    }","title":"state design pattern - how to implement it with Open-Close Principle","body":"<p>I implemented the state design pattern in Java with two states: Locked and Unlocked.\nThe initial state is Lock. if the user enters the code (password), It changes to Unlock, Then if the user enters '0', it changes to Lock state.</p>\n<p>The problem with my current code implementation is that if I want to add another state - example: SemiLocked, I will also have to change the evKey function in the Locked, Unlocked classes, so that they allow a transition to the new state of SemiLocked. (example: user entering the right code will not change anymore to Unlock, but to SemiLocked)</p>\n<p>How to implement it better with fewer required changes if I add more states in the future?</p>\n<p>Current code:</p>\n<pre><code>public class SecretKeeper {\n    private int secretCode;\n    String secret1, secret2;\n    private State state = new Locked(); \n\n    public SecretKeeper(int secretCode, String secret1, String secret2){\n        this.secretCode=secretCode;\n        this.secret1=secret1;\n        this.secret2=secret2;\n    }\n\n    void printSecret1(){\n        System.out.println(secret1);\n    }\n\n    void printSecret2(){\n        System.out.println(secret2);\n    }\n\n    public boolean checkCode(int code){\n        return code==secretCode;\n    }\n\n    void evKey(int digit){\n        state.evKey(this, digit);\n    }\n    \n    public void setState(State state) {\n        this.state = state;\n    }\n}\n\npublic interface State {\n    void evKey(SecretKeeper sk, int digit);\n}\n \npublic class Locked implements State{\n    int code = 0;\n    @Override\n    public void evKey(SecretKeeper sk, int digit) {\n        if (digit == 0) code = 0;\n        else code = code*10+digit;\n        if (sk.checkCode(code)) sk.setState(new Unlocked());\n    }\n}\n\npublic class Unlocked implements State{\n    @Override\n    public void evKey(SecretKeeper sk, int digit) {\n        if (digit == 0) sk.setState(new Locked());\n        else if (digit == 1) sk.printSecret1();\n        else if (digit == 2) sk.printSecret2();\n    }\n}\n</code></pre>\n"},{"tags":["c#","java","parsing","antlr"],"answers":[{"tags":[],"owner":{"account_id":2647,"reputation":41534,"user_id":3712,"accept_rate":81,"display_name":"Barry Kelly"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1242826172,"creation_date":1242826172,"answer_id":887903,"question_id":887205,"body_markdown":"Normally you walk ASTs with recursion, and perform different actions based on the kind of the node. If you&#39;re using polymorphic tree nodes (i.e. different subclasses for different nodes in the tree), then double-dispatch in the Visitor pattern may be appropriate; however, that&#39;s usually not very convenient with Antlr.\r\n\r\nIn pseudocode, walking usually looks somewhat like this:\r\n\r\n    func processTree(t)\r\n        case t.Type of\r\n            FOO: processFoo t\r\n            BAR: processBar t\r\n        end\r\n\r\n    // a post-order process\r\n    func processFoo(foo)\r\n        // visit children\r\n        for (i = 0; i &lt; foo.ChildCount; ++i)\r\n            processTree(foo.GetChild(i))\r\n        // visit node\r\n        do_stuff(foo.getText())\r\n        \r\n    // a pre-order process\r\n    func processBoo(bar)\r\n        // visit node\r\n        do_stuff(bar.getText())\r\n        // visit children\r\n        for (i = 0; i &lt; foo.ChildCount; ++i)\r\n            processTree(foo.GetChild(i))\r\n        \r\nThe kinds of processing are highly dependent on the semantics of the language. For example, handling an `IF` statement, with structure `(IF &lt;predicate&gt; &lt;if-true&gt; [&lt;if-false&gt;])`, when generating code for a stack machine like the JVM or CLR, might look somewhat like this:\r\n\r\n    func processIf(n)\r\n        predicate = n.GetChild(0)\r\n        processExpr(predicate) // get predicate value on stack\r\n        falseLabel = createLabel()\r\n        genCode(JUMP_IF_FALSE, falseLabel) // JUMP_IF_FALSE is called brfalse in CLR,\r\n                                           // ifeq in JVM\r\n        if_true = n.GetChild(1)\r\n        processStmt(if_true)\r\n        if_false = n.ChildCount &gt; 2 ? n.GetChild(2) : null\r\n        if (if_false != null)\r\n            doneLabel = createLabel()\r\n            genCode(JUMP, doneLabel)\r\n        markLabel(falseLabel)\r\n        if (if_false != null)\r\n            processStmt(if_false) // if-false branch\r\n            markLabel(doneLabel)\r\n\r\nGenerally everything is done recursively depending on the type of the current node, etc.","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>Normally you walk ASTs with recursion, and perform different actions based on the kind of the node. If you're using polymorphic tree nodes (i.e. different subclasses for different nodes in the tree), then double-dispatch in the Visitor pattern may be appropriate; however, that's usually not very convenient with Antlr.</p>\n\n<p>In pseudocode, walking usually looks somewhat like this:</p>\n\n<pre><code>func processTree(t)\n    case t.Type of\n        FOO: processFoo t\n        BAR: processBar t\n    end\n\n// a post-order process\nfunc processFoo(foo)\n    // visit children\n    for (i = 0; i &lt; foo.ChildCount; ++i)\n        processTree(foo.GetChild(i))\n    // visit node\n    do_stuff(foo.getText())\n\n// a pre-order process\nfunc processBoo(bar)\n    // visit node\n    do_stuff(bar.getText())\n    // visit children\n    for (i = 0; i &lt; foo.ChildCount; ++i)\n        processTree(foo.GetChild(i))\n</code></pre>\n\n<p>The kinds of processing are highly dependent on the semantics of the language. For example, handling an <code>IF</code> statement, with structure <code>(IF &lt;predicate&gt; &lt;if-true&gt; [&lt;if-false&gt;])</code>, when generating code for a stack machine like the JVM or CLR, might look somewhat like this:</p>\n\n<pre><code>func processIf(n)\n    predicate = n.GetChild(0)\n    processExpr(predicate) // get predicate value on stack\n    falseLabel = createLabel()\n    genCode(JUMP_IF_FALSE, falseLabel) // JUMP_IF_FALSE is called brfalse in CLR,\n                                       // ifeq in JVM\n    if_true = n.GetChild(1)\n    processStmt(if_true)\n    if_false = n.ChildCount &gt; 2 ? n.GetChild(2) : null\n    if (if_false != null)\n        doneLabel = createLabel()\n        genCode(JUMP, doneLabel)\n    markLabel(falseLabel)\n    if (if_false != null)\n        processStmt(if_false) // if-false branch\n        markLabel(doneLabel)\n</code></pre>\n\n<p>Generally everything is done recursively depending on the type of the current node, etc.</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242829027,"creation_date":1242829027,"answer_id":888192,"question_id":887205,"body_markdown":"You should look into writing a TreeParser; it can make the job of interpreting the tree much simpler.\r\n\r\nFor ANTLR 2.x see http://www.antlr2.org/doc/sor.html\r\nFor ANTLR 3.x see http://www.antlr.org/wiki/display/ANTLR3/Tree+construction (java-based parser and tree parser example)","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>You should look into writing a TreeParser; it can make the job of interpreting the tree much simpler.</p>\n\n<p>For ANTLR 2.x see <a href=\"http://www.antlr2.org/doc/sor.html\" rel=\"nofollow noreferrer\">http://www.antlr2.org/doc/sor.html</a>\nFor ANTLR 3.x see <a href=\"http://www.antlr.org/wiki/display/ANTLR3/Tree+construction\" rel=\"nofollow noreferrer\">http://www.antlr.org/wiki/display/ANTLR3/Tree+construction</a> (java-based parser and tree parser example)</p>\n"},{"tags":[],"owner":{"account_id":24511,"reputation":4692,"user_id":62388,"accept_rate":100,"display_name":"Jasper Floor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242829483,"creation_date":1242829483,"answer_id":888238,"question_id":887205,"body_markdown":"I did something similar (but not really) and I ended up with a TreeParser. \r\n\r\nI also suggest buying the ANTLR book. I found it to be more valuable than any web resource. It may not have all the answers but it sure helps with the basics.\r\n\r\n","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>I did something similar (but not really) and I ended up with a TreeParser. </p>\n\n<p>I also suggest buying the ANTLR book. I found it to be more valuable than any web resource. It may not have all the answers but it sure helps with the basics.</p>\n"},{"tags":[],"owner":{"account_id":35429,"reputation":26111,"user_id":100335,"accept_rate":59,"display_name":"kpozin"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1243623969,"creation_date":1243623969,"answer_id":927612,"question_id":887205,"body_markdown":"I managed to figure this out by adapting the example at the end of [Manuel Abadia&#39;s article][1].\r\n\r\nHere&#39;s my version, which I happen to be using to convert parsed code to C#.\r\nThese are the steps:\r\n\r\n 1. Instantiate an [ANTLRStringStream][2] or subclass with your input (it can be a file or string).\r\n 2. Instantiate your generated lexer, passing in that string stream.\r\n 3. Instantiate a token stream with the lexer.\r\n 4. Instantiate your parser with that token stream.\r\n 5. Get the top-level value from your parser, and turn it into a `CommonTree`.\r\n 6. Traverse the tree:\r\n\r\nTo get the literal text of a node, use `node.Text`.\r\nTo get the token name of a node, use `node.Token.Text`.\r\n\r\nNote that `node.Token.Text` will only give you the actual name of your token if it&#39;s an imaginary token with no corresponding string. If it&#39;s a real token, then `node.Token.Text` will return its string.\r\n\r\nFor example, if you had the following in your grammar:\r\n\r\n    tokens { PROGRAM, FUNCDEC }\r\n    \r\n    EQUALS : &#39;==&#39;;\r\n    ASSIGN : &#39;=&#39;;\r\n\r\nThen you&#39;ll get `&quot;PROGRAM&quot;`, `&quot;FUNCDEC&quot;`, `&quot;==&quot;`, and `&quot;=&quot;` from the corresponding accesses of `node.Token.Text`.\r\n\r\nYou can see part of my example below, or you can browse the [full version][3].\r\n\r\n----------\r\n\r\n\r\n    \r\n    public static string Convert(string input)\r\n    {\r\n        ANTLRStringStream sStream = new ANTLRStringStream(input);\r\n        MyGrammarLexer lexer = new MyGrammarLexer(sStream);\r\n        \r\n        CommonTokenStream tStream = new CommonTokenStream(lexer);\r\n\r\n        MyGrammarParser parser = new MyGrammarParser (tStream);\r\n        MyGrammarParser.program_return parserResult = parser.program();\r\n\r\n        CommonTree ast = (CommonTree)parserResult.Tree;\r\n\r\n        Print(ast);\r\n        string output = header + body + footer;\r\n\r\n        return output;\r\n    }\r\n\r\n    public static void PrintChildren(CT ast)\r\n    {\r\n        PrintChildren(ast, &quot; &quot;, true);\r\n    }\r\n\r\n    public static void PrintChildren(CT ast, string delim, bool final)\r\n    {\r\n        if (ast.Children == null)\r\n        {\r\n            return;\r\n        }\r\n        \r\n        int num = ast.Children.Count;\r\n\r\n        for (int i = 0; i &lt; num; ++i)\r\n        {\r\n            CT d = (CT)(ast.Children[i]);\r\n            Print(d);\r\n            if (final || i &lt; num - 1)\r\n            {\r\n                body += delim;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void Print(CommonTree ast)\r\n    {\r\n        switch (ast.Token.Text)\r\n        {\r\n            case &quot;PROGRAM&quot;:\r\n                //body += header;\r\n                PrintChildren(ast);\r\n                //body += footer;\r\n                break;\r\n            case &quot;GLOBALS&quot;:\r\n                body += &quot;\\r\\n\\r\\n// GLOBALS\\r\\n&quot;;\r\n                PrintChildren(ast);\r\n                break;\r\n            case &quot;GLOBAL&quot;:\r\n                body += &quot;public static &quot;;\r\n                PrintChildren(ast);\r\n                body += &quot;;\\r\\n&quot;;\r\n                break;\r\n\r\n          ....\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.manuelabadia.com/blog/PermaLink,guid,6e509f70-3db8-46f4-b451-1ef9dd80740b.aspx\r\n  [2]: http://www.antlr.org/api/CSharp/class_antlr_1_1_runtime_1_1_a_n_t_l_r_string_stream.html\r\n  [3]: http://code.google.com/p/godpl/source/browse/#svn/tags/cs152-submission/GodPl/GodPl/Parser","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>I managed to figure this out by adapting the example at the end of <a href=\"http://www.manuelabadia.com/blog/PermaLink,guid,6e509f70-3db8-46f4-b451-1ef9dd80740b.aspx\" rel=\"noreferrer\">Manuel Abadia's article</a>.</p>\n\n<p>Here's my version, which I happen to be using to convert parsed code to C#.\nThese are the steps:</p>\n\n<ol>\n<li>Instantiate an <a href=\"http://www.antlr.org/api/CSharp/class_antlr_1_1_runtime_1_1_a_n_t_l_r_string_stream.html\" rel=\"noreferrer\">ANTLRStringStream</a> or subclass with your input (it can be a file or string).</li>\n<li>Instantiate your generated lexer, passing in that string stream.</li>\n<li>Instantiate a token stream with the lexer.</li>\n<li>Instantiate your parser with that token stream.</li>\n<li>Get the top-level value from your parser, and turn it into a <code>CommonTree</code>.</li>\n<li>Traverse the tree:</li>\n</ol>\n\n<p>To get the literal text of a node, use <code>node.Text</code>.\nTo get the token name of a node, use <code>node.Token.Text</code>.</p>\n\n<p>Note that <code>node.Token.Text</code> will only give you the actual name of your token if it's an imaginary token with no corresponding string. If it's a real token, then <code>node.Token.Text</code> will return its string.</p>\n\n<p>For example, if you had the following in your grammar:</p>\n\n<pre><code>tokens { PROGRAM, FUNCDEC }\n\nEQUALS : '==';\nASSIGN : '=';\n</code></pre>\n\n<p>Then you'll get <code>\"PROGRAM\"</code>, <code>\"FUNCDEC\"</code>, <code>\"==\"</code>, and <code>\"=\"</code> from the corresponding accesses of <code>node.Token.Text</code>.</p>\n\n<p>You can see part of my example below, or you can browse the <a href=\"http://code.google.com/p/godpl/source/browse/#svn/tags/cs152-submission/GodPl/GodPl/Parser\" rel=\"noreferrer\">full version</a>.</p>\n\n<hr>\n\n<pre><code>public static string Convert(string input)\n{\n    ANTLRStringStream sStream = new ANTLRStringStream(input);\n    MyGrammarLexer lexer = new MyGrammarLexer(sStream);\n\n    CommonTokenStream tStream = new CommonTokenStream(lexer);\n\n    MyGrammarParser parser = new MyGrammarParser (tStream);\n    MyGrammarParser.program_return parserResult = parser.program();\n\n    CommonTree ast = (CommonTree)parserResult.Tree;\n\n    Print(ast);\n    string output = header + body + footer;\n\n    return output;\n}\n\npublic static void PrintChildren(CT ast)\n{\n    PrintChildren(ast, \" \", true);\n}\n\npublic static void PrintChildren(CT ast, string delim, bool final)\n{\n    if (ast.Children == null)\n    {\n        return;\n    }\n\n    int num = ast.Children.Count;\n\n    for (int i = 0; i &lt; num; ++i)\n    {\n        CT d = (CT)(ast.Children[i]);\n        Print(d);\n        if (final || i &lt; num - 1)\n        {\n            body += delim;\n        }\n    }\n}\n\npublic static void Print(CommonTree ast)\n{\n    switch (ast.Token.Text)\n    {\n        case \"PROGRAM\":\n            //body += header;\n            PrintChildren(ast);\n            //body += footer;\n            break;\n        case \"GLOBALS\":\n            body += \"\\r\\n\\r\\n// GLOBALS\\r\\n\";\n            PrintChildren(ast);\n            break;\n        case \"GLOBAL\":\n            body += \"public static \";\n            PrintChildren(ast);\n            body += \";\\r\\n\";\n            break;\n\n      ....\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":35429,"reputation":26111,"user_id":100335,"accept_rate":59,"display_name":"kpozin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11668,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":927612,"answer_count":4,"score":22,"last_activity_date":1683972862,"creation_date":1242815440,"question_id":887205,"body_markdown":"Is anyone aware of tutorials for walking ANTLR-generated ASTs in C#? The closest I was able to find is [this][1], but it&#39;s not terribly helpful.\r\n\r\nMy goal is to walk through trees that I&#39;m generating based on a domain-specific language that I&#39;m working on, and to use the trees to output generated C# code.\r\n\r\n  [1]: https://web.archive.org/web/20201019210638/http://www.manuelabadia.com/blog/PermaLink,guid,5085c0cc-5256-429c-a18c-4639afa0dcc1.aspx\r\n\r\nA Java-based tutorial would be helpful, too -- anything that provides clear examples of how to traverse ANTLR ASTs.","title":"Tutorial for walking ANTLR ASTs in C#?","body":"<p>Is anyone aware of tutorials for walking ANTLR-generated ASTs in C#? The closest I was able to find is <a href=\"https://web.archive.org/web/20201019210638/http://www.manuelabadia.com/blog/PermaLink,guid,5085c0cc-5256-429c-a18c-4639afa0dcc1.aspx\" rel=\"nofollow noreferrer\">this</a>, but it's not terribly helpful.</p>\n<p>My goal is to walk through trees that I'm generating based on a domain-specific language that I'm working on, and to use the trees to output generated C# code.</p>\n<p>A Java-based tutorial would be helpful, too -- anything that provides clear examples of how to traverse ANTLR ASTs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39861,"reputation":6818,"user_id":115193,"accept_rate":71,"display_name":"james_bond"},"score":0,"creation_date":1301461093,"post_id":5482016,"comment_id":6217203,"body_markdown":"And what is the concrete question?","body":"And what is the concrete question?"},{"owner":{"account_id":318502,"reputation":15139,"user_id":635766,"display_name":"Shad"},"score":0,"creation_date":1301461325,"post_id":5482016,"comment_id":6217232,"body_markdown":"-1 See Santiago&#39;s Answer","body":"-1 See Santiago&#39;s Answer"}],"answers":[{"tags":[],"owner":{"account_id":214990,"reputation":74707,"user_id":469300,"accept_rate":74,"display_name":"salezica"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1301461178,"creation_date":1301461178,"answer_id":5482041,"question_id":5482016,"body_markdown":"That&#39;s fine. Now, you hardly want to log in to Stack Overlflow every time you need to check if some invocation is right :) learn to use:\r\n\r\na) the Java compiler. If you try and compile code with erroneous syntax, the compiler will tell you where you made your mistake! Learn to use and interpret the outputs of the compiler.\r\n\r\nb) an advanced Java development environment, such as Eclipse. Actually, I&#39;ve no idea how can someone code in Java without Eclipse. For me, it&#39;s almost part of the language.\r\n\r\nCheers!","title":"To check whether my code is correct or not","body":"<p>That's fine. Now, you hardly want to log in to Stack Overlflow every time you need to check if some invocation is right :) learn to use:</p>\n\n<p>a) the Java compiler. If you try and compile code with erroneous syntax, the compiler will tell you where you made your mistake! Learn to use and interpret the outputs of the compiler.</p>\n\n<p>b) an advanced Java development environment, such as Eclipse. Actually, I've no idea how can someone code in Java without Eclipse. For me, it's almost part of the language.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":28592455,"reputation":1,"user_id":21891354,"display_name":"user21891354"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972550,"creation_date":1683954121,"answer_id":76241146,"question_id":5482016,"body_markdown":"```java\r\nclass Square {\r\n\r\n    public static void main(String args[]) {\r\n\r\n        int n = 289, r;\r\n        r = sqrt(n);\r\n        if (n==r) {\r\n            System.out.println(&quot;Perfect Square&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not a Perfect Square&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"To check whether my code is correct or not","body":"<pre class=\"lang-java prettyprint-override\"><code>class Square {\n\n    public static void main(String args[]) {\n\n        int n = 289, r;\n        r = sqrt(n);\n        if (n==r) {\n            System.out.println(&quot;Perfect Square&quot;);\n        } else {\n            System.out.println(&quot;Not a Perfect Square&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":347680,"reputation":145,"user_id":681953,"accept_rate":11,"display_name":"George Lim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683972550,"creation_date":1301460958,"question_id":5482016,"body_markdown":"void addEntry(Integer newEntry) \r\nthrows SimulationException \r\n\r\nAdds a new entry to the log. \r\nExisting entries are shifted along one place in the window accordingly. \r\nParameters: \r\n**newEntry** - the new value to be added to the log\r\n\r\nThrows: \r\n**SimulationException** - if the given value is not in the range 0 to maxEntry, inclusive \r\n\r\nhow does the code look like ? does it look like this ? \r\n\r\n    public void addEntry(Integer newEntry) throws SimulationException{  \r\n              \r\n        } ","title":"To check whether my code is correct or not","body":"<p>void addEntry(Integer newEntry) \nthrows SimulationException </p>\n\n<p>Adds a new entry to the log. \nExisting entries are shifted along one place in the window accordingly. \nParameters: \n<strong>newEntry</strong> - the new value to be added to the log</p>\n\n<p>Throws: \n<strong>SimulationException</strong> - if the given value is not in the range 0 to maxEntry, inclusive </p>\n\n<p>how does the code look like ? does it look like this ? </p>\n\n<pre><code>public void addEntry(Integer newEntry) throws SimulationException{  \n\n    } \n</code></pre>\n"},{"tags":["java","swing","user-interface","awt","actionlistener"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1683905428,"post_id":76237703,"comment_id":134443095,"body_markdown":"Your example above does not compile. I need the following classes (at least) to also be included. `ColorException`, `SizeException`, and `MyBMPFile`.","body":"Your example above does not compile. I need the following classes (at least) to also be included. <code>ColorException</code>, <code>SizeException</code>, and <code>MyBMPFile</code>."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683905044,"creation_date":1683905044,"answer_id":76237786,"question_id":76237703,"body_markdown":"I&#39;m going to edit this into a real answer later, but shot in the dark.\r\n\r\nChange this line below.\r\n\r\n`if (command.equals(CLEAR)) {`\r\n\r\nChange it to be like this instead.\r\n\r\n`if (command.equals(DrawGUI.CLEAR)) {`\r\n\r\nYou may need to do some imports.","title":"Why is the ActionListener not working with the buttons in Java GUI?","body":"<p>I'm going to edit this into a real answer later, but shot in the dark.</p>\n<p>Change this line below.</p>\n<p><code>if (command.equals(CLEAR)) {</code></p>\n<p>Change it to be like this instead.</p>\n<p><code>if (command.equals(DrawGUI.CLEAR)) {</code></p>\n<p>You may need to do some imports.</p>\n"},{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683915882,"creation_date":1683905554,"answer_id":76237863,"question_id":76237703,"body_markdown":"This is happening because in this section, the final variables CLEAR, QUIT, SAVE are initialized to null, so your if comparison is always false. A decent IDE like IntelliJ will spot this problem and warn you about it.\r\n\r\nI think you might have gotten mixed up because your Draw has these variables (where they are null), and the DrawGUI class also has these variables (where they have values), and you&#39;re comparing the two variables to each other. Get rid of the variables in the Draw class so that you&#39;re comparing the same variable to itself.\r\n\r\n    public void doCommand(String command) {\r\n    \tif (command.equals(CLEAR)) {\r\n    \t\twindow.clear();\r\n    \t\tSystem.out.println(&quot;CLEAR button clicked&quot;);\r\n    \t} else if (command.equals(QUIT)) {\r\n    \t\twindow.dispose();\r\n    \t\tSystem.out.println(&quot;QUIT button clicked&quot;);\r\n    \t\tSystem.exit(0);\r\n    \t} else if (command.equals(SAVE)) {\r\n    \t\tImage img = window.createImageFromPanel();\r\n    \t\ttry {\r\n    \t\t\twriteImage(img, &quot;hallo.bmp&quot;);\r\n    \t\t\tSystem.out.println(&quot;SAVE button clicked&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;Not working&quot;);\r\n    \t\t}\r\n    \t} else if (command.equals(AUTODRAW)) {\r\n    \t\tautoDraw();\r\n    \t\tSystem.out.println(&quot;AUTODRAW button clicked&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nP.S. - Stylistically, I don&#39;t love how you&#39;re running everything through a doCommand() method with a parameter used to dispatch which action to take. If it were me, I would just have a different method for each of the actions and just call those methods from the action listeners. That way you can get rid of all these variables, you don&#39;t need to do any comparison if/else-if stuff at all, and this problem wouldn&#39;t have occurred.","title":"Why is the ActionListener not working with the buttons in Java GUI?","body":"<p>This is happening because in this section, the final variables CLEAR, QUIT, SAVE are initialized to null, so your if comparison is always false. A decent IDE like IntelliJ will spot this problem and warn you about it.</p>\n<p>I think you might have gotten mixed up because your Draw has these variables (where they are null), and the DrawGUI class also has these variables (where they have values), and you're comparing the two variables to each other. Get rid of the variables in the Draw class so that you're comparing the same variable to itself.</p>\n<pre><code>public void doCommand(String command) {\n    if (command.equals(CLEAR)) {\n        window.clear();\n        System.out.println(&quot;CLEAR button clicked&quot;);\n    } else if (command.equals(QUIT)) {\n        window.dispose();\n        System.out.println(&quot;QUIT button clicked&quot;);\n        System.exit(0);\n    } else if (command.equals(SAVE)) {\n        Image img = window.createImageFromPanel();\n        try {\n            writeImage(img, &quot;hallo.bmp&quot;);\n            System.out.println(&quot;SAVE button clicked&quot;);\n        } catch (IOException e) {\n            System.err.println(&quot;Not working&quot;);\n        }\n    } else if (command.equals(AUTODRAW)) {\n        autoDraw();\n        System.out.println(&quot;AUTODRAW button clicked&quot;);\n    }\n}\n</code></pre>\n<p>P.S. - Stylistically, I don't love how you're running everything through a doCommand() method with a parameter used to dispatch which action to take. If it were me, I would just have a different method for each of the actions and just call those methods from the action listeners. That way you can get rid of all these variables, you don't need to do any comparison if/else-if stuff at all, and this problem wouldn't have occurred.</p>\n"}],"owner":{"account_id":28589452,"reputation":1,"user_id":21889017,"display_name":"RighteousRocks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76237786,"answer_count":2,"score":-1,"last_activity_date":1683972402,"creation_date":1683904417,"question_id":76237703,"body_markdown":"I&#39;m working on a Java GUI application, and I&#39;m having trouble getting the ActionListener to work properly with my buttons. When I click on the buttons, nothing happens, and the corresponding methods in my class are not being executed. I&#39;m not sure what I&#39;m doing wrong. Here are the concerned classes (particularly &quot;Draw&quot; and &quot;DrawGUI&quot;) of my code:\r\n\r\n```\r\n`\r\npublic class Draw {\r\n\tprivate static final Object QUIT = null;\r\n\tprivate static final Object CLEAR = null;\r\n\tprivate static final Object SAVE = null;\r\n\tprivate static final Object AUTODRAW = &quot;autoDraw&quot;;\r\n\tpublic Graphics g;\r\n\tprotected DrawGUI window;\r\n\r\n\tpublic void doCommand(String command) {\r\n\t\tif (command.equals(CLEAR)) {\r\n\t\t\twindow.clear();\r\n\t\t} else if (command.equals(QUIT)) {\r\n\t\t\twindow.dispose();\r\n\t\t\tSystem.exit(0);\r\n\t\t} else if (command.equals(SAVE)) {\r\n\t\t\tImage img = window.createImageFromPanel();\r\n\t\t\ttry {\r\n\t\t\t\twriteImage(img, &quot;test.bmp&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.err.println(&quot;Not working&quot;);\r\n\t\t\t}\r\n\t\t} else if (command.equals(AUTODRAW)) {\r\n\t\t\tautoDraw();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tpublic static final int WIDTH = 800;\r\n\tpublic static final int HEIGHT_DEFAULT = 400;\r\n\r\n\tpublic static final String SCRIBBLE = &quot;Scribble&quot;;\r\n\tpublic static final String RECTANGLE = &quot;Rectangle&quot;;\r\n\tpublic static final String OVAL = &quot;Oval&quot;;\r\n\tpublic static final String BLACK = &quot;Black&quot;;\r\n\tpublic static final String GREEN = &quot;Green&quot;;\r\n\tpublic static final String RED = &quot;Red&quot;;\r\n\tpublic static final String BLUE = &quot;Blue&quot;;\r\n\tpublic static final String CLEAR = &quot;Clear&quot;;\r\n\tpublic static final String QUIT = &quot;Quit&quot;;\r\n\tpublic static final String SAVE = &quot;Save&quot;;\r\n\tpublic static final String AUTODRAW = &quot;autoDraw&quot;;\r\n\r\n\tprivate final Draw logic;\r\n\tprivate Color color;\r\n\tprivate final DrawingPanel drawingPanel;\r\n\r\n\tpublic DrawGUI(Draw logic) {\r\n\t\tsuper(&quot;Draw&quot;);\r\n\t\tthis.logic = logic;\r\n\t\tcolor = Color.black;\r\n\t\tdrawingPanel = new DrawingPanel();\r\n\r\n\t\tsetSize(WIDTH, HEIGHT_DEFAULT);\r\n\r\n\t\tJButton clear = new JButton(CLEAR);\r\n\t\tJButton quit = new JButton(QUIT);\r\n\t\tJButton save = new JButton(SAVE);\r\n\t\tJButton autodraw = new JButton(AUTODRAW);\r\n\t\tJPanel topPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 5));\r\n\t\tclear.addActionListener(e -&gt; logic.doCommand(CLEAR));\r\n\t\tquit.addActionListener(e -&gt; logic.doCommand(QUIT));\r\n\t\tsave.addActionListener(e -&gt; logic.doCommand(SAVE));\r\n\t\tautodraw.addActionListener(e -&gt; logic.doCommand(AUTODRAW));\r\n\r\n\t\tsetLayout(new BorderLayout());\r\n\t\ttopPanel.add(save);\r\n\t\ttopPanel.add(autodraw);\r\n\t\ttopPanel.add(new JLabel(&quot;Shape:&quot;));\r\n\t\ttopPanel.add(shape_chooser);\r\n\t\ttopPanel.add(new JLabel(&quot;Color:&quot;));\r\n\t\ttopPanel.add(color_chooser);\r\n\t\ttopPanel.add(clear);\r\n\t\ttopPanel.add(quit);\r\n\t\tadd(topPanel, BorderLayout.NORTH);\r\n\t\tadd(drawingPanel, BorderLayout.CENTER);\r\n\r\n\t\tthis.addWindowListener(new WindowAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void windowClosing(WindowEvent e) {\r\n\t\t\t\tDrawGUI.this.logic.doCommand(&quot;quit&quot;);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tthis.setBackground(Color.white);\r\n\t\tthis.setVisible(true);\r\n\r\n\t}\r\n`\r\n```\r\n\r\nI already tried to &quot;debug&quot; the &quot;doCommand&quot; method using System.out.println and what I found out is that only when clicking &quot;autoDraw&quot; the sentence &quot;autoDraw was pressed&quot; is printed to the console. When clicking the rest of the buttons nothing is printed to the console. Only when I close the application window via the macOS menu, &quot;Quit button was pressed&quot; is output on the console, not via clicking the Quit button itself.\r\n","title":"Why is the ActionListener not working with the buttons in Java GUI?","body":"<p>I'm working on a Java GUI application, and I'm having trouble getting the ActionListener to work properly with my buttons. When I click on the buttons, nothing happens, and the corresponding methods in my class are not being executed. I'm not sure what I'm doing wrong. Here are the concerned classes (particularly &quot;Draw&quot; and &quot;DrawGUI&quot;) of my code:</p>\n<pre><code>`\npublic class Draw {\n    private static final Object QUIT = null;\n    private static final Object CLEAR = null;\n    private static final Object SAVE = null;\n    private static final Object AUTODRAW = &quot;autoDraw&quot;;\n    public Graphics g;\n    protected DrawGUI window;\n\n    public void doCommand(String command) {\n        if (command.equals(CLEAR)) {\n            window.clear();\n        } else if (command.equals(QUIT)) {\n            window.dispose();\n            System.exit(0);\n        } else if (command.equals(SAVE)) {\n            Image img = window.createImageFromPanel();\n            try {\n                writeImage(img, &quot;test.bmp&quot;);\n            } catch (IOException e) {\n                System.err.println(&quot;Not working&quot;);\n            }\n        } else if (command.equals(AUTODRAW)) {\n            autoDraw();\n        }\n    }\n\n    private static final long serialVersionUID = 1L;\n    public static final int WIDTH = 800;\n    public static final int HEIGHT_DEFAULT = 400;\n\n    public static final String SCRIBBLE = &quot;Scribble&quot;;\n    public static final String RECTANGLE = &quot;Rectangle&quot;;\n    public static final String OVAL = &quot;Oval&quot;;\n    public static final String BLACK = &quot;Black&quot;;\n    public static final String GREEN = &quot;Green&quot;;\n    public static final String RED = &quot;Red&quot;;\n    public static final String BLUE = &quot;Blue&quot;;\n    public static final String CLEAR = &quot;Clear&quot;;\n    public static final String QUIT = &quot;Quit&quot;;\n    public static final String SAVE = &quot;Save&quot;;\n    public static final String AUTODRAW = &quot;autoDraw&quot;;\n\n    private final Draw logic;\n    private Color color;\n    private final DrawingPanel drawingPanel;\n\n    public DrawGUI(Draw logic) {\n        super(&quot;Draw&quot;);\n        this.logic = logic;\n        color = Color.black;\n        drawingPanel = new DrawingPanel();\n\n        setSize(WIDTH, HEIGHT_DEFAULT);\n\n        JButton clear = new JButton(CLEAR);\n        JButton quit = new JButton(QUIT);\n        JButton save = new JButton(SAVE);\n        JButton autodraw = new JButton(AUTODRAW);\n        JPanel topPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT, 10, 5));\n        clear.addActionListener(e -&gt; logic.doCommand(CLEAR));\n        quit.addActionListener(e -&gt; logic.doCommand(QUIT));\n        save.addActionListener(e -&gt; logic.doCommand(SAVE));\n        autodraw.addActionListener(e -&gt; logic.doCommand(AUTODRAW));\n\n        setLayout(new BorderLayout());\n        topPanel.add(save);\n        topPanel.add(autodraw);\n        topPanel.add(new JLabel(&quot;Shape:&quot;));\n        topPanel.add(shape_chooser);\n        topPanel.add(new JLabel(&quot;Color:&quot;));\n        topPanel.add(color_chooser);\n        topPanel.add(clear);\n        topPanel.add(quit);\n        add(topPanel, BorderLayout.NORTH);\n        add(drawingPanel, BorderLayout.CENTER);\n\n        this.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                DrawGUI.this.logic.doCommand(&quot;quit&quot;);\n            }\n\n        });\n\n        this.setBackground(Color.white);\n        this.setVisible(true);\n\n    }\n`\n</code></pre>\n<p>I already tried to &quot;debug&quot; the &quot;doCommand&quot; method using System.out.println and what I found out is that only when clicking &quot;autoDraw&quot; the sentence &quot;autoDraw was pressed&quot; is printed to the console. When clicking the rest of the buttons nothing is printed to the console. Only when I close the application window via the macOS menu, &quot;Quit button was pressed&quot; is output on the console, not via clicking the Quit button itself.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1683890012,"post_id":76235476,"comment_id":134439353,"body_markdown":"I think this should work. Can you share the Postman request that fails and the error?","body":"I think this should work. Can you share the Postman request that fails and the error?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1683910315,"post_id":76235476,"comment_id":134444195,"body_markdown":"_&quot;But in Postman I can&#39;t do it&quot;_. Do you mean you cannot send an array of Strings?","body":"<i>&quot;But in Postman I can&#39;t do it&quot;</i>. Do you mean you cannot send an array of Strings?"}],"answers":[{"tags":[],"owner":{"account_id":28423360,"reputation":1,"user_id":21745109,"display_name":"Jahongir Zokirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972245,"creation_date":1683904613,"answer_id":76237726,"question_id":76235476,"body_markdown":"You can do it in postman by this : \r\n\r\n    body/raw/json\r\n\r\n```json\r\n{\r\n   userIds : [\r\n           &quot;userId1&quot;,\r\n           &quot;userId2&quot;\r\n       ]\r\n}\r\n```","title":"Is there a way to set the value for @RequestBody without having to create an object?","body":"<p>You can do it in postman by this :</p>\n<pre><code>body/raw/json\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   userIds : [\n           &quot;userId1&quot;,\n           &quot;userId2&quot;\n       ]\n}\n</code></pre>\n"}],"owner":{"account_id":28012888,"reputation":1,"user_id":21395119,"display_name":"nguyen hieu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683972245,"creation_date":1683888002,"question_id":76235476,"body_markdown":"I wrote this: \r\n````java\r\npublic ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\r\n@RequestBody List&lt;String&gt; userIds)\r\n````\r\nBut in Postman I can&#39;t do it\r\n\r\nI fixed it by creating an object UserIds:\r\n````java\r\npublic class UserIds {\r\n    @JsonProperty(&quot;userIds&quot;)\r\n    private List&lt;String&gt; userIds;\r\n}\r\n````\r\nand:\r\n````java\r\npublic ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\r\n@RequestBody UserIds userIds)\r\n````\r\nBut I have one question: Is there any way I can still use ````@RequestBody List&lt;String&gt; userIds```` ?","title":"Is there a way to set the value for @RequestBody without having to create an object?","body":"<p>I wrote this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\n@RequestBody List&lt;String&gt; userIds)\n</code></pre>\n<p>But in Postman I can't do it</p>\n<p>I fixed it by creating an object UserIds:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserIds {\n    @JsonProperty(&quot;userIds&quot;)\n    private List&lt;String&gt; userIds;\n}\n</code></pre>\n<p>and:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;ResponseMetaData&gt; deleteMembers(@PathVariable(&quot;group_id&quot;) String groupId,\n@RequestBody UserIds userIds)\n</code></pre>\n<p>But I have one question: Is there any way I can still use <code>@RequestBody List&lt;String&gt; userIds</code> ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14156071,"reputation":213,"user_id":10226771,"display_name":"flyordie"},"score":0,"creation_date":1673391730,"post_id":75076486,"comment_id":132487651,"body_markdown":"why you are not using directly spring data for finding directly instead of using @Query ; You can use smth like List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) the IDE will propose the good syntax for. See example here https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","body":"why you are not using directly spring data for finding directly instead of using @Query ; You can use smth like List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) the IDE will propose the good syntax for. See example here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html</a>"},{"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"score":0,"creation_date":1673392447,"post_id":75076486,"comment_id":132487775,"body_markdown":"It doesn&#39;t work neither like that: I got this Error: `Caused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;playerId&#39; found for type &#39;Tournament&#39;`","body":"It doesn&#39;t work neither like that: I got this Error: <code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;playerId&#39; found for type &#39;Tournament&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683972043,"creation_date":1673416645,"answer_id":75078855,"question_id":75076486,"body_markdown":"try using the below code in your tournament.java:\r\n\r\n```java\r\n@ManyToMany(fetch = FetchType.EAGER)\r\n@JoinTable(name = &quot;PlayerTournament&quot;,\r\n           joinColumns = @JoinColumn(name = &quot;tournament_id&quot;),\r\n           inverseJoinColumns = @JoinColumn(name = &quot;player_id&quot;))\r\nprivate Set&lt;Player&gt; players= new HashSet&lt;&gt;();\r\n```","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>try using the below code in your tournament.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToMany(fetch = FetchType.EAGER)\n@JoinTable(name = &quot;PlayerTournament&quot;,\n           joinColumns = @JoinColumn(name = &quot;tournament_id&quot;),\n           inverseJoinColumns = @JoinColumn(name = &quot;player_id&quot;))\nprivate Set&lt;Player&gt; players= new HashSet&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673424934,"creation_date":1673424934,"answer_id":75080018,"question_id":75076486,"body_markdown":"You don&#39;t need `@Query` anatotion if you want to bring tournaments according to `playerId`. `Spring Boot` will handle it for you.\r\n\r\n    @Repository\r\n    public interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\r\n    \r\n        List&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\r\n    }","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>You don't need <code>@Query</code> anatotion if you want to bring tournaments according to <code>playerId</code>. <code>Spring Boot</code> will handle it for you.</p>\n<pre><code>@Repository\npublic interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\n\n    List&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673428517,"creation_date":1673425238,"answer_id":75080075,"question_id":75076486,"body_markdown":"The problem is that you are confusing JPA/JPQL and SQL.\r\n\r\nSince you did not specify [`nativeQuery=true` in the `@Query` annotation][1] the query is considered a JPQL query. But JPQL operates on the level of entities and does not know about (mapping) tables.\r\n\r\nThe correct JPQL query should look like this:\r\n\r\n```sql\r\nselect t from Tournament t where t.players.id = :id\r\n```\r\n\r\nOf course you can stay with your current query and use `nativeQuery=true`.\r\n\r\nAnd finally as [fathi correctly notes, you don&#39;t need to specify a query at all][2] and can use query derivation with a method like.\r\n\r\n```\r\nList&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html#nativeQuery()\r\n  [2]: https://stackoverflow.com/a/75080018/66686","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>The problem is that you are confusing JPA/JPQL and SQL.</p>\n<p>Since you did not specify <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Query.html#nativeQuery()\" rel=\"nofollow noreferrer\"><code>nativeQuery=true</code> in the <code>@Query</code> annotation</a> the query is considered a JPQL query. But JPQL operates on the level of entities and does not know about (mapping) tables.</p>\n<p>The correct JPQL query should look like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select t from Tournament t where t.players.id = :id\n</code></pre>\n<p>Of course you can stay with your current query and use <code>nativeQuery=true</code>.</p>\n<p>And finally as <a href=\"https://stackoverflow.com/a/75080018/66686\">fathi correctly notes, you don't need to specify a query at all</a> and can use query derivation with a method like.</p>\n<pre><code>List&lt;Tournament&gt; findTournamentsByPlayersId(Long playerId);\n</code></pre>\n"}],"owner":{"account_id":21428733,"reputation":43,"user_id":15785594,"display_name":"Emanuele Papa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080075,"answer_count":3,"score":0,"last_activity_date":1683972043,"creation_date":1673389438,"question_id":75076486,"body_markdown":"I&#39;ve created two *@Entities* (**Player**, **Tournament**) that are linked with a *@Many-To-Many* relationship. \r\n\r\n### Player.java ###\r\n\r\n``` lang-java\r\n@Entity\r\n@Table\r\npublic class Player {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(updatable = false)\r\n    private String email;\r\n    @Column\r\n    private String name;\r\n\r\n    // ...\r\n    \r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;PlayerTournament&quot;,\r\n               joinColumns = @JoinColumn(name = &quot;player_id&quot;),\r\n               inverseJoinColumns = @JoinColumn(name = &quot;tournament_id&quot;))\r\n    private Set&lt;Tournament&gt; tournaments;\r\n\r\n    // ...\r\n\r\n}\r\n```\r\n\r\n### Tournament.java ###\r\n\r\n``` lang-java\r\n@Entity\r\n@Table\r\npublic class Tournament{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(updatable = false)\r\n    private String name;\r\n\r\n    // ...\r\n\r\n    @ManyToMany(mappedBy = &quot;tournaments&quot;)\r\n    private Set&lt;Player&gt; players= new HashSet&lt;&gt;();\r\n\r\n    public Set&lt;Player&gt; getPlayers() { return players; }\r\n\r\n    public void setPlayers(Set&lt;Player&gt; players) { this.players = players; }\r\n\r\n\r\n    // ...\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nNow, I want to get all *Tournaments* where a specific *Player* has played in:\r\n\r\n### TournamentService.java ###\r\n\r\n``` lang-java\r\n@Service\r\npublic class TournamentService {\r\n\r\n    @Autowired\r\n    private TournamentRepository repo;\r\n\r\n    public List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) {\r\n        return repo.findTournamentsByPlayerId(id);\r\n    }\r\n}\r\n```\r\n\r\n### TournamentRepository.java ###\r\n\r\n``` lang-java\r\n@Repository\r\npublic interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\r\n\r\n    @Query(&quot;select t from Tournament t join PlayerTournament pt on t.id = pt.tournament_id where pt.player_id = :id&quot;)\r\n    List&lt;Tournament&gt; findTournamentsByPlayerId(@Param(&quot;id&quot;) Long id);\r\n}\r\n```\r\n\r\nBut this code doesn&#39;t work.\r\n&lt;br&gt;When I try to run the Application i got this **Error**:\r\n&lt;br&gt; `Caused by: java.lang.IllegalArgumentException: Could not resolve entity reference: PlayerTournament`\r\n\r\nThe IDEE says that it `Cannot resolve symbol &#39;PlayerTournament&#39;` when I hover on the table&#39;s name.\r\n\r\nWhat am I doing wrong?\r\n&lt;br&gt;Thank you! \r\n","title":"SpringBoot: @Query doesn&#39;t detect a Many-To-Many table","body":"<p>I've created two <em>@Entities</em> (<strong>Player</strong>, <strong>Tournament</strong>) that are linked with a <em>@Many-To-Many</em> relationship.</p>\n<h3>Player.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Player {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(updatable = false)\n    private String email;\n    @Column\n    private String name;\n\n    // ...\n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;PlayerTournament&quot;,\n               joinColumns = @JoinColumn(name = &quot;player_id&quot;),\n               inverseJoinColumns = @JoinColumn(name = &quot;tournament_id&quot;))\n    private Set&lt;Tournament&gt; tournaments;\n\n    // ...\n\n}\n</code></pre>\n<h3>Tournament.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Tournament{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(updatable = false)\n    private String name;\n\n    // ...\n\n    @ManyToMany(mappedBy = &quot;tournaments&quot;)\n    private Set&lt;Player&gt; players= new HashSet&lt;&gt;();\n\n    public Set&lt;Player&gt; getPlayers() { return players; }\n\n    public void setPlayers(Set&lt;Player&gt; players) { this.players = players; }\n\n\n    // ...\n\n}\n\n</code></pre>\n<p>Now, I want to get all <em>Tournaments</em> where a specific <em>Player</em> has played in:</p>\n<h3>TournamentService.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TournamentService {\n\n    @Autowired\n    private TournamentRepository repo;\n\n    public List&lt;Tournament&gt; findTournamentsByPlayerId(Long id) {\n        return repo.findTournamentsByPlayerId(id);\n    }\n}\n</code></pre>\n<h3>TournamentRepository.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface TournamentRepository extends CrudRepository&lt;Tournament, Long&gt; {\n\n    @Query(&quot;select t from Tournament t join PlayerTournament pt on t.id = pt.tournament_id where pt.player_id = :id&quot;)\n    List&lt;Tournament&gt; findTournamentsByPlayerId(@Param(&quot;id&quot;) Long id);\n}\n</code></pre>\n<p>But this code doesn't work.\n<br>When I try to run the Application i got this <strong>Error</strong>:\n<br> <code>Caused by: java.lang.IllegalArgumentException: Could not resolve entity reference: PlayerTournament</code></p>\n<p>The IDEE says that it <code>Cannot resolve symbol 'PlayerTournament'</code> when I hover on the table's name.</p>\n<p>What am I doing wrong?\n<br>Thank you!</p>\n"},{"tags":["java","swing","jtextfield"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1683922296,"post_id":76239611,"comment_id":134446366,"body_markdown":"You&#39;re defining your `JTextFields` as class fields and local fields.","body":"You&#39;re defining your <code>JTextFields</code> as class fields and local fields."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683922858,"post_id":76239611,"comment_id":134446483,"body_markdown":"*common* error on this site: `JTextField textField2 = new JTextField();` is declaring  (and initializing) a local variable which is **not** the same as the field `JTextField textField2;` declared at the start of the class. The field gets the default value `null`","body":"<i>common</i> error on this site: <code>JTextField textField2 = new JTextField();</code> is declaring  (and initializing) a local variable which is <b>not</b> the same as the field <code>JTextField textField2;</code> declared at the start of the class. The field gets the default value <code>null</code>"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683923448,"creation_date":1683923448,"answer_id":76239761,"question_id":76239611,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nHere&#39;s a revised GUI:\r\n\r\n[![Guess][1]][1]\r\n\r\nCreating a `JPanel` to place in the `JFrame` helps to separate your concerns and focus on one part of the GUI at a time.\r\n\r\nUsing a `JFrame` is better than extending a `JFrame`.  You shouldn&#39;t extend any Java class unless you intend to override one or more of the class methods.\r\n\r\nA Java array has to be long enough to hold all of the elements of the array.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JTextfieldExample implements ActionListener {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew JTextfieldExample();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tJTextField textField1;\r\n    \tJTextField textField2;\r\n    \tJTextField textField3;\r\n    \tJButton button;\r\n    \tint[] newArr = new int[3];\r\n    \tint num1, num2, num3;\r\n    \t// we need to declare button and text field outside constructor so they\r\n    \t// become global\r\n    \r\n    \tJTextfieldExample() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\t// Text field 1\r\n    \t\ttextField1 = new JTextField(4);\r\n    \t\tpanel.add(textField1);\r\n    \t\t// Text field 2\r\n    \t\ttextField2 = new JTextField(4);\r\n    \t\tpanel.add(textField2);\r\n    \t\t// Text field 3\r\n    \t\ttextField3 = new JTextField(4);\r\n    \t\tpanel.add(textField3);\r\n    \t\t// i Button 1\r\n    \t\tbutton = new JButton(&quot;Submit Guess&quot;);\r\n    \t\tbutton.addActionListener(this);\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif (e.getSource() == button)// if source of event comes from button...\r\n    \t\t{\r\n    \t\t\tnewArr[0] = Integer.parseInt(textField1.getText());\r\n    \t\t\tnewArr[1] = Integer.parseInt(textField2.getText());\r\n    \t\t\tnewArr[2] = Integer.parseInt(textField3.getText());\r\n    \t\t\tSystem.out.println(newArr[0] + newArr[1] + newArr[2]);\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tlv7b.png\r\n","title":"JTextField not giving output","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Here's a revised GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/tlv7b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tlv7b.png\" alt=\"Guess\" /></a></p>\n<p>Creating a <code>JPanel</code> to place in the <code>JFrame</code> helps to separate your concerns and focus on one part of the GUI at a time.</p>\n<p>Using a <code>JFrame</code> is better than extending a <code>JFrame</code>.  You shouldn't extend any Java class unless you intend to override one or more of the class methods.</p>\n<p>A Java array has to be long enough to hold all of the elements of the array.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class JTextfieldExample implements ActionListener {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new JTextfieldExample();\n            }\n        });\n    }\n\n    JTextField textField1;\n    JTextField textField2;\n    JTextField textField3;\n    JButton button;\n    int[] newArr = new int[3];\n    int num1, num2, num3;\n    // we need to declare button and text field outside constructor so they\n    // become global\n\n    JTextfieldExample() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createMainPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n        // Text field 1\n        textField1 = new JTextField(4);\n        panel.add(textField1);\n        // Text field 2\n        textField2 = new JTextField(4);\n        panel.add(textField2);\n        // Text field 3\n        textField3 = new JTextField(4);\n        panel.add(textField3);\n        // i Button 1\n        button = new JButton(&quot;Submit Guess&quot;);\n        button.addActionListener(this);\n        panel.add(button);\n\n        return panel;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == button)// if source of event comes from button...\n        {\n            newArr[0] = Integer.parseInt(textField1.getText());\n            newArr[1] = Integer.parseInt(textField2.getText());\n            newArr[2] = Integer.parseInt(textField3.getText());\n            System.out.println(newArr[0] + newArr[1] + newArr[2]);\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28590960,"reputation":1,"user_id":21890208,"display_name":"BrokenFloppyDisc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683930935,"answer_count":1,"score":-1,"last_activity_date":1683971387,"creation_date":1683921889,"question_id":76239611,"body_markdown":"When is try to get an input from the textfield it gives me an error message:\r\n\r\n     &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \r\n      Cannot invoke &quot;javax.swing.JTextField.getText()&quot; because \r\n     &quot;this.textField2&quot; is null&quot;\r\n\r\nI have tried everything that I am aware and I&#39;m expecting to set the value of an integer using the:\r\n\r\n     x = textField1.getText();\r\n\r\n```\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.JFrame;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\npublic class Frame extends JFrame implements ActionListener\r\n{\r\n\r\n    JTextField textField1;\r\n    JTextField textField2;\r\n    JTextField textField3;\r\n    JButton button;\r\n    int[] newArr = new int[2];\r\n    int num1, num2, num3;\r\n    //we need to declare button and text field outside constructor so they become global \r\n   \r\n   \r\n   \r\n   Frame()\r\n   {\r\n      //Text box\r\n      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      this.setLayout(new FlowLayout());\r\n      this.setPreferredSize(new Dimension(500,100));\r\n      //Text field 1\r\n      JTextField textField1 = new JTextField();\r\n      textField1.setPreferredSize(new Dimension(40,40));\r\n      this.add(textField1);\r\n      //Text field 2\r\n      JTextField textField2 = new JTextField();\r\n      textField2.setPreferredSize(new Dimension(40,40));\r\n      this.add(textField2);\r\n      //Text field 3\r\n      JTextField textField3 = new JTextField();\r\n      textField3.setPreferredSize(new Dimension(40,40));\r\n      this.add(textField3);\r\n      //Button 1\r\n      button = new JButton(&quot;Submit Guess&quot;);\r\n      button.addActionListener(this);\r\n      this.add(button);\r\n      \r\n      \r\n      this.pack();\r\n      this.setVisible(true);\r\n      \r\n   }\r\n   public void actionPerformed(ActionEvent e)\r\n   {\r\n      if (e .getSource() == button)//if source of event comes from button...\r\n        {\r\n          newArr[0] = Integer.parseInt(textField1.getText());\r\n          newArr[1] = Integer.parseInt(textField2.getText());\r\n          newArr[2] = Integer.parseInt(textField3.getText());\r\n          System.out.println(newArr[0] + newArr[1] + newArr[2]);\r\n         \r\n      }\r\n      \r\n   }\r\n  \r\n}\r\n```\r\n\r\n","title":"JTextField not giving output","body":"<p>When is try to get an input from the textfield it gives me an error message:</p>\n<pre><code> &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \n  Cannot invoke &quot;javax.swing.JTextField.getText()&quot; because \n &quot;this.textField2&quot; is null&quot;\n</code></pre>\n<p>I have tried everything that I am aware and I'm expecting to set the value of an integer using the:</p>\n<pre><code> x = textField1.getText();\n</code></pre>\n<pre><code>import java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport javax.swing.JFrame;\nimport java.awt.FlowLayout;\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Frame extends JFrame implements ActionListener\n{\n\n    JTextField textField1;\n    JTextField textField2;\n    JTextField textField3;\n    JButton button;\n    int[] newArr = new int[2];\n    int num1, num2, num3;\n    //we need to declare button and text field outside constructor so they become global \n   \n   \n   \n   Frame()\n   {\n      //Text box\n      this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      this.setLayout(new FlowLayout());\n      this.setPreferredSize(new Dimension(500,100));\n      //Text field 1\n      JTextField textField1 = new JTextField();\n      textField1.setPreferredSize(new Dimension(40,40));\n      this.add(textField1);\n      //Text field 2\n      JTextField textField2 = new JTextField();\n      textField2.setPreferredSize(new Dimension(40,40));\n      this.add(textField2);\n      //Text field 3\n      JTextField textField3 = new JTextField();\n      textField3.setPreferredSize(new Dimension(40,40));\n      this.add(textField3);\n      //Button 1\n      button = new JButton(&quot;Submit Guess&quot;);\n      button.addActionListener(this);\n      this.add(button);\n      \n      \n      this.pack();\n      this.setVisible(true);\n      \n   }\n   public void actionPerformed(ActionEvent e)\n   {\n      if (e .getSource() == button)//if source of event comes from button...\n        {\n          newArr[0] = Integer.parseInt(textField1.getText());\n          newArr[1] = Integer.parseInt(textField2.getText());\n          newArr[2] = Integer.parseInt(textField3.getText());\n          System.out.println(newArr[0] + newArr[1] + newArr[2]);\n         \n      }\n      \n   }\n  \n}\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","jpa"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683971165,"creation_date":1683968120,"answer_id":76241881,"question_id":76241748,"body_markdown":"According to [Generate Database Schema with Spring Data JPA][1], you need to include this:\r\n\r\n     spring.jpa.properties.javax.persistence.schema-generation.scripts.action=create\r\n\r\nin the persistence unit properties.\r\n\r\nIf you still can&#39;t find the generated script after adding and using the above, try making the `create-target` pathname an absolute pathname.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-generate-db-schema","title":"Hibernate JPA not creating script for database schema","body":"<p>According to <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">Generate Database Schema with Spring Data JPA</a>, you need to include this:</p>\n<pre><code> spring.jpa.properties.javax.persistence.schema-generation.scripts.action=create\n</code></pre>\n<p>in the persistence unit properties.</p>\n<p>If you still can't find the generated script after adding and using the above, try making the <code>create-target</code> pathname an absolute pathname.</p>\n"}],"owner":{"account_id":2657091,"reputation":3210,"user_id":2297550,"accept_rate":40,"display_name":"user2297550"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76241881,"answer_count":1,"score":0,"last_activity_date":1683971165,"creation_date":1683965932,"question_id":76241748,"body_markdown":"I have configured the `jakarta.persistence.schema-generation.scripts.create-target` property to generate a script into a file name. But it is surely not being created, as I searched my entire home directory (on MacOS) for the file using the `find` command and it is not being found.\r\n\r\nI have tried `foo.sql`, `./foo.sql` and `/tmp/foo.sql` and cannot find it anywhere in my home directory or `/tmp`\r\n\r\nThe database tables are indeed being created and I don&#39;t see any errors in the output.\r\n\r\nHere is my full simple code:\r\n\r\n`persistence.xml`\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\r\n        &lt;persistence-unit name=&quot;foo&quot;&gt;\r\n            &lt;class&gt;Foo&lt;/class&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql:///main&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;main&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;big1704cloudmain&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;foo&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;validate&quot; /&gt;\r\n                &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.create-target&quot; value=&quot;foo.sql&quot; /&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n`Main.kt`\r\n\r\n    import jakarta.persistence.Entity\r\n    import jakarta.persistence.Id\r\n    import jakarta.persistence.Persistence\r\n    \r\n    @Entity\r\n    data class Foo (@Id val n: Int)\r\n    \r\n    fun main() {\r\n        Persistence.createEntityManagerFactory(&quot;foo&quot;)\r\n        println(&quot;Hello World!&quot;)\r\n    }\r\n\r\n`build.gradle.kts`\r\n\r\n    plugins {\r\n        kotlin(&quot;jvm&quot;) version &quot;latest.release&quot;\r\n        application\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.postgresql:postgresql:latest.release&quot;)\r\n        implementation(&quot;org.hibernate:hibernate-core:latest.release&quot;)\r\n    }\r\n    \r\n    application {\r\n        mainClass.set(&quot;MainKt&quot;)\r\n    }\r\n    \r\n    java {\r\n        toolchain {\r\n            languageVersion.set(JavaLanguageVersion.of(18))\r\n        }\r\n    }\r\n\r\n`Run Output`\r\n\r\n    3:15:36 PM: Executing &#39;run&#39;...\r\n    \r\n    &gt; Task :compileKotlin UP-TO-DATE\r\n    &gt; Task :compileJava NO-SOURCE\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes UP-TO-DATE\r\n    \r\n    &gt; Task :run\r\n    Hello World!\r\n    \r\n    BUILD SUCCESSFUL in 737ms\r\n    3 actionable tasks: 1 executed, 2 up-to-date\r\n    May 13, 2023 3:15:36 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\n    INFO: HHH000204: Processing PersistenceUnitInfo [name: foo]\r\n    May 13, 2023 3:15:36 PM org.hibernate.Version logVersion\r\n    INFO: HHH000412: Hibernate ORM core version 6.2.2.Final\r\n    May 13, 2023 3:15:36 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n    INFO: HHH000406: Using bytecode reflection optimizer\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n    WARN: HHH10001002: Using built-in connection pool (not intended for production use)\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001005: Loaded JDBC driver class: org.postgresql.Driver\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001012: Connecting with JDBC URL [jdbc:postgresql:///main]\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001001: Connection properties: {password=****, user=main}\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n    INFO: HHH10001003: Autocommit mode: false\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\n    INFO: HHH10001115: Connection pool size: 20 (min=1)\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\r\n    INFO: HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@72ade7e3\r\n    May 13, 2023 3:15:36 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\r\n    INFO: HHH000021: Bytecode provider name : bytebuddy\r\n    May 13, 2023 3:15:36 PM org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard resolveConstructor\r\n    INFO: HHH000182: No default (no-argument) constructor for class: Foo (class must be instantiated by Interceptor)\r\n    May 13, 2023 3:15:36 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\n    INFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    May 13, 2023 3:15:36 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\n    INFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ff35a3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n    3:15:36 PM: Execution finished &#39;run&#39;.\r\n\r\n","title":"Hibernate JPA not creating script for database schema","body":"<p>I have configured the <code>jakarta.persistence.schema-generation.scripts.create-target</code> property to generate a script into a file name. But it is surely not being created, as I searched my entire home directory (on MacOS) for the file using the <code>find</code> command and it is not being found.</p>\n<p>I have tried <code>foo.sql</code>, <code>./foo.sql</code> and <code>/tmp/foo.sql</code> and cannot find it anywhere in my home directory or <code>/tmp</code></p>\n<p>The database tables are indeed being created and I don't see any errors in the output.</p>\n<p>Here is my full simple code:</p>\n<p><code>persistence.xml</code></p>\n<pre><code>&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot; version=&quot;2.0&quot;&gt;\n    &lt;persistence-unit name=&quot;foo&quot;&gt;\n        &lt;class&gt;Foo&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql:///main&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;main&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;big1704cloudmain&quot; /&gt;\n            &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;foo&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;validate&quot; /&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.scripts.create-target&quot; value=&quot;foo.sql&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p><code>Main.kt</code></p>\n<pre><code>import jakarta.persistence.Entity\nimport jakarta.persistence.Id\nimport jakarta.persistence.Persistence\n\n@Entity\ndata class Foo (@Id val n: Int)\n\nfun main() {\n    Persistence.createEntityManagerFactory(&quot;foo&quot;)\n    println(&quot;Hello World!&quot;)\n}\n</code></pre>\n<p><code>build.gradle.kts</code></p>\n<pre><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;latest.release&quot;\n    application\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.postgresql:postgresql:latest.release&quot;)\n    implementation(&quot;org.hibernate:hibernate-core:latest.release&quot;)\n}\n\napplication {\n    mainClass.set(&quot;MainKt&quot;)\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(18))\n    }\n}\n</code></pre>\n<p><code>Run Output</code></p>\n<pre><code>3:15:36 PM: Executing 'run'...\n\n&gt; Task :compileKotlin UP-TO-DATE\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes UP-TO-DATE\n\n&gt; Task :run\nHello World!\n\nBUILD SUCCESSFUL in 737ms\n3 actionable tasks: 1 executed, 2 up-to-date\nMay 13, 2023 3:15:36 PM org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [name: foo]\nMay 13, 2023 3:15:36 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.2.2.Final\nMay 13, 2023 3:15:36 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000406: Using bytecode reflection optimizer\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: Loaded JDBC driver class: org.postgresql.Driver\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:postgresql:///main]\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=main}\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH10001115: Connection pool size: 20 (min=1)\nMay 13, 2023 3:15:36 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\nINFO: HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@72ade7e3\nMay 13, 2023 3:15:36 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : bytebuddy\nMay 13, 2023 3:15:36 PM org.hibernate.metamodel.internal.EntityInstantiatorPojoStandard resolveConstructor\nINFO: HHH000182: No default (no-argument) constructor for class: Foo (class must be instantiated by Interceptor)\nMay 13, 2023 3:15:36 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nMay 13, 2023 3:15:36 PM org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ff35a3f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n3:15:36 PM: Execution finished 'run'.\n</code></pre>\n"},{"tags":["java","selenium-webdriver","extentreports","selenium-extent-report"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683970408,"creation_date":1683970408,"answer_id":76242017,"question_id":76231354,"body_markdown":"You can append multiple reports in Extent `4.1.7` version of extent using json files generated by extent\r\nIf you have the .json file generated by extent Report , we can use those to create a single html report with all merged results\r\nBelow is a sample where i am running two test cases and generating the json for the extent and them I create a final html from ht generated json\r\nFor Your use case i would suggest to generate the json for every html report and then in the end you can consolidate into a single report \r\n\t\r\n**Below is a sample use case to Achieve this-**\r\n\r\n#1 First we create a common output Folder for extent json files so that we can merge them all from a common folder\r\n#2 Them we generate two sample html Reports with there extent json files which are then written to common json folder\r\n\r\n    JsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\r\n\r\n#3 Then we Create a Third extent Report , Take all the generated json files from folder and add their data into this and it will create a merged Report\r\n\r\n     extentMerged.createDomainFromJsonArchive(jsonFile.getPath());\r\n\r\n \r\n\r\nFull Code\r\n\r\n    import com.aventstack.extentreports.ExtentReports;\r\n    import com.aventstack.extentreports.reporter.ExtentSparkReporter;\r\n    import com.aventstack.extentreports.reporter.JsonFormatter;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    \r\n    public class TestBase {\r\n    \r\n    \tpublic static void main(String... a) throws IOException {\r\n    \r\n    \t\t//Creating a Directory for Extent Json Output and create it if doesn&#39;t exist\r\n    \t\tFile file = new File(&quot;ExtentJson&quot;);\r\n    \t\tif (!file.exists()) {\r\n    \t\t\tfile.mkdir();\r\n    \t\t}\r\n    \t\tString opFolder = file.getPath();\r\n    \r\n    \t\t//Creating individual Report Number 1\r\n    \t\tExtentSparkReporter spark = new ExtentSparkReporter(&quot;Report1.html&quot;);\r\n    \t\tJsonFormatter json = new JsonFormatter(opFolder + &quot;/Report1.json&quot;);\r\n    \t\tExtentReports extent = new ExtentReports();\r\n    \t\textent.createTest(&quot;test1&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 1&quot;)\r\n    \t\t\t.fail(&quot;step 2 from test 1&quot;);\r\n    \t\textent.attachReporter(json, spark);\r\n    \t\textent.flush();\r\n    \r\n    \t\t//Creating individual Report Number 2\r\n    \t\tExtentSparkReporter spark2 = new ExtentSparkReporter(&quot;Report2.html&quot;);\r\n    \t\tJsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\r\n    \t\tExtentReports extent2 = new ExtentReports();\r\n    \t\textent2.createTest(&quot;test2&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 2&quot;)\r\n    \t\t\t.fail(&quot;step 2 from test 2&quot;);\r\n    \t\textent2.attachReporter(json2, spark2);\r\n    \t\textent2.flush();\r\n    \r\n    \t\tExtentSparkReporter mergedSpark = new ExtentSparkReporter(&quot;spark.html&quot;);\r\n    \t\tExtentReports extentMerged = new ExtentReports();\r\n    \r\n    \t\t//Replace below logic to get all the .json files generated by extent in opFolder\r\n    \t\tFile jsonOPDirectory = new File(&quot;ExtentJson&quot;);\r\n    \t\tif (jsonOPDirectory.exists()) {\r\n    \t\t\tArrays.stream(jsonOPDirectory.listFiles()).forEach(jsonFile -&gt; {\r\n    \r\n    \t\t\t\ttry {\r\n    \t\t\t\t\textentMerged.createDomainFromJsonArchive(jsonFile.getPath());\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\textentMerged.attachReporter(mergedSpark);\r\n    \t\textentMerged.flush();\r\n    \t}\r\n    \r\n    }\r\n\r\nReference\r\n[Combine Multiple Reports][1]\r\n\r\n\r\n  [1]: https://www.extentreports.com/docs/versions/5/java/index.html#combine-multiple-reports","title":"Read the 2 extent reports and create a consolidated report by merging the test results","body":"<p>You can append multiple reports in Extent <code>4.1.7</code> version of extent using json files generated by extent\nIf you have the .json file generated by extent Report , we can use those to create a single html report with all merged results\nBelow is a sample where i am running two test cases and generating the json for the extent and them I create a final html from ht generated json\nFor Your use case i would suggest to generate the json for every html report and then in the end you can consolidate into a single report</p>\n<p><strong>Below is a sample use case to Achieve this-</strong></p>\n<p>#1 First we create a common output Folder for extent json files so that we can merge them all from a common folder\n#2 Them we generate two sample html Reports with there extent json files which are then written to common json folder</p>\n<pre><code>JsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\n</code></pre>\n<p>#3 Then we Create a Third extent Report , Take all the generated json files from folder and add their data into this and it will create a merged Report</p>\n<pre><code> extentMerged.createDomainFromJsonArchive(jsonFile.getPath());\n</code></pre>\n<p>Full Code</p>\n<pre><code>import com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\nimport com.aventstack.extentreports.reporter.JsonFormatter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\n\n\npublic class TestBase {\n\n    public static void main(String... a) throws IOException {\n\n        //Creating a Directory for Extent Json Output and create it if doesn't exist\n        File file = new File(&quot;ExtentJson&quot;);\n        if (!file.exists()) {\n            file.mkdir();\n        }\n        String opFolder = file.getPath();\n\n        //Creating individual Report Number 1\n        ExtentSparkReporter spark = new ExtentSparkReporter(&quot;Report1.html&quot;);\n        JsonFormatter json = new JsonFormatter(opFolder + &quot;/Report1.json&quot;);\n        ExtentReports extent = new ExtentReports();\n        extent.createTest(&quot;test1&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 1&quot;)\n            .fail(&quot;step 2 from test 1&quot;);\n        extent.attachReporter(json, spark);\n        extent.flush();\n\n        //Creating individual Report Number 2\n        ExtentSparkReporter spark2 = new ExtentSparkReporter(&quot;Report2.html&quot;);\n        JsonFormatter json2 = new JsonFormatter(opFolder + &quot;/Report2.json&quot;);\n        ExtentReports extent2 = new ExtentReports();\n        extent2.createTest(&quot;test2&quot;).assignCategory(&quot;cat&quot;).pass(&quot;Step 1 from test 2&quot;)\n            .fail(&quot;step 2 from test 2&quot;);\n        extent2.attachReporter(json2, spark2);\n        extent2.flush();\n\n        ExtentSparkReporter mergedSpark = new ExtentSparkReporter(&quot;spark.html&quot;);\n        ExtentReports extentMerged = new ExtentReports();\n\n        //Replace below logic to get all the .json files generated by extent in opFolder\n        File jsonOPDirectory = new File(&quot;ExtentJson&quot;);\n        if (jsonOPDirectory.exists()) {\n            Arrays.stream(jsonOPDirectory.listFiles()).forEach(jsonFile -&gt; {\n\n                try {\n                    extentMerged.createDomainFromJsonArchive(jsonFile.getPath());\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n        }\n\n        extentMerged.attachReporter(mergedSpark);\n        extentMerged.flush();\n    }\n\n}\n</code></pre>\n<p>Reference\n<a href=\"https://www.extentreports.com/docs/versions/5/java/index.html#combine-multiple-reports\" rel=\"nofollow noreferrer\">Combine Multiple Reports</a></p>\n"}],"owner":{"account_id":28584010,"reputation":1,"user_id":21884629,"display_name":"Sandeep Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683970408,"creation_date":1683836444,"question_id":76231354,"body_markdown":"I am running the multiple automation suites in parallel and those all are creating the different extent reports. \r\nI want to my code to read the existing extent reports and create a consolidated one. is there any way to read the 2 extent reports and create a consolidated report by merging the test results?\r\n\r\nI tried below code but it is not merging the test results correctly. \r\n\r\nI am using 4.0.9 version for Extent Report.\r\n\r\n   \r\n\r\n       import com.aventstack.extentreports.ExtentReports;\r\n       import com.aventstack.extentreports.reporter.ExtentHtmlReporter;\r\n       import com.aventstack.extentreports.reporter.configuration.Protocol;\r\n       import com.aventstack.extentreports.reporter.configuration.Theme;\r\n    \r\n       public class ExtentReportMerger1 {\r\n            public static void main(String[] args) {\r\n            String file1Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation- codebase\\\\logs\\\\Reports\\\\ExtentReports1.html&quot;;\r\n            String file2Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation-codebase\\\\logs\\\\Reports\\\\ExtentReports2.html&quot;;\r\n    \r\n            \r\n            // Load the first report\r\n            ExtentReports extentReports = new ExtentReports();\r\n            ExtentHtmlReporter htmlReporter1 = new ExtentHtmlReporter(file1Path);\r\n            extentReports.attachReporter(htmlReporter1);\r\n    \r\n            // Load the second report\r\n            ExtentHtmlReporter htmlReporter2 = new ExtentHtmlReporter(file2Path);\r\n    \r\n            // Append the details from the second report to the first report\r\n    \t\textentReports.attachReporter(htmlReporter2);\r\n    \r\n            \r\n            htmlReporter1.config().setTheme(Theme.STANDARD);\r\n            htmlReporter1.config().setDocumentTitle(&quot;Merged Report&quot;);\r\n            htmlReporter1.config().setEncoding(&quot;UTF-8&quot;);\r\n            htmlReporter1.config().setProtocol(Protocol.HTTPS);\r\n            \r\n    \r\n            // Flush the reports\r\n            extentReports.flush();\r\n           \r\n    \r\n            System.out.println(&quot;Merged Extent reports successfully!&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI tried the above code and it appended the details from 2nd file to 1st but it was not correctly merged.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1uGM.png","title":"Read the 2 extent reports and create a consolidated report by merging the test results","body":"<p>I am running the multiple automation suites in parallel and those all are creating the different extent reports.\nI want to my code to read the existing extent reports and create a consolidated one. is there any way to read the 2 extent reports and create a consolidated report by merging the test results?</p>\n<p>I tried below code but it is not merging the test results correctly.</p>\n<p>I am using 4.0.9 version for Extent Report.</p>\n<pre><code>   import com.aventstack.extentreports.ExtentReports;\n   import com.aventstack.extentreports.reporter.ExtentHtmlReporter;\n   import com.aventstack.extentreports.reporter.configuration.Protocol;\n   import com.aventstack.extentreports.reporter.configuration.Theme;\n\n   public class ExtentReportMerger1 {\n        public static void main(String[] args) {\n        String file1Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation- codebase\\\\logs\\\\Reports\\\\ExtentReports1.html&quot;;\n        String file2Path = &quot;D:\\\\CodeAutomation15\\\\ui-automation-codebase\\\\logs\\\\Reports\\\\ExtentReports2.html&quot;;\n\n        \n        // Load the first report\n        ExtentReports extentReports = new ExtentReports();\n        ExtentHtmlReporter htmlReporter1 = new ExtentHtmlReporter(file1Path);\n        extentReports.attachReporter(htmlReporter1);\n\n        // Load the second report\n        ExtentHtmlReporter htmlReporter2 = new ExtentHtmlReporter(file2Path);\n\n        // Append the details from the second report to the first report\n        extentReports.attachReporter(htmlReporter2);\n\n        \n        htmlReporter1.config().setTheme(Theme.STANDARD);\n        htmlReporter1.config().setDocumentTitle(&quot;Merged Report&quot;);\n        htmlReporter1.config().setEncoding(&quot;UTF-8&quot;);\n        htmlReporter1.config().setProtocol(Protocol.HTTPS);\n        \n\n        // Flush the reports\n        extentReports.flush();\n       \n\n        System.out.println(&quot;Merged Extent reports successfully!&quot;);\n    }\n}\n</code></pre>\n<p>I tried the above code and it appended the details from 2nd file to 1st but it was not correctly merged.</p>\n<p><a href=\"https://i.stack.imgur.com/I1uGM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1uGM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hbase","jruby","apple-m1","hbase-shell"],"comments":[{"owner":{"account_id":25378089,"reputation":21,"user_id":19190919,"display_name":"yxw"},"score":0,"creation_date":1653416969,"post_id":72367316,"comment_id":127846411,"body_markdown":"maybe caused by zulu-sdk: https://youtrack.jetbrains.com/issue/SCL-19382","body":"maybe caused by zulu-sdk: <a href=\"https://youtrack.jetbrains.com/issue/SCL-19382\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/SCL-19382</a>"},{"owner":{"account_id":25378089,"reputation":21,"user_id":19190919,"display_name":"yxw"},"score":0,"creation_date":1653418734,"post_id":72367316,"comment_id":127847017,"body_markdown":"Replace zulu-sdk with open-jdk installed by brew and remove UseConcMarkSweepG, it doesn&#39;t work.","body":"Replace zulu-sdk with open-jdk installed by brew and remove UseConcMarkSweepG, it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683970104,"creation_date":1683970104,"answer_id":76241995,"question_id":72367316,"body_markdown":"The problem is described [here][1].\r\n\r\nUnfortunately they fixed it only for HBase 2.6.0 &amp; 3.0.0-alpha-3.\r\nSince only the jruby version is replaced, I loaded the latest Hbase 3.0.0 from [here][2], and cherry-picked the jruby JAR which is stored at `lib/ruby/jruby-complete-9.3.4.0.jar` after extracting the tar.gz file.\r\n\r\nI replaced this JAR with the one in my HBase installation (v 2.2.5 btw) at `[hbase-root-dir]/lib/ruby` and it worked. \r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HBASE-26983?jql=text%20~%20%22NotImplementedError%3A%20fstat%20unimplemented%20unsupported%22\r\n  [2]: https://archive.apache.org/dist/hbase/3.0.0-alpha-3/hbase-3.0.0-alpha-3-bin.tar.gz","title":"Hbase shell error on M1 MacOS: fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)","body":"<p>The problem is described <a href=\"https://issues.apache.org/jira/browse/HBASE-26983?jql=text%20%7E%20%22NotImplementedError%3A%20fstat%20unimplemented%20unsupported%22\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Unfortunately they fixed it only for HBase 2.6.0 &amp; 3.0.0-alpha-3.\nSince only the jruby version is replaced, I loaded the latest Hbase 3.0.0 from <a href=\"https://archive.apache.org/dist/hbase/3.0.0-alpha-3/hbase-3.0.0-alpha-3-bin.tar.gz\" rel=\"nofollow noreferrer\">here</a>, and cherry-picked the jruby JAR which is stored at <code>lib/ruby/jruby-complete-9.3.4.0.jar</code> after extracting the tar.gz file.</p>\n<p>I replaced this JAR with the one in my HBase installation (v 2.2.5 btw) at <code>[hbase-root-dir]/lib/ruby</code> and it worked.</p>\n"}],"owner":{"account_id":25378089,"reputation":21,"user_id":19190919,"display_name":"yxw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683970104,"creation_date":1653414533,"question_id":72367316,"body_markdown":"\r\nIntall HBase by homebrew。But HBase shell run error on M1 MacOS, with the help of https://github.com/jruby/jruby/wiki/Native-Libraries, I add &quot;-Djruby.native.verbose=true&quot; to hbase shell commond, then get follow exception:\r\n\r\n```\r\nhbase shell\r\n/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\r\nFailed to load native POSIX impl; falling back on Java impl. Stacktrace follows.\r\njava.lang.UnsatisfiedLinkError: could not load FFI provider jnr.ffi.provider.jffi.Provider\r\n\tat jnr.ffi.provider.InvalidProvider$1.loadLibrary(InvalidProvider.java:48)\r\n\tat jnr.ffi.LibraryLoader.load(LibraryLoader.java:325)\r\n\tat jnr.ffi.Library.loadLibrary(Library.java:127)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\r\n\tat jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\r\n\tat jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\r\n\tat jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\r\n\tat jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\r\n\tat jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\r\n\tat jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\r\n\tat jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\r\n\tat jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\r\n\tat org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\r\n\tat org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\r\n\tat org.jruby.Ruby.newInstance(Ruby.java:706)\r\n\tat org.jruby.Main.internalRun(Main.java:273)\r\n\tat org.jruby.Main.run(Main.java:234)\r\n\tat org.jruby.Main.main(Main.java:206)\r\n\tat org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\r\nCaused by: java.lang.UnsatisfiedLinkError: could not get native definition for type `POINTER`, original error message follows: java.lang.UnsatisfiedLinkError: Unable to execute or load jffi binary stub from `/var/folders/fc/7tfwnckd6ks68plsldvspgc00000gn/T/`. Set `TMPDIR` or Java property `java.io.tmpdir` to a read/write path that is not mounted &quot;noexec&quot;.\r\n/Users/xiaowei/jffi5016109673047262420.dylib: dlopen(/Users/xiaowei/jffi5016109673047262420.dylib, 0x0001): tried: &#39;/Users/xiaowei/jffi5016109673047262420.dylib&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)), &#39;/usr/lib/jffi5016109673047262420.dylib&#39; (no such file)\r\n\tat com.kenai.jffi.internal.StubLoader.tempLoadError(StubLoader.java:424)\r\n\tat com.kenai.jffi.internal.StubLoader.loadFromJar(StubLoader.java:409)\r\n\tat com.kenai.jffi.internal.StubLoader.load(StubLoader.java:278)\r\n\tat com.kenai.jffi.internal.StubLoader.&lt;clinit&gt;(StubLoader.java:487)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat com.kenai.jffi.Init.load(Init.java:68)\r\n\tat com.kenai.jffi.Foreign$InstanceHolder.getInstanceHolder(Foreign.java:49)\r\n\tat com.kenai.jffi.Foreign$InstanceHolder.&lt;clinit&gt;(Foreign.java:45)\r\n\tat com.kenai.jffi.Foreign.getInstance(Foreign.java:103)\r\n\tat com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:242)\r\n\tat com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\r\n\tat com.kenai.jffi.Type.resolveSize(Type.java:155)\r\n\tat com.kenai.jffi.Type.size(Type.java:138)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\r\n\tat jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\r\n\tat jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.lang.Class.newInstance(Class.java:442)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\r\n\tat jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\r\n\tat jnr.ffi.Library.loadLibrary(Library.java:114)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\r\n\tat jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\r\n\tat jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\r\n\tat jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\r\n\tat jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\r\n\tat jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\r\n\tat jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\r\n\tat jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\r\n\tat jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\r\n\tat jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\r\n\tat org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\r\n\tat org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\r\n\tat org.jruby.Ruby.newInstance(Ruby.java:706)\r\n\tat org.jruby.Main.internalRun(Main.java:273)\r\n\tat org.jruby.Main.run(Main.java:234)\r\n\tat org.jruby.Main.main(Main.java:206)\r\n\tat org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\r\n\r\n\tat com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:253)\r\n\tat com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\r\n\tat com.kenai.jffi.Type.resolveSize(Type.java:155)\r\n\tat com.kenai.jffi.Type.size(Type.java:138)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\r\n\tat jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\r\n\tat jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\r\n\tat jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.lang.Class.newInstance(Class.java:442)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\r\n\tat jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\r\n\tat jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\r\n\tat jnr.ffi.Library.loadLibrary(Library.java:114)\r\n\t... 17 more\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hadoop/3.3.3/libexec/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hbase/2.4.5/libexec/lib/client-facing-thirdparty/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]\r\nHBase Shell\r\nUse &quot;help&quot; to get list of supported commands.\r\nUse &quot;exit&quot; to quit this interactive shell.\r\nFor Reference, please visit: http://hbase.apache.org/2.0/book.html#shell\r\nVersion 2.4.5, r03b8c0cf426cbae3284225b73040ec574d5bac34, Tue Jul 27 09:44:16 PDT 2021\r\nTook 0.0010 seconds\r\nNotImplementedError: fstat unimplemented unsupported or native support failed to load; see https://github.com/jruby/jruby/wiki/Native-Libraries\r\n  initialize at org/jruby/RubyIO.java:1015\r\n        open at org/jruby/RubyIO.java:1156\r\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/input-method.rb:141\r\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/context.rb:70\r\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb.rb:410\r\n  initialize at uri:classloader:/irb/hirb.rb:47\r\n       start at classpath:/jar-bootstrap.rb:225\r\n      &lt;main&gt; at classpath:/jar-bootstrap.rb:242\r\n\r\n```\r\n\r\nJAVA VERSION:\r\n```\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\r\n```\r\n\r\nHBase Version: HBase 2.4.5\r\n\r\nOS: MacOS 12.0.1\r\n\r\nArch: Apple M1\r\n\r\nAny Suggestion?","title":"Hbase shell error on M1 MacOS: fat file, but missing compatible architecture (have &#39;i386,x86_64&#39;, need &#39;arm64e&#39;)","body":"<p>Intall HBase by homebrew。But HBase shell run error on M1 MacOS, with the help of <a href=\"https://github.com/jruby/jruby/wiki/Native-Libraries\" rel=\"nofollow noreferrer\">https://github.com/jruby/jruby/wiki/Native-Libraries</a>, I add &quot;-Djruby.native.verbose=true&quot; to hbase shell commond, then get follow exception:</p>\n<pre><code>hbase shell\n/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\nFailed to load native POSIX impl; falling back on Java impl. Stacktrace follows.\njava.lang.UnsatisfiedLinkError: could not load FFI provider jnr.ffi.provider.jffi.Provider\n    at jnr.ffi.provider.InvalidProvider$1.loadLibrary(InvalidProvider.java:48)\n    at jnr.ffi.LibraryLoader.load(LibraryLoader.java:325)\n    at jnr.ffi.Library.loadLibrary(Library.java:127)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\n    at jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\n    at jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\n    at jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\n    at jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\n    at jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\n    at jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\n    at jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\n    at jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\n    at org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\n    at org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\n    at org.jruby.Ruby.newInstance(Ruby.java:706)\n    at org.jruby.Main.internalRun(Main.java:273)\n    at org.jruby.Main.run(Main.java:234)\n    at org.jruby.Main.main(Main.java:206)\n    at org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\nCaused by: java.lang.UnsatisfiedLinkError: could not get native definition for type `POINTER`, original error message follows: java.lang.UnsatisfiedLinkError: Unable to execute or load jffi binary stub from `/var/folders/fc/7tfwnckd6ks68plsldvspgc00000gn/T/`. Set `TMPDIR` or Java property `java.io.tmpdir` to a read/write path that is not mounted &quot;noexec&quot;.\n/Users/xiaowei/jffi5016109673047262420.dylib: dlopen(/Users/xiaowei/jffi5016109673047262420.dylib, 0x0001): tried: '/Users/xiaowei/jffi5016109673047262420.dylib' (fat file, but missing compatible architecture (have 'i386,x86_64', need 'arm64e')), '/usr/lib/jffi5016109673047262420.dylib' (no such file)\n    at com.kenai.jffi.internal.StubLoader.tempLoadError(StubLoader.java:424)\n    at com.kenai.jffi.internal.StubLoader.loadFromJar(StubLoader.java:409)\n    at com.kenai.jffi.internal.StubLoader.load(StubLoader.java:278)\n    at com.kenai.jffi.internal.StubLoader.&lt;clinit&gt;(StubLoader.java:487)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at com.kenai.jffi.Init.load(Init.java:68)\n    at com.kenai.jffi.Foreign$InstanceHolder.getInstanceHolder(Foreign.java:49)\n    at com.kenai.jffi.Foreign$InstanceHolder.&lt;clinit&gt;(Foreign.java:45)\n    at com.kenai.jffi.Foreign.getInstance(Foreign.java:103)\n    at com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:242)\n    at com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\n    at com.kenai.jffi.Type.resolveSize(Type.java:155)\n    at com.kenai.jffi.Type.size(Type.java:138)\n    at jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\n    at jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\n    at jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\n    at jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\n    at jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.lang.Class.newInstance(Class.java:442)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\n    at jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\n    at jnr.ffi.Library.loadLibrary(Library.java:114)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider$SingletonHolder.&lt;clinit&gt;(POSIXFactory.java:289)\n    at jnr.posix.POSIXFactory$DefaultLibCProvider.getLibC(POSIXFactory.java:318)\n    at jnr.posix.BaseNativePOSIX.&lt;init&gt;(BaseNativePOSIX.java:38)\n    at jnr.posix.MacOSPOSIX.&lt;init&gt;(MacOSPOSIX.java:13)\n    at jnr.posix.POSIXFactory.loadMacOSPOSIX(POSIXFactory.java:153)\n    at jnr.posix.POSIXFactory.loadNativePOSIX(POSIXFactory.java:121)\n    at jnr.posix.POSIXFactory.loadPOSIX(POSIXFactory.java:93)\n    at jnr.posix.LazyPOSIX.loadPOSIX(LazyPOSIX.java:38)\n    at jnr.posix.LazyPOSIX.posix(LazyPOSIX.java:32)\n    at jnr.posix.LazyPOSIX.isNative(LazyPOSIX.java:402)\n    at org.jruby.util.io.FilenoUtil.&lt;init&gt;(FilenoUtil.java:42)\n    at org.jruby.Ruby.&lt;init&gt;(Ruby.java:294)\n    at org.jruby.Ruby.newInstance(Ruby.java:706)\n    at org.jruby.Main.internalRun(Main.java:273)\n    at org.jruby.Main.run(Main.java:234)\n    at org.jruby.Main.main(Main.java:206)\n    at org.jruby.JarBootstrapMain.main(JarBootstrapMain.java:57)\n\n    at com.kenai.jffi.Type$Builtin.lookupTypeInfo(Type.java:253)\n    at com.kenai.jffi.Type$Builtin.getTypeInfo(Type.java:237)\n    at com.kenai.jffi.Type.resolveSize(Type.java:155)\n    at com.kenai.jffi.Type.size(Type.java:138)\n    at jnr.ffi.provider.jffi.NativeRuntime$TypeDelegate.size(NativeRuntime.java:178)\n    at jnr.ffi.provider.AbstractRuntime.&lt;init&gt;(AbstractRuntime.java:48)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:57)\n    at jnr.ffi.provider.jffi.NativeRuntime.&lt;init&gt;(NativeRuntime.java:41)\n    at jnr.ffi.provider.jffi.NativeRuntime$SingletonHolder.&lt;clinit&gt;(NativeRuntime.java:53)\n    at jnr.ffi.provider.jffi.NativeRuntime.getInstance(NativeRuntime.java:49)\n    at jnr.ffi.provider.jffi.Provider.&lt;init&gt;(Provider.java:29)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.lang.Class.newInstance(Class.java:442)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.getInstance(FFIProvider.java:68)\n    at jnr.ffi.provider.FFIProvider$SystemProviderSingletonHolder.&lt;clinit&gt;(FFIProvider.java:57)\n    at jnr.ffi.provider.FFIProvider.getSystemProvider(FFIProvider.java:35)\n    at jnr.ffi.Library.loadLibrary(Library.java:114)\n    ... 17 more\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hadoop/3.3.3/libexec/share/hadoop/common/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/opt/homebrew/Cellar/hbase/2.4.5/libexec/lib/client-facing-thirdparty/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Reload4jLoggerFactory]\nHBase Shell\nUse &quot;help&quot; to get list of supported commands.\nUse &quot;exit&quot; to quit this interactive shell.\nFor Reference, please visit: http://hbase.apache.org/2.0/book.html#shell\nVersion 2.4.5, r03b8c0cf426cbae3284225b73040ec574d5bac34, Tue Jul 27 09:44:16 PDT 2021\nTook 0.0010 seconds\nNotImplementedError: fstat unimplemented unsupported or native support failed to load; see https://github.com/jruby/jruby/wiki/Native-Libraries\n  initialize at org/jruby/RubyIO.java:1015\n        open at org/jruby/RubyIO.java:1156\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/input-method.rb:141\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb/context.rb:70\n  initialize at uri:classloader:/META-INF/jruby.home/lib/ruby/stdlib/irb.rb:410\n  initialize at uri:classloader:/irb/hirb.rb:47\n       start at classpath:/jar-bootstrap.rb:225\n      &lt;main&gt; at classpath:/jar-bootstrap.rb:242\n\n</code></pre>\n<p>JAVA VERSION:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (Zulu 8.54.0.21-CA-macos-aarch64) (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (Zulu 8.54.0.21-CA-macos-aarch64) (build 25.292-b10, mixed mode)\n</code></pre>\n<p>HBase Version: HBase 2.4.5</p>\n<p>OS: MacOS 12.0.1</p>\n<p>Arch: Apple M1</p>\n<p>Any Suggestion?</p>\n"},{"tags":["java","jboss7.x","business-objects","bcm"],"comments":[{"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1527585518,"post_id":50580484,"comment_id":88170456,"body_markdown":"Possible duplicate of [ExceptionInInitializerError - JBoss 7.0.2](https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2\">ExceptionInInitializerError - JBoss 7.0.2</a>"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1527596724,"post_id":50580484,"comment_id":88177850,"body_markdown":"Have you checked [this thread](https://developer.jboss.org/thread/203131) out ? It&#39;s similar but not identical to the linked question&#39;s most upvoted answer.","body":"Have you checked <a href=\"https://developer.jboss.org/thread/203131\" rel=\"nofollow noreferrer\">this thread</a> out ? It&#39;s similar but not identical to the linked question&#39;s most upvoted answer."},{"owner":{"account_id":11576433,"reputation":11,"user_id":8481578,"display_name":"Mukunda Pasumarthi"},"score":0,"creation_date":1527607982,"post_id":50580484,"comment_id":88185410,"body_markdown":"Hi @Aaron I have tried that too but no luck","body":"Hi @Aaron I have tried that too but no luck"}],"owner":{"account_id":11576433,"reputation":11,"user_id":8481578,"display_name":"Mukunda Pasumarthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683969470,"creation_date":1527584952,"question_id":50580484,"body_markdown":"I am trying to deploy a war file which creates `IEnterpriseSession`. I am able to successfully run on Tomcat, but when I run it on JBoss, I get the below error at this step `sessionMgr.logon(trustedPrincipal);`:\r\n\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n\t    at com.businessobjects.bcm.BCM.&amp;lt;clinit&amp;gt;(BCM.java:1144)\r\n\t    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getRandomString(TrustedPrincipal.java:252)\r\n\t    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getPassword(TrustedPrincipal.java:195)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody22(SessionMgr.java:850)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody20(SessionMgr.java:818)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody21$advice(SessionMgr.java:512)\r\n\t    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\r\n\r\nI tried with the solution mentioned in the https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2, but I still couldn&#39;t get through.\r\n\r\nI was digging more into the error and this is where I am stuck \r\n\r\n    Caused by: java.lang.SecurityException: An internal FIPS 140 self-verification test has \r\n                                            failed.  Algorithm HMAC has been disabled\r\n    \tat com.rsa.cryptoj.f.ug.d(Unknown Source)\r\n    \tat com.rsa.cryptoj.f.ug.b(Unknown Source)\r\n    \tat com.rsa.cryptoj.f.nd.b(Unknown Source)\r\n    \tat com.rsa.cryptoj.f.nd.c(Unknown Source)\r\n    \tat com.rsa.jsafe.CryptoJ.isFIPS140Compliant(Unknown Source)\r\n    \tat com.businessobjects.bcm.internal.BcmRsaLib.initialize(BcmRsaLib.java:214)\r\n    \tat com.businessobjects.bcm.internal.BcmRsaLib.&lt;clinit&gt;(BcmRsaLib.java:289)\r\n\r\nCan someone help me to get it working on JBoss?","title":"java.lang.ExceptionInInitializerError at com.businessobjects.bcm.BCM.&lt;clinit&gt;(BCM.java:1144)","body":"<p>I am trying to deploy a war file which creates <code>IEnterpriseSession</code>. I am able to successfully run on Tomcat, but when I run it on JBoss, I get the below error at this step <code>sessionMgr.logon(trustedPrincipal);</code>:</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError\n    at com.businessobjects.bcm.BCM.&amp;lt;clinit&amp;gt;(BCM.java:1144)\n    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getRandomString(TrustedPrincipal.java:252)\n    at com.crystaldecisions.sdk.framework.internal.TrustedPrincipal.getPassword(TrustedPrincipal.java:195)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody22(SessionMgr.java:850)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody20(SessionMgr.java:818)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon_aroundBody21$advice(SessionMgr.java:512)\n    at com.crystaldecisions.sdk.framework.internal.SessionMgr.logon(SessionMgr.java:1)\n</code></pre>\n<p>I tried with the solution mentioned in the <a href=\"https://stackoverflow.com/questions/11659655/exceptionininitializererror-jboss-7-0-2\">ExceptionInInitializerError - JBoss 7.0.2</a>, but I still couldn't get through.</p>\n<p>I was digging more into the error and this is where I am stuck</p>\n<pre><code>Caused by: java.lang.SecurityException: An internal FIPS 140 self-verification test has \n                                        failed.  Algorithm HMAC has been disabled\n    at com.rsa.cryptoj.f.ug.d(Unknown Source)\n    at com.rsa.cryptoj.f.ug.b(Unknown Source)\n    at com.rsa.cryptoj.f.nd.b(Unknown Source)\n    at com.rsa.cryptoj.f.nd.c(Unknown Source)\n    at com.rsa.jsafe.CryptoJ.isFIPS140Compliant(Unknown Source)\n    at com.businessobjects.bcm.internal.BcmRsaLib.initialize(BcmRsaLib.java:214)\n    at com.businessobjects.bcm.internal.BcmRsaLib.&lt;clinit&gt;(BcmRsaLib.java:289)\n</code></pre>\n<p>Can someone help me to get it working on JBoss?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-form"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1683937296,"post_id":76239423,"comment_id":134448179,"body_markdown":"what do you mean modify? what is it you want to actually do?","body":"what do you mean modify? what is it you want to actually do?"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1683944661,"post_id":76239423,"comment_id":134448599,"body_markdown":"Change the default error message.","body":"Change the default error message."},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1683976815,"post_id":76239423,"comment_id":134451128,"body_markdown":"@dur, that is not working, and the link you provided is for legacy oauth. not the new oauth (i.e 2.1). compactable with spring boot 3 and above","body":"@dur, that is not working, and the link you provided is for legacy oauth. not the new oauth (i.e 2.1). compactable with spring boot 3 and above"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1684007239,"post_id":76239423,"comment_id":134454782,"body_markdown":"@Thirumal OAuth2? Your Spring Security configuration doesn&#39;t contain OAuth2. If you use OAuth2, you should show your real Spring Security configuration.","body":"@Thirumal OAuth2? Your Spring Security configuration doesn&#39;t contain OAuth2. If you use OAuth2, you should show your real Spring Security configuration."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1684007408,"post_id":76239423,"comment_id":134454807,"body_markdown":"@Thirumal The answer in the other question is still working with Spring Boot 3/Spring Securits 6, see https://github.com/spring-projects/spring-security/blob/6.0.3/core/src/main/resources/org/springframework/security/messages.properties","body":"@Thirumal The answer in the other question is still working with Spring Boot 3/Spring Securits 6, see <a href=\"https://github.com/spring-projects/spring-security/blob/6.0.3/core/src/main/resources/org/springframework/security/messages.properties\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/6.0.3/core/s&zwnj;&#8203;rc/&hellip;</a>"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683979958,"answer_count":0,"score":0,"last_activity_date":1683969364,"creation_date":1683920013,"question_id":76239423,"body_markdown":"How to modify `Bad credentials` error message in spring security login?\r\n\r\nSecurityFilterChain\r\n```\r\n\tpublic SecurityFilterChain applicationSecurityFilterChain(HttpSecurity http)\r\n\t\t\tthrows Exception {\r\n\t\thttp.anonymous().disable();\r\n\t\thttp.cors().and().authorizeHttpRequests().permitAll();\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests(authorize -&gt; authorize\r\n\t\t\t\t//\t.requestMatchers(HttpMethod.POST, &quot;/user/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated())\r\n\t\t\t// Form login handles the redirect to the login page from the\r\n\t\t\t// authorization server filter chain\r\n\t\t\t.formLogin(Customizer.withDefaults());\r\n\t\thttp.csrf().disable();\r\n\t\treturn http.build();\r\n\t}\r\n```\r\nAlso, added `messages_en.properties` files in the `src/main/resource` \r\n\r\n```\r\nmessage.badCredentials=Invalid user name and password\r\n```\r\n\r\nStill getting the same error message.\r\n\r\nSpring boot 3.0.6","title":"How to modify Bad credentials message in spring security login?","body":"<p>How to modify <code>Bad credentials</code> error message in spring security login?</p>\n<p>SecurityFilterChain</p>\n<pre><code>    public SecurityFilterChain applicationSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        http.anonymous().disable();\n        http.cors().and().authorizeHttpRequests().permitAll();\n        http\n            .authorizeHttpRequests(authorize -&gt; authorize\n                //  .requestMatchers(HttpMethod.POST, &quot;/user/**&quot;).permitAll()\n                .anyRequest().authenticated())\n            // Form login handles the redirect to the login page from the\n            // authorization server filter chain\n            .formLogin(Customizer.withDefaults());\n        http.csrf().disable();\n        return http.build();\n    }\n</code></pre>\n<p>Also, added <code>messages_en.properties</code> files in the <code>src/main/resource</code></p>\n<pre><code>message.badCredentials=Invalid user name and password\n</code></pre>\n<p>Still getting the same error message.</p>\n<p>Spring boot 3.0.6</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683956952,"post_id":76237220,"comment_id":134449306,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1683965590,"post_id":76237220,"comment_id":134449988,"body_markdown":"@AlexMamo I want to retrieve data from the key but I can&#39;t get into the key","body":"@AlexMamo I want to retrieve data from the key but I can&#39;t get into the key"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683969090,"creation_date":1683969090,"answer_id":76241936,"question_id":76237220,"body_markdown":"According to your last comment:\r\n\r\n&gt; I want to retrieve data from the key but I can&#39;t get into the key.\r\n\r\nThis is most likely because of the following line of code:\r\n\r\n    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\r\n\r\n\r\nYour node name is `Orders` and not `OrdersAdimin`. So please change the above line into:\r\n\r\n    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Orders&quot;)","title":"Retrieving data from firebase which is stored under key which is generated in other application","body":"<p>According to your last comment:</p>\n<blockquote>\n<p>I want to retrieve data from the key but I can't get into the key.</p>\n</blockquote>\n<p>This is most likely because of the following line of code:</p>\n<pre><code>.setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\n</code></pre>\n<p>Your node name is <code>Orders</code> and not <code>OrdersAdimin</code>. So please change the above line into:</p>\n<pre><code>.setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Orders&quot;)\n</code></pre>\n"}],"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683969130,"creation_date":1683901101,"question_id":76237220,"body_markdown":"I want to retrieve data from a child &quot;Orders&quot; but data is stored under a number then data is stored under a key which is generated in another application but I can&#39;t find a way\r\n\r\nthis is the code of recycle view where data is being retrieved\r\n\r\n    recyclerVieww.setLayoutManager(new LinearLayoutManager(this));\r\n        FirebaseRecyclerOptions&lt;historyModel&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;historyModel&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\r\n                                , historyModel.class)\r\n                        .build();\r\n\r\n        catAdapt = new historyAdapter(options);\r\n        recyclerVieww.setAdapter(catAdapt);\r\n\r\n\r\nthis is the JSON file:\r\n\r\n    &quot;Orders&quot;: {\r\n    &quot;12&quot;: {\r\n      &quot;-NV3N3KYwcjXo5hfZ6h1&quot;: {\r\n        &quot;BuyerPhoen&quot;: &quot;12&quot;,\r\n        &quot;PickUP&quot;: &quot;Of-16&quot;,\r\n        &quot;date&quot;: &quot;May 10, 2023&quot;,\r\n        &quot;orderId&quot;: &quot;-NV3N3KYwcjXo5hfZ6h1&quot;,\r\n        &quot;productName&quot;: &quot;Sprite(250ml)&quot;,\r\n        &quot;productPrice&quot;: &quot;₹25&quot;,\r\n        &quot;quantity&quot;: &quot;1&quot;,\r\n        &quot;time&quot;: &quot;12:06:37 PM&quot;,\r\n        &quot;totalPrice&quot;: 25\r\n      }\r\n    }\r\n","title":"Retrieving data from firebase which is stored under key which is generated in other application","body":"<p>I want to retrieve data from a child &quot;Orders&quot; but data is stored under a number then data is stored under a key which is generated in another application but I can't find a way</p>\n<p>this is the code of recycle view where data is being retrieved</p>\n<pre><code>recyclerVieww.setLayoutManager(new LinearLayoutManager(this));\n    FirebaseRecyclerOptions&lt;historyModel&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;historyModel&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;OrdersAdimin&quot;)\n                            , historyModel.class)\n                    .build();\n\n    catAdapt = new historyAdapter(options);\n    recyclerVieww.setAdapter(catAdapt);\n</code></pre>\n<p>this is the JSON file:</p>\n<pre><code>&quot;Orders&quot;: {\n&quot;12&quot;: {\n  &quot;-NV3N3KYwcjXo5hfZ6h1&quot;: {\n    &quot;BuyerPhoen&quot;: &quot;12&quot;,\n    &quot;PickUP&quot;: &quot;Of-16&quot;,\n    &quot;date&quot;: &quot;May 10, 2023&quot;,\n    &quot;orderId&quot;: &quot;-NV3N3KYwcjXo5hfZ6h1&quot;,\n    &quot;productName&quot;: &quot;Sprite(250ml)&quot;,\n    &quot;productPrice&quot;: &quot;₹25&quot;,\n    &quot;quantity&quot;: &quot;1&quot;,\n    &quot;time&quot;: &quot;12:06:37 PM&quot;,\n    &quot;totalPrice&quot;: 25\n  }\n}\n</code></pre>\n"},{"tags":["java","parquet","avro","apache-drill","duckdb"],"owner":{"account_id":9558972,"reputation":41,"user_id":7100524,"display_name":"Stefan Ziegler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683968571,"creation_date":1681048520,"question_id":75970956,"body_markdown":"I&#39;m trying to write local timestamps to a Parquet file with Java. As far as I understand, Avro supports local timestamps (https://avro.apache.org/docs/1.11.0/spec.html), which corresponds to Parquet&#39;s `TIMESTAMP(isAdjustedToUTC=false, unit=MILLIS `. My schema definition looks like:\r\n\r\n    LocalTimestampMillis datetimeType = LogicalTypes.localTimestampMillis();\r\n    field = new Schema.Field(attrDesc.getAttributeName(), Schema.createUnion(datetimeType.addToSchema(Schema.create(Schema.Type.LONG)), Schema.create(Schema.Type.NULL)), null, null);\r\n\r\nApache Drill and duckdb interpret the field as Bigint / int64 and do not show the timestamp but just the integer value.\r\n\r\nDid I miss something in the field definition or is this an incompatibility between libraries?\r\n\r\nI&#39;m using avro-1.11.1, parquet-avro-1.12.3, hadoop-core-1.2.1 and parquet-hadoop-1.12.3.\r\n\r\n","title":"Write parquet file with local timestamp with avro schema","body":"<p>I'm trying to write local timestamps to a Parquet file with Java. As far as I understand, Avro supports local timestamps (<a href=\"https://avro.apache.org/docs/1.11.0/spec.html\" rel=\"nofollow noreferrer\">https://avro.apache.org/docs/1.11.0/spec.html</a>), which corresponds to Parquet's <code>TIMESTAMP(isAdjustedToUTC=false, unit=MILLIS </code>. My schema definition looks like:</p>\n<pre><code>LocalTimestampMillis datetimeType = LogicalTypes.localTimestampMillis();\nfield = new Schema.Field(attrDesc.getAttributeName(), Schema.createUnion(datetimeType.addToSchema(Schema.create(Schema.Type.LONG)), Schema.create(Schema.Type.NULL)), null, null);\n</code></pre>\n<p>Apache Drill and duckdb interpret the field as Bigint / int64 and do not show the timestamp but just the integer value.</p>\n<p>Did I miss something in the field definition or is this an incompatibility between libraries?</p>\n<p>I'm using avro-1.11.1, parquet-avro-1.12.3, hadoop-core-1.2.1 and parquet-hadoop-1.12.3.</p>\n"},{"tags":["java","events","javafx","keyevent","event-driven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":7,"creation_date":1683913839,"post_id":76238811,"comment_id":134444929,"body_markdown":"Have you read [the documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--)? --- `char`s in Java are UTF-16 encoded. Unicode characters might be larger than a single UTF-16 `char`, so they &quot;would not fit&quot;.","body":"Have you read <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--\" rel=\"nofollow noreferrer\">the documentation</a>? --- <code>char</code>s in Java are UTF-16 encoded. Unicode characters might be larger than a single UTF-16 <code>char</code>, so they &quot;would not fit&quot;."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683915173,"post_id":76238811,"comment_id":134445175,"body_markdown":"Actually, I am not familiar with them. Any summary? From my initial reading UTF-16 is an encoding of Unicode.","body":"Actually, I am not familiar with them. Any summary? From my initial reading UTF-16 is an encoding of Unicode."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1683915594,"post_id":76238811,"comment_id":134445246,"body_markdown":"[&quot;...  in which each character is composed of either one or two 16-bit elements.&quot;](https://www.ibm.com/docs/en/i/7.2?topic=unicode-utf-16)","body":"<a href=\"https://www.ibm.com/docs/en/i/7.2?topic=unicode-utf-16\" rel=\"nofollow noreferrer\">&quot;...  in which each character is composed of either one or two 16-bit elements.&quot;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1683916079,"post_id":76238811,"comment_id":134445326,"body_markdown":"The point is that `char`, which is a 16-bit number, is not big enough to represent all valid characters in the world. And as [the documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()) states: &quot;_The Unicode character **or sequence of characters** associated with the key typed event. Contains **multiple elements** if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself_&quot;.","body":"The point is that <code>char</code>, which is a 16-bit number, is not big enough to represent all valid characters in the world. And as <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()\" rel=\"nofollow noreferrer\">the documentation</a> states: &quot;<i>The Unicode character <b>or sequence of characters</b> associated with the key typed event. Contains <b>multiple elements</b> if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself</i>&quot;."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683916683,"post_id":76238811,"comment_id":134445406,"body_markdown":"So, you mean that this string length may be 2. Do you please suggest any character that I can copy and paste in my textfield that will result in length of 2?","body":"So, you mean that this string length may be 2. Do you please suggest any character that I can copy and paste in my textfield that will result in length of 2?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683916804,"post_id":76238811,"comment_id":134445421,"body_markdown":"@OsamaEl-Ghonimy If you copy and paste it, it&#39;s not going to generate a key event (or if it does, it&#39;ll be the key stroke combination that is used to trigger the paste command, such as ctrl-V, not the text that was pasted). Try some emojis, if your keyboard has a mechanism to type them.","body":"@OsamaEl-Ghonimy If you copy and paste it, it&#39;s not going to generate a key event (or if it does, it&#39;ll be the key stroke combination that is used to trigger the paste command, such as ctrl-V, not the text that was pasted). Try some emojis, if your keyboard has a mechanism to type them."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1683916912,"post_id":76238811,"comment_id":134445436,"body_markdown":"If you&#39;re registering an event handler for key events on a text field, you are almost certainly doing the wrong thing anyway.","body":"If you&#39;re registering an event handler for key events on a text field, you are almost certainly doing the wrong thing anyway."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683917059,"post_id":76238811,"comment_id":134445461,"body_markdown":"Why? I am practicing converting the input length while I write. So, when I type a digit, it is converted, not when I press a button. Any other suggestion?","body":"Why? I am practicing converting the input length while I write. So, when I type a digit, it is converted, not when I press a button. Any other suggestion?"},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683917127,"post_id":76238811,"comment_id":134445471,"body_markdown":"Another question: So, how I test if the input is digit or not. I think texting ```Character.isDigit(e.getCharacter().charAt(0))``` will not be right in case of character of length 2","body":"Another question: So, how I test if the input is digit or not. I think texting <code>Character.isDigit(e.getCharacter().charAt(0))</code> will not be right in case of character of length 2"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1683917912,"post_id":76238811,"comment_id":134445603,"body_markdown":"&quot;_So, you mean that this string length may be 2. Do you please suggest any character..._&quot; -- Example: `&quot;&#152686;&quot;.length()` will return `2`.","body":"&quot;<i>So, you mean that this string length may be 2. Do you please suggest any character...</i>&quot; -- Example: <code>&quot;𥑮&quot;.length()</code> will return <code>2</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1683918228,"post_id":76238811,"comment_id":134445647,"body_markdown":"&quot;_So, when I type a digit, it is converted, not when I press a button_&quot; -- If you&#39;re trying to dynamically convert the text to a number, then that should be done via a `TextFormatter`. If you&#39;re trying to dynamically get the &quot;length&quot; of the text field&#39;s text, then you should do something like `aTextField.textProperty().length()`, which will return an `IntegerBinding`. For instance, you could have a label show the length of a text field&#39;s text by doing `aLabel.textProperty().bind(aTextField.textProperty().length().asString())`.","body":"&quot;<i>So, when I type a digit, it is converted, not when I press a button</i>&quot; -- If you&#39;re trying to dynamically convert the text to a number, then that should be done via a <code>TextFormatter</code>. If you&#39;re trying to dynamically get the &quot;length&quot; of the text field&#39;s text, then you should do something like <code>aTextField.textProperty().length()</code>, which will return an <code>IntegerBinding</code>. For instance, you could have a label show the length of a text field&#39;s text by doing <code>aLabel.textProperty().bind(aTextField.textProperty().length(&zwnj;&#8203;).asString())</code>."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1683918997,"post_id":76238811,"comment_id":134445796,"body_markdown":"I think the problem is in my description. The input in textfield is a number representing a length in meter which I convert to cm as the user types by multiplying to 100. This is just a dummy example.\nThnaks for the letter.","body":"I think the problem is in my description. The input in textfield is a number representing a length in meter which I convert to cm as the user types by multiplying to 100. This is just a dummy example. Thnaks for the letter."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683921373,"post_id":76238811,"comment_id":134446191,"body_markdown":"is the question about `javafx.scene.input.KeyEvent`? From its [documentation](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--): &quot;*The Unicode character or sequence of characters associated with the key typed event. Contains multiple elements if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself.*&quot;","body":"is the question about <code>javafx.scene.input.KeyEvent</code>? From its <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/input/KeyEvent.html#getCharacter--\" rel=\"nofollow noreferrer\">documentation</a>: &quot;<i>The Unicode character or sequence of characters associated with the key typed event. Contains multiple elements if the key produced a single Unicode character from outside of the Basic Multilingual Plane which needs to be encoded by the corresponding surrogate pair in Java or if the key produced multiple Unicode characters itself.</i>&quot;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683997692,"post_id":76238811,"comment_id":134453658,"body_markdown":"*&quot;I think the problem is in my description.&quot;*. No, it&#39;s in your implementation. If you rely on a key event handler on a text field, your application will be in an inconsistent state if, for example, the user copies and pastes text with the mouse. (And that is just one example. You won&#39;t improve the situation by also registering mouse listeners, etc.)","body":"<i>&quot;I think the problem is in my description.&quot;</i>. No, it&#39;s in your implementation. If you rely on a key event handler on a text field, your application will be in an inconsistent state if, for example, the user copies and pastes text with the mouse. (And that is just one example. You won&#39;t improve the situation by also registering mouse listeners, etc.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683997843,"post_id":76238811,"comment_id":134453681,"body_markdown":"If you want to limit the text that can be entered (by any means) in a text field, use a `TextFormatter` as previously suggested. If you need to respond to changes that are committed, include a converter in the text formatter and register a listener with the formatter&#39;s `valueProperty`. If you want to dynamically change something *as the user enters text* (without committing the change), register a listener with the text field&#39;s `textProperty`.","body":"If you want to limit the text that can be entered (by any means) in a text field, use a <code>TextFormatter</code> as previously suggested. If you need to respond to changes that are committed, include a converter in the text formatter and register a listener with the formatter&#39;s <code>valueProperty</code>. If you want to dynamically change something <i>as the user enters text</i> (without committing the change), register a listener with the text field&#39;s <code>textProperty</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683968123,"creation_date":1683928919,"answer_id":76240187,"question_id":76238811,"body_markdown":"# `KeyEvent#getCharacter()` returns `String`\r\n\r\n&gt; Based on my understanding, the getCharacter() method of KeyEvent should return a char type.\r\n\r\nFrom where did you get that understanding? The Javadoc for [`javafx.scene.input.KeyEvent#getCharacter()`][1] says that method returns a [`String`][2] object reference, not a `char` primitive.\r\n\r\n# Avoid `char`\r\n\r\nUnderstand that `char` is a legacy type, essentially broken since Java 2, legacy since Java 5. As a 16-bit value, a `char` is physically incapable of representing most of the 149,186 characters defined in [Unicode][3].\r\n\r\n# Code points\r\n\r\nInstead use [code point][4] integer numbers to work with individual characters. \r\n\r\n    int[] codePoints = myKeyEvent.getCharacter().codePoints().toArray() ;\r\n\r\nYou can then interrogate if any of those [code points represents a digit][5].\r\n\r\n    boolean isDigit = Character.isDigit( myCodePoint ) ;\r\n\r\n# Example code\r\n\r\n```java\r\nString input = &quot;A1&#128567;&quot;;  // FACE WITH MEDICAL MASK  is hex 1F637, decimal 128,567.\r\n\r\nSystem.out.println( &quot;input.length(): &quot; + input.length() ) ;  \r\nSystem.out.println( &quot;Count code points: &quot; + input.codePoints().count() + &quot;\\n&quot; ) ;\r\n  \r\ninput.codePoints ( ).forEach (\r\n        ( int codePoint ) -&gt;\r\n        {\r\n            System.out.println (\r\n                    &quot;Code point: &quot; + codePoint +\r\n                            &quot; | name: &quot; + Character.getName ( codePoint ) +\r\n                            &quot; | digit: &quot; + Character.isDigit ( codePoint ) +\r\n                            &quot; | = &quot; + Character.toString ( codePoint ) +\r\n                            &quot;\\n- - - - - - - - - - - - - - - - - - - - &quot;\r\n            );\r\n        }\r\n);\r\n```\r\n\r\nSee this [code run at Ideone.com][6].\r\n\r\n```none\r\ninput.length(): 4\r\nCount code points: 3\r\n\r\nCode point: 65 | name: LATIN CAPITAL LETTER A | digit: false | = A\r\n- - - - - - - - - - - - - - - - - - - - \r\nCode point: 49 | name: DIGIT ONE | digit: true | = 1\r\n- - - - - - - - - - - - - - - - - - - - \r\nCode point: 128567 | name: FACE WITH MEDICAL MASK | digit: false | = &#128567;\r\n- - - - - - - - - - - - - - - - - - - - \r\n```\r\n\r\nYou said:\r\n\r\n&gt; I can just use Character.isDigit(e.getCharacter())\r\n\r\nNo, you cannot. The `isDigit` method takes either a legacy `char` or a modern code point `int`. The `getCharacter` method returns neither of those; that method returns a `String` as discussed above.\r\n\r\n\r\n----------\r\n\r\nFor background info, see the surprisingly entertaining article: [*The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)*](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) by Joel Spolsky.\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\r\n  [3]: https://en.wikipedia.org/wiki/Unicode\r\n  [4]: https://en.wikipedia.org/wiki/Code_point\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isDigit(int)\r\n  [6]: https://ideone.com/FN4tgA","title":"Why KeyEvent getCharacter returns a string not a character","body":"<h1><code>KeyEvent#getCharacter()</code> returns <code>String</code></h1>\n<blockquote>\n<p>Based on my understanding, the getCharacter() method of KeyEvent should return a char type.</p>\n</blockquote>\n<p>From where did you get that understanding? The Javadoc for <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/input/KeyEvent.html#getCharacter()\" rel=\"nofollow noreferrer\"><code>javafx.scene.input.KeyEvent#getCharacter()</code></a> says that method returns a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> object reference, not a <code>char</code> primitive.</p>\n<h1>Avoid <code>char</code></h1>\n<p>Understand that <code>char</code> is a legacy type, essentially broken since Java 2, legacy since Java 5. As a 16-bit value, a <code>char</code> is physically incapable of representing most of the 149,186 characters defined in <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<h1>Code points</h1>\n<p>Instead use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers to work with individual characters.</p>\n<pre><code>int[] codePoints = myKeyEvent.getCharacter().codePoints().toArray() ;\n</code></pre>\n<p>You can then interrogate if any of those <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#isDigit(int)\" rel=\"nofollow noreferrer\">code points represents a digit</a>.</p>\n<pre><code>boolean isDigit = Character.isDigit( myCodePoint ) ;\n</code></pre>\n<h1>Example code</h1>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;A1😷&quot;;  // FACE WITH MEDICAL MASK  is hex 1F637, decimal 128,567.\n\nSystem.out.println( &quot;input.length(): &quot; + input.length() ) ;  \nSystem.out.println( &quot;Count code points: &quot; + input.codePoints().count() + &quot;\\n&quot; ) ;\n  \ninput.codePoints ( ).forEach (\n        ( int codePoint ) -&gt;\n        {\n            System.out.println (\n                    &quot;Code point: &quot; + codePoint +\n                            &quot; | name: &quot; + Character.getName ( codePoint ) +\n                            &quot; | digit: &quot; + Character.isDigit ( codePoint ) +\n                            &quot; | = &quot; + Character.toString ( codePoint ) +\n                            &quot;\\n- - - - - - - - - - - - - - - - - - - - &quot;\n            );\n        }\n);\n</code></pre>\n<p>See this <a href=\"https://ideone.com/FN4tgA\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>input.length(): 4\nCount code points: 3\n\nCode point: 65 | name: LATIN CAPITAL LETTER A | digit: false | = A\n- - - - - - - - - - - - - - - - - - - - \nCode point: 49 | name: DIGIT ONE | digit: true | = 1\n- - - - - - - - - - - - - - - - - - - - \nCode point: 128567 | name: FACE WITH MEDICAL MASK | digit: false | = 😷\n- - - - - - - - - - - - - - - - - - - - \n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>I can just use Character.isDigit(e.getCharacter())</p>\n</blockquote>\n<p>No, you cannot. The <code>isDigit</code> method takes either a legacy <code>char</code> or a modern code point <code>int</code>. The <code>getCharacter</code> method returns neither of those; that method returns a <code>String</code> as discussed above.</p>\n<hr />\n<p>For background info, see the surprisingly entertaining article: <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\"><em>The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</em></a> by Joel Spolsky.</p>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76240187,"answer_count":1,"score":0,"last_activity_date":1683968123,"creation_date":1683913582,"question_id":76238811,"body_markdown":"Based on my understanding, the ```getCharacter()``` method of ```KeyEvent``` should return a ```char``` type.\r\n\r\nFor example, if I have to check if the typed key is a digit, I can just use ```Character.isDigit(e.getCharacter())``` not ```Character.isDigit(e.getCharacter().charAt(0))```.\r\n\r\nI also checked the length of the returned string by printing ```e.getCharacter().length()``` it always returns ```1```. Any explanation or other usage of this string?","title":"Why KeyEvent getCharacter returns a string not a character","body":"<p>Based on my understanding, the <code>getCharacter()</code> method of <code>KeyEvent</code> should return a <code>char</code> type.</p>\n<p>For example, if I have to check if the typed key is a digit, I can just use <code>Character.isDigit(e.getCharacter())</code> not <code>Character.isDigit(e.getCharacter().charAt(0))</code>.</p>\n<p>I also checked the length of the returned string by printing <code>e.getCharacter().length()</code> it always returns <code>1</code>. Any explanation or other usage of this string?</p>\n"},{"tags":["java","mysql","hibernate","large-data-volumes","scrollableresults"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1429218787,"post_id":2826319,"comment_id":47509157,"body_markdown":"You may be able to partition your data so you don&#39;t have to read as much at a time, ref: http://stackoverflow.com/questions/8325745/how-to-implement-several-threads-in-java-for-downloading-a-single-table-data/29502316#29502316","body":"You may be able to partition your data so you don&#39;t have to read as much at a time, ref: <a href=\"http://stackoverflow.com/questions/8325745/how-to-implement-several-threads-in-java-for-downloading-a-single-table-data/29502316#29502316\" title=\"how to implement several threads in java for downloading a single table data\">stackoverflow.com/questions/8325745/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273751683,"creation_date":1273751134,"answer_id":2826441,"question_id":2826319,"body_markdown":"With 90 million records, it sounds like you should be batching your SELECTs.  I&#39;ve done with with Oracle when doing the initial load into a distrbuted cache.  Looking at the MySQL documentation, the equivalent seems to be using the LIMIT clause: http://dev.mysql.com/doc/refman/5.0/en/select.html\r\n\r\nHere&#39;s an example:\r\n\r\n    SELECT * from Person\r\n    LIMIT 200, 100\r\n\r\nThis would return rows 201 through 300 of the `Person` table.\r\n\r\nYou&#39;d need to get the record count from your table first and then divide it by your batch size and work out your looping and `LIMIT` parameters from there.\r\n\r\nThe other benefit of this would be parallelism - you can execute multiple threads in parallel on this for faster processing.\r\n\r\nProcessing 90 million records also doesn&#39;t sound like the sweet spot for using Hibernate.","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>With 90 million records, it sounds like you should be batching your SELECTs.  I've done with with Oracle when doing the initial load into a distrbuted cache.  Looking at the MySQL documentation, the equivalent seems to be using the LIMIT clause: <a href=\"http://dev.mysql.com/doc/refman/5.0/en/select.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.0/en/select.html</a></p>\n\n<p>Here's an example:</p>\n\n<pre><code>SELECT * from Person\nLIMIT 200, 100\n</code></pre>\n\n<p>This would return rows 201 through 300 of the <code>Person</code> table.</p>\n\n<p>You'd need to get the record count from your table first and then divide it by your batch size and work out your looping and <code>LIMIT</code> parameters from there.</p>\n\n<p>The other benefit of this would be parallelism - you can execute multiple threads in parallel on this for faster processing.</p>\n\n<p>Processing 90 million records also doesn't sound like the sweet spot for using Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":16365,"reputation":8569,"user_id":35500,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1273795072,"creation_date":1273751775,"answer_id":2826512,"question_id":2826319,"body_markdown":"Using setFirstResult and setMaxResults is your only option that I&#39;m aware of.\r\n\r\nTraditionally a scrollable resultset would only transfer rows to the client on an as required basis. Unfortunately the MySQL Connector/J actually fakes it, it executes the entire query and transports it to the client, so the driver actually has the entire result set loaded in RAM and will drip feed it to you (evidenced by your out of memory problems). You had the right idea, it&#39;s just shortcomings in the MySQL java driver.\r\n\r\nI found no way to get around this, so went with loading large chunks using the regular setFirst/max methods. Sorry to be the bringer of bad news.\r\n\r\nJust make sure to use a stateless session so there&#39;s no session level cache or dirty tracking etc.\r\n\r\nEDIT:\r\n\r\nYour UPDATE 2 is the best you&#39;re going to get unless you break out of the MySQL J/Connector. Though there&#39;s no reason you can&#39;t up the limit on the query. Provided you have enough RAM to hold the index this should be a somewhat cheap operation. I&#39;d modify it slightly, and grab a batch at a time, and use the highest id of that batch to grab the next batch.\r\n\r\nNote: this will only work if **other_conditions** use equality (no range conditions allowed) and have the last column of the index as **id**. \r\n\r\n    select * \r\n    from person \r\n    where id &gt; &lt;max_id_of_last_batch&gt; and &lt;other_conditions&gt; \r\n    order by id asc  \r\n    limit &lt;batch_size&gt;\r\n","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Using setFirstResult and setMaxResults is your only option that I'm aware of.</p>\n\n<p>Traditionally a scrollable resultset would only transfer rows to the client on an as required basis. Unfortunately the MySQL Connector/J actually fakes it, it executes the entire query and transports it to the client, so the driver actually has the entire result set loaded in RAM and will drip feed it to you (evidenced by your out of memory problems). You had the right idea, it's just shortcomings in the MySQL java driver.</p>\n\n<p>I found no way to get around this, so went with loading large chunks using the regular setFirst/max methods. Sorry to be the bringer of bad news.</p>\n\n<p>Just make sure to use a stateless session so there's no session level cache or dirty tracking etc.</p>\n\n<p>EDIT:</p>\n\n<p>Your UPDATE 2 is the best you're going to get unless you break out of the MySQL J/Connector. Though there's no reason you can't up the limit on the query. Provided you have enough RAM to hold the index this should be a somewhat cheap operation. I'd modify it slightly, and grab a batch at a time, and use the highest id of that batch to grab the next batch.</p>\n\n<p>Note: this will only work if <strong>other_conditions</strong> use equality (no range conditions allowed) and have the last column of the index as <strong>id</strong>. </p>\n\n<pre><code>select * \nfrom person \nwhere id &gt; &lt;max_id_of_last_batch&gt; and &lt;other_conditions&gt; \norder by id asc  \nlimit &lt;batch_size&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273775153,"creation_date":1273775153,"answer_id":2829267,"question_id":2826319,"body_markdown":"I&#39;ve used the Hibernate scroll functionality successfully before without it reading the entire result set in. Someone said that MySQL does not do true scroll cursors, but it claims to based on the JDBC dmd.supportsResultSetType(ResultSet.TYPE_SCROLL_INSENSITIVE) and searching around it seems like other people have used it. Make sure it&#39;s not caching the Person objects in the session - I&#39;ve used it on SQL queries where there was no entity to cache. You can call evict at the end of the loop to be sure or test with a sql query. Also play around with setFetchSize to optimize the number of trips to the server.","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>I've used the Hibernate scroll functionality successfully before without it reading the entire result set in. Someone said that MySQL does not do true scroll cursors, but it claims to based on the JDBC dmd.supportsResultSetType(ResultSet.TYPE_SCROLL_INSENSITIVE) and searching around it seems like other people have used it. Make sure it's not caching the Person objects in the session - I've used it on SQL queries where there was no entity to cache. You can call evict at the end of the loop to be sure or test with a sql query. Also play around with setFetchSize to optimize the number of trips to the server.</p>\n"},{"tags":[],"owner":{"account_id":167726,"reputation":1736,"user_id":392730,"display_name":"Reboot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683967965,"creation_date":1279199951,"answer_id":3255846,"question_id":2826319,"body_markdown":"The problem could be, that Hibernate keeps references to all objects in the session until you close the session. That has nothing to do with query caching. Maybe it would help to evict() the objects from the session, after you are done writing the object to the file. If they are no longer references by the session, the garbage collector can free the memory and you won&#39;t run out of memory anymore.","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>The problem could be, that Hibernate keeps references to all objects in the session until you close the session. That has nothing to do with query caching. Maybe it would help to evict() the objects from the session, after you are done writing the object to the file. If they are no longer references by the session, the garbage collector can free the memory and you won't run out of memory anymore.</p>\n"},{"tags":[],"owner":{"account_id":257067,"reputation":3617,"user_id":538222,"accept_rate":73,"display_name":"einnocent"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292006833,"creation_date":1292006833,"answer_id":4412209,"question_id":2826319,"body_markdown":"Actually you could have gotten what you wanted -- low-memory scrollable results with MySQL -- if you had used the answer mentioned here:\r\n\r\nhttps://stackoverflow.com/questions/2447324/streaming-large-result-sets-with-mysql\r\n\r\nNote that you will have problems with Hibernate lazy-loading because it will throw an exception on any queries performed before the scroll is finished.\r\n","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Actually you could have gotten what you wanted -- low-memory scrollable results with MySQL -- if you had used the answer mentioned here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2447324/streaming-large-result-sets-with-mysql\">Streaming large result sets with MySQL</a></p>\n\n<p>Note that you will have problems with Hibernate lazy-loading because it will throw an exception on any queries performed before the scroll is finished.</p>\n"},{"tags":[],"owner":{"account_id":288488,"reputation":1131,"user_id":588929,"display_name":"Haris"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1519207130,"creation_date":1295955869,"answer_id":4793096,"question_id":2826319,"body_markdown":"Set fetch size in query to an optimal value as given below.\r\n\r\nAlso, when caching is not required, it may be better to use StatelessSession.\r\n\r\n    ScrollableResults results = session.createQuery(&quot;SELECT person FROM Person person&quot;)\r\n            .setReadOnly(true)\r\n            .setFetchSize( 1000 ) // &lt;&lt;--- !!!!\r\n            .setCacheable(false).scroll(ScrollMode.FORWARD_ONLY)","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Set fetch size in query to an optimal value as given below.</p>\n\n<p>Also, when caching is not required, it may be better to use StatelessSession.</p>\n\n<pre><code>ScrollableResults results = session.createQuery(\"SELECT person FROM Person person\")\n        .setReadOnly(true)\n        .setFetchSize( 1000 ) // &lt;&lt;--- !!!!\n        .setCacheable(false).scroll(ScrollMode.FORWARD_ONLY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1182372,"reputation":91,"user_id":1157029,"display_name":"ChechuHa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1527253328,"creation_date":1326915568,"answer_id":8916276,"question_id":2826319,"body_markdown":"FetchSize must be `Integer.MIN_VALUE`, otherwise it won&#39;t work. \r\n\r\nIt must be literally taken from the official reference: https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html ","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>FetchSize must be <code>Integer.MIN_VALUE</code>, otherwise it won't work. </p>\n\n<p>It must be literally taken from the official reference: <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-implementation-notes.html</a> </p>\n"},{"tags":[],"owner":{"account_id":1162344,"reputation":229,"user_id":1141605,"display_name":"Sean S."},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1392647170,"creation_date":1343758111,"answer_id":11746365,"question_id":2826319,"body_markdown":"You should be able to use a `ScrollableResults`, though it requires a few magic incantations to get working with MySQL. I wrote up my findings in a blog post (http://www.numerati.com/2012/06/26/reading-large-result-sets-with-hibernate-and-mysql/) but I&#39;ll summarize here:\r\n\r\n&quot;The [JDBC] documentation says:\r\n\r\n    To enable this functionality, create a Statement instance in the following manner:\r\n    stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\r\n                    java.sql.ResultSet.CONCUR_READ_ONLY);\r\n    stmt.setFetchSize(Integer.MIN_VALUE);\r\n\r\nThis can be done using the Query interface (this should work for Criteria as well) in version 3.2+ of the Hibernate API:\r\n\r\n    Query query = session.createQuery(query);\r\n    query.setReadOnly(true);\r\n    // MIN_VALUE gives hint to JDBC driver to stream results\r\n    query.setFetchSize(Integer.MIN_VALUE);\r\n    ScrollableResults results = query.scroll(ScrollMode.FORWARD_ONLY);\r\n    // iterate over results\r\n    while (results.next()) {\r\n        Object row = results.get();\r\n        // process row then release reference\r\n        // you may need to evict() as well\r\n    }\r\n    results.close();\r\n\r\nThis allows you to stream over the result set, however Hibernate will still cache results in the `Session`, so you’ll need to call `session.evict()` or `session.clear()` every so often. If you are only reading data, you might consider using a `StatelessSession`, though you should read its documentation beforehand.&quot;","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>You should be able to use a <code>ScrollableResults</code>, though it requires a few magic incantations to get working with MySQL. I wrote up my findings in a blog post (<a href=\"http://www.numerati.com/2012/06/26/reading-large-result-sets-with-hibernate-and-mysql/\" rel=\"noreferrer\">http://www.numerati.com/2012/06/26/reading-large-result-sets-with-hibernate-and-mysql/</a>) but I'll summarize here:</p>\n\n<p>\"The [JDBC] documentation says:</p>\n\n<pre><code>To enable this functionality, create a Statement instance in the following manner:\nstmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n                java.sql.ResultSet.CONCUR_READ_ONLY);\nstmt.setFetchSize(Integer.MIN_VALUE);\n</code></pre>\n\n<p>This can be done using the Query interface (this should work for Criteria as well) in version 3.2+ of the Hibernate API:</p>\n\n<pre><code>Query query = session.createQuery(query);\nquery.setReadOnly(true);\n// MIN_VALUE gives hint to JDBC driver to stream results\nquery.setFetchSize(Integer.MIN_VALUE);\nScrollableResults results = query.scroll(ScrollMode.FORWARD_ONLY);\n// iterate over results\nwhile (results.next()) {\n    Object row = results.get();\n    // process row then release reference\n    // you may need to evict() as well\n}\nresults.close();\n</code></pre>\n\n<p>This allows you to stream over the result set, however Hibernate will still cache results in the <code>Session</code>, so you’ll need to call <code>session.evict()</code> or <code>session.clear()</code> every so often. If you are only reading data, you might consider using a <code>StatelessSession</code>, though you should read its documentation beforehand.\"</p>\n"},{"tags":[],"owner":{"account_id":268568,"reputation":11,"user_id":2254013,"display_name":"smalbequi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365322508,"creation_date":1365321478,"answer_id":15860169,"question_id":2826319,"body_markdown":"I propose more than a [sample code][1], but a query template based on `Hibernate` to do this workaround for you (`pagination`, `scrolling` and `clearing` Hibernate session).\r\n\r\nIt can also easily be adapted to use an `EntityManager`.\r\n\r\n\r\n  [1]: https://github.com/smalbequi/hbm-scrollable","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>I propose more than a <a href=\"https://github.com/smalbequi/hbm-scrollable\" rel=\"nofollow\">sample code</a>, but a query template based on <code>Hibernate</code> to do this workaround for you (<code>pagination</code>, <code>scrolling</code> and <code>clearing</code> Hibernate session).</p>\n\n<p>It can also easily be adapted to use an <code>EntityManager</code>.</p>\n"},{"tags":[],"owner":{"account_id":3502404,"reputation":21,"user_id":2928872,"display_name":"user2928872"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382983493,"creation_date":1382977107,"answer_id":19639916,"question_id":2826319,"body_markdown":"recently i worked over a problem like this, and i wrote a blog about how face that problem. is very like, i hope be helpfull for any one. \r\ni use lazy list approach with partial adquisition. i Replaced the limit and offset or the pagination of query to a manual pagination. \r\nIn my example, the select returns 10 millions of records, i get them and insert them in a &quot;temporal table&quot;:\r\n\r\n    create or replace function load_records ()\r\n    returns VOID as $$\r\n    BEGIN\r\n    drop sequence if exists temp_seq;\r\n    create temp sequence temp_seq;\r\n    insert into tmp_table\r\n    SELECT linea.*\r\n    FROM\r\n    (\r\n    select nextval(&#39;temp_seq&#39;) as ROWNUM,* from table1 t1\r\n     join table2 t2 on (t2.fieldpk = t1.fieldpk)\r\n     join table3 t3 on (t3.fieldpk = t2.fieldpk)\r\n    ) linea;\r\n    END;\r\n    $$ language plpgsql;\r\n\r\nafter that, i can paginate without count each row but using the sequence assigned:\r\n\r\n    select * from tmp_table where counterrow &gt;= 9000000 and counterrow &lt;= 9025000\r\n\r\nFrom java perspective, i implemented this pagination through partial adquisition with a lazy list. this is, a list that extends from Abstract list and implements get() method. The get method can use a data access interface to continue get next set of data and release the memory heap:\r\n\r\n    @Override\r\n    public E get(int index) {\r\n      if (bufferParcial.size() &lt;= (index - lastIndexRoulette))\r\n      {\r\n    \tlastIndexRoulette = index;\r\n    \tbufferParcial.removeAll(bufferParcial);\r\n    \tbufferParcial = new ArrayList&lt;E&gt;();\r\n            bufferParcial.addAll(daoInterface.getBufferParcial());\r\n    \tif (bufferParcial.isEmpty())\r\n    \t{\r\n    \t\treturn null;\r\n    \t}\r\n    \t\t\t\r\n      }\r\n      return bufferParcial.get(index - lastIndexRoulette);&lt;br&gt;\r\n    }\r\n\r\nby other hand, the data access interface use query to paginate and implements one method to iterate progressively, each 25000 records to  complete it all.\r\n\r\nresults for this approach can be seen here\r\nhttp://www.arquitecturaysoftware.co/2013/10/laboratorio-1-iterar-millones-de.html","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>recently i worked over a problem like this, and i wrote a blog about how face that problem. is very like, i hope be helpfull for any one. \ni use lazy list approach with partial adquisition. i Replaced the limit and offset or the pagination of query to a manual pagination. \nIn my example, the select returns 10 millions of records, i get them and insert them in a \"temporal table\":</p>\n\n<pre><code>create or replace function load_records ()\nreturns VOID as $$\nBEGIN\ndrop sequence if exists temp_seq;\ncreate temp sequence temp_seq;\ninsert into tmp_table\nSELECT linea.*\nFROM\n(\nselect nextval('temp_seq') as ROWNUM,* from table1 t1\n join table2 t2 on (t2.fieldpk = t1.fieldpk)\n join table3 t3 on (t3.fieldpk = t2.fieldpk)\n) linea;\nEND;\n$$ language plpgsql;\n</code></pre>\n\n<p>after that, i can paginate without count each row but using the sequence assigned:</p>\n\n<pre><code>select * from tmp_table where counterrow &gt;= 9000000 and counterrow &lt;= 9025000\n</code></pre>\n\n<p>From java perspective, i implemented this pagination through partial adquisition with a lazy list. this is, a list that extends from Abstract list and implements get() method. The get method can use a data access interface to continue get next set of data and release the memory heap:</p>\n\n<pre><code>@Override\npublic E get(int index) {\n  if (bufferParcial.size() &lt;= (index - lastIndexRoulette))\n  {\n    lastIndexRoulette = index;\n    bufferParcial.removeAll(bufferParcial);\n    bufferParcial = new ArrayList&lt;E&gt;();\n        bufferParcial.addAll(daoInterface.getBufferParcial());\n    if (bufferParcial.isEmpty())\n    {\n        return null;\n    }\n\n  }\n  return bufferParcial.get(index - lastIndexRoulette);&lt;br&gt;\n}\n</code></pre>\n\n<p>by other hand, the data access interface use query to paginate and implements one method to iterate progressively, each 25000 records to  complete it all.</p>\n\n<p>results for this approach can be seen here\n<a href=\"http://www.arquitecturaysoftware.co/2013/10/laboratorio-1-iterar-millones-de.html\" rel=\"nofollow\">http://www.arquitecturaysoftware.co/2013/10/laboratorio-1-iterar-millones-de.html</a></p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429218900,"creation_date":1429218900,"answer_id":29686120,"question_id":2826319,"body_markdown":"Another option if you&#39;re &quot;running out of RAM&quot; is to just request say, one column instead of the entire object https://stackoverflow.com/questions/58561/hibernate-criteria-how-to-use-criteria-to-return-only-one-element-of-an-object/29683153#29683153 (saves a lot of CPU process time to boot).","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>Another option if you're \"running out of RAM\" is to just request say, one column instead of the entire object <a href=\"https://stackoverflow.com/questions/58561/hibernate-criteria-how-to-use-criteria-to-return-only-one-element-of-an-object/29683153#29683153\">How to use hibernate criteria to return only one element of an object instead the entire object?</a> (saves a lot of CPU process time to boot).</p>\n"},{"tags":[],"owner":{"account_id":13454474,"reputation":1,"user_id":9708377,"display_name":"manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524804961,"creation_date":1524804961,"answer_id":50055487,"question_id":2826319,"body_markdown":"For me it worked properly when setting useCursors=true, otherwise The Scrollable Resultset ignores all the implementations of fetch size, in my case it was 5000 but Scrollable Resultset fetched millions of records at once causing excessive memory usage. underlying DB is MSSQLServer.\r\n\r\n&lt;property name=&quot;connection.url&quot;&gt;jdbc:jtds:sqlserver://localhost:1433/ACS;TDS=8.0;useCursors=true&lt;/property&gt;","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>For me it worked properly when setting useCursors=true, otherwise The Scrollable Resultset ignores all the implementations of fetch size, in my case it was 5000 but Scrollable Resultset fetched millions of records at once causing excessive memory usage. underlying DB is MSSQLServer.</p>\n\n<p>jdbc:jtds:sqlserver://localhost:1433/ACS;TDS=8.0;useCursors=true</p>\n"}],"owner":{"account_id":128497,"reputation":51372,"user_id":326389,"accept_rate":69,"display_name":"at."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91396,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":2826512,"answer_count":12,"score":59,"last_activity_date":1683967965,"creation_date":1273749697,"question_id":2826319,"body_markdown":"I simply need to read each row in a table in my MySQL database using Hibernate and write a file based on it.  But there are 90 million rows and they are pretty big.  So it seemed like the following would be appropriate:\r\n\r\n    ScrollableResults results = session.createQuery(&quot;SELECT person FROM Person person&quot;)\r\n                .setReadOnly(true).setCacheable(false).scroll(ScrollMode.FORWARD_ONLY);\r\n    while (results.next())\r\n        storeInFile(results.get()[0]);\r\n\r\nThe problem is the above will try and load all 90 million rows into RAM before moving on to the while loop... and that will kill my memory with OutOfMemoryError: Java heap space exceptions :(.\r\n\r\nSo I guess ScrollableResults isn&#39;t what I was looking for?  What is the proper way to handle this?  I don&#39;t mind if this while loop takes days (well I&#39;d love it to not).\r\n\r\nI guess the only other way to handle this is to use setFirstResult and setMaxResults to iterate through the results and just use regular Hibernate results instead of ScrollableResults.  That feels like it will be inefficient though and will start taking a ridiculously long time when I&#39;m calling setFirstResult on the 89 millionth row...\r\n\r\nUPDATE: setFirstResult/setMaxResults doesn&#39;t work, it turns out to take an unusably long time to get to the offsets like I feared.  There must be a solution here!  Isn&#39;t this a pretty standard procedure??  I&#39;m willing to forgo Hibernate and use JDBC or whatever it takes.\r\n\r\nUPDATE 2: the solution I&#39;ve come up with which works ok, not great, is basically of the form:\r\n\r\n    select * from person where id &gt; &lt;offset&gt; and &lt;other_conditions&gt; limit 1\r\n\r\nSince I have other conditions, even all in an index, it&#39;s still not as fast as I&#39;d like it to be...  so still open for other suggestions..","title":"Using Hibernate&#39;s ScrollableResults to slowly read 90 million records","body":"<p>I simply need to read each row in a table in my MySQL database using Hibernate and write a file based on it.  But there are 90 million rows and they are pretty big.  So it seemed like the following would be appropriate:</p>\n\n<pre><code>ScrollableResults results = session.createQuery(\"SELECT person FROM Person person\")\n            .setReadOnly(true).setCacheable(false).scroll(ScrollMode.FORWARD_ONLY);\nwhile (results.next())\n    storeInFile(results.get()[0]);\n</code></pre>\n\n<p>The problem is the above will try and load all 90 million rows into RAM before moving on to the while loop... and that will kill my memory with OutOfMemoryError: Java heap space exceptions :(.</p>\n\n<p>So I guess ScrollableResults isn't what I was looking for?  What is the proper way to handle this?  I don't mind if this while loop takes days (well I'd love it to not).</p>\n\n<p>I guess the only other way to handle this is to use setFirstResult and setMaxResults to iterate through the results and just use regular Hibernate results instead of ScrollableResults.  That feels like it will be inefficient though and will start taking a ridiculously long time when I'm calling setFirstResult on the 89 millionth row...</p>\n\n<p>UPDATE: setFirstResult/setMaxResults doesn't work, it turns out to take an unusably long time to get to the offsets like I feared.  There must be a solution here!  Isn't this a pretty standard procedure??  I'm willing to forgo Hibernate and use JDBC or whatever it takes.</p>\n\n<p>UPDATE 2: the solution I've come up with which works ok, not great, is basically of the form:</p>\n\n<pre><code>select * from person where id &gt; &lt;offset&gt; and &lt;other_conditions&gt; limit 1\n</code></pre>\n\n<p>Since I have other conditions, even all in an index, it's still not as fast as I'd like it to be...  so still open for other suggestions..</p>\n"},{"tags":["java","maven","ssl-certificate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683888211,"post_id":76234959,"comment_id":134438922,"body_markdown":"I doubt it. But if it&#39;s now working for you, why would you want to?","body":"I doubt it. But if it&#39;s now working for you, why would you want to?"},{"owner":{"account_id":18052651,"reputation":64,"user_id":13121941,"display_name":"Sebin"},"score":0,"creation_date":1683893358,"post_id":76234959,"comment_id":134440115,"body_markdown":"@g00se    This is part of implementing whitesource security scan and I need to implement it in this way by only modifying the maven command","body":"@g00se    This is part of implementing whitesource security scan and I need to implement it in this way by only modifying the maven command"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1683910909,"post_id":76234959,"comment_id":134444307,"body_markdown":"@Sebin You can also add the certificate to the Java installation. It might be worthwhile to share a standard JDK with company certificates for all your developers.","body":"@Sebin You can also add the certificate to the Java installation. It might be worthwhile to share a standard JDK with company certificates for all your developers."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683892489,"creation_date":1683892489,"answer_id":76236028,"question_id":76234959,"body_markdown":"What you did -setting the default truststore to a Java keystore file that includes the custom certificate- is what the Maven documentation says to do in this scenario: https://maven.apache.org/guides/mini/guide-repository-ssl.html\r\n\r\nYou may need to use a copy of the default truststore (usually found at JAVA_HOME/jre/lib/security/cacerts) so it contains all the default certificates to also connect to other sites signed by well-known Certificate Authorities.","title":"How to add a certificate url in maven cli","body":"<p>What you did -setting the default truststore to a Java keystore file that includes the custom certificate- is what the Maven documentation says to do in this scenario: <a href=\"https://maven.apache.org/guides/mini/guide-repository-ssl.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-repository-ssl.html</a></p>\n<p>You may need to use a copy of the default truststore (usually found at JAVA_HOME/jre/lib/security/cacerts) so it contains all the default certificates to also connect to other sites signed by well-known Certificate Authorities.</p>\n"}],"owner":{"account_id":18052651,"reputation":64,"user_id":13121941,"display_name":"Sebin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683967519,"creation_date":1683883944,"question_id":76234959,"body_markdown":"I&#39;m building a Java maven project. While running maven install command, I&#39;m getting the following error\r\n```\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nI tried downloading the certificates from the private artifactory and added it in the keystore. Now if I do maven command with flag,\r\n```\r\n-Djavax.net.ssl.trustStore=cacerts\r\n```\r\nmaven build is working fine. I want to know if is it possible to directly pass the URL of my artifactory certificate and make maven use it.","title":"How to add a certificate url in maven cli","body":"<p>I'm building a Java maven project. While running maven install command, I'm getting the following error</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I tried downloading the certificates from the private artifactory and added it in the keystore. Now if I do maven command with flag,</p>\n<pre><code>-Djavax.net.ssl.trustStore=cacerts\n</code></pre>\n<p>maven build is working fine. I want to know if is it possible to directly pass the URL of my artifactory certificate and make maven use it.</p>\n"},{"tags":["java","mysql","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1683904438,"post_id":76237664,"comment_id":134442836,"body_markdown":"If you want to use a native function you need to use a native query as well. JPA as you are using it above is supposed to be independent of the underlying database vendor, hence it is expected that MySQL specific function like quarter are not supported.","body":"If you want to use a native function you need to use a native query as well. JPA as you are using it above is supposed to be independent of the underlying database vendor, hence it is expected that MySQL specific function like quarter are not supported."},{"owner":{"account_id":14246456,"reputation":1,"user_id":10291354,"display_name":"JJ Lazzard"},"score":0,"creation_date":1684136348,"post_id":76237664,"comment_id":134466894,"body_markdown":"thanks OH GOD SPIDERS for the answer, yes i will use native query then!","body":"thanks OH GOD SPIDERS for the answer, yes i will use native query then!"}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683907665,"creation_date":1683907665,"answer_id":76238146,"question_id":76237664,"body_markdown":"There simply is no `QUARTER` function available in JPQL.\r\nWhy don&#39;t you use native query to get your result?","title":"JPA query does not work using sql function QUARTER","body":"<p>There simply is no <code>QUARTER</code> function available in JPQL.\nWhy don't you use native query to get your result?</p>\n"}],"owner":{"account_id":14246456,"reputation":1,"user_id":10291354,"display_name":"JJ Lazzard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683967291,"creation_date":1683904139,"question_id":76237664,"body_markdown":"Can you please help me with this problem? \r\nobjective is to extract all the tuples of a mySql table that fall within a precise quarter of each year, filtered on a Date type column\r\nI used EntityManager and mapped Persistence Entity classes from database on maven project editor Eclipse.\r\n\r\ncome si deve comporre questa query in formato stringa/parametri per farla girare attraverso una Jpa Query? l&#39;errore viene prodotto usando la parte finale con la funzione QUARTER\r\n\r\n```SQL\r\nSELECT \r\nCOUNT(*) \r\nFROM mle.Draw d \r\nWHERE (d.deleted IS NULL OR d.deleted != 1) \r\nAND d.lotteryName = &#39;ITA_LOTTO&#39;\r\nAND d.wheel = &#39;BARI&#39; \r\nAND QUARTER(d.drawDate) = 3;\r\n```\r\n\r\nif we insert the SQL query valued in edited mySDql directly on the DB it works correctly, while in the Java app we get this runtime error:\r\n\r\n```ERROR\r\nException Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\r\n[127, 154] The right expression is not a valid expression. and encryptedText={}. Error: {}\r\njava.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager:\r\nException Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\r\n[127, 154] The right expression is not a valid expression.\r\n```\r\n\r\nmaybe JPA doesn&#39;t support some sql native function like QUARTER?! can you solve the problem?","title":"JPA query does not work using sql function QUARTER","body":"<p>Can you please help me with this problem?\nobjective is to extract all the tuples of a mySql table that fall within a precise quarter of each year, filtered on a Date type column\nI used EntityManager and mapped Persistence Entity classes from database on maven project editor Eclipse.</p>\n<p>come si deve comporre questa query in formato stringa/parametri per farla girare attraverso una Jpa Query? l'errore viene prodotto usando la parte finale con la funzione QUARTER</p>\n<pre><code>SELECT \nCOUNT(*) \nFROM mle.Draw d \nWHERE (d.deleted IS NULL OR d.deleted != 1) \nAND d.lotteryName = 'ITA_LOTTO'\nAND d.wheel = 'BARI' \nAND QUARTER(d.drawDate) = 3;\n</code></pre>\n<p>if we insert the SQL query valued in edited mySDql directly on the DB it works correctly, while in the Java app we get this runtime error:</p>\n<pre><code>Exception Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\n[127, 154] The right expression is not a valid expression. and encryptedText={}. Error: {}\njava.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager:\nException Description: Syntax error parsing [SELECT d FROM Draw d WHERE (d.deleted IS NULL OR d.deleted !=1) AND (d.lotteryName = :lotteryName) AND (d.wheel = :wheel) AND (QUARTER(d.drawDate) = :px)].\n[127, 154] The right expression is not a valid expression.\n</code></pre>\n<p>maybe JPA doesn't support some sql native function like QUARTER?! can you solve the problem?</p>\n"},{"tags":["java","sql","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"score":0,"creation_date":1498894961,"post_id":44858118,"comment_id":76697234,"body_markdown":"@NeilStockton I&#39;ve updated my repository code","body":"@NeilStockton I&#39;ve updated my repository code"},{"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"score":0,"creation_date":1498898332,"post_id":44858118,"comment_id":76697932,"body_markdown":"it comes from invoice table and the query invoked is &#39;select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= ? group by c.id&#39;","body":"it comes from invoice table and the query invoked is &#39;select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= ? group by c.id&#39;"},{"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"score":0,"creation_date":1498898502,"post_id":44858118,"comment_id":76697979,"body_markdown":"@NeilStockton also i&#39;ve added service from which method is called","body":"@NeilStockton also i&#39;ve added service from which method is called"},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1498979987,"post_id":44858118,"comment_id":76715797,"body_markdown":"Since you are running a native query return `List&lt;Object[]&gt;` from your query method.","body":"Since you are running a native query return <code>List&lt;Object[]&gt;</code> from your query method."}],"answers":[{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499019084,"creation_date":1498898470,"answer_id":44859001,"question_id":44858118,"body_markdown":"It comes during mapping result set into java Invoice class (as you declared it as return type List&lt;Invoice&gt; for method findInvoiceCount() ). native query return in your case Object[] instead of List&lt;Invoice&gt;.\r\n\r\nYou can see it in log exception \r\n\r\n &gt;ResultSetImpl.findColumn(ResultSetImpl.java:1162\r\n\r\nSo it happens in result mapping stage ,after query has executed.\r\n\r\n    @Query(value = &quot;select c.id,c.business_name,count(i.id) from client \r\n              c join invoice i on c.id = i.client_id \r\n               where i.date &lt;= :agingDate group by c.id&quot;,nativeQuery=true)\r\n        List&lt;Invoice&gt; findInvoiceCount(@Param(&quot;agingDate&quot;)Date agingDate);\r\n\r\nspring data gets result set from query result and tries to map it into Invoice field by field (try to contruct Invoice class ). But actual type it&#39;s Object[].\r\n\r\nIf you need get some DTO as result your query , with fields like is result set : &#39;c.id,c.business_name,count(i.id)&#39; use @SqlResultSetMapping (you can map result columns from select query into your dto). Or change return type from List&lt;Invoice&gt;  to Object[] and iterate it as you need.\r\n\r\nHere is example for [Result Set Mapping: The Basics][1].\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/result-set-mapping-basics/","title":"sqlException : column not found JPA @query","body":"<p>It comes during mapping result set into java Invoice class (as you declared it as return type List for method findInvoiceCount() ). native query return in your case Object[] instead of List.</p>\n\n<p>You can see it in log exception </p>\n\n<blockquote>\n  <p>ResultSetImpl.findColumn(ResultSetImpl.java:1162</p>\n</blockquote>\n\n<p>So it happens in result mapping stage ,after query has executed.</p>\n\n<pre><code>@Query(value = \"select c.id,c.business_name,count(i.id) from client \n          c join invoice i on c.id = i.client_id \n           where i.date &lt;= :agingDate group by c.id\",nativeQuery=true)\n    List&lt;Invoice&gt; findInvoiceCount(@Param(\"agingDate\")Date agingDate);\n</code></pre>\n\n<p>spring data gets result set from query result and tries to map it into Invoice field by field (try to contruct Invoice class ). But actual type it's Object[].</p>\n\n<p>If you need get some DTO as result your query , with fields like is result set : 'c.id,c.business_name,count(i.id)' use @SqlResultSetMapping (you can map result columns from select query into your dto). Or change return type from List  to Object[] and iterate it as you need.</p>\n\n<p>Here is example for <a href=\"https://www.thoughts-on-java.org/result-set-mapping-basics/\" rel=\"noreferrer\">Result Set Mapping: The Basics</a>.</p>\n"},{"tags":[],"owner":{"account_id":26507185,"reputation":1,"user_id":20143162,"display_name":"Furkan Subay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683967256,"creation_date":1683909542,"answer_id":76238383,"question_id":44858118,"body_markdown":"Use, `nativeQuery=false`, because you have used the JQL query and not the SQL query. If you are using the SQL query, you can simply use the `nativeQuery=true`. ","title":"sqlException : column not found JPA @query","body":"<p>Use, <code>nativeQuery=false</code>, because you have used the JQL query and not the SQL query. If you are using the SQL query, you can simply use the <code>nativeQuery=true</code>.</p>\n"}],"owner":{"account_id":10900318,"reputation":67,"user_id":8012754,"accept_rate":80,"display_name":"white_cat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10979,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1683967256,"creation_date":1498891383,"question_id":44858118,"body_markdown":"I&#39;m using @query annotation but when I try to fetch count of records it throws\r\n\r\n    java.sql.SQLException: Column &#39;allowPartialPay&#39; not found.\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1162) ~[mysql-connector-java-5.1.31.jar:na]\r\n    \tat com.mysql.jdbc.ResultSetImpl.getBoolean(ResultSetImpl.java:1781) ~[mysql-connector-java-5.1.31.jar:na]\r\n\r\nI&#39;m writing my custom queries in repository.\r\n\r\nInvoiceRepository.java\r\n\r\n    public interface InvoiceRepository extends JpaRepository&lt;Invoice, Integer&gt;{\r\n    \r\n    \tInvoice findByInvoiceNumber(String invoiceNumber);\r\n    \r\n    \tList&lt;Invoice&gt; findByUserId(int id);\r\n    \r\n        @Query(value = &quot;select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= :agingDate group by c.id&quot;,nativeQuery=true)\r\n        List&lt;Invoice&gt; findInvoiceCount(@Param(&quot;agingDate&quot;)Date agingDate);\r\n    \r\n    }\r\n\r\n\r\nReportService.java\r\n\r\n    if(report.getReportBy().equals(&quot;invoiceCount&quot;)){\r\n    \t\t\t\t\tresult = invoiceRepository.findInvoiceCount(report.getAgingDate());\r\n    \t\t\t\t}\r\n\r\nInvoice.java\r\n\r\n\r\n    @Entity\r\n    @Table\r\n    public class Invoice {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@ManyToOne\r\n    \tprivate Client client;\r\n    \r\n        @Column\r\n    \tprivate boolean allowPartialPay;\r\n    }\r\n\r\nDatabase\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/euLcL.png\r\n","title":"sqlException : column not found JPA @query","body":"<p>I'm using @query annotation but when I try to fetch count of records it throws</p>\n\n<pre><code>java.sql.SQLException: Column 'allowPartialPay' not found.\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1094) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:997) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:983) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:928) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1162) ~[mysql-connector-java-5.1.31.jar:na]\n    at com.mysql.jdbc.ResultSetImpl.getBoolean(ResultSetImpl.java:1781) ~[mysql-connector-java-5.1.31.jar:na]\n</code></pre>\n\n<p>I'm writing my custom queries in repository.</p>\n\n<p>InvoiceRepository.java</p>\n\n<pre><code>public interface InvoiceRepository extends JpaRepository&lt;Invoice, Integer&gt;{\n\n    Invoice findByInvoiceNumber(String invoiceNumber);\n\n    List&lt;Invoice&gt; findByUserId(int id);\n\n    @Query(value = \"select c.id,c.business_name,count(i.id) from client c join invoice i on c.id = i.client_id where i.date &lt;= :agingDate group by c.id\",nativeQuery=true)\n    List&lt;Invoice&gt; findInvoiceCount(@Param(\"agingDate\")Date agingDate);\n\n}\n</code></pre>\n\n<p>ReportService.java</p>\n\n<pre><code>if(report.getReportBy().equals(\"invoiceCount\")){\n                    result = invoiceRepository.findInvoiceCount(report.getAgingDate());\n                }\n</code></pre>\n\n<p>Invoice.java</p>\n\n<pre><code>@Entity\n@Table\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"id\")\n    private int id;\n\n    @ManyToOne\n    private Client client;\n\n    @Column\n    private boolean allowPartialPay;\n}\n</code></pre>\n\n<p>Database</p>\n\n<p><a href=\"https://i.stack.imgur.com/euLcL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/euLcL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","maven-3"],"owner":{"account_id":3461609,"reputation":565,"user_id":2898535,"display_name":"McFlurriez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1683965816,"creation_date":1683965816,"question_id":76241743,"body_markdown":"In 3.9.0, Maven introduced [Remote Repository Filtering][1].\r\n\r\nIn theory, it sounds great:\r\n\r\n&gt; Imagine you can instruct Maven which repository can contain what artifact? Instead of “ordered loop” searching for artifacts in remote repositories, Maven could be instructed in controlled way to directly reach only the needed remote repository.\r\n\r\nUntil you get to the fine print:\r\n\r\n&gt; Maven Central (MC) repository is special in this respect, as Maven will always try to get things from here, as your build, plugins, plugin dependencies, extension, etc. will most often come from here. While you CAN filter MC, filtering MC is most often a bad idea (filtering, as in “limiting what can come from it”). On other hand, MC itself offers help to prevent request leakage to it (see “prefixes” filter).\r\n\r\n&gt; So, most often limiting “what can be fetched” from MC is a bad idea, it can be done but in very, very cautious way, as otherwise you put your build at risk. RRF does not distinguish the “context” of an artifact, it merely filters them out by (artifact, remoteRepository) pair, and by limiting MC you can easily get into state where you break your build (as plugin depends on filtered artifact).\r\n\r\nI have a bunch of jars in a personal repository. Even though they are clearly marked as such inside my ~/.m2:\r\n\r\n    #NOTE: This is a Maven Resolver internal implementation file, its format can be \r\n    changed without prior notice.\r\n    #Fri May 12 21:15:32 PDT 2023\r\n    my-commons-2.1.0.pom&gt;personal=\r\n    my-commons-2.1.0.jar&gt;personal=\r\n\r\nOnce I updated to 3.9.X, maven continually tries to get it from central:\r\n\r\n    [INFO] Artifact com.personal.space:my-commons:pom:2.1.0 is \r\n    present in the local repository, but cached from a remote repository ID that is \r\n    unavailable in current build context, verifying that is downloadable from [central. \r\n    (https://repo.maven.apache.org/maven2, default, releases)]\r\n\r\nHow exactly do I turn this off for my own personal repository? There&#39;s talks of filtering and what not on their docs, but I&#39;ve fiddled and got nothing working.\r\n\r\n[1]: https://maven.apache.org/resolver/remote-repository-filtering.html","title":"Disabling Maven 3.9.X Remote Repository Filtering","body":"<p>In 3.9.0, Maven introduced <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"noreferrer\">Remote Repository Filtering</a>.</p>\n<p>In theory, it sounds great:</p>\n<blockquote>\n<p>Imagine you can instruct Maven which repository can contain what artifact? Instead of “ordered loop” searching for artifacts in remote repositories, Maven could be instructed in controlled way to directly reach only the needed remote repository.</p>\n</blockquote>\n<p>Until you get to the fine print:</p>\n<blockquote>\n<p>Maven Central (MC) repository is special in this respect, as Maven will always try to get things from here, as your build, plugins, plugin dependencies, extension, etc. will most often come from here. While you CAN filter MC, filtering MC is most often a bad idea (filtering, as in “limiting what can come from it”). On other hand, MC itself offers help to prevent request leakage to it (see “prefixes” filter).</p>\n</blockquote>\n<blockquote>\n<p>So, most often limiting “what can be fetched” from MC is a bad idea, it can be done but in very, very cautious way, as otherwise you put your build at risk. RRF does not distinguish the “context” of an artifact, it merely filters them out by (artifact, remoteRepository) pair, and by limiting MC you can easily get into state where you break your build (as plugin depends on filtered artifact).</p>\n</blockquote>\n<p>I have a bunch of jars in a personal repository. Even though they are clearly marked as such inside my ~/.m2:</p>\n<pre><code>#NOTE: This is a Maven Resolver internal implementation file, its format can be \nchanged without prior notice.\n#Fri May 12 21:15:32 PDT 2023\nmy-commons-2.1.0.pom&gt;personal=\nmy-commons-2.1.0.jar&gt;personal=\n</code></pre>\n<p>Once I updated to 3.9.X, maven continually tries to get it from central:</p>\n<pre><code>[INFO] Artifact com.personal.space:my-commons:pom:2.1.0 is \npresent in the local repository, but cached from a remote repository ID that is \nunavailable in current build context, verifying that is downloadable from [central. \n(https://repo.maven.apache.org/maven2, default, releases)]\n</code></pre>\n<p>How exactly do I turn this off for my own personal repository? There's talks of filtering and what not on their docs, but I've fiddled and got nothing working.</p>\n"},{"tags":["python","java","unicode","character-encoding"],"comments":[{"owner":{"account_id":20724483,"reputation":113838,"user_id":15239951,"display_name":"Corralien"},"score":0,"creation_date":1683864626,"post_id":76233033,"comment_id":134434882,"body_markdown":"Does it work if you replace gbk (gb16500) with gb18030?","body":"Does it work if you replace gbk (gb16500) with gb18030?"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683864840,"post_id":76233033,"comment_id":134434907,"body_markdown":"@Corralien Yes. Both Java and Python work if I use GB18030.","body":"@Corralien Yes. Both Java and Python work if I use GB18030."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":1,"creation_date":1683865260,"post_id":76233033,"comment_id":134434951,"body_markdown":"[Related thread](https://stackoverflow.com/questions/3883573/encoding-error-in-python-with-chinese-characters/) - Moreover, look at [CP936](https://en.wikipedia.org/wiki/Code_page_936_(Microsoft_Windows)), which is aliased to `gbk` in Python (check result of `b&#39;\\xa6\\xda&#39;.decode(&#39;cp936&#39;)`), which may be a source of confusion. On top of that, quoting wikipedia, &quot;most modern-day Windows-based software products mean partial support for GBK via Windows-936 when they use the term &quot;GB 2312&quot; as a character encoding option&quot;, so my original hunch that Python maps GBK to GB 2312 may be correct.","body":"<a href=\"https://stackoverflow.com/questions/3883573/encoding-error-in-python-with-chinese-characters/\">Related thread</a> - Moreover, look at <a href=\"https://en.wikipedia.org/wiki/Code_page_936_(Microsoft_Windows)\" rel=\"nofollow noreferrer\">CP936</a>, which is aliased to <code>gbk</code> in Python (check result of <code>b&#39;\\xa6\\xda&#39;.decode(&#39;cp936&#39;)</code>), which may be a source of confusion. On top of that, quoting wikipedia, &quot;most modern-day Windows-based software products mean partial support for GBK via Windows-936 when they use the term &quot;GB 2312&quot; as a character encoding option&quot;, so my original hunch that Python maps GBK to GB 2312 may be correct."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1683865761,"post_id":76233033,"comment_id":134435000,"body_markdown":"That all being said, `/bin/echo -e &#39;\\xa6\\xda&#39; | iconv -f gbk -t utf8` also report `illegal input sequence at position 0`, likewise if `gbk` is substituted for `gb2312` or `gb13000` - thus I am pretty sure `a6` is out of range of those earlier standards and only `gb18030` actually supports `a6`, and `gbk` in Java may in fact refer to the later standard.","body":"That all being said, <code>&#47;bin&#47;echo -e &#39;\\xa6\\xda&#39; | iconv -f gbk -t utf8</code> also report <code>illegal input sequence at position 0</code>, likewise if <code>gbk</code> is substituted for <code>gb2312</code> or <code>gb13000</code> - thus I am pretty sure <code>a6</code> is out of range of those earlier standards and only <code>gb18030</code> actually supports <code>a6</code>, and <code>gbk</code> in Java may in fact refer to the later standard."},{"owner":{"account_id":20724483,"reputation":113838,"user_id":15239951,"display_name":"Corralien"},"score":0,"creation_date":1683866279,"post_id":76233033,"comment_id":134435059,"body_markdown":"If you really want to use `gbk` encoding, you can use `errors=&#39;ignore&#39;` for characters outside the valid range: `print(ch.decode(&#39;gbk&#39;, errors=&#39;ignore&#39;))`","body":"If you really want to use <code>gbk</code> encoding, you can use <code>errors=&#39;ignore&#39;</code> for characters outside the valid range: <code>print(ch.decode(&#39;gbk&#39;, errors=&#39;ignore&#39;))</code>"},{"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"score":0,"creation_date":1683940572,"post_id":76233033,"comment_id":134448408,"body_markdown":"It&#39;s complicated. In python codecs module gbk means microsoft&#39;s cp936. IANA uses them as aliases. CP936 is a superset of what isreferred to asGBK which in turn is a superset of GB 2312. Then there is GBK 1.0 another extension. I am not sure which Java using but Python&#39;s documentation indicates gbk is Windows Code page 936.","body":"It&#39;s complicated. In python codecs module gbk means microsoft&#39;s cp936. IANA uses them as aliases. CP936 is a superset of what isreferred to asGBK which in turn is a superset of GB 2312. Then there is GBK 1.0 another extension. I am not sure which Java using but Python&#39;s documentation indicates gbk is Windows Code page 936."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1683964678,"post_id":76233033,"comment_id":134449904,"body_markdown":"@Andj I have figured it out by checking out both OpenJDK&#39;s and CPython&#39;s source code.","body":"@Andj I have figured it out by checking out both OpenJDK&#39;s and CPython&#39;s source code."},{"owner":{"account_id":6267437,"reputation":626,"user_id":4872676,"display_name":"Andj"},"score":0,"creation_date":1684061433,"post_id":76233033,"comment_id":134458752,"body_markdown":"@chenzhongpu, all good then. Interestingly, web standards take a different view. On the web, GBK is aliased to GB 2312. And GBK uses the gb18030 decoder and encoder with a GBK flag. More of an issue if you are scraping content.","body":"@chenzhongpu, all good then. Interestingly, web standards take a different view. On the web, GBK is aliased to GB 2312. And GBK uses the gb18030 decoder and encoder with a GBK flag. More of an issue if you are scraping content."}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683964912,"creation_date":1683964505,"answer_id":76241664,"question_id":76233033,"body_markdown":"&gt; It seems that Python and Java adopt different implementations for GBK, right?\r\n\r\nYes. GBK is a ambiguous encoding to some extent, and thus different platforms may adopt different implementations.\r\n\r\nAs for Python (CPython here), the mapping between GBK to Unicode is defined in [mappings_cn.h](https://github.com/python/cpython/blob/main/Modules/cjkcodecs/mappings_cn.h), which is a *strict* implementation of [CP936](https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT), where some characters (such as `0xA6DA`) in non-Chinese regions are not defined.\r\n\r\nIn the contrast, GBK in Java (OpenJDK 17 here), in fact, is an *extended* CP936 where [some extra non-Chinese characters are included](https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/make/data/charsetmapping/GBK.map#L7322) in order to follow GB18030/MS936. For example, `0xA6DA` is mapped to Unicode `U+E78E` (although it is a private-user-area one).","title":"Why do Python and Java behave differently when decoding GBK","body":"<blockquote>\n<p>It seems that Python and Java adopt different implementations for GBK, right?</p>\n</blockquote>\n<p>Yes. GBK is a ambiguous encoding to some extent, and thus different platforms may adopt different implementations.</p>\n<p>As for Python (CPython here), the mapping between GBK to Unicode is defined in <a href=\"https://github.com/python/cpython/blob/main/Modules/cjkcodecs/mappings_cn.h\" rel=\"nofollow noreferrer\">mappings_cn.h</a>, which is a <em>strict</em> implementation of <a href=\"https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP936.TXT\" rel=\"nofollow noreferrer\">CP936</a>, where some characters (such as <code>0xA6DA</code>) in non-Chinese regions are not defined.</p>\n<p>In the contrast, GBK in Java (OpenJDK 17 here), in fact, is an <em>extended</em> CP936 where <a href=\"https://github.com/openjdk/jdk17/blob/4afbcaf55383ec2f5da53282a1547bac3d099e9d/make/data/charsetmapping/GBK.map#L7322\" rel=\"nofollow noreferrer\">some extra non-Chinese characters are included</a> in order to follow GB18030/MS936. For example, <code>0xA6DA</code> is mapped to Unicode <code>U+E78E</code> (although it is a private-user-area one).</p>\n"}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76241664,"answer_count":1,"score":0,"last_activity_date":1683964912,"creation_date":1683863883,"question_id":76233033,"body_markdown":"This question is related to [How to decode bytes in GB18030 correctly](https://stackoverflow.com/questions/76232910/).\r\n\r\nI would like to decode an array of bytes which are encoded with [GBK](https://en.wikipedia.org/wiki/GBK_(character_encoding)), but found that Python and Java behave differently sometimes.\r\n\r\n```python\r\nch = b&#39;\\xA6\\xDA&#39;\r\nprint(ch.decode(&#39;gbk&#39;))\r\n```\r\nIt raises an error: \r\n\r\n&gt; UnicodeDecodeError: &#39;gbk&#39; codec can&#39;t decode byte 0xa6 in position 0: illegal multibyte sequence\r\n\r\nJava is able to decode it.\r\n\r\n```java\r\nbyte[] data = {(byte) 0xA6, (byte) 0xDA};\r\nString s = new String(data, Charset.forName(&quot;GBK&quot;));\r\nSystem.out.println(s);\r\n```\r\n\r\nIt seems that Python and Java adopt different implementations for `GBK`, right?","title":"Why do Python and Java behave differently when decoding GBK","body":"<p>This question is related to <a href=\"https://stackoverflow.com/questions/76232910/\">How to decode bytes in GB18030 correctly</a>.</p>\n<p>I would like to decode an array of bytes which are encoded with <a href=\"https://en.wikipedia.org/wiki/GBK_(character_encoding)\" rel=\"nofollow noreferrer\">GBK</a>, but found that Python and Java behave differently sometimes.</p>\n<pre class=\"lang-py prettyprint-override\"><code>ch = b'\\xA6\\xDA'\nprint(ch.decode('gbk'))\n</code></pre>\n<p>It raises an error:</p>\n<blockquote>\n<p>UnicodeDecodeError: 'gbk' codec can't decode byte 0xa6 in position 0: illegal multibyte sequence</p>\n</blockquote>\n<p>Java is able to decode it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] data = {(byte) 0xA6, (byte) 0xDA};\nString s = new String(data, Charset.forName(&quot;GBK&quot;));\nSystem.out.println(s);\n</code></pre>\n<p>It seems that Python and Java adopt different implementations for <code>GBK</code>, right?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1683961132,"post_id":76241431,"comment_id":134449599,"body_markdown":"Yes you can, Yes you can.","body":"Yes you can, Yes you can."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683961950,"post_id":76241431,"comment_id":134449667,"body_markdown":"The The Java™ Tutorials from Oracle has a trait about [Equality, Relational, and Conditional Operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html) || using newer Java versions you can also use [Pattern Matching for instanceof](https://openjdk.org/jeps/394) and [Pattern Matching for switch](https://openjdk.org/jeps/441)","body":"The The Java™ Tutorials from Oracle has a trait about <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">Equality, Relational, and Conditional Operators</a> || using newer Java versions you can also use <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">Pattern Matching for instanceof</a> and <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">Pattern Matching for switch</a>"}],"owner":{"account_id":28014369,"reputation":1,"user_id":21396363,"display_name":"Tran Dai Duong FX17629"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683961123,"answer_count":0,"score":0,"last_activity_date":1683960444,"creation_date":1683960444,"question_id":76241431,"body_markdown":"For example, I have class A and its subclasses B and C. I have an Arraylist contains class A&#39;s objects. The Arraylist can contain objects from class B and C? I have a foreach loop looping thought the Arraylist. How to check the object is Class A, B or C?\r\n\r\nI think the Arraylist can. But I don&#39;t know how to do in question 2. I don&#39;t know what to try","title":"Can a Arraylist contain subclasses of a class?Check what subclasses type in a Arraylist?","body":"<p>For example, I have class A and its subclasses B and C. I have an Arraylist contains class A's objects. The Arraylist can contain objects from class B and C? I have a foreach loop looping thought the Arraylist. How to check the object is Class A, B or C?</p>\n<p>I think the Arraylist can. But I don't know how to do in question 2. I don't know what to try</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661012035,"post_id":73427605,"comment_id":129671732,"body_markdown":"```-Duser.country=US``` and ```-Duser.lang=en``` might be worth a try","body":"<code>-Duser.country=US</code> and <code>-Duser.lang=en</code> might be worth a try"}],"answers":[{"tags":[],"owner":{"account_id":7923403,"reputation":39,"user_id":5983602,"display_name":"chen kqing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683959895,"creation_date":1683959895,"answer_id":76241409,"question_id":73427605,"body_markdown":"use -J parameter\r\n```\r\njavadoc -J-Duser.language=en\r\n```","title":"How do I set locale to en_US when testing OpenJDK on Cygwin?","body":"<p>use -J parameter</p>\n<pre><code>javadoc -J-Duser.language=en\n</code></pre>\n"}],"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683959895,"creation_date":1661006715,"question_id":73427605,"body_markdown":"I&#39;m trying to build _OpenJDK_ by myself, but there&#39;s lots of failures when I run the tests.\r\n\r\nI noticed that a large amount of these failures are due to locale settings. Many tests expect an English output, but the locale of my _Windows_ is not English.\r\n\r\nI tried set environment variable `LANG` and `LC_ALL` to `en_US.UTF-8`, but some components like _javadoc_ still generates non-English output.\r\n\r\nWhat make this more annoying is that, everytime a test fails, it hangs for a long time before continuing the next test.\r\n\r\nAre there anyway to test _OpenJDK_ on _Windows_ without changing the system locale?","title":"How do I set locale to en_US when testing OpenJDK on Cygwin?","body":"<p>I'm trying to build <em>OpenJDK</em> by myself, but there's lots of failures when I run the tests.</p>\n<p>I noticed that a large amount of these failures are due to locale settings. Many tests expect an English output, but the locale of my <em>Windows</em> is not English.</p>\n<p>I tried set environment variable <code>LANG</code> and <code>LC_ALL</code> to <code>en_US.UTF-8</code>, but some components like <em>javadoc</em> still generates non-English output.</p>\n<p>What make this more annoying is that, everytime a test fails, it hangs for a long time before continuing the next test.</p>\n<p>Are there anyway to test <em>OpenJDK</em> on <em>Windows</em> without changing the system locale?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683976044,"post_id":76241370,"comment_id":134451052,"body_markdown":"The chained transactionmanager isn&#39;t atomic, it does a best effort but if repo1 succeeds and repo2 fails there is no way of rolling back repo1. If you want really atomic (or better atomic transactions) you will need to use XA transactions which can span multiple resources.","body":"The chained transactionmanager isn&#39;t atomic, it does a best effort but if repo1 succeeds and repo2 fails there is no way of rolling back repo1. If you want really atomic (or better atomic transactions) you will need to use XA transactions which can span multiple resources."},{"owner":{"account_id":28592712,"reputation":11,"user_id":21891546,"display_name":"Spa"},"score":0,"creation_date":1683980496,"post_id":76241370,"comment_id":134451493,"body_markdown":"@M.Deinum can you point to some resources where i can learn more about this?","body":"@M.Deinum can you point to some resources where i can learn more about this?"}],"owner":{"account_id":28592712,"reputation":11,"user_id":21891546,"display_name":"Spa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683958880,"creation_date":1683958828,"question_id":76241370,"body_markdown":"I have a method that saves details to two different repositories, each belonging to a separate database:\r\n\r\n```\r\n\r\npublic void method() {\r\n   Repository1.saveDetails(CategoryList);\r\n   Repository2.saveDetails(CategoryList);\r\n}\r\n```\r\nUntil now, I have been using the chained transaction manager to ensure that the transaction is atomic across both repositories. However, I learned that the chained transaction manager is deprecated, and I am looking for an alternative solution.\r\n\r\nIs there a recommended alternative to the chained transaction manager that I can use to ensure that the transaction is atomic across both repositories?&quot;","title":"is there any spring chained transaction manager alternative?","body":"<p>I have a method that saves details to two different repositories, each belonging to a separate database:</p>\n<pre><code>\npublic void method() {\n   Repository1.saveDetails(CategoryList);\n   Repository2.saveDetails(CategoryList);\n}\n</code></pre>\n<p>Until now, I have been using the chained transaction manager to ensure that the transaction is atomic across both repositories. However, I learned that the chained transaction manager is deprecated, and I am looking for an alternative solution.</p>\n<p>Is there a recommended alternative to the chained transaction manager that I can use to ensure that the transaction is atomic across both repositories?&quot;</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver","selenium-grid"],"comments":[{"owner":{"account_id":4837670,"reputation":142,"user_id":3903735,"display_name":"Victor Andres Aguirre Fernande"},"score":0,"creation_date":1668316386,"post_id":65323024,"comment_id":131373552,"body_markdown":"Hello @Sagar Did you find the solution, I have a similar situation, in my case I need to get some data from the Node to my local, and since my local is running in docker and GitHub I have a GitHub action to upload the data as artifacts, but I haven&#39;t been able to get the data back to my local.","body":"Hello @Sagar Did you find the solution, I have a similar situation, in my case I need to get some data from the Node to my local, and since my local is running in docker and GitHub I have a GitHub action to upload the data as artifacts, but I haven&#39;t been able to get the data back to my local."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608122505,"creation_date":1608122505,"answer_id":65323499,"question_id":65323024,"body_markdown":"Local file detector\r\n-------------------\r\nThe [Local File Detector](https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/#local-file-detector) allows the transfer of files from the client machine to the remote server. In case a test needs to upload a file to a web application, a remote [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test. It is not enabled by default and can be enabled as follows:\r\n\r\n- _Java_:\r\n\r\n\t  driver.setFileDetector(new LocalFileDetector());\r\n\r\n- _Python_:\r\n\r\n\t  from selenium.webdriver.remote.file_detector import LocalFileDetector\r\n\r\n\t  driver.file_detector = LocalFileDetector()\r\n\r\n- _C#_:\r\n\r\n\t  var allowsDetection = this.driver as IAllowsFileDetection;\r\n\t  if (allowsDetection != null)\r\n\t  {\r\n\t     allowsDetection.FileDetector = new LocalFileDetector();\r\n\t  }\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nThis usecase\r\n------------\r\nIf you are running your tests on [Selenium Grid](https://stackoverflow.com/questions/59647961/what-is-the-exact-purpose-of-selenium-grid/59648301#59648301) then you need to let your remote driver know that the file that needs to be uploaded is residing on the local machine and not on remote machine. In those cases, to upload a file from the client machine to the remote server, _WebDriver_ can automatically transfer the file from the local machine to the remote web server during runtime you can use the following code block:\r\n\r\n\tWebElement addFile = driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;));\r\n\t((RemoteWebElement)addFile).setFileDetector(new LocalFileDetector());\r\n\taddFile.sendKeys(&quot;C:\\\\daten\\\\test2.xml&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nOutro\r\n-----\r\n[Selecting and uploading files while running your tests on Selenium Grid](https://muthutechno.wordpress.com/2014/07/09/uploading-files-in-selenium-webdriver/)","title":"While using Selenium Grid, How do we access downloaded file in Node machine from Hub machine?","body":"<h2>Local file detector</h2>\n<p>The <a href=\"https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/#local-file-detector\" rel=\"nofollow noreferrer\">Local File Detector</a> allows the transfer of files from the client machine to the remote server. In case a test needs to upload a file to a web application, a remote <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test. It is not enabled by default and can be enabled as follows:</p>\n<ul>\n<li><p><em>Java</em>:</p>\n<pre><code>driver.setFileDetector(new LocalFileDetector());\n</code></pre>\n</li>\n<li><p><em>Python</em>:</p>\n<pre><code>from selenium.webdriver.remote.file_detector import LocalFileDetector\n\ndriver.file_detector = LocalFileDetector()\n</code></pre>\n</li>\n<li><p><em>C#</em>:</p>\n<pre><code>var allowsDetection = this.driver as IAllowsFileDetection;\nif (allowsDetection != null)\n{\n   allowsDetection.FileDetector = new LocalFileDetector();\n}\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>This usecase</h2>\n<p>If you are running your tests on <a href=\"https://stackoverflow.com/questions/59647961/what-is-the-exact-purpose-of-selenium-grid/59648301#59648301\">Selenium Grid</a> then you need to let your remote driver know that the file that needs to be uploaded is residing on the local machine and not on remote machine. In those cases, to upload a file from the client machine to the remote server, <em>WebDriver</em> can automatically transfer the file from the local machine to the remote web server during runtime you can use the following code block:</p>\n<pre><code>WebElement addFile = driver.findElement(By.xpath(&quot;//input[@type='file']&quot;));\n((RemoteWebElement)addFile).setFileDetector(new LocalFileDetector());\naddFile.sendKeys(&quot;C:\\\\daten\\\\test2.xml&quot;);\n</code></pre>\n<hr />\n<h2>Outro</h2>\n<p><a href=\"https://muthutechno.wordpress.com/2014/07/09/uploading-files-in-selenium-webdriver/\" rel=\"nofollow noreferrer\">Selecting and uploading files while running your tests on Selenium Grid</a></p>\n"}],"owner":{"account_id":17192259,"reputation":278,"user_id":12445841,"display_name":"Sagar Bhavsar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2753,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683956784,"creation_date":1608120742,"question_id":65323024,"body_markdown":"**Here is my scenario:**\r\n\r\nI am using Selenium Grid concept and we trigger test script execution from Hub (Machine-1) and script execute on chrome browser of Node machine (Machine-2). In one of my test script when I click on export button, it downloads an excel file in default download folder of Node machine (i.e. Machine-2)\r\n\r\n**Issue:**\r\nFurther in script I need to read content of the downloaded file, but as the downloaded file resides in Node machine, script does not able to access it from Hub.\r\n\r\nSo, How do we access downloaded file in Node machine from Hub machine ?\r\n\r\n\r\n\r\n\r\n ","title":"While using Selenium Grid, How do we access downloaded file in Node machine from Hub machine?","body":"<p><strong>Here is my scenario:</strong></p>\n<p>I am using Selenium Grid concept and we trigger test script execution from Hub (Machine-1) and script execute on chrome browser of Node machine (Machine-2). In one of my test script when I click on export button, it downloads an excel file in default download folder of Node machine (i.e. Machine-2)</p>\n<p><strong>Issue:</strong>\nFurther in script I need to read content of the downloaded file, but as the downloaded file resides in Node machine, script does not able to access it from Hub.</p>\n<p>So, How do we access downloaded file in Node machine from Hub machine ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683958173,"post_id":76241195,"comment_id":134449391,"body_markdown":"Hello, you don&#39;t need to put the limit in the query. It will be handled by Spring Batch with the chunk(100). You have it already. Just use &quot;select * from your_table&quot; as query.","body":"Hello, you don&#39;t need to put the limit in the query. It will be handled by Spring Batch with the chunk(100). You have it already. Just use &quot;select * from your_table&quot; as query."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1683977897,"post_id":76241195,"comment_id":134451231,"body_markdown":"You are using a cursor which doesn&#39;t require a limit. Specify a chunk size and you will only have that number of records being read. One thing to take into consideration is that you might want to increase your jdbc fetchsize to limit the number of network roundtrips. The default is 10.","body":"You are using a cursor which doesn&#39;t require a limit. Specify a chunk size and you will only have that number of records being read. One thing to take into consideration is that you might want to increase your jdbc fetchsize to limit the number of network roundtrips. The default is 10."}],"owner":{"account_id":28592445,"reputation":1,"user_id":21891347,"display_name":"Ajit Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683955386,"creation_date":1683955177,"question_id":76241195,"body_markdown":"Spring Batch application using JdbcCursorItemReader trying to fetch huge records from a table, Lets suppose 100K records in table and fetching 100 records in every batch chunk but issue is it keep returning same first 100 rows records in every next set of chunk.\r\n**Query**: select * from table fetch next 100 rows only.\r\n\r\n\r\n        @Bean\r\n\tpublic Step step1() {\r\n\t\treturn this.stepBuilderFactory.get(&quot;step1&quot;).chunk(100).reader(itemReader()).processor(itemProcessor()).writer(itemWriter()).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Job myJob() {\r\n           return jobBuilderFactory.get(&quot;My-First-Job&quot;).start(step1()).build();\r\n\t}\r\n\r\n        @Bean\r\n        public JdbcCursorItemReader&lt;Object&gt; itemReader() {\r\n          JdbcCursorItemReader&lt;Object&gt; reader = new JdbcCursorItemReader&lt;&gt;();\r\n          reader.setDataSource(dataSource);\r\n          reader.setSql(&quot;select * from &lt;table&gt; fetch next 100 rows only&quot;);\r\n          reader.setRowMapper(new ObjectRowMapper());\r\n          return reader;\r\n       }\r\n\r\nHere ObjectRowMapper mapping the fields which I need to fetch, Here If you can see in reader() method **reader.setSql(&quot;select * from &lt;table&gt; fetch next 100 rows only&quot;);** this line I am expecting return next 100 set of records from table which not happening and same 100 rows returning\r\n\r\n\r\nExpecting for each time job is running getting next set of records.","title":"Spring Batch to Fetch next chunk records from sql","body":"<p>Spring Batch application using JdbcCursorItemReader trying to fetch huge records from a table, Lets suppose 100K records in table and fetching 100 records in every batch chunk but issue is it keep returning same first 100 rows records in every next set of chunk.\n<strong>Query</strong>: select * from table fetch next 100 rows only.</p>\n<pre><code>    @Bean\npublic Step step1() {\n    return this.stepBuilderFactory.get(&quot;step1&quot;).chunk(100).reader(itemReader()).processor(itemProcessor()).writer(itemWriter()).build();\n}\n\n@Bean\npublic Job myJob() {\n       return jobBuilderFactory.get(&quot;My-First-Job&quot;).start(step1()).build();\n}\n\n    @Bean\n    public JdbcCursorItemReader&lt;Object&gt; itemReader() {\n      JdbcCursorItemReader&lt;Object&gt; reader = new JdbcCursorItemReader&lt;&gt;();\n      reader.setDataSource(dataSource);\n      reader.setSql(&quot;select * from &lt;table&gt; fetch next 100 rows only&quot;);\n      reader.setRowMapper(new ObjectRowMapper());\n      return reader;\n   }\n</code></pre>\n<p>Here ObjectRowMapper mapping the fields which I need to fetch, Here If you can see in reader() method <strong>reader.setSql(&quot;select * from  fetch next 100 rows only&quot;);</strong> this line I am expecting return next 100 set of records from table which not happening and same 100 rows returning</p>\n<p>Expecting for each time job is running getting next set of records.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2416637,"reputation":96,"user_id":2110517,"accept_rate":50,"display_name":"Arnav Joshi"},"score":3,"creation_date":1474826693,"post_id":8387989,"comment_id":66679442,"body_markdown":"very useful link to understand Garbage collection on Oracle&#39;s Official website: http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html","body":"very useful link to understand Garbage collection on Oracle&#39;s Official website: <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"nofollow noreferrer\">oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1323100603,"creation_date":1323100603,"answer_id":8388036,"question_id":8387989,"body_markdown":"It is stored in the heap referenced by the class definition. If you think about it, it has nothing to do with stack because there is no scope. ","title":"Where are static methods and static variables stored in Java?","body":"<p>It is stored in the heap referenced by the class definition. If you think about it, it has nothing to do with stack because there is no scope. </p>\n"},{"tags":[],"owner":{"account_id":48835,"reputation":1339,"user_id":145238,"accept_rate":84,"display_name":"C.LS"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1323100651,"creation_date":1323100651,"answer_id":8388058,"question_id":8387989,"body_markdown":"static variables are stored in the heap","title":"Where are static methods and static variables stored in Java?","body":"<p>static variables are stored in the heap</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":180,"is_accepted":true,"score":180,"last_activity_date":1638169948,"creation_date":1323100686,"answer_id":8388068,"question_id":8387989,"body_markdown":"Static methods (in fact all methods) as well as static variables are stored in the `PermGen` section of the heap, since they are part of the reflection data (class related data, not instance related). As of Java 8 PermGen has been replaced by MetaSpace and as per [JEP 122](http://openjdk.java.net/jeps/122) it only holds meta-data while static fields are stored in the heap.\r\n\r\nNote that this mostly applies to Oracle&#39;s Hotspot JVM and others that are based on it. However, not every JVM has PermGen or Metaspace like [Eclipse OpenJ9](https://www.eclipse.org/openj9/).\r\n\r\n_Update for clarification_: \r\n\r\nNote that only the variables and their technical values (primitives or references) are stored in PermGen space. \r\n\r\nIf your static variable is a reference to an object that object itself is stored in the normal sections of the heap (young/old generation or survivor space). Those objects (unless they are internal objects like classes etc.) are _not_ stored in PermGen space.\r\n\r\nExample:\r\n\r\n    static int i = 1; //the value 1 is stored in the PermGen section\r\n    static Object o = new SomeObject(); //the reference(pointer/memory address) is stored in the PermGen section, the object itself is not.\r\n\r\n&lt;br&gt;\r\nA word on garbage collection:\r\n\r\nDo _not_ rely on `finalize()` as it&#39;s not guaranteed to run. It is totally up to the JVM to decide when to run the garbage collector and what to collect, even if an object is eligible for garbage collection.\r\n\r\nOf course you can set a static variable to null and thus remove the reference to the object on the heap but that doesn&#39;t mean the garbage collector _will_ collect it (even if there are no more references).\r\n\r\nAdditionally `finalize()` is run only once, so you have to make sure it doesn&#39;t throw exceptions or otherwise prevent the object to be collected. If you halt finalization through some exception, `finalize()` won&#39;t be invoked on the same object a second time.\r\n\r\n_A final note_: how code, runtime data etc. are stored depends on the JVM which is used, i.e. HotSpot might do it differently than JRockit and this might even differ between versions of the same JVM. The above is based on HotSpot for Java 5 and 6 (those are basically the same) since at the time of answering I&#39;d say that most people used those JVMs. Due to major changes in the memory model as of Java 8, the statements above might not be true for Java 8 HotSpot - and I didn&#39;t check the changes of Java 7 HotSpot, so I _guess_ the above is still true for that version, but I&#39;m not sure here.\r\n","title":"Where are static methods and static variables stored in Java?","body":"<p>Static methods (in fact all methods) as well as static variables are stored in the <code>PermGen</code> section of the heap, since they are part of the reflection data (class related data, not instance related). As of Java 8 PermGen has been replaced by MetaSpace and as per <a href=\"http://openjdk.java.net/jeps/122\" rel=\"noreferrer\">JEP 122</a> it only holds meta-data while static fields are stored in the heap.</p>\n<p>Note that this mostly applies to Oracle's Hotspot JVM and others that are based on it. However, not every JVM has PermGen or Metaspace like <a href=\"https://www.eclipse.org/openj9/\" rel=\"noreferrer\">Eclipse OpenJ9</a>.</p>\n<p><em>Update for clarification</em>:</p>\n<p>Note that only the variables and their technical values (primitives or references) are stored in PermGen space.</p>\n<p>If your static variable is a reference to an object that object itself is stored in the normal sections of the heap (young/old generation or survivor space). Those objects (unless they are internal objects like classes etc.) are <em>not</em> stored in PermGen space.</p>\n<p>Example:</p>\n<pre><code>static int i = 1; //the value 1 is stored in the PermGen section\nstatic Object o = new SomeObject(); //the reference(pointer/memory address) is stored in the PermGen section, the object itself is not.\n</code></pre>\n<br>\nA word on garbage collection:\n<p>Do <em>not</em> rely on <code>finalize()</code> as it's not guaranteed to run. It is totally up to the JVM to decide when to run the garbage collector and what to collect, even if an object is eligible for garbage collection.</p>\n<p>Of course you can set a static variable to null and thus remove the reference to the object on the heap but that doesn't mean the garbage collector <em>will</em> collect it (even if there are no more references).</p>\n<p>Additionally <code>finalize()</code> is run only once, so you have to make sure it doesn't throw exceptions or otherwise prevent the object to be collected. If you halt finalization through some exception, <code>finalize()</code> won't be invoked on the same object a second time.</p>\n<p><em>A final note</em>: how code, runtime data etc. are stored depends on the JVM which is used, i.e. HotSpot might do it differently than JRockit and this might even differ between versions of the same JVM. The above is based on HotSpot for Java 5 and 6 (those are basically the same) since at the time of answering I'd say that most people used those JVMs. Due to major changes in the memory model as of Java 8, the statements above might not be true for Java 8 HotSpot - and I didn't check the changes of Java 7 HotSpot, so I <em>guess</em> the above is still true for that version, but I'm not sure here.</p>\n"},{"tags":[],"owner":{"account_id":171680,"reputation":997,"user_id":399257,"accept_rate":100,"display_name":"Vasiliy Sharapov"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1323101166,"creation_date":1323101166,"answer_id":8388172,"question_id":8387989,"body_markdown":"This is a question with a simple answer and a long-winded answer.\r\n\r\nThe simple answer is the heap. Classes and all of the data applying to classes (not instance data) is stored in the Permanent Generation section of the heap.\r\n\r\nThe long answer is already on stack overflow:\r\n\r\nThere is a [thorough description of memory and garbage collection in the JVM][1] as well as an [answer that talks more concisely][2] about it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3849819/399257\r\n  [2]: https://stackoverflow.com/a/2129073/399257","title":"Where are static methods and static variables stored in Java?","body":"<p>This is a question with a simple answer and a long-winded answer.</p>\n\n<p>The simple answer is the heap. Classes and all of the data applying to classes (not instance data) is stored in the Permanent Generation section of the heap.</p>\n\n<p>The long answer is already on stack overflow:</p>\n\n<p>There is a <a href=\"https://stackoverflow.com/a/3849819/399257\">thorough description of memory and garbage collection in the JVM</a> as well as an <a href=\"https://stackoverflow.com/a/2129073/399257\">answer that talks more concisely</a> about it.</p>\n"},{"tags":[],"owner":{"account_id":3493556,"reputation":4931,"user_id":2922515,"accept_rate":70,"display_name":"Vipin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1384599515,"creation_date":1384599515,"answer_id":20017588,"question_id":8387989,"body_markdown":"In addition to the Thomas&#39;s answer , static variable are stored in non heap area which is called Method Area.","title":"Where are static methods and static variables stored in Java?","body":"<p>In addition to the Thomas's answer , static variable are stored in non heap area which is called Method Area.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1388122300,"creation_date":1388122300,"answer_id":20795333,"question_id":8387989,"body_markdown":"Class variables(Static variables) are stored as part of the `Class object` associated with that class. This Class object can only be created by JVM and is stored in `permanent generation`.\r\n\r\nAlso some have answered that it is stored in non heap area which is called `Method Area.` Even this answer is not wrong. It is just a debatable topic whether Permgen Area is a part of heap or not. Obviously perceptions differ from person to person. In my opinion we provide heap space and permgen space differently in JVM arguments. So it is a good assumption to treat them differently.\r\n\r\nAnother way to see it\r\n\r\nMemory pools are created by JVM memory managers during runtime. Memory pool may belong to either heap or non-heap memory.A run time constant pool is a per-class or per-interface run time representation of the constant_pool table in a class file. Each runtime constant pool is allocated from the Java virtual machine’s method area and Static Variables are stored in this Method Area.\r\nAlso this non-heap is nothing but perm gen area.Actually Method area is part of perm gen.([Reference][1])\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://javapapers.com/core-java/java-jvm-memory-types/\r\n  [2]: http://i.stack.imgur.com/xO8r2.png","title":"Where are static methods and static variables stored in Java?","body":"<p>Class variables(Static variables) are stored as part of the <code>Class object</code> associated with that class. This Class object can only be created by JVM and is stored in <code>permanent generation</code>.</p>\n\n<p>Also some have answered that it is stored in non heap area which is called <code>Method Area.</code> Even this answer is not wrong. It is just a debatable topic whether Permgen Area is a part of heap or not. Obviously perceptions differ from person to person. In my opinion we provide heap space and permgen space differently in JVM arguments. So it is a good assumption to treat them differently.</p>\n\n<p>Another way to see it</p>\n\n<p>Memory pools are created by JVM memory managers during runtime. Memory pool may belong to either heap or non-heap memory.A run time constant pool is a per-class or per-interface run time representation of the constant_pool table in a class file. Each runtime constant pool is allocated from the Java virtual machine’s method area and Static Variables are stored in this Method Area.\nAlso this non-heap is nothing but perm gen area.Actually Method area is part of perm gen.(<a href=\"http://javapapers.com/core-java/java-jvm-memory-types/\" rel=\"noreferrer\">Reference</a>)</p>\n\n<p><img src=\"https://i.stack.imgur.com/xO8r2.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3360311,"reputation":7431,"user_id":2822252,"accept_rate":60,"display_name":"Ramesh Papaganti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439810752,"creation_date":1439810752,"answer_id":32049178,"question_id":8387989,"body_markdown":"As static variables are class level variables, they will store &quot; **permanent generation** &quot; of heap memory.\r\nPlease look into  [this][1] for more details of JVM. Hoping this will be helpful \r\n\r\n\r\n  [1]: http://java-latte.blogspot.in/2013/08/garbage-collection-in-java.html","title":"Where are static methods and static variables stored in Java?","body":"<p>As static variables are class level variables, they will store \" <strong>permanent generation</strong> \" of heap memory.\nPlease look into  <a href=\"http://java-latte.blogspot.in/2013/08/garbage-collection-in-java.html\" rel=\"nofollow\">this</a> for more details of JVM. Hoping this will be helpful </p>\n"},{"tags":[],"owner":{"account_id":12944462,"reputation":411,"user_id":9359233,"display_name":"Manish Kumar"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1533569414,"creation_date":1533569414,"answer_id":51711054,"question_id":8387989,"body_markdown":"**Prior to Java 8:**\r\n\r\nThe static variables were stored in the permgen space(also called the method area).\r\n\r\n[PermGen Space is also known as Method Area][1]\r\n\r\nPermGen Space used to store 3 things\r\n\r\n 1. Class level data (meta-data)\r\n 2. interned strings\r\n 3. static variables\r\n\r\n**From Java 8 onwards**\r\n\r\nThe static variables are stored in the Heap itself.From Java 8 onwards the PermGen Space have been removed and new space named as MetaSpace is introduced which is not the part of Heap any more unlike the previous Permgen Space. Meta-Space is present on the native memory (memory provided by the OS to a particular Application for its own usage) and it now only stores the class meta-data.\r\n\r\nThe interned strings and static variables are moved into the heap itself.\r\n\r\nFor official information refer : [JEP 122:Remove the Permanent Gen Space][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2XS5f.png\r\n  [2]: http://openjdk.java.net/jeps/122","title":"Where are static methods and static variables stored in Java?","body":"<p><strong>Prior to Java 8:</strong></p>\n\n<p>The static variables were stored in the permgen space(also called the method area).</p>\n\n<p><a href=\"https://i.stack.imgur.com/2XS5f.png\" rel=\"noreferrer\">PermGen Space is also known as Method Area</a></p>\n\n<p>PermGen Space used to store 3 things</p>\n\n<ol>\n<li>Class level data (meta-data)</li>\n<li>interned strings</li>\n<li>static variables</li>\n</ol>\n\n<p><strong>From Java 8 onwards</strong></p>\n\n<p>The static variables are stored in the Heap itself.From Java 8 onwards the PermGen Space have been removed and new space named as MetaSpace is introduced which is not the part of Heap any more unlike the previous Permgen Space. Meta-Space is present on the native memory (memory provided by the OS to a particular Application for its own usage) and it now only stores the class meta-data.</p>\n\n<p>The interned strings and static variables are moved into the heap itself.</p>\n\n<p>For official information refer : <a href=\"http://openjdk.java.net/jeps/122\" rel=\"noreferrer\">JEP 122:Remove the Permanent Gen Space</a></p>\n"},{"tags":[],"owner":{"account_id":9072889,"reputation":183,"user_id":6755396,"display_name":"viren shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683953586,"creation_date":1600228901,"answer_id":63912929,"question_id":8387989,"body_markdown":"When we create a static variable or method it is stored in a special area on the heap: PermGen(Permanent Generation), where it lays down all the data applying to classes(non-instance data).\r\n\r\nStarting from Java 8 the PermGen became - Metaspace. \r\n\r\nThe difference is that Metaspace is an auto-growing space, while PermGen has a fixed Max size, and this space is shared among all of the instances. Plus the Metaspace is a part of a **Native** Memory and not **JVM** Memory.\r\n\r\nYou can look into [this][1] for more details.\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/static-variables-methods-java-where-jvm-stores-them-kotlin-malisciuc/","title":"Where are static methods and static variables stored in Java?","body":"<p>When we create a static variable or method it is stored in a special area on the heap: PermGen(Permanent Generation), where it lays down all the data applying to classes(non-instance data).</p>\n<p>Starting from Java 8 the PermGen became - Metaspace.</p>\n<p>The difference is that Metaspace is an auto-growing space, while PermGen has a fixed Max size, and this space is shared among all of the instances. Plus the Metaspace is a part of a <strong>Native</strong> Memory and not <strong>JVM</strong> Memory.</p>\n<p>You can look into <a href=\"https://www.linkedin.com/pulse/static-variables-methods-java-where-jvm-stores-them-kotlin-malisciuc/\" rel=\"nofollow noreferrer\">this</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":20387359,"reputation":11,"user_id":14956028,"display_name":"Durjan Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643474526,"creation_date":1609990929,"answer_id":65606327,"question_id":8387989,"body_markdown":"In real world or project we have requirement in advance and needs to create variable and methods inside the class , On the basis of requirement we needs to decide whether we needs to create\r\n1. Local ( create n access within block or method constructor)\r\n2. Static, \r\n3. Instance Variable( every object has its own copy of it), \r\n\r\n=&gt;2. Static Keyword will be used with variable which will going to be same for particular class throughout for all objects, \r\n\r\ne.g in selenium : we decalre webDriver as static =&gt; so we do not need to create webdriver again and again for every test case\r\n\r\n&gt;  `Static Webdriver driver`\r\n\r\n(but parallel execution it will cause problem, but thats another case); \r\n\r\nReal world scenario =&gt; If India is class, then flag, money would be same for every Indian, so we might take them as static. \r\n\r\nAnother example: utility method we always declare as static b&#39;cos it will be used in different test cases. \r\nStatic stored in CMA( PreGen space)=PreGen (Fixed memory)changed to Metaspace after Java8 as now its growing dynamically\r\n","title":"Where are static methods and static variables stored in Java?","body":"<p>In real world or project we have requirement in advance and needs to create variable and methods inside the class , On the basis of requirement we needs to decide whether we needs to create</p>\n<ol>\n<li>Local ( create n access within block or method constructor)</li>\n<li>Static,</li>\n<li>Instance Variable( every object has its own copy of it),</li>\n</ol>\n<p>=&gt;2. Static Keyword will be used with variable which will going to be same for particular class throughout for all objects,</p>\n<p>e.g in selenium : we decalre webDriver as static =&gt; so we do not need to create webdriver again and again for every test case</p>\n<blockquote>\n<p><code>Static Webdriver driver</code></p>\n</blockquote>\n<p>(but parallel execution it will cause problem, but thats another case);</p>\n<p>Real world scenario =&gt; If India is class, then flag, money would be same for every Indian, so we might take them as static.</p>\n<p>Another example: utility method we always declare as static b'cos it will be used in different test cases.\nStatic stored in CMA( PreGen space)=PreGen (Fixed memory)changed to Metaspace after Java8 as now its growing dynamically</p>\n"},{"tags":[],"owner":{"account_id":14641841,"reputation":482,"user_id":10574261,"display_name":"kushagra deep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652805200,"creation_date":1652805200,"answer_id":72277693,"question_id":8387989,"body_markdown":"As of Java 8 , PermGen space is Obsolete. Static Methods,Primitives and Reference Variables are stored in Java MetaSpace. The actual objects reside in the JAVA heap. Since static methods never get out of reference they are never Garbage collected both from MetaSpace and the HEAP.","title":"Where are static methods and static variables stored in Java?","body":"<p>As of Java 8 , PermGen space is Obsolete. Static Methods,Primitives and Reference Variables are stored in Java MetaSpace. The actual objects reside in the JAVA heap. Since static methods never get out of reference they are never Garbage collected both from MetaSpace and the HEAP.</p>\n"}],"owner":{"account_id":1083888,"reputation":10344,"user_id":1080093,"accept_rate":92,"display_name":"Nav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203868,"favorite_count":0,"down_vote_count":1,"up_vote_count":146,"accepted_answer_id":8388068,"answer_count":11,"score":145,"last_activity_date":1683953586,"creation_date":1323100432,"question_id":8387989,"body_markdown":"For example:\r\n    \r\n    class A {\r\n        static int i=0;\r\n        static int j;\r\n\r\n       static void method() {\r\n           // static k=0; can&#39;t use static for local variables only final is permitted\r\n           // static int L;\r\n        }\r\n    }\r\n\r\nWhere will these variables be stored in Java, in heap or in stack memory? How are they stored?","title":"Where are static methods and static variables stored in Java?","body":"<p>For example:</p>\n\n<pre><code>class A {\n    static int i=0;\n    static int j;\n\n   static void method() {\n       // static k=0; can't use static for local variables only final is permitted\n       // static int L;\n    }\n}\n</code></pre>\n\n<p>Where will these variables be stored in Java, in heap or in stack memory? How are they stored?</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1641806669,"post_id":70648296,"comment_id":124893675,"body_markdown":"Your code only appends multiple `CTBody` elements   into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure. For example to numbering definitions, footnotes, endnotes, media (images for ex.), ... So that approach is not usable at all. The need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. This is much to broad to answer in one question here.","body":"Your code only appends multiple <code>CTBody</code> elements   into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure. For example to numbering definitions, footnotes, endnotes, media (images for ex.), ... So that approach is not usable at all. The need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. This is much to broad to answer in one question here."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1641825059,"post_id":70648296,"comment_id":124900744,"body_markdown":"Thank you for your explanation. Do you have any reference for a more suitable approach to solve my problem?","body":"Thank you for your explanation. Do you have any reference for a more suitable approach to solve my problem?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641836891,"post_id":70648296,"comment_id":124906218,"body_markdown":"Not that I know. Some of the paid closed source libraries claim to be able merging DOCX documents. But I&#39;ve never had that problem. For me word-processing documents always are the end result, never a data exchange format. So the data source for a word-processing document never are single word-processing documents but real data sources as data bases or JSON or XML or CSV or else. Then one single word-processing document gets created from that data source. So no merging needed.","body":"Not that I know. Some of the paid closed source libraries claim to be able merging DOCX documents. But I&#39;ve never had that problem. For me word-processing documents always are the end result, never a data exchange format. So the data source for a word-processing document never are single word-processing documents but real data sources as data bases or JSON or XML or CSV or else. Then one single word-processing document gets created from that data source. So no merging needed."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1641902841,"post_id":70648296,"comment_id":124923871,"body_markdown":"Thank you for your explanation. But please help me because I have tried my best to find a solution but haven&#39;t found a suitable approach, do you have any other ideas to solve this problem?","body":"Thank you for your explanation. But please help me because I have tried my best to find a solution but haven&#39;t found a suitable approach, do you have any other ideas to solve this problem?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1641908382,"post_id":70648296,"comment_id":124926018,"body_markdown":"Well, how much time are you able to invest? As said, the need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. I could show you a working draft using `apache poi`. But I cannot deliver the ready to use code which merges Word documents and considers all possible content. If that is needed, then buy one of the commercial libraries(Aspose, ...,  or the MergeDocx utility, which is a paid extension to docx4j).","body":"Well, how much time are you able to invest? As said, the need is traversing all body elements of both the documents and append each body element to an new document and update it&#39;s references. I could show you a working draft using <code>apache poi</code>. But I cannot deliver the ready to use code which merges Word documents and considers all possible content. If that is needed, then buy one of the commercial libraries(Aspose, ...,  or the MergeDocx utility, which is a paid extension to docx4j)."},{"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"score":0,"creation_date":1641962951,"post_id":70648296,"comment_id":124942615,"body_markdown":"Then can you show me a working draft using apache poi?","body":"Then can you show me a working draft using apache poi?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683953209,"creation_date":1642094063,"answer_id":70700519,"question_id":70648296,"body_markdown":"Your code only appends multiple `CTBody` elements into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure. \r\n\r\nFor example to numbering definitions are referenced by IDs. And that can be the same ID for different definitions in different documents. So ID 1 in first document might be pointing to a decimal numbering while ID 1 in second document might be pointing to a bullet numbering. So the numIDs needs to be merged and not only copied.\r\n\r\nEmbedded  media (images for ex.) are referenced by rIDs. So the `CTBody` only contains the IDs. The media itself is stored outside the document body. So if the document body refers to a picture having rID12 and this picture is not stored, then the document gets corrupted.\r\n\r\nSame is with many other document elements.\r\n\r\nSo that approach is not usable at all. \r\n\r\nThe need is traversing all body elements of the document, which shall be appended. Then append each found body element to the first document and update it&#39;s references.\r\n\r\nThe following is a working draft to show the principle. It is not ready yet. For example it does not considering hyperlinks, footnotes, comments, structured document tags and much more things. And as you see from the sheer amount of code needed, considering all possible things will be a very laborious task to do. To avoid even more code I simply copy the underlying XML bean if possible. This also should be better formed out for productive usage. But the principle should be clear from this code.\r\n\r\nThe code is commented when names of methods and variables are not self explained.\r\n\r\nThe code is tested and works using current `apache poi 5.1.0`. Former versions are not tested and also should  not be used since they offer even less support for `XWPF`.\r\n\r\nThe code needs the full jar of all of the schemas as mentioned in [Apache POI FAQ](https://poi.apache.org/help/faq.html#faq-N10025).\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.util.Units;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.math.BigInteger;\r\n    \r\n    public class WordMerger {\r\n        \r\n     private Map&lt;BigInteger, BigInteger&gt; numIDs = null; // to handle merging numID \r\n     \r\n     public WordMerger() {\r\n      this.numIDs= new HashMap&lt;BigInteger, BigInteger&gt;();\r\n     }\r\n                    \r\n     private void traverseBodyElements(List&lt;IBodyElement&gt; bodyElements, IBody resultBody) throws Exception {\r\n      for (IBodyElement bodyElement : bodyElements) {\r\n       if (bodyElement instanceof XWPFParagraph) {\r\n        XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\r\n        XWPFParagraph resultParagraph = createParagraphWithPPr(paragraph, resultBody);\r\n        traverseRunElements(paragraph.getIRuns(), resultParagraph);\r\n       } else if (bodyElement instanceof XWPFSDT) {\r\n        XWPFSDT sDT = (XWPFSDT)bodyElement;\r\n        XWPFSDT resultSDT = createSDT(sDT, resultBody);\r\n        //ToDo: handle further issues ...\r\n       } else if (bodyElement instanceof XWPFTable) {\r\n        XWPFTable table = (XWPFTable)bodyElement;\r\n        XWPFTable resultTable = createTableWithTblPrAndTblGrid(table, resultBody);\r\n        traverseTableRows(table.getRows(), resultTable);\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFSDT createSDT(XWPFSDT sDT, IBody resultBody) {\r\n      //not ready yet\r\n      //we simply add paragraphs to avoid corruped documents\r\n      if (resultBody instanceof XWPFDocument) {\r\n       XWPFDocument resultDocument = (XWPFDocument)resultBody;\r\n       XWPFParagraph resultParagraph = resultDocument.createParagraph();\r\n       //ToDo: handle further issues ...\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       XWPFParagraph resultParagraph = resultTableCell.addParagraph();\r\n       //ToDo: handle further issues ...\r\n      } //ToDo: else others ...\r\n      //ToDo: handle SDT properly\r\n      return null;\r\n     }\r\n    \r\n     private XWPFParagraph createParagraphWithPPr(XWPFParagraph paragraph, IBody resultBody) {\r\n      if (resultBody instanceof XWPFDocument) {\r\n       XWPFDocument resultDocument = (XWPFDocument)resultBody;\r\n       XWPFParagraph resultParagraph = resultDocument.createParagraph();\r\n       resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\r\n       handleStyles(resultDocument, paragraph);\r\n       handleNumberings(paragraph, resultParagraph);\r\n       handleOMathParaArray(paragraph, resultParagraph);\r\n       handleOMathIfFirstChild(paragraph, resultParagraph);\r\n       //ToDo: handle further issues ...\r\n       return resultParagraph;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       XWPFParagraph resultParagraph = resultTableCell.addParagraph();\r\n       resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\r\n       handleStyles(resultTableCell, paragraph);\r\n       handleOMathParaArray(paragraph, resultParagraph);\r\n       handleOMathIfFirstChild(paragraph, resultParagraph);\r\n       //ToDo: handle further issues ...  \r\n       return resultParagraph;\r\n      } //ToDo: else others ...\r\n      return null;\r\n     }\r\n    \r\n     private void handleOMathParaArray(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\r\n      resultParagraph.getCTP().setOMathParaArray​(paragraph.getCTP().getOMathParaArray());//simply copy the underlying XML bean to avoid more code\r\n     }\r\n     \r\n     private void handleOMathIfFirstChild(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\r\n      org.apache.xmlbeans.XmlCursor cursor = paragraph.getCTP().newCursor();\r\n      cursor.toChild(0);\r\n      org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\r\n      if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\r\n       org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\r\n       resultParagraph.getCTP().addNewOMath();\r\n       resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\r\n      }  \r\n     }\r\n     \r\n     private void handleNumberings(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\r\n      //if we have numberings, we need merging the numIDs and abstract numberings of the two different documents\r\n      BigInteger numID = paragraph.getNumID();\r\n      if (numID == null) return;\r\n      BigInteger resultNumID = this.numIDs.get(numID);\r\n      if (resultNumID == null) {\r\n       XWPFDocument document = paragraph.getDocument(); \r\n       XWPFNumbering numbering = document.createNumbering();\r\n       XWPFNum num = numbering.getNum(numID);\r\n       BigInteger abstractNumID = numbering.getAbstractNumID(numID);\r\n       XWPFAbstractNum abstractNum = numbering.getAbstractNum(abstractNumID);\r\n       XWPFAbstractNum resultAbstractNum = new XWPFAbstractNum((org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum)abstractNum.getCTAbstractNum().copy());\r\n       XWPFDocument resultDocument = resultParagraph.getDocument(); \r\n       XWPFNumbering resultNumbering = resultDocument.createNumbering();\r\n       int pos = resultNumbering.getAbstractNums().size();\r\n       resultAbstractNum.getCTAbstractNum().setAbstractNumId(BigInteger.valueOf(pos));\r\n       BigInteger resultAbstractNumID = resultNumbering.addAbstractNum(resultAbstractNum);\r\n       resultNumID = resultNumbering.addNum(resultAbstractNumID);\r\n       XWPFNum resultNum = resultNumbering.getNum(resultNumID);\r\n       resultNum.getCTNum().setLvlOverrideArray(num.getCTNum().getLvlOverrideArray());\r\n       this.numIDs.put(numID, resultNumID);\r\n      }\r\n      resultParagraph.setNumID(resultNumID);  \r\n     }\r\n    \r\n     private void handleStyles(IBody resultBody, IBodyElement bodyElement) {\r\n      //if we have bodyElement styles we need merging those styles of the two different documents\r\n      XWPFDocument document = null;\r\n      String styleID = null;\r\n      if (bodyElement instanceof XWPFParagraph) {\r\n       XWPFParagraph paragraph = (XWPFParagraph)bodyElement;  \r\n       document = paragraph.getDocument(); \r\n       styleID = paragraph.getStyleID();   \r\n      } else if (bodyElement instanceof XWPFTable) {\r\n       XWPFTable table = (XWPFTable)bodyElement;\r\n       if (table.getPart() instanceof XWPFDocument) {\r\n        document = (XWPFDocument)table.getPart();\r\n        styleID = table.getStyleID();\r\n       }\r\n      } //ToDo: else others ...\r\n      if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\r\n      XWPFDocument resultDocument = null;\r\n      if (resultBody instanceof XWPFDocument) {\r\n       resultDocument = (XWPFDocument)resultBody;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       resultDocument = resultTableCell.getXWPFDocument();\r\n      } //ToDo: else others ...\r\n      if (resultDocument != null) {\r\n       XWPFStyles styles = document.getStyles();  \r\n       XWPFStyles resultStyles = resultDocument.getStyles(); \r\n       XWPFStyle style = styles.getStyle(styleID);\r\n       //merge each used styles, also the related ones\r\n       for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\r\n        if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\r\n         resultStyles.addStyle(relatedStyle);\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFTable createTableWithTblPrAndTblGrid(XWPFTable table, IBody resultBody) {\r\n      if (resultBody instanceof XWPFDocument) {\r\n       XWPFDocument resultDocument = (XWPFDocument)resultBody;\r\n       XWPFTable resultTable = resultDocument.createTable();\r\n       resultTable.removeRow(0);   \r\n       resultTable.getCTTbl().setTblPr(table.getCTTbl().getTblPr());//simply copy the underlying XML bean to avoid more code\r\n       resultTable.getCTTbl().setTblGrid(table.getCTTbl().getTblGrid());//simply copy the underlying XML bean to avoid more code\r\n       handleStyles(resultDocument, table);\r\n       //ToDo: handle further issues ...\r\n       return resultTable;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       //ToDo: handle stacked tables\r\n      } //ToDo: else others ...\r\n      return null;       \r\n     }\r\n    \r\n     private void traverseRunElements(List&lt;IRunElement&gt; runElements, IRunBody resultRunBody) throws Exception {\r\n      for (IRunElement runElement : runElements) {\r\n       if (runElement instanceof XWPFFieldRun) {\r\n        XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\r\n        XWPFFieldRun resultFieldRun = createFieldRunWithRPr(fieldRun, resultRunBody);\r\n        traversePictures(fieldRun, resultFieldRun);\r\n       } else if (runElement instanceof XWPFHyperlinkRun) {\r\n        XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\r\n        XWPFHyperlinkRun resultHyperlinkRun = createHyperlinkRunWithRPr(hyperlinkRun, resultRunBody);\r\n        traversePictures(hyperlinkRun, resultHyperlinkRun);\r\n       } else if (runElement instanceof XWPFRun) {\r\n        XWPFRun run = (XWPFRun)runElement;\r\n        XWPFRun resultRun = createRunWithRPr(run, resultRunBody);\r\n        traversePictures(run, resultRun);\r\n       } else if (runElement instanceof XWPFSDT) {\r\n        XWPFSDT sDT = (XWPFSDT)runElement;\r\n        //ToDo: handle SDT\r\n       }\r\n      }\r\n     }\r\n    \r\n     private void copyTextOfRuns(XWPFRun run, XWPFRun resultRun) {\r\n      //copy all of the possible T contents of the runs\r\n      for (int i = 0; i &lt; run.getCTR().sizeOfTArray(); i++) {\r\n       resultRun.setText(run.getText(i), i);\r\n      }\r\n     }\r\n     \r\n     private XWPFFieldRun createFieldRunWithRPr(XWPFFieldRun fieldRun, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultParagraph.createRun();\r\n       resultFieldRun.getCTR().setRPr(fieldRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\r\n       //ToDo: handle field runs properly ...\r\n       handleRunStyles(resultParagraph.getDocument(), fieldRun);\r\n       handlePossibleOMt&#225;th(fieldRun, resultRunBody);\r\n       //ToDo: handle further issues ...\r\n       return resultFieldRun;\r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n      return null;\r\n     }\r\n     \r\n     private XWPFHyperlinkRun createHyperlinkRunWithRPr(XWPFHyperlinkRun hyperlinkRun, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink resultCTHyperLink = resultParagraph.getCTP().addNewHyperlink();\r\n       resultCTHyperLink.addNewR();\r\n       XWPFHyperlinkRun resultHyperlinkRun =  new XWPFHyperlinkRun(resultCTHyperLink, resultCTHyperLink.getRArray(0), resultParagraph);\r\n       if (hyperlinkRun.getAnchor() != null) {\r\n        resultHyperlinkRun = resultParagraph.createHyperlinkRun(hyperlinkRun.getAnchor());\r\n       }\r\n       resultHyperlinkRun.getCTR().setRPr(hyperlinkRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\r\n       copyTextOfRuns(hyperlinkRun, resultHyperlinkRun);\r\n       //ToDo: handle external hyperlink runs properly ...\r\n       handleRunStyles(resultParagraph.getDocument(), hyperlinkRun);\r\n       handlePossibleOMt&#225;th(hyperlinkRun, resultRunBody);\r\n       //ToDo: handle further issues ...\r\n       return resultHyperlinkRun;\r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n      return null;\r\n     }\r\n    \r\n     private XWPFRun createRunWithRPr(XWPFRun run, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       XWPFRun resultRun = resultParagraph.createRun();\r\n       resultRun.getCTR().setRPr(run.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\r\n       copyTextOfRuns(run, resultRun);\r\n       handleRunStyles(resultParagraph.getDocument(), run);\r\n       handlePossibleOMt&#225;th(run, resultRunBody);\r\n       //ToDo: handle further issues ...\r\n       return resultRun;\r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n      return null;\r\n     }\r\n    \r\n     private void handlePossibleOMt&#225;th(XWPFRun run, IRunBody resultRunBody) {\r\n      if (resultRunBody instanceof XWPFParagraph) {\r\n       XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\r\n       org.apache.xmlbeans.XmlCursor cursor = run.getCTR().newCursor();\r\n       cursor.toNextSibling();\r\n       org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\r\n       if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\r\n        org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\r\n        resultParagraph.getCTP().addNewOMath();\r\n        resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\r\n       }  \r\n      } else if (resultRunBody instanceof XWPFSDT) {   \r\n       //ToDo: handle SDT\r\n      }\r\n     }\r\n     \r\n     private void handleRunStyles(IBody resultBody, IRunElement runElement) {\r\n      //if we have runElement styles we need merging those styles of the two different documents\r\n      XWPFDocument document = null;\r\n      String styleID = null;\r\n      if (runElement instanceof XWPFRun) {\r\n       XWPFRun run = (XWPFRun)runElement;  \r\n       document = run.getDocument(); \r\n       styleID = run.getStyle();   \r\n      } else if (runElement instanceof XWPFHyperlinkRun) {\r\n       XWPFHyperlinkRun run = (XWPFHyperlinkRun)runElement;  \r\n       document = run.getDocument(); \r\n       styleID = run.getStyle();      \r\n      } else if (runElement instanceof XWPFFieldRun) {\r\n       XWPFFieldRun run = (XWPFFieldRun)runElement;  \r\n       document = run.getDocument(); \r\n       styleID = run.getStyle();      \r\n      } //ToDo: else others ...\r\n      if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\r\n      XWPFDocument resultDocument = null;\r\n      if (resultBody instanceof XWPFDocument) {\r\n       resultDocument = (XWPFDocument)resultBody;\r\n      } else if (resultBody instanceof XWPFTableCell) {\r\n       XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\r\n       resultDocument = resultTableCell.getXWPFDocument();\r\n      } //ToDo: else others ...\r\n      if (resultDocument != null) {\r\n       XWPFStyles styles = document.getStyles();  \r\n       XWPFStyles resultStyles = resultDocument.getStyles(); \r\n       XWPFStyle style = styles.getStyle(styleID);\r\n       //merge each used styles, also the related ones\r\n       for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\r\n        if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\r\n         resultStyles.addStyle(relatedStyle);\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     private void traverseTableRows(List&lt;XWPFTableRow&gt; tableRows, XWPFTable resultTable) throws Exception {\r\n      for (XWPFTableRow tableRow : tableRows) {\r\n       XWPFTableRow resultTableRow = createTableRowWithTrPr(tableRow, resultTable);\r\n       traverseTableCells(tableRow.getTableICells(), resultTableRow);\r\n      }\r\n     }\r\n    \r\n     private XWPFTableRow createTableRowWithTrPr(XWPFTableRow tableRow, XWPFTable resultTable) {\r\n      XWPFTableRow resultTableRow = resultTable.createRow();\r\n      for (int i = resultTableRow.getTableCells().size(); i &gt; 0; i--) { //table row should be empty at first\r\n       resultTableRow.removeCell(i-1);\r\n      }\r\n      resultTableRow.getCtRow().setTrPr(tableRow.getCtRow().getTrPr());//simply copy the underlying XML bean to avoid more code\r\n      //ToDo: handle further issues ...\r\n      return resultTableRow;\r\n     }\r\n    \r\n     private void traverseTableCells(List&lt;ICell&gt; tableICells, XWPFTableRow resultTableRow) throws Exception {\r\n      for (ICell tableICell : tableICells) {\r\n       if (tableICell instanceof XWPFSDTCell) {\r\n        XWPFSDTCell sDTCell = (XWPFSDTCell)tableICell;\r\n        XWPFSDTCell resultSdtTableCell = createSdtTableCell(sDTCell, resultTableRow);\r\n        //ToDo: handle further issues ...  \r\n       } else if (tableICell instanceof XWPFTableCell) {\r\n        XWPFTableCell tableCell = (XWPFTableCell)tableICell;\r\n        XWPFTableCell resultTableCell = createTableCellWithTcPr(tableCell, resultTableRow);\r\n        traverseBodyElements(tableCell.getBodyElements(), resultTableCell);\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFSDTCell createSdtTableCell(XWPFSDTCell sDTCell, XWPFTableRow resultTableRow) { \r\n      //create at least a cell to avoid corrupted document\r\n      XWPFTableCell resultTableCell = resultTableRow.createCell();\r\n      //ToDo: handle SDTCell properly\r\n      //ToDo: handle further issues ...\r\n      return null;\r\n     }\r\n     \r\n     private XWPFTableCell createTableCellWithTcPr(XWPFTableCell tableCell, XWPFTableRow resultTableRow) { \r\n      XWPFTableCell resultTableCell = resultTableRow.createCell();\r\n      resultTableCell.removeParagraph(0);\r\n      resultTableCell.getCTTc().setTcPr(tableCell.getCTTc().getTcPr());//simply copy the underlying XML bean to avoid more code\r\n      //ToDo: handle further issues ...\r\n      return resultTableCell;\r\n     }\r\n    \r\n     private void traversePictures(IRunElement runElement, IRunElement resultRunElement) throws Exception { \r\n      List&lt;XWPFPicture&gt; pictures = null;\r\n      if (runElement instanceof XWPFFieldRun) {\r\n       XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\r\n       pictures = fieldRun.getEmbeddedPictures();\r\n      } else if (runElement instanceof XWPFHyperlinkRun) {\r\n       XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\r\n       pictures = hyperlinkRun.getEmbeddedPictures();\r\n      } else if (runElement instanceof XWPFRun) {\r\n       XWPFRun run = (XWPFRun)runElement;\r\n       pictures = run.getEmbeddedPictures();\r\n      } else if (runElement instanceof XWPFSDT) {\r\n       XWPFSDT sDT = (XWPFSDT)runElement;\r\n       //ToDo: handle SDT\r\n      }            \r\n      if (pictures != null) { \r\n       for (XWPFPicture picture : pictures) {\r\n        XWPFPictureData pictureData = picture.getPictureData();\r\n        XWPFPicture resultPicture = createPictureWithDrawing(runElement, picture, pictureData, resultRunElement);\r\n       }\r\n      }\r\n     }\r\n    \r\n     private XWPFPicture createPictureWithDrawing(IRunElement runElement, XWPFPicture picture, XWPFPictureData pictureData, IRunElement resultRunElement) {\r\n      if (resultRunElement instanceof XWPFFieldRun) {\r\n       XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\r\n       XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultRunElement;\r\n       XWPFPicture resultPicture = createPictureWithDrawing(fieldRun, resultFieldRun, picture, pictureData);\r\n       return resultPicture;\r\n      } else if (resultRunElement instanceof XWPFHyperlinkRun) {\r\n       XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\r\n       XWPFHyperlinkRun resultHyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\r\n       XWPFPicture resultPicture = createPictureWithDrawing(hyperlinkRun, resultHyperlinkRun, picture, pictureData);\r\n       return resultPicture;\r\n      } else if (resultRunElement instanceof XWPFRun) {\r\n       XWPFRun run = (XWPFRun)runElement;\r\n       XWPFRun resultRun = (XWPFRun)resultRunElement;\r\n       XWPFPicture resultPicture = createPictureWithDrawing(run, resultRun, picture, pictureData);\r\n       return resultPicture;\r\n      } else if (resultRunElement instanceof XWPFSDT) {\r\n       XWPFSDT sDT = (XWPFSDT)resultRunElement;\r\n       //ToDo: handle SDT\r\n      }            \r\n      return null; \r\n     }\r\n     \r\n     private XWPFPicture createPictureWithDrawing(XWPFRun run, XWPFRun resultRun, XWPFPicture picture, XWPFPictureData pictureData) {\r\n      try {\r\n       XWPFPicture resultPicture = resultRun.addPicture(\r\n        pictureData.getPackagePart().getInputStream(), \r\n        pictureData.getPictureType(), \r\n        pictureData.getFileName(), \r\n        Units.pixelToEMU((int)picture.getWidth()), \r\n        Units.pixelToEMU((int)picture.getDepth()));\r\n       String rId = resultPicture.getCTPicture().getBlipFill().getBlip().getEmbed();\r\n       resultRun.getCTR().setDrawingArray(0, run.getCTR().getDrawingArray(0));//simply copy the underlying XML bean to avoid more code\r\n       //but then correct the rID\r\n       String declareNameSpaces = &quot;declare namespace a=&#39;http://schemas.openxmlformats.org/drawingml/2006/main&#39;; &quot;;\r\n       org.apache.xmlbeans.XmlObject[] selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\r\n        declareNameSpaces \r\n        + &quot;$this//a:blip&quot;);\r\n       for (org.apache.xmlbeans.XmlObject blipObject : selectedObjects) {\r\n        if (blipObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTBlip) {\r\n         org.openxmlformats.schemas.drawingml.x2006.main.CTBlip blip = (org.openxmlformats.schemas.drawingml.x2006.main.CTBlip)blipObject;\r\n         if (blip.isSetEmbed()) blip.setEmbed(rId);\r\n        }\r\n       }\r\n       //remove rIDs to external hyperlinks to avoid corruot document\r\n       selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\r\n        declareNameSpaces \r\n        + &quot;$this//a:hlinkClick&quot;);\r\n       for (org.apache.xmlbeans.XmlObject hlinkClickObject : selectedObjects) {\r\n        if (hlinkClickObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink) {\r\n         org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink hlinkClick = (org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink)hlinkClickObject;\r\n         if (hlinkClick.isSetId()) hlinkClick.setId(&quot;&quot;);\r\n         //ToDo: handle pictures having hyperlinks properly\r\n        }\r\n       }\r\n       //ToDo: handle further issues ...\r\n       return resultPicture;\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }\r\n      return null;\r\n     }\r\n    \r\n     public void merge(String firstFilePath, String secondFilePath, String resultFilePath) throws Exception {\r\n      XWPFDocument resultDocument = new XWPFDocument(new FileInputStream(firstFilePath));\r\n      XWPFDocument documentToAppend = new XWPFDocument(new FileInputStream(secondFilePath));\r\n      traverseBodyElements(documentToAppend.getBodyElements(), resultDocument);\r\n      documentToAppend.close();\r\n      FileOutputStream out = new FileOutputStream(resultFilePath);\r\n      resultDocument.write(out);\r\n      out.close();\r\n      resultDocument.close();\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      WordMerger merger = new WordMerger();\r\n      merger.merge(&quot;./WordDocument3.docx&quot;, &quot;./WordDocument4.docx&quot;, &quot;./WordDocumentResult.docx&quot;);\r\n     }\r\n    }","title":"Merge documents by inserting content into a new page using poi","body":"<p>Your code only appends multiple <code>CTBody</code> elements into the document. But that is not how a Word document is structured. &quot;It works&quot; because Microsoft Word is tolerant enough to interpret it. But it fails when it comes to references within the Word document structure.</p>\n<p>For example to numbering definitions are referenced by IDs. And that can be the same ID for different definitions in different documents. So ID 1 in first document might be pointing to a decimal numbering while ID 1 in second document might be pointing to a bullet numbering. So the numIDs needs to be merged and not only copied.</p>\n<p>Embedded  media (images for ex.) are referenced by rIDs. So the <code>CTBody</code> only contains the IDs. The media itself is stored outside the document body. So if the document body refers to a picture having rID12 and this picture is not stored, then the document gets corrupted.</p>\n<p>Same is with many other document elements.</p>\n<p>So that approach is not usable at all.</p>\n<p>The need is traversing all body elements of the document, which shall be appended. Then append each found body element to the first document and update it's references.</p>\n<p>The following is a working draft to show the principle. It is not ready yet. For example it does not considering hyperlinks, footnotes, comments, structured document tags and much more things. And as you see from the sheer amount of code needed, considering all possible things will be a very laborious task to do. To avoid even more code I simply copy the underlying XML bean if possible. This also should be better formed out for productive usage. But the principle should be clear from this code.</p>\n<p>The code is commented when names of methods and variables are not self explained.</p>\n<p>The code is tested and works using current <code>apache poi 5.1.0</code>. Former versions are not tested and also should  not be used since they offer even less support for <code>XWPF</code>.</p>\n<p>The code needs the full jar of all of the schemas as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">Apache POI FAQ</a>.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.util.Units;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.math.BigInteger;\n\npublic class WordMerger {\n    \n private Map&lt;BigInteger, BigInteger&gt; numIDs = null; // to handle merging numID \n \n public WordMerger() {\n  this.numIDs= new HashMap&lt;BigInteger, BigInteger&gt;();\n }\n                \n private void traverseBodyElements(List&lt;IBodyElement&gt; bodyElements, IBody resultBody) throws Exception {\n  for (IBodyElement bodyElement : bodyElements) {\n   if (bodyElement instanceof XWPFParagraph) {\n    XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\n    XWPFParagraph resultParagraph = createParagraphWithPPr(paragraph, resultBody);\n    traverseRunElements(paragraph.getIRuns(), resultParagraph);\n   } else if (bodyElement instanceof XWPFSDT) {\n    XWPFSDT sDT = (XWPFSDT)bodyElement;\n    XWPFSDT resultSDT = createSDT(sDT, resultBody);\n    //ToDo: handle further issues ...\n   } else if (bodyElement instanceof XWPFTable) {\n    XWPFTable table = (XWPFTable)bodyElement;\n    XWPFTable resultTable = createTableWithTblPrAndTblGrid(table, resultBody);\n    traverseTableRows(table.getRows(), resultTable);\n   }\n  }\n }\n\n private XWPFSDT createSDT(XWPFSDT sDT, IBody resultBody) {\n  //not ready yet\n  //we simply add paragraphs to avoid corruped documents\n  if (resultBody instanceof XWPFDocument) {\n   XWPFDocument resultDocument = (XWPFDocument)resultBody;\n   XWPFParagraph resultParagraph = resultDocument.createParagraph();\n   //ToDo: handle further issues ...\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   XWPFParagraph resultParagraph = resultTableCell.addParagraph();\n   //ToDo: handle further issues ...\n  } //ToDo: else others ...\n  //ToDo: handle SDT properly\n  return null;\n }\n\n private XWPFParagraph createParagraphWithPPr(XWPFParagraph paragraph, IBody resultBody) {\n  if (resultBody instanceof XWPFDocument) {\n   XWPFDocument resultDocument = (XWPFDocument)resultBody;\n   XWPFParagraph resultParagraph = resultDocument.createParagraph();\n   resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\n   handleStyles(resultDocument, paragraph);\n   handleNumberings(paragraph, resultParagraph);\n   handleOMathParaArray(paragraph, resultParagraph);\n   handleOMathIfFirstChild(paragraph, resultParagraph);\n   //ToDo: handle further issues ...\n   return resultParagraph;\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   XWPFParagraph resultParagraph = resultTableCell.addParagraph();\n   resultParagraph.getCTP().setPPr(paragraph.getCTP().getPPr());//simply copy the underlying XML bean to avoid more code\n   handleStyles(resultTableCell, paragraph);\n   handleOMathParaArray(paragraph, resultParagraph);\n   handleOMathIfFirstChild(paragraph, resultParagraph);\n   //ToDo: handle further issues ...  \n   return resultParagraph;\n  } //ToDo: else others ...\n  return null;\n }\n\n private void handleOMathParaArray(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\n  resultParagraph.getCTP().setOMathParaArray​(paragraph.getCTP().getOMathParaArray());//simply copy the underlying XML bean to avoid more code\n }\n \n private void handleOMathIfFirstChild(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\n  org.apache.xmlbeans.XmlCursor cursor = paragraph.getCTP().newCursor();\n  cursor.toChild(0);\n  org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\n  if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\n   org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\n   resultParagraph.getCTP().addNewOMath();\n   resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\n  }  \n }\n \n private void handleNumberings(XWPFParagraph paragraph, XWPFParagraph resultParagraph) {\n  //if we have numberings, we need merging the numIDs and abstract numberings of the two different documents\n  BigInteger numID = paragraph.getNumID();\n  if (numID == null) return;\n  BigInteger resultNumID = this.numIDs.get(numID);\n  if (resultNumID == null) {\n   XWPFDocument document = paragraph.getDocument(); \n   XWPFNumbering numbering = document.createNumbering();\n   XWPFNum num = numbering.getNum(numID);\n   BigInteger abstractNumID = numbering.getAbstractNumID(numID);\n   XWPFAbstractNum abstractNum = numbering.getAbstractNum(abstractNumID);\n   XWPFAbstractNum resultAbstractNum = new XWPFAbstractNum((org.openxmlformats.schemas.wordprocessingml.x2006.main.CTAbstractNum)abstractNum.getCTAbstractNum().copy());\n   XWPFDocument resultDocument = resultParagraph.getDocument(); \n   XWPFNumbering resultNumbering = resultDocument.createNumbering();\n   int pos = resultNumbering.getAbstractNums().size();\n   resultAbstractNum.getCTAbstractNum().setAbstractNumId(BigInteger.valueOf(pos));\n   BigInteger resultAbstractNumID = resultNumbering.addAbstractNum(resultAbstractNum);\n   resultNumID = resultNumbering.addNum(resultAbstractNumID);\n   XWPFNum resultNum = resultNumbering.getNum(resultNumID);\n   resultNum.getCTNum().setLvlOverrideArray(num.getCTNum().getLvlOverrideArray());\n   this.numIDs.put(numID, resultNumID);\n  }\n  resultParagraph.setNumID(resultNumID);  \n }\n\n private void handleStyles(IBody resultBody, IBodyElement bodyElement) {\n  //if we have bodyElement styles we need merging those styles of the two different documents\n  XWPFDocument document = null;\n  String styleID = null;\n  if (bodyElement instanceof XWPFParagraph) {\n   XWPFParagraph paragraph = (XWPFParagraph)bodyElement;  \n   document = paragraph.getDocument(); \n   styleID = paragraph.getStyleID();   \n  } else if (bodyElement instanceof XWPFTable) {\n   XWPFTable table = (XWPFTable)bodyElement;\n   if (table.getPart() instanceof XWPFDocument) {\n    document = (XWPFDocument)table.getPart();\n    styleID = table.getStyleID();\n   }\n  } //ToDo: else others ...\n  if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\n  XWPFDocument resultDocument = null;\n  if (resultBody instanceof XWPFDocument) {\n   resultDocument = (XWPFDocument)resultBody;\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   resultDocument = resultTableCell.getXWPFDocument();\n  } //ToDo: else others ...\n  if (resultDocument != null) {\n   XWPFStyles styles = document.getStyles();  \n   XWPFStyles resultStyles = resultDocument.getStyles(); \n   XWPFStyle style = styles.getStyle(styleID);\n   //merge each used styles, also the related ones\n   for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\n    if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\n     resultStyles.addStyle(relatedStyle);\n    }\n   }\n  }\n }\n\n private XWPFTable createTableWithTblPrAndTblGrid(XWPFTable table, IBody resultBody) {\n  if (resultBody instanceof XWPFDocument) {\n   XWPFDocument resultDocument = (XWPFDocument)resultBody;\n   XWPFTable resultTable = resultDocument.createTable();\n   resultTable.removeRow(0);   \n   resultTable.getCTTbl().setTblPr(table.getCTTbl().getTblPr());//simply copy the underlying XML bean to avoid more code\n   resultTable.getCTTbl().setTblGrid(table.getCTTbl().getTblGrid());//simply copy the underlying XML bean to avoid more code\n   handleStyles(resultDocument, table);\n   //ToDo: handle further issues ...\n   return resultTable;\n  } else if (resultBody instanceof XWPFTableCell) {\n   //ToDo: handle stacked tables\n  } //ToDo: else others ...\n  return null;       \n }\n\n private void traverseRunElements(List&lt;IRunElement&gt; runElements, IRunBody resultRunBody) throws Exception {\n  for (IRunElement runElement : runElements) {\n   if (runElement instanceof XWPFFieldRun) {\n    XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\n    XWPFFieldRun resultFieldRun = createFieldRunWithRPr(fieldRun, resultRunBody);\n    traversePictures(fieldRun, resultFieldRun);\n   } else if (runElement instanceof XWPFHyperlinkRun) {\n    XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\n    XWPFHyperlinkRun resultHyperlinkRun = createHyperlinkRunWithRPr(hyperlinkRun, resultRunBody);\n    traversePictures(hyperlinkRun, resultHyperlinkRun);\n   } else if (runElement instanceof XWPFRun) {\n    XWPFRun run = (XWPFRun)runElement;\n    XWPFRun resultRun = createRunWithRPr(run, resultRunBody);\n    traversePictures(run, resultRun);\n   } else if (runElement instanceof XWPFSDT) {\n    XWPFSDT sDT = (XWPFSDT)runElement;\n    //ToDo: handle SDT\n   }\n  }\n }\n\n private void copyTextOfRuns(XWPFRun run, XWPFRun resultRun) {\n  //copy all of the possible T contents of the runs\n  for (int i = 0; i &lt; run.getCTR().sizeOfTArray(); i++) {\n   resultRun.setText(run.getText(i), i);\n  }\n }\n \n private XWPFFieldRun createFieldRunWithRPr(XWPFFieldRun fieldRun, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultParagraph.createRun();\n   resultFieldRun.getCTR().setRPr(fieldRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\n   //ToDo: handle field runs properly ...\n   handleRunStyles(resultParagraph.getDocument(), fieldRun);\n   handlePossibleOMtáth(fieldRun, resultRunBody);\n   //ToDo: handle further issues ...\n   return resultFieldRun;\n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n  return null;\n }\n \n private XWPFHyperlinkRun createHyperlinkRunWithRPr(XWPFHyperlinkRun hyperlinkRun, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink resultCTHyperLink = resultParagraph.getCTP().addNewHyperlink();\n   resultCTHyperLink.addNewR();\n   XWPFHyperlinkRun resultHyperlinkRun =  new XWPFHyperlinkRun(resultCTHyperLink, resultCTHyperLink.getRArray(0), resultParagraph);\n   if (hyperlinkRun.getAnchor() != null) {\n    resultHyperlinkRun = resultParagraph.createHyperlinkRun(hyperlinkRun.getAnchor());\n   }\n   resultHyperlinkRun.getCTR().setRPr(hyperlinkRun.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\n   copyTextOfRuns(hyperlinkRun, resultHyperlinkRun);\n   //ToDo: handle external hyperlink runs properly ...\n   handleRunStyles(resultParagraph.getDocument(), hyperlinkRun);\n   handlePossibleOMtáth(hyperlinkRun, resultRunBody);\n   //ToDo: handle further issues ...\n   return resultHyperlinkRun;\n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n  return null;\n }\n\n private XWPFRun createRunWithRPr(XWPFRun run, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   XWPFRun resultRun = resultParagraph.createRun();\n   resultRun.getCTR().setRPr(run.getCTR().getRPr());//simply copy the underlying XML bean to avoid more code\n   copyTextOfRuns(run, resultRun);\n   handleRunStyles(resultParagraph.getDocument(), run);\n   handlePossibleOMtáth(run, resultRunBody);\n   //ToDo: handle further issues ...\n   return resultRun;\n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n  return null;\n }\n\n private void handlePossibleOMtáth(XWPFRun run, IRunBody resultRunBody) {\n  if (resultRunBody instanceof XWPFParagraph) {\n   XWPFParagraph resultParagraph = (XWPFParagraph)resultRunBody;\n   org.apache.xmlbeans.XmlCursor cursor = run.getCTR().newCursor();\n   cursor.toNextSibling();\n   org.apache.xmlbeans.XmlObject xmlObject = cursor.getObject();\n   if (xmlObject instanceof org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath) {\n    org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath ctOMath = (org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath)xmlObject;\n    resultParagraph.getCTP().addNewOMath();\n    resultParagraph.getCTP().setOMathArray(resultParagraph.getCTP().getOMathArray().length-1, ctOMath);\n   }  \n  } else if (resultRunBody instanceof XWPFSDT) {   \n   //ToDo: handle SDT\n  }\n }\n \n private void handleRunStyles(IBody resultBody, IRunElement runElement) {\n  //if we have runElement styles we need merging those styles of the two different documents\n  XWPFDocument document = null;\n  String styleID = null;\n  if (runElement instanceof XWPFRun) {\n   XWPFRun run = (XWPFRun)runElement;  \n   document = run.getDocument(); \n   styleID = run.getStyle();   \n  } else if (runElement instanceof XWPFHyperlinkRun) {\n   XWPFHyperlinkRun run = (XWPFHyperlinkRun)runElement;  \n   document = run.getDocument(); \n   styleID = run.getStyle();      \n  } else if (runElement instanceof XWPFFieldRun) {\n   XWPFFieldRun run = (XWPFFieldRun)runElement;  \n   document = run.getDocument(); \n   styleID = run.getStyle();      \n  } //ToDo: else others ...\n  if (document == null || styleID == null || &quot;&quot;.equals(styleID)) return;\n  XWPFDocument resultDocument = null;\n  if (resultBody instanceof XWPFDocument) {\n   resultDocument = (XWPFDocument)resultBody;\n  } else if (resultBody instanceof XWPFTableCell) {\n   XWPFTableCell resultTableCell = (XWPFTableCell)resultBody;\n   resultDocument = resultTableCell.getXWPFDocument();\n  } //ToDo: else others ...\n  if (resultDocument != null) {\n   XWPFStyles styles = document.getStyles();  \n   XWPFStyles resultStyles = resultDocument.getStyles(); \n   XWPFStyle style = styles.getStyle(styleID);\n   //merge each used styles, also the related ones\n   for (XWPFStyle relatedStyle : styles.getUsedStyleList(style)) {\n    if (resultStyles.getStyle(relatedStyle.getStyleId()) == null) {\n     resultStyles.addStyle(relatedStyle);\n    }\n   }\n  }\n }\n\n private void traverseTableRows(List&lt;XWPFTableRow&gt; tableRows, XWPFTable resultTable) throws Exception {\n  for (XWPFTableRow tableRow : tableRows) {\n   XWPFTableRow resultTableRow = createTableRowWithTrPr(tableRow, resultTable);\n   traverseTableCells(tableRow.getTableICells(), resultTableRow);\n  }\n }\n\n private XWPFTableRow createTableRowWithTrPr(XWPFTableRow tableRow, XWPFTable resultTable) {\n  XWPFTableRow resultTableRow = resultTable.createRow();\n  for (int i = resultTableRow.getTableCells().size(); i &gt; 0; i--) { //table row should be empty at first\n   resultTableRow.removeCell(i-1);\n  }\n  resultTableRow.getCtRow().setTrPr(tableRow.getCtRow().getTrPr());//simply copy the underlying XML bean to avoid more code\n  //ToDo: handle further issues ...\n  return resultTableRow;\n }\n\n private void traverseTableCells(List&lt;ICell&gt; tableICells, XWPFTableRow resultTableRow) throws Exception {\n  for (ICell tableICell : tableICells) {\n   if (tableICell instanceof XWPFSDTCell) {\n    XWPFSDTCell sDTCell = (XWPFSDTCell)tableICell;\n    XWPFSDTCell resultSdtTableCell = createSdtTableCell(sDTCell, resultTableRow);\n    //ToDo: handle further issues ...  \n   } else if (tableICell instanceof XWPFTableCell) {\n    XWPFTableCell tableCell = (XWPFTableCell)tableICell;\n    XWPFTableCell resultTableCell = createTableCellWithTcPr(tableCell, resultTableRow);\n    traverseBodyElements(tableCell.getBodyElements(), resultTableCell);\n   }\n  }\n }\n\n private XWPFSDTCell createSdtTableCell(XWPFSDTCell sDTCell, XWPFTableRow resultTableRow) { \n  //create at least a cell to avoid corrupted document\n  XWPFTableCell resultTableCell = resultTableRow.createCell();\n  //ToDo: handle SDTCell properly\n  //ToDo: handle further issues ...\n  return null;\n }\n \n private XWPFTableCell createTableCellWithTcPr(XWPFTableCell tableCell, XWPFTableRow resultTableRow) { \n  XWPFTableCell resultTableCell = resultTableRow.createCell();\n  resultTableCell.removeParagraph(0);\n  resultTableCell.getCTTc().setTcPr(tableCell.getCTTc().getTcPr());//simply copy the underlying XML bean to avoid more code\n  //ToDo: handle further issues ...\n  return resultTableCell;\n }\n\n private void traversePictures(IRunElement runElement, IRunElement resultRunElement) throws Exception { \n  List&lt;XWPFPicture&gt; pictures = null;\n  if (runElement instanceof XWPFFieldRun) {\n   XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\n   pictures = fieldRun.getEmbeddedPictures();\n  } else if (runElement instanceof XWPFHyperlinkRun) {\n   XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\n   pictures = hyperlinkRun.getEmbeddedPictures();\n  } else if (runElement instanceof XWPFRun) {\n   XWPFRun run = (XWPFRun)runElement;\n   pictures = run.getEmbeddedPictures();\n  } else if (runElement instanceof XWPFSDT) {\n   XWPFSDT sDT = (XWPFSDT)runElement;\n   //ToDo: handle SDT\n  }            \n  if (pictures != null) { \n   for (XWPFPicture picture : pictures) {\n    XWPFPictureData pictureData = picture.getPictureData();\n    XWPFPicture resultPicture = createPictureWithDrawing(runElement, picture, pictureData, resultRunElement);\n   }\n  }\n }\n\n private XWPFPicture createPictureWithDrawing(IRunElement runElement, XWPFPicture picture, XWPFPictureData pictureData, IRunElement resultRunElement) {\n  if (resultRunElement instanceof XWPFFieldRun) {\n   XWPFFieldRun fieldRun = (XWPFFieldRun)runElement;\n   XWPFFieldRun resultFieldRun = (XWPFFieldRun)resultRunElement;\n   XWPFPicture resultPicture = createPictureWithDrawing(fieldRun, resultFieldRun, picture, pictureData);\n   return resultPicture;\n  } else if (resultRunElement instanceof XWPFHyperlinkRun) {\n   XWPFHyperlinkRun hyperlinkRun = (XWPFHyperlinkRun)runElement;\n   XWPFHyperlinkRun resultHyperlinkRun = (XWPFHyperlinkRun)resultRunElement;\n   XWPFPicture resultPicture = createPictureWithDrawing(hyperlinkRun, resultHyperlinkRun, picture, pictureData);\n   return resultPicture;\n  } else if (resultRunElement instanceof XWPFRun) {\n   XWPFRun run = (XWPFRun)runElement;\n   XWPFRun resultRun = (XWPFRun)resultRunElement;\n   XWPFPicture resultPicture = createPictureWithDrawing(run, resultRun, picture, pictureData);\n   return resultPicture;\n  } else if (resultRunElement instanceof XWPFSDT) {\n   XWPFSDT sDT = (XWPFSDT)resultRunElement;\n   //ToDo: handle SDT\n  }            \n  return null; \n }\n \n private XWPFPicture createPictureWithDrawing(XWPFRun run, XWPFRun resultRun, XWPFPicture picture, XWPFPictureData pictureData) {\n  try {\n   XWPFPicture resultPicture = resultRun.addPicture(\n    pictureData.getPackagePart().getInputStream(), \n    pictureData.getPictureType(), \n    pictureData.getFileName(), \n    Units.pixelToEMU((int)picture.getWidth()), \n    Units.pixelToEMU((int)picture.getDepth()));\n   String rId = resultPicture.getCTPicture().getBlipFill().getBlip().getEmbed();\n   resultRun.getCTR().setDrawingArray(0, run.getCTR().getDrawingArray(0));//simply copy the underlying XML bean to avoid more code\n   //but then correct the rID\n   String declareNameSpaces = &quot;declare namespace a='http://schemas.openxmlformats.org/drawingml/2006/main'; &quot;;\n   org.apache.xmlbeans.XmlObject[] selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\n    declareNameSpaces \n    + &quot;$this//a:blip&quot;);\n   for (org.apache.xmlbeans.XmlObject blipObject : selectedObjects) {\n    if (blipObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTBlip) {\n     org.openxmlformats.schemas.drawingml.x2006.main.CTBlip blip = (org.openxmlformats.schemas.drawingml.x2006.main.CTBlip)blipObject;\n     if (blip.isSetEmbed()) blip.setEmbed(rId);\n    }\n   }\n   //remove rIDs to external hyperlinks to avoid corruot document\n   selectedObjects = resultRun.getCTR().getDrawingArray(0).selectPath(\n    declareNameSpaces \n    + &quot;$this//a:hlinkClick&quot;);\n   for (org.apache.xmlbeans.XmlObject hlinkClickObject : selectedObjects) {\n    if (hlinkClickObject instanceof org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink) {\n     org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink hlinkClick = (org.openxmlformats.schemas.drawingml.x2006.main.CTHyperlink)hlinkClickObject;\n     if (hlinkClick.isSetId()) hlinkClick.setId(&quot;&quot;);\n     //ToDo: handle pictures having hyperlinks properly\n    }\n   }\n   //ToDo: handle further issues ...\n   return resultPicture;\n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }\n  return null;\n }\n\n public void merge(String firstFilePath, String secondFilePath, String resultFilePath) throws Exception {\n  XWPFDocument resultDocument = new XWPFDocument(new FileInputStream(firstFilePath));\n  XWPFDocument documentToAppend = new XWPFDocument(new FileInputStream(secondFilePath));\n  traverseBodyElements(documentToAppend.getBodyElements(), resultDocument);\n  documentToAppend.close();\n  FileOutputStream out = new FileOutputStream(resultFilePath);\n  resultDocument.write(out);\n  out.close();\n  resultDocument.close();\n }\n\n public static void main(String[] args) throws Exception {\n  WordMerger merger = new WordMerger();\n  merger.merge(&quot;./WordDocument3.docx&quot;, &quot;./WordDocument4.docx&quot;, &quot;./WordDocumentResult.docx&quot;);\n }\n}\n</code></pre>\n"}],"owner":{"account_id":23888482,"reputation":37,"user_id":17888411,"display_name":"Jessica Cathrine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70700519,"answer_count":1,"score":3,"last_activity_date":1683953209,"creation_date":1641793797,"question_id":70648296,"body_markdown":"I have several documents and I want to combine them all into one docx file.\r\nMy code :\r\n \r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.apache.poi.openxml4j.opc.OPCPackage;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\r\n    \r\n    public class WordMerge {\r\n\r\n    private final OutputStream result;\r\n    private final List&lt;InputStream&gt; inputs;\r\n    private XWPFDocument first;\r\n\r\n    public WordMerge(OutputStream result) {\r\n        this.result = result;\r\n        inputs = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void add(InputStream stream) throws Exception{            \r\n        inputs.add(stream);\r\n        OPCPackage srcPackage = OPCPackage.open(stream);\r\n        XWPFDocument src1Document = new XWPFDocument(srcPackage);         \r\n        if(inputs.size() == 1){\r\n            first = src1Document;\r\n        } else {            \r\n            CTBody srcBody = src1Document.getDocument().getBody();\r\n            first.getDocument().addNewBody().set(srcBody);            \r\n        }        \r\n    }\r\n\r\n    public void doMerge() throws Exception{\r\n        first.write(result);                \r\n    }\r\n\r\n    public void close() throws Exception{\r\n        result.flush();\r\n        result.close();\r\n        for (InputStream input : inputs) {\r\n            input.close();\r\n        }\r\n    }   \r\n    }\r\n\r\nAnd it use :\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n    FileOutputStream faos = new FileOutputStream(&quot;/home/victor/result.docx&quot;);\r\n\r\n    WordMerge wm = new WordMerge(faos);\r\n\r\n    wm.add( new FileInputStream(&quot;/home/victor/001.docx&quot;) );\r\n    wm.add( new FileInputStream(&quot;/home/victor/002.docx&quot;) );\r\n\r\n    wm.doMerge();\r\n    wm.close();\r\n    }\r\nIt works, unfortunatly it becomes a bit messy if you have listings in any of the non-first document. Listing symbols change to numbers and worse sometimes a listing from the previous document will be continued in the attached document. Say doc1 has a.b.c listing , second has non ordered listing then this latter one becomes d.e.f. **(It followed the previous document formatting.)**\r\n\r\nHow to make each document that is merged on the next page and not follow the formatting of the previous document?","title":"Merge documents by inserting content into a new page using poi","body":"<p>I have several documents and I want to combine them all into one docx file.\nMy code :</p>\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.poi.openxml4j.opc.OPCPackage;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\n\npublic class WordMerge {\n\nprivate final OutputStream result;\nprivate final List&lt;InputStream&gt; inputs;\nprivate XWPFDocument first;\n\npublic WordMerge(OutputStream result) {\n    this.result = result;\n    inputs = new ArrayList&lt;&gt;();\n}\n\npublic void add(InputStream stream) throws Exception{            \n    inputs.add(stream);\n    OPCPackage srcPackage = OPCPackage.open(stream);\n    XWPFDocument src1Document = new XWPFDocument(srcPackage);         \n    if(inputs.size() == 1){\n        first = src1Document;\n    } else {            \n        CTBody srcBody = src1Document.getDocument().getBody();\n        first.getDocument().addNewBody().set(srcBody);            \n    }        \n}\n\npublic void doMerge() throws Exception{\n    first.write(result);                \n}\n\npublic void close() throws Exception{\n    result.flush();\n    result.close();\n    for (InputStream input : inputs) {\n        input.close();\n    }\n}   \n}\n</code></pre>\n<p>And it use :</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\nFileOutputStream faos = new FileOutputStream(&quot;/home/victor/result.docx&quot;);\n\nWordMerge wm = new WordMerge(faos);\n\nwm.add( new FileInputStream(&quot;/home/victor/001.docx&quot;) );\nwm.add( new FileInputStream(&quot;/home/victor/002.docx&quot;) );\n\nwm.doMerge();\nwm.close();\n}\n</code></pre>\n<p>It works, unfortunatly it becomes a bit messy if you have listings in any of the non-first document. Listing symbols change to numbers and worse sometimes a listing from the previous document will be continued in the attached document. Say doc1 has a.b.c listing , second has non ordered listing then this latter one becomes d.e.f. <strong>(It followed the previous document formatting.)</strong></p>\n<p>How to make each document that is merged on the next page and not follow the formatting of the previous document?</p>\n"},{"tags":["java","android","android-fragments","android-fragmentactivity"],"owner":{"account_id":28590072,"reputation":1,"user_id":21889510,"display_name":"Torirebb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683952687,"creation_date":1683911304,"question_id":76238573,"body_markdown":"I&#39;m creating a recipe application where on one activity, the user should be able to click either a &quot;breakfast&quot;, &quot;lunch&quot;, or &quot;dinner&quot; button, and a different fragment will be displayed with recipes with the keyword clicked. I hope that makes sense. I already created the RecyclerView to show random recipes (from spoonacular API) on the home screen, and it&#39;s working well. However, I can&#39;t find a fragment example online that I feel fits my situation where I can pull ideas from. Fragments are new to me, and I&#39;ve read all the documentation on Android, but I&#39;m at a complete standstill. Can someone explain to me in simple English how to format this fragment in Java? Are all the initially generated methods required in each fragment&#39;s java code?\r\n\r\nFor example, I want to just copy the code from my main activity since it&#39;s working, but I can&#39;t call the fragment by adding &quot;fragment.this&quot; as a parameter for anything to get context for the fragment..\r\n\r\nBTW, I&#39;m not having trouble switching between (empty)fragments, just populating the recyclerview inside of each fragment.\r\n\r\n\r\nThe Github Link, because it&#39;s entirely too much to directly post. \r\nhttps://github.com/toriliford/Liford_RecipeApp/tree/master\r\n\r\n\r\n\r\nMainActivity:\r\n\r\n        package com.example.liford_recipeapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.GridLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.liford_recipeapp.Adapters.RandomRecipeAdapter;\r\n    import com.example.liford_recipeapp.Listeners.RandomRecipeResponseListener;\r\n    import com.example.liford_recipeapp.Models.RandomRecipeApiGenerator;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button categoryBtn;\r\n        Button keywordBtn;\r\n        Button savedRecipeBtn;\r\n    \r\n        ProgressDialog dialog;\r\n        RequestManager manager;\r\n        RandomRecipeAdapter randomRecipeAdapter;\r\n        RecyclerView recyclerView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            categoryBtn = findViewById(R.id.categoryBtn);\r\n            keywordBtn = findViewById(R.id.keywordBtn);\r\n            savedRecipeBtn = findViewById(R.id.savedRecipesBtn);\r\n    \r\n            //create intents for each button\r\n            Intent categoryIntent = new Intent(this, CategoryChoice.class);\r\n            Intent keywordIntent = new Intent(this, KeywordChoice.class);\r\n            Intent savedRecipeIntent = new Intent(this, SavedRecipeChoice.class);\r\n    \r\n            //on-click listener for category choice\r\n            categoryBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(categoryIntent);\r\n                }\r\n            });\r\n    \r\n            //on-click listener for keyword choice\r\n            keywordBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(keywordIntent);\r\n                }\r\n            });\r\n    \r\n            //on-click listener for saved recipes choice\r\n            savedRecipeBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    startActivity(savedRecipeIntent);\r\n                }\r\n            });\r\n    \r\n    \r\n            dialog = new ProgressDialog(this);\r\n            dialog.setTitle(&quot;Loading...&quot;);\r\n    \r\n            manager = new RequestManager(this);\r\n            manager.getRandomRecipes(randomRecipeResponseListener);\r\n            dialog.show();\r\n        }\r\n    \r\n        private final RandomRecipeResponseListener randomRecipeResponseListener = new RandomRecipeResponseListener() {\r\n            @Override\r\n            public void didFetch(RandomRecipeApiGenerator response, String message) {\r\n                //dismiss dialog when fetched\r\n                dialog.dismiss();\r\n                recyclerView = findViewById(R.id.homeRecyclerView);\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this, 1));\r\n                randomRecipeAdapter = new RandomRecipeAdapter(MainActivity.this, response.recipes);\r\n                recyclerView.setAdapter(randomRecipeAdapter);\r\n            }\r\n    \r\n            @Override\r\n            public void didError(String message) {\r\n                Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT);\r\n            }\r\n        };\r\n    }\r\n      \r\n\r\n  \r\n","title":"Creating Fragments with RecyclerView: Change with button click?","body":"<p>I'm creating a recipe application where on one activity, the user should be able to click either a &quot;breakfast&quot;, &quot;lunch&quot;, or &quot;dinner&quot; button, and a different fragment will be displayed with recipes with the keyword clicked. I hope that makes sense. I already created the RecyclerView to show random recipes (from spoonacular API) on the home screen, and it's working well. However, I can't find a fragment example online that I feel fits my situation where I can pull ideas from. Fragments are new to me, and I've read all the documentation on Android, but I'm at a complete standstill. Can someone explain to me in simple English how to format this fragment in Java? Are all the initially generated methods required in each fragment's java code?</p>\n<p>For example, I want to just copy the code from my main activity since it's working, but I can't call the fragment by adding &quot;fragment.this&quot; as a parameter for anything to get context for the fragment..</p>\n<p>BTW, I'm not having trouble switching between (empty)fragments, just populating the recyclerview inside of each fragment.</p>\n<p>The Github Link, because it's entirely too much to directly post.\n<a href=\"https://github.com/toriliford/Liford_RecipeApp/tree/master\" rel=\"nofollow noreferrer\">https://github.com/toriliford/Liford_RecipeApp/tree/master</a></p>\n<p>MainActivity:</p>\n<pre><code>    package com.example.liford_recipeapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.example.liford_recipeapp.Adapters.RandomRecipeAdapter;\nimport com.example.liford_recipeapp.Listeners.RandomRecipeResponseListener;\nimport com.example.liford_recipeapp.Models.RandomRecipeApiGenerator;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button categoryBtn;\n    Button keywordBtn;\n    Button savedRecipeBtn;\n\n    ProgressDialog dialog;\n    RequestManager manager;\n    RandomRecipeAdapter randomRecipeAdapter;\n    RecyclerView recyclerView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        categoryBtn = findViewById(R.id.categoryBtn);\n        keywordBtn = findViewById(R.id.keywordBtn);\n        savedRecipeBtn = findViewById(R.id.savedRecipesBtn);\n\n        //create intents for each button\n        Intent categoryIntent = new Intent(this, CategoryChoice.class);\n        Intent keywordIntent = new Intent(this, KeywordChoice.class);\n        Intent savedRecipeIntent = new Intent(this, SavedRecipeChoice.class);\n\n        //on-click listener for category choice\n        categoryBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(categoryIntent);\n            }\n        });\n\n        //on-click listener for keyword choice\n        keywordBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(keywordIntent);\n            }\n        });\n\n        //on-click listener for saved recipes choice\n        savedRecipeBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(savedRecipeIntent);\n            }\n        });\n\n\n        dialog = new ProgressDialog(this);\n        dialog.setTitle(&quot;Loading...&quot;);\n\n        manager = new RequestManager(this);\n        manager.getRandomRecipes(randomRecipeResponseListener);\n        dialog.show();\n    }\n\n    private final RandomRecipeResponseListener randomRecipeResponseListener = new RandomRecipeResponseListener() {\n        @Override\n        public void didFetch(RandomRecipeApiGenerator response, String message) {\n            //dismiss dialog when fetched\n            dialog.dismiss();\n            recyclerView = findViewById(R.id.homeRecyclerView);\n            recyclerView.setHasFixedSize(true);\n            recyclerView.setLayoutManager(new GridLayoutManager(MainActivity.this, 1));\n            randomRecipeAdapter = new RandomRecipeAdapter(MainActivity.this, response.recipes);\n            recyclerView.setAdapter(randomRecipeAdapter);\n        }\n\n        @Override\n        public void didError(String message) {\n            Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT);\n        }\n    };\n}\n  \n</code></pre>\n"},{"tags":["java","mysql","spring-boot","multithreading","spring-data-jpa"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1683600540,"post_id":76205491,"comment_id":134387839,"body_markdown":"Maybe, you want save 500 records, success with first 304 records, error at 305th record, then all records cannot commit (database is rollback). You can debug by `.save()` not `.saveAll()` for testing/debugging. Let&#39;s me know result.","body":"Maybe, you want save 500 records, success with first 304 records, error at 305th record, then all records cannot commit (database is rollback). You can debug by <code>.save()</code> not <code>.saveAll()</code> for testing/debugging. Let&#39;s me know result."},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1683602182,"post_id":76205491,"comment_id":134387990,"body_markdown":"I just tried with a single record with both save and saveAll, I cannot see any error but still, data is not committed to the DB. don&#39;t know what the issue is","body":"I just tried with a single record with both save and saveAll, I cannot see any error but still, data is not committed to the DB. don&#39;t know what the issue is"},{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1683613571,"post_id":76205491,"comment_id":134389131,"body_markdown":"Did you tried DB locking mechanism? I feel that this is because of multiple threads trying to insert into same table.","body":"Did you tried DB locking mechanism? I feel that this is because of multiple threads trying to insert into same table."},{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1683696297,"post_id":76205491,"comment_id":134404129,"body_markdown":"how to achieve this locking explicitly as I thought Spring will handle this as I am using @Transantional","body":"how to achieve this locking explicitly as I thought Spring will handle this as I am using @Transantional"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683613829,"creation_date":1683613829,"answer_id":76206446,"question_id":76205491,"body_markdown":"Default is \r\n```java\r\n@Transactional(isolation = Isolation.SERIALIZABLE)\r\n```\r\n\r\ntherefore, Use\r\n```java\r\n@Transactional(isolation = Isolation.READ_UNCOMMITTED)\r\n```\r\n\r\n- Reference document: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html\r\n- See: https://www.baeldung.com/spring-transactional-propagation-isolation\r\n","title":"Data is not saved in mysql - springboot","body":"<p>Default is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(isolation = Isolation.SERIALIZABLE)\n</code></pre>\n<p>therefore, Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(isolation = Isolation.READ_UNCOMMITTED)\n</code></pre>\n<ul>\n<li>Reference document: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Isolation.html</a></li>\n<li>See: <a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-transactional-propagation-isolation</a></li>\n</ul>\n"}],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683952114,"creation_date":1683599693,"question_id":76205491,"body_markdown":"I am having a strange issue, I am trying to insert data (50000) using multi-thread, though I cannot see any exceptions/errors in the log but still data is not persisted in the DB.\r\n\r\nCan you please let me know what is wrong with this code?\r\n\r\n    @Retryable(\r\n            value = { Exception.class },\r\n            maxAttempts = 3,\r\n            backoff = @Backoff(delay = 5000))\r\n    @Transactional\r\n    public void insertBatch(List&lt;Customer&gt; batch) {\r\n        int numThreads = 4; // Set the number of threads\r\n        int batchSize = 1000; // Set the batch size\r\n\r\n        List&lt;List&lt;Customer&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; batch.size(); i += batchSize) {\r\n            int end = Math.min(i + batchSize, batch.size());\r\n            partitions.add(batch.subList(i, end));\r\n        }\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(numThreads);\r\n        List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\r\n        for (List&lt;Customer&gt; partition : partitions) {\r\n            futures.add(executor.submit(() -&gt; {\r\n                try {\r\n                    customerRepository.saveAll(partition);\r\n                    log.info(&quot;Customer Saved &quot;+ partition.size());\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Failed to insert partition: {}&quot;, partition, e);\r\n                    throw e;\r\n                }\r\n            }));\r\n        }\r\n\r\n        for (Future&lt;?&gt; future : futures) {\r\n            try {\r\n                future.get();\r\n            } catch (Exception e) {\r\n                log.error(&quot;Partition insertion failed&quot;, e);\r\n            }\r\n        }\r\n\r\n        executor.shutdown();\r\n    }\r\n\r\n    @Recover\r\n    public void handleInsertBatchException(Exception e, List&lt;Customer&gt; batch) {\r\n        log.error(&quot;Insertion failed for batch: {}&quot;, batch, e);\r\n        // Handle the exception here, for example, you can retry with a smaller batch size\r\n    }\r\n\r\n**Output:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[GitHub Issue Link ][2]\r\n\r\nany help appreciated \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gvWvp.png\r\n  [2]: https://github.com/rajarshp/JavaSample/issues/6","title":"Data is not saved in mysql - springboot","body":"<p>I am having a strange issue, I am trying to insert data (50000) using multi-thread, though I cannot see any exceptions/errors in the log but still data is not persisted in the DB.</p>\n<p>Can you please let me know what is wrong with this code?</p>\n<pre><code>@Retryable(\n        value = { Exception.class },\n        maxAttempts = 3,\n        backoff = @Backoff(delay = 5000))\n@Transactional\npublic void insertBatch(List&lt;Customer&gt; batch) {\n    int numThreads = 4; // Set the number of threads\n    int batchSize = 1000; // Set the batch size\n\n    List&lt;List&lt;Customer&gt;&gt; partitions = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; batch.size(); i += batchSize) {\n        int end = Math.min(i + batchSize, batch.size());\n        partitions.add(batch.subList(i, end));\n    }\n\n    ExecutorService executor = Executors.newFixedThreadPool(numThreads);\n    List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\n\n    for (List&lt;Customer&gt; partition : partitions) {\n        futures.add(executor.submit(() -&gt; {\n            try {\n                customerRepository.saveAll(partition);\n                log.info(&quot;Customer Saved &quot;+ partition.size());\n            } catch (Exception e) {\n                log.error(&quot;Failed to insert partition: {}&quot;, partition, e);\n                throw e;\n            }\n        }));\n    }\n\n    for (Future&lt;?&gt; future : futures) {\n        try {\n            future.get();\n        } catch (Exception e) {\n            log.error(&quot;Partition insertion failed&quot;, e);\n        }\n    }\n\n    executor.shutdown();\n}\n\n@Recover\npublic void handleInsertBatchException(Exception e, List&lt;Customer&gt; batch) {\n    log.error(&quot;Insertion failed for batch: {}&quot;, batch, e);\n    // Handle the exception here, for example, you can retry with a smaller batch size\n}\n</code></pre>\n<p><strong>Output:</strong>\n<a href=\"https://i.stack.imgur.com/gvWvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvWvp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://github.com/rajarshp/JavaSample/issues/6\" rel=\"nofollow noreferrer\">GitHub Issue Link </a></p>\n<p>any help appreciated</p>\n"},{"tags":["java","spring","spring-boot","proxy","saml"],"answers":[{"tags":[],"owner":{"account_id":8296010,"reputation":764,"user_id":6236250,"display_name":"Rob Scully"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555059427,"creation_date":1555059427,"answer_id":55647952,"question_id":55646916,"body_markdown":"Yes, you need to create a bean as follows to your WebSecurityConfig:\r\n\r\n    @Bean\r\n    public HttpClient httpClient() {\r\n        HttpClient client = new HttpClient(this.multiThreadedHttpConnectionManager);\r\n        HostConfiguration hostConfiguration = new HostConfiguration();\r\n        hostConfiguration.setProxy(&quot;PROXYHOST&quot;, PROXYPORT);\r\n        client.setHostConfiguration(hostConfiguration);\r\n        return client;\r\n    }","title":"Setting proxy to Spring SAML HTTPMetadataProvider","body":"<p>Yes, you need to create a bean as follows to your WebSecurityConfig:</p>\n\n<pre><code>@Bean\npublic HttpClient httpClient() {\n    HttpClient client = new HttpClient(this.multiThreadedHttpConnectionManager);\n    HostConfiguration hostConfiguration = new HostConfiguration();\n    hostConfiguration.setProxy(\"PROXYHOST\", PROXYPORT);\n    client.setHostConfiguration(hostConfiguration);\n    return client;\n}\n</code></pre>\n"}],"owner":{"account_id":1211926,"reputation":2415,"user_id":1180313,"accept_rate":35,"display_name":"Seeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683951798,"creation_date":1555055570,"question_id":55646916,"body_markdown":"We are using spring-security-saml for our SAML authentication. The app is working fine and when we try to run the app on demo machine, the connection to SAML metadata url is timing out.\r\n\r\nwe have given the metadata url in our application.yml as \r\n\r\n    security:\r\n       saml2:\r\n          metadata-url: https://dev-715244.oktapreview.com/app/&lt;app_id&gt;/sso/saml/metadata\r\n\r\nTried setting the proxy to the jvm  while running the jar but same issue is there. But this URL is reachable through CURL. \r\n\r\nAny idea as to how to set proxy details to the HTTP Client used by spring SAML?","title":"Setting proxy to Spring SAML HTTPMetadataProvider","body":"<p>We are using spring-security-saml for our SAML authentication. The app is working fine and when we try to run the app on demo machine, the connection to SAML metadata url is timing out.</p>\n\n<p>we have given the metadata url in our application.yml as </p>\n\n<pre><code>security:\n   saml2:\n      metadata-url: https://dev-715244.oktapreview.com/app/&lt;app_id&gt;/sso/saml/metadata\n</code></pre>\n\n<p>Tried setting the proxy to the jvm  while running the jar but same issue is there. But this URL is reachable through CURL. </p>\n\n<p>Any idea as to how to set proxy details to the HTTP Client used by spring SAML?</p>\n"},{"tags":["java","android","whatsapp"],"answers":[{"tags":[],"owner":{"account_id":405051,"reputation":4512,"user_id":773718,"accept_rate":43,"display_name":"MSaudi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1422169592,"creation_date":1422169592,"answer_id":28134106,"question_id":27909252,"body_markdown":"Short answer: This is **not** possible. \r\nYou can not do this unless you build your own implementation for whatsapp api and in this case you will need sender phone number and password and this can not be done pragmatically. Long steps to do this will be as follow : \r\n1 - bring rooted mobile phone and put sender sim card in \r\n2 - get the files that whatsapp stores password in and get the password\r\n3 - implement whatsapp mini client that, using this user name and password, send your message.","title":"send message in background to whatsapp number using external application","body":"<p>Short answer: This is <strong>not</strong> possible. \nYou can not do this unless you build your own implementation for whatsapp api and in this case you will need sender phone number and password and this can not be done pragmatically. Long steps to do this will be as follow : \n1 - bring rooted mobile phone and put sender sim card in \n2 - get the files that whatsapp stores password in and get the password\n3 - implement whatsapp mini client that, using this user name and password, send your message.</p>\n"},{"tags":[],"owner":{"account_id":11198472,"reputation":11,"user_id":8216393,"display_name":"Salvatore Coluccia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502875119,"creation_date":1502875119,"answer_id":45709660,"question_id":27909252,"body_markdown":"Instead of using `Uri uri = Uri.parse(&quot;smsto:&quot; + a);`\r\nuse `sendIntent.putExtra(&quot;jid&quot;, + number + &quot;@s.whatsapp.net&quot;)` \r\n&quot;number&quot; should be the actual number with no leading +","title":"send message in background to whatsapp number using external application","body":"<p>Instead of using <code>Uri uri = Uri.parse(\"smsto:\" + a);</code>\nuse <code>sendIntent.putExtra(\"jid\", + number + \"@s.whatsapp.net\")</code> \n\"number\" should be the actual number with no leading +</p>\n"}],"owner":{"account_id":1728610,"reputation":1,"user_id":1582733,"display_name":"user1582733"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28134106,"answer_count":2,"score":-1,"last_activity_date":1683950224,"creation_date":1421090594,"question_id":27909252,"body_markdown":"Tried everything on Stack Overflow, now i am being able to take the msg frwd. But the msg is not sent until you actually click a no. from whatsApp contact list ..... Plz help been stuck here for few days....\r\n    Thing is that i am trying to build an app, in which when I give a number then msg should be sent to it using whatsapp. With this code from [Satheesh&#39;s answer here][1] msg is being frwded and when I select a number it sends the pre-defined msg to it. But I want that the msg should be directly sent without whatsApp waiting for user to click on a number.. \r\n    \r\n\r\n    \r\n    \r\n    \r\n             //checks if whats app is installed or not..        \r\n             private boolean whatsappInstalledOrNot(String uri) {\r\n                    PackageManager pm = getPackageManager();\r\n                    boolean app_installed = false;\r\n                    try {\r\n                        pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\r\n                        app_installed = true;\r\n                    } catch (PackageManager.NameNotFoundException e) {\r\n                        app_installed = false;\r\n                    }\r\n                    return app_installed;\r\n                }\r\n\r\n                //Main Process\r\n                  boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\r\n                        if (isWhatsappInstalled) {\r\n                            String a=&quot;91*********0&quot;;// the nuber to which msg is to be sent\r\n                            Uri uri = Uri.parse(&quot;smsto:&quot; + a);\r\n                            Intent sendIntent = new Intent(Intent.ACTION_SEND, uri);\r\n                            sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;Test message&quot;+a);//msg to be sent\r\n                          //sendIntent.putExtra(&quot;sms_body&quot;, &quot;ydyeryyerf&quot;);  \r\n                            sendIntent.setType(&quot;text/plain&quot;);// type of msg-&gt;text\r\n                            sendIntent.putExtra(&quot;chat&quot;,true);\r\n                            sendIntent.setPackage(&quot;com.whatsapp&quot;);// picks whats app\r\n                          //  startActivity(sendIntent);\r\n                            startActivity(Intent.createChooser(sendIntent, a));//starts whats app                                                                       \r\n                          } else {\r\n                            // should redriect to play store to download whatsApp\r\n                            Toast.makeText(getApplicationContext(), &quot;WhatsApp not Installed&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                            Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\r\n                            Intent playStore = new Intent(Intent.ACTION_VIEW, uri);\r\n                            startActivity(playStore);\r\n    \r\n                        }\r\n    \r\n\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26335015/208273","title":"send message in background to whatsapp number using external application","body":"<p>Tried everything on Stack Overflow, now i am being able to take the msg frwd. But the msg is not sent until you actually click a no. from whatsApp contact list ..... Plz help been stuck here for few days....\nThing is that i am trying to build an app, in which when I give a number then msg should be sent to it using whatsapp. With this code from <a href=\"https://stackoverflow.com/a/26335015/208273\">Satheesh's answer here</a> msg is being frwded and when I select a number it sends the pre-defined msg to it. But I want that the msg should be directly sent without whatsApp waiting for user to click on a number..</p>\n<pre><code>         //checks if whats app is installed or not..        \n         private boolean whatsappInstalledOrNot(String uri) {\n                PackageManager pm = getPackageManager();\n                boolean app_installed = false;\n                try {\n                    pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\n                    app_installed = true;\n                } catch (PackageManager.NameNotFoundException e) {\n                    app_installed = false;\n                }\n                return app_installed;\n            }\n\n            //Main Process\n              boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\n                    if (isWhatsappInstalled) {\n                        String a=&quot;91*********0&quot;;// the nuber to which msg is to be sent\n                        Uri uri = Uri.parse(&quot;smsto:&quot; + a);\n                        Intent sendIntent = new Intent(Intent.ACTION_SEND, uri);\n                        sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;Test message&quot;+a);//msg to be sent\n                      //sendIntent.putExtra(&quot;sms_body&quot;, &quot;ydyeryyerf&quot;);  \n                        sendIntent.setType(&quot;text/plain&quot;);// type of msg-&gt;text\n                        sendIntent.putExtra(&quot;chat&quot;,true);\n                        sendIntent.setPackage(&quot;com.whatsapp&quot;);// picks whats app\n                      //  startActivity(sendIntent);\n                        startActivity(Intent.createChooser(sendIntent, a));//starts whats app                                                                       \n                      } else {\n                        // should redriect to play store to download whatsApp\n                        Toast.makeText(getApplicationContext(), &quot;WhatsApp not Installed&quot;,\n                                Toast.LENGTH_SHORT).show();\n                        Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\n                        Intent playStore = new Intent(Intent.ACTION_VIEW, uri);\n                        startActivity(playStore);\n\n                    }\n</code></pre>\n"},{"tags":["java","android","whatsapp"],"answers":[{"tags":[],"owner":{"account_id":7547871,"reputation":1980,"user_id":5730298,"display_name":"Sandeep Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555393533,"creation_date":1555386349,"answer_id":55700264,"question_id":55699869,"body_markdown":"i am sending whatapp message from my app with the help of this code:- \r\n\r\n \r\n\r\n   \r\n\r\n    private void sendMsgOnSavedWhatsappNumber(String mobile) {\r\n            Intent sendIntent = new Intent(&quot;android.intent.action.MAIN&quot;);\r\n            sendIntent.setComponent(new ComponentName(&quot;com.whatsapp&quot;, &quot;com.whatsapp.Conversation&quot;));\r\n            sendIntent.putExtra(&quot;jid&quot;,\r\n                    PhoneNumberUtils.stripSeparators(&quot;91&quot; + mobile) + &quot;@s.whatsapp.net&quot;);\r\n            startActivity(sendIntent);\r\n        }","title":"send whatsapp message to specific number programmatically","body":"<p>i am sending whatapp message from my app with the help of this code:- </p>\n\n<pre><code>private void sendMsgOnSavedWhatsappNumber(String mobile) {\n        Intent sendIntent = new Intent(\"android.intent.action.MAIN\");\n        sendIntent.setComponent(new ComponentName(\"com.whatsapp\", \"com.whatsapp.Conversation\"));\n        sendIntent.putExtra(\"jid\",\n                PhoneNumberUtils.stripSeparators(\"91\" + mobile) + \"@s.whatsapp.net\");\n        startActivity(sendIntent);\n    }\n</code></pre>\n"}],"owner":{"account_id":15750653,"reputation":51,"user_id":11365313,"display_name":"Noor Kh."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683950131,"creation_date":1555383053,"question_id":55699869,"body_markdown":"I&#39;m developing an app, and I want to send a WhatsApp message to a specific number\r\n\r\nI used this code from [Satheesh&#39;s answer here][1] and make corrections.  \r\nbut the users who installed both WhatsApp messenger and business WhatsApp, this code send a message into business WhatsApp directly, it didn&#39;t show options to allow the users to choose between two apps\r\n\r\nin android 5 it shows options but android 7 and 8 it didn&#39;t show options. it sends to business WhatsApp only.\r\n\r\ncan you help me to allow to give options to choose between both apps in android 7 and 8?\r\n\r\n    private void openWhatsApp (String phoneNumber) {\r\n\r\n        boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\r\n\r\n        if (isWhatsappInstalled) {\r\n\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n\r\n            intent.setData(Uri.parse(&quot;http://api.whatsapp.com/send?phone=&quot;+phoneNumber));\r\n\r\n            startActivity(intent);\r\n\r\n        } else {\r\n            Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\r\n            Intent goToMarket = new Intent(Intent.ACTION_VIEW, uri);\r\n            Toast.makeText(getActivity(), &quot;WhatsApp not Installed&quot;,\r\n                    Toast.LENGTH_SHORT).show();\r\n            startActivity(goToMarket);\r\n        }\r\n    }\r\n\r\n    private boolean whatsappInstalledOrNot(String uri) {\r\n        PackageManager pm = getActivity().getPackageManager();\r\n        boolean app_installed = false;\r\n        try {\r\n            pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\r\n            app_installed = true;\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            app_installed = false;\r\n        }\r\n        return app_installed;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26335015/208273","title":"send whatsapp message to specific number programmatically","body":"<p>I'm developing an app, and I want to send a WhatsApp message to a specific number</p>\n<p>I used this code from <a href=\"https://stackoverflow.com/a/26335015/208273\">Satheesh's answer here</a> and make corrections.<br />\nbut the users who installed both WhatsApp messenger and business WhatsApp, this code send a message into business WhatsApp directly, it didn't show options to allow the users to choose between two apps</p>\n<p>in android 5 it shows options but android 7 and 8 it didn't show options. it sends to business WhatsApp only.</p>\n<p>can you help me to allow to give options to choose between both apps in android 7 and 8?</p>\n<pre><code>private void openWhatsApp (String phoneNumber) {\n\n    boolean isWhatsappInstalled = whatsappInstalledOrNot(&quot;com.whatsapp&quot;);\n\n    if (isWhatsappInstalled) {\n\n        Intent intent = new Intent(Intent.ACTION_VIEW);\n\n        intent.setData(Uri.parse(&quot;http://api.whatsapp.com/send?phone=&quot;+phoneNumber));\n\n        startActivity(intent);\n\n    } else {\n        Uri uri = Uri.parse(&quot;market://details?id=com.whatsapp&quot;);\n        Intent goToMarket = new Intent(Intent.ACTION_VIEW, uri);\n        Toast.makeText(getActivity(), &quot;WhatsApp not Installed&quot;,\n                Toast.LENGTH_SHORT).show();\n        startActivity(goToMarket);\n    }\n}\n\nprivate boolean whatsappInstalledOrNot(String uri) {\n    PackageManager pm = getActivity().getPackageManager();\n    boolean app_installed = false;\n    try {\n        pm.getPackageInfo(uri, PackageManager.GET_ACTIVITIES);\n        app_installed = true;\n    } catch (PackageManager.NameNotFoundException e) {\n        app_installed = false;\n    }\n    return app_installed;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683949427,"creation_date":1683949050,"answer_id":76240957,"question_id":76240841,"body_markdown":"There is no &quot;best approach for all cases&quot; when it comes to computer science, it depends very much on specific details of each project.\r\n\r\nFirst of all it is important to note that your project doesn&#39;t reflect a real Many To Many relationship, one company has many employees, but can an employee bet at multiple companies at same time? makes not much sense in real world.\r\n\r\nI particularly use the `@ManyToMany` when it comes to defining this kind of relationships... I avoid at maximum using `@JoinTable` as it is not necessary at all, you just need to use this annotation in case you want to force a specific name for the join table or its columns, by default hibernate will name them.\r\n\r\nI&#39;ve never seen anyone defining the data model as you made in the second example and it for sure wont be able to represent a many to many relationship\r\n\r\nif you put the company_id in the employee entity how do you want to represent the employee having multiple companies? it wont be mathematically possible at all\r\n\r\nAlso, by using a long to set the foreigner key in your relationship no ORM tool in the world will be able to parse and create the entities for you, you gonna yourself need to take care of all foreigner keys, parsing and mapping of your entities since Hibernate has no way to guess that:\r\n\r\n    private Long employeeId;\r\n\r\nrepresents a foreigner key that comes to reflect an id in a second table\r\n\r\nlast but not least, it is strictly not recommendable to use `@Query(&quot;anything&quot;, nativeQuery = true)` unless strictly necessary. By defining your queries as native you basically killing the interoperability of DBMS that is the purpose of JPA","title":"Spring Jpa entity convention of linking to other entities","body":"<p>There is no &quot;best approach for all cases&quot; when it comes to computer science, it depends very much on specific details of each project.</p>\n<p>First of all it is important to note that your project doesn't reflect a real Many To Many relationship, one company has many employees, but can an employee bet at multiple companies at same time? makes not much sense in real world.</p>\n<p>I particularly use the <code>@ManyToMany</code> when it comes to defining this kind of relationships... I avoid at maximum using <code>@JoinTable</code> as it is not necessary at all, you just need to use this annotation in case you want to force a specific name for the join table or its columns, by default hibernate will name them.</p>\n<p>I've never seen anyone defining the data model as you made in the second example and it for sure wont be able to represent a many to many relationship</p>\n<p>if you put the company_id in the employee entity how do you want to represent the employee having multiple companies? it wont be mathematically possible at all</p>\n<p>Also, by using a long to set the foreigner key in your relationship no ORM tool in the world will be able to parse and create the entities for you, you gonna yourself need to take care of all foreigner keys, parsing and mapping of your entities since Hibernate has no way to guess that:</p>\n<pre><code>private Long employeeId;\n</code></pre>\n<p>represents a foreigner key that comes to reflect an id in a second table</p>\n<p>last but not least, it is strictly not recommendable to use <code>@Query(&quot;anything&quot;, nativeQuery = true)</code> unless strictly necessary. By defining your queries as native you basically killing the interoperability of DBMS that is the purpose of JPA</p>\n"}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76240957,"answer_count":1,"score":0,"last_activity_date":1683949427,"creation_date":1683944843,"question_id":76240841,"body_markdown":"I see some different implementations of linking one entity to others. For example, most Jpa with hibernate use relations annotations, for example:\r\n```\r\n@Entity\r\n@Data\r\npublic class Employee {\r\n   //id \r\n.....\r\n   @JoinTable(...)\r\n   @ManyToMany\r\n   Set&lt;Company&gt; companies;\r\n}\r\n\r\n@Entity\r\n@Data\r\npublic class Company {\r\n   //id \r\n.....\r\n   @JoinTable(...)\r\n   @ManyToMany\r\n   Set&lt;Employee&gt; employees;\r\n}\r\n```\r\n\r\nBut in some occasions, this is used:\r\n```\r\n@Entity\r\n@Data\r\npublic class Employee {\r\n   //id \r\n.....\r\n   private Long companyId;\r\n}\r\n\r\n@Entity\r\n@Data\r\npublic class Company {\r\n   //id \r\n   private Long employeeId;\r\n}\r\n```\r\nAnd then use ```@Query(value=&quot;SELECT ... FROM ... WHERE employeeId / companyId =: ....&quot;, nativeQuery = true)``` in respective repository interface extending JpaRepository&lt;....&gt; to select employees/companies with particular fk. &lt;br&gt;\r\nwhich one is preferred? I know lots of tutorials use the first one, but I think the second seems to be easier? That being said, is the second one even accepted in jpa annotation? Should I stick with the first annotation?\r\n","title":"Spring Jpa entity convention of linking to other entities","body":"<p>I see some different implementations of linking one entity to others. For example, most Jpa with hibernate use relations annotations, for example:</p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n   //id \n.....\n   @JoinTable(...)\n   @ManyToMany\n   Set&lt;Company&gt; companies;\n}\n\n@Entity\n@Data\npublic class Company {\n   //id \n.....\n   @JoinTable(...)\n   @ManyToMany\n   Set&lt;Employee&gt; employees;\n}\n</code></pre>\n<p>But in some occasions, this is used:</p>\n<pre><code>@Entity\n@Data\npublic class Employee {\n   //id \n.....\n   private Long companyId;\n}\n\n@Entity\n@Data\npublic class Company {\n   //id \n   private Long employeeId;\n}\n</code></pre>\n<p>And then use <code>@Query(value=&quot;SELECT ... FROM ... WHERE employeeId / companyId =: ....&quot;, nativeQuery = true)</code> in respective repository interface extending JpaRepository&lt;....&gt; to select employees/companies with particular fk. <br>\nwhich one is preferred? I know lots of tutorials use the first one, but I think the second seems to be easier? That being said, is the second one even accepted in jpa annotation? Should I stick with the first annotation?</p>\n"},{"tags":["java","rmi","java-security-manager"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683948962,"creation_date":1674715935,"answer_id":75242941,"question_id":75242475,"body_markdown":"\r\n&gt; Now that the SecurityManager is deprecated since java 18,\r\n\r\nActually it was deprecated in Java 17.  In Java 18 it is disabled by default.\r\n\r\n&gt; [Is there] any new strategy introduced to replace the functionality of `SecurityManager` within the RMI program stated? \r\n\r\nAFAIK, no.\r\n\r\nWith RMI, a security manager is recommended when RMI needs to load and use classes that have been fetched from a remote and (potentially) untrusted source.  The untrusted classes are then run in the security manager sandbox.\r\n\r\nNow that is a problem.  Basically, the Java security manager mechanism is brittle and hard to use correctly.  Furthermore there is no real prospect of improving the mechanism to make it safe (enough).  That is why they have deprecated it in Java 17 and they are disabling it by default in Java 18. See [JEP 411][1] for the full details.\r\n\r\n(IMO) the best answer for you will be to rearchitect your applications so that you don&#39;t need to download RMI classes from an untrusted source or via a channel that is insecure.  If you can ensure that you will be downloading only your own (trustworthy) class and you use a channel that cannot be &quot;hacked&quot;, then you can safely dispense with the security manager.\r\n\r\nThe other alternative would be to not support / use Java 17 and later.  That will be increasingly difficult in the long term.\r\n\r\nNote that they haven&#39;t (yet) entirely removed security manager support.  The JEP link discusses some possibilities, but AFAIK it is not yet decided.\r\n\r\n[1]: https://openjdk.org/jeps/411","title":"How to create java RMI program without SecurityManager as it&#39;s deprecated?","body":"<blockquote>\n<p>Now that the SecurityManager is deprecated since java 18,</p>\n</blockquote>\n<p>Actually it was deprecated in Java 17.  In Java 18 it is disabled by default.</p>\n<blockquote>\n<p>[Is there] any new strategy introduced to replace the functionality of <code>SecurityManager</code> within the RMI program stated?</p>\n</blockquote>\n<p>AFAIK, no.</p>\n<p>With RMI, a security manager is recommended when RMI needs to load and use classes that have been fetched from a remote and (potentially) untrusted source.  The untrusted classes are then run in the security manager sandbox.</p>\n<p>Now that is a problem.  Basically, the Java security manager mechanism is brittle and hard to use correctly.  Furthermore there is no real prospect of improving the mechanism to make it safe (enough).  That is why they have deprecated it in Java 17 and they are disabling it by default in Java 18. See <a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">JEP 411</a> for the full details.</p>\n<p>(IMO) the best answer for you will be to rearchitect your applications so that you don't need to download RMI classes from an untrusted source or via a channel that is insecure.  If you can ensure that you will be downloading only your own (trustworthy) class and you use a channel that cannot be &quot;hacked&quot;, then you can safely dispense with the security manager.</p>\n<p>The other alternative would be to not support / use Java 17 and later.  That will be increasingly difficult in the long term.</p>\n<p>Note that they haven't (yet) entirely removed security manager support.  The JEP link discusses some possibilities, but AFAIK it is not yet decided.</p>\n"}],"owner":{"account_id":9043972,"reputation":139,"user_id":6737118,"accept_rate":50,"display_name":"Tel lui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75242941,"answer_count":1,"score":2,"last_activity_date":1683948962,"creation_date":1674710306,"question_id":75242475,"body_markdown":"As referring to the &quot;Creating and Installing a Security Manager&quot; for oracle&#39;s tutorial: https://docs.oracle.com/javase/tutorial/rmi/implementing.html\r\n\r\nIt mentioned whenever we need to download code from the remote machine in a RMI program, the Security Manager is needed.\r\n\r\nNow that the SecurityManager is deprecated since java 18, any new strategy introduced to replace the functionality of SecurityManager within the RMI program stated? And how to achieve it?","title":"How to create java RMI program without SecurityManager as it&#39;s deprecated?","body":"<p>As referring to the &quot;Creating and Installing a Security Manager&quot; for oracle's tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/rmi/implementing.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/rmi/implementing.html</a></p>\n<p>It mentioned whenever we need to download code from the remote machine in a RMI program, the Security Manager is needed.</p>\n<p>Now that the SecurityManager is deprecated since java 18, any new strategy introduced to replace the functionality of SecurityManager within the RMI program stated? And how to achieve it?</p>\n"},{"tags":["java","intellij-idea","ide","editor"],"answers":[{"tags":[],"owner":{"account_id":1302409,"reputation":5542,"user_id":1252056,"accept_rate":91,"display_name":"streetturtle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683946611,"creation_date":1683921912,"answer_id":76239613,"question_id":76238920,"body_markdown":"IntelliJ doesn&#39;t add `@Override` annotation automatically. I don&#39;t think it&#39;s possible to achieve without some 3rd-party plugin, so you cannot replicate this behaviour. \r\n\r\n# *Missing @Override annotation* inspection\r\n\r\nHowever, there is an &quot;inspection&quot; (see [list][1]), called *Missing @Override annotation*. You can search for this in the Settings window. This inspection:\r\n\r\n&gt;Reports methods overriding superclass methods but are not annotated with @java.lang.Override.\r\n\r\nYou can increase severity of it to &quot;Error&quot; and it will highlight all the methods with missing annotation. You will be able to quick-fix them by hitting &lt;kbd&gt;alt/option&lt;/kbd&gt;+&lt;kbd&gt;enter&lt;/kbd&gt;.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/list-of-java-inspections.html\r\n  [2]: https://i.stack.imgur.com/mxbGr.png","title":"Add @Override annotation automatically on save in IntelliJ IDEA","body":"<p>IntelliJ doesn't add <code>@Override</code> annotation automatically. I don't think it's possible to achieve without some 3rd-party plugin, so you cannot replicate this behaviour.</p>\n<h1><em>Missing @Override annotation</em> inspection</h1>\n<p>However, there is an &quot;inspection&quot; (see <a href=\"https://www.jetbrains.com/help/idea/list-of-java-inspections.html\" rel=\"nofollow noreferrer\">list</a>), called <em>Missing @Override annotation</em>. You can search for this in the Settings window. This inspection:</p>\n<blockquote>\n<p>Reports methods overriding superclass methods but are not annotated with @java.lang.Override.</p>\n</blockquote>\n<p>You can increase severity of it to &quot;Error&quot; and it will highlight all the methods with missing annotation. You will be able to quick-fix them by hitting <kbd>alt/option</kbd>+<kbd>enter</kbd>.</p>\n<p><a href=\"https://i.stack.imgur.com/mxbGr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxbGr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":88026,"reputation":2780,"user_id":2963863,"accept_rate":86,"display_name":"Christian Seifert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683946611,"creation_date":1683914748,"question_id":76238920,"body_markdown":"I&#39;m currently in the process of switching from Eclipse to IntelliJ and cannot get a couple of features to work that I&#39;m familiar with from Eclipse.\r\n\r\nMy current issue:\r\n\r\nI have a two classes, `A` and `B`:\r\n\r\n```java\r\npublic interface A {\r\n}\r\n\r\npublic class B implements A {\r\n\r\n  public void foo() {\r\n  }\r\n\r\n}\r\n```\r\n\r\nNow let&#39;s add the method `foo` to the interface `A`:\r\n\r\n```java\r\npublic interface A {\r\n  void foo();\r\n}\r\n```\r\n\r\nIn Eclipse, after making this change, when I open class `B`, make any kind of change **and then save the file** Eclipse will automatically add the `@Override` annotation to method `foo` in class `B`, so that it looks like this:\r\n\r\n```java\r\npublic class B implements A {\r\n\r\n  @Override\r\n  public void foo() {\r\n  }\r\n\r\n}\r\n```\r\n\r\nI cannot get IntelliJ to replicate that behaviour. I adjust interface `A`, I go to class `B`, make some change but IntelliJ **doesn&#39;t automatically add the `@Override` annotation on save**. \r\n\r\nAm I missing a configuration setting?","title":"Add @Override annotation automatically on save in IntelliJ IDEA","body":"<p>I'm currently in the process of switching from Eclipse to IntelliJ and cannot get a couple of features to work that I'm familiar with from Eclipse.</p>\n<p>My current issue:</p>\n<p>I have a two classes, <code>A</code> and <code>B</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface A {\n}\n\npublic class B implements A {\n\n  public void foo() {\n  }\n\n}\n</code></pre>\n<p>Now let's add the method <code>foo</code> to the interface <code>A</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface A {\n  void foo();\n}\n</code></pre>\n<p>In Eclipse, after making this change, when I open class <code>B</code>, make any kind of change <strong>and then save the file</strong> Eclipse will automatically add the <code>@Override</code> annotation to method <code>foo</code> in class <code>B</code>, so that it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class B implements A {\n\n  @Override\n  public void foo() {\n  }\n\n}\n</code></pre>\n<p>I cannot get IntelliJ to replicate that behaviour. I adjust interface <code>A</code>, I go to class <code>B</code>, make some change but IntelliJ <strong>doesn't automatically add the <code>@Override</code> annotation on save</strong>.</p>\n<p>Am I missing a configuration setting?</p>\n"},{"tags":["java","logging","log4j","slf4j"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1474235045,"post_id":39562965,"comment_id":66436436,"body_markdown":"They do similar things. They have different APIs. I would use the one you like best. BTW have a look at log4j2 rather than log4j.","body":"They do similar things. They have different APIs. I would use the one you like best. BTW have a look at log4j2 rather than log4j."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1474235123,"post_id":39562965,"comment_id":66436463,"body_markdown":"@PeterLawrey With the exception of slf4j, which isn&#39;t a logger in itself (it is a facade to provide a consistent api to *another* logger).","body":"@PeterLawrey With the exception of slf4j, which isn&#39;t a logger in itself (it is a facade to provide a consistent api to <i>another</i> logger)."},{"owner":{"account_id":8847858,"reputation":1120,"user_id":6791449,"accept_rate":39,"display_name":"Prashant Prabhakar Singh"},"score":6,"creation_date":1494482084,"post_id":39562965,"comment_id":74848200,"body_markdown":"Why the question gets 2negative votes?","body":"Why the question gets 2negative votes?"},{"owner":{"account_id":126031,"reputation":510,"user_id":322240,"display_name":"Foyta"},"score":4,"creation_date":1535122147,"post_id":39562965,"comment_id":90963944,"body_markdown":"Some benchmark here: https://www.loggly.com/blog/benchmarking-java-logging-frameworks/","body":"Some benchmark here: <a href=\"https://www.loggly.com/blog/benchmarking-java-logging-frameworks/\" rel=\"nofollow noreferrer\">loggly.com/blog/benchmarking-java-logging-frameworks</a>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683943714,"post_id":39562965,"comment_id":134448553,"body_markdown":"Welcome to the bazaar !","body":"Welcome to the bazaar !"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1474236566,"creation_date":1474236566,"answer_id":39563140,"question_id":39562965,"body_markdown":"*Check out their home pages:*\r\n\r\n[**SLF4J**][1] - The Simple Logging Facade for Java (SLF4J) serves as a **simple facade or abstraction**&lt;sup&gt;1&lt;/sup&gt; for various logging frameworks (e.g. java.util.logging, logback, log4j) allowing the end user to plug in the desired logging framework at deployment time.\r\n\r\n&lt;sup&gt;1) It is not itself a logging library, but a generic interface to one of many logging libraries.&lt;/sup&gt;\r\n\r\n[**Log4j 1.2**][2] - Welcome to Apache log4j, a **logging library** for Java.\r\n\r\n[**Logback**][3] - Logback is **intended as a successor to the popular log4j** project, picking up where log4j leaves off.\r\n\r\n[**Log4j 2**][4] - Apache Log4j 2 is an **upgrade to Log4j** that provides significant improvements over its predecessor, Log4j 1.x, and **provides many of the improvements available in Logback** while fixing some inherent problems in Logback&#39;s architecture.\r\n\r\n*At least, that&#39;s what they all say of themselves.*\r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logging.apache.org/log4j/1.2/\r\n  [3]: http://logback.qos.ch/\r\n  [4]: http://logging.apache.org/log4j/2.x/","title":"What is the difference between Log4j, SLF4J and Logback?","body":"<p><em>Check out their home pages:</em></p>\n\n<p><a href=\"http://www.slf4j.org/\" rel=\"noreferrer\"><strong>SLF4J</strong></a> - The Simple Logging Facade for Java (SLF4J) serves as a <strong>simple facade or abstraction</strong><sup>1</sup> for various logging frameworks (e.g. java.util.logging, logback, log4j) allowing the end user to plug in the desired logging framework at deployment time.</p>\n\n<p><sup>1) It is not itself a logging library, but a generic interface to one of many logging libraries.</sup></p>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/\" rel=\"noreferrer\"><strong>Log4j 1.2</strong></a> - Welcome to Apache log4j, a <strong>logging library</strong> for Java.</p>\n\n<p><a href=\"http://logback.qos.ch/\" rel=\"noreferrer\"><strong>Logback</strong></a> - Logback is <strong>intended as a successor to the popular log4j</strong> project, picking up where log4j leaves off.</p>\n\n<p><a href=\"http://logging.apache.org/log4j/2.x/\" rel=\"noreferrer\"><strong>Log4j 2</strong></a> - Apache Log4j 2 is an <strong>upgrade to Log4j</strong> that provides significant improvements over its predecessor, Log4j 1.x, and <strong>provides many of the improvements available in Logback</strong> while fixing some inherent problems in Logback's architecture.</p>\n\n<p><em>At least, that's what they all say of themselves.</em></p>\n"},{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1591676341,"creation_date":1591676341,"answer_id":62274970,"question_id":39562965,"body_markdown":"This link : https://medium.com/@krishankantsinghal/logback-slf4j-log4j2-understanding-them-and-learn-how-to-use-d33deedd0c46 \r\n\r\nExplains the differences in detail.\r\n\r\nQuoting from there\r\n\r\n**Slf4j**\r\n&gt; So Basically Simple Logging Facade for Java serves as a simple facade or abstraction for various logging frameworks allowing the end user to plug in the desired logging framework at deployment time.\r\n\r\n**log4j2**\r\n\r\n&gt; Log4j,Logback and java.util.Logger are logging libraries which actually write the logs and have their own pros and cons. As industry standards are Log4j2 and logback\r\n\r\nI would recommend going through the blog. It provides all the glory details how both are used with adapter.","title":"What is the difference between Log4j, SLF4J and Logback?","body":"<p>This link : <a href=\"https://medium.com/@krishankantsinghal/logback-slf4j-log4j2-understanding-them-and-learn-how-to-use-d33deedd0c46\" rel=\"noreferrer\">https://medium.com/@krishankantsinghal/logback-slf4j-log4j2-understanding-them-and-learn-how-to-use-d33deedd0c46</a> </p>\n\n<p>Explains the differences in detail.</p>\n\n<p>Quoting from there</p>\n\n<p><strong>Slf4j</strong></p>\n\n<blockquote>\n  <p>So Basically Simple Logging Facade for Java serves as a simple facade or abstraction for various logging frameworks allowing the end user to plug in the desired logging framework at deployment time.</p>\n</blockquote>\n\n<p><strong>log4j2</strong></p>\n\n<blockquote>\n  <p>Log4j,Logback and java.util.Logger are logging libraries which actually write the logs and have their own pros and cons. As industry standards are Log4j2 and logback</p>\n</blockquote>\n\n<p>I would recommend going through the blog. It provides all the glory details how both are used with adapter.</p>\n"},{"tags":[],"owner":{"account_id":7059566,"reputation":303,"user_id":5405434,"display_name":"Philippe Cloutier"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1683066732,"creation_date":1683066732,"answer_id":76159299,"question_id":39562965,"body_markdown":"Your question is far from easy, and only covers some of the main elements of the Java ecosystem&#39;s ridiculously complicated logging. I do not know that ecosystem enough to fully describe it, but describing the current situation well and how it came to be would surely require days/weeks of work to write what would resemble a book.\r\n\r\nHere is a very **short, surely simplistic** answer focusing on the elements you mentioned.\r\n\r\n\r\n**Log4j** appeared as a flexible logging library in 2001.\r\n\r\n**Logback** was developed as a [more powerful][1] alternative to Log4j from 2006 to 2011. The **Simple Logging Facade for Java (SLF4J)** was developed between 2005 and 2006 as [a superior alternative][2] to [Apache/Jakarta] Commons Logging (JCL). Logback and SLF4J are complementary (they can be used together, or not).\r\n\r\n\r\nPerhaps because Logback and SLF4J are to a small degree commercial, the Apache Foundation released in 2014 a major upgrade to Log4j. **Log4j 2 is somewhat comparable to Logback+SLF4J**, in that it provides a facade API (log4j-api, comparable to SLF4J) as well as an implementation (log4j-core, comparable to Logback).\r\n\r\nIf the above seems to contradict other sources, that may be because Log4j version 1 was very different and remains in use, so sources describing &quot;Log4j&quot; may in fact still describe Log4j 1.\r\n\r\n\r\n  [1]: https://logback.qos.ch/reasonsToSwitch.html\r\n  [2]: https://articles.qos.ch/thinkAgain.html","title":"What is the difference between Log4j, SLF4J and Logback?","body":"<p>Your question is far from easy, and only covers some of the main elements of the Java ecosystem's ridiculously complicated logging. I do not know that ecosystem enough to fully describe it, but describing the current situation well and how it came to be would surely require days/weeks of work to write what would resemble a book.</p>\n<p>Here is a very <strong>short, surely simplistic</strong> answer focusing on the elements you mentioned.</p>\n<p><strong>Log4j</strong> appeared as a flexible logging library in 2001.</p>\n<p><strong>Logback</strong> was developed as a <a href=\"https://logback.qos.ch/reasonsToSwitch.html\" rel=\"noreferrer\">more powerful</a> alternative to Log4j from 2006 to 2011. The <strong>Simple Logging Facade for Java (SLF4J)</strong> was developed between 2005 and 2006 as <a href=\"https://articles.qos.ch/thinkAgain.html\" rel=\"noreferrer\">a superior alternative</a> to [Apache/Jakarta] Commons Logging (JCL). Logback and SLF4J are complementary (they can be used together, or not).</p>\n<p>Perhaps because Logback and SLF4J are to a small degree commercial, the Apache Foundation released in 2014 a major upgrade to Log4j. <strong>Log4j 2 is somewhat comparable to Logback+SLF4J</strong>, in that it provides a facade API (log4j-api, comparable to SLF4J) as well as an implementation (log4j-core, comparable to Logback).</p>\n<p>If the above seems to contradict other sources, that may be because Log4j version 1 was very different and remains in use, so sources describing &quot;Log4j&quot; may in fact still describe Log4j 1.</p>\n"}],"owner":{"account_id":4625866,"reputation":2205,"user_id":3749709,"accept_rate":100,"display_name":"Ev3rlasting"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57727,"favorite_count":0,"down_vote_count":3,"up_vote_count":113,"accepted_answer_id":39563140,"answer_count":3,"score":110,"last_activity_date":1683942122,"creation_date":1474234944,"question_id":39562965,"body_markdown":"I am little bit confused by these three logger libraries. It seems like that they can do the similar thing in Java logging...","title":"What is the difference between Log4j, SLF4J and Logback?","body":"<p>I am little bit confused by these three logger libraries. It seems like that they can do the similar thing in Java logging...</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1569553823,"post_id":58127132,"comment_id":102642184,"body_markdown":"What compiler are you using?","body":"What compiler are you using?"},{"owner":{"account_id":16703591,"reputation":121,"user_id":12072588,"display_name":"Pratik Sherke"},"score":0,"creation_date":1569579720,"post_id":58127132,"comment_id":102652059,"body_markdown":"What are you using for persisting your data in the repository?","body":"What are you using for persisting your data in the repository?"},{"owner":{"account_id":16777190,"reputation":411,"user_id":12128183,"display_name":"cgaskill"},"score":0,"creation_date":1569582554,"post_id":58127132,"comment_id":102653470,"body_markdown":"I&#39;m building using the Java 11 JDK.  The persisting is being done in Postgresql.  However, I&#39;m just trying to get a unit test working for this logic right now, so the repository layer is mocked.","body":"I&#39;m building using the Java 11 JDK.  The persisting is being done in Postgresql.  However, I&#39;m just trying to get a unit test working for this logic right now, so the repository layer is mocked."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569582314,"creation_date":1569580633,"answer_id":58132864,"question_id":58127132,"body_markdown":"Why you are getting this compiler error is because of the following.\r\n\r\n`flatmap` takes what is in your completed `Mono` and tries to convert it to whatever type it can infer. `Mono.error` contains a type and this type is of `Object`.\r\n\r\nOne way could instead be to move your logic into the flatmap.\r\n\r\n    // This is just example code using strings instead of repos\r\n    public Mono&lt;String&gt; insertUser(String user) {\r\n        return Mono.just(user)\r\n                // Here we map/convert instead based on logic\r\n                .flatMap(__ -&gt; {\r\n                    if (__.isEmpty())\r\n                        return Mono.error(new IllegalArgumentException(&quot;User already exists with username [&quot; + user + &quot;]&quot;));\r\n                    return Mono.just(user);\r\n                }).switchIfEmpty(Mono.just(user));\r\n    }\r\n\r\n`switchIfEmpty` is not super good for making logical decisions imho. The documentation states\r\n\r\n&gt; Fallback to an alternative Mono if this mono is completed\r\n&gt; without data\r\n\r\nIt&#39;s more of a fallback to something else if we don&#39;t get anything, so we can keep the flow of data going.\r\n\r\nYou can also \r\n\r\n    Mono.empty().doOnNext(o -&gt; {\r\n            throw new IllegalArgumentException(&quot;User already exists with username [&quot; + o + &quot;]&quot;);\r\n        }).switchIfEmpty(Mono.just(&quot;hello&quot;)).subscribe(System.out::println);","title":"How to perform an action only if the Mono is empty and throw an error if not empty","body":"<p>Why you are getting this compiler error is because of the following.</p>\n\n<p><code>flatmap</code> takes what is in your completed <code>Mono</code> and tries to convert it to whatever type it can infer. <code>Mono.error</code> contains a type and this type is of <code>Object</code>.</p>\n\n<p>One way could instead be to move your logic into the flatmap.</p>\n\n<pre><code>// This is just example code using strings instead of repos\npublic Mono&lt;String&gt; insertUser(String user) {\n    return Mono.just(user)\n            // Here we map/convert instead based on logic\n            .flatMap(__ -&gt; {\n                if (__.isEmpty())\n                    return Mono.error(new IllegalArgumentException(\"User already exists with username [\" + user + \"]\"));\n                return Mono.just(user);\n            }).switchIfEmpty(Mono.just(user));\n}\n</code></pre>\n\n<p><code>switchIfEmpty</code> is not super good for making logical decisions imho. The documentation states</p>\n\n<blockquote>\n  <p>Fallback to an alternative Mono if this mono is completed\n  without data</p>\n</blockquote>\n\n<p>It's more of a fallback to something else if we don't get anything, so we can keep the flow of data going.</p>\n\n<p>You can also </p>\n\n<pre><code>Mono.empty().doOnNext(o -&gt; {\n        throw new IllegalArgumentException(\"User already exists with username [\" + o + \"]\");\n    }).switchIfEmpty(Mono.just(\"hello\")).subscribe(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16777190,"reputation":411,"user_id":12128183,"display_name":"cgaskill"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1569636279,"creation_date":1569636279,"answer_id":58142819,"question_id":58127132,"body_markdown":"After additional testing, and taking into consideration the responses from my fellow developers, I have landed on the following solution:\r\n\r\n```\r\n    public Mono&lt;User&gt; insertUser(User user) {\r\n        return userRepository.findByUsername(user.username())\r\n            .flatMap(__ -&gt; Mono.error(new DuplicateResourceException(&quot;User already exists with username [&quot; + user.username() + &quot;]&quot;)))\r\n            .switchIfEmpty(Mono.defer(() -&gt; userRepository.insertUser(user)))\r\n            .cast(User.class);\r\n    }\r\n```\r\n\r\nAs Thomas stated, the compiler was getting confused. My assumption is because the `flatMap` was returning a Mono with an error and the `switchIfEmpty` was returning a Mono with a User so it reverts to a Mono with an Object (hence the additional `.cast` operator to get it to compile).\r\n\r\nThe other addition was to add the `Mono.defer` in the `switchMap`. Otherwise, the `switchIfEmpty` was always firing.\r\n\r\nI&#39;m still open to other suggestions / alternatives (since this seems like it would be a fairly common need / pattern).","title":"How to perform an action only if the Mono is empty and throw an error if not empty","body":"<p>After additional testing, and taking into consideration the responses from my fellow developers, I have landed on the following solution:</p>\n\n<pre><code>    public Mono&lt;User&gt; insertUser(User user) {\n        return userRepository.findByUsername(user.username())\n            .flatMap(__ -&gt; Mono.error(new DuplicateResourceException(\"User already exists with username [\" + user.username() + \"]\")))\n            .switchIfEmpty(Mono.defer(() -&gt; userRepository.insertUser(user)))\n            .cast(User.class);\n    }\n</code></pre>\n\n<p>As Thomas stated, the compiler was getting confused. My assumption is because the <code>flatMap</code> was returning a Mono with an error and the <code>switchIfEmpty</code> was returning a Mono with a User so it reverts to a Mono with an Object (hence the additional <code>.cast</code> operator to get it to compile).</p>\n\n<p>The other addition was to add the <code>Mono.defer</code> in the <code>switchMap</code>. Otherwise, the <code>switchIfEmpty</code> was always firing.</p>\n\n<p>I'm still open to other suggestions / alternatives (since this seems like it would be a fairly common need / pattern).</p>\n"},{"tags":[],"owner":{"account_id":7381764,"reputation":61,"user_id":5618225,"display_name":"hejupitk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1615199858,"creation_date":1614963194,"answer_id":66496495,"question_id":58127132,"body_markdown":"I&#39;m using abstract class that has type parameter `E` so I couldn&#39;t use `.cast(E.class)`. Our solution was\r\n\r\n    private Mono&lt;E&gt; checkIfStatementExists(E statement) {\r\n        return this.statementService.getByStatementRequestId(statement.getStatementRequestId())\r\n                .flatMap(sr -&gt; Mono.&lt;E&gt;error(new ValidationException(&quot;Statement already exists for this request!&quot;)))\r\n                .switchIfEmpty(Mono.just(statement));\r\n    }\r\n\r\nI think I need to dicuss this matter with my co-workers next week. \r\n\r\n**Edit.** We had discussion with co-workers and the updated code is above. ","title":"How to perform an action only if the Mono is empty and throw an error if not empty","body":"<p>I'm using abstract class that has type parameter <code>E</code> so I couldn't use <code>.cast(E.class)</code>. Our solution was</p>\n<pre><code>private Mono&lt;E&gt; checkIfStatementExists(E statement) {\n    return this.statementService.getByStatementRequestId(statement.getStatementRequestId())\n            .flatMap(sr -&gt; Mono.&lt;E&gt;error(new ValidationException(&quot;Statement already exists for this request!&quot;)))\n            .switchIfEmpty(Mono.just(statement));\n}\n</code></pre>\n<p>I think I need to dicuss this matter with my co-workers next week.</p>\n<p><strong>Edit.</strong> We had discussion with co-workers and the updated code is above.</p>\n"},{"tags":[],"owner":{"account_id":1367329,"reputation":2140,"user_id":1303506,"accept_rate":84,"display_name":"Sanyam Goel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626118662,"creation_date":1626118662,"answer_id":68353060,"question_id":58127132,"body_markdown":"Had the same problem and ended up doing below, \r\n\r\n**Please Note:** This does not require type cast and works in both scenarios i.e,\r\n\r\n - Throw an error if element already exists in the database.\r\n - Insert element and return Mono otherwise.\r\n\r\n   \t\r\n\t\t public Mono&lt;UserDTO&gt; insertUser(User user) {\r\n     \t\treturn this.userRepository.findByUsername(user.getUsername())\r\n     \t\t\t\t.flatMap(foundUser-&gt; null != foundUser ? Mono\r\n     \t\t\t\t\t\t.error(new UserAlreadyExistsException(ExceptionsConstants.USER_ALREADY_EXISTS_EXCEPTION))\r\n     \t\t\t\t\t\t: Mono.just(user))\r\n     \t\t\t\t.switchIfEmpty(this.userRepository.save(user))\r\n     \t\t\t\t.map(userCreated -&gt; copyUtils.createUserDTO(userCreated));\r\n\t\t }\r\n\r\n    ","title":"How to perform an action only if the Mono is empty and throw an error if not empty","body":"<p>Had the same problem and ended up doing below,</p>\n<p><strong>Please Note:</strong> This does not require type cast and works in both scenarios i.e,</p>\n<ul>\n<li><p>Throw an error if element already exists in the database.</p>\n</li>\n<li><p>Insert element and return Mono otherwise.</p>\n<pre><code>  public Mono&lt;UserDTO&gt; insertUser(User user) {\n     return this.userRepository.findByUsername(user.getUsername())\n             .flatMap(foundUser-&gt; null != foundUser ? Mono\n                     .error(new UserAlreadyExistsException(ExceptionsConstants.USER_ALREADY_EXISTS_EXCEPTION))\n                     : Mono.just(user))\n             .switchIfEmpty(this.userRepository.save(user))\n             .map(userCreated -&gt; copyUtils.createUserDTO(userCreated));\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":101823,"reputation":1794,"user_id":273673,"accept_rate":53,"display_name":"aseychell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665501220,"creation_date":1665501220,"answer_id":74030373,"question_id":58127132,"body_markdown":"Instead of using the `Mono::cast` to change the type of the Mono, this can be solved by specifying the type of the `Mono.error` using a bit of Java generic magic in the form of `Mono.&lt;User&gt;error(...)`.  This has the additional advantage that you do not need to alter the flow of the Mono pipeline by adding logic to the `flatMap` method with null handling but never actually receiving a null.\r\n\r\nThis would look as follows:\r\n\r\n    public Mono&lt;User&gt; insertUser(User user) {\r\n        return userRepository.findByUsername(user.username())\r\n            .flatMap(__ -&gt; Mono.&lt;User&gt;error(new DuplicateResourceException(&quot;User already exists with username [&quot; + user.username() + &quot;]&quot;)))\r\n            .switchIfEmpty(userRepository.insertUser(user));\r\n    }","title":"How to perform an action only if the Mono is empty and throw an error if not empty","body":"<p>Instead of using the <code>Mono::cast</code> to change the type of the Mono, this can be solved by specifying the type of the <code>Mono.error</code> using a bit of Java generic magic in the form of <code>Mono.&lt;User&gt;error(...)</code>.  This has the additional advantage that you do not need to alter the flow of the Mono pipeline by adding logic to the <code>flatMap</code> method with null handling but never actually receiving a null.</p>\n<p>This would look as follows:</p>\n<pre><code>public Mono&lt;User&gt; insertUser(User user) {\n    return userRepository.findByUsername(user.username())\n        .flatMap(__ -&gt; Mono.&lt;User&gt;error(new DuplicateResourceException(&quot;User already exists with username [&quot; + user.username() + &quot;]&quot;)))\n        .switchIfEmpty(userRepository.insertUser(user));\n}\n</code></pre>\n"}],"owner":{"account_id":16777190,"reputation":411,"user_id":12128183,"display_name":"cgaskill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19839,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":58142819,"answer_count":5,"score":21,"last_activity_date":1683939766,"creation_date":1569552580,"question_id":58127132,"body_markdown":"I&#39;m trying to convert a project to use Spring WebFlux and am running into a problem getting some basic business logic working.  I have a repository layer that is responsible for retrieving / persisting records and a service layer that is responsible for the business rules of the application.  What I want to do (in the service) layer is check if a user already exists for the given username.  If so, I want to respond with an error.  If not, I want to allow the insert to happen.\r\n\r\nI call a method on the repository layer that will find a user by username and if not found it will return an empty Mono.  This is working as expected; however, I have tried various combinations of flatMap and (defaultIfEmpty and swithIfEmpty) but am unable to get it to compile / build.\r\n\r\n```java\r\n    public Mono&lt;User&gt; insertUser(User user) {\r\n        return userRepository.findByUsername(user.username())\r\n            .flatMap(__ -&gt; Mono.error(new DuplicateResourceException(&quot;User already exists with username [&quot; + user.username() + &quot;]&quot;)))\r\n            .switchIfEmpty(userRepository.insertUser(user));\r\n    }\r\n```\r\n\r\nThe error that I&#39;m getting is that `Mono&lt;Object&gt; cannot be converted to Mono&lt;User&gt;`, so the `swithIfEmpty` doesn&#39;t seem to reflect the appropriate type and casting doesn&#39;t seem to work either.","title":"How to perform an action only if the Mono is empty and throw an error if not empty","body":"<p>I'm trying to convert a project to use Spring WebFlux and am running into a problem getting some basic business logic working.  I have a repository layer that is responsible for retrieving / persisting records and a service layer that is responsible for the business rules of the application.  What I want to do (in the service) layer is check if a user already exists for the given username.  If so, I want to respond with an error.  If not, I want to allow the insert to happen.</p>\n\n<p>I call a method on the repository layer that will find a user by username and if not found it will return an empty Mono.  This is working as expected; however, I have tried various combinations of flatMap and (defaultIfEmpty and swithIfEmpty) but am unable to get it to compile / build.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;User&gt; insertUser(User user) {\n        return userRepository.findByUsername(user.username())\n            .flatMap(__ -&gt; Mono.error(new DuplicateResourceException(\"User already exists with username [\" + user.username() + \"]\")))\n            .switchIfEmpty(userRepository.insertUser(user));\n    }\n</code></pre>\n\n<p>The error that I'm getting is that <code>Mono&lt;Object&gt; cannot be converted to Mono&lt;User&gt;</code>, so the <code>swithIfEmpty</code> doesn't seem to reflect the appropriate type and casting doesn't seem to work either.</p>\n"},{"tags":["java","android","xml","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683937877,"creation_date":1683937877,"answer_id":76240600,"question_id":76240546,"body_markdown":"In your `ContactsRecViewAdapter` you are returning `getItemCount` as `0`, which tells recycler how many items to render\r\n```\r\n  @Override\r\n    public int getItemCount() {\r\n        return contacts.size();\r\n    }\r\n```","title":"RecyclerView isn&#39;t displaying any items","body":"<p>In your <code>ContactsRecViewAdapter</code> you are returning <code>getItemCount</code> as <code>0</code>, which tells recycler how many items to render</p>\n<pre><code>  @Override\n    public int getItemCount() {\n        return contacts.size();\n    }\n</code></pre>\n"}],"owner":{"account_id":16806632,"reputation":15,"user_id":14941666,"display_name":"Lux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76240600,"answer_count":1,"score":0,"last_activity_date":1683937877,"creation_date":1683936583,"question_id":76240546,"body_markdown":"My recyclerView isn&#39;t displaying any items. I&#39;m not getting any errors though so I&#39;m not sure what the problem is. Here is the code. \r\n\r\nMainActivity.java\r\n```\r\npackage com.example.recyclerviewexample;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private RecyclerView contactsRecView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        contactsRecView = findViewById(R.id.contactsRecView);\r\n\r\n        ArrayList&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\r\n\r\n        contacts.add(new Contact(&quot;Tony Soprano&quot;, &quot;tsoprano@gmail.com&quot;, &quot;https://i.pinimg.com/originals/13/a9/41/13a9416d23220f57191bbdb9a0eab3aa.jpg&quot;));\r\n        contacts.add(new Contact(&quot;Silvio Dante&quot;, &quot;sdante@gmail.com&quot;, &quot;https://i1.wp.com/bamfstyle.com/wp-content/uploads/2019/11/sop603silv-main1.jpg?ssl=1&quot;));\r\n        contacts.add(new Contact(&quot;Paulie Gualtieri&quot;, &quot;pgualtieri@gmail.com&quot;, &quot;http://img2.wikia.nocookie.net/__cb20110422182403/sopranos/images/c/c5/Paulie1.jpg&quot;));\r\n        contacts.add(new Contact(&quot;Salvatore Bonpensiero&quot;, &quot;sbonpensiero@gmail.com&quot;, &quot;https://static1.srcdn.com/wordpress/wp-content/uploads/2021/09/Big-Pussy-in-The-Sopranos.jpg&quot;));\r\n        contacts.add(new Contact(&quot;Christopher Moltisanti&quot;, &quot;cmoltisanti@gmail.com&quot;, &quot;https://s-media-cache-ak0.pinimg.com/originals/9b/bd/6d/9bbd6d2c6cd5c285f6d537e82fcbea80.jpg&quot;));\r\n\r\n        ContactsRecViewAdapter adapter = new ContactsRecViewAdapter();\r\n        adapter.setContacts(contacts);\r\n\r\n        contactsRecView.setAdapter(adapter);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n        contactsRecView.setLayoutManager(linearLayoutManager);\r\n    }\r\n}\r\n```\r\n\r\nContactsRecViewAdapter.java\r\n\r\n```\r\npackage com.example.recyclerviewexample;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ContactsRecViewAdapter extends RecyclerView.Adapter&lt;ContactsRecViewAdapter.ViewHolder&gt;{\r\n\r\n    private ArrayList&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\r\n\r\n    public ContactsRecViewAdapter() {\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.contacts_list_item, parent, false);\r\n        ViewHolder holder = new ViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.txtName.setText(contacts.get(position).getName());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n\r\n    public void setContacts(ArrayList&lt;Contact&gt; contacts) {\r\n        this.contacts = contacts;\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        private TextView txtName;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtName = itemView.findViewById(R.id.txtName);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nContact.java\r\n\r\n```\r\npackage com.example.recyclerviewexample;\r\n\r\npublic class Contact {\r\n    private String name;\r\n    private String email;\r\n    private String imageUrl;\r\n\r\n    public Contact(String name, String email, String imageUrl) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.imageUrl = imageUrl;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getImageUrl() {\r\n        return imageUrl;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setImageUrl(String imageUrl) {\r\n        this.imageUrl = imageUrl;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Contact{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, imageUrl=&#39;&quot; + imageUrl + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI am using the codeacademy tutorial on android studio and followed the section of recyclerView exactly to get this but it didn&#39;t display any items in the app. ","title":"RecyclerView isn&#39;t displaying any items","body":"<p>My recyclerView isn't displaying any items. I'm not getting any errors though so I'm not sure what the problem is. Here is the code.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.recyclerviewexample;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private RecyclerView contactsRecView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        contactsRecView = findViewById(R.id.contactsRecView);\n\n        ArrayList&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\n\n        contacts.add(new Contact(&quot;Tony Soprano&quot;, &quot;tsoprano@gmail.com&quot;, &quot;https://i.pinimg.com/originals/13/a9/41/13a9416d23220f57191bbdb9a0eab3aa.jpg&quot;));\n        contacts.add(new Contact(&quot;Silvio Dante&quot;, &quot;sdante@gmail.com&quot;, &quot;https://i1.wp.com/bamfstyle.com/wp-content/uploads/2019/11/sop603silv-main1.jpg?ssl=1&quot;));\n        contacts.add(new Contact(&quot;Paulie Gualtieri&quot;, &quot;pgualtieri@gmail.com&quot;, &quot;http://img2.wikia.nocookie.net/__cb20110422182403/sopranos/images/c/c5/Paulie1.jpg&quot;));\n        contacts.add(new Contact(&quot;Salvatore Bonpensiero&quot;, &quot;sbonpensiero@gmail.com&quot;, &quot;https://static1.srcdn.com/wordpress/wp-content/uploads/2021/09/Big-Pussy-in-The-Sopranos.jpg&quot;));\n        contacts.add(new Contact(&quot;Christopher Moltisanti&quot;, &quot;cmoltisanti@gmail.com&quot;, &quot;https://s-media-cache-ak0.pinimg.com/originals/9b/bd/6d/9bbd6d2c6cd5c285f6d537e82fcbea80.jpg&quot;));\n\n        ContactsRecViewAdapter adapter = new ContactsRecViewAdapter();\n        adapter.setContacts(contacts);\n\n        contactsRecView.setAdapter(adapter);\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this);\n        linearLayoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n        contactsRecView.setLayoutManager(linearLayoutManager);\n    }\n}\n</code></pre>\n<p>ContactsRecViewAdapter.java</p>\n<pre><code>package com.example.recyclerviewexample;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class ContactsRecViewAdapter extends RecyclerView.Adapter&lt;ContactsRecViewAdapter.ViewHolder&gt;{\n\n    private ArrayList&lt;Contact&gt; contacts = new ArrayList&lt;&gt;();\n\n    public ContactsRecViewAdapter() {\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.contacts_list_item, parent, false);\n        ViewHolder holder = new ViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.txtName.setText(contacts.get(position).getName());\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n\n    public void setContacts(ArrayList&lt;Contact&gt; contacts) {\n        this.contacts = contacts;\n    }\n\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView txtName;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            txtName = itemView.findViewById(R.id.txtName);\n\n        }\n    }\n}\n</code></pre>\n<p>Contact.java</p>\n<pre><code>package com.example.recyclerviewexample;\n\npublic class Contact {\n    private String name;\n    private String email;\n    private String imageUrl;\n\n    public Contact(String name, String email, String imageUrl) {\n        this.name = name;\n        this.email = email;\n        this.imageUrl = imageUrl;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Contact{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, imageUrl='&quot; + imageUrl + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p>I am using the codeacademy tutorial on android studio and followed the section of recyclerView exactly to get this but it didn't display any items in the app.</p>\n"},{"tags":["javascript","java","android","kotlin","webview"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1683888855,"post_id":76235318,"comment_id":134439068,"body_markdown":"You need to add the full error message if you want help diagnosing errors","body":"You need to add the full error message if you want help diagnosing errors"},{"owner":{"account_id":17984920,"reputation":1,"user_id":13070414,"display_name":"TPX"},"score":0,"creation_date":1683936661,"post_id":76235318,"comment_id":134448122,"body_markdown":"error : [INFO:CONSOLE(1)] &quot;Uncaught ReferenceError: downloadListener is not defined&quot;","body":"error : [INFO:CONSOLE(1)] &quot;Uncaught ReferenceError: downloadListener is not defined&quot;"}],"owner":{"account_id":17984920,"reputation":1,"user_id":13070414,"display_name":"TPX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683936747,"creation_date":1683886760,"question_id":76235318,"body_markdown":"I&#39;m writing **Js code** that I&#39;m injecting into an Android Webview to search for particular URLs and set a button on them, for which I have an EventListener. When I click it, it works; it outputs the logs button and even changes colour, but the interface never gets activated, it says: `ReferenceError Uncaught`.\r\nTo be more precise **error : [INFO:CONSOLE(1)] &quot;Uncaught ReferenceError: downloadListener is not defined&quot;**\r\n\r\n##### Here is my code:\r\n\r\n ```\r\n    private void setup(WebView webView, String videoUrl) {\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        // Define a Java object to be exposed to JavaScript\r\n        class DownloadListener {\r\n            @JavascriptInterface\r\n            public void onDownloadButtonClick(String buttonId, String videoSrc) {\r\n                Log.d(&quot;DownloadListener&quot;, &quot;Button with id &quot; + buttonId + &quot; was clicked for video with src &quot; + videoSrc);\r\n                // Handle the button click in Java code here\r\n            }\r\n        }\r\n\r\n        // Add the Java object to the JavaScript environment\r\n        String jsCode = &quot;function addDownloadOverlayToVideo(videoSrc) { &quot; +\r\n                &quot;  var video = document.querySelector(&#39;video[src=\\&quot;&#39; + videoSrc + &#39;\\&quot;]&#39;); &quot; +\r\n                &quot;  var parent = video.parentNode; &quot; +\r\n                &quot;  parent.style.width = &#39;100%&#39;; &quot; +\r\n                &quot;  var overlay = parent.querySelector(&#39;.download-overlay&#39;); &quot; +\r\n                &quot;  if (!overlay) { &quot; +\r\n                &quot;    overlay = document.createElement(&#39;div&#39;); &quot; +\r\n                &quot;    overlay.className = &#39;download-overlay&#39;; &quot; +\r\n                &quot;    overlay.style.position = &#39;absolute&#39;; &quot; +\r\n                &quot;    overlay.style.display = &#39;inline-block&#39;; &quot; +\r\n                &quot;    overlay.style.top = &#39;5px&#39;; &quot; +\r\n                &quot;    overlay.style.right = &#39;5px&#39;; &quot; +\r\n                &quot;    overlay.style.margin = &#39;5px&#39;; &quot; +\r\n                &quot;    overlay.style.zIndex = &#39;9999&#39;; &quot; +\r\n                &quot;    var button = document.createElement(&#39;button&#39;); &quot; +\r\n                &quot;    button.innerHTML = &#39;Download&#39;; &quot; +\r\n                &quot;    var id = &#39;download-button&#39;; &quot; +\r\n                &quot;    button.id = id; &quot; +\r\n                &quot;    button.style.backgroundColor = &#39;#FF0000&#39;; &quot; +\r\n                &quot;    button.style.padding = &#39;10px 20px&#39;; &quot; +\r\n                &quot;    button.style.borderRadius = &#39;5px&#39;; &quot; +\r\n                &quot;    button.style.color = &#39;#FFFFFF&#39;; &quot; +\r\n                &quot;    button.style.fontSize = &#39;18px&#39;; &quot; +\r\n                &quot;    button.addEventListener(&#39;mousedown&#39;, function() { &quot; +\r\n                &quot;      this.style.transform = &#39;translateY(2px)&#39;; &quot; +\r\n                &quot;      this.style.backgroundColor = &#39;#000000&#39;; &quot; +\r\n                &quot;      downloadListener.onDownloadButtonClick(this.id, video.src); &quot; +\r\n                &quot;    }); &quot; +\r\n                &quot;    overlay.appendChild(button); &quot; +\r\n                &quot;    parent.style.position = &#39;relative&#39;; &quot; +\r\n                &quot;    parent.appendChild(overlay); &quot; +\r\n                &quot;  } &quot; +\r\n                &quot;} &quot; +\r\n                &quot;addDownloadOverlayToVideo(&#39;&quot; + videoUrl + &quot;&#39;);&quot;;\r\n\r\n        // Run the JavaScript code on the UI thread\r\n\r\n\r\n        webView.addJavascriptInterface(new DownloadListener(), &quot;downloadListener&quot;);\r\n        webView.post(() -&gt; webView.evaluateJavascript(jsCode, null));\r\n    }\r\n`\r\n\r\nNote I am trying to add a button onto Videos programmatically on specific videos and want to listen to what link based button is clicked but the interface is not working","title":"Uncaught ReferenceError while trying to implement addEventListener on a webView Button in android studio","body":"<p>I'm writing <strong>Js code</strong> that I'm injecting into an Android Webview to search for particular URLs and set a button on them, for which I have an EventListener. When I click it, it works; it outputs the logs button and even changes colour, but the interface never gets activated, it says: <code>ReferenceError Uncaught</code>.\nTo be more precise <strong>error : [INFO:CONSOLE(1)] &quot;Uncaught ReferenceError: downloadListener is not defined&quot;</strong></p>\n<h5>Here is my code:</h5>\n<pre><code>   private void setup(WebView webView, String videoUrl) {\n\n       webView.getSettings().setJavaScriptEnabled(true);\n       webView.getSettings().setDomStorageEnabled(true);\n       // Define a Java object to be exposed to JavaScript\n       class DownloadListener {\n           @JavascriptInterface\n           public void onDownloadButtonClick(String buttonId, String videoSrc) {\n               Log.d(&quot;DownloadListener&quot;, &quot;Button with id &quot; + buttonId + &quot; was clicked for video with src &quot; + videoSrc);\n               // Handle the button click in Java code here\n           }\n       }\n\n       // Add the Java object to the JavaScript environment\n       String jsCode = &quot;function addDownloadOverlayToVideo(videoSrc) { &quot; +\n               &quot;  var video = document.querySelector('video[src=\\&quot;' + videoSrc + '\\&quot;]'); &quot; +\n               &quot;  var parent = video.parentNode; &quot; +\n               &quot;  parent.style.width = '100%'; &quot; +\n               &quot;  var overlay = parent.querySelector('.download-overlay'); &quot; +\n               &quot;  if (!overlay) { &quot; +\n               &quot;    overlay = document.createElement('div'); &quot; +\n               &quot;    overlay.className = 'download-overlay'; &quot; +\n               &quot;    overlay.style.position = 'absolute'; &quot; +\n               &quot;    overlay.style.display = 'inline-block'; &quot; +\n               &quot;    overlay.style.top = '5px'; &quot; +\n               &quot;    overlay.style.right = '5px'; &quot; +\n               &quot;    overlay.style.margin = '5px'; &quot; +\n               &quot;    overlay.style.zIndex = '9999'; &quot; +\n               &quot;    var button = document.createElement('button'); &quot; +\n               &quot;    button.innerHTML = 'Download'; &quot; +\n               &quot;    var id = 'download-button'; &quot; +\n               &quot;    button.id = id; &quot; +\n               &quot;    button.style.backgroundColor = '#FF0000'; &quot; +\n               &quot;    button.style.padding = '10px 20px'; &quot; +\n               &quot;    button.style.borderRadius = '5px'; &quot; +\n               &quot;    button.style.color = '#FFFFFF'; &quot; +\n               &quot;    button.style.fontSize = '18px'; &quot; +\n               &quot;    button.addEventListener('mousedown', function() { &quot; +\n               &quot;      this.style.transform = 'translateY(2px)'; &quot; +\n               &quot;      this.style.backgroundColor = '#000000'; &quot; +\n               &quot;      downloadListener.onDownloadButtonClick(this.id, video.src); &quot; +\n               &quot;    }); &quot; +\n               &quot;    overlay.appendChild(button); &quot; +\n               &quot;    parent.style.position = 'relative'; &quot; +\n               &quot;    parent.appendChild(overlay); &quot; +\n               &quot;  } &quot; +\n               &quot;} &quot; +\n               &quot;addDownloadOverlayToVideo('&quot; + videoUrl + &quot;');&quot;;\n\n       // Run the JavaScript code on the UI thread\n\n\n       webView.addJavascriptInterface(new DownloadListener(), &quot;downloadListener&quot;);\n       webView.post(() -&gt; webView.evaluateJavascript(jsCode, null));\n   }\n`\n\nNote I am trying to add a button onto Videos programmatically on specific videos and want to listen to what link based button is clicked but the interface is not working\n</code></pre>\n"},{"tags":["java","database","jdbc"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1324403131,"post_id":8579613,"comment_id":10639271,"body_markdown":"Any reason you&#39;re not doing a join at the database? Seems like the obvious solution.","body":"Any reason you&#39;re not doing a join at the database? Seems like the obvious solution."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1324404323,"post_id":8579613,"comment_id":10639636,"body_markdown":"You should delegate the job as much as possible to the SQL language so that it returns **exactly** the result you want in only one SQL query. This is a win-win for both Java and the DB. Learn the `JOIN` clause.","body":"You should delegate the job as much as possible to the SQL language so that it returns <b>exactly</b> the result you want in only one SQL query. This is a win-win for both Java and the DB. Learn the <code>JOIN</code> clause."},{"owner":{"account_id":400349,"reputation":3751,"user_id":1206800,"accept_rate":69,"display_name":"Anthea"},"score":0,"creation_date":1324406430,"post_id":8579613,"comment_id":10640332,"body_markdown":"@JonSkeet: indeed. I was just not used to SQL. How would I make two Joins at once? So that I get all participants in all lists. I updated the answer with my status quo. Jon please write your comment as answer, so I can mark it!","body":"@JonSkeet: indeed. I was just not used to SQL. How would I make two Joins at once? So that I get all participants in all lists. I updated the answer with my status quo. Jon please write your comment as answer, so I can mark it!"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1324419499,"post_id":8579613,"comment_id":10644109,"body_markdown":"@Anthea: Might as well go with A.H.&#39;s answer :)","body":"@Anthea: Might as well go with A.H.&#39;s answer :)"}],"answers":[{"tags":[],"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1652215499,"creation_date":1324403293,"answer_id":8579669,"question_id":8579613,"body_markdown":"You can try using *two* different `Statement` instances for each query. See the JavaDoc for [java.sql.Statement]. The following example shows the principle.\r\n\r\n    Statement statement1 = connection.createStatement();\r\n    Statement statement2 = connection.createStatement();\r\n\r\n    ResultSet resultSet1 = statement1.executeQuery(&quot;select * from list&quot;);\r\n    while (resultSet1.next()) {\r\n        String name = resultSet1.getString(&quot;Name&quot;);\r\n            \r\n        ResultSet resultSet2 = statement2.executeQuery(\r\n            &quot;select * from List_Participant where name= &#39;&quot; + name + &quot;&#39;&quot;);\r\n        while (resultSet2.next()) {\r\n            // get the participants\r\n        }\r\n    }\r\n\r\n**BUT:** This is not standard usage of JDBC or SQL for good reasons. It deprives the database of any optimization possibility and moves to much data between the DB and your app for no good reason (See the comments of JohnSkeet and BalusC). \r\n\r\nBetter use appropriate `JOIN`s in your one and only statement. This _can_ be optimized by the DB:\r\n\r\n    SELECT lp.* FROM list l JOIN List_Participant lp ON l.name = lp.name\r\n\r\nAdd any filters/conditions you like to minimize the data retrieved.\r\n\r\n\r\n[java.sql.Statement]: http://docs.oracle.com/javase/6/docs/api/index.html\r\n","title":"java jdbc accessing multiple resultsets","body":"<p>You can try using <em>two</em> different <code>Statement</code> instances for each query. See the JavaDoc for <a href=\"http://docs.oracle.com/javase/6/docs/api/index.html\" rel=\"nofollow noreferrer\">java.sql.Statement</a>. The following example shows the principle.</p>\n<pre><code>Statement statement1 = connection.createStatement();\nStatement statement2 = connection.createStatement();\n\nResultSet resultSet1 = statement1.executeQuery(&quot;select * from list&quot;);\nwhile (resultSet1.next()) {\n    String name = resultSet1.getString(&quot;Name&quot;);\n        \n    ResultSet resultSet2 = statement2.executeQuery(\n        &quot;select * from List_Participant where name= '&quot; + name + &quot;'&quot;);\n    while (resultSet2.next()) {\n        // get the participants\n    }\n}\n</code></pre>\n<p><strong>BUT:</strong> This is not standard usage of JDBC or SQL for good reasons. It deprives the database of any optimization possibility and moves to much data between the DB and your app for no good reason (See the comments of JohnSkeet and BalusC).</p>\n<p>Better use appropriate <code>JOIN</code>s in your one and only statement. This <em>can</em> be optimized by the DB:</p>\n<pre><code>SELECT lp.* FROM list l JOIN List_Participant lp ON l.name = lp.name\n</code></pre>\n<p>Add any filters/conditions you like to minimize the data retrieved.</p>\n"},{"tags":[],"owner":{"account_id":92982,"reputation":1229,"user_id":254585,"accept_rate":87,"display_name":"ping"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324403448,"creation_date":1324403448,"answer_id":8579696,"question_id":8579613,"body_markdown":"Nested query ?\r\nSomething like `Select * from List_Participant where name in (select name from List);`\r\nThis can be made to work for your third tabel as well. ","title":"java jdbc accessing multiple resultsets","body":"<p>Nested query ?\nSomething like <code>Select * from List_Participant where name in (select name from List);</code>\nThis can be made to work for your third tabel as well. </p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683932747,"creation_date":1531981381,"answer_id":51415680,"question_id":8579613,"body_markdown":"Here is the reason why you can&#39;t have two `ResultSet` opened from the same `Statement` \r\n\r\n[`ResultSet` javadoc][1] :\r\n\r\n&gt; A ResultSet object is automatically closed **when the Statement object that generated it is closed, re-executed**, or used to retrieve the next result from a sequence of multiple results.\r\n\r\nSo basicly, a `Statement` can only give you one `ResultSet` at a time, so you loose the first result when you execute the second query. \r\n\r\nSolution :\r\n\r\n- Using one instance of `Statement` per `ResultSet` needed.\r\n- merging the queries to only have one\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html\r\n","title":"java jdbc accessing multiple resultsets","body":"<p>Here is the reason why you can't have two <code>ResultSet</code> opened from the same <code>Statement</code></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code> javadoc</a> :</p>\n<blockquote>\n<p>A ResultSet object is automatically closed <strong>when the Statement object that generated it is closed, re-executed</strong>, or used to retrieve the next result from a sequence of multiple results.</p>\n</blockquote>\n<p>So basicly, a <code>Statement</code> can only give you one <code>ResultSet</code> at a time, so you loose the first result when you execute the second query.</p>\n<p>Solution :</p>\n<ul>\n<li>Using one instance of <code>Statement</code> per <code>ResultSet</code> needed.</li>\n<li>merging the queries to only have one</li>\n</ul>\n"}],"owner":{"account_id":400349,"reputation":3751,"user_id":1206800,"accept_rate":69,"display_name":"Anthea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28460,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8579669,"answer_count":3,"score":4,"last_activity_date":1683932747,"creation_date":1324402989,"question_id":8579613,"body_markdown":"I have the following structure: \r\n\r\nList --&gt;List_Participant --&gt;Participant\r\n\r\nso a list may contain several participants.I try to read this in java: \r\n\r\n\t\t\tstat = con.createStatement();\r\n\t\t\tResultSet rs = stat.executeQuery(&quot;select * from list;&quot;);\r\n\t\t\t// get the informations about the bracket sheet\r\n\t\t    while (rs.next()) {\r\n\t\t      string name = rs.getString(&quot;Name&quot;);\r\n\t\t      ResultSet rs2 = stat.executeQuery(&quot;select * from List_Participant where name= &#39;&quot;+name+&quot;&#39;;&quot;); \r\n\t\t\t   \r\n\t\t\t    while (rs2.next()) {\r\n\t\t\t       // get the participants\r\n\t\t\t      \r\n\t\t\t    }\r\n\t\t\t    rs2.close();\r\n\t\t    }\r\n\t\t    rs.close();\r\n\r\nBut this does not work. I don&#39;t receive an exception nor any other output. I suggest opening a second resultset will close the first one because since I do the first resultset, store the data in an arraylist and close it and afterwards the second it would work, but that leads to a poor performance because I have to search always in the arraylist.\r\n\r\nWhat might be a better solution?\r\n\r\nEdit: Solution is to make a Join, my current try: \r\n\r\n     select * from List_participant \r\n    INNER JOIN List ON List.name = List_participant.List \r\n    INNER JOIN participant ON List_participant.participant =participant.ROWID;\r\n\r\nHow do I adress the columns now, since they might have the same name?\r\n","title":"java jdbc accessing multiple resultsets","body":"<p>I have the following structure: </p>\n\n<p>List -->List_Participant -->Participant</p>\n\n<p>so a list may contain several participants.I try to read this in java: </p>\n\n<pre><code>        stat = con.createStatement();\n        ResultSet rs = stat.executeQuery(\"select * from list;\");\n        // get the informations about the bracket sheet\n        while (rs.next()) {\n          string name = rs.getString(\"Name\");\n          ResultSet rs2 = stat.executeQuery(\"select * from List_Participant where name= '\"+name+\"';\"); \n\n            while (rs2.next()) {\n               // get the participants\n\n            }\n            rs2.close();\n        }\n        rs.close();\n</code></pre>\n\n<p>But this does not work. I don't receive an exception nor any other output. I suggest opening a second resultset will close the first one because since I do the first resultset, store the data in an arraylist and close it and afterwards the second it would work, but that leads to a poor performance because I have to search always in the arraylist.</p>\n\n<p>What might be a better solution?</p>\n\n<p>Edit: Solution is to make a Join, my current try: </p>\n\n<pre><code> select * from List_participant \nINNER JOIN List ON List.name = List_participant.List \nINNER JOIN participant ON List_participant.participant =participant.ROWID;\n</code></pre>\n\n<p>How do I adress the columns now, since they might have the same name?</p>\n"},{"tags":["java","android","button","admin","deprecated"],"answers":[{"tags":[],"owner":{"account_id":26567497,"reputation":11,"user_id":20194272,"display_name":"Soorosh_th"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683931875,"creation_date":1683931875,"answer_id":76240365,"question_id":75421785,"body_markdown":"im currently working on an enterprise app which is running on a tablet which is also on lock task mode , so i shared what i have done for my case . is not a super clean code but its doing the job.\r\n\r\n1st java class:\r\n\r\nyou need an admin receiver class like this \r\n\r\n    import android.app.admin.DeviceAdminReceiver;\r\n    public class AppAdminReceiver extends DeviceAdminReceiver {\r\n    \r\n    }\r\n\r\nits okay if u leave it empty.\r\n\r\n2nd manifest.xml : \r\n\r\n    &lt;receiver\r\n            android:name=&quot;.AppAdminReceiver&quot;\r\n            android:description=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.device_admin&quot;\r\n                android:resource=&quot;@xml/device_admin_receiver&quot; /&gt;\r\n            &lt;intent-filter android:priority=&quot;1000&quot;&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_DISABLED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PROFILE_PROVISIONING_COMPLETE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\nadd this receiver to your manifest and edit label and description base on what u want.\r\n\r\n\r\nand  you should set your app as admin via adb , cause i also couldn&#39;t enable it in settings so i currently use adb commands.\r\n\r\n{packageName} : you can find packageName in gradle file tagged as &quot;applicationId&quot;.\r\n\r\n{your admin class} : your class might be like com.example.appName.AppAdminReceiver\r\n\r\n\r\n    // to set as owner/admin\r\n    adb shell dpm set-device-owner {packageName}/{your admin class}\r\n    // to remove owner/admin\r\n    adb shell dpm remove-active-admin {packageName}/{your admin class}\r\n\r\n\r\nand last thing task lock class to make things easy :\r\n\r\n    import android.app.Activity;\r\n    import android.app.ActivityManager;\r\n    import android.app.admin.DevicePolicyManager;\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.os.UserManager;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.isense.R;\r\n    \r\n    public class KioskHandler {\r\n        static ComponentName mAdminComponentName;\r\n        static DevicePolicyManager mDevicePolicyManager;\r\n\r\n        public static void startKiosk(Activity context){\r\n           if(mDevicePolicyManager.isLockTaskPermitted(context.getPackageName())){\r\n                ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\r\n                if (am.getLockTaskModeState() == ActivityManager.LOCK_TASK_MODE_NONE) {\r\n                    setDefaultCosuPolicies(true);\r\n                    context.startLockTask();\r\n                  \r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void stopKiosk(Activity context){\r\n            ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\r\n            if (am.getLockTaskModeState() == ActivityManager.LOCK_TASK_MODE_LOCKED) {\r\n                context.stopLockTask();\r\n                setDefaultCosuPolicies(false);\r\n               \r\n                \r\n            }\r\n        }\r\n        public static boolean initialize(Context context){\r\n            try{\r\n                mAdminComponentName = new ComponentName(context, AppAdminReceiver.class);\r\n                mDevicePolicyManager = (DevicePolicyManager) context.getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n                String[] packages={\r\n                        context.getPackageName(),\r\n                        &quot;com.android.date&quot;,\r\n                        &quot;com.android.settings.date&quot;,\r\n                        &quot;com.android.bluetooth&quot;,\r\n                        &quot;com.bluetooth&quot;,\r\n                        &quot;com.Bluetooth&quot;,\r\n                        &quot;com.samsung&quot;,\r\n                        &quot;com.wifi&quot;,\r\n                        &quot;com.android.wifi&quot;,\r\n                        &quot;com.android.settings.bluetooth&quot;,\r\n                        &quot;com.android.settings.wifi&quot;\r\n                } ;\r\n                mDevicePolicyManager.setLockTaskPackages(mAdminComponentName,packages);\r\n                if(mDevicePolicyManager.isDeviceOwnerApp(context.getPackageName())){\r\n                    // App is whitelisted\r\n                    setDefaultCosuPolicies(true);\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n            catch (Exception ignored){return false;}\r\n    \r\n        }\r\n    \r\n        private static void setDefaultCosuPolicies(boolean active){\r\n    \r\n            // Set user restrictions\r\n            setUserRestriction(UserManager.DISALLOW_SAFE_BOOT, active);\r\n            setUserRestriction(UserManager.DISALLOW_FACTORY_RESET, active);\r\n            setUserRestriction(UserManager.DISALLOW_ADD_USER, active);\r\n            setUserRestriction(UserManager.DISALLOW_MOUNT_PHYSICAL_MEDIA, active);\r\n            setUserRestriction(UserManager.DISALLOW_USB_FILE_TRANSFER,active);\r\n            // Disable keyguard and status bar\r\n            mDevicePolicyManager.setKeyguardDisabled(mAdminComponentName, active);\r\n            mDevicePolicyManager.setStatusBarDisabled(mAdminComponentName, active);\r\n    \r\n        }\r\n    \r\n        private static void setUserRestriction(String restriction, boolean disallow){\r\n            if (disallow) {\r\n                mDevicePolicyManager.addUserRestriction(mAdminComponentName,restriction);\r\n            } else {\r\n                mDevicePolicyManager.clearUserRestriction(mAdminComponentName,restriction);\r\n            }\r\n        }\r\n    }\r\n\r\nso let me explain these : \r\n\r\nfirst u call initialize and pass the input it needs. then easily u can call stopKiosk or startKiosk to do your thing.\r\n\r\nexample :\r\n\r\n    KioskHandler.initialize(this);\r\n    KioskHandler.startKiosk(this);\r\n    // &quot;this&quot; has to be activity\r\n\r\n\r\nNOTE :to install a new version or remove the app u must remove ownership of device with adb commands .","title":"I am trying to make my Java Android app give me admin permission for lock task mode but it fails","body":"<p>im currently working on an enterprise app which is running on a tablet which is also on lock task mode , so i shared what i have done for my case . is not a super clean code but its doing the job.</p>\n<p>1st java class:</p>\n<p>you need an admin receiver class like this</p>\n<pre><code>import android.app.admin.DeviceAdminReceiver;\npublic class AppAdminReceiver extends DeviceAdminReceiver {\n\n}\n</code></pre>\n<p>its okay if u leave it empty.</p>\n<p>2nd manifest.xml :</p>\n<pre><code>&lt;receiver\n        android:name=&quot;.AppAdminReceiver&quot;\n        android:description=&quot;@string/app_name&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.app.device_admin&quot;\n            android:resource=&quot;@xml/device_admin_receiver&quot; /&gt;\n        &lt;intent-filter android:priority=&quot;1000&quot;&gt;\n            &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_DISABLED&quot; /&gt;\n            &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.PROFILE_PROVISIONING_COMPLETE&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>add this receiver to your manifest and edit label and description base on what u want.</p>\n<p>and  you should set your app as admin via adb , cause i also couldn't enable it in settings so i currently use adb commands.</p>\n<p>{packageName} : you can find packageName in gradle file tagged as &quot;applicationId&quot;.</p>\n<p>{your admin class} : your class might be like com.example.appName.AppAdminReceiver</p>\n<pre><code>// to set as owner/admin\nadb shell dpm set-device-owner {packageName}/{your admin class}\n// to remove owner/admin\nadb shell dpm remove-active-admin {packageName}/{your admin class}\n</code></pre>\n<p>and last thing task lock class to make things easy :</p>\n<pre><code>import android.app.Activity;\nimport android.app.ActivityManager;\nimport android.app.admin.DevicePolicyManager;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.UserManager;\nimport android.widget.Toast;\n\nimport com.example.isense.R;\n\npublic class KioskHandler {\n    static ComponentName mAdminComponentName;\n    static DevicePolicyManager mDevicePolicyManager;\n\n    public static void startKiosk(Activity context){\n       if(mDevicePolicyManager.isLockTaskPermitted(context.getPackageName())){\n            ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\n            if (am.getLockTaskModeState() == ActivityManager.LOCK_TASK_MODE_NONE) {\n                setDefaultCosuPolicies(true);\n                context.startLockTask();\n              \n            }\n        }\n    }\n\n    public static void stopKiosk(Activity context){\n        ActivityManager am = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);\n        if (am.getLockTaskModeState() == ActivityManager.LOCK_TASK_MODE_LOCKED) {\n            context.stopLockTask();\n            setDefaultCosuPolicies(false);\n           \n            \n        }\n    }\n    public static boolean initialize(Context context){\n        try{\n            mAdminComponentName = new ComponentName(context, AppAdminReceiver.class);\n            mDevicePolicyManager = (DevicePolicyManager) context.getSystemService(Context.DEVICE_POLICY_SERVICE);\n            String[] packages={\n                    context.getPackageName(),\n                    &quot;com.android.date&quot;,\n                    &quot;com.android.settings.date&quot;,\n                    &quot;com.android.bluetooth&quot;,\n                    &quot;com.bluetooth&quot;,\n                    &quot;com.Bluetooth&quot;,\n                    &quot;com.samsung&quot;,\n                    &quot;com.wifi&quot;,\n                    &quot;com.android.wifi&quot;,\n                    &quot;com.android.settings.bluetooth&quot;,\n                    &quot;com.android.settings.wifi&quot;\n            } ;\n            mDevicePolicyManager.setLockTaskPackages(mAdminComponentName,packages);\n            if(mDevicePolicyManager.isDeviceOwnerApp(context.getPackageName())){\n                // App is whitelisted\n                setDefaultCosuPolicies(true);\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        catch (Exception ignored){return false;}\n\n    }\n\n    private static void setDefaultCosuPolicies(boolean active){\n\n        // Set user restrictions\n        setUserRestriction(UserManager.DISALLOW_SAFE_BOOT, active);\n        setUserRestriction(UserManager.DISALLOW_FACTORY_RESET, active);\n        setUserRestriction(UserManager.DISALLOW_ADD_USER, active);\n        setUserRestriction(UserManager.DISALLOW_MOUNT_PHYSICAL_MEDIA, active);\n        setUserRestriction(UserManager.DISALLOW_USB_FILE_TRANSFER,active);\n        // Disable keyguard and status bar\n        mDevicePolicyManager.setKeyguardDisabled(mAdminComponentName, active);\n        mDevicePolicyManager.setStatusBarDisabled(mAdminComponentName, active);\n\n    }\n\n    private static void setUserRestriction(String restriction, boolean disallow){\n        if (disallow) {\n            mDevicePolicyManager.addUserRestriction(mAdminComponentName,restriction);\n        } else {\n            mDevicePolicyManager.clearUserRestriction(mAdminComponentName,restriction);\n        }\n    }\n}\n</code></pre>\n<p>so let me explain these :</p>\n<p>first u call initialize and pass the input it needs. then easily u can call stopKiosk or startKiosk to do your thing.</p>\n<p>example :</p>\n<pre><code>KioskHandler.initialize(this);\nKioskHandler.startKiosk(this);\n// &quot;this&quot; has to be activity\n</code></pre>\n<p>NOTE :to install a new version or remove the app u must remove ownership of device with adb commands .</p>\n"}],"owner":{"account_id":27761608,"reputation":19,"user_id":21193920,"display_name":"Giggles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683931875,"creation_date":1676134369,"question_id":75421785,"body_markdown":"I have been trying to do lock task mode or lock into my app without being able to access other apps with still being able to disable the feature. I have looked at tutorials and documentation but some methods were deprecated since they were made around 5 years ago (onActivityResult). I have tried to change to the new methods (registerForActivityResult) that I found, however when I launch my app and try to enable admin permission by tapping on the enable button, the admin permissions don&#39;t pop up, so I cannot check it. So, when I try to lock my phone from other apps nothing happens because I don&#39;t have admin permissions.My Code for MainActivity.class below:\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.app.Activity;\r\nimport android.app.ActivityManager;\r\nimport android.app.ActivityOptions;\r\nimport android.app.admin.DevicePolicyManager;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport com.example.myapplication.databinding.ActivityMainBinding;\r\n\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.myapplication.helper.MqttHelper;\r\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\nimport org.eclipse.paho.client.mqttv3.MqttCallbackExtended;\r\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n\r\n    private Button lock, disable, enable;\r\n    private static final int RESULT_ENABLE = 11;\r\n    private DevicePolicyManager devicePolicyManager;\r\n    private ActivityManager activityManager;\r\n    private ComponentName componentName;\r\n\r\n    private AppBarConfiguration appBarConfiguration;\r\n    private ActivityMainBinding binding;\r\n    MqttHelper mqttHelper;\r\n    //ChartHelper mChart;\r\n    //LineChart chart;\r\n\r\n    TextView dataReceived;\r\n    private Button btnPublish;\r\n\r\n\r\n    // Allowlist two apps.\r\n    private static final String KIOSK_PACKAGE = &quot;com.example.myapplication&quot;;\r\n    private static final String[] APP_PACKAGES = {KIOSK_PACKAGE};\r\n\r\n// ...\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        //setContentView(R.layout.activity_main);\r\n        devicePolicyManager = (DevicePolicyManager) getSystemService(DEVICE_POLICY_SERVICE);\r\n        activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);\r\n        componentName = new ComponentName(this, Controller.class);\r\n\r\n        lock = (Button) findViewById(R.id.lock);\r\n        enable = (Button) findViewById(R.id.enable);\r\n        disable = (Button) findViewById(R.id.disable);\r\n        lock.setOnClickListener(this);\r\n        enable.setOnClickListener(this);\r\n        disable.setOnClickListener(this);\r\n\r\n       \r\n        \r\n        dataReceived = (TextView) findViewById(R.id.textview_first);\r\n        startMqtt();\r\n    }\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        boolean isActive = devicePolicyManager.isAdminActive(componentName);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (view == lock) {\r\n            boolean active = devicePolicyManager.isAdminActive(componentName);\r\n            if(active) {\r\n                devicePolicyManager.lockNow();\r\n            } else {\r\n                Toast.makeText(this, &quot;You need to enable the Admin Device Features&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } else if (view == enable) {\r\n            Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\r\n            intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, componentName);\r\n            intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION,&quot;You Should Enable the app!&quot;);\r\n            //someActivityResultLauncher.launch(intent);\r\n            // Caller\r\n            mGetContent.launch(intent);\r\n            // Receiver\r\n\r\n            //startActivityForResult(intent, RESULT_ENABLE);\r\n        } else if (view == disable) {\r\n            devicePolicyManager.removeActiveAdmin(componentName);\r\n            disable.setVisibility(View.GONE);\r\n            enable.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; mGetContent = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // Here, no request code\r\n                        Intent data = result.getData();\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                    }else{\r\n                        Toast.makeText(MainActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n                if(resultCode== Activity.RESULT_OK  &amp;&amp; requestCode == RESULT_ENABLE){\r\n                    Toast.makeText(MainActivity.this, &quot;enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(MainActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    /*@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        switch (requestCode){\r\n            case RESULT_ENABLE:\r\n                if(resultCode== Activity.RESULT_OK ){\r\n                    //btn_unblock.setText(&quot;Dissable&quot;);\r\n                    //btn_block.setVisibility(View.VISIBLE);\r\n                    Toast.makeText(MainActivity.this, &quot;enabled&quot;, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    Toast.makeText(MainActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }*/\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n\r\n\r\n\r\n    // MQTT Code\r\n\r\n    private void startMqtt(){\r\n        mqttHelper = new MqttHelper(getApplicationContext());\r\n        mqttHelper.mqttAndroidClient.setCallback(new MqttCallbackExtended() {\r\n            @Override\r\n            public void connectComplete(boolean b, String s) {\r\n                Log.w(&quot;Debug&quot;,&quot;Connected&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void connectionLost(Throwable throwable) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void messageArrived(String topic, MqttMessage mqttMessage) throws Exception {\r\n                Log.w(&quot;Debug&quot;,mqttMessage.toString());\r\n                dataReceived.setText(mqttMessage.toString());\r\n                //mChart.addEntry(Float.valueOf(mqttMessage.toString()));\r\n            }\r\n\r\n            @Override\r\n            public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"I am trying to make my Java Android app give me admin permission for lock task mode but it fails","body":"<p>I have been trying to do lock task mode or lock into my app without being able to access other apps with still being able to disable the feature. I have looked at tutorials and documentation but some methods were deprecated since they were made around 5 years ago (onActivityResult). I have tried to change to the new methods (registerForActivityResult) that I found, however when I launch my app and try to enable admin permission by tapping on the enable button, the admin permissions don't pop up, so I cannot check it. So, when I try to lock my phone from other apps nothing happens because I don't have admin permissions.My Code for MainActivity.class below:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.app.Activity;\nimport android.app.ActivityManager;\nimport android.app.ActivityOptions;\nimport android.app.admin.DevicePolicyManager;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport com.example.myapplication.databinding.ActivityMainBinding;\n\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.example.myapplication.helper.MqttHelper;\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\nimport org.eclipse.paho.client.mqttv3.MqttCallbackExtended;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener{\n\n    private Button lock, disable, enable;\n    private static final int RESULT_ENABLE = 11;\n    private DevicePolicyManager devicePolicyManager;\n    private ActivityManager activityManager;\n    private ComponentName componentName;\n\n    private AppBarConfiguration appBarConfiguration;\n    private ActivityMainBinding binding;\n    MqttHelper mqttHelper;\n    //ChartHelper mChart;\n    //LineChart chart;\n\n    TextView dataReceived;\n    private Button btnPublish;\n\n\n    // Allowlist two apps.\n    private static final String KIOSK_PACKAGE = &quot;com.example.myapplication&quot;;\n    private static final String[] APP_PACKAGES = {KIOSK_PACKAGE};\n\n// ...\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        //setContentView(R.layout.activity_main);\n        devicePolicyManager = (DevicePolicyManager) getSystemService(DEVICE_POLICY_SERVICE);\n        activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);\n        componentName = new ComponentName(this, Controller.class);\n\n        lock = (Button) findViewById(R.id.lock);\n        enable = (Button) findViewById(R.id.enable);\n        disable = (Button) findViewById(R.id.disable);\n        lock.setOnClickListener(this);\n        enable.setOnClickListener(this);\n        disable.setOnClickListener(this);\n\n       \n        \n        dataReceived = (TextView) findViewById(R.id.textview_first);\n        startMqtt();\n    }\n\n\n\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        boolean isActive = devicePolicyManager.isAdminActive(componentName);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (view == lock) {\n            boolean active = devicePolicyManager.isAdminActive(componentName);\n            if(active) {\n                devicePolicyManager.lockNow();\n            } else {\n                Toast.makeText(this, &quot;You need to enable the Admin Device Features&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } else if (view == enable) {\n            Intent intent = new Intent(DevicePolicyManager.ACTION_ADD_DEVICE_ADMIN);\n            intent.putExtra(DevicePolicyManager.EXTRA_DEVICE_ADMIN, componentName);\n            intent.putExtra(DevicePolicyManager.EXTRA_ADD_EXPLANATION,&quot;You Should Enable the app!&quot;);\n            //someActivityResultLauncher.launch(intent);\n            // Caller\n            mGetContent.launch(intent);\n            // Receiver\n\n            //startActivityForResult(intent, RESULT_ENABLE);\n        } else if (view == disable) {\n            devicePolicyManager.removeActiveAdmin(componentName);\n            disable.setVisibility(View.GONE);\n            enable.setVisibility(View.VISIBLE);\n        }\n\n    }\n\n\n    ActivityResultLauncher&lt;Intent&gt; mGetContent = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // Here, no request code\n                        Intent data = result.getData();\n\n                        Toast.makeText(MainActivity.this, &quot;enabled&quot;, Toast.LENGTH_SHORT).show();\n                    }else{\n                        Toast.makeText(MainActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n                if(resultCode== Activity.RESULT_OK  &amp;&amp; requestCode == RESULT_ENABLE){\n                    Toast.makeText(MainActivity.this, &quot;enabled&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(MainActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    /*@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        switch (requestCode){\n            case RESULT_ENABLE:\n                if(resultCode== Activity.RESULT_OK ){\n                    //btn_unblock.setText(&quot;Dissable&quot;);\n                    //btn_block.setVisibility(View.VISIBLE);\n                    Toast.makeText(MainActivity.this, &quot;enabled&quot;, Toast.LENGTH_SHORT).show();\n                }else{\n                    Toast.makeText(MainActivity.this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }*/\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n\n\n\n    // MQTT Code\n\n    private void startMqtt(){\n        mqttHelper = new MqttHelper(getApplicationContext());\n        mqttHelper.mqttAndroidClient.setCallback(new MqttCallbackExtended() {\n            @Override\n            public void connectComplete(boolean b, String s) {\n                Log.w(&quot;Debug&quot;,&quot;Connected&quot;);\n            }\n\n            @Override\n            public void connectionLost(Throwable throwable) {\n\n            }\n\n            @Override\n            public void messageArrived(String topic, MqttMessage mqttMessage) throws Exception {\n                Log.w(&quot;Debug&quot;,mqttMessage.toString());\n                dataReceived.setText(mqttMessage.toString());\n                //mChart.addEntry(Float.valueOf(mqttMessage.toString()));\n            }\n\n            @Override\n            public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\n\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pojo"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683922053,"post_id":76239424,"comment_id":134446322,"body_markdown":"JsonIgnore ignores the field for de-/serialization, you should look into direction: [&quot;json ignore null&quot;](https://stackoverflow.com/q/11757487/592355), [&quot;json ignore unknown&quot;](https://stackoverflow.com/q/5455014/592355) ..and advanced: &quot;json view jackson&quot;","body":"JsonIgnore ignores the field for de-/serialization, you should look into direction: <a href=\"https://stackoverflow.com/q/11757487/592355\">&quot;json ignore null&quot;</a>, <a href=\"https://stackoverflow.com/q/5455014/592355\">&quot;json ignore unknown&quot;</a> ..and advanced: &quot;json view jackson&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9872302,"reputation":46,"user_id":7311451,"display_name":"elpair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683931775,"creation_date":1683931353,"answer_id":76240327,"question_id":76239424,"body_markdown":"You can declare the fourth field as `Optional`. This way you can pass it to both endpoints, but don&#39;t have to pass `field4` for Endpoint-1.\r\n\r\n```java\r\npublic class UserRequest(){\r\n\r\n  private String field1;\r\n  private String field2;\r\n  private String field3;\r\n  private Optional&lt;String&gt; field4;\r\n\r\n}\r\n```\r\n\r\nAnother option is JsonNullable from the [jackson-databind-nullable](https://github.com/OpenAPITools/jackson-databind-nullable), but I usually prefer using `Optional` as it is a standard java type.\r\n\r\n ```java\r\npublic class UserRequest(){\r\n\r\n  private String field1;\r\n  private String field2;\r\n  private String field3;\r\n  private JsonNullable&lt;String&gt; field4;\r\n\r\n}\r\n```","title":"How to not include a field in Request object while communicating to an endpoint?","body":"<p>You can declare the fourth field as <code>Optional</code>. This way you can pass it to both endpoints, but don't have to pass <code>field4</code> for Endpoint-1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserRequest(){\n\n  private String field1;\n  private String field2;\n  private String field3;\n  private Optional&lt;String&gt; field4;\n\n}\n</code></pre>\n<p>Another option is JsonNullable from the <a href=\"https://github.com/OpenAPITools/jackson-databind-nullable\" rel=\"nofollow noreferrer\">jackson-databind-nullable</a>, but I usually prefer using <code>Optional</code> as it is a standard java type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserRequest(){\n\n private String field1;\n private String field2;\n private String field3;\n private JsonNullable&lt;String&gt; field4;\n\n}\n</code></pre>\n"}],"owner":{"account_id":5115401,"reputation":179,"user_id":11035088,"display_name":"Vaibhav Bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683931775,"creation_date":1683920034,"question_id":76239424,"body_markdown":"I am having a POJO UserRequest.java which has 4 fields in it and my use case is that I need to send this POJO as request object with 3 fields to REST Endpoint-1 and as another request object with 4 fields to REST Endpoint-2 (as this one needs 4 fields as input). \r\n\r\n    public class UserRequest(){\r\n    \r\n      private String field1;\r\n      private String field2;\r\n      private String field3;\r\n      private String field4;\r\n    \r\n    }\r\n\r\nSo I want to use same POJO for both REST Endpoints with &#39;field4&#39; to be passed only in 2nd Endpoint. I tried using @JSONIgnore annotation over &#39;field4&#39; but it sends &#39;field4&#39; as null in 1st Endpoint but 1st Endpoint fails as it does not want &#39;field4&#39; at all. Please suggest how can I use same POJO for both Endpoints.","title":"How to not include a field in Request object while communicating to an endpoint?","body":"<p>I am having a POJO UserRequest.java which has 4 fields in it and my use case is that I need to send this POJO as request object with 3 fields to REST Endpoint-1 and as another request object with 4 fields to REST Endpoint-2 (as this one needs 4 fields as input).</p>\n<pre><code>public class UserRequest(){\n\n  private String field1;\n  private String field2;\n  private String field3;\n  private String field4;\n\n}\n</code></pre>\n<p>So I want to use same POJO for both REST Endpoints with 'field4' to be passed only in 2nd Endpoint. I tried using @JSONIgnore annotation over 'field4' but it sends 'field4' as null in 1st Endpoint but 1st Endpoint fails as it does not want 'field4' at all. Please suggest how can I use same POJO for both Endpoints.</p>\n"},{"tags":["java","exception","mocking","mockito"],"comments":[{"owner":{"account_id":18865,"reputation":25722,"user_id":43677,"accept_rate":100,"display_name":"bezmax"},"score":0,"creation_date":1342121312,"post_id":11458963,"comment_id":15125733,"body_markdown":"See `[EDIT]` part of first answer. Maybe you got same problem? http://stackoverflow.com/questions/10828843/powermockito-got-invaliduseofmatchersexception-when-use-matchers-mocking-static","body":"See <code>[EDIT]</code> part of first answer. Maybe you got same problem? <a href=\"http://stackoverflow.com/questions/10828843/powermockito-got-invaliduseofmatchersexception-when-use-matchers-mocking-static\" title=\"powermockito got invaliduseofmatchersexception when use matchers mocking static\">stackoverflow.com/questions/10828843/&hellip;</a>"},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":0,"creation_date":1342133571,"post_id":11458963,"comment_id":15130155,"body_markdown":"so is DBCollection a Mockito mock object?","body":"so is DBCollection a Mockito mock object?"}],"answers":[{"tags":[],"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1342134033,"creation_date":1342134033,"answer_id":11461953,"question_id":11458963,"body_markdown":"I think your results are compatible with the result that would happen if `dbCollection` is not a Mockito-mock (or your method is static or final).  That would mean that a matcher is being used where none can be used; hence the &quot;0 matchers expected, 1 recorded&quot;.","title":"Mockito - 0 Matchers Expected, 1 Recorded (InvalidUseOfMatchersException)","body":"<p>I think your results are compatible with the result that would happen if <code>dbCollection</code> is not a Mockito-mock (or your method is static or final).  That would mean that a matcher is being used where none can be used; hence the \"0 matchers expected, 1 recorded\".</p>\n"},{"tags":[],"owner":{"account_id":2841840,"reputation":1680,"user_id":2441299,"accept_rate":100,"display_name":"ben_joseph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531220564,"creation_date":1531220564,"answer_id":51263541,"question_id":11458963,"body_markdown":"Probably unrelated, but I encountered the same error when I spied a package private method. Changing it to public solved the issue for me.","title":"Mockito - 0 Matchers Expected, 1 Recorded (InvalidUseOfMatchersException)","body":"<p>Probably unrelated, but I encountered the same error when I spied a package private method. Changing it to public solved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":1182909,"reputation":379,"user_id":1157440,"display_name":"micseydel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1575332400,"creation_date":1575332400,"answer_id":59148522,"question_id":11458963,"body_markdown":"This same issue can be reproduced in Scala if you have default arguments. It may look like you&#39;re providing any() for every argument, but you should verify that the method definition doesn&#39;t have any default parameters which might be messing things up.","title":"Mockito - 0 Matchers Expected, 1 Recorded (InvalidUseOfMatchersException)","body":"<p>This same issue can be reproduced in Scala if you have default arguments. It may look like you're providing any() for every argument, but you should verify that the method definition doesn't have any default parameters which might be messing things up.</p>\n"},{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656514961,"creation_date":1656514961,"answer_id":72803669,"question_id":11458963,"body_markdown":"In my case the mocked method was `final`. Removing the `final` from the method signature solved the problem.","title":"Mockito - 0 Matchers Expected, 1 Recorded (InvalidUseOfMatchersException)","body":"<p>In my case the mocked method was <code>final</code>. Removing the <code>final</code> from the method signature solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":10279548,"reputation":1159,"user_id":7806805,"accept_rate":60,"display_name":"Ishan Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683929668,"creation_date":1683929668,"answer_id":76240235,"question_id":11458963,"body_markdown":"This also occurred with me when I was moving tests around and used actual object when stubbing instead of the mock","title":"Mockito - 0 Matchers Expected, 1 Recorded (InvalidUseOfMatchersException)","body":"<p>This also occurred with me when I was moving tests around and used actual object when stubbing instead of the mock</p>\n"}],"owner":{"account_id":1620865,"reputation":325,"user_id":1521583,"display_name":"Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36899,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":11461953,"answer_count":5,"score":18,"last_activity_date":1683929668,"creation_date":1342120372,"question_id":11458963,"body_markdown":"I&#39;m trying to mock up some mongo classes so that I don&#39;t need a connection (fairly standard stuff) but the following code gives me problems:\r\n\r\n    when(dbCollection.find(isA(DBObject.class))).thenReturn(dbCursor);\r\n\r\nRunning this get&#39;s me:\r\n\r\n&gt;org.mockito.exceptions.misusing.InvalidUseOfMatchersException:  \r\n&gt;Invalid use of argument matchers!  \r\n&gt;0 matchers expected, 1 recorded:  \r\n&gt; at ...GridFileManagerTest.beforeClass(GridFileManagerTest.java:67)  \r\n&gt; \r\n&gt; This exception may occur if matchers are combined with raw values:  \r\n&gt; //incorrect: someMethod(anyObject(), &quot;raw String&quot;);\r\n&gt; \r\n&gt; When using matchers, all arguments have to be provided by matchers.  \r\n&gt; For example:  \r\n&gt;     //correct:  \r\n&gt;     someMethod(anyObject(), eq(&quot;String by matcher&quot;));\r\n&gt; \r\n&gt; For more info see javadoc for Matchers class.\r\n\r\n\r\n\r\nIf I were to do this though:\r\n\r\n    when(dbCollection.find(mock(DBObject.class))).thenReturn(dbCursor);\r\n\r\nit no longer has that problem. This doesn&#39;t seem to accomplish what I want though - I want to return the value when the method is called with an object of type DBObject.\r\n\r\nThoughts?\r\n\r\n","title":"Mockito - 0 Matchers Expected, 1 Recorded (InvalidUseOfMatchersException)","body":"<p>I'm trying to mock up some mongo classes so that I don't need a connection (fairly standard stuff) but the following code gives me problems:</p>\n\n<pre><code>when(dbCollection.find(isA(DBObject.class))).thenReturn(dbCursor);\n</code></pre>\n\n<p>Running this get's me:</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:<br>\n  Invalid use of argument matchers!<br>\n  0 matchers expected, 1 recorded:<br>\n  at ...GridFileManagerTest.beforeClass(GridFileManagerTest.java:67)  </p>\n  \n  <p>This exception may occur if matchers are combined with raw values:<br>\n  //incorrect: someMethod(anyObject(), \"raw String\");</p>\n  \n  <p>When using matchers, all arguments have to be provided by matchers.<br>\n  For example:<br>\n      //correct:<br>\n      someMethod(anyObject(), eq(\"String by matcher\"));</p>\n  \n  <p>For more info see javadoc for Matchers class.</p>\n</blockquote>\n\n<p>If I were to do this though:</p>\n\n<pre><code>when(dbCollection.find(mock(DBObject.class))).thenReturn(dbCursor);\n</code></pre>\n\n<p>it no longer has that problem. This doesn't seem to accomplish what I want though - I want to return the value when the method is called with an object of type DBObject.</p>\n\n<p>Thoughts?</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":14870699,"reputation":555,"user_id":10738309,"display_name":"Mrugesh Kadia"},"score":0,"creation_date":1683887150,"post_id":76235358,"comment_id":134438710,"body_markdown":"to check committed offset I am using `kafka-lenses`.","body":"to check committed offset I am using <code>kafka-lenses</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683895300,"post_id":76235358,"comment_id":134440599,"body_markdown":"Why use Flink at all? Kafka Connect or Secor both write Parquet to S3 from Kafka. Also, the code you&#39;ve shown doesn&#39;t write to S3","body":"Why use Flink at all? Kafka Connect or Secor both write Parquet to S3 from Kafka. Also, the code you&#39;ve shown doesn&#39;t write to S3"},{"owner":{"account_id":14870699,"reputation":555,"user_id":10738309,"display_name":"Mrugesh Kadia"},"score":0,"creation_date":1684131648,"post_id":76235358,"comment_id":134466013,"body_markdown":"I want to use `Flink` because we are already using it for all other pipelines. `Kafka Connect` or `Secor` are both good options, but they will increase the tech stack. And regarding the `S3 Parquet Sink`, I am still writing the code and got stuck with `Kafka commits`.","body":"I want to use <code>Flink</code> because we are already using it for all other pipelines. <code>Kafka Connect</code> or <code>Secor</code> are both good options, but they will increase the tech stack. And regarding the <code>S3 Parquet Sink</code>, I am still writing the code and got stuck with <code>Kafka commits</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684151484,"post_id":76235358,"comment_id":134470090,"body_markdown":"Offset Commits are automatic, unless you explicitly disable them (which you haven&#39;t)","body":"Offset Commits are automatic, unless you explicitly disable them (which you haven&#39;t)"},{"owner":{"account_id":14870699,"reputation":555,"user_id":10738309,"display_name":"Mrugesh Kadia"},"score":0,"creation_date":1684211651,"post_id":76235358,"comment_id":134480350,"body_markdown":"but for some reason it is not Commit offsets.","body":"but for some reason it is not Commit offsets."}],"owner":{"account_id":14870699,"reputation":555,"user_id":10738309,"display_name":"Mrugesh Kadia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683927829,"creation_date":1683887082,"question_id":76235358,"body_markdown":"I am writing a pipeline where I have to dump `Kafka` data to `S3` every day.\r\n\r\nThe amount of data is very low (less than 1 million records per day, and the size is 1 KB). Because of this, I want to run this pipeline only once a day.\r\n\r\nIt will consume data from the last committed offset until the latest offset and write the parquet file to S3.\r\n\r\nBut when I am running the Flink pipeline in bounded streaming, sometimes it commits the offset for one partition only, or sometimes it doesn&#39;t even commit the offset for any of the partitions.\r\n\r\n    Kafka Topic Partitions: 3\r\n    Kafka Topic Replication: 1\r\n    Java: 11\r\n    Flink: 1.17\r\n\r\nBut as per logs, it is committing offsets for all partitions:\r\n\r\n```\r\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-1, groupId=flink-batch-test-2] Sending asynchronous auto-commit of offsets {my-topic-name-1=OffsetAndMetadata{offset=7907, leaderEpoch=6, metadata=&#39;&#39;}}\r\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-0, groupId=flink-batch-test-2] Sending asynchronous auto-commit of offsets {my-topic-name-0=OffsetAndMetadata{offset=45198, leaderEpoch=4, metadata=&#39;&#39;}} \r\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-2, groupId=flink-batch-test-2] Sending asynchronous auto-commit of offsets {my-topic-name-2=OffsetAndMetadata{offset=7791, leaderEpoch=2, metadata=&#39;&#39;}}  \r\norg.apache.kafka.clients.consumer.internals.Fetcher          [] - [Consumer clientId=flink-batch-test-2-0, groupId=flink-batch-test-2] Added READ_UNCOMMITTED fetch request for partition my-topic-name-0 at position FetchPosition{offset=45198, offsetEpoch=Optional[4], currentLeader=LeaderAndEpoch{leader=Optional[prefix2.mycluster.com:9092 (id: 1003 rack: null)], epoch=4}} to node prefix2.mycluster.com:9092 (id: 1003 rack: null)  \r\norg.apache.kafka.clients.consumer.internals.Fetcher          [] - [Consumer clientId=flink-batch-test-2-1, groupId=flink-batch-test-2] Added READ_UNCOMMITTED fetch request for partition my-topic-name-1 at position FetchPosition{offset=7907, offsetEpoch=Optional[6], currentLeader=LeaderAndEpoch{leader=Optional[prefix3.mycluster.com:9092 (id: 1004 rack: null)], epoch=6}} to node prefix3.mycluster.com:9092 (id: 1004 rack: null) \r\norg.apache.kafka.clients.consumer.internals.Fetcher          [] - [Consumer clientId=flink-batch-test-2-2, groupId=flink-batch-test-2] Added READ_UNCOMMITTED fetch request for partition my-topic-name-2 at position FetchPosition{offset=7791, offsetEpoch=Optional[2], currentLeader=LeaderAndEpoch{leader=Optional[prefix1.mycluster.com:9092 (id: 1002 rack: null)], epoch=2}} to node prefix1.mycluster.com:9092 (id: 1002 rack: null)  \r\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-2, groupId=flink-batch-test-2] Committed offset 7791 for partition my-topic-name-2\r\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-1, groupId=flink-batch-test-2] Committed offset 7907 for partition my-topic-name-1 \r\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-0, groupId=flink-batch-test-2] Committed offset 45198 for partition my-topic-name-0\r\n```\r\n\r\nSharing my code:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport java.util.Properties;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.consumer.OffsetResetStrategy;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\n\r\nimport org.apache.flink.api.common.RuntimeExecutionMode;\r\nimport org.apache.flink.api.common.functions.MapFunction;\r\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\n\r\nimport org.apache.flink.streaming.api.datastream.DataStream;\r\nimport org.apache.flink.streaming.api.functions.sink.PrintSinkFunction;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n\r\nimport org.apache.flink.connector.kafka.source.KafkaSource;\r\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\r\nimport org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n         final Logger logger = LoggerFactory.getLogger(Main.class);\r\n\r\n        final StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        environment.setRuntimeMode(RuntimeExecutionMode.BATCH);\r\n\r\n        System.out.println(environment);\r\n\r\n        DataStream&lt;String&gt; srcStream\r\n                = environment.fromSource(getKafkaSource(),\r\n                        WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;)\r\n                .name(&quot;kafka source&quot;)\r\n                .uid(&quot;kafka source&quot;)\r\n                .setParallelism(1);\r\n\r\n        srcStream.map(new MapFunction&lt;String, String&gt;() {\r\n            @Override\r\n            public String map(String data) throws Exception {\r\n                return data;\r\n            }\r\n        }).name(&quot;Transformation&quot;);\r\n\r\n        srcStream.addSink(new PrintSinkFunction&lt;&gt;()).name(&quot;Print Sink&quot;);\r\n\r\n\r\n        environment.execute(&quot;test&quot;);\r\n\r\n        environment.close();\r\n\r\n    }\r\n\r\n    public static KafkaSource&lt;String&gt; getKafkaSource(){\r\n\r\n        Properties prop = new Properties();\r\n        prop.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\r\n\r\n        return KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(&quot;prefix1.mycluster.com:9092,prefix2.mycluster.com:9092,prefix3.mycluster.com:9092,prefix4.mycluster.com:9092&quot;)\r\n                .setTopics(&quot;my-topic-name&quot;)\r\n                .setGroupId(&quot;flink-batch-test-2&quot;)\r\n                .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\r\n                .setStartingOffsets(OffsetsInitializer.committedOffsets(OffsetResetStrategy.EARLIEST))\r\n                .setProperties(prop)\r\n                .setBounded(OffsetsInitializer.latest())\r\n                .build();\r\n    }\r\n}\r\n```","title":"Flink Kafka bounded DataStream is not commiting offset to Kafka","body":"<p>I am writing a pipeline where I have to dump <code>Kafka</code> data to <code>S3</code> every day.</p>\n<p>The amount of data is very low (less than 1 million records per day, and the size is 1 KB). Because of this, I want to run this pipeline only once a day.</p>\n<p>It will consume data from the last committed offset until the latest offset and write the parquet file to S3.</p>\n<p>But when I am running the Flink pipeline in bounded streaming, sometimes it commits the offset for one partition only, or sometimes it doesn't even commit the offset for any of the partitions.</p>\n<pre><code>Kafka Topic Partitions: 3\nKafka Topic Replication: 1\nJava: 11\nFlink: 1.17\n</code></pre>\n<p>But as per logs, it is committing offsets for all partitions:</p>\n<pre><code>org.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-1, groupId=flink-batch-test-2] Sending asynchronous auto-commit of offsets {my-topic-name-1=OffsetAndMetadata{offset=7907, leaderEpoch=6, metadata=''}}\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-0, groupId=flink-batch-test-2] Sending asynchronous auto-commit of offsets {my-topic-name-0=OffsetAndMetadata{offset=45198, leaderEpoch=4, metadata=''}} \norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-2, groupId=flink-batch-test-2] Sending asynchronous auto-commit of offsets {my-topic-name-2=OffsetAndMetadata{offset=7791, leaderEpoch=2, metadata=''}}  \norg.apache.kafka.clients.consumer.internals.Fetcher          [] - [Consumer clientId=flink-batch-test-2-0, groupId=flink-batch-test-2] Added READ_UNCOMMITTED fetch request for partition my-topic-name-0 at position FetchPosition{offset=45198, offsetEpoch=Optional[4], currentLeader=LeaderAndEpoch{leader=Optional[prefix2.mycluster.com:9092 (id: 1003 rack: null)], epoch=4}} to node prefix2.mycluster.com:9092 (id: 1003 rack: null)  \norg.apache.kafka.clients.consumer.internals.Fetcher          [] - [Consumer clientId=flink-batch-test-2-1, groupId=flink-batch-test-2] Added READ_UNCOMMITTED fetch request for partition my-topic-name-1 at position FetchPosition{offset=7907, offsetEpoch=Optional[6], currentLeader=LeaderAndEpoch{leader=Optional[prefix3.mycluster.com:9092 (id: 1004 rack: null)], epoch=6}} to node prefix3.mycluster.com:9092 (id: 1004 rack: null) \norg.apache.kafka.clients.consumer.internals.Fetcher          [] - [Consumer clientId=flink-batch-test-2-2, groupId=flink-batch-test-2] Added READ_UNCOMMITTED fetch request for partition my-topic-name-2 at position FetchPosition{offset=7791, offsetEpoch=Optional[2], currentLeader=LeaderAndEpoch{leader=Optional[prefix1.mycluster.com:9092 (id: 1002 rack: null)], epoch=2}} to node prefix1.mycluster.com:9092 (id: 1002 rack: null)  \norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-2, groupId=flink-batch-test-2] Committed offset 7791 for partition my-topic-name-2\norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-1, groupId=flink-batch-test-2] Committed offset 7907 for partition my-topic-name-1 \norg.apache.kafka.clients.consumer.internals.ConsumerCoordinator [] - [Consumer clientId=flink-batch-test-2-0, groupId=flink-batch-test-2] Committed offset 45198 for partition my-topic-name-0\n</code></pre>\n<p>Sharing my code:</p>\n<pre><code>package org.example;\n\nimport org.slf4j.Logger;\nimport java.util.Properties;\nimport org.slf4j.LoggerFactory;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.OffsetResetStrategy;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n\nimport org.apache.flink.api.common.RuntimeExecutionMode;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\n\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.functions.sink.PrintSinkFunction;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n\nimport org.apache.flink.connector.kafka.source.KafkaSource;\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\nimport org.apache.flink.connector.kafka.source.reader.deserializer.KafkaRecordDeserializationSchema;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n         final Logger logger = LoggerFactory.getLogger(Main.class);\n\n        final StreamExecutionEnvironment environment = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        environment.setRuntimeMode(RuntimeExecutionMode.BATCH);\n\n        System.out.println(environment);\n\n        DataStream&lt;String&gt; srcStream\n                = environment.fromSource(getKafkaSource(),\n                        WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;)\n                .name(&quot;kafka source&quot;)\n                .uid(&quot;kafka source&quot;)\n                .setParallelism(1);\n\n        srcStream.map(new MapFunction&lt;String, String&gt;() {\n            @Override\n            public String map(String data) throws Exception {\n                return data;\n            }\n        }).name(&quot;Transformation&quot;);\n\n        srcStream.addSink(new PrintSinkFunction&lt;&gt;()).name(&quot;Print Sink&quot;);\n\n\n        environment.execute(&quot;test&quot;);\n\n        environment.close();\n\n    }\n\n    public static KafkaSource&lt;String&gt; getKafkaSource(){\n\n        Properties prop = new Properties();\n        prop.setProperty(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;true&quot;);\n\n        return KafkaSource.&lt;String&gt;builder()\n                .setBootstrapServers(&quot;prefix1.mycluster.com:9092,prefix2.mycluster.com:9092,prefix3.mycluster.com:9092,prefix4.mycluster.com:9092&quot;)\n                .setTopics(&quot;my-topic-name&quot;)\n                .setGroupId(&quot;flink-batch-test-2&quot;)\n                .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))\n                .setStartingOffsets(OffsetsInitializer.committedOffsets(OffsetResetStrategy.EARLIEST))\n                .setProperties(prop)\n                .setBounded(OffsetsInitializer.latest())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rest","httprequest","postman"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":1,"creation_date":1527501631,"post_id":50563593,"comment_id":88137745,"body_markdown":"Are you using RestController or  simple Controller ?","body":"Are you using RestController or  simple Controller ?"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1527501751,"post_id":50563593,"comment_id":88137830,"body_markdown":"@Ouissal: Refer: https://stackoverflow.com/a/30424031/4358787 and Add Content-Type: application/json and Accept: application/json","body":"@Ouissal: Refer: <a href=\"https://stackoverflow.com/a/30424031/4358787\">stackoverflow.com/a/30424031/4358787</a> and Add Content-Type: application/json and Accept: application/json"},{"owner":{"account_id":1533902,"reputation":1584,"user_id":1430428,"accept_rate":40,"display_name":"piy26"},"score":1,"creation_date":1527501911,"post_id":50563593,"comment_id":88137922,"body_markdown":"@Ouissal Also make sure you have placed JAXB annotation in your Entity i.e. User class","body":"@Ouissal Also make sure you have placed JAXB annotation in your Entity i.e. User class"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1527502042,"post_id":50563593,"comment_id":88138000,"body_markdown":"Why would you need JAXB annotations for JSON conversi&#243;n?","body":"Why would you need JAXB annotations for JSON conversi&#243;n?"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1527502241,"post_id":50563593,"comment_id":88138106,"body_markdown":"Have you configured any Jackson or Gson converters for your application?","body":"Have you configured any Jackson or Gson converters for your application?"},{"owner":{"account_id":1533902,"reputation":1584,"user_id":1430428,"accept_rate":40,"display_name":"piy26"},"score":0,"creation_date":1527502307,"post_id":50563593,"comment_id":88138139,"body_markdown":"@EdwinDalorzo I meant annotation responsible for serializing deserializing to-from json. Just assumed JAXB/Jackson as serializer and hence asked","body":"@EdwinDalorzo I meant annotation responsible for serializing deserializing to-from json. Just assumed JAXB/Jackson as serializer and hence asked"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1527502453,"post_id":50563593,"comment_id":88138221,"body_markdown":"Jackson may use JAXB annotations if the mapper is configured to do so, but that’s not required. On the other hand that would cause an entire different error.","body":"Jackson may use JAXB annotations if the mapper is configured to do so, but that’s not required. On the other hand that would cause an entire different error."},{"owner":{"account_id":13265714,"reputation":339,"user_id":9578616,"display_name":"Rohit Kavthekar"},"score":0,"creation_date":1527503861,"post_id":50563593,"comment_id":88139007,"body_markdown":"May be because Authorization Header..I am not sure but try to remove authorization header.","body":"May be because Authorization Header..I am not sure but try to remove authorization header."},{"owner":{"account_id":6804205,"reputation":1529,"user_id":5720436,"accept_rate":91,"display_name":"Ouissal"},"score":0,"creation_date":1527508138,"post_id":50563593,"comment_id":88141534,"body_markdown":"@RohitKavathekar I tried removing it and still got the same error","body":"@RohitKavathekar I tried removing it and still got the same error"},{"owner":{"account_id":6804205,"reputation":1529,"user_id":5720436,"accept_rate":91,"display_name":"Ouissal"},"score":0,"creation_date":1527508649,"post_id":50563593,"comment_id":88141820,"body_markdown":"@EdwinDalorzo I have edited my question and added my User entity","body":"@EdwinDalorzo I have edited my question and added my User entity"},{"owner":{"account_id":6804205,"reputation":1529,"user_id":5720436,"accept_rate":91,"display_name":"Ouissal"},"score":0,"creation_date":1527511331,"post_id":50563593,"comment_id":88143409,"body_markdown":"https://github.com/Ouissalb/SpringRestApp","body":"<a href=\"https://github.com/Ouissalb/SpringRestApp\" rel=\"nofollow noreferrer\">github.com/Ouissalb/SpringRestApp</a>"},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":0,"creation_date":1588970782,"post_id":50563593,"comment_id":109116121,"body_markdown":"If you land here instead because your `@RequestBody InputStream` declaration isn&#39;t working (nothing to do with JSON mappings), try `@RequestBody InputStreamResource` instead","body":"If you land here instead because your <code>@RequestBody InputStream</code> declaration isn&#39;t working (nothing to do with JSON mappings), try <code>@RequestBody InputStreamResource</code> instead"}],"answers":[{"tags":[],"owner":{"account_id":13300553,"reputation":111,"user_id":9602180,"display_name":"Tryliom"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527501470,"creation_date":1527501470,"answer_id":50563710,"question_id":50563593,"body_markdown":"Set `@Produces(MediaType.APPLICATION_JSON)` to your function to set it in json mime type.\r\n\r\nYou can check [that restapi](https://github.com/Tryliom/library/blob/dev/src/me/alexishaldy/rest/RestHandler.java) for more informations.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>Set <code>@Produces(MediaType.APPLICATION_JSON)</code> to your function to set it in json mime type.</p>\n\n<p>You can check <a href=\"https://github.com/Tryliom/library/blob/dev/src/me/alexishaldy/rest/RestHandler.java\" rel=\"nofollow noreferrer\">that restapi</a> for more informations.</p>\n"},{"tags":[],"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527501848,"creation_date":1527501582,"answer_id":50563746,"question_id":50563593,"body_markdown":"You can try something like\r\n\r\n`@PostMapping(value=&quot;/rest/account/json&quot;, consumes={&quot;application/json&quot;})`","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>You can try something like</p>\n\n<p><code>@PostMapping(value=\"/rest/account/json\", consumes={\"application/json\"})</code></p>\n"},{"tags":[],"owner":{"account_id":6804205,"reputation":1529,"user_id":5720436,"accept_rate":91,"display_name":"Ouissal"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1591777421,"creation_date":1527514245,"answer_id":50567626,"question_id":50563593,"body_markdown":"I was able to solve it by removing @JsonManagedReference.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>I was able to solve it by removing @JsonManagedReference.</p>\n"},{"tags":[],"owner":{"account_id":8359109,"reputation":23,"user_id":9660260,"display_name":"Respect Pub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542813787,"creation_date":1542812628,"answer_id":53414898,"question_id":50563593,"body_markdown":"You specified content-type = application/json. I think you may have to check also &quot;Accept&quot; Header property (application/json)\r\n\r\n[![postman screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m2lbW.png","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>You specified content-type = application/json. I think you may have to check also \"Accept\" Header property (application/json)</p>\n\n<p><a href=\"https://i.stack.imgur.com/m2lbW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m2lbW.png\" alt=\"postman screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":9086895,"reputation":1116,"user_id":6764504,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554898547,"creation_date":1554898547,"answer_id":55612339,"question_id":50563593,"body_markdown":"It clearly says Unsupported Media type which means due to any issue the call to operation cannot be completed. so check what your service operation is asking for and are you sending all the fields correctly.\r\nMost of the time there is mapping issue. Check console for errors.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>It clearly says Unsupported Media type which means due to any issue the call to operation cannot be completed. so check what your service operation is asking for and are you sending all the fields correctly.\nMost of the time there is mapping issue. Check console for errors.</p>\n"},{"tags":[],"owner":{"account_id":7105563,"reputation":325,"user_id":6200142,"display_name":"Himadri Mandal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579254878,"creation_date":1579254878,"answer_id":59784964,"question_id":50563593,"body_markdown":"You can use &quot;application/json&quot; instead\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6bNzg.png","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>You can use \"application/json\" instead</p>\n\n<p><a href=\"https://i.stack.imgur.com/6bNzg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6bNzg.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":18701683,"reputation":211,"user_id":13633769,"display_name":"Klaudia"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1590719295,"creation_date":1590661235,"answer_id":62062351,"question_id":50563593,"body_markdown":"In my case there was a Jackson fail, logged as a WARN:  \r\n\r\n`Failed to evaluate Jackson deserialization for type [[simple type, class ***]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property [...]`\r\n\r\nI had overloaded a setter by accident, so it could not be resolved by Jackson and spring has thrown 415.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>In my case there was a Jackson fail, logged as a WARN:  </p>\n\n<p><code>Failed to evaluate Jackson deserialization for type [[simple type, class ***]]: com.fasterxml.jackson.databind.JsonMappingException: Conflicting setter definitions for property [...]</code></p>\n\n<p>I had overloaded a setter by accident, so it could not be resolved by Jackson and spring has thrown 415.</p>\n"},{"tags":[],"owner":{"account_id":5827564,"reputation":87,"user_id":4593331,"display_name":"Pratik Chaudhari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611732510,"creation_date":1611728133,"answer_id":65913777,"question_id":50563593,"body_markdown":"There can be the case when someone mistakenly keeps 2 getters for the same property and Jackson deserialization fails to evaluate.\r\n\r\nIt throws \r\n```\r\nFailed to evaluate Jackson deserialization for type [[simple type,\r\nclass com.org..*..*]]:\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException:\r\nConflicting getter definitions for property \\&quot;field_name\\&quot;:\r\ncom.org..*..*#getterBName() vs com.org..*..*#gettername()&quot;\r\n```\r\n\r\nIn that case, just remove the extra getter of that field.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>There can be the case when someone mistakenly keeps 2 getters for the same property and Jackson deserialization fails to evaluate.</p>\n<p>It throws</p>\n<pre><code>Failed to evaluate Jackson deserialization for type [[simple type,\nclass com.org..*..*]]:\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException:\nConflicting getter definitions for property \\&quot;field_name\\&quot;:\ncom.org..*..*#getterBName() vs com.org..*..*#gettername()&quot;\n</code></pre>\n<p>In that case, just remove the extra getter of that field.</p>\n"},{"tags":[],"owner":{"account_id":2126278,"reputation":41,"user_id":1888358,"display_name":"legistrate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616267647,"creation_date":1616267647,"answer_id":66725502,"question_id":50563593,"body_markdown":"I was also encountering this Error as WARN with Jackson deserialization. My situation more closely related to the response from Klaudia where I had a member field on my POJO for a Service that I had marked with @JsonIgnore, but I had renamed my getter and setter to getService() and setService() for brevity instead of the variable name which matched a longer named Service Interface. Adding @JsonIgnore to the differently named getter and setter resolved the error.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>I was also encountering this Error as WARN with Jackson deserialization. My situation more closely related to the response from Klaudia where I had a member field on my POJO for a Service that I had marked with @JsonIgnore, but I had renamed my getter and setter to getService() and setService() for brevity instead of the variable name which matched a longer named Service Interface. Adding @JsonIgnore to the differently named getter and setter resolved the error.</p>\n"},{"tags":[],"owner":{"account_id":9594040,"reputation":380,"user_id":7123829,"display_name":"edta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631739768,"creation_date":1631739768,"answer_id":69199760,"question_id":50563593,"body_markdown":"I also encounter this error while using following with a `PATCH` request:\r\n```java\r\npublic Order markOrderAsPayed(@RequestBody final MultiValueMap&lt;String, String&gt; values) {\r\n...\r\n}\r\n```\r\nThe MultiValueMap is from `org.springframework.util`. Changing the Map to `Map&lt;String, String&gt;` resolved the problem for me.\r\n\r\nSorry, but I can&#39;t give an explanation why.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>I also encounter this error while using following with a <code>PATCH</code> request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Order markOrderAsPayed(@RequestBody final MultiValueMap&lt;String, String&gt; values) {\n...\n}\n</code></pre>\n<p>The MultiValueMap is from <code>org.springframework.util</code>. Changing the Map to <code>Map&lt;String, String&gt;</code> resolved the problem for me.</p>\n<p>Sorry, but I can't give an explanation why.</p>\n"},{"tags":[],"owner":{"account_id":7793860,"reputation":87,"user_id":5895767,"display_name":"gautham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635545232,"creation_date":1635545232,"answer_id":69775245,"question_id":50563593,"body_markdown":"may be too late for this post.\r\n\r\nif you can add this media type in your controller class for consumes={MediaType.APPLICATION_JSON_UTF8_VALUE} you can get pass this.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>may be too late for this post.</p>\n<p>if you can add this media type in your controller class for consumes={MediaType.APPLICATION_JSON_UTF8_VALUE} you can get pass this.</p>\n"},{"tags":[],"owner":{"display_name":"user11150317"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644789813,"creation_date":1644789813,"answer_id":71105245,"question_id":50563593,"body_markdown":"Try removing charset from header Content-type, application json only, and it will probably work.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>Try removing charset from header Content-type, application json only, and it will probably work.</p>\n"},{"tags":[],"owner":{"account_id":27289241,"reputation":11,"user_id":20807930,"display_name":"gdthegeek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1671522115,"creation_date":1671366800,"answer_id":74841343,"question_id":50563593,"body_markdown":"I had the same issue when using `@PutMapping` and `@RequestBody` `MultiValueMap&lt;String,String&gt;`. I changed the `MultiValueMap` to Map and it worked, just like what edta had suggested above.","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>I had the same issue when using <code>@PutMapping</code> and <code>@RequestBody</code> <code>MultiValueMap&lt;String,String&gt;</code>. I changed the <code>MultiValueMap</code> to Map and it worked, just like what edta had suggested above.</p>\n"},{"tags":[],"owner":{"account_id":13973190,"reputation":51,"user_id":10091199,"display_name":"Leonardo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683927337,"creation_date":1683927337,"answer_id":76240069,"question_id":50563593,"body_markdown":"In my case \r\nI Had two times the same identifier for jsonProperty in my dto class \r\nWhen I made the request return:\r\n&quot;Content type &#39;application/json;charset=UTF-8&quot;\r\nNot sure why return that error but once I changed the identifier it works.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zeSBb.png","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>In my case\nI Had two times the same identifier for jsonProperty in my dto class\nWhen I made the request return:\n&quot;Content type 'application/json;charset=UTF-8&quot;\nNot sure why return that error but once I changed the identifier it works.</p>\n<p><a href=\"https://i.stack.imgur.com/zeSBb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeSBb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6804205,"reputation":1529,"user_id":5720436,"accept_rate":91,"display_name":"Ouissal"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156700,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":50567626,"answer_count":14,"score":34,"last_activity_date":1683927337,"creation_date":1527501156,"question_id":50563593,"body_markdown":"When I do a POST request on **localhost:8080/api/users** to create a new user I get the following error :\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2018-05-28T09:44:55.704+0000&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;message&quot;: &quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot;,\r\n        &quot;path&quot;: &quot;/api/users/&quot;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the request&#39;s body, JSON (application/json) is selected.\r\n\r\nIt gives the same error even if I remove the Roles and keep it `null`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe header&#39;s content type is application/json as well.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B2FGc.png\r\n  [2]: https://i.stack.imgur.com/pLaj3.png\r\n  [3]: https://i.stack.imgur.com/2W0Ky.png\r\n\r\n\r\nThis is my controller : \r\n\r\n    @PostMapping(&quot;/api/users&quot; )\r\n    public User createUser(@Valid @RequestBody User user) {\r\n    \tsecurityService.autologin(user.getUsername(), user.getPassword());\r\n        return userService.createUser(user);\r\n    }\r\n\r\ncreateUser function in UserService :\r\n\r\n    public User createUser(@Valid @RequestBody User user) {\r\n    \tuser.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n        user.setRoles(new HashSet&lt;&gt;(roleRepository.findAll()));\r\n        return userRepository.save(user);\r\n    }\r\n\r\n\r\n-------\r\nedit\r\n-------\r\nThis is my User class :\r\n\r\n    \r\n\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user&quot;)\r\n\t@EntityListeners(AuditingEntityListener.class)\r\n\t@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \r\n\t\t                  allowGetters = true)\r\n\tpublic class User implements Serializable{\r\n\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t\t\r\n\t\tpublic User() {\r\n\t\t\tsuper();\r\n\t\t\t// TODO Auto-generated constructor stub\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@Column(name = &quot;user_id&quot;)\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate long id;\r\n\r\n\t\t@Column(name = &quot;user_name&quot;)\r\n\t\tprivate String name;\r\n\r\n\t\t@Column(name = &quot;user_email&quot;)\r\n\t\tprivate String email;\r\n\t\t\r\n\t\t@Column(name = &quot;user_password&quot;)\r\n\t\t@NotBlank\r\n\t\tprivate String password;\r\n\t\t\r\n\t\t@Column(name = &quot;user_status&quot;)\r\n\t\tprivate String status;\r\n\t\t\r\n\t\t@Column(name = &quot;user_tel&quot;)\r\n\t\tprivate String tel;\r\n\t\t\r\n\t\t@Column(name = &quot;user_confirmation&quot;)\r\n\t\tprivate String confirmation;\r\n\r\n\t\t@Column(name = &quot;user_birth_date&quot;)\r\n\t\t@Temporal(TemporalType.DATE)\r\n\t\tprivate Date birth_date;\r\n\t\t\r\n\t\t@Column(nullable = false, updatable = false)\r\n\t\t@Temporal(TemporalType.TIMESTAMP)\r\n\t\t@CreatedDate\r\n\t\tprivate Date createdAt;\r\n\r\n\t\t@Column(nullable = false)\r\n\t\t@Temporal(TemporalType.TIMESTAMP)\r\n\t\t@LastModifiedDate\r\n\t\tprivate Date updatedAt;\r\n\r\n\t\t@JsonManagedReference\r\n\t\t@ManyToMany\r\n\t\t@JoinTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\t\tprivate Set&lt;Role&gt; roles;\r\n\t\t\r\n\t\t@Column(name = &quot;username&quot;)\r\n\t\t@NotBlank\r\n\t\tprivate String username;\r\n\t\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\r\n\t\tpublic void setId(long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\tpublic String getUsername() {\r\n\t\t\treturn username;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setUsername(String username) {\r\n\t\t\tthis.username = username;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getEmail() {\r\n\t\t\treturn email;\r\n\t\t}\r\n\r\n\t\tpublic void setEmail(String email) {\r\n\t\t\tthis.email = email;\r\n\t\t}\r\n\r\n\t\tpublic String getPassword() {\r\n\t\t\treturn password;\r\n\t\t}\r\n\r\n\t\tpublic void setPassword(String password) {\r\n\t\t\tthis.password = password;\r\n\t\t}\r\n\r\n\t\tpublic String getStatus() {\r\n\t\t\treturn status;\r\n\t\t}\r\n\r\n\t\tpublic void setStatus(String status) {\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\r\n\t\tpublic String getTel() {\r\n\t\t\treturn tel;\r\n\t\t}\r\n\r\n\t\tpublic void setTel(String tel) {\r\n\t\t\tthis.tel = tel;\r\n\t\t}\r\n\r\n\t\tpublic String getConfirmation() {\r\n\t\t\treturn confirmation;\r\n\t\t}\r\n\r\n\t\tpublic void setConfirmation(String confirmation) {\r\n\t\t\tthis.confirmation = confirmation;\r\n\t\t}\r\n\r\n\t\tpublic Date getBirth_date() {\r\n\t\t\treturn birth_date;\r\n\t\t}\r\n\r\n\t\tpublic void setBirth_date(Date birth_date) {\r\n\t\t\tthis.birth_date = birth_date;\r\n\t\t}\r\n\r\n\t\tpublic Date getCreatedAt() {\r\n\t\t\treturn createdAt;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Date getUpdatedAt() {\r\n\t\t\treturn updatedAt;\r\n\t\t}\r\n\r\n\t\tpublic void setUpdatedAt(Date updatedAt) {\r\n\t\t\tthis.updatedAt = updatedAt;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Set&lt;Role&gt; getRoles() {\r\n\t\t\treturn roles;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t\t\tthis.roles = roles;\r\n\t\t}\r\n\t}\r\n\r\n\r\n","title":"&quot;Content type &#39;application/json;charset=UTF-8&#39; not supported&quot; in Spring Rest application","body":"<p>When I do a POST request on <strong>localhost:8080/api/users</strong> to create a new user I get the following error :</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2018-05-28T09:44:55.704+0000&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;message&quot;: &quot;Content type 'application/json;charset=UTF-8' not supported&quot;,\n    &quot;path&quot;: &quot;/api/users/&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/B2FGc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B2FGc.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the request's body, JSON (application/json) is selected.</p>\n<p>It gives the same error even if I remove the Roles and keep it <code>null</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/pLaj3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pLaj3.png\" alt=\"enter image description here\" /></a></p>\n<p>The header's content type is application/json as well.</p>\n<p><a href=\"https://i.stack.imgur.com/2W0Ky.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2W0Ky.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my controller :</p>\n<pre><code>@PostMapping(&quot;/api/users&quot; )\npublic User createUser(@Valid @RequestBody User user) {\n    securityService.autologin(user.getUsername(), user.getPassword());\n    return userService.createUser(user);\n}\n</code></pre>\n<p>createUser function in UserService :</p>\n<pre><code>public User createUser(@Valid @RequestBody User user) {\n    user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n    user.setRoles(new HashSet&lt;&gt;(roleRepository.findAll()));\n    return userRepository.save(user);\n}\n</code></pre>\n<hr />\n<h2>edit</h2>\n<p>This is my User class :</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \n                      allowGetters = true)\npublic class User implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    \n    \n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    @Id\n    @Column(name = &quot;user_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;user_name&quot;)\n    private String name;\n\n    @Column(name = &quot;user_email&quot;)\n    private String email;\n    \n    @Column(name = &quot;user_password&quot;)\n    @NotBlank\n    private String password;\n    \n    @Column(name = &quot;user_status&quot;)\n    private String status;\n    \n    @Column(name = &quot;user_tel&quot;)\n    private String tel;\n    \n    @Column(name = &quot;user_confirmation&quot;)\n    private String confirmation;\n\n    @Column(name = &quot;user_birth_date&quot;)\n    @Temporal(TemporalType.DATE)\n    private Date birth_date;\n    \n    @Column(nullable = false, updatable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @CreatedDate\n    private Date createdAt;\n\n    @Column(nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    private Date updatedAt;\n\n    @JsonManagedReference\n    @ManyToMany\n    @JoinTable(name = &quot;user_role&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles;\n    \n    @Column(name = &quot;username&quot;)\n    @NotBlank\n    private String username;\n    \n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n    \n    public void setUsername(String username) {\n        this.username = username;\n    }\n    \n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getTel() {\n        return tel;\n    }\n\n    public void setTel(String tel) {\n        this.tel = tel;\n    }\n\n    public String getConfirmation() {\n        return confirmation;\n    }\n\n    public void setConfirmation(String confirmation) {\n        this.confirmation = confirmation;\n    }\n\n    public Date getBirth_date() {\n        return birth_date;\n    }\n\n    public void setBirth_date(Date birth_date) {\n        this.birth_date = birth_date;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n    \n    public Date getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n    \n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n    \n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","jvm","macos-ventura","jvm-crash"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1683732675,"post_id":76219898,"comment_id":134412745,"body_markdown":"The `hs_err_pid20099.log` is created by the crashed Java VM, not by Eclipse. In the launch configuration hit the _Show Command Line_ button and run it on the command line outside of Eclipse. Probably you will get the same. If so, does reinstalling the Oracle or [a Java 8 JRE or JDK from a different vendor](https://adoptium.net/marketplace/?version=8) work?","body":"The <code>hs_err_pid20099.log</code> is created by the crashed Java VM, not by Eclipse. In the launch configuration hit the <i>Show Command Line</i> button and run it on the command line outside of Eclipse. Probably you will get the same. If so, does reinstalling the Oracle or <a href=\"https://adoptium.net/marketplace/?version=8\" rel=\"nofollow noreferrer\">a Java 8 JRE or JDK from a different vendor</a> work?"},{"owner":{"account_id":7213445,"reputation":1,"user_id":8556029,"display_name":"Mahmoud Mansour"},"score":0,"creation_date":1683790099,"post_id":76219898,"comment_id":134421147,"body_markdown":"@howlger Thanks for the response, i tried from the command line but it didn&#39;t work too. I have also tried different versions of the JDK like Oracle, temurin, and adoptopenjdk and all of them are giving the same error.","body":"@howlger Thanks for the response, i tried from the command line but it didn&#39;t work too. I have also tried different versions of the JDK like Oracle, temurin, and adoptopenjdk and all of them are giving the same error."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1683794740,"post_id":76219898,"comment_id":134422113,"body_markdown":"Your code or a dependency uses a native library (*.so file) which seems to be broken by updating macOS. The solution might be updating the dependency containing the native library as well. Otherwise, make sure it has been reported to the library vendor.","body":"Your code or a dependency uses a native library (*.so file) which seems to be broken by updating macOS. The solution might be updating the dependency containing the native library as well. Otherwise, make sure it has been reported to the library vendor."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1683835015,"post_id":76219898,"comment_id":134431518,"body_markdown":"Reinstall latest version of java 8.","body":"Reinstall latest version of java 8."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1683872109,"post_id":76219898,"comment_id":134435806,"body_markdown":"@Thorbj&#248;rnRavnAndersen According to the error message not the Java VM itself crashes, but a native library in `libobjc.A.dylib` (_&quot;The crash happened outside the Java Virtual Machine in native code.&quot;_). I overlooked this in my first comment as well.","body":"@Thorbj&#248;rnRavnAndersen According to the error message not the Java VM itself crashes, but a native library in <code>libobjc.A.dylib</code> (<i>&quot;The crash happened outside the Java Virtual Machine in native code.&quot;</i>). I overlooked this in my first comment as well."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1683875380,"post_id":76219898,"comment_id":134436293,"body_markdown":"@howlger it is still most likely triggered by a bug in the JVM which may have been found and fixed by now.","body":"@howlger it is still most likely triggered by a bug in the JVM which may have been found and fixed by now."},{"owner":{"account_id":7213445,"reputation":1,"user_id":8556029,"display_name":"Mahmoud Mansour"},"score":0,"creation_date":1683926318,"post_id":76219898,"comment_id":134447051,"body_markdown":"I got it fixed by adding the -nosplash command to the program arguments as in the accepted answer below. I don&#39;t know if this is macOS specific or it has to do with an eclipse splash screen or something. If anyone knows more information about this command it would be great.","body":"I got it fixed by adding the -nosplash command to the program arguments as in the accepted answer below. I don&#39;t know if this is macOS specific or it has to do with an eclipse splash screen or something. If anyone knows more information about this command it would be great."}],"answers":[{"tags":[],"owner":{"account_id":7213445,"reputation":1,"user_id":8556029,"display_name":"Mahmoud Mansour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683926010,"creation_date":1683925969,"answer_id":76239969,"question_id":76219898,"body_markdown":"The issue was resolved by adding the command **-nosplash** to the program arguments in the launch configuration as suggested by Till Brychcy on this [eclipse bug thread](https://bugs.eclipse.org/bugs/show_bug.cgi?id=538377).","title":"JVM Fatal Error After Ventura 13.3.1 (a) Update","body":"<p>The issue was resolved by adding the command <strong>-nosplash</strong> to the program arguments in the launch configuration as suggested by Till Brychcy on this <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=538377\" rel=\"nofollow noreferrer\">eclipse bug thread</a>.</p>\n"}],"owner":{"account_id":7213445,"reputation":1,"user_id":8556029,"display_name":"Mahmoud Mansour"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76239969,"answer_count":1,"score":0,"last_activity_date":1683926010,"creation_date":1683730490,"question_id":76219898,"body_markdown":"Recently i updated my MacBook to Ventura coming from Big Sur and i&#39;m having an error with the JVM when trying to start a java 8 project from eclipse. It was working fine on Big Sur. These problems below started showing up after the update.\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007ff811489d8b, pid=20099, tid=0x0000000000000103\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (8.0_371) (build 1.8.0_371-b11)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.371-b11 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# C  [libobjc.A.dylib+0x1ad8b]  -[NSObject superclass]+0x11\r\n#\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# An error report file with more information is saved as:\r\n# /Applications/Eclipse.app/Contents/MacOS/hs_err_pid20099.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n```\r\n\r\nFrom [oracle&#39;s documentation](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/crashes001.html) i found out that the **C** before the frame **\\[libobjc.A.dylib+0x1ad8b\\]  -\\[NSObject superclass\\]+0x11** indicates it is a native code error.\r\n\r\nAnd when i added the **-Xcheck:jni** VM argument i started seeing these warnings in the logs\r\n\r\n```WARNING: JNI local refs: 386, exceeds capacity: 34\r\nWARNING: JNI local refs: 385, exceeds capacity: 33\r\nWARNING: JNI local refs: 385, exceeds capacity: 33\r\nWARNING: JNI local refs: 385, exceeds capacity: 33\r\n```\r\n\r\nI don&#39;t know if this something critical or not. But i tried different types of JDK 8 and the problem still persists.\r\n\r\nRight after this crash a ticket to Apple is automatically submitted including this information\r\n\r\n[Java quit unexpectedly](https://developer.apple.com/forums/content/attachment/9b683e8b-4b88-404f-a342-0dea3ddbb234)\r\n\r\nHere is the hs_err_pid20099.log log created by eclipse\r\n\r\n[Logs](https://developer.apple.com/forums/content/attachment/8e6f8e35-64a9-4903-88cf-4be1e047cc37)\r\n\r\nThanks in advance.","title":"JVM Fatal Error After Ventura 13.3.1 (a) Update","body":"<p>Recently i updated my MacBook to Ventura coming from Big Sur and i'm having an error with the JVM when trying to start a java 8 project from eclipse. It was working fine on Big Sur. These problems below started showing up after the update.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007ff811489d8b, pid=20099, tid=0x0000000000000103\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_371) (build 1.8.0_371-b11)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.371-b11 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# C  [libobjc.A.dylib+0x1ad8b]  -[NSObject superclass]+0x11\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /Applications/Eclipse.app/Contents/MacOS/hs_err_pid20099.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/crashes001.html\" rel=\"nofollow noreferrer\">oracle's documentation</a> i found out that the <strong>C</strong> before the frame <strong>[libobjc.A.dylib+0x1ad8b]  -[NSObject superclass]+0x11</strong> indicates it is a native code error.</p>\n<p>And when i added the <strong>-Xcheck:jni</strong> VM argument i started seeing these warnings in the logs</p>\n<pre><code>WARNING: JNI local refs: 385, exceeds capacity: 33\nWARNING: JNI local refs: 385, exceeds capacity: 33\nWARNING: JNI local refs: 385, exceeds capacity: 33\n</code></pre>\n<p>I don't know if this something critical or not. But i tried different types of JDK 8 and the problem still persists.</p>\n<p>Right after this crash a ticket to Apple is automatically submitted including this information</p>\n<p><a href=\"https://developer.apple.com/forums/content/attachment/9b683e8b-4b88-404f-a342-0dea3ddbb234\" rel=\"nofollow noreferrer\">Java quit unexpectedly</a></p>\n<p>Here is the hs_err_pid20099.log log created by eclipse</p>\n<p><a href=\"https://developer.apple.com/forums/content/attachment/8e6f8e35-64a9-4903-88cf-4be1e047cc37\" rel=\"nofollow noreferrer\">Logs</a></p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android-fragments"],"comments":[{"owner":{"account_id":26683793,"reputation":25,"user_id":20293401,"display_name":"noah g"},"score":0,"creation_date":1684257290,"post_id":76239972,"comment_id":134490849,"body_markdown":"@JonR85 do you see what might be wrong with my Android Studio fragments seemingly creating a new unusable thread when continuing to the home fragment after switching through the dashboard and notifications fragments?","body":"@JonR85 do you see what might be wrong with my Android Studio fragments seemingly creating a new unusable thread when continuing to the home fragment after switching through the dashboard and notifications fragments?"}],"owner":{"account_id":26683793,"reputation":25,"user_id":20293401,"display_name":"noah g"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683925988,"creation_date":1683925988,"question_id":76239972,"body_markdown":"In AndroidStudio I am creating a project that is for stocks/finance, and I realized halfway through making it that when I ran the Android Emulator (Pixel 5 - API 33) and after cycling through my home, dashboard, and notifications fragments that when I return to the home fragment the switches (Stock News Filter, and Earnings Beat Filter) no longer work when I click them? They only work when I stay in the tab and don&#39;t switch fragments. I have posted my MainActivity.java and a new file I had created called StockiestService.java in this [pastebin](https://pastebin.com/gfXTcbxs): https://pastebin.com/gfXTcbxs\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n \r\n        com.example.stockiest.databinding.ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n```\r\n\r\nI had attempted to edit the onDestroy code a little because I had assumed somehow my first fragment would destroy after switching to different tabs but this didn&#39;t work.\r\n\r\nI also attempted to re-write my onCreate function in my MainActivity.java because I assumed somehow it was only onCreating certain portions of the code one time.\r\n\r\nI&#39;d really appreciate some help because I am quite lost on where I went wrong,\r\nThanks so much in advance!","title":"AndroidStudio fragment code stop working after cycling through other fragments","body":"<p>In AndroidStudio I am creating a project that is for stocks/finance, and I realized halfway through making it that when I ran the Android Emulator (Pixel 5 - API 33) and after cycling through my home, dashboard, and notifications fragments that when I return to the home fragment the switches (Stock News Filter, and Earnings Beat Filter) no longer work when I click them? They only work when I stay in the tab and don't switch fragments. I have posted my MainActivity.java and a new file I had created called StockiestService.java in this <a href=\"https://pastebin.com/gfXTcbxs\" rel=\"nofollow noreferrer\">pastebin</a>: <a href=\"https://pastebin.com/gfXTcbxs\" rel=\"nofollow noreferrer\">https://pastebin.com/gfXTcbxs</a></p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n \n        com.example.stockiest.databinding.ActivityMainBinding binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n</code></pre>\n<p>I had attempted to edit the onDestroy code a little because I had assumed somehow my first fragment would destroy after switching to different tabs but this didn't work.</p>\n<p>I also attempted to re-write my onCreate function in my MainActivity.java because I assumed somehow it was only onCreating certain portions of the code one time.</p>\n<p>I'd really appreciate some help because I am quite lost on where I went wrong,\nThanks so much in advance!</p>\n"},{"tags":["java","jakarta-ee","db2","websphere-commerce"],"answers":[{"tags":[],"owner":{"account_id":3538238,"reputation":2841,"user_id":2955996,"accept_rate":100,"display_name":"ashokramcse"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1396264597,"creation_date":1396264194,"answer_id":22760068,"question_id":22659970,"body_markdown":"This issue can be solved by adding `progressiveStreaming=2;` argument to the connection url\r\n\r\nThe fully specified Connection URL was to be given as below:\r\n\r\n    jdbc:db2://localhost:50000/SAMPLE:progressiveStreaming=2;\r\n\r\nIncase you have exception on that parameter add the following to it:\r\n\r\n    jdbc:db2://localhost:50000/SAMPLE:driverType=4;fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;\r\n\r\nIt is preferred to use `db2jcc4.jar`","title":"Lob is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>This issue can be solved by adding <code>progressiveStreaming=2;</code> argument to the connection url</p>\n\n<p>The fully specified Connection URL was to be given as below:</p>\n\n<pre><code>jdbc:db2://localhost:50000/SAMPLE:progressiveStreaming=2;\n</code></pre>\n\n<p>Incase you have exception on that parameter add the following to it:</p>\n\n<pre><code>jdbc:db2://localhost:50000/SAMPLE:driverType=4;fullyMaterializeLobData=true;fullyMaterializeInputStreams=true;progressiveStreaming=2;progresssiveLocators=2;\n</code></pre>\n\n<p>It is preferred to use <code>db2jcc4.jar</code></p>\n"},{"tags":[],"owner":{"account_id":8359114,"reputation":51,"user_id":6278193,"display_name":"vvg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531747984,"creation_date":1531747547,"answer_id":51362940,"question_id":22659970,"body_markdown":"    If everything has worked earlier with same code...but the issue came up after db2 db change, then try below configuration..\r\n    db2set DB2_RESTRICT_DDF=TRUE\r\n   It worked for me..","title":"Lob is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<pre><code>If everything has worked earlier with same code...but the issue came up after db2 db change, then try below configuration..\ndb2set DB2_RESTRICT_DDF=TRUE\n</code></pre>\n\n<p>It worked for me..</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683925984,"creation_date":1683925984,"answer_id":76239970,"question_id":22659970,"body_markdown":"Since it is too long for a comment and I was researching for some time, here is some **explanation** why `progressiveStreaming=2;` works:\r\n\r\nIt is a special parameter for the DB2 JDBC driver that changes the way the driver handles Large Objects (LOBs).\r\n\r\nIf the parameter is included in the JDBC URL, it tells the DB2 JDBC driver to stream LOB data &quot;progressively&quot;. This means that the driver will not load the LOB data into memory all at once, but will instead load it in small chunks or &quot;chunks&quot; as you access the data.\r\n\r\nIn most cases, it is possible to access LOB data even after the ResultSet is closed. This is because the JDBC driver can still access the underlying LOB data in the database even after the ResultSet is closed.\r\n\r\nHere is an example of how you could use the parameter in your JDBC URL:\r\n\r\n    String url = &quot;jdbc:db2://localhost:50000/MYDB:progressiveStreaming=2;&quot;;\r\n\r\nPlease note that the `progressiveStreaming=2;` parameter only works with certain versions of the DB2 JDBC driver. Make sure that you are using a supported driver version.","title":"Lob is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>Since it is too long for a comment and I was researching for some time, here is some <strong>explanation</strong> why <code>progressiveStreaming=2;</code> works:</p>\n<p>It is a special parameter for the DB2 JDBC driver that changes the way the driver handles Large Objects (LOBs).</p>\n<p>If the parameter is included in the JDBC URL, it tells the DB2 JDBC driver to stream LOB data &quot;progressively&quot;. This means that the driver will not load the LOB data into memory all at once, but will instead load it in small chunks or &quot;chunks&quot; as you access the data.</p>\n<p>In most cases, it is possible to access LOB data even after the ResultSet is closed. This is because the JDBC driver can still access the underlying LOB data in the database even after the ResultSet is closed.</p>\n<p>Here is an example of how you could use the parameter in your JDBC URL:</p>\n<pre><code>String url = &quot;jdbc:db2://localhost:50000/MYDB:progressiveStreaming=2;&quot;;\n</code></pre>\n<p>Please note that the <code>progressiveStreaming=2;</code> parameter only works with certain versions of the DB2 JDBC driver. Make sure that you are using a supported driver version.</p>\n"}],"owner":{"account_id":1705386,"reputation":5807,"user_id":1564528,"accept_rate":30,"display_name":"Just_another_developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14755,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1683925984,"creation_date":1395834260,"question_id":22659970,"body_markdown":"I am using IBM websphere commerce and db2, have following piece of code \r\n\r\n    Clob clobVar = null;\r\n    if (result.elementAt(3) != null)\r\n        clobVar = (Clob) result.elementAt(3);\r\n\t\t\r\n    if (clobVar == null) {\r\n        infoTable.put(&quot;EInfo&quot;, &quot;&quot;);\r\n    } else {\r\n        stringTemp = clobVar.getSubString(1, (int) clobVar.length());\r\n        infoTable.put(&quot;EInfo&quot;, stringTemp);\t\r\n    }\r\n\r\n\r\nCode works fine till\r\n\r\n    clobVar = (Clob) result.elementAt(3);\r\n\r\nbut as soon as execution comes to\r\n      \r\n    stringTemp = clobVar.getSubString(1, (int) clobVar.length());\r\n\r\nSystem throws an exception \r\n\r\n**[jcc][10120][11936][4.3.111] Invalid operation: Lob is closed. ERRORCODE=-4470, SQLSTATE=null**\r\n\r\nWhat I am doing wrong?\r\n\r\nHow to resolve this issue?","title":"Lob is closed. ERRORCODE=-4470, SQLSTATE=null","body":"<p>I am using IBM websphere commerce and db2, have following piece of code </p>\n\n<pre><code>Clob clobVar = null;\nif (result.elementAt(3) != null)\n    clobVar = (Clob) result.elementAt(3);\n\nif (clobVar == null) {\n    infoTable.put(\"EInfo\", \"\");\n} else {\n    stringTemp = clobVar.getSubString(1, (int) clobVar.length());\n    infoTable.put(\"EInfo\", stringTemp); \n}\n</code></pre>\n\n<p>Code works fine till</p>\n\n<pre><code>clobVar = (Clob) result.elementAt(3);\n</code></pre>\n\n<p>but as soon as execution comes to</p>\n\n<pre><code>stringTemp = clobVar.getSubString(1, (int) clobVar.length());\n</code></pre>\n\n<p>System throws an exception </p>\n\n<p><strong>[jcc][10120][11936][4.3.111] Invalid operation: Lob is closed. ERRORCODE=-4470, SQLSTATE=null</strong></p>\n\n<p>What I am doing wrong?</p>\n\n<p>How to resolve this issue?</p>\n"},{"tags":["java","gradle","junit"],"owner":{"account_id":9185667,"reputation":55,"user_id":6827990,"display_name":"Ramesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683925742,"creation_date":1683925742,"question_id":76239953,"body_markdown":"I am starting Junits for existing complex  project, we are using gradle. I have added below script in dependencies for junits\r\n\r\n      dependencies {\r\n\t    testImplementation(&#39;org.junit.jupiter:junit-jupiter:5.8.2&#39;)\r\n\t    testRuntimeOnly(&#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;)\r\n     }\r\n\r\n     test {\r\n        systemProperties &#39;property&#39;: &#39;value&#39;\r\n        useJUnitPlatform()    \r\n \r\n        filter {\r\n          excludeTestsMatching &quot;com.xxx.xxx.*&quot;\r\n          includeTestsMatching &quot;com.xxx.sfTasks.*&quot;\r\n        }\r\n       \r\n      }\r\n\r\n\r\nThe line 16 from test class, its a class from main and this test case is for this main class, it looks like test class is not able to access main class at test runtime.\r\nXXXCustomDdExtractTask task = new XXXCustomDdExtractTask();  // Line 16 from test class.\r\n\r\ngradle test is failing with below error, please advise.\r\n\r\n        ERROR:\r\n        &gt; Task :test\r\n        XXXCustomDdExtractTaskTest &gt; test() FAILED\r\n        java.lang.NoClassDefFoundError at XXXCustomDdExtractTaskTest.java:16\r\n         Caused by: java.lang.ClassNotFoundException at XXXCustomDdExtractTaskTest.java:16***\r\n\r\n","title":"ClassNotFoundException in Gradle Junit test failure","body":"<p>I am starting Junits for existing complex  project, we are using gradle. I have added below script in dependencies for junits</p>\n<pre><code>  dependencies {\n    testImplementation('org.junit.jupiter:junit-jupiter:5.8.2')\n    testRuntimeOnly('org.junit.jupiter:junit-jupiter-engine:5.8.2')\n }\n\n test {\n    systemProperties 'property': 'value'\n    useJUnitPlatform()    \n\n    filter {\n      excludeTestsMatching &quot;com.xxx.xxx.*&quot;\n      includeTestsMatching &quot;com.xxx.sfTasks.*&quot;\n    }\n   \n  }\n</code></pre>\n<p>The line 16 from test class, its a class from main and this test case is for this main class, it looks like test class is not able to access main class at test runtime.\nXXXCustomDdExtractTask task = new XXXCustomDdExtractTask();  // Line 16 from test class.</p>\n<p>gradle test is failing with below error, please advise.</p>\n<pre><code>    ERROR:\n    &gt; Task :test\n    XXXCustomDdExtractTaskTest &gt; test() FAILED\n    java.lang.NoClassDefFoundError at XXXCustomDdExtractTaskTest.java:16\n     Caused by: java.lang.ClassNotFoundException at XXXCustomDdExtractTaskTest.java:16***\n</code></pre>\n"},{"tags":["java","arraylist","collections"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1683918873,"post_id":76239292,"comment_id":134445761,"body_markdown":"The first snippet&#39;s list won&#39;t be unmodifiable, I think, and will be an array list. `toList` can return whatever kind of list it wants, and is unmodifiable.","body":"The first snippet&#39;s list won&#39;t be unmodifiable, I think, and will be an array list. <code>toList</code> can return whatever kind of list it wants, and is unmodifiable."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1683918888,"post_id":76239292,"comment_id":134445766,"body_markdown":"Only probably reason is either bad code or `inventory.getListData()` is returning an unmodifiable list which needs to be copied into a modifiable list.","body":"Only probably reason is either bad code or <code>inventory.getListData()</code> is returning an unmodifiable list which needs to be copied into a modifiable list."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683920098,"post_id":76239292,"comment_id":134445986,"body_markdown":"[documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()) of `toList()`: &quot;The returned List is unmodifiable ... There are no guarantees on the implementation type or serializability of the returned List&quot; (and it is NOT &quot;*returning a new List containing the List*&quot; - but more like returning a new list with the content of another list)","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">documentation</a> of <code>toList()</code>: &quot;The returned List is unmodifiable ... There are no guarantees on the implementation type or serializability of the returned List&quot; (and it is NOT &quot;<i>returning a new List containing the List</i>&quot; - but more like returning a new list with the content of another list)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683925155,"post_id":76239292,"comment_id":134446861,"body_markdown":"Note that you can get a mutable result more efficiently via `.toCollection(ArrayList::new)`","body":"Note that you can get a mutable result more efficiently via <code>.toCollection(ArrayList::new)</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684136844,"post_id":76239292,"comment_id":134466990,"body_markdown":"@shmosel using `.toCollection(ArrayList::new)` is not necessarily more efficient than `new ArrayList&lt;&gt;(… .toList())`. That depends on the nature of the stream.","body":"@shmosel using <code>.toCollection(ArrayList::new)</code> is not necessarily more efficient than <code>new ArrayList&lt;&gt;(… .toList())</code>. That depends on the nature of the stream."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684165935,"post_id":76239292,"comment_id":134473789,"body_markdown":"@Holger For example?","body":"@Holger For example?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684223038,"post_id":76239292,"comment_id":134482114,"body_markdown":"@shmosel the collector has no hints about the stream size, hence, filling an `ArrayList` is subject to copy operations when the capacity has to be increased. In contrast, the `toList()` operation of the `Stream` has the knowledge and is on par with `toArray`. Even when the the size is not known, the spined buffer approach is more efficient than adding to an `ArrayList`. Passing the immutable list to `ArrayList`’s constructor bears just one copy operation. So for large streams, the total number of copy operations can be smaller with `new ArrayList&lt;&gt;(… .toList())`. Especially w parallel stream…","body":"@shmosel the collector has no hints about the stream size, hence, filling an <code>ArrayList</code> is subject to copy operations when the capacity has to be increased. In contrast, the <code>toList()</code> operation of the <code>Stream</code> has the knowledge and is on par with <code>toArray</code>. Even when the the size is not known, the spined buffer approach is more efficient than adding to an <code>ArrayList</code>. Passing the immutable list to <code>ArrayList</code>’s constructor bears just one copy operation. So for large streams, the total number of copy operations can be smaller with <code>new ArrayList&lt;&gt;(… .toList())</code>. Especially w parallel stream…"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683925073,"creation_date":1683925073,"answer_id":76239902,"question_id":76239292,"body_markdown":"&gt; returning a new List containing the List\r\n\r\n&gt; `new ArrayList&lt;&gt;(someList)`\r\n\r\nYou have misunderstood a few things. __This does not create a list containing a list__.\r\n\r\nThis makes a new arraylist (i.e. it has the performance charactistics of an arraylist and uses arraylist&#39;s mechanics: A backing array that is grown as needed), and then fills it with every item in `someList`. In other words, it makes a copy of `someList`. Lets say someList is an instance of LinkedList, it doesn&#39;t make another LinkedList - it makes an ArrayList containing the same elements that the linked list did at the time you called `new ArrayList&lt;&gt;(thatList)` - from there on out they can start diverging.\r\n\r\nThe difference is: `.toList()` returns an unmodifiable list. By making a new arraylist as a clone of this list, you then get to return an arraylist that is modifiable.\r\n\r\nThe first snippet is __highly suspect__ - why is some intermediate method doing the effort of making that a mutable list? Making that copy can be quite an expensive operation and normally a mutable list isn&#39;t necessary - hence, this first method is badly designed. If the caller to `retrieveDataFromInventory` wants to use that list as a &#39;scratch space&#39; - it can make its own copy, that&#39;s not worth making a second method for.\r\n\r\nA few possible explanations:\r\n\r\n## Misunderstanding of defensive copying\r\n\r\nWhen you have a mutable object that represents internal state (i.e. state that your code needs to control - i.e. state that you don&#39;t want to just change out from under your feet because some other code in perhaps even some other thread is messing with it directly), you don&#39;t want to hand refs to those objects out in public methods. Instead, you&#39;d make a copy so that any messing is done to a copy and not to your internal state. However, this is __not relevant here__ - stream already makes a copy. There is no need to copy the copy. The author misunderstood the principle of making defensive copies and has misapplied the rule here.\r\n\r\n## Following older API design\r\n\r\nIt is possible that the author made this method in the distant past, without streams; for example like this:\r\n\r\n```\r\nvar out = new ArrayList&lt;Data&gt;();\r\nfor (var data : inventory.getListData()) {\r\n  if (!.... (filter here)....) out.add(data);\r\n}\r\nreturn out;\r\n```\r\n\r\nwhich does the same thing as the methods you pasted, except, that one really does return a mutable list specifically, and if the docs of this method indicate that this is something callers get to rely on (the API docs spell out: Hey, that list is mutable), then this rewrite is __a bad idea__ and should be unwound - now you&#39;re making a second copy for the highly dubious benefit of avoiding some braces. This is very much not worth it - either one is equally readable.\r\n\r\nHowever, shiny new tools and all that - a few folks have gone far too far in refactoring their code and gone a little lambda crazy.\r\n\r\n## Following fallout of an older API implementation detail\r\n\r\nWhat&#39;s more likely is the exact same situation as above, except, the javadoc __do not__ spell out that the list can be messed with, but users of this API have assumed it; replacing it with the `.stream().toList()` code breaks users of the library. The right move is tricky - however, generally, it is a slightly better idea to just &#39;break&#39; - you never promised that the list would be mutable, so any code that mutates it is at fault here, and you should just update this code and then let the maintainers that made the bad assumption fix it when they get around to it.\r\n\r\nThis principle is a complicated concept, and has a name: [Hyrum&#39;s Law](https://www.hyrumslaw.com). The correct choice (bend over backwards to support &quot;API abusers&quot;, _or_, cause downstream users of your code to get bugs simply because they upgraded their dependency on your code) depends on the situation and is beyond the scope of Stack Overflow (because, it&#39;s opinions and not objectively decidable except on a case-by-case basis).\r\n","title":"Why sometimes returning a new List containing the List?","body":"<blockquote>\n<p>returning a new List containing the List</p>\n</blockquote>\n<blockquote>\n<p><code>new ArrayList&lt;&gt;(someList)</code></p>\n</blockquote>\n<p>You have misunderstood a few things. <strong>This does not create a list containing a list</strong>.</p>\n<p>This makes a new arraylist (i.e. it has the performance charactistics of an arraylist and uses arraylist's mechanics: A backing array that is grown as needed), and then fills it with every item in <code>someList</code>. In other words, it makes a copy of <code>someList</code>. Lets say someList is an instance of LinkedList, it doesn't make another LinkedList - it makes an ArrayList containing the same elements that the linked list did at the time you called <code>new ArrayList&lt;&gt;(thatList)</code> - from there on out they can start diverging.</p>\n<p>The difference is: <code>.toList()</code> returns an unmodifiable list. By making a new arraylist as a clone of this list, you then get to return an arraylist that is modifiable.</p>\n<p>The first snippet is <strong>highly suspect</strong> - why is some intermediate method doing the effort of making that a mutable list? Making that copy can be quite an expensive operation and normally a mutable list isn't necessary - hence, this first method is badly designed. If the caller to <code>retrieveDataFromInventory</code> wants to use that list as a 'scratch space' - it can make its own copy, that's not worth making a second method for.</p>\n<p>A few possible explanations:</p>\n<h2>Misunderstanding of defensive copying</h2>\n<p>When you have a mutable object that represents internal state (i.e. state that your code needs to control - i.e. state that you don't want to just change out from under your feet because some other code in perhaps even some other thread is messing with it directly), you don't want to hand refs to those objects out in public methods. Instead, you'd make a copy so that any messing is done to a copy and not to your internal state. However, this is <strong>not relevant here</strong> - stream already makes a copy. There is no need to copy the copy. The author misunderstood the principle of making defensive copies and has misapplied the rule here.</p>\n<h2>Following older API design</h2>\n<p>It is possible that the author made this method in the distant past, without streams; for example like this:</p>\n<pre><code>var out = new ArrayList&lt;Data&gt;();\nfor (var data : inventory.getListData()) {\n  if (!.... (filter here)....) out.add(data);\n}\nreturn out;\n</code></pre>\n<p>which does the same thing as the methods you pasted, except, that one really does return a mutable list specifically, and if the docs of this method indicate that this is something callers get to rely on (the API docs spell out: Hey, that list is mutable), then this rewrite is <strong>a bad idea</strong> and should be unwound - now you're making a second copy for the highly dubious benefit of avoiding some braces. This is very much not worth it - either one is equally readable.</p>\n<p>However, shiny new tools and all that - a few folks have gone far too far in refactoring their code and gone a little lambda crazy.</p>\n<h2>Following fallout of an older API implementation detail</h2>\n<p>What's more likely is the exact same situation as above, except, the javadoc <strong>do not</strong> spell out that the list can be messed with, but users of this API have assumed it; replacing it with the <code>.stream().toList()</code> code breaks users of the library. The right move is tricky - however, generally, it is a slightly better idea to just 'break' - you never promised that the list would be mutable, so any code that mutates it is at fault here, and you should just update this code and then let the maintainers that made the bad assumption fix it when they get around to it.</p>\n<p>This principle is a complicated concept, and has a name: <a href=\"https://www.hyrumslaw.com\" rel=\"nofollow noreferrer\">Hyrum's Law</a>. The correct choice (bend over backwards to support &quot;API abusers&quot;, <em>or</em>, cause downstream users of your code to get bugs simply because they upgraded their dependency on your code) depends on the situation and is beyond the scope of Stack Overflow (because, it's opinions and not objectively decidable except on a case-by-case basis).</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76239902,"answer_count":1,"score":0,"last_activity_date":1683925073,"creation_date":1683918654,"question_id":76239292,"body_markdown":"I see sometimes code like this :\r\n\r\n    public List&lt;Data&gt; retrieveDataFromInventory() {\r\n      return new ArrayList&lt;&gt;(inventory.getListData().stream().filter(...).toList());\r\n    }\r\n\r\nWhat&#39;s the difference with :\r\n\r\n    public List&lt;Data&gt; retrieveDataFromInventory() {\r\n      return inventory.getListData().stream().filter(...).toList();\r\n    }","title":"Why sometimes returning a new List containing the List?","body":"<p>I see sometimes code like this :</p>\n<pre><code>public List&lt;Data&gt; retrieveDataFromInventory() {\n  return new ArrayList&lt;&gt;(inventory.getListData().stream().filter(...).toList());\n}\n</code></pre>\n<p>What's the difference with :</p>\n<pre><code>public List&lt;Data&gt; retrieveDataFromInventory() {\n  return inventory.getListData().stream().filter(...).toList();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-redis","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683925010,"creation_date":1683560829,"answer_id":76202188,"question_id":76196091,"body_markdown":"At first glance, the immediate issue I see with your `@Cacheable` annotated `findBooks(:BookRequest)` service method is that your `BookRequest` object does not implement an `Object` `equals(:Object)` and `hashCode()` methods.\r\n\r\nThere are 2 things you need to know:\r\n\r\n1) First, Spring Framework&#39;s [Cache Abstraction][1] uses the arguments to the declared parameters of your `@Cacheable` annotated method as the key for the cache entry by [default][2], unless you specify otherwise, either by using the `key` attribute or a custom `KeyGenerator`.\r\n\r\nIn your case, the cache entry for the `findBooks(..)` service method would be:\r\n\r\n```\r\nbookRequest: Page&lt;Book&gt;\r\n```\r\n\r\n2) Second, since a `Cache` is nothing more than a (glorified) `Map` data structure, then the `equals(:Object)` and `hashCode()` methods are important to implement.\r\n\r\nI do not see that you actually implemented the `equals(:Object)` and `hashCode()` methods on your `BookRequest` object. Since you are using Lombok, you can implement `equals(:Object)` and `hashCode()` simply by declaring Lomboks&#39; `@EqualsAndHashCode` annotation on the `BookRequest` class.\r\n\r\nHowever, it is important that the `equals(:Object)` and `hashCode()` methods consistently return the same value for logically same objects.\r\n\r\nGiven the fact that your `BookRequest` has an ISBN, and an ISBN uniquely identifies a `Book`, then rather than use the `BookRequest` as the &quot;key&quot; in the cache entry, you could instead use the ISBN by doing the following:\r\n\r\n```java\r\n@Service\r\nclass BookService {\r\n\r\n  @Cacheable(name = &quot;Books&quot;, key=&quot;#bookRequest.isbn&quot;)\r\n  public Page&lt;Book&gt; findBooks(BookRequest bookRequest) {\r\n  }\r\n}\r\n```\r\n\r\nAgain, see the ref doc on [custom keys][3] as well as the [use of SpEL][4] in the `@Cacheable` annotation attributes, such as `key`, for more details.\r\n\r\nIf you do not have the [Java compiler debug mode][5] enabled, then you will need to replace `#bookRequest.isbn` with `#a0.isbn`.\r\n\r\nUsing the `key` attribute on the `@Cacheable` annotation set to the `BookRequest` `isbn` should suffice, even without a `equals(:Object)` and `hashCode()` method implementation on your `BookRequest` class. But, this only works if the `ISBN` is always present in the request (and I suspect maybe not).\r\n\r\nAlso, it is always good practice to override and implement `Object` `equals(:Object)` and `hashCode()` methods, anyway.\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-spel-context\r\n  [5]: https://www.logicbig.com/how-to/java-command/compile-with-debug-info.html","title":"Why @Cacheable return different result on subsequent calls","body":"<p>At first glance, the immediate issue I see with your <code>@Cacheable</code> annotated <code>findBooks(:BookRequest)</code> service method is that your <code>BookRequest</code> object does not implement an <code>Object</code> <code>equals(:Object)</code> and <code>hashCode()</code> methods.</p>\n<p>There are 2 things you need to know:</p>\n<ol>\n<li>First, Spring Framework's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache\" rel=\"nofollow noreferrer\">Cache Abstraction</a> uses the arguments to the declared parameters of your <code>@Cacheable</code> annotated method as the key for the cache entry by <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\" rel=\"nofollow noreferrer\">default</a>, unless you specify otherwise, either by using the <code>key</code> attribute or a custom <code>KeyGenerator</code>.</li>\n</ol>\n<p>In your case, the cache entry for the <code>findBooks(..)</code> service method would be:</p>\n<pre><code>bookRequest: Page&lt;Book&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Second, since a <code>Cache</code> is nothing more than a (glorified) <code>Map</code> data structure, then the <code>equals(:Object)</code> and <code>hashCode()</code> methods are important to implement.</li>\n</ol>\n<p>I do not see that you actually implemented the <code>equals(:Object)</code> and <code>hashCode()</code> methods on your <code>BookRequest</code> object. Since you are using Lombok, you can implement <code>equals(:Object)</code> and <code>hashCode()</code> simply by declaring Lomboks' <code>@EqualsAndHashCode</code> annotation on the <code>BookRequest</code> class.</p>\n<p>However, it is important that the <code>equals(:Object)</code> and <code>hashCode()</code> methods consistently return the same value for logically same objects.</p>\n<p>Given the fact that your <code>BookRequest</code> has an ISBN, and an ISBN uniquely identifies a <code>Book</code>, then rather than use the <code>BookRequest</code> as the &quot;key&quot; in the cache entry, you could instead use the ISBN by doing the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass BookService {\n\n  @Cacheable(name = &quot;Books&quot;, key=&quot;#bookRequest.isbn&quot;)\n  public Page&lt;Book&gt; findBooks(BookRequest bookRequest) {\n  }\n}\n</code></pre>\n<p>Again, see the ref doc on <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\" rel=\"nofollow noreferrer\">custom keys</a> as well as the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-spel-context\" rel=\"nofollow noreferrer\">use of SpEL</a> in the <code>@Cacheable</code> annotation attributes, such as <code>key</code>, for more details.</p>\n<p>If you do not have the <a href=\"https://www.logicbig.com/how-to/java-command/compile-with-debug-info.html\" rel=\"nofollow noreferrer\">Java compiler debug mode</a> enabled, then you will need to replace <code>#bookRequest.isbn</code> with <code>#a0.isbn</code>.</p>\n<p>Using the <code>key</code> attribute on the <code>@Cacheable</code> annotation set to the <code>BookRequest</code> <code>isbn</code> should suffice, even without a <code>equals(:Object)</code> and <code>hashCode()</code> method implementation on your <code>BookRequest</code> class. But, this only works if the <code>ISBN</code> is always present in the request (and I suspect maybe not).</p>\n<p>Also, it is always good practice to override and implement <code>Object</code> <code>equals(:Object)</code> and <code>hashCode()</code> methods, anyway.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683925010,"creation_date":1683490663,"question_id":76196091,"body_markdown":"I am running Spring Boot version 2.6.14.\r\n\r\n**Controller**\r\n\r\n    @PostMapping(&quot;/v1/books)\r\n    public GenericResponse&lt;Book&gt; getBooks(BookRequest request) {\r\n      return new GenericResponse&lt;&gt;(\r\n          loggedInBookService.findBooks(request)\r\n      );\r\n    }\r\n\r\n**Services**\r\n\r\n    @Cacheable(&quot;books&quot;)\r\n    public Page&lt; Book&gt; findBooks(BookRequest request) {\r\n      return bookService(request);\r\n    }\r\n\r\n**Request**\r\n\r\n    @Setter\r\n    @Getter\r\n    @AllArgsConstructor(access = PRIVATE)\r\n    @NoArgsConstructor(access = PRIVATE)\r\n    public class BookRequest implements Serializable {\r\n    \r\n      private String isbn;\r\n    \r\n      private List&lt;String&gt; isbns;\r\n    \r\n      private LocalDate bookAddedDateFrom;\r\n    \r\n      private LocalDate bookAddedDateTo;\r\n    \r\n      private boolean hasCopy = true;\r\n    }\r\n\r\nI received the correct response on the first request when setting &#39;hasCopy&#39; to &#39;true&#39; in the request. However, on subsequent requests, I received an incorrect response that behaves as if &#39;hasCopy&#39; was set to &#39;false&#39;.\r\n\r\nWhat could be causing this issue?","title":"Why @Cacheable return different result on subsequent calls","body":"<p>I am running Spring Boot version 2.6.14.</p>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(&quot;/v1/books)\npublic GenericResponse&lt;Book&gt; getBooks(BookRequest request) {\n  return new GenericResponse&lt;&gt;(\n      loggedInBookService.findBooks(request)\n  );\n}\n</code></pre>\n<p><strong>Services</strong></p>\n<pre><code>@Cacheable(&quot;books&quot;)\npublic Page&lt; Book&gt; findBooks(BookRequest request) {\n  return bookService(request);\n}\n</code></pre>\n<p><strong>Request</strong></p>\n<pre><code>@Setter\n@Getter\n@AllArgsConstructor(access = PRIVATE)\n@NoArgsConstructor(access = PRIVATE)\npublic class BookRequest implements Serializable {\n\n  private String isbn;\n\n  private List&lt;String&gt; isbns;\n\n  private LocalDate bookAddedDateFrom;\n\n  private LocalDate bookAddedDateTo;\n\n  private boolean hasCopy = true;\n}\n</code></pre>\n<p>I received the correct response on the first request when setting 'hasCopy' to 'true' in the request. However, on subsequent requests, I received an incorrect response that behaves as if 'hasCopy' was set to 'false'.</p>\n<p>What could be causing this issue?</p>\n"},{"tags":["java","oop","generics"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683921743,"post_id":76239523,"comment_id":134446264,"body_markdown":"Java is changing the type of your objects in your code? Or is your IDE doing it? Or do you mean in error messages? Post a minimal reproducible example as explained in the help center page: http://stackoverflow.com/help/minimal-reproducible-example","body":"Java is changing the type of your objects in your code? Or is your IDE doing it? Or do you mean in error messages? Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1683921804,"post_id":76239523,"comment_id":134446276,"body_markdown":"Please create an [mre] and edit it into your question","body":"Please create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and edit it into your question"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":3,"creation_date":1683921890,"post_id":76239523,"comment_id":134446292,"body_markdown":"Please don&#39;t switch from T to Item in the middle of your question. Either one is fine, but please be consistent!","body":"Please don&#39;t switch from T to Item in the middle of your question. Either one is fine, but please be consistent!"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683922020,"post_id":76239523,"comment_id":134446316,"body_markdown":"it throws an error, changes `Item` to `Object`, you make an interface/abstract class, it is `T` but then `Item`... hard to understand - stick to one problem and start with one simple method (example: `public interface Deque&lt;T&gt; { void addFirst(T obj); }` and `public class ArrayDeque&lt;T&gt; implements Deque&lt;T&gt; { @Override public void addFirst(T obj) {  } }`)","body":"it throws an error, changes <code>Item</code> to <code>Object</code>, you make an interface/abstract class, it is <code>T</code> but then <code>Item</code>... hard to understand - stick to one problem and start with one simple method (example: <code>public interface Deque&lt;T&gt; { void addFirst(T obj); }</code> and <code>public class ArrayDeque&lt;T&gt; implements Deque&lt;T&gt; { @Override public void addFirst(T obj) {  } }</code>)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1683922047,"post_id":76239523,"comment_id":134446321,"body_markdown":"It sounds like you&#39;ve set up the generics wrong.  Please show the _complete_ first line of your classes, at the very least, including `implements ....`","body":"It sounds like you&#39;ve set up the generics wrong.  Please show the <i>complete</i> first line of your classes, at the very least, including <code>implements ....</code>"},{"owner":{"account_id":16531600,"reputation":49,"user_id":11944646,"display_name":"learningtoc0d3"},"score":0,"creation_date":1684791360,"post_id":76239523,"comment_id":134565880,"body_markdown":"Mb, I was writing this question in a hurry since I was running out of time with a stable interent connection so I wasn&#39;t able to fix the confusions. I have fixed this problem now though. I do not know what the problem was, I just deleted all the files and then restarted and it worked. Must&#39;ve been a small thing I was overlooking.","body":"Mb, I was writing this question in a hurry since I was running out of time with a stable interent connection so I wasn&#39;t able to fix the confusions. I have fixed this problem now though. I do not know what the problem was, I just deleted all the files and then restarted and it worked. Must&#39;ve been a small thing I was overlooking."}],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683924736,"creation_date":1683923448,"answer_id":76239760,"question_id":76239523,"body_markdown":"Both the `Deque` interface / abstract super class and the concrete implementations should be generic. E.g.:\r\n\r\n```Java\r\npublic interface Deque&lt;E&gt; {\r\n    void addFirst(E e);\r\n    void addLast(E e);\r\n    // other methods\r\n}\r\n\r\npublic class ArrayDeque&lt;E&gt; implements Deque&lt;E&gt; {\r\n    @Override\r\n    public void addFirst(E e) {\r\n        // do something\r\n    }\r\n\r\n    @Override\r\n    public void addLast(E e) {\r\n        // do something else\r\n    }\r\n\r\n    // fields, methods, etc.\r\n}\r\n```\r\n\r\nAs you can see, `ArrayDeque` has its own generic type. Since I don&#39;t want to add to the `T` vs `Item` confusion, I&#39;m calling the generic type `E` for element. `E` is forwarded from the implementation class to the `Deque` interface.\r\n\r\nThis works as expected. In fact, if you have a look at the [OpenJDK&#39;s source code](https://github.com/openjdk/jdk20/tree/master/src/java.base/), you are going to find an [`ArrayDeque`](https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/java/util/ArrayDeque.java) class and a [`Deque`](https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/java/util/Deque.java) interface very similar to the ones above.\r\n\r\n\r\n","title":"How to have a generic interface/abstract class (Java)?","body":"<p>Both the <code>Deque</code> interface / abstract super class and the concrete implementations should be generic. E.g.:</p>\n<pre><code>public interface Deque&lt;E&gt; {\n    void addFirst(E e);\n    void addLast(E e);\n    // other methods\n}\n\npublic class ArrayDeque&lt;E&gt; implements Deque&lt;E&gt; {\n    @Override\n    public void addFirst(E e) {\n        // do something\n    }\n\n    @Override\n    public void addLast(E e) {\n        // do something else\n    }\n\n    // fields, methods, etc.\n}\n</code></pre>\n<p>As you can see, <code>ArrayDeque</code> has its own generic type. Since I don't want to add to the <code>T</code> vs <code>Item</code> confusion, I'm calling the generic type <code>E</code> for element. <code>E</code> is forwarded from the implementation class to the <code>Deque</code> interface.</p>\n<p>This works as expected. In fact, if you have a look at the <a href=\"https://github.com/openjdk/jdk20/tree/master/src/java.base/\" rel=\"nofollow noreferrer\">OpenJDK's source code</a>, you are going to find an <a href=\"https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/java/util/ArrayDeque.java\" rel=\"nofollow noreferrer\"><code>ArrayDeque</code></a> class and a <a href=\"https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/java/util/Deque.java\" rel=\"nofollow noreferrer\"><code>Deque</code></a> interface very similar to the ones above.</p>\n"}],"owner":{"account_id":16531600,"reputation":49,"user_id":11944646,"display_name":"learningtoc0d3"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683924736,"creation_date":1683920882,"question_id":76239523,"body_markdown":"I have two classes, `LinkedListDeque` and `ArrayDeque`. They are both implementing all these methods:\r\n\r\n    public void addFirst(T item): //Adds an item of type T to the front of the deque.\r\n    public void addLast(T item): //Adds an item of type T to the back of the deque.\r\n    public boolean isEmpty(): //Returns true if deque is empty, false otherwise.\r\n    public int size(): //Returns the number of items in the deque.\r\n    public void printDeque(): //Prints the items in the deque from first to last, separated by a space. Once all the items have been printed, print out a new line.\r\n    public T removeFirst(): //Removes and returns the item at the front of the deque. If no such item exists, returns null.\r\n    public T removeLast(): //Removes and returns the item at the back of the deque. If no such item exists, returns null.\r\n    public T get(int index): //Gets the item at the given index, where 0 is the front, 1 is the next item, and so forth. If no such item exists, returns null. Must not alter the deque!\r\n\r\nMoreover, both these classes should accept any generic type. Also, I changed the type of these items from `T` to `Item` for readability. From now on, whenever I say `Item`, I am referring to `T` in this block of code. \r\n\r\nI was thinking of making an interface or abstract class called `Deque` where I would declare all these methods, then have my two classes implement or extend `Deque`. However, I am running into a problem. \r\n\r\nThe top line of my two classes are `public class SomethingDeque&lt;Item&gt;`. So, I am storing the deque of type `Item`. However, when I make my interface/abstract class using `public interface/abstract class Deque&lt;Item&gt;` and create these methods, Java throws an error when I try to override these methods. It keeps on changing the type of my parameters in `addLast` and `addFirst` from `Item` to `Object`. How do I avoid that?  ","title":"How to have a generic interface/abstract class (Java)?","body":"<p>I have two classes, <code>LinkedListDeque</code> and <code>ArrayDeque</code>. They are both implementing all these methods:</p>\n<pre><code>public void addFirst(T item): //Adds an item of type T to the front of the deque.\npublic void addLast(T item): //Adds an item of type T to the back of the deque.\npublic boolean isEmpty(): //Returns true if deque is empty, false otherwise.\npublic int size(): //Returns the number of items in the deque.\npublic void printDeque(): //Prints the items in the deque from first to last, separated by a space. Once all the items have been printed, print out a new line.\npublic T removeFirst(): //Removes and returns the item at the front of the deque. If no such item exists, returns null.\npublic T removeLast(): //Removes and returns the item at the back of the deque. If no such item exists, returns null.\npublic T get(int index): //Gets the item at the given index, where 0 is the front, 1 is the next item, and so forth. If no such item exists, returns null. Must not alter the deque!\n</code></pre>\n<p>Moreover, both these classes should accept any generic type. Also, I changed the type of these items from <code>T</code> to <code>Item</code> for readability. From now on, whenever I say <code>Item</code>, I am referring to <code>T</code> in this block of code.</p>\n<p>I was thinking of making an interface or abstract class called <code>Deque</code> where I would declare all these methods, then have my two classes implement or extend <code>Deque</code>. However, I am running into a problem.</p>\n<p>The top line of my two classes are <code>public class SomethingDeque&lt;Item&gt;</code>. So, I am storing the deque of type <code>Item</code>. However, when I make my interface/abstract class using <code>public interface/abstract class Deque&lt;Item&gt;</code> and create these methods, Java throws an error when I try to override these methods. It keeps on changing the type of my parameters in <code>addLast</code> and <code>addFirst</code> from <code>Item</code> to <code>Object</code>. How do I avoid that?</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1683918913,"post_id":76239304,"comment_id":134445772,"body_markdown":"Why do you have an infinite while loop?","body":"Why do you have an infinite while loop?"},{"owner":{"account_id":26472979,"reputation":51,"user_id":20113319,"display_name":"Glitch"},"score":0,"creation_date":1683919017,"post_id":76239304,"comment_id":134445802,"body_markdown":"@Konrad so I have an infinite loop, I need it. I can clean my code and create the inputstreamreaders and stuff outside the loop later, I just need a solution for this specific part","body":"@Konrad so I have an infinite loop, I need it. I can clean my code and create the inputstreamreaders and stuff outside the loop later, I just need a solution for this specific part"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683919800,"post_id":76239304,"comment_id":134445934,"body_markdown":"You need to explain what you expect as the question makes no sense. The only way the forEach will end will be if the stream ends. So if the stream does not end (perhaps System.in) you won&#39;t exit the loop, and if the stream does end then stream won&#39;t work for the next iteration. If you need to read streams independently use a thread per stream.","body":"You need to explain what you expect as the question makes no sense. The only way the forEach will end will be if the stream ends. So if the stream does not end (perhaps System.in) you won&#39;t exit the loop, and if the stream does end then stream won&#39;t work for the next iteration. If you need to read streams independently use a thread per stream."},{"owner":{"account_id":26472979,"reputation":51,"user_id":20113319,"display_name":"Glitch"},"score":0,"creation_date":1683920002,"post_id":76239304,"comment_id":134445967,"body_markdown":"@DuncG Is it impossible to just read a stream until there&#39;s nothing left to read, then continue executing code afterwards? I just want to be able to read the contents of the stream, print it out, then do the same thing for the next stream.","body":"@DuncG Is it impossible to just read a stream until there&#39;s nothing left to read, then continue executing code afterwards? I just want to be able to read the contents of the stream, print it out, then do the same thing for the next stream."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683921172,"post_id":76239304,"comment_id":134446159,"body_markdown":"Your question doesn&#39;t provide enough context to understand the problem as @DuncG said. What are the sources of those streams? A string, a socket, standard input? What do they contain?","body":"Your question doesn&#39;t provide enough context to understand the problem as @DuncG said. What are the sources of those streams? A string, a socket, standard input? What do they contain?"},{"owner":{"account_id":26472979,"reputation":51,"user_id":20113319,"display_name":"Glitch"},"score":0,"creation_date":1683921622,"post_id":76239304,"comment_id":134446235,"body_markdown":"@aled I&#39;m reading from a TCP port. It should just be normal characters.","body":"@aled I&#39;m reading from a TCP port. It should just be normal characters."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683921918,"post_id":76239304,"comment_id":134446300,"body_markdown":"Characters are meaningless for this issue. A socket just doesn&#39;t has an end.","body":"Characters are meaningless for this issue. A socket just doesn&#39;t has an end."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1683922089,"post_id":76239304,"comment_id":134446330,"body_markdown":"It&#39;s basically impossible to do what you want without threads or other more complicated mechanisms like event based IO. `br.lines()` tries to read the stream until the stream signals it has ended. That will never happen for a stream from a tcp connection unless the connection closes. If you know that there&#39;s one line from each reader you can use `readline()` then read from the other stream. If you don&#39;t know which stream to wait on use 2 threads each processing the input line by line using readline - or in case this is some text based server you can switch to a framework like https://netty.io/","body":"It&#39;s basically impossible to do what you want without threads or other more complicated mechanisms like event based IO. <code>br.lines()</code> tries to read the stream until the stream signals it has ended. That will never happen for a stream from a tcp connection unless the connection closes. If you know that there&#39;s one line from each reader you can use <code>readline()</code> then read from the other stream. If you don&#39;t know which stream to wait on use 2 threads each processing the input line by line using readline - or in case this is some text based server you can switch to a framework like <a href=\"https://netty.io/\" rel=\"nofollow noreferrer\">netty.io</a>"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683922480,"post_id":76239304,"comment_id":134446401,"body_markdown":"Some types of InputStream may support `available()` to tell you what you can read without blocking. But I suggest you don&#39;t use that call though, and put details on what you are really trying to achieve.","body":"Some types of InputStream may support <code>available()</code> to tell you what you can read without blocking. But I suggest you don&#39;t use that call though, and put details on what you are really trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":26472979,"reputation":51,"user_id":20113319,"display_name":"Glitch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683921580,"creation_date":1683921580,"answer_id":76239583,"question_id":76239304,"body_markdown":"I guess I will just use more than one thread, seems to be the only option.","title":"How to read an inputstream and do other things at the same time?","body":"<p>I guess I will just use more than one thread, seems to be the only option.</p>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683924071,"creation_date":1683922479,"answer_id":76239670,"question_id":76239304,"body_markdown":"If you are reading from a socket, there is no end of file like when reading a file. The input stream will be open for as long as the socket will be open. There are some ways to indicate when the input stream should be closed:\r\n\r\n- You implement an application level communication protocol in which the data indicate when the input ends. For example you can send the length of the message as part of the data, or in a header, or some end record or text that you need to scan for to indicate the end. For example HTTP can send the full length in a header or in chunked mode sends a character sequence to indicate the end. \r\n- The server closes the socket. However if the server never closes the socket you&#39;ll have the same problem.\r\n- You set a read timeout. If the server delays to send the data for above the timeout the application may close the socket prematurely.\r\n- Just leave the socket open. If the communication is expected to be persistent you may have to assume that the data may never finish. You have some option, like interleave readings of different streams or use different threads. You may have to handle reconnections for long-lived sockets. You can not assume that the network connections are not going to be interrupted at some point.\r\n\r\n","title":"How to read an inputstream and do other things at the same time?","body":"<p>If you are reading from a socket, there is no end of file like when reading a file. The input stream will be open for as long as the socket will be open. There are some ways to indicate when the input stream should be closed:</p>\n<ul>\n<li>You implement an application level communication protocol in which the data indicate when the input ends. For example you can send the length of the message as part of the data, or in a header, or some end record or text that you need to scan for to indicate the end. For example HTTP can send the full length in a header or in chunked mode sends a character sequence to indicate the end.</li>\n<li>The server closes the socket. However if the server never closes the socket you'll have the same problem.</li>\n<li>You set a read timeout. If the server delays to send the data for above the timeout the application may close the socket prematurely.</li>\n<li>Just leave the socket open. If the communication is expected to be persistent you may have to assume that the data may never finish. You have some option, like interleave readings of different streams or use different threads. You may have to handle reconnections for long-lived sockets. You can not assume that the network connections are not going to be interrupted at some point.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28573129,"reputation":1,"user_id":21875075,"display_name":"klepto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683924618,"creation_date":1683924618,"answer_id":76239871,"question_id":76239304,"body_markdown":"&lt;!-- language: java --&gt;\r\n`BufferedReader` will continue reading from `InputStream` as long as the stream is open.\r\n\r\nYour code will stay stuck until `InputStream` gets closed by the data source you are reading from, or until you close it yourself from a different `Thread` in your application by calling `cmdin.close()`.\r\n\r\nIf you simply wanna read whatever is available on the `InputStream` at the moment, you can do something along the lines of:\r\n```\r\nvar buffer = new byte[cmdsin.available()];\r\ncmdsin.read(buffer);\r\ncmdsin.close();\r\n\r\nvar lines = new String(buffer, StandardCharsets.UTF_8).lines();\r\nlines.forEach(line -&gt; System.out.println(&quot;CMD: &quot; + line));\r\n```\r\nNote that `String#lines` is only availble from Java 11.","title":"How to read an inputstream and do other things at the same time?","body":"<p><code>BufferedReader</code> will continue reading from <code>InputStream</code> as long as the stream is open.</p>\n<p>Your code will stay stuck until <code>InputStream</code> gets closed by the data source you are reading from, or until you close it yourself from a different <code>Thread</code> in your application by calling <code>cmdin.close()</code>.</p>\n<p>If you simply wanna read whatever is available on the <code>InputStream</code> at the moment, you can do something along the lines of:</p>\n<pre><code>var buffer = new byte[cmdsin.available()];\ncmdsin.read(buffer);\ncmdsin.close();\n\nvar lines = new String(buffer, StandardCharsets.UTF_8).lines();\nlines.forEach(line -&gt; System.out.println(&quot;CMD: &quot; + line));\n</code></pre>\n<p>Note that <code>String#lines</code> is only availble from Java 11.</p>\n"}],"owner":{"account_id":26472979,"reputation":51,"user_id":20113319,"display_name":"Glitch"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1683924618,"creation_date":1683918721,"question_id":76239304,"body_markdown":"Here is a snippet of my code:\r\n\r\n\r\n```\r\nwhile (0==0) {\r\n    InputStreamReader isr = new InputStreamReader(cmdsin,StandardCharsets.UTF_8);\r\n    BufferedReader br = new BufferedReader(isr);\r\n    br.lines().forEach(line -&gt; System.out.println(&quot;CMD: &quot; + line));\r\n    System.out.println(&quot;this never runs&quot;);\r\n    InputStreamReader isr2 = new InputStreamReader(datain,StandardCharsets.UTF_8);\r\n    BufferedReader br2 = new BufferedReader(isr2);\r\n    br2.lines().forEach(line2 -&gt; System.out.println(&quot;DATA: &quot; + line2));\r\n}\r\n```\r\nI need to read both input streams as well as run some other code. But, the code gets stuck doing the forEach thing even when there is nothing to read. How do I get it unstuck so I can read the other stream and continue with the loop?\r\n\r\nAll the methods I&#39;ve found for reading input streams ended with this same problem; I&#39;ve seen this solution works the best so far (I can actually get the data from the first stream, at least) and someone had said it was faster, so I decided to use this method.","title":"How to read an inputstream and do other things at the same time?","body":"<p>Here is a snippet of my code:</p>\n<pre><code>while (0==0) {\n    InputStreamReader isr = new InputStreamReader(cmdsin,StandardCharsets.UTF_8);\n    BufferedReader br = new BufferedReader(isr);\n    br.lines().forEach(line -&gt; System.out.println(&quot;CMD: &quot; + line));\n    System.out.println(&quot;this never runs&quot;);\n    InputStreamReader isr2 = new InputStreamReader(datain,StandardCharsets.UTF_8);\n    BufferedReader br2 = new BufferedReader(isr2);\n    br2.lines().forEach(line2 -&gt; System.out.println(&quot;DATA: &quot; + line2));\n}\n</code></pre>\n<p>I need to read both input streams as well as run some other code. But, the code gets stuck doing the forEach thing even when there is nothing to read. How do I get it unstuck so I can read the other stream and continue with the loop?</p>\n<p>All the methods I've found for reading input streams ended with this same problem; I've seen this solution works the best so far (I can actually get the data from the first stream, at least) and someone had said it was faster, so I decided to use this method.</p>\n"},{"tags":["java","db2","datasource","keystore","hikaricp"],"comments":[{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1683909171,"post_id":76238177,"comment_id":134443978,"body_markdown":"On the host running Hikari, and Data Studio, Whose jvm / jdk are you using , and which version?","body":"On the host running Hikari, and Data Studio, Whose jvm / jdk are you using , and which version?"},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1683914952,"post_id":76238177,"comment_id":134445131,"body_markdown":"The jdbc driver version shown in your question is [4.25.13] (which is from Db2 v11.1) , but it is better to use 4.32.28 (= most recent one available now). Separately your connection string should not have `sslKeyStoreLocation=[absolute_path];sslKeyStorePassword=[password];`  (but the other three `sslConnection=true;sslTrustStoreLocation=/path/to/jks;sslTrustStorePassword=valid_password;` are required.  The docs state these are all valid for Db2-for-Z/OS, and they work for me with Db2-LUW when using the IBM jvm and IBM jdk. There may be more details in the Db2-for-Z/OS diagnostics.","body":"The jdbc driver version shown in your question is [4.25.13] (which is from Db2 v11.1) , but it is better to use 4.32.28 (= most recent one available now). Separately your connection string should not have <code>sslKeyStoreLocation=[absolute_path];sslKeyStorePassword=[pas&zwnj;&#8203;sword];</code>  (but the other three <code>sslConnection=true;sslTrustStoreLocation=&#47;path&#47;to&#47;jks;sslTru&zwnj;&#8203;stStorePassword=vali&zwnj;&#8203;d_password;</code> are required.  The docs state these are all valid for Db2-for-Z/OS, and they work for me with Db2-LUW when using the IBM jvm and IBM jdk. There may be more details in the Db2-for-Z/OS diagnostics."},{"owner":{"account_id":9073277,"reputation":11,"user_id":6755700,"display_name":"Crimshot"},"score":0,"creation_date":1683919492,"post_id":76238177,"comment_id":134445879,"body_markdown":"@mao java corretto 11 (OpenJDK 11) for both my host running hikari and I believe it&#39;s the same for data studio. As for the jdbc driver version, I updated to 4.32.28 and adjusted the url so that `sslKeyStoreLocation=[absolute_path];sslKeyStorePassword=[password];` are removed. Still getting the same error","body":"@mao java corretto 11 (OpenJDK 11) for both my host running hikari and I believe it&#39;s the same for data studio. As for the jdbc driver version, I updated to 4.32.28 and adjusted the url so that <code>sslKeyStoreLocation=[absolute_path];sslKeyStorePassword=[pas&zwnj;&#8203;sword];</code> are removed. Still getting the same error"}],"answers":[{"tags":[],"owner":{"account_id":9073277,"reputation":11,"user_id":6755700,"display_name":"Crimshot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683923366,"creation_date":1683923366,"answer_id":76239751,"question_id":76238177,"body_markdown":"I followed the steps [here][1] and saw that I was missing the property: `securityMechanism=18`\r\n\r\n\r\n  [1]: https://ibm.github.io/db2forzosdeveloperextension-about/docs/the-basics/creating-a-database-connection","title":"IBM DB2 using SSL error: handshake_error/connection reset. ERRORCODE=-4499, SQLSTATE=08001","body":"<p>I followed the steps <a href=\"https://ibm.github.io/db2forzosdeveloperextension-about/docs/the-basics/creating-a-database-connection\" rel=\"nofollow noreferrer\">here</a> and saw that I was missing the property: <code>securityMechanism=18</code></p>\n"}],"owner":{"account_id":9073277,"reputation":11,"user_id":6755700,"display_name":"Crimshot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683923366,"creation_date":1683907878,"question_id":76238177,"body_markdown":"I am using Hikari to connect to DB2 for Z/OS over SSL. The url I am using is structured like the following\r\n\r\n```\r\njdbc:db2://[hostname]:[port]/[location]:sslConnection=true;\r\n```\r\nI have to pass the truststore, truststore password, keystore, and keystore password. This is a JKS file.\r\n\r\nThe only way I am able to pass the this information and get a successful connection is through the usage of the `System.setPropety(&quot;javax.net.ssl.trustStore&quot;, [path to truststore])`. I do not want to use the System.setPropety(). I want to use the IBM `sslTrustStoreLocation, sslTrustStorePassword, etc` properties\r\n\r\n\r\nWhen I try using sslTrustStoreLocation, sslTrustStorePassword, sslKeyStoreLocation, sslKeyStorePassword the new url looks like the following\r\n```\r\njdbc:db2://[hostname]:[port]/[location]:sslConnection=true;sslTrustStoreLocation=[absolute_path];sslTrustStorePassword=[password];sslKeyStoreLocation=[absolute_path];sslKeyStorePassword=[password];\r\n```\r\nI also tried keeping the url as\r\n```\r\njdbc:db2://[hostname]:[port]/[location]:sslConnection=true;\r\n```\r\nand adding the properties (sslTrustStoreLocation, sslTrustStorePassword, sslKeyStoreLocation, sslKeyStorePassword) via Hikari config using addDataSourceProperty()\r\n\r\nAdditionally I tried using IBM Data Studio and adding a new Database Connection over SSL and got the same error as the other two attempts as shown below\r\n\r\n```\r\n[jcc][10512][13714]Failed to create connection. SQLCODE: -4499 SQLSTATE: 08001 Message: [jcc][t4][2030][11211][4.25.13] A communication error occurred during operations on the connection&#39;s underlying socket, socket input stream, or socket output stream. Error location: Reply.fill() - socketInputStream.read (-1). Message: Received fatal alert: handshake_failure. ERRORCODE=-4499, SQLSTATE=08001\r\n```\r\nit alternates between `handshake_failure` and `connection reset`\r\n\r\nThe pom.xml has the following dependency in case that helps\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jcc&lt;/artifactId&gt;\r\n    &lt;version&gt;11.5.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJust to reiterate - I can get the conmnection to work when I use the System.setPropety() function; however, I cannot when I use the sslTrustStoreLocation, sslTrustStorePassword, sslKeyStoreLocation, sslKeyStorePassword which shouls be interchangeable accourding to [documentation](https://www.ibm.com/docs/en/db2-for-zos/11?topic=dsdjsss-configuring-connections-under-data-server-driver-jdbc-sqlj-use-ssl)\r\n\r\n","title":"IBM DB2 using SSL error: handshake_error/connection reset. ERRORCODE=-4499, SQLSTATE=08001","body":"<p>I am using Hikari to connect to DB2 for Z/OS over SSL. The url I am using is structured like the following</p>\n<pre><code>jdbc:db2://[hostname]:[port]/[location]:sslConnection=true;\n</code></pre>\n<p>I have to pass the truststore, truststore password, keystore, and keystore password. This is a JKS file.</p>\n<p>The only way I am able to pass the this information and get a successful connection is through the usage of the <code>System.setPropety(&quot;javax.net.ssl.trustStore&quot;, [path to truststore])</code>. I do not want to use the System.setPropety(). I want to use the IBM <code>sslTrustStoreLocation, sslTrustStorePassword, etc</code> properties</p>\n<p>When I try using sslTrustStoreLocation, sslTrustStorePassword, sslKeyStoreLocation, sslKeyStorePassword the new url looks like the following</p>\n<pre><code>jdbc:db2://[hostname]:[port]/[location]:sslConnection=true;sslTrustStoreLocation=[absolute_path];sslTrustStorePassword=[password];sslKeyStoreLocation=[absolute_path];sslKeyStorePassword=[password];\n</code></pre>\n<p>I also tried keeping the url as</p>\n<pre><code>jdbc:db2://[hostname]:[port]/[location]:sslConnection=true;\n</code></pre>\n<p>and adding the properties (sslTrustStoreLocation, sslTrustStorePassword, sslKeyStoreLocation, sslKeyStorePassword) via Hikari config using addDataSourceProperty()</p>\n<p>Additionally I tried using IBM Data Studio and adding a new Database Connection over SSL and got the same error as the other two attempts as shown below</p>\n<pre><code>[jcc][10512][13714]Failed to create connection. SQLCODE: -4499 SQLSTATE: 08001 Message: [jcc][t4][2030][11211][4.25.13] A communication error occurred during operations on the connection's underlying socket, socket input stream, or socket output stream. Error location: Reply.fill() - socketInputStream.read (-1). Message: Received fatal alert: handshake_failure. ERRORCODE=-4499, SQLSTATE=08001\n</code></pre>\n<p>it alternates between <code>handshake_failure</code> and <code>connection reset</code></p>\n<p>The pom.xml has the following dependency in case that helps</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n    &lt;artifactId&gt;jcc&lt;/artifactId&gt;\n    &lt;version&gt;11.5.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Just to reiterate - I can get the conmnection to work when I use the System.setPropety() function; however, I cannot when I use the sslTrustStoreLocation, sslTrustStorePassword, sslKeyStoreLocation, sslKeyStorePassword which shouls be interchangeable accourding to <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=dsdjsss-configuring-connections-under-data-server-driver-jdbc-sqlj-use-ssl\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":["java","android","android-recyclerview","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":7953740,"reputation":993,"user_id":6003772,"display_name":"Hamid Sj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617369626,"creation_date":1617369626,"answer_id":66919949,"question_id":66919895,"body_markdown":"first you should initiate `recyclerview` like:\r\n```java\r\nRecyclerView recyclerview = findViewById(R.id.recycler_view_id);\r\n```\r\n\r\n then you can use `recyclerview.findViewById()`\r\n\r\n","title":"Android studio Java Recycler view error on launch","body":"<p>first you should initiate <code>recyclerview</code> like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RecyclerView recyclerview = findViewById(R.id.recycler_view_id);\n</code></pre>\n<p>then you can use <code>recyclerview.findViewById()</code></p>\n"},{"tags":[],"owner":{"account_id":23325630,"reputation":1,"user_id":17402836,"display_name":"amin vojoodi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683922167,"creation_date":1683893924,"answer_id":76236212,"question_id":66919895,"body_markdown":"your error : Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\n\r\nthis error 100% that your component not identified .\r\nThere is no problem with your adapter.\r\nadd athe following attribute to your RecyclerView in your xml like :\r\n\r\n            android:id=&quot;@+id/recycler&quot;\r\n\r\nand then initiate it in activity and at last find it in onCreate\r\n\r\n\r\n","title":"Android studio Java Recycler view error on launch","body":"<p>your error : Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference</p>\n<p>this error 100% that your component not identified .\nThere is no problem with your adapter.\nadd athe following attribute to your RecyclerView in your xml like :</p>\n<pre><code>        android:id=&quot;@+id/recycler&quot;\n</code></pre>\n<p>and then initiate it in activity and at last find it in onCreate</p>\n"}],"owner":{"account_id":15798917,"reputation":61,"user_id":12904304,"display_name":"Xildrite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1683922374,"accepted_answer_id":66919949,"answer_count":2,"score":0,"last_activity_date":1683922167,"creation_date":1617369418,"question_id":66919895,"body_markdown":"I’m trying to learn how to code in Android studio, and I start with a Recycler view, unfortunately I have an error I don&#39;t know how to fixe it.\r\n\r\nThank you in advance for your help\r\n\r\nError : \r\n```Java\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.mtoapp, PID: 4393\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mtoapp/com.example.mtoapp.Recycler.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3450)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3602)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2067)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7660)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\n        at com.example.mtoapp.Recycler.MainActivity.onCreate(MainActivity.java:29)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1312)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3423)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3602)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2067)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7660)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)&#160;\r\n```\r\n\r\nMainActivity.java (all code)\r\n```\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n\r\n    String data1[], data2[];\r\n    int images[];\r\n    Context context;\r\n\r\n\r\n    public MyAdapter(Context ct, String s1[], String s2[], int img[]){\r\n    context = context;\r\n    data1 = s1;\r\n    data2 = s2;\r\n    images = img;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.my_row,parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.myText1.setText(data1[position]);\r\n        holder.myText2.setText(data2[position]);\r\n        holder.myImage.setImageResource(images[position]);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return images.length;\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView myText1, myText2;\r\n        ImageView myImage;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            myText1 = itemView.findViewById(R.id.myText1);\r\n            myText2 = itemView.findViewById(R.id.myText2);\r\n            myImage = itemView.findViewById(R.id.myImageView);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nError part in the MainActivity\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //Find ID\r\n----&gt;   recyclerView.findViewById(R.id.recyclerView);\r\n\r\n        //String S1 et S2\r\n        s1 = getResources().getStringArray(R.array.days);\r\n        s2 = getResources().getStringArray(R.array.description);\r\n```\r\n\r\n\r\nExternal code who is link with :\r\n```package com.example.mtoapp.Recycler;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.mtoapp.R;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n\r\n\r\n    String data1[], data2[];\r\n    int images[];\r\n    Context context;\r\n\r\n\r\n    public MyAdapter(Context ct, String s1[], String s2[], int img[]){\r\n    context = context;\r\n    data1 = s1;\r\n    data2 = s2;\r\n    images = img;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.my_row,parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.myText1.setText(data1[position]);\r\n        holder.myText2.setText(data2[position]);\r\n        holder.myImage.setImageResource(images[position]);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return images.length;\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView myText1, myText2;\r\n        ImageView myImage;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            myText1 = itemView.findViewById(R.id.myText1);\r\n            myText2 = itemView.findViewById(R.id.myText2);\r\n            myImage = itemView.findViewById(R.id.myImageView);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Android studio Java Recycler view error on launch","body":"<p>I’m trying to learn how to code in Android studio, and I start with a Recycler view, unfortunately I have an error I don't know how to fixe it.</p>\n<p>Thank you in advance for your help</p>\n<p>Error :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.mtoapp, PID: 4393\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mtoapp/com.example.mtoapp.Recycler.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3450)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3602)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2067)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7660)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference\n        at com.example.mtoapp.Recycler.MainActivity.onCreate(MainActivity.java:29)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1312)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3423)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3602) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2067) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7660) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975) \n</code></pre>\n<p>MainActivity.java (all code)</p>\n<pre><code>\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n\n    String data1[], data2[];\n    int images[];\n    Context context;\n\n\n    public MyAdapter(Context ct, String s1[], String s2[], int img[]){\n    context = context;\n    data1 = s1;\n    data2 = s2;\n    images = img;\n    }\n\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.my_row,parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.myText1.setText(data1[position]);\n        holder.myText2.setText(data2[position]);\n        holder.myImage.setImageResource(images[position]);\n    }\n\n    @Override\n    public int getItemCount() {\n        return images.length;\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView myText1, myText2;\n        ImageView myImage;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            myText1 = itemView.findViewById(R.id.myText1);\n            myText2 = itemView.findViewById(R.id.myText2);\n            myImage = itemView.findViewById(R.id.myImageView);\n\n        }\n    }\n}\n</code></pre>\n<p>Error part in the MainActivity</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Find ID\n----&gt;   recyclerView.findViewById(R.id.recyclerView);\n\n        //String S1 et S2\n        s1 = getResources().getStringArray(R.array.days);\n        s2 = getResources().getStringArray(R.array.description);\n</code></pre>\n<p>External code who is link with :</p>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.mtoapp.R;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n\n    String data1[], data2[];\n    int images[];\n    Context context;\n\n\n    public MyAdapter(Context ct, String s1[], String s2[], int img[]){\n    context = context;\n    data1 = s1;\n    data2 = s2;\n    images = img;\n    }\n\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.my_row,parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.myText1.setText(data1[position]);\n        holder.myText2.setText(data2[position]);\n        holder.myImage.setImageResource(images[position]);\n    }\n\n    @Override\n    public int getItemCount() {\n        return images.length;\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView myText1, myText2;\n        ImageView myImage;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            myText1 = itemView.findViewById(R.id.myText1);\n            myText2 = itemView.findViewById(R.id.myText2);\n            myImage = itemView.findViewById(R.id.myImageView);\n\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","push-notification","broadcastreceiver"],"owner":{"account_id":27219902,"reputation":1,"user_id":20749361,"display_name":"Maxim Yurkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683921982,"creation_date":1683921982,"question_id":76239619,"body_markdown":"In my nutrition application, notifications should come reminding the user about the need to eat 4 times a day. The first time you log in to the app (login or register screen) I am registering notifications. However, they either don&#39;t come, or they come at a random hour. I tried to write the same code in Mainactivity, but the result is the same\r\n\r\nI tried to monitor notifications. I attributed them to come to 13:00, 13:01, 13:02. They either don&#39;t come, or only one of them comes. I can&#39;t understand what it depends on.\r\n```\r\n\r\n`public class LoginOrSignupFragment extends Fragment {\r\n\r\n   FragmentLoginOrSignupBinding binding;\r\n   UserViewModel userViewModel;\r\n   NavHostFragment navHostFragment;\r\n   NavController navController;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentLoginOrSignupBinding.inflate(inflater, container, false);\r\n\r\n         navHostFragment = (NavHostFragment) requireActivity().getSupportFragmentManager().findFragmentById(R.id.fragmentContainerView);\r\n         navController = navHostFragment.getNavController();\r\n\r\n        userViewModel = new ViewModelProvider(getActivity()).get(UserViewModel.class);\r\n\r\n        return binding.getRoot();\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        binding.logInBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                navController.navigate(R.id.action_loginOrSignupFragment_to_logInFragment);\r\n            }\r\n        });\r\n\r\n        binding.signUpBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                navController.navigate(R.id.action_loginOrSignupFragment_to_signUpFragment);\r\n            }\r\n        });\r\n\r\n\r\n        createNotificationChannel();\r\n        Intent intentBreakfast = new Intent(getContext(), NotificationReceiver.class);\r\n        PendingIntent pendingIntentBreakfast = PendingIntent.getBroadcast(getContext(), 0, intentBreakfast, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        Intent intentLunch = new Intent(getContext(), NotificationReceiver.class);\r\n        PendingIntent pendingIntentLunch = PendingIntent.getBroadcast(getContext(), 1, intentLunch, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        Intent intentSnack = new Intent(getContext(), NotificationReceiver.class);\r\n        PendingIntent pendingIntentSnack = PendingIntent.getBroadcast(getContext(), 2, intentSnack, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        Intent intentDinner = new Intent(getContext(), NotificationReceiver.class);\r\n        PendingIntent pendingIntentDinner= PendingIntent.getBroadcast(getContext(), 3, intentDinner, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        AlarmManager alarmManager = (AlarmManager) requireContext().getSystemService(ALARM_SERVICE);\r\n        Calendar calendar = Calendar.getInstance();\r\n\r\n        calendar.set(Calendar.HOUR_OF_DAY, 13);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentBreakfast);\r\n\r\n        calendar.set(Calendar.HOUR_OF_DAY, 13);\r\n        calendar.set(Calendar.MINUTE, 1);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentLunch);\r\n\r\n        calendar.set(Calendar.HOUR_OF_DAY, 13);\r\n        calendar.set(Calendar.MINUTE, 2);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentSnack);\r\n\r\n        calendar.set(Calendar.HOUR_OF_DAY, 18);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentDinner);\r\n    }\r\n\r\n    private void createNotificationChannel(){\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;notifyChannel&quot;, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            NotificationManager notificationManager = requireContext().getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n}`\r\n```\r\n\r\n```\r\n\r\n`public class NotificationReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent notificationIntent = new Intent(context, MainActivity.class);\r\n        PendingIntent contentIntent = PendingIntent.getActivity(context, 0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        // Отправляем уведомление\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;notifyChannel&quot;)\r\n                .setSmallIcon(R.drawable.logo)\r\n                .setContentTitle(&quot;Напоминание&quot;)\r\n                .setContentText(&quot;Время поесть!&quot;)\r\n                .setContentIntent(contentIntent)\r\n                .setAutoCancel(true);\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        System.out.println(System.currentTimeMillis());\r\n        notificationManager.notify(200, builder.build());\r\n    }\r\n\r\n}`\r\n\r\n```","title":"Notifications installed via Broadcastreceiver are not received","body":"<p>In my nutrition application, notifications should come reminding the user about the need to eat 4 times a day. The first time you log in to the app (login or register screen) I am registering notifications. However, they either don't come, or they come at a random hour. I tried to write the same code in Mainactivity, but the result is the same</p>\n<p>I tried to monitor notifications. I attributed them to come to 13:00, 13:01, 13:02. They either don't come, or only one of them comes. I can't understand what it depends on.</p>\n<pre><code>\n`public class LoginOrSignupFragment extends Fragment {\n\n   FragmentLoginOrSignupBinding binding;\n   UserViewModel userViewModel;\n   NavHostFragment navHostFragment;\n   NavController navController;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentLoginOrSignupBinding.inflate(inflater, container, false);\n\n         navHostFragment = (NavHostFragment) requireActivity().getSupportFragmentManager().findFragmentById(R.id.fragmentContainerView);\n         navController = navHostFragment.getNavController();\n\n        userViewModel = new ViewModelProvider(getActivity()).get(UserViewModel.class);\n\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        binding.logInBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                navController.navigate(R.id.action_loginOrSignupFragment_to_logInFragment);\n            }\n        });\n\n        binding.signUpBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                navController.navigate(R.id.action_loginOrSignupFragment_to_signUpFragment);\n            }\n        });\n\n\n        createNotificationChannel();\n        Intent intentBreakfast = new Intent(getContext(), NotificationReceiver.class);\n        PendingIntent pendingIntentBreakfast = PendingIntent.getBroadcast(getContext(), 0, intentBreakfast, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        Intent intentLunch = new Intent(getContext(), NotificationReceiver.class);\n        PendingIntent pendingIntentLunch = PendingIntent.getBroadcast(getContext(), 1, intentLunch, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        Intent intentSnack = new Intent(getContext(), NotificationReceiver.class);\n        PendingIntent pendingIntentSnack = PendingIntent.getBroadcast(getContext(), 2, intentSnack, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        Intent intentDinner = new Intent(getContext(), NotificationReceiver.class);\n        PendingIntent pendingIntentDinner= PendingIntent.getBroadcast(getContext(), 3, intentDinner, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        AlarmManager alarmManager = (AlarmManager) requireContext().getSystemService(ALARM_SERVICE);\n        Calendar calendar = Calendar.getInstance();\n\n        calendar.set(Calendar.HOUR_OF_DAY, 13);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentBreakfast);\n\n        calendar.set(Calendar.HOUR_OF_DAY, 13);\n        calendar.set(Calendar.MINUTE, 1);\n        calendar.set(Calendar.SECOND, 0);\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentLunch);\n\n        calendar.set(Calendar.HOUR_OF_DAY, 13);\n        calendar.set(Calendar.MINUTE, 2);\n        calendar.set(Calendar.SECOND, 0);\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentSnack);\n\n        calendar.set(Calendar.HOUR_OF_DAY, 18);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntentDinner);\n    }\n\n    private void createNotificationChannel(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(&quot;notifyChannel&quot;, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            NotificationManager notificationManager = requireContext().getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n}`\n</code></pre>\n<pre><code>\n`public class NotificationReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent notificationIntent = new Intent(context, MainActivity.class);\n        PendingIntent contentIntent = PendingIntent.getActivity(context, 0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        // Отправляем уведомление\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;notifyChannel&quot;)\n                .setSmallIcon(R.drawable.logo)\n                .setContentTitle(&quot;Напоминание&quot;)\n                .setContentText(&quot;Время поесть!&quot;)\n                .setContentIntent(contentIntent)\n                .setAutoCancel(true);\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n        System.out.println(System.currentTimeMillis());\n        notificationManager.notify(200, builder.build());\n    }\n\n}`\n\n</code></pre>\n"},{"tags":["java","algorithm","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1683918667,"post_id":76239215,"comment_id":134445730,"body_markdown":"What do you mean by in-order given that your diagram is *not* a traditionally ordered binary search tree (for all nodes, left subtree values all less than current node, right subtree all greater)? How was the tree constructed in the first place?","body":"What do you mean by in-order given that your diagram is <i>not</i> a traditionally ordered binary search tree (for all nodes, left subtree values all less than current node, right subtree all greater)? How was the tree constructed in the first place?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1683918848,"post_id":76239215,"comment_id":134445756,"body_markdown":"The output can&#39;t start with 4 because both 9 and 11 are in order before 4. Some help [here](https://www.programiz.com/dsa/tree-traversal). You&#39;ve indicated a number of incorrect outputs but what do you think the correct output should be?","body":"The output can&#39;t start with 4 because both 9 and 11 are in order before 4. Some help <a href=\"https://www.programiz.com/dsa/tree-traversal\" rel=\"nofollow noreferrer\">here</a>. You&#39;ve indicated a number of incorrect outputs but what do you think the correct output should be?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683919878,"post_id":76239215,"comment_id":134445945,"body_markdown":"[wiki:Tree traversal &#187; In-order](https://en.wikipedia.org/wiki/Tree_traversal#In-order,_LNR)","body":"<a href=\"https://en.wikipedia.org/wiki/Tree_traversal#In-order,_LNR\" rel=\"nofollow noreferrer\">wiki:Tree traversal &#187; In-order</a>"}],"answers":[{"tags":[],"owner":{"account_id":15157520,"reputation":1,"user_id":10937806,"display_name":"Blazejeczek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683919861,"creation_date":1683919861,"answer_id":76239408,"question_id":76239215,"body_markdown":"In an in-order traversal, we recursively go through the nodes in the order **&quot;ArB&quot;**. In this notation **r** represents the current node while **A** and **B** are its left and right subtrees.\r\n\r\nWhat it means is that we follow a simple algorithm:\r\n  \r\n  1. Enter a new node\r\n  2. Process its left subtree\r\n  3. Process itself\r\n  4. Process its right subtree\r\n\r\nAfter step 4, the sequence of visited nodes should look like this: \\\r\n`{nodes visited earlier}, {all of the left subtree nodes}, r, {all of right subtree nodes}`\r\n\r\n##### In your specific case, do the following steps:\r\n  \r\n  1. Start in node 6\r\n  2. Go to left child of 6 -&gt; node 1 (processing left subtree)\r\n  3. Go to left child of 1 -&gt; node 9 (processing left subtree)\r\n  4. Node 9 has no left child, we can treat it as already fully processed\r\n  5. We processed left child of 9, so we add the [9] to the sequence (process itself)\r\n  6. Go to right child of 9 -&gt; 11 (process right subtree)\r\n  ...\r\n\r\nAfter fully processing the left subtree of 6 we should get `{9, 11, 4, 1, 5}`. Then you add `6` as its whole left subtree is already processed, and you can continue with its right subtree. Finally, the whole array looks like:\r\n`{all of nodes in left subtree}, 6, {all of nodes in right subtree}`, which nicely corresponds to the previously mentioned **&quot;ArB&quot;** notation.\r\n\r\n","title":"How to correct my inorder traversal of a binary tree?","body":"<p>In an in-order traversal, we recursively go through the nodes in the order <strong>&quot;ArB&quot;</strong>. In this notation <strong>r</strong> represents the current node while <strong>A</strong> and <strong>B</strong> are its left and right subtrees.</p>\n<p>What it means is that we follow a simple algorithm:</p>\n<ol>\n<li>Enter a new node</li>\n<li>Process its left subtree</li>\n<li>Process itself</li>\n<li>Process its right subtree</li>\n</ol>\n<p>After step 4, the sequence of visited nodes should look like this: <br />\n<code>{nodes visited earlier}, {all of the left subtree nodes}, r, {all of right subtree nodes}</code></p>\n<h5>In your specific case, do the following steps:</h5>\n<ol>\n<li>Start in node 6</li>\n<li>Go to left child of 6 -&gt; node 1 (processing left subtree)</li>\n<li>Go to left child of 1 -&gt; node 9 (processing left subtree)</li>\n<li>Node 9 has no left child, we can treat it as already fully processed</li>\n<li>We processed left child of 9, so we add the [9] to the sequence (process itself)</li>\n<li>Go to right child of 9 -&gt; 11 (process right subtree)\n...</li>\n</ol>\n<p>After fully processing the left subtree of 6 we should get <code>{9, 11, 4, 1, 5}</code>. Then you add <code>6</code> as its whole left subtree is already processed, and you can continue with its right subtree. Finally, the whole array looks like:\n<code>{all of nodes in left subtree}, 6, {all of nodes in right subtree}</code>, which nicely corresponds to the previously mentioned <strong>&quot;ArB&quot;</strong> notation.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683921645,"creation_date":1683921645,"answer_id":76239589,"question_id":76239215,"body_markdown":"The &quot;leftmost&quot; node will be first in the inorder traversal.\r\n\r\nOne way to get a feel for this traversal order, is to draw the tree in such a way that every node ends up in its own, vertical column, such that below that node, that column is completely empty: no other nodes there, nor edges crossing that column. In other words, the nodes in a parent node&#39;s left sub tree should all be positioned more to the left than the parent node. Same thing for the nodes in its right sub tree: they should all be positioned more to the right.\r\n\r\nFor your example tree, that leads to this representation:\r\n\r\n[![enter image description here][1]][1]   \r\n\r\nAnd now all that you have to do is read the node labels from left to right:\r\n\r\n9 11 4 1 5 6 8 7 3 2 10\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qr8uF.png","title":"How to correct my inorder traversal of a binary tree?","body":"<p>The &quot;leftmost&quot; node will be first in the inorder traversal.</p>\n<p>One way to get a feel for this traversal order, is to draw the tree in such a way that every node ends up in its own, vertical column, such that below that node, that column is completely empty: no other nodes there, nor edges crossing that column. In other words, the nodes in a parent node's left sub tree should all be positioned more to the left than the parent node. Same thing for the nodes in its right sub tree: they should all be positioned more to the right.</p>\n<p>For your example tree, that leads to this representation:</p>\n<p><a href=\"https://i.stack.imgur.com/Qr8uF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qr8uF.png\" alt=\"enter image description here\" /></a></p>\n<p>And now all that you have to do is read the node labels from left to right:</p>\n<p>9 11 4 1 5 6 8 7 3 2 10</p>\n"}],"owner":{"account_id":28590653,"reputation":3,"user_id":21889971,"display_name":"Divya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76239589,"answer_count":2,"score":0,"last_activity_date":1683921645,"creation_date":1683917913,"question_id":76239215,"body_markdown":"So for the tree I&#39;m working on, I can&#39;t figure out the Inorder Traversal. Currently I have:\r\n\r\n4, 11, 9, 1, 5, 6, 7, 8, 3, 2, 10\r\n\r\nbut this is incorrect. If anyone has an explanation of the correct answer, that would be helpful! I watched some videos for it but I have no idea what went wrong. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried:\r\n\r\n4, 11, 9, 1, 5, 6, 7, 8, 3, 2, 10\r\n\r\n4, 11, 9, 1, 5, 6, 7, 8, 3, 10, 2\r\n\r\nboth of these are incorrect, I&#39;m not sure what to do with the long strand on the left or the order.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3QWy9.png","title":"How to correct my inorder traversal of a binary tree?","body":"<p>So for the tree I'm working on, I can't figure out the Inorder Traversal. Currently I have:</p>\n<p>4, 11, 9, 1, 5, 6, 7, 8, 3, 2, 10</p>\n<p>but this is incorrect. If anyone has an explanation of the correct answer, that would be helpful! I watched some videos for it but I have no idea what went wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/3QWy9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3QWy9.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried:</p>\n<p>4, 11, 9, 1, 5, 6, 7, 8, 3, 2, 10</p>\n<p>4, 11, 9, 1, 5, 6, 7, 8, 3, 10, 2</p>\n<p>both of these are incorrect, I'm not sure what to do with the long strand on the left or the order.</p>\n"},{"tags":["java","twilio","sendgrid","sendgrid-api-v3"],"comments":[{"owner":{"account_id":2215084,"reputation":6791,"user_id":2919731,"accept_rate":100,"display_name":"Swimburger"},"score":0,"creation_date":1683296854,"post_id":76179778,"comment_id":134349747,"body_markdown":"I&#39;m guessing what the issue could be based on experience working with this. Could you add an extra dynamic template data with key `subject` and the subject you want?\nI think when you&#39;re using `{{subject}}` or `{{any_field}}` inside your subject field, it will pull that data from the dynamic template data, not from the subject field itself.","body":"I&#39;m guessing what the issue could be based on experience working with this. Could you add an extra dynamic template data with key <code>subject</code> and the subject you want? I think when you&#39;re using <code>{{subject}}</code> or <code>{{any_field}}</code> inside your subject field, it will pull that data from the dynamic template data, not from the subject field itself."},{"owner":{"account_id":28514196,"reputation":31,"user_id":21823767,"display_name":"Harsha Shivakumar"},"score":0,"creation_date":1683297689,"post_id":76179778,"comment_id":134350003,"body_markdown":"@Swimburger - I deleted the Personalization section and tested. Hoping it would pick up from  mail.setSubject(&quot;test version of twilio&quot;); But did not work","body":"@Swimburger - I deleted the Personalization section and tested. Hoping it would pick up from  mail.setSubject(&quot;test version of twilio&quot;); But did not work"},{"owner":{"account_id":28514196,"reputation":31,"user_id":21823767,"display_name":"Harsha Shivakumar"},"score":0,"creation_date":1683298543,"post_id":76179778,"comment_id":134350198,"body_markdown":"@Swimburger - When I test the email thru 1) Preview with Test data - it works fine.  2) Send a test email from sendgrid site - it works fine. Problem occurs only when running thru standalone java.","body":"@Swimburger - When I test the email thru 1) Preview with Test data - it works fine.  2) Send a test email from sendgrid site - it works fine. Problem occurs only when running thru standalone java."},{"owner":{"account_id":2215084,"reputation":6791,"user_id":2919731,"accept_rate":100,"display_name":"Swimburger"},"score":0,"creation_date":1683299374,"post_id":76179778,"comment_id":134350451,"body_markdown":"When using Dynamic Templates, the subject configured on the template is used, and the subject set using `setSubject` is ignored I think. \nDon&#39;t delete the Personalization section, use the personalization and add another dynamic template data item, with key `subject` and the subject value you want it to have.","body":"When using Dynamic Templates, the subject configured on the template is used, and the subject set using <code>setSubject</code> is ignored I think.  Don&#39;t delete the Personalization section, use the personalization and add another dynamic template data item, with key <code>subject</code> and the subject value you want it to have."},{"owner":{"account_id":28514196,"reputation":31,"user_id":21823767,"display_name":"Harsha Shivakumar"},"score":0,"creation_date":1683300003,"post_id":76179778,"comment_id":134350622,"body_markdown":"@Swimburger - ok got your point. Scenario what I&#39;m trying to test is --&gt; I want to add order id in the subject. How do I implement this?","body":"@Swimburger - ok got your point. Scenario what I&#39;m trying to test is --&gt; I want to add order id in the subject. How do I implement this?"},{"owner":{"account_id":2215084,"reputation":6791,"user_id":2919731,"accept_rate":100,"display_name":"Swimburger"},"score":0,"creation_date":1683301403,"post_id":76179778,"comment_id":134350928,"body_markdown":"Two ways you could do it, update your subject in the Dynamic Template in the SendGrid app to &quot;Foo Bar {{order_id}}&quot;, and then add a dynamic template data with key `order_id` and the order ID value.\nAlternatively, keep the subject in the Dynamic Template as &quot;{{subject}}&quot;, and then add a dynamic template data with key `subject` and the value &quot;Foo Bar &quot; + order ID.\nDid you try to see if the template data gets embedded into the subject tho?","body":"Two ways you could do it, update your subject in the Dynamic Template in the SendGrid app to &quot;Foo Bar {{order_id}}&quot;, and then add a dynamic template data with key <code>order_id</code> and the order ID value. Alternatively, keep the subject in the Dynamic Template as &quot;{{subject}}&quot;, and then add a dynamic template data with key <code>subject</code> and the value &quot;Foo Bar &quot; + order ID. Did you try to see if the template data gets embedded into the subject tho?"},{"owner":{"account_id":2215084,"reputation":6791,"user_id":2919731,"accept_rate":100,"display_name":"Swimburger"},"score":0,"creation_date":1683660837,"post_id":76179778,"comment_id":134400178,"body_markdown":"Did that work out?","body":"Did that work out?"},{"owner":{"account_id":28514196,"reputation":31,"user_id":21823767,"display_name":"Harsha Shivakumar"},"score":0,"creation_date":1683878762,"post_id":76179778,"comment_id":134436951,"body_markdown":"@Swimburger - The substitution of handlebars is not working currently. But When I test with test data section with the output from mail.build(). There it works","body":"@Swimburger - The substitution of handlebars is not working currently. But When I test with test data section with the output from mail.build(). There it works"}],"answers":[{"tags":[],"owner":{"account_id":2215084,"reputation":6791,"user_id":2919731,"accept_rate":100,"display_name":"Swimburger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683921093,"creation_date":1683921093,"answer_id":76239538,"question_id":76179778,"body_markdown":"Instead of going back and forth in the comments, I verified your problem and the solution, so here is a more detailed explanation.\r\n\r\nI copied your code and removed the bits that are irrelevant for your usecase.\r\nSince you&#39;re using Dynamic Email Templates and persionalizations, I removed the following:\r\n\r\n- I removed `To` from the `Mail` since it&#39;ll be provided by the personalization\r\n- I removed the plain text and HTML content, since the content will be provided by the Dynamic Email Template.\r\n- I removed the `Subject` from the `Mail` and `Personalization` since it&#39;ll be provided by the Dynamics Email Template.\r\n\r\nThis is what the code looks like now:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport com.sendgrid.Method;\r\nimport com.sendgrid.Request;\r\nimport com.sendgrid.Response;\r\nimport com.sendgrid.SendGrid;\r\nimport com.sendgrid.helpers.mail.Mail;\r\nimport com.sendgrid.helpers.mail.objects.Email;\r\nimport com.sendgrid.helpers.mail.objects.Personalization;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Mail mail = new Mail();\r\n            mail.setFrom(new Email(&quot;[SENDER_EMAIL_ADDRESS]&quot;, &quot;[SENDER_NAME]&quot;));\r\n            mail.setTemplateId(&quot;d-[YOUR_DYNAMIC_TEMPLATE_ID]&quot;);\r\n\r\n            final Personalization personalization1 = new Personalization();\r\n            personalization1.addTo(new Email(&quot;[RECIPIENT_EMAIL_ADDRESS]&quot;, &quot;[RECIPIENT_NAME]&quot;));\r\n            personalization1.addDynamicTemplateData(&quot;car_name&quot;, &quot;Volkswagen Beetle&quot;);\r\n            mail.addPersonalization(personalization1);\r\n\r\n            SendGrid sg = new SendGrid(&quot;SG.[YOUR_SENDGRID_API_KEY}&quot;);\r\n            Request request = new Request();\r\n            request.setMethod(Method.POST);\r\n            request.setEndpoint(&quot;mail/send&quot;);\r\n            System.out.println(mail.build());\r\n            request.setBody(mail.build());\r\n            Response response = sg.api(request);\r\n            System.out.println(&quot;status code: &quot; + response.getStatusCode());\r\n            System.out.println(&quot;response body: &quot; + response.getBody());\r\n            System.out.println(&quot;response header : &quot; + response.getHeaders());\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;inside exception&quot; + ex.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI added the `car_name` Dynamic Template Data, so I can use it in the email subject of the Dynamic Email Template, [following this guidance][1].\r\n\r\n[![Settings of a SendGrid Dynamic Email Template with subject that uses template data.][2]][2]\r\n\r\nWhen I do set the subject using `mail.SetSubject` or `personalization1.setSubject`, those subjects are ignored, and the subject configured on the Dynamic Email Template is still used. Even when the subject configured on the Dynamic Email Template is empty, the `mail.subject` and `personalization.subject` are still ignored. When you&#39;re using Dynamic Email Templates, it has to be set using the subject on the Dynamic Email Template.\r\n\r\nOne workaround is to set the subject on the Dynamic Email Template to `{{subject}}` and set a dynamic template data with key `subject` and whatever subject you like:\r\n\r\n```java\r\npersonalization1.addDynamicTemplateData(&quot;subject&quot;, &quot;Your Volkswagen Beetle Extended Car Warranty&quot;);\r\n```\r\n\r\n[![SendGrid Dynamic Email Template settings where subject is set to {{subject}}][3]][3]\r\n\r\n\r\n  [1]: https://support.sendgrid.com/hc/en-us/articles/1260802535110-Create-a-Dynamic-Email-Subject-Line-with-Mustache-Templates\r\n  [2]: https://i.stack.imgur.com/bnsS2.png\r\n  [3]: https://i.stack.imgur.com/LkdJ1.png","title":"Custom Subject not getting displayed - {{subject}}","body":"<p>Instead of going back and forth in the comments, I verified your problem and the solution, so here is a more detailed explanation.</p>\n<p>I copied your code and removed the bits that are irrelevant for your usecase.\nSince you're using Dynamic Email Templates and persionalizations, I removed the following:</p>\n<ul>\n<li>I removed <code>To</code> from the <code>Mail</code> since it'll be provided by the personalization</li>\n<li>I removed the plain text and HTML content, since the content will be provided by the Dynamic Email Template.</li>\n<li>I removed the <code>Subject</code> from the <code>Mail</code> and <code>Personalization</code> since it'll be provided by the Dynamics Email Template.</li>\n</ul>\n<p>This is what the code looks like now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport com.sendgrid.Method;\nimport com.sendgrid.Request;\nimport com.sendgrid.Response;\nimport com.sendgrid.SendGrid;\nimport com.sendgrid.helpers.mail.Mail;\nimport com.sendgrid.helpers.mail.objects.Email;\nimport com.sendgrid.helpers.mail.objects.Personalization;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            Mail mail = new Mail();\n            mail.setFrom(new Email(&quot;[SENDER_EMAIL_ADDRESS]&quot;, &quot;[SENDER_NAME]&quot;));\n            mail.setTemplateId(&quot;d-[YOUR_DYNAMIC_TEMPLATE_ID]&quot;);\n\n            final Personalization personalization1 = new Personalization();\n            personalization1.addTo(new Email(&quot;[RECIPIENT_EMAIL_ADDRESS]&quot;, &quot;[RECIPIENT_NAME]&quot;));\n            personalization1.addDynamicTemplateData(&quot;car_name&quot;, &quot;Volkswagen Beetle&quot;);\n            mail.addPersonalization(personalization1);\n\n            SendGrid sg = new SendGrid(&quot;SG.[YOUR_SENDGRID_API_KEY}&quot;);\n            Request request = new Request();\n            request.setMethod(Method.POST);\n            request.setEndpoint(&quot;mail/send&quot;);\n            System.out.println(mail.build());\n            request.setBody(mail.build());\n            Response response = sg.api(request);\n            System.out.println(&quot;status code: &quot; + response.getStatusCode());\n            System.out.println(&quot;response body: &quot; + response.getBody());\n            System.out.println(&quot;response header : &quot; + response.getHeaders());\n        } catch (Exception ex) {\n            System.out.println(&quot;inside exception&quot; + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>I added the <code>car_name</code> Dynamic Template Data, so I can use it in the email subject of the Dynamic Email Template, <a href=\"https://support.sendgrid.com/hc/en-us/articles/1260802535110-Create-a-Dynamic-Email-Subject-Line-with-Mustache-Templates\" rel=\"nofollow noreferrer\">following this guidance</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/bnsS2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnsS2.png\" alt=\"Settings of a SendGrid Dynamic Email Template with subject that uses template data.\" /></a></p>\n<p>When I do set the subject using <code>mail.SetSubject</code> or <code>personalization1.setSubject</code>, those subjects are ignored, and the subject configured on the Dynamic Email Template is still used. Even when the subject configured on the Dynamic Email Template is empty, the <code>mail.subject</code> and <code>personalization.subject</code> are still ignored. When you're using Dynamic Email Templates, it has to be set using the subject on the Dynamic Email Template.</p>\n<p>One workaround is to set the subject on the Dynamic Email Template to <code>{{subject}}</code> and set a dynamic template data with key <code>subject</code> and whatever subject you like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>personalization1.addDynamicTemplateData(&quot;subject&quot;, &quot;Your Volkswagen Beetle Extended Car Warranty&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LkdJ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LkdJ1.png\" alt=\"SendGrid Dynamic Email Template settings where subject is set to {{subject}}\" /></a></p>\n"}],"owner":{"account_id":28514196,"reputation":31,"user_id":21823767,"display_name":"Harsha Shivakumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683921093,"creation_date":1683271728,"question_id":76179778,"body_markdown":"I&#39;m sending a email request thru standalone java program. But, when the email is delivered the subject is displayed as (no subject).\r\n\r\nI&#39;ve created an account\r\nCreated a dynamic template\r\nSelected a blank Template\r\nWanted to pass custom values thru JAVA code\r\nAt the sendgrid template side I&#39;ve configured like the below mentioned\r\n{{subject}}\r\nand\r\n{{#each content}}\r\n\r\n{{this.type}}\r\n{{this.value}}\r\n\r\n{{/each}}\r\n\r\nWhen I preview it with the test data section (pasted json created from standalone java), it is showing correct values.\r\nBut when I execute the standalone program , the subject and other content part does not get displayed.\r\n\r\nJava Code\r\n\r\n```\r\nimport com.sendgrid.Method;\r\nimport com.sendgrid.Request;\r\nimport com.sendgrid.Response;\r\nimport com.sendgrid.SendGrid;\r\nimport com.sendgrid.helpers.mail.Mail;\r\nimport com.sendgrid.helpers.mail.objects.Content;\r\nimport com.sendgrid.helpers.mail.objects.Email;\r\nimport com.sendgrid.helpers.mail.objects.Personalization;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\npublic class WithMailHelper {\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tEmail from = new Email(&quot;xxxx@xyz.com&quot;);\r\n\t\tEmail to = new Email(&quot;abcdef@gmail.com&quot;);\r\n\t\tContent content = new Content(&quot;text/plain&quot;, &quot;and easy to do anywhere, even with Java&quot;);\r\n\t\tMail mail = new Mail(from, subject, to, content);\r\n\r\n\t\tmail.setTemplateId(&quot;d-abcdefghijk&quot;);\r\n\t\tmail.setSubject(&quot;test version of twilio&quot;);\r\n\t\t\r\n\t\tmail.addContent(new Content(&quot;text/html&quot;, &quot;&lt;strong&gt;sendGrid is easy to do anywhere, even with Java&lt;/strong&gt;&quot;));\r\n\r\n\t\tfinal Personalization personalization1 = new Personalization();\r\n\t\tpersonalization1.addTo(new Email(&quot;abc@xyz.com&quot;, &quot;ABCDEF GHIJK&quot;));\r\n\t\tpersonalization1.addDynamicTemplateData(&quot;name&quot;, &quot;ABC&quot;);\r\n\t\tpersonalization1.addDynamicTemplateData(&quot;city&quot;, &quot;XYZ&quot;);\r\n\t\tpersonalization1.setSubject(&quot;testing subject thru personalization&quot;);\r\n\t\tmail.addPersonalization(personalization1);\r\n\r\n\t\tSendGrid sg = new SendGrid(&quot;SG.KEYVALUEPAIRAPI);\r\n\t\tRequest request = new Request();\r\n\t\ttry {\r\n\t\t\trequest.setMethod(Method.POST);\r\n\t\t\trequest.setEndpoint(&quot;mail/send&quot;);\r\n\t\t\tSystem.out.println(mail.build());\r\n\t\t\trequest.setBody(mail.build());\r\n\t\t\tResponse response = sg.api(request);\r\n\t\t\tSystem.out.println(&quot;status code: &quot; + response.getStatusCode());\r\n\t\t\tSystem.out.println(&quot;response body: &quot; + response.getBody());\r\n\t\t\tSystem.out.println(&quot;response header : &quot; + response.getHeaders());\r\n\t\t} catch (IOException ex) {\r\n\t\t\tSystem.out.println(&quot;inside exception&quot; + ex.getMessage());\r\n\t\t\tthrow ex;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nemail with custom subject and content should have displayed. but it is not ","title":"Custom Subject not getting displayed - {{subject}}","body":"<p>I'm sending a email request thru standalone java program. But, when the email is delivered the subject is displayed as (no subject).</p>\n<p>I've created an account\nCreated a dynamic template\nSelected a blank Template\nWanted to pass custom values thru JAVA code\nAt the sendgrid template side I've configured like the below mentioned\n{{subject}}\nand\n{{#each content}}</p>\n<p>{{this.type}}\n{{this.value}}</p>\n<p>{{/each}}</p>\n<p>When I preview it with the test data section (pasted json created from standalone java), it is showing correct values.\nBut when I execute the standalone program , the subject and other content part does not get displayed.</p>\n<p>Java Code</p>\n<pre><code>import com.sendgrid.Method;\nimport com.sendgrid.Request;\nimport com.sendgrid.Response;\nimport com.sendgrid.SendGrid;\nimport com.sendgrid.helpers.mail.Mail;\nimport com.sendgrid.helpers.mail.objects.Content;\nimport com.sendgrid.helpers.mail.objects.Email;\nimport com.sendgrid.helpers.mail.objects.Personalization;\n\nimport java.io.IOException;\n\n\npublic class WithMailHelper {\n    public static void main(String[] args) throws IOException\n    {\n        Email from = new Email(&quot;xxxx@xyz.com&quot;);\n        Email to = new Email(&quot;abcdef@gmail.com&quot;);\n        Content content = new Content(&quot;text/plain&quot;, &quot;and easy to do anywhere, even with Java&quot;);\n        Mail mail = new Mail(from, subject, to, content);\n\n        mail.setTemplateId(&quot;d-abcdefghijk&quot;);\n        mail.setSubject(&quot;test version of twilio&quot;);\n        \n        mail.addContent(new Content(&quot;text/html&quot;, &quot;&lt;strong&gt;sendGrid is easy to do anywhere, even with Java&lt;/strong&gt;&quot;));\n\n        final Personalization personalization1 = new Personalization();\n        personalization1.addTo(new Email(&quot;abc@xyz.com&quot;, &quot;ABCDEF GHIJK&quot;));\n        personalization1.addDynamicTemplateData(&quot;name&quot;, &quot;ABC&quot;);\n        personalization1.addDynamicTemplateData(&quot;city&quot;, &quot;XYZ&quot;);\n        personalization1.setSubject(&quot;testing subject thru personalization&quot;);\n        mail.addPersonalization(personalization1);\n\n        SendGrid sg = new SendGrid(&quot;SG.KEYVALUEPAIRAPI);\n        Request request = new Request();\n        try {\n            request.setMethod(Method.POST);\n            request.setEndpoint(&quot;mail/send&quot;);\n            System.out.println(mail.build());\n            request.setBody(mail.build());\n            Response response = sg.api(request);\n            System.out.println(&quot;status code: &quot; + response.getStatusCode());\n            System.out.println(&quot;response body: &quot; + response.getBody());\n            System.out.println(&quot;response header : &quot; + response.getHeaders());\n        } catch (IOException ex) {\n            System.out.println(&quot;inside exception&quot; + ex.getMessage());\n            throw ex;\n        }\n    }\n}\n</code></pre>\n<p>email with custom subject and content should have displayed. but it is not</p>\n"},{"tags":["java","mongodb","geojson","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1463766840,"post_id":37349964,"comment_id":62221421,"body_markdown":"Did you make sure that you downloaded the correct version of the plugin to match your GeoServer version? Failing that look in the log file to see what it says.","body":"Did you make sure that you downloaded the correct version of the plugin to match your GeoServer version? Failing that look in the log file to see what it says."},{"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"score":0,"creation_date":1464033892,"post_id":37349964,"comment_id":62307718,"body_markdown":"@iant, I&#39;m using gt-mongodb-9.4.jar with GeoServer 2.5.2.  As far as I can tell, this should be okay.  Do you see any issue with this?","body":"@iant, I&#39;m using gt-mongodb-9.4.jar with GeoServer 2.5.2.  As far as I can tell, this should be okay.  Do you see any issue with this?"}],"answers":[{"tags":[],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1464370238,"creation_date":1464370238,"answer_id":37489288,"question_id":37349964,"body_markdown":"In case someone runs into the same issue as me, here is a solution.  \r\n\r\nAfter digging through the plugin code, I realized that the plugin expects a couple stored javascript functions to exist on mongo.  I found the javascript files and instructions on installing them inside the Jar file.  However, even after installing the javacript functions it would not work (I&#39;m guessing because of an incompatibility between my mongodb version and the way the driver calls the function, but this is mostly a guess.  I didn&#39;t look too deeply into what the root issue is it because I found a working solution, but I think this should work for mongodb versions before 2.4, or you&#39;d have to alter the driver.)\r\n\r\nWhile I was considering modifying the driver to work in this situation, I found out that BoundlessGeo publishes a driver that&#39;s newer and works faster and is easier to use.  \r\n\r\nHere is the github repo : https://github.com/boundlessgeo/geoserver-exts for geoserver-exts.  The instruction are on the readme, but basically you &quot;git clone&quot; and then do a &quot;mvn install&quot; and it build the drivers for you (the driver jar should look something like : gt-mongo-15-SNAPSHOT.jar).\r\n\r\nThe instruction for installation can be found here : https://github.com/boundlessgeo/suite/blob/master/docs/usermanual/source/dataadmin/mongodb/store.rst#id19.","title":"Serving Geo-spatial data in MongoDB through GeoServer","body":"<p>In case someone runs into the same issue as me, here is a solution.  </p>\n\n<p>After digging through the plugin code, I realized that the plugin expects a couple stored javascript functions to exist on mongo.  I found the javascript files and instructions on installing them inside the Jar file.  However, even after installing the javacript functions it would not work (I'm guessing because of an incompatibility between my mongodb version and the way the driver calls the function, but this is mostly a guess.  I didn't look too deeply into what the root issue is it because I found a working solution, but I think this should work for mongodb versions before 2.4, or you'd have to alter the driver.)</p>\n\n<p>While I was considering modifying the driver to work in this situation, I found out that BoundlessGeo publishes a driver that's newer and works faster and is easier to use.  </p>\n\n<p>Here is the github repo : <a href=\"https://github.com/boundlessgeo/geoserver-exts\" rel=\"nofollow\">https://github.com/boundlessgeo/geoserver-exts</a> for geoserver-exts.  The instruction are on the readme, but basically you \"git clone\" and then do a \"mvn install\" and it build the drivers for you (the driver jar should look something like : gt-mongo-15-SNAPSHOT.jar).</p>\n\n<p>The instruction for installation can be found here : <a href=\"https://github.com/boundlessgeo/suite/blob/master/docs/usermanual/source/dataadmin/mongodb/store.rst#id19\" rel=\"nofollow\">https://github.com/boundlessgeo/suite/blob/master/docs/usermanual/source/dataadmin/mongodb/store.rst#id19</a>.</p>\n"}],"owner":{"account_id":1017281,"reputation":1537,"user_id":1028560,"accept_rate":83,"display_name":"Sanjeev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37489288,"answer_count":1,"score":0,"last_activity_date":1683920994,"creation_date":1463756174,"question_id":37349964,"body_markdown":"I have Geo-spatial data stored in a MongoDB data store which I would like to serve up through GeoServer so that the data can be consumed though WFS, WMS, etc.  I was able to install GeoServer and drop in the gt-mongodb plugin that&#39;s packaged with GeoTools and also install the MongoDb driver for Java.  After doing this I was able to Mongo as a an option in when adding a data store.  However, after creating a new MongoDB store I am unable to create a new vector layer; I continue to get the following error : &quot;could not create vector layer: null&quot;.\r\n\r\nHere is what I&#39;m doing :\r\n\r\n- under the data section, I click &quot;layers&quot;\r\n- &quot;add new resource&quot;\r\n- select the mongodb store I created from the dropdown\r\n- &quot;create new feature types&quot;\r\n- &quot;add new attribute&quot; and add several fields from my data\r\n- enter a &quot;type name&quot; and click save.\r\n\r\n\r\nI&#39;m sort of new the GeoServer and despite searching in every way I can think of, was unable to find documentation pertaining to MongoDB plugin for GeoServer.  I&#39;ve been told that the only other option I might have it to write my own MongoDB extension for GeoServer.  Before I go down that path, I was hoping to find some documentation on this or examples how someone might have gotten it to work.  I appreciate any help with this.","title":"Serving Geo-spatial data in MongoDB through GeoServer","body":"<p>I have Geo-spatial data stored in a MongoDB data store which I would like to serve up through GeoServer so that the data can be consumed though WFS, WMS, etc.  I was able to install GeoServer and drop in the gt-mongodb plugin that's packaged with GeoTools and also install the MongoDb driver for Java.  After doing this I was able to Mongo as a an option in when adding a data store.  However, after creating a new MongoDB store I am unable to create a new vector layer; I continue to get the following error : &quot;could not create vector layer: null&quot;.</p>\n<p>Here is what I'm doing :</p>\n<ul>\n<li>under the data section, I click &quot;layers&quot;</li>\n<li>&quot;add new resource&quot;</li>\n<li>select the mongodb store I created from the dropdown</li>\n<li>&quot;create new feature types&quot;</li>\n<li>&quot;add new attribute&quot; and add several fields from my data</li>\n<li>enter a &quot;type name&quot; and click save.</li>\n</ul>\n<p>I'm sort of new the GeoServer and despite searching in every way I can think of, was unable to find documentation pertaining to MongoDB plugin for GeoServer.  I've been told that the only other option I might have it to write my own MongoDB extension for GeoServer.  Before I go down that path, I was hoping to find some documentation on this or examples how someone might have gotten it to work.  I appreciate any help with this.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683916091,"creation_date":1683916091,"answer_id":76239033,"question_id":76238855,"body_markdown":"Not sure which tutorials you followed and I don&#39;t know if you are using a build tool such as [maven][1], [gradle][2] or similar. I suggest to use them in case you are project doesn&#39;t have a build tool setup. \r\n\r\nJust adding the following dependencies:\r\n\r\n- [Selenium][3]\r\n- [Web Driver Manager][4]\r\n- [Junit][5] (this one in case you want to run selenium as an automated test\r\n\r\nYou should be able to execute the [hello world from the official doc][6]\r\n\r\nYou have more examples of [selenium scripts in their github repo][7]\r\n\r\n\r\n  [1]: https://maven.apache.org/\r\n  [2]: https://gradle.org/\r\n  [3]: https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\r\n  [4]: https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\r\n  [5]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\n  [6]: https://www.selenium.dev/documentation/webdriver/getting_started/first_script/\r\n  [7]: https://github.com/SeleniumHQ/seleniumhq.github.io/tree/trunk/examples/java","title":"Selenium Java cannot resolve Webdriver","body":"<p>Not sure which tutorials you followed and I don't know if you are using a build tool such as <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a>, <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle</a> or similar. I suggest to use them in case you are project doesn't have a build tool setup.</p>\n<p>Just adding the following dependencies:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\">Selenium</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">Web Driver Manager</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"nofollow noreferrer\">Junit</a> (this one in case you want to run selenium as an automated test</li>\n</ul>\n<p>You should be able to execute the <a href=\"https://www.selenium.dev/documentation/webdriver/getting_started/first_script/\" rel=\"nofollow noreferrer\">hello world from the official doc</a></p>\n<p>You have more examples of <a href=\"https://github.com/SeleniumHQ/seleniumhq.github.io/tree/trunk/examples/java\" rel=\"nofollow noreferrer\">selenium scripts in their github repo</a></p>\n"},{"tags":[],"owner":{"account_id":24757757,"reputation":11,"user_id":18642503,"display_name":"Fauzia Ayubi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683920674,"creation_date":1683920674,"answer_id":76239500,"question_id":76238855,"body_markdown":"because the WebDriver interface is not properly imported.\r\nImport the WebDriver interface by:\r\nimport org.openqa.selenium.WebDriver;\r\n\r\n(Make sure that you have imported the WebDriver interface at the beginning of your Java code.)","title":"Selenium Java cannot resolve Webdriver","body":"<p>because the WebDriver interface is not properly imported.\nImport the WebDriver interface by:\nimport org.openqa.selenium.WebDriver;</p>\n<p>(Make sure that you have imported the WebDriver interface at the beginning of your Java code.)</p>\n"}],"owner":{"account_id":16471971,"reputation":3,"user_id":11900803,"display_name":"Daniel H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76239033,"answer_count":2,"score":-1,"last_activity_date":1683920674,"creation_date":1683913955,"question_id":76238855,"body_markdown":"I try to start with Selenium.\r\nBut I am not able to get the imports from the Selenium working.\r\n\r\nI did research on this issue and watched many youtube tutorials, but no clue, why the libraries cannot be imported for WebDriver or FirefoxDriver.\r\nAll is set buildpath as libraries.\r\n\r\nAny idea? Also tried it with different JDKs 1.8, 17, 20\r\n\r\n[Screenshot][1]\r\n\r\n- different JDKs 1.8, 17, 20\r\n- different Selenium Java versions (currently with newest)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KKO4V.png","title":"Selenium Java cannot resolve Webdriver","body":"<p>I try to start with Selenium.\nBut I am not able to get the imports from the Selenium working.</p>\n<p>I did research on this issue and watched many youtube tutorials, but no clue, why the libraries cannot be imported for WebDriver or FirefoxDriver.\nAll is set buildpath as libraries.</p>\n<p>Any idea? Also tried it with different JDKs 1.8, 17, 20</p>\n<p><a href=\"https://i.stack.imgur.com/KKO4V.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<ul>\n<li>different JDKs 1.8, 17, 20</li>\n<li>different Selenium Java versions (currently with newest)</li>\n</ul>\n"},{"tags":["java","spring","many-to-many"],"comments":[{"owner":{"account_id":5295306,"reputation":1098,"user_id":4226637,"accept_rate":60,"display_name":"Bhargav Patel"},"score":0,"creation_date":1684927575,"post_id":76239457,"comment_id":134588308,"body_markdown":"Please post your exception logs in details","body":"Please post your exception logs in details"}],"owner":{"account_id":19934985,"reputation":1,"user_id":14686355,"display_name":"Nano20211"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683920492,"creation_date":1683920380,"question_id":76239457,"body_markdown":"I have two entities (characters and movies) related many to many and I need that when one is consulted, for example characters, the related movies are displayed and vice versa. The problem is that I get serialization error if I use FetchType.EAGER or FetchType.LAZY. How could I achieve it?\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;_characters&quot;)\r\npublic class Characters {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinTable(name = &quot;characters_movie&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;characters_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;movies_id&quot;, insertable = false, updatable = false))\r\n    private Set&lt;Movie&gt; movies = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;_movies&quot;)\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;movies&quot;)\r\n    private Set&lt;Characters&gt; characters = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\napplication.properties\r\n\r\n```\r\nspring.sql.init.mode=always\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.open-in-view=true\r\n\r\n```\r\n\r\nThe solutions that I tried and did not work for you\r\n\r\n@JsonManagedReference (shows only one side of the relationship)\r\n@JsonIdentityInfo (shows, for example, a character&#39;s related movies but then shows the characters related to that movie and so on)\r\n@Transactional (no function)","title":"Show both sides of a relationship manyTomany Spring","body":"<p>I have two entities (characters and movies) related many to many and I need that when one is consulted, for example characters, the related movies are displayed and vice versa. The problem is that I get serialization error if I use FetchType.EAGER or FetchType.LAZY. How could I achieve it?</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;_characters&quot;)\npublic class Characters {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;characters_movie&quot;,\n            joinColumns = @JoinColumn(name = &quot;characters_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;movies_id&quot;, insertable = false, updatable = false))\n    private Set&lt;Movie&gt; movies = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;_movies&quot;)\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;movies&quot;)\n    private Set&lt;Characters&gt; characters = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.sql.init.mode=always\nspring.jpa.defer-datasource-initialization=true\n\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.open-in-view=true\n\n</code></pre>\n<p>The solutions that I tried and did not work for you</p>\n<p>@JsonManagedReference (shows only one side of the relationship)\n@JsonIdentityInfo (shows, for example, a character's related movies but then shows the characters related to that movie and so on)\n@Transactional (no function)</p>\n"},{"tags":["java","android","android-contentprovider"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683870628,"post_id":76233336,"comment_id":134435596,"body_markdown":"have you tried this ? https://stackoverflow.com/a/5745955/5696047","body":"have you tried this ? <a href=\"https://stackoverflow.com/a/5745955/5696047\">stackoverflow.com/a/5745955/5696047</a>"},{"owner":{"account_id":17965246,"reputation":21,"user_id":13055260,"display_name":"yeri123"},"score":0,"creation_date":1683871208,"post_id":76233336,"comment_id":134435674,"body_markdown":"@jayeshgurudayalani can&#39;t really query for this flag..","body":"@jayeshgurudayalani can&#39;t really query for this flag.."}],"answers":[{"tags":[],"owner":{"account_id":5871066,"reputation":422,"user_id":4623392,"accept_rate":20,"display_name":"harsh bangari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683920065,"creation_date":1683869637,"answer_id":76233396,"question_id":76233336,"body_markdown":"Use this code inside contactChanged(), and for more details on Contacts Provider [reference][1] \r\n\r\n    // projection for the query\r\n    String[] projection = new String[]{\r\n            ContactsContract.Contacts._ID,\r\n            ContactsContract.Contacts.DISPLAY_NAME,\r\n            ContactsContract.Contacts.CONTACT_LAST_UPDATED_TIMESTAMP\r\n    };\r\n    \r\n    // sort order for the query\r\n    String sortOrder = ContactsContract.Contacts.CONTACT_LAST_UPDATED_TIMESTAMP + &quot; DESC&quot;;\r\n    \r\n    // Query the Contacts Provider for recently updated contacts\r\n    Cursor cursor = getContentResolver().query(\r\n            ContactsContract.Contacts.CONTENT_URI,\r\n            projection,\r\n            null,\r\n            null,\r\n            sortOrder\r\n    );\r\n    \r\n    // Loop through the results and handle the recently updated contacts\r\n    if (cursor != null) {\r\n        while (cursor.moveToNext()) {\r\n            String contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\r\n            String contactName = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\r\n            Long lastUpdated = cursor.getLong(cursor.getColumnIndex(ContactsContract.Contacts.CONTACT_LAST_UPDATED_TIMESTAMP));\r\n            // handle recently updated contacts here\r\n        }\r\n        cursor.close();\r\n    }\r\n\r\n    // Don&#39;t forget to unregister the ContentObserver.\r\n\r\n\r\n  [1]: https://developer.android.com/training/contacts-provider/retrieve-names","title":"How can I only query for the contacts that have been updated/edited? android","body":"<p>Use this code inside contactChanged(), and for more details on Contacts Provider <a href=\"https://developer.android.com/training/contacts-provider/retrieve-names\" rel=\"nofollow noreferrer\">reference</a></p>\n<pre><code>// projection for the query\nString[] projection = new String[]{\n        ContactsContract.Contacts._ID,\n        ContactsContract.Contacts.DISPLAY_NAME,\n        ContactsContract.Contacts.CONTACT_LAST_UPDATED_TIMESTAMP\n};\n\n// sort order for the query\nString sortOrder = ContactsContract.Contacts.CONTACT_LAST_UPDATED_TIMESTAMP + &quot; DESC&quot;;\n\n// Query the Contacts Provider for recently updated contacts\nCursor cursor = getContentResolver().query(\n        ContactsContract.Contacts.CONTENT_URI,\n        projection,\n        null,\n        null,\n        sortOrder\n);\n\n// Loop through the results and handle the recently updated contacts\nif (cursor != null) {\n    while (cursor.moveToNext()) {\n        String contactId = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));\n        String contactName = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n        Long lastUpdated = cursor.getLong(cursor.getColumnIndex(ContactsContract.Contacts.CONTACT_LAST_UPDATED_TIMESTAMP));\n        // handle recently updated contacts here\n    }\n    cursor.close();\n}\n\n// Don't forget to unregister the ContentObserver.\n</code></pre>\n"}],"owner":{"account_id":17965246,"reputation":21,"user_id":13055260,"display_name":"yeri123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683920065,"creation_date":1683868779,"question_id":76233336,"body_markdown":"At the moment I have content observer set up which lets me know when any change happens to the contact. How can I only query for the contacts that have been updated such as the name field or phone number field in android using java?\r\n\r\n    class ContactObserver extends ContentObserver {\r\n            public ContactObserver(Handler handler){\r\n                super(handler);\r\n            }\r\n    \r\n            @Override\r\n            public void onChange(boolean selfChange){\r\n                contactChanged();\r\n            }\r\n       }\r\n    \r\n    public void contactChanged(){\r\n           ContentResolver contentResolver = getContentResolver();\r\n           String[] PROJECTION = new String[]{\r\n                           ContactsContract.CommonDataKinds.Phone.CONTACT_ID,\r\n                           ContactsContract.Contacts.DISPLAY_NAME,\r\n                           ContactsContract.CommonDataKinds.Phone.NUMBER\r\n                   };\r\n    \r\n           Cursor cursor = contentResolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,PROJECTION,null,null,null);\r\n    \r\n           JSONArray contactsArray = new JSONArray();\r\n    \r\n    \r\n           String name;\r\n           String number;\r\n           String id;\r\n    \r\n           try{\r\n               if(cursor.moveToFirst()){\r\n                   do {\r\n    \r\n                       name = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\r\n                       number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n                       id = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID));\r\n    \r\n                       JSONObject contact = new JSONObject();\r\n                       contact.put(&quot;id&quot;, id);\r\n                       contact.put(&quot;name&quot;, name);\r\n                       contact.put(&quot;number&quot;, number);\r\n    \r\n                       contactsArray.put(contact);\r\n    \r\n                   }while(cursor.moveToNext());\r\n               }\r\n           }\r\n           catch(JSONException ex){}\r\n    \r\n           //System.out.println(contactsArray.toString());\r\n           getUpdatedContacts(contactsArray.toString(), pointer);\r\n    \r\n       }","title":"How can I only query for the contacts that have been updated/edited? android","body":"<p>At the moment I have content observer set up which lets me know when any change happens to the contact. How can I only query for the contacts that have been updated such as the name field or phone number field in android using java?</p>\n<pre><code>class ContactObserver extends ContentObserver {\n        public ContactObserver(Handler handler){\n            super(handler);\n        }\n\n        @Override\n        public void onChange(boolean selfChange){\n            contactChanged();\n        }\n   }\n\npublic void contactChanged(){\n       ContentResolver contentResolver = getContentResolver();\n       String[] PROJECTION = new String[]{\n                       ContactsContract.CommonDataKinds.Phone.CONTACT_ID,\n                       ContactsContract.Contacts.DISPLAY_NAME,\n                       ContactsContract.CommonDataKinds.Phone.NUMBER\n               };\n\n       Cursor cursor = contentResolver.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,PROJECTION,null,null,null);\n\n       JSONArray contactsArray = new JSONArray();\n\n\n       String name;\n       String number;\n       String id;\n\n       try{\n           if(cursor.moveToFirst()){\n               do {\n\n                   name = cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n                   number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                   id = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.CONTACT_ID));\n\n                   JSONObject contact = new JSONObject();\n                   contact.put(&quot;id&quot;, id);\n                   contact.put(&quot;name&quot;, name);\n                   contact.put(&quot;number&quot;, number);\n\n                   contactsArray.put(contact);\n\n               }while(cursor.moveToNext());\n           }\n       }\n       catch(JSONException ex){}\n\n       //System.out.println(contactsArray.toString());\n       getUpdatedContacts(contactsArray.toString(), pointer);\n\n   }\n</code></pre>\n"},{"tags":["java","math","logarithm","natural-logarithm"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683870994,"post_id":76233496,"comment_id":134435643,"body_markdown":"This is as expected. Possily worse when you use `float` then if you used `double`.","body":"This is as expected. Possily worse when you use <code>float</code> then if you used <code>double</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683871054,"post_id":76233496,"comment_id":134435649,"body_markdown":"Does this answer your question? [Is floating point math broken?](https://stackoverflow.com/questions/588004/is-floating-point-math-broken)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1683871165,"post_id":76233496,"comment_id":134435667,"body_markdown":"Using floating point math to test if a power of 2 is a bad idea","body":"Using floating point math to test if a power of 2 is a bad idea"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1683871173,"post_id":76233496,"comment_id":134435669,"body_markdown":"Does this answer your question? [How to check if a number is a power of 2](https://stackoverflow.com/questions/600293/how-to-check-if-a-number-is-a-power-of-2) I know it’s a C# question, but most answers should work in Java too. Or look at [this one](https://stackoverflow.com/questions/22026924/java-finding-if-number-is-power-of-2).","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/600293/how-to-check-if-a-number-is-a-power-of-2\">How to check if a number is a power of 2</a> I know it’s a C# question, but most answers should work in Java too. Or look at <a href=\"https://stackoverflow.com/questions/22026924/java-finding-if-number-is-power-of-2\">this one</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683871444,"post_id":76233496,"comment_id":134435705,"body_markdown":"or `Long.bitCount(n) == 1` (for strictly positive numbers) || why casting to `float`?","body":"or <code>Long.bitCount(n) == 1</code> (for strictly positive numbers) || why casting to <code>float</code>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683871653,"post_id":76233496,"comment_id":134435741,"body_markdown":"@user16320675 Nice. So `n &gt; 0 &amp;&amp; Long.bitCount(n) == 1` will cover all cases. (In fact the only case where your code does not work correctly is the case where the single 1 is the sign bit.)","body":"@user16320675 Nice. So <code>n &gt; 0 &amp;&amp; Long.bitCount(n) == 1</code> will cover all cases. (In fact the only case where your code does not work correctly is the case where the single 1 is the sign bit.)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683871897,"post_id":76233496,"comment_id":134435775,"body_markdown":"`n &gt; 0` is actually only needed to *avoid* `n == Long.MIN_VALUE`  - the only non-positive value with exactly one bit set","body":"<code>n &gt; 0</code> is actually only needed to <i>avoid</i> <code>n == Long.MIN_VALUE</code>  - the only non-positive value with exactly one bit set"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683874364,"creation_date":1683874364,"answer_id":76233800,"question_id":76233496,"body_markdown":"Don&#39;t use floating point math to determine if a number is a power of 2. Use this instead:\r\n\r\n    return n &gt; 0 &amp;&amp; (n&amp;(n-1)) == 0;\r\n","title":"Calculating log to the base 2 in java gives inaccurate results","body":"<p>Don't use floating point math to determine if a number is a power of 2. Use this instead:</p>\n<pre><code>return n &gt; 0 &amp;&amp; (n&amp;(n-1)) == 0;\n</code></pre>\n"}],"owner":{"account_id":22873761,"reputation":1,"user_id":17016394,"display_name":"Ananya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1683877066,"answer_count":1,"score":-2,"last_activity_date":1683919890,"creation_date":1683870939,"question_id":76233496,"body_markdown":"Consider this program to determine if a given number is a power of 2.\r\n\r\n\r\n\r\n```\r\nclass Solution{\r\n    \r\n    // Function to check if given number n is a power of two.\r\n    public static boolean isPowerofTwo(long n){\r\n        \r\n        // Your code here\r\n        float x = (float)Math.log(n)/(float)Math.log(2);\r\n        System.out.println(x);\r\n        if(x%1==0)\r\n           return true;\r\n        return false;\r\n        \r\n        \r\n    }\r\n    \r\n}\r\n```\r\nThen consider n =1073741824, while the output should be 30,it gives 29.999998. ","title":"Calculating log to the base 2 in java gives inaccurate results","body":"<p>Consider this program to determine if a given number is a power of 2.</p>\n<pre><code>class Solution{\n    \n    // Function to check if given number n is a power of two.\n    public static boolean isPowerofTwo(long n){\n        \n        // Your code here\n        float x = (float)Math.log(n)/(float)Math.log(2);\n        System.out.println(x);\n        if(x%1==0)\n           return true;\n        return false;\n        \n        \n    }\n    \n}\n</code></pre>\n<p>Then consider n =1073741824, while the output should be 30,it gives 29.999998.</p>\n"},{"tags":["java","spring-boot","kotlin","validation","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683919427,"creation_date":1683919427,"answer_id":76239365,"question_id":76238649,"body_markdown":"Got it working using controller advice.\r\n\r\n```kotlin\r\n@ControllerAdvice\r\nclass WebDataBinderCustomizerAdvice {\r\n\r\n    @InitBinder\r\n    fun initBinder(binder: WebDataBinder) {\r\n        binder.addValidators(JsonPatchValidator)\r\n    }\r\n}\r\n\r\nobject JsonPatchValidator : Validator {\r\n    override fun supports(clazz: Class&lt;*&gt;) = true\r\n\r\n    override fun validate(target: Any, errors: Errors) {\r\n        if (target !is JsonPatch) return\r\n        // validation details\r\n    }\r\n}\r\n```\r\nNow my validator is called when the controller function argument is tagged with `@Valid` like this:\r\n\r\n```kotlin\r\n@PatchMapping(&quot;/{id}&quot;, consumes = [&quot;application/json-patch+json&quot;])\r\nsuspend fun patch(\r\n    @PathVariable\r\n    id: UUIDv7,\r\n    @Valid\r\n    @RequestBody\r\n    patch: JsonPatch,\r\n): ResponseEntity&lt;*&gt; { ... }\r\n```\r\nNB: The custom annotation is gone.","title":"How to validate controller request body where you don&#39;t have the source of the class?","body":"<p>Got it working using controller advice.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@ControllerAdvice\nclass WebDataBinderCustomizerAdvice {\n\n    @InitBinder\n    fun initBinder(binder: WebDataBinder) {\n        binder.addValidators(JsonPatchValidator)\n    }\n}\n\nobject JsonPatchValidator : Validator {\n    override fun supports(clazz: Class&lt;*&gt;) = true\n\n    override fun validate(target: Any, errors: Errors) {\n        if (target !is JsonPatch) return\n        // validation details\n    }\n}\n</code></pre>\n<p>Now my validator is called when the controller function argument is tagged with <code>@Valid</code> like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@PatchMapping(&quot;/{id}&quot;, consumes = [&quot;application/json-patch+json&quot;])\nsuspend fun patch(\n    @PathVariable\n    id: UUIDv7,\n    @Valid\n    @RequestBody\n    patch: JsonPatch,\n): ResponseEntity&lt;*&gt; { ... }\n</code></pre>\n<p>NB: The custom annotation is gone.</p>\n"}],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683919427,"creation_date":1683912024,"question_id":76238649,"body_markdown":"I&#39;m implementing a controller with a PATCH function.\r\n\r\n```kotlin\r\n@PatchMapping(&quot;/{id}&quot;, consumes = [&quot;application/json-patch+json&quot;])\r\nsuspend fun patch(\r\n    @PathVariable\r\n    id: UUIDv7,\r\n    @Valid\r\n    @RequestBody\r\n    @ValidJsonPatch\r\n    patch: JsonPatch,\r\n): ResponseEntity&lt;*&gt; { ... }\r\n```\r\n\r\n`JsonPatch` is an interface in the `jakarta.json:jakarta.json-api` library, so I can&#39;t add any annotations to the class directly.\r\n\r\nI&#39;ve implemented a custom annotation and validator:\r\n```kotlin\r\n@Target(AnnotationTarget.VALUE_PARAMETER)\r\n@Constraint(validatedBy = [JsonPatchValidator::class])\r\nannotation class ValidJsonPatch(\r\n    val message: String = &quot;&quot;,\r\n    val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\r\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = [],\r\n)\r\n\r\nclass JsonPatchValidator : ConstraintValidator&lt;ValidJsonPatch, JsonPatch&gt; {\r\n    override fun isValid(value: JsonPatch, context: ConstraintValidatorContext): Boolean { ... }\r\n```\r\nBut my validator is never called. Standard Jakarta validation annotations are working as expected.\r\n\r\nCan this be done? I&#39;d much prefer the annotation instead of injecting a validator and doing it manually in every controller that implements PATCH.\r\n\r\nThanks","title":"How to validate controller request body where you don&#39;t have the source of the class?","body":"<p>I'm implementing a controller with a PATCH function.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@PatchMapping(&quot;/{id}&quot;, consumes = [&quot;application/json-patch+json&quot;])\nsuspend fun patch(\n    @PathVariable\n    id: UUIDv7,\n    @Valid\n    @RequestBody\n    @ValidJsonPatch\n    patch: JsonPatch,\n): ResponseEntity&lt;*&gt; { ... }\n</code></pre>\n<p><code>JsonPatch</code> is an interface in the <code>jakarta.json:jakarta.json-api</code> library, so I can't add any annotations to the class directly.</p>\n<p>I've implemented a custom annotation and validator:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Target(AnnotationTarget.VALUE_PARAMETER)\n@Constraint(validatedBy = [JsonPatchValidator::class])\nannotation class ValidJsonPatch(\n    val message: String = &quot;&quot;,\n    val groups: Array&lt;KClass&lt;*&gt;&gt; = [],\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = [],\n)\n\nclass JsonPatchValidator : ConstraintValidator&lt;ValidJsonPatch, JsonPatch&gt; {\n    override fun isValid(value: JsonPatch, context: ConstraintValidatorContext): Boolean { ... }\n</code></pre>\n<p>But my validator is never called. Standard Jakarta validation annotations are working as expected.</p>\n<p>Can this be done? I'd much prefer the annotation instead of injecting a validator and doing it manually in every controller that implements PATCH.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","flutter","firebase","web"],"owner":{"account_id":24108581,"reputation":1,"user_id":18079441,"display_name":"ZEESHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683919353,"creation_date":1683904329,"question_id":76237686,"body_markdown":"I have a courses collection  and then I have three separate entries for courses, then I have name and array of teachers fields. \r\n\r\n [check this image](https://i.stack.imgur.com/U1chL.png)\r\n\r\nI have two  drop downs containing list of courses from name fields  and on clicking any courses, we should get list of teachers from the array that matches the course field.\r\n\r\nI am getting dropdown 1 of courses but on clicking any course, following error display. [enter image description here](https://i.stack.imgur.com/br67y.png)\r\n\r\nhere is the code: \r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:cloud_firestore/cloud_firestore.dart&#39;;\r\n\r\n    class Course {\r\n        String name;\r\n\r\n    Course({required this.name});\r\n\r\n         factory Course.fromMap(Map&lt;String, dynamic&gt; map) {\r\n         return Course(name: map[&#39;name&#39;]);\r\n        }\r\n    }\r\n\r\n    class Teacher {\r\n    String name;\r\n\r\n    Teacher({required this.name});\r\n\r\n      factory Teacher.fromMap(Map&lt;String, dynamic&gt; map) {\r\n        return Teacher(name: map[&#39;name&#39;]);\r\n       }\r\n     }\r\n\r\n    class CourseSelectionScreen extends StatefulWidget {\r\n    @override\r\n    _CourseSelectionScreenState createState() =&gt; _CourseSelectionScreenState();\r\n     }\r\n\r\n      class _CourseSelectionScreenState extends State&lt;CourseSelectionScreen&gt; {\r\n       final CollectionReference coursesCollection =\r\n          FirebaseFirestore.instance.collection(&#39;courses&#39;);\r\n      final CollectionReference teachersCollection =\r\n        FirebaseFirestore.instance.collection(&#39;teachers&#39;);\r\n\r\n    Course? selectedCourse;\r\n    List&lt;String&gt; teacherNames = [];\r\n\r\n        @override\r\n       void initState() {\r\n           super.initState();\r\n     }\r\n\r\n       Future&lt;void&gt; fetchTeacherNames() async {\r\n          if (selectedCourse != null) {\r\n            QuerySnapshot snapshot = await teachersCollection\r\n                .where(&#39;course&#39;, isEqualTo: selectedCourse!.name)\r\n                .get();\r\n\r\n            setState(() {\r\n                teacherNames = snapshot.docs\r\n                    .map((doc) =&gt; Teacher.fromMap(doc.data() as Map&lt;String, dynamic&gt;).name)\r\n                    .toList();\r\n            });\r\n        }\r\n        }\r\n\r\n        Future&lt;List&lt;Course&gt;&gt; fetchCourses() async {\r\n        QuerySnapshot snapshot = await coursesCollection.get();\r\n          return snapshot.docs\r\n            .map((doc) =&gt; Course.fromMap(doc.data() as Map&lt;String, dynamic&gt;))\r\n            .toList();\r\n      }\r\n\r\n         Future&lt;void&gt; handleCourseSelection(Course? course) async {\r\n        setState(() {\r\n            selectedCourse = course;\r\n        });\r\n\r\n        await fetchTeacherNames();\r\n        }\r\n\r\n        @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n            appBar: AppBar(\r\n                title: Text(&#39;Course Selection&#39;),\r\n            ),\r\n            body: Padding(\r\n                padding: EdgeInsets.all(16.0),\r\n                child: Column(\r\n                    crossAxisAlignment: CrossAxisAlignment.start,\r\n                    children: [\r\n                        Text(\r\n                            &#39;Choose a Course:&#39;,\r\n                            style: TextStyle(fontSize: 16),\r\n                        ),\r\n                        FutureBuilder&lt;List&lt;Course&gt;&gt;(\r\n                            future: fetchCourses(),\r\n                            builder: (context, snapshot) {\r\n                                if (snapshot.connectionState == ConnectionState.waiting) {\r\n                                    return CircularProgressIndicator();\r\n                                } else if (snapshot.hasData) {\r\n                                    List&lt;Course&gt; courses = snapshot.data!;\r\n                                    return DropdownButton&lt;Course&gt;(\r\n                                        value: selectedCourse,\r\n                                        onChanged: (Course? course) {\r\n                                            handleCourseSelection(course);\r\n                                        },\r\n                                        items: courses.map((course) {\r\n                                            return DropdownMenuItem&lt;Course&gt;(\r\n                                                value: course,\r\n                                                child: Text(course.name),\r\n                                            );\r\n                                        }).toList(),\r\n                                    );\r\n                                } else {\r\n                                    return Text(&#39;No courses available&#39;);\r\n                                }\r\n                            },\r\n                        ),\r\n                        SizedBox(height: 16),\r\n                        if (selectedCourse != null)\r\n                            Column(\r\n                                crossAxisAlignment: CrossAxisAlignment.start,\r\n                                children: [\r\n                                    Text(\r\n                                        &#39;Teachers:&#39;,\r\n                                        style: TextStyle(fontSize: 16),\r\n                                    ),\r\n                                    DropdownButton&lt;String&gt;(\r\n                                        value: null,\r\n                                        onChanged: null,\r\n                                        items: teacherNames.map((name) {\r\n                                            return DropdownMenuItem&lt;String&gt;(\r\n                                                value: name,\r\n                                                child: Text(name),\r\n                                            );\r\n                                        }).toList(),\r\n                                    ),\r\n                                   ],\r\n                               ),\r\n                       ],\r\n                   ),\r\n               ),\r\n           );\r\n       }\r\n    }\r\n\r\n     void main() {\r\n    runApp(MyApp());\r\n   }\r\n \r\n    class MyApp extends StatelessWidget {\r\n       @override\r\n        Widget build(BuildContext context) {\r\n           return MaterialApp(\r\n               home: CourseSelectionScreen(),\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n\r\nHow can I solve this error?","title":"I am receiving error when I click on first list items to get array list that is teacherNames field in the same matching course that is selected","body":"<p>I have a courses collection  and then I have three separate entries for courses, then I have name and array of teachers fields.</p>\n<p><a href=\"https://i.stack.imgur.com/U1chL.png\" rel=\"nofollow noreferrer\">check this image</a></p>\n<p>I have two  drop downs containing list of courses from name fields  and on clicking any courses, we should get list of teachers from the array that matches the course field.</p>\n<p>I am getting dropdown 1 of courses but on clicking any course, following error display. <a href=\"https://i.stack.imgur.com/br67y.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>here is the code:</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\n\nclass Course {\n    String name;\n\nCourse({required this.name});\n\n     factory Course.fromMap(Map&lt;String, dynamic&gt; map) {\n     return Course(name: map['name']);\n    }\n}\n\nclass Teacher {\nString name;\n\nTeacher({required this.name});\n\n  factory Teacher.fromMap(Map&lt;String, dynamic&gt; map) {\n    return Teacher(name: map['name']);\n   }\n }\n\nclass CourseSelectionScreen extends StatefulWidget {\n@override\n_CourseSelectionScreenState createState() =&gt; _CourseSelectionScreenState();\n }\n\n  class _CourseSelectionScreenState extends State&lt;CourseSelectionScreen&gt; {\n   final CollectionReference coursesCollection =\n      FirebaseFirestore.instance.collection('courses');\n  final CollectionReference teachersCollection =\n    FirebaseFirestore.instance.collection('teachers');\n\nCourse? selectedCourse;\nList&lt;String&gt; teacherNames = [];\n\n    @override\n   void initState() {\n       super.initState();\n }\n\n   Future&lt;void&gt; fetchTeacherNames() async {\n      if (selectedCourse != null) {\n        QuerySnapshot snapshot = await teachersCollection\n            .where('course', isEqualTo: selectedCourse!.name)\n            .get();\n\n        setState(() {\n            teacherNames = snapshot.docs\n                .map((doc) =&gt; Teacher.fromMap(doc.data() as Map&lt;String, dynamic&gt;).name)\n                .toList();\n        });\n    }\n    }\n\n    Future&lt;List&lt;Course&gt;&gt; fetchCourses() async {\n    QuerySnapshot snapshot = await coursesCollection.get();\n      return snapshot.docs\n        .map((doc) =&gt; Course.fromMap(doc.data() as Map&lt;String, dynamic&gt;))\n        .toList();\n  }\n\n     Future&lt;void&gt; handleCourseSelection(Course? course) async {\n    setState(() {\n        selectedCourse = course;\n    });\n\n    await fetchTeacherNames();\n    }\n\n    @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n            title: Text('Course Selection'),\n        ),\n        body: Padding(\n            padding: EdgeInsets.all(16.0),\n            child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                    Text(\n                        'Choose a Course:',\n                        style: TextStyle(fontSize: 16),\n                    ),\n                    FutureBuilder&lt;List&lt;Course&gt;&gt;(\n                        future: fetchCourses(),\n                        builder: (context, snapshot) {\n                            if (snapshot.connectionState == ConnectionState.waiting) {\n                                return CircularProgressIndicator();\n                            } else if (snapshot.hasData) {\n                                List&lt;Course&gt; courses = snapshot.data!;\n                                return DropdownButton&lt;Course&gt;(\n                                    value: selectedCourse,\n                                    onChanged: (Course? course) {\n                                        handleCourseSelection(course);\n                                    },\n                                    items: courses.map((course) {\n                                        return DropdownMenuItem&lt;Course&gt;(\n                                            value: course,\n                                            child: Text(course.name),\n                                        );\n                                    }).toList(),\n                                );\n                            } else {\n                                return Text('No courses available');\n                            }\n                        },\n                    ),\n                    SizedBox(height: 16),\n                    if (selectedCourse != null)\n                        Column(\n                            crossAxisAlignment: CrossAxisAlignment.start,\n                            children: [\n                                Text(\n                                    'Teachers:',\n                                    style: TextStyle(fontSize: 16),\n                                ),\n                                DropdownButton&lt;String&gt;(\n                                    value: null,\n                                    onChanged: null,\n                                    items: teacherNames.map((name) {\n                                        return DropdownMenuItem&lt;String&gt;(\n                                            value: name,\n                                            child: Text(name),\n                                        );\n                                    }).toList(),\n                                ),\n                               ],\n                           ),\n                   ],\n               ),\n           ),\n       );\n   }\n}\n\n void main() {\nrunApp(MyApp());\n</code></pre>\n<p>}</p>\n<pre><code>class MyApp extends StatelessWidget {\n   @override\n    Widget build(BuildContext context) {\n       return MaterialApp(\n           home: CourseSelectionScreen(),\n        );\n    }\n}\n</code></pre>\n<p>How can I solve this error?</p>\n"},{"tags":["java","gradle","build.gradle","apache-beam"],"comments":[{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1683918429,"post_id":76239054,"comment_id":134445682,"body_markdown":"Tried but getting an error\nExecution failed for task &#39;:compileJava&#39;.\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\n   &gt; Could not find org.apache.beam:beam-sdks-java-io-google-cloud:2.47.0.\n     Searched in the following locations:","body":"Tried but getting an error Execution failed for task &#39;:compileJava&#39;. &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.    &gt; Could not find org.apache.beam:beam-sdks-java-io-google-cloud:2.47.0.      Searched in the following locations:"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1683918542,"post_id":76239054,"comment_id":134445702,"body_markdown":"&quot;_Tried but_&quot; -- No, @guillaumeblaquiere wasn&#39;t suggesting a fix to your problem, but rather was stating the [tag:google-cloud-platform] tag you added to _your question_ was erroneously present (and they removed it).","body":"&quot;<i>Tried but</i>&quot; -- No, @guillaumeblaquiere wasn&#39;t suggesting a fix to your problem, but rather was stating the <a href=\"https://stackoverflow.com/questions/tagged/google-cloud-platform\">google-cloud-platform</a> tag you added to <i>your question</i> was erroneously present (and they removed it)."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683919316,"creation_date":1683919316,"answer_id":76239353,"question_id":76239054,"body_markdown":"The important part of the message is this line:\r\n\r\n```\r\n      &gt; Cannot find a version of &#39;com.fasterxml.jackson.core:jackson-databind&#39; that satisfies the version constraints:\r\n```\r\n\r\nThis says that gradle cannot figure out which version of `com.fasterxml.jackson.core:jackson-databind` to use. If you copy this name and search for it in the message, you will see at least three different versions that gradle wants to use and it cannot figure out which of those to choose. This happens when you declare a dependencies `A` and `B` and `B` also declares a dependency on `A`, but the versions don&#39;t match. \r\n\r\nOne solution might be to remove the explicit dependency `com.fasterxml.jackson.core:jackson-databind` entirely since other dependencies already pull it in. Otherwise, you will need to figure out a version that will satisfy all of the constraints declared by each of your other dependencies. You may also need to modify the version of these other dependencies.","title":"Gradle build fails for some reasons unknown to me","body":"<p>The important part of the message is this line:</p>\n<pre><code>      &gt; Cannot find a version of 'com.fasterxml.jackson.core:jackson-databind' that satisfies the version constraints:\n</code></pre>\n<p>This says that gradle cannot figure out which version of <code>com.fasterxml.jackson.core:jackson-databind</code> to use. If you copy this name and search for it in the message, you will see at least three different versions that gradle wants to use and it cannot figure out which of those to choose. This happens when you declare a dependencies <code>A</code> and <code>B</code> and <code>B</code> also declares a dependency on <code>A</code>, but the versions don't match.</p>\n<p>One solution might be to remove the explicit dependency <code>com.fasterxml.jackson.core:jackson-databind</code> entirely since other dependencies already pull it in. Otherwise, you will need to figure out a version that will satisfy all of the constraints declared by each of your other dependencies. You may also need to modify the version of these other dependencies.</p>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683919316,"creation_date":1683916291,"question_id":76239054,"body_markdown":"Gradle version is 7.6.1 on my mac and JVM version is 11 and the build file is shown here and I have shared the log file in google drive under the link\r\n\r\nhttps://drive.google.com/file/d/1xZpyvEJ-5WeL8XWJzfK1jq2P04X-jeGh/view?usp=share_link\r\n\r\nthis is my build.gradle file\r\n\r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;groovy&quot;\r\n    apply plugin: &quot;jacoco&quot;\r\n    apply plugin: &quot;maven-publish&quot;\r\n    apply plugin: &quot;com.diffplug.gradle.spotless&quot;\r\n    \r\n    group = &quot;com.comxxx.merch.item.cache&quot;\r\n    archivesBaseName = &quot;merch-ic-batch-dataflow&quot;\r\n    version = &quot;1.0.0&quot;\r\n    \r\n    if (System.getenv(&quot;USE_PROXY&quot;) != null) {\r\n        System.setProperty(&#39;http.proxyHost&#39;, &#39;thd-svr-proxy-qa.comxxx.com&#39;)\r\n        System.setProperty(&#39;http.proxyPort&#39;, &#39;7070&#39;)\r\n        System.setProperty(&#39;http.nonProxyHosts&#39;, &#39;*.comxxx.com|localhost&#39;)\r\n    \r\n        System.setProperty(&#39;https.proxyHost&#39;, &#39;thd-svr-proxy-qa.comxxx.com&#39;)\r\n        System.setProperty(&#39;https.proxyPort&#39;, &#39;7070&#39;)\r\n        System.setProperty(&#39;https.nonProxyHosts&#39;, &#39;*.comxxx.com|localhost&#39;)\r\n    }\r\n    \r\n    buildscript {\r\n        if (System.getenv(&quot;ARTIFACTORY_USER&quot;) != null &amp;&amp; System.getenv(&quot;ARTIFACTORY_PASS&quot;) != null) {\r\n            project.ext.set(&quot;artifactory.username&quot;, System.getenv(&quot;ARTIFACTORY_USER&quot;))\r\n            project.ext.set(&quot;artifactory.password&quot;, System.getenv(&quot;ARTIFACTORY_PASS&quot;))\r\n        }\r\n        ext[&quot;groovy.version&quot;] = &quot;2.5.13&quot;\r\n        ext {\r\n            lombokVersion = &quot;1.18.10&quot;\r\n            beamVersion = &quot;2.47.0&quot;\r\n            clientLibVersion = &#39;0.72.0&#39;\r\n            logbackVersion = &quot;1.2.3&quot;\r\n            jacksonVersion = &quot;2.15.0&quot;\r\n    \r\n            mainClassName = &quot;com.comxxx.merch.item.cache.batch.ProcessDiscrepancyItems&quot;\r\n    \r\n            dataflowNetwork = &quot;--network=internal&quot;\r\n            dataflowSubnetwork = &quot;--subnetwork=regions/us-east1/subnetworks/backend-us-east1-subnet&quot;\r\n            dataflowProject = &quot;--project=${project.findProperty(&quot;dataflowGcpProject&quot;)}&quot;\r\n            dataflowRegion = &quot;--region=us-east1&quot;\r\n            dataflowRunner = &quot;--runner=DataflowRunner&quot;\r\n            dataflowTemplateLocation = &quot;--templateLocation=gs://${project.findProperty(&quot;dataflowGcpProject&quot;)}-cache-dataflow/${rootProject.name}/templates/${rootProject.name}&quot;\r\n            dataflowTempLocation = &quot;--tempLocation=gs://${project.findProperty(&quot;dataflowGcpProject&quot;)}-cache-dataflow/${rootProject.name}/temp&quot;\r\n            dataflowStagingLocation = &quot;--stagingLocation=gs://${project.findProperty(&quot;dataflowGcpProject&quot;)}-cache-dataflow/${rootProject.name}/staging&quot;\r\n            dataflowServiceAccount = &quot;--serviceAccount=mic-item-event-publisher-sa@${project.findProperty(&quot;dataflowGcpProject&quot;)}.iam.gserviceaccount.com&quot;\r\n            dataflowNumWorkers = &quot;--numWorkers=1&quot;\r\n            dataflowMaxNumWorkers = &quot;--maxNumWorkers=1&quot;\r\n            dataflowWorkerMachineType = &quot;--workerMachineType=n2-standard-8&quot;\r\n        }\r\n        repositories {\r\n            mavenLocal()\r\n            if (project.hasProperty(&#39;artifactory.username&#39;) &amp;&amp; project.hasProperty(&#39;artifactory.password&#39;)) {\r\n                maven {\r\n                    url &#39;https://maven.artifactory.comxxx.com/artifactory/libs-release&#39;\r\n                    credentials {\r\n                        username = project.property(&#39;artifactory.username&#39;)\r\n                        password = project.property(&#39;artifactory.password&#39;)\r\n                    }\r\n                }\r\n                maven {\r\n                    url &#39;https://maven.artifactory.comxxx.com/artifactory/libs-snapshot&#39;\r\n                    credentials {\r\n                        username = project.property(&#39;artifactory.username&#39;)\r\n                        password = project.property(&#39;artifactory.password&#39;)\r\n                    }\r\n                }\r\n                maven {\r\n                    url &#39;https://maven.artifactory.comxxx.com/artifactory/gradle-plugins&#39;\r\n                    credentials {\r\n                        username = project.property(&#39;artifactory.username&#39;)\r\n                        password = project.property(&#39;artifactory.password&#39;)\r\n                    }\r\n                }\r\n            }\r\n            mavenCentral()\r\n            maven {\r\n                url = &#39;https://repo.maven.apache.org/maven2&#39;\r\n            }\r\n            maven {\r\n                url = &#39;https://repo1.maven.org/maven2/&#39;\r\n            }\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.diffplug.spotless:spotless-plugin-gradle:4.3.0&quot;\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        if (project.hasProperty(&#39;artifactory.username&#39;) &amp;&amp; project.hasProperty(&#39;artifactory.password&#39;)) {\r\n            maven {\r\n                url &#39;https://maven.artifactory.comxxx.com/artifactory/libs-release&#39;\r\n                credentials {\r\n                    username = project.property(&#39;artifactory.username&#39;)\r\n                    password = project.property(&#39;artifactory.password&#39;)\r\n                }\r\n            }\r\n            maven {\r\n                url &#39;https://maven.artifactory.comxxx.com/artifactory/libs-snapshot&#39;\r\n                credentials {\r\n                    username = project.property(&#39;artifactory.username&#39;)\r\n                    password = project.property(&#39;artifactory.password&#39;)\r\n                }\r\n            }\r\n            maven {\r\n                url &#39;https://maven.artifactory.comxxx.com/artifactory/gradle-plugins&#39;\r\n                credentials {\r\n                    username = project.property(&#39;artifactory.username&#39;)\r\n                    password = project.property(&#39;artifactory.password&#39;)\r\n                }\r\n            }\r\n        }\r\n        mavenCentral()\r\n        maven {\r\n            url = &#39;https://repo.maven.apache.org/maven2&#39;\r\n        }\r\n        maven {\r\n            url = &#39;https://repo1.maven.org/maven2/&#39;\r\n        }\r\n        maven {\r\n            url = &#39;https://packages.confluent.io/maven/&#39;\r\n        }\r\n    }\r\n    \r\n    configurations {\r\n        testCompile\r\n    }\r\n    \r\n    dependencies {\r\n        annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        implementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n        implementation group: &#39;org.springframework&#39;, name: &#39;spring-web&#39;, version: &#39;3.0.2.RELEASE&#39;\r\n    \r\n        implementation &quot;org.apache.beam:beam-runners-google-cloud-dataflow-java:${beamVersion}&quot;\r\n        implementation &quot;org.apache.beam:beam-sdks-java-io-google-cloud-platform:${beamVersion}&quot;\r\n        implementation &quot;org.apache.beam:beam-runners-direct-java:${beamVersion}&quot;\r\n        implementation &quot;org.apache.beam:beam-sdks-java-core:${beamVersion}&quot;\r\n        implementation &quot;com.google.cloud:google-cloud-secretmanager:1.2.0&quot;\r\n        implementation platform(&quot;com.comxxx.merch.ic.client:client-bom:${clientLibVersion}&quot;)\r\n        implementation &quot;com.comxxx.merch.ic.client:assortment-client-http&quot;\r\n        implementation &quot;com.comxxx.merch.ic.client:client-support-http&quot;\r\n        implementation &quot;com.comxxx.merch.ic.client:item-client-commons&quot;\r\n        implementation &quot;com.comxxx.merch.ic.client:item-client-api&quot;\r\n        implementation &quot;com.comxxx.merch.ic.client:client-common&quot;\r\n    \r\n        implementation &quot;com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}&quot;\r\n        implementation &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:${jacksonVersion}&quot;\r\n    \r\n        implementation &quot;ch.qos.logback:logback-classic:${logbackVersion}&quot;\r\n    \r\n        implementation group: &#39;io.netty&#39;, name: &#39;netty-codec&#39;, version: &#39;4.1.52.Final&#39;\r\n        implementation group: &#39;io.netty&#39;, name: &#39;netty-codec-http&#39;, version: &#39;4.1.52.Final&#39;\r\n    \r\n        testImplementation &#39;org.spockframework:spock-core:1.3-groovy-2.4&#39;\r\n    \r\n        testImplementation &quot;net.bytebuddy:byte-buddy:1.10.16&quot;\r\n    \r\n        testImplementation &quot;org.objenesis:objenesis:3.1&quot;\r\n    \r\n        testImplementation &quot;commons-io:commons-io:2.8.0&quot;\r\n        testImplementation &quot;org.junit.jupiter:junit-jupiter:5.6.2&quot;\r\n    }\r\n    \r\n    task getDependencies(type: Copy) {\r\n        from sourceSets.main.compileClasspath\r\n        into &quot;build/dependencies&quot;\r\n    }\r\n    \r\n    test {\r\n        afterTest { desc, result -&gt;\r\n            logger.quiet &quot;Executing test ${desc.name} [${desc.className}] with result: ${result.resultType}&quot;\r\n        }\r\n    \r\n        finalizedBy {\r\n            jacocoTestReport\r\n            getDependencies\r\n        }\r\n    }\r\n    \r\n    sourceSets {\r\n        test {\r\n            groovy {\r\n                srcDir file(&quot;src/test/groovy&quot;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    build {\r\n        dependsOn {\r\n            clean\r\n            spotlessApply\r\n        }\r\n    }\r\n    \r\n    spotless {\r\n        enforceCheck false\r\n        java {\r\n            importOrder &quot;com&quot;, &quot;org&quot;, &quot;javax&quot;, &quot;java&quot;\r\n            eclipse().configFile(&quot;${project.rootDir}/java_format.xml&quot;)\r\n        }\r\n    }\r\n    \r\n    jacocoTestReport {\r\n        afterEvaluate {\r\n            classDirectories.setFrom(files(classDirectories.files.collect {\r\n                fileTree(dir: it, exclude: [])\r\n            }))\r\n        }\r\n    }\r\n    \r\n    task stageDataflow(type: JavaExec) {\r\n        dependsOn {\r\n            processMetadata\r\n        }\r\n        classpath sourceSets.main.runtimeClasspath\r\n        main = project.findProperty(&quot;mainClassName&quot;)\r\n        jvmArgs = project.hasProperty(&quot;useProxy&quot;) ? [&#39;-Dhttp.proxyHost=thd-svr-proxy-qa.comxxx.com&#39;,&#39;-Dhttp.proxyPort=7070&#39;,&#39;-Dhttps.proxyHost=thd-svr-proxy-qa.comxxx.com&#39;,&#39;-Dhttps.proxyPort=7070&#39;] : []\r\n        args(\r\n                [\r\n                        dataflowNetwork,\r\n                        dataflowSubnetwork,\r\n                        dataflowProject,\r\n                        dataflowRegion,\r\n                        dataflowRunner,\r\n                        dataflowTemplateLocation,\r\n                        dataflowTempLocation,\r\n                        dataflowStagingLocation,\r\n                        dataflowServiceAccount,\r\n                        dataflowNumWorkers,\r\n                        dataflowMaxNumWorkers,\r\n                        dataflowWorkerMachineType\r\n                ]\r\n        )\r\n        doLast {\r\n            delete fileTree(&quot;src/main/resources/&quot;).matching({include &quot;*_metadata&quot;})\r\n        }\r\n    }\r\n    \r\n    task processMetadata(type: Copy) {\r\n        from &quot;src/main/resources&quot;\r\n        include &quot;*_template.json&quot;\r\n        into &quot;src/main/resources&quot;\r\n        expand([releaseVersion: project.findProperty(&quot;releaseVersion&quot;) ?: version])\r\n        rename {it - ~/_template\\.json$/}\r\n        doLast {\r\n            println &quot;processed metadata file&quot;\r\n        }\r\n    }\r\n\r\nRefer to the above gdrive for the complete log and the first error I see starts with this\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong: Execution failed for task &#39;:test&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:testRuntimeClasspath&#39;.\r\n       &gt; Could not resolve com.fasterxml.jackson.core:jackson-databind:2.15.0.\r\n         Required by:\r\n             project :\r\n             project : &gt; com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0\r\n             project : &gt; com.fasterxml.jackson.core:jackson-databind:2.15.0 &gt; com.fasterxml.jackson:jackson-bom:2.15.0\r\n             project : &gt; org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0 &gt; org.apache.beam:beam-sdks-java-expansion-service:2.47.0 &gt; com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.0\r\n             project : &gt; com.comxxx.merch.ic.client:client-support-http:0.72.0 &gt; com.fasterxml.jackson.datatype:jackson-datatype-guava:2.15.0\r\n             project : &gt; org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0 &gt; com.fasterxml.jackson.datatype:jackson-datatype-joda:2.15.0\r\n          &gt; Cannot find a version of &#39;com.fasterxml.jackson.core:jackson-databind&#39; that satisfies the version constraints:\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-direct-java:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-core:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:client-support-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:assortment-client-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-api:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0&#39; (runtime) --&gt; &#39;org.apache.beam:beam-sdks-java-extensions-google-cloud-platform-core:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0&#39; (runtime) --&gt; &#39;org.apache.beam:beam-sdks-java-io-kafka:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0&#39; (runtime) --&gt; &#39;org.apache.beam:beam-runners-core-construction-java:2.47.0&#39; (runtime)\r\n    --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0&#39; (runtime) --&gt; &#39;org.apache.beam:beam-sdks-java-expansion-service:2.47.0&#39; (runtime)\r\n    --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0&#39; (runtime) --&gt; &#39;org.apache.arrow:arrow-vector:5.0.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.11.4&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.fasterxml.jackson:jackson-bom:2.15.0&#39; (platform-runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n               Constraint path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:client-common:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.comxxx.merch.ic.fortify:fortify-bom:0.17.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:{strictly 2.13.0; reject [0.0.0, 2.13.0)}&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-api:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.comxxx.merch.ic.client:couch-support-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:catalog-client-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:catalog-client:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:pricing-client-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:pricing-client:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0&#39; (runtime) --&gt; &#39;org.apache.beam:beam-sdks-java-io-kafka:2.47.0&#39; (runtime) --&gt; &#39;io.confluent:kafka-schema-registry-client:5.3.2&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.9.10.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0&#39; (runtime) --&gt; &#39;org.apache.beam:beam-sdks-java-expansion-service:2.47.0&#39; (runtime)\r\n    --&gt; &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:client-support-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-guava:2.15.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-joda:2.15.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0&#39; (runtime) --&gt; &#39;org.apache.avro:avro:1.11.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.12.5&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:client-support-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.auth0:java-jwt:3.18.1&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.11.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:catalog-client:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.comxxx.merch.ic.client:client-support:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.core:jackson-databind&#39;\r\n    \r\n       &gt; Could not resolve com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0.\r\n         Required by:\r\n             project :\r\n             project : &gt; com.fasterxml.jackson.core:jackson-databind:2.15.0 &gt; com.fasterxml.jackson:jackson-bom:2.15.0\r\n          &gt; Cannot find a version of &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39; that satisfies the version constraints:\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.14.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:assortment-client-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-api:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.fasterxml.jackson.core:jackson-databind:2.15.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.fasterxml.jackson:jackson-bom:2.15.0&#39; (platform-runtime) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0&#39;\r\n               Constraint path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:client-common:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.comxxx.merch.ic.fortify:fortify-bom:0.17.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:{strictly 2.13.0; reject [0.0.0, 2.13.0)}&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-api:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.thd.monarch:monarch-cache-model:3.1.6&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.1&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-api:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.comxxx.merch.item.cache.model:merch-ic-data-models-lib:0.44.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:catalog-client-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-commons:0.72.0&#39; (runtimeElements) --&gt; &#39;com.comxxx.merch.ic.client:pricing-client-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n               Dependency path &#39;com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0&#39; --&gt; &#39;com.comxxx.merch.ic.client:item-client-api:0.72.0&#39; (runtimeElements)\r\n    --&gt; &#39;com.comxxx.merch.ic.client:couch-support-http:0.72.0&#39; (runtimeElements) --&gt; &#39;com.thd.monarch:monarch-cache-client:3.1.6&#39; (runtime) --&gt; &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.1&#39;","title":"Gradle build fails for some reasons unknown to me","body":"<p>Gradle version is 7.6.1 on my mac and JVM version is 11 and the build file is shown here and I have shared the log file in google drive under the link</p>\n<p><a href=\"https://drive.google.com/file/d/1xZpyvEJ-5WeL8XWJzfK1jq2P04X-jeGh/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1xZpyvEJ-5WeL8XWJzfK1jq2P04X-jeGh/view?usp=share_link</a></p>\n<p>this is my build.gradle file</p>\n<pre><code>apply plugin: &quot;java&quot;\napply plugin: &quot;groovy&quot;\napply plugin: &quot;jacoco&quot;\napply plugin: &quot;maven-publish&quot;\napply plugin: &quot;com.diffplug.gradle.spotless&quot;\n\ngroup = &quot;com.comxxx.merch.item.cache&quot;\narchivesBaseName = &quot;merch-ic-batch-dataflow&quot;\nversion = &quot;1.0.0&quot;\n\nif (System.getenv(&quot;USE_PROXY&quot;) != null) {\n    System.setProperty('http.proxyHost', 'thd-svr-proxy-qa.comxxx.com')\n    System.setProperty('http.proxyPort', '7070')\n    System.setProperty('http.nonProxyHosts', '*.comxxx.com|localhost')\n\n    System.setProperty('https.proxyHost', 'thd-svr-proxy-qa.comxxx.com')\n    System.setProperty('https.proxyPort', '7070')\n    System.setProperty('https.nonProxyHosts', '*.comxxx.com|localhost')\n}\n\nbuildscript {\n    if (System.getenv(&quot;ARTIFACTORY_USER&quot;) != null &amp;&amp; System.getenv(&quot;ARTIFACTORY_PASS&quot;) != null) {\n        project.ext.set(&quot;artifactory.username&quot;, System.getenv(&quot;ARTIFACTORY_USER&quot;))\n        project.ext.set(&quot;artifactory.password&quot;, System.getenv(&quot;ARTIFACTORY_PASS&quot;))\n    }\n    ext[&quot;groovy.version&quot;] = &quot;2.5.13&quot;\n    ext {\n        lombokVersion = &quot;1.18.10&quot;\n        beamVersion = &quot;2.47.0&quot;\n        clientLibVersion = '0.72.0'\n        logbackVersion = &quot;1.2.3&quot;\n        jacksonVersion = &quot;2.15.0&quot;\n\n        mainClassName = &quot;com.comxxx.merch.item.cache.batch.ProcessDiscrepancyItems&quot;\n\n        dataflowNetwork = &quot;--network=internal&quot;\n        dataflowSubnetwork = &quot;--subnetwork=regions/us-east1/subnetworks/backend-us-east1-subnet&quot;\n        dataflowProject = &quot;--project=${project.findProperty(&quot;dataflowGcpProject&quot;)}&quot;\n        dataflowRegion = &quot;--region=us-east1&quot;\n        dataflowRunner = &quot;--runner=DataflowRunner&quot;\n        dataflowTemplateLocation = &quot;--templateLocation=gs://${project.findProperty(&quot;dataflowGcpProject&quot;)}-cache-dataflow/${rootProject.name}/templates/${rootProject.name}&quot;\n        dataflowTempLocation = &quot;--tempLocation=gs://${project.findProperty(&quot;dataflowGcpProject&quot;)}-cache-dataflow/${rootProject.name}/temp&quot;\n        dataflowStagingLocation = &quot;--stagingLocation=gs://${project.findProperty(&quot;dataflowGcpProject&quot;)}-cache-dataflow/${rootProject.name}/staging&quot;\n        dataflowServiceAccount = &quot;--serviceAccount=mic-item-event-publisher-sa@${project.findProperty(&quot;dataflowGcpProject&quot;)}.iam.gserviceaccount.com&quot;\n        dataflowNumWorkers = &quot;--numWorkers=1&quot;\n        dataflowMaxNumWorkers = &quot;--maxNumWorkers=1&quot;\n        dataflowWorkerMachineType = &quot;--workerMachineType=n2-standard-8&quot;\n    }\n    repositories {\n        mavenLocal()\n        if (project.hasProperty('artifactory.username') &amp;&amp; project.hasProperty('artifactory.password')) {\n            maven {\n                url 'https://maven.artifactory.comxxx.com/artifactory/libs-release'\n                credentials {\n                    username = project.property('artifactory.username')\n                    password = project.property('artifactory.password')\n                }\n            }\n            maven {\n                url 'https://maven.artifactory.comxxx.com/artifactory/libs-snapshot'\n                credentials {\n                    username = project.property('artifactory.username')\n                    password = project.property('artifactory.password')\n                }\n            }\n            maven {\n                url 'https://maven.artifactory.comxxx.com/artifactory/gradle-plugins'\n                credentials {\n                    username = project.property('artifactory.username')\n                    password = project.property('artifactory.password')\n                }\n            }\n        }\n        mavenCentral()\n        maven {\n            url = 'https://repo.maven.apache.org/maven2'\n        }\n        maven {\n            url = 'https://repo1.maven.org/maven2/'\n        }\n    }\n    dependencies {\n        classpath &quot;com.diffplug.spotless:spotless-plugin-gradle:4.3.0&quot;\n    }\n}\n\nrepositories {\n    mavenLocal()\n    if (project.hasProperty('artifactory.username') &amp;&amp; project.hasProperty('artifactory.password')) {\n        maven {\n            url 'https://maven.artifactory.comxxx.com/artifactory/libs-release'\n            credentials {\n                username = project.property('artifactory.username')\n                password = project.property('artifactory.password')\n            }\n        }\n        maven {\n            url 'https://maven.artifactory.comxxx.com/artifactory/libs-snapshot'\n            credentials {\n                username = project.property('artifactory.username')\n                password = project.property('artifactory.password')\n            }\n        }\n        maven {\n            url 'https://maven.artifactory.comxxx.com/artifactory/gradle-plugins'\n            credentials {\n                username = project.property('artifactory.username')\n                password = project.property('artifactory.password')\n            }\n        }\n    }\n    mavenCentral()\n    maven {\n        url = 'https://repo.maven.apache.org/maven2'\n    }\n    maven {\n        url = 'https://repo1.maven.org/maven2/'\n    }\n    maven {\n        url = 'https://packages.confluent.io/maven/'\n    }\n}\n\nconfigurations {\n    testCompile\n}\n\ndependencies {\n    annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    implementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    implementation group: 'org.springframework', name: 'spring-web', version: '3.0.2.RELEASE'\n\n    implementation &quot;org.apache.beam:beam-runners-google-cloud-dataflow-java:${beamVersion}&quot;\n    implementation &quot;org.apache.beam:beam-sdks-java-io-google-cloud-platform:${beamVersion}&quot;\n    implementation &quot;org.apache.beam:beam-runners-direct-java:${beamVersion}&quot;\n    implementation &quot;org.apache.beam:beam-sdks-java-core:${beamVersion}&quot;\n    implementation &quot;com.google.cloud:google-cloud-secretmanager:1.2.0&quot;\n    implementation platform(&quot;com.comxxx.merch.ic.client:client-bom:${clientLibVersion}&quot;)\n    implementation &quot;com.comxxx.merch.ic.client:assortment-client-http&quot;\n    implementation &quot;com.comxxx.merch.ic.client:client-support-http&quot;\n    implementation &quot;com.comxxx.merch.ic.client:item-client-commons&quot;\n    implementation &quot;com.comxxx.merch.ic.client:item-client-api&quot;\n    implementation &quot;com.comxxx.merch.ic.client:client-common&quot;\n\n    implementation &quot;com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}&quot;\n    implementation &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:${jacksonVersion}&quot;\n\n    implementation &quot;ch.qos.logback:logback-classic:${logbackVersion}&quot;\n\n    implementation group: 'io.netty', name: 'netty-codec', version: '4.1.52.Final'\n    implementation group: 'io.netty', name: 'netty-codec-http', version: '4.1.52.Final'\n\n    testImplementation 'org.spockframework:spock-core:1.3-groovy-2.4'\n\n    testImplementation &quot;net.bytebuddy:byte-buddy:1.10.16&quot;\n\n    testImplementation &quot;org.objenesis:objenesis:3.1&quot;\n\n    testImplementation &quot;commons-io:commons-io:2.8.0&quot;\n    testImplementation &quot;org.junit.jupiter:junit-jupiter:5.6.2&quot;\n}\n\ntask getDependencies(type: Copy) {\n    from sourceSets.main.compileClasspath\n    into &quot;build/dependencies&quot;\n}\n\ntest {\n    afterTest { desc, result -&gt;\n        logger.quiet &quot;Executing test ${desc.name} [${desc.className}] with result: ${result.resultType}&quot;\n    }\n\n    finalizedBy {\n        jacocoTestReport\n        getDependencies\n    }\n}\n\nsourceSets {\n    test {\n        groovy {\n            srcDir file(&quot;src/test/groovy&quot;)\n        }\n    }\n}\n\nbuild {\n    dependsOn {\n        clean\n        spotlessApply\n    }\n}\n\nspotless {\n    enforceCheck false\n    java {\n        importOrder &quot;com&quot;, &quot;org&quot;, &quot;javax&quot;, &quot;java&quot;\n        eclipse().configFile(&quot;${project.rootDir}/java_format.xml&quot;)\n    }\n}\n\njacocoTestReport {\n    afterEvaluate {\n        classDirectories.setFrom(files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: [])\n        }))\n    }\n}\n\ntask stageDataflow(type: JavaExec) {\n    dependsOn {\n        processMetadata\n    }\n    classpath sourceSets.main.runtimeClasspath\n    main = project.findProperty(&quot;mainClassName&quot;)\n    jvmArgs = project.hasProperty(&quot;useProxy&quot;) ? ['-Dhttp.proxyHost=thd-svr-proxy-qa.comxxx.com','-Dhttp.proxyPort=7070','-Dhttps.proxyHost=thd-svr-proxy-qa.comxxx.com','-Dhttps.proxyPort=7070'] : []\n    args(\n            [\n                    dataflowNetwork,\n                    dataflowSubnetwork,\n                    dataflowProject,\n                    dataflowRegion,\n                    dataflowRunner,\n                    dataflowTemplateLocation,\n                    dataflowTempLocation,\n                    dataflowStagingLocation,\n                    dataflowServiceAccount,\n                    dataflowNumWorkers,\n                    dataflowMaxNumWorkers,\n                    dataflowWorkerMachineType\n            ]\n    )\n    doLast {\n        delete fileTree(&quot;src/main/resources/&quot;).matching({include &quot;*_metadata&quot;})\n    }\n}\n\ntask processMetadata(type: Copy) {\n    from &quot;src/main/resources&quot;\n    include &quot;*_template.json&quot;\n    into &quot;src/main/resources&quot;\n    expand([releaseVersion: project.findProperty(&quot;releaseVersion&quot;) ?: version])\n    rename {it - ~/_template\\.json$/}\n    doLast {\n        println &quot;processed metadata file&quot;\n    }\n}\n</code></pre>\n<p>Refer to the above gdrive for the complete log and the first error I see starts with this</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong: Execution failed for task ':test'.\n&gt; Could not resolve all files for configuration ':testRuntimeClasspath'.\n   &gt; Could not resolve com.fasterxml.jackson.core:jackson-databind:2.15.0.\n     Required by:\n         project :\n         project : &gt; com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0\n         project : &gt; com.fasterxml.jackson.core:jackson-databind:2.15.0 &gt; com.fasterxml.jackson:jackson-bom:2.15.0\n         project : &gt; org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0 &gt; org.apache.beam:beam-sdks-java-expansion-service:2.47.0 &gt; com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.0\n         project : &gt; com.comxxx.merch.ic.client:client-support-http:0.72.0 &gt; com.fasterxml.jackson.datatype:jackson-datatype-guava:2.15.0\n         project : &gt; org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0 &gt; com.fasterxml.jackson.datatype:jackson-datatype-joda:2.15.0\n      &gt; Cannot find a version of 'com.fasterxml.jackson.core:jackson-databind' that satisfies the version constraints:\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-direct-java:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-core:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:client-support-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:assortment-client-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-api:0.72.0' (runtimeElements)\n--&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0' (runtime) --&gt; 'org.apache.beam:beam-sdks-java-extensions-google-cloud-platform-core:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0' (runtime) --&gt; 'org.apache.beam:beam-sdks-java-io-kafka:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0' (runtime) --&gt; 'org.apache.beam:beam-runners-core-construction-java:2.47.0' (runtime)\n--&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0' (runtime) --&gt; 'org.apache.beam:beam-sdks-java-expansion-service:2.47.0' (runtime)\n--&gt; 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0' (runtime) --&gt; 'org.apache.arrow:arrow-vector:5.0.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.11.4'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0' (runtimeElements)\n--&gt; 'com.fasterxml.jackson:jackson-bom:2.15.0' (platform-runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n           Constraint path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:client-common:0.72.0' (runtimeElements)\n--&gt; 'com.comxxx.merch.ic.fortify:fortify-bom:0.17.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind:{strictly 2.13.0; reject [0.0.0, 2.13.0)}'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-api:0.72.0' (runtimeElements)\n--&gt; 'com.comxxx.merch.ic.client:couch-support-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:catalog-client-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:catalog-client:0.72.0' (runtimeElements)\n--&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:pricing-client-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:pricing-client:0.72.0' (runtimeElements)\n--&gt; 'com.fasterxml.jackson.core:jackson-databind'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0' (runtime) --&gt; 'org.apache.beam:beam-sdks-java-io-kafka:2.47.0' (runtime) --&gt; 'io.confluent:kafka-schema-registry-client:5.3.2' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.9.10.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0' (runtime) --&gt; 'org.apache.beam:beam-sdks-java-expansion-service:2.47.0' (runtime)\n--&gt; 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.15.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:client-support-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-guava:2.15.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-joda:2.15.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-runners-google-cloud-dataflow-java:2.47.0' (runtime) --&gt; 'org.apache.avro:avro:1.11.0' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.12.5'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:client-support-http:0.72.0' (runtimeElements) --&gt; 'com.auth0:java-jwt:3.18.1' (runtime) --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.11.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:catalog-client:0.72.0' (runtimeElements)\n--&gt; 'com.comxxx.merch.ic.client:client-support:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.core:jackson-databind'\n\n   &gt; Could not resolve com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0.\n     Required by:\n         project :\n         project : &gt; com.fasterxml.jackson.core:jackson-databind:2.15.0 &gt; com.fasterxml.jackson:jackson-bom:2.15.0\n      &gt; Cannot find a version of 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310' that satisfies the version constraints:\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'org.apache.beam:beam-sdks-java-io-google-cloud-platform:2.47.0' (runtime) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.14.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:assortment-client-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-api:0.72.0' (runtimeElements)\n--&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.fasterxml.jackson.core:jackson-databind:2.15.0' (runtimeElements)\n--&gt; 'com.fasterxml.jackson:jackson-bom:2.15.0' (platform-runtime) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.0'\n           Constraint path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:client-common:0.72.0' (runtimeElements)\n--&gt; 'com.comxxx.merch.ic.fortify:fortify-bom:0.17.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:{strictly 2.13.0; reject [0.0.0, 2.13.0)}'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-api:0.72.0' (runtimeElements)\n--&gt; 'com.thd.monarch:monarch-cache-model:3.1.6' (runtime) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.1'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-api:0.72.0' (runtimeElements)\n--&gt; 'com.comxxx.merch.item.cache.model:merch-ic-data-models-lib:0.44.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:catalog-client-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-commons:0.72.0' (runtimeElements) --&gt; 'com.comxxx.merch.ic.client:pricing-client-http:0.72.0' (runtimeElements) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'\n           Dependency path 'com.comxxx.merch.item.cache:merch-ic-batch-dataflow:1.0.0' --&gt; 'com.comxxx.merch.ic.client:item-client-api:0.72.0' (runtimeElements)\n--&gt; 'com.comxxx.merch.ic.client:couch-support-http:0.72.0' (runtimeElements) --&gt; 'com.thd.monarch:monarch-cache-client:3.1.6' (runtime) --&gt; 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.1'\n</code></pre>\n"},{"tags":["java","rest","retrofit"],"answers":[{"tags":[],"owner":{"account_id":8583076,"reputation":706,"user_id":6430090,"display_name":"mr.kostua"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560164946,"creation_date":1560164946,"answer_id":56525231,"question_id":32126564,"body_markdown":"Try this library : [oksee][1]. \r\n\r\n&gt; OkSse is an extension library for OkHttp to create a Server-Sent Event (SSE) client\r\n  \r\nAs I experienced the same problem,from my research it is the best option for now, as Retrofit doesn&#39;t support it.\r\n  \r\nhttps://github.com/heremaps/oksse\r\n\r\n  [1]: https://github.com/heremaps/oksse","title":"Use Retrofit to consume Server Sent Events","body":"<p>Try this library : <a href=\"https://github.com/heremaps/oksse\" rel=\"nofollow noreferrer\">oksee</a>. </p>\n\n<blockquote>\n  <p>OkSse is an extension library for OkHttp to create a Server-Sent Event (SSE) client</p>\n</blockquote>\n\n<p>As I experienced the same problem,from my research it is the best option for now, as Retrofit doesn't support it.</p>\n\n<p><a href=\"https://github.com/heremaps/oksse\" rel=\"nofollow noreferrer\">https://github.com/heremaps/oksse</a></p>\n"},{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660119278,"creation_date":1634049604,"answer_id":69542515,"question_id":32126564,"body_markdown":"There&#39;s no real need to conflate Retrofit and SSE. Use retrofit to get an inputstream, then find (or write) an inputstream parser that chunks up the SSE events.\r\n\r\nIn retrofit I have this:\r\n\r\n```java\r\npublic interface NotificationAPI {\r\n    @GET(&quot;notifications/sse&quot;)\r\n    Call&lt;InputStream&gt; getNotificationsStream(@retrofit2.http.Query(&quot;Last-Event-ID&quot;) String lastEventId);\r\n}\r\n```\r\n\r\nI wrote a quick converter factory for `InputStream`:\r\n\r\n```java\r\npublic class InputStreamConverterFactory extends Converter.Factory {\r\n\r\n    private static class InputStreamConverter implements Converter&lt;ResponseBody, InputStream&gt; {\r\n        @Nullable\r\n        @Override\r\n        public InputStream convert(ResponseBody value) throws IOException {\r\n            return value.byteStream();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public @Nullable\r\n    Converter&lt;ResponseBody, ?&gt; responseBodyConverter(Type type, Annotation[] annotations, Retrofit retrofit) {\r\n        if (type.equals(InputStream.class)) {\r\n            return new InputStreamConverter();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nMy client code looks like this:\r\n\r\n```java\r\nvar cinputStream = api.getNotificationsStream(null);\r\nvar inputStream = cinputStream.execute().body();\r\ntry(var sseStream = new MySSEStreamParser(inputStream)) {\r\n   //handle the stream here...\r\n}\r\n```\r\n\r\n-----\r\n\r\nThere is an OkHttp SSE parser, which you probably could use. However:\r\n * The OkHttp SSE code comes with threads. Chances are you&#39;d want to bring your own threading model.\r\n * The actual OkHttp SSE parser is an internal package. Which doesn&#39;t make it a great candidate for lifting.\r\n\r\n\r\n\r\n","title":"Use Retrofit to consume Server Sent Events","body":"<p>There's no real need to conflate Retrofit and SSE. Use retrofit to get an inputstream, then find (or write) an inputstream parser that chunks up the SSE events.</p>\n<p>In retrofit I have this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface NotificationAPI {\n    @GET(&quot;notifications/sse&quot;)\n    Call&lt;InputStream&gt; getNotificationsStream(@retrofit2.http.Query(&quot;Last-Event-ID&quot;) String lastEventId);\n}\n</code></pre>\n<p>I wrote a quick converter factory for <code>InputStream</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InputStreamConverterFactory extends Converter.Factory {\n\n    private static class InputStreamConverter implements Converter&lt;ResponseBody, InputStream&gt; {\n        @Nullable\n        @Override\n        public InputStream convert(ResponseBody value) throws IOException {\n            return value.byteStream();\n        }\n    }\n\n    @Override\n    public @Nullable\n    Converter&lt;ResponseBody, ?&gt; responseBodyConverter(Type type, Annotation[] annotations, Retrofit retrofit) {\n        if (type.equals(InputStream.class)) {\n            return new InputStreamConverter();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My client code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var cinputStream = api.getNotificationsStream(null);\nvar inputStream = cinputStream.execute().body();\ntry(var sseStream = new MySSEStreamParser(inputStream)) {\n   //handle the stream here...\n}\n</code></pre>\n<hr />\n<p>There is an OkHttp SSE parser, which you probably could use. However:</p>\n<ul>\n<li>The OkHttp SSE code comes with threads. Chances are you'd want to bring your own threading model.</li>\n<li>The actual OkHttp SSE parser is an internal package. Which doesn't make it a great candidate for lifting.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":551848,"reputation":2643,"user_id":916826,"display_name":"Sergei S"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639848206,"creation_date":1639830903,"answer_id":70403467,"question_id":32126564,"body_markdown":"I know that it is old question. But I didn&#39;t find a whole example and now try to provide it by my code. **We use only `retrofit` and `coroutines`**\r\n\r\n1.In `retrofit API interface` need to add code. Pay attention what we use `@Streaming` and return type `Call&lt;ResponseBody&gt;`\r\n\r\n    @POST(&quot;/v1/calc/group-prices&quot;)\r\n    @Streaming\r\n    fun calculateGroupPrices(@Body listOptions: List&lt;GroupCalculatorOptions&gt;): Call&lt;ResponseBody&gt;\r\n\r\n2.In your `repository` class need to add this code. Pay attention what we use `flow` and read a `stream`. To understand that a message with a payload has arrived, it must begin with `&quot;data:&quot;`\r\n\r\n\r\n    fun loadGroupDeliveryRateInfos(listOptions: List&lt;GroupCalculatorOptions&gt;) = flow {\r\n            coroutineScope {\r\n                val response = restApi.calculateGroupPrices(listOptions).execute()\r\n                if (response.isSuccessful) {\r\n                    val input = response.body()?.byteStream()?.bufferedReader() ?: throw Exception()\r\n                    try {\r\n                        while (isActive) {\r\n                            val line = input.readLine() ?: continue\r\n                            if (line.startsWith(&quot;data:&quot;)) {\r\n                                try {\r\n                                    val groupDeliveryRateInfo = gson.fromJson(\r\n                                        line.substring(5).trim(),\r\n                                        GroupDeliveryRateInfo::class.java\r\n                                    )\r\n                                    emit(groupDeliveryRateInfo)\r\n                                } catch (e: Exception) {\r\n                                    e.printStackTrace()\r\n                                }\r\n                            }\r\n                        }\r\n                    } catch (e: IOException) {\r\n                        throw Exception(e)\r\n                    } finally {\r\n                        input.close()\r\n                    }\r\n                } else {\r\n                    throw HttpException(response)\r\n                }\r\n            }\r\n        }\r\n\r\n3.Final step we need to collect our data in `ViewModel`. We just need to call the method from `repository` \r\n\r\n     repository.loadGroupDeliveryRateInfos(it.values.toList())\r\n                    .collect { info -&gt;\r\n                        handleGroupDeliveryRateInfo(info)\r\n                    }\r\n\r\n&gt; And that&#39;s all, no additional libraries are needed.","title":"Use Retrofit to consume Server Sent Events","body":"<p>I know that it is old question. But I didn't find a whole example and now try to provide it by my code. <strong>We use only <code>retrofit</code> and <code>coroutines</code></strong></p>\n<p>1.In <code>retrofit API interface</code> need to add code. Pay attention what we use <code>@Streaming</code> and return type <code>Call&lt;ResponseBody&gt;</code></p>\n<pre><code>@POST(&quot;/v1/calc/group-prices&quot;)\n@Streaming\nfun calculateGroupPrices(@Body listOptions: List&lt;GroupCalculatorOptions&gt;): Call&lt;ResponseBody&gt;\n</code></pre>\n<p>2.In your <code>repository</code> class need to add this code. Pay attention what we use <code>flow</code> and read a <code>stream</code>. To understand that a message with a payload has arrived, it must begin with <code>&quot;data:&quot;</code></p>\n<pre><code>fun loadGroupDeliveryRateInfos(listOptions: List&lt;GroupCalculatorOptions&gt;) = flow {\n        coroutineScope {\n            val response = restApi.calculateGroupPrices(listOptions).execute()\n            if (response.isSuccessful) {\n                val input = response.body()?.byteStream()?.bufferedReader() ?: throw Exception()\n                try {\n                    while (isActive) {\n                        val line = input.readLine() ?: continue\n                        if (line.startsWith(&quot;data:&quot;)) {\n                            try {\n                                val groupDeliveryRateInfo = gson.fromJson(\n                                    line.substring(5).trim(),\n                                    GroupDeliveryRateInfo::class.java\n                                )\n                                emit(groupDeliveryRateInfo)\n                            } catch (e: Exception) {\n                                e.printStackTrace()\n                            }\n                        }\n                    }\n                } catch (e: IOException) {\n                    throw Exception(e)\n                } finally {\n                    input.close()\n                }\n            } else {\n                throw HttpException(response)\n            }\n        }\n    }\n</code></pre>\n<p>3.Final step we need to collect our data in <code>ViewModel</code>. We just need to call the method from <code>repository</code></p>\n<pre><code> repository.loadGroupDeliveryRateInfos(it.values.toList())\n                .collect { info -&gt;\n                    handleGroupDeliveryRateInfo(info)\n                }\n</code></pre>\n<blockquote>\n<p>And that's all, no additional libraries are needed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7435535,"reputation":161,"user_id":5655109,"display_name":"T. Colligan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683918325,"creation_date":1683918024,"answer_id":76239229,"question_id":32126564,"body_markdown":"Here is a slightly more updated approach that I just got working based on [this][1] blog. It uses Retrofit&#39;s `@Streaming` with a Kotlin flow and a buffered reader. The SseHeartbeatData is just the custom json payload that my sse endpoint returns.\r\n\r\n    import com.google.gson.Gson\r\n    import kotlinx.coroutines.coroutineScope\r\n    import kotlinx.coroutines.flow.flow\r\n    import kotlinx.coroutines.isActive\r\n    import okhttp3.ResponseBody\r\n    import retrofit2.http.GET\r\n    import retrofit2.http.Streaming\r\n\r\n    interface NetworkService {\r\n      @Streaming\r\n      @GET(&quot;/network/sse/heartbeat&quot;)\r\n      suspend fun getHeartbeat() : ResponseBody\r\n    }\r\n\r\n    data class SseHeartbeatData(val count: Int, val timestamp: Long, val requestId: String)\r\n\r\n    class SseRepository(private val networkService: NetworkService) {\r\n\r\n    fun getHeartbeat() = flow {\r\n        coroutineScope {\r\n            val gson = Gson()\r\n            val inputReader = networkService.getHeartbeat().byteStream().bufferedReader()\r\n\r\n            var event: String? = null\r\n            var heartbeatData: SseHeartbeatData? = null\r\n\r\n            while (isActive) {\r\n                val line = inputReader.readLine()\r\n\r\n                when {\r\n                    line.startsWith(&quot;event:&quot;) -&gt; {\r\n                        event = line.removePrefix(&quot;event:&quot;).trim()\r\n                    }\r\n                    line.startsWith(&quot;data:&quot;) -&gt; {\r\n                        val jsonString = line.removePrefix(&quot;data:&quot;).trim()\r\n\r\n                        if (event == &quot;heartbeat&quot;) {\r\n                            heartbeatData = gson.fromJson(jsonString, SseHeartbeatData::class.java)\r\n                        }\r\n\r\n                        event = null\r\n                    }\r\n                    line.isEmpty() -&gt; {\r\n                        heartbeatData?.let {\r\n                            emit(it)\r\n                        }\r\n                        heartbeatData = null\r\n                    }\r\n                }\r\n            }\r\n            inputReader.close()\r\n        }\r\n    }\r\n}\r\n\r\nYou can then collect it inside a view model and handle exceptions as needed.\r\n\r\n    _sseJob = viewModelScope.launch(Dispatchers.IO) {\r\n            sseRepository.getHeartbeat().catch {\r\n                Log.w(&quot;MainViewModel&quot;, it)\r\n                _sseJob?.cancel()\r\n                _uiState.value = SseNotActive\r\n            }\r\n                .collect {\r\n                _uiState.value = SseActive(count = it.count)\r\n            }\r\n        }\r\n\r\n  [1]: https://medium.com/@manoel.al.amaro/understand-kotlin-flow-coroutines-by-implementing-server-side-sent-sse-9e190ff5f24f","title":"Use Retrofit to consume Server Sent Events","body":"<p>Here is a slightly more updated approach that I just got working based on <a href=\"https://medium.com/@manoel.al.amaro/understand-kotlin-flow-coroutines-by-implementing-server-side-sent-sse-9e190ff5f24f\" rel=\"nofollow noreferrer\">this</a> blog. It uses Retrofit's <code>@Streaming</code> with a Kotlin flow and a buffered reader. The SseHeartbeatData is just the custom json payload that my sse endpoint returns.</p>\n<pre><code>import com.google.gson.Gson\nimport kotlinx.coroutines.coroutineScope\nimport kotlinx.coroutines.flow.flow\nimport kotlinx.coroutines.isActive\nimport okhttp3.ResponseBody\nimport retrofit2.http.GET\nimport retrofit2.http.Streaming\n\ninterface NetworkService {\n  @Streaming\n  @GET(&quot;/network/sse/heartbeat&quot;)\n  suspend fun getHeartbeat() : ResponseBody\n}\n\ndata class SseHeartbeatData(val count: Int, val timestamp: Long, val requestId: String)\n\nclass SseRepository(private val networkService: NetworkService) {\n\nfun getHeartbeat() = flow {\n    coroutineScope {\n        val gson = Gson()\n        val inputReader = networkService.getHeartbeat().byteStream().bufferedReader()\n\n        var event: String? = null\n        var heartbeatData: SseHeartbeatData? = null\n\n        while (isActive) {\n            val line = inputReader.readLine()\n\n            when {\n                line.startsWith(&quot;event:&quot;) -&gt; {\n                    event = line.removePrefix(&quot;event:&quot;).trim()\n                }\n                line.startsWith(&quot;data:&quot;) -&gt; {\n                    val jsonString = line.removePrefix(&quot;data:&quot;).trim()\n\n                    if (event == &quot;heartbeat&quot;) {\n                        heartbeatData = gson.fromJson(jsonString, SseHeartbeatData::class.java)\n                    }\n\n                    event = null\n                }\n                line.isEmpty() -&gt; {\n                    heartbeatData?.let {\n                        emit(it)\n                    }\n                    heartbeatData = null\n                }\n            }\n        }\n        inputReader.close()\n    }\n}\n</code></pre>\n<p>}</p>\n<p>You can then collect it inside a view model and handle exceptions as needed.</p>\n<pre><code>_sseJob = viewModelScope.launch(Dispatchers.IO) {\n        sseRepository.getHeartbeat().catch {\n            Log.w(&quot;MainViewModel&quot;, it)\n            _sseJob?.cancel()\n            _uiState.value = SseNotActive\n        }\n            .collect {\n            _uiState.value = SseActive(count = it.count)\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4724279,"reputation":115,"user_id":3821387,"display_name":"user3821387"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5244,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1683918325,"creation_date":1440098254,"question_id":32126564,"body_markdown":"I am trying to consume a rest api [\\[1\\]][1] that sends server sent events to the client.\r\nI am currently using retrofit from square  to consume this but I am not sure how to do it.\r\nCan some one who has prior experience working with retrofit help ?\r\nIf not retrofit please suggest other Java libraries that can do that.\r\n\r\n\\[1\\] https://mesosphere.github.io/marathon/docs/rest-api.html#get-v2-events\r\n\r\n\r\n\r\n  \r\n  \r\n\r\n\r\n  [1]: https://mesosphere.github.io/marathon/docs/rest-api.html#get-v2-events\r\n  [2]: http://square.github.io/retrofit/","title":"Use Retrofit to consume Server Sent Events","body":"<p>I am trying to consume a rest api <a href=\"https://mesosphere.github.io/marathon/docs/rest-api.html#get-v2-events\" rel=\"noreferrer\">[1]</a> that sends server sent events to the client.\nI am currently using retrofit from square  to consume this but I am not sure how to do it.\nCan some one who has prior experience working with retrofit help ?\nIf not retrofit please suggest other Java libraries that can do that.</p>\n\n<p>[1] <a href=\"https://mesosphere.github.io/marathon/docs/rest-api.html#get-v2-events\" rel=\"noreferrer\">https://mesosphere.github.io/marathon/docs/rest-api.html#get-v2-events</a></p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":28576489,"reputation":94,"user_id":21878024,"display_name":"kimec"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1683917804,"creation_date":1683917804,"answer_id":76239206,"question_id":76217337,"body_markdown":"This is probably what you are looking for:\r\n```java\r\npublic Flux&lt;MyPojo&gt; question(Flux&lt;MyPojo&gt; myPojoFlux) {\r\n    return myPojoFlux.flatMap(myPojo -&gt; webClient.post()\r\n        .bodyValue(myPojo)\r\n        .exchangeToMono(clientResponse -&gt; {\r\n            if (clientResponse.statusCode().is2xxSuccessful()) {\r\n                return clientResponse\r\n                    .releaseBody() // be a good citizen and consume the body\r\n                    .thenReturn(myPojo);\r\n            } else {\r\n                return clientResponse\r\n                    .bodyToMono(String.class) // consume the body to construct response\r\n                    .doOnNext(response -&gt; LOG.warn(&quot;Error {} occurred. HTTP status code was {}&quot;, response, clientResponse.statusCode()))\r\n                    .thenReturn(myPojo);\r\n            }\r\n        })\r\n    );\r\n}\r\n\r\n```","title":"Log both error status code and error status message with Spring Webflux Webclient","body":"<p>This is probably what you are looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;MyPojo&gt; question(Flux&lt;MyPojo&gt; myPojoFlux) {\n    return myPojoFlux.flatMap(myPojo -&gt; webClient.post()\n        .bodyValue(myPojo)\n        .exchangeToMono(clientResponse -&gt; {\n            if (clientResponse.statusCode().is2xxSuccessful()) {\n                return clientResponse\n                    .releaseBody() // be a good citizen and consume the body\n                    .thenReturn(myPojo);\n            } else {\n                return clientResponse\n                    .bodyToMono(String.class) // consume the body to construct response\n                    .doOnNext(response -&gt; LOG.warn(&quot;Error {} occurred. HTTP status code was {}&quot;, response, clientResponse.statusCode()))\n                    .thenReturn(myPojo);\n            }\n        })\n    );\n}\n\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76239206,"answer_count":1,"score":1,"last_activity_date":1683917804,"creation_date":1683714520,"question_id":76217337,"body_markdown":"*What I would like to achieve:*\r\n\r\nSend http requests with a body MyPojo to an external API and return the original MyPojo.\r\nBut when there is an error (external API not returning 200) log the error code and the error message body (without throwing anything!) and still return the original MyPojo.\r\n\r\n*What did I try:*\r\n\r\n```\r\n    public Flux&lt;MyPojo&gt; question (Flux&lt;MyPojo&gt; myPojoFlux) {\r\n        return myPojoFlux.flatMap(myPojo -&gt; webClient.post().bodyValue(myPojo).exchangeToMono(clientResponse -&gt; logStatusCodeAndErrorBodyWhenNotStatusOk(clientResponse, myPojo)));\r\n    }\r\n\r\n    private Mono&lt;MyPojo&gt; logStatusCodeAndErrorBodyWhenNotStatusOk(final ClientResponse clientResponse, final MyPojomyPojo) {\r\n        if (200 != clientResponse.statusCode().value()) {\r\n            //Not able to get the error message body :&#39;(\r\n            LOGGER.warn(&quot;The third party API responded status code {} with error message body {} for this request payload {}&quot;, clientResponse.statusCode().value(), myPojo, null);\r\n            //Note: I do not want to throw any exception here\r\n        }\r\n//return the original payload mypojo object\r\n        return Mono.just(myPojo);\r\n    }\r\n``` \r\n\r\nI also tried onError, onStatus, no luck\r\n\r\n*Question :*\r\n\r\nWith this construct, I am able to get the status code, but not the error message body, while returning a strange Mono&lt;MyPojo&gt; with Mono.just(myPojo);\r\n\r\nHow to log both the status code and the error message body without (throwing anything) and being able to return the original request payload?","title":"Log both error status code and error status message with Spring Webflux Webclient","body":"<p><em>What I would like to achieve:</em></p>\n<p>Send http requests with a body MyPojo to an external API and return the original MyPojo.\nBut when there is an error (external API not returning 200) log the error code and the error message body (without throwing anything!) and still return the original MyPojo.</p>\n<p><em>What did I try:</em></p>\n<pre><code>    public Flux&lt;MyPojo&gt; question (Flux&lt;MyPojo&gt; myPojoFlux) {\n        return myPojoFlux.flatMap(myPojo -&gt; webClient.post().bodyValue(myPojo).exchangeToMono(clientResponse -&gt; logStatusCodeAndErrorBodyWhenNotStatusOk(clientResponse, myPojo)));\n    }\n\n    private Mono&lt;MyPojo&gt; logStatusCodeAndErrorBodyWhenNotStatusOk(final ClientResponse clientResponse, final MyPojomyPojo) {\n        if (200 != clientResponse.statusCode().value()) {\n            //Not able to get the error message body :'(\n            LOGGER.warn(&quot;The third party API responded status code {} with error message body {} for this request payload {}&quot;, clientResponse.statusCode().value(), myPojo, null);\n            //Note: I do not want to throw any exception here\n        }\n//return the original payload mypojo object\n        return Mono.just(myPojo);\n    }\n</code></pre>\n<p>I also tried onError, onStatus, no luck</p>\n<p><em>Question :</em></p>\n<p>With this construct, I am able to get the status code, but not the error message body, while returning a strange Mono with Mono.just(myPojo);</p>\n<p>How to log both the status code and the error message body without (throwing anything) and being able to return the original request payload?</p>\n"},{"tags":["java","opennlp"],"owner":{"account_id":22881218,"reputation":67,"user_id":17022777,"display_name":"Chris Powell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683917463,"creation_date":1683917463,"question_id":76239175,"body_markdown":"I am using Apache OpenNLP v2.2.0 and am attempting to detect sentences from the following sort of text:\r\n```\r\nApril 2023\r\nThis is header one\r\n\r\nThe quick brown fox jumps.  Over the lazy dog a fox is seen to jump!  Does the dog notice?\r\n```\r\nI would like sentences *not* properly terminated with punctuation and with an EOL char (\\r, \\n, \\r\\n) to be rejected.  Hence the first two lines in the above example text would not be included.  I&#39;ve tried training OpenNLP with properly terminated sentences but it made no difference.\r\n\r\nThe first sentence returned is:\r\n```\r\nApril 2023\r\nThis is header one\r\n\r\nThe quick brown fox jumps.\r\n```\r\nI can, of course, parse all sentences for EOLs with no preceding punctuation and trim those sentences.  But this cannot be a rare pattern and as OpenNLP has already parsed the text, it is not efficient to run over the text twice.\r\n\r\nIs there any way to configure OpenNLP to get this done?","title":"Sentence detection with Apache OpenNLP - removing headers, unterminated sentences etc","body":"<p>I am using Apache OpenNLP v2.2.0 and am attempting to detect sentences from the following sort of text:</p>\n<pre><code>April 2023\nThis is header one\n\nThe quick brown fox jumps.  Over the lazy dog a fox is seen to jump!  Does the dog notice?\n</code></pre>\n<p>I would like sentences <em>not</em> properly terminated with punctuation and with an EOL char (\\r, \\n, \\r\\n) to be rejected.  Hence the first two lines in the above example text would not be included.  I've tried training OpenNLP with properly terminated sentences but it made no difference.</p>\n<p>The first sentence returned is:</p>\n<pre><code>April 2023\nThis is header one\n\nThe quick brown fox jumps.\n</code></pre>\n<p>I can, of course, parse all sentences for EOLs with no preceding punctuation and trim those sentences.  But this cannot be a rare pattern and as OpenNLP has already parsed the text, it is not efficient to run over the text twice.</p>\n<p>Is there any way to configure OpenNLP to get this done?</p>\n"},{"tags":["java"],"owner":{"account_id":28007612,"reputation":1,"user_id":21390748,"display_name":"Agustina Balsas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683917071,"creation_date":1683916559,"question_id":76239088,"body_markdown":"I&#39;m getting this error when connecting Springboot with ms sql server:\r\n\r\n&gt;ERROR 16464 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].\\[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: \\org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection] with root cause\r\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target []\r\n\r\nit is way longer..\r\n\r\napplication.properties\r\n\r\n```\r\nspring.datasource.url=jdbc:sqlserver://localhost\\\\MSSQLSERVER:1433;databaseName=apiTest;integratedSecurity=true\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\npom.xml\r\n\r\n\t&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\nrepo\r\n\r\n```\r\n@Repository\r\npublic class CountryRepo {\r\n\r\n\t@/Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n\r\n\tpublic List&lt;Country&gt; getCountries() {\r\n\t\tString sql = &quot;select nombre, capital, poblacion from Countries&quot;;\r\n\r\n\t\tList&lt;Country&gt; retorno = jdbcTemplate.query(sql, new MyObjectRowMapper());\r\n\r\n\t\treturn retorno;\r\n\t}\r\n\r\n\tprivate static final class MyObjectRowMapper implements RowMapper&lt;Country&gt; {\r\n\t\tpublic Country mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\t\t\tCountry country = new Country();\r\n\t\t\tcountry.setName(rs.getString(1));\r\n\t\t\tcountry.setCapital(rs.getString(2));\r\n\t\t\tcountry.setPopulation(rs.getInt(3));\r\n\r\n\t\t\treturn country;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nController\r\n\r\n```\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class CountryController {\r\n\r\n@Autowired\r\nprivate CountryService countryService;\r\n\r\n@Autowired\r\npublic void setcountryService(CountryService countryService) {\r\nthis.countryService = countryService;\r\n   }\r\n\r\n@GetMapping(&quot;/countries&quot;)\r\npublic List&lt;Country&gt; getCountries() {\r\nreturn countryService.getAllCountries();\r\n\t}\r\n}\r\nservice\r\n\r\n@Service\r\npublic class CountryService {\r\nprivate final CountryRepo countryRepo;\r\npublic CountryService(CountryRepo countryRepo) {\r\nthis.countryRepo = countryRepo;\r\n\t}\r\npublic List&lt;Country&gt; getAllCountries() {\r\nreturn countryRepo.getCountries();\r\n\t}\r\n}\r\n```\r\nAppConfig\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n@Bean\r\npublic DataSource dataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\ndataSource.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\ndataSource.setUrl(&quot;jdbc:sqlserver://localhost\\\\MSSQLSERVER:1433;databaseName=apiTest;integratedSecurity=true&quot;);\r\nreturn dataSource;\r\n\t}\r\n@Bean\r\npublic JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\nreturn new JdbcTemplate(dataSource);\r\n\t}\r\n}\r\n```\r\n\r\nThank you in advance\r\n\r\nIDK if u need any more information. But SQL is running and I have already allowed tcp/ip in firewall and SQL SERVER and also configured the IP is SQL SERVER configuration\r\n\r\n","title":"Problem connecting SPRINGBOOT+JAVA W/ MS SQL SERVER","body":"<p>I'm getting this error when connecting Springboot with ms sql server:</p>\n<blockquote>\n<p>ERROR 16464 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: \\org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection] with root cause\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target []</p>\n</blockquote>\n<p>it is way longer..</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost\\\\MSSQLSERVER:1433;databaseName=apiTest;integratedSecurity=true\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\npom.xml\n\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>repo</p>\n<pre><code>@Repository\npublic class CountryRepo {\n\n    @/Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    public List&lt;Country&gt; getCountries() {\n        String sql = &quot;select nombre, capital, poblacion from Countries&quot;;\n\n        List&lt;Country&gt; retorno = jdbcTemplate.query(sql, new MyObjectRowMapper());\n\n        return retorno;\n    }\n\n    private static final class MyObjectRowMapper implements RowMapper&lt;Country&gt; {\n        public Country mapRow(ResultSet rs, int rowNum) throws SQLException {\n            Country country = new Country();\n            country.setName(rs.getString(1));\n            country.setCapital(rs.getString(2));\n            country.setPopulation(rs.getInt(3));\n\n            return country;\n        }\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class CountryController {\n\n@Autowired\nprivate CountryService countryService;\n\n@Autowired\npublic void setcountryService(CountryService countryService) {\nthis.countryService = countryService;\n   }\n\n@GetMapping(&quot;/countries&quot;)\npublic List&lt;Country&gt; getCountries() {\nreturn countryService.getAllCountries();\n    }\n}\nservice\n\n@Service\npublic class CountryService {\nprivate final CountryRepo countryRepo;\npublic CountryService(CountryRepo countryRepo) {\nthis.countryRepo = countryRepo;\n    }\npublic List&lt;Country&gt; getAllCountries() {\nreturn countryRepo.getCountries();\n    }\n}\n</code></pre>\n<p>AppConfig</p>\n<pre><code>@Configuration\npublic class AppConfig {\n@Bean\npublic DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\ndataSource.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\ndataSource.setUrl(&quot;jdbc:sqlserver://localhost\\\\MSSQLSERVER:1433;databaseName=apiTest;integratedSecurity=true&quot;);\nreturn dataSource;\n    }\n@Bean\npublic JdbcTemplate jdbcTemplate(DataSource dataSource) {\nreturn new JdbcTemplate(dataSource);\n    }\n}\n</code></pre>\n<p>Thank you in advance</p>\n<p>IDK if u need any more information. But SQL is running and I have already allowed tcp/ip in firewall and SQL SERVER and also configured the IP is SQL SERVER configuration</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1683915205,"post_id":76238948,"comment_id":134445178,"body_markdown":"You could transform the `List&lt;DataPoint&gt;` into a `List&lt;List&lt;Number&gt;&gt;` before serializing. If that sounds inefficient, you should probably just use a custom serializer.","body":"You could transform the <code>List&lt;DataPoint&gt;</code> into a <code>List&lt;List&lt;Number&gt;&gt;</code> before serializing. If that sounds inefficient, you should probably just use a custom serializer."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1683915241,"post_id":76238948,"comment_id":134445184,"body_markdown":"Shouldn&#39;t it be `dataPoint: [{ data:`?","body":"Shouldn&#39;t it be <code>dataPoint: [{ data:</code>?"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1683916368,"post_id":76238948,"comment_id":134445365,"body_markdown":"@shmosel Yes, sorry about the typos","body":"@shmosel Yes, sorry about the typos"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683915968,"creation_date":1683915968,"answer_id":76239025,"question_id":76238948,"body_markdown":"Just annotate `data` (or its getter) with `@JsonValue`:\r\n\r\n    @JsonValue\r\n    List&lt;?&gt; data;\r\n\r\nThis tells the serializer to treat `data` as the sole representation of `this` rather than as a property in a JSON object.","title":"How to unwrap object into a list when deserializing","body":"<p>Just annotate <code>data</code> (or its getter) with <code>@JsonValue</code>:</p>\n<pre><code>@JsonValue\nList&lt;?&gt; data;\n</code></pre>\n<p>This tells the serializer to treat <code>data</code> as the sole representation of <code>this</code> rather than as a property in a JSON object.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76239025,"answer_count":1,"score":1,"last_activity_date":1683916353,"creation_date":1683915012,"question_id":76238948,"body_markdown":"I&#39;m trying to create json that looks like this\r\n```\r\n&quot;entries&quot; : [\r\n    {\r\n    &quot;name&quot; : &lt;name&gt;,\r\n    &quot;dataPoint&quot; : [\r\n          [long, double],\r\n          [long, double],\r\n        ]\r\n    }\r\n ]\r\n```\r\nEach data point is a 2-element array of a long and a double\r\n\r\nIf I have this\r\n```\r\npublic class Entry {\r\n   private String name;\r\n   private List&lt;DataPoint&gt; dataPoint;\r\n\r\n  &lt;constructor and getters omitted&gt;\r\n}\r\n\r\npublic class DataPoint{\r\n\tList&lt;?&gt; data;\r\n\r\n\tpublic DataPoint(long date, double counts) {\r\n\t\tthis.data = List.of(date, counts);\r\n\t}\r\n\r\n\tpublic List&lt;?&gt; getDataPoint() {\r\n\t\treturn data;\r\n\t}\r\n}\r\n```\r\nI end up with an entry looking like this\r\n\r\n```\r\n{\r\n&quot;name&quot; : &quot;20070480&quot;,\r\n&quot;data&quot; : [ {\r\n      &quot;dataPoint&quot; : [ 1681792679186, 1096.0 ]\r\n      }, {\r\n      &quot;dataPoint&quot; : [ 1681792680186, 1147.0 ]\r\n      }\r\n}\r\n```\r\n\r\n`@JsonUnwrapped` doesn&#39;t seem to do anything and I&#39;m not sure that&#39;s what I want anyway.  I don&#39;t want to unwrap it.  But instead, I want to wrap the fields as a list, instead of being contained in an object\r\n\r\nwhereas I want it to look like this\r\n```\r\n{\r\n&quot;name&quot; : &quot;20070480&quot;,\r\n&quot;dataPoint&quot; : [ \r\n       [ 1681792679186, 1096.0 ]\r\n       [ 1681792680186, 1147.0 ]\r\n}\r\n```\r\n\r\nIs there any way to do this without writing my own serializer?","title":"How to unwrap object into a list when deserializing","body":"<p>I'm trying to create json that looks like this</p>\n<pre><code>&quot;entries&quot; : [\n    {\n    &quot;name&quot; : &lt;name&gt;,\n    &quot;dataPoint&quot; : [\n          [long, double],\n          [long, double],\n        ]\n    }\n ]\n</code></pre>\n<p>Each data point is a 2-element array of a long and a double</p>\n<p>If I have this</p>\n<pre><code>public class Entry {\n   private String name;\n   private List&lt;DataPoint&gt; dataPoint;\n\n  &lt;constructor and getters omitted&gt;\n}\n\npublic class DataPoint{\n    List&lt;?&gt; data;\n\n    public DataPoint(long date, double counts) {\n        this.data = List.of(date, counts);\n    }\n\n    public List&lt;?&gt; getDataPoint() {\n        return data;\n    }\n}\n</code></pre>\n<p>I end up with an entry looking like this</p>\n<pre><code>{\n&quot;name&quot; : &quot;20070480&quot;,\n&quot;data&quot; : [ {\n      &quot;dataPoint&quot; : [ 1681792679186, 1096.0 ]\n      }, {\n      &quot;dataPoint&quot; : [ 1681792680186, 1147.0 ]\n      }\n}\n</code></pre>\n<p><code>@JsonUnwrapped</code> doesn't seem to do anything and I'm not sure that's what I want anyway.  I don't want to unwrap it.  But instead, I want to wrap the fields as a list, instead of being contained in an object</p>\n<p>whereas I want it to look like this</p>\n<pre><code>{\n&quot;name&quot; : &quot;20070480&quot;,\n&quot;dataPoint&quot; : [ \n       [ 1681792679186, 1096.0 ]\n       [ 1681792680186, 1147.0 ]\n}\n</code></pre>\n<p>Is there any way to do this without writing my own serializer?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9555,"page":437,"page_size":100}
