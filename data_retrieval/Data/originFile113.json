{"items":[{"tags":["java","testing","junit"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467790407,"creation_date":1467790076,"answer_id":38218405,"question_id":38218379,"body_markdown":"In Java, the only thing you can do is make things **package protected** if you want them to be used from your test code (that is: if you don&#39;t want them to be public). \r\n\r\nExample: my classes very often look like\r\n\r\n    class Whatever\r\n      public Whatever() { this(new A(), new B()); };\r\n      Whatever(A a, B b) { ...\r\n\r\nallowing me to use the second constructor for unit tests that require dependency injection; and at the same time relying on the &quot;convention&quot; that production code should prefer to always use the public constructor.\r\n\r\nSo even when I have classes that I don&#39;t want to be used outside of my package ... i make the constructor public to indicate: use this one please.\r\n\r\nThe idea is basically that your production code and test code resides in identically-named packages.\r\n\r\nIn other words: Java doesn&#39;t have this nice feature of giving access *only* to test code.","title":"How to test default access level class in Java without making everything public?","body":"<p>In Java, the only thing you can do is make things <strong>package protected</strong> if you want them to be used from your test code (that is: if you don't want them to be public). </p>\n\n<p>Example: my classes very often look like</p>\n\n<pre><code>class Whatever\n  public Whatever() { this(new A(), new B()); };\n  Whatever(A a, B b) { ...\n</code></pre>\n\n<p>allowing me to use the second constructor for unit tests that require dependency injection; and at the same time relying on the \"convention\" that production code should prefer to always use the public constructor.</p>\n\n<p>So even when I have classes that I don't want to be used outside of my package ... i make the constructor public to indicate: use this one please.</p>\n\n<p>The idea is basically that your production code and test code resides in identically-named packages.</p>\n\n<p>In other words: Java doesn't have this nice feature of giving access <em>only</em> to test code.</p>\n"},{"tags":[],"owner":{"account_id":8533337,"reputation":136,"user_id":6396113,"display_name":"Prateek Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467790931,"creation_date":1467790472,"answer_id":38218523,"question_id":38218379,"body_markdown":"Quoting an answer to a [similar question][1] \r\n\r\n&quot;\r\n\r\n&gt; You generally don&#39;t unit test private methods directly. Since they are\r\n&gt; private, consider them an implementation detail. Nobody is ever going\r\n&gt; to call one of them and expect it to work a particular way.\r\n&gt; \r\n&gt; You should instead test your public interface. If the methods that\r\n&gt; call your private methods are working as you expect, you then assume\r\n&gt; by extension that your private methods are working correctly.&quot;\r\n\r\nThis is equivalent to option 1 in this [link][2]\r\n\r\nIf 1 does not fit your goals, you can try Approach 2,3 and 4 mentioned in the link\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/a/100966/165701  \r\n  [2]: http://www.artima.com/suiterunner/private2.html","title":"How to test default access level class in Java without making everything public?","body":"<p>Quoting an answer to a <a href=\"https://softwareengineering.stackexchange.com/a/100966/165701\">similar question</a> </p>\n\n<p>\"</p>\n\n<blockquote>\n  <p>You generally don't unit test private methods directly. Since they are\n  private, consider them an implementation detail. Nobody is ever going\n  to call one of them and expect it to work a particular way.</p>\n  \n  <p>You should instead test your public interface. If the methods that\n  call your private methods are working as you expect, you then assume\n  by extension that your private methods are working correctly.\"</p>\n</blockquote>\n\n<p>This is equivalent to option 1 in this <a href=\"http://www.artima.com/suiterunner/private2.html\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>If 1 does not fit your goals, you can try Approach 2,3 and 4 mentioned in the link</p>\n"},{"tags":[],"owner":{"account_id":1642932,"reputation":1379,"user_id":1515042,"accept_rate":54,"display_name":"Nadir"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1467793743,"creation_date":1467790723,"answer_id":38218596,"question_id":38218379,"body_markdown":"There are @VisibleForTesting annotations in some java libs, but generally it does not prevent illegal access. Even making package protected does not solve all the issues as still some other classes can use testing code, which can lead to some unexpected behaviour. I recently stumbled upon nice construct that allows you to show the intentions about exposing some methods for tests\r\n\r\n    public class A{\r\n       private int someMethodYouWantToTest(){}\r\n    \r\n       private Testability testability = new Testability();\r\n    \r\n       class Testability{\r\n          int exposedMethodForTest(){\r\n              someMethodYouWantToTest()  \r\n          }\r\n       }\r\n    }\r\n\r\nAnd then in your test class\r\n\r\n    public class Test{\r\n        private A underTest = new A()\r\n    \r\n       public void testHiddenMethod(){\r\n          a.testability.exposedMethodForTest()\r\n       }\r\n    }\r\n\r\nThis way you private method is private, and only access if by dedicated testability inner class that clearly states its purpose, so no one by accident calls your method outside of tests. This solves issues with package protected businness methods that may be called from other places but were really meant to be private.","title":"How to test default access level class in Java without making everything public?","body":"<p>There are @VisibleForTesting annotations in some java libs, but generally it does not prevent illegal access. Even making package protected does not solve all the issues as still some other classes can use testing code, which can lead to some unexpected behaviour. I recently stumbled upon nice construct that allows you to show the intentions about exposing some methods for tests</p>\n\n<pre><code>public class A{\n   private int someMethodYouWantToTest(){}\n\n   private Testability testability = new Testability();\n\n   class Testability{\n      int exposedMethodForTest(){\n          someMethodYouWantToTest()  \n      }\n   }\n}\n</code></pre>\n\n<p>And then in your test class</p>\n\n<pre><code>public class Test{\n    private A underTest = new A()\n\n   public void testHiddenMethod(){\n      a.testability.exposedMethodForTest()\n   }\n}\n</code></pre>\n\n<p>This way you private method is private, and only access if by dedicated testability inner class that clearly states its purpose, so no one by accident calls your method outside of tests. This solves issues with package protected businness methods that may be called from other places but were really meant to be private.</p>\n"},{"tags":[],"owner":{"account_id":8484024,"reputation":336,"user_id":6362878,"display_name":"martinhh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697811063,"creation_date":1467804101,"answer_id":38222800,"question_id":38218379,"body_markdown":"Sure it is not perfect that one has to make methods visible for testing that would otherwise be private, even if it is only in the classes own package. \r\n\r\nOn the other side, it is anyway recommended (and has many great benefits) not to depend on implementations but on Interfaces.\r\n\r\nThat means: Give the client an Interface that declares only the methods you want to expose and make the methods you have to test in your implementation protected and do not include them in the interface.","title":"How to test default access level class in Java without making everything public?","body":"<p>Sure it is not perfect that one has to make methods visible for testing that would otherwise be private, even if it is only in the classes own package.</p>\n<p>On the other side, it is anyway recommended (and has many great benefits) not to depend on implementations but on Interfaces.</p>\n<p>That means: Give the client an Interface that declares only the methods you want to expose and make the methods you have to test in your implementation protected and do not include them in the interface.</p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697811911,"creation_date":1697811911,"answer_id":77331729,"question_id":38218379,"body_markdown":"To test default access level classes, which is package private access level, you simple create the test class in the same package, under the test root folder.\r\nExample:\r\n\r\nJava root:\r\n \r\n    package com.mycompany.example\r\n    class MyProdCodeClass {\r\n      ...\r\n    }\r\n\r\nTest root:\r\n\r\n    package com.mycompany.example\r\n    class MyProdCodeClassTest {\r\n      ...\r\n    }\r\n","title":"How to test default access level class in Java without making everything public?","body":"<p>To test default access level classes, which is package private access level, you simple create the test class in the same package, under the test root folder.\nExample:</p>\n<p>Java root:</p>\n<pre><code>package com.mycompany.example\nclass MyProdCodeClass {\n  ...\n}\n</code></pre>\n<p>Test root:</p>\n<pre><code>package com.mycompany.example\nclass MyProdCodeClassTest {\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":7327084,"reputation":9738,"user_id":5581182,"accept_rate":88,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2359,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38218596,"answer_count":5,"score":2,"last_activity_date":1697811911,"creation_date":1467789979,"question_id":38218379,"body_markdown":"In Swift, to test a default access level class, one can put `@testable` in the test class header, making the internal access level class accessible and testable from the test package, without everything in the class public. I was wondering if Java has a way to access the same purpose?\r\n\r\nHow can I test a default access level class in Java from the test package without making everything in the class public?\r\n","title":"How to test default access level class in Java without making everything public?","body":"<p>In Swift, to test a default access level class, one can put <code>@testable</code> in the test class header, making the internal access level class accessible and testable from the test package, without everything in the class public. I was wondering if Java has a way to access the same purpose?</p>\n\n<p>How can I test a default access level class in Java from the test package without making everything in the class public?</p>\n"},{"tags":["java","rmi","rmic"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1697814961,"post_id":77331697,"comment_id":136331219,"body_markdown":"`rmic` has been deprecated in Java 13 and removed in Java 15. You simply don&#39;t need it anymore. Just skip step 3.","body":"<code>rmic</code> has been deprecated in Java 13 and removed in Java 15. You simply don&#39;t need it anymore. Just skip step 3."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1697816287,"post_id":77331697,"comment_id":136331467,"body_markdown":"And skeletons have been obsolete since 1998. Don’t use third-party tutorials when Oracle have a perfectly good one.","body":"And skeletons have been obsolete since 1998. Don’t use third-party tutorials when Oracle have a perfectly good one."},{"owner":{"account_id":4968367,"reputation":83,"user_id":3996969,"display_name":"ninjarubberband"},"score":0,"creation_date":1697879986,"post_id":77331697,"comment_id":136337114,"body_markdown":"I see, thank you!","body":"I see, thank you!"}],"owner":{"account_id":4968367,"reputation":83,"user_id":3996969,"display_name":"ninjarubberband"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697811611,"creation_date":1697811611,"question_id":77331697,"body_markdown":"I am learning to use RMI in Java, and have been following this GeeksForGeeks tutorial: https://www.geeksforgeeks.org/remote-method-invocation-in-java/. \r\n\r\nIn step 3, I need to use the rmic tool to create a stub and skeleton, but when I use it together with my implementation class, I get the error: \r\n\r\n&quot;The operation couldn’t be completed. Unable to locate a Java Runtime that supports rmic. Please visit http://www.java.com for information on installing Java.&quot;\r\n \r\nAfterwards I tried installing jdk 21, but still got the error. \r\n\r\nAnyone who knows how to fix it? \r\n\r\nI use MacOS 13.2.1. \r\n\r\n","title":"Using rmic gives me error, when trying to create stub and skeleton for Remote Method Invocation","body":"<p>I am learning to use RMI in Java, and have been following this GeeksForGeeks tutorial: <a href=\"https://www.geeksforgeeks.org/remote-method-invocation-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/remote-method-invocation-in-java/</a>.</p>\n<p>In step 3, I need to use the rmic tool to create a stub and skeleton, but when I use it together with my implementation class, I get the error:</p>\n<p>&quot;The operation couldn’t be completed. Unable to locate a Java Runtime that supports rmic. Please visit <a href=\"http://www.java.com\" rel=\"nofollow noreferrer\">http://www.java.com</a> for information on installing Java.&quot;</p>\n<p>Afterwards I tried installing jdk 21, but still got the error.</p>\n<p>Anyone who knows how to fix it?</p>\n<p>I use MacOS 13.2.1.</p>\n"},{"tags":["java","android","canvas","view","drawable"],"answers":[{"tags":[],"owner":{"display_name":"user17568964"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688991848,"creation_date":1688991848,"answer_id":76653718,"question_id":76648913,"body_markdown":"Okey, finally I found a solution by myself, before somebody was able to answer my question.\r\n\r\nThe problem is that the bounds of the drawable were null(all zero), so I just had to call ```icon.setBounds(0,0, width,height)```(where &quot;icon&quot; is the drawable) and now it draws correctly.\r\n\r\nAnd this is one of things that the ```setBackground(drawable)``` method of my view doing with any drawable that I give it.\r\nHope it helps somebody who had the same problem.","title":"Drawing the Drawable of icon of an app doesn&#39;t works","body":"<p>Okey, finally I found a solution by myself, before somebody was able to answer my question.</p>\n<p>The problem is that the bounds of the drawable were null(all zero), so I just had to call <code>icon.setBounds(0,0, width,height)</code>(where &quot;icon&quot; is the drawable) and now it draws correctly.</p>\n<p>And this is one of things that the <code>setBackground(drawable)</code> method of my view doing with any drawable that I give it.\nHope it helps somebody who had the same problem.</p>\n"}],"owner":{"display_name":"user17568964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76653718,"answer_count":1,"score":0,"last_activity_date":1697811349,"creation_date":1688926809,"question_id":76648913,"body_markdown":"I&#39;m creating a launcher app on Android, and I get the icon of an app by calling ```mResolveInfo.activityInfo.loadIcon(mPackageManager)```. The problem is that when I&#39;m trying to draw this drawable on canvas in ```draw``` method of my custom view by calling ```icon.draw(canvas)``` (where &quot;icon&quot; is the drawable), this draws nothing.\r\n\r\nBUT if I set the drawable as the background of the view, it draws the icon pirfectly when I call ```super.draw(canvas)``` method.\r\n\r\nI don&#39;t know what the ```View``` class does with the drawables to make them work, but it proves that there must be a way to do this, and I absolutely need to avoid using of ```super.draw(canvas)``` method, because I need to customise what my view is drawing when it&#39;s focused (if I use my app with a keyboard, for example).\r\n\r\n**Edit: *if my question helped you, please vote it, I have not enough reputation because of stupid questions I have posted in the past so I&#39;m not able to ask a new question no more***","title":"Drawing the Drawable of icon of an app doesn&#39;t works","body":"<p>I'm creating a launcher app on Android, and I get the icon of an app by calling <code>mResolveInfo.activityInfo.loadIcon(mPackageManager)</code>. The problem is that when I'm trying to draw this drawable on canvas in <code>draw</code> method of my custom view by calling <code>icon.draw(canvas)</code> (where &quot;icon&quot; is the drawable), this draws nothing.</p>\n<p>BUT if I set the drawable as the background of the view, it draws the icon pirfectly when I call <code>super.draw(canvas)</code> method.</p>\n<p>I don't know what the <code>View</code> class does with the drawables to make them work, but it proves that there must be a way to do this, and I absolutely need to avoid using of <code>super.draw(canvas)</code> method, because I need to customise what my view is drawing when it's focused (if I use my app with a keyboard, for example).</p>\n<p><strong>Edit: <em>if my question helped you, please vote it, I have not enough reputation because of stupid questions I have posted in the past so I'm not able to ask a new question no more</em></strong></p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1697734726,"post_id":77325726,"comment_id":136320223,"body_markdown":"Is it possible that the server is compressing the file, and FileUtils isn&#39;t decompressing it?","body":"Is it possible that the server is compressing the file, and FileUtils isn&#39;t decompressing it?"},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1697735033,"post_id":77325726,"comment_id":136320282,"body_markdown":"Thanks, the server is a Jenkins installation, i dont know what is the default behavior, i would have to look into that","body":"Thanks, the server is a Jenkins installation, i dont know what is the default behavior, i would have to look into that"},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1697735083,"post_id":77325726,"comment_id":136320290,"body_markdown":"@CardinalSystem when i try to open the downloaded file, winRar tells me indeed that it is corrupted","body":"@CardinalSystem when i try to open the downloaded file, winRar tells me indeed that it is corrupted"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1697735266,"post_id":77325726,"comment_id":136320324,"body_markdown":"Did you try downloading the file from your browser? Did it work?","body":"Did you try downloading the file from your browser? Did it work?"},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1697735481,"post_id":77325726,"comment_id":136320364,"body_markdown":"@CardinalSystem it works but i it pauses at 30MB, i have to resume it and only then it downloads the whole file","body":"@CardinalSystem it works but i it pauses at 30MB, i have to resume it and only then it downloads the whole file"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697736066,"post_id":77325726,"comment_id":136320450,"body_markdown":"Are you perhaps downloading the HTML download page instead of the file?","body":"Are you perhaps downloading the HTML download page instead of the file?"},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1697736164,"post_id":77325726,"comment_id":136320466,"body_markdown":"@user207421 no, in the corrupted file i see part of the jar content","body":"@user207421 no, in the corrupted file i see part of the jar content"},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1697736299,"post_id":77325726,"comment_id":136320494,"body_markdown":"Jenkins is only serving me the first chunk, i need to find a way to tell Jenkins to give me the whole thing","body":"Jenkins is only serving me the first chunk, i need to find a way to tell Jenkins to give me the whole thing"}],"answers":[{"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1697811873,"post_id":77331628,"comment_id":136330608,"body_markdown":"This is what is called a &quot;code only answer&quot;, they are not acceptable on Stack Overflow. Add an explanation if you can.","body":"This is what is called a &quot;code only answer&quot;, they are not acceptable on Stack Overflow. Add an explanation if you can."},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1697918320,"post_id":77331628,"comment_id":136340599,"body_markdown":"@Gimby i actually see hundreds of this kind of answer, they usually go like “try this”. And i think that you are right in case of complex code structure, but anyone working in software development should be anle to understand what is happening in the simple snippet i posted","body":"@Gimby i actually see hundreds of this kind of answer, they usually go like “try this”. And i think that you are right in case of complex code structure, but anyone working in software development should be anle to understand what is happening in the simple snippet i posted"}],"tags":[],"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697811062,"creation_date":1697811062,"answer_id":77331628,"question_id":77325726,"body_markdown":"I fixed it like this:\r\n\r\n      private File downloadFromJenkins(String stringUrl) throws IOException {\r\n        String[] jarParts = stringUrl.split(&quot;/&quot;);\r\n        String jarDump = Util.addTrailingSlash(config.getJarsTmpStorage()) + jarParts[jarParts.length - 1];\r\n        File dumpFile = new File(jarDump);\r\n    \r\n        logger.info(&quot;Downloading jar {} \\n to: {}&quot;, stringUrl, jarDump);\r\n        URL website = new URL(stringUrl);\r\n        URLConnection connection = website.openConnection();\r\n        ReadableByteChannel rbc = Channels.newChannel(connection.getInputStream());\r\n        FileOutputStream fos = new FileOutputStream(dumpFile);\r\n        long expectedSize = connection.getContentLength();\r\n        logger.info(&quot;Expected size: {}&quot;, expectedSize);\r\n        long transferedSize = 0L;\r\n        while (transferedSize &lt; expectedSize) {\r\n          transferedSize +=\r\n              fos.getChannel().transferFrom(rbc, transferedSize, 1 &lt;&lt; 24);\r\n          logger.info( &quot;{} bytes received&quot;, transferedSize);\r\n        }\r\n        fos.close();\r\n        return dumpFile;\r\n      }","title":"Downloading big file (54MB) from Jenkins installation with apache FileUtils only downloads 9% of it","body":"<p>I fixed it like this:</p>\n<pre><code>  private File downloadFromJenkins(String stringUrl) throws IOException {\n    String[] jarParts = stringUrl.split(&quot;/&quot;);\n    String jarDump = Util.addTrailingSlash(config.getJarsTmpStorage()) + jarParts[jarParts.length - 1];\n    File dumpFile = new File(jarDump);\n\n    logger.info(&quot;Downloading jar {} \\n to: {}&quot;, stringUrl, jarDump);\n    URL website = new URL(stringUrl);\n    URLConnection connection = website.openConnection();\n    ReadableByteChannel rbc = Channels.newChannel(connection.getInputStream());\n    FileOutputStream fos = new FileOutputStream(dumpFile);\n    long expectedSize = connection.getContentLength();\n    logger.info(&quot;Expected size: {}&quot;, expectedSize);\n    long transferedSize = 0L;\n    while (transferedSize &lt; expectedSize) {\n      transferedSize +=\n          fos.getChannel().transferFrom(rbc, transferedSize, 1 &lt;&lt; 24);\n      logger.info( &quot;{} bytes received&quot;, transferedSize);\n    }\n    fos.close();\n    return dumpFile;\n  }\n</code></pre>\n"}],"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697811062,"creation_date":1697734494,"question_id":77325726,"body_markdown":"I am trying to download a fat jar (54MB) from Jenkins using Apache commons IO.&lt;br&gt;\r\nCodewise i think i am doing the right thing, but unexteptedly, the dowloaded file is only 4.5MB.&lt;br&gt;\r\nMy code:\r\n\r\n    File dumpFile = new File(local_file_location);\r\n    FileUtils.copyURLToFile(new URL(remoteURL), dumpFile, 300000, 300000);\r\n\r\nAny advice? am i missing some option?","title":"Downloading big file (54MB) from Jenkins installation with apache FileUtils only downloads 9% of it","body":"<p>I am trying to download a fat jar (54MB) from Jenkins using Apache commons IO.<br>\nCodewise i think i am doing the right thing, but unexteptedly, the dowloaded file is only 4.5MB.<br>\nMy code:</p>\n<pre><code>File dumpFile = new File(local_file_location);\nFileUtils.copyURLToFile(new URL(remoteURL), dumpFile, 300000, 300000);\n</code></pre>\n<p>Any advice? am i missing some option?</p>\n"},{"tags":["java","scala","internationalization","open-source","iso"],"answers":[{"tags":[],"owner":{"account_id":113167,"reputation":6029,"user_id":298182,"accept_rate":83,"display_name":"Shcheklein"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1503363741,"creation_date":1503363741,"answer_id":45807488,"question_id":45580288,"body_markdown":"I would take a look at this one: [scala-iso](https://github.com/vitorsvieira/scala-iso). This is the best option I&#39;ve found so far.\r\n","title":"Java Internationalisation - ISO ISO 3166-2 (subdivisions - e.g. provinces or states) or UN/LOCODE - library","body":"<p>I would take a look at this one: <a href=\"https://github.com/vitorsvieira/scala-iso\" rel=\"nofollow noreferrer\">scala-iso</a>. This is the best option I've found so far.</p>\n"},{"comments":[{"owner":{"account_id":15062967,"reputation":50571,"user_id":10871073,"display_name":"Adrian Mole"},"score":0,"creation_date":1697898329,"post_id":77330487,"comment_id":136338649,"body_markdown":"Question seeking recommendations for libraries, books and other resources are off-topic for Stack Overflow and shouldn&#39;t really be answered.","body":"Question seeking recommendations for libraries, books and other resources are off-topic for Stack Overflow and shouldn&#39;t really be answered."}],"tags":[],"owner":{"account_id":29715704,"reputation":1,"user_id":22774286,"display_name":"Pranshu Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697810868,"creation_date":1697800589,"answer_id":77330487,"question_id":45580288,"body_markdown":"Take a look at [this][1].It is the only library i could find.\r\nAlternatively you could use the csv file by official body.\r\n\r\n\r\n  [1]: https://github.com/tobias-/i18n-subdivisions","title":"Java Internationalisation - ISO ISO 3166-2 (subdivisions - e.g. provinces or states) or UN/LOCODE - library","body":"<p>Take a look at <a href=\"https://github.com/tobias-/i18n-subdivisions\" rel=\"nofollow noreferrer\">this</a>.It is the only library i could find.\nAlternatively you could use the csv file by official body.</p>\n"}],"owner":{"account_id":386580,"reputation":7734,"user_id":744415,"accept_rate":86,"display_name":"NightWolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2002,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1697898985,"accepted_answer_id":45807488,"answer_count":2,"score":1,"last_activity_date":1697810868,"creation_date":1502241923,"question_id":45580288,"body_markdown":"I&#39;m looking for a JVM library in Java, Scala etc which supports mapping between various country subdivisions/states as defined in the [ISO 3166-2][1] standard. \r\n\r\nIs there a recommended Java Library (preferable on maven) or an API like Google Maps which can do this mapping. \r\n\r\nFor example in Australia we have the following;\r\n\r\n    Code\tSubdivision name (en)\tSubdivision category\r\n    AU-NSW\t New South Wales\t            state\r\n    AU-QLD\t Queensland\t                    state\r\n    AU-SA\t South Australia\t            state\r\n    AU-TAS\t Tasmania\t                    state\r\n    AU-VIC\t Victoria\t                    state\r\n    AU-WA\t Western Australia\t            state\r\n    AU-ACT\t Australian Capital Territory\tterritory\r\n    AU-NT\t Northern Territory\t            territory\r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_3166-2","title":"Java Internationalisation - ISO ISO 3166-2 (subdivisions - e.g. provinces or states) or UN/LOCODE - library","body":"<p>I'm looking for a JVM library in Java, Scala etc which supports mapping between various country subdivisions/states as defined in the <a href=\"https://en.wikipedia.org/wiki/ISO_3166-2\" rel=\"nofollow noreferrer\">ISO 3166-2</a> standard. </p>\n\n<p>Is there a recommended Java Library (preferable on maven) or an API like Google Maps which can do this mapping. </p>\n\n<p>For example in Australia we have the following;</p>\n\n<pre><code>Code    Subdivision name (en)   Subdivision category\nAU-NSW   New South Wales                state\nAU-QLD   Queensland                     state\nAU-SA    South Australia                state\nAU-TAS   Tasmania                       state\nAU-VIC   Victoria                       state\nAU-WA    Western Australia              state\nAU-ACT   Australian Capital Territory   territory\nAU-NT    Northern Territory             territory\n</code></pre>\n"},{"tags":["java","floating-point","integer"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1296062566,"post_id":4806944,"comment_id":5329059,"body_markdown":"I think you mean `float` and `int`. The classes `Float` and `Integer` are wrappers for these. They are also the same size. ;)","body":"I think you mean <code>float</code> and <code>int</code>. The classes <code>Float</code> and <code>Integer</code> are wrappers for these. They are also the same size. ;)"}],"answers":[{"comments":[{"owner":{"account_id":287756,"reputation":3499,"user_id":587772,"accept_rate":80,"display_name":"Sasha Goldshtein"},"score":8,"creation_date":1296059022,"post_id":4806966,"comment_id":5328063,"body_markdown":"It&#39;s worth noting that even though the two datatypes have the same size (32-bit), the bit pattern used to represent the same number in the two datatypes is vastly different. E.g. the bit pattern for the unsigned integer 1 is 00....001, while the bit pattern for the floating-point 1.0 would be something else entirely.","body":"It&#39;s worth noting that even though the two datatypes have the same size (32-bit), the bit pattern used to represent the same number in the two datatypes is vastly different. E.g. the bit pattern for the unsigned integer 1 is 00....001, while the bit pattern for the floating-point 1.0 would be something else entirely."},{"owner":{"account_id":288502,"reputation":4032,"user_id":588948,"display_name":"Kevin A. Naud&#233;"},"score":2,"creation_date":1296061389,"post_id":4806966,"comment_id":5328763,"body_markdown":"A subtle point is that floating point numbers do not actually support decimal places.  Instead of a decimal point, they have a radix point.  In all practical cases, the radix is 2.  (Decimal floats have been standardized by IEEE, but are not in wide use.)  This distinction can be important, especially in applications that are sensitive to rounding, like financial apps.","body":"A subtle point is that floating point numbers do not actually support decimal places.  Instead of a decimal point, they have a radix point.  In all practical cases, the radix is 2.  (Decimal floats have been standardized by IEEE, but are not in wide use.)  This distinction can be important, especially in applications that are sensitive to rounding, like financial apps."},{"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":2,"creation_date":1296062475,"post_id":4806966,"comment_id":5329039,"body_markdown":"@Kevin: Indeed. I kept this answer very shallow, though, since I think if someone doesn&#39;t even know the difference between FP and integral types there is a lot of explaining still to do. But yes, you pretty much never want floating-point numbers to get near monetary values.","body":"@Kevin: Indeed. I kept this answer very shallow, though, since I think if someone doesn&#39;t even know the difference between FP and integral types there is a lot of explaining still to do. But yes, you pretty much never want floating-point numbers to get near monetary values."},{"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":0,"creation_date":1422280635,"post_id":4806966,"comment_id":44674187,"body_markdown":"@Ammaro: The mantissa has an implied first bit of 1. Which means that it&#39;s actually 24 bits long, even though only 23 are contained in the data structure.","body":"@Ammaro: The mantissa has an implied first bit of 1. Which means that it&#39;s actually 24 bits long, even though only 23 are contained in the data structure."},{"owner":{"account_id":13376486,"reputation":101,"user_id":21258823,"display_name":"William"},"score":0,"creation_date":1676990213,"post_id":4806966,"comment_id":133245559,"body_markdown":"Well then what is even the point of integers data type? When all integers can be simply written as floating point numbers to begin with.","body":"Well then what is even the point of integers data type? When all integers can be simply written as floating point numbers to begin with."},{"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":0,"creation_date":1677063201,"post_id":4806966,"comment_id":133261977,"body_markdown":"@William: You can fit 2^32 integers into a 32-bit int, but only 2^23 integers into a 32-bit float. (at least if you still want to retain the ability to do exact calculations).","body":"@William: You can fit 2^32 integers into a 32-bit int, but only 2^23 integers into a 32-bit float. (at least if you still want to retain the ability to do exact calculations)."}],"tags":[],"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"comment_count":6,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1697810720,"creation_date":1296058887,"answer_id":4806966,"question_id":4806944,"body_markdown":"* `float` stores floating-point values, that is, values that have potential decimal places\r\n* `int` only stores integral values, that is, whole numbers\r\n\r\nSo while both are 32 bits wide, their use (and representation) is quite different. You cannot store 3.141 in an integer, but you can in a `float`.\r\n\r\nDissecting them both a little further:\r\n\r\nIn an integer, *all* bits except the leftmost one are used to store the number value. This is (in Java and many computers too) done in the so-called *two&#39;s complement*, which support negatives values. Two&#39;s complement uses the leftmost bit to store the positive (0) or negative sign (1). This basically means that you can represent the values of &amp;minus;2&lt;sup&gt;31&lt;/sup&gt; to 2&lt;sup&gt;31&lt;/sup&gt;&amp;nbsp;&amp;minus;&amp;nbsp;1.\r\n\r\nIn a float, those 32 bits are divided between three distinct parts: The sign bit, the exponent and the mantissa. They are laid out as follows:\r\n\r\n    S EEEEEEEE MMMMMMMMMMMMMMMMMMMMMMM\r\n\r\nThere is a single bit that determines whether the number is negative or non-negative (zero is neither positive nor negative, but has the sign bit set to zero). Then there are eight bits of an exponent and 23 bits of mantissa. To get a useful number from that, (roughly) the following calculation is performed:\r\n\r\n&gt; *M* &#215; 2&lt;sup&gt;*E*&lt;/sup&gt;\r\n\r\n(There is more to it, but this should suffice for the purpose of this discussion)\r\n\r\nThe mantissa is in essence not much more than a 24-bit integer number. This gets multiplied by 2 to the power of the exponent part, which, roughly, is a number between &amp;minus;128 and 127.\r\n\r\nTherefore you can accurately represent all numbers that would fit in a 24-bit integer but the numeric range is also much greater as larger exponents allow for larger values. For example, the maximum value for a `float` is around 3.4 &#215; 10&lt;sup&gt;38&lt;/sup&gt; whereas `int` only allows values up to 2.1 &#215; 10&lt;sup&gt;9&lt;/sup&gt;.\r\n\r\nBut that also means, since 32 bits only have 4.2 &#215; 10&lt;sup&gt;9&lt;/sup&gt; different states (which are all used to represent the values `int` can store), that at the larger end of `float`&#39;s numeric range the numbers are spaced wider apart (since there cannot be more unique `float` numbers than there are unique `int` numbers). You cannot represent some numbers exactly, then. For example, the number 2 &#215; 10&lt;sup&gt;12&lt;/sup&gt; has a representation in `float` of 1,999,999,991,808. That might be *close* to 2,000,000,000,000 but it&#39;s not exact. Likewise, adding 1 to that number does not change it because 1 is too small to make a difference in the larger scales `float` is using there.\r\n\r\nSimilarly, you can also represent very small numbers (between 0 and 1) in a `float` but regardless of whether the numbers are very large or very small, `float` only has a precision of around 6 or 7 decimal digits. If you have large numbers those digits are at the start of the number (e.g. 4.51534 &#215; 10&lt;sup&gt;35&lt;/sup&gt;, which is nothing more than 451534 follows by 30 zeroes – and `float` cannot tell anything useful about whether those 30 digits are actually zeroes or something else), for very small numbers (e.g. 3.14159 &#215; 10&lt;sup&gt;&amp;minus;27&lt;/sup&gt;) they are at the far end of the number, way beyond the starting digits of 0.0000...","title":"What is the difference between the float and integer data type when the size is the same?","body":"<ul>\n<li><code>float</code> stores floating-point values, that is, values that have potential decimal places</li>\n<li><code>int</code> only stores integral values, that is, whole numbers</li>\n</ul>\n<p>So while both are 32 bits wide, their use (and representation) is quite different. You cannot store 3.141 in an integer, but you can in a <code>float</code>.</p>\n<p>Dissecting them both a little further:</p>\n<p>In an integer, <em>all</em> bits except the leftmost one are used to store the number value. This is (in Java and many computers too) done in the so-called <em>two's complement</em>, which support negatives values. Two's complement uses the leftmost bit to store the positive (0) or negative sign (1). This basically means that you can represent the values of −2<sup>31</sup> to 2<sup>31</sup> − 1.</p>\n<p>In a float, those 32 bits are divided between three distinct parts: The sign bit, the exponent and the mantissa. They are laid out as follows:</p>\n<pre><code>S EEEEEEEE MMMMMMMMMMMMMMMMMMMMMMM\n</code></pre>\n<p>There is a single bit that determines whether the number is negative or non-negative (zero is neither positive nor negative, but has the sign bit set to zero). Then there are eight bits of an exponent and 23 bits of mantissa. To get a useful number from that, (roughly) the following calculation is performed:</p>\n<blockquote>\n<p><em>M</em> × 2<sup><em>E</em></sup></p>\n</blockquote>\n<p>(There is more to it, but this should suffice for the purpose of this discussion)</p>\n<p>The mantissa is in essence not much more than a 24-bit integer number. This gets multiplied by 2 to the power of the exponent part, which, roughly, is a number between −128 and 127.</p>\n<p>Therefore you can accurately represent all numbers that would fit in a 24-bit integer but the numeric range is also much greater as larger exponents allow for larger values. For example, the maximum value for a <code>float</code> is around 3.4 × 10<sup>38</sup> whereas <code>int</code> only allows values up to 2.1 × 10<sup>9</sup>.</p>\n<p>But that also means, since 32 bits only have 4.2 × 10<sup>9</sup> different states (which are all used to represent the values <code>int</code> can store), that at the larger end of <code>float</code>'s numeric range the numbers are spaced wider apart (since there cannot be more unique <code>float</code> numbers than there are unique <code>int</code> numbers). You cannot represent some numbers exactly, then. For example, the number 2 × 10<sup>12</sup> has a representation in <code>float</code> of 1,999,999,991,808. That might be <em>close</em> to 2,000,000,000,000 but it's not exact. Likewise, adding 1 to that number does not change it because 1 is too small to make a difference in the larger scales <code>float</code> is using there.</p>\n<p>Similarly, you can also represent very small numbers (between 0 and 1) in a <code>float</code> but regardless of whether the numbers are very large or very small, <code>float</code> only has a precision of around 6 or 7 decimal digits. If you have large numbers those digits are at the start of the number (e.g. 4.51534 × 10<sup>35</sup>, which is nothing more than 451534 follows by 30 zeroes – and <code>float</code> cannot tell anything useful about whether those 30 digits are actually zeroes or something else), for very small numbers (e.g. 3.14159 × 10<sup>−27</sup>) they are at the far end of the number, way beyond the starting digits of 0.0000...</p>\n"},{"comments":[{"owner":{"account_id":455743,"reputation":2454,"user_id":854101,"accept_rate":90,"display_name":"Luke"},"score":1,"creation_date":1371738347,"post_id":4807032,"comment_id":24939715,"body_markdown":"Strictly speaking, you should say 32 bits... 2^32 is the number of values that can be represented with 32 bits. 2^32 bits would be ~4 gigabits (or 4 gibibits)... and you can surely represent larger values with that than you can with a single precision float.","body":"Strictly speaking, you should say 32 bits... 2^32 is the number of values that can be represented with 32 bits. 2^32 bits would be ~4 gigabits (or 4 gibibits)... and you can surely represent larger values with that than you can with a single precision float."}],"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442941028,"creation_date":1296059176,"answer_id":4807032,"question_id":4806944,"body_markdown":"Floats are used to store a wider range of number than can be fit in an integer. These include decimal numbers and scientific notation style numbers that can be bigger values than can fit in 32 bits. Here&#39;s the deep dive into them: http://en.wikipedia.org/wiki/Floating_point","title":"What is the difference between the float and integer data type when the size is the same?","body":"<p>Floats are used to store a wider range of number than can be fit in an integer. These include decimal numbers and scientific notation style numbers that can be bigger values than can fit in 32 bits. Here's the deep dive into them: <a href=\"http://en.wikipedia.org/wiki/Floating_point\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Floating_point</a></p>\n"},{"tags":[],"owner":{"account_id":3439962,"reputation":1,"user_id":2882148,"display_name":"user2882148"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639063764,"creation_date":1639063377,"answer_id":70292431,"question_id":4806944,"body_markdown":"Joey&#39;s answer is quite good. You might check the below calculation in Python.. It shows how the 32bit float maximum and minimum are obtained. Please correct me if my understanding is wrong.\r\nHope it&#39;s helpful.\r\n```\r\nimport math\r\ndef convertToIntegerLessThanK(K):\r\n    return int(K) if K &gt; 0 else int(K) - 1\r\n\r\nE = [-126, 127]\r\nn = 23\r\nconverted_power = math.log(2,10) * E[1]\r\nten_power = convertToIntegerLessThanK(converted_power)\r\nfraction = converted_power - ten_power\r\n\r\nmaximum_M = (2 - pow(2, -n))\r\nsignificant_part = pow(10, fraction) * maximum_M\r\n\r\nprint(str(significant_part) + &quot;e&quot; + str(ten_power))\r\n\r\n\r\n# compute minimum float significant part\r\nconverted_power = math.log(2,10) * E[0]\r\nten_power = convertToIntegerLessThanK(converted_power)\r\nfraction = converted_power - ten_power\r\n\r\nminimum_M = (1+ pow(2, -n))\r\nsignificant_part = pow(10, fraction) * minimum_M\r\n\r\nprint(str(significant_part) + &quot;e&quot; + str(ten_power))\r\n#3.402823466385235e38\r\n#1.1754944909521525e-38\r\n```","title":"What is the difference between the float and integer data type when the size is the same?","body":"<p>Joey's answer is quite good. You might check the below calculation in Python.. It shows how the 32bit float maximum and minimum are obtained. Please correct me if my understanding is wrong.\nHope it's helpful.</p>\n<pre><code>import math\ndef convertToIntegerLessThanK(K):\n    return int(K) if K &gt; 0 else int(K) - 1\n\nE = [-126, 127]\nn = 23\nconverted_power = math.log(2,10) * E[1]\nten_power = convertToIntegerLessThanK(converted_power)\nfraction = converted_power - ten_power\n\nmaximum_M = (2 - pow(2, -n))\nsignificant_part = pow(10, fraction) * maximum_M\n\nprint(str(significant_part) + &quot;e&quot; + str(ten_power))\n\n\n# compute minimum float significant part\nconverted_power = math.log(2,10) * E[0]\nten_power = convertToIntegerLessThanK(converted_power)\nfraction = converted_power - ten_power\n\nminimum_M = (1+ pow(2, -n))\nsignificant_part = pow(10, fraction) * minimum_M\n\nprint(str(significant_part) + &quot;e&quot; + str(ten_power))\n#3.402823466385235e38\n#1.1754944909521525e-38\n</code></pre>\n"}],"owner":{"account_id":289754,"reputation":561,"user_id":590916,"display_name":"akk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223608,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"answer_count":3,"score":56,"last_activity_date":1697810720,"creation_date":1296058791,"question_id":4806944,"body_markdown":"What the difference between the float and integer data type when size is same?","title":"What is the difference between the float and integer data type when the size is the same?","body":"<p>What the difference between the float and integer data type when size is same?</p>\n"},{"tags":["java","android","compiler-errors","android-webview"],"comments":[{"owner":{"account_id":29708060,"reputation":1,"user_id":22768441,"display_name":"Md Belal Dev"},"score":0,"creation_date":1697716336,"post_id":77323445,"comment_id":136316322,"body_markdown":"I given everything here. Code and Error message both are included here","body":"I given everything here. Code and Error message both are included here"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1697716915,"post_id":77323445,"comment_id":136316436,"body_markdown":"Do a compile of the code using the  -Xlint:deprecation switch with the java command and it will list back all the deprecated API methods that have been replaced by newer methods, look them up in the API documentation to see the recommendations for those methods to replace.","body":"Do a compile of the code using the  -Xlint:deprecation switch with the java command and it will list back all the deprecated API methods that have been replaced by newer methods, look them up in the API documentation to see the recommendations for those methods to replace."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1697717364,"post_id":77323445,"comment_id":136316519,"body_markdown":"What you have posted is not en error message but just a note. As you can see the compilation just continues. This is not the reason why the build process failed.","body":"What you have posted is not en error message but just a note. As you can see the compilation just continues. This is not the reason why the build process failed."}],"owner":{"account_id":29708060,"reputation":1,"user_id":22768441,"display_name":"Md Belal Dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697810606,"creation_date":1697715565,"question_id":77323445,"body_markdown":"I cloned a file for my website from GitHUB which was web-view-app. I was trying export my app after change all information. I exported from Build&gt;Generate Singed Bundle/Apk but I&#39;m getting the error.\r\n\r\nThis is the Error Message:\r\n```\r\nTask :app:compileReleaseJavaWithJavac\r\nNote: D:\\Android App\\Accounting Software v1.0.0\\accounting_main\\app\\src\\main\\java\\com\\webview\\myapplication\\MainActivity.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n```\r\n\r\nAnd Error screenshot:\r\n\r\n![Screenshot](https://i.stack.imgur.com/Maw6a.png)\r\n\r\nMy Java Code is here :\r\n```\r\npackage com.webview.myapplication;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.app.DownloadManager;\r\nimport android.content.Context;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.URLUtil;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    private final int STORAGE_PERMISSION_CODE = 1;\r\n    private WebView mWebView;\r\n\r\n    private void requestStoragePermission() {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Permission needed&quot;)\r\n                    .setMessage(&quot;This permission is needed to download files&quot;)\r\n                    .setPositiveButton(&quot;ok&quot;, (dialog, which) -&gt; ActivityCompat.requestPermissions(MainActivity.this,\r\n                            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE))\r\n                    .setNegativeButton(&quot;cancel&quot;, (dialog, which) -&gt; dialog.dismiss())\r\n                    .create().show();\r\n        } else {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.Q)\r\n    @Override\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        requestStoragePermission();\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mWebView = findViewById(R.id.activity_main_webview);\r\n        WebSettings webSettings = mWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        mWebView.setWebViewClient(new HelloWebViewClient());\r\n        mWebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n            Uri source = Uri.parse(url);\r\n            DownloadManager.Request request = new DownloadManager.Request(source);\r\n            String cookies = CookieManager.getInstance().getCookie(url);\r\n            request.addRequestHeader(&quot;cookie&quot;, cookies);\r\n            request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\r\n            request.setDescription(&quot;Downloading File...&quot;);\r\n            request.setTitle(URLUtil.guessFileName(url, contentDisposition, mimeType));\r\n            request.allowScanningByMediaScanner();\r\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n            request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, URLUtil.guessFileName(url, contentDisposition, mimeType));\r\n            DownloadManager dm = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\r\n            dm.enqueue(request);\r\n            Toast.makeText(getApplicationContext(), &quot;Downloading File&quot;, Toast.LENGTH_LONG).show();\r\n        });\r\n        mWebView.loadUrl(&quot;https://account.founderitltd.com&quot;); //Replace The Link Here\r\n    }\r\n    private static class HelloWebViewClient extends WebViewClient\r\n    {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(final WebView view, final String url)\r\n        {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (mWebView.canGoBack()) {\r\n            mWebView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI want to make a web view app which I&#39;ll publish on play store.","title":"Recompile with -Xlint:deprecation for details For WebView Application From GitHub","body":"<p>I cloned a file for my website from GitHUB which was web-view-app. I was trying export my app after change all information. I exported from Build&gt;Generate Singed Bundle/Apk but I'm getting the error.</p>\n<p>This is the Error Message:</p>\n<pre><code>Task :app:compileReleaseJavaWithJavac\nNote: D:\\Android App\\Accounting Software v1.0.0\\accounting_main\\app\\src\\main\\java\\com\\webview\\myapplication\\MainActivity.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n<p>And Error screenshot:</p>\n<p><img src=\"https://i.stack.imgur.com/Maw6a.png\" alt=\"Screenshot\" /></p>\n<p>My Java Code is here :</p>\n<pre><code>package com.webview.myapplication;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.DownloadManager;\nimport android.content.Context;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.webkit.CookieManager;\nimport android.webkit.URLUtil;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\nimport androidx.annotation.RequiresApi;\nimport androidx.core.app.ActivityCompat;\n\npublic class MainActivity extends Activity {\n\n    private final int STORAGE_PERMISSION_CODE = 1;\n    private WebView mWebView;\n\n    private void requestStoragePermission() {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\n            new AlertDialog.Builder(this)\n                    .setTitle(&quot;Permission needed&quot;)\n                    .setMessage(&quot;This permission is needed to download files&quot;)\n                    .setPositiveButton(&quot;ok&quot;, (dialog, which) -&gt; ActivityCompat.requestPermissions(MainActivity.this,\n                            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE))\n                    .setNegativeButton(&quot;cancel&quot;, (dialog, which) -&gt; dialog.dismiss())\n                    .create().show();\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, STORAGE_PERMISSION_CODE);\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.Q)\n    @Override\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    protected void onCreate(Bundle savedInstanceState) {\n        requestStoragePermission();\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mWebView = findViewById(R.id.activity_main_webview);\n        WebSettings webSettings = mWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        mWebView.setWebViewClient(new HelloWebViewClient());\n        mWebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n            Uri source = Uri.parse(url);\n            DownloadManager.Request request = new DownloadManager.Request(source);\n            String cookies = CookieManager.getInstance().getCookie(url);\n            request.addRequestHeader(&quot;cookie&quot;, cookies);\n            request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\n            request.setDescription(&quot;Downloading File...&quot;);\n            request.setTitle(URLUtil.guessFileName(url, contentDisposition, mimeType));\n            request.allowScanningByMediaScanner();\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n            request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, URLUtil.guessFileName(url, contentDisposition, mimeType));\n            DownloadManager dm = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);\n            dm.enqueue(request);\n            Toast.makeText(getApplicationContext(), &quot;Downloading File&quot;, Toast.LENGTH_LONG).show();\n        });\n        mWebView.loadUrl(&quot;https://account.founderitltd.com&quot;); //Replace The Link Here\n    }\n    private static class HelloWebViewClient extends WebViewClient\n    {\n        @Override\n        public boolean shouldOverrideUrlLoading(final WebView view, final String url)\n        {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (mWebView.canGoBack()) {\n            mWebView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n}\n</code></pre>\n<p>I want to make a web view app which I'll publish on play store.</p>\n"},{"tags":["java","apache-commons","vfs","apache-commons-vfs"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1420827593,"post_id":11101267,"comment_id":44135936,"body_markdown":"Besides rolling your own monitor (as described in the accepted answer) there is no common progress callback infrastructure in Commons VFS (but there probably should). It is already mentioned as a TODO on http://wiki.apache.org/commons/VfsNext","body":"Besides rolling your own monitor (as described in the accepted answer) there is no common progress callback infrastructure in Commons VFS (but there probably should). It is already mentioned as a TODO on <a href=\"http://wiki.apache.org/commons/VfsNext\" rel=\"nofollow noreferrer\">wiki.apache.org/commons/VfsNext</a>"}],"answers":[{"comments":[{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":0,"creation_date":1626361226,"post_id":11134020,"comment_id":120877794,"body_markdown":"This solution does not work if the sourceFile is a folder.","body":"This solution does not work if the sourceFile is a folder."},{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":0,"creation_date":1626362571,"post_id":11134020,"comment_id":120878391,"body_markdown":"Also, i tried modifying this solution for folder, it was dead slow. 41 MB files (2 files, 5 folders) took 43 minutes. And without monitoring, it took 5 sec.","body":"Also, i tried modifying this solution for folder, it was dead slow. 41 MB files (2 files, 5 folders) took 43 minutes. And without monitoring, it took 5 sec."},{"owner":{"account_id":11155816,"reputation":272,"user_id":8187574,"display_name":"Achu"},"score":0,"creation_date":1635862778,"post_id":11134020,"comment_id":123402075,"body_markdown":"Its very slow for large files.","body":"Its very slow for large files."}],"tags":[],"owner":{"account_id":95356,"reputation":10155,"user_id":259747,"accept_rate":94,"display_name":"Daniel"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340266237,"creation_date":1340266237,"answer_id":11134020,"question_id":11101267,"body_markdown":"It can be done by getting input and output streams from VFS. The following example uses a utility class from commons-net (a dependency of VFS) to manage the copying and progress-monitoring. You could equally do it manually.\r\n\r\n    import org.apache.commons.net.io.Util;\r\n    import org.apache.commons.net.io.CopyStreamListener;\r\n\r\n    private void copy(FileObject sourceFile, FileObject destinationFile, CopyStreamListener progressMonitor) throws IOException {\r\n        InputStream sourceFileIn = sourceFile.getContent().getInputStream();\r\n        try {\r\n            OutputStream destinationFileOut = destinationFile.getContent().getOutputStream();\r\n            try {\r\n                Util.copyStream(sourceFileIn, destinationFileOut, Util.DEFAULT_COPY_BUFFER_SIZE, sourceFile.getContent().getSize(), progressMonitor);\r\n            } finally {\r\n                destinationFileOut.close();\r\n            }\r\n        } finally {\r\n            sourceFileIn.close();\r\n        }\r\n    }","title":"How do I monitor the progress of a file transfer in Apache Commons VFS?","body":"<p>It can be done by getting input and output streams from VFS. The following example uses a utility class from commons-net (a dependency of VFS) to manage the copying and progress-monitoring. You could equally do it manually.</p>\n\n<pre><code>import org.apache.commons.net.io.Util;\nimport org.apache.commons.net.io.CopyStreamListener;\n\nprivate void copy(FileObject sourceFile, FileObject destinationFile, CopyStreamListener progressMonitor) throws IOException {\n    InputStream sourceFileIn = sourceFile.getContent().getInputStream();\n    try {\n        OutputStream destinationFileOut = destinationFile.getContent().getOutputStream();\n        try {\n            Util.copyStream(sourceFileIn, destinationFileOut, Util.DEFAULT_COPY_BUFFER_SIZE, sourceFile.getContent().getSize(), progressMonitor);\n        } finally {\n            destinationFileOut.close();\n        }\n    } finally {\n        sourceFileIn.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"score":0,"creation_date":1626363001,"post_id":67219652,"comment_id":120878612,"body_markdown":"This is a fast solution as compared to accepted solution. However, one cannot track progress during single file transfer. it can only update progress after a file is transferred successfully.","body":"This is a fast solution as compared to accepted solution. However, one cannot track progress during single file transfer. it can only update progress after a file is transferred successfully."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1626371564,"post_id":67219652,"comment_id":120881895,"body_markdown":"@ManishBansal yes, you&#39;re right. My full implementation used a custom `FileContent` (`FileObject#getContent`), which returned a custom `OutputStream` (`FileContent#getOutputStream`) to keep track of the written bytes per single `FileObject`. Simply wrap the `destFile` returned by `resolveFile` in the above code.","body":"@ManishBansal yes, you&#39;re right. My full implementation used a custom <code>FileContent</code> (<code>FileObject#getContent</code>), which returned a custom <code>OutputStream</code> (<code>FileContent#getOutputStream</code>) to keep track of the written bytes per single <code>FileObject</code>. Simply wrap the <code>destFile</code> returned by <code>resolveFile</code> in the above code."}],"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697810156,"creation_date":1619119839,"answer_id":67219652,"question_id":11101267,"body_markdown":"The proposed solution is kinda off, and a bit &quot;weak&quot;. Let&#39;s try with a neater one!  \r\n*Note: the following code requires JDK 16.*\r\n\r\nGiven an example copy operation initiated with the standard:\r\n\r\n    final var manager = VFS.getManager();\r\n    final var origin = manager.resolveFile(originUri.toString(), fileSystemOptions);\r\n    final var destination = manager.resolveFile(destinationUri.toString(), fileSystemOptions);\r\n    destination.copyFrom(origin, Selectors.SELECT_ALL);\r\n\r\nSimply wrap the destination `FileObject` with a custom delegating implementation that we may call `ProgressFileObject`, which will accept also a `ProgressListener`:\r\n\r\n    final var listener = new ProgressListener() {\r\n      @Override\r\n      public void started() {\r\n        System.out.println(&quot;Started&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public void completed() {\r\n        System.out.println(&quot;Completed&quot;);\r\n      }\r\n\r\n      @Override\r\n      public void failed(@NotNull final Exception e) {\r\n        System.out.println(&quot;Failed: &quot; + e.getMessage());\r\n      }\r\n\r\n      @Override\r\n      public void progress(@NotNull final ProgressEvent event) {\r\n        final var out = &quot;%d\\t\\t\\t%d\\t\\t\\tFile: %s&quot;.formatted(\r\n            event.totalBytes(),\r\n            event.totalTransferredBytes(),\r\n            event.lastFileDestinationPath()\r\n        );\r\n\r\n        System.out.println(out);\r\n      }\r\n    };\r\n\r\n    final var progressFileObject = new ProgressFileObject(destination, listener);\r\n    progressFileObject.copyFrom(origin, Selectors.SELECT_ALL);\r\n\r\nWhich will result in, with a folder:\r\n\r\n    Started\r\n    4648320\t\t\t119391\t\t\tFile: /test_dir/AN/ANI0.evt\r\n    4648320\t\t\t119511\t\t\tFile: /test_dir/AN/ANI0.hpj\r\n    4648320\t\t\t119584\t\t\tFile: /test_dir/AN/ANI0.ipf\r\n    4648320\t\t\t119585\t\t\tFile: /test_dir/AN/ANI0.ipm\r\n    4648320\t\t\t1907060\t\t\tFile: /test_dir/AN/ANI0.LST\r\n    4648320\t\t\t1907253\t\t\tFile: /test_dir/AN/ANI0.MRG\r\n    4648320\t\t\t2472700\t\t\tFile: /test_dir/AN/ANI0.ODF\r\n    4648320\t\t\t2472707\t\t\tFile: /test_dir/AN/ANI0.ph\r\n    4648320\t\t\t2473421\t\t\tFile: /test_dir/AN/ANI0.rbj\r\n    4648320\t\t\t2473547\t\t\tFile: /test_dir/AN/ANI0.rc\r\n    4648320\t\t\t2473708\t\t\tFile: /test_dir/AN/ANI0.rst\r\n    4648320\t\t\t2474813\t\t\tFile: /test_dir/AN/ANI0.rtf\r\n    4648320\t\t\t2474814\t\t\tFile: /test_dir/AN/ANI0.txc\r\n    4648320\t\t\t2474819\t\t\tFile: /test_dir/AN/ANI0.txm\r\n    4648320\t\t\t2474820\t\t\tFile: /test_dir/AN/ANI0.vpf\r\n    4648320\t\t\t2829348\t\t\tFile: /test_dir/AN/ANI0.VPG\r\n    4648320\t\t\t2829466\t\t\tFile: /test_dir/AN/P0000001.rc\r\n    4648320\t\t\t2829592\t\t\tFile: /test_dir/AN/P0000002.rc\r\n    4648320\t\t\t4648275\t\t\tFile: /test_dir/AN/VPGSAV55.C2T\r\n    4648320\t\t\t4648320\t\t\tFile: /test_dir/AN/VRPGWIN.RC\r\n    Completed\r\n\r\nAnd here are the `ProgressFileObject`, `ProgressListener`, and `ProgressEvent` sources:\r\n\r\n    /**\r\n     * @author Edoardo Luppi\r\n     */\r\n    public class ProgressFileObject extends DecoratedFileObject {\r\n      private final FileObject fileObject;\r\n      private final ProgressListener listener;\r\n    \r\n      public ProgressFileObject(\r\n          @NotNull final FileObject fileObject,\r\n          @NotNull final ProgressListener listener) {\r\n        super(fileObject);\r\n        this.fileObject = fileObject;\r\n        this.listener = listener;\r\n      }\r\n    \r\n      @Override\r\n      public void copyFrom(final FileObject file, final FileSelector selector) throws FileSystemException {\r\n        if (!FileObjectUtils.exists(file)) {\r\n          final var exception = new FileSystemException(&quot;vfs.provider/copy-missing-file.error&quot;, file);\r\n          listener.failed(exception);\r\n          throw exception;\r\n        }\r\n    \r\n        listener.started();\r\n    \r\n        // Locate the files to copy across\r\n        final List&lt;FileObject&gt; files = new ArrayList&lt;&gt;();\r\n        file.findFiles(selector, false, files);\r\n    \r\n        // Calculate the total bytes that will be copied\r\n        var totalBytes = 0L;\r\n    \r\n        for (final var srcFile : files) {\r\n          if (srcFile.getType().hasContent()) {\r\n            totalBytes += srcFile.getContent().getSize();\r\n          }\r\n        }\r\n    \r\n        var totalTransferredBytes = 0L;\r\n    \r\n        // Copy everything across\r\n        for (final var srcFile : files) {\r\n          // Determine the destination file\r\n          final var relPath = file.getName().getRelativeName(srcFile.getName());\r\n          final var destFile = resolveFile(relPath, NameScope.DESCENDENT_OR_SELF);\r\n    \r\n          // Clean up the destination file, if necessary\r\n          if (FileObjectUtils.exists(destFile) &amp;&amp; destFile.getType() != srcFile.getType()) {\r\n            // The destination file exists, and is not of the same type, so delete it\r\n            destFile.deleteAll();\r\n          }\r\n    \r\n          // Copy across\r\n          try {\r\n            if (srcFile.getType().hasContent()) {\r\n              try (final var content = srcFile.getContent()) {\r\n                final var fileTransferredBytes = content.write(destFile);\r\n                totalTransferredBytes += fileTransferredBytes;\r\n                final var event = new ProgressEvent(\r\n                    totalBytes,\r\n                    totalTransferredBytes,\r\n                    fileTransferredBytes,\r\n                    srcFile.getName().getPath(),\r\n                    destFile.getName().getPath()\r\n                );\r\n            \r\n                listener.progress(event);\r\n              }\r\n            } else if (srcFile.getType().hasChildren()) {\r\n              destFile.createFolder();\r\n            }\r\n          } catch (final IOException e) {\r\n            final var exception = new FileSystemException(&quot;vfs.provider/copy-file.error&quot;, e, srcFile, destFile);\r\n            listener.failed(exception);\r\n            throw exception;\r\n          }\r\n        }\r\n    \r\n        listener.completed();\r\n      }\r\n    \r\n      @Override\r\n      public URI getURI() {\r\n        return fileObject.getURI();\r\n      }\r\n    \r\n      @Override\r\n      public Path getPath() {\r\n        return fileObject.getPath();\r\n      }\r\n    \r\n      @Override\r\n      public boolean isSymbolicLink() throws FileSystemException {\r\n        return fileObject.isSymbolicLink();\r\n      }\r\n    \r\n      @Override\r\n      public void forEach(final Consumer&lt;? super FileObject&gt; action) {\r\n        fileObject.forEach(action);\r\n      }\r\n    \r\n      @Override\r\n      public Spliterator&lt;FileObject&gt; spliterator() {\r\n        return fileObject.spliterator();\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return fileObject.hashCode();\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(final Object obj) {\r\n        return fileObject.equals(obj);\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return fileObject.toString();\r\n      }\r\n    \r\n      public interface ProgressListener {\r\n        void started();\r\n        void completed();\r\n        void failed(@NotNull final Exception e);\r\n        void progress(@NotNull final ProgressEvent event);\r\n      }\r\n    \r\n      public record ProgressEvent(\r\n          long totalBytes,\r\n          long totalTransferredBytes,\r\n          long lastFileTransferredBytes,\r\n          String lastFileOriginPath,\r\n          String lastFileDestinationPath\r\n      ) {}\r\n    }","title":"How do I monitor the progress of a file transfer in Apache Commons VFS?","body":"<p>The proposed solution is kinda off, and a bit &quot;weak&quot;. Let's try with a neater one!<br />\n<em>Note: the following code requires JDK 16.</em></p>\n<p>Given an example copy operation initiated with the standard:</p>\n<pre><code>final var manager = VFS.getManager();\nfinal var origin = manager.resolveFile(originUri.toString(), fileSystemOptions);\nfinal var destination = manager.resolveFile(destinationUri.toString(), fileSystemOptions);\ndestination.copyFrom(origin, Selectors.SELECT_ALL);\n</code></pre>\n<p>Simply wrap the destination <code>FileObject</code> with a custom delegating implementation that we may call <code>ProgressFileObject</code>, which will accept also a <code>ProgressListener</code>:</p>\n<pre><code>final var listener = new ProgressListener() {\n  @Override\n  public void started() {\n    System.out.println(&quot;Started&quot;);\n  }\n\n  @Override\n  public void completed() {\n    System.out.println(&quot;Completed&quot;);\n  }\n\n  @Override\n  public void failed(@NotNull final Exception e) {\n    System.out.println(&quot;Failed: &quot; + e.getMessage());\n  }\n\n  @Override\n  public void progress(@NotNull final ProgressEvent event) {\n    final var out = &quot;%d\\t\\t\\t%d\\t\\t\\tFile: %s&quot;.formatted(\n        event.totalBytes(),\n        event.totalTransferredBytes(),\n        event.lastFileDestinationPath()\n    );\n\n    System.out.println(out);\n  }\n};\n\nfinal var progressFileObject = new ProgressFileObject(destination, listener);\nprogressFileObject.copyFrom(origin, Selectors.SELECT_ALL);\n</code></pre>\n<p>Which will result in, with a folder:</p>\n<pre><code>Started\n4648320         119391          File: /test_dir/AN/ANI0.evt\n4648320         119511          File: /test_dir/AN/ANI0.hpj\n4648320         119584          File: /test_dir/AN/ANI0.ipf\n4648320         119585          File: /test_dir/AN/ANI0.ipm\n4648320         1907060         File: /test_dir/AN/ANI0.LST\n4648320         1907253         File: /test_dir/AN/ANI0.MRG\n4648320         2472700         File: /test_dir/AN/ANI0.ODF\n4648320         2472707         File: /test_dir/AN/ANI0.ph\n4648320         2473421         File: /test_dir/AN/ANI0.rbj\n4648320         2473547         File: /test_dir/AN/ANI0.rc\n4648320         2473708         File: /test_dir/AN/ANI0.rst\n4648320         2474813         File: /test_dir/AN/ANI0.rtf\n4648320         2474814         File: /test_dir/AN/ANI0.txc\n4648320         2474819         File: /test_dir/AN/ANI0.txm\n4648320         2474820         File: /test_dir/AN/ANI0.vpf\n4648320         2829348         File: /test_dir/AN/ANI0.VPG\n4648320         2829466         File: /test_dir/AN/P0000001.rc\n4648320         2829592         File: /test_dir/AN/P0000002.rc\n4648320         4648275         File: /test_dir/AN/VPGSAV55.C2T\n4648320         4648320         File: /test_dir/AN/VRPGWIN.RC\nCompleted\n</code></pre>\n<p>And here are the <code>ProgressFileObject</code>, <code>ProgressListener</code>, and <code>ProgressEvent</code> sources:</p>\n<pre><code>/**\n * @author Edoardo Luppi\n */\npublic class ProgressFileObject extends DecoratedFileObject {\n  private final FileObject fileObject;\n  private final ProgressListener listener;\n\n  public ProgressFileObject(\n      @NotNull final FileObject fileObject,\n      @NotNull final ProgressListener listener) {\n    super(fileObject);\n    this.fileObject = fileObject;\n    this.listener = listener;\n  }\n\n  @Override\n  public void copyFrom(final FileObject file, final FileSelector selector) throws FileSystemException {\n    if (!FileObjectUtils.exists(file)) {\n      final var exception = new FileSystemException(&quot;vfs.provider/copy-missing-file.error&quot;, file);\n      listener.failed(exception);\n      throw exception;\n    }\n\n    listener.started();\n\n    // Locate the files to copy across\n    final List&lt;FileObject&gt; files = new ArrayList&lt;&gt;();\n    file.findFiles(selector, false, files);\n\n    // Calculate the total bytes that will be copied\n    var totalBytes = 0L;\n\n    for (final var srcFile : files) {\n      if (srcFile.getType().hasContent()) {\n        totalBytes += srcFile.getContent().getSize();\n      }\n    }\n\n    var totalTransferredBytes = 0L;\n\n    // Copy everything across\n    for (final var srcFile : files) {\n      // Determine the destination file\n      final var relPath = file.getName().getRelativeName(srcFile.getName());\n      final var destFile = resolveFile(relPath, NameScope.DESCENDENT_OR_SELF);\n\n      // Clean up the destination file, if necessary\n      if (FileObjectUtils.exists(destFile) &amp;&amp; destFile.getType() != srcFile.getType()) {\n        // The destination file exists, and is not of the same type, so delete it\n        destFile.deleteAll();\n      }\n\n      // Copy across\n      try {\n        if (srcFile.getType().hasContent()) {\n          try (final var content = srcFile.getContent()) {\n            final var fileTransferredBytes = content.write(destFile);\n            totalTransferredBytes += fileTransferredBytes;\n            final var event = new ProgressEvent(\n                totalBytes,\n                totalTransferredBytes,\n                fileTransferredBytes,\n                srcFile.getName().getPath(),\n                destFile.getName().getPath()\n            );\n        \n            listener.progress(event);\n          }\n        } else if (srcFile.getType().hasChildren()) {\n          destFile.createFolder();\n        }\n      } catch (final IOException e) {\n        final var exception = new FileSystemException(&quot;vfs.provider/copy-file.error&quot;, e, srcFile, destFile);\n        listener.failed(exception);\n        throw exception;\n      }\n    }\n\n    listener.completed();\n  }\n\n  @Override\n  public URI getURI() {\n    return fileObject.getURI();\n  }\n\n  @Override\n  public Path getPath() {\n    return fileObject.getPath();\n  }\n\n  @Override\n  public boolean isSymbolicLink() throws FileSystemException {\n    return fileObject.isSymbolicLink();\n  }\n\n  @Override\n  public void forEach(final Consumer&lt;? super FileObject&gt; action) {\n    fileObject.forEach(action);\n  }\n\n  @Override\n  public Spliterator&lt;FileObject&gt; spliterator() {\n    return fileObject.spliterator();\n  }\n\n  @Override\n  public int hashCode() {\n    return fileObject.hashCode();\n  }\n\n  @Override\n  public boolean equals(final Object obj) {\n    return fileObject.equals(obj);\n  }\n\n  @Override\n  public String toString() {\n    return fileObject.toString();\n  }\n\n  public interface ProgressListener {\n    void started();\n    void completed();\n    void failed(@NotNull final Exception e);\n    void progress(@NotNull final ProgressEvent event);\n  }\n\n  public record ProgressEvent(\n      long totalBytes,\n      long totalTransferredBytes,\n      long lastFileTransferredBytes,\n      String lastFileOriginPath,\n      String lastFileDestinationPath\n  ) {}\n}\n</code></pre>\n"}],"owner":{"account_id":95356,"reputation":10155,"user_id":259747,"accept_rate":94,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11134020,"answer_count":2,"score":1,"last_activity_date":1697810156,"creation_date":1340110073,"question_id":11101267,"body_markdown":"Using [Apache Commons VFS][1], how do I monitor the progress of a file transfer. I need to be able to do it with uploads and downloads. I also need to monitor progress over HTTP, FTP, SFTP and FTPS. I can&#39;t find anything in the documentation about it.\r\n\r\n\r\n  [1]: http://commons.apache.org/vfs/","title":"How do I monitor the progress of a file transfer in Apache Commons VFS?","body":"<p>Using <a href=\"http://commons.apache.org/vfs/\" rel=\"nofollow\">Apache Commons VFS</a>, how do I monitor the progress of a file transfer. I need to be able to do it with uploads and downloads. I also need to monitor progress over HTTP, FTP, SFTP and FTPS. I can't find anything in the documentation about it.</p>\n"},{"tags":["java","docker","eclipse","remote-debugging","spring-tool-suite"],"comments":[{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1697809757,"post_id":77245650,"comment_id":136330137,"body_markdown":"More details here https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/39","body":"More details here <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/39\" rel=\"nofollow noreferrer\">github.com/eclipse-jdt/eclipse.jdt.debug/issues/39</a>"}],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697809802,"creation_date":1696605656,"question_id":77245650,"body_markdown":"There is a java app deployed on remote machine , I use port forward to debug it .\r\nBut the connection takes too much time .\r\n\r\nOn running ssh connection in debug mode I get below logs \r\n\r\n    debug1: Connection to port 5005 forwarding to 10.1.1.234 port 8000 requested.\r\n    debug1: channel 2: new [direct-tcpip]\r\n\r\nIn eclipse I get no error or logs when ran eclipse in debug mode with console log.\r\n\r\nIs there a way to speed up the connection time and speed of debugging .\r\nI have set all java debug properties in STS as optimal as possible to speed up debug but thats not helping .\r\n \r\nI have disabled all monitors and show threads in debug\r\nHere is configuration \r\n[![here is configuration ][1]][1]\r\nMore details and logs and data on issue here\r\nhttps://github.com/eclipse-jdt/eclipse.jdt.debug/issues/39\r\n\r\n  [1]: https://i.stack.imgur.com/SIjND.jpg","title":"Spring tool Suite Remote Debug over ssh port forward too slow","body":"<p>There is a java app deployed on remote machine , I use port forward to debug it .\nBut the connection takes too much time .</p>\n<p>On running ssh connection in debug mode I get below logs</p>\n<pre><code>debug1: Connection to port 5005 forwarding to 10.1.1.234 port 8000 requested.\ndebug1: channel 2: new [direct-tcpip]\n</code></pre>\n<p>In eclipse I get no error or logs when ran eclipse in debug mode with console log.</p>\n<p>Is there a way to speed up the connection time and speed of debugging .\nI have set all java debug properties in STS as optimal as possible to speed up debug but thats not helping .</p>\n<p>I have disabled all monitors and show threads in debug\nHere is configuration\n<a href=\"https://i.stack.imgur.com/SIjND.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SIjND.jpg\" alt=\"here is configuration \" /></a>\nMore details and logs and data on issue here\n<a href=\"https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/39\" rel=\"nofollow noreferrer\">https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/39</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1197724,"reputation":4402,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":3,"creation_date":1563972421,"post_id":57183301,"comment_id":100877308,"body_markdown":"Show us your code. We will help.","body":"Show us your code. We will help."}],"answers":[{"comments":[{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":3,"creation_date":1563977033,"post_id":57183375,"comment_id":100880053,"body_markdown":"While this code may answer the question, providing additional context regarding *why* and/or *how* this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding <i>why</i> and/or <i>how</i> this code answers the question improves its long-term value."},{"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"score":0,"creation_date":1682472892,"post_id":57183375,"comment_id":134220299,"body_markdown":"@Sneftel Now edited.  &#128578;","body":"@Sneftel Now edited.  🙂"}],"tags":[],"owner":{"account_id":4360446,"reputation":2005,"user_id":3557714,"display_name":"Ben R."},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697809705,"creation_date":1563972604,"answer_id":57183375,"question_id":57183301,"body_markdown":"**Quick answer:**\r\n\r\n```java\r\nString currentDir = Paths.get(&quot;&quot;).toAbsolutePath().getFileName().toString();\r\n```\r\n\r\n**Full explanation:**\r\n\r\nYou first ask for the current directory:\r\n\r\n```java\r\nPaths.get(&quot;&quot;);\r\n```\r\nBut a toString() wouldn&#39;t show you anything, as you are where you are.\r\n\r\nSo then you ask for the absolute path:\r\n\r\n```java\r\nPaths.get(&quot;&quot;).toAbsolutePath();\r\n```\r\nBut a toString() would get you the full path `C:\\Users\\Test`.\r\n\r\nSo now you ask for the &quot;getFileName&quot;, which gets you just the name of the directory, and a toString() to convert it to a string:\r\n\r\n```java\r\nString currentDir = Paths.get(&quot;&quot;).toAbsolutePath().getFileName().toString();\r\n```","title":"Get current folder name without an absolute path","body":"<p><strong>Quick answer:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String currentDir = Paths.get(&quot;&quot;).toAbsolutePath().getFileName().toString();\n</code></pre>\n<p><strong>Full explanation:</strong></p>\n<p>You first ask for the current directory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Paths.get(&quot;&quot;);\n</code></pre>\n<p>But a toString() wouldn't show you anything, as you are where you are.</p>\n<p>So then you ask for the absolute path:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Paths.get(&quot;&quot;).toAbsolutePath();\n</code></pre>\n<p>But a toString() would get you the full path <code>C:\\Users\\Test</code>.</p>\n<p>So now you ask for the &quot;getFileName&quot;, which gets you just the name of the directory, and a toString() to convert it to a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String currentDir = Paths.get(&quot;&quot;).toAbsolutePath().getFileName().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12461617,"reputation":49,"user_id":9073076,"display_name":"Maniram Yadav"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563974388,"creation_date":1563974388,"answer_id":57183948,"question_id":57183301,"body_markdown":"There is two way to get the name of the current working folder in java\r\n\r\n - Using java.lang.System class\r\n\r\n\t\tString directory=System.getProperty(&quot;user.dir&quot;);\r\n\t\tString currentFolderName=directory.substring(directory.lastIndexOf(&quot;\\\\&quot;)+1);\r\n\t\tSystem.out.println(currentFolderName);\r\n\r\n\r\n - Using java.nio.file.Paths class\r\n\r\n\t\tSystem.out.println(Paths.get(directory).getFileName());","title":"Get current folder name without an absolute path","body":"<p>There is two way to get the name of the current working folder in java</p>\n\n<ul>\n<li><p>Using java.lang.System class</p>\n\n<pre><code>String directory=System.getProperty(\"user.dir\");\nString currentFolderName=directory.substring(directory.lastIndexOf(\"\\\\\")+1);\nSystem.out.println(currentFolderName);\n</code></pre></li>\n<li><p>Using java.nio.file.Paths class</p>\n\n<pre><code>System.out.println(Paths.get(directory).getFileName());\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":8595799,"reputation":31,"user_id":6438852,"display_name":"Bikir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":2,"score":-5,"last_activity_date":1697809705,"creation_date":1563972369,"question_id":57183301,"body_markdown":"How to get the parent name of the current working directory with out the absolute path name, just the name of the folder. For example, if I am on &quot;C:\\Users\\Test&quot; folder I need only &quot;Test&quot;.","title":"Get current folder name without an absolute path","body":"<p>How to get the parent name of the current working directory with out the absolute path name, just the name of the folder. For example, if I am on \"C:\\Users\\Test\" folder I need only \"Test\".</p>\n"},{"tags":["java","recursive-backtracking"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1697809375,"post_id":77329049,"comment_id":136330059,"body_markdown":"Do not tag this as `dsa`.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not tag this as <code>dsa</code>.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."}],"answers":[{"comments":[{"owner":{"account_id":26695241,"reputation":11,"user_id":20303214,"display_name":"Rai"},"score":0,"creation_date":1697895969,"post_id":77329083,"comment_id":136338402,"body_markdown":"Thanks that was helpful","body":"Thanks that was helpful"}],"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697787285,"creation_date":1697787285,"answer_id":77329083,"question_id":77329049,"body_markdown":"The key difference between the two codes is the `start` parameter in `backtrack()` method of code #1, which ensures you only move forward or stay at the current element when making recursive calls. This avoids permutations of the same combination without needing a Set for deduplication.\r\n\r\n- In code #1: `backtrack(list, temp, nums, remain - nums[i], i);`  \r\nNotice the `i` in the recursive call. This ensures you reuse the current number or use numbers that come after it, avoiding duplicates.\r\n\r\n- In code #2: `combi(n, arr, tar, res, opt, sum+arr[i]);`  \r\nThere&#39;s no such constraint. You always start from `i=0`, leading to permutations of the same combination.","title":"Differencce between the given codes for combination sum problem","body":"<p>The key difference between the two codes is the <code>start</code> parameter in <code>backtrack()</code> method of code #1, which ensures you only move forward or stay at the current element when making recursive calls. This avoids permutations of the same combination without needing a Set for deduplication.</p>\n<ul>\n<li><p>In code #1: <code>backtrack(list, temp, nums, remain - nums[i], i);</code><br />\nNotice the <code>i</code> in the recursive call. This ensures you reuse the current number or use numbers that come after it, avoiding duplicates.</p>\n</li>\n<li><p>In code #2: <code>combi(n, arr, tar, res, opt, sum+arr[i]);</code><br />\nThere's no such constraint. You always start from <code>i=0</code>, leading to permutations of the same combination.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26695241,"reputation":11,"user_id":20303214,"display_name":"Rai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697809380,"creation_date":1697786918,"question_id":77329049,"body_markdown":"Ok, I have been trying to find the mistake in my code or the place where it changes from the given code.\r\nThere are two codes here \r\ncode #1-\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\r\n      List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n      Arrays.sort(candidates);\r\n      backtrack(list, new ArrayList&lt;&gt;(), candidates, target, 0);\r\n      return list;  \r\n    }\r\n    public void backtrack(List&lt;List&lt;Integer&gt;&gt; list, List&lt;Integer&gt; temp, int[] nums, int remain, int start) {\r\n        if(remain &lt; 0) return;\r\n        else if (remain == 0) list.add(new ArrayList&lt;&gt;(temp));\r\n        else {\r\n            for(int i = start; i &lt; nums.length; i ++) {\r\n                temp.add(nums[i]);\r\n                backtrack(list, temp, nums, remain - nums[i], i);\r\n                temp.remove(temp.size() - 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\ncode #2-\r\n```\r\nclass Solution {\r\n    public static void combi(int n, int[] arr, int tar, List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; opt, int sum){\r\n        if(sum&gt;tar){\r\n            return;\r\n        }else if(sum == tar){\r\n            res.add(new ArrayList&lt;&gt;(opt));\r\n          \r\n        }else{\r\n        for(int i=0;i&lt;n;i++){\r\n             opt.add(arr[i]);\r\n             combi(n, arr, tar, res, opt, sum+arr[i]);\r\n             opt.remove(opt.size()-1);\r\n             \r\n        }}\r\n    }\r\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] arr, int tar) {\r\n       List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\r\n       Arrays.sort(arr);\r\n       combi(arr.length, arr, tar, res, new ArrayList&lt;&gt;(), 0);\r\n       return res; \r\n    }\r\n```\r\n   \r\ncode 2 is written by me now i want to know why the code1 is giving only the unique sol&#39;n when i believe it should give all the possible sol&#39;n, duplicates too as my code gives. I dont get it can you please tell me what is the difference.\r\n\r\nso the test case is\r\n\r\n[2,3,6,7]\r\n\r\nand my code gives \r\n`your text`\r\n[[2,2,3],[2,3,2],[3,2,2],[7]]\r\n```\r\ntype here\r\n```\r\n\r\n\r\nbut the code gives\r\n\r\n[[2,2,3],[7]]\r\n\r\nOne thing I can do is use set to get the unique sol&#39;n but what ever the first code does is much easier I just don&#39;t get why the code give unique sol&#39;ns only.","title":"Differencce between the given codes for combination sum problem","body":"<p>Ok, I have been trying to find the mistake in my code or the place where it changes from the given code.\nThere are two codes here\ncode #1-</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] candidates, int target) {\n      List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\n      Arrays.sort(candidates);\n      backtrack(list, new ArrayList&lt;&gt;(), candidates, target, 0);\n      return list;  \n    }\n    public void backtrack(List&lt;List&lt;Integer&gt;&gt; list, List&lt;Integer&gt; temp, int[] nums, int remain, int start) {\n        if(remain &lt; 0) return;\n        else if (remain == 0) list.add(new ArrayList&lt;&gt;(temp));\n        else {\n            for(int i = start; i &lt; nums.length; i ++) {\n                temp.add(nums[i]);\n                backtrack(list, temp, nums, remain - nums[i], i);\n                temp.remove(temp.size() - 1);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>code #2-</p>\n<pre><code>class Solution {\n    public static void combi(int n, int[] arr, int tar, List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; opt, int sum){\n        if(sum&gt;tar){\n            return;\n        }else if(sum == tar){\n            res.add(new ArrayList&lt;&gt;(opt));\n          \n        }else{\n        for(int i=0;i&lt;n;i++){\n             opt.add(arr[i]);\n             combi(n, arr, tar, res, opt, sum+arr[i]);\n             opt.remove(opt.size()-1);\n             \n        }}\n    }\n    public List&lt;List&lt;Integer&gt;&gt; combinationSum(int[] arr, int tar) {\n       List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\n       Arrays.sort(arr);\n       combi(arr.length, arr, tar, res, new ArrayList&lt;&gt;(), 0);\n       return res; \n    }\n</code></pre>\n<p>code 2 is written by me now i want to know why the code1 is giving only the unique sol'n when i believe it should give all the possible sol'n, duplicates too as my code gives. I dont get it can you please tell me what is the difference.</p>\n<p>so the test case is</p>\n<p>[2,3,6,7]</p>\n<p>and my code gives\n<code>your text</code>\n[[2,2,3],[2,3,2],[3,2,2],[7]]</p>\n<pre><code>type here\n</code></pre>\n<p>but the code gives</p>\n<p>[[2,2,3],[7]]</p>\n<p>One thing I can do is use set to get the unique sol'n but what ever the first code does is much easier I just don't get why the code give unique sol'ns only.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","jsonb"],"comments":[{"owner":{"account_id":7678058,"reputation":2129,"user_id":5818250,"display_name":"Jabongg"},"score":0,"creation_date":1545211032,"post_id":53847917,"comment_id":94543428,"body_markdown":"possible duplicate of : https://stackoverflow.com/questions/20401719/insert-bytea-into-postgresql-json-type... \n\nkindly visit above link.","body":"possible duplicate of : <a href=\"https://stackoverflow.com/questions/20401719/insert-bytea-into-postgresql-json-type\" title=\"insert bytea into postgresql json type\">stackoverflow.com/questions/20401719/&hellip;</a>...   kindly visit above link."},{"owner":{"account_id":7797669,"reputation":228,"user_id":5898205,"display_name":"Varshney P."},"score":0,"creation_date":1574316034,"post_id":53847917,"comment_id":104190700,"body_markdown":"@Arihant Jain: I am too facing such issue. Did u resolved urs?","body":"@Arihant Jain: I am too facing such issue. Did u resolved urs?"}],"answers":[{"comments":[{"owner":{"account_id":5151005,"reputation":7132,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"score":0,"creation_date":1691073866,"post_id":53848099,"comment_id":135444980,"body_markdown":"we had exactly this solution in our code for a while, now after update to springboot 2 and hibernate 6 it stopped working.","body":"we had exactly this solution in our code for a while, now after update to springboot 2 and hibernate 6 it stopped working."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1610121755,"creation_date":1545211453,"answer_id":53848099,"question_id":53847917,"body_markdown":"The cause of the error\r\n----------------------\r\n\r\nYou could get this PostgreSQL:\r\n\r\n&gt; ERROR: column “metadata” is of type jsonb but expression is of type bytea Hint: You will need to rewrite or cast the expression.\r\n\r\nif you are executing a native SQL DML statement.\r\n\r\nNative SQL DML statement\r\n------------------------\r\n\r\nFor instance, let&#39;s assume you want to do something like this:\r\n\r\n    int updateCount = entityManager.createNativeQuery(&quot;&quot;&quot;\r\n        UPDATE\r\n            room_categories\r\n        SET\r\n            metadata = :metadata\r\n        WHERE\r\n            code = :code AND\r\n            metadata -&gt;&gt; &#39;field1&#39; is null            \r\n        &quot;&quot;&quot;)\r\n    .setParameter(&quot;code &quot;, &quot;123-ABC&quot;)\r\n    .setParameter(\r\n        &quot;metadata&quot;,\r\n        new Metadata()\r\n            .setField1(&quot;ABC&quot;)\r\n            .setField2(&quot;123&quot;)\r\n    )\r\n    .executeUpdate();\r\n\r\nThe `bytea` type stands for byte array, and, since the `Metadata` type implements the `Serializable` interface, Hibernate falls back to using the `SerializableType` when no other type is more appropriate. \r\n\r\nBut, since you cannot bind a byte array to a `jsonb` column, PostgreSQL throws the aforementioned error.\r\n\r\nThe fix\r\n-------\r\n\r\nTo fix it, we have to set the `JsonBinaryType` explicitly using the Hibernate-specific `setParameter` `Query` method:\r\n\r\n    int updateCount = entityManager.createNativeQuery(&quot;&quot;&quot;\r\n        UPDATE\r\n            room_categories\r\n        SET\r\n            metadata = :metadata\r\n        WHERE\r\n            code = :code AND\r\n            metadata -&gt;&gt; &#39;field1&#39; is null            \r\n        &quot;&quot;&quot;)\r\n    .setParameter(&quot;code &quot;, &quot;123-ABC&quot;)\r\n    .unwrap(org.hibernate.query.Query.class)\r\n    .setParameter(\r\n        &quot;metadata&quot;,\r\n        new Metadata()\r\n            .setField1(&quot;ABC&quot;)\r\n            .setField2(&quot;123&quot;),\r\n        JsonBinaryType.INSTANCE\r\n    )\r\n    .executeUpdate();\r\n\r\nFirst, we had to `unwrap` the JPA `Query` to a Hibernate `org.hibernate.query.Query` and call the `setParameter` method that takes a Hibernate Type instance.\r\n\r\nNow, Hibernate will know that the `metadata` parameter needs to be handled by the `JsonBinaryType`, and not by the `SerializableType`. ","title":"PostgreSQL throws &quot;column is of type jsonb but expression is of type bytea&quot; with JPA and Hibernate","body":"<h2>The cause of the error</h2>\n<p>You could get this PostgreSQL:</p>\n<blockquote>\n<p>ERROR: column “metadata” is of type jsonb but expression is of type bytea Hint: You will need to rewrite or cast the expression.</p>\n</blockquote>\n<p>if you are executing a native SQL DML statement.</p>\n<h2>Native SQL DML statement</h2>\n<p>For instance, let's assume you want to do something like this:</p>\n<pre><code>int updateCount = entityManager.createNativeQuery(&quot;&quot;&quot;\n    UPDATE\n        room_categories\n    SET\n        metadata = :metadata\n    WHERE\n        code = :code AND\n        metadata -&gt;&gt; 'field1' is null            \n    &quot;&quot;&quot;)\n.setParameter(&quot;code &quot;, &quot;123-ABC&quot;)\n.setParameter(\n    &quot;metadata&quot;,\n    new Metadata()\n        .setField1(&quot;ABC&quot;)\n        .setField2(&quot;123&quot;)\n)\n.executeUpdate();\n</code></pre>\n<p>The <code>bytea</code> type stands for byte array, and, since the <code>Metadata</code> type implements the <code>Serializable</code> interface, Hibernate falls back to using the <code>SerializableType</code> when no other type is more appropriate.</p>\n<p>But, since you cannot bind a byte array to a <code>jsonb</code> column, PostgreSQL throws the aforementioned error.</p>\n<h2>The fix</h2>\n<p>To fix it, we have to set the <code>JsonBinaryType</code> explicitly using the Hibernate-specific <code>setParameter</code> <code>Query</code> method:</p>\n<pre><code>int updateCount = entityManager.createNativeQuery(&quot;&quot;&quot;\n    UPDATE\n        room_categories\n    SET\n        metadata = :metadata\n    WHERE\n        code = :code AND\n        metadata -&gt;&gt; 'field1' is null            \n    &quot;&quot;&quot;)\n.setParameter(&quot;code &quot;, &quot;123-ABC&quot;)\n.unwrap(org.hibernate.query.Query.class)\n.setParameter(\n    &quot;metadata&quot;,\n    new Metadata()\n        .setField1(&quot;ABC&quot;)\n        .setField2(&quot;123&quot;),\n    JsonBinaryType.INSTANCE\n)\n.executeUpdate();\n</code></pre>\n<p>First, we had to <code>unwrap</code> the JPA <code>Query</code> to a Hibernate <code>org.hibernate.query.Query</code> and call the <code>setParameter</code> method that takes a Hibernate Type instance.</p>\n<p>Now, Hibernate will know that the <code>metadata</code> parameter needs to be handled by the <code>JsonBinaryType</code>, and not by the <code>SerializableType</code>.</p>\n"},{"tags":[],"owner":{"account_id":939554,"reputation":322,"user_id":967873,"display_name":"Ali Faradjpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1594123191,"creation_date":1594123191,"answer_id":62774773,"question_id":53847917,"body_markdown":"Simply convert your object by an ObjectMapper to a json string and then use (::jsonb) as cast to jsonb type: \r\n\r\n    INSERT INTO room_categories (name, code, metadata)\r\n    \tVALUES (?, ?, ? ::jsonb ); \r\n\r\n(you will need to use native queries to query data stored as jsonb)","title":"PostgreSQL throws &quot;column is of type jsonb but expression is of type bytea&quot; with JPA and Hibernate","body":"<p>Simply convert your object by an ObjectMapper to a json string and then use (::jsonb) as cast to jsonb type:</p>\n<pre><code>INSERT INTO room_categories (name, code, metadata)\n    VALUES (?, ?, ? ::jsonb ); \n</code></pre>\n<p>(you will need to use native queries to query data stored as jsonb)</p>\n"},{"tags":[],"owner":{"account_id":1988712,"reputation":655,"user_id":1783283,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697808816,"creation_date":1697808816,"answer_id":77331338,"question_id":53847917,"body_markdown":"if you use the **JpaRespository** save interface method, you can add the cast method above the issue property \r\n\r\n    @ColumnTransformer(write = &quot;?::jsonb&quot;)\r\n    private Metadata metadata;","title":"PostgreSQL throws &quot;column is of type jsonb but expression is of type bytea&quot; with JPA and Hibernate","body":"<p>if you use the <strong>JpaRespository</strong> save interface method, you can add the cast method above the issue property</p>\n<pre><code>@ColumnTransformer(write = &quot;?::jsonb&quot;)\nprivate Metadata metadata;\n</code></pre>\n"}],"owner":{"account_id":14974170,"reputation":151,"user_id":10810056,"display_name":"Arihant Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34151,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1697808816,"creation_date":1545210819,"question_id":53847917,"body_markdown":"This is my entity class that is mapped to a table in `postgres` (9.4)\r\nI am trying to store metadata as `jsonb` type in the database\r\n    \r\n    @Entity\r\n    @Table(name = “room_categories”)\r\n    @TypeDef(name = “jsonb”, typeClass = JsonBinaryType.class)\r\n    public class RoomCategory extends AbstractEntity implements Serializable {\r\n        private String name;\r\n        private String code;\r\n        @Type(type = &quot;jsonb&quot;)\r\n        @Column(columnDefinition = &quot;json&quot;)\r\n        private Metadata metadata;\r\n        \r\n    }\r\nThis is the metadata class:\r\n    \r\n    public class Metadata implements Serializable {\r\n        private String field1;\r\n        private String field2;\r\n        \r\n    }\r\nI have used following migration file to add `jsonb` column:\r\n\r\n    databaseChangeLog:\r\n    – changeSet:\r\n    id: addColumn_metadata-room_categories\r\n    author: arihant\r\n    changes:\r\n    – addColumn:\r\n    schemaName: public\r\n    tableName: room_categories\r\n    columns:\r\n    – column:\r\n    name: metadata\r\n    type: jsonb\r\n    \r\n\r\nI am getting this error while creating the record in `postgres`:\r\nERROR: column “metadata” is of type `jsonb` but expression is of type `bytea`\r\nHint: You will need to rewrite or cast the expression.\r\n    \r\nThis is the request body i am trying to persist in db:\r\n  \r\n\r\n      {\r\n        “name”: “Test102”,\r\n        “code”: “Code102”,\r\n        “metadata”: {\r\n        “field1”: “field11”,\r\n        “field2”: “field12”\r\n        }\r\n        }\r\n    \r\nPlease help how to convert `bytea` type to `jsonb` in java spring boot app","title":"PostgreSQL throws &quot;column is of type jsonb but expression is of type bytea&quot; with JPA and Hibernate","body":"<p>This is my entity class that is mapped to a table in <code>postgres</code> (9.4)\nI am trying to store metadata as <code>jsonb</code> type in the database</p>\n\n<pre><code>@Entity\n@Table(name = “room_categories”)\n@TypeDef(name = “jsonb”, typeClass = JsonBinaryType.class)\npublic class RoomCategory extends AbstractEntity implements Serializable {\n    private String name;\n    private String code;\n    @Type(type = \"jsonb\")\n    @Column(columnDefinition = \"json\")\n    private Metadata metadata;\n\n}\n</code></pre>\n\n<p>This is the metadata class:</p>\n\n<pre><code>public class Metadata implements Serializable {\n    private String field1;\n    private String field2;\n\n}\n</code></pre>\n\n<p>I have used following migration file to add <code>jsonb</code> column:</p>\n\n<pre><code>databaseChangeLog:\n– changeSet:\nid: addColumn_metadata-room_categories\nauthor: arihant\nchanges:\n– addColumn:\nschemaName: public\ntableName: room_categories\ncolumns:\n– column:\nname: metadata\ntype: jsonb\n</code></pre>\n\n<p>I am getting this error while creating the record in <code>postgres</code>:\nERROR: column “metadata” is of type <code>jsonb</code> but expression is of type <code>bytea</code>\nHint: You will need to rewrite or cast the expression.</p>\n\n<p>This is the request body i am trying to persist in db:</p>\n\n<pre><code>  {\n    “name”: “Test102”,\n    “code”: “Code102”,\n    “metadata”: {\n    “field1”: “field11”,\n    “field2”: “field12”\n    }\n    }\n</code></pre>\n\n<p>Please help how to convert <code>bytea</code> type to <code>jsonb</code> in java spring boot app</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":205806,"reputation":725,"user_id":454742,"accept_rate":65,"display_name":"Luis C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697808455,"creation_date":1697808455,"question_id":77331298,"body_markdown":"I&#39;m develop a simple plugin for gradle. I&#39;ve bootstraped the project for the plugin throught:\r\n```\r\ngradle init\r\n```\r\nAnd I choose Java and Groovy (DSL).\r\n\r\nFirst of all, I&#39;ve added the `maven-publish` plugin to have all the necessary for deploying. Also, in the `build.gradle` I added the version (1.0.0-SNAPSHOT).\r\n\r\nI run build and publishToMavenLocal and I haven&#39;t errors. \r\n\r\nWith the same procedure `gradle init` I&#39;ve created a sample application. I&#39;ve imported the plugin throught their id, obviosuly after update the repositories with mavenLocal (everything, buildscript also).\r\n\r\nUntil this, I have always the same error:\r\n```\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.myplugin&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (plugin dependency must include a version number for this source)\r\n```\r\n\r\nWhat I missing?!?\r\n\r\nThanks!\r\n\r\n\r\n","title":"How to publish correctly my Gradle plugin into mavenLocal","body":"<p>I'm develop a simple plugin for gradle. I've bootstraped the project for the plugin throught:</p>\n<pre><code>gradle init\n</code></pre>\n<p>And I choose Java and Groovy (DSL).</p>\n<p>First of all, I've added the <code>maven-publish</code> plugin to have all the necessary for deploying. Also, in the <code>build.gradle</code> I added the version (1.0.0-SNAPSHOT).</p>\n<p>I run build and publishToMavenLocal and I haven't errors.</p>\n<p>With the same procedure <code>gradle init</code> I've created a sample application. I've imported the plugin throught their id, obviosuly after update the repositories with mavenLocal (everything, buildscript also).</p>\n<p>Until this, I have always the same error:</p>\n<pre><code>* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.myplugin'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (plugin dependency must include a version number for this source)\n</code></pre>\n<p>What I missing?!?</p>\n<p>Thanks!</p>\n"},{"tags":["javascript","java","hover","extract","inspect"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697814100,"post_id":77331270,"comment_id":136331061,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29716456,"reputation":1,"user_id":22774865,"display_name":"Abdul Khoir Firdaus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697808323,"creation_date":1697808323,"question_id":77331270,"body_markdown":"my ground seems error at inspect on live server, but at vscode there&#39;s no problem appear.\r\n\r\ni&#39;ve tried to see it one by one but still not get what makes ground error in the inspect. somebody told me to hover my ground and extract it to inspect in Microsoft edge","title":"how to Hover Ground into inspect","body":"<p>my ground seems error at inspect on live server, but at vscode there's no problem appear.</p>\n<p>i've tried to see it one by one but still not get what makes ground error in the inspect. somebody told me to hover my ground and extract it to inspect in Microsoft edge</p>\n"},{"tags":["java","gradle","dependencies","project","root"],"answers":[{"comments":[{"owner":{"account_id":29716176,"reputation":1,"user_id":22774644,"display_name":"Mihai Mecarian"},"score":0,"creation_date":1697810919,"post_id":77331256,"comment_id":136330377,"body_markdown":"I&#39;ve already tried this, but removing plugins leads to this error: &quot;Unresolved reference: implementation&quot;. Seems that implementation needs java plugin because it&#39;s defined by this plugin.","body":"I&#39;ve already tried this, but removing plugins leads to this error: &quot;Unresolved reference: implementation&quot;. Seems that implementation needs java plugin because it&#39;s defined by this plugin."},{"owner":{"account_id":29716176,"reputation":1,"user_id":22774644,"display_name":"Mihai Mecarian"},"score":0,"creation_date":1697811850,"post_id":77331256,"comment_id":136330603,"body_markdown":"The whole idea is to have common dependencies in the root project. Removing plugins defeats this purpose, I would go back to adding the same dependencies to each sub-project.","body":"The whole idea is to have common dependencies in the root project. Removing plugins defeats this purpose, I would go back to adding the same dependencies to each sub-project."}],"tags":[],"owner":{"account_id":903132,"reputation":15025,"user_id":938694,"accept_rate":59,"display_name":"Cubic"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697808104,"creation_date":1697808104,"answer_id":77331256,"question_id":77331131,"body_markdown":"The problem is this:\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;jacoco&quot;)\r\n}\r\n```\r\n\r\nSince these are core plugins, this is _only_ useful if you want to apply them to the current project. Just remove these lines if the root project is not meant to produce a jar.","title":"Gradle Root Project: Unnecessary Empty JAR Generation","body":"<p>The problem is this:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;jacoco&quot;)\n}\n</code></pre>\n<p>Since these are core plugins, this is <em>only</em> useful if you want to apply them to the current project. Just remove these lines if the root project is not meant to produce a jar.</p>\n"}],"owner":{"account_id":29716176,"reputation":1,"user_id":22774644,"display_name":"Mihai Mecarian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697808104,"creation_date":1697806984,"question_id":77331131,"body_markdown":"I am working on a Gradle multi-project build with four Java sub-projects. I recently decided to centralize the dependency declarations for these sub-projects within the `build.gradle.kts`\r\nof the root project. This approach has been successful in managing dependencies across my projects.\r\n\r\nHowever, I have encountered an annoying issue. When I build the project, a build folder is generated in the root project directory, and within it, an empty JAR file is created, containing only a manifest file. The root project has no source code and is merely a directory for managing the sub-projects. Also an empty code coverage report folder is generated in the build folder, even if there&#39;s no code.\r\n\r\nMy question is twofold:\r\n\r\n- Why is Gradle generating an empty JAR and a build folder for the root project, which contains no source code?\r\n- How can I configure Gradle to treat the root project as a non-Java project, as a bare project?\r\n\r\n**Root Project Configuration**\r\n\r\n`settings.gradle.kts` file:\r\n\r\n```\r\nrootProject.name = &quot;root\r\ninclude(&quot;core&quot;)\r\ninclude(&quot;app&quot;)\r\ninclude(&quot;ui&quot;)\r\n```\r\n\r\n`build.gradle.kts` file:\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;)\r\n    id(&quot;jacoco&quot;)\r\n}\r\n\r\nconfigure(subprojects) {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    plugins.apply(&quot;java&quot;)\r\n    plugins.apply(&quot;jacoco&quot;)\r\n\r\n    dependencies {\r\n        implementation(platform(&quot;org.apache.logging.log4j:log4j-bom:2.20.0&quot;))\r\n        implementation(&quot;org.apache.logging.log4j:log4j-api&quot;)\r\n        implementation(&quot;org.apache.logging.log4j:log4j-core&quot;)\r\n        implementation(&quot;org.apache.logging.log4j:log4j-slf4j-impl&quot;)\r\n        implementation(&quot;org.slf4j:slf4j-api:1.7.32&quot;)\r\n        testImplementation(platform(&quot;org.junit:junit-bom:5.10.0&quot;))\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n        testRuntimeOnly(&quot;org.junit.platform:junit-platform-launcher&quot;)\r\n    }\r\n\r\n    tasks.test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    tasks.jacocoTestReport {\r\n        dependsOn(tasks.test)\r\n    }\r\n\r\n    tasks.jacocoTestCoverageVerification {\r\n        dependsOn(tasks.jacocoTestReport)\r\n    }\r\n}\r\n```\r\n\r\nYour insights and suggestions on how to configure Gradle to treat the root project appropriately would be greatly appreciated. Thank you.\r\n\r\nI tried to use `apply false` for each plugin, but it&#39;s an error, they are core plugins.\r\n\r\n```\r\nplugins {\r\n    id(&quot;java&quot;) apply false\r\n    id(&quot;jacoco&quot;) apply false\r\n}\r\n```","title":"Gradle Root Project: Unnecessary Empty JAR Generation","body":"<p>I am working on a Gradle multi-project build with four Java sub-projects. I recently decided to centralize the dependency declarations for these sub-projects within the <code>build.gradle.kts</code>\nof the root project. This approach has been successful in managing dependencies across my projects.</p>\n<p>However, I have encountered an annoying issue. When I build the project, a build folder is generated in the root project directory, and within it, an empty JAR file is created, containing only a manifest file. The root project has no source code and is merely a directory for managing the sub-projects. Also an empty code coverage report folder is generated in the build folder, even if there's no code.</p>\n<p>My question is twofold:</p>\n<ul>\n<li>Why is Gradle generating an empty JAR and a build folder for the root project, which contains no source code?</li>\n<li>How can I configure Gradle to treat the root project as a non-Java project, as a bare project?</li>\n</ul>\n<p><strong>Root Project Configuration</strong></p>\n<p><code>settings.gradle.kts</code> file:</p>\n<pre><code>rootProject.name = &quot;root\ninclude(&quot;core&quot;)\ninclude(&quot;app&quot;)\ninclude(&quot;ui&quot;)\n</code></pre>\n<p><code>build.gradle.kts</code> file:</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;jacoco&quot;)\n}\n\nconfigure(subprojects) {\n    repositories {\n        mavenCentral()\n    }\n\n    plugins.apply(&quot;java&quot;)\n    plugins.apply(&quot;jacoco&quot;)\n\n    dependencies {\n        implementation(platform(&quot;org.apache.logging.log4j:log4j-bom:2.20.0&quot;))\n        implementation(&quot;org.apache.logging.log4j:log4j-api&quot;)\n        implementation(&quot;org.apache.logging.log4j:log4j-core&quot;)\n        implementation(&quot;org.apache.logging.log4j:log4j-slf4j-impl&quot;)\n        implementation(&quot;org.slf4j:slf4j-api:1.7.32&quot;)\n        testImplementation(platform(&quot;org.junit:junit-bom:5.10.0&quot;))\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n        testRuntimeOnly(&quot;org.junit.platform:junit-platform-launcher&quot;)\n    }\n\n    tasks.test {\n        useJUnitPlatform()\n    }\n\n    tasks.jacocoTestReport {\n        dependsOn(tasks.test)\n    }\n\n    tasks.jacocoTestCoverageVerification {\n        dependsOn(tasks.jacocoTestReport)\n    }\n}\n</code></pre>\n<p>Your insights and suggestions on how to configure Gradle to treat the root project appropriately would be greatly appreciated. Thank you.</p>\n<p>I tried to use <code>apply false</code> for each plugin, but it's an error, they are core plugins.</p>\n<pre><code>plugins {\n    id(&quot;java&quot;) apply false\n    id(&quot;jacoco&quot;) apply false\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":19839090,"reputation":632,"user_id":14551576,"display_name":"pilotman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697808039,"creation_date":1697808039,"question_id":77331249,"body_markdown":"I have the following code in my android application (Capacitor): \r\n\r\n```\r\nimport com.getcapacitor.JSObject;\r\nimport com.getcapacitor.Plugin;\r\nimport com.getcapacitor.PluginCall;\r\nimport com.getcapacitor.PluginMethod;\r\nimport com.getcapacitor.annotation.CapacitorPlugin;\r\nimport com.itextpdf.text.Document;\r\nimport com.itextpdf.text.Paragraph;\r\nimport com.itextpdf.text.pdf.PdfWriter;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.util.Base64;\r\n\r\n@CapacitorPlugin(name = &quot;Echo&quot;)\r\npublic class EchoPlugin extends Plugin {\r\n\r\n  @PluginMethod()\r\n  public void echo(PluginCall call) {\r\n    // Get the base64 string from the call\r\n    String base64data = call.getString(&quot;value&quot;);\r\n    assert base64data != null;\r\n    String base64WithoutPrefix = base64data.replaceFirst(&quot;data:application/pdf;base64,&quot;, &quot;&quot;);\r\n    try {\r\n      // Create a PDF document\r\n      Document document = new Document();\r\n      File outputFile = new File(getContext().getFilesDir(), &quot;output.pdf&quot;);\r\n      PdfWriter.getInstance(document, new FileOutputStream(outputFile));\r\n      document.open();\r\n\r\n      // Convert base64 string to a byte array\r\n      byte[] pdfData = new byte[0];\r\n      if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n        pdfData = Base64.getDecoder().decode(base64WithoutPrefix);\r\n      }\r\n\r\n      // Add the base64 data to the PDF\r\n      document.add(new Paragraph(new String(pdfData)));\r\n\r\n      // Close the PDF document\r\n      document.close();\r\n\r\n      // Return the path to the generated PDF file\r\n      JSObject ret = new JSObject();\r\n      ret.put(&quot;value&quot;, outputFile.getAbsolutePath());\r\n      call.resolve(ret);\r\n    } catch (Exception e) {\r\n      // Handle any exceptions\r\n      call.reject(&quot;PDF generation failed: &quot; + e.getMessage());\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nthe files is created and opens but the PDF formatting is not there. Instead it just prints out the formatting in the document like in the picture attached. \r\n\r\nWondering if anyone can help resolve this. \r\n\r\n[![Example output][1]][1]\r\n\r\nThanks \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XrFTU.png","title":"Android: Generating PDF from base64 string does not contain formatting","body":"<p>I have the following code in my android application (Capacitor):</p>\n<pre><code>import com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginCall;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.Paragraph;\nimport com.itextpdf.text.pdf.PdfWriter;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Base64;\n\n@CapacitorPlugin(name = &quot;Echo&quot;)\npublic class EchoPlugin extends Plugin {\n\n  @PluginMethod()\n  public void echo(PluginCall call) {\n    // Get the base64 string from the call\n    String base64data = call.getString(&quot;value&quot;);\n    assert base64data != null;\n    String base64WithoutPrefix = base64data.replaceFirst(&quot;data:application/pdf;base64,&quot;, &quot;&quot;);\n    try {\n      // Create a PDF document\n      Document document = new Document();\n      File outputFile = new File(getContext().getFilesDir(), &quot;output.pdf&quot;);\n      PdfWriter.getInstance(document, new FileOutputStream(outputFile));\n      document.open();\n\n      // Convert base64 string to a byte array\n      byte[] pdfData = new byte[0];\n      if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n        pdfData = Base64.getDecoder().decode(base64WithoutPrefix);\n      }\n\n      // Add the base64 data to the PDF\n      document.add(new Paragraph(new String(pdfData)));\n\n      // Close the PDF document\n      document.close();\n\n      // Return the path to the generated PDF file\n      JSObject ret = new JSObject();\n      ret.put(&quot;value&quot;, outputFile.getAbsolutePath());\n      call.resolve(ret);\n    } catch (Exception e) {\n      // Handle any exceptions\n      call.reject(&quot;PDF generation failed: &quot; + e.getMessage());\n    }\n  }\n}\n\n</code></pre>\n<p>the files is created and opens but the PDF formatting is not there. Instead it just prints out the formatting in the document like in the picture attached.</p>\n<p>Wondering if anyone can help resolve this.</p>\n<p><a href=\"https://i.stack.imgur.com/XrFTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrFTU.png\" alt=\"Example output\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","extentreports"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697807652,"creation_date":1697807652,"answer_id":77331206,"question_id":77330901,"body_markdown":"According to [Issue With Version 5.1.0](https://github.com/extent-framework/extentreports-java/issues/394) ExtendReports Version 5.1.0 and later require Java 11.\r\n\r\nIf you cannot upgrade your project to Java 11 you must use an earlier version of ExtendReports. Currently the latest version before 5.1.0 is version 5.0.9 (https://mvnrepository.com/artifact/com.aventstack/extentreports) ","title":"Java 11 is not installed but still getting the error as &quot;class file has wrong version 55.0, should be 52.0&quot;","body":"<p>According to <a href=\"https://github.com/extent-framework/extentreports-java/issues/394\" rel=\"nofollow noreferrer\">Issue With Version 5.1.0</a> ExtendReports Version 5.1.0 and later require Java 11.</p>\n<p>If you cannot upgrade your project to Java 11 you must use an earlier version of ExtendReports. Currently the latest version before 5.1.0 is version 5.0.9 (<a href=\"https://mvnrepository.com/artifact/com.aventstack/extentreports\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.aventstack/extentreports</a>)</p>\n"}],"owner":{"account_id":19877927,"reputation":41,"user_id":14562530,"display_name":"AKSHAY NAIR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697807652,"creation_date":1697804731,"question_id":77330901,"body_markdown":"I am trying to implement extent report v5.1.1 into my java project which uses java 8 as the Version,but when I try to execute the script via the ant command,I am getting the error as **class file has wrong version 55.0, should be 52.0**\r\nEven though I cross-checked the compilation version in Eclipse, it still shows the same error if we try to execute via testNG too.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jWZls.png","title":"Java 11 is not installed but still getting the error as &quot;class file has wrong version 55.0, should be 52.0&quot;","body":"<p>I am trying to implement extent report v5.1.1 into my java project which uses java 8 as the Version,but when I try to execute the script via the ant command,I am getting the error as <strong>class file has wrong version 55.0, should be 52.0</strong>\nEven though I cross-checked the compilation version in Eclipse, it still shows the same error if we try to execute via testNG too.\n<a href=\"https://i.stack.imgur.com/jWZls.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jWZls.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","warnings","compiler-warnings","suppress-warnings"],"comments":[{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":6,"creation_date":1474392454,"post_id":1205995,"comment_id":66508993,"body_markdown":"This question is really nice and answers are useful. If someone from the JCP looks at it, you should realize how messy it is to add a suppress warning. There is no convention on case, hyphen, camel case, it&#39;s just a plain mess, it would be lovely to standardize this.","body":"This question is really nice and answers are useful. If someone from the JCP looks at it, you should realize how messy it is to add a suppress warning. There is no convention on case, hyphen, camel case, it&#39;s just a plain mess, it would be lovely to standardize this."},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":0,"creation_date":1492664858,"post_id":1205995,"comment_id":74075337,"body_markdown":"I see `&quot;ProhibitedExceptionDeclared&quot;` within Eclipse Collections Framework (`org.eclipse.collections.impl.block.function.checked.ThrowingFunction`), and that is not listed below.","body":"I see <code>&quot;ProhibitedExceptionDeclared&quot;</code> within Eclipse Collections Framework (<code>org.eclipse.collections.impl.block.function.checked.Throwin&zwnj;&#8203;gFunction</code>), and that is not listed below."}],"answers":[{"comments":[{"owner":{"account_id":142002,"reputation":10373,"user_id":349415,"accept_rate":84,"display_name":"Jesse Jashinsky"},"score":0,"creation_date":1354226310,"post_id":1206001,"comment_id":18704277,"body_markdown":"In what instances would suppressing a null warning be useful?","body":"In what instances would suppressing a null warning be useful?"},{"owner":{"account_id":120267,"reputation":17409,"user_id":312594,"accept_rate":100,"display_name":"par"},"score":0,"creation_date":1363139572,"post_id":1206001,"comment_id":21729067,"body_markdown":"@Jesse: When the compiler is wrong (i.e. a &quot;&#39;Stupid Flanders&#39; warning&quot;). Try compiling: `void foo( Object o ) { boolean b; if ( ( b = o == null ) ) o = new Object(); o.toString(); }`. Some environments (e.g. NetBeans 7.3 w/ Java 6 JDK [1.6.0_41]) will generate `&quot;o possibly null&quot;` at the `o.toString()` call even though `o` can&#39;t be null at that point.","body":"@Jesse: When the compiler is wrong (i.e. a &quot;&#39;Stupid Flanders&#39; warning&quot;). Try compiling: <code>void foo( Object o ) { boolean b; if ( ( b = o == null ) ) o = new Object(); o.toString(); }</code>. Some environments (e.g. NetBeans 7.3 w/ Java 6 JDK [1.6.0_41]) will generate <code>&quot;o possibly null&quot;</code> at the <code>o.toString()</code> call even though <code>o</code> can&#39;t be null at that point."},{"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"score":2,"creation_date":1376051095,"post_id":1206001,"comment_id":26577538,"body_markdown":"@cletus : Is it possible to add types of warnings in eclipse?  The problem is that one of our team members uses IntelliJ, and that IDE has other suppress warning types that give warnings in Eclipse :)  In Eclipse Indigo you can set in the preferences: Ignore unused SuppressWarnings tokens, but that doesn&#39;t seem to work ...","body":"@cletus : Is it possible to add types of warnings in eclipse?  The problem is that one of our team members uses IntelliJ, and that IDE has other suppress warning types that give warnings in Eclipse :)  In Eclipse Indigo you can set in the preferences: Ignore unused SuppressWarnings tokens, but that doesn&#39;t seem to work ..."},{"owner":{"account_id":167666,"reputation":8848,"user_id":392626,"accept_rate":50,"display_name":"Kissaki"},"score":0,"creation_date":1410448807,"post_id":1206001,"comment_id":40338615,"body_markdown":"`semicolon` does not seem to work in luna? :( Can someone verify if `semicolon` is indeed valid?","body":"<code>semicolon</code> does not seem to work in luna? :( Can someone verify if <code>semicolon</code> is indeed valid?"},{"owner":{"account_id":373909,"reputation":2979,"user_id":723825,"accept_rate":68,"display_name":"matteo"},"score":0,"creation_date":1413047093,"post_id":1206001,"comment_id":41299909,"body_markdown":"What&#39;s the value for suppressing the &quot;synchronization on non-final field&quot; warning?","body":"What&#39;s the value for suppressing the &quot;synchronization on non-final field&quot; warning?"},{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":2,"creation_date":1582559843,"post_id":1206001,"comment_id":106810175,"body_markdown":"links are broken","body":"links are broken"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664221906,"post_id":1206001,"comment_id":130417559,"body_markdown":"&quot;It depends on your IDE or compiler.&quot; OK, so where is the list for the javac compiler? That&#39;s the one most of us I would imagine will be ultimately targeting, as it&#39;s likely most people will deploy their projects built with javac, not with Eclipse/IntelliJ/whatever.","body":"&quot;It depends on your IDE or compiler.&quot; OK, so where is the list for the javac compiler? That&#39;s the one most of us I would imagine will be ultimately targeting, as it&#39;s likely most people will deploy their projects built with javac, not with Eclipse/IntelliJ/whatever."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664242834,"post_id":1206001,"comment_id":130421363,"body_markdown":"Ah, It looks like there is a list in the [javac docs](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html) for e.g. Java 17. Unfortunately it doesn&#39;t look like Eclipse recognizes all of them, e.g. `@SuppressWarnings(&quot;try&quot;)`.","body":"Ah, It looks like there is a list in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">javac docs</a> for e.g. Java 17. Unfortunately it doesn&#39;t look like Eclipse recognizes all of them, e.g. <code>@SuppressWarnings(&quot;try&quot;)</code>."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":8,"down_vote_count":0,"up_vote_count":293,"is_accepted":true,"score":293,"last_activity_date":1414605581,"creation_date":1248953234,"answer_id":1206001,"question_id":1205995,"body_markdown":"It depends on your IDE or compiler.\r\n\r\nHere is a [list][1] for Eclipse Galileo:\r\n\r\n&gt; - **all** to suppress all warnings\r\n&gt; - **boxing** to suppress warnings relative to boxing/unboxing operations\r\n&gt; - **cast** to suppress warnings relative to cast operations\r\n&gt; - **dep-ann** to suppress warnings relative to deprecated annotation\r\n&gt; - **deprecation** to suppress warnings relative to deprecation\r\n&gt; - **fallthrough** to suppress warnings relative to missing breaks in switch\r\n&gt; statements\r\n&gt; - **finally** to suppress warnings relative to finally block that don’t\r\n&gt; return\r\n&gt; - **hiding** to suppress warnings relative to locals that hide variable\r\n&gt; - **incomplete-switch** to suppress warnings relative to missing entries\r\n&gt; in a switch statement (enum case)\r\n&gt; - **nls** to suppress warnings relative to non-nls string literals\r\n&gt; - **null** to suppress warnings relative to null analysis\r\n&gt; - **restriction** to suppress warnings relative to usage of discouraged or\r\n&gt; forbidden references\r\n&gt; - **serial** to suppress warnings relative to missing serialVersionUID\r\n&gt; field for a serializable class\r\n&gt; - **static-access** to suppress warnings relative to incorrect static\r\n&gt; access\r\n&gt; - **synthetic-access** to suppress warnings relative to unoptimized\r\n&gt; access from inner classes\r\n&gt; - **unchecked** to suppress warnings relative to unchecked operations\r\n&gt; - **unqualified-field-access** to suppress warnings relative to field\r\n&gt; access unqualified\r\n&gt; - **unused** to suppress warnings relative to unused code\r\n\r\n[List][2] for Indigo adds:\r\n\r\n&gt; - **javadoc** to suppress warnings relative to javadoc warnings\r\n&gt; - **rawtypes** to suppress warnings relative to usage of raw types\r\n&gt; - **static-method** to suppress warnings relative to methods that could be declared as static\r\n&gt;- **super** to suppress warnings relative to overriding a method without super invocations\r\n\r\n[List][3] for Juno adds:\r\n\r\n&gt;- **resource** to suppress warnings relative to usage of resources of type Closeable\r\n&gt;- **sync-override** to suppress warnings because of missing synchronize when overriding a synchronized method\r\n\r\nKepler and Luna use the same token list as Juno ([list](http://help.eclipse.org/luna/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-suppress_warnings.htm)).\r\n\r\nOthers will be similar but vary.\r\n\r\n  [1]: http://www.breakitdownblog.com/supported-values-for-suppresswarnings/\r\n  [2]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm\r\n  [3]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-suppress_warnings.htm","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>It depends on your IDE or compiler.</p>\n\n<p>Here is a <a href=\"http://www.breakitdownblog.com/supported-values-for-suppresswarnings/\" rel=\"noreferrer\">list</a> for Eclipse Galileo:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>all</strong> to suppress all warnings</li>\n  <li><strong>boxing</strong> to suppress warnings relative to boxing/unboxing operations</li>\n  <li><strong>cast</strong> to suppress warnings relative to cast operations</li>\n  <li><strong>dep-ann</strong> to suppress warnings relative to deprecated annotation</li>\n  <li><strong>deprecation</strong> to suppress warnings relative to deprecation</li>\n  <li><strong>fallthrough</strong> to suppress warnings relative to missing breaks in switch\n  statements</li>\n  <li><strong>finally</strong> to suppress warnings relative to finally block that don’t\n  return</li>\n  <li><strong>hiding</strong> to suppress warnings relative to locals that hide variable</li>\n  <li><strong>incomplete-switch</strong> to suppress warnings relative to missing entries\n  in a switch statement (enum case)</li>\n  <li><strong>nls</strong> to suppress warnings relative to non-nls string literals</li>\n  <li><strong>null</strong> to suppress warnings relative to null analysis</li>\n  <li><strong>restriction</strong> to suppress warnings relative to usage of discouraged or\n  forbidden references</li>\n  <li><strong>serial</strong> to suppress warnings relative to missing serialVersionUID\n  field for a serializable class</li>\n  <li><strong>static-access</strong> to suppress warnings relative to incorrect static\n  access</li>\n  <li><strong>synthetic-access</strong> to suppress warnings relative to unoptimized\n  access from inner classes</li>\n  <li><strong>unchecked</strong> to suppress warnings relative to unchecked operations</li>\n  <li><strong>unqualified-field-access</strong> to suppress warnings relative to field\n  access unqualified</li>\n  <li><strong>unused</strong> to suppress warnings relative to unused code</li>\n  </ul>\n</blockquote>\n\n<p><a href=\"http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm\" rel=\"noreferrer\">List</a> for Indigo adds:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>javadoc</strong> to suppress warnings relative to javadoc warnings</li>\n  <li><strong>rawtypes</strong> to suppress warnings relative to usage of raw types</li>\n  <li><strong>static-method</strong> to suppress warnings relative to methods that could be declared as static</li>\n  <li><strong>super</strong> to suppress warnings relative to overriding a method without super invocations</li>\n  </ul>\n</blockquote>\n\n<p><a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-suppress_warnings.htm\" rel=\"noreferrer\">List</a> for Juno adds:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>resource</strong> to suppress warnings relative to usage of resources of type Closeable</li>\n  <li><strong>sync-override</strong> to suppress warnings because of missing synchronize when overriding a synchronized method</li>\n  </ul>\n</blockquote>\n\n<p>Kepler and Luna use the same token list as Juno (<a href=\"http://help.eclipse.org/luna/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-suppress_warnings.htm\" rel=\"noreferrer\">list</a>).</p>\n\n<p>Others will be similar but vary.</p>\n"},{"comments":[{"owner":{"account_id":295621,"reputation":28149,"user_id":600135,"accept_rate":80,"display_name":"kol"},"score":0,"creation_date":1693580866,"post_id":1206013,"comment_id":135784341,"body_markdown":"`javac -X` is more general, but `javac --help-lint` gives a nice list of warning names.","body":"<code>javac -X</code> is more general, but <code>javac --help-lint</code> gives a nice list of warning names."},{"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"score":1,"creation_date":1697807339,"post_id":1206013,"comment_id":136329655,"body_markdown":"@kol that&#39;s because of time travel... this answer is from way back :) Java 5-16 uses `javac -help -X` and Java 17-21 uses `javac --help-lint` to list the actual `-Xlint` options.","body":"@kol that&#39;s because of time travel... this answer is from way back :) Java 5-16 uses <code>javac -help -X</code> and Java 17-21 uses <code>javac --help-lint</code> to list the actual <code>-Xlint</code> options."}],"tags":[],"owner":{"account_id":3166,"reputation":2611,"user_id":4507,"accept_rate":64,"display_name":"Martin McNulty"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1475112352,"creation_date":1248953372,"answer_id":1206013,"question_id":1205995,"body_markdown":"All values are permitted (unrecognized ones are ignored).  The list of recognized ones is compiler specific.  \r\n\r\nIn [The Java Tutorials](https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html) `unchecked` and `deprecation` are listed as the two warnings required by The Java Language Specification, therefore, they should be valid with all compilers:\r\n\r\n&gt;Every compiler warning belongs to a category. The Java Language Specification lists two categories: deprecation and unchecked.\r\n\r\nThe specific sections inside [The Java Language Specification](https://docs.oracle.com/javase/specs/) where they are defined is not consistent across versions. In the Java SE 8 Specification `unchecked` and `deprecation` are listed as compiler warnings in sections **9.6.4.5. @SuppressWarnings** and **9.6.4.6 @Deprecated**, respectively.\r\n\r\nFor Sun&#39;s compiler, running `javac -X` gives a list of all values recognized by that version.  For 1.5.0_17, the list appears to be:\r\n\r\n- all\r\n- deprecation\r\n- unchecked\r\n- fallthrough\r\n- path\r\n- serial\r\n- finally","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>All values are permitted (unrecognized ones are ignored).  The list of recognized ones is compiler specific.  </p>\n\n<p>In <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html\" rel=\"noreferrer\">The Java Tutorials</a> <code>unchecked</code> and <code>deprecation</code> are listed as the two warnings required by The Java Language Specification, therefore, they should be valid with all compilers:</p>\n\n<blockquote>\n  <p>Every compiler warning belongs to a category. The Java Language Specification lists two categories: deprecation and unchecked.</p>\n</blockquote>\n\n<p>The specific sections inside <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">The Java Language Specification</a> where they are defined is not consistent across versions. In the Java SE 8 Specification <code>unchecked</code> and <code>deprecation</code> are listed as compiler warnings in sections <strong>9.6.4.5. @SuppressWarnings</strong> and <strong>9.6.4.6 @Deprecated</strong>, respectively.</p>\n\n<p>For Sun's compiler, running <code>javac -X</code> gives a list of all values recognized by that version.  For 1.5.0_17, the list appears to be:</p>\n\n<ul>\n<li>all</li>\n<li>deprecation</li>\n<li>unchecked</li>\n<li>fallthrough</li>\n<li>path</li>\n<li>serial</li>\n<li>finally</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"score":0,"creation_date":1249625809,"post_id":1206052,"comment_id":1069566,"body_markdown":"The Eclipse list here looks to compiler flags and not SuppressWarning annotations (check the last part of the doc you linked).","body":"The Eclipse list here looks to compiler flags and not SuppressWarning annotations (check the last part of the doc you linked)."},{"owner":{"account_id":24236,"reputation":7530,"user_id":61530,"accept_rate":93,"display_name":"D. Wroblewski"},"score":4,"creation_date":1249645347,"post_id":1206052,"comment_id":1070742,"body_markdown":"They are both. By setting the compiler flags you tell the compiler what kind of warnings you want. With the annotations you can suppress these warnings in specific places in your code.","body":"They are both. By setting the compiler flags you tell the compiler what kind of warnings you want. With the annotations you can suppress these warnings in specific places in your code."},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":0,"creation_date":1252394870,"post_id":1206052,"comment_id":1233195,"body_markdown":"I think the list is shorter for Eclipse. See latest galileo docs, list of available tokens for SupressWarnings is explicit there: http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm","body":"I think the list is shorter for Eclipse. See latest galileo docs, list of available tokens for SupressWarnings is explicit there: <a href=\"http://help.eclipse.org/galileo/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/galileo/index.jsp?topic=/&hellip;</a>"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1260440729,"post_id":1206052,"comment_id":1779624,"body_markdown":"I tried @SuppressWarnings(&quot;raw&quot;) in Eclipse 3.5 and it does not work - I get a warning that it &quot;raw&quot; is not a valid value for this annotation.","body":"I tried @SuppressWarnings(&quot;raw&quot;) in Eclipse 3.5 and it does not work - I get a warning that it &quot;raw&quot; is not a valid value for this annotation."},{"owner":{"account_id":7197,"reputation":8531,"user_id":12386,"accept_rate":73,"display_name":"stu"},"score":0,"creation_date":1262118640,"post_id":1206052,"comment_id":1891679,"body_markdown":"me too. Unfortunatel that the jsp support isn&#39;t as flushed out as the java support is.","body":"me too. Unfortunatel that the jsp support isn&#39;t as flushed out as the java support is."}],"tags":[],"owner":{"account_id":24236,"reputation":7530,"user_id":61530,"accept_rate":93,"display_name":"D. Wroblewski"},"comment_count":5,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1248956437,"creation_date":1248953894,"answer_id":1206052,"question_id":1205995,"body_markdown":"The list is compiler specific. But here are the values supported in [Eclipse][1]:\r\n\r\n&gt;- **allDeprecation** \tdeprecation even inside deprecated code  \r\n&gt;- **allJavadoc** \tinvalid or missing javadoc  \r\n&gt;-    **assertIdentifier** \toccurrence of assert used as identifier  \r\n&gt;-    **boxing** \tautoboxing conversion  \r\n&gt;-    **charConcat** \twhen a char array is used in a string concatenation without being converted explicitly to a string   \r\n&gt;-    **conditionAssign** \tpossible accidental boolean assignment  \r\n&gt;-    **constructorName** \tmethod with\r\n&gt; constructor name  \r\n&gt;-    **dep-ann** \tmissing @Deprecated\r\n&gt; annotation  \r\n&gt;-    **deprecation** \tusage of deprecated type or member outside deprecated code  \r\n&gt;-    **discouraged** \tuse of types matching a discouraged access rule  \r\n&gt;-    **emptyBlock** \tundocumented empty block  \r\n&gt;-    **enumSwitch**, **incomplete-switch** \tincomplete enum switch  \r\n&gt;-    **fallthrough** \tpossible fall-through case  \r\n&gt;-    **fieldHiding** \tfield hiding another variable  \r\n&gt;-    **finalBound** \ttype parameter with final bound  \r\n&gt;-    **finally** \tfinally block not completing normally  \r\n&gt;-    **forbidden** \tuse of types matching a forbidden access rule  \r\n&gt;-    **hiding** \tmacro for fieldHiding, localHiding, typeHiding and maskedCatchBlock  \r\n&gt;-    **indirectStatic** \tindirect reference to static member  \r\n&gt;-    **intfAnnotation** \tannotation type used as super interface  \r\n&gt;-    **intfNonInherited** \tinterface non-inherited method compatibility  \r\n&gt;-    **javadoc** \tinvalid javadoc  \r\n&gt;-    **localHiding** \tlocal variable hiding another variable  \r\n&gt;-    **maskedCatchBlocks** \thidden catch block  \r\n&gt;-    **nls** \tnon-nls string literals (lacking of tags //$NON-NLS-&lt;n&gt;)  \r\n&gt;-    **noEffectAssign** \tassignment with no effect  \r\n&gt;-    **null** \tpotential missing or redundant null check  \r\n&gt;-    **nullDereference** \tmissing null check  \r\n&gt;-    **over-ann** \tmissing @Override annotation  \r\n&gt;-    **paramAssign** \tassignment to a parameter  \r\n&gt;-    **pkgDefaultMethod** \tattempt to override package-default method  \r\n&gt;-    **raw** \tusage a of raw type (instead of a parametrized type)  \r\n&gt;-    **semicolon** \tunnecessary semicolon or empty statement  \r\n&gt;-    **serial** \tmissing serialVersionUID  \r\n&gt;-    **specialParamHiding** \tconstructor or setter parameter hiding another field  \r\n&gt;-    **static-access** \tmacro for indirectStatic and staticReceiver  \r\n&gt;-    **staticReceiver** \tif a non static receiver is used to get a static field or call a static method  \r\n&gt;-    **super** \toverriding a method without making a super invocation  \r\n&gt;-    **suppress** \tenable @SuppressWarnings  \r\n&gt;-    **syntheticAccess, synthetic-access** \twhen performing synthetic access for innerclass  \r\n&gt;-    **tasks** \tenable support for tasks tags in source code  \r\n&gt;-    **typeHiding** \ttype parameter hiding another type  \r\n&gt;-    **unchecked** \tunchecked type operation  \r\n&gt;-    **unnecessaryElse** \tunnecessary else clause  \r\n&gt;-    **unqualified-field-access, unqualifiedField** \tunqualified\r\n&gt; reference to field  \r\n&gt;-    **unused** \tmacro for unusedArgument, unusedImport, unusedLabel, unusedLocal, unusedPrivate and unusedThrown  \r\n&gt;-    **unusedArgument** \tunused method argument  \r\n&gt;-    **unusedImport** \tunused import reference  \r\n&gt;-    **unusedLabel** \tunused label  \r\n&gt;-    **unusedLocal** \tunused local variable  \r\n&gt;-    **unusedPrivate** \tunused private member declaration  \r\n&gt;-    **unusedThrown** \tunused declared thrown exception  \r\n&gt;-    **uselessTypeCheck** \tunnecessary cast/instanceof operation  \r\n&gt;-    **varargsCast** \tvarargs argument need explicit cast  \r\n&gt;-    **warningToken** \tunhandled warning token in @SuppressWarnings  \r\n\r\n\r\n\r\n\r\nSun JDK (1.6) has a shorter [list][2] of supported warnings:\r\n\r\n&gt;- **deprecation**  \tCheck for use of depreciated items.  \r\n&gt;- **unchecked**  Give more detail for unchecked conversion warnings that are mandated by the Java Language Specification.  \r\n&gt;- **serial** Warn about missing serialVersionUID definitions on serializable classes.  \r\n&gt;- **finally** Warn about finally clauses that cannot complete normally.  \r\n&gt;- **fallthrough** Check switch blocks for fall-through cases and provide a warning message for any that are found.  \r\n&gt;- **path**  \tCheck for a nonexistent path in environment paths (such as classpath).  \r\n\r\n\r\n\r\nThe latest available javac (1.6.0_13) for mac have the following supported warnings\r\n&gt;- **all**  \r\n&gt;- **cast**  \r\n&gt;- **deprecation**  \r\n&gt;- **divzero**  \r\n&gt;- **empty**  \r\n&gt;- **unchecked**  \r\n&gt;- **fallthrough**  \r\n&gt;- **path**  \r\n&gt;- **serial**  \r\n&gt;- **finally**  \r\n&gt;- **overrides**  \r\n\r\n\r\n  [1]:  http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/tools/solaris/javac.html#options","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>The list is compiler specific. But here are the values supported in <a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm\" rel=\"noreferrer\">Eclipse</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>allDeprecation</strong>   deprecation even inside deprecated code  </li>\n  <li><strong>allJavadoc</strong>   invalid or missing javadoc  </li>\n  <li><strong>assertIdentifier</strong>  occurrence of assert used as identifier  </li>\n  <li><strong>boxing</strong>    autoboxing conversion  </li>\n  <li><strong>charConcat</strong>    when a char array is used in a string concatenation without being converted explicitly to a string   </li>\n  <li><strong>conditionAssign</strong>   possible accidental boolean assignment  </li>\n  <li><strong>constructorName</strong>   method with\n  constructor name  </li>\n  <li><strong>dep-ann</strong>   missing @Deprecated\n  annotation  </li>\n  <li><strong>deprecation</strong>   usage of deprecated type or member outside deprecated code  </li>\n  <li><strong>discouraged</strong>   use of types matching a discouraged access rule  </li>\n  <li><strong>emptyBlock</strong>    undocumented empty block  </li>\n  <li><strong>enumSwitch</strong>, <strong>incomplete-switch</strong>     incomplete enum switch  </li>\n  <li><strong>fallthrough</strong>   possible fall-through case  </li>\n  <li><strong>fieldHiding</strong>   field hiding another variable  </li>\n  <li><strong>finalBound</strong>    type parameter with final bound  </li>\n  <li><strong>finally</strong>   finally block not completing normally  </li>\n  <li><strong>forbidden</strong>     use of types matching a forbidden access rule  </li>\n  <li><strong>hiding</strong>    macro for fieldHiding, localHiding, typeHiding and maskedCatchBlock  </li>\n  <li><strong>indirectStatic</strong>    indirect reference to static member  </li>\n  <li><strong>intfAnnotation</strong>    annotation type used as super interface  </li>\n  <li><strong>intfNonInherited</strong>  interface non-inherited method compatibility  </li>\n  <li><strong>javadoc</strong>   invalid javadoc  </li>\n  <li><strong>localHiding</strong>   local variable hiding another variable  </li>\n  <li><strong>maskedCatchBlocks</strong>     hidden catch block  </li>\n  <li><strong>nls</strong>   non-nls string literals (lacking of tags //$NON-NLS-)  </li>\n  <li><strong>noEffectAssign</strong>    assignment with no effect  </li>\n  <li><strong>null</strong>  potential missing or redundant null check  </li>\n  <li><strong>nullDereference</strong>   missing null check  </li>\n  <li><strong>over-ann</strong>  missing @Override annotation  </li>\n  <li><strong>paramAssign</strong>   assignment to a parameter  </li>\n  <li><strong>pkgDefaultMethod</strong>  attempt to override package-default method  </li>\n  <li><strong>raw</strong>   usage a of raw type (instead of a parametrized type)  </li>\n  <li><strong>semicolon</strong>     unnecessary semicolon or empty statement  </li>\n  <li><strong>serial</strong>    missing serialVersionUID  </li>\n  <li><strong>specialParamHiding</strong>    constructor or setter parameter hiding another field  </li>\n  <li><strong>static-access</strong>     macro for indirectStatic and staticReceiver  </li>\n  <li><strong>staticReceiver</strong>    if a non static receiver is used to get a static field or call a static method  </li>\n  <li><strong>super</strong>     overriding a method without making a super invocation  </li>\n  <li><strong>suppress</strong>  enable @SuppressWarnings  </li>\n  <li><strong>syntheticAccess, synthetic-access</strong>     when performing synthetic access for innerclass  </li>\n  <li><strong>tasks</strong>     enable support for tasks tags in source code  </li>\n  <li><strong>typeHiding</strong>    type parameter hiding another type  </li>\n  <li><strong>unchecked</strong>     unchecked type operation  </li>\n  <li><strong>unnecessaryElse</strong>   unnecessary else clause  </li>\n  <li><strong>unqualified-field-access, unqualifiedField</strong>    unqualified\n  reference to field  </li>\n  <li><strong>unused</strong>    macro for unusedArgument, unusedImport, unusedLabel, unusedLocal, unusedPrivate and unusedThrown  </li>\n  <li><strong>unusedArgument</strong>    unused method argument  </li>\n  <li><strong>unusedImport</strong>  unused import reference  </li>\n  <li><strong>unusedLabel</strong>   unused label  </li>\n  <li><strong>unusedLocal</strong>   unused local variable  </li>\n  <li><strong>unusedPrivate</strong>     unused private member declaration  </li>\n  <li><strong>unusedThrown</strong>  unused declared thrown exception  </li>\n  <li><strong>uselessTypeCheck</strong>  unnecessary cast/instanceof operation  </li>\n  <li><strong>varargsCast</strong>   varargs argument need explicit cast  </li>\n  <li><strong>warningToken</strong>  unhandled warning token in @SuppressWarnings  </li>\n  </ul>\n</blockquote>\n\n<p>Sun JDK (1.6) has a shorter <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/solaris/javac.html#options\" rel=\"noreferrer\">list</a> of supported warnings:</p>\n\n<blockquote>\n  <ul>\n  <li><strong>deprecation</strong>      Check for use of depreciated items.  </li>\n  <li><strong>unchecked</strong>  Give more detail for unchecked conversion warnings that are mandated by the Java Language Specification.  </li>\n  <li><strong>serial</strong> Warn about missing serialVersionUID definitions on serializable classes.  </li>\n  <li><strong>finally</strong> Warn about finally clauses that cannot complete normally.  </li>\n  <li><strong>fallthrough</strong> Check switch blocks for fall-through cases and provide a warning message for any that are found.  </li>\n  <li><strong>path</strong>     Check for a nonexistent path in environment paths (such as classpath).  </li>\n  </ul>\n</blockquote>\n\n<p>The latest available javac (1.6.0_13) for mac have the following supported warnings</p>\n\n<blockquote>\n  <ul>\n  <li><strong>all</strong>  </li>\n  <li><strong>cast</strong>  </li>\n  <li><strong>deprecation</strong>  </li>\n  <li><strong>divzero</strong>  </li>\n  <li><strong>empty</strong>  </li>\n  <li><strong>unchecked</strong>  </li>\n  <li><strong>fallthrough</strong>  </li>\n  <li><strong>path</strong>  </li>\n  <li><strong>serial</strong>  </li>\n  <li><strong>finally</strong>  </li>\n  <li><strong>overrides</strong>  </li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":373909,"reputation":2979,"user_id":723825,"accept_rate":68,"display_name":"matteo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688056299,"creation_date":1413048391,"answer_id":26317274,"question_id":1205995,"body_markdown":"This seems to be a much more complete list, where I found some warnings specific to Android Studio that I couldn&#39;t find elsewhere (e.g. `SynchronizeOnNonFinalField`):\r\n\r\nhttps://jazzy.id.au/2008/10/30/list_of_suppresswarnings_arguments.html\r\n\r\nOh, now SO&#39;s guidelines contradict SO&#39;s restrictions.\r\nOn one hand, I am supposed to copy the list rather than providing only the link.\r\nBut on the other hand, this would exceed the maximum allowed number of characters. So let&#39;s just hope the link won&#39;t break.\r\n","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>This seems to be a much more complete list, where I found some warnings specific to Android Studio that I couldn't find elsewhere (e.g. <code>SynchronizeOnNonFinalField</code>):</p>\n<p><a href=\"https://jazzy.id.au/2008/10/30/list_of_suppresswarnings_arguments.html\" rel=\"nofollow noreferrer\">https://jazzy.id.au/2008/10/30/list_of_suppresswarnings_arguments.html</a></p>\n<p>Oh, now SO's guidelines contradict SO's restrictions.\nOn one hand, I am supposed to copy the list rather than providing only the link.\nBut on the other hand, this would exceed the maximum allowed number of characters. So let's just hope the link won't break.</p>\n"},{"comments":[{"owner":{"account_id":430793,"reputation":1500,"user_id":814422,"display_name":"kbolino"},"score":1,"creation_date":1476631727,"post_id":29280792,"comment_id":67417317,"body_markdown":"It is not true that `unchecked` is the only one endorsed by the standard; the very next section from the one you quoted says deprecation warnings should not be produced when &quot;The use is within an entity that is annotated to suppress the warning with the annotation `@SuppressWarnings(&quot;deprecation&quot;)`&quot;","body":"It is not true that <code>unchecked</code> is the only one endorsed by the standard; the very next section from the one you quoted says deprecation warnings should not be produced when &quot;The use is within an entity that is annotated to suppress the warning with the annotation <code>@SuppressWarnings(&quot;deprecation&quot;)</code>&quot;"}],"tags":[],"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508501727,"creation_date":1427379399,"answer_id":29280792,"question_id":1205995,"body_markdown":"**JSL 1.7**\r\n\r\n[The Oracle documentation][1] mentions:\r\n\r\n- `unchecked`: Unchecked warnings are identified by the string &quot;unchecked&quot;. \r\n- `deprecation`: A Java compiler must produce a deprecation warning when a type, method, field, or constructor whose declaration is annotated with the annotation @Deprecated is used (i.e. overridden, invoked, or referenced by name), unless: [...] The use is within an entity that is annotated to suppress the warning with the annotation @SuppressWarnings(&quot;deprecation&quot;); or\r\n\r\nIt then explains that implementations can add and document their own:\r\n\r\n&gt; Compiler vendors should document the warning names they support in conjunction with this annotation type. Vendors are encouraged to cooperate to ensure that the same names work across multiple compilers.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p><strong>JSL 1.7</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html\" rel=\"nofollow noreferrer\">The Oracle documentation</a> mentions:</p>\n\n<ul>\n<li><code>unchecked</code>: Unchecked warnings are identified by the string \"unchecked\". </li>\n<li><code>deprecation</code>: A Java compiler must produce a deprecation warning when a type, method, field, or constructor whose declaration is annotated with the annotation @Deprecated is used (i.e. overridden, invoked, or referenced by name), unless: [...] The use is within an entity that is annotated to suppress the warning with the annotation @SuppressWarnings(\"deprecation\"); or</li>\n</ul>\n\n<p>It then explains that implementations can add and document their own:</p>\n\n<blockquote>\n  <p>Compiler vendors should document the warning names they support in conjunction with this annotation type. Vendors are encouraged to cooperate to ensure that the same names work across multiple compilers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513788260,"creation_date":1513788260,"answer_id":47910744,"question_id":1205995,"body_markdown":"I just want to add that there is a master list of IntelliJ suppress parameters at: https://gist.github.com/vegaasen/157fbc6dce8545b7f12c\r\n\r\nIt looks fairly comprehensive.  Partial:\r\n\r\n    Warning Description - Warning Name\r\n\r\n    &quot;Magic character&quot; MagicCharacter \r\n    &quot;Magic number&quot; MagicNumber \r\n    &#39;Comparator.compare()&#39; method does not use parameter ComparatorMethodParameterNotUsed \r\n    &#39;Connection.prepare*()&#39; call with non-constant string JDBCPrepareStatementWithNonConstantString \r\n    &#39;Iterator.hasNext()&#39; which calls &#39;next()&#39; IteratorHasNextCallsIteratorNext \r\n    &#39;Iterator.next()&#39; which can&#39;t throw &#39;NoSuchElementException&#39; IteratorNextCanNotThrowNoSuchElementException \r\n    &#39;Statement.execute()&#39; call with non-constant string JDBCExecuteWithNonConstantString \r\n    &#39;String.equals(&quot;&quot;)&#39; StringEqualsEmptyString \r\n    &#39;StringBuffer&#39; may be &#39;StringBuilder&#39; (JDK 5.0 only) StringBufferMayBeStringBuilder \r\n    &#39;StringBuffer.toString()&#39; in concatenation StringBufferToStringInConcatenation \r\n    &#39;assert&#39; statement AssertStatement \r\n    &#39;assertEquals()&#39; between objects of inconvertible types AssertEqualsBetweenInconvertibleTypes \r\n    &#39;await()&#39; not in loop AwaitNotInLoop \r\n    &#39;await()&#39; without corresponding &#39;signal()&#39; AwaitWithoutCorrespondingSignal \r\n    &#39;break&#39; statement BreakStatement \r\n    &#39;break&#39; statement with label BreakStatementWithLabel \r\n    &#39;catch&#39; generic class CatchGenericClass \r\n    &#39;clone()&#39; does not call &#39;super.clone()&#39; CloneDoesntCallSuperClone","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>I just want to add that there is a master list of IntelliJ suppress parameters at: <a href=\"https://gist.github.com/vegaasen/157fbc6dce8545b7f12c\" rel=\"nofollow noreferrer\">https://gist.github.com/vegaasen/157fbc6dce8545b7f12c</a></p>\n\n<p>It looks fairly comprehensive.  Partial:</p>\n\n<pre><code>Warning Description - Warning Name\n\n\"Magic character\" MagicCharacter \n\"Magic number\" MagicNumber \n'Comparator.compare()' method does not use parameter ComparatorMethodParameterNotUsed \n'Connection.prepare*()' call with non-constant string JDBCPrepareStatementWithNonConstantString \n'Iterator.hasNext()' which calls 'next()' IteratorHasNextCallsIteratorNext \n'Iterator.next()' which can't throw 'NoSuchElementException' IteratorNextCanNotThrowNoSuchElementException \n'Statement.execute()' call with non-constant string JDBCExecuteWithNonConstantString \n'String.equals(\"\")' StringEqualsEmptyString \n'StringBuffer' may be 'StringBuilder' (JDK 5.0 only) StringBufferMayBeStringBuilder \n'StringBuffer.toString()' in concatenation StringBufferToStringInConcatenation \n'assert' statement AssertStatement \n'assertEquals()' between objects of inconvertible types AssertEqualsBetweenInconvertibleTypes \n'await()' not in loop AwaitNotInLoop \n'await()' without corresponding 'signal()' AwaitWithoutCorrespondingSignal \n'break' statement BreakStatement \n'break' statement with label BreakStatementWithLabel \n'catch' generic class CatchGenericClass \n'clone()' does not call 'super.clone()' CloneDoesntCallSuperClone\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6927928,"reputation":405,"user_id":5577970,"display_name":"Richard Keene"},"score":0,"creation_date":1680729800,"post_id":49438849,"comment_id":133949782,"body_markdown":"I had the trouble of getting the mouse to hover and open the &quot;Edit inspection profile setting&quot; menu. It is the tiny arrow next to the Show Context options entry.","body":"I had the trouble of getting the mouse to hover and open the &quot;Edit inspection profile setting&quot; menu. It is the tiny arrow next to the Show Context options entry."}],"tags":[],"owner":{"account_id":63286,"reputation":4422,"user_id":187423,"accept_rate":83,"display_name":"barclay"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1549572526,"creation_date":1521754411,"answer_id":49438849,"question_id":1205995,"body_markdown":"A new favorite for me is `@SuppressWarnings(&quot;WeakerAccess&quot;)` in IntelliJ, which keeps it from complaining when it thinks you should have a weaker access modifier than you are using. We have to have public access for some methods to support testing, and the `@VisibleForTesting` annotation doesn&#39;t prevent the warnings.\r\n\r\nETA:\r\n&quot;Anonymous&quot; commented, on the page @MattCampbell linked to, the following incredibly useful note:\r\n\r\n&gt; You shouldn&#39;t need to use this list for the purpose you are\r\n&gt; describing. IntelliJ will add those SuppressWarnings for you\r\n&gt; automatically if you ask it to. It has been capable of doing this for\r\n&gt; as many releases back as I remember.\r\n&gt; \r\n&gt; Just go to the location where you have the warning and type Alt-Enter\r\n&gt; (or select it in the Inspections list if you are seeing it there).\r\n&gt; When the menu comes up, showing the warning and offering to fix it for\r\n&gt; you (e.g. if the warning is &quot;Method may be static&quot; then &quot;make static&quot;\r\n&gt; is IntellJ&#39;s offer to fix it for you), instead of selecting &quot;enter&quot;,\r\n&gt; just use the right arrow button to access the submenu, which will have\r\n&gt; options like &quot;Edit inspection profile setting&quot; and so forth. At the\r\n&gt; bottom of this list will be options like &quot;Suppress all inspections for\r\n&gt; class&quot;, &quot;Suppress for class&quot;, &quot;Suppress for method&quot;, and occasionally\r\n&gt; &quot;Suppress for statement&quot;. You probably want whichever one of these\r\n&gt; appears last on the list. Selecting one of these will add a\r\n&gt; @SuppressWarnings annotation (or comment in some cases) to your code\r\n&gt; suppressing the warning in question. You won&#39;t need to guess at which\r\n&gt; annotation to add, because IntelliJ will choose based on the warning\r\n&gt; you selected.","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>A new favorite for me is <code>@SuppressWarnings(\"WeakerAccess\")</code> in IntelliJ, which keeps it from complaining when it thinks you should have a weaker access modifier than you are using. We have to have public access for some methods to support testing, and the <code>@VisibleForTesting</code> annotation doesn't prevent the warnings.</p>\n\n<p>ETA:\n\"Anonymous\" commented, on the page @MattCampbell linked to, the following incredibly useful note:</p>\n\n<blockquote>\n  <p>You shouldn't need to use this list for the purpose you are\n  describing. IntelliJ will add those SuppressWarnings for you\n  automatically if you ask it to. It has been capable of doing this for\n  as many releases back as I remember.</p>\n  \n  <p>Just go to the location where you have the warning and type Alt-Enter\n  (or select it in the Inspections list if you are seeing it there).\n  When the menu comes up, showing the warning and offering to fix it for\n  you (e.g. if the warning is \"Method may be static\" then \"make static\"\n  is IntellJ's offer to fix it for you), instead of selecting \"enter\",\n  just use the right arrow button to access the submenu, which will have\n  options like \"Edit inspection profile setting\" and so forth. At the\n  bottom of this list will be options like \"Suppress all inspections for\n  class\", \"Suppress for class\", \"Suppress for method\", and occasionally\n  \"Suppress for statement\". You probably want whichever one of these\n  appears last on the list. Selecting one of these will add a\n  @SuppressWarnings annotation (or comment in some cases) to your code\n  suppressing the warning in question. You won't need to guess at which\n  annotation to add, because IntelliJ will choose based on the warning\n  you selected.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":137533,"reputation":1482,"user_id":341769,"accept_rate":45,"display_name":"JPM"},"score":4,"creation_date":1569347706,"post_id":54238673,"comment_id":102565374,"body_markdown":"You can add @SuppressWarnings(&quot;SwitchStatementWithTooFewBranches&quot;) for that as well.","body":"You can add @SuppressWarnings(&quot;SwitchStatementWithTooFewBranches&quot;) for that as well."},{"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"score":0,"creation_date":1581434468,"post_id":54238673,"comment_id":106427443,"body_markdown":"Unfortunately the *Supress for ...* option when clicking ALT+ENTER is not always available","body":"Unfortunately the <i>Supress for ...</i> option when clicking ALT+ENTER is not always available"},{"owner":{"account_id":4477301,"reputation":4930,"user_id":3642107,"accept_rate":66,"display_name":"Oliver Hausler"},"score":1,"creation_date":1588452942,"post_id":54238673,"comment_id":108903779,"body_markdown":"`//noinspection SwitchStatementWithTooFewBranches` before the `switch` works as well for me.","body":"<code>&#47;&#47;noinspection SwitchStatementWithTooFewBranches</code> before the <code>switch</code> works as well for me."}],"tags":[],"owner":{"account_id":7673543,"reputation":3490,"user_id":5815054,"accept_rate":50,"display_name":"hb0"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1547822645,"creation_date":1547737325,"answer_id":54238673,"question_id":1205995,"body_markdown":"I noticed that `//noinspection` can be auto-generated in **IntelliJ**\r\n\r\n* make sure you have not already a plan `@SuppressWarninigs` before the statement\r\n* Now you can auto-generate the specific `//noinspection` by hitting **Alt+Enter** when you have the warning selected and then use the **right arrow key** to see the *Suppress for ...* option\r\n\r\n\r\n*Ended up here when I wanted to suppress a &quot;switch has too few case labels&quot; warning from IntelliJ. I did not find a complete List for IntelliJ&#39;s `@SuppressWarning` support but `//noinspection` did the trick for me.*","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>I noticed that <code>//noinspection</code> can be auto-generated in <strong>IntelliJ</strong></p>\n\n<ul>\n<li>make sure you have not already a plan <code>@SuppressWarninigs</code> before the statement</li>\n<li>Now you can auto-generate the specific <code>//noinspection</code> by hitting <strong>Alt+Enter</strong> when you have the warning selected and then use the <strong>right arrow key</strong> to see the <em>Suppress for ...</em> option</li>\n</ul>\n\n<p><em>Ended up here when I wanted to suppress a \"switch has too few case labels\" warning from IntelliJ. I did not find a complete List for IntelliJ's <code>@SuppressWarning</code> support but <code>//noinspection</code> did the trick for me.</em></p>\n"},{"tags":[],"owner":{"account_id":13955245,"reputation":29,"user_id":10077827,"display_name":"R Strauss"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555468892,"creation_date":1555468892,"answer_id":55719123,"question_id":1205995,"body_markdown":"If you&#39;re using SonarLint,\r\ntry above the method or class the whole squid string:\r\n    @SuppressWarnings(&quot;squid:S1172&quot;)\r\n","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>If you're using SonarLint,\ntry above the method or class the whole squid string:\n    @SuppressWarnings(\"squid:S1172\")</p>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697806995,"creation_date":1697806995,"answer_id":77331135,"question_id":1205995,"body_markdown":"## Official sources for the list of supported values\r\n * [JSL 9.6.4.5 `@SuppressWarnings`](https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.6.4.5)\r\n * [`javac` docs](https://docs.oracle.com/en/java/javase/21/docs/specs/man/javac.html#option-Xlint-custom)\r\n * CLI of your actual `java`\r\n   * Java 5-16 `javac -help -X`\r\n   * Java 17-21 `javac --help-lint`\r\n * In case you need older documentation, https://javaalmanac.io seems to be a pretty good reference.\r\n * Anything else that your IDE, or static code analyzer can understand. For example\r\n   * Eclipse has a few additional ones that look like Java offical ones\r\n   * IntelliJ IDEA has inspections that can be suppressed the same way.\r\n   * Checkstyle, PMD, etc. can also use this same annotation.\r\n\r\n## `javac -Xlint` options across JDK versions\r\nBased on the above here&#39;s an official-ish list from Oracle/OpenJDK JDKs.\r\n\r\n| Name | Since* | Description |\r\n| - | - | - |\r\n| all | 5 | Enable all warnings |\r\n| none | 6 | Disable all warnings |\r\n| preview | 11&lt;br&gt;17&lt;sup&gt;std&lt;/sup&gt; | Warn about use of preview language features. |\r\n| auxiliaryclass | 8 | Warn about an auxiliary class that is hidden in a source file, and is used from other files. |\r\n| cast | 6 | Warn about use of unnecessary casts. |\r\n| classfile | 7 | Warn about issues related to classfile contents. |\r\n| deprecation | 5&lt;br&gt;11&lt;sup&gt;std&lt;/sup&gt; | Warn about use of deprecated items. |\r\n| dep-ann | 7 | Warn about items marked as deprecated in JavaDoc but not using the @Deprecated annotation. |\r\n| divzero | 6 | Warn about division by constant integer 0. |\r\n| empty | 6 | Warn about empty statement after if. |\r\n| exports | 17 | Warn about issues regarding module exports. |\r\n| fallthrough | 5 | Warn about falling through from one case of a switch statement to the next. |\r\n| finally | 5 | Warn about finally clauses that do not terminate normally. |\r\n| lossy-conversions | 21 | Warn about possible lossy conversions in compound assignment. |\r\n| missing-explicit-ctor | 17 | Warn about missing explicit constructors in public and protected classes in exported packages. |\r\n| module | 9 | Warn about module system related issues. |\r\n| opens | 9 | Warn about issues regarding module opens. |\r\n| options | 7 | Warn about issues relating to use of command line options. |\r\n| output-file-clash | 21 | Warn when an output file is overwritten during compilation. This can occur, for example, on case-insensitive filesystems. Covers class files, native header files, and source files. |\r\n| overloads | 8 | Warn about issues regarding method overloads. |\r\n| overrides | 6 | Warn about issues regarding method overrides. |\r\n| path | 5 | Warn about invalid path elements on the command line. |\r\n| processing | 7 | Warn about issues regarding annotation processing. |\r\n| rawtypes | 7 | Warn about use of raw types. |\r\n| removal | 9&lt;br&gt;11&lt;sup&gt;std&lt;/sup&gt; | Warn about use of API that has been marked for removal. |\r\n| requires-automatic | 9 | Warn about use of automatic modules in the requires clauses. |\r\n| requires-transitive-automatic | 9 | Warn about automatic modules in requires transitive. |\r\n| serial | 5 | Warn about Serializable classes that do not have a serialVersionUID field. Also warn about other suspect declarations in Serializable and Externalizable classes and interfaces. |\r\n| static | 7 | Warn about accessing a static member using an instance. |\r\n| strictfp | 17 | Warn about unnecessary use of the strictfp modifier. |\r\n| synchronization | 17 | Warn about synchronization attempts on instances of value-based classes. |\r\n | text-blocks | 17 | Warn about inconsistent white space characters in text block indentation. |\r\n| this-escape | 21 | Warn when a constructor invokes a method that could be overriden in an external subclass. Such a method would execute before the subclass constructor completes its initialization. |\r\n| try | 7 | Warn about issues relating to use of try blocks (i.e. try-with-resources). |\r\n| unchecked | 5&lt;br&gt;6&lt;sup&gt;std&lt;/sup&gt; | Warn about unchecked operations. |\r\n| varargs | 7 | Warn about potentially unsafe vararg methods. |\r\n\r\n\\* I only checked the commonly occurring 5, 6, 7, 8, 9, 11, 17, 21 versions.  \r\n&lt;sup&gt;std&lt;/sup&gt; ones are standard according to JLS version evolution.","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<h2>Official sources for the list of supported values</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-9.html#jls-9.6.4.5\" rel=\"nofollow noreferrer\">JSL 9.6.4.5 <code>@SuppressWarnings</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/javac.html#option-Xlint-custom\" rel=\"nofollow noreferrer\"><code>javac</code> docs</a></li>\n<li>CLI of your actual <code>java</code>\n<ul>\n<li>Java 5-16 <code>javac -help -X</code></li>\n<li>Java 17-21 <code>javac --help-lint</code></li>\n</ul>\n</li>\n<li>In case you need older documentation, <a href=\"https://javaalmanac.io\" rel=\"nofollow noreferrer\">https://javaalmanac.io</a> seems to be a pretty good reference.</li>\n<li>Anything else that your IDE, or static code analyzer can understand. For example\n<ul>\n<li>Eclipse has a few additional ones that look like Java offical ones</li>\n<li>IntelliJ IDEA has inspections that can be suppressed the same way.</li>\n<li>Checkstyle, PMD, etc. can also use this same annotation.</li>\n</ul>\n</li>\n</ul>\n<h2><code>javac -Xlint</code> options across JDK versions</h2>\n<p>Based on the above here's an official-ish list from Oracle/OpenJDK JDKs.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Since*</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>all</td>\n<td>5</td>\n<td>Enable all warnings</td>\n</tr>\n<tr>\n<td>none</td>\n<td>6</td>\n<td>Disable all warnings</td>\n</tr>\n<tr>\n<td>preview</td>\n<td>11<br>17<sup>std</sup></td>\n<td>Warn about use of preview language features.</td>\n</tr>\n<tr>\n<td>auxiliaryclass</td>\n<td>8</td>\n<td>Warn about an auxiliary class that is hidden in a source file, and is used from other files.</td>\n</tr>\n<tr>\n<td>cast</td>\n<td>6</td>\n<td>Warn about use of unnecessary casts.</td>\n</tr>\n<tr>\n<td>classfile</td>\n<td>7</td>\n<td>Warn about issues related to classfile contents.</td>\n</tr>\n<tr>\n<td>deprecation</td>\n<td>5<br>11<sup>std</sup></td>\n<td>Warn about use of deprecated items.</td>\n</tr>\n<tr>\n<td>dep-ann</td>\n<td>7</td>\n<td>Warn about items marked as deprecated in JavaDoc but not using the @Deprecated annotation.</td>\n</tr>\n<tr>\n<td>divzero</td>\n<td>6</td>\n<td>Warn about division by constant integer 0.</td>\n</tr>\n<tr>\n<td>empty</td>\n<td>6</td>\n<td>Warn about empty statement after if.</td>\n</tr>\n<tr>\n<td>exports</td>\n<td>17</td>\n<td>Warn about issues regarding module exports.</td>\n</tr>\n<tr>\n<td>fallthrough</td>\n<td>5</td>\n<td>Warn about falling through from one case of a switch statement to the next.</td>\n</tr>\n<tr>\n<td>finally</td>\n<td>5</td>\n<td>Warn about finally clauses that do not terminate normally.</td>\n</tr>\n<tr>\n<td>lossy-conversions</td>\n<td>21</td>\n<td>Warn about possible lossy conversions in compound assignment.</td>\n</tr>\n<tr>\n<td>missing-explicit-ctor</td>\n<td>17</td>\n<td>Warn about missing explicit constructors in public and protected classes in exported packages.</td>\n</tr>\n<tr>\n<td>module</td>\n<td>9</td>\n<td>Warn about module system related issues.</td>\n</tr>\n<tr>\n<td>opens</td>\n<td>9</td>\n<td>Warn about issues regarding module opens.</td>\n</tr>\n<tr>\n<td>options</td>\n<td>7</td>\n<td>Warn about issues relating to use of command line options.</td>\n</tr>\n<tr>\n<td>output-file-clash</td>\n<td>21</td>\n<td>Warn when an output file is overwritten during compilation. This can occur, for example, on case-insensitive filesystems. Covers class files, native header files, and source files.</td>\n</tr>\n<tr>\n<td>overloads</td>\n<td>8</td>\n<td>Warn about issues regarding method overloads.</td>\n</tr>\n<tr>\n<td>overrides</td>\n<td>6</td>\n<td>Warn about issues regarding method overrides.</td>\n</tr>\n<tr>\n<td>path</td>\n<td>5</td>\n<td>Warn about invalid path elements on the command line.</td>\n</tr>\n<tr>\n<td>processing</td>\n<td>7</td>\n<td>Warn about issues regarding annotation processing.</td>\n</tr>\n<tr>\n<td>rawtypes</td>\n<td>7</td>\n<td>Warn about use of raw types.</td>\n</tr>\n<tr>\n<td>removal</td>\n<td>9<br>11<sup>std</sup></td>\n<td>Warn about use of API that has been marked for removal.</td>\n</tr>\n<tr>\n<td>requires-automatic</td>\n<td>9</td>\n<td>Warn about use of automatic modules in the requires clauses.</td>\n</tr>\n<tr>\n<td>requires-transitive-automatic</td>\n<td>9</td>\n<td>Warn about automatic modules in requires transitive.</td>\n</tr>\n<tr>\n<td>serial</td>\n<td>5</td>\n<td>Warn about Serializable classes that do not have a serialVersionUID field. Also warn about other suspect declarations in Serializable and Externalizable classes and interfaces.</td>\n</tr>\n<tr>\n<td>static</td>\n<td>7</td>\n<td>Warn about accessing a static member using an instance.</td>\n</tr>\n<tr>\n<td>strictfp</td>\n<td>17</td>\n<td>Warn about unnecessary use of the strictfp modifier.</td>\n</tr>\n<tr>\n<td>synchronization</td>\n<td>17</td>\n<td>Warn about synchronization attempts on instances of value-based classes.</td>\n</tr>\n<tr>\n<td>text-blocks</td>\n<td>17</td>\n<td>Warn about inconsistent white space characters in text block indentation.</td>\n</tr>\n<tr>\n<td>this-escape</td>\n<td>21</td>\n<td>Warn when a constructor invokes a method that could be overriden in an external subclass. Such a method would execute before the subclass constructor completes its initialization.</td>\n</tr>\n<tr>\n<td>try</td>\n<td>7</td>\n<td>Warn about issues relating to use of try blocks (i.e. try-with-resources).</td>\n</tr>\n<tr>\n<td>unchecked</td>\n<td>5<br>6<sup>std</sup></td>\n<td>Warn about unchecked operations.</td>\n</tr>\n<tr>\n<td>varargs</td>\n<td>7</td>\n<td>Warn about potentially unsafe vararg methods.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>* I only checked the commonly occurring 5, 6, 7, 8, 9, 11, 17, 21 versions.<br />\n<sup>std</sup> ones are standard according to JLS version evolution.</p>\n"}],"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196717,"favorite_count":0,"down_vote_count":0,"up_vote_count":322,"accepted_answer_id":1206001,"answer_count":10,"score":322,"last_activity_date":1697806995,"creation_date":1248953134,"question_id":1205995,"body_markdown":"What is the list of valid `@SuppressWarnings` warning names in Java?\r\n\r\nThe bit that comes in between the `(&quot;&quot;)` in `@SuppressWarnings(&quot;&quot;)`.","title":"What is the list of valid @SuppressWarnings warning names in Java?","body":"<p>What is the list of valid <code>@SuppressWarnings</code> warning names in Java?</p>\n\n<p>The bit that comes in between the <code>(\"\")</code> in <code>@SuppressWarnings(\"\")</code>.</p>\n"},{"tags":["java","windows-services","java-service-wrapper"],"comments":[{"owner":{"account_id":17649836,"reputation":1,"user_id":12810494,"display_name":"Karthikeyan S"},"score":0,"creation_date":1580351078,"post_id":47711905,"comment_id":106071933,"body_markdown":"The answer is exist in the below link... [how-to-create-a-windows-service](https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app/59978239#59978239)","body":"The answer is exist in the below link... <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app/59978239#59978239\">how-to-create-a-windows-service</a>"},{"owner":{"account_id":17649836,"reputation":1,"user_id":12810494,"display_name":"Karthikeyan S"},"score":0,"creation_date":1580351252,"post_id":47711905,"comment_id":106071960,"body_markdown":"Already answered in the below stack overflow question... [how-to-create-a-windows-service...](https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app/59978239#59978239)","body":"Already answered in the below stack overflow question... <a href=\"https://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app/59978239#59978239\">how-to-create-a-windows-service...</a>"}],"answers":[{"tags":[],"owner":{"account_id":4180478,"reputation":21,"user_id":3425664,"display_name":"Walter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512728081,"creation_date":1512728081,"answer_id":47712134,"question_id":47711905,"body_markdown":"I have used this approach before in a productive environment, so I can assure you it is safe to use. \n\nThe Jar-File is wrapped in an exe and then it is added to the windows service scheduler (or however you want to call this). If you have a maven project this is also really easy to accomplish. \n\nhttps://dzone.com/articles/installing-a-java-application-as-a-windows-service\n\nEdit: you said you can’t use external software. With this approach everything that is needed is packed in the exe file. Including a JRE, I hope that that is allowed by your client’s policy. ","title":"Running Java jars as windows service","body":"<p>I have used this approach before in a productive environment, so I can assure you it is safe to use. </p>\n\n<p>The Jar-File is wrapped in an exe and then it is added to the windows service scheduler (or however you want to call this). If you have a maven project this is also really easy to accomplish. </p>\n\n<p><a href=\"https://dzone.com/articles/installing-a-java-application-as-a-windows-service\" rel=\"nofollow noreferrer\">https://dzone.com/articles/installing-a-java-application-as-a-windows-service</a></p>\n\n<p>Edit: you said you can’t use external software. With this approach everything that is needed is packed in the exe file. Including a JRE, I hope that that is allowed by your client’s policy. </p>\n"}],"owner":{"account_id":7042332,"reputation":121,"user_id":5394411,"accept_rate":29,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13091,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697806915,"creation_date":1512727338,"question_id":47711905,"body_markdown":"I have an executable jar and I was trying to create a Windows Service using sc.exe. I used the below code for creating service:\r\n\r\n    sc create &quot;TestService&quot; binPath= &quot;C:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\java.exe -jar C:\\abc\\MainClass.jar&quot;\r\n\r\nThe service got created but when I was trying to start the service I got the below error: \r\n\r\n    Error 1053: The service did not respond to the start or control request in a timely fashion.\r\n\r\nLater I tried to use Java Service Wrapper (Community Edition), the service starts for some time but is getting stopped everytime. The wrapper log tells something like:\r\n\r\n    Advice:\r\n    The Wrapper consists of a native component as well as a set of classes\r\n    which run within the JVM that it launches.  The Java component of the\r\n    Wrapper must be initialized promptly after the JVM is launched or the\r\n    Wrapper will timeout, as just happened.  Most likely the main class\r\n    specified in the Wrapper configuration file is not correctly initializing\r\n    the Wrapper classes:\r\n    com.MainClass\r\n    While it is possible to do so manually, the Wrapper ships with helper\r\n    classes to make this initialization processes automatic.\r\n    Please review the integration section of the Wrapper&#39;s documentation\r\n    for the various methods which can be employed to launch an application\r\n    within the Wrapper\r\n\r\nCould anyone please tell me how can I run jar as a Windows Service without using external software as I can&#39;t use any third party app on Client&#39;s prod env.\r\n\r\nIf not what other configs I need to do in Java Service Wrapper to make the service start.\r\n\r\nI tried to find some info related to this on stackoverflow but I did not get anything thing. If any one has anything on stackoverflow please feel free to put this in comment.","title":"Running Java jars as windows service","body":"<p>I have an executable jar and I was trying to create a Windows Service using sc.exe. I used the below code for creating service:</p>\n\n<pre><code>sc create \"TestService\" binPath= \"C:\\Program Files\\Java\\jdk1.6.0_03\\jre\\bin\\java.exe -jar C:\\abc\\MainClass.jar\"\n</code></pre>\n\n<p>The service got created but when I was trying to start the service I got the below error: </p>\n\n<pre><code>Error 1053: The service did not respond to the start or control request in a timely fashion.\n</code></pre>\n\n<p>Later I tried to use Java Service Wrapper (Community Edition), the service starts for some time but is getting stopped everytime. The wrapper log tells something like:</p>\n\n<pre><code>Advice:\nThe Wrapper consists of a native component as well as a set of classes\nwhich run within the JVM that it launches.  The Java component of the\nWrapper must be initialized promptly after the JVM is launched or the\nWrapper will timeout, as just happened.  Most likely the main class\nspecified in the Wrapper configuration file is not correctly initializing\nthe Wrapper classes:\ncom.MainClass\nWhile it is possible to do so manually, the Wrapper ships with helper\nclasses to make this initialization processes automatic.\nPlease review the integration section of the Wrapper's documentation\nfor the various methods which can be employed to launch an application\nwithin the Wrapper\n</code></pre>\n\n<p>Could anyone please tell me how can I run jar as a Windows Service without using external software as I can't use any third party app on Client's prod env.</p>\n\n<p>If not what other configs I need to do in Java Service Wrapper to make the service start.</p>\n\n<p>I tried to find some info related to this on stackoverflow but I did not get anything thing. If any one has anything on stackoverflow please feel free to put this in comment.</p>\n"},{"tags":["java","arrays","global-variables"],"answers":[{"comments":[{"owner":{"account_id":684283,"reputation":19,"user_id":543579,"display_name":"Stephen"},"score":0,"creation_date":1292434673,"post_id":4451966,"comment_id":4864012,"body_markdown":"cannot find symbol\nsymbol  : method setText(java.lang.String)\nlocation: class java.lang.Object\n\t\t   \t\t\t     VolatilityTableModel.data[0][0].setText(TextLine);","body":"cannot find symbol symbol  : method setText(java.lang.String) location: class java.lang.Object \t\t   \t\t\t     VolatilityTableModel.data[0][0].setText(TextLine);"},{"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"score":0,"creation_date":1292434869,"post_id":4451966,"comment_id":4864052,"body_markdown":"`Object` has no member `setText`.  You will have to cast the result to the appropriate type.","body":"<code>Object</code> has no member <code>setText</code>.  You will have to cast the result to the appropriate type."}],"tags":[],"owner":{"account_id":234840,"reputation":160679,"user_id":501250,"accept_rate":75,"display_name":"cdhowie"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292428664,"creation_date":1292428664,"answer_id":4451966,"question_id":4451937,"body_markdown":"If you want the fields to be global, you need to declare them static:\r\n\r\n    static String[] columnNames = ...\r\n\r\n    static Object[][] data = ...\r\n\r\nWithout the `static` keyword, the fields belong to *instances* of `OptraderGlobal` and not to the class itself.","title":"Java - Acessing global variables &amp; Arrays","body":"<p>If you want the fields to be global, you need to declare them static:</p>\n\n<pre><code>static String[] columnNames = ...\n\nstatic Object[][] data = ...\n</code></pre>\n\n<p>Without the <code>static</code> keyword, the fields belong to <em>instances</em> of <code>OptraderGlobal</code> and not to the class itself.</p>\n"},{"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292428673,"creation_date":1292428673,"answer_id":4451972,"question_id":4451937,"body_markdown":"Make columnNames static.","title":"Java - Acessing global variables &amp; Arrays","body":"<p>Make columnNames static.</p>\n"},{"comments":[{"owner":{"account_id":684283,"reputation":19,"user_id":543579,"display_name":"Stephen"},"score":0,"creation_date":1292435822,"post_id":4451976,"comment_id":4864233,"body_markdown":"Many thanks for your advise, so better to make an instance of Volatatility table model in the class I want to acess the variable?","body":"Many thanks for your advise, so better to make an instance of Volatatility table model in the class I want to acess the variable?"}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292428691,"creation_date":1292428691,"answer_id":4451976,"question_id":4451937,"body_markdown":"If you want something to be global to a class, you need to declare it as `static`.  This means that the field is associated with the class itself (only one copy), rather than a new version being created for each instance.\r\n\r\nSince you didn&#39;t do this at present, you ended up with the error copied in your VolatilityTableModel - you can&#39;t reference the field without some *particular* instance of OptraderGlobal.\r\n\r\nI would suggest that you take a look at some resources dealing with [Object oriented programming](http://en.wikipedia.org/wiki/Object-oriented_programming) - both this mistake, and your design as a whole (i.e. globals are generally a bad idea), indicate perhaps a lack of familiarity with these principles.  Since Java is an object-oriented language, becoming familiar with this style will help you no end.","title":"Java - Acessing global variables &amp; Arrays","body":"<p>If you want something to be global to a class, you need to declare it as <code>static</code>.  This means that the field is associated with the class itself (only one copy), rather than a new version being created for each instance.</p>\n\n<p>Since you didn't do this at present, you ended up with the error copied in your VolatilityTableModel - you can't reference the field without some <em>particular</em> instance of OptraderGlobal.</p>\n\n<p>I would suggest that you take a look at some resources dealing with <a href=\"http://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow\">Object oriented programming</a> - both this mistake, and your design as a whole (i.e. globals are generally a bad idea), indicate perhaps a lack of familiarity with these principles.  Since Java is an object-oriented language, becoming familiar with this style will help you no end.</p>\n"},{"comments":[{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1292429198,"post_id":4451984,"comment_id":4862823,"body_markdown":"Technically, they don&#39;t need to be `public` so long as all the accessing classes are within the same package.  (And it looks like everything&#39;s in the default package).  While I agree with you that these *should* be public and non-default packages *should* be used, there also *shouldn&#39;t* be global/static variables so I guess it&#39;s varying levels of moot. :-)","body":"Technically, they don&#39;t need to be <code>public</code> so long as all the accessing classes are within the same package.  (And it looks like everything&#39;s in the default package).  While I agree with you that these <i>should</i> be public and non-default packages <i>should</i> be used, there also <i>shouldn&#39;t</i> be global/static variables so I guess it&#39;s varying levels of moot. :-)"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1292429414,"post_id":4451984,"comment_id":4862892,"body_markdown":"@Andr, you are correct.  It doesn&#39;t need to be public, but, for them to truly be global, they need to be public.","body":"@Andr, you are correct.  It doesn&#39;t need to be public, but, for them to truly be global, they need to be public."},{"owner":{"account_id":684283,"reputation":19,"user_id":543579,"display_name":"Stephen"},"score":0,"creation_date":1292434634,"post_id":4451984,"comment_id":4864008,"body_markdown":"Hiya,Thanks for the help but it is still saying... cannot find symbol symbol : method setText(java.lang.String) location: class java.lang.Object DividendsTableModel.data[0][0].setText(TextLine); Not sure what to do now regards Stephen","body":"Hiya,Thanks for the help but it is still saying... cannot find symbol symbol : method setText(java.lang.String) location: class java.lang.Object DividendsTableModel.data[0][0].setText(TextLine); Not sure what to do now regards Stephen"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1292437118,"post_id":4451984,"comment_id":4864479,"body_markdown":"@Stephen, `data` is an `Object` array.  It doesn&#39;t have the method `setText()`.  You probably don&#39;t want to be using an `Object[][]` in this case.  But without more information it is hard to say.","body":"@Stephen, <code>data</code> is an <code>Object</code> array.  It doesn&#39;t have the method <code>setText()</code>.  You probably don&#39;t want to be using an <code>Object[][]</code> in this case.  But without more information it is hard to say."},{"owner":{"account_id":684283,"reputation":19,"user_id":543579,"display_name":"Stephen"},"score":0,"creation_date":1292452719,"post_id":4451984,"comment_id":4867574,"body_markdown":"Yes thanks you&#39;re right. These are table values that I write to a file say x.dat I open the file and i want to read the data back into the data array - what do I use the object data[][] has no setText() property? Thank you for your help","body":"Yes thanks you&#39;re right. These are table values that I write to a file say x.dat I open the file and i want to read the data back into the data array - what do I use the object data[][] has no setText() property? Thank you for your help"}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292428726,"creation_date":1292428726,"answer_id":4451984,"question_id":4451937,"body_markdown":"You need to declare them as `public static` to access them the way you want.\r\n\r\n    public static String[] columnNames\r\n               = {&quot;Ex-Date&quot;,\r\n                  &quot;Dividend&quot;,\r\n                  &quot;Actual&quot;,\r\n                  &quot;Yield (%)&quot;\r\n                 };\r\n    \r\n    public static Object[][] data  = {\r\n           {&quot;dd/mm/yyyy&quot;, new Double(5), new Boolean(false), \r\n                     {&quot;21/12/2013&quot;, new Double(5), new Boolean(false)};\r\n                         }\r\n\r\nYou should declare the classes as public as well.","title":"Java - Acessing global variables &amp; Arrays","body":"<p>You need to declare them as <code>public static</code> to access them the way you want.</p>\n\n<pre><code>public static String[] columnNames\n           = {\"Ex-Date\",\n              \"Dividend\",\n              \"Actual\",\n              \"Yield (%)\"\n             };\n\npublic static Object[][] data  = {\n       {\"dd/mm/yyyy\", new Double(5), new Boolean(false), \n                 {\"21/12/2013\", new Double(5), new Boolean(false)};\n                     }\n</code></pre>\n\n<p>You should declare the classes as public as well.</p>\n"},{"comments":[{"owner":{"account_id":684283,"reputation":19,"user_id":543579,"display_name":"Stephen"},"score":0,"creation_date":1292434715,"post_id":4451988,"comment_id":4864023,"body_markdown":"Hiya still have problems as it is saying","body":"Hiya still have problems as it is saying"}],"tags":[],"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292428741,"creation_date":1292428741,"answer_id":4451988,"question_id":4451937,"body_markdown":"You have to learn more about [member fields in Java](http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html).\r\n\r\nIn your case if you want them just accessible from other classes without creating an instance of `OptTraderGlobal`, you have to make `columnNames` and `data` `static`.","title":"Java - Acessing global variables &amp; Arrays","body":"<p>You have to learn more about <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow\">member fields in Java</a>.</p>\n\n<p>In your case if you want them just accessible from other classes without creating an instance of <code>OptTraderGlobal</code>, you have to make <code>columnNames</code> and <code>data</code> <code>static</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684805186,"creation_date":1684805186,"answer_id":76310767,"question_id":4451937,"body_markdown":"You can either create a new instance of `OptraderGlobal`, or declare the `columnNames` variable as `static`.\r\n\r\nIt appears you are trying to access it in a static contex\r\n\r\n```java\r\nstatic String[] columnNames = { &quot;Ex-Date&quot;, &quot;Dividend&quot;, &quot;Actual&quot;, &quot;Yield (%)&quot; };\r\n```","title":"Java - Acessing global variables &amp; Arrays","body":"<p>You can either create a new instance of <code>OptraderGlobal</code>, or declare the <code>columnNames</code> variable as <code>static</code>.</p>\n<p>It appears you are trying to access it in a static contex</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String[] columnNames = { &quot;Ex-Date&quot;, &quot;Dividend&quot;, &quot;Actual&quot;, &quot;Yield (%)&quot; };\n</code></pre>\n"}],"owner":{"account_id":684283,"reputation":19,"user_id":543579,"display_name":"Stephen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8226,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1697806915,"creation_date":1292428481,"question_id":4451937,"body_markdown":"I have a simple question regarding how to access global variables and global array information which I have had no luck.\r\n\r\nI have two Java files, but can&#39;t access the string and array information in my application `Optrader.java`.\r\n\r\n1. Optrader.java\r\n2. OptraderGlobals\r\n\r\nMy OptraderGlobal.java file:\r\n\r\n     class OptraderGlobal\r\n     {\r\n        String[] columnNames\r\n               = {&quot;Ex-Date&quot;,\r\n                  &quot;Dividend&quot;,\r\n                  &quot;Actual&quot;,\r\n                  &quot;Yield (%)&quot;\r\n                 };\r\n    \r\n      Object[][] data  = {\r\n           {&quot;dd/mm/yyyy&quot;, new Double(5), new Boolean(false), \r\n              {&quot;21/12/2013&quot;, new Double(5), new Boolean(false)};\r\n           }\r\n    }\r\nMy Optrader.java file:\r\n\r\n    /* Volatility Table Model is  CLASS within Optrader.java */\r\n    //Create Volatility Table\r\n    class VolatilityTableModel extends AbstractTableModel\r\n    {\r\n       public int getColumnCount()\r\n       {\r\n             return OptraderGlobal.columnNames1.length;\r\n        }   \r\n     }\r\n\r\nerror:\r\n\r\n     non-static variable columnNames cannot be\r\n     referenced from a static context\r\n     return OptraderGlobal.columnNames.length;\r\n\r\nAlso I need to access the global array data within other classes in Optrader.java.","title":"Java - Acessing global variables &amp; Arrays","body":"<p>I have a simple question regarding how to access global variables and global array information which I have had no luck.</p>\n\n<p>I have two Java files, but can't access the string and array information in my application <code>Optrader.java</code>.</p>\n\n<ol>\n<li>Optrader.java</li>\n<li>OptraderGlobals</li>\n</ol>\n\n<p>My OptraderGlobal.java file:</p>\n\n<pre><code> class OptraderGlobal\n {\n    String[] columnNames\n           = {\"Ex-Date\",\n              \"Dividend\",\n              \"Actual\",\n              \"Yield (%)\"\n             };\n\n  Object[][] data  = {\n       {\"dd/mm/yyyy\", new Double(5), new Boolean(false), \n          {\"21/12/2013\", new Double(5), new Boolean(false)};\n       }\n}\n</code></pre>\n\n<p>My Optrader.java file:</p>\n\n<pre><code>/* Volatility Table Model is  CLASS within Optrader.java */\n//Create Volatility Table\nclass VolatilityTableModel extends AbstractTableModel\n{\n   public int getColumnCount()\n   {\n         return OptraderGlobal.columnNames1.length;\n    }   \n }\n</code></pre>\n\n<p>error:</p>\n\n<pre><code> non-static variable columnNames cannot be\n referenced from a static context\n return OptraderGlobal.columnNames.length;\n</code></pre>\n\n<p>Also I need to access the global array data within other classes in Optrader.java.</p>\n"},{"tags":["java","nsis","apache-commons","apache-commons-daemon"],"comments":[{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1697813723,"post_id":77330837,"comment_id":136330989,"body_markdown":"I doubt the NSIS tag is relevant here","body":"I doubt the NSIS tag is relevant here"}],"owner":{"account_id":26815442,"reputation":1,"user_id":22258674,"display_name":"tictac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697806438,"creation_date":1697804141,"question_id":77330837,"body_markdown":"I already have an application in Java 8 which started correctly as a windows service with apache commons daemon.\r\nBut recently by upgrading the application on java 17 I don&#39;t know why the application can&#39;t be started as a service.\r\n\r\nAnyone have an idea of the problem?\r\nBelow code for launching with NSIS installer:\r\n\r\n` ExecWait &#39;$INSTDIR\\MyServer-Service.exe //IS//MyServer-Service --Description=&quot;My Server Service&quot; --Install=$INSTDIR\\MyServer-Service.exe --Jvm=%JAVA_HOME% --Classpath=%CLASSPATH%;$INSTDIR\\my-server.jar --StartMode=jvm --StartClass=com.crimson.core.CsLauncher --StartParams=-conf;$INSTDIR\\conf\\default.json --StopMode=jvm --StopClass=com.crimson.core.CsLauncher --StopMethod=stopService&#39;`\r\n\r\n\r\n\r\nand logging by using servicew.exe:\r\n\r\n\r\n```\r\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:2010) [27080] Apache Commons Daemon procrun log initialized.\r\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:2018) [27080] Apache Commons Daemon procrun (1.3.4.0 32-bit) started.\r\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:1922) [27080] Running Service &#39;My-ServerService&#39;...\r\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:1681) [29020] Inside serviceMain()...\r\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:1127) [29020] reportServiceStatusE: dwCurrentState = 2 (SERVICE_START_PENDING), dwWin32ExitCode = 0, dwWaitHint = 3000 milliseconds, dwServiceSpecificExitCode = 0.\r\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:1426) [29020] Starting service...\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:216 ) [29020] Explicit RuntimeLib specified &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39;\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:285 ) [29020] Adding Java bin path to the PATH to fix loading of awt.dll: &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin&#39;\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:291 ) [29020] Loading JVM DLL &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39;\r\n[2023-10-20 11:45:13] [error] ( javajni.c:300 ) [29020] Found &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39; but couldn&#39;t load it.\r\n[2023-10-20 11:45:13] [error] ( javajni.c:300 ) [29020] %1 n’est pas une application Win32 valide.\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:321 ) [29020] Invalid JVM DLL handle.\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:322 ) [29020] Loading JVM DLL &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39; using LOAD_WITH_ALTERED_SEARCH_PATH.\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:326 ) [29020] Invalid JVM DLL handle.\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:329 ) [29020] Setting DLL search path to &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39;\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:332 ) [29020] Loading JVM DLL &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39;.\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:335 ) [29020] Invalid JVM DLL handle.\r\n[2023-10-20 11:45:13] [debug] ( javajni.c:336 ) [29020] Loading JVM DLL &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39; using LOAD_WITH_ALTERED_SEARCH_PATH.\r\n[2023-10-20 11:45:13] [error] ( javajni.c:343 ) [29020] Invalid JVM DLL handle.\r\n[2023-10-20 11:45:13] [error] ( javajni.c:343 ) [29020] %1 n’est pas une application Win32 valide.\r\n[2023-10-20 11:45:13] [error] ( javajni.c:344 ) [29020] %1 n’est pas une application Win32 valide.\r\n[2023-10-20 11:45:13] [error] ( javajni.c:416 ) [29020] Failed to load JVM DLL &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39;, home &#39;(null)&#39;.\r\n[2023-10-20 11:45:13] [error] ( javajni.c:416 ) [29020] %1 n’est pas une application Win32 valide.\r\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1465) [29020] Failed creating Java &#39;D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll&#39;.\r\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1465) [29020] %1 n’est pas une application Win32 valide.\r\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1854) [29020] ServiceStart returned 1.\r\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1854) [29020] %1 n’est pas une application Win32 valide.\r\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:1127) [29020] reportServiceStatusE: dwCurrentState = 1 (SERVICE_STOPPED), dwWin32ExitCode = 1066, dwWaitHint = 0 milliseconds, dwServiceSpecificExitCode = 1.\r\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:1924) [27080] Run service finished.\r\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:2102) [27080] Apache Commons Daemon procrun finished.\r\n```\r\n\r\n\r\nMy Java home point exactly on the JDK 17 and I don&#39;t know why my service doesn&#39;t start\r\n\r\nI expect a solution for starting correctly my service with JDK 17","title":"Unable to launch jar with apache commons daemon since java 17","body":"<p>I already have an application in Java 8 which started correctly as a windows service with apache commons daemon.\nBut recently by upgrading the application on java 17 I don't know why the application can't be started as a service.</p>\n<p>Anyone have an idea of the problem?\nBelow code for launching with NSIS installer:</p>\n<p><code> ExecWait '$INSTDIR\\MyServer-Service.exe //IS//MyServer-Service --Description=&quot;My Server Service&quot; --Install=$INSTDIR\\MyServer-Service.exe --Jvm=%JAVA_HOME% --Classpath=%CLASSPATH%;$INSTDIR\\my-server.jar --StartMode=jvm --StartClass=com.crimson.core.CsLauncher --StartParams=-conf;$INSTDIR\\conf\\default.json --StopMode=jvm --StopClass=com.crimson.core.CsLauncher --StopMethod=stopService'</code></p>\n<p>and logging by using servicew.exe:</p>\n<pre><code>[2023-10-20 11:45:13] [debug] ( prunsrv.c:2010) [27080] Apache Commons Daemon procrun log initialized.\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:2018) [27080] Apache Commons Daemon procrun (1.3.4.0 32-bit) started.\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:1922) [27080] Running Service 'My-ServerService'...\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:1681) [29020] Inside serviceMain()...\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:1127) [29020] reportServiceStatusE: dwCurrentState = 2 (SERVICE_START_PENDING), dwWin32ExitCode = 0, dwWaitHint = 3000 milliseconds, dwServiceSpecificExitCode = 0.\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:1426) [29020] Starting service...\n[2023-10-20 11:45:13] [debug] ( javajni.c:216 ) [29020] Explicit RuntimeLib specified 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll'\n[2023-10-20 11:45:13] [debug] ( javajni.c:285 ) [29020] Adding Java bin path to the PATH to fix loading of awt.dll: 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin'\n[2023-10-20 11:45:13] [debug] ( javajni.c:291 ) [29020] Loading JVM DLL 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll'\n[2023-10-20 11:45:13] [error] ( javajni.c:300 ) [29020] Found 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll' but couldn't load it.\n[2023-10-20 11:45:13] [error] ( javajni.c:300 ) [29020] %1 n’est pas une application Win32 valide.\n[2023-10-20 11:45:13] [debug] ( javajni.c:321 ) [29020] Invalid JVM DLL handle.\n[2023-10-20 11:45:13] [debug] ( javajni.c:322 ) [29020] Loading JVM DLL 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll' using LOAD_WITH_ALTERED_SEARCH_PATH.\n[2023-10-20 11:45:13] [debug] ( javajni.c:326 ) [29020] Invalid JVM DLL handle.\n[2023-10-20 11:45:13] [debug] ( javajni.c:329 ) [29020] Setting DLL search path to 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll'\n[2023-10-20 11:45:13] [debug] ( javajni.c:332 ) [29020] Loading JVM DLL 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll'.\n[2023-10-20 11:45:13] [debug] ( javajni.c:335 ) [29020] Invalid JVM DLL handle.\n[2023-10-20 11:45:13] [debug] ( javajni.c:336 ) [29020] Loading JVM DLL 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll' using LOAD_WITH_ALTERED_SEARCH_PATH.\n[2023-10-20 11:45:13] [error] ( javajni.c:343 ) [29020] Invalid JVM DLL handle.\n[2023-10-20 11:45:13] [error] ( javajni.c:343 ) [29020] %1 n’est pas une application Win32 valide.\n[2023-10-20 11:45:13] [error] ( javajni.c:344 ) [29020] %1 n’est pas une application Win32 valide.\n[2023-10-20 11:45:13] [error] ( javajni.c:416 ) [29020] Failed to load JVM DLL 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll', home '(null)'.\n[2023-10-20 11:45:13] [error] ( javajni.c:416 ) [29020] %1 n’est pas une application Win32 valide.\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1465) [29020] Failed creating Java 'D:\\Users\\adrien\\.jdks\\openjdk-17.0.2\\bin\\server\\jvm.dll'.\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1465) [29020] %1 n’est pas une application Win32 valide.\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1854) [29020] ServiceStart returned 1.\n[2023-10-20 11:45:13] [error] ( prunsrv.c:1854) [29020] %1 n’est pas une application Win32 valide.\n[2023-10-20 11:45:13] [debug] ( prunsrv.c:1127) [29020] reportServiceStatusE: dwCurrentState = 1 (SERVICE_STOPPED), dwWin32ExitCode = 1066, dwWaitHint = 0 milliseconds, dwServiceSpecificExitCode = 1.\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:1924) [27080] Run service finished.\n[2023-10-20 11:45:13] [info]  ( prunsrv.c:2102) [27080] Apache Commons Daemon procrun finished.\n</code></pre>\n<p>My Java home point exactly on the JDK 17 and I don't know why my service doesn't start</p>\n<p>I expect a solution for starting correctly my service with JDK 17</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697802588,"post_id":77328924,"comment_id":136328796,"body_markdown":"You wrote (in your question): _Coming from a C++ background_ Speaking from experience, first thing you need to do is [think in Java](https://github.com/media-lib/prog_lib/blob/master/java/Bruce%20Eckel%20-%20Thinking%20in%20Java%204th%20Edition.pdf). I suggest you look at [JavaBeans](https://en.wikipedia.org/wiki/JavaBeans). If _JavaBeans_ is appropriate, then maybe [BeanUtils](https://commons.apache.org/proper/commons-beanutils/) may also be helpful. By the way, as a new SO member, I recommend that you take the [tour] and visit the [help].","body":"You wrote (in your question): <i>Coming from a C++ background</i> Speaking from experience, first thing you need to do is <a href=\"https://github.com/media-lib/prog_lib/blob/master/java/Bruce%20Eckel%20-%20Thinking%20in%20Java%204th%20Edition.pdf\" rel=\"nofollow noreferrer\">think in Java</a>. I suggest you look at <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">JavaBeans</a>. If <i>JavaBeans</i> is appropriate, then maybe <a href=\"https://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">BeanUtils</a> may also be helpful. By the way, as a new SO member, I recommend that you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and visit the <a href=\"https://stackoverflow.com/help\">help center</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697802940,"post_id":77328924,"comment_id":136328861,"body_markdown":"You wrote (in your question): _My goal is to export this list of persons into a table which should be easily_ ___expendable___ I think you mean _expAndable_ One letter difference, but two entirely different words.","body":"You wrote (in your question): <i>My goal is to export this list of persons into a table which should be easily</i> <b><i>expendable</i></b> I think you mean <i>expAndable</i> One letter difference, but two entirely different words."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697806434,"creation_date":1697805603,"answer_id":77330993,"question_id":77328924,"body_markdown":"You wrote (in your question):\r\n&gt; I imagine something like a function pointer\r\n\r\nAs far as I know, Java does not have function pointers. Instead you create an [interface][1].\r\n\r\nYou also wrote (in your question):\r\n&gt;a function pointer which I can store in the array\r\n\r\nI think you mean a [map][2] where the map key is the name of the attribute (in class `Person`) and the map value is an object that implements the interface.\r\n\r\nIn fact, there is already an existing interface, i.e. [Function][3], that is what you require. And since `Function` is a _functional_ interface, it can be implemented via a [lambda expression][4].\r\n\r\nHere is a small example demonstrating the above:\r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\npublic class Person {\r\n    private String name;\r\n    private int age;\r\n    private Address address;\r\n\r\n    public Person(String name, int age, Address address) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.address = address;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Function&lt;Person, String&gt;&gt; converters = new HashMap&lt;&gt;();\r\n        Function&lt;Person, String&gt; convertName = p -&gt; p.getName();\r\n        Function&lt;Person, String&gt; convertAge = p -&gt; String.valueOf(p.getAge());\r\n        Function&lt;Person, String&gt; convertAddress = p -&gt; p.getAddress().toString();\r\n        converters.put(&quot;name&quot;, convertName);\r\n        converters.put(&quot;age&quot;, convertAge);\r\n        converters.put(&quot;address&quot;, convertAddress);\r\n        List&lt;Person&gt; persons = List.of(new Person(&quot;John&quot;, 45, new Address(813, &quot;Howard street&quot;, &quot;Oswego&quot;)),\r\n                                       new Person(&quot;Marc&quot;, 27, new Address(123, &quot;&quot;, &quot;Hogwarts&quot;)));\r\n        Class&lt;?&gt; personClass = Person.class;\r\n        Field[] fields = personClass.getDeclaredFields();\r\n        List&lt;String&gt; fieldNames = new ArrayList&lt;&gt;();\r\n        for (Field field : fields) {\r\n            String fieldName = field.getName();\r\n            fieldNames.add(fieldName);\r\n        }\r\n        for (Person person : persons) {\r\n            for (String fieldName : fieldNames) {\r\n                Function&lt;Person, String&gt; lambda = converters.get(fieldName);\r\n                if (lambda != null) {\r\n                    System.out.println(lambda.apply(person));\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nrecord Address(int number, String street, String city) {\r\n    \r\n}\r\n```\r\nThe above code uses [records][5], only to allow me to write a bit less code. It also uses [reflection][6] to get the names of all the attributes in class `Person`. It also uses [generics][7] &amp;ndash; which [I believe] is equivalent to *templates* in C++. It also adheres to [Java naming conventions][8].\r\n\r\nRunning the above code produces the following:  \r\n(Java 21 on Windows 10)\r\n```none\r\nJohn\r\n45\r\nAddress[number=813, street=Howard street, city=Oswego]\r\nMarc\r\n27\r\nAddress[number=123, street=, city=Hogwarts]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [5]: https://openjdk.org/jeps/395\r\n  [6]: https://docs.oracle.com/javase/tutorial/reflect/index.html\r\n  [7]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n  [8]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How can I store references to member instances and their corresponding conversion functions in an array?","body":"<p>You wrote (in your question):</p>\n<blockquote>\n<p>I imagine something like a function pointer</p>\n</blockquote>\n<p>As far as I know, Java does not have function pointers. Instead you create an <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">interface</a>.</p>\n<p>You also wrote (in your question):</p>\n<blockquote>\n<p>a function pointer which I can store in the array</p>\n</blockquote>\n<p>I think you mean a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">map</a> where the map key is the name of the attribute (in class <code>Person</code>) and the map value is an object that implements the interface.</p>\n<p>In fact, there is already an existing interface, i.e. <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a>, that is what you require. And since <code>Function</code> is a <em>functional</em> interface, it can be implemented via a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a>.</p>\n<p>Here is a small example demonstrating the above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\n\npublic class Person {\n    private String name;\n    private int age;\n    private Address address;\n\n    public Person(String name, int age, Address address) {\n        this.name = name;\n        this.age = age;\n        this.address = address;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public static void main(String[] args) {\n        Map&lt;String, Function&lt;Person, String&gt;&gt; converters = new HashMap&lt;&gt;();\n        Function&lt;Person, String&gt; convertName = p -&gt; p.getName();\n        Function&lt;Person, String&gt; convertAge = p -&gt; String.valueOf(p.getAge());\n        Function&lt;Person, String&gt; convertAddress = p -&gt; p.getAddress().toString();\n        converters.put(&quot;name&quot;, convertName);\n        converters.put(&quot;age&quot;, convertAge);\n        converters.put(&quot;address&quot;, convertAddress);\n        List&lt;Person&gt; persons = List.of(new Person(&quot;John&quot;, 45, new Address(813, &quot;Howard street&quot;, &quot;Oswego&quot;)),\n                                       new Person(&quot;Marc&quot;, 27, new Address(123, &quot;&quot;, &quot;Hogwarts&quot;)));\n        Class&lt;?&gt; personClass = Person.class;\n        Field[] fields = personClass.getDeclaredFields();\n        List&lt;String&gt; fieldNames = new ArrayList&lt;&gt;();\n        for (Field field : fields) {\n            String fieldName = field.getName();\n            fieldNames.add(fieldName);\n        }\n        for (Person person : persons) {\n            for (String fieldName : fieldNames) {\n                Function&lt;Person, String&gt; lambda = converters.get(fieldName);\n                if (lambda != null) {\n                    System.out.println(lambda.apply(person));\n                }\n            }\n        }\n    }\n}\n\nrecord Address(int number, String street, String city) {\n    \n}\n</code></pre>\n<p>The above code uses <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>, only to allow me to write a bit less code. It also uses <a href=\"https://docs.oracle.com/javase/tutorial/reflect/index.html\" rel=\"nofollow noreferrer\">reflection</a> to get the names of all the attributes in class <code>Person</code>. It also uses <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">generics</a> – which [I believe] is equivalent to <em>templates</em> in C++. It also adheres to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n<p>Running the above code produces the following:<br />\n(Java 21 on Windows 10)</p>\n<pre class=\"lang-none prettyprint-override\"><code>John\n45\nAddress[number=813, street=Howard street, city=Oswego]\nMarc\n27\nAddress[number=123, street=, city=Hogwarts]\n</code></pre>\n"}],"owner":{"account_id":29713762,"reputation":1,"user_id":22772745,"display_name":"Dominic x"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697806434,"creation_date":1697785613,"question_id":77328924,"body_markdown":"I have a collection of objects, specifically a list of individuals, each with various instance variables. These variables include attributes such as name, age, and address etc. My goal is to export this list of persons into a table which should be easily expendable. \r\n\r\nI imagine an array where I can input all the _getter_ functions and then I can iterate over the array and output the corresponding result. \r\n\r\nFor example the `Person` class:\r\n```java\r\npublic class Person\r\n{  \r\n  private String name\r\n  private integer age;\r\n  private Address address;\r\n  // More variables\r\n  // Getter and setters\r\n}\r\n```\r\nThe `Exporter` function\r\n```java\r\nimaginay_Array = {\r\n                   {Person::name, convert_name()},\r\n                   {Person::age, convert_age()},\r\n                   {Person::address, convert_address()}\r\n                 };\r\n\r\n\r\npublic static void export(List&lt;Person&gt; persons) {\r\n  /// Write headers of table\r\n  /// ...\r\n  ///\r\n\r\n\r\n  for (Person person : persons) {\r\n    for (XXX variable : imaginay_Array) {\r\n      writeCell(person.variable())\r\n    }\r\n  }\r\n}\r\n```\r\nIn the end I expect something like this:\r\n\r\n| Name | Age | Address |\r\n| -------- | -------- |-------- |\r\n| John  | 45   | 813 Howard Street Oswego NY 13126 |\r\n| Marc | 27 | 123 Hogwarts |\r\n\r\nAnd if I later need more fields exported then I can just add them to the array.\r\n\r\nComing from a C++ background I imagine something like a function pointer which I can store in the array.\r\n","title":"How can I store references to member instances and their corresponding conversion functions in an array?","body":"<p>I have a collection of objects, specifically a list of individuals, each with various instance variables. These variables include attributes such as name, age, and address etc. My goal is to export this list of persons into a table which should be easily expendable.</p>\n<p>I imagine an array where I can input all the <em>getter</em> functions and then I can iterate over the array and output the corresponding result.</p>\n<p>For example the <code>Person</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person\n{  \n  private String name\n  private integer age;\n  private Address address;\n  // More variables\n  // Getter and setters\n}\n</code></pre>\n<p>The <code>Exporter</code> function</p>\n<pre class=\"lang-java prettyprint-override\"><code>imaginay_Array = {\n                   {Person::name, convert_name()},\n                   {Person::age, convert_age()},\n                   {Person::address, convert_address()}\n                 };\n\n\npublic static void export(List&lt;Person&gt; persons) {\n  /// Write headers of table\n  /// ...\n  ///\n\n\n  for (Person person : persons) {\n    for (XXX variable : imaginay_Array) {\n      writeCell(person.variable())\n    }\n  }\n}\n</code></pre>\n<p>In the end I expect something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Age</th>\n<th>Address</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>John</td>\n<td>45</td>\n<td>813 Howard Street Oswego NY 13126</td>\n</tr>\n<tr>\n<td>Marc</td>\n<td>27</td>\n<td>123 Hogwarts</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And if I later need more fields exported then I can just add them to the array.</p>\n<p>Coming from a C++ background I imagine something like a function pointer which I can store in the array.</p>\n"},{"tags":["java","process","inputstream","outputstream"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697819322,"post_id":77331038,"comment_id":136331940,"body_markdown":"You should change while(p.isAlive()); to `while (p.isAlive()) { Thread.onSpinWait(); }`.  [Thread.onSpinWait](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#onSpinWait()) exists for exactly this purpose.","body":"You should change while(p.isAlive()); to <code>while (p.isAlive()) { Thread.onSpinWait(); }</code>.  <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#onSpinWait()\" rel=\"nofollow noreferrer\">Thread.onSpinWait</a> exists for exactly this purpose."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1697819833,"post_id":77331038,"comment_id":136332016,"body_markdown":"The delete works every time for me. Which JDK have you tested with?","body":"The delete works every time for me. Which JDK have you tested with?"},{"owner":{"account_id":19931278,"reputation":129,"user_id":15095576,"display_name":"user12345"},"score":0,"creation_date":1697849901,"post_id":77331038,"comment_id":136335477,"body_markdown":"@DuncG, running `11.0.19+9`on Windows","body":"@DuncG, running <code>11.0.19+9</code>on Windows"},{"owner":{"account_id":19931278,"reputation":129,"user_id":15095576,"display_name":"user12345"},"score":0,"creation_date":1697851154,"post_id":77331038,"comment_id":136335531,"body_markdown":"@Computable I noticed that the delete consistently succeeds even if I have a simple for loop. Like so\n`for(int i = 0; i &lt; 1000000; i++);Files.delete(stdout);`","body":"@Computable I noticed that the delete consistently succeeds even if I have a simple for loop. Like so <code>for(int i = 0; i &lt; 1000000; i++);Files.delete(stdout);</code>"}],"owner":{"account_id":19931278,"reputation":129,"user_id":15095576,"display_name":"user12345"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697805985,"creation_date":1697805985,"question_id":77331038,"body_markdown":"On Windows, I am creating subprocess via `java.lang.ProcessBuilder`. On trying to cleanup the process and its standard output log file if my caller function is interrupted, I get error &quot;The process cannot access the file because it is being used by another process&quot;. I am ensuring that I destroy the subprocess first and then delete the logfile.\r\n\r\nQuestion - Are there any best practices when cleaning up processes and log files that are platform agnostic?\r\n\r\nHere is a reproducible example for Windows.\r\n\r\n\r\nBelow snippet is creating a subprocess.\r\n```java\r\npublic class UndeletableFileExample {\r\n    public static void func() throws IOException {\r\n        ProcessBuilder pb = null;\r\n        Path stdout = null;\r\n        Process p = null;\r\n        long bufferTimeSecs = 30L;\r\n        try {\r\n            stdout = Files.createTempFile(&quot;example&quot;, &quot;.log&quot;);\r\n            pb = new ProcessBuilder(&quot;loop.cmd&quot;);\r\n            pb.redirectErrorStream(true);\r\n            pb.redirectOutput(stdout.toFile());\r\n            p = pb.start();\r\n            p.waitFor(bufferTimeSecs, TimeUnit.SECONDS);\r\n            p.destroy();\r\n            p.waitFor(bufferTimeSecs, TimeUnit.SECONDS);\r\n            p.destroyForcibly();\r\n            String out = Files.readString(stdout);\r\n            int exitcode = p.exitValue();\r\n            if(exitcode != 0) {\r\n                throw new RuntimeException(&quot;Exited with code &quot; + exitcode);\r\n            }\r\n            System.out.println(out);\r\n        }\r\n        catch(InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n            throw new RuntimeException(&quot;interrupted!&quot;);\r\n        }\r\n        finally {\r\n            if(p != null) {\r\n                p = p.destroyForcibly();\r\n                while(p.isAlive()); // Is this while loop a potential problem?\r\n                System.out.println(p.exitValue());\r\n            }\r\n            if(stdout != null) {\r\n                Files.delete(stdout);\r\n            }\r\n        }\r\n    }\r\n}\r\n```  \r\n\r\nBelow snippet is for the for-loop file &quot;loop.cmd&quot;. It will print numbers from 1 till 1e5. This takes a good 20-30 seconds on my machine.\r\n```cmd\r\nFOR /L %%i IN (1,1,100000) DO echo %%i\r\n```\r\n\r\nBelow snippet is for the main program that does the simulation.\r\n```java\r\npublic class Demo {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Thread t = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    UndeletableFileExample.func();\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        };\r\n        t.start();\r\n        Thread.sleep(2000L);\r\n        t.interrupt();\r\n        t.join();\r\n    }\r\n}\r\n```\r\n\r\nI also have access to a MacOS machine. I didn&#39;t encounter any problem there in cleaning up the process and the logfile on a thread interrupt.\r\n\r\nThe loop example for MacOS changes to - \r\n```bash\r\nfor i in `seq 1 1000000`; do echo $i; done\r\n```\r\n\r\nThe exact error on Windows is as follows - \r\n```text\r\nException in thread &quot;Thread-0&quot; java.lang.RuntimeException: java.nio.file.FileSystemException: &lt;...&gt;\\example1234.log: The process cannot access the file because it is being used by another process. \r\n```\r\n","title":"Java - Unable to delete temporary output file for Process on Windows","body":"<p>On Windows, I am creating subprocess via <code>java.lang.ProcessBuilder</code>. On trying to cleanup the process and its standard output log file if my caller function is interrupted, I get error &quot;The process cannot access the file because it is being used by another process&quot;. I am ensuring that I destroy the subprocess first and then delete the logfile.</p>\n<p>Question - Are there any best practices when cleaning up processes and log files that are platform agnostic?</p>\n<p>Here is a reproducible example for Windows.</p>\n<p>Below snippet is creating a subprocess.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UndeletableFileExample {\n    public static void func() throws IOException {\n        ProcessBuilder pb = null;\n        Path stdout = null;\n        Process p = null;\n        long bufferTimeSecs = 30L;\n        try {\n            stdout = Files.createTempFile(&quot;example&quot;, &quot;.log&quot;);\n            pb = new ProcessBuilder(&quot;loop.cmd&quot;);\n            pb.redirectErrorStream(true);\n            pb.redirectOutput(stdout.toFile());\n            p = pb.start();\n            p.waitFor(bufferTimeSecs, TimeUnit.SECONDS);\n            p.destroy();\n            p.waitFor(bufferTimeSecs, TimeUnit.SECONDS);\n            p.destroyForcibly();\n            String out = Files.readString(stdout);\n            int exitcode = p.exitValue();\n            if(exitcode != 0) {\n                throw new RuntimeException(&quot;Exited with code &quot; + exitcode);\n            }\n            System.out.println(out);\n        }\n        catch(InterruptedException e) {\n            Thread.currentThread().interrupt();\n            throw new RuntimeException(&quot;interrupted!&quot;);\n        }\n        finally {\n            if(p != null) {\n                p = p.destroyForcibly();\n                while(p.isAlive()); // Is this while loop a potential problem?\n                System.out.println(p.exitValue());\n            }\n            if(stdout != null) {\n                Files.delete(stdout);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Below snippet is for the for-loop file &quot;loop.cmd&quot;. It will print numbers from 1 till 1e5. This takes a good 20-30 seconds on my machine.</p>\n<pre><code>FOR /L %%i IN (1,1,100000) DO echo %%i\n</code></pre>\n<p>Below snippet is for the main program that does the simulation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Demo {\n    public static void main(String[] args) throws InterruptedException {\n        Thread t = new Thread() {\n            @Override\n            public void run() {\n                try {\n                    UndeletableFileExample.func();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        };\n        t.start();\n        Thread.sleep(2000L);\n        t.interrupt();\n        t.join();\n    }\n}\n</code></pre>\n<p>I also have access to a MacOS machine. I didn't encounter any problem there in cleaning up the process and the logfile on a thread interrupt.</p>\n<p>The loop example for MacOS changes to -</p>\n<pre class=\"lang-bash prettyprint-override\"><code>for i in `seq 1 1000000`; do echo $i; done\n</code></pre>\n<p>The exact error on Windows is as follows -</p>\n<pre><code>Exception in thread &quot;Thread-0&quot; java.lang.RuntimeException: java.nio.file.FileSystemException: &lt;...&gt;\\example1234.log: The process cannot access the file because it is being used by another process. \n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","criteria","mongotemplate"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1589027368,"post_id":61695664,"comment_id":109131216,"body_markdown":"To run an Aggregation query as you are trying in `db.employee.aggregate([{$match:{&quot;code&quot; : &quot;DEVELOPER&quot;}}, ...`, you have to use the `MongoTemplate.aggregate` method (not the `find` method).","body":"To run an Aggregation query as you are trying in <code>db.employee.aggregate([{$match:{&quot;code&quot; : &quot;DEVELOPER&quot;}}, ...</code>, you have to use the <code>MongoTemplate.aggregate</code> method (not the <code>find</code> method)."},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1589028654,"post_id":61695664,"comment_id":109131687,"body_markdown":"@prasad_ But there is no problem using find query which one OP tried.Have a look","body":"@prasad_ But there is no problem using find query which one OP tried.Have a look"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1589031817,"post_id":61695664,"comment_id":109132933,"body_markdown":"@Eklavya The `find` query wont give the same result as that of the aggregate query.","body":"@Eklavya The <code>find</code> query wont give the same result as that of the aggregate query."},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1589034556,"post_id":61695664,"comment_id":109134093,"body_markdown":"@prasad_ I won&#39;t say about aggregate query I am saying find query is okay .","body":"@prasad_ I won&#39;t say about aggregate query I am saying find query is okay ."},{"owner":{"account_id":12676758,"reputation":94,"user_id":9212165,"accept_rate":20,"display_name":"M N"},"score":0,"creation_date":1589041341,"post_id":61695664,"comment_id":109137222,"body_markdown":"@prasad_ Can you help me to convert that **mongo native query** to **mongotemplate** aggregate query","body":"@prasad_ Can you help me to convert that <b>mongo native query</b> to <b>mongotemplate</b> aggregate query"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1589162215,"post_id":61695664,"comment_id":109174811,"body_markdown":"You can use the answer in this post as an example to use **springdata+mongodb** with **aggregate+project+filter**: [Create filter aggregation in spring](https://stackoverflow.com/questions/46767750/create-filter-aggregation-in-spring) To use **regex** use syntax like this: `Pattern p = Pattern.compile(&quot;ja&quot;, Pattern.CASE_INSENSITIVE); Criteria c = Criteria.where(&quot;someField&quot;).regex(p);`","body":"You can use the answer in this post as an example to use <b>springdata+mongodb</b> with <b>aggregate+project+filter</b>: <a href=\"https://stackoverflow.com/questions/46767750/create-filter-aggregation-in-spring\">Create filter aggregation in spring</a> To use <b>regex</b> use syntax like this: <code>Pattern p = Pattern.compile(&quot;ja&quot;, Pattern.CASE_INSENSITIVE); Criteria c = Criteria.where(&quot;someField&quot;).regex(p);</code>"}],"owner":{"account_id":12676758,"reputation":94,"user_id":9212165,"accept_rate":20,"display_name":"M N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697805238,"creation_date":1589022130,"question_id":61695664,"body_markdown":"I want to create spring boot repository query using mongo db. I have collection name as **qualification**\r\n\r\n```\r\n{\r\n    &quot;code&quot;: &quot;DEVELOPER&quot;,\r\n    &quot;description&quot;: &quot;Software Developer&quot;,\r\n    &quot;status&quot;: &quot;ACTIVE&quot;,\r\n    &quot;listItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;JAVA&quot;,\r\n            &quot;item&quot;: &quot;Java&quot;\r\n        },\r\n        {\r\n            &quot;itemId&quot;: &quot;PYTHON&quot;,\r\n            &quot;item&quot;: &quot;Python&quot;\r\n        },\r\n        {\r\n            &quot;itemId&quot;: &quot;PHP&quot;,\r\n            &quot;item&quot;: &quot;Php&quot;\r\n        },\r\n        {\r\n            &quot;itemId&quot;: &quot;JAVASCRIPT&quot;,\r\n            &quot;item&quot;: &quot;Javascript&quot;\r\n        }\r\n    ],\r\n    &quot;returncode&quot;: &quot;00000&quot;,\r\n    &quot;message&quot;: &quot;Data Available&quot;\r\n}\r\n```\r\nI tried the below query to get whatever matches this pattern *ja*,\r\n\r\n```\r\ndb.employee.aggregate([{$match:{&quot;code&quot; : &quot;DEVELOPER&quot;}},\r\n{$project : {listItems:{$filter:{\r\n    input: &quot;$listItems&quot;,\r\n               as: &quot;listItems&quot;,\r\n               cond: { $regexMatch:{\r\n                        input:&quot;$$listItems.item&quot;,\r\n                        regex: /ja/i}  }\r\n}}}}])\r\n```\r\n\r\nand i got exact answer as,\r\n```\r\n{\r\n    &quot;code&quot;: &quot;DEVELOPER&quot;,\r\n    &quot;description&quot;: &quot;Software Developer&quot;,\r\n    &quot;status&quot;: &quot;ACTIVE&quot;,\r\n    &quot;listItems&quot;: [\r\n        {\r\n            &quot;itemId&quot;: &quot;JAVA&quot;,\r\n            &quot;item&quot;: &quot;Java&quot;\r\n        },\r\n        {\r\n            &quot;itemId&quot;: &quot;JAVASCRIPT&quot;,\r\n            &quot;item&quot;: &quot;Javascript&quot;\r\n        }\r\n    ],\r\n    &quot;returncode&quot;: &quot;00000&quot;,\r\n    &quot;message&quot;: &quot;Data Available&quot;\r\n}\r\n```\r\nBut when i tried in java using mongotemplate and got NULL pointer exception and didn&#39;t get any output\r\n\r\n```\r\npublic List&lt;ListValue&gt; findAllByCode(String code,String item) {\r\n\t\t   Query query = new Query();\r\n\t\t   query.addCriteria(Criteria.where(&quot;code&quot;).is(code).and(&quot;listItems.item&quot;).regex(&quot;^&quot; + item + &quot;$&quot;, &quot;i&quot;));\r\n\t\t  \r\n\t\t   return mongoTemplate.find(query, ListValue.class);\r\n\t\t}\r\n```\r\n","title":"How to Create an Aggregation Query Using Spring Boot Repository in MongoDB?","body":"<p>I want to create spring boot repository query using mongo db. I have collection name as <strong>qualification</strong></p>\n\n<pre><code>{\n    \"code\": \"DEVELOPER\",\n    \"description\": \"Software Developer\",\n    \"status\": \"ACTIVE\",\n    \"listItems\": [\n        {\n            \"itemId\": \"JAVA\",\n            \"item\": \"Java\"\n        },\n        {\n            \"itemId\": \"PYTHON\",\n            \"item\": \"Python\"\n        },\n        {\n            \"itemId\": \"PHP\",\n            \"item\": \"Php\"\n        },\n        {\n            \"itemId\": \"JAVASCRIPT\",\n            \"item\": \"Javascript\"\n        }\n    ],\n    \"returncode\": \"00000\",\n    \"message\": \"Data Available\"\n}\n</code></pre>\n\n<p>I tried the below query to get whatever matches this pattern <em>ja</em>,</p>\n\n<pre><code>db.employee.aggregate([{$match:{\"code\" : \"DEVELOPER\"}},\n{$project : {listItems:{$filter:{\n    input: \"$listItems\",\n               as: \"listItems\",\n               cond: { $regexMatch:{\n                        input:\"$$listItems.item\",\n                        regex: /ja/i}  }\n}}}}])\n</code></pre>\n\n<p>and i got exact answer as,</p>\n\n<pre><code>{\n    \"code\": \"DEVELOPER\",\n    \"description\": \"Software Developer\",\n    \"status\": \"ACTIVE\",\n    \"listItems\": [\n        {\n            \"itemId\": \"JAVA\",\n            \"item\": \"Java\"\n        },\n        {\n            \"itemId\": \"JAVASCRIPT\",\n            \"item\": \"Javascript\"\n        }\n    ],\n    \"returncode\": \"00000\",\n    \"message\": \"Data Available\"\n}\n</code></pre>\n\n<p>But when i tried in java using mongotemplate and got NULL pointer exception and didn't get any output</p>\n\n<pre><code>public List&lt;ListValue&gt; findAllByCode(String code,String item) {\n           Query query = new Query();\n           query.addCriteria(Criteria.where(\"code\").is(code).and(\"listItems.item\").regex(\"^\" + item + \"$\", \"i\"));\n\n           return mongoTemplate.find(query, ListValue.class);\n        }\n</code></pre>\n"},{"tags":["java","spring","jhipster","jhipster-gateway"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1697881305,"post_id":77330911,"comment_id":136337203,"body_markdown":"You should post an issue on github. Probably a bug about websockets, have you tried removing websocket from your JDL?","body":"You should post an issue on github. Probably a bug about websockets, have you tried removing websocket from your JDL?"},{"owner":{"account_id":1754832,"reputation":687,"user_id":1603120,"accept_rate":83,"display_name":"Vicky"},"score":0,"creation_date":1698298666,"post_id":77330911,"comment_id":136387924,"body_markdown":"Not sure if its a bug or my understanding problem. I removed web socket from the jdl and now I get different problem in gateway application build. reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name TokenRelay\nCaused by: java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name TokenRelay","body":"Not sure if its a bug or my understanding problem. I removed web socket from the jdl and now I get different problem in gateway application build. reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name TokenRelay Caused by: java.lang.IllegalArgumentException: Unable to find GatewayFilterFactory with name TokenRelay"}],"owner":{"account_id":1754832,"reputation":687,"user_id":1603120,"accept_rate":83,"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697804807,"creation_date":1697804807,"question_id":77330911,"body_markdown":"I am getting following error:\r\n\r\n*Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-20T17:33:24.634+05:30 ERROR 28508 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stompWebSocketHandlerMapping&#39; defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method &#39;stompWebSocketHandlerMapping&#39; threw exception with message: jakarta/websocket/Endpoint*\r\n\r\nHere is my jdl for reference:\r\n\r\n        application {\r\n          config {\r\n            enableTranslation true\r\n            applicationType gateway\r\n            serviceDiscoveryType consul\r\n            languages [en, hi, te]\r\n            nativeLanguage en\r\n            packageName in.beze.pc\r\n            testFrameworks [gatling, cucumber, protractor]\r\n            websocket spring-websocket\r\n            baseName pc\r\n            serverPort 8080\r\n            jhiPrefix sys\r\n            prodDatabaseType postgresql\r\n            devDatabaseType postgresql\r\n            databaseType sql\r\n            cacheProvider ehcache\r\n            enableHibernateCache true\r\n            authenticationType session\r\n            buildTool gradle\r\n            clientPackageManager npm\r\n            clientFramework angularX\r\n          }\r\n          entities *\r\n        }\r\n        \r\n        application {\r\n          config {\r\n            baseName masters\r\n            applicationType microservice\r\n            packageName in.beze.masters\r\n            serviceDiscoveryType consul\r\n            authenticationType session\r\n            prodDatabaseType postgresql\r\n            devDatabaseType postgresql\r\n            databaseType sql\r\n            buildTool gradle\r\n            serverPort 8081\r\n            skipUserManagement true\r\n        \tcacheProvider ehcache\r\n            enableHibernateCache true\r\n        \twebsocket spring-websocket\r\n          }\r\n          entities Attachment, ContentType, Equipment, EquipmentType, FacilityType, FacilityGroupType, FacilityGroup, Facility, FacilityHistory, FacilityUser, FacilityAttachment, FacilityEquipment, FrequencyType, Frequency, Gender, JobSandbox, Language, Party, Permission, PermissionAuthority, ProductStoreType, ProductStore, ProductStoreFacility, ProductStoreUserGroup, Responsibility, RoleType, Scheduler, StatusCategory, Status, StatusValidChange, UserRole, UserGroup, UserGroupAuthority, UserGroupMember, Uom, UomType, UserAttachment, SystemParameters, QRCode, QRCodeType, QRCodeAttachment, Product, ProductType, ProductCategoryType, ProductCategory, ProductCategoryMember, Stage, ProductSpecGroup, ProductSpec, ProductSpecItem, StabilityCondition, StabilityConditionAttachment\r\n        }\r\n    \r\n    application {\r\n      config {\r\n        baseName stability\r\n        applicationType microservice\r\n        packageName in.beze.stability\r\n        serviceDiscoveryType consul\r\n        authenticationType session\r\n        prodDatabaseType postgresql\r\n        devDatabaseType postgresql\r\n        databaseType sql\r\n        buildTool gradle\r\n        serverPort 8082\r\n        skipUserManagement true\r\n    \tcacheProvider ehcache\r\n        enableHibernateCache true\r\n        websocket spring-websocket\r\n      }\r\n      entities StAttachment, StContentType, AnalysisType, SpEquipment, SsEquipment, SpProductSpec, StabilityProgramme, StabilityAttachment, SampleType, StabilitySample, SampleResult, SampleAttachment, SampleResultAttachment, EquipmentSc\r\n    }\r\n\r\nI have tried different java versions and couldn&#39;t get it up and running.\r\n","title":"jHipster Release 8.0.0-rc.1: Unable to run gateway app","body":"<p>I am getting following error:</p>\n<p><em>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-20T17:33:24.634+05:30 ERROR 28508 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stompWebSocketHandlerMapping' defined in class path resource [org/springframework/web/socket/config/annotation/DelegatingWebSocketMessageBrokerConfiguration.class]: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'stompWebSocketHandlerMapping' threw exception with message: jakarta/websocket/Endpoint</em></p>\n<p>Here is my jdl for reference:</p>\n<pre><code>    application {\n      config {\n        enableTranslation true\n        applicationType gateway\n        serviceDiscoveryType consul\n        languages [en, hi, te]\n        nativeLanguage en\n        packageName in.beze.pc\n        testFrameworks [gatling, cucumber, protractor]\n        websocket spring-websocket\n        baseName pc\n        serverPort 8080\n        jhiPrefix sys\n        prodDatabaseType postgresql\n        devDatabaseType postgresql\n        databaseType sql\n        cacheProvider ehcache\n        enableHibernateCache true\n        authenticationType session\n        buildTool gradle\n        clientPackageManager npm\n        clientFramework angularX\n      }\n      entities *\n    }\n    \n    application {\n      config {\n        baseName masters\n        applicationType microservice\n        packageName in.beze.masters\n        serviceDiscoveryType consul\n        authenticationType session\n        prodDatabaseType postgresql\n        devDatabaseType postgresql\n        databaseType sql\n        buildTool gradle\n        serverPort 8081\n        skipUserManagement true\n        cacheProvider ehcache\n        enableHibernateCache true\n        websocket spring-websocket\n      }\n      entities Attachment, ContentType, Equipment, EquipmentType, FacilityType, FacilityGroupType, FacilityGroup, Facility, FacilityHistory, FacilityUser, FacilityAttachment, FacilityEquipment, FrequencyType, Frequency, Gender, JobSandbox, Language, Party, Permission, PermissionAuthority, ProductStoreType, ProductStore, ProductStoreFacility, ProductStoreUserGroup, Responsibility, RoleType, Scheduler, StatusCategory, Status, StatusValidChange, UserRole, UserGroup, UserGroupAuthority, UserGroupMember, Uom, UomType, UserAttachment, SystemParameters, QRCode, QRCodeType, QRCodeAttachment, Product, ProductType, ProductCategoryType, ProductCategory, ProductCategoryMember, Stage, ProductSpecGroup, ProductSpec, ProductSpecItem, StabilityCondition, StabilityConditionAttachment\n    }\n\napplication {\n  config {\n    baseName stability\n    applicationType microservice\n    packageName in.beze.stability\n    serviceDiscoveryType consul\n    authenticationType session\n    prodDatabaseType postgresql\n    devDatabaseType postgresql\n    databaseType sql\n    buildTool gradle\n    serverPort 8082\n    skipUserManagement true\n    cacheProvider ehcache\n    enableHibernateCache true\n    websocket spring-websocket\n  }\n  entities StAttachment, StContentType, AnalysisType, SpEquipment, SsEquipment, SpProductSpec, StabilityProgramme, StabilityAttachment, SampleType, StabilitySample, SampleResult, SampleAttachment, SampleResultAttachment, EquipmentSc\n}\n</code></pre>\n<p>I have tried different java versions and couldn't get it up and running.</p>\n"},{"tags":["java","watchservice"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697347136,"post_id":77295287,"comment_id":136267120,"body_markdown":"Are you reading the file _immediately_ after receiving a create event? If you are, what happens if you add a delay before reading the file (possibly where the delay restarts if you receive a modify event before the delay elapsed, assuming you register for `ENTRY_MODIFY` as well).","body":"Are you reading the file <i>immediately</i> after receiving a create event? If you are, what happens if you add a delay before reading the file (possibly where the delay restarts if you receive a modify event before the delay elapsed, assuming you register for <code>ENTRY_MODIFY</code> as well)."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1697347807,"post_id":77295287,"comment_id":136267156,"body_markdown":"Yes, a CSV file is processed once it is detected in the directory. There isn&#39;t ENTRY_MODIFY in the code. So, what you said is that CSVParser may not get any data from the file right after it is created,","body":"Yes, a CSV file is processed once it is detected in the directory. There isn&#39;t ENTRY_MODIFY in the code. So, what you said is that CSVParser may not get any data from the file right after it is created,"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697348049,"post_id":77295287,"comment_id":136267166,"body_markdown":"Yes, I&#39;m suggesting that you are reading the file before anything has actually been written to it. Or at least before the written data becomes visible to other applications. And that&#39;s why I asked if your code works if you add a delay. Also, I know there&#39;s no `ENTRY_MODIFY` in your code; didn&#39;t say there was. I was suggesting that you may want to register for those events as well, so that you can restart the delay when you receive a modify event. But only if that&#39;s important to your use case.","body":"Yes, I&#39;m suggesting that you are reading the file before anything has actually been written to it. Or at least before the written data becomes visible to other applications. And that&#39;s why I asked if your code works if you add a delay. Also, I know there&#39;s no <code>ENTRY_MODIFY</code> in your code; didn&#39;t say there was. I was suggesting that you may want to register for those events as well, so that you can restart the delay when you receive a modify event. But only if that&#39;s important to your use case."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1697349492,"post_id":77295287,"comment_id":136267232,"body_markdown":"Not sure I follow. The code reads and parses the data in a CSV file. It is straightforward. If I pause the code after creating a CSVParser, the whole procedure will be paused, I guess. If ENTRY_MODIFY means to detect the same file in the directory for a second time, the event isn&#39;t in the use case. One CSV file only can be dropped in the directory once. I hope I understand your suggestion correctly.","body":"Not sure I follow. The code reads and parses the data in a CSV file. It is straightforward. If I pause the code after creating a CSVParser, the whole procedure will be paused, I guess. If ENTRY_MODIFY means to detect the same file in the directory for a second time, the event isn&#39;t in the use case. One CSV file only can be dropped in the directory once. I hope I understand your suggestion correctly."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1697349595,"post_id":77295287,"comment_id":136267237,"body_markdown":"Also, I need to mention that I only observed the issue with one CSV file, but not the other file of two files for the test.","body":"Also, I need to mention that I only observed the issue with one CSV file, but not the other file of two files for the test."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697349646,"post_id":77295287,"comment_id":136267238,"body_markdown":"You receive an `ENTRY_CREATE` event and then immediately open the file for reading. I&#39;m suggesting that you aren&#39;t giving enough time for whatever application created the file to actually write any data to said file. If you are _moving_ an existing file, then what I&#39;m suggesting may not apply to your situation, but only if the move is atomic.","body":"You receive an <code>ENTRY_CREATE</code> event and then immediately open the file for reading. I&#39;m suggesting that you aren&#39;t giving enough time for whatever application created the file to actually write any data to said file. If you are <i>moving</i> an existing file, then what I&#39;m suggesting may not apply to your situation, but only if the move is atomic."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697351280,"post_id":77295287,"comment_id":136267325,"body_markdown":"Note that my comments are only a hypothesis regarding what may be going wrong with your code. It&#39;s possible you are running into a different issue. Or maybe you&#39;re running into the timing issue I&#39;ve described in addition to another issue.","body":"Note that my comments are only a hypothesis regarding what may be going wrong with your code. It&#39;s possible you are running into a different issue. Or maybe you&#39;re running into the timing issue I&#39;ve described in addition to another issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1697353533,"post_id":77295287,"comment_id":136267447,"body_markdown":"*if (csvParser.iterator().hasNext())* surely should be `while` ..?","body":"<i>if (csvParser.iterator().hasNext())</i> surely should be <code>while</code> ..?"},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1697383688,"post_id":77295287,"comment_id":136270337,"body_markdown":"@g00se the condition was added to prevent an exception we are discussing.","body":"@g00se the condition was added to prevent an exception we are discussing."},{"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"score":0,"creation_date":1697384059,"post_id":77295287,"comment_id":136270384,"body_markdown":"@Slaw I forgot to provide a detail on the test I mentioned.  I placed the CSV file in the directory. After the code didn&#39;t work as expected, I removed the file. The same for the second time. Without this detail, you likely think the ENTRY_MODIFY event should be created.","body":"@Slaw I forgot to provide a detail on the test I mentioned.  I placed the CSV file in the directory. After the code didn&#39;t work as expected, I removed the file. The same for the second time. Without this detail, you likely think the ENTRY_MODIFY event should be created."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697408356,"post_id":77295287,"comment_id":136272743,"body_markdown":"I think you are focusing too much on my mention of `ENTRY_MODIFY`, which was essentially a side point. The important part is that you delay before reading the file.","body":"I think you are focusing too much on my mention of <code>ENTRY_MODIFY</code>, which was essentially a side point. The important part is that you delay before reading the file."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697804790,"creation_date":1697804790,"answer_id":77330907,"question_id":77295287,"body_markdown":"It is unwise to handle watch service events immediately especially as the `WatchService` would normally provide DELETE+CREATE+N x MODIFY events for same file operation. As you are ignoring MODIFY you won&#39;t know when it is safe(ish) to access your CSV.\r\n\r\nYou will be better off collating events and handling in separate process queue once the watch service is quiet, and use combination of poll+take. Have a look at this [answer][1] which should provide a better trigger point for you to begin operations on the CSV. In the example `setListener` just prints the activity, replace with your own handler for CSV.\r\n\r\n  [1]: https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819","title":"CSV File Parsing Issue - csvParser.iterator().next()","body":"<p>It is unwise to handle watch service events immediately especially as the <code>WatchService</code> would normally provide DELETE+CREATE+N x MODIFY events for same file operation. As you are ignoring MODIFY you won't know when it is safe(ish) to access your CSV.</p>\n<p>You will be better off collating events and handling in separate process queue once the watch service is quiet, and use combination of poll+take. Have a look at this <a href=\"https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819\">answer</a> which should provide a better trigger point for you to begin operations on the CSV. In the example <code>setListener</code> just prints the activity, replace with your own handler for CSV.</p>\n"}],"owner":{"account_id":543582,"reputation":2626,"user_id":912772,"accept_rate":32,"display_name":"vic"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697804790,"creation_date":1697343698,"question_id":77295287,"body_markdown":"Here is the Java code for reading and parsing a CSV file.\r\n```\r\nString filePath = dir.resolve(filename).toString();\r\ntry (FileReader fileReader = new FileReader(filePath);\r\n     CSVParser csvParser = new CSVParser(fileReader, CSVFormat.DEFAULT\r\n         .withHeader(...))) {\r\n\r\n    // Check if there is a next element before calling next()\r\n    if (csvParser.iterator().hasNext()) {\r\n        csvParser.iterator().next();\r\n        \r\n        for (CSVRecord record : csvParser) {\r\n        ...\r\n        }\r\n        ...\r\n    } else {\r\n        // Handle the case where there are no more CSV records available\r\n        log.warn(&quot;No more CSV records available&quot;);\r\n    }\r\n}\r\n```\r\nThe above code will have different outcomes for the same CSV file. That is the condition (csvParser.iterator().hasNext() will return different values between true and false. I just did a test for the same CSV file and the first two times it goes to the line _&quot;No more CSV records available&quot; (I removed the file when this case occurred) and the data in the CSV file is loaded on the third attempt. To my eyes, I can&#39;t find any issues in the CSV file.\r\n\r\nI&#39;ve ruled out issues related to file content, format, and headers, there could be other factors contributing to this inconsistency. The additional points I can&#39;t consider to be the cause:\r\n\r\nResource Handling: Ensure that the csvParser and fileReader are properly managed and not subject to unexpected closures or resource issues. Double-check for any resource-related exceptions that might affect the behavior of the CSVParser.\r\n\r\nConcurrency: If multiple threads or processes are accessing the same file concurrently, it can lead to unpredictable results. Ensure that you have proper synchronization in place to avoid concurrent access issues.\r\n\r\nLibrary Version: Check if you are using an older or less stable version of the CSV parsing library. Updating to a more recent version or switching to a different library might help resolve the issue if it&#39;s a library-specific bug.\r\n\r\nJVM or Environment Issues: In rare cases, JVM or environment-specific issues could lead to inconsistent behavior. Make sure your JVM and environment are up to date and correctly configured.\r\n\r\nExternal Factors: Consider other factors that might be affecting the behavior, such as system load, file system issues, or other external factors that can impact file access and I/O operations.\r\n\r\nI don&#39;t know whether this issue relates to how the file is read or not. I use the WatchService to get a CSV file\r\n```java\r\ntry {\r\n    String path = System.getProperty(&quot;user.home&quot;) + &quot;/my_file&quot;;\r\n    Path dir = Paths.get(path);\r\n    WatchService watcher = FileSystems.getDefault().newWatchService();\r\n    dir.register(watcher, StandardWatchEventKinds.ENTRY_CREATE);\r\n    log.warn(&quot;Monitoring directory: &quot; + dir);\r\n\r\n    while (true) {\r\n        WatchKey key = watcher.take();\r\n        boolean oneLoop = processWatchKeyEvents(key, dir);\r\n        boolean valid = key.reset();\r\n        if (!valid) {\r\n            break;\r\n        }\r\n        if (oneLoop) {\r\n            break;\r\n        }\r\n    }\r\n} catch (IOException | InterruptedException e) {\r\n    log.error(&quot;Error in monitoring directory: &quot; + e.getMessage());\r\n}\r\n```\r\nWhat is a possible cause of this issue?","title":"CSV File Parsing Issue - csvParser.iterator().next()","body":"<p>Here is the Java code for reading and parsing a CSV file.</p>\n<pre><code>String filePath = dir.resolve(filename).toString();\ntry (FileReader fileReader = new FileReader(filePath);\n     CSVParser csvParser = new CSVParser(fileReader, CSVFormat.DEFAULT\n         .withHeader(...))) {\n\n    // Check if there is a next element before calling next()\n    if (csvParser.iterator().hasNext()) {\n        csvParser.iterator().next();\n        \n        for (CSVRecord record : csvParser) {\n        ...\n        }\n        ...\n    } else {\n        // Handle the case where there are no more CSV records available\n        log.warn(&quot;No more CSV records available&quot;);\n    }\n}\n</code></pre>\n<p>The above code will have different outcomes for the same CSV file. That is the condition (csvParser.iterator().hasNext() will return different values between true and false. I just did a test for the same CSV file and the first two times it goes to the line _&quot;No more CSV records available&quot; (I removed the file when this case occurred) and the data in the CSV file is loaded on the third attempt. To my eyes, I can't find any issues in the CSV file.</p>\n<p>I've ruled out issues related to file content, format, and headers, there could be other factors contributing to this inconsistency. The additional points I can't consider to be the cause:</p>\n<p>Resource Handling: Ensure that the csvParser and fileReader are properly managed and not subject to unexpected closures or resource issues. Double-check for any resource-related exceptions that might affect the behavior of the CSVParser.</p>\n<p>Concurrency: If multiple threads or processes are accessing the same file concurrently, it can lead to unpredictable results. Ensure that you have proper synchronization in place to avoid concurrent access issues.</p>\n<p>Library Version: Check if you are using an older or less stable version of the CSV parsing library. Updating to a more recent version or switching to a different library might help resolve the issue if it's a library-specific bug.</p>\n<p>JVM or Environment Issues: In rare cases, JVM or environment-specific issues could lead to inconsistent behavior. Make sure your JVM and environment are up to date and correctly configured.</p>\n<p>External Factors: Consider other factors that might be affecting the behavior, such as system load, file system issues, or other external factors that can impact file access and I/O operations.</p>\n<p>I don't know whether this issue relates to how the file is read or not. I use the WatchService to get a CSV file</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String path = System.getProperty(&quot;user.home&quot;) + &quot;/my_file&quot;;\n    Path dir = Paths.get(path);\n    WatchService watcher = FileSystems.getDefault().newWatchService();\n    dir.register(watcher, StandardWatchEventKinds.ENTRY_CREATE);\n    log.warn(&quot;Monitoring directory: &quot; + dir);\n\n    while (true) {\n        WatchKey key = watcher.take();\n        boolean oneLoop = processWatchKeyEvents(key, dir);\n        boolean valid = key.reset();\n        if (!valid) {\n            break;\n        }\n        if (oneLoop) {\n            break;\n        }\n    }\n} catch (IOException | InterruptedException e) {\n    log.error(&quot;Error in monitoring directory: &quot; + e.getMessage());\n}\n</code></pre>\n<p>What is a possible cause of this issue?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":4687309,"reputation":1639,"user_id":5058677,"accept_rate":50,"display_name":"Rumid"},"score":0,"creation_date":1573823324,"post_id":58877639,"comment_id":104022791,"body_markdown":"Probably you need to customize your IDE. https://projectlombok.org/setup/intellij","body":"Probably you need to customize your IDE. <a href=\"https://projectlombok.org/setup/intellij\" rel=\"nofollow noreferrer\">projectlombok.org/setup/intellij</a>"}],"answers":[{"comments":[{"owner":{"account_id":12978690,"reputation":4741,"user_id":9381897,"display_name":"leopal"},"score":0,"creation_date":1573823820,"post_id":58877824,"comment_id":104023048,"body_markdown":"From [docs](https://projectlombok.org/features/With) : Wither was renamed to With, and moved out of experimental and into the core package, in lombok v1.18.10. But he is using 1.18.8, so I don&#39;t think your answer resolves the issue.","body":"From <a href=\"https://projectlombok.org/features/With\" rel=\"nofollow noreferrer\">docs</a> : Wither was renamed to With, and moved out of experimental and into the core package, in lombok v1.18.10. But he is using 1.18.8, so I don&#39;t think your answer resolves the issue."},{"owner":{"account_id":16021607,"reputation":464,"user_id":11562992,"display_name":"Youssef Tounoussi"},"score":0,"creation_date":1573823897,"post_id":58877824,"comment_id":104023081,"body_markdown":"I think he&#39;s just missing the installation of the Lombok on intellij","body":"I think he&#39;s just missing the installation of the Lombok on intellij"},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1573824132,"post_id":58877824,"comment_id":104023191,"body_markdown":"No. Other Lombok annotations works. Setter, Getter for example","body":"No. Other Lombok annotations works. Setter, Getter for example"},{"owner":{"account_id":16021607,"reputation":464,"user_id":11562992,"display_name":"Youssef Tounoussi"},"score":0,"creation_date":1573824581,"post_id":58877824,"comment_id":104023430,"body_markdown":"Are you using Maven ?","body":"Are you using Maven ?"},{"owner":{"account_id":12978690,"reputation":4741,"user_id":9381897,"display_name":"leopal"},"score":0,"creation_date":1573824606,"post_id":58877824,"comment_id":104023442,"body_markdown":"@YoussefTounoussi no gradle.","body":"@YoussefTounoussi no gradle."},{"owner":{"account_id":16021607,"reputation":464,"user_id":11562992,"display_name":"Youssef Tounoussi"},"score":0,"creation_date":1573824705,"post_id":58877824,"comment_id":104023484,"body_markdown":"I don&#39;t know how to configure the gradle for lombok annotation processing, but it seems that @Mark Bramnik is all rights","body":"I don&#39;t know how to configure the gradle for lombok annotation processing, but it seems that @Mark Bramnik is all rights"}],"tags":[],"owner":{"account_id":16021607,"reputation":464,"user_id":11562992,"display_name":"Youssef Tounoussi"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573824827,"creation_date":1573823610,"answer_id":58877824,"question_id":58877639,"body_markdown":"I think you are just missing the installation of the `Lombok` on `intellij`\r\ndouble click on `Lombok.jar` and chose the `intelliJ IDE`\r\n\r\nExample config for lombok annotation procession in your `build.gradle` :\r\n\r\n    dependencies {\r\n        compileOnly(&#39;org.projectlombok:lombok:1.16.20&#39;)\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.16.20&#39;\r\n        // compile &#39;org.projectlombok:lombok:1.16.20&#39; &lt;-- this no longer works!\r\n        // other dependencies...\r\n    }\r\n\r\n&gt; @Wither is deprecated since 10.X.X. With has been promoted to the main\r\n&gt; package, so use that one instead.\r\n\r\nPlease look at this [Lombok Wither][1]\r\n\r\n\r\nthat&#39;s why you are not having the withA() function, if you downgrade your package you could use it sure\r\n\r\n\r\n  [1]: https://projectlombok.org/api/lombok/experimental/Wither.html","title":"Why Lombok does not compile when @Wither is used?","body":"<p>I think you are just missing the installation of the <code>Lombok</code> on <code>intellij</code>\ndouble click on <code>Lombok.jar</code> and chose the <code>intelliJ IDE</code></p>\n\n<p>Example config for lombok annotation procession in your <code>build.gradle</code> :</p>\n\n<pre><code>dependencies {\n    compileOnly('org.projectlombok:lombok:1.16.20')\n    annotationProcessor 'org.projectlombok:lombok:1.16.20'\n    // compile 'org.projectlombok:lombok:1.16.20' &lt;-- this no longer works!\n    // other dependencies...\n}\n</code></pre>\n\n<blockquote>\n  <p>@Wither is deprecated since 10.X.X. With has been promoted to the main\n  package, so use that one instead.</p>\n</blockquote>\n\n<p>Please look at this <a href=\"https://projectlombok.org/api/lombok/experimental/Wither.html\" rel=\"nofollow noreferrer\">Lombok Wither</a></p>\n\n<p>that's why you are not having the withA() function, if you downgrade your package you could use it sure</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573823990,"creation_date":1573823990,"answer_id":58877918,"question_id":58877639,"body_markdown":"Line `compileOnly &#39;org.projectlombok:lombok:1.18.8&#39;` shows that you&#39;re using gradle.\r\n\r\nI think the easiest way to check whether it works or not can be just running the gradle build (without IDE). \r\nSince lombok is an annotation processor, as long as the code passes the compilation, it&#39;s supposed to work (and the chances are that it really works based on that line).\r\n\r\nSo you should check how does the IDE (you haven&#39;t specified which IDE it is actually) integrate with lombok. Maybe you need to enable &quot;annotation processing&quot; if you compile it with java compiler (like in intelliJ) and configure lombok. You an also install Lombok plugin for your IDE. \r\n\r\nAnother useful hint is to use delombok and see whether the lombok has actually generated something or not\r\n","title":"Why Lombok does not compile when @Wither is used?","body":"<p>Line <code>compileOnly 'org.projectlombok:lombok:1.18.8'</code> shows that you're using gradle.</p>\n\n<p>I think the easiest way to check whether it works or not can be just running the gradle build (without IDE). \nSince lombok is an annotation processor, as long as the code passes the compilation, it's supposed to work (and the chances are that it really works based on that line).</p>\n\n<p>So you should check how does the IDE (you haven't specified which IDE it is actually) integrate with lombok. Maybe you need to enable \"annotation processing\" if you compile it with java compiler (like in intelliJ) and configure lombok. You an also install Lombok plugin for your IDE. </p>\n\n<p>Another useful hint is to use delombok and see whether the lombok has actually generated something or not</p>\n"},{"comments":[{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":1,"creation_date":1573825967,"post_id":58878301,"comment_id":104024092,"body_markdown":"Yes, it works. But I don&#39;t understand why AllArgsConstructor required. More clearly if it was @Setter","body":"Yes, it works. But I don&#39;t understand why AllArgsConstructor required. More clearly if it was @Setter"},{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":1,"creation_date":1573826338,"post_id":58878301,"comment_id":104024282,"body_markdown":"@ValeriyK. Because `withA()` is NOT a setter. It re-creates a new User, with all values equals to this.","body":"@ValeriyK. Because <code>withA()</code> is NOT a setter. It re-creates a new User, with all values equals to this."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1573826601,"post_id":58878301,"comment_id":104024418,"body_markdown":"I understand. I think it will be better with the setter - public User withA(int a) { this.setA(a); return this; }","body":"I understand. I think it will be better with the setter - public User withA(int a) { this.setA(a); return this; }"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":3,"creation_date":1573869712,"post_id":58878301,"comment_id":104040673,"body_markdown":"@ValeriyK. I believe the theory behind this feature is &quot;*We want an object with this value*&quot;. Yes, modifying the current instance would fulfill that theory, as *any* instance of that type would be a candidate for having the value. However, with a setter, we&#39;re forced to modify an instance that may be in use elsewhere. **Using a setter introduces a side effect** that goes beyond the theory mentioned above, which was probably not wanted when designing the feature.","body":"@ValeriyK. I believe the theory behind this feature is &quot;<i>We want an object with this value</i>&quot;. Yes, modifying the current instance would fulfill that theory, as <i>any</i> instance of that type would be a candidate for having the value. However, with a setter, we&#39;re forced to modify an instance that may be in use elsewhere. <b>Using a setter introduces a side effect</b> that goes beyond the theory mentioned above, which was probably not wanted when designing the feature."},{"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"score":0,"creation_date":1644479632,"post_id":58878301,"comment_id":125619083,"body_markdown":"how did you figure out you needed the no-arg constructor? Brilliant!","body":"how did you figure out you needed the no-arg constructor? Brilliant!"},{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":1,"creation_date":1644496702,"post_id":58878301,"comment_id":125625441,"body_markdown":"@GeoffLangenderfer In Java, when you define no constructor at all, you get by default a free, no-arg constructor. But as soon as you explicitly define a constructor (in this case via the annotation `@AllArgsConstructor`), this default constructor just vanishes. Hence the annotation `@NoArgsConstructor` to get it back and make PO&#39;s code work.","body":"@GeoffLangenderfer In Java, when you define no constructor at all, you get by default a free, no-arg constructor. But as soon as you explicitly define a constructor (in this case via the annotation <code>@AllArgsConstructor</code>), this default constructor just vanishes. Hence the annotation <code>@NoArgsConstructor</code> to get it back and make PO&#39;s code work."}],"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1574066327,"creation_date":1573825368,"answer_id":58878301,"question_id":58877639,"body_markdown":"### Lombok 1.18.8: @Wither ###\r\n\r\nIf you look at the actual implementation of `withA()` you will notice that it relies on an all-args constructors. To make your example work, try to add it, as well as a no-arg constructor:\r\n\r\n    @Wither\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n        private int a;\r\n    }\r\n\r\nThe *delombok*&#39;d version is:\r\n\r\n    public class User {\r\n        private int a;\r\n    \r\n        public User withA(int a) {\r\n            return this.a == a ? this : new User(a);\r\n        }\r\n    \r\n        public User(int a) {\r\n            this.a = a;\r\n        }\r\n    \r\n        public User() {\r\n        }\r\n    }\r\n\r\n\r\n\r\nNote: This has been tested with Lombok 1.18.8, IntelliJ IDEA and Lombok plugin.\r\n\r\n### Lombok 1.18.10: @With ###\r\n\r\n`@With` has been promoted and `@Wither` deprecated:\r\nSimply replace `lombok.experimental.Wither` with `lombok.With`. Everything else is similar to `1.18.8`:\r\n\r\n    @With\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n        private int a;\r\n    }","title":"Why Lombok does not compile when @Wither is used?","body":"<h3>Lombok 1.18.8: @Wither</h3>\n\n<p>If you look at the actual implementation of <code>withA()</code> you will notice that it relies on an all-args constructors. To make your example work, try to add it, as well as a no-arg constructor:</p>\n\n<pre><code>@Wither\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    private int a;\n}\n</code></pre>\n\n<p>The <em>delombok</em>'d version is:</p>\n\n<pre><code>public class User {\n    private int a;\n\n    public User withA(int a) {\n        return this.a == a ? this : new User(a);\n    }\n\n    public User(int a) {\n        this.a = a;\n    }\n\n    public User() {\n    }\n}\n</code></pre>\n\n<p>Note: This has been tested with Lombok 1.18.8, IntelliJ IDEA and Lombok plugin.</p>\n\n<h3>Lombok 1.18.10: @With</h3>\n\n<p><code>@With</code> has been promoted and <code>@Wither</code> deprecated:\nSimply replace <code>lombok.experimental.Wither</code> with <code>lombok.With</code>. Everything else is similar to <code>1.18.8</code>:</p>\n\n<pre><code>@With\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    private int a;\n}\n</code></pre>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58878301,"answer_count":3,"score":0,"last_activity_date":1697804498,"creation_date":1573822909,"question_id":58877639,"body_markdown":"I&#39;m using Lombok 1.18.8:\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.8&#39;\r\n\r\nHere is my simple class with `@Wither`:   \r\n\r\n    @Wither\r\n    public class User {\r\n    \tprivate int a;\r\n    }\r\n\r\nBut `withA()` method doesn&#39;t appear when I&#39;m trying to call it in another class:\r\n\r\n    class test {\r\n        User user = new User().withA(1); // withA is red\r\n    }\r\n\r\nWhat is wrong with my code? \r\n\r\nUPD: Other Lombok annotations work. For example `@Setter`, `@Getter`, and `@NoArgsConstructor`.\r\n\r\n","title":"Why Lombok does not compile when @Wither is used?","body":"<p>I'm using Lombok 1.18.8:</p>\n<pre><code>compileOnly 'org.projectlombok:lombok:1.18.8'\n</code></pre>\n<p>Here is my simple class with <code>@Wither</code>:</p>\n<pre><code>@Wither\npublic class User {\n    private int a;\n}\n</code></pre>\n<p>But <code>withA()</code> method doesn't appear when I'm trying to call it in another class:</p>\n<pre><code>class test {\n    User user = new User().withA(1); // withA is red\n}\n</code></pre>\n<p>What is wrong with my code?</p>\n<p>UPD: Other Lombok annotations work. For example <code>@Setter</code>, <code>@Getter</code>, and <code>@NoArgsConstructor</code>.</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":24442443,"reputation":53,"user_id":18365949,"display_name":"Mihajlo Stankov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697804333,"creation_date":1697804333,"question_id":77330859,"body_markdown":"just one question. Is it possible to use Spring HandlerMethodArgumentResolver for POST requests?\r\nIf it is, please share some examples or links with an explanation.\r\nThanks in advance","title":"Spring HandlerMethodArgumentResolver for the POST requests","body":"<p>just one question. Is it possible to use Spring HandlerMethodArgumentResolver for POST requests?\nIf it is, please share some examples or links with an explanation.\nThanks in advance</p>\n"},{"tags":["java","kotlin","fonts","apache-poi","awt"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1697804127,"post_id":77330759,"comment_id":136329088,"body_markdown":"Potentially unhelpful comment, but if you restrict your fonts to only use Monospaced fonts, you can avoid this problem entirely. All characters in a Monospaced font have the exact same width - by definition. I understand if that is not an option for you though.","body":"Potentially unhelpful comment, but if you restrict your fonts to only use Monospaced fonts, you can avoid this problem entirely. All characters in a Monospaced font have the exact same width - by definition. I understand if that is not an option for you though."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1697804849,"post_id":77330759,"comment_id":136329225,"body_markdown":"Do you have the font referenced in the PPTX file installed on the machine running the program?","body":"Do you have the font referenced in the PPTX file installed on the machine running the program?"},{"owner":{"account_id":18497547,"reputation":35,"user_id":13475627,"display_name":"Poui"},"score":0,"creation_date":1697806667,"post_id":77330759,"comment_id":136329526,"body_markdown":"@davidalayachew Thanks for the idea but I sadly can&#39;t do that, the presentation was made with that font in mind and changing it to anonymize will negatively affect the design in mind","body":"@davidalayachew Thanks for the idea but I sadly can&#39;t do that, the presentation was made with that font in mind and changing it to anonymize will negatively affect the design in mind"},{"owner":{"account_id":18497547,"reputation":35,"user_id":13475627,"display_name":"Poui"},"score":0,"creation_date":1697806672,"post_id":77330759,"comment_id":136329527,"body_markdown":"@Gagravarr I don&#39;t think, the program will be hosted in Railway and some presentations uses paid / custom fonts BUT the fonts should be embedded inside the PPTX File, we always have that option on for all presentations","body":"@Gagravarr I don&#39;t think, the program will be hosted in Railway and some presentations uses paid / custom fonts BUT the fonts should be embedded inside the PPTX File, we always have that option on for all presentations"}],"owner":{"account_id":18497547,"reputation":35,"user_id":13475627,"display_name":"Poui"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697803231,"creation_date":1697803231,"question_id":77330759,"body_markdown":"I made a program that replace all the words in PPTX with latin words that have the same number of letter\r\nThe issue is that words don&#39;t have the same physical size because of the different distribution and size of each characters inside of it.\r\nSo I need a way to know / estimate the actual size of a word with a given font to replace it with another latin words with a close size.\r\nThe program is in Kotlin and I use Apache POI XSLF library\r\n\r\nI found that the AWT Java library can estimate the actual physical size but I don&#39;t think I can extract the actual font file using Apache POI XSLF library to use it with AWT Java library","title":"Is there a way to know the actual size of a word with a given font?","body":"<p>I made a program that replace all the words in PPTX with latin words that have the same number of letter\nThe issue is that words don't have the same physical size because of the different distribution and size of each characters inside of it.\nSo I need a way to know / estimate the actual size of a word with a given font to replace it with another latin words with a close size.\nThe program is in Kotlin and I use Apache POI XSLF library</p>\n<p>I found that the AWT Java library can estimate the actual physical size but I don't think I can extract the actual font file using Apache POI XSLF library to use it with AWT Java library</p>\n"},{"tags":["java","json","datetime","jackson","java-8"],"comments":[{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459114598,"post_id":36252556,"comment_id":60135584,"body_markdown":"strange, I expected this error `Failed to parse Date value &#39;2016-03-28T19:00:00.000+01:00&#39; (format: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;): Unparseable date: &quot;2016-03-28T19:00:00.000+01:00&quot;` and after trying your code, I got this kind of error in both cases. The format is not matching... did you tried it without any annotations?","body":"strange, I expected this error <code>Failed to parse Date value &#39;2016-03-28T19:00:00.000+01:00&#39; (format: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;): Unparseable date: &quot;2016-03-28T19:00:00.000+01:00&quot;</code> and after trying your code, I got this kind of error in both cases. The format is not matching... did you tried it without any annotations?"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":2,"creation_date":1459114736,"post_id":36252556,"comment_id":60135629,"body_markdown":"or with this pattern: yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX (see: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)","body":"or with this pattern: yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX (see: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>)"},{"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"score":0,"creation_date":1459115171,"post_id":36252556,"comment_id":60135778,"body_markdown":"Without any annotations it works but only if the offset is specified as Z. It won&#39;t work for +0100 or +01:00. I tried your format and I still get Unsupported field: YearOfEra exception, indicating that deserializer&#39;s formatter is not configured with a time zone (for some reason java 8 fromatter requires TZ even though the offset is specified in the string and the Instant is fully defined).","body":"Without any annotations it works but only if the offset is specified as Z. It won&#39;t work for +0100 or +01:00. I tried your format and I still get Unsupported field: YearOfEra exception, indicating that deserializer&#39;s formatter is not configured with a time zone (for some reason java 8 fromatter requires TZ even though the offset is specified in the string and the Instant is fully defined)."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1459115324,"post_id":36252556,"comment_id":60135828,"body_markdown":"which version of jackson / jackson-datatype-jsr310 you are using?","body":"which version of jackson / jackson-datatype-jsr310 you are using?"},{"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"score":0,"creation_date":1459116521,"post_id":36252556,"comment_id":60136221,"body_markdown":"Jackson 2.6.5 and jackson-datatype-jsr310 2.6.5","body":"Jackson 2.6.5 and jackson-datatype-jsr310 2.6.5"},{"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"score":0,"creation_date":1459117140,"post_id":36252556,"comment_id":60136392,"body_markdown":"Ok - I noticed that there&#39;s a separate problem with how I annotated the class (I&#39;m actually using Kotlin which has annotation use-sites which I didn&#39;t use correctly). Anyhow, when trying your format string, it worked. Please copy your comment with your pattern to the answer so I can accept it.","body":"Ok - I noticed that there&#39;s a separate problem with how I annotated the class (I&#39;m actually using Kotlin which has annotation use-sites which I didn&#39;t use correctly). Anyhow, when trying your format string, it worked. Please copy your comment with your pattern to the answer so I can accept it."}],"answers":[{"comments":[{"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"score":1,"creation_date":1459122801,"post_id":36253614,"comment_id":60137811,"body_markdown":"Using the suggested format along with placing annotation at correct place resolved the issue.","body":"Using the suggested format along with placing annotation at correct place resolved the issue."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1575054960,"post_id":36253614,"comment_id":104451294,"body_markdown":"`Date` is part of the terrible legacy date-time classes that were years ago supplanted by the modern *java.time* classes. Specifically, `java.util.Date` was replaced by `java.time.Instant`, the class requested in this Question.","body":"<code>Date</code> is part of the terrible legacy date-time classes that were years ago supplanted by the modern <i>java.time</i> classes. Specifically, <code>java.util.Date</code> was replaced by <code>java.time.Instant</code>, the class requested in this Question."},{"owner":{"account_id":8952205,"reputation":159,"user_id":6677847,"display_name":"Buben Ivanov"},"score":2,"creation_date":1610533771,"post_id":36253614,"comment_id":116161982,"body_markdown":"Somewhy it fails for me with `Cannot construct instance of java.text.SimpleDateFormat, problem: Illegal pattern character &#39;T&#39;`\nChanging type to `Date` and keeping `@JsonFormat(shape = JsonFormat.Shape.STRING)` helped me, thanks to Guss answer","body":"Somewhy it fails for me with <code>Cannot construct instance of java.text.SimpleDateFormat, problem: Illegal pattern character &#39;T&#39;</code> Changing type to <code>Date</code> and keeping <code>@JsonFormat(shape = JsonFormat.Shape.STRING)</code> helped me, thanks to Guss answer"},{"owner":{"account_id":15968321,"reputation":490,"user_id":11523207,"display_name":"Joost Lambregts"},"score":4,"creation_date":1643899131,"post_id":36253614,"comment_id":125465859,"body_markdown":"Thanks, this helped me a lot. I suggest making the millisecond part optional though:\nyyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS]XXX","body":"Thanks, this helped me a lot. I suggest making the millisecond part optional though: yyyy-MM-dd&#39;T&#39;HH:mm:ss[.SSS]XXX"},{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1659547295,"post_id":36253614,"comment_id":129322193,"body_markdown":"Excellent, @JoostLambregts! Been searching for this! Thank you!","body":"Excellent, @JoostLambregts! Been searching for this! Thank you!"}],"tags":[],"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"comment_count":5,"down_vote_count":0,"up_vote_count":80,"is_accepted":true,"score":80,"last_activity_date":1588589612,"creation_date":1459118958,"answer_id":36253614,"question_id":36252556,"body_markdown":"\r\nYou need to set the explicit time zone via `XXX` in your modell  class:\r\n\r\n     \r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;)\r\n     \r\n\r\n(see: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)\r\n","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>You need to set the explicit time zone via <code>XXX</code> in your modell  class:</p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSSXXX\")\n</code></pre>\n\n<p>(see: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":3803727,"reputation":323,"user_id":3156671,"display_name":"Mick Belker - Pseudonym"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466753957,"creation_date":1466753957,"answer_id":38008077,"question_id":36252556,"body_markdown":"The format &quot;Z&quot; does not work with &quot;+01:00&quot; as this is a different pattern.\r\nJsonFormat is using SimpleDateFormat patterns. &quot;Z&quot; in **upper case** only represents strict RFC 822. You have to use syntax like: &quot;+0100&quot;, without colon.\r\n\r\nSee: [ISO 8601:2004][1], [SimpleDateFormat patterns][2]\r\n\r\n\r\n  [1]: http://www.uai.cl/images/sitio/biblioteca/citas/ISO_8601_2004en.pdf\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html?is-external=true","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>The format \"Z\" does not work with \"+01:00\" as this is a different pattern.\nJsonFormat is using SimpleDateFormat patterns. \"Z\" in <strong>upper case</strong> only represents strict RFC 822. You have to use syntax like: \"+0100\", without colon.</p>\n\n<p>See: <a href=\"http://www.uai.cl/images/sitio/biblioteca/citas/ISO_8601_2004en.pdf\" rel=\"noreferrer\">ISO 8601:2004</a>, <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html?is-external=true\" rel=\"noreferrer\">SimpleDateFormat patterns</a></p>\n"},{"comments":[{"owner":{"account_id":2234326,"reputation":1296,"user_id":1971144,"accept_rate":50,"display_name":"mojoken"},"score":2,"creation_date":1540826499,"post_id":52977921,"comment_id":92997001,"body_markdown":"I think this question was about de-serializing, not serializing. But good to know anyway!","body":"I think this question was about de-serializing, not serializing. But good to know anyway!"},{"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"score":0,"creation_date":1540832442,"post_id":52977921,"comment_id":93000414,"body_markdown":"It works the same for deserializing - `@JsonFormat` controls both. I use it like that both ways.","body":"It works the same for deserializing - <code>@JsonFormat</code> controls both. I use it like that both ways."},{"owner":{"account_id":8013151,"reputation":61,"user_id":6044246,"display_name":"Julien B."},"score":0,"creation_date":1556267965,"post_id":52977921,"comment_id":98387891,"body_markdown":"Best answer so far IMHO. Easy and standard.","body":"Best answer so far IMHO. Easy and standard."},{"owner":{"account_id":15968321,"reputation":490,"user_id":11523207,"display_name":"Joost Lambregts"},"score":1,"creation_date":1643898931,"post_id":52977921,"comment_id":125465756,"body_markdown":"This does not work when deserializing a non-UTC ISO date-time. I tested it.","body":"This does not work when deserializing a non-UTC ISO date-time. I tested it."}],"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1540415221,"creation_date":1540415221,"answer_id":52977921,"question_id":36252556,"body_markdown":"If you want to serialize `Date` objects into ISO-8601, you don&#39;t need to specify a pattern at all - ISO-8601 is the default pattern. It is kind of mentioned in the [`JsonFormat` Java doc][1]:\r\n\r\n&gt; Common uses include choosing between alternate representations -- for example, whether Date is to be serialized as number (Java timestamp) or **String (such as ISO-8601 compatible time value)** -- as well as configuring exact details with pattern() property.\r\n\r\n[emphasasis mine] you should understand from the above text that specifying `shape = STRING` would mean an ISO-8601 format but you can choose something else using the `pattern` property.\r\n\r\nIn my experience, this always turns out a UTC date format (with the time zone rendered as `+0000`), which could be the default time zone in my VM (even though my operating system clock is not set to UTC).\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>If you want to serialize <code>Date</code> objects into ISO-8601, you don't need to specify a pattern at all - ISO-8601 is the default pattern. It is kind of mentioned in the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonFormat.html\" rel=\"noreferrer\"><code>JsonFormat</code> Java doc</a>:</p>\n\n<blockquote>\n  <p>Common uses include choosing between alternate representations -- for example, whether Date is to be serialized as number (Java timestamp) or <strong>String (such as ISO-8601 compatible time value)</strong> -- as well as configuring exact details with pattern() property.</p>\n</blockquote>\n\n<p>[emphasasis mine] you should understand from the above text that specifying <code>shape = STRING</code> would mean an ISO-8601 format but you can choose something else using the <code>pattern</code> property.</p>\n\n<p>In my experience, this always turns out a UTC date format (with the time zone rendered as <code>+0000</code>), which could be the default time zone in my VM (even though my operating system clock is not set to UTC).</p>\n"},{"comments":[{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":2,"creation_date":1613923134,"post_id":54654547,"comment_id":117219878,"body_markdown":"This tweak the whole configuration!","body":"This tweak the whole configuration!"}],"tags":[],"owner":{"account_id":9226148,"reputation":419,"user_id":6853890,"display_name":"zoomout"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1549988761,"creation_date":1549988761,"answer_id":54654547,"question_id":36252556,"body_markdown":"In Jackson 2.9.8 (current one as I&#39;m writing this) it&#39;s better to use Instant instead of Date. \r\n\r\nYou have to add a dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nAlso, register the module and configure SerializationFeature.WRITE_DATES_AS_TIMESTAMPS to false.\r\n\r\n    new ObjectMapper()\r\n                    .findAndRegisterModules()\r\n                    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\r\nMore information about Jackson for Java8 here: https://github.com/FasterXML/jackson-modules-java8","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>In Jackson 2.9.8 (current one as I'm writing this) it's better to use Instant instead of Date. </p>\n\n<p>You have to add a dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n\n<p>Also, register the module and configure SerializationFeature.WRITE_DATES_AS_TIMESTAMPS to false.</p>\n\n<pre><code>new ObjectMapper()\n                .findAndRegisterModules()\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n\n<p>More information about Jackson for Java8 here: <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-modules-java8</a></p>\n"},{"comments":[{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":1,"creation_date":1602139851,"post_id":63272521,"comment_id":113626904,"body_markdown":"They&#39;re not both valid.  One is basic format, the other extended ISO-8601 format.  You cannot mix and match them.","body":"They&#39;re not both valid.  One is basic format, the other extended ISO-8601 format.  You cannot mix and match them."}],"tags":[],"owner":{"account_id":5544246,"reputation":2369,"user_id":4399576,"display_name":"Dimitar II"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1596656759,"creation_date":1596656759,"answer_id":63272521,"question_id":36252556,"body_markdown":"Jackson can be configured globally (without annotations) to accept timestamps with or without colon:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setDateFormat(new StdDateFormat().withColonInTimeZone(true));\r\n\r\nThe default Jackson timezone format was changed since version 2.11 from &#39;+0000&#39; to &#39;+00:00&#39;. Both formats are valid according to ISO-8601.","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>Jackson can be configured globally (without annotations) to accept timestamps with or without colon:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setDateFormat(new StdDateFormat().withColonInTimeZone(true));\n</code></pre>\n<p>The default Jackson timezone format was changed since version 2.11 from '+0000' to '+00:00'. Both formats are valid according to ISO-8601.</p>\n"},{"tags":[],"owner":{"account_id":3439239,"reputation":116,"user_id":2881562,"display_name":"Rama Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697803089,"creation_date":1697803089,"answer_id":77330749,"question_id":36252556,"body_markdown":"I was facing this issue while sending Instant data type variable on a RMQ queue. It was giving errors in different scenarios . \r\n\r\n1st error that i encountered was \r\n\r\njava.base/java.lang.Thread.run(Thread.java:829)\\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default:\r\n\r\n\r\nSolution was too add dependency of \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nThen second issue I started facing was that it was not able to serialise the date format . I tried to load JAVA TIME Modules with object mapper but that didn&#39;t help me.  What worked for me is as below. \r\n\r\n\r\n\t@JsonSerialize(using = InstantSerializer.class)\r\n\t@JsonDeserialize(using = CustomInstantDeserializer.class)\r\n\tInstant updateTime;\r\n\r\n\r\nCustomeDeserialser i had to write because it was giving error that \r\nInvalidDefinitionException: Class com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer has no default (no arg) constructor\\n\r\n\r\n\r\n    public class CustomInstantDeserializer extends \r\n     InstantDeserializer&lt;Instant&gt; { \r\n          public CustomInstantDeserializer() {\r\n\t\t       super(InstantDeserializer.INSTANT,\r\n\t\t\t\tnew DateTimeFormatterBuilder().\r\n         parseCaseInsensitive()\r\n       .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\r\n\t\t\t\t\t\t.optionalStart().appendOffset(&quot;+HH:MM&quot;, \r\n      &quot;+00:00&quot;).optionalEnd().optionalStart()\r\n\t\t\t\t\t\t.appendOffset(&quot;+HHMM&quot;, \r\n        &quot;+0000&quot;).optionalEnd().optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;)\r\n\t\t\t\t\t\t.optionalEnd().toFormatter());\r\n\t      }\r\n\r\n        }","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>I was facing this issue while sending Instant data type variable on a RMQ queue. It was giving errors in different scenarios .</p>\n<p>1st error that i encountered was</p>\n<p>java.base/java.lang.Thread.run(Thread.java:829)\\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type <code>java.time.Instant</code> not supported by default:</p>\n<p>Solution was too add dependency of</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then second issue I started facing was that it was not able to serialise the date format . I tried to load JAVA TIME Modules with object mapper but that didn't help me.  What worked for me is as below.</p>\n<pre><code>@JsonSerialize(using = InstantSerializer.class)\n@JsonDeserialize(using = CustomInstantDeserializer.class)\nInstant updateTime;\n</code></pre>\n<p>CustomeDeserialser i had to write because it was giving error that\nInvalidDefinitionException: Class com.fasterxml.jackson.datatype.jsr310.deser.InstantDeserializer has no default (no arg) constructor\\n</p>\n<pre><code>public class CustomInstantDeserializer extends \n InstantDeserializer&lt;Instant&gt; { \n      public CustomInstantDeserializer() {\n           super(InstantDeserializer.INSTANT,\n            new DateTimeFormatterBuilder().\n     parseCaseInsensitive()\n   .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n                    .optionalStart().appendOffset(&quot;+HH:MM&quot;, \n  &quot;+00:00&quot;).optionalEnd().optionalStart()\n                    .appendOffset(&quot;+HHMM&quot;, \n    &quot;+0000&quot;).optionalEnd().optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;)\n                    .optionalEnd().toFormatter());\n      }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":265903,"reputation":5352,"user_id":2092870,"accept_rate":80,"display_name":"Krešimir Nesek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121800,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":36253614,"answer_count":6,"score":71,"last_activity_date":1697803089,"creation_date":1459112158,"question_id":36252556,"body_markdown":"I&#39;m trying to deserialize an ISO8601 formatted date into Java8 `java.time.Instant` using Jackson. I registered JavaTimeModule with the ObjectMapper, and turned off the `WRITE_DATES_AS_TIMESTAMPS` setting.\r\n\r\nHowever, if one tries to deserialize `2016-03-28T19:00:00.000+01:00` it will not work, because it seems that JavaTimeModule will only deserialize date-times formatted with UTC timezone offset (e.g. `2016-03-28T18:00:00.000Z`). I then tried using `@JsonFormat` annotation like this:\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, timezone = &quot;UTC&quot;)\r\n\r\nAnd like this:\r\n\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;, timezone = JsonFormat.DEFAULT_TIMEZONE)\r\n\r\nHowever, neither of these work and I get an exception:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Unsupported field: YearOfEra (through reference chain: org.example.Article[&quot;date&quot;])\r\n\r\nWhich implies that timezone parameter is ignored and date time formatter doesn&#39;t know how to format an Instant without a timezone. \r\n\r\nIs there a way to deserialize a ISO8601 string that&#39;s not in UTC time zone offset to Java 8 `java.time.Instant` using Jackson and JavaTimeModule without writing a custom deserializer?\r\n \r\n ","title":"Jackson deserialize ISO8601 formatted date-time into Java8 Instant","body":"<p>I'm trying to deserialize an ISO8601 formatted date into Java8 <code>java.time.Instant</code> using Jackson. I registered JavaTimeModule with the ObjectMapper, and turned off the <code>WRITE_DATES_AS_TIMESTAMPS</code> setting.</p>\n\n<p>However, if one tries to deserialize <code>2016-03-28T19:00:00.000+01:00</code> it will not work, because it seems that JavaTimeModule will only deserialize date-times formatted with UTC timezone offset (e.g. <code>2016-03-28T18:00:00.000Z</code>). I then tried using <code>@JsonFormat</code> annotation like this:</p>\n\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\", timezone = \"UTC\")\n</code></pre>\n\n<p>And like this:</p>\n\n<pre><code>@JsonFormat(shape=JsonFormat.Shape.STRING, pattern=\"yyyy-MM-dd'T'HH:mm:ss.SSSZ\", timezone = JsonFormat.DEFAULT_TIMEZONE)\n</code></pre>\n\n<p>However, neither of these work and I get an exception:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Unsupported field: YearOfEra (through reference chain: org.example.Article[\"date\"])\n</code></pre>\n\n<p>Which implies that timezone parameter is ignored and date time formatter doesn't know how to format an Instant without a timezone. </p>\n\n<p>Is there a way to deserialize a ISO8601 string that's not in UTC time zone offset to Java 8 <code>java.time.Instant</code> using Jackson and JavaTimeModule without writing a custom deserializer?</p>\n"},{"tags":["java","maven","java-17","java-text-blocks"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":6,"creation_date":1697650332,"post_id":77318464,"comment_id":136307816,"body_markdown":"The error message is not from the Java Compiler but from the checkstyle plugin / from checkstyle. It could be that you are using an old version of the checkstyle plugin (your version is 2.17, the current version is 3.3.0) and / or an old version of checkstyle itself that doesn&#39;t yet support the multiline strings that have been added to Java 17. The fix would be to upgrade the checkstyle plugin and the checkstyle version.","body":"The error message is not from the Java Compiler but from the checkstyle plugin / from checkstyle. It could be that you are using an old version of the checkstyle plugin (your version is 2.17, the current version is 3.3.0) and / or an old version of checkstyle itself that doesn&#39;t yet support the multiline strings that have been added to Java 17. The fix would be to upgrade the checkstyle plugin and the checkstyle version."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1697650461,"post_id":77318464,"comment_id":136307835,"body_markdown":"@OHGODSPIDERS Java has support for multiline strings since around Java 15 (https://stackoverflow.com/questions/878573/does-java-have-support-for-multiline-strings) and the OPs code is valid Java code for Java 17.","body":"@OHGODSPIDERS Java has support for multiline strings since around Java 15 (<a href=\"https://stackoverflow.com/questions/878573/does-java-have-support-for-multiline-strings\" title=\"does java have support for multiline strings\">stackoverflow.com/questions/878573/&hellip;</a>) and the OPs code is valid Java code for Java 17."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1697650801,"post_id":77318464,"comment_id":136307887,"body_markdown":"According to https://github.com/checkstyle/checkstyle/issues/9111 you need at least CheckStyle version 8.36 (and a version of the CheckStyle plugin that supports CheckStyle 8.36)","body":"According to <a href=\"https://github.com/checkstyle/checkstyle/issues/9111\" rel=\"nofollow noreferrer\">github.com/checkstyle/checkstyle/issues/9111</a> you need at least CheckStyle version 8.36 (and a version of the CheckStyle plugin that supports CheckStyle 8.36)"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1697652694,"post_id":77318464,"comment_id":136308180,"body_markdown":"The close as duplicate isn&#39;t correct - an unescaped quote is valid in multi-line declaration, its just that checkstyle isn&#39;t up to date.","body":"The close as duplicate isn&#39;t correct - an unescaped quote is valid in multi-line declaration, its just that checkstyle isn&#39;t up to date."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1697653086,"post_id":77318464,"comment_id":136308233,"body_markdown":"@ThomasKl&#228;ger your comments would form the basis of a good answer. Hint, hint.","body":"@ThomasKl&#228;ger your comments would form the basis of a good answer. Hint, hint."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1697655715,"post_id":77318464,"comment_id":136308680,"body_markdown":"Please upgrade the maven-checkstyle-plugin versions to most recent version... https://maven.apache.org/plugins/maven-checkstyle-plugin/","body":"Please upgrade the maven-checkstyle-plugin versions to most recent version... <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-checkstyle-plugin</a>"}],"answers":[{"comments":[{"owner":{"account_id":29045360,"reputation":13,"user_id":22249313,"display_name":"pirateking"},"score":0,"creation_date":1697750753,"post_id":77318930,"comment_id":136322673,"body_markdown":"Thanks, that resolved my issue .\nI am trying to update my text block as below to include some variables \n`String test = &quot;&quot;&quot;\n        {\n            &quot;deploymentResourceId&quot;: &quot;%s&quot;\n        }\n        &quot;&quot;&quot;.formatted(deploymentResourceId); `  but the variable is not getting replaced in the json. do you know how to resolve this? \ni also tried","body":"Thanks, that resolved my issue . I am trying to update my text block as below to include some variables  <code>String test = &quot;&quot;&quot;         {             &quot;deploymentResourceId&quot;: &quot;%s&quot;         }         &quot;&quot;&quot;.formatted(deploymentResourceId); </code>  but the variable is not getting replaced in the json. do you know how to resolve this?  i also tried"},{"owner":{"account_id":29045360,"reputation":13,"user_id":22249313,"display_name":"pirateking"},"score":0,"creation_date":1697750834,"post_id":77318930,"comment_id":136322685,"body_markdown":"I also tried \n`String test = &quot;&quot;&quot;\n        {\n            &quot;deploymentResourceId&quot;: &quot;$deploymentResourceId&quot;\n        }\n        &quot;&quot;&quot;;`","body":"I also tried  <code>String test = &quot;&quot;&quot;         {             &quot;deploymentResourceId&quot;: &quot;$deploymentResourceId&quot;         }         &quot;&quot;&quot;;</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697801198,"post_id":77318930,"comment_id":136328561,"body_markdown":"@pirateking you should open a new question for your new problem.","body":"@pirateking you should open a new question for your new problem."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697660673,"creation_date":1697655275,"answer_id":77318930,"question_id":77318464,"body_markdown":"The error message is produced by an outdated version of [CheckStyle](https://checkstyle.org/).\r\n\r\nAccording to the CheckStyle ticket [Support for Java 15 Strings](https://github.com/checkstyle/checkstyle/issues/9111) you need at least CheckStyle version 8.36 if you want to use [text blocks][1] / multiline strings together with CheckStyle checks.\r\n\r\nThe error message (_org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check_) indicates that your project uses the Maven-CheckStyle-Plugin version 2.17 which according to [Maven Checkstyle Plugin Releases History](https://maven.apache.org/plugins/maven-checkstyle-plugin/history.html)  by default uses CheckStyle version 6.11.2\r\n\r\nYou can try to configure your project to use the Maven CheckStyle Plugin 2.17 together with the CheckStyle version 8.36 using the following configuration (source: [Upgrading Checkstyle at Runtime](https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/upgrading-checkstyle.html)):\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.17&lt;/version&gt;\r\n              &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                  &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                  &lt;version&gt;8.36&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/378","title":"Multi line string in Java 17","body":"<p>The error message is produced by an outdated version of <a href=\"https://checkstyle.org/\" rel=\"nofollow noreferrer\">CheckStyle</a>.</p>\n<p>According to the CheckStyle ticket <a href=\"https://github.com/checkstyle/checkstyle/issues/9111\" rel=\"nofollow noreferrer\">Support for Java 15 Strings</a> you need at least CheckStyle version 8.36 if you want to use <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">text blocks</a> / multiline strings together with CheckStyle checks.</p>\n<p>The error message (<em>org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check</em>) indicates that your project uses the Maven-CheckStyle-Plugin version 2.17 which according to <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/history.html\" rel=\"nofollow noreferrer\">Maven Checkstyle Plugin Releases History</a>  by default uses CheckStyle version 6.11.2</p>\n<p>You can try to configure your project to use the Maven CheckStyle Plugin 2.17 together with the CheckStyle version 8.36 using the following configuration (source: <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/upgrading-checkstyle.html\" rel=\"nofollow noreferrer\">Upgrading Checkstyle at Runtime</a>):</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.17&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n              &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n              &lt;version&gt;8.36&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29045360,"reputation":13,"user_id":22249313,"display_name":"pirateking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697802928,"creation_date":1697750588,"answer_id":77327173,"question_id":77318464,"body_markdown":"Upgrading the `maven-checkstyle-plugin` and `checkstyle` resolved the issue:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.0&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n      &lt;version&gt;10.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Multi line string in Java 17","body":"<p>Upgrading the <code>maven-checkstyle-plugin</code> and <code>checkstyle</code> resolved the issue:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.0&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n      &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n      &lt;version&gt;10.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":29045360,"reputation":13,"user_id":22249313,"display_name":"pirateking"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77318930,"answer_count":2,"score":-2,"last_activity_date":1697802928,"creation_date":1697650005,"question_id":77318464,"body_markdown":"I am using multi line strings  in java 17.0.2 but have been recieving the following error \r\n\r\n```\r\n        String test = &quot;&quot;&quot;\r\n        {\r\n            &quot;deploymentResourceId&quot;: &quot;deployment&quot;\r\n\t    }\r\n        &quot;&quot;&quot;;\r\n```\r\nError:\r\n\r\n```\r\n/sparta/input/PackageResource.java:262:25: expecting SEMI, found &#39;&quot;\r\n        {\r\n            &quot;&#39;\r\n\r\n2023-10-17 23:31:16.027 UTC [ERROR] Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check (verify-style-1) on project : Execution verify-style-1 of goal org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check failed: begin 1253, end 18, length 18 -&gt; [Help 1]\r\n```\r\n\r\n\r\n\r\nUsing string builder works fine but i want to use multi line strings\r\n","title":"Multi line string in Java 17","body":"<p>I am using multi line strings  in java 17.0.2 but have been recieving the following error</p>\n<pre><code>        String test = &quot;&quot;&quot;\n        {\n            &quot;deploymentResourceId&quot;: &quot;deployment&quot;\n        }\n        &quot;&quot;&quot;;\n</code></pre>\n<p>Error:</p>\n<pre><code>/sparta/input/PackageResource.java:262:25: expecting SEMI, found '&quot;\n        {\n            &quot;'\n\n2023-10-17 23:31:16.027 UTC [ERROR] Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check (verify-style-1) on project : Execution verify-style-1 of goal org.apache.maven.plugins:maven-checkstyle-plugin:2.17:check failed: begin 1253, end 18, length 18 -&gt; [Help 1]\n</code></pre>\n<p>Using string builder works fine but i want to use multi line strings</p>\n"},{"tags":["java","android","in-app"],"owner":{"display_name":"user4450672"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697802866,"creation_date":1691003594,"question_id":76822871,"body_markdown":"The appUpdateManager.startUpdateFlowForResult portion of the In-App Update shown on developer.android shows as being deprecated in Android Studio. I&#39;ve searched for something that would work in its place, but the most current examples are only in Kotlin, and I&#39;m still using Java... for the time being. Anyway, I understand the appUpdateManager.startUpdateFlowForResult that still works has different arguments. I figured out part of it, but still have one error on &quot;Activity&quot;.\r\n\r\nI tried &quot;MainActivity.this&quot;, and I tried just plain &quot;activity&quot;,\r\nbut it didn&#39;t like either of those. The Context Actions suggest &quot;Introduce Local Variable&quot;.\r\nI did that... Activity activity; and ActivityResultLauncher&lt;IntentSenderRequest&gt; activity;\r\nBut even though &quot;activity&quot; isn&#39;t in Red font color anymore, it&#39;s underlined like it&#39;s still an issue.\r\n\r\nI saw on another post here that [Beyka/Android-TifBitmapFactory][1] was a breeze, and [code.google.com/p/tiffonandroid][2] but I haven&#39;t figured either of them out! Still looking for documentation, and maybe an example... just  to display a TIF\r\n\r\n&lt;code&gt;\r\nappUpdateManager.startUpdateFlowForResult(\r\n                    appUpdateInfo,\r\n                    MainActivity.this,\r\n                    AppUpdateOptions.defaultOptions(AppUpdateType.IMMEDIATE)\r\n&lt;/code&gt;\r\n\r\n\r\n  [1]: https://github.com/Beyka/Android-TiffBitmapFactory\r\n  [2]: https://code.google.com/p/tiffonandroid","title":"In-App Update appUpdateManager.startUpdateFlowForResult Android Java","body":"<p>The appUpdateManager.startUpdateFlowForResult portion of the In-App Update shown on developer.android shows as being deprecated in Android Studio. I've searched for something that would work in its place, but the most current examples are only in Kotlin, and I'm still using Java... for the time being. Anyway, I understand the appUpdateManager.startUpdateFlowForResult that still works has different arguments. I figured out part of it, but still have one error on &quot;Activity&quot;.</p>\n<p>I tried &quot;MainActivity.this&quot;, and I tried just plain &quot;activity&quot;,\nbut it didn't like either of those. The Context Actions suggest &quot;Introduce Local Variable&quot;.\nI did that... Activity activity; and ActivityResultLauncher activity;\nBut even though &quot;activity&quot; isn't in Red font color anymore, it's underlined like it's still an issue.</p>\n<p>I saw on another post here that <a href=\"https://github.com/Beyka/Android-TiffBitmapFactory\" rel=\"nofollow noreferrer\">Beyka/Android-TifBitmapFactory</a> was a breeze, and <a href=\"https://code.google.com/p/tiffonandroid\" rel=\"nofollow noreferrer\">code.google.com/p/tiffonandroid</a> but I haven't figured either of them out! Still looking for documentation, and maybe an example... just  to display a TIF</p>\n<code>\nappUpdateManager.startUpdateFlowForResult(\n                    appUpdateInfo,\n                    MainActivity.this,\n                    AppUpdateOptions.defaultOptions(AppUpdateType.IMMEDIATE)\n</code>\n"},{"tags":["java","io","nio"],"answers":[{"comments":[{"owner":{"account_id":93342,"reputation":6808,"user_id":255412,"accept_rate":75,"display_name":"user963241"},"score":1,"creation_date":1497822567,"post_id":16461868,"comment_id":76225486,"body_markdown":"Can you please tell me why did you write `read()/put()` and `write()/get()`? Should not it be `read()/get()` and `write()/put()`? Since getting operation means reading and putting implies writing?","body":"Can you please tell me why did you write <code>read()&#47;put()</code> and <code>write()&#47;get()</code>? Should not it be <code>read()&#47;get()</code> and <code>write()&#47;put()</code>? Since getting operation means reading and putting implies writing?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1525214147,"post_id":16461868,"comment_id":87267640,"body_markdown":"@user963241 `read()` puts data into the buffer. `write()` takes it out.","body":"@user963241 <code>read()</code> puts data into the buffer. <code>write()</code> takes it out."},{"owner":{"account_id":1095015,"reputation":4315,"user_id":1088790,"accept_rate":77,"display_name":"haelix"},"score":0,"creation_date":1543931653,"post_id":16461868,"comment_id":94089631,"body_markdown":"This is not a great answer because it explains the semantics of ByteBuffer operations in the context of using it with Channels/Sockets (or whatever has `read()` and `put()` methods that you speak about, we don&#39;t know)","body":"This is not a great answer because it explains the semantics of ByteBuffer operations in the context of using it with Channels/Sockets (or whatever has <code>read()</code> and <code>put()</code> methods that you speak about, we don&#39;t know)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1543969713,"post_id":16461868,"comment_id":94107181,"body_markdown":"@haekux No it doesn&#39;t. `ReadableChannel` has `read()`, `WriteableChannel` has `write()`, and `ByteBuffer` *itself* has `get()` and `put()`. There is no other way to get data in and out. This is rather basic. You personally may not know that, but that&#39;s not the answer&#39;s fault.","body":"@haekux No it doesn&#39;t. <code>ReadableChannel</code> has <code>read()</code>, <code>WriteableChannel</code> has <code>write()</code>, and <code>ByteBuffer</code> <i>itself</i> has <code>get()</code> and <code>put()</code>. There is no other way to get data in and out. This is rather basic. You personally may not know that, but that&#39;s not the answer&#39;s fault."},{"owner":{"account_id":1095015,"reputation":4315,"user_id":1088790,"accept_rate":77,"display_name":"haelix"},"score":0,"creation_date":1545241700,"post_id":16461868,"comment_id":94561117,"body_markdown":"@user207421 Yes it does. And it&#39;s confusing at first, because the OP&#39;s question had nothing to do with Channels, and my use-case has nothing to with Channels. But I understand that reading and writing from Channels into buffers is the most commonplace thing that people do with them.","body":"@user207421 Yes it does. And it&#39;s confusing at first, because the OP&#39;s question had nothing to do with Channels, and my use-case has nothing to with Channels. But I understand that reading and writing from Channels into buffers is the most commonplace thing that people do with them."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1553986404,"post_id":16461868,"comment_id":97590084,"body_markdown":"@haelix What you are repeatedly claiming here is simply untrue. It&#39;s up there in black and white. The answer explains the operations in the context of `read()`and `write()` ***or*** `get()` and `put()`, to cover all the possibilities, as a god answer should, and the latter have nothing whatsoever to do with `Channels`. You are flying in the face of reality.","body":"@haelix What you are repeatedly claiming here is simply untrue. It&#39;s up there in black and white. The answer explains the operations in the context of <code>read()</code>and <code>write()</code> <b><i>or</i></b> <code>get()</code> and <code>put()</code>, to cover all the possibilities, as a god answer should, and the latter have nothing whatsoever to do with <code>Channels</code>. You are flying in the face of reality."},{"owner":{"account_id":1095015,"reputation":4315,"user_id":1088790,"accept_rate":77,"display_name":"haelix"},"score":1,"creation_date":1554161306,"post_id":16461868,"comment_id":97641712,"body_markdown":"@user207421 OK fine, I can obviously see what the answer contains. The point I was trying to make, unsuccessfully, was that the answer emphasizes `read` and `write` (of `Channel`), simply because read and write are mentioned first, and get and put are inside parantheses. It is just my opinion, that a great answer (which I said I believed yours is not) should emphasize methods of ByteBuffer itself. But the answer is still OK, it&#39;s just not _great_, and again, it&#39;s only an opinion, it hasn&#39;t got much to do with &quot;reality&quot;.","body":"@user207421 OK fine, I can obviously see what the answer contains. The point I was trying to make, unsuccessfully, was that the answer emphasizes <code>read</code> and <code>write</code> (of <code>Channel</code>), simply because read and write are mentioned first, and get and put are inside parantheses. It is just my opinion, that a great answer (which I said I believed yours is not) should emphasize methods of ByteBuffer itself. But the answer is still OK, it&#39;s just not <i>great</i>, and again, it&#39;s only an opinion, it hasn&#39;t got much to do with &quot;reality&quot;."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1616578017,"post_id":16461868,"comment_id":118043490,"body_markdown":"@haekix Despite all this hair-splitting, the fact remains that the answer contains all the context you claimed it doesn&#39;t contain.","body":"@haekix Despite all this hair-splitting, the fact remains that the answer contains all the context you claimed it doesn&#39;t contain."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":8,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1466299506,"creation_date":1368102800,"answer_id":16461868,"question_id":16461284,"body_markdown":"They&#39;re not equivalent at all.\r\n\r\nA `ByteBuffer` is normally ready for `read()` (or for `put()`).\r\n\r\n`flip()` makes it ready for `write()` (or for `get()`).\r\n\r\n`rewind()` and `compact()` and `clear()` make it ready for `read()/put()` again after `write()` (or `get()`).","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>They're not equivalent at all.</p>\n\n<p>A <code>ByteBuffer</code> is normally ready for <code>read()</code> (or for <code>put()</code>).</p>\n\n<p><code>flip()</code> makes it ready for <code>write()</code> (or for <code>get()</code>).</p>\n\n<p><code>rewind()</code> and <code>compact()</code> and <code>clear()</code> make it ready for <code>read()/put()</code> again after <code>write()</code> (or <code>get()</code>).</p>\n"},{"tags":[],"owner":{"account_id":5299388,"reputation":773,"user_id":4229567,"display_name":"sofia"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1456041101,"creation_date":1456041101,"answer_id":35533658,"question_id":16461284,"body_markdown":"The rewind( ) method is similar to flip( ) but does not affect the limit. It only sets the position back to 0. You can use rewind( ) to go back and reread the data in a buffer that has already been flipped. A common situation would be : after you use flip(), you read the data from the buffer, the you want to reread the data, this method would work.\r\n","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>The rewind( ) method is similar to flip( ) but does not affect the limit. It only sets the position back to 0. You can use rewind( ) to go back and reread the data in a buffer that has already been flipped. A common situation would be : after you use flip(), you read the data from the buffer, the you want to reread the data, this method would work.</p>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474222966,"creation_date":1474222966,"answer_id":39561120,"question_id":16461284,"body_markdown":"Here is an example where the two will produce different results.\r\nAs you said, both set position to 0, the difference between the two is that flip sets the limit to the previous position.\r\n\r\nSo with flip, if you were writing ( put ) , the limit for reading ( get ) will become the position of the last element you wrote. If you try to read any more than that, it will throw an exception.\r\n\r\nRewind leaves the limit unchanged. Assuming it was at capacity ( buffer size ) , it will let you keep on reading beyond the data that you actually wrote, in this case reading the initial zeros that the buffer was initialized with.\r\n\r\n\tByteBuffer bb = ByteBuffer.allocateDirect(2);\r\n\tbyte b = 127;\r\n\tbb.put(b);\r\n\tbb.rewind();//or flip();\r\n\r\n\tSystem.out.println(bb.get());  // will print 127 in either case\r\n\tSystem.out.println(bb.get());  // will print 0 for rewind, BufferUnderflow exception for flip","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>Here is an example where the two will produce different results.\nAs you said, both set position to 0, the difference between the two is that flip sets the limit to the previous position.</p>\n\n<p>So with flip, if you were writing ( put ) , the limit for reading ( get ) will become the position of the last element you wrote. If you try to read any more than that, it will throw an exception.</p>\n\n<p>Rewind leaves the limit unchanged. Assuming it was at capacity ( buffer size ) , it will let you keep on reading beyond the data that you actually wrote, in this case reading the initial zeros that the buffer was initialized with.</p>\n\n<pre><code>ByteBuffer bb = ByteBuffer.allocateDirect(2);\nbyte b = 127;\nbb.put(b);\nbb.rewind();//or flip();\n\nSystem.out.println(bb.get());  // will print 127 in either case\nSystem.out.println(bb.get());  // will print 0 for rewind, BufferUnderflow exception for flip\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9247444,"reputation":449,"user_id":6868909,"display_name":"lxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1521176269,"creation_date":1499170521,"answer_id":44905735,"question_id":16461284,"body_markdown":"From the source code, they are very similar. You can see the follow:\r\n\r\n    public final Buffer flip() {\r\n        limit = position;\r\n        position = 0;\r\n        mark = -1;\r\n        return this;\r\n    }\r\n\r\n    public final Buffer rewind() {\r\n        position = 0;\r\n        mark = -1;\r\n        return this;\r\n    }\r\n\r\n\r\n\r\nSo the difference is the `flip` set the `limit` to the `position`, while `rewind` not. \r\nConsider you have allocated a buffer with 8 bytes, you have filled the buffer with 4 bytes, then the position is set to 3, just show as follow:\r\n\r\n        [ 1  1  1  1  0  0  0  0]\r\n                   |           |\r\n    flip           limit       |\r\n    rewind                     limit\r\n\r\nSo `rewind` just used limit has set appropriately.","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>From the source code, they are very similar. You can see the follow:</p>\n\n<pre><code>public final Buffer flip() {\n    limit = position;\n    position = 0;\n    mark = -1;\n    return this;\n}\n\npublic final Buffer rewind() {\n    position = 0;\n    mark = -1;\n    return this;\n}\n</code></pre>\n\n<p>So the difference is the <code>flip</code> set the <code>limit</code> to the <code>position</code>, while <code>rewind</code> not. \nConsider you have allocated a buffer with 8 bytes, you have filled the buffer with 4 bytes, then the position is set to 3, just show as follow:</p>\n\n<pre><code>    [ 1  1  1  1  0  0  0  0]\n               |           |\nflip           limit       |\nrewind                     limit\n</code></pre>\n\n<p>So <code>rewind</code> just used limit has set appropriately.</p>\n"},{"tags":[],"owner":{"account_id":4655265,"reputation":779,"user_id":3771015,"accept_rate":25,"display_name":"crakama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517538540,"creation_date":1517538540,"answer_id":48574848,"question_id":16461284,"body_markdown":"@user963241 To add more colour on @EJP&#39;s answer.\r\n\r\n&gt; flip() makes it ready for write() (or for get())\r\n\r\n**get() Example;** \r\n\r\nYou might want to read data ***from the buffer*** (*assuming that you had initially stored it in there*)and use it for something else such as converting to a string and manipulate it for further use. \r\n\r\n\r\n\r\n    ByteBuffer buf = ByteBuffer.allocateDirect(80);\r\n    private String method(){\r\n    buf.flip();\r\n    byte[] bytes = byte[10]; //creates a byte array where you can place your data \r\n    buf.get(bytes); //reads data from buffer and places it in the byte array created above\r\n    return bytes;\r\n    }\r\n\r\n\r\n**write() Example;** After you have read data from socket channel **into the buffer** you might want to write it back to socket channel - assuming that you want to implement something like a server that echos same message received from client. \r\n\r\nSo you will read from channel to buffer and from buffer back to channel\r\n\r\n    SocketChannel socketChannel = SocketChannel.open();\r\n    ...\r\n    \r\n    ByteBuffer buf = ByteBuffer.allocateDirect(80);\r\n    \r\n    int data = socketChannel.read(buf); // Reads from channel and places it into the buffer\r\n    while(data != -1){ //checks if not end of reading\r\n    buf.flip();        //prepares for writing\r\n    ....\r\n    socketChannel.write(buf) // if you had initially placed data into buf and you want to read \r\n                             //from it so that you can write it back into the channel\r\n                             \r\n\r\n      }\r\n \r\n\r\n","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>@user963241 To add more colour on @EJP's answer.</p>\n\n<blockquote>\n  <p>flip() makes it ready for write() (or for get())</p>\n</blockquote>\n\n<p><strong>get() Example;</strong> </p>\n\n<p>You might want to read data <strong><em>from the buffer</em></strong> (<em>assuming that you had initially stored it in there</em>)and use it for something else such as converting to a string and manipulate it for further use. </p>\n\n<pre><code>ByteBuffer buf = ByteBuffer.allocateDirect(80);\nprivate String method(){\nbuf.flip();\nbyte[] bytes = byte[10]; //creates a byte array where you can place your data \nbuf.get(bytes); //reads data from buffer and places it in the byte array created above\nreturn bytes;\n}\n</code></pre>\n\n<p><strong>write() Example;</strong> After you have read data from socket channel <strong>into the buffer</strong> you might want to write it back to socket channel - assuming that you want to implement something like a server that echos same message received from client. </p>\n\n<p>So you will read from channel to buffer and from buffer back to channel</p>\n\n<pre><code>SocketChannel socketChannel = SocketChannel.open();\n...\n\nByteBuffer buf = ByteBuffer.allocateDirect(80);\n\nint data = socketChannel.read(buf); // Reads from channel and places it into the buffer\nwhile(data != -1){ //checks if not end of reading\nbuf.flip();        //prepares for writing\n....\nsocketChannel.write(buf) // if you had initially placed data into buf and you want to read \n                         //from it so that you can write it back into the channel\n\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9893515,"reputation":6772,"user_id":7325804,"display_name":"Arnav Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527052384,"creation_date":1527052384,"answer_id":50480271,"question_id":16461284,"body_markdown":"Buffer has position, limit and capacity properties. You can allocate space for n number of elements while creating a buffer. Here n is the capacity. After buffer is allocated, position is set to 0 and limit is set to capacity.\r\n\r\nIf you filled the buffer with n-x number of elements, position will be set to n-x. Buffer will have empty elements after n-x.\r\n\r\nIf you want to drain the buffer at this point and that too want only non empty values, you need set limit to current position and position to zero. Using hasRemaining(), you can get elements till n-x. Flip sets the limit and position properties like described above. \r\n\r\nDifference between flip and rewind is that flip sets the position to 0 and sets limit to active content. Method rewind just sets the position to 0.\r\n\r\nFor more information http://www.zoftino.com/java-nio-tutorial","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>Buffer has position, limit and capacity properties. You can allocate space for n number of elements while creating a buffer. Here n is the capacity. After buffer is allocated, position is set to 0 and limit is set to capacity.</p>\n\n<p>If you filled the buffer with n-x number of elements, position will be set to n-x. Buffer will have empty elements after n-x.</p>\n\n<p>If you want to drain the buffer at this point and that too want only non empty values, you need set limit to current position and position to zero. Using hasRemaining(), you can get elements till n-x. Flip sets the limit and position properties like described above. </p>\n\n<p>Difference between flip and rewind is that flip sets the position to 0 and sets limit to active content. Method rewind just sets the position to 0.</p>\n\n<p>For more information <a href=\"http://www.zoftino.com/java-nio-tutorial\" rel=\"nofollow noreferrer\">http://www.zoftino.com/java-nio-tutorial</a></p>\n"},{"comments":[{"owner":{"account_id":29580870,"reputation":67,"user_id":22670690,"display_name":"GreyBit"},"score":0,"creation_date":1697802744,"post_id":77323600,"comment_id":136328826,"body_markdown":"That is indeed one of the more common use cases - edited the answer to include it.","body":"That is indeed one of the more common use cases - edited the answer to include it."}],"tags":[],"owner":{"account_id":29580870,"reputation":67,"user_id":22670690,"display_name":"GreyBit"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697802489,"creation_date":1697717083,"answer_id":77323600,"question_id":16461284,"body_markdown":"A buffer is conceptually a sequential store of data (let&#39;s say of bytes) into which you can write data and that you can read data from.  \r\n(Forget any associations with `Channel`&#39;s `read` and `write`. When I say &quot;read&quot; I&#39;m referring to `Buffer.get` and when I say `write` I mean `Buffer.put`)\r\n\r\nThe common  use case is to write something to the buffer and then read what was written.\r\n\r\nThe `limit` marks the position in the buffer where either operation (read or write) should stop: it is the first position that should *not* be read/written.\r\n\r\nIf we want to write to a buffer, we want to start at the beginning and stop when the buffer is full; there&#39;s no point in stopping earlier (unless we ran out of data). So it makes sense to set the `limit` to the `capacity` of the buffer.\r\nThus, when we want to start writing to a buffer, we call `clear`. This sets the current `position` to the start of the buffer and the `limit` to its capacity.\r\n\r\nIf we want to start reading from a buffer, the situation is different. We don&#39;t know how many elements were actually written into the buffer - we don&#39;t know if it&#39;s full. But we usually only want to read as many elements as were written: anything past that point is essentially garbage; reading till the end of the buffer is likely a bug!  \r\n\r\nLuckily, the previous write operation has left its last position in place, so the buffer itself *does* know how many elements were written into the buffer. It encapsulates this knowledge nicely in the form of the `flip` method which sets the `limit` to the current `position` and then sets the current `position` to 0.\r\n\r\nIn essence, this means that after having called `flip`, when we now start reading from the buffer, we will start at the beginning and stop after we&#39;ve read the last element written by the previous write operation. This ensures we don&#39;t read garbage.\r\n\r\nThe function of `rewind` is similar to but decidedly different from that of `flip`. It does *not* reset `limit` to the old `position`. Using `rewind` mostly makes sense when you have more specific use cases than simply writing into and then reading out of a buffer.  \r\nFor example you would use `rewind` if you have written to the buffer, called `flip`, read the buffer, and now want to read it a second (or third) time.    \r\n*Do not use* `rewind` *unless you have a clear and specific reason. For the common case of reading all data that was just written to a buffer, use* `flip` *instead.*\r\n\r\nRewriting your example to be closer to the common use case:\r\n\r\n    ByteBuffer bb = ByteBuffer.allocate(2); // limit initially 2\r\n    byte b = 127;\r\n    bb.put(b);\r\n\r\n    bb.rewind(); // after this call limit is still 2: probably not what we want!\r\n\r\n    System.out.println(&quot;Reading buffer after rewinding:&quot;);\r\n    while (bb.hasRemaining()) {\r\n        System.out.println(bb.get()); // two lines! 127 followed by 0\r\n    }\r\n\r\n    ByteBuffer bbFlip = ByteBuffer.allocate(2); // limit initially 2\r\n    bbFlip.put(b);\r\n\r\n    bbFlip.flip(); // after this call limit is 1 because position was 1 when we called flip()\r\n\r\n    System.out.println(&quot;Reading buffer after flipping:&quot;);\r\n    while (bbFlip.hasRemaining()) {\r\n        System.out.println(bbFlip.get()); // only one line: 127\r\n    }\r\n\r\nAs illustrated, when we use `rewind` in this way, we lose the information regarding how many elements were written to our buffer. If our requirement is that we must read those (and only those) elements that were just written, then we&#39;ve just introduced a bug into our code!","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>A buffer is conceptually a sequential store of data (let's say of bytes) into which you can write data and that you can read data from.<br />\n(Forget any associations with <code>Channel</code>'s <code>read</code> and <code>write</code>. When I say &quot;read&quot; I'm referring to <code>Buffer.get</code> and when I say <code>write</code> I mean <code>Buffer.put</code>)</p>\n<p>The common  use case is to write something to the buffer and then read what was written.</p>\n<p>The <code>limit</code> marks the position in the buffer where either operation (read or write) should stop: it is the first position that should <em>not</em> be read/written.</p>\n<p>If we want to write to a buffer, we want to start at the beginning and stop when the buffer is full; there's no point in stopping earlier (unless we ran out of data). So it makes sense to set the <code>limit</code> to the <code>capacity</code> of the buffer.\nThus, when we want to start writing to a buffer, we call <code>clear</code>. This sets the current <code>position</code> to the start of the buffer and the <code>limit</code> to its capacity.</p>\n<p>If we want to start reading from a buffer, the situation is different. We don't know how many elements were actually written into the buffer - we don't know if it's full. But we usually only want to read as many elements as were written: anything past that point is essentially garbage; reading till the end of the buffer is likely a bug!</p>\n<p>Luckily, the previous write operation has left its last position in place, so the buffer itself <em>does</em> know how many elements were written into the buffer. It encapsulates this knowledge nicely in the form of the <code>flip</code> method which sets the <code>limit</code> to the current <code>position</code> and then sets the current <code>position</code> to 0.</p>\n<p>In essence, this means that after having called <code>flip</code>, when we now start reading from the buffer, we will start at the beginning and stop after we've read the last element written by the previous write operation. This ensures we don't read garbage.</p>\n<p>The function of <code>rewind</code> is similar to but decidedly different from that of <code>flip</code>. It does <em>not</em> reset <code>limit</code> to the old <code>position</code>. Using <code>rewind</code> mostly makes sense when you have more specific use cases than simply writing into and then reading out of a buffer.<br />\nFor example you would use <code>rewind</code> if you have written to the buffer, called <code>flip</code>, read the buffer, and now want to read it a second (or third) time.<br />\n<em>Do not use</em> <code>rewind</code> <em>unless you have a clear and specific reason. For the common case of reading all data that was just written to a buffer, use</em> <code>flip</code> <em>instead.</em></p>\n<p>Rewriting your example to be closer to the common use case:</p>\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(2); // limit initially 2\nbyte b = 127;\nbb.put(b);\n\nbb.rewind(); // after this call limit is still 2: probably not what we want!\n\nSystem.out.println(&quot;Reading buffer after rewinding:&quot;);\nwhile (bb.hasRemaining()) {\n    System.out.println(bb.get()); // two lines! 127 followed by 0\n}\n\nByteBuffer bbFlip = ByteBuffer.allocate(2); // limit initially 2\nbbFlip.put(b);\n\nbbFlip.flip(); // after this call limit is 1 because position was 1 when we called flip()\n\nSystem.out.println(&quot;Reading buffer after flipping:&quot;);\nwhile (bbFlip.hasRemaining()) {\n    System.out.println(bbFlip.get()); // only one line: 127\n}\n</code></pre>\n<p>As illustrated, when we use <code>rewind</code> in this way, we lose the information regarding how many elements were written to our buffer. If our requirement is that we must read those (and only those) elements that were just written, then we've just introduced a bug into our code!</p>\n"}],"owner":{"account_id":2296572,"reputation":12748,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21245,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":7,"score":32,"last_activity_date":1697802489,"creation_date":1368100837,"question_id":16461284,"body_markdown":"I am aware that flip() set the current buffer position to 0 and set the limit to the previous buffer position whereas rewind() just set the current buffer position to 0.\r\n\r\nIn the following code, either I use rewind() or flip() i get the same result.\r\n\r\n    byte b = 127;\r\n\tbb.put(b);\r\n\tbb.rewind();//or flip();\r\n\t\r\n\tSystem.out.println(bb.get());\r\n\tbb.rewind();// or flip();\r\n\tSystem.out.println(bb.get());\r\n\t\r\nCould you provide me with a real example where the difference of these 2 methods really matters? Thanks in advance.","title":"difference between bytebuffer.flip() and bytebuffer.rewind()","body":"<p>I am aware that flip() set the current buffer position to 0 and set the limit to the previous buffer position whereas rewind() just set the current buffer position to 0.</p>\n<p>In the following code, either I use rewind() or flip() i get the same result.</p>\n<pre><code>byte b = 127;\nbb.put(b);\nbb.rewind();//or flip();\n\nSystem.out.println(bb.get());\nbb.rewind();// or flip();\nSystem.out.println(bb.get());\n</code></pre>\n<p>Could you provide me with a real example where the difference of these 2 methods really matters? Thanks in advance.</p>\n"},{"tags":["java","apache","apache-poi","hssf"],"comments":[{"owner":{"account_id":1586146,"reputation":2608,"user_id":1470454,"display_name":"Norbert Radyk"},"score":2,"creation_date":1399443763,"post_id":23506238,"comment_id":36057908,"body_markdown":"One suggestion would be that in Apache POI some of the resources such as CellStyle and Font need to be reused otherwise a new object will be attached every time to the cell (there is no notion of checking whether the given style has been already created). Can you please post your code and describe a bit more the inputs (size, number of rows etc.) to avoid speculation on what could have gone wrong?","body":"One suggestion would be that in Apache POI some of the resources such as CellStyle and Font need to be reused otherwise a new object will be attached every time to the cell (there is no notion of checking whether the given style has been already created). Can you please post your code and describe a bit more the inputs (size, number of rows etc.) to avoid speculation on what could have gone wrong?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1399451436,"post_id":23506238,"comment_id":36062015,"body_markdown":"Are you sure you&#39;re removing all references to the file when you&#39;re done? No lingering entries in lists or maps? No streams left open? No references passed to other libraries that might cache things?","body":"Are you sure you&#39;re removing all references to the file when you&#39;re done? No lingering entries in lists or maps? No streams left open? No references passed to other libraries that might cache things?"},{"owner":{"account_id":1438052,"reputation":243,"user_id":1359010,"accept_rate":0,"display_name":"user1359010"},"score":0,"creation_date":1399499398,"post_id":23506238,"comment_id":36093885,"body_markdown":"Norbert: thanks for suggestion. Code is very large (and ugly) so it might not help to post. Re: sheet size -- quite modest: three sheets, two w/200 rows of 5 cols, one with 2000 rows of 3 cols. So ss size likely not the issue. Can you indicate source of claim that CellStyle and Font need to be reused, so I can see what *else* is in that category, and can re-use accordingly? As noted, I am prepared to re-use rather than generate new objects, if I know which have to be handled that way.","body":"Norbert: thanks for suggestion. Code is very large (and ugly) so it might not help to post. Re: sheet size -- quite modest: three sheets, two w/200 rows of 5 cols, one with 2000 rows of 3 cols. So ss size likely not the issue. Can you indicate source of claim that CellStyle and Font need to be reused, so I can see what <i>else</i> is in that category, and can re-use accordingly? As noted, I am prepared to re-use rather than generate new objects, if I know which have to be handled that way."}],"answers":[{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1697802513,"post_id":77330026,"comment_id":136328785,"body_markdown":"Please elaborate what that causes and how it helps to solve the problem. And if I misread your post and what you actually recommend is to NOT do that, then please accept my apology and [edit] to fix - and to explain more.","body":"Please elaborate what that causes and how it helps to solve the problem. And if I misread your post and what you actually recommend is to NOT do that, then please accept my apology and <a href=\"https://stackoverflow.com/posts/77330026/edit\">edit</a> to fix - and to explain more."}],"tags":[],"owner":{"account_id":17659919,"reputation":608,"user_id":12818585,"display_name":"Andrea Ciccotta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697802439,"creation_date":1697796064,"answer_id":77330026,"question_id":23506238,"body_markdown":"I recommend to call workbook `.close()` method at the end of your flow.","title":"Memory leak when using Apache POI HSSF?","body":"<p>I recommend to call workbook <code>.close()</code> method at the end of your flow.</p>\n"}],"owner":{"account_id":1438052,"reputation":243,"user_id":1359010,"accept_rate":0,"display_name":"user1359010"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697802439,"creation_date":1399419041,"question_id":23506238,"body_markdown":"Have looked around extensively but can&#39;t find a definitive answer to this: are objects created using Apachie POI HSSF reclaimed by the normal Java gc, or do I need to do something else?\r\n\r\nI have a Java program that reads files of test data and writes xls files of data analysis. I&#39;ve noticed that the working set size (as reported by Process Explorer) gets larger by about 3MB for each file processed, leading me to suspect that (despite explicit calls to gc), the POI objects (cells, rows, sheets) are not being reclaimed, even though there are no lingering pointers to them once each file is written.\r\n\r\nI had not anticipated this, so the code currently creates new objects (cells, etc.) every time it needs one. One suggestion I have seen says to create the needed sheets, rows, cells once, then just keep setting new values in them before writing out each xls file. Will this in fact cut down on memory usage or does setting new values into cells also eat memory?\r\n\r\nIn case it matters, I&#39;m using poi-3.9-20121203\r\n\r\nI&#39;m running into a problem because I&#39;ve now got several thousand files to process and wind up with out of memory errors. (For various reasons it&#39;s much easier if I can do them all in one pass, instead of having to do say 500 at a time.)\r\n\r\nMany thanks for any recommendations and/or suggestions.\r\n","title":"Memory leak when using Apache POI HSSF?","body":"<p>Have looked around extensively but can't find a definitive answer to this: are objects created using Apachie POI HSSF reclaimed by the normal Java gc, or do I need to do something else?</p>\n\n<p>I have a Java program that reads files of test data and writes xls files of data analysis. I've noticed that the working set size (as reported by Process Explorer) gets larger by about 3MB for each file processed, leading me to suspect that (despite explicit calls to gc), the POI objects (cells, rows, sheets) are not being reclaimed, even though there are no lingering pointers to them once each file is written.</p>\n\n<p>I had not anticipated this, so the code currently creates new objects (cells, etc.) every time it needs one. One suggestion I have seen says to create the needed sheets, rows, cells once, then just keep setting new values in them before writing out each xls file. Will this in fact cut down on memory usage or does setting new values into cells also eat memory?</p>\n\n<p>In case it matters, I'm using poi-3.9-20121203</p>\n\n<p>I'm running into a problem because I've now got several thousand files to process and wind up with out of memory errors. (For various reasons it's much easier if I can do them all in one pass, instead of having to do say 500 at a time.)</p>\n\n<p>Many thanks for any recommendations and/or suggestions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1635733124,"post_id":69791042,"comment_id":123365708,"body_markdown":"If this is an academic exercise, then ok. If this is for a production system, use established authentication mechanisms using widely adopted libraries. On Windows platform use Windows integrated authentication.","body":"If this is an academic exercise, then ok. If this is for a production system, use established authentication mechanisms using widely adopted libraries. On Windows platform use Windows integrated authentication."}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635781402,"creation_date":1635721812,"answer_id":69791273,"question_id":69791042,"body_markdown":"Your code looks fine (well, be aware that you are using SHA-512 not SHA-256 as the question suggest) but please, take into account that you need to store the salt as well as the obtained hash in the database in order to validate the user password later.\r\n\r\nSalts are used in hashes as a way to protect against password identification, i.e., in order to prevent that applying the same hash algorithm to the same password for two different subjects gave as a result the same hash.\r\n\r\nBasically, you hash the result of concatenating the generated random salt and the user provided password: as mentioned, to validate the password later you need to store in the database the password as well.\r\n\r\nIn your test you should always use the same `salt`:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    //do some things ....\r\n    System.out.println(&quot;\\nEnter your password&quot;);\r\n    String password = scanner.nextLine();\r\n\r\n    // The salt should be the same every time you generate the hash\r\n    byte[] salt = getSalt();\r\n\r\n    try {\r\n        securePassword = get_SHA_512_SecurePassword(password, salt); // This is saved in the database.\r\n        System.out.println(securePassword);\r\n    \r\n    } catch (NoSuchAlgorithmException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    //Now ask user to enter his password\r\n    System.out.println(&quot;Enter your password&quot;);\r\n    String password1 = scanner.nextLine();\r\n\r\n    //validate user password. Compare password with password1\r\n    try {\r\n        securePassword1 = get_SHA_512_SecurePassword(password1, salt);\r\n        System.out.println(securePassword1);\r\n    \r\n    } catch (NoSuchAlgorithmException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    //I believe this is wrong but I don&#39;t have alternative\r\n    if (securePassword.equals(securePassword1)) {\r\n        System.out.println(&quot;Both are equal&quot;);\r\n    } else {\r\n        System.out.println(&quot;Both are not equal&quot;);\r\n    }\r\n}\r\n```\r\n\r\n------\r\n\r\nA word of caution, though.\r\n\r\nThe proposed approach has several disadvantages, among others:\r\n\r\n - As you indicated in your comment, you need to manage `salt`s in addition to the password themselves.\r\n - The SHA-* message digest algorithms are more suitable for general purpose hashing.\r\n\r\nFor these and other reasons, especially to improve security, to deal with [password hashing](https://en.wikipedia.org/wiki/Key_derivation_function#Password_hashing) exist a whole family of well khown algorithms such as [`bcrypt`](https://en.wikipedia.org/wiki/Bcrypt), [`PBKDF2`](https://en.wikipedia.org/wiki/PBKDF2), or the more resource expensive [`scrypt`](https://en.wikipedia.org/wiki/Scrypt), to name some of them.\r\n\r\nPlease, prefer the use of any of these algorithms and, if possible, use a battle tested and widely used implementation such as the one provided by [BouncyCastle](https://www.bouncycastle.org/) - even in these libraries you can find [flaws](https://portswigger.net/daily-swig/bcrypt-implementation-flaw-in-bouncy-castle-crypto-library-laid-bare). For instance:\r\n\r\n```java\r\nimport java.security.SecureRandom;\r\n\r\nimport org.bouncycastle.crypto.generators.OpenBSDBCrypt;\r\n\r\npublic class BCryptPasswordHashing {\r\n\r\n  private static final SecureRandom  secureRandom = new SecureRandom();\r\n\r\n  private final int costFactor;\r\n\r\n  /**\r\n   * Creates a new instance of &lt;code&gt;BCryptPasswordHashing&lt;/code&gt;.\r\n   *\r\n   * @param costFactor the BCrypt cost factor, must be between 4 and 31, inclusive.\r\n   *                   The greatest this value, the greatest hashing strength, but\r\n   *                   more computational power as well.\r\n   */\r\n  public BCryptPasswordHashing(int costFactor) {\r\n    this.costFactor = costFactor;\r\n  }\r\n\r\n  public final String hashPassword(char[] password) {\r\n    if (password == null) {\r\n      return null;\r\n    }\r\n\r\n    final byte[] salt = this.getSalt();\r\n    final String bCryptHash = OpenBSDBCrypt.generate(password, salt, this.costFactor);\r\n    return bCryptHash;\r\n  }\r\n\r\n  public final boolean verifyPassword(char[] password, String storedPassword) {\r\n    if (password == null) {\r\n      return (storedPassword == null);\r\n    }\r\n\r\n    if (storedPassword == null) {\r\n      return false;\r\n    }\r\n\r\n    return OpenBSDBCrypt.checkPassword(storedPassword, password);\r\n  }\r\n\r\n  private byte[] getSalt() {\r\n    byte[] salt = new byte[16]; // BCrypt salt size\r\n    secureRandom.nextBytes(salt);\r\n    return salt;\r\n  }\r\n}\r\n```\r\n\r\nYou can test this code with the following main method:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n  //do some things ....\r\n  System.out.println(&quot;\\nEnter your password&quot;);\r\n  String password = scanner.nextLine();\r\n  \r\n  // In my opinion, a cost factor between 12 and 16 is ok\r\n  // Please, consider read: https://labs.clio.com/bcrypt-cost-factor-4ca0a9b03966 \r\n  final BCryptPasswordHashing bCryptPasswordHashing = new BCryptPasswordHashing(12);\r\n  final String bCryptHash = bCryptPasswordHashing.hashPassword(password.toCharArray());\r\n  \r\n  //Now ask user to enter his password\r\n  System.out.println(&quot;Enter your password&quot;);\r\n  String password1 = scanner.nextLine();\r\n\r\n  final boolean passwordMatch = bCryptPasswordHashing.verifyPassword(password1.toCharArray(), bCryptHash);\r\n\r\n  if (passwordMatch) {\r\n    System.out.println(&quot;Both are equal&quot;);\r\n  } else {\r\n    System.out.println(&quot;Both are not equal&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAlthough my recommendation had been to use a battle tested library, for its simplicity, it is worth value to mention the different algorithms implementations provided by Patrick Favre. Consider for instance [this](https://github.com/patrickfav/bcrypt) of BCrypt.","title":"How to validate user password after hashing using sha-256 salted in Java","body":"<p>Your code looks fine (well, be aware that you are using SHA-512 not SHA-256 as the question suggest) but please, take into account that you need to store the salt as well as the obtained hash in the database in order to validate the user password later.</p>\n<p>Salts are used in hashes as a way to protect against password identification, i.e., in order to prevent that applying the same hash algorithm to the same password for two different subjects gave as a result the same hash.</p>\n<p>Basically, you hash the result of concatenating the generated random salt and the user provided password: as mentioned, to validate the password later you need to store in the database the password as well.</p>\n<p>In your test you should always use the same <code>salt</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    //do some things ....\n    System.out.println(&quot;\\nEnter your password&quot;);\n    String password = scanner.nextLine();\n\n    // The salt should be the same every time you generate the hash\n    byte[] salt = getSalt();\n\n    try {\n        securePassword = get_SHA_512_SecurePassword(password, salt); // This is saved in the database.\n        System.out.println(securePassword);\n    \n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n\n    //Now ask user to enter his password\n    System.out.println(&quot;Enter your password&quot;);\n    String password1 = scanner.nextLine();\n\n    //validate user password. Compare password with password1\n    try {\n        securePassword1 = get_SHA_512_SecurePassword(password1, salt);\n        System.out.println(securePassword1);\n    \n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n\n    //I believe this is wrong but I don't have alternative\n    if (securePassword.equals(securePassword1)) {\n        System.out.println(&quot;Both are equal&quot;);\n    } else {\n        System.out.println(&quot;Both are not equal&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p>A word of caution, though.</p>\n<p>The proposed approach has several disadvantages, among others:</p>\n<ul>\n<li>As you indicated in your comment, you need to manage <code>salt</code>s in addition to the password themselves.</li>\n<li>The SHA-* message digest algorithms are more suitable for general purpose hashing.</li>\n</ul>\n<p>For these and other reasons, especially to improve security, to deal with <a href=\"https://en.wikipedia.org/wiki/Key_derivation_function#Password_hashing\" rel=\"nofollow noreferrer\">password hashing</a> exist a whole family of well khown algorithms such as <a href=\"https://en.wikipedia.org/wiki/Bcrypt\" rel=\"nofollow noreferrer\"><code>bcrypt</code></a>, <a href=\"https://en.wikipedia.org/wiki/PBKDF2\" rel=\"nofollow noreferrer\"><code>PBKDF2</code></a>, or the more resource expensive <a href=\"https://en.wikipedia.org/wiki/Scrypt\" rel=\"nofollow noreferrer\"><code>scrypt</code></a>, to name some of them.</p>\n<p>Please, prefer the use of any of these algorithms and, if possible, use a battle tested and widely used implementation such as the one provided by <a href=\"https://www.bouncycastle.org/\" rel=\"nofollow noreferrer\">BouncyCastle</a> - even in these libraries you can find <a href=\"https://portswigger.net/daily-swig/bcrypt-implementation-flaw-in-bouncy-castle-crypto-library-laid-bare\" rel=\"nofollow noreferrer\">flaws</a>. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.SecureRandom;\n\nimport org.bouncycastle.crypto.generators.OpenBSDBCrypt;\n\npublic class BCryptPasswordHashing {\n\n  private static final SecureRandom  secureRandom = new SecureRandom();\n\n  private final int costFactor;\n\n  /**\n   * Creates a new instance of &lt;code&gt;BCryptPasswordHashing&lt;/code&gt;.\n   *\n   * @param costFactor the BCrypt cost factor, must be between 4 and 31, inclusive.\n   *                   The greatest this value, the greatest hashing strength, but\n   *                   more computational power as well.\n   */\n  public BCryptPasswordHashing(int costFactor) {\n    this.costFactor = costFactor;\n  }\n\n  public final String hashPassword(char[] password) {\n    if (password == null) {\n      return null;\n    }\n\n    final byte[] salt = this.getSalt();\n    final String bCryptHash = OpenBSDBCrypt.generate(password, salt, this.costFactor);\n    return bCryptHash;\n  }\n\n  public final boolean verifyPassword(char[] password, String storedPassword) {\n    if (password == null) {\n      return (storedPassword == null);\n    }\n\n    if (storedPassword == null) {\n      return false;\n    }\n\n    return OpenBSDBCrypt.checkPassword(storedPassword, password);\n  }\n\n  private byte[] getSalt() {\n    byte[] salt = new byte[16]; // BCrypt salt size\n    secureRandom.nextBytes(salt);\n    return salt;\n  }\n}\n</code></pre>\n<p>You can test this code with the following main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  //do some things ....\n  System.out.println(&quot;\\nEnter your password&quot;);\n  String password = scanner.nextLine();\n  \n  // In my opinion, a cost factor between 12 and 16 is ok\n  // Please, consider read: https://labs.clio.com/bcrypt-cost-factor-4ca0a9b03966 \n  final BCryptPasswordHashing bCryptPasswordHashing = new BCryptPasswordHashing(12);\n  final String bCryptHash = bCryptPasswordHashing.hashPassword(password.toCharArray());\n  \n  //Now ask user to enter his password\n  System.out.println(&quot;Enter your password&quot;);\n  String password1 = scanner.nextLine();\n\n  final boolean passwordMatch = bCryptPasswordHashing.verifyPassword(password1.toCharArray(), bCryptHash);\n\n  if (passwordMatch) {\n    System.out.println(&quot;Both are equal&quot;);\n  } else {\n    System.out.println(&quot;Both are not equal&quot;);\n  }\n}\n</code></pre>\n<p>Although my recommendation had been to use a battle tested library, for its simplicity, it is worth value to mention the different algorithms implementations provided by Patrick Favre. Consider for instance <a href=\"https://github.com/patrickfav/bcrypt\" rel=\"nofollow noreferrer\">this</a> of BCrypt.</p>\n"},{"comments":[{"owner":{"account_id":12483533,"reputation":59,"user_id":9087451,"display_name":"Olu"},"score":0,"creation_date":1635781351,"post_id":69791872,"comment_id":123379004,"body_markdown":"So simple and easy to understand. It works just fine. Thanks for your input","body":"So simple and easy to understand. It works just fine. Thanks for your input"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635730327,"creation_date":1635730327,"answer_id":69791872,"question_id":69791042,"body_markdown":"&gt;  I want to hash user password and save in the database using sha-256\r\n\r\nWhy? This is not industry standard. It is in fact an industry non-standard: A known bad thing. SHA-256 is optimized to run a few billion a second. There is active pressure on creating cheap rigs that can go as fast as possible what with all the cryptocurrencies flying around.\r\n\r\n__billions__. You can scan a single hash for all variations including a capital and a special symbol for the entire english dictionary in less than a second.\r\n\r\nWhat you want is a hash algorithm that is hard to create optimized hardware for - that your general purpose IAAS server CPU can do about as fast as custom code on a graphics card, or faster. Because a giant rig of a ton of full blown CPUs is a heck of a lot more expensive than an array of graphics cards, and harder to get your hands on.\r\n\r\nIn other words, you want a __password hashing algorithm__. There are many; the oldest and still perfectly suitable (in rather marked contrast to the SHA-and-co world, where SHA1 used to rule the roost, but that&#39;s at this point no longer advised for just about anything, by anybody), is BCrypt.\r\n\r\nThere are others: SCrypt, PBKDF, and more.\r\n\r\nPick any one of those. Forget SHA-512.\r\n\r\nYour second problem is salts. The point of them is that you _store them_. They are randomly generated and are required to check the hash later. The algorithm you run when a user enters a new password is this:\r\n\r\n* Generate a salt with a random number generator.\r\n* Hash up the concatenation of the salt and that password.\r\n* Store _both_ the salt _and_ that hash result in your DB.\r\n\r\nThen, when a user enters their password again later you need to verify it, like this:\r\n\r\n* The user entered username and password.\r\n* Look up the salt in your DB based on that username.\r\n* Concatenate the salt and the password they just entered, and hash it.\r\n* If it is identical to the result value in your DB row - that was the password. If not it wasn&#39;t.\r\n\r\nThis API in the end boils down to something quite simple:\r\n\r\n```\r\n/**\r\n * @return This method returns voodoo magic. You don&#39;t need to know what it is, just store it, and return it unchanged later when you call verify. */\r\npublic String createHash(String password) {\r\n   ... implementation here ...\r\n}\r\n\r\npublic boolean verify(String password, String thatThingIGaveYouEarlier) {\r\n   ... implementation here ...\r\n}\r\n```\r\n\r\nBecause that is simple and hard to mess up, __that is what your password hashing system should work with__. Not what you&#39;re doing: Hand-managing the salting, the hashing, and the verifying.\r\n\r\nNB: Just to satisfy a curiosity you might have, that string it returns is an encoded thing that contains only safe characters and contains both the salt and the hash and some extra placeholders that even make it compatible with other, non-java-written libraries.\r\n\r\nFortunately, _all_ of the good password hash implementations for java work just like that. That&#39;s great - it&#39;s easy to use. It also means you get to enjoy your current &#39;use one column for storing this stuff&#39;. It&#39;s just that this column will contain a string that contains all the relevant information (hash _and_ salt).\r\n\r\n[Here is an entire tutorial about it](https://www.baeldung.com/java-password-hashing) if you like a second source.\r\n\r\nHere is the [Java BCrypt](https://www.mindrot.org/projects/jBCrypt/) implementation, with the above API. Yes, that site looks old, and mentions 2015 as the last update. It&#39;s not because it isn&#39;t being maintained, it&#39;s because BCrypt has been the go-to answer, without any relevant attacks or issues, __for a decade__. This is good news, for security. It&#39;s a single java file, with a very permissive open source license. Just paste it in your project and go, if you prefer that over adding it to your build system&#39;s dependency list.\r\n","title":"How to validate user password after hashing using sha-256 salted in Java","body":"<blockquote>\n<p>I want to hash user password and save in the database using sha-256</p>\n</blockquote>\n<p>Why? This is not industry standard. It is in fact an industry non-standard: A known bad thing. SHA-256 is optimized to run a few billion a second. There is active pressure on creating cheap rigs that can go as fast as possible what with all the cryptocurrencies flying around.</p>\n<p><strong>billions</strong>. You can scan a single hash for all variations including a capital and a special symbol for the entire english dictionary in less than a second.</p>\n<p>What you want is a hash algorithm that is hard to create optimized hardware for - that your general purpose IAAS server CPU can do about as fast as custom code on a graphics card, or faster. Because a giant rig of a ton of full blown CPUs is a heck of a lot more expensive than an array of graphics cards, and harder to get your hands on.</p>\n<p>In other words, you want a <strong>password hashing algorithm</strong>. There are many; the oldest and still perfectly suitable (in rather marked contrast to the SHA-and-co world, where SHA1 used to rule the roost, but that's at this point no longer advised for just about anything, by anybody), is BCrypt.</p>\n<p>There are others: SCrypt, PBKDF, and more.</p>\n<p>Pick any one of those. Forget SHA-512.</p>\n<p>Your second problem is salts. The point of them is that you <em>store them</em>. They are randomly generated and are required to check the hash later. The algorithm you run when a user enters a new password is this:</p>\n<ul>\n<li>Generate a salt with a random number generator.</li>\n<li>Hash up the concatenation of the salt and that password.</li>\n<li>Store <em>both</em> the salt <em>and</em> that hash result in your DB.</li>\n</ul>\n<p>Then, when a user enters their password again later you need to verify it, like this:</p>\n<ul>\n<li>The user entered username and password.</li>\n<li>Look up the salt in your DB based on that username.</li>\n<li>Concatenate the salt and the password they just entered, and hash it.</li>\n<li>If it is identical to the result value in your DB row - that was the password. If not it wasn't.</li>\n</ul>\n<p>This API in the end boils down to something quite simple:</p>\n<pre><code>/**\n * @return This method returns voodoo magic. You don't need to know what it is, just store it, and return it unchanged later when you call verify. */\npublic String createHash(String password) {\n   ... implementation here ...\n}\n\npublic boolean verify(String password, String thatThingIGaveYouEarlier) {\n   ... implementation here ...\n}\n</code></pre>\n<p>Because that is simple and hard to mess up, <strong>that is what your password hashing system should work with</strong>. Not what you're doing: Hand-managing the salting, the hashing, and the verifying.</p>\n<p>NB: Just to satisfy a curiosity you might have, that string it returns is an encoded thing that contains only safe characters and contains both the salt and the hash and some extra placeholders that even make it compatible with other, non-java-written libraries.</p>\n<p>Fortunately, <em>all</em> of the good password hash implementations for java work just like that. That's great - it's easy to use. It also means you get to enjoy your current 'use one column for storing this stuff'. It's just that this column will contain a string that contains all the relevant information (hash <em>and</em> salt).</p>\n<p><a href=\"https://www.baeldung.com/java-password-hashing\" rel=\"nofollow noreferrer\">Here is an entire tutorial about it</a> if you like a second source.</p>\n<p>Here is the <a href=\"https://www.mindrot.org/projects/jBCrypt/\" rel=\"nofollow noreferrer\">Java BCrypt</a> implementation, with the above API. Yes, that site looks old, and mentions 2015 as the last update. It's not because it isn't being maintained, it's because BCrypt has been the go-to answer, without any relevant attacks or issues, <strong>for a decade</strong>. This is good news, for security. It's a single java file, with a very permissive open source license. Just paste it in your project and go, if you prefer that over adding it to your build system's dependency list.</p>\n"},{"comments":[{"owner":{"account_id":12483533,"reputation":59,"user_id":9087451,"display_name":"Olu"},"score":0,"creation_date":1635782129,"post_id":69791945,"comment_id":123379293,"body_markdown":"My concern about this method is creating a column in the dB to persist the salt.  @rzwitserloot inpu below, to use Bcrypt is favorable as it doesn&#39;t expose the salt.","body":"My concern about this method is creating a column in the dB to persist the salt.  @rzwitserloot inpu below, to use Bcrypt is favorable as it doesn&#39;t expose the salt."}],"tags":[],"owner":{"account_id":10945532,"reputation":4337,"user_id":8043806,"display_name":"Giddy Naya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635731361,"creation_date":1635731361,"answer_id":69791945,"question_id":69791042,"body_markdown":"You&#39;ve two options to pass validation:\r\n\r\n 1. Use a constant value for salt. \r\n 2. Use a dynamic value for salt but maintain a logic where the value of salt is the same for both password1 (The user&#39;s password in db) and password2 (The password to compare with).","title":"How to validate user password after hashing using sha-256 salted in Java","body":"<p>You've two options to pass validation:</p>\n<ol>\n<li>Use a constant value for salt.</li>\n<li>Use a dynamic value for salt but maintain a logic where the value of salt is the same for both password1 (The user's password in db) and password2 (The password to compare with).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697991676,"post_id":77330678,"comment_id":136345882,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77330678/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29715880,"reputation":1,"user_id":22774417,"display_name":"olin00"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697802387,"creation_date":1697802387,"answer_id":77330678,"question_id":69791042,"body_markdown":"Basically what @jccampanero wrote is correct but does not highlight the issue in your code:\r\nYour passwords don&#39;t match because the salt variable that you pass into the hashing function is generated 2x as a random number. Therefore the hash for the first password contains salt1 and hash for the second password contains salt2 (salt 1 and 2 are different values). If you use the same salt value then the passwords will match.","title":"How to validate user password after hashing using sha-256 salted in Java","body":"<p>Basically what @jccampanero wrote is correct but does not highlight the issue in your code:\nYour passwords don't match because the salt variable that you pass into the hashing function is generated 2x as a random number. Therefore the hash for the first password contains salt1 and hash for the second password contains salt2 (salt 1 and 2 are different values). If you use the same salt value then the passwords will match.</p>\n"}],"owner":{"account_id":12483533,"reputation":59,"user_id":9087451,"display_name":"Olu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1697802387,"creation_date":1635719036,"question_id":69791042,"body_markdown":"I am new to Java; so also postgresql I am using for the backend.\r\nI want to hash user password and save in the database using sha-256\r\nNext time the user visits, I want to compare the password user submitted with the saved hashpassword, &quot;at the java end&quot;.\r\nI have tried this (I got from the internet):\r\n\r\n    private static String get_SHA_512_SecurePassword(String passwordToHash, byte[] salt) {\r\n\t\t\t\r\n\t\tString generatedPassword = null;\r\n\t    try {\r\n\t        MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n\t        md.update(salt);\r\n\t        byte[] bytes = md.digest(passwordToHash.getBytes());\r\n\t        StringBuilder sb = new StringBuilder();\r\n\t        for(int i=0; i&lt; bytes.length ;i++)\r\n\t        {\r\n\t            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n\t        }\r\n\t        generatedPassword = sb.toString();\r\n\t    } \r\n\t    catch (NoSuchAlgorithmException e) \r\n\t    {\r\n\t        e.printStackTrace();\r\n\t    }\r\n\t    return generatedPassword;\r\n\t}\r\n\t\t\r\n\r\n\tprivate static byte[] getSalt() throws NoSuchAlgorithmException {\r\n\t    SecureRandom sr = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n\t    byte[] salt = new byte[16];\r\n\t    sr.nextBytes(salt);\r\n\t    return salt;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//do some things ....\r\n\t\tSystem.out.println(&quot;\\nEnter your password&quot;);\r\n\t\tString password = scanner.nextLine();\r\n\r\n\t\ttry {\r\n\t\t\tbyte[] salt = getSalt();\r\n\t\t\tsecurePassword = get_SHA_512_SecurePassword(password, salt); // This is saved in the database.\r\n\t\t    System.out.println(securePassword);\r\n\t    \r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t//Now ask user to enter his password\r\n\t\tSystem.out.println(&quot;Enter your password&quot;);\r\n\t\tString password1 = scanner.nextLine();\r\n\r\n\t\t//validate user password. Compare password with password1\r\n\t\ttry {\r\n\t\t\tbyte[] salt = getSalt();\r\n\t\t\tsecurePassword1 = get_SHA_512_SecurePassword(password1, salt);\r\n\t\t    System.out.println(securePassword1);\r\n\t    \r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\t//I believe this is wrong but I don&#39;t have alternative\r\n\t\tif (securePassword.equals(securePassword1)) {\r\n\t\t\tSystem.out.println(&quot;Both are equal&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Both are not equal&quot;);\r\n\t\t}\r\n\t}\r\n\r\nEven when both passwords are same, the comparison fails. \r\nThe result is same &quot;Both are not equal&quot; whether both passwords are same or different.\r\nSo is there a method of validating the user password? I have searched. The solution I got is to use Spring Bcript which I don&#39;t want for now.\r\nAnother alternative I am pushing to future is to do verification at the backend (as is the practise with php-Mysqli password_verify($password, $passwodhashed)). Reason is I am using postgresql with java, both new to me.\r\nThank you","title":"How to validate user password after hashing using sha-256 salted in Java","body":"<p>I am new to Java; so also postgresql I am using for the backend.\nI want to hash user password and save in the database using sha-256\nNext time the user visits, I want to compare the password user submitted with the saved hashpassword, &quot;at the java end&quot;.\nI have tried this (I got from the internet):</p>\n<pre><code>private static String get_SHA_512_SecurePassword(String passwordToHash, byte[] salt) {\n        \n    String generatedPassword = null;\n    try {\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\n        md.update(salt);\n        byte[] bytes = md.digest(passwordToHash.getBytes());\n        StringBuilder sb = new StringBuilder();\n        for(int i=0; i&lt; bytes.length ;i++)\n        {\n            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n        }\n        generatedPassword = sb.toString();\n    } \n    catch (NoSuchAlgorithmException e) \n    {\n        e.printStackTrace();\n    }\n    return generatedPassword;\n}\n    \n\nprivate static byte[] getSalt() throws NoSuchAlgorithmException {\n    SecureRandom sr = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\n    byte[] salt = new byte[16];\n    sr.nextBytes(salt);\n    return salt;\n}\n\npublic static void main(String[] args) {\n    //do some things ....\n    System.out.println(&quot;\\nEnter your password&quot;);\n    String password = scanner.nextLine();\n\n    try {\n        byte[] salt = getSalt();\n        securePassword = get_SHA_512_SecurePassword(password, salt); // This is saved in the database.\n        System.out.println(securePassword);\n    \n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n\n    //Now ask user to enter his password\n    System.out.println(&quot;Enter your password&quot;);\n    String password1 = scanner.nextLine();\n\n    //validate user password. Compare password with password1\n    try {\n        byte[] salt = getSalt();\n        securePassword1 = get_SHA_512_SecurePassword(password1, salt);\n        System.out.println(securePassword1);\n    \n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    }\n\n    //I believe this is wrong but I don't have alternative\n    if (securePassword.equals(securePassword1)) {\n        System.out.println(&quot;Both are equal&quot;);\n    } else {\n        System.out.println(&quot;Both are not equal&quot;);\n    }\n}\n</code></pre>\n<p>Even when both passwords are same, the comparison fails.\nThe result is same &quot;Both are not equal&quot; whether both passwords are same or different.\nSo is there a method of validating the user password? I have searched. The solution I got is to use Spring Bcript which I don't want for now.\nAnother alternative I am pushing to future is to do verification at the backend (as is the practise with php-Mysqli password_verify($password, $passwodhashed)). Reason is I am using postgresql with java, both new to me.\nThank you</p>\n"},{"tags":["java","android","kotlin","android-13"],"answers":[{"comments":[{"owner":{"account_id":10133958,"reputation":486,"user_id":7486233,"display_name":"Vishal Sojitra"},"score":0,"creation_date":1697802486,"post_id":77330630,"comment_id":136328784,"body_markdown":"Yes I have created my application with admin permission. But how can I provide READ_PRIVILEGED_PHONE_STATE permission to my application?","body":"Yes I have created my application with admin permission. But how can I provide READ_PRIVILEGED_PHONE_STATE permission to my application?"}],"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697801974,"creation_date":1697801974,"answer_id":77330630,"question_id":77325163,"body_markdown":"Most of the times it gives empty string only: this is what official document says [Link][1]\r\n\r\n&gt; Returns the ICC ID. Starting with API level 29 Security Patch 2021-04-05, &gt; returns the ICC ID if the calling app has been granted the \r\n&gt; READ_PRIVILEGED_PHONE_STATE permission, has carrier privileges (see \r\n&gt; TelephonyManager#hasCarrierPrivileges), or is a device owner or profile \r\n&gt; owner that has been granted the READ_PHONE_STATE permission. The profile \r\n&gt; owner is an app that owns a managed profile on the device; for more \r\n&gt; details see Work profiles. Profile owner access is deprecated and will be \r\n&gt; removed in a future release.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/telephony/SubscriptionInfo#getIccId()","title":"Obtaining SIM Serial Number in Android 13","body":"<p>Most of the times it gives empty string only: this is what official document says <a href=\"https://developer.android.com/reference/android/telephony/SubscriptionInfo#getIccId()\" rel=\"nofollow noreferrer\">Link</a></p>\n<blockquote>\n<p>Returns the ICC ID. Starting with API level 29 Security Patch 2021-04-05, &gt; returns the ICC ID if the calling app has been granted the\nREAD_PRIVILEGED_PHONE_STATE permission, has carrier privileges (see\nTelephonyManager#hasCarrierPrivileges), or is a device owner or profile\nowner that has been granted the READ_PHONE_STATE permission. The profile\nowner is an app that owns a managed profile on the device; for more\ndetails see Work profiles. Profile owner access is deprecated and will be\nremoved in a future release.</p>\n</blockquote>\n"}],"owner":{"account_id":10133958,"reputation":486,"user_id":7486233,"display_name":"Vishal Sojitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697801974,"creation_date":1697729258,"question_id":77325163,"body_markdown":"I&#39;m trying to retrieve the SIM serial number (also known as ICCID) in Android 13 using the TelephonyManager and SubscriptionManager, but I&#39;m encountering some issues. Here&#39;s what I&#39;ve tried:\r\n1. I&#39;ve declared the necessary permissions in my AndroidManifest.xml file:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n```\r\n\r\n2.I&#39;m using the following code to get the SIM serial number:\r\n\r\n\r\n```\r\nTelephonyManager telephonyManager = getSystemService(Context.TELEPHONY_SERVICE);\r\nif (telephonyManager != null) {\r\n    SubscriptionManager subscriptionManager = getSystemService(SubscriptionManager.class);\r\n    List&lt;SubscriptionInfo&gt; subscriptionInfoList = subscriptionManager.getActiveSubscriptionInfoList();\r\n    \r\n    if (subscriptionInfoList != null) {\r\n        for (SubscriptionInfo subscriptionInfo : subscriptionInfoList) {\r\n            String simSerialNumber = subscriptionInfo.getIccId();\r\n            // Handle the SIM serial number here\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nHowever, this code doesn&#39;t seem to be working in Android 13. It used to work in earlier versions, but it&#39;s not retrieving the SIM serial number.\r\n\r\n\r\n\r\nAre there any alternative methods to retrieve the SIM serial number in Android 13?\r\nAny help or guidance on this issue would be greatly appreciated. Thank you!","title":"Obtaining SIM Serial Number in Android 13","body":"<p>I'm trying to retrieve the SIM serial number (also known as ICCID) in Android 13 using the TelephonyManager and SubscriptionManager, but I'm encountering some issues. Here's what I've tried:</p>\n<ol>\n<li>I've declared the necessary permissions in my AndroidManifest.xml file:</li>\n</ol>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>2.I'm using the following code to get the SIM serial number:</p>\n<pre><code>TelephonyManager telephonyManager = getSystemService(Context.TELEPHONY_SERVICE);\nif (telephonyManager != null) {\n    SubscriptionManager subscriptionManager = getSystemService(SubscriptionManager.class);\n    List&lt;SubscriptionInfo&gt; subscriptionInfoList = subscriptionManager.getActiveSubscriptionInfoList();\n    \n    if (subscriptionInfoList != null) {\n        for (SubscriptionInfo subscriptionInfo : subscriptionInfoList) {\n            String simSerialNumber = subscriptionInfo.getIccId();\n            // Handle the SIM serial number here\n        }\n    }\n}\n\n</code></pre>\n<p>However, this code doesn't seem to be working in Android 13. It used to work in earlier versions, but it's not retrieving the SIM serial number.</p>\n<p>Are there any alternative methods to retrieve the SIM serial number in Android 13?\nAny help or guidance on this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","interpreter","zpl"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1697800863,"post_id":77330502,"comment_id":136328505,"body_markdown":"Questions asking us to [recommend or find a book](https://stackoverflow.com/help/on-topic), tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam.","body":"Questions asking us to <a href=\"https://stackoverflow.com/help/on-topic\">recommend or find a book</a>, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697803978,"post_id":77330502,"comment_id":136329062,"body_markdown":"In the link it says explicitly &quot;3. Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot; which is what I mentioned above. Unfortunately even with the changes it still is a request for recommendations.","body":"In the link it says explicitly &quot;3. Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot; which is what I mentioned above. Unfortunately even with the changes it still is a request for recommendations."},{"owner":{"account_id":15701581,"reputation":1804,"user_id":11329562,"display_name":"Delphi Coder"},"score":0,"creation_date":1699270886,"post_id":77330502,"comment_id":136506240,"body_markdown":"I once wrote such an interpreter for a small subset of ZPL commands in Delphi: https://github.com/TheDelphiCoder/Zebra","body":"I once wrote such an interpreter for a small subset of ZPL commands in Delphi: <a href=\"https://github.com/TheDelphiCoder/Zebra\" rel=\"nofollow noreferrer\">github.com/TheDelphiCoder/Zebra</a>"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1699271397,"post_id":77330502,"comment_id":136506319,"body_markdown":"Thank you; it&#39;s fascinating how you&#39;ve tackled this. Could you share a sample output you&#39;ve obtained from the interpreter? Based on what I&#39;ve observed, this should be capable of offering a preview of the ZPL Code, correct?","body":"Thank you; it&#39;s fascinating how you&#39;ve tackled this. Could you share a sample output you&#39;ve obtained from the interpreter? Based on what I&#39;ve observed, this should be capable of offering a preview of the ZPL Code, correct?"}],"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697801232,"creation_date":1697800763,"question_id":77330502,"body_markdown":"I&#39;m currently working on a project to develop a ZPL Viewer in Java, aimed at rendering ZPL label designs and providing a user-friendly interface. To achieve this, I am in search of a Java library or framework capable of interpreting ZPL code and converting it into Java objects or a similar data format. This interpretation step is crucial for rendering the ZPL label designs effectively.\r\n\r\nWhile exploring potential solutions, I have come across the GitHub repository w3blogfr/zebra-zpl. However, upon closer examination, it seems that this repository lacks the interpreter functionality I need for my project.\r\n\r\nGiven this context, I have a few questions:\r\n\r\n1. Can anyone recommend a Java library or framework that can effectively interpret ZPL code and convert it into Java objects or data structures suitable for rendering ZPL label designs?\r\n\r\n2. If such a library doesn&#39;t exist, I&#39;m also considering the option of writing my own ZPL code interpreter. Are there any resources or best practices that you can recommend for building a ZPL interpreter in Java?\r\n\r\nI appreciate any insights, recommendations, or guidance on this matter. Your assistance will be valuable in making this ZPL Viewer project a success. Thank you in advance!\r\n","title":"Java Library for ZPL Code Interpretation to Build a ZPL Viewer","body":"<p>I'm currently working on a project to develop a ZPL Viewer in Java, aimed at rendering ZPL label designs and providing a user-friendly interface. To achieve this, I am in search of a Java library or framework capable of interpreting ZPL code and converting it into Java objects or a similar data format. This interpretation step is crucial for rendering the ZPL label designs effectively.</p>\n<p>While exploring potential solutions, I have come across the GitHub repository w3blogfr/zebra-zpl. However, upon closer examination, it seems that this repository lacks the interpreter functionality I need for my project.</p>\n<p>Given this context, I have a few questions:</p>\n<ol>\n<li><p>Can anyone recommend a Java library or framework that can effectively interpret ZPL code and convert it into Java objects or data structures suitable for rendering ZPL label designs?</p>\n</li>\n<li><p>If such a library doesn't exist, I'm also considering the option of writing my own ZPL code interpreter. Are there any resources or best practices that you can recommend for building a ZPL interpreter in Java?</p>\n</li>\n</ol>\n<p>I appreciate any insights, recommendations, or guidance on this matter. Your assistance will be valuable in making this ZPL Viewer project a success. Thank you in advance!</p>\n"},{"tags":["java","android","google-maps","android-fragments","android-permissions"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1462888385,"post_id":37140519,"comment_id":61819834,"body_markdown":"I am surprised that this compiles. `checkSelfPermission()` uses `LocationActivity.this`. The second `requestPermissions()` uses `PermissionsRequestActivity.this`.","body":"I am surprised that this compiles. <code>checkSelfPermission()</code> uses <code>LocationActivity.this</code>. The second <code>requestPermissions()</code> uses <code>PermissionsRequestActivity.this</code>."},{"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"score":0,"creation_date":1462888449,"post_id":37140519,"comment_id":61819877,"body_markdown":"Sorry yes, I had to change my code slightly for posting, the second one should be LocationActivity.this","body":"Sorry yes, I had to change my code slightly for posting, the second one should be LocationActivity.this"},{"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"score":0,"creation_date":1462888523,"post_id":37140519,"comment_id":61819940,"body_markdown":"I had been trying making all requestPermissions in a separate Activity, but this makes the callback difficult, and is hacky.","body":"I had been trying making all requestPermissions in a separate Activity, but this makes the callback difficult, and is hacky."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1462888541,"post_id":37140519,"comment_id":61819948,"body_markdown":"FWIW, [this sample app](https://github.com/commonsguy/cw-omnibus/tree/master/MapsV2/MyLocationMNC) uses runtime permissions without issue.","body":"FWIW, <a href=\"https://github.com/commonsguy/cw-omnibus/tree/master/MapsV2/MyLocationMNC\" rel=\"nofollow noreferrer\">this sample app</a> uses runtime permissions without issue."},{"owner":{"account_id":2535419,"reputation":5583,"user_id":2202675,"display_name":"danny117"},"score":0,"creation_date":1462888547,"post_id":37140519,"comment_id":61819959,"body_markdown":"Shouldn&#39;t you have specified finelocation in the manifest?  Or has android changed completely in the last year?","body":"Shouldn&#39;t you have specified finelocation in the manifest?  Or has android changed completely in the last year?"},{"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"score":0,"creation_date":1462889497,"post_id":37140519,"comment_id":61820631,"body_markdown":"@CommonsWare I can confirm your sample also works when the AbstractMapActivity extends FragmentActivity too, so I guess it&#39;s not related to the map, or that...","body":"@CommonsWare I can confirm your sample also works when the AbstractMapActivity extends FragmentActivity too, so I guess it&#39;s not related to the map, or that..."}],"answers":[{"comments":[{"owner":{"account_id":955542,"reputation":7742,"user_id":980917,"accept_rate":47,"display_name":"AlexVPerl"},"score":0,"creation_date":1472529815,"post_id":37142595,"comment_id":65775267,"body_markdown":"Ditto - using TabHost and it ain&#39;t showing for me either. Anyone know how to handle?","body":"Ditto - using TabHost and it ain&#39;t showing for me either. Anyone know how to handle?"},{"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"score":0,"creation_date":1472649879,"post_id":37142595,"comment_id":65837483,"body_markdown":"I ended up creating a PermissionsRequestActivity which handles the permission request and response on behalf of my TabHost, then exits (pass the requested permission information in through the Intent extras Bundle).\n\nIt passes back the response to the request as a Broadcast, which is picked up by my TabHost. Bit of a hack but works OK!","body":"I ended up creating a PermissionsRequestActivity which handles the permission request and response on behalf of my TabHost, then exits (pass the requested permission information in through the Intent extras Bundle).  It passes back the response to the request as a Broadcast, which is picked up by my TabHost. Bit of a hack but works OK!"},{"owner":{"account_id":33950,"reputation":15047,"user_id":95462,"accept_rate":86,"display_name":"Greg Ennis"},"score":0,"creation_date":1477019461,"post_id":37142595,"comment_id":67603800,"body_markdown":"To clarify, the TabActivity itself handles permissions requests fine, but any activities hosted inside it as tabs do not. So I was able to solve this by posting messages up to the main activity and then back to the fragment.","body":"To clarify, the TabActivity itself handles permissions requests fine, but any activities hosted inside it as tabs do not. So I was able to solve this by posting messages up to the main activity and then back to the fragment."}],"tags":[],"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1472649939,"creation_date":1462893400,"answer_id":37142595,"question_id":37140519,"body_markdown":"After stripping out my class completely, and it still not working, I realised that this Activity is being instantiated using a TabHost. \r\n\r\nWhen I stop using the TabHost, the prompt is displayed successfully. I guess TabHosts are not supported by the new permissions prompts - is this a bug?\r\n\r\nSame problem as https://stackoverflow.com/questions/36529635/app-requests-arent-showing-up\r\n\r\nI ended up creating a PermissionsRequestActivity which handles the permission request and response on behalf of my TabHost, then exits (pass the requested permission information in through the Intent extras Bundle).  \r\nIt passes back the response to the request as a Broadcast, which is picked up by my TabHost.  \r\n\r\nBit of a hack but works OK!","title":"ActivityCompat.requestPermissions does not show prompt","body":"<p>After stripping out my class completely, and it still not working, I realised that this Activity is being instantiated using a TabHost. </p>\n\n<p>When I stop using the TabHost, the prompt is displayed successfully. I guess TabHosts are not supported by the new permissions prompts - is this a bug?</p>\n\n<p>Same problem as <a href=\"https://stackoverflow.com/questions/36529635/app-requests-arent-showing-up\">App requests aren&#39;t showing up</a></p>\n\n<p>I ended up creating a PermissionsRequestActivity which handles the permission request and response on behalf of my TabHost, then exits (pass the requested permission information in through the Intent extras Bundle).<br>\nIt passes back the response to the request as a Broadcast, which is picked up by my TabHost.  </p>\n\n<p>Bit of a hack but works OK!</p>\n"},{"comments":[{"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"score":0,"creation_date":1463999493,"post_id":37379969,"comment_id":62286710,"body_markdown":"Thanks, I had this; elsewhere in the app the permission request was displaying successfully. I found the cause, see my answer above.","body":"Thanks, I had this; elsewhere in the app the permission request was displaying successfully. I found the cause, see my answer above."}],"tags":[],"owner":{"account_id":2819088,"reputation":3661,"user_id":2423274,"accept_rate":94,"display_name":"Alejandro Casanova"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697800774,"creation_date":1463953501,"answer_id":37379969,"question_id":37140519,"body_markdown":"Check that you have already added the requested permission in Android&#39;s manifest file like before Android M, only then you will get expected behaviour.\r\n\r\nAdd the permission to your manifest so you can request it via \r\n    ActivityCompat.requestPermissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;","title":"ActivityCompat.requestPermissions does not show prompt","body":"<p>Check that you have already added the requested permission in Android's manifest file like before Android M, only then you will get expected behaviour.</p>\n<p>Add the permission to your manifest so you can request it via\nActivityCompat.requestPermissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9545349,"reputation":481,"user_id":7091686,"display_name":"Luidgi Gromat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508532687,"creation_date":1508532687,"answer_id":46857160,"question_id":37140519,"body_markdown":"I&#39;ve faced the same problem on a project which use TabHost.\r\nBasis on @Robin solution, I use the EventBus library for send a message from child activity to the TabActity.\r\n\r\nEventBus : https://github.com/greenrobot/EventBus\r\n\r\nCreate an event object :\r\n\r\n    public class MessageEvent {\r\n        private String message;\r\n        public MessageEvent(String message){\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage(){\r\n            return this.message;\r\n        }\r\n    }\r\n\r\nIn your main Activity :\r\n\r\n    private EventBus eventBus = EventBus.getDefault();\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n        eventBus.register(this);\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        eventBus.unregister(this);\r\n        super.onDestroy();\r\n    }\r\n    @Subscribe(threadMode = ThreadMode.MAIN)\r\n    public void onMessageEvent(MessageEvent event) {\r\n        if (event.getMessage().equals(&quot;contacts&quot;)){\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; checkSelfPermission(android.Manifest.permission.WRITE_CONTACTS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainPage.this,new String[]{android.Manifest.permission.WRITE_CONTACTS}, 100 );\r\n            }\r\n        }\r\n    };\r\n\r\nSet a different message for the permission your want to request.\r\nIn your child activity you can than post the adequate message :\r\n\r\n    EventBus.getDefault().post(new MessageEvent(&quot;contacts&quot;));\r\n\r\nBe aware of onRequestPermissionsResult callback and the request code ;)! It will only work in the main activity.\r\n","title":"ActivityCompat.requestPermissions does not show prompt","body":"<p>I've faced the same problem on a project which use TabHost.\nBasis on @Robin solution, I use the EventBus library for send a message from child activity to the TabActity.</p>\n\n<p>EventBus : <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">https://github.com/greenrobot/EventBus</a></p>\n\n<p>Create an event object :</p>\n\n<pre><code>public class MessageEvent {\n    private String message;\n    public MessageEvent(String message){\n        this.message = message;\n    }\n\n    public String getMessage(){\n        return this.message;\n    }\n}\n</code></pre>\n\n<p>In your main Activity :</p>\n\n<pre><code>private EventBus eventBus = EventBus.getDefault();\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    eventBus.register(this);\n}\n@Override\nprotected void onDestroy() {\n    eventBus.unregister(this);\n    super.onDestroy();\n}\n@Subscribe(threadMode = ThreadMode.MAIN)\npublic void onMessageEvent(MessageEvent event) {\n    if (event.getMessage().equals(\"contacts\")){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; checkSelfPermission(android.Manifest.permission.WRITE_CONTACTS) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainPage.this,new String[]{android.Manifest.permission.WRITE_CONTACTS}, 100 );\n        }\n    }\n};\n</code></pre>\n\n<p>Set a different message for the permission your want to request.\nIn your child activity you can than post the adequate message :</p>\n\n<pre><code>EventBus.getDefault().post(new MessageEvent(\"contacts\"));\n</code></pre>\n\n<p>Be aware of onRequestPermissionsResult callback and the request code ;)! It will only work in the main activity.</p>\n"}],"owner":{"account_id":8414729,"reputation":321,"user_id":6315532,"display_name":"Robin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10799,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37142595,"answer_count":3,"score":8,"last_activity_date":1697800774,"creation_date":1462888215,"question_id":37140519,"body_markdown":"I&#39;m attempting to request `ACCESS_FINE_LOCATION` permissions in order to get the user&#39;s current location.\r\n\r\nMy logging indicates that my app does not currently have this permission when querying `ContextCompat.checkSelfPermission()`, but when calling `ActivityCompat.requestPermissions()` nothing is displayed.\r\n\r\nMy Google map code (implementing `OnMapReadyCallback` and `ActivityCompat.OnRequestPermissionsResultCallback()`) is in a `FragmentActivity`.\r\n\r\nI have managed to get the `requestPermissions()` function working successfully in other Activities in the app, it&#39;s just the one with the Google map. It doesn&#39;t work when placed in the `onCreate()` method of the `Activity`, or in `onMapReady()` (where it needs to go).\r\n\r\n    if(ContextCompat.checkSelfPermission(LocationActivity.this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            Log.d(TAG, &quot;not granted&quot;);\r\n            final String[] permissions = new String[] {android.Manifest.permission.ACCESS_FINE_LOCATION};\r\n        if(ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                Log.d(TAG, &quot;rationale&quot;);\r\n                // Explain to the user why permission is required, then request again\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;We need permissions&quot;)\r\n                        .setCancelable(false)\r\n                        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                ActivityCompat.requestPermissions(LocationActivity.this, permissions, 1);\r\n                        }\r\n                    });\r\n            AlertDialog alert = builder.create();\r\n            alert.show();\r\n\r\n        } else {\r\n            Log.d(TAG, &quot;request&quot; + android.Manifest.permission.ACCESS_FINE_LOCATION);\r\n            // If permission has not been denied before, request the permission\r\n            ActivityCompat.requestPermissions(LocationActivity.this, permissions, 1);\r\n        }\r\n    } else {\r\n        Log.d(TAG, &quot;granted&quot;);\r\n    }\r\n\r\n\r\nAny ideas? Is it something to do with my Activity&#39;s class (`FragmentActivity`), or possible the Google map calling the permissions request asynchronously?","title":"ActivityCompat.requestPermissions does not show prompt","body":"<p>I'm attempting to request <code>ACCESS_FINE_LOCATION</code> permissions in order to get the user's current location.</p>\n\n<p>My logging indicates that my app does not currently have this permission when querying <code>ContextCompat.checkSelfPermission()</code>, but when calling <code>ActivityCompat.requestPermissions()</code> nothing is displayed.</p>\n\n<p>My Google map code (implementing <code>OnMapReadyCallback</code> and <code>ActivityCompat.OnRequestPermissionsResultCallback()</code>) is in a <code>FragmentActivity</code>.</p>\n\n<p>I have managed to get the <code>requestPermissions()</code> function working successfully in other Activities in the app, it's just the one with the Google map. It doesn't work when placed in the <code>onCreate()</code> method of the <code>Activity</code>, or in <code>onMapReady()</code> (where it needs to go).</p>\n\n<pre><code>if(ContextCompat.checkSelfPermission(LocationActivity.this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        Log.d(TAG, \"not granted\");\n        final String[] permissions = new String[] {android.Manifest.permission.ACCESS_FINE_LOCATION};\n    if(ActivityCompat.shouldShowRequestPermissionRationale(this, android.Manifest.permission.ACCESS_FINE_LOCATION)) {\n            Log.d(TAG, \"rationale\");\n            // Explain to the user why permission is required, then request again\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setMessage(\"We need permissions\")\n                    .setCancelable(false)\n                    .setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int id) {\n                            ActivityCompat.requestPermissions(LocationActivity.this, permissions, 1);\n                    }\n                });\n        AlertDialog alert = builder.create();\n        alert.show();\n\n    } else {\n        Log.d(TAG, \"request\" + android.Manifest.permission.ACCESS_FINE_LOCATION);\n        // If permission has not been denied before, request the permission\n        ActivityCompat.requestPermissions(LocationActivity.this, permissions, 1);\n    }\n} else {\n    Log.d(TAG, \"granted\");\n}\n</code></pre>\n\n<p>Any ideas? Is it something to do with my Activity's class (<code>FragmentActivity</code>), or possible the Google map calling the permissions request asynchronously?</p>\n"},{"tags":["java","string","key-value"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697818212,"post_id":6712587,"comment_id":136331766,"body_markdown":"You’ll find more good Answers on this duplicate: [*How to convert stream of character to Map&lt;Character, Integer&gt;*](https://stackoverflow.com/q/77325629/642706)","body":"You’ll find more good Answers on this duplicate: <a href=\"https://stackoverflow.com/q/77325629/642706\"><i>How to convert stream of character to Map&lt;Character, Integer&gt;</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":764678,"reputation":509,"user_id":792080,"accept_rate":86,"display_name":"Bill"},"score":0,"creation_date":1310761131,"post_id":6712620,"comment_id":7948062,"body_markdown":"I need something from the standard libraries honestly.","body":"I need something from the standard libraries honestly."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1369027751,"creation_date":1310760613,"answer_id":6712620,"question_id":6712587,"body_markdown":"You can use a [Multiset][1] (from [guava][2]). It will give you the count for each object. For example:\r\n             \r\n\r\n\r\n    Multiset&lt;Character&gt; chars = HashMultiset.create();\r\n    for (int i = 0; i &lt; string.length(); i++) {\r\n        chars.add(string.charAt(i));\r\n    }\r\n\r\n\r\nThen for each character you can call `chars.count(&#39;a&#39;)` and it returns the number of occurrences\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/Multiset.html\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"How to count frequency of characters in a string?","body":"<p>You can use a <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/Multiset.html\" rel=\"noreferrer\">Multiset</a> (from <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">guava</a>). It will give you the count for each object. For example:</p>\n\n<pre><code>Multiset&lt;Character&gt; chars = HashMultiset.create();\nfor (int i = 0; i &lt; string.length(); i++) {\n    chars.add(string.charAt(i));\n}\n</code></pre>\n\n<p>Then for each character you can call <code>chars.count('a')</code> and it returns the number of occurrences</p>\n"},{"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310760734,"creation_date":1310760734,"answer_id":6712636,"question_id":6712587,"body_markdown":"If this does not need to be super-fast just create an array of integers, one integer for each letter (only alphabetic so 2*26 integers? or any binary data possible?). go through the string one char at a time, get the index of the responsible integer (e.g. if you only have alphabetic chars you can have &#39;A&#39; be at index 0 and get that index by subtracting any &#39;A&#39; to &#39;Z&#39; by &#39;A&#39; just as an example of how you can get reasonably fast indices) and increment the value in that index.\r\n\r\nThere are various micro-optimizations to make this faster (if necessary).","title":"How to count frequency of characters in a string?","body":"<p>If this does not need to be super-fast just create an array of integers, one integer for each letter (only alphabetic so 2*26 integers? or any binary data possible?). go through the string one char at a time, get the index of the responsible integer (e.g. if you only have alphabetic chars you can have 'A' be at index 0 and get that index by subtracting any 'A' to 'Z' by 'A' just as an example of how you can get reasonably fast indices) and increment the value in that index.</p>\n\n<p>There are various micro-optimizations to make this faster (if necessary).</p>\n"},{"tags":[],"owner":{"account_id":392943,"reputation":1161,"user_id":754519,"accept_rate":94,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310760754,"creation_date":1310760754,"answer_id":6712643,"question_id":6712587,"body_markdown":"Well, two ways come to mind and it depends on your preference:\r\n\r\n1. Sort the array by characters. Then, counting each character becomes trivial. But you will have to make a copy of the array first.\r\n\r\n2. Create another integer array of size 26 (say freq) and str is the array of characters.\r\n\r\n    `for(int i = 0; i &lt; str.length; i ++)`\r\n    \r\n    `freq[str[i] - &#39;a&#39;] ++; //Assuming all characters are in lower case`\r\n\r\nSo the number of &#39;a&#39; &#39;s will be stored at freq[0] and the number of &#39;z&#39; &#39;s will be at freq[25]","title":"How to count frequency of characters in a string?","body":"<p>Well, two ways come to mind and it depends on your preference:</p>\n\n<ol>\n<li><p>Sort the array by characters. Then, counting each character becomes trivial. But you will have to make a copy of the array first.</p></li>\n<li><p>Create another integer array of size 26 (say freq) and str is the array of characters.</p>\n\n<p><code>for(int i = 0; i &lt; str.length; i ++)</code></p>\n\n<p><code>freq[str[i] - 'a'] ++; //Assuming all characters are in lower case</code></p></li>\n</ol>\n\n<p>So the number of 'a' 's will be stored at freq[0] and the number of 'z' 's will be at freq[25]</p>\n"},{"comments":[{"owner":{"account_id":764678,"reputation":509,"user_id":792080,"accept_rate":86,"display_name":"Bill"},"score":2,"creation_date":1310761409,"post_id":6712708,"comment_id":7948129,"body_markdown":"oh, but you cant instatiate Map, its abstract, just fyi.","body":"oh, but you cant instatiate Map, its abstract, just fyi."},{"owner":{"account_id":114651,"reputation":527,"user_id":301385,"display_name":"xunil154"},"score":0,"creation_date":1310761460,"post_id":6712708,"comment_id":7948149,"body_markdown":"My bad, it should be HashMap, not Map. Thanks for the catch","body":"My bad, it should be HashMap, not Map. Thanks for the catch"},{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":0,"creation_date":1310767143,"post_id":6712708,"comment_id":7949340,"body_markdown":"&lt;char, int&gt; should also be &lt;Character, Integer&gt;.","body":"&lt;char, int&gt; should also be &lt;Character, Integer&gt;."},{"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"score":0,"creation_date":1310767475,"post_id":6712708,"comment_id":7949399,"body_markdown":"HashMap&lt;char... should not work right? HashMap requires its generic types to be reference types not immediates right? You could use boxed Character here, or you could take a look at my array-solution.","body":"HashMap&lt;char... should not work right? HashMap requires its generic types to be reference types not immediates right? You could use boxed Character here, or you could take a look at my array-solution."},{"owner":{"account_id":5924360,"reputation":1003,"user_id":4735349,"accept_rate":43,"display_name":"Christos Michael"},"score":0,"creation_date":1450347296,"post_id":6712708,"comment_id":56405295,"body_markdown":"Could you please explain the step:  \n\nif(val != null) {\n\n...\n}","body":"Could you please explain the step:    if(val != null) {  ... }"},{"owner":{"account_id":5810248,"reputation":483,"user_id":4581570,"accept_rate":67,"display_name":"User"},"score":0,"creation_date":1461946428,"post_id":6712708,"comment_id":61444891,"body_markdown":"@ChristosMichael if the value is null i.e. there is no entry for that character it should be increased to 1, since it is the first occurrence.","body":"@ChristosMichael if the value is null i.e. there is no entry for that character it should be increased to 1, since it is the first occurrence."}],"tags":[],"owner":{"account_id":114651,"reputation":527,"user_id":301385,"display_name":"xunil154"},"comment_count":6,"down_vote_count":2,"up_vote_count":38,"is_accepted":true,"score":36,"last_activity_date":1668694494,"creation_date":1310761140,"answer_id":6712708,"question_id":6712587,"body_markdown":"You can use a java Map and map a `char` to an `int`. You can then iterate over the characters in the string and check if they have been added to the map, if they have, you can then increment its value.\r\n\r\nFor example:\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\r\n    String s = &quot;aasjjikkk&quot;;\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n        char c = s.charAt(i);\r\n        Integer val = map.get(c);\r\n        if (val != null) {\r\n            map.put(c, val + 1);\r\n        }\r\n        else {\r\n           map.put(c, 1);\r\n       }\r\n    }\r\n\r\n\r\nAt the end you will have a count of all the characters you encountered and you can extract their frequencies from that.\r\n\r\nAlternatively, you can use Bozho&#39;s solution of using a Multiset and counting the total occurences.","title":"How to count frequency of characters in a string?","body":"<p>You can use a java Map and map a <code>char</code> to an <code>int</code>. You can then iterate over the characters in the string and check if they have been added to the map, if they have, you can then increment its value.</p>\n<p>For example:</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\nString s = &quot;aasjjikkk&quot;;\nfor (int i = 0; i &lt; s.length(); i++) {\n    char c = s.charAt(i);\n    Integer val = map.get(c);\n    if (val != null) {\n        map.put(c, val + 1);\n    }\n    else {\n       map.put(c, 1);\n   }\n}\n</code></pre>\n<p>At the end you will have a count of all the characters you encountered and you can extract their frequencies from that.</p>\n<p>Alternatively, you can use Bozho's solution of using a Multiset and counting the total occurences.</p>\n"},{"tags":[],"owner":{"account_id":235494,"reputation":1156,"user_id":502344,"accept_rate":86,"display_name":"Mike Caputo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310762165,"creation_date":1310761365,"answer_id":6712745,"question_id":6712587,"body_markdown":"You can use a Hashtable with each character as the key and the total count becomes the value.\r\n\r\n    Hashtable&lt;Character,Integer&gt; table = new Hashtable&lt;Character,Integer&gt;();\r\n    String str = &quot;aasjjikkk&quot;;\r\n    for( c in str ) {\r\n        if( table.get(c) == null )\r\n            table.put(c,1);\r\n        else\r\n            table.put(c,table.get(c) + 1);\r\n    }\r\n\r\n    for( elem in table ) {\r\n        println &quot;elem:&quot; + elem;\r\n    }","title":"How to count frequency of characters in a string?","body":"<p>You can use a Hashtable with each character as the key and the total count becomes the value.</p>\n\n<pre><code>Hashtable&lt;Character,Integer&gt; table = new Hashtable&lt;Character,Integer&gt;();\nString str = \"aasjjikkk\";\nfor( c in str ) {\n    if( table.get(c) == null )\n        table.put(c,1);\n    else\n        table.put(c,table.get(c) + 1);\n}\n\nfor( elem in table ) {\n    println \"elem:\" + elem;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310762098,"creation_date":1310762098,"answer_id":6712857,"question_id":6712587,"body_markdown":"Here is a solution:\r\n\r\nDefine your own `Pair`:\r\n\r\n    public class Pair\r\n    {\r\n        private char letter;\r\n        private int count;\r\n        public Pair(char letter, int count)\r\n        {\r\n            this.letter = letter;\r\n            this.count= count;\r\n        }\r\n        public char getLetter(){return key;}\r\n        public int getCount(){return count;}\r\n    }\r\n\r\n\r\nThen you could do:\r\n\r\n    public static Pair countCharFreq(String s)\r\n    {\r\n        String temp = s;\r\n        java.util.List&lt;Pair&gt; list = new java.util.ArrayList&lt;Pair&gt;();\r\n        while(temp.length() != 0)\r\n        {\r\n            list.add(new Pair(temp.charAt(0), countOccurrences(temp, temp.charAt(0))));\r\n            temp.replaceAll(&quot;[&quot; + temp.charAt(0) +&quot;]&quot;,&quot;&quot;);\r\n        }\r\n    }\r\n\r\n    public static int countOccurrences(String s, char c)\r\n    {\r\n        int count = 0;\r\n        for(int i = 0; i &lt; s.length(); i++)\r\n        {\r\n            if(s.charAt(i) == c) count++;\r\n        }\r\n        return count;\r\n    }","title":"How to count frequency of characters in a string?","body":"<p>Here is a solution:</p>\n\n<p>Define your own <code>Pair</code>:</p>\n\n<pre><code>public class Pair\n{\n    private char letter;\n    private int count;\n    public Pair(char letter, int count)\n    {\n        this.letter = letter;\n        this.count= count;\n    }\n    public char getLetter(){return key;}\n    public int getCount(){return count;}\n}\n</code></pre>\n\n<p>Then you could do:</p>\n\n<pre><code>public static Pair countCharFreq(String s)\n{\n    String temp = s;\n    java.util.List&lt;Pair&gt; list = new java.util.ArrayList&lt;Pair&gt;();\n    while(temp.length() != 0)\n    {\n        list.add(new Pair(temp.charAt(0), countOccurrences(temp, temp.charAt(0))));\n        temp.replaceAll(\"[\" + temp.charAt(0) +\"]\",\"\");\n    }\n}\n\npublic static int countOccurrences(String s, char c)\n{\n    int count = 0;\n    for(int i = 0; i &lt; s.length(); i++)\n    {\n        if(s.charAt(i) == c) count++;\n    }\n    return count;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697457116,"post_id":12382724,"comment_id":136278215,"body_markdown":"Instead of two nested loops, you can simply use `countArray[i - &#39;a&#39;]++;` And sorting an array just to find its maximum value, is quite inefficient. You can find the maximum with a simple linear loop and when you do so, you also know its index which corresponds to the letter, making the `HashMap` obsolete.","body":"Instead of two nested loops, you can simply use <code>countArray[i - &#39;a&#39;]++;</code> And sorting an array just to find its maximum value, is quite inefficient. You can find the maximum with a simple linear loop and when you do so, you also know its index which corresponds to the letter, making the <code>HashMap</code> obsolete."}],"tags":[],"owner":{"account_id":1834232,"reputation":49,"user_id":1664908,"display_name":"Michael"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1405926414,"creation_date":1347433150,"answer_id":12382724,"question_id":6712587,"body_markdown":"Here is another solution, dodgy as it may be.\r\n\r\n\tpublic char getNumChar(String s) {\r\n\t\tchar[] c = s.toCharArray();\r\n\t\tString alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n\t\tint[] countArray = new int[26];\r\n\t\tfor (char x : c) {\r\n\t\t\tfor (int i = 0; i &lt; alphabet.length(); i++) {\r\n\t\t\t\tif (alphabet.charAt(i) == x) {\r\n\t\t\t\t\tcountArray[i]++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tjava.util.HashMap&lt;Integer, Character&gt; countList = new java.util.HashMap&lt;Integer, Character&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; 26; i++) {\r\n\t\t\tcountList.put(countArray[i], alphabet.charAt(i));\r\n\t\t}\r\n\t\tjava.util.Arrays.sort(countArray);\r\n\t\tint max = countArray[25];\r\n\t\treturn countList.get(max);\r\n\t}","title":"How to count frequency of characters in a string?","body":"<p>Here is another solution, dodgy as it may be.</p>\n\n<pre><code>public char getNumChar(String s) {\n    char[] c = s.toCharArray();\n    String alphabet = \"abcdefghijklmnopqrstuvwxyz\";\n    int[] countArray = new int[26];\n    for (char x : c) {\n        for (int i = 0; i &lt; alphabet.length(); i++) {\n            if (alphabet.charAt(i) == x) {\n                countArray[i]++;\n            }\n        }\n    }\n\n    java.util.HashMap&lt;Integer, Character&gt; countList = new java.util.HashMap&lt;Integer, Character&gt;();\n\n    for (int i = 0; i &lt; 26; i++) {\n        countList.put(countArray[i], alphabet.charAt(i));\n    }\n    java.util.Arrays.sort(countArray);\n    int max = countArray[25];\n    return countList.get(max);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1783291,"reputation":929,"user_id":1625434,"display_name":"varna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393568188,"creation_date":1393568188,"answer_id":22087665,"question_id":6712587,"body_markdown":"This is similar to xunil154&#39;s answer, except that a string is made a char array and a linked hashmap is used to maintain the insertion order of the characters.\r\n   \r\n    String text = &quot;aasjjikkk&quot;;\r\n    char[] charArray = text.toCharArray();\r\n    Map&lt;Character, Integer&gt; freqList = new LinkedHashMap&lt;Character, Integer&gt;();\r\n\r\n            for(char key : charArray) {\r\n                if(freqList.containsKey(key)) {\r\n                   freqList.put(key, freqList.get(key) + 1);\r\n                } else\r\n                    freqList.put(key, 1);\r\n            }","title":"How to count frequency of characters in a string?","body":"<p>This is similar to xunil154's answer, except that a string is made a char array and a linked hashmap is used to maintain the insertion order of the characters.</p>\n\n<pre><code>String text = \"aasjjikkk\";\nchar[] charArray = text.toCharArray();\nMap&lt;Character, Integer&gt; freqList = new LinkedHashMap&lt;Character, Integer&gt;();\n\n        for(char key : charArray) {\n            if(freqList.containsKey(key)) {\n               freqList.put(key, freqList.get(key) + 1);\n            } else\n                freqList.put(key, 1);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3141418,"reputation":2593,"user_id":2656813,"accept_rate":91,"display_name":"Aelphaeis"},"score":1,"creation_date":1404823075,"post_id":24631699,"comment_id":38175811,"body_markdown":"Please add some description or explanation as to why this works instead of just offering code. This will make it more meaningful for people in the future looking at it.","body":"Please add some description or explanation as to why this works instead of just offering code. This will make it more meaningful for people in the future looking at it."}],"tags":[],"owner":{"account_id":4250244,"reputation":1,"user_id":3477552,"display_name":"Nitish Rajan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1404821917,"creation_date":1404821917,"answer_id":24631699,"question_id":6712587,"body_markdown":"    import java.io.FileInputStream;\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n    public class CountFrequencyOfCharater {\r\n    public static void main(String args[]) throws Exception\r\n    {\r\n        HashSet hs=new HashSet();\r\n        String str=&quot;hey how are you?&quot;;\r\n        char arr[]=new char[str.length()];\r\n        for(int i=0;i&lt;str.length();i++)\r\n        {\r\n            arr[i]=str.charAt(i);\r\n        }\r\n        for(int j=0;j&lt;str.length();j++)\r\n        {\r\n            int c=0;\r\n            for(int k=0;k&lt;str.length();k++)\r\n            {\r\n                if(arr[j]==arr[k])\r\n                c++;\r\n            }\r\n            hs.add(arr[j]+&quot;=&quot;+c+&quot;,&quot;);\r\n        }\r\n            Iterator it=hs.iterator();\r\n            while(it.hasNext())\r\n            {\r\n                 System.out.print(it.next());\r\n            }\r\n      }\r\n    }","title":"How to count frequency of characters in a string?","body":"<pre><code>import java.io.FileInputStream;\nimport java.util.HashSet;\nimport java.util.Iterator;\npublic class CountFrequencyOfCharater {\npublic static void main(String args[]) throws Exception\n{\n    HashSet hs=new HashSet();\n    String str=\"hey how are you?\";\n    char arr[]=new char[str.length()];\n    for(int i=0;i&lt;str.length();i++)\n    {\n        arr[i]=str.charAt(i);\n    }\n    for(int j=0;j&lt;str.length();j++)\n    {\n        int c=0;\n        for(int k=0;k&lt;str.length();k++)\n        {\n            if(arr[j]==arr[k])\n            c++;\n        }\n        hs.add(arr[j]+\"=\"+c+\",\");\n    }\n        Iterator it=hs.iterator();\n        while(it.hasNext())\n        {\n             System.out.print(it.next());\n        }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4808098,"reputation":51,"user_id":3882435,"display_name":"weldino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596058164,"creation_date":1409349250,"answer_id":25576773,"question_id":6712587,"body_markdown":"\r\n    \r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class FrequenceyOfCharacters {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Please enter the string to count each character frequencey: &quot;);\r\n    \t\tScanner sc=new  Scanner(System.in);\r\n    \t\tString s =sc.nextLine();\r\n            String input = s.replaceAll(&quot;\\\\s&quot;,&quot;&quot;); // To remove space.\r\n    \t\tfrequenceyCount(input);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static void frequenceyCount(String input) {\r\n    \t\t\r\n    \t\tMap&lt;Character,Integer&gt; hashCount=new HashMap&lt;&gt;();\r\n    \t\tCharacter c;\r\n    \t\tfor(int i=0; i&lt;input.length();i++)\r\n    \t\t{\r\n    \t\t   c =input.charAt(i);\r\n    \t\t   if(hashCount.get(c)!=null){\r\n    \t\t\t   hashCount.put(c, hashCount.get(c)+1);\r\n    \t\t   }else{\r\n    \t\t\t   hashCount.put(c, 1);\r\n    \t\t   }\r\n    \t\t}\r\n    \t\tIterator it = hashCount.entrySet().iterator();\r\n    \t\tSystem.out.println(&quot;char : frequency&quot;);\r\n    \t    while (it.hasNext()) {\r\n    \t        Map.Entry pairs = (Map.Entry)it.next();\r\n    \t        System.out.println(pairs.getKey() + &quot; : &quot; + pairs.getValue());\r\n    \t        it.remove(); \r\n    \t    }\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to count frequency of characters in a string?","body":"<pre><code>import java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Scanner;\n\n\npublic class FrequenceyOfCharacters {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Please enter the string to count each character frequencey: &quot;);\n        Scanner sc=new  Scanner(System.in);\n        String s =sc.nextLine();\n        String input = s.replaceAll(&quot;\\\\s&quot;,&quot;&quot;); // To remove space.\n        frequenceyCount(input);\n        \n        \n    }\n\n    private static void frequenceyCount(String input) {\n        \n        Map&lt;Character,Integer&gt; hashCount=new HashMap&lt;&gt;();\n        Character c;\n        for(int i=0; i&lt;input.length();i++)\n        {\n           c =input.charAt(i);\n           if(hashCount.get(c)!=null){\n               hashCount.put(c, hashCount.get(c)+1);\n           }else{\n               hashCount.put(c, 1);\n           }\n        }\n        Iterator it = hashCount.entrySet().iterator();\n        System.out.println(&quot;char : frequency&quot;);\n        while (it.hasNext()) {\n            Map.Entry pairs = (Map.Entry)it.next();\n            System.out.println(pairs.getKey() + &quot; : &quot; + pairs.getValue());\n            it.remove(); \n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7525922,"reputation":1,"user_id":5716101,"display_name":"Raghu Da"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451029737,"creation_date":1451025701,"answer_id":34460635,"question_id":6712587,"body_markdown":"    import java.util.*;\r\n    class Charfrequency\r\n    {\r\n     public static void main(String a[]){\r\n     \r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter Your String :&quot;);\r\n    \t\tString s1=sc.nextLine();\r\n    \t\tint count,j=1;\r\n    \t\tchar var=&#39;a&#39;;\r\n    \t\tchar ch[]=s1.toCharArray();\r\n    \t\twhile(j&lt;=26)\r\n    \t\t{\r\n    \t\t   count=0;\r\n    \t\t\t\tfor(int i=0; i&lt;s1.length(); i++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(ch[i]==var || ch[i]==var-32)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif(count&gt;0){\r\n    \t\t\t\tSystem.out.println(&quot;Frequency of &quot;+var+&quot; is &quot;+count);\r\n    \t\t\t\t}\r\n    \t\t\t\tvar++;\r\n    \t\t\t\tj++;\r\n    \t\t}\r\n     }\r\n    }","title":"How to count frequency of characters in a string?","body":"<pre><code>import java.util.*;\nclass Charfrequency\n{\n public static void main(String a[]){\n\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter Your String :\");\n        String s1=sc.nextLine();\n        int count,j=1;\n        char var='a';\n        char ch[]=s1.toCharArray();\n        while(j&lt;=26)\n        {\n           count=0;\n                for(int i=0; i&lt;s1.length(); i++)\n                {\n                    if(ch[i]==var || ch[i]==var-32)\n                    {\n                        count++;\n                    }\n                }\n                if(count&gt;0){\n                System.out.println(\"Frequency of \"+var+\" is \"+count);\n                }\n                var++;\n                j++;\n        }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5368006,"reputation":2152,"user_id":4277293,"accept_rate":62,"display_name":"RishiKesh Pathak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459227676,"creation_date":1459168003,"answer_id":36262287,"question_id":6712587,"body_markdown":"    package com.rishi.zava;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class ZipString {\r\n    \tpublic static void main(String arg[]) {\r\n    \t\tString input = &quot;aaaajjjgggtttssvvkkllaaiiikk&quot;;\r\n    \t\tint len = input.length();\r\n    \t\tMap&lt;Character, Integer&gt; zip = new HashMap&lt;Character, Integer&gt;();\r\n    \t\tfor (int j = 0; len &gt; j; j++) {\r\n    \t\t\tint count = 0;\r\n    \t\t\tfor (int i = 0; len &gt; i; i++) {\r\n    \t\t\t\tif (input.charAt(j) == input.charAt(i)) {\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tzip.put(input.charAt(j), count);\r\n    \t\t}\r\n    \t\tStringBuffer myValue = new StringBuffer();\r\n    \t\tString myMapKeyValue = &quot;&quot;;\r\n    \t\tfor (Entry&lt;Character, Integer&gt; entry : zip.entrySet()) {\r\n    \t\t\tmyMapKeyValue = Character.toString(entry.getKey()).concat(\r\n    \t\t\t\t\tInteger.toString(entry.getValue()));\r\n    \t\t\tmyValue.append(myMapKeyValue);\r\n    \t\t}\r\n    \t\tSystem.out.println(myValue);\r\n    \t}\r\n    }\r\n\r\n\r\n**Input** = *aaaajjjgggtttssvvkkllaaiiikk*\r\n\r\n**Output** = *a6s2t3v2g3i3j3k4l2*\r\n","title":"How to count frequency of characters in a string?","body":"<pre><code>package com.rishi.zava;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class ZipString {\n    public static void main(String arg[]) {\n        String input = \"aaaajjjgggtttssvvkkllaaiiikk\";\n        int len = input.length();\n        Map&lt;Character, Integer&gt; zip = new HashMap&lt;Character, Integer&gt;();\n        for (int j = 0; len &gt; j; j++) {\n            int count = 0;\n            for (int i = 0; len &gt; i; i++) {\n                if (input.charAt(j) == input.charAt(i)) {\n                    count++;\n                }\n            }\n            zip.put(input.charAt(j), count);\n        }\n        StringBuffer myValue = new StringBuffer();\n        String myMapKeyValue = \"\";\n        for (Entry&lt;Character, Integer&gt; entry : zip.entrySet()) {\n            myMapKeyValue = Character.toString(entry.getKey()).concat(\n                    Integer.toString(entry.getValue()));\n            myValue.append(myMapKeyValue);\n        }\n        System.out.println(myValue);\n    }\n}\n</code></pre>\n\n<p><strong>Input</strong> = <em>aaaajjjgggtttssvvkkllaaiiikk</em></p>\n\n<p><strong>Output</strong> = <em>a6s2t3v2g3i3j3k4l2</em></p>\n"},{"tags":[],"owner":{"account_id":5871763,"reputation":1,"user_id":4623887,"display_name":"Gaurav Walia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459724870,"creation_date":1459724870,"answer_id":36392384,"question_id":6712587,"body_markdown":"The shorted possible code using a HashMap. (With no forceful line saves)\r\n\r\n    private static Map&lt;Character, Integer&gt; findCharacterFrequency(String str) {\r\n    \t\t\r\n    \t\tMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tfor (char ch : str.toCharArray()) {\r\n    \t\t\t/* Using getOrDefault(), since Java1.8 */\r\n    \t\t\tmap.put(ch, map.getOrDefault(ch, 0) + 1);\r\n    \t\t}\r\n    \t\treturn map;\r\n    \t}","title":"How to count frequency of characters in a string?","body":"<p>The shorted possible code using a HashMap. (With no forceful line saves)</p>\n\n<pre><code>private static Map&lt;Character, Integer&gt; findCharacterFrequency(String str) {\n\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n\n        for (char ch : str.toCharArray()) {\n            /* Using getOrDefault(), since Java1.8 */\n            map.put(ch, map.getOrDefault(ch, 0) + 1);\n        }\n        return map;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697456802,"post_id":44579581,"comment_id":136278160,"body_markdown":"Even more concise: `frequencies.merge(ch, 1, Integer::sum);` it also doesn’t require two map lookups.","body":"Even more concise: <code>frequencies.merge(ch, 1, Integer::sum);</code> it also doesn’t require two map lookups."}],"tags":[],"owner":{"account_id":8449580,"reputation":303,"user_id":6338857,"display_name":"Sreekanth"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1512049902,"creation_date":1497577706,"answer_id":44579581,"question_id":6712587,"body_markdown":"A concise way to do this is:\r\n\r\n    Map&lt;Character,Integer&gt; frequencies = new HashMap&lt;&gt;();\r\n    for (char ch : input.toCharArray()) \r\n       frequencies.put(ch, frequencies.getOrDefault(ch, 0) + 1);\r\n\r\nWe use a for-each to loop through every character. The `frequencies.getOrDefault()` gets value if key is present or returns(as default) its second argument. ","title":"How to count frequency of characters in a string?","body":"<p>A concise way to do this is:</p>\n\n<pre><code>Map&lt;Character,Integer&gt; frequencies = new HashMap&lt;&gt;();\nfor (char ch : input.toCharArray()) \n   frequencies.put(ch, frequencies.getOrDefault(ch, 0) + 1);\n</code></pre>\n\n<p>We use a for-each to loop through every character. The <code>frequencies.getOrDefault()</code> gets value if key is present or returns(as default) its second argument. </p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573351082,"creation_date":1498244119,"answer_id":44728240,"question_id":6712587,"body_markdown":"You can use a `CharAdapter` and a `CharBag` from [Eclipse Collections][1] and avoid boxing to `Character` and `Integer`.\r\n\r\n    CharBag bag = Strings.asChars(&quot;aasjjikkk&quot;).toBag();\r\n    \r\n    Assert.assertEquals(2, bag.occurrencesOf(&#39;a&#39;));\r\n    Assert.assertEquals(1, bag.occurrencesOf(&#39;s&#39;));\r\n    Assert.assertEquals(2, bag.occurrencesOf(&#39;j&#39;));\r\n    Assert.assertEquals(1, bag.occurrencesOf(&#39;i&#39;));\r\n    Assert.assertEquals(3, bag.occurrencesOf(&#39;k&#39;));\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/","title":"How to count frequency of characters in a string?","body":"<p>You can use a <code>CharAdapter</code> and a <code>CharBag</code> from <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> and avoid boxing to <code>Character</code> and <code>Integer</code>.</p>\n\n<pre><code>CharBag bag = Strings.asChars(\"aasjjikkk\").toBag();\n\nAssert.assertEquals(2, bag.occurrencesOf('a'));\nAssert.assertEquals(1, bag.occurrencesOf('s'));\nAssert.assertEquals(2, bag.occurrencesOf('j'));\nAssert.assertEquals(1, bag.occurrencesOf('i'));\nAssert.assertEquals(3, bag.occurrencesOf('k'));\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":2809874,"reputation":4581,"user_id":2416313,"accept_rate":92,"display_name":"Thirumalai Parthasarathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1532281724,"creation_date":1507880227,"answer_id":46724837,"question_id":6712587,"body_markdown":"Since there was no Java 8 solution, thought of posting one. Also, this solution is much neater, readable and concise than some of the other solutions mentioned here.\r\n\r\n    String string = &quot;aasjjikkk&quot;;\r\n\t\t\r\n    Map&lt;Character, Long&gt; characterFrequency = string.chars()  // creates an IntStream\r\n        .mapToObj(c -&gt; (char) c) // converts the IntStream to Stream&lt;Character&gt;\r\n        .collect(Collectors.groupingBy(c -&gt; c, Collectors.counting())); // creates a\r\n                                                                        // Map&lt;Character, Long&gt; \r\n                                                                        // where the Long is\r\n                                                                        // the frequency","title":"How to count frequency of characters in a string?","body":"<p>Since there was no Java 8 solution, thought of posting one. Also, this solution is much neater, readable and concise than some of the other solutions mentioned here.</p>\n\n<pre><code>String string = \"aasjjikkk\";\n\nMap&lt;Character, Long&gt; characterFrequency = string.chars()  // creates an IntStream\n    .mapToObj(c -&gt; (char) c) // converts the IntStream to Stream&lt;Character&gt;\n    .collect(Collectors.groupingBy(c -&gt; c, Collectors.counting())); // creates a\n                                                                    // Map&lt;Character, Long&gt; \n                                                                    // where the Long is\n                                                                    // the frequency\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10968796,"reputation":1,"user_id":8059753,"display_name":"naveen prasanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511249718,"creation_date":1511248776,"answer_id":47407351,"question_id":6712587,"body_markdown":"   Please try the given code below, hope it will helpful to you,    \r\n    \r\n    import java.util.Scanner;\r\n    \r\n    class String55 {\r\n        public static int frequency(String s1,String s2)\r\n        {\r\n            \r\n            int count=0;\r\n            char ch[]=s1.toCharArray();\r\n            char ch1[]=s2.toCharArray();\r\n            for (int i=0;i&lt;ch.length-1; i++)\r\n            {\r\n            \t\r\n               \r\n                \r\n                \tint k=i;\r\n                \r\n                \tint j1=i+1;\r\n                \tint j=0;\r\n                \tint j11=j;\r\n                \tint j2=j+1;\r\n                \t{\r\n                \t\twhile(k&lt;ch.length &amp;&amp; j11&lt;ch1.length &amp;&amp; ch[k]==ch1[j11])\r\n                \t\t{\r\n                \t\tk++;\r\n                \t\tj11++;\r\n              \r\n                \t\t}\r\n                \t\r\n                \r\n                    int l=k+j1;\r\n    \t\t\t\tint m=j11+j2;\r\n    \t\t\t\tif( l== m)\r\n                    {\r\n                        count=1;\r\n                        count++;\r\n                    }\r\n                    \r\n                    \r\n                \r\n                \t\r\n               \r\n            }\r\n            }\r\n            return count;\r\n    \t\t\r\n            \r\n        }\r\n    \tpublic static void main (String[] args) {\r\n    \t    Scanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;enter the pattern&quot;);\r\n    \t\tString s1=sc.next();\r\n    \t\t\tSystem.out.println(&quot;enter the String&quot;);\r\n    \t\t\tString s2=sc.next();\r\n    \t\t\tint res=frequency(s1, s2);\r\n    \t\t\tSystem.out.println(&quot;FREQUENCY==&quot; +res);\r\n    \t\t\t\r\n    \t}\r\n    }\r\nSAMPLE OUTPUT:\r\nenter the pattern\r\nman\r\nenter the String\r\ndhimanman\r\nFREQUENCY==2\r\n\r\nThank-you.Happy coding.","title":"How to count frequency of characters in a string?","body":"<p>Please try the given code below, hope it will helpful to you,    </p>\n\n<pre><code>import java.util.Scanner;\n\nclass String55 {\n    public static int frequency(String s1,String s2)\n    {\n\n        int count=0;\n        char ch[]=s1.toCharArray();\n        char ch1[]=s2.toCharArray();\n        for (int i=0;i&lt;ch.length-1; i++)\n        {\n\n\n\n                int k=i;\n\n                int j1=i+1;\n                int j=0;\n                int j11=j;\n                int j2=j+1;\n                {\n                    while(k&lt;ch.length &amp;&amp; j11&lt;ch1.length &amp;&amp; ch[k]==ch1[j11])\n                    {\n                    k++;\n                    j11++;\n\n                    }\n\n\n                int l=k+j1;\n                int m=j11+j2;\n                if( l== m)\n                {\n                    count=1;\n                    count++;\n                }\n\n\n\n\n\n        }\n        }\n        return count;\n\n\n    }\n    public static void main (String[] args) {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"enter the pattern\");\n        String s1=sc.next();\n            System.out.println(\"enter the String\");\n            String s2=sc.next();\n            int res=frequency(s1, s2);\n            System.out.println(\"FREQUENCY==\" +res);\n\n    }\n}\n</code></pre>\n\n<p>SAMPLE OUTPUT:\nenter the pattern\nman\nenter the String\ndhimanman\nFREQUENCY==2</p>\n\n<p>Thank-you.Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1697800608,"creation_date":1532177944,"answer_id":51456335,"question_id":6712587,"body_markdown":"Using the stream API as of JDK-8:\r\n\r\n    Map&lt;Character, Long&gt; frequency =\r\n                str.chars()\r\n                   .mapToObj(c -&gt; (char)c)\r\n                   .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n\r\nor if you want the values as `Integer`s:\r\n\r\n    Map&lt;Character, Integer&gt; frequency =\r\n                str.chars()\r\n                   .mapToObj(c -&gt; (char)c)\r\n                   .collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(c -&gt; 1)));\r\n\r\nAnother variant:\r\n\r\n    Map&lt;Character, Integer&gt; frequency = \r\n                str.chars()\r\n                   .mapToObj(c -&gt; (char)c)\r\n                   .collect(Collectors.toMap(Function.identity(), c -&gt; 1, Math::addExact));","title":"How to count frequency of characters in a string?","body":"<p>Using the stream API as of JDK-8:</p>\n<pre><code>Map&lt;Character, Long&gt; frequency =\n            str.chars()\n               .mapToObj(c -&gt; (char)c)\n               .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n<p>or if you want the values as <code>Integer</code>s:</p>\n<pre><code>Map&lt;Character, Integer&gt; frequency =\n            str.chars()\n               .mapToObj(c -&gt; (char)c)\n               .collect(Collectors.groupingBy(Function.identity(), Collectors.summingInt(c -&gt; 1)));\n</code></pre>\n<p>Another variant:</p>\n<pre><code>Map&lt;Character, Integer&gt; frequency = \n            str.chars()\n               .mapToObj(c -&gt; (char)c)\n               .collect(Collectors.toMap(Function.identity(), c -&gt; 1, Math::addExact));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10192855,"reputation":2443,"user_id":8347081,"display_name":"mypetlion"},"score":2,"creation_date":1544486776,"post_id":53715400,"comment_id":94285414,"body_markdown":"Please remember to always add an explanation of your code.","body":"Please remember to always add an explanation of your code."}],"tags":[],"owner":{"account_id":4220013,"reputation":1,"user_id":3455012,"display_name":"DiptiPrakash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544485588,"creation_date":1544485588,"answer_id":53715400,"question_id":6712587,"body_markdown":"    package com.dipu.string;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class RepetativeCharInString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString data = &quot;aaabbbcccdddffffrss&quot;;\r\n    \t\tchar[] charArray = data.toCharArray();\r\n    \t\tMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\tfor (char c : charArray) {\r\n    \t\t\tif (map.containsKey(c)) {\r\n    \t\t\t\tmap.put(c, map.get(c) + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\tmap.put(c, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(map);\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How to count frequency of characters in a string?","body":"<pre><code>package com.dipu.string;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class RepetativeCharInString {\n    public static void main(String[] args) {\n        String data = \"aaabbbcccdddffffrss\";\n        char[] charArray = data.toCharArray();\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n        for (char c : charArray) {\n            if (map.containsKey(c)) {\n                map.put(c, map.get(c) + 1);\n            } else {\n                map.put(c, 1);\n            }\n        }\n        System.out.println(map);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15294065,"reputation":1,"user_id":11034750,"display_name":"MinakshiJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549650692,"creation_date":1549644332,"answer_id":54596835,"question_id":6712587,"body_markdown":"    *import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class Freq {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString temp=&quot;zsaaqaaaaaaaabbbbbcc&quot;;\r\n\t\tList&lt;String&gt; temp1= new ArrayList&lt;String&gt; ();\r\n\t\tArrayList&lt;Integer&gt;freq=new ArrayList&lt;Integer&gt;();\r\n\t\tfor(int i=0;i&lt;temp.length()-1;i++)\r\n\t\t{\t\t\r\n\t\t\ttemp1.add(Character.toString(temp.charAt(i)));\t\t\r\n\t\t}\r\n\t\tSet&lt;String&gt; uniqset=new HashSet&lt;String&gt;(temp1);\r\n\t\tfor(String s:uniqset)\r\n\t\t{\r\n\t\t\tfreq.add(Collections.frequency(temp1, s));\r\n\t\t\tSystem.out.println(s+&quot; --&gt;&gt;&quot;+Collections.frequency(temp1, s));\r\n\t\t}\r\n    \t}\r\n    \r\n    }\r\n               ------Output-------\r\n           a --&gt;&gt;10\r\n           b --&gt;&gt;5\r\n           c --&gt;&gt;1\r\n           q --&gt;&gt;1\r\n           s --&gt;&gt;1\r\n           z --&gt;&gt;1\r\nUse collections frequency method to count frequency of char*\r\n","title":"How to count frequency of characters in a string?","body":"<pre><code>*import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Freq {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String temp=\"zsaaqaaaaaaaabbbbbcc\";\n    List&lt;String&gt; temp1= new ArrayList&lt;String&gt; ();\n    ArrayList&lt;Integer&gt;freq=new ArrayList&lt;Integer&gt;();\n    for(int i=0;i&lt;temp.length()-1;i++)\n    {       \n        temp1.add(Character.toString(temp.charAt(i)));      \n    }\n    Set&lt;String&gt; uniqset=new HashSet&lt;String&gt;(temp1);\n    for(String s:uniqset)\n    {\n        freq.add(Collections.frequency(temp1, s));\n        System.out.println(s+\" --&gt;&gt;\"+Collections.frequency(temp1, s));\n    }\n    }\n\n}\n           ------Output-------\n       a --&gt;&gt;10\n       b --&gt;&gt;5\n       c --&gt;&gt;1\n       q --&gt;&gt;1\n       s --&gt;&gt;1\n       z --&gt;&gt;1\n</code></pre>\n\n<p>Use collections frequency method to count frequency of char*</p>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556562907,"creation_date":1556562907,"answer_id":55909034,"question_id":6712587,"body_markdown":"    String s = &quot;aaaabbbbcccddddd&quot;;\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\nUsing one line in Java8\r\n\r\n    s.chars().forEach(e-&gt;map.put((char)e, map.getOrDefault((char)e, 0) + 1));","title":"How to count frequency of characters in a string?","body":"<pre><code>String s = \"aaaabbbbcccddddd\";\nMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>Using one line in Java8</p>\n\n<pre><code>s.chars().forEach(e-&gt;map.put((char)e, map.getOrDefault((char)e, 0) + 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557154471,"creation_date":1557154471,"answer_id":56007674,"question_id":6712587,"body_markdown":"Uffh. Don&#39;t you think this is the simplest solution?\r\n\r\n        char inputChar = &#39;|&#39;;\r\n\t\tint freq = &quot;|fd|fdfd|f dfd|fd&quot;.replaceAll(&quot;[^&quot; + inputChar +&quot;]&quot;, &quot;&quot;).length();\r\n\t\tSystem.out.println(&quot;freq &quot; + freq);","title":"How to count frequency of characters in a string?","body":"<p>Uffh. Don't you think this is the simplest solution?</p>\n\n<pre><code>    char inputChar = '|';\n    int freq = \"|fd|fdfd|f dfd|fd\".replaceAll(\"[^\" + inputChar +\"]\", \"\").length();\n    System.out.println(\"freq \" + freq);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3703139,"reputation":34584,"user_id":3082296,"accept_rate":90,"display_name":"adiga"},"score":0,"creation_date":1564232787,"post_id":57232043,"comment_id":100967486,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."},{"owner":{"account_id":7794943,"reputation":1880,"user_id":5896420,"accept_rate":90,"display_name":"luckyguy73"},"score":1,"creation_date":1595799536,"post_id":57232043,"comment_id":111592061,"body_markdown":"just curious, why would you answer a question tagged for java with a different programming language?","body":"just curious, why would you answer a question tagged for java with a different programming language?"}],"tags":[],"owner":{"account_id":13746341,"reputation":449,"user_id":9919896,"display_name":"Suraj Verma"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1596186954,"creation_date":1564229652,"answer_id":57232043,"question_id":6712587,"body_markdown":"       \r\n    \r\n#From C language \r\n    \r\n     #include&lt;stdio.h&gt;`\r\n     #include &lt;string.h&gt;`\r\n      int main()\r\n    {\r\n        char s[1000];  \r\n        int  i,j,k,count=0,n;\r\n        printf(&quot;Enter  the string : &quot;);\r\n        gets(s);\r\n        for(j=0;s[j];j++);\r\n    \tn=j; \r\n    \tprintf(&quot; frequency count character in string:\\n&quot;);\r\n        for(i=0;i&lt;n;i++)  \r\n        {\r\n         \tcount=1;\r\n        \tif(s[i])\r\n        \t{\r\n    \t\t\r\n     \t\t  for(j=i+1;j&lt;n;j++)  \r\n    \t      {   \r\n    \t    \t\r\n    \t        if(s[i]==s[j])\r\n        \t    {\r\n                     count++;\r\n                     s[j]=&#39;\\0&#39;;\r\n    \t     \t}\r\n    \t      }  \r\n    \t      printf(&quot; &#39;%c&#39; = %d \\n&quot;,s[i],count);\r\n           }\r\n     \t} \r\n        return 0;\r\n    }","title":"How to count frequency of characters in a string?","body":"<p>#From C language</p>\n<pre><code> #include&lt;stdio.h&gt;`\n #include &lt;string.h&gt;`\n  int main()\n{\n    char s[1000];  \n    int  i,j,k,count=0,n;\n    printf(&quot;Enter  the string : &quot;);\n    gets(s);\n    for(j=0;s[j];j++);\n    n=j; \n    printf(&quot; frequency count character in string:\\n&quot;);\n    for(i=0;i&lt;n;i++)  \n    {\n        count=1;\n        if(s[i])\n        {\n        \n          for(j=i+1;j&lt;n;j++)  \n          {   \n            \n            if(s[i]==s[j])\n            {\n                 count++;\n                 s[j]='\\0';\n            }\n          }  \n          printf(&quot; '%c' = %d \\n&quot;,s[i],count);\n       }\n    } \n    return 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2063361,"reputation":31416,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":1,"creation_date":1571523313,"post_id":58464037,"comment_id":103271247,"body_markdown":"While this code may solve the question, [including an explanation](//meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please [edit] your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/58464037/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":7334368,"reputation":11,"user_id":5586274,"display_name":"Baidyanath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572081973,"creation_date":1571490699,"answer_id":58464037,"question_id":6712587,"body_markdown":"We can use frequency method of Collections class for this.\r\nSplit the string into string array. Use HashSet to remove duplicates and check frequency of each object in HashSet using frequency method of Collections\r\n\r\n```\r\nvoid usingCollections(){\r\n\r\n  String input = &quot;cuttack&quot;;\r\n\r\n  String [] stringArray = input.split(&quot;&quot;);\r\n\r\n  Set&lt;String&gt; s = new HashSet(Arrays.asList(stringArray));\r\n\r\n  for(String abc : s){\r\n\r\n    System.out.println (abc + &quot;:&quot;+Collections.frequency(Arrays.asList(stringArray),abc));\r\n\r\n  }\r\n}\r\n```","title":"How to count frequency of characters in a string?","body":"<p>We can use frequency method of Collections class for this.\nSplit the string into string array. Use HashSet to remove duplicates and check frequency of each object in HashSet using frequency method of Collections</p>\n\n<pre><code>void usingCollections(){\n\n  String input = \"cuttack\";\n\n  String [] stringArray = input.split(\"\");\n\n  Set&lt;String&gt; s = new HashSet(Arrays.asList(stringArray));\n\n  for(String abc : s){\n\n    System.out.println (abc + \":\"+Collections.frequency(Arrays.asList(stringArray),abc));\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584619223,"creation_date":1575056688,"answer_id":59110239,"question_id":6712587,"body_markdown":"There is one more option and it looks quite nice.\r\nSince java 8 there is new method merge [java doc][1]\r\n\r\n      public static void main(String[] args) {\r\n        String s = &quot;aaabbbcca&quot;;\r\n\r\n        Map&lt;Character, Integer&gt; freqMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            Character c = s.charAt(i);\r\n            freqMap.merge(c, 1, (a, b) -&gt; a + b);\r\n        }\r\n        freqMap.forEach((k, v) -&gt; System.out.println(k + &quot; and &quot; + v));\r\n    }\r\n\r\nOr even cleaner with ForEach\r\n\r\n           for (Character c : s.toCharArray()) {\r\n                freqMapSecond.merge(c, 1, Integer::sum);\r\n               }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-","title":"How to count frequency of characters in a string?","body":"<p>There is one more option and it looks quite nice.\nSince java 8 there is new method merge <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">java doc</a></p>\n\n<pre><code>  public static void main(String[] args) {\n    String s = \"aaabbbcca\";\n\n    Map&lt;Character, Integer&gt; freqMap = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; s.length(); i++) {\n        Character c = s.charAt(i);\n        freqMap.merge(c, 1, (a, b) -&gt; a + b);\n    }\n    freqMap.forEach((k, v) -&gt; System.out.println(k + \" and \" + v));\n}\n</code></pre>\n\n<p>Or even cleaner with ForEach</p>\n\n<pre><code>       for (Character c : s.toCharArray()) {\n            freqMapSecond.merge(c, 1, Integer::sum);\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020430,"reputation":341,"user_id":5380038,"display_name":"Dipen Chawla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576263052,"creation_date":1576263052,"answer_id":59328285,"question_id":6712587,"body_markdown":"**This is more Effective way to count frequency of characters in a string**\r\n\r\n    public class demo {\r\n        public static void main(String[] args) {\r\n            String s = &quot;babdcwertyuiuygf&quot;;\r\n            Map&lt;Character, Integer&gt; map = new TreeMap&lt;&gt;();\r\n            s.chars().forEach(e-&gt;map.put((char)e, map.getOrDefault((char)e, 0) + 1));\r\n            StringBuffer myValue = new StringBuffer();\r\n            String myMapKeyValue = &quot;&quot;;\r\n            for (Map.Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\r\n                myMapKeyValue = Character.toString(entry.getKey()).concat(\r\n                    Integer.toString(entry.getValue()));\r\n                myValue.append(myMapKeyValue);\r\n            }\r\n            System.out.println(myValue);\r\n        }\r\n    }","title":"How to count frequency of characters in a string?","body":"<p><strong>This is more Effective way to count frequency of characters in a string</strong></p>\n\n<pre><code>public class demo {\n    public static void main(String[] args) {\n        String s = \"babdcwertyuiuygf\";\n        Map&lt;Character, Integer&gt; map = new TreeMap&lt;&gt;();\n        s.chars().forEach(e-&gt;map.put((char)e, map.getOrDefault((char)e, 0) + 1));\n        StringBuffer myValue = new StringBuffer();\n        String myMapKeyValue = \"\";\n        for (Map.Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\n            myMapKeyValue = Character.toString(entry.getKey()).concat(\n                Integer.toString(entry.getValue()));\n            myValue.append(myMapKeyValue);\n        }\n        System.out.println(myValue);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12460498,"reputation":81,"user_id":9072300,"display_name":"Gajraj Tanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584420615,"creation_date":1584420615,"answer_id":60716405,"question_id":6712587,"body_markdown":"Another way using map merge method\r\n\r\n       Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n       String s = &quot;aasjjikkk&quot;;\r\n    \tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \t\tmap.merge(s.charAt(i), 1, (l, r) -&gt; l + r);\r\n","title":"How to count frequency of characters in a string?","body":"<p>Another way using map merge method</p>\n\n<pre><code>   Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n   String s = \"aasjjikkk\";\n    for (int i = 0; i &lt; s.length(); i++) {\n        map.merge(s.charAt(i), 1, (l, r) -&gt; l + r);\n</code></pre>\n"}],"owner":{"account_id":764678,"reputation":509,"user_id":792080,"accept_rate":86,"display_name":"Bill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163194,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":6712708,"answer_count":27,"score":36,"last_activity_date":1697800608,"creation_date":1310760425,"question_id":6712587,"body_markdown":"I need to write some kind of loop that can count the frequency of each letter in a string. &lt;br&gt;\r\nFor example: &quot;aasjjikkk&quot; would count 2 &#39;a&#39;, 1 &#39;s&#39;, 2 &#39;j&#39;, 1 &#39;i&#39;, 3 &#39;k&#39;. Ultimately id like these to end up in a map with the character as the key and the count as the value. Any good idea how to do this? ","title":"How to count frequency of characters in a string?","body":"<p>I need to write some kind of loop that can count the frequency of each letter in a string. <br>\nFor example: \"aasjjikkk\" would count 2 'a', 1 's', 2 'j', 1 'i', 3 'k'. Ultimately id like these to end up in a map with the character as the key and the count as the value. Any good idea how to do this? </p>\n"},{"tags":["java","spring","scheduled-tasks"],"comments":[{"owner":{"account_id":15027359,"reputation":255,"user_id":10846709,"display_name":"Sergey Bzhezitskiy"},"score":0,"creation_date":1558951508,"post_id":56302020,"comment_id":99255494,"body_markdown":"Have you seen the comments under this answer? &quot;it doesn&#39;t work&quot; is for most of guys.","body":"Have you seen the comments under this answer? &quot;it doesn&#39;t work&quot; is for most of guys."},{"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"score":0,"creation_date":1558957408,"post_id":56302020,"comment_id":99258337,"body_markdown":"None reported, that this solution isn&#39;t working.","body":"None reported, that this solution isn&#39;t working."},{"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"score":0,"creation_date":1558957434,"post_id":56302020,"comment_id":99258348,"body_markdown":"Nevertheless, do you know Any other way to achieve this?","body":"Nevertheless, do you know Any other way to achieve this?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":1,"creation_date":1576744385,"post_id":56302020,"comment_id":104999676,"body_markdown":"If you feel that my answer helped you, you could [accept my answer](http://meta.stackexchange.com/a/5235).","body":"If you feel that my answer helped you, you could <a href=\"http://meta.stackexchange.com/a/5235\">accept my answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":9720713,"reputation":906,"user_id":7209547,"display_name":"Mukul Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558953767,"creation_date":1558953087,"answer_id":56324317,"question_id":56302020,"body_markdown":"Spring&#39;s `@Scheduled` annotation does not provide this support.\r\n&lt;p&gt;\r\nThis is my preferred implementation of a similar feature using a Queue-based solution which allows flexibility of timing and very robust implementation of this scheduler functionality.\r\n&lt;p&gt;\r\nThis is the pipeline-\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/XHFHx.jpg\r\n\r\n 1. **Cron Maintainer and Publisher**- For every task, there is an affiliated `cron` and a single-threaded executor service which is responsible for publishing messages to the Queue as per the cron. The `task-cron` mappings are persisted in the `database` and are initialized during the startup. Also, we have an `API` exposed to update cron for a task at runtime.\r\n&lt;p&gt;\r\nWe simply shut down the old scheduled executor service and create a one whenever we trigger a change in the cron via our API. Also, we update the same in the database.\r\n 2. **Queue**- Used for storing messages published by the publisher.\r\n 3. **Scheduler**- This is where the business logic of the schedulers reside. A listener on the Queue(Kafka, in our case) listens for the incoming messages and invokes the corresponding scheduler task in a new thread whenever it receives a message for the same.\r\n&lt;p&gt;\r\n\r\nThere are various advantages to this approach. This decouples the scheduler from the schedule management task. Now, the scheduler can focus on business logic alone. Also, we can write as many schedulers as we want, all listening to the same queue and acting accordingly. ","title":"Modify scheduler timing dynamically based on the condition used with spring-boot @Scheduled annotation","body":"<p>Spring's <code>@Scheduled</code> annotation does not provide this support.\n<p>\nThis is my preferred implementation of a similar feature using a Queue-based solution which allows flexibility of timing and very robust implementation of this scheduler functionality.\n<p>\nThis is the pipeline-\n<a href=\"https://i.stack.imgur.com/XHFHx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XHFHx.jpg\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li><strong>Cron Maintainer and Publisher</strong>- For every task, there is an affiliated <code>cron</code> and a single-threaded executor service which is responsible for publishing messages to the Queue as per the cron. The <code>task-cron</code> mappings are persisted in the <code>database</code> and are initialized during the startup. Also, we have an <code>API</code> exposed to update cron for a task at runtime.\n<p>\nWe simply shut down the old scheduled executor service and create a one whenever we trigger a change in the cron via our API. Also, we update the same in the database.</li>\n<li><strong>Queue</strong>- Used for storing messages published by the publisher.</li>\n<li><strong>Scheduler</strong>- This is where the business logic of the schedulers reside. A listener on the Queue(Kafka, in our case) listens for the incoming messages and invokes the corresponding scheduler task in a new thread whenever it receives a message for the same.\n<p></li>\n</ol>\n\n<p>There are various advantages to this approach. This decouples the scheduler from the schedule management task. Now, the scheduler can focus on business logic alone. Also, we can write as many schedulers as we want, all listening to the same queue and acting accordingly. </p>\n"},{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1582135043,"creation_date":1558985865,"answer_id":56331619,"question_id":56302020,"body_markdown":"Using `@Scheduled` will only allow to use static schedules. You can use properties to make the schedule configruable like this\r\n\r\n```\r\n@Scheduled(cron = &quot;${yourConfiguration.cronExpression}&quot;)\r\n\r\n// or\r\n\r\n@Scheduled(fixedDelayString = &quot;${yourConfiguration.fixedDelay}&quot;)\r\n```\r\n\r\nHowever the resulting schedule will be fixed once your spring context is initialized (the application is started).\r\n\r\nTo get fine grained control over a scheduled execution you need implement a custom [`Trigger`][2] - similar to what you already did. Together with the to be executed task, this trigger can be registered by implementing [`SchedulingConfigurer`][3] in your `@Configuration` class using [`ScheduledTaskRegistrar.addTriggerTask`][4]:\r\n\r\n```\r\n@Configuration\r\n@EnableScheduling\r\npublic class AppConfig implements SchedulingConfigurer {\r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        taskRegistrar.setScheduler(taskScheduler());\r\n        taskRegistrar.addTriggerTask(() -&gt; myTask().work(), myTrigger());\r\n    }\r\n\r\n    @Bean(destroyMethod=&quot;shutdown&quot;)\r\n    public Executor taskScheduler() {\r\n        return Executors.newScheduledThreadPool(42);\r\n    }\r\n\r\n    @Bean\r\n    public CustomDynamicSchedule myTrigger() {\r\n        new CustomDynamicSchedule();\r\n    }\r\n\r\n    @Bean\r\n    public MyTask myTask() {\r\n        return new MyTask();\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut don&#39;t do any registration of a task in the `CustomDynamicSchedule` just use it to compute the next execution time:\r\n\r\n\r\n```\r\npublic class CustomDynamicSchedule extends DynamicSchedule implements Trigger {\r\n\r\n    private long delayInterval;\r\n  \r\n    @Override\r\n    public synchronized void increaseDelayInterval(Long delay) {\r\n        this.delayInterval += delay;\r\n    }\r\n  \r\n    @Override\r\n    public synchronized void decreaseDelayInterval(Long delay) {\r\n        this.delayInterval += delay;\r\n    }\r\n  \r\n    @Override\r\n    public synchronized void delay(Long delay) {\r\n        this.delayInterval = delay;\r\n    }\r\n  \r\n    @Override\r\n    public Date nextExecutionTime(TriggerContext triggerContext) {\r\n        Date lastTime = triggerContext.lastActualExecutionTime();\r\n        return (lastTime == null) ? new Date() : new Date(lastTime.getTime() + delayInterval);\r\n    }\r\n}\r\n```\r\n\r\nBut remember to make `CustomDynamicSchedule` thread safe as it will be created as singleton by spring and might be accessed by multiple threads in parallel.\r\n\r\n\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/Trigger.html\r\n  [3]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/SchedulingConfigurer.html\r\n  [4]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/config/ScheduledTaskRegistrar.html#addTriggerTask-java.lang.Runnable-org.springframework.scheduling.Trigger-","title":"Modify scheduler timing dynamically based on the condition used with spring-boot @Scheduled annotation","body":"<p>Using <code>@Scheduled</code> will only allow to use static schedules. You can use properties to make the schedule configruable like this</p>\n\n<pre><code>@Scheduled(cron = \"${yourConfiguration.cronExpression}\")\n\n// or\n\n@Scheduled(fixedDelayString = \"${yourConfiguration.fixedDelay}\")\n</code></pre>\n\n<p>However the resulting schedule will be fixed once your spring context is initialized (the application is started).</p>\n\n<p>To get fine grained control over a scheduled execution you need implement a custom <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/Trigger.html\" rel=\"nofollow noreferrer\"><code>Trigger</code></a> - similar to what you already did. Together with the to be executed task, this trigger can be registered by implementing <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/SchedulingConfigurer.html\" rel=\"nofollow noreferrer\"><code>SchedulingConfigurer</code></a> in your <code>@Configuration</code> class using <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/config/ScheduledTaskRegistrar.html#addTriggerTask-java.lang.Runnable-org.springframework.scheduling.Trigger-\" rel=\"nofollow noreferrer\"><code>ScheduledTaskRegistrar.addTriggerTask</code></a>:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class AppConfig implements SchedulingConfigurer {\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskScheduler());\n        taskRegistrar.addTriggerTask(() -&gt; myTask().work(), myTrigger());\n    }\n\n    @Bean(destroyMethod=\"shutdown\")\n    public Executor taskScheduler() {\n        return Executors.newScheduledThreadPool(42);\n    }\n\n    @Bean\n    public CustomDynamicSchedule myTrigger() {\n        new CustomDynamicSchedule();\n    }\n\n    @Bean\n    public MyTask myTask() {\n        return new MyTask();\n    }\n}\n</code></pre>\n\n<p>But don't do any registration of a task in the <code>CustomDynamicSchedule</code> just use it to compute the next execution time:</p>\n\n<pre><code>public class CustomDynamicSchedule extends DynamicSchedule implements Trigger {\n\n    private long delayInterval;\n\n    @Override\n    public synchronized void increaseDelayInterval(Long delay) {\n        this.delayInterval += delay;\n    }\n\n    @Override\n    public synchronized void decreaseDelayInterval(Long delay) {\n        this.delayInterval += delay;\n    }\n\n    @Override\n    public synchronized void delay(Long delay) {\n        this.delayInterval = delay;\n    }\n\n    @Override\n    public Date nextExecutionTime(TriggerContext triggerContext) {\n        Date lastTime = triggerContext.lastActualExecutionTime();\n        return (lastTime == null) ? new Date() : new Date(lastTime.getTime() + delayInterval);\n    }\n}\n</code></pre>\n\n<p>But remember to make <code>CustomDynamicSchedule</code> thread safe as it will be created as singleton by spring and might be accessed by multiple threads in parallel.</p>\n"},{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569486470,"creation_date":1559036585,"answer_id":56339318,"question_id":56302020,"body_markdown":"With annotation you can do it only by aproximation by finding a common denominator and poll it. I will show you later. If you want a real dynamic solution you can not use annotations but you can use programmatic configuration. **The positive of this solution is that you can change the execution period even in runtime!** Here is an example on how to do that:\r\n\r\n    \r\n      public initializeDynamicScheduledTAsk (ThreadPoolTaskScheduler scheduler,Date start,long executionPeriod) {\r\n        scheduler.schedule(\r\n          new ScheduledTask(),\r\n          new Date(startTime),period\r\n        );\r\n        }\r\n    class ScheduledTask implements Runnable{\r\n      \r\n         \r\n        @Override\r\n        public void run() {\r\n           // my scheduled logic here \r\n        }\r\n    }\r\n\r\nThere is a way to cheat and actually do something with annotations. But you can do that only if precision is not important. What does it mean precision. If you know that you want to start it every 5 seconds but 100ms more or less is not important. If you know that you need to start every 5-6-8 or 10 seconds you can configure one job that is executing every second and check within one if statement how long has it passed since the previous execution. It is very lame, but it works :) as long as you don&#39;t need up to millisecond precision. Here is an example:\r\n\r\n    public class SemiDynamicScheduledService {\r\n    \r\n    private Long lastExecution;\r\n    @Value(#{yourDynamicConfiguration})\r\n    private int executeEveryInMS\r\n    \r\n    @Scheduled(fixedDelay=1000)\r\n    public semiDynamicScheduledMethod() {\r\n       if (System.currentTimeMS() - lastExecution&gt;executeEveryInMS) {\r\n          lastExecution = System.currentTimeMS();\r\n          // put your processing logic here\r\n       }\r\n    }\r\n    \r\n    }\r\n\r\nI is a bit lame but will do the job for simple cases.","title":"Modify scheduler timing dynamically based on the condition used with spring-boot @Scheduled annotation","body":"<p>With annotation you can do it only by aproximation by finding a common denominator and poll it. I will show you later. If you want a real dynamic solution you can not use annotations but you can use programmatic configuration. <strong>The positive of this solution is that you can change the execution period even in runtime!</strong> Here is an example on how to do that:</p>\n\n<pre><code>  public initializeDynamicScheduledTAsk (ThreadPoolTaskScheduler scheduler,Date start,long executionPeriod) {\n    scheduler.schedule(\n      new ScheduledTask(),\n      new Date(startTime),period\n    );\n    }\nclass ScheduledTask implements Runnable{\n\n\n    @Override\n    public void run() {\n       // my scheduled logic here \n    }\n}\n</code></pre>\n\n<p>There is a way to cheat and actually do something with annotations. But you can do that only if precision is not important. What does it mean precision. If you know that you want to start it every 5 seconds but 100ms more or less is not important. If you know that you need to start every 5-6-8 or 10 seconds you can configure one job that is executing every second and check within one if statement how long has it passed since the previous execution. It is very lame, but it works :) as long as you don't need up to millisecond precision. Here is an example:</p>\n\n<pre><code>public class SemiDynamicScheduledService {\n\nprivate Long lastExecution;\n@Value(#{yourDynamicConfiguration})\nprivate int executeEveryInMS\n\n@Scheduled(fixedDelay=1000)\npublic semiDynamicScheduledMethod() {\n   if (System.currentTimeMS() - lastExecution&gt;executeEveryInMS) {\n      lastExecution = System.currentTimeMS();\n      // put your processing logic here\n   }\n}\n\n}\n</code></pre>\n\n<p>I is a bit lame but will do the job for simple cases.</p>\n"},{"tags":[],"owner":{"account_id":21521011,"reputation":39,"user_id":15862161,"display_name":"Raja Mahapatra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683478351,"creation_date":1683478351,"answer_id":76195189,"question_id":56302020,"body_markdown":"Spring does not have direct support using a variable for Frequency of a scheduler. Writing a custom master scheduler (say scheduled to execute every second) to control the other schedules is a good option. ","title":"Modify scheduler timing dynamically based on the condition used with spring-boot @Scheduled annotation","body":"<p>Spring does not have direct support using a variable for Frequency of a scheduler. Writing a custom master scheduler (say scheduled to execute every second) to control the other schedules is a good option.</p>\n"}],"owner":{"account_id":6115119,"reputation":618,"user_id":4770397,"accept_rate":26,"display_name":"mayank bisht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16510,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1697800121,"creation_date":1558762317,"question_id":56302020,"body_markdown":"I have a scheduler, which triggers at a fixed delay of 5secs. I am planning to have more than one schedulers, but for now, let&#39;s stick to just one scheduler.\r\n\r\n**Requirement:** Based on business condition scheduler&#39;s *fixedDelay* should be changed (**e.g,** default *fixedDelay* is *5secs*, but it can be *6, 8, 10secs*, based on condition).\r\n\r\nIn order to achieve this, I am trying to modify the *fixedDelay*. But it&#39;s not working for me.\r\n\r\nInterface, with delay methods\r\n\r\n    public abstract class DynamicSchedule{\r\n            /**\r\n             * Delays scheduler\r\n             * @param milliseconds - the time to delay scheduler.\r\n             */\r\n            abstract void delay(Long milliseconds);\r\n    \r\n            /**\r\n             * Decreases delay period\r\n             * @param milliseconds - the time to decrease delay period.\r\n             */\r\n            abstract void decreaseDelayInterval(Long milliseconds);\r\n    \r\n            /**\r\n             * Increases delay period\r\n             * @param milliseconds - the time to increase dela period\r\n            */\r\n            abstract void increaseDelayInterval(Long milliseconds);\r\n    }\r\n\r\n\r\nImplementating Trigger interface that is located at org.springframework.scheduling in the spring-context project.\r\n\r\n\r\n    import org.springframework.scheduling.TaskScheduler;\r\n    import org.springframework.scheduling.Trigger;\r\n    import org.springframework.scheduling.TriggerContext;\r\n    \r\n    import java.util.Date;\r\n    import java.util.concurrent.ScheduledFuture;\r\n    \r\n    public class CustomDynamicSchedule extends DynamicSchedule implements Trigger {\r\n    \r\n        private TaskScheduler taskScheduler;\r\n        private ScheduledFuture&lt;?&gt; schedulerFuture;\r\n    \r\n        /**\r\n         * milliseconds\r\n         */\r\n        private long delayInterval;\r\n    \r\n        public CustomDynamicSchedule(TaskScheduler taskScheduler) {\r\n            this.taskScheduler = taskScheduler;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void increaseDelayInterval(Long delay) {\r\n            if (schedulerFuture != null) {\r\n                schedulerFuture.cancel(true);\r\n            }\r\n            this.delayInterval += delay;\r\n            schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\r\n        }\r\n    \r\n        @Override\r\n        public void decreaseDelayInterval(Long delay) {\r\n            if (schedulerFuture != null) {\r\n                schedulerFuture.cancel(true);\r\n            }\r\n            this.delayInterval += delay;\r\n            schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\r\n        }\r\n    \r\n        @Override\r\n        public void delay(Long delay) {\r\n            if (schedulerFuture != null) {\r\n                schedulerFuture.cancel(true);\r\n            }\r\n            this.delayInterval = delay;\r\n            schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\r\n        }\r\n    \r\n        @Override\r\n        public Date nextExecutionTime(TriggerContext triggerContext) {\r\n            Date lastTime = triggerContext.lastActualExecutionTime();\r\n            return (lastTime == null) ? new Date() : new Date(lastTime.getTime() + delayInterval);\r\n        }\r\n    }\r\n\r\nconfiguration:\r\n\r\n    @Configuration\r\n    public class DynamicSchedulerConfig {\r\n        @Bean\r\n        public CustomDynamicSchedule getDinamicScheduler() {\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n            return  new CustomDynamicSchedule(threadPoolTaskScheduler);\r\n        }\r\n    }\r\n\r\nTest class, to test the usage.\r\n\r\n    @EnableScheduling\r\n    @Component\r\n    public class TestSchedulerComponent {\r\n    \r\n        @Autowired\r\n        private CustomDynamicSchedule dynamicSchedule;\r\n    \r\n        @Scheduled(fixedDelay = 5000)\r\n        public void testMethod() {\r\n            dynamicSchedule.delay(1000l);\r\n            dynamicSchedule.increaseDelayInterval(9000l);\r\n            dynamicSchedule.decreaseDelayInterval(5000l);\r\n        }\r\n    \r\n    }\r\n\r\nI have tried to use https://stackoverflow.com/a/51333059/4770397 but this code is not working for me.\r\n\r\nScheduler is running at *fixedDelay*, there is no change in that.","title":"Modify scheduler timing dynamically based on the condition used with spring-boot @Scheduled annotation","body":"<p>I have a scheduler, which triggers at a fixed delay of 5secs. I am planning to have more than one schedulers, but for now, let's stick to just one scheduler.</p>\n<p><strong>Requirement:</strong> Based on business condition scheduler's <em>fixedDelay</em> should be changed (<strong>e.g,</strong> default <em>fixedDelay</em> is <em>5secs</em>, but it can be <em>6, 8, 10secs</em>, based on condition).</p>\n<p>In order to achieve this, I am trying to modify the <em>fixedDelay</em>. But it's not working for me.</p>\n<p>Interface, with delay methods</p>\n<pre><code>public abstract class DynamicSchedule{\n        /**\n         * Delays scheduler\n         * @param milliseconds - the time to delay scheduler.\n         */\n        abstract void delay(Long milliseconds);\n\n        /**\n         * Decreases delay period\n         * @param milliseconds - the time to decrease delay period.\n         */\n        abstract void decreaseDelayInterval(Long milliseconds);\n\n        /**\n         * Increases delay period\n         * @param milliseconds - the time to increase dela period\n        */\n        abstract void increaseDelayInterval(Long milliseconds);\n}\n</code></pre>\n<p>Implementating Trigger interface that is located at org.springframework.scheduling in the spring-context project.</p>\n<pre><code>import org.springframework.scheduling.TaskScheduler;\nimport org.springframework.scheduling.Trigger;\nimport org.springframework.scheduling.TriggerContext;\n\nimport java.util.Date;\nimport java.util.concurrent.ScheduledFuture;\n\npublic class CustomDynamicSchedule extends DynamicSchedule implements Trigger {\n\n    private TaskScheduler taskScheduler;\n    private ScheduledFuture&lt;?&gt; schedulerFuture;\n\n    /**\n     * milliseconds\n     */\n    private long delayInterval;\n\n    public CustomDynamicSchedule(TaskScheduler taskScheduler) {\n        this.taskScheduler = taskScheduler;\n    }\n\n\n    @Override\n    public void increaseDelayInterval(Long delay) {\n        if (schedulerFuture != null) {\n            schedulerFuture.cancel(true);\n        }\n        this.delayInterval += delay;\n        schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\n    }\n\n    @Override\n    public void decreaseDelayInterval(Long delay) {\n        if (schedulerFuture != null) {\n            schedulerFuture.cancel(true);\n        }\n        this.delayInterval += delay;\n        schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\n    }\n\n    @Override\n    public void delay(Long delay) {\n        if (schedulerFuture != null) {\n            schedulerFuture.cancel(true);\n        }\n        this.delayInterval = delay;\n        schedulerFuture = taskScheduler.schedule(() -&gt; { }, this);\n    }\n\n    @Override\n    public Date nextExecutionTime(TriggerContext triggerContext) {\n        Date lastTime = triggerContext.lastActualExecutionTime();\n        return (lastTime == null) ? new Date() : new Date(lastTime.getTime() + delayInterval);\n    }\n}\n</code></pre>\n<p>configuration:</p>\n<pre><code>@Configuration\npublic class DynamicSchedulerConfig {\n    @Bean\n    public CustomDynamicSchedule getDinamicScheduler() {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.initialize();\n        return  new CustomDynamicSchedule(threadPoolTaskScheduler);\n    }\n}\n</code></pre>\n<p>Test class, to test the usage.</p>\n<pre><code>@EnableScheduling\n@Component\npublic class TestSchedulerComponent {\n\n    @Autowired\n    private CustomDynamicSchedule dynamicSchedule;\n\n    @Scheduled(fixedDelay = 5000)\n    public void testMethod() {\n        dynamicSchedule.delay(1000l);\n        dynamicSchedule.increaseDelayInterval(9000l);\n        dynamicSchedule.decreaseDelayInterval(5000l);\n    }\n\n}\n</code></pre>\n<p>I have tried to use <a href=\"https://stackoverflow.com/a/51333059/4770397\">https://stackoverflow.com/a/51333059/4770397</a> but this code is not working for me.</p>\n<p>Scheduler is running at <em>fixedDelay</em>, there is no change in that.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697786973,"post_id":77325177,"comment_id":136325998,"body_markdown":"What operation do you use to sort? In addition, the two sorts in your questions are not different.  Please see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"What operation do you use to sort? In addition, the two sorts in your questions are not different.  Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2772487,"reputation":446,"user_id":3171172,"display_name":"PandaCheLion"},"score":0,"creation_date":1697799748,"post_id":77325177,"comment_id":136328272,"body_markdown":"I&#39;m using the `Organize Imports` function (I&#39;ll update the question to include that information). Regarding the second remark, you are right.  I&#39;ve updated the expected result part. Thanks","body":"I&#39;m using the <code>Organize Imports</code> function (I&#39;ll update the question to include that information). Regarding the second remark, you are right.  I&#39;ve updated the expected result part. Thanks"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698128285,"post_id":77325177,"comment_id":136362358,"body_markdown":"Please provide a complete reproducible example. `Organize Imports` will remove unused imports.","body":"Please provide a complete reproducible example. <code>Organize Imports</code> will remove unused imports."}],"owner":{"account_id":2772487,"reputation":446,"user_id":3171172,"display_name":"PandaCheLion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697799910,"creation_date":1697729380,"question_id":77325177,"body_markdown":"Our project has agreed upon a `checkstyle` which defines the expected order of the imports\r\n\r\n```\r\n(..)\r\n     &lt;module name=&quot;CustomImportOrder&quot;&gt;\r\n        &lt;property name=&quot;sortImportsInGroupAlphabetically&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;separateLineBetweenGroups&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;customImportOrderRules&quot; value=&quot;STATIC###STANDARD_JAVA_PACKAGE###THIRD_PARTY_PACKAGE###SAME_PACKAGE(3)&quot;/&gt;\r\n        &lt;property name=&quot;tokens&quot; value=&quot;IMPORT, STATIC_IMPORT, PACKAGE_DEF&quot;/&gt;\r\n     &lt;/module&gt;\r\n(..)\r\n```\r\n\r\nI understand VSCode does not support getting the order from the checkstyle.xml files but it allows (through Language support for Java ™ for Visual Studio Code plugin) for the Organize Imports order to be customized by the defining it with the property `&quot;java.completion.importOrder&quot;`.\r\n\r\nWhile attempting to replicate the order in the checkstyle, I&#39;ve tried several approaches all of them using the `Organize Imports` function available. The one that came closer was:\r\n\r\n```  \r\n&quot;java.completion.importOrder&quot;: [\r\n  &quot;#&quot;,\r\n  &quot;java&quot;, \r\n  &quot;javax&quot;,\r\n  &quot;&quot;,\r\n  &quot;com,org&quot;,\r\n  &quot;com.myProject&quot;\r\n],\r\n```\r\n\r\nBut it still divides the `java.*` group from the `javax.*`.\r\n\r\nWith the above setting I get:\r\n```\r\npackage (...)\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.xml.transform.TransformerException;\r\n\r\nimport com.company.AddIssueRequest;\r\nimport com.company.AddIssueResponse;\r\nimport org.lombok;\r\nimport org.springframework.ws.WebServiceMessage;\r\nimport org.springframework.ws.WebServiceMessageFactory;\r\nimport org.springframework.ws.client.core.WebServiceMessageCallback;\r\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\r\n\r\nimport com.myProject.exception.MethodNotImplementedException;\r\n\r\nclass (...)\r\n```\r\n\r\nAnd I wanted it group java and javax imports as part of the same group like the example below.\r\n```\r\npackage (...)\r\n\r\nimport java.io.IOException;\r\nimport javax.xml.transform.TransformerException;\r\n\r\nimport com.company.AddIssueRequest;\r\nimport com.company.AddIssueResponse;\r\nimport org.lombok;\r\nimport org.springframework.ws.WebServiceMessage;\r\nimport org.springframework.ws.WebServiceMessageFactory;\r\nimport org.springframework.ws.client.core.WebServiceMessageCallback;\r\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\r\n\r\nimport com.myProject.exception.MethodNotImplementedException;\r\n\r\nclass (...)\r\n```\r\n\r\nIs that possible?\r\n\r\nI&#39;ve also tried to set both prefixed in the same item group, like it was done for `com` and `org` (see below) but is seems to not work the same way.\r\n```\r\n&quot;java.completion.importOrder&quot;: [\r\n  &quot;#&quot;,\r\n  &quot;java,javax&quot;,\r\n  &quot;&quot;,\r\n  &quot;com,org&quot;,\r\n  &quot;com.myProject&quot;\r\n],\r\n```\r\n\r\nWith this configuration the `java` and `javax` import groups are bundled together in the same json array element like the `&quot;com,org&quot;` import group below. I also tried using regular expressions and it also did not work.","title":"VSCode - Customize imports organization","body":"<p>Our project has agreed upon a <code>checkstyle</code> which defines the expected order of the imports</p>\n<pre><code>(..)\n     &lt;module name=&quot;CustomImportOrder&quot;&gt;\n        &lt;property name=&quot;sortImportsInGroupAlphabetically&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;separateLineBetweenGroups&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;customImportOrderRules&quot; value=&quot;STATIC###STANDARD_JAVA_PACKAGE###THIRD_PARTY_PACKAGE###SAME_PACKAGE(3)&quot;/&gt;\n        &lt;property name=&quot;tokens&quot; value=&quot;IMPORT, STATIC_IMPORT, PACKAGE_DEF&quot;/&gt;\n     &lt;/module&gt;\n(..)\n</code></pre>\n<p>I understand VSCode does not support getting the order from the checkstyle.xml files but it allows (through Language support for Java ™ for Visual Studio Code plugin) for the Organize Imports order to be customized by the defining it with the property <code>&quot;java.completion.importOrder&quot;</code>.</p>\n<p>While attempting to replicate the order in the checkstyle, I've tried several approaches all of them using the <code>Organize Imports</code> function available. The one that came closer was:</p>\n<pre><code>&quot;java.completion.importOrder&quot;: [\n  &quot;#&quot;,\n  &quot;java&quot;, \n  &quot;javax&quot;,\n  &quot;&quot;,\n  &quot;com,org&quot;,\n  &quot;com.myProject&quot;\n],\n</code></pre>\n<p>But it still divides the <code>java.*</code> group from the <code>javax.*</code>.</p>\n<p>With the above setting I get:</p>\n<pre><code>package (...)\n\nimport java.io.IOException;\n\nimport javax.xml.transform.TransformerException;\n\nimport com.company.AddIssueRequest;\nimport com.company.AddIssueResponse;\nimport org.lombok;\nimport org.springframework.ws.WebServiceMessage;\nimport org.springframework.ws.WebServiceMessageFactory;\nimport org.springframework.ws.client.core.WebServiceMessageCallback;\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\n\nimport com.myProject.exception.MethodNotImplementedException;\n\nclass (...)\n</code></pre>\n<p>And I wanted it group java and javax imports as part of the same group like the example below.</p>\n<pre><code>package (...)\n\nimport java.io.IOException;\nimport javax.xml.transform.TransformerException;\n\nimport com.company.AddIssueRequest;\nimport com.company.AddIssueResponse;\nimport org.lombok;\nimport org.springframework.ws.WebServiceMessage;\nimport org.springframework.ws.WebServiceMessageFactory;\nimport org.springframework.ws.client.core.WebServiceMessageCallback;\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\n\nimport com.myProject.exception.MethodNotImplementedException;\n\nclass (...)\n</code></pre>\n<p>Is that possible?</p>\n<p>I've also tried to set both prefixed in the same item group, like it was done for <code>com</code> and <code>org</code> (see below) but is seems to not work the same way.</p>\n<pre><code>&quot;java.completion.importOrder&quot;: [\n  &quot;#&quot;,\n  &quot;java,javax&quot;,\n  &quot;&quot;,\n  &quot;com,org&quot;,\n  &quot;com.myProject&quot;\n],\n</code></pre>\n<p>With this configuration the <code>java</code> and <code>javax</code> import groups are bundled together in the same json array element like the <code>&quot;com,org&quot;</code> import group below. I also tried using regular expressions and it also did not work.</p>\n"},{"tags":["java","spring-boot","download","pdf-generation"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1697783076,"post_id":77328473,"comment_id":136325354,"body_markdown":"Have you checked the default downloads folder?","body":"Have you checked the default downloads folder?"}],"answers":[{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697799756,"creation_date":1697799756,"answer_id":77330404,"question_id":77328473,"body_markdown":"This should work for you:\r\n\r\n\r\n    @GetMapping(value = &quot;/generatepdf&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity generatepdf(\r\n    \tfinal HttpServletResponse response\r\n    ) throws IOException {\r\n    \tfinal String headerKey = CONTENT_DISPOSITION;\r\n        final String headerValue = &quot;attachment; filename=&quot;foo.pdf&quot;;\r\n        response.setHeader(headerKey, headerValue);\r\n    \r\n    \t// Write what you want in the: response.getOutputStream()\r\n\r\n        response.flushBuffer();\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }","title":"PDF unable to download on browser when i hit my spring boot API from angular","body":"<p>This should work for you:</p>\n<pre><code>@GetMapping(value = &quot;/generatepdf&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\npublic ResponseEntity generatepdf(\n    final HttpServletResponse response\n) throws IOException {\n    final String headerKey = CONTENT_DISPOSITION;\n    final String headerValue = &quot;attachment; filename=&quot;foo.pdf&quot;;\n    response.setHeader(headerKey, headerValue);\n\n    // Write what you want in the: response.getOutputStream()\n\n    response.flushBuffer();\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":28716170,"reputation":1,"user_id":21990740,"display_name":"Vaibhav Varade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697799756,"creation_date":1697779319,"question_id":77328473,"body_markdown":"this is my controller method to download created PDF from html - \r\n\r\n    @PostMapping(&quot;/downloadPdf/{apiGroup}/{api}&quot;)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; generatePdf(@PathVariable String apiGroup, @PathVariable String api, HttpServletRequest req,HttpServletResponse resp){\r\n\t\t\r\n\t\tResponse response = new Response();\r\n\t\tLoggerDto loggerDto = new LoggerDto();\r\n\t\tloggerDto.setMessage(&quot;Inside generatePdf of DocumentGenerationController&quot; );\r\n\t\tlogger.printLog(DbEnum.INFO,loggerDto);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tByteArrayInputStream pdfStream = documentGenerationService.generatePdf(req, resp, apiGroup, api, loggerDto, logger);\r\n\t\t\tif(pdfStream != null){\r\n\t\t\t\tloggerDto.setMessage(&quot;PDF stream returned from DocumentGeneratorUtil&quot; );\r\n\t\t\t\tlogger.printLog(DbEnum.INFO,loggerDto);\r\n\t\t\t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n\t\t\t\thttpHeaders.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+api+&quot;.pdf&quot;);\r\n\t\t\r\n\t\t\t\treturn ResponseEntity\r\n\t\t\t\t\t\t.ok()\r\n\t\t\t\t\t\t.headers(httpHeaders)\r\n\t\t\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n\t\t\t\t\t\t.body(new InputStreamResource(pdfStream));\r\n\r\n\r\nWhen I am hitting this API, PDF does not get downloaded on browser. \r\n\r\nIn response header I get below data :\r\n\r\nContent-Disposition:\r\nattachment; filename=Generate Quick invoice.pdf\r\n\r\nContent-Type:\r\napplication/octet-stream\r\n\r\n\r\n","title":"PDF unable to download on browser when i hit my spring boot API from angular","body":"<p>this is my controller method to download created PDF from html -</p>\n<pre><code>@PostMapping(&quot;/downloadPdf/{apiGroup}/{api}&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; generatePdf(@PathVariable String apiGroup, @PathVariable String api, HttpServletRequest req,HttpServletResponse resp){\n    \n    Response response = new Response();\n    LoggerDto loggerDto = new LoggerDto();\n    loggerDto.setMessage(&quot;Inside generatePdf of DocumentGenerationController&quot; );\n    logger.printLog(DbEnum.INFO,loggerDto);\n    \n    try {\n        ByteArrayInputStream pdfStream = documentGenerationService.generatePdf(req, resp, apiGroup, api, loggerDto, logger);\n        if(pdfStream != null){\n            loggerDto.setMessage(&quot;PDF stream returned from DocumentGeneratorUtil&quot; );\n            logger.printLog(DbEnum.INFO,loggerDto);\n            HttpHeaders httpHeaders = new HttpHeaders();\n            httpHeaders.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+api+&quot;.pdf&quot;);\n    \n            return ResponseEntity\n                    .ok()\n                    .headers(httpHeaders)\n                    .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n                    .body(new InputStreamResource(pdfStream));\n</code></pre>\n<p>When I am hitting this API, PDF does not get downloaded on browser.</p>\n<p>In response header I get below data :</p>\n<p>Content-Disposition:\nattachment; filename=Generate Quick invoice.pdf</p>\n<p>Content-Type:\napplication/octet-stream</p>\n"},{"tags":["java","spring-data","spring-data-r2dbc","r2dbc","r2dbc-postgresql"],"owner":{"account_id":18345697,"reputation":1,"user_id":13360929,"display_name":"Mercury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697799586,"creation_date":1697799586,"question_id":77330385,"body_markdown":"How to map the row from the table to single field.\r\n\r\nHere is an example with book that holds the metadata in another class:\r\n\r\n```\r\n// Simple pojo that contains the information about papers\r\nclass PapersInfo {\r\n    Long paperCount;\r\n    Long blankPaperCount;\r\n}\r\n// Book entity\r\n@Entity\r\nclass Book {\r\n    @Id\r\n    Long id;\r\n    String name;\r\n    PapersInfo paperInfo;\r\n\r\n}\r\n```\r\n\r\nHow to map the PapersInfo so it won&#39;t throw an exception?\r\n\r\nSo here is what I tried:\r\n\r\n- Using the AfterConvertCallback\\&lt;Book\\&gt; and then enhance property but it can&#39;t be done because of onAfterConvert(T entity, SqlIdentifier table) method does not contain any Row information.\r\n\r\n- Using the Converter from Spring core and use Converter\\&lt;Row, Book\\&gt; it works, but I need to map the whole entity by myself(including the book name, id and so on). In my project the entity is pretty large and mapping all the fields by myself is hard.\r\n\r\n- Using the Converter from Spring core but with Converter\\&lt;Row, PapersInfo\\&gt; but it is does not work, because MappingR2dbcConverter can parse Row only for entity class(for Book in this example). I thought about extending the MappingR2dbcConverter and override the read method, but almost all methods in MappingR2dbcConverter are private and I will need to rewrite it.\r\n\r\n  Ideally I would like to override the\r\n\r\n  ```\r\n  private &lt;R&gt; R read(RelationalPersistentEntity&lt;R&gt; entity, Row row, @Nullable RowMetadata metadata)\r\n  ```\r\n\r\n  method from the MappingR2dbcConverter and add the ability to parse the Row to specific field, but it is private.\r\n\r\n- Of course I can annotate the PapersInfo with @Transient annotation and  hold the fields from PapersInfo in Book class and map them in AfterConvertCallback but I think it should be better solution.\r\n\r\n  Maybe I am missing something? Thanks for the help!","title":"How to map the row to the specific field in entity using R2DBC","body":"<p>How to map the row from the table to single field.</p>\n<p>Here is an example with book that holds the metadata in another class:</p>\n<pre><code>// Simple pojo that contains the information about papers\nclass PapersInfo {\n    Long paperCount;\n    Long blankPaperCount;\n}\n// Book entity\n@Entity\nclass Book {\n    @Id\n    Long id;\n    String name;\n    PapersInfo paperInfo;\n\n}\n</code></pre>\n<p>How to map the PapersInfo so it won't throw an exception?</p>\n<p>So here is what I tried:</p>\n<ul>\n<li><p>Using the AfterConvertCallback&lt;Book&gt; and then enhance property but it can't be done because of onAfterConvert(T entity, SqlIdentifier table) method does not contain any Row information.</p>\n</li>\n<li><p>Using the Converter from Spring core and use Converter&lt;Row, Book&gt; it works, but I need to map the whole entity by myself(including the book name, id and so on). In my project the entity is pretty large and mapping all the fields by myself is hard.</p>\n</li>\n<li><p>Using the Converter from Spring core but with Converter&lt;Row, PapersInfo&gt; but it is does not work, because MappingR2dbcConverter can parse Row only for entity class(for Book in this example). I thought about extending the MappingR2dbcConverter and override the read method, but almost all methods in MappingR2dbcConverter are private and I will need to rewrite it.</p>\n<p>Ideally I would like to override the</p>\n<pre><code>private &lt;R&gt; R read(RelationalPersistentEntity&lt;R&gt; entity, Row row, @Nullable RowMetadata metadata)\n</code></pre>\n<p>method from the MappingR2dbcConverter and add the ability to parse the Row to specific field, but it is private.</p>\n</li>\n<li><p>Of course I can annotate the PapersInfo with @Transient annotation and  hold the fields from PapersInfo in Book class and map them in AfterConvertCallback but I think it should be better solution.</p>\n<p>Maybe I am missing something? Thanks for the help!</p>\n</li>\n</ul>\n"},{"tags":["java","docker","armv7"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1692545705,"post_id":76940132,"comment_id":135635138,"body_markdown":"Does this answer your question? [Build linux/arm64 docker image on linux/amd64 host](https://stackoverflow.com/questions/70757791/build-linux-arm64-docker-image-on-linux-amd64-host)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70757791/build-linux-arm64-docker-image-on-linux-amd64-host\">Build linux/arm64 docker image on linux/amd64 host</a>"},{"owner":{"account_id":29262370,"reputation":13,"user_id":22419034,"display_name":"4ctive"},"score":0,"creation_date":1692547921,"post_id":76940132,"comment_id":135635400,"body_markdown":"No, thats another problem. I have listed the platform I need (&quot;linux/arm/v7&quot;), but am not able to run the build with it...","body":"No, thats another problem. I have listed the platform I need (&quot;linux/arm/v7&quot;), but am not able to run the build with it..."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697799123,"creation_date":1692555741,"answer_id":76940788,"question_id":76940132,"body_markdown":"`openjdk:20` is available for `arm64/v8`, not for `arm/v7` which is 32 bit (see [this page][2]). It is also a bit old and vulnerable, furthermore the `openjdk` repository on Docker Hub is deprecated (see the [deprecation notice][1]).\r\n\r\n[`arm32v7/eclipse-temurin`][3] has recent images but it supports up to Java 17.  Do you really use some Java 20 feature?  I have not found a pre-built image of Java 20 for `arm/v7`, however consider that Java 17 is the latest LTS so it is not obsolete.\r\n\r\n`arm32v7/eclipse-temurin` offers both JDK and JRE images.  It seems that you need just a JRE but you were trying to use a JDK which is bigger; I recommend `arm32v7/eclipse-temurin:17-jre`.\r\n\r\n\r\n  [1]: https://hub.docker.com/_/openjdk\r\n  [2]: https://hub.docker.com/layers/library/openjdk/20/images/sha256-c46cc372084e55b20d5d8bf02859ce96f188c90ed907a8c1fb9c23613b9a4ff3\r\n  [3]: https://hub.docker.com/r/arm32v7/eclipse-temurin/","title":"trying to build a docker image from my java app: openjdk:20 linux/arm/v7 - no match for platform in manifest","body":"<p><code>openjdk:20</code> is available for <code>arm64/v8</code>, not for <code>arm/v7</code> which is 32 bit (see <a href=\"https://hub.docker.com/layers/library/openjdk/20/images/sha256-c46cc372084e55b20d5d8bf02859ce96f188c90ed907a8c1fb9c23613b9a4ff3\" rel=\"nofollow noreferrer\">this page</a>). It is also a bit old and vulnerable, furthermore the <code>openjdk</code> repository on Docker Hub is deprecated (see the <a href=\"https://hub.docker.com/_/openjdk\" rel=\"nofollow noreferrer\">deprecation notice</a>).</p>\n<p><a href=\"https://hub.docker.com/r/arm32v7/eclipse-temurin/\" rel=\"nofollow noreferrer\"><code>arm32v7/eclipse-temurin</code></a> has recent images but it supports up to Java 17.  Do you really use some Java 20 feature?  I have not found a pre-built image of Java 20 for <code>arm/v7</code>, however consider that Java 17 is the latest LTS so it is not obsolete.</p>\n<p><code>arm32v7/eclipse-temurin</code> offers both JDK and JRE images.  It seems that you need just a JRE but you were trying to use a JDK which is bigger; I recommend <code>arm32v7/eclipse-temurin:17-jre</code>.</p>\n"},{"comments":[{"owner":{"account_id":29262370,"reputation":13,"user_id":22419034,"display_name":"4ctive"},"score":0,"creation_date":1692618900,"post_id":76940848,"comment_id":135643586,"body_markdown":"Thank you very much. That did work for me!","body":"Thank you very much. That did work for me!"}],"tags":[],"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692556593,"creation_date":1692556593,"answer_id":76940848,"question_id":76940132,"body_markdown":"OpenJDK is deprecated and will not work with your architecture. try with this Dockerfile:\r\n\r\n```Dockerfile\r\nFROM arm32v7/eclipse-temurin:17-jammy\r\n\r\nENV ENVIRONMENT=prod\r\n\r\nLABEL maintainer=&quot;XXX&quot;\r\n\r\nEXPOSE 8080\r\n\r\nADD backend/target/capstone.jar app.jar\r\n\r\nCMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;java -jar /app.jar&quot; ]\r\n```\r\n\r\nThe image arm32v7/eclipse-temurin:17-jammy is a little downgrade from the JDK 20 but will work on your machine. Also the eclipse-temurin offers the JRE only if you needed.","title":"trying to build a docker image from my java app: openjdk:20 linux/arm/v7 - no match for platform in manifest","body":"<p>OpenJDK is deprecated and will not work with your architecture. try with this Dockerfile:</p>\n<pre><code>FROM arm32v7/eclipse-temurin:17-jammy\n\nENV ENVIRONMENT=prod\n\nLABEL maintainer=&quot;XXX&quot;\n\nEXPOSE 8080\n\nADD backend/target/capstone.jar app.jar\n\nCMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;java -jar /app.jar&quot; ]\n</code></pre>\n<p>The image arm32v7/eclipse-temurin:17-jammy is a little downgrade from the JDK 20 but will work on your machine. Also the eclipse-temurin offers the JRE only if you needed.</p>\n"}],"owner":{"account_id":29262370,"reputation":13,"user_id":22419034,"display_name":"4ctive"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76940848,"answer_count":2,"score":0,"last_activity_date":1697799123,"creation_date":1692545292,"question_id":76940132,"body_markdown":"I am trying to build an docker image out of my IntelliJ.\r\nIt is a Java (openjdk:20) project. I need to have the image as an linux/arm/v7 to run on a raspberry pi 2. \r\nBut when I try to build the image a get the following error: ERROR: failed to solve: openjdk:20: no match for platform in manifest \r\n\r\nWhen I run docker buildX ls I see that I should be able to build it:\r\n```\r\nNAME/NODE       DRIVER/ENDPOINT STATUS  BUILDKIT                              PLATFORMS\r\ndefault         docker                                                        \r\n  default       default         running v0.11.7-0.20230525183624-798ad6b0ce9f linux/arm64, linux/amd64, linux/amd64/v2, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/mips64le, linux/mips64, linux/arm/v7, linux/arm/v6\r\ndesktop-linux * docker                                                        \r\n  desktop-linux desktop-linux   running v0.11.7-0.20230525183624-798ad6b0ce9f linux/arm64, linux/amd64, linux/amd64/v2, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/mips64le, linux/mips64, linux/arm/v7, linux/arm/v6\r\n```\r\n \r\nI am using this command: \r\n```\r\ndocker buildx build --platform linux/arm/v7 --tag testarmv7 .\r\n```\r\n\r\nMy Dockerfile looks like this:\r\n```\r\nFROM openjdk:20\r\n\r\nENV ENVIRONMENT=prod\r\n\r\nLABEL maintainer=&quot;XXX&quot;\r\n\r\nEXPOSE 8080\r\n\r\nADD backend/target/capstone.jar app.jar\r\n\r\nCMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;java -jar /app.jar&quot; ]\r\n```\r\n\r\nI really appreciate any help I can get!\r\n\r\nI tried to change the jdk to 17, 11 and 8, but it didnt solve the problem.","title":"trying to build a docker image from my java app: openjdk:20 linux/arm/v7 - no match for platform in manifest","body":"<p>I am trying to build an docker image out of my IntelliJ.\nIt is a Java (openjdk:20) project. I need to have the image as an linux/arm/v7 to run on a raspberry pi 2.\nBut when I try to build the image a get the following error: ERROR: failed to solve: openjdk:20: no match for platform in manifest</p>\n<p>When I run docker buildX ls I see that I should be able to build it:</p>\n<pre><code>NAME/NODE       DRIVER/ENDPOINT STATUS  BUILDKIT                              PLATFORMS\ndefault         docker                                                        \n  default       default         running v0.11.7-0.20230525183624-798ad6b0ce9f linux/arm64, linux/amd64, linux/amd64/v2, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/mips64le, linux/mips64, linux/arm/v7, linux/arm/v6\ndesktop-linux * docker                                                        \n  desktop-linux desktop-linux   running v0.11.7-0.20230525183624-798ad6b0ce9f linux/arm64, linux/amd64, linux/amd64/v2, linux/riscv64, linux/ppc64le, linux/s390x, linux/386, linux/mips64le, linux/mips64, linux/arm/v7, linux/arm/v6\n</code></pre>\n<p>I am using this command:</p>\n<pre><code>docker buildx build --platform linux/arm/v7 --tag testarmv7 .\n</code></pre>\n<p>My Dockerfile looks like this:</p>\n<pre><code>FROM openjdk:20\n\nENV ENVIRONMENT=prod\n\nLABEL maintainer=&quot;XXX&quot;\n\nEXPOSE 8080\n\nADD backend/target/capstone.jar app.jar\n\nCMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;java -jar /app.jar&quot; ]\n</code></pre>\n<p>I really appreciate any help I can get!</p>\n<p>I tried to change the jdk to 17, 11 and 8, but it didnt solve the problem.</p>\n"},{"tags":["java","spring-boot","dns"],"owner":{"account_id":12620592,"reputation":99,"user_id":9176238,"display_name":"Anurag Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697798776,"creation_date":1697798776,"question_id":77330307,"body_markdown":"I&#39;m facing a issue while running spark-submit command on my mac (Apple M1 pro Ventura 13.6 ) with openjdk11 and  spring boot version 2.7.17. \r\nError message is like `Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider`, fallback to system defaults. How to resolve this issue? \r\nI tried adding below dependency, but didn&#39;t resolved the issue.\r\n \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n  &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n  &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring Boot 2.7.11 - DNS Resolution Problem at start on Apple M1 Ventura OS","body":"<p>I'm facing a issue while running spark-submit command on my mac (Apple M1 pro Ventura 13.6 ) with openjdk11 and  spring boot version 2.7.17.\nError message is like <code>Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider</code>, fallback to system defaults. How to resolve this issue?\nI tried adding below dependency, but didn't resolved the issue.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.netty&lt;/groupId&gt;\n  &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n  &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","dns"],"answers":[{"tags":[],"owner":{"account_id":20592199,"reputation":131,"user_id":15115539,"display_name":"cavelling"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1612101289,"creation_date":1612074780,"answer_id":65976398,"question_id":65954571,"body_markdown":"For this pull request https://github.com/netty/netty/pull/10848, the log level changes from &quot;debug&quot; to &quot;warn.&quot;\r\n\r\nTo solve this problem, you can add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>For this pull request <a href=\"https://github.com/netty/netty/pull/10848\" rel=\"noreferrer\">https://github.com/netty/netty/pull/10848</a>, the log level changes from &quot;debug&quot; to &quot;warn.&quot;</p>\n<p>To solve this problem, you can add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11671423,"reputation":7825,"user_id":8546367,"display_name":"reka18"},"score":3,"creation_date":1624742783,"post_id":66337918,"comment_id":120442315,"body_markdown":"This no longer appears to solve the issue","body":"This no longer appears to solve the issue"}],"tags":[],"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614848840,"creation_date":1614100574,"answer_id":66337918,"question_id":65954571,"body_markdown":"As suggested [here][1], add the following dependency in your module.\r\n\r\n    &lt;properties&gt;\r\n\t  &lt;version.netty&gt;4.1.59.Final&lt;/version.netty&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n\t  &lt;version&gt;${version.netty}&lt;/version&gt;\r\n\t  &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t  &lt;classifier&gt;osx-x86_64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you face this issue only while running your app locally on macOS, you may add the dependency for a specific maven profile, e.g. &quot;local&quot;.\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;local&lt;/id&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.netty}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;classifier&gt;osx-x86_64&lt;/classifier&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nYou can avoid specifying `version` if you import [netty-bom][2] in `dependencyManagement`.\r\n\r\n  [1]: https://github.com/netty/netty/issues/11020\r\n  [2]: https://mvnrepository.com/artifact/io.netty/netty-bom","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>As suggested <a href=\"https://github.com/netty/netty/issues/11020\" rel=\"nofollow noreferrer\">here</a>, add the following dependency in your module.</p>\n<pre><code>&lt;properties&gt;\n  &lt;version.netty&gt;4.1.59.Final&lt;/version.netty&gt;\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;io.netty&lt;/groupId&gt;\n  &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n  &lt;version&gt;${version.netty}&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;classifier&gt;osx-x86_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you face this issue only while running your app locally on macOS, you may add the dependency for a specific maven profile, e.g. &quot;local&quot;.</p>\n<pre><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;local&lt;/id&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n        &lt;version&gt;${version.netty}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;classifier&gt;osx-x86_64&lt;/classifier&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>You can avoid specifying <code>version</code> if you import <a href=\"https://mvnrepository.com/artifact/io.netty/netty-bom\" rel=\"nofollow noreferrer\">netty-bom</a> in <code>dependencyManagement</code>.</p>\n"},{"comments":[{"owner":{"account_id":13330462,"reputation":662,"user_id":9621971,"display_name":"myverdict"},"score":1,"creation_date":1667390936,"post_id":66471176,"comment_id":131154838,"body_markdown":"Where can I find the classifier information on my Mac? I have a MacBook Pro (16-inch, 2021) with Apple M1 Pro chip.","body":"Where can I find the classifier information on my Mac? I have a MacBook Pro (16-inch, 2021) with Apple M1 Pro chip."},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":2,"creation_date":1667419819,"post_id":66471176,"comment_id":131165694,"body_markdown":"@myverdict As in the example above, M1 chips use &quot;osx-aarch_64&quot;.","body":"@myverdict As in the example above, M1 chips use &quot;osx-aarch_64&quot;."},{"owner":{"account_id":3041402,"reputation":1476,"user_id":2578324,"display_name":"jndietz"},"score":2,"creation_date":1679678726,"post_id":66471176,"comment_id":133770175,"body_markdown":"I&#39;m not saying you&#39;re wrong, but it doesn&#39;t seem right that we need to add a dependency to work around something.","body":"I&#39;m not saying you&#39;re wrong, but it doesn&#39;t seem right that we need to add a dependency to work around something."}],"tags":[],"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"comment_count":3,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1642021807,"creation_date":1614846369,"answer_id":66471176,"question_id":65954571,"body_markdown":"I needed a version in addition to classifier:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;classifier&gt;osx-x86_64&lt;/classifier&gt;\r\n\t\t\t&lt;version&gt;4.1.59.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nscope is optional but classifier is required.\r\n\r\nFor the latest version, see:\r\nhttps://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\r\n\r\nExample: Latest version for M1 macs (aarch_64), as of 2022-01:\r\n\r\n    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;version&gt;4.1.72.Final&lt;/version&gt;\r\n","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>I needed a version in addition to classifier:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;classifier&gt;osx-x86_64&lt;/classifier&gt;\n        &lt;version&gt;4.1.59.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>scope is optional but classifier is required.</p>\n<p>For the latest version, see:\n<a href=\"https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos\" rel=\"noreferrer\">https://mvnrepository.com/artifact/io.netty/netty-resolver-dns-native-macos</a></p>\n<p>Example: Latest version for M1 macs (aarch_64), as of 2022-01:</p>\n<pre><code>&lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;version&gt;4.1.72.Final&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14052508,"reputation":141,"user_id":10150839,"display_name":"Peter Cui"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1642067332,"creation_date":1622445426,"answer_id":67769368,"question_id":65954571,"body_markdown":"**Gradle** **syntax** if you prefer:\r\n\r\n    compile &quot;io.netty:netty-resolver-dns-native-macos:4.1.72.Final:osx-x86_64&quot;\r\n\r\nand for ARM-based macbook:\r\n\r\n    compile &quot;io.netty:netty-resolver-dns-native-macos:4.1.72.Final:osx-aarch_64&quot;\r\n","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p><strong>Gradle</strong> <strong>syntax</strong> if you prefer:</p>\n<pre><code>compile &quot;io.netty:netty-resolver-dns-native-macos:4.1.72.Final:osx-x86_64&quot;\n</code></pre>\n<p>and for ARM-based macbook:</p>\n<pre><code>compile &quot;io.netty:netty-resolver-dns-native-macos:4.1.72.Final:osx-aarch_64&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2777877,"reputation":49,"user_id":2391064,"display_name":"Maknaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640710619,"creation_date":1640710619,"answer_id":70510159,"question_id":65954571,"body_markdown":"This one is working on my MacBook Pro M1 Pro \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>This one is working on my MacBook Pro M1 Pro</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646384716,"creation_date":1646384716,"answer_id":71348963,"question_id":65954571,"body_markdown":"If you have Gradle and want to include netty only locally you can make use of https://github.com/google/osdetector-gradle-plugin\r\n\r\n```gradle\r\nplugins {\r\n    id(&quot;com.google.osdetector&quot;) version &quot;1.7.0&quot;\r\n}\r\n\r\ndependencies {\r\n    if (osdetector.arch.equals(&quot;aarch_64&quot;)) {\r\n        implementation(&quot;io.netty:netty-all&quot;)\r\n    }\r\n}\r\n```","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>If you have Gradle and want to include netty only locally you can make use of <a href=\"https://github.com/google/osdetector-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/google/osdetector-gradle-plugin</a></p>\n<pre><code>plugins {\n    id(&quot;com.google.osdetector&quot;) version &quot;1.7.0&quot;\n}\n\ndependencies {\n    if (osdetector.arch.equals(&quot;aarch_64&quot;)) {\n        implementation(&quot;io.netty:netty-all&quot;)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8499305,"reputation":61,"user_id":6372890,"display_name":"Rodrigo Bautista"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648225375,"creation_date":1648225375,"answer_id":71620147,"question_id":65954571,"body_markdown":"If you are using Intellij and gradle try File-&gt;invalidate caches\r\n\r\n    implementation(&quot;io.netty:netty-all:4.1.75.Final&quot;)","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>If you are using Intellij and gradle try File-&gt;invalidate caches</p>\n<pre><code>implementation(&quot;io.netty:netty-all:4.1.75.Final&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5219040,"reputation":743,"user_id":4173048,"display_name":"withoutOne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665246029,"creation_date":1665246029,"answer_id":73998625,"question_id":65954571,"body_markdown":"    &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.1.72.Final&lt;/version&gt;\r\n                    &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nit works for me on my M1 pro","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n                &lt;version&gt;4.1.72.Final&lt;/version&gt;\n                &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it works for me on my M1 pro</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690955954,"creation_date":1690955954,"answer_id":76816981,"question_id":65954571,"body_markdown":"It will mostly occur during local development on macOS with Apple Silicon as discussed in [this issue][1].\r\n\r\nIf you are using Maven then adding the following under the `project` tag in `pom.xml` should solve the issue:\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;id&gt;macos-m1&lt;/id&gt;\r\n    &lt;activation&gt;\r\n      &lt;os&gt;\r\n        &lt;family&gt;mac&lt;/family&gt;\r\n        &lt;arch&gt;aarch64&lt;/arch&gt;\r\n      &lt;/os&gt;\r\n    &lt;/activation&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\r\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\nThis ensures the profile is only activated for macOS with ARM64.\r\n\r\n  [1]: https://github.com/netty/netty/issues/11020","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>It will mostly occur during local development on macOS with Apple Silicon as discussed in <a href=\"https://github.com/netty/netty/issues/11020\" rel=\"nofollow noreferrer\">this issue</a>.</p>\n<p>If you are using Maven then adding the following under the <code>project</code> tag in <code>pom.xml</code> should solve the issue:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;macos-m1&lt;/id&gt;\n    &lt;activation&gt;\n      &lt;os&gt;\n        &lt;family&gt;mac&lt;/family&gt;\n        &lt;arch&gt;aarch64&lt;/arch&gt;\n      &lt;/os&gt;\n    &lt;/activation&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver-dns-native-macos&lt;/artifactId&gt;\n        &lt;classifier&gt;osx-aarch_64&lt;/classifier&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>This ensures the profile is only activated for macOS with ARM64.</p>\n"},{"tags":[],"owner":{"account_id":6691602,"reputation":989,"user_id":5160940,"display_name":"DockYard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693142293,"creation_date":1693142293,"answer_id":76987303,"question_id":65954571,"body_markdown":"Assuming you are facing this issue in your local Apple M1/M2, and if you don&#39;t want to add any additional dependencies then you can use this below solution:\r\n\r\nStep 1)Download any IntelX64 based JDK distribution.\r\n\r\nSample download source:\r\nhttps://learn.microsoft.com/en-us/java/openjdk/download(In my case, I was using jdk11 hence I downloaded ```microsoft-jdk-11.0.20-macOS-x64.tar.gz``` from this page)\r\n\r\n\r\nStep 2)Set your java to this new jdk from your IDE(Intellij Idea for my case)\r\n\r\n\r\n\r\n\r\nThis worked like a charm for me","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>Assuming you are facing this issue in your local Apple M1/M2, and if you don't want to add any additional dependencies then you can use this below solution:</p>\n<p>Step 1)Download any IntelX64 based JDK distribution.</p>\n<p>Sample download source:\nhttps://learn.microsoft.com/en-us/java/openjdk/download(In my case, I was using jdk11 hence I downloaded <code>microsoft-jdk-11.0.20-macOS-x64.tar.gz</code> from this page)</p>\n<p>Step 2)Set your java to this new jdk from your IDE(Intellij Idea for my case)</p>\n<p>This worked like a charm for me</p>\n"}],"owner":{"account_id":19786915,"reputation":341,"user_id":14490702,"display_name":"Baris Ucakturk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32054,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":10,"score":34,"last_activity_date":1697798696,"creation_date":1611923662,"question_id":65954571,"body_markdown":"I&#39;m upgrading my Spring Boot version from `2.1.x` to `2.4.2`. When I compiled and run the code, I got the following warning:\r\n\r\n    Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider,fallback to system defaults. This may result in incorrect DNS resolutions on MacOS.\r\n    java.lang.ClassNotFoundException: io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider\r\n\r\nWhen I deploy the project to DEV environment which is in AWS and CentOS machine, there is no such warning message in the logs. \r\n\r\nThanks, ","title":"Spring Boot 2.4.2 - DNS Resolution Problem at start on Apple M1","body":"<p>I'm upgrading my Spring Boot version from <code>2.1.x</code> to <code>2.4.2</code>. When I compiled and run the code, I got the following warning:</p>\n<pre><code>Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider,fallback to system defaults. This may result in incorrect DNS resolutions on MacOS.\njava.lang.ClassNotFoundException: io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider\n</code></pre>\n<p>When I deploy the project to DEV environment which is in AWS and CentOS machine, there is no such warning message in the logs.</p>\n<p>Thanks,</p>\n"},{"tags":["java","drools"],"answers":[{"comments":[{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1697751740,"post_id":77325165,"comment_id":136322785,"body_markdown":"Why are we using a 7 year old language reference?","body":"Why are we using a 7 year old language reference?"},{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1697752864,"post_id":77325165,"comment_id":136322907,"body_markdown":"Here&#39;s the current language reference which makes no reference to `collect` since it&#39;s, you know, deprecated: https://docs.drools.org/8.44.0.Final/drools-docs/drools/language-reference/index.html#accumulate","body":"Here&#39;s the current language reference which makes no reference to <code>collect</code> since it&#39;s, you know, deprecated: <a href=\"https://docs.drools.org/8.44.0.Final/drools-docs/drools/language-reference/index.html#accumulate\" rel=\"nofollow noreferrer\">docs.drools.org/8.44.0.Final/drools-docs/drools/&hellip;</a>"},{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1697752916,"post_id":77325165,"comment_id":136322917,"body_markdown":"Also your syntax is wrong, the pattern for accumulate is `accumulate( SOURCE_PATTERN; FUNCTION(S) )` -- semi colon to separate the source patterns from collectList. Should be `accumulate( CanUseItemInBasket(...), $item: ItemFact(...) ; collectList($item))`","body":"Also your syntax is wrong, the pattern for accumulate is <code>accumulate( SOURCE_PATTERN; FUNCTION(S) )</code> -- semi colon to separate the source patterns from collectList. Should be <code>accumulate( CanUseItemInBasket(...), $item: ItemFact(...) ; collectList($item))</code>"},{"owner":{"account_id":8773814,"reputation":315,"user_id":6559689,"display_name":"colorgreen"},"score":0,"creation_date":1697790151,"post_id":77325165,"comment_id":136326510,"body_markdown":"This solution works as expected, thank you!","body":"This solution works as expected, thank you!"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697797520,"post_id":77325165,"comment_id":136327874,"body_markdown":"@RoddyoftheFrozenPeas, yes, my link is old but I guess that the OP is using an old version of Drools (or, at least, old syntax without OOPath).  Probably the best choice for the needs of the OP is the latest v7.x (3 months old), but its doc hasn&#39;t an anchor for `accumulate`.  However I improved the links and the syntax even if the compiler in this case accepts a comma too as &quot;[alternate syntax](https://docs.drools.org/8.44.0.Final/drools-docs/drools/language-reference/index.html#:~:text=accumulate%20alternate%20syntax)&quot;.  Thanks for your notes.","body":"@RoddyoftheFrozenPeas, yes, my link is old but I guess that the OP is using an old version of Drools (or, at least, old syntax without OOPath).  Probably the best choice for the needs of the OP is the latest v7.x (3 months old), but its doc hasn&#39;t an anchor for <code>accumulate</code>.  However I improved the links and the syntax even if the compiler in this case accepts a comma too as &quot;<a href=\"https://docs.drools.org/8.44.0.Final/drools-docs/drools/language-reference/index.html#:~:text=accumulate%20alternate%20syntax\" rel=\"nofollow noreferrer\">alternate syntax</a>&quot;.  Thanks for your notes."},{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1697816542,"post_id":77325165,"comment_id":136331511,"body_markdown":"Drools 8.x still supports non-oopath; there&#39;s nothing really in the OP that really ties them to any specific Drools version &gt;= 5.0.","body":"Drools 8.x still supports non-oopath; there&#39;s nothing really in the OP that really ties them to any specific Drools version &gt;= 5.0."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697816632,"post_id":77325165,"comment_id":136331528,"body_markdown":"@RoddyoftheFrozenPeas, yes, I simply wanted to avoid a doc that contains examples with OOPath.","body":"@RoddyoftheFrozenPeas, yes, I simply wanted to avoid a doc that contains examples with OOPath."},{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1697816694,"post_id":77325165,"comment_id":136331538,"body_markdown":"It is pretty awful. The 7.x docs, then, would probably be OK -- unfortunately the 6.x ones have a whole lot of stuff that&#39;s just no longer relevant because they were in that weird transition period to Kie. And the documentation got a lot better in the 7.x series.","body":"It is pretty awful. The 7.x docs, then, would probably be OK -- unfortunately the 6.x ones have a whole lot of stuff that&#39;s just no longer relevant because they were in that weird transition period to Kie. And the documentation got a lot better in the 7.x series."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697798265,"creation_date":1697729264,"answer_id":77325165,"question_id":77324827,"body_markdown":"To collect the `ItemFact` instances whose `id` is in the selected `CanUseItemInBasket` instances you can use `accumulate`:\r\n\r\n```drools\r\nrule &quot;Collect beers&quot;\r\nwhen\r\n    $beers : List() from accumulate(CanUseItemInBasket($itemId: orderItemId, basketId == 5) and\r\n\t                                $item: ItemFact(id == $itemId);\r\n\t                                collectList($item))\r\nthen\r\n\tSystem.out.println($beers);\r\nend\r\n```\r\n\r\nThe [v6.x language reference][1] says:\r\n\r\n&gt; The Conditional Element `accumulate` is a more flexible and powerful\r\n&gt; form of `collect`, in the sense that it can be used to do what\r\n&gt; `collect` does and also achieve results that the CE `collect` is not\r\n&gt; capable of achieving.\r\n\r\nA similar note is in [v7.x][2], and [v8.x][3] lists `collect` among obsolete keywords.\r\n\r\n\r\n  [1]: https://docs.drools.org/6.5.0.Final/drools-docs/html_single/#d0e11001\r\n  [2]: https://docs.drools.org/7.74.1.Final/drools-docs/html_single/#:~:text=all%20parents.%0Aend-,accumulate,-Use%20this%20to\r\n  [3]: https://docs.drools.org/8.44.0.Final/drools-docs/drools/language-reference/index.html#_legacy_drl_rule_condition_elements","title":"Drools &quot;join&quot; like SQL in collect","body":"<p>To collect the <code>ItemFact</code> instances whose <code>id</code> is in the selected <code>CanUseItemInBasket</code> instances you can use <code>accumulate</code>:</p>\n<pre><code>rule &quot;Collect beers&quot;\nwhen\n    $beers : List() from accumulate(CanUseItemInBasket($itemId: orderItemId, basketId == 5) and\n                                    $item: ItemFact(id == $itemId);\n                                    collectList($item))\nthen\n    System.out.println($beers);\nend\n</code></pre>\n<p>The <a href=\"https://docs.drools.org/6.5.0.Final/drools-docs/html_single/#d0e11001\" rel=\"nofollow noreferrer\">v6.x language reference</a> says:</p>\n<blockquote>\n<p>The Conditional Element <code>accumulate</code> is a more flexible and powerful\nform of <code>collect</code>, in the sense that it can be used to do what\n<code>collect</code> does and also achieve results that the CE <code>collect</code> is not\ncapable of achieving.</p>\n</blockquote>\n<p>A similar note is in <a href=\"https://docs.drools.org/7.74.1.Final/drools-docs/html_single/#:%7E:text=all%20parents.%0Aend-,accumulate,-Use%20this%20to\" rel=\"nofollow noreferrer\">v7.x</a>, and <a href=\"https://docs.drools.org/8.44.0.Final/drools-docs/drools/language-reference/index.html#_legacy_drl_rule_condition_elements\" rel=\"nofollow noreferrer\">v8.x</a> lists <code>collect</code> among obsolete keywords.</p>\n"}],"owner":{"account_id":8773814,"reputation":315,"user_id":6559689,"display_name":"colorgreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77325165,"answer_count":1,"score":0,"last_activity_date":1697798265,"creation_date":1697727000,"question_id":77324827,"body_markdown":"So I something like SQL join possible in drools. I have ItemFact collection (1,2,3,...), each item may be used in different baskets. I have CanUseItemInBasket facts, that represents if item can be used in basket or no\r\n\r\nI have tried this \r\n```drools\r\nrule &quot;xxx&quot;\r\n    when\r\n        $beers : ArrayList() from collect( ItemFact(id == $orderItemId )\r\n                             from collect(CanUseItemInBasket($itemId: orderItemId, basketId == 5)))\r\n    then\r\n    ...\r\nend\r\n```\r\nor this\r\n```drools\r\nrule &quot;xxx&quot;\r\n    when\r\n        $beers : ArrayList() from collect( ItemFact(id == $orderItemId ), CanUseItemInBasket($itemId: orderItemId, basketId == 5))\r\n    then\r\n    ...\r\nend\r\n```\r\nbut this approaches not work. I know I add field `basketId` to ItemFact and add multiple ItemFacts with the same `id` and different `basketIds`, but in this approach ItemFact is &quot;cloned&quot; in working memory","title":"Drools &quot;join&quot; like SQL in collect","body":"<p>So I something like SQL join possible in drools. I have ItemFact collection (1,2,3,...), each item may be used in different baskets. I have CanUseItemInBasket facts, that represents if item can be used in basket or no</p>\n<p>I have tried this</p>\n<pre><code>rule &quot;xxx&quot;\n    when\n        $beers : ArrayList() from collect( ItemFact(id == $orderItemId )\n                             from collect(CanUseItemInBasket($itemId: orderItemId, basketId == 5)))\n    then\n    ...\nend\n</code></pre>\n<p>or this</p>\n<pre><code>rule &quot;xxx&quot;\n    when\n        $beers : ArrayList() from collect( ItemFact(id == $orderItemId ), CanUseItemInBasket($itemId: orderItemId, basketId == 5))\n    then\n    ...\nend\n</code></pre>\n<p>but this approaches not work. I know I add field <code>basketId</code> to ItemFact and add multiple ItemFacts with the same <code>id</code> and different <code>basketIds</code>, but in this approach ItemFact is &quot;cloned&quot; in working memory</p>\n"},{"tags":["java","exception","logging","try-catch"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1393513722,"post_id":22072343,"comment_id":33471966,"body_markdown":"Seems fine to me, as long as MyCustomException is a checked Exception.","body":"Seems fine to me, as long as MyCustomException is a checked Exception."},{"owner":{"account_id":3407565,"reputation":725,"user_id":2858279,"accept_rate":50,"display_name":"xrabbit"},"score":0,"creation_date":1393517225,"post_id":22072343,"comment_id":33474806,"body_markdown":"thanks every one for your replies!\nyou helped me very much to understand how to write logging/exception handling.","body":"thanks every one for your replies! you helped me very much to understand how to write logging/exception handling."}],"answers":[{"comments":[{"owner":{"account_id":1050037,"reputation":337,"user_id":2467938,"display_name":"crazyGuy"},"score":2,"creation_date":1393513908,"post_id":22072503,"comment_id":33472114,"body_markdown":"I agree with @Kugathasan Abimaran. I am currently working on an API and need to look at my log file quiet often when something goes wrong. At the same time I have to throw an exception to notify the client","body":"I agree with @Kugathasan Abimaran. I am currently working on an API and need to look at my log file quiet often when something goes wrong. At the same time I have to throw an exception to notify the client"}],"tags":[],"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"comment_count":1,"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1665021724,"creation_date":1393513787,"answer_id":22072503,"question_id":22072343,"body_markdown":"I use both in some cases, logging and throwing the exception. Especially, it&#39;s useful in APIs. By throwing the exception, we allow the caller to handle it, and by logging, we can identify the root cause of it ourselves.\r\n\r\nAnd, if the caller is in the same system, then if we add logs in every catch, there will be duplicate logs.","title":"Throw exception vs Logging","body":"<p>I use both in some cases, logging and throwing the exception. Especially, it's useful in APIs. By throwing the exception, we allow the caller to handle it, and by logging, we can identify the root cause of it ourselves.</p>\n<p>And, if the caller is in the same system, then if we add logs in every catch, there will be duplicate logs.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393513876,"creation_date":1393513876,"answer_id":22072546,"question_id":22072343,"body_markdown":"I think you may need to use the pattern judiciously. As you&#39;ve written the above, for each exception you&#39;re going to log 2 stacktraces and that may fill your logs with excessive information.\r\n\r\nWith respect to logging vs. throwing, they&#39;re two separate concerns. Throwing an exception will interrupt your execution, prevent any further work, perhaps rollback database commits etc. Logging will simply dump info to the log file (or elsewhere). It&#39;s of more use for debugging, and often much more difficult to test.","title":"Throw exception vs Logging","body":"<p>I think you may need to use the pattern judiciously. As you've written the above, for each exception you're going to log 2 stacktraces and that may fill your logs with excessive information.</p>\n\n<p>With respect to logging vs. throwing, they're two separate concerns. Throwing an exception will interrupt your execution, prevent any further work, perhaps rollback database commits etc. Logging will simply dump info to the log file (or elsewhere). It's of more use for debugging, and often much more difficult to test.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1393515313,"creation_date":1393513975,"answer_id":22072585,"question_id":22072343,"body_markdown":"When using the pattern you suggest, you usually end up with error events being reported multiple times in the log. In addition, it&#39;s not always simple to connect between them when reading the log.\r\n\r\nPersonally I prefer logging error events only once, and doing it in the higher call levels. Therefore I almost never log &amp; re-throw. I usually let the exception go up the call stack until it reached a context where it can be handled somehow, and this is where I log.\r\n\r\nIf the exceptions are wrapped and re-thrown correctly, the context should be perfectly clear from the stack traces of the single log message.","title":"Throw exception vs Logging","body":"<p>When using the pattern you suggest, you usually end up with error events being reported multiple times in the log. In addition, it's not always simple to connect between them when reading the log.</p>\n\n<p>Personally I prefer logging error events only once, and doing it in the higher call levels. Therefore I almost never log &amp; re-throw. I usually let the exception go up the call stack until it reached a context where it can be handled somehow, and this is where I log.</p>\n\n<p>If the exceptions are wrapped and re-thrown correctly, the context should be perfectly clear from the stack traces of the single log message.</p>\n"},{"comments":[{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":1,"creation_date":1393514199,"post_id":22072605,"comment_id":33472305,"body_markdown":"+1 for pointing out that some things go wrong, other things go *very* wrong, and the difference is the key.","body":"+1 for pointing out that some things go wrong, other things go <i>very</i> wrong, and the difference is the key."}],"tags":[],"owner":{"account_id":1696444,"reputation":1760,"user_id":1557750,"display_name":"Arnaud Potier"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1393514018,"creation_date":1393514018,"answer_id":22072605,"question_id":22072343,"body_markdown":"The proper answer would be: &quot;it depends&quot;\r\n\r\nYou do want in general log the exceptions that you catch, since they correspond to something going wrong. That is why code analysis tools such as sonar will raise warnings when you do not log them.\r\n\r\nConsider the following taks: parsing a file. While parsing the file you actually try to parse each line. Sometimes some lines will be malformed, and therefore you don&#39;t want to stop parsing the file because of it. In that case, you probably want to just log the wrong line and keep going on the file.\r\nHowever, imagine that at some point you encounter an I/O exception while reading (for example some other program deleted the file while yours was accessing it).\r\n\r\nIn this case, you will probably want to log your log the error you encounter, and throw a new exception to stop processing the whole file.\r\n\r\nSo in short, you have to think about what is the best thing to do. But both practices are not bad.\r\n\r\n","title":"Throw exception vs Logging","body":"<p>The proper answer would be: \"it depends\"</p>\n\n<p>You do want in general log the exceptions that you catch, since they correspond to something going wrong. That is why code analysis tools such as sonar will raise warnings when you do not log them.</p>\n\n<p>Consider the following taks: parsing a file. While parsing the file you actually try to parse each line. Sometimes some lines will be malformed, and therefore you don't want to stop parsing the file because of it. In that case, you probably want to just log the wrong line and keep going on the file.\nHowever, imagine that at some point you encounter an I/O exception while reading (for example some other program deleted the file while yours was accessing it).</p>\n\n<p>In this case, you will probably want to log your log the error you encounter, and throw a new exception to stop processing the whole file.</p>\n\n<p>So in short, you have to think about what is the best thing to do. But both practices are not bad.</p>\n"},{"comments":[{"owner":{"account_id":6118821,"reputation":962,"user_id":7231339,"display_name":"Michael Sch&#246;nbauer"},"score":1,"creation_date":1637778644,"post_id":22073102,"comment_id":123919447,"body_markdown":"that should be the correct answer. it also solves the obvious DRY (dont repeat yourself) problem with &quot;some error&quot;","body":"that should be the correct answer. it also solves the obvious DRY (dont repeat yourself) problem with &quot;some error&quot;"}],"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1393515217,"creation_date":1393515217,"answer_id":22073102,"question_id":22072343,"body_markdown":"Normally, I&#39;d argue that you should either log _or_ rethrow. Doing both will just cause every layer to log the exception again and again, which makes the logs hard to read. Even worse, it&#39;s hard to figure out how many errors you actually have - was it seven errors, or seven layers of the app which logged the same error?\r\n\r\nThis means that **if you suppress an exception**, you log it and say why you didn&#39;t think it was worth rethrowing. \r\n\r\nOn the other hand, if you **re-throw the exception**, you know it&#39;s either going to be caught and suppressed (in which case the catcher logs the exception and why it was suppressed), or it will bubble up out of your app and be caught by the app container, which will catch and log the exception. Every exception shows up once and only once in the logs.\r\n","title":"Throw exception vs Logging","body":"<p>Normally, I'd argue that you should either log <em>or</em> rethrow. Doing both will just cause every layer to log the exception again and again, which makes the logs hard to read. Even worse, it's hard to figure out how many errors you actually have - was it seven errors, or seven layers of the app which logged the same error?</p>\n\n<p>This means that <strong>if you suppress an exception</strong>, you log it and say why you didn't think it was worth rethrowing. </p>\n\n<p>On the other hand, if you <strong>re-throw the exception</strong>, you know it's either going to be caught and suppressed (in which case the catcher logs the exception and why it was suppressed), or it will bubble up out of your app and be caught by the app container, which will catch and log the exception. Every exception shows up once and only once in the logs.</p>\n"},{"tags":[],"owner":{"account_id":6051935,"reputation":327,"user_id":5497749,"display_name":"Vijit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615285052,"creation_date":1615284336,"answer_id":66544766,"question_id":22072343,"body_markdown":"*I know that is really old question, but I have an another solution.*\r\n\r\nConsider this. You can log the problem in `catch` block and throw a new *unchecked* exception (of course with passing the previous one inside). In such solution there is no overflow in the logs and exception still bubble up to the highest level.\r\n```\r\ntry {\r\n    //my code here\r\n} catch (SomeException e) {\r\n    logger.error(&quot;Some error occured&quot;, e);\r\n    throw new MyUncheckedException(&quot;Some error &quot;, e);\r\n}\r\n```","title":"Throw exception vs Logging","body":"<p><em>I know that is really old question, but I have an another solution.</em></p>\n<p>Consider this. You can log the problem in <code>catch</code> block and throw a new <em>unchecked</em> exception (of course with passing the previous one inside). In such solution there is no overflow in the logs and exception still bubble up to the highest level.</p>\n<pre><code>try {\n    //my code here\n} catch (SomeException e) {\n    logger.error(&quot;Some error occured&quot;, e);\n    throw new MyUncheckedException(&quot;Some error &quot;, e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19489822,"reputation":1,"user_id":14258233,"display_name":"Kai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656927546,"creation_date":1656927546,"answer_id":72854657,"question_id":22072343,"body_markdown":"My opinion.\r\n\r\nWhen you need to throw an exception, no matter if it is a Checked or UnChecked(Most RD would not catch this.). It means that you want to do something else by stopping the process.\r\n\r\nWhen you need to log something.\r\nIt means you want to track it.\r\n\r\nIt&#39;s quite different things.\r\nYou need to check what you really need.\r\n\r\nBTW: If your exception was thrown by getting no data from DB. \r\nI suggest you to modify the process to return an empty Data Object(POJO). It is better than throwing an exception.","title":"Throw exception vs Logging","body":"<p>My opinion.</p>\n<p>When you need to throw an exception, no matter if it is a Checked or UnChecked(Most RD would not catch this.). It means that you want to do something else by stopping the process.</p>\n<p>When you need to log something.\nIt means you want to track it.</p>\n<p>It's quite different things.\nYou need to check what you really need.</p>\n<p>BTW: If your exception was thrown by getting no data from DB.\nI suggest you to modify the process to return an empty Data Object(POJO). It is better than throwing an exception.</p>\n"},{"tags":[],"owner":{"account_id":18810759,"reputation":1,"user_id":13718992,"display_name":"Patrick Chimeudeonwo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697797897,"creation_date":1697618742,"answer_id":77314785,"question_id":22072343,"body_markdown":"You can log the error and return the status code to notify the client why the error happened. For example:\r\n    \r\n    if(inValidInputFromClient) {\r\n        log.error(&quot;in valid input from client&quot;);\r\n        return new ResponseEntity&lt;ReturnType&gt;(HttpStatus.BAD_REQUEST);\r\n    }\r\n    \r\n    try {\r\n        //my code here\r\n    } catch (Exception e) {\r\n        log.error(&quot;Some error occurred&quot;, e);\r\n        return new ResponseEntity&lt;ReturnType&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n    \r\nThis way, the client will handle the error accordingly.","title":"Throw exception vs Logging","body":"<p>You can log the error and return the status code to notify the client why the error happened. For example:</p>\n<pre><code>if(inValidInputFromClient) {\n    log.error(&quot;in valid input from client&quot;);\n    return new ResponseEntity&lt;ReturnType&gt;(HttpStatus.BAD_REQUEST);\n}\n\ntry {\n    //my code here\n} catch (Exception e) {\n    log.error(&quot;Some error occurred&quot;, e);\n    return new ResponseEntity&lt;ReturnType&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n}\n</code></pre>\n<p>This way, the client will handle the error accordingly.</p>\n"}],"owner":{"account_id":3407565,"reputation":725,"user_id":2858279,"accept_rate":50,"display_name":"xrabbit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31666,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":22072503,"answer_count":8,"score":45,"last_activity_date":1697797897,"creation_date":1393513423,"question_id":22072343,"body_markdown":"Is the following way to code good practice?\r\n\r\n    try {\r\n        //my code here\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Some error &quot;, e);\r\n        throw new MyCustomException(&quot;Some error &quot;, e);\r\n    }\r\n\r\nMoreover, should I.. \r\n\r\n- use only the logger?\r\n- throw only the exception? \r\n- do both?\r\n\r\nI understand that with `throw` I can catch the exception in another part of the callstack, but maybe additional logging has some hidden benefits and is useful as well.","title":"Throw exception vs Logging","body":"<p>Is the following way to code good practice?</p>\n\n<pre><code>try {\n    //my code here\n} catch (Exception e) {\n    logger.error(\"Some error \", e);\n    throw new MyCustomException(\"Some error \", e);\n}\n</code></pre>\n\n<p>Moreover, should I.. </p>\n\n<ul>\n<li>use only the logger?</li>\n<li>throw only the exception? </li>\n<li>do both?</li>\n</ul>\n\n<p>I understand that with <code>throw</code> I can catch the exception in another part of the callstack, but maybe additional logging has some hidden benefits and is useful as well.</p>\n"},{"tags":["java","infinispan","distributed-caching","jgroups"],"comments":[{"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"score":0,"creation_date":1697705262,"post_id":77314585,"comment_id":136314277,"body_markdown":"I&#39;ve never used JDBC_PING but where does `JROUPS_NODE_NAME` come from? Is some environment variable set?","body":"I&#39;ve never used JDBC_PING but where does <code>JROUPS_NODE_NAME</code> come from? Is some environment variable set?"},{"owner":{"account_id":5345287,"reputation":114,"user_id":4261002,"display_name":"Mayur"},"score":0,"creation_date":1697708977,"post_id":77314585,"comment_id":136314981,"body_markdown":"Yes, JGROUPS_NODE_NAME is a unique value which is set as environment property at each node.","body":"Yes, JGROUPS_NODE_NAME is a unique value which is set as environment property at each node."},{"owner":{"account_id":3534106,"reputation":1214,"user_id":2952847,"display_name":"pruivo"},"score":0,"creation_date":1697710517,"post_id":77314585,"comment_id":136315281,"body_markdown":"Have you double-checked if it is unique? Did you try to attach a debugger to see what is the real query being executed?","body":"Have you double-checked if it is unique? Did you try to attach a debugger to see what is the real query being executed?"},{"owner":{"account_id":5345287,"reputation":114,"user_id":4261002,"display_name":"Mayur"},"score":0,"creation_date":1697712204,"post_id":77314585,"comment_id":136315549,"body_markdown":"Yes, I have cross checked, the JGROUPS_NODE_NAME is set with unique value at all the nodes. I have tried debugging JGROUPS_PING Class where it was seen with unique value set by the node. The main thing I have seen is, all other nodes jgroups use JGROUPS_NODE_NAME of first node which makes first entry in JGROUPSPING table.","body":"Yes, I have cross checked, the JGROUPS_NODE_NAME is set with unique value at all the nodes. I have tried debugging JGROUPS_PING Class where it was seen with unique value set by the node. The main thing I have seen is, all other nodes jgroups use JGROUPS_NODE_NAME of first node which makes first entry in JGROUPSPING table."}],"answers":[{"comments":[{"owner":{"account_id":5345287,"reputation":114,"user_id":4261002,"display_name":"Mayur"},"score":0,"creation_date":1697799390,"post_id":77330156,"comment_id":136328195,"body_markdown":"No, I have not defined select_all_ping_data sql. Shall I test this with select_all_ping_data sql?","body":"No, I have not defined select_all_ping_data sql. Shall I test this with select_all_ping_data sql?"}],"tags":[],"owner":{"account_id":2672966,"reputation":2186,"user_id":2309917,"display_name":"Bela Ban"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697797329,"creation_date":1697797329,"answer_id":77330156,"question_id":77314585,"body_markdown":"I can only support Pedro&#39;s answer: if you see unique values on the different members, then debug the insert_single_sql statement execution in all nodes. If the insert is successful, then the values must be unique.\r\nHave you defined the other sql statements in JDBC_PING? e.g. select_all_ping_data?","title":"Jgroups nodes failed to add unique value to custom column of JGROUPSPING table","body":"<p>I can only support Pedro's answer: if you see unique values on the different members, then debug the insert_single_sql statement execution in all nodes. If the insert is successful, then the values must be unique.\nHave you defined the other sql statements in JDBC_PING? e.g. select_all_ping_data?</p>\n"}],"owner":{"account_id":5345287,"reputation":114,"user_id":4261002,"display_name":"Mayur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697797329,"creation_date":1697617298,"question_id":77314585,"body_markdown":"Hope you all are doing well.\r\n\r\nWe are using Infinispan distributed caching using jgroups. The JDBC_PING protocol is used for registering and synchronizing nodes. We are adding one custom column (`node_name`) in jgroupsping table to uniquely identify each nodes. Here, it is expected that, each node should add unique identifier to custom column (unique identifier is the unique value set to environment property of each node).\r\n\r\nBut post nodes are registered to the JDBC_PING table, we see custom column value is same for all the nodes. Can anybody please let me know why this custom_column value is duplicated? Basically, first node value is used by all other nodes.\r\n\r\n**create table sql : **\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS jgroupsping (\r\n   own_addr varchar(200) NOT NULL, \r\n   cluster_name varchar(200) NOT NULL, \r\n   ping_data varbinary(5000) DEFAULT NULL, \r\n   node_name varchar(50), \r\n   PRIMARY KEY (own_addr, cluster_name)) \r\n   DEFAULT CHARSET=utf8&quot;\r\n```\r\n\r\n**Jgroups-tcp.xml insert-sql :** \r\n\r\n```\r\ninsert_single_sql=&quot;INSERT INTO JGROUPSPING (own_addr, cluster_name, ping_data, node_name) values (?, ?, ?,&#39;${UNIQUE_NODE_NAME}&#39; )&quot;\r\n```\r\n\r\n**Files:**\r\n\r\n**infinispan-configs.xml :**\r\n[![enter image description here](https://i.stack.imgur.com/V7cqb.png)](https://i.stack.imgur.com/V7cqb.png)\r\n**jgroups-tcp.xml :**\r\n[![enter image description here][1]][1]\r\n\r\nThanks in advance,\r\n\r\n\r\njgroupsping table status post 2 nodes started in distributed mode:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ku0E0.png)](https://i.stack.imgur.com/ku0E0.png)\r\n\r\nHere, you can see same `node_name` is inserted for both the nodes even when nodes has unique value.\r\n\r\nWhy Jgroups does so? What is the way to insert unique value in node_name column of jgroupping table.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TxpIF.png","title":"Jgroups nodes failed to add unique value to custom column of JGROUPSPING table","body":"<p>Hope you all are doing well.</p>\n<p>We are using Infinispan distributed caching using jgroups. The JDBC_PING protocol is used for registering and synchronizing nodes. We are adding one custom column (<code>node_name</code>) in jgroupsping table to uniquely identify each nodes. Here, it is expected that, each node should add unique identifier to custom column (unique identifier is the unique value set to environment property of each node).</p>\n<p>But post nodes are registered to the JDBC_PING table, we see custom column value is same for all the nodes. Can anybody please let me know why this custom_column value is duplicated? Basically, first node value is used by all other nodes.</p>\n<p>**create table sql : **</p>\n<pre><code>CREATE TABLE IF NOT EXISTS jgroupsping (\n   own_addr varchar(200) NOT NULL, \n   cluster_name varchar(200) NOT NULL, \n   ping_data varbinary(5000) DEFAULT NULL, \n   node_name varchar(50), \n   PRIMARY KEY (own_addr, cluster_name)) \n   DEFAULT CHARSET=utf8&quot;\n</code></pre>\n<p><strong>Jgroups-tcp.xml insert-sql :</strong></p>\n<pre><code>insert_single_sql=&quot;INSERT INTO JGROUPSPING (own_addr, cluster_name, ping_data, node_name) values (?, ?, ?,'${UNIQUE_NODE_NAME}' )&quot;\n</code></pre>\n<p><strong>Files:</strong></p>\n<p><strong>infinispan-configs.xml :</strong>\n<a href=\"https://i.stack.imgur.com/V7cqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V7cqb.png\" alt=\"enter image description here\" /></a>\n<strong>jgroups-tcp.xml :</strong>\n<a href=\"https://i.stack.imgur.com/TxpIF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TxpIF.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance,</p>\n<p>jgroupsping table status post 2 nodes started in distributed mode:</p>\n<p><a href=\"https://i.stack.imgur.com/ku0E0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ku0E0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here, you can see same <code>node_name</code> is inserted for both the nodes even when nodes has unique value.</p>\n<p>Why Jgroups does so? What is the way to insert unique value in node_name column of jgroupping table.</p>\n"},{"tags":["java","sonarqube","try-with-resources"],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697797112,"creation_date":1697720894,"question_id":77324048,"body_markdown":"We are testing the introduction of some SonarQube rules in our codebase that have to do with flagging openings of connections that are not closed in `catch` or `finally` blocks, and missed opportunities to use try-with-resources. The rules flag the following code block:\r\n\r\n```java\r\nfinal Connection connection = jThalesDs.getConnection();\r\nfinal PreparedStatement pstmt = connection.prepareStatement(String.format(GET_SERVER_IDS_AND_TEST_LOGINS, dbSchemaProps.getOracleJThales()));\r\ntry {\r\n    // Some calls that may or may not throw something\r\n} catch(Throwable exc){\r\n    // Closing the resources and re-throwing the exception\r\n    pstmt.close();\r\n    connection.close();\r\n    throw exc;\r\n}\r\n// Whoops, forgot to include a finally block where we close the connections.\r\n```\r\n\r\nAs can be verified through this screenshot:\r\n\r\n  [![Code smell that is flagged by SQ][1]][1]\r\n\r\nIn the very same file, however, a more serious violation of the same rule is not being flagged as either a bug or a code smell, and SonarQube instead focuses on the genericity of the class being thrown (a `RuntimeException`):\r\n\r\n```java\r\nfinal Connection conn = jThalesDs.getConnection();\r\ntry  {\r\n\t // More calls that may or may not throw\r\n}\r\ncatch (Throwable ex) {\r\n\t// Whoops, forgot to close the connection if not null!\r\n\tthrow new RuntimeException(TEST_LOGINS_DB_ERROR, ex);\r\n}\r\n```\r\n\r\n[![Failing to reproduce a scenario with an even more grave violation of the rules.][2]][2]\r\n\r\nSo, to recap. In the same file, I have a bug and code smell that _is_ being caught by SonarQube, and it concerns the fact that I am not closing resources in a `finally` block. However, in an even more grievous violation of the same rules, in the same file, those rules are not triggered. \r\n\r\nWhat could be going on here? FWIW, we are running the latest LTS, 9.9.2.\r\n\r\n  [1]: https://i.stack.imgur.com/watUS.png\r\n  [2]: https://i.stack.imgur.com/8FHGK.png","title":"SonarQube doesn&#39;t flag code smell identical to one it does","body":"<p>We are testing the introduction of some SonarQube rules in our codebase that have to do with flagging openings of connections that are not closed in <code>catch</code> or <code>finally</code> blocks, and missed opportunities to use try-with-resources. The rules flag the following code block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Connection connection = jThalesDs.getConnection();\nfinal PreparedStatement pstmt = connection.prepareStatement(String.format(GET_SERVER_IDS_AND_TEST_LOGINS, dbSchemaProps.getOracleJThales()));\ntry {\n    // Some calls that may or may not throw something\n} catch(Throwable exc){\n    // Closing the resources and re-throwing the exception\n    pstmt.close();\n    connection.close();\n    throw exc;\n}\n// Whoops, forgot to include a finally block where we close the connections.\n</code></pre>\n<p>As can be verified through this screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/watUS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/watUS.png\" alt=\"Code smell that is flagged by SQ\" /></a></p>\n<p>In the very same file, however, a more serious violation of the same rule is not being flagged as either a bug or a code smell, and SonarQube instead focuses on the genericity of the class being thrown (a <code>RuntimeException</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Connection conn = jThalesDs.getConnection();\ntry  {\n     // More calls that may or may not throw\n}\ncatch (Throwable ex) {\n    // Whoops, forgot to close the connection if not null!\n    throw new RuntimeException(TEST_LOGINS_DB_ERROR, ex);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/8FHGK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8FHGK.png\" alt=\"Failing to reproduce a scenario with an even more grave violation of the rules.\" /></a></p>\n<p>So, to recap. In the same file, I have a bug and code smell that <em>is</em> being caught by SonarQube, and it concerns the fact that I am not closing resources in a <code>finally</code> block. However, in an even more grievous violation of the same rules, in the same file, those rules are not triggered.</p>\n<p>What could be going on here? FWIW, we are running the latest LTS, 9.9.2.</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":17383128,"reputation":5475,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1697812985,"post_id":77330101,"comment_id":136330829,"body_markdown":"Hi Ruth. Would it be possible for you to provide your project? (or a stripped down demo of it). You can upload it to https://uploads.jetbrains.com and share the id of the upload here.","body":"Hi Ruth. Would it be possible for you to provide your project? (or a stripped down demo of it). You can upload it to <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the id of the upload here."}],"owner":{"account_id":25702571,"reputation":1,"user_id":19462404,"display_name":" Ruth Reji"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697796817,"creation_date":1697796817,"question_id":77330101,"body_markdown":"I need to exclude these two packages based on any conditional value from an external source before running my application.\r\n\r\nSince I need to determine these packages based on an external value before building , I cant use hardcoded annotations.\r\n\r\n@ComponentScan( basePackages = &quot;com.ReadDB.reader&quot;,\r\n\t\texcludeFilters = {\r\n\t\t\t\t@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com\\\\.ReadDB\\\\.reader\\\\.opendental\\\\..*&quot;),\r\n\t\t\t\t@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com\\\\.ReadDB\\\\.reader\\\\.mysql\\\\..*&quot;)\r\n\t\t}\r\n) \r\n\r\nthis annotation on my main class is working , \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xsi:schemaLocation=&quot;\r\n           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;com.ReadDB.reader&quot;&gt;\r\n        &lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;com\\.ReadDB\\.reader\\.opendental\\..*&quot;/&gt;\r\n        &lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;com\\.ReadDB\\.reader\\.mysql\\..*&quot;/&gt;\r\n    &lt;/context:component-scan&gt;\r\n\r\n&lt;/beans&gt; \r\n```\r\n\r\nbut this xml file in my resources folder and @ImportResource(&quot;classpath:applicationContext.xml&quot;) annotation on my main class is not working. \r\n\r\nAny idea on how to fix this.\r\n\r\n","title":"spring boot - exclude bean from component scan does not work in XML","body":"<p>I need to exclude these two packages based on any conditional value from an external source before running my application.</p>\n<p>Since I need to determine these packages based on an external value before building , I cant use hardcoded annotations.</p>\n<p>@ComponentScan( basePackages = &quot;com.ReadDB.reader&quot;,\nexcludeFilters = {\n@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com\\.ReadDB\\.reader\\.opendental\\..<em>&quot;),\n@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;com\\.ReadDB\\.reader\\.mysql\\..</em>&quot;)\n}\n)</p>\n<p>this annotation on my main class is working ,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xsi:schemaLocation=&quot;\n           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;context:component-scan base-package=&quot;com.ReadDB.reader&quot;&gt;\n        &lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;com\\.ReadDB\\.reader\\.opendental\\..*&quot;/&gt;\n        &lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;com\\.ReadDB\\.reader\\.mysql\\..*&quot;/&gt;\n    &lt;/context:component-scan&gt;\n\n&lt;/beans&gt; \n</code></pre>\n<p>but this xml file in my resources folder and @ImportResource(&quot;classpath:applicationContext.xml&quot;) annotation on my main class is not working.</p>\n<p>Any idea on how to fix this.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":8824090,"reputation":206,"user_id":6592859,"display_name":"sai pradeep kumar kotha"},"score":0,"creation_date":1521607240,"post_id":49395093,"comment_id":85798047,"body_markdown":"can you paste the code here we can understand what you are doing .you are getting the non serializable code error because you may be using class objects which is not serializable","body":"can you paste the code here we can understand what you are doing .you are getting the non serializable code error because you may be using class objects which is not serializable"},{"owner":{"account_id":4955434,"reputation":165,"user_id":5240772,"display_name":"Vish"},"score":0,"creation_date":1521648144,"post_id":49395093,"comment_id":85823960,"body_markdown":"what if HashMap is converted into dataframe? What SQL functions can be used to update dsRecords?","body":"what if HashMap is converted into dataframe? What SQL functions can be used to update dsRecords?"},{"owner":{"account_id":4955434,"reputation":165,"user_id":5240772,"display_name":"Vish"},"score":0,"creation_date":1521759417,"post_id":49395093,"comment_id":85881481,"body_markdown":"I could update columns by using JOIN after converting Map to dataset. No success iterating and updating from Map.","body":"I could update columns by using JOIN after converting Map to dataset. No success iterating and updating from Map."}],"answers":[{"tags":[],"owner":{"account_id":4955434,"reputation":165,"user_id":5240772,"display_name":"Vish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524691490,"creation_date":1524691490,"answer_id":50031577,"question_id":49395093,"body_markdown":"Since I didn&#39;t find any better answer around, I&#39;m going to answer my question with the solution I implemented (and it looks ugly!) -\r\n\r\n    Dataset&lt;Row&gt; processByRowUpdate(Dataset&lt;Row&gt; dsRecords, SparkSession sparkSession) {\r\n    \t\tList&lt;Row&gt; rows = dsRecords.select(&quot;accountIdentifier&quot;, &quot;accountNumber&quot;).collectAsList();\r\n    List&lt;MongoRecord&gt; newRows = new ArrayList&lt;MongoRecord&gt;();\r\n    \t\tListIterator&lt;Row&gt; it = rows.listIterator();\r\n    \t\tboolean errorOccurred = false;\r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tRow record = it.next();\r\n    \t\t\t\tMongoRecord mongo = new MongoRecord();\r\n           if (!record.isNullAt(record.fieldIndex(&quot;accountIdentifier&quot;)))\r\n    \t\t\t\t\tmongo.setAccountIdentifier(String.valueOf(record.getDouble(record.fieldIndex(&quot;accountIdentifier&quot;))));\r\n    \r\n               //... and so on\r\n           newRows.add(mongo);\r\n    \t   } catch (Exception exception) {}\r\n    sparkSession.createDataFrame(newRows, MongoRecord.class);\r\n\r\n","title":"How to iterate through a spark dataset and update a column value in Java?","body":"<p>Since I didn't find any better answer around, I'm going to answer my question with the solution I implemented (and it looks ugly!) -</p>\n\n<pre><code>Dataset&lt;Row&gt; processByRowUpdate(Dataset&lt;Row&gt; dsRecords, SparkSession sparkSession) {\n        List&lt;Row&gt; rows = dsRecords.select(\"accountIdentifier\", \"accountNumber\").collectAsList();\nList&lt;MongoRecord&gt; newRows = new ArrayList&lt;MongoRecord&gt;();\n        ListIterator&lt;Row&gt; it = rows.listIterator();\n        boolean errorOccurred = false;\n        while (it.hasNext()) {\n            try {\n                Row record = it.next();\n                MongoRecord mongo = new MongoRecord();\n       if (!record.isNullAt(record.fieldIndex(\"accountIdentifier\")))\n                    mongo.setAccountIdentifier(String.valueOf(record.getDouble(record.fieldIndex(\"accountIdentifier\"))));\n\n           //... and so on\n       newRows.add(mongo);\n       } catch (Exception exception) {}\nsparkSession.createDataFrame(newRows, MongoRecord.class);\n</code></pre>\n"}],"owner":{"account_id":4955434,"reputation":165,"user_id":5240772,"display_name":"Vish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697796440,"creation_date":1521584499,"question_id":49395093,"body_markdown":"I&#39;m working on POC where I have to update the account number in DB with tokens. I read the data into a dataset&lt;Row&gt; dsRecords(about 2M records). I have another routine that had captured distinct account numbers and got the tokens, the mapping is stored in HashMap. \r\n\r\n    Dataset&lt;Row&gt; applySwappedTokens(Dataset&lt;Row&gt; dsRecords, Map&lt;String, String&gt; mappedTokens){\r\n    }\r\n\r\nNow, I must iterate through the dataset to do the following -\r\n1. Read account number column (accountNumber) value and update (I know dataset is immutable. So, updating the dataset means creating copy of dataset with updated rows) it with the token value from mappedTokens. This can be achieved through JOIN or other operations but I am not spending effort on this because of 2nd task.\r\n2. Read another XML blob column and find the account number and update it.\r\n\r\nAll the options I have tried so far are resulting into compile-time error or test compilation error due to non-serializable code. Most online resources are in Scala and not Java. Please help.\r\n\r\nSpark 2.1\r\nJava 8\r\n\r\n**Approach1 - Couldn&#39;t test due to serialization error.**\r\n\r\n    Dataset&lt;Row&gt; output = sparkSession.sqlContext().createDataFrame(dsRecords.javaRDD().map(row -&gt;  {\r\n                return RowFactory.create(row.get(0), row.get(1), row.get(2), swapToken(row.get(3)),row.get(4));\r\n            }), dsRecords.schema());\r\n    \r\n            return output;\r\n    \r\n    String swapToken(Object inputToken) {\r\n    \t\treturn mappedTokens.get(inputToken);//mappedToken will have to be instance field.\r\n    \t}\r\n\r\n**Approach2- Incomplete.**\r\n\r\n    dsRecords.foreach((ForeachFunction&lt;Row&gt;) row -&gt; {\r\n    \t\t\tInteger index = row.fieldIndex(&quot;accountNumber&quot;);\r\n    \t\t\tString pan = row.getString(index);\r\n    \t\t\tString swap = this.swapToken(pan);\r\n                //TODO: create a dataset with rows from dsRecords but swap value.\r\n    \t\t\t\r\n    \t\t});\r\n\r\n**Approach 3 - Use UDF with map function**\r\n\r\nCreate a UDF2 (that takes 2 input parameters viz. accountNumber and mappedToken and returns token). It seems UDF can only take column values\r\n\r\n**update 1 - UDF**\r\nSo, I implemented UDF (AFK, will post the code later):\r\n1. Defined UDF1 ‘updateToken’ to pass the xml column value and return the updated xml value. \r\n2. The HashMap instance ‘mappedTokens’ that has the account-token pair mapping is made static. It is accessed inside my UDF function to find the account in xml string and update with the token. \r\n\r\nI could test my applySwappedTokens function which calls the above UDF on dataset ‘withColumn’.  However when I run the spark program, I see that ‘mappedToken’ has ‘null’ data and hence, xml column gets updated with empty data. I think the static ‘mappedTokens’ is either in another JVM or driver (even in local the spark creates isolated driver, executor). It’s frustrating that there is no simple solution to iterate and update rows in spark.\r\n\r\n    Dataset&lt;Row&gt; processByRow(Dataset&lt;Row&gt; dsRecords, SparkSession sparkSession) {\r\n    \t\tsparkSession.udf().register(&quot;updateToken&quot;, updateToken, DataTypes.StringType);    \t\t\r\n    \t\treturn ds = dsRecords.withColumn(&quot;eventRecordTokenText&quot;, callUDF(&quot;updateToken&quot;, dsRecords.col(&quot;eventRecordTokenText&quot;)));\r\n    \t    \t}\r\n\r\n    static UDF1 updateToken = new UDF1&lt;String, String&gt;() {\r\n    \t\tpublic String call(final String tokenText) throws Exception {\r\n    \t\t\t\t// xml operations here..\r\n    \t\t\t\tfor (int nodeIndex = 0; nodeIndex &lt; nList.getLength(); nodeIndex++) {\r\n    \t\t\t\t\tNode thisNode = nList.item(nodeIndex);\r\n    \t\t\t\t\tif (thisNode.getAttributes().getNamedItem(&quot;ProcessTokenValue&quot;) != null &amp;&amp; thisNode.getAttributes()\r\n    \t\t\t\t\t\t\t.getNamedItem(&quot;ProcessTokenValue&quot;).getNodeValue().equalsIgnoreCase(&quot;true&quot;)) {\r\n    \t\t\t\t\t\tNode valueNode = thisNode.getAttributes().getNamedItem(&quot;Value&quot;);\r\n    \t\t\t\t\t\tString thisToken = valueNode.getNodeValue();\r\n    \t\t\t\t\t\tString newToken = mappedTokens.get(thisToken); // *returns null values from the map*\r\n    \t\t\t\t\t\tif(newToken != null &amp;&amp; !newToken.isEmpty())\r\n    \t\t\t\t\t\tvalueNode.setNodeValue(newToken);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t// more xml operations here..\r\n    \t\t\t\treturn output;\r\n    \t\t}\r\n    \t};\r\n\r\n**update 2 - iterate &amp; update**\r\nNow, I am trying row by row traversing ..\r\n\r\n    Dataset&lt;Row&gt; processByRow1(Dataset&lt;Row&gt; dsRecords, SparkSession sparkSession) {\r\n            List&lt;MongoRecordSmall&gt; newRows = new ArrayList&lt;MongoRecordSmall&gt;();\r\n                dsRecords.foreach((ForeachFunction&lt;Row&gt;) record -&gt; {\r\n                String currentToken = record.getAs(AppConstants.TokenCol);\r\n                String newToken = mappedTokens.get(currentToken);\r\n                newRows.add(new MongoRecordSmall(record.getString(0), record.getString(1), newToken, record.getString(3)));\r\n                logger.error(“Size plus=“+newRows.size());\r\n            });\r\n           return sparkSession.createDataFrame(newRows, MongoRecordSmall.class);\r\n        }\r\n\r\nThis is throwing serliazation error. It seems (https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/javaionotserializableexception.html) my class where the above logic exists, is being serlalized and sent to worker nodes and failing in doing so.","title":"How to iterate through a spark dataset and update a column value in Java?","body":"<p>I'm working on POC where I have to update the account number in DB with tokens. I read the data into a dataset dsRecords(about 2M records). I have another routine that had captured distinct account numbers and got the tokens, the mapping is stored in HashMap. </p>\n\n<pre><code>Dataset&lt;Row&gt; applySwappedTokens(Dataset&lt;Row&gt; dsRecords, Map&lt;String, String&gt; mappedTokens){\n}\n</code></pre>\n\n<p>Now, I must iterate through the dataset to do the following -\n1. Read account number column (accountNumber) value and update (I know dataset is immutable. So, updating the dataset means creating copy of dataset with updated rows) it with the token value from mappedTokens. This can be achieved through JOIN or other operations but I am not spending effort on this because of 2nd task.\n2. Read another XML blob column and find the account number and update it.</p>\n\n<p>All the options I have tried so far are resulting into compile-time error or test compilation error due to non-serializable code. Most online resources are in Scala and not Java. Please help.</p>\n\n<p>Spark 2.1\nJava 8</p>\n\n<p><strong>Approach1 - Couldn't test due to serialization error.</strong></p>\n\n<pre><code>Dataset&lt;Row&gt; output = sparkSession.sqlContext().createDataFrame(dsRecords.javaRDD().map(row -&gt;  {\n            return RowFactory.create(row.get(0), row.get(1), row.get(2), swapToken(row.get(3)),row.get(4));\n        }), dsRecords.schema());\n\n        return output;\n\nString swapToken(Object inputToken) {\n        return mappedTokens.get(inputToken);//mappedToken will have to be instance field.\n    }\n</code></pre>\n\n<p><strong>Approach2- Incomplete.</strong></p>\n\n<pre><code>dsRecords.foreach((ForeachFunction&lt;Row&gt;) row -&gt; {\n            Integer index = row.fieldIndex(\"accountNumber\");\n            String pan = row.getString(index);\n            String swap = this.swapToken(pan);\n            //TODO: create a dataset with rows from dsRecords but swap value.\n\n        });\n</code></pre>\n\n<p><strong>Approach 3 - Use UDF with map function</strong></p>\n\n<p>Create a UDF2 (that takes 2 input parameters viz. accountNumber and mappedToken and returns token). It seems UDF can only take column values</p>\n\n<p><strong>update 1 - UDF</strong>\nSo, I implemented UDF (AFK, will post the code later):\n1. Defined UDF1 ‘updateToken’ to pass the xml column value and return the updated xml value. \n2. The HashMap instance ‘mappedTokens’ that has the account-token pair mapping is made static. It is accessed inside my UDF function to find the account in xml string and update with the token. </p>\n\n<p>I could test my applySwappedTokens function which calls the above UDF on dataset ‘withColumn’.  However when I run the spark program, I see that ‘mappedToken’ has ‘null’ data and hence, xml column gets updated with empty data. I think the static ‘mappedTokens’ is either in another JVM or driver (even in local the spark creates isolated driver, executor). It’s frustrating that there is no simple solution to iterate and update rows in spark.</p>\n\n<pre><code>Dataset&lt;Row&gt; processByRow(Dataset&lt;Row&gt; dsRecords, SparkSession sparkSession) {\n        sparkSession.udf().register(\"updateToken\", updateToken, DataTypes.StringType);          \n        return ds = dsRecords.withColumn(\"eventRecordTokenText\", callUDF(\"updateToken\", dsRecords.col(\"eventRecordTokenText\")));\n            }\n\nstatic UDF1 updateToken = new UDF1&lt;String, String&gt;() {\n        public String call(final String tokenText) throws Exception {\n                // xml operations here..\n                for (int nodeIndex = 0; nodeIndex &lt; nList.getLength(); nodeIndex++) {\n                    Node thisNode = nList.item(nodeIndex);\n                    if (thisNode.getAttributes().getNamedItem(\"ProcessTokenValue\") != null &amp;&amp; thisNode.getAttributes()\n                            .getNamedItem(\"ProcessTokenValue\").getNodeValue().equalsIgnoreCase(\"true\")) {\n                        Node valueNode = thisNode.getAttributes().getNamedItem(\"Value\");\n                        String thisToken = valueNode.getNodeValue();\n                        String newToken = mappedTokens.get(thisToken); // *returns null values from the map*\n                        if(newToken != null &amp;&amp; !newToken.isEmpty())\n                        valueNode.setNodeValue(newToken);\n                    }\n                }\n                // more xml operations here..\n                return output;\n        }\n    };\n</code></pre>\n\n<p><strong>update 2 - iterate &amp; update</strong>\nNow, I am trying row by row traversing ..</p>\n\n<pre><code>Dataset&lt;Row&gt; processByRow1(Dataset&lt;Row&gt; dsRecords, SparkSession sparkSession) {\n        List&lt;MongoRecordSmall&gt; newRows = new ArrayList&lt;MongoRecordSmall&gt;();\n            dsRecords.foreach((ForeachFunction&lt;Row&gt;) record -&gt; {\n            String currentToken = record.getAs(AppConstants.TokenCol);\n            String newToken = mappedTokens.get(currentToken);\n            newRows.add(new MongoRecordSmall(record.getString(0), record.getString(1), newToken, record.getString(3)));\n            logger.error(“Size plus=“+newRows.size());\n        });\n       return sparkSession.createDataFrame(newRows, MongoRecordSmall.class);\n    }\n</code></pre>\n\n<p>This is throwing serliazation error. It seems (<a href=\"https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/javaionotserializableexception.html\" rel=\"nofollow noreferrer\">https://databricks.gitbooks.io/databricks-spark-knowledge-base/content/troubleshooting/javaionotserializableexception.html</a>) my class where the above logic exists, is being serlalized and sent to worker nodes and failing in doing so.</p>\n"},{"tags":["java","android","kotlin","android-api-levels"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1697795792,"post_id":77329938,"comment_id":136327564,"body_markdown":"I don&#39;t think the code is wrong. It&#39;s just a warning. I think you could annotate the method with `@SuppressWarnings(&quot;deprecation&quot;)` to remove it maybe","body":"I don&#39;t think the code is wrong. It&#39;s just a warning. I think you could annotate the method with <code>@SuppressWarnings(&quot;deprecation&quot;)</code> to remove it maybe"},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1697795888,"post_id":77329938,"comment_id":136327581,"body_markdown":"Code is ok. Just tested and it&#39;s **not** warning me with deprecation. Can&#39;t reproduce it.","body":"Code is ok. Just tested and it&#39;s <b>not</b> warning me with deprecation. Can&#39;t reproduce it."},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1697795996,"post_id":77329938,"comment_id":136327612,"body_markdown":"Can you post your whole code ?","body":"Can you post your whole code ?"},{"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"score":0,"creation_date":1697796432,"post_id":77329938,"comment_id":136327678,"body_markdown":"@ItzDavi, have posted the whole code except the import statements.","body":"@ItzDavi, have posted the whole code except the import statements."},{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1697796614,"post_id":77329938,"comment_id":136327702,"body_markdown":"Please if you can post also your imports, manifest and gradles files it could help.","body":"Please if you can post also your imports, manifest and gradles files it could help."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697798760,"post_id":77329938,"comment_id":136328080,"body_markdown":"BTW the compiler will not run your code, that is, it does not matter if there is an `if-else` checking the version - it will always compile both blocks (the `if` one and the `else` one)","body":"BTW the compiler will not run your code, that is, it does not matter if there is an <code>if-else</code> checking the version - it will always compile both blocks (the <code>if</code> one and the <code>else</code> one)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698913690,"post_id":77329938,"comment_id":136465353,"body_markdown":"( unless the condition is a compile time constant )","body":"( unless the condition is a compile time constant )"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1697796319,"creation_date":1697795404,"question_id":77329938,"body_markdown":"After going through some stack overflow questions, I have written the code to get the height and width in Android for _Api level &gt;= 30_ and _Api level &lt; 30_ below :\r\n            \r\n    class MainActivity : AppCompatActivity() {\r\n\r\n            override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n\r\n            val backgroundThread = Thread {\r\n\r\n            val metric: WindowMetrics\r\n            val insets: Insets    // An Insets instance holds four integer offsets which describe changes to the four edges of a Rectangle.\r\n            val displayMetrics: DisplayMetrics\r\n            val width: Int\r\n            val height: Int\r\n            val insetsWidth: Int\r\n            val insetsHeight: Int\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n\r\n                // Code for API level 30 and higher\r\n\r\n                metric = windowManager.currentWindowMetrics\r\n                insets = windowManager.currentWindowMetrics.windowInsets.getInsetsIgnoringVisibility (WindowInsets.Type.navigationBars() or WindowInsets.Type.displayCutout ())\r\n\r\n                insetsWidth = insets.right + insets.left\r\n                insetsHeight = insets.top + insets.bottom\r\n\r\n                Log.d (&quot;tally&quot;, &quot;${insets.right}, ${insets.left}, ${insets.top}, ${insets.bottom}&quot;)\r\n\r\n                width = metric.bounds.width () - insetsWidth\r\n                height = metric.bounds.height () - insetsHeight\r\n\r\n            } else {\r\n\r\n                displayMetrics = DisplayMetrics ()\r\n                windowManager.defaultDisplay.getMetrics (displayMetrics)\r\n\r\n                width = displayMetrics.widthPixels\r\n                height = displayMetrics.heightPixels\r\n            }\r\n        }\r\n        backgroundThread.start()\r\n    }\r\n    \r\n    /**\r\n     * A native method that is implemented by the &#39;dpi_poc&#39; native library,\r\n     * which is packaged with this application.\r\n     */\r\n    external fun stringFromJNI(): String\r\n\r\n    companion object {\r\n        // Used to load the &#39;dpi_poc&#39; library on application startup.\r\n        init {\r\n            System.loadLibrary(&quot;dpi_poc&quot;)\r\n        }\r\n    }\r\n}\r\n\r\nI&#39;m not able to understand why I&#39;m still getting the deprecated warning, as shown in the image below, even after enclosing the code in if else block.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1eHH5l.png\r\n\r\nWhat&#39;s wrong in the above code and how to solve this warning and write code to get the height and width in android for both api level &gt;= 30 and api level &lt; 30?","title":"Getting deprecated warning while getting the height, width in android for Api &gt;= 30 and Api &lt; 30 even after enclosing the code in if else block","body":"<p>After going through some stack overflow questions, I have written the code to get the height and width in Android for <em>Api level &gt;= 30</em> and <em>Api level &lt; 30</em> below :</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val backgroundThread = Thread {\n\n        val metric: WindowMetrics\n        val insets: Insets    // An Insets instance holds four integer offsets which describe changes to the four edges of a Rectangle.\n        val displayMetrics: DisplayMetrics\n        val width: Int\n        val height: Int\n        val insetsWidth: Int\n        val insetsHeight: Int\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n            // Code for API level 30 and higher\n\n            metric = windowManager.currentWindowMetrics\n            insets = windowManager.currentWindowMetrics.windowInsets.getInsetsIgnoringVisibility (WindowInsets.Type.navigationBars() or WindowInsets.Type.displayCutout ())\n\n            insetsWidth = insets.right + insets.left\n            insetsHeight = insets.top + insets.bottom\n\n            Log.d (&quot;tally&quot;, &quot;${insets.right}, ${insets.left}, ${insets.top}, ${insets.bottom}&quot;)\n\n            width = metric.bounds.width () - insetsWidth\n            height = metric.bounds.height () - insetsHeight\n\n        } else {\n\n            displayMetrics = DisplayMetrics ()\n            windowManager.defaultDisplay.getMetrics (displayMetrics)\n\n            width = displayMetrics.widthPixels\n            height = displayMetrics.heightPixels\n        }\n    }\n    backgroundThread.start()\n}\n\n/**\n * A native method that is implemented by the 'dpi_poc' native library,\n * which is packaged with this application.\n */\nexternal fun stringFromJNI(): String\n\ncompanion object {\n    // Used to load the 'dpi_poc' library on application startup.\n    init {\n        System.loadLibrary(&quot;dpi_poc&quot;)\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I'm not able to understand why I'm still getting the deprecated warning, as shown in the image below, even after enclosing the code in if else block.</p>\n<p><a href=\"https://i.stack.imgur.com/1eHH5l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1eHH5l.png\" alt=\"enter image description here\" /></a></p>\n<p>What's wrong in the above code and how to solve this warning and write code to get the height and width in android for both api level &gt;= 30 and api level &lt; 30?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697441618,"creation_date":1697441618,"answer_id":77300104,"question_id":77299557,"body_markdown":"In current implementation i see some missconfiguration and also some deprecated things and based on it I suggest you to have a look at [Migration Guide][1]\r\n\r\nAlso to get what you want you should replace current one body method to next one:\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n           http.authorizeHttpRequests(requestMatcherRegistry -&gt; {\r\n                requestMatcherRegistry.requestMatchers(&quot;/RemoteHandlerServices/Handle&quot;)\r\n                    .authenticated();\r\n                requestMatcherRegistry.anyRequest().denyAll();\r\n               });\r\n           return http.build();\r\n        }\r\n\r\nShort summary about it:\r\nEvery request to `/RemoteHandlerServices/Handle` should be `authenticated`\r\nand any others path requests will be denied.\r\n\r\nTo have more details how it work you have to read/check [documentation][2] \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\r\n  [2]: https://docs.spring.io/spring-security/reference/5.8/getting-spring-security.html","title":"Spring security failing to block the URLs","body":"<p>In current implementation i see some missconfiguration and also some deprecated things and based on it I suggest you to have a look at <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Migration Guide</a></p>\n<p>Also to get what you want you should replace current one body method to next one:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n       http.authorizeHttpRequests(requestMatcherRegistry -&gt; {\n            requestMatcherRegistry.requestMatchers(&quot;/RemoteHandlerServices/Handle&quot;)\n                .authenticated();\n            requestMatcherRegistry.anyRequest().denyAll();\n           });\n       return http.build();\n    }\n</code></pre>\n<p>Short summary about it:\nEvery request to <code>/RemoteHandlerServices/Handle</code> should be <code>authenticated</code>\nand any others path requests will be denied.</p>\n<p>To have more details how it work you have to read/check <a href=\"https://docs.spring.io/spring-security/reference/5.8/getting-spring-security.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":29313159,"reputation":193,"user_id":22458461,"display_name":"fforfabio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697796287,"creation_date":1697442992,"answer_id":77300266,"question_id":77299557,"body_markdown":"You can try to substitute your _filterChain_ with this one:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t    http\r\n\t\t    .authorizeHttpRequests(url -&gt; url\r\n\t\t\t    .antMatchers(&quot;/RemoteHandlerServices/Handle&quot;).authenticated()\r\n\t\t\t    .antMatchers(&quot;/OtherHandlerServices/Test&quot;).denyAll()\r\n\t\t\t    .anyRequest().authenticated());\r\n\treturn http.build();\r\n\r\n**Pay attention** that from Spring Security 5.8 the _antMatchers_ (with some others) method has been deprecated and you should use [requestMatchers](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#use-new-requestmatchers). From Spring Security 6 they have been removed.\r\n\r\nRemember that, by default, the first matching filter is the one that is applied to the url, so the next ones are discard.\r\n\r\nHere are some useful links: [security filters](https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-security-filters), [httpsecurity](https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-httpsecurity), [java config spring security](https://www.baeldung.com/java-config-spring-security)","title":"Spring security failing to block the URLs","body":"<p>You can try to substitute your <em>filterChain</em> with this one:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(url -&gt; url\n            .antMatchers(&quot;/RemoteHandlerServices/Handle&quot;).authenticated()\n            .antMatchers(&quot;/OtherHandlerServices/Test&quot;).denyAll()\n            .anyRequest().authenticated());\nreturn http.build();\n</code></pre>\n<p><strong>Pay attention</strong> that from Spring Security 5.8 the <em>antMatchers</em> (with some others) method has been deprecated and you should use <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html#use-new-requestmatchers\" rel=\"nofollow noreferrer\">requestMatchers</a>. From Spring Security 6 they have been removed.</p>\n<p>Remember that, by default, the first matching filter is the one that is applied to the url, so the next ones are discard.</p>\n<p>Here are some useful links: <a href=\"https://docs.spring.io/spring-security/reference/servlet/architecture.html#servlet-security-filters\" rel=\"nofollow noreferrer\">security filters</a>, <a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#jc-httpsecurity\" rel=\"nofollow noreferrer\">httpsecurity</a>, <a href=\"https://www.baeldung.com/java-config-spring-security\" rel=\"nofollow noreferrer\">java config spring security</a></p>\n"}],"owner":{"account_id":9117693,"reputation":48,"user_id":6784294,"display_name":"PDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77300266,"answer_count":2,"score":0,"last_activity_date":1697796287,"creation_date":1697433919,"question_id":77299557,"body_markdown":"I have the following scenario where I have to allow only a particular URL and deny others. But I am not sure why its allowing both URLs\r\n\r\n    @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            try{\r\n                return http\r\n                        .requestMatcher(new AntPathRequestMatcher(&quot;/RemoteHandlerServices/Handle&quot;))\r\n                            .authorizeHttpRequests(r -&gt; r\r\n                                .antMatchers(&quot;/RemoteHandlerServices/Handle&quot;).authenticated())\r\n                        .requestMatcher(new AntPathRequestMatcher(&quot;/OtherHandlerServices/Test&quot;))\r\n                            .authorizeHttpRequests(r -&gt; r\r\n                                .antMatchers(&quot;/OtherHandlerServices/Test&quot;).denyAll()\r\n                                .anyRequest().denyAll()\r\n                        )\r\n                        .build();\r\n\r\n        } catch(Exception e){\r\n                throw new RuntimeException(&quot;Authentication is failed&quot;);\r\n            }\r\n        }\r\n\r\nCould someone explain me why this is happening?","title":"Spring security failing to block the URLs","body":"<p>I have the following scenario where I have to allow only a particular URL and deny others. But I am not sure why its allowing both URLs</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        try{\n            return http\n                    .requestMatcher(new AntPathRequestMatcher(&quot;/RemoteHandlerServices/Handle&quot;))\n                        .authorizeHttpRequests(r -&gt; r\n                            .antMatchers(&quot;/RemoteHandlerServices/Handle&quot;).authenticated())\n                    .requestMatcher(new AntPathRequestMatcher(&quot;/OtherHandlerServices/Test&quot;))\n                        .authorizeHttpRequests(r -&gt; r\n                            .antMatchers(&quot;/OtherHandlerServices/Test&quot;).denyAll()\n                            .anyRequest().denyAll()\n                    )\n                    .build();\n\n    } catch(Exception e){\n            throw new RuntimeException(&quot;Authentication is failed&quot;);\n        }\n    }\n</code></pre>\n<p>Could someone explain me why this is happening?</p>\n"},{"tags":["java","maven","javafx","pom.xml","module-info"],"comments":[{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601771383,"post_id":64189054,"comment_id":113509232,"body_markdown":"I didn&#39;t see your „*I&#39;m just trying to **run** the javafx application*“ at first. In my haste, my original solution mistakenly assumed you were reporting a compilation error. So it proposed a configuration for the maven-compiler-plugin. I&#39;ve corrected the solution now with a proposed configuration for the javafx-maven-plugin.","body":"I didn&#39;t see your „<i>I&#39;m just trying to <b>run</b> the javafx application</i>“ at first. In my haste, my original solution mistakenly assumed you were reporting a compilation error. So it proposed a configuration for the maven-compiler-plugin. I&#39;ve corrected the solution now with a proposed configuration for the javafx-maven-plugin."}],"answers":[{"comments":[{"owner":{"account_id":1541382,"reputation":1257,"user_id":1435948,"display_name":"antonkronaj"},"score":0,"creation_date":1701376374,"post_id":64189954,"comment_id":136771376,"body_markdown":"Thank you. This helped me track down the issue I was having running tests when updating a project from java8 to 17. It was due to modules-info.class in the target directory combined with old libraries and new ones. Too long of a setup to explain. But your answer lead me to a solution.","body":"Thank you. This helped me track down the issue I was having running tests when updating a project from java8 to 17. It was due to modules-info.class in the target directory combined with old libraries and new ones. Too long of a setup to explain. But your answer lead me to a solution."}],"tags":[],"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601772218,"creation_date":1601768541,"answer_id":64189954,"question_id":64189054,"body_markdown":"***TL;DR*** — The two modules have a [*split package*](http://mail.openjdk.java.net/pipermail/jigsaw-dev/2016-November/009964.html) in common. And JPMS forbids split packages.\r\n\r\n\r\n----\r\n\r\n***The long-winded version***\r\n\r\nThe ***first sentence*** of [*this 2010 blog*](https://nirmalsasidharan.wordpress.com/2010/09/02/split-packages-an-osgi-nightmare/) gives a summary of what a split package is…&lt;sup&gt;*1*&lt;/sup&gt;\r\n\r\n&gt;&gt; „*…A “split package” is a pretty old Java term where you have packages in different libraries with the same name providing related (or sometimes unrelated functionality)…*“\r\n\r\nKeep in mind that was written in 2010 though; before JPMS. So the blog&#39;s claim of „*without any problem at both compile and runtime*“ in the *second sentence* is out-of-date; for the modulepath in any case.\r\n\r\nFor a way more detailed, more up-to-date explanation, watch this [*Project Jigsaw: Under the Hood video*](https://www.youtube.com/watch?v=Vxfd3ehdAZc) from JavaOne 2016.&lt;sup&gt;*2*&lt;/sup&gt;\r\n\r\n&gt; „*…why the error is referencing the `sisu.inject.bean` and `aopalliance` modules…*“\r\n\r\nBecause your project has a module descriptor (*module-info.java*) Maven has  put those dependencies — *which I can see you declared in your pom* — on the modulepath.\r\n\r\n&gt; „*…However I have no idea why I&#39;m getting this error…*“\r\n\r\nBecause JPMS abhors split packages…&lt;sup&gt;*3*&lt;/sup&gt;\r\n\r\n&gt;&gt; …\r\n&gt;&gt;\r\n&gt;&gt; „*There are two issues with split packages*,\r\n&gt;&gt; - *if you have the same class in each part of the package, the behavior of your \r\n&gt;&gt; [program] depend on the order in the classpath,*\r\n&gt;&gt;  *i&#39;ve experienced this kind of bugs with two different libraries requiring \r\n&gt;&gt; different version of ASM, at runtime, a class of the older version was calling a\r\n&gt;&gt; class of the newer version :(*\r\n&gt;&gt; - *security, if you allow split packages, you allow anybody to insert any classes in any packages.*\r\n&gt;&gt;\r\n&gt;&gt; …\r\n\r\n\r\n***The solution***\r\n\r\n```xml\r\n…\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.4&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;options&gt;\r\n\t\t\t&lt;option&gt;--patch-module&lt;/option&gt;\r\n\t\t\t&lt;option&gt;org.sonatype.sisu=${env.M2_REPO}/aopalliance/aopalliance/1.0/aopalliance-1.0jar&lt;/option&gt;\r\n\t\t&lt;/options&gt;\r\n        &lt;mainClass&gt;ui.java.App&lt;/mainClass&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n…\r\n```\r\n\r\n\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\n&lt;br /&gt;\r\n\r\n----\r\n\r\n&lt;sup&gt;&lt;sup&gt;*1*&lt;/sup&gt;&lt;/sup&gt;&amp;nbsp;&lt;sup&gt;*That&amp;nbsp;blog&amp;nbsp;talks&amp;nbsp;about&amp;nbsp;OSGi.&amp;nbsp;But&amp;nbsp;the&amp;nbsp;core&amp;nbsp;split&amp;nbsp;package&amp;nbsp;**definition**&amp;nbsp;applies&amp;nbsp;to&amp;nbsp;JPMS&amp;nbsp;too.*&lt;/sup&gt;&lt;br /&gt;\r\n&lt;sup&gt;&lt;sup&gt;*2*&lt;/sup&gt;&lt;/sup&gt;&amp;nbsp;&lt;sup&gt;[*Project&amp;nbsp;Jigsaw:&amp;nbsp;Under&amp;nbsp;The&amp;nbsp;Hood&amp;nbsp;—&amp;nbsp;accompanying&amp;nbsp;slides*](http://openjdk.java.net/projects/jigsaw/talks/#j1-2016).&lt;/sup&gt;&lt;br /&gt;\r\n&lt;sup&gt;&lt;sup&gt;*3*&lt;/sup&gt;&lt;/sup&gt;&amp;nbsp;&lt;sup&gt;R&#233;mi&amp;nbsp;*Forax&amp;nbsp;—&amp;nbsp;The&amp;nbsp;split&amp;nbsp;package&amp;nbsp;problem&amp;nbsp;—&amp;nbsp;Jigsaw&amp;nbsp;Dev&amp;nbsp;Mailing&amp;nbsp;List&amp;nbsp;—&amp;nbsp;November&amp;nbsp;2016.*&lt;/sup&gt;\r\n","title":"Running javafx application - Error occurred during initialization of boot layer: java.lang.module.ResolutionException","body":"<p><em><strong>TL;DR</strong></em> — The two modules have a <a href=\"http://mail.openjdk.java.net/pipermail/jigsaw-dev/2016-November/009964.html\" rel=\"nofollow noreferrer\"><em>split package</em></a> in common. And JPMS forbids split packages.</p>\n<hr />\n<p><em><strong>The long-winded version</strong></em></p>\n<p>The <em><strong>first sentence</strong></em> of <a href=\"https://nirmalsasidharan.wordpress.com/2010/09/02/split-packages-an-osgi-nightmare/\" rel=\"nofollow noreferrer\"><em>this 2010 blog</em></a> gives a summary of what a split package is…<sup><em>1</em></sup></p>\n<blockquote>\n<blockquote>\n<p>„<em>…A “split package” is a pretty old Java term where you have packages in different libraries with the same name providing related (or sometimes unrelated functionality)…</em>“</p>\n</blockquote>\n</blockquote>\n<p>Keep in mind that was written in 2010 though; before JPMS. So the blog's claim of „<em>without any problem at both compile and runtime</em>“ in the <em>second sentence</em> is out-of-date; for the modulepath in any case.</p>\n<p>For a way more detailed, more up-to-date explanation, watch this <a href=\"https://www.youtube.com/watch?v=Vxfd3ehdAZc\" rel=\"nofollow noreferrer\"><em>Project Jigsaw: Under the Hood video</em></a> from JavaOne 2016.<sup><em>2</em></sup></p>\n<blockquote>\n<p>„<em>…why the error is referencing the <code>sisu.inject.bean</code> and <code>aopalliance</code> modules…</em>“</p>\n</blockquote>\n<p>Because your project has a module descriptor (<em>module-info.java</em>) Maven has  put those dependencies — <em>which I can see you declared in your pom</em> — on the modulepath.</p>\n<blockquote>\n<p>„<em>…However I have no idea why I'm getting this error…</em>“</p>\n</blockquote>\n<p>Because JPMS abhors split packages…<sup><em>3</em></sup></p>\n<blockquote>\n<blockquote>\n<p>…</p>\n<p>„<em>There are two issues with split packages</em>,</p>\n<ul>\n<li><em>if you have the same class in each part of the package, the behavior of your\n[program] depend on the order in the classpath,</em>\n<em>i've experienced this kind of bugs with two different libraries requiring\ndifferent version of ASM, at runtime, a class of the older version was calling a\nclass of the newer version :(</em></li>\n<li><em>security, if you allow split packages, you allow anybody to insert any classes in any packages.</em></li>\n</ul>\n<p>…</p>\n</blockquote>\n</blockquote>\n<p><em><strong>The solution</strong></em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>…\n&lt;plugin&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.0.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;options&gt;\n            &lt;option&gt;--patch-module&lt;/option&gt;\n            &lt;option&gt;org.sonatype.sisu=${env.M2_REPO}/aopalliance/aopalliance/1.0/aopalliance-1.0jar&lt;/option&gt;\n        &lt;/options&gt;\n        &lt;mainClass&gt;ui.java.App&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n…\n</code></pre>\n<br />\n<br />\n<br />\n<br />\n<br />\n<hr />\n<p><sup><sup><em>1</em></sup></sup> <sup><em>That blog talks about OSGi. But the core split package <strong>definition</strong> applies to JPMS too.</em></sup><br />\n<sup><sup><em>2</em></sup></sup> <sup><a href=\"http://openjdk.java.net/projects/jigsaw/talks/#j1-2016\" rel=\"nofollow noreferrer\"><em>Project Jigsaw: Under The Hood — accompanying slides</em></a>.</sup><br />\n<sup><sup><em>3</em></sup></sup> <sup>Rémi <em>Forax — The split package problem — Jigsaw Dev Mailing List — November 2016.</em></sup></p>\n"},{"tags":[],"owner":{"account_id":10617054,"reputation":51,"user_id":10622384,"display_name":"slaszu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697796163,"creation_date":1697796163,"answer_id":77330036,"question_id":64189054,"body_markdown":"I found another solution.  When you use module-info.java file and surefire plugin then the best solution is to use &quot;useModulePath&quot; option \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;useModulePath&gt;false&lt;/useModulePath&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSee here https://stackoverflow.com/questions/53161703/get-maven-surefire-to-run-on-classpath-with-module-info-java-file-present","title":"Running javafx application - Error occurred during initialization of boot layer: java.lang.module.ResolutionException","body":"<p>I found another solution.  When you use module-info.java file and surefire plugin then the best solution is to use &quot;useModulePath&quot; option</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;useModulePath&gt;false&lt;/useModulePath&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>See here <a href=\"https://stackoverflow.com/questions/53161703/get-maven-surefire-to-run-on-classpath-with-module-info-java-file-present\">Get maven surefire to run on classpath with module-info.java file present</a></p>\n"}],"owner":{"account_id":18126016,"reputation":41,"user_id":13181536,"display_name":"Sigbj&#248;rn Berdal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697796163,"creation_date":1601759559,"question_id":64189054,"body_markdown":"As the title says, I&#39;m just trying to run the javafx application. However I have no idea why I&#39;m getting this error, and I don&#39;t know why the error is referencing the `sisu.inject.bean` and `aopalliance` modules. I don&#39;t know wether the module-info.java or the pom.xml is causing the error. Thanks in advance for any anwser.\r\n\r\nmodule-info.java:  \r\n```\r\nmodule ui {\r\n    requires javafx.fxml;\r\n    requires transitive javafx.graphics;\r\n    requires javafx.controls;\r\n    requires org.testfx.junit5;\r\n    requires junit;\r\n    requires core;\r\n    exports ui.java;\r\n    exports test.ui to junit;\r\n}\r\n```\r\n\r\npom.xml:  \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;it1901.nachwithme&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;ui&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- UI imports core as a dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;it1901.nachwithme&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Dependencies for javafx --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testfx-core&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;!-- https://mvnrepository.com/artifact/org.sonatype.sisu/sisu-inject-bean --&gt;\r\n                    &lt;groupId&gt;org.sonatype.sisu&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sisu-inject-bean&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;!-- https://mvnrepository.com/artifact/aopalliance/aopalliance --&gt;\r\n                    &lt;groupId&gt;aopalliance&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aopalliance&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Dependencies for javafx --&gt;\r\n\r\n        &lt;!-- Dependencies for unit-testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;16-ea+2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testfx-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Dependencies for unit-testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;options&gt;\r\n                        &lt;!-- &lt;option&gt;dash dash enable-preview&lt;/option&gt; --&gt;\r\n                    &lt;/options&gt;\r\n                    &lt;mainClass&gt;ui.java.App&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.fxml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.png&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;test&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.fxml&lt;/include&gt;\r\n                    &lt;include&gt;**/*.png&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nError:  \r\n```\r\nError occurred during initialization of boot layer  \r\njava.lang.module.ResolutionException: Modules sisu.inject.bean and aopalliance export package org.aopalliance.aop to module org.testfx\r\n\r\nProcess finished with exit code 1\r\n```","title":"Running javafx application - Error occurred during initialization of boot layer: java.lang.module.ResolutionException","body":"<p>As the title says, I'm just trying to run the javafx application. However I have no idea why I'm getting this error, and I don't know why the error is referencing the <code>sisu.inject.bean</code> and <code>aopalliance</code> modules. I don't know wether the module-info.java or the pom.xml is causing the error. Thanks in advance for any anwser.</p>\n<p>module-info.java:</p>\n<pre><code>module ui {\n    requires javafx.fxml;\n    requires transitive javafx.graphics;\n    requires javafx.controls;\n    requires org.testfx.junit5;\n    requires junit;\n    requires core;\n    exports ui.java;\n    exports test.ui to junit;\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;it1901.nachwithme&lt;/groupId&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;ui&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- UI imports core as a dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;it1901.nachwithme&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Dependencies for javafx --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testfx&lt;/groupId&gt;\n            &lt;artifactId&gt;testfx-core&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;!-- https://mvnrepository.com/artifact/org.sonatype.sisu/sisu-inject-bean --&gt;\n                    &lt;groupId&gt;org.sonatype.sisu&lt;/groupId&gt;\n                    &lt;artifactId&gt;sisu-inject-bean&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;!-- https://mvnrepository.com/artifact/aopalliance/aopalliance --&gt;\n                    &lt;groupId&gt;aopalliance&lt;/groupId&gt;\n                    &lt;artifactId&gt;aopalliance&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Dependencies for javafx --&gt;\n\n        &lt;!-- Dependencies for unit-testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;16-ea+2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testfx&lt;/groupId&gt;\n            &lt;artifactId&gt;testfx-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Dependencies for unit-testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;options&gt;\n                        &lt;!-- &lt;option&gt;dash dash enable-preview&lt;/option&gt; --&gt;\n                    &lt;/options&gt;\n                    &lt;mainClass&gt;ui.java.App&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.fxml&lt;/include&gt;\n                    &lt;include&gt;**/*.png&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;test&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.fxml&lt;/include&gt;\n                    &lt;include&gt;**/*.png&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Error occurred during initialization of boot layer  \njava.lang.module.ResolutionException: Modules sisu.inject.bean and aopalliance export package org.aopalliance.aop to module org.testfx\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1697738315,"post_id":77325532,"comment_id":136320848,"body_markdown":"I believe I already wrote that to you, but your **Vue.js application should not be an OAuth2 client**. Such clients are &quot;public&quot; clients and [this is now discouraged](https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390). Your Vue app should be secured with sessions on a BFF with OAuth2 login and something to replace session cookie with an authorization header containing an access token as done in [this tutorial](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff)","body":"I believe I already wrote that to you, but your <b>Vue.js application should not be an OAuth2 client</b>. Such clients are &quot;public&quot; clients and <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">this is now discouraged</a>. Your Vue app should be secured with sessions on a BFF with OAuth2 login and something to replace session cookie with an authorization header containing an access token as done in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">this tutorial</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1697738529,"post_id":77325532,"comment_id":136320896,"body_markdown":"If you use spring-cloud-gateway as BFF, as done in the tutorial just linked, and serve the authorization server, the Vue.js assets and REST services through the gateway, then all requests will have the same origin (the gateway). You&#39;d need CORS config only for what is not served through the gateway (like the authorization server if you want to share it with another app for SSO)","body":"If you use spring-cloud-gateway as BFF, as done in the tutorial just linked, and serve the authorization server, the Vue.js assets and REST services through the gateway, then all requests will have the same origin (the gateway). You&#39;d need CORS config only for what is not served through the gateway (like the authorization server if you want to share it with another app for SSO)"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1697792208,"post_id":77325532,"comment_id":136326919,"body_markdown":"@ch4mp May you write this as an answer and I&#39;ll gladly accept this. Please - as this has mroe of a CORS-relevancy - go more in-depth regarding your last statement &quot;You&#39;d need CORS config only for what is not served through the gateway (like the authorization server if you want to share it with another app for SSO)&quot;","body":"@ch4mp May you write this as an answer and I&#39;ll gladly accept this. Please - as this has mroe of a CORS-relevancy - go more in-depth regarding your last statement &quot;You&#39;d need CORS config only for what is not served through the gateway (like the authorization server if you want to share it with another app for SSO)&quot;"}],"answers":[{"comments":[{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1697830632,"post_id":77330035,"comment_id":136333619,"body_markdown":"(Semi-)On-Topic question: Does every front-end needs it&#39;s own BFF? Or can we handle multiple over one? @ch4mp","body":"(Semi-)On-Topic question: Does every front-end needs it&#39;s own BFF? Or can we handle multiple over one? @ch4mp"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697831158,"post_id":77330035,"comment_id":136333682,"body_markdown":"You can do both, but most frequently, you&#39;ll find per front-end BFF (and this is how I use this pattern)","body":"You can do both, but most frequently, you&#39;ll find per front-end BFF (and this is how I use this pattern)"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697796121,"creation_date":1697796121,"answer_id":77330035,"question_id":77325532,"body_markdown":"**S**ingle **P**age **A**pplications (Angular, React, Vue.js, etc.), as well as mobile applications, should not be OAuth2 client. Such clients are &quot;public&quot; clients and [this is now discouraged][1].\r\n\r\nYour Vue app should be secured with sessions on a BFF with OAuth2 login and something to replace session cookie with an authorization header containing an access token. The easiest way to achieve that is probably using `spring-cloud-gateway` with the `TokenRelay` filter and `spring-boot-starter-oauth2-client` with `oauth2Login` as I do in [this tutorial][2]. The frontend in this tutorial is using Angular, but login and logout are plain Typsecript code and is pretty easy to port to React or Vue.\r\n\r\nIn addition the securing the frontend with sessions, the gateway can remove the need for most of CORS configuration: from the browser point of view, all requests routed through the gateway have the same origin (the gateway).\r\n\r\nIn the tutorial linked:\r\n- all requests to the gateway (lets say https://localhost:**8080**) with a path starting with `/ui/` are routed to the what serves the UI assets (something like https://localhost:**4200**/ui/ in the case of an Angular dev server, but could be a Vue dev server, a NGINX instance containing anything, or whatever)\r\n- all requests tho the gateway with a path starting with `/bff/v1/` are routed to a resource server (something like https://localhost:**7084**/)\r\n\r\nIn the configuration above, if the user points its browser to https://localhost:**8080**/ui/ and if the SPA is configured to send REST requests to https://localhost:**8080**/bff/v1/**, then, from the browser perspective, both the requests to the UI and to the API have https://localhost:**8080** as origin.\r\n\r\nStill in this tutorial, the authorization server is not routed through the gateway and needs some CORS configuration to allow requests with the gateway as origin. The reason is that, most frequently, when using OAuth2 you are interested in **S**ingle **S**ign **O**n: share the same authorization server across different applications to save the user the need for authenticating several times when using the same browser, which requires to be using the same cookie and as a consequence the same host &amp; port (the authorization server is contacted by the browser on let&#39;s say https://oidc.c4-soft.com) whatever the BFF instances (instead of something like https://localhost:8080/auth for instance in the case of the tutorial BFF).\r\n\r\nAll that to write that if using a gateway as OAuth2 confidential client, you can remove the need for CORS configuration:\r\n- from resource servers (if you route the UI and REST requests through the gateway)\r\n- from the authorization server (if you route the UI and the authorization server through the gateway, but at the price of loosing SSO)\r\n\r\n  [1]: https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff","title":"How to properly configure CORS on a Spring Boot Auth Server?","body":"<p><strong>S</strong>ingle <strong>P</strong>age <strong>A</strong>pplications (Angular, React, Vue.js, etc.), as well as mobile applications, should not be OAuth2 client. Such clients are &quot;public&quot; clients and <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/297#issue-896744390\" rel=\"nofollow noreferrer\">this is now discouraged</a>.</p>\n<p>Your Vue app should be secured with sessions on a BFF with OAuth2 login and something to replace session cookie with an authorization header containing an access token. The easiest way to achieve that is probably using <code>spring-cloud-gateway</code> with the <code>TokenRelay</code> filter and <code>spring-boot-starter-oauth2-client</code> with <code>oauth2Login</code> as I do in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">this tutorial</a>. The frontend in this tutorial is using Angular, but login and logout are plain Typsecript code and is pretty easy to port to React or Vue.</p>\n<p>In addition the securing the frontend with sessions, the gateway can remove the need for most of CORS configuration: from the browser point of view, all requests routed through the gateway have the same origin (the gateway).</p>\n<p>In the tutorial linked:</p>\n<ul>\n<li>all requests to the gateway (lets say https://localhost:<strong>8080</strong>) with a path starting with <code>/ui/</code> are routed to the what serves the UI assets (something like https://localhost:<strong>4200</strong>/ui/ in the case of an Angular dev server, but could be a Vue dev server, a NGINX instance containing anything, or whatever)</li>\n<li>all requests tho the gateway with a path starting with <code>/bff/v1/</code> are routed to a resource server (something like https://localhost:<strong>7084</strong>/)</li>\n</ul>\n<p>In the configuration above, if the user points its browser to https://localhost:<strong>8080</strong>/ui/ and if the SPA is configured to send REST requests to https://localhost:<strong>8080</strong>/bff/v1/**, then, from the browser perspective, both the requests to the UI and to the API have https://localhost:<strong>8080</strong> as origin.</p>\n<p>Still in this tutorial, the authorization server is not routed through the gateway and needs some CORS configuration to allow requests with the gateway as origin. The reason is that, most frequently, when using OAuth2 you are interested in <strong>S</strong>ingle <strong>S</strong>ign <strong>O</strong>n: share the same authorization server across different applications to save the user the need for authenticating several times when using the same browser, which requires to be using the same cookie and as a consequence the same host &amp; port (the authorization server is contacted by the browser on let's say <a href=\"https://oidc.c4-soft.com\" rel=\"nofollow noreferrer\">https://oidc.c4-soft.com</a>) whatever the BFF instances (instead of something like https://localhost:8080/auth for instance in the case of the tutorial BFF).</p>\n<p>All that to write that if using a gateway as OAuth2 confidential client, you can remove the need for CORS configuration:</p>\n<ul>\n<li>from resource servers (if you route the UI and REST requests through the gateway)</li>\n<li>from the authorization server (if you route the UI and the authorization server through the gateway, but at the price of loosing SSO)</li>\n</ul>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77330035,"answer_count":1,"score":2,"last_activity_date":1697796121,"creation_date":1697732442,"question_id":77325532,"body_markdown":"I got a basic Vue.js application for the authentication at our Spring Boot auth server. What follows is that code that does the full log-in (redirect to /login, request to the token endpoint, etc.):\r\n\r\n```javascript\r\n&lt;template&gt;\r\n    &lt;div class=&quot;h-screen w-screen flex flex-col items-center justify-center&quot;&gt;\r\n        &lt;p class=&quot;text-center mb-5&quot;&gt;You need to be logged in&lt;br&gt;to access the admin dashboard.&lt;/p&gt;\r\n        &lt;button @click.prevent=&quot;startAuthFlow&quot; class=&quot;bg-blue-500 text-white h-8 w-36 rounded shadow&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/template&gt;\r\n\r\n&lt;script setup&gt;\r\nimport { config \r\n} from &quot;./../common/config.js&quot;;\r\nimport { parseQueryString, generateRandomString } from &quot;./../utils/authHelpers.js&quot;;\r\nimport router from &#39;./../router&#39;;\r\nimport { useAuthStore } from &#39;./../stores/auth.js&#39;;\r\n\r\nconst auth = useAuthStore();\r\n\r\nif (auth.access_token) {\r\n    router.push({ name: &#39;home&#39;, replace: true });\r\n}\r\n\r\nconst startAuthFlow = () =&gt; {\r\n    console.log(&quot;Starting auth flow...&quot;);\r\n\r\n    // Create and store a random &quot;state&quot; value\r\n    var state = generateRandomString();\r\n    localStorage.setItem(&quot;pkce_state&quot;, state);\r\n    console.log(state);\r\n\r\n    // Build the authorization URL\r\n    var url = config.authorization_endpoint\r\n        + &quot;?response_type=code&quot;\r\n        + &quot;&amp;client_id=&quot; + encodeURIComponent(config.client_id)\r\n        + &quot;&amp;state=&quot; + encodeURIComponent(state)\r\n        + &quot;&amp;redirect_uri=&quot; + encodeURIComponent(config.redirect_uri);\r\n\r\n    // Redirect to the authorization server\r\n    window.location = url;\r\n};\r\n\r\n// Handle the redirect back from the authorization server and\r\n// get an access token from the token endpoint\r\nvar q = parseQueryString(window.location.search.substring(1));\r\n\r\n// Check if the server returned an error string\r\nif (q.error) {\r\n    alert(&quot;Error returned from authorization server: &quot; + q.error);\r\n}\r\n\r\n// If the server returned an authorization code, attempt to exchange it for an access token\r\nif (q.code) {\r\n    // Verify state matches what we set at the beginning\r\n    if (localStorage.getItem(&quot;pkce_state&quot;) != q.state) {\r\n        alert(&quot;Invalid state&quot;);\r\n    } else {\r\n        // Base64 encode client credentials\r\n        const base64Credentials = btoa(config.client_id + &#39;:&#39; + config.client_secret);\r\n\r\n        // Build the token URL\r\n        var url = config.token_endpoint\r\n            + &quot;?grant_type=authorization_code&quot;\r\n            + &quot;&amp;client_id=&quot; + encodeURIComponent(config.client_id)\r\n            + &quot;&amp;code=&quot; + q.code\r\n            + &quot;&amp;redirect_uri=&quot; + encodeURIComponent(config.redirect_uri);\r\n\r\n        // Send POST request to token endpoint to retrieve access token\r\n        fetch(url, {\r\n            method: &quot;POST&quot;,\r\n            headers: {\r\n                &quot;Authorization&quot;: &quot;Basic &quot; + base64Credentials,\r\n                &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;,\r\n            }\r\n        }).then(response =&gt; response.json())\r\n            .then(result =&gt; {\r\n                console.log(result);\r\n                // Extracting tokens from result\r\n                const { access_token, refresh_token } = result;\r\n\r\n                // Save login to pinia and tokens to cookies\r\n                auth.login({ access_token, refresh_token, user: null });\r\n\r\n                router.push({ name: &#39;home&#39;, replace: true });\r\n            })\r\n            .catch(error =&gt; console.log(&#39;error&#39;, error));\r\n    }\r\n\r\n    // Clean up local storage\r\n    localStorage.removeItem(&quot;pkce_state&quot;);\r\n}\r\n\r\n&lt;/script&gt;\r\n```\r\n\r\nWhen using a browser with deactivated security features (does **not** check CORS), this works perfectly fine. Both the log-in as well as other requests.\r\n\r\nNow when using a normal browser, the redirect to `/login` works perfectly fine. But when sending a request to the `token` endpoint the following error appears:\r\n\r\n&gt; Access to fetch at\r\n&gt; &#39;http://localhost:8081/oauth2/token?grant_type=authorization_code&amp;client_id=core-server&amp;code=Ps19gIUUePThDLr15xX0U-UWEMd0HgHfyAOCcZjGmfXUqED80GOMLBykuldNrL7k23dxEydcP49hX_kGigKsZjcFCTS93xU7kwdwAIm6-eIcIk_ayN5i0mZPLeg_bDYx&amp;redirect_uri=http%3A%2F%2Flocalhost%3A5173%2F&#39;\r\n&gt; from origin &#39;http://localhost:5173&#39; has been blocked by CORS policy:\r\n&gt; Response to preflight request doesn&#39;t pass access control check: No\r\n&gt; &#39;Access-Control-Allow-Origin&#39; header is present on the requested\r\n&gt; resource. If an opaque response serves your needs, set the request&#39;s\r\n&gt; mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\nIn the CORS-deactivated browser, I get the following headers back:\r\n\r\n    Vary: Origin \r\n    Vary: Access-Control-Request-Method \r\n    Vary: Access-Control-Request-Headers\r\n\r\nWhat follows is my `SecurityConfig` file as well as the `CorsConfig`:\r\n\r\n```java\r\n@Configuration\r\npublic class\r\nCorsConfig {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(CorsConfig.class);\r\n\r\n    /**\r\n     * Cors configuration\r\n     */\r\n    @Bean(name=&quot;corsConfigurationSource&quot;)\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n\r\n        logger.info(&quot;Creating corsConfigurationSource bean&quot;);\r\n\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(\r\n                &quot;http://localhost:5173&quot;,\r\n                &quot;http://192.168.2.144:5173&quot;\r\n        ));\r\n\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setAllowedHeaders(List.of(\r\n                &quot;Authorization&quot;,\r\n                &quot;Content-Type&quot;,\r\n                &quot;Accept&quot;,\r\n                &quot;Origin&quot;,\r\n                &quot;X-Requested-With&quot;\r\n        ));\r\n        configuration.setExposedHeaders(List.of(\r\n                &quot;Cache-Control&quot;,\r\n                &quot;Content-Language&quot;,\r\n                &quot;Content-Type&quot;,\r\n                &quot;Expires&quot;,\r\n                &quot;Last-Modified&quot;,\r\n                &quot;Pragma&quot;\r\n        ));\r\n        configuration.setMaxAge(3600L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    // claim names used in the bearer token\r\n    private static final String ROLES_CLAIM = &quot;user-authorities&quot;;\r\n    private static final String SCOPES_CLAIM = &quot;scope&quot;;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\r\n\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public CorsFilter corsFilter(CorsConfigurationSource corsConfigurationSource) {\r\n        logger.info(&quot;Creating corsFilter bean&quot;);\r\n        return new CorsFilter(corsConfigurationSource);\r\n    }\r\n\r\n\r\n    /**\r\n     * Configures the authorization server endpoints.\r\n     */\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http, RegisteredClientRepository clientRepository) throws Exception {\r\n\r\n        logger.info(&quot;Creating authorizationServerSecurityFilterChain bean&quot;);\r\n\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .registeredClientRepository(clientRepository) // autowired from ClientConfig.java\r\n                .oidc(Customizer.withDefaults());\r\n\r\n        http.exceptionHandling((exceptions) -&gt; exceptions\r\n            .defaultAuthenticationEntryPointFor(\r\n                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;),\r\n                new MediaTypeRequestMatcher(MediaType.TEXT_HTML)\r\n            )\r\n        );\r\n\r\n        http.oauth2ResourceServer((resourceServer) -&gt; resourceServer\r\n                .jwt(Customizer.withDefaults()));\r\n\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n    /**\r\n     * Secures pages used to log in, log out, register etc.\r\n     * Sets custom login menu.\r\n     */\r\n    @Bean\r\n    @Order(3)\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.securityMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/admin/**&quot;)));\r\n\r\n        logger.info(&quot;Creating defaultSecurityFilterChain bean&quot;);\r\n\r\n        http.authorizeHttpRequests((authorize) -&gt;\r\n                authorize\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/register&quot;)).permitAll()\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/recover/**&quot;)).permitAll()\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/error/**&quot;)).permitAll()\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/css/**&quot;)).permitAll()\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/js/**&quot;)).permitAll()\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/favicon.ico&quot;)).permitAll()\r\n                        .anyRequest().authenticated());\r\n\r\n        http.oauth2ResourceServer((resourceServer) -&gt; resourceServer\r\n                .jwt(Customizer.withDefaults()));\r\n\r\n        // set custom login form\r\n        http.formLogin(form -&gt; {\r\n            form.loginPage(&quot;/login&quot;);\r\n            form.permitAll();\r\n        });\r\n\r\n        http.logout(conf -&gt; {\r\n            // default logout url\r\n            conf.logoutSuccessHandler(logoutSuccessHandler());\r\n        });\r\n\r\n        // Temp disable CSRF\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.cors(AbstractHttpConfigurer::disable);\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n    /**\r\n     * Secures admin endpoints with a bearer token. Does not use session authentication.\r\n     */\r\n    @Bean\r\n    @Order(4)\r\n    public SecurityFilterChain adminResourceFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        logger.info(&quot;Creating adminResourceFilterChain bean&quot;);\r\n\r\n        // handle out custom endpoints in this filter chain\r\n        http.authorizeHttpRequests((authorize) -&gt;\r\n                authorize\r\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/admin/**&quot;)).hasRole(&quot;ADMIN&quot;)\r\n                        .anyRequest().authenticated());\r\n\r\n        http.sessionManagement(conf -&gt; conf.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n        http.oauth2ResourceServer((resourceServer) -&gt; resourceServer\r\n                .jwt(Customizer.withDefaults()));\r\n\r\n        // Temp disable CSRF\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.cors(AbstractHttpConfigurer::disable);\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n// ...\r\n```\r\n\r\nI tried lots of different approaches:\r\n\r\n- Changed the filter chains (e.g. instead of `Order(1)` I included the CORS config at the top of each Security Bean)\r\n- Went ahead and implemented the [CORS Tutorial][1] one by one.\r\n- Tried to set the request headers manually *(which isn&#39;t a solution in the long-term)*.\r\n- Tried pattern matching to allow every incoming request temporarily (didn&#39;t work, so it&#39;s apparently an issue with the CORS Config in itself)\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html","title":"How to properly configure CORS on a Spring Boot Auth Server?","body":"<p>I got a basic Vue.js application for the authentication at our Spring Boot auth server. What follows is that code that does the full log-in (redirect to /login, request to the token endpoint, etc.):</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;template&gt;\n    &lt;div class=&quot;h-screen w-screen flex flex-col items-center justify-center&quot;&gt;\n        &lt;p class=&quot;text-center mb-5&quot;&gt;You need to be logged in&lt;br&gt;to access the admin dashboard.&lt;/p&gt;\n        &lt;button @click.prevent=&quot;startAuthFlow&quot; class=&quot;bg-blue-500 text-white h-8 w-36 rounded shadow&quot;&gt;Login&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script setup&gt;\nimport { config \n} from &quot;./../common/config.js&quot;;\nimport { parseQueryString, generateRandomString } from &quot;./../utils/authHelpers.js&quot;;\nimport router from './../router';\nimport { useAuthStore } from './../stores/auth.js';\n\nconst auth = useAuthStore();\n\nif (auth.access_token) {\n    router.push({ name: 'home', replace: true });\n}\n\nconst startAuthFlow = () =&gt; {\n    console.log(&quot;Starting auth flow...&quot;);\n\n    // Create and store a random &quot;state&quot; value\n    var state = generateRandomString();\n    localStorage.setItem(&quot;pkce_state&quot;, state);\n    console.log(state);\n\n    // Build the authorization URL\n    var url = config.authorization_endpoint\n        + &quot;?response_type=code&quot;\n        + &quot;&amp;client_id=&quot; + encodeURIComponent(config.client_id)\n        + &quot;&amp;state=&quot; + encodeURIComponent(state)\n        + &quot;&amp;redirect_uri=&quot; + encodeURIComponent(config.redirect_uri);\n\n    // Redirect to the authorization server\n    window.location = url;\n};\n\n// Handle the redirect back from the authorization server and\n// get an access token from the token endpoint\nvar q = parseQueryString(window.location.search.substring(1));\n\n// Check if the server returned an error string\nif (q.error) {\n    alert(&quot;Error returned from authorization server: &quot; + q.error);\n}\n\n// If the server returned an authorization code, attempt to exchange it for an access token\nif (q.code) {\n    // Verify state matches what we set at the beginning\n    if (localStorage.getItem(&quot;pkce_state&quot;) != q.state) {\n        alert(&quot;Invalid state&quot;);\n    } else {\n        // Base64 encode client credentials\n        const base64Credentials = btoa(config.client_id + ':' + config.client_secret);\n\n        // Build the token URL\n        var url = config.token_endpoint\n            + &quot;?grant_type=authorization_code&quot;\n            + &quot;&amp;client_id=&quot; + encodeURIComponent(config.client_id)\n            + &quot;&amp;code=&quot; + q.code\n            + &quot;&amp;redirect_uri=&quot; + encodeURIComponent(config.redirect_uri);\n\n        // Send POST request to token endpoint to retrieve access token\n        fetch(url, {\n            method: &quot;POST&quot;,\n            headers: {\n                &quot;Authorization&quot;: &quot;Basic &quot; + base64Credentials,\n                'Content-Type': 'application/x-www-form-urlencoded',\n            }\n        }).then(response =&gt; response.json())\n            .then(result =&gt; {\n                console.log(result);\n                // Extracting tokens from result\n                const { access_token, refresh_token } = result;\n\n                // Save login to pinia and tokens to cookies\n                auth.login({ access_token, refresh_token, user: null });\n\n                router.push({ name: 'home', replace: true });\n            })\n            .catch(error =&gt; console.log('error', error));\n    }\n\n    // Clean up local storage\n    localStorage.removeItem(&quot;pkce_state&quot;);\n}\n\n&lt;/script&gt;\n</code></pre>\n<p>When using a browser with deactivated security features (does <strong>not</strong> check CORS), this works perfectly fine. Both the log-in as well as other requests.</p>\n<p>Now when using a normal browser, the redirect to <code>/login</code> works perfectly fine. But when sending a request to the <code>token</code> endpoint the following error appears:</p>\n<blockquote>\n<p>Access to fetch at\n'http://localhost:8081/oauth2/token?grant_type=authorization_code&amp;client_id=core-server&amp;code=Ps19gIUUePThDLr15xX0U-UWEMd0HgHfyAOCcZjGmfXUqED80GOMLBykuldNrL7k23dxEydcP49hX_kGigKsZjcFCTS93xU7kwdwAIm6-eIcIk_ayN5i0mZPLeg_bDYx&amp;redirect_uri=http%3A%2F%2Flocalhost%3A5173%2F'\nfrom origin 'http://localhost:5173' has been blocked by CORS policy:\nResponse to preflight request doesn't pass access control check: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource. If an opaque response serves your needs, set the request's\nmode to 'no-cors' to fetch the resource with CORS disabled.</p>\n</blockquote>\n<p>In the CORS-deactivated browser, I get the following headers back:</p>\n<pre><code>Vary: Origin \nVary: Access-Control-Request-Method \nVary: Access-Control-Request-Headers\n</code></pre>\n<p>What follows is my <code>SecurityConfig</code> file as well as the <code>CorsConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class\nCorsConfig {\n\n    private static final Logger logger = LoggerFactory.getLogger(CorsConfig.class);\n\n    /**\n     * Cors configuration\n     */\n    @Bean(name=&quot;corsConfigurationSource&quot;)\n    CorsConfigurationSource corsConfigurationSource() {\n\n        logger.info(&quot;Creating corsConfigurationSource bean&quot;);\n\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(\n                &quot;http://localhost:5173&quot;,\n                &quot;http://192.168.2.144:5173&quot;\n        ));\n\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedHeaders(List.of(\n                &quot;Authorization&quot;,\n                &quot;Content-Type&quot;,\n                &quot;Accept&quot;,\n                &quot;Origin&quot;,\n                &quot;X-Requested-With&quot;\n        ));\n        configuration.setExposedHeaders(List.of(\n                &quot;Cache-Control&quot;,\n                &quot;Content-Language&quot;,\n                &quot;Content-Type&quot;,\n                &quot;Expires&quot;,\n                &quot;Last-Modified&quot;,\n                &quot;Pragma&quot;\n        ));\n        configuration.setMaxAge(3600L);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    // claim names used in the bearer token\n    private static final String ROLES_CLAIM = &quot;user-authorities&quot;;\n    private static final String SCOPES_CLAIM = &quot;scope&quot;;\n\n    private static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\n\n\n    @Bean\n    @Order(1)\n    public CorsFilter corsFilter(CorsConfigurationSource corsConfigurationSource) {\n        logger.info(&quot;Creating corsFilter bean&quot;);\n        return new CorsFilter(corsConfigurationSource);\n    }\n\n\n    /**\n     * Configures the authorization server endpoints.\n     */\n    @Bean\n    @Order(2)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http, RegisteredClientRepository clientRepository) throws Exception {\n\n        logger.info(&quot;Creating authorizationServerSecurityFilterChain bean&quot;);\n\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .registeredClientRepository(clientRepository) // autowired from ClientConfig.java\n                .oidc(Customizer.withDefaults());\n\n        http.exceptionHandling((exceptions) -&gt; exceptions\n            .defaultAuthenticationEntryPointFor(\n                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;),\n                new MediaTypeRequestMatcher(MediaType.TEXT_HTML)\n            )\n        );\n\n        http.oauth2ResourceServer((resourceServer) -&gt; resourceServer\n                .jwt(Customizer.withDefaults()));\n\n        http.csrf(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n\n\n    /**\n     * Secures pages used to log in, log out, register etc.\n     * Sets custom login menu.\n     */\n    @Bean\n    @Order(3)\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.securityMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/admin/**&quot;)));\n\n        logger.info(&quot;Creating defaultSecurityFilterChain bean&quot;);\n\n        http.authorizeHttpRequests((authorize) -&gt;\n                authorize\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/register&quot;)).permitAll()\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/recover/**&quot;)).permitAll()\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/error/**&quot;)).permitAll()\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/css/**&quot;)).permitAll()\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/js/**&quot;)).permitAll()\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/favicon.ico&quot;)).permitAll()\n                        .anyRequest().authenticated());\n\n        http.oauth2ResourceServer((resourceServer) -&gt; resourceServer\n                .jwt(Customizer.withDefaults()));\n\n        // set custom login form\n        http.formLogin(form -&gt; {\n            form.loginPage(&quot;/login&quot;);\n            form.permitAll();\n        });\n\n        http.logout(conf -&gt; {\n            // default logout url\n            conf.logoutSuccessHandler(logoutSuccessHandler());\n        });\n\n        // Temp disable CSRF\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.cors(AbstractHttpConfigurer::disable);\n\n        return http.build();\n    }\n\n\n    /**\n     * Secures admin endpoints with a bearer token. Does not use session authentication.\n     */\n    @Bean\n    @Order(4)\n    public SecurityFilterChain adminResourceFilterChain(HttpSecurity http) throws Exception {\n\n        logger.info(&quot;Creating adminResourceFilterChain bean&quot;);\n\n        // handle out custom endpoints in this filter chain\n        http.authorizeHttpRequests((authorize) -&gt;\n                authorize\n                        .requestMatchers(new AntPathRequestMatcher(&quot;/admin/**&quot;)).hasRole(&quot;ADMIN&quot;)\n                        .anyRequest().authenticated());\n\n        http.sessionManagement(conf -&gt; conf.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        http.oauth2ResourceServer((resourceServer) -&gt; resourceServer\n                .jwt(Customizer.withDefaults()));\n\n        // Temp disable CSRF\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.cors(AbstractHttpConfigurer::disable);\n\n\n        return http.build();\n    }\n\n// ...\n</code></pre>\n<p>I tried lots of different approaches:</p>\n<ul>\n<li>Changed the filter chains (e.g. instead of <code>Order(1)</code> I included the CORS config at the top of each Security Bean)</li>\n<li>Went ahead and implemented the <a href=\"https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html\" rel=\"nofollow noreferrer\">CORS Tutorial</a> one by one.</li>\n<li>Tried to set the request headers manually <em>(which isn't a solution in the long-term)</em>.</li>\n<li>Tried pattern matching to allow every incoming request temporarily (didn't work, so it's apparently an issue with the CORS Config in itself)</li>\n</ul>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1697795248,"post_id":77329541,"comment_id":136327458,"body_markdown":"Does this answer your question? [How to skip the rollback for DataIntegrityViolationException](https://stackoverflow.com/questions/70203663/how-to-skip-the-rollback-for-dataintegrityviolationexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70203663/how-to-skip-the-rollback-for-dataintegrityviolationexception\">How to skip the rollback for DataIntegrityViolationException</a>"},{"owner":{"account_id":27112570,"reputation":3,"user_id":20657479,"display_name":"Akash Jain"},"score":0,"creation_date":1697795922,"post_id":77329541,"comment_id":136327595,"body_markdown":"but there is not exception as well, if there was any it would be fine","body":"but there is not exception as well, if there was any it would be fine"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1697796187,"post_id":77329541,"comment_id":136327641,"body_markdown":"Do you mean to say neither of the two `catch` block is entered when you run the code? Have you setup a breakpoint in each of them?","body":"Do you mean to say neither of the two <code>catch</code> block is entered when you run the code? Have you setup a breakpoint in each of them?"},{"owner":{"account_id":27112570,"reputation":3,"user_id":20657479,"display_name":"Akash Jain"},"score":0,"creation_date":1697796387,"post_id":77329541,"comment_id":136327672,"body_markdown":"yes, it&#39;s coming to neither and yes i have set up debug point on both of them","body":"yes, it&#39;s coming to neither and yes i have set up debug point on both of them"}],"owner":{"account_id":27112570,"reputation":3,"user_id":20657479,"display_name":"Akash Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697796116,"creation_date":1697791736,"question_id":77329541,"body_markdown":"I&#39;m trying to save some data in a database. I have a native query for my save function and, when I execute it, there is no exception thrown but the data is not visible in the DB.\r\n\r\n```java\r\npublic interface DBConnection extends JpaRepository&lt;Enitty, Long&gt; {\r\n\r\n    String query = &quot;INSERT INTO My_table (MESSAGE_CODE, MESSAGE, LANGUAGE, ID) VALUES(?1,?2,?3,?4)&quot;;\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(value = query, nativeQuery = true)\r\n    void save(String a, String r, String t, String s);\r\n\r\n}\r\n\r\n```\r\n\r\nBased on other SO question, the data was probably not flushing or not getting committed, but I have called `flush()` function and if I understand Spring-JPA correctly then `@Transactional` should commit once the transaction is completed, but both of them are failing, (I have used both `Transactional` javax and spring.)\r\n\r\nAlso note there is not exception being thrown at all, and no logs to help what issues it&#39;s facing during persistance\r\n\r\n```java\r\n    @Transactional\r\n    private void saveToDB(List&lt;List&lt;String&gt;&gt; records) {\r\n        int count = 0;\r\n        for (List&lt;String&gt; record : records) {\r\n            try {\r\n                dbConnection.save(record.get(0), record.get(1), record.get(2), record.get(3));\r\n                dbConnection.flush();\r\n            } catch (DataIntegrityViolationException e) {\r\n                count++;\r\n                System.out.println(&quot;element probably exists &quot; + record);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error record is &quot; + record);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(count);\r\n    }\r\n```","title":"Data not getting saved in DB even after flush and @Transactional","body":"<p>I'm trying to save some data in a database. I have a native query for my save function and, when I execute it, there is no exception thrown but the data is not visible in the DB.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DBConnection extends JpaRepository&lt;Enitty, Long&gt; {\n\n    String query = &quot;INSERT INTO My_table (MESSAGE_CODE, MESSAGE, LANGUAGE, ID) VALUES(?1,?2,?3,?4)&quot;;\n\n    @Modifying\n    @Transactional\n    @Query(value = query, nativeQuery = true)\n    void save(String a, String r, String t, String s);\n\n}\n\n</code></pre>\n<p>Based on other SO question, the data was probably not flushing or not getting committed, but I have called <code>flush()</code> function and if I understand Spring-JPA correctly then <code>@Transactional</code> should commit once the transaction is completed, but both of them are failing, (I have used both <code>Transactional</code> javax and spring.)</p>\n<p>Also note there is not exception being thrown at all, and no logs to help what issues it's facing during persistance</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    private void saveToDB(List&lt;List&lt;String&gt;&gt; records) {\n        int count = 0;\n        for (List&lt;String&gt; record : records) {\n            try {\n                dbConnection.save(record.get(0), record.get(1), record.get(2), record.get(3));\n                dbConnection.flush();\n            } catch (DataIntegrityViolationException e) {\n                count++;\n                System.out.println(&quot;element probably exists &quot; + record);\n            } catch (Exception e) {\n                System.out.println(&quot;Error record is &quot; + record);\n                e.printStackTrace();\n            }\n        }\n        System.out.println(count);\n    }\n</code></pre>\n"},{"tags":["java","embedded-jetty"],"answers":[{"tags":[],"owner":{"account_id":4295729,"reputation":972,"user_id":3510860,"display_name":"apflieger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697796021,"creation_date":1697796021,"answer_id":77330022,"question_id":77330021,"body_markdown":"The default timeout can be configured on the Connector\r\n\r\n    Server server = new Server();\r\n    ServerConnector connector = new ServerConnector(server);\r\n    connector.setIdleTimeout(Duration.ofMinutes(5).toMillis());\r\n    server.addConnector(connector);\r\n\r\nBe careful to not pass connection related arguments to `new Server()`, like port or InetSocketAddress, otherwise, the Server constructor creates a connector that won&#39;t have the IdleTimeout you want. Instead, pass the port or InetSocketAddress to the connector yourself.","title":"How to configure Idle Timeout (request timeout) on jetty embedded","body":"<p>The default timeout can be configured on the Connector</p>\n<pre><code>Server server = new Server();\nServerConnector connector = new ServerConnector(server);\nconnector.setIdleTimeout(Duration.ofMinutes(5).toMillis());\nserver.addConnector(connector);\n</code></pre>\n<p>Be careful to not pass connection related arguments to <code>new Server()</code>, like port or InetSocketAddress, otherwise, the Server constructor creates a connector that won't have the IdleTimeout you want. Instead, pass the port or InetSocketAddress to the connector yourself.</p>\n"}],"owner":{"account_id":4295729,"reputation":972,"user_id":3510860,"display_name":"apflieger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697796021,"creation_date":1697796021,"question_id":77330021,"body_markdown":"Request fail with this exception\r\n\r\n    java.util.concurrent.TimeoutException: Idle timeout expired: 30002/30000 ms\r\n        at org.eclipse.jetty.io.IdleTimeout.checkIdleTimeout(IdleTimeout.java:167)\r\n    \tat org.eclipse.jetty.io.IdleTimeout.idleCheck(IdleTimeout.java:113)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\nHow to configure this default 30 seconds timeout?","title":"How to configure Idle Timeout (request timeout) on jetty embedded","body":"<p>Request fail with this exception</p>\n<pre><code>java.util.concurrent.TimeoutException: Idle timeout expired: 30002/30000 ms\n    at org.eclipse.jetty.io.IdleTimeout.checkIdleTimeout(IdleTimeout.java:167)\n    at org.eclipse.jetty.io.IdleTimeout.idleCheck(IdleTimeout.java:113)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>How to configure this default 30 seconds timeout?</p>\n"},{"tags":["java","selenium-webdriver","cucumber","bdd"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":1,"creation_date":1630263837,"post_id":68974753,"comment_id":121903403,"body_markdown":"I imagine the following leads to the solution, although I imagine it might be a little difficult for you to understand: https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m/41265267#41265267 .","body":"I imagine the following leads to the solution, although I imagine it might be a little difficult for you to understand: <a href=\"https://stackoverflow.com/questions/41265266/how-to-solve-inaccessibleobjectexception-unable-to-make-member-accessible-m/41265267#41265267\" title=\"how to solve inaccessibleobjectexception unable to make member accessible m\">stackoverflow.com/questions/41265266/&hellip;</a> ."}],"answers":[{"comments":[{"owner":{"account_id":1597231,"reputation":837,"user_id":1479019,"accept_rate":28,"display_name":"chucknor"},"score":0,"creation_date":1643120470,"post_id":68976568,"comment_id":125251439,"body_markdown":"Hi, I am getting the same error. How do you know that this is the cause? What part of that error message tells you that this is the case?  I am trying to create a selenium cucumber project in Eclipse and my java version is 17./  How would I know what versions of cucumber, junit etc to use? Thanks.","body":"Hi, I am getting the same error. How do you know that this is the cause? What part of that error message tells you that this is the case?  I am trying to create a selenium cucumber project in Eclipse and my java version is 17./  How would I know what versions of cucumber, junit etc to use? Thanks."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1643125956,"post_id":68976568,"comment_id":125254017,"body_markdown":"Bit hard to explain if you haven&#39;t followed the Java lifecycle closely. The tutorial I linked in the answer uses a recent version that works with Java 17.","body":"Bit hard to explain if you haven&#39;t followed the Java lifecycle closely. The tutorial I linked in the answer uses a recent version that works with Java 17."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1630268146,"creation_date":1630268146,"answer_id":68976568,"question_id":68974753,"body_markdown":"Your version of Cucumber is not compatible with your version of Java. Either upgrade Cucumber or downgrade Java.\r\n\r\n Because of the Scenario you are testing I am guessing you are following an old tutorial. This one is up to date:\r\n\r\nhttps://cucumber.io/docs/guides/10-minute-tutorial/","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>Your version of Cucumber is not compatible with your version of Java. Either upgrade Cucumber or downgrade Java.</p>\n<p>Because of the Scenario you are testing I am guessing you are following an old tutorial. This one is up to date:</p>\n<p><a href=\"https://cucumber.io/docs/guides/10-minute-tutorial/\" rel=\"noreferrer\">https://cucumber.io/docs/guides/10-minute-tutorial/</a></p>\n"},{"tags":[],"owner":{"account_id":23102584,"reputation":11,"user_id":17211811,"display_name":"Suhas Awale"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634830447,"creation_date":1634824896,"answer_id":69663394,"question_id":68974753,"body_markdown":"I&#39;ve face the same issue but resolved the issue with following code.\r\n----------------------------------------\r\n******** Feature file **************\r\n    \r\n    Feature: Application login\r\n    Scenario: Login into Application\r\n    Given user click on login page\r\n    When user enter username password\r\n    Then user can see home page\r\n    \r\n----------------------------------------\r\n*********** StepDefination file************\r\n    \r\n    package StepDefinations;\r\n    import org.junit.runner.RunWith;\r\n    @RunWith(io.cucumber.junit.Cucumber.class)\r\n    public class StepDefination {\r\n    @io.cucumber.java.en.Given(&quot;^user click on login page$&quot;)\r\n    public void user_click_on_login_page() throws Throwable {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    System.out.println(&quot;test 1&quot;);\r\n    }\r\n    \r\n    \r\n    @io.cucumber.java.en.When(&quot;^user enter username password$&quot;)\r\n    public void user_enter_username_password() throws Throwable {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    System.out.println(&quot;test 2&quot;);\r\n    }\r\n    \r\n    \r\n    @io.cucumber.java.en.Then(&quot;^user can see home page$&quot;)\r\n    public void user_can_see_home_page() throws Throwable {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    System.out.println(&quot;test 3&quot;);\r\n    }}\r\n\r\n----------------------------------------\r\n    \r\n********* TestRunner file **************\r\n    \r\n    package cucumber.Options;\r\n    import org.junit.runner.RunWith;\r\n    @RunWith(io.cucumber.junit.Cucumber.class)\r\n    @io.cucumber.junit.CucumberOptions(features=&quot;src/test/java/features&quot;,` `glue={&quot;StepDefinations&quot;})\r\n    \r\n    public class TestRunner {}","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<h2>I've face the same issue but resolved the issue with following code.</h2>\n<p>******** Feature file **************</p>\n<pre><code>Feature: Application login\nScenario: Login into Application\nGiven user click on login page\nWhen user enter username password\nThen user can see home page\n</code></pre>\n<hr />\n<p>*********** StepDefination file************</p>\n<pre><code>package StepDefinations;\nimport org.junit.runner.RunWith;\n@RunWith(io.cucumber.junit.Cucumber.class)\npublic class StepDefination {\n@io.cucumber.java.en.Given(&quot;^user click on login page$&quot;)\npublic void user_click_on_login_page() throws Throwable {\n// Write code here that turns the phrase above into concrete actions\nSystem.out.println(&quot;test 1&quot;);\n}\n\n\n@io.cucumber.java.en.When(&quot;^user enter username password$&quot;)\npublic void user_enter_username_password() throws Throwable {\n// Write code here that turns the phrase above into concrete actions\nSystem.out.println(&quot;test 2&quot;);\n}\n\n\n@io.cucumber.java.en.Then(&quot;^user can see home page$&quot;)\npublic void user_can_see_home_page() throws Throwable {\n// Write code here that turns the phrase above into concrete actions\nSystem.out.println(&quot;test 3&quot;);\n}}\n</code></pre>\n<hr />\n<p>********* TestRunner file **************</p>\n<pre><code>package cucumber.Options;\nimport org.junit.runner.RunWith;\n@RunWith(io.cucumber.junit.Cucumber.class)\n@io.cucumber.junit.CucumberOptions(features=&quot;src/test/java/features&quot;,` `glue={&quot;StepDefinations&quot;})\n\npublic class TestRunner {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16376703,"reputation":1,"user_id":11828632,"display_name":"M&#252;ge Sasmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643133037,"creation_date":1643133037,"answer_id":70853368,"question_id":68974753,"body_markdown":"Change the maven dependencies. \r\nMy application uses the **info-cukes** for cucumber in pom.xml. \r\nI changed them with **io-cucumber**. it works for me.","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>Change the maven dependencies.\nMy application uses the <strong>info-cukes</strong> for cucumber in pom.xml.\nI changed them with <strong>io-cucumber</strong>. it works for me.</p>\n"},{"comments":[{"owner":{"account_id":1816815,"reputation":178,"user_id":1651744,"display_name":"siddmuk2005"},"score":0,"creation_date":1697814709,"post_id":72616180,"comment_id":136331171,"body_markdown":"This should be acceptable answer","body":"This should be acceptable answer"}],"tags":[],"owner":{"account_id":2222612,"reputation":922,"user_id":1961655,"accept_rate":36,"display_name":"Asaf Magen"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1674068398,"creation_date":1655206041,"answer_id":72616180,"question_id":68974753,"body_markdown":"I did not have an Cucumber feature installed so the problem in my setup was not related to it.\r\nwhat did help me is updating the maven plugin settings in my pom file as below.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.3.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.8.1&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>I did not have an Cucumber feature installed so the problem in my setup was not related to it.\nwhat did help me is updating the maven plugin settings in my pom file as below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7767201,"reputation":165,"user_id":5878038,"display_name":"Dheeraj Konatham"},"score":0,"creation_date":1678828307,"post_id":75631830,"comment_id":133608734,"body_markdown":"Luciano Brum you mean you just uninstalled java 17 and re installed with Java 8 ?","body":"Luciano Brum you mean you just uninstalled java 17 and re installed with Java 8 ?"},{"owner":{"account_id":7427874,"reputation":374,"user_id":5649810,"display_name":"lubrum"},"score":0,"creation_date":1678839936,"post_id":75631830,"comment_id":133610682,"body_markdown":"You can do that but it is not necessary. Using your favorite IDE you can just change the JDK version used by your application. In my case, I forgot to change from java 17 to java 8, this happened because my default environment is set with java 17.","body":"You can do that but it is not necessary. Using your favorite IDE you can just change the JDK version used by your application. In my case, I forgot to change from java 17 to java 8, this happened because my default environment is set with java 17."}],"tags":[],"owner":{"account_id":7427874,"reputation":374,"user_id":5649810,"display_name":"lubrum"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1677877297,"creation_date":1677877241,"answer_id":75631830,"question_id":68974753,"body_markdown":"In my case, I forgot to change java version of my application. \r\n\r\nAfter changing java from version 17 to version 8 fixed the issue.","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>In my case, I forgot to change java version of my application.</p>\n<p>After changing java from version 17 to version 8 fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680695712,"creation_date":1680695712,"answer_id":75939117,"question_id":68974753,"body_markdown":"For me, it worked when I changed JRE System library to JDK JRE instead of default JRE.&lt;br/&gt; ```Right click project-&gt; go to Build Path -&gt; Configure Build Path and ADD Library-&gt; Select path to JDK folder and set it as default.``` ","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>For me, it worked when I changed JRE System library to JDK JRE instead of default JRE.<br/> <code>Right click project-&gt; go to Build Path -&gt; Configure Build Path and ADD Library-&gt; Select path to JDK folder and set it as default.</code></p>\n"},{"tags":[],"owner":{"account_id":28910497,"reputation":1,"user_id":22143610,"display_name":"Santu Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687937540,"creation_date":1687937540,"answer_id":76570962,"question_id":68974753,"body_markdown":"In my case my sts was pointing to jre instead of jdk. This was ressolved once I deleted jre from build path and pointed to jdk home directory.","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>In my case my sts was pointing to jre instead of jdk. This was ressolved once I deleted jre from build path and pointed to jdk home directory.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1693007877,"post_id":76940952,"comment_id":135707683,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76940952/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26233052,"reputation":39,"user_id":19908643,"display_name":"Enlem Enlem"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692558707,"creation_date":1692558663,"answer_id":76940952,"question_id":68974753,"body_markdown":"this fixed my issue:\r\nupdate maven-war-plugin to 3.2.3\r\n\r\nmvn org.apache.maven.plugins:maven-war-plugin:3.2.3\r\n","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>this fixed my issue:\nupdate maven-war-plugin to 3.2.3</p>\n<p>mvn org.apache.maven.plugins:maven-war-plugin:3.2.3</p>\n"},{"tags":[],"owner":{"account_id":29715211,"reputation":1,"user_id":22773883,"display_name":"Chandan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697795654,"creation_date":1697795654,"answer_id":77329970,"question_id":68974753,"body_markdown":"You can check the JDK is configure with Eclipse.\r\nCheck from Eclipse &gt;&gt; Window &gt;&gt; Preferences &gt;&gt; Search Jre &gt;&gt; Click on the Install JRE &gt;&gt; Check JDK showing or not. If not in showing then add JDK.","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>You can check the JDK is configure with Eclipse.\nCheck from Eclipse &gt;&gt; Window &gt;&gt; Preferences &gt;&gt; Search Jre &gt;&gt; Click on the Install JRE &gt;&gt; Check JDK showing or not. If not in showing then add JDK.</p>\n"}],"owner":{"account_id":22598991,"reputation":271,"user_id":16780853,"display_name":"Анна Мейшутович"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71619,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":9,"score":27,"last_activity_date":1697795654,"creation_date":1630253477,"question_id":68974753,"body_markdown":"I have created a Cucumber feature file and steps file, then I have clicked &quot;Run configurations&quot; for feature file and I see the following in the console. How can I solve this problem?\r\n\r\n    *Feature: Login into account\r\n      Existing user should be able to login to account using correct credentials\r\n      \r\n    Scenario: Login into account with correct credentials     # C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:4\r\n        \r\n    Given User navigates to stackoverflow website           # LoginSteps.user_navigates_to_stackoverflow_website()\r\n          java.lang.ExceptionInInitializerError\r\n          \tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n          \tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n          \tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n          \tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n          \tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n          \tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n          \tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n          \tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n          \tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n          \tat cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\r\n          \tat cucumber.runtime.Runtime.run(Runtime.java:122)\r\n          \tat cucumber.api.cli.Main.run(Main.java:36)\r\n          \tat cucumber.api.cli.Main.main(Main.java:18)\r\n          \tat ✽.Given User navigates to stackoverflow website(C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:5)\r\n         \r\n     Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5afa04c\r\n          \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n          \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n          \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\r\n          \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n          \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n          \tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n          \tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n          \tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n          \tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n          \tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n          \tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n          \tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n          \tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n          \tat cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\r\n          \tat cucumber.runtime.Runtime.run(Runtime.java:122)\r\n          \tat cucumber.api.cli.Main.run(Main.java:36)\r\n          \tat cucumber.api.cli.Main.main(Main.java:18)\r\n        \r\n    And User clicks on the login button on homepage         # LoginSteps.user_clicks_on_the_login_button_on_homepage()\r\n        \r\n    And User enters a valid username                        # LoginSteps.user_enters_a_valid_username()\r\n        \r\n    And User enters a valid password                        # LoginSteps.user_enters_a_valid_password()\r\n        \r\n    When User clicks on the login button                    # LoginSteps.user_clicks_on_the_login_button()\r\n        \r\n    Then User should be taken to the successfull login page # LoginSteps.user_should_be_taken_to_the_successfull_login_page()\r\n    \r\n    Failed scenarios:\r\n    C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:4 # Scenario: Login into account with correct credentials\r\n    1 Scenarios (1 failed)\r\n    6 Steps (1 failed, 5 skipped)\r\n    0m0,357s\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n    \tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n    \tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n    \tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n    \tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n    \tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n    \tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n    \tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n    \tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n    \tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n    \tat cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\r\n    \tat cucumber.runtime.Runtime.run(Runtime.java:122)\r\n    \tat cucumber.api.cli.Main.run(Main.java:36)\r\n    \tat cucumber.api.cli.Main.main(Main.java:18)\r\n    \tat ✽.Given User navigates to stackoverflow website(C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:5)\r\n    \r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5afa04c\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\r\n    \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n    \tat cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\r\n    \tat cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\r\n    \tat cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\r\n    \tat cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\r\n    \tat cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\r\n    \tat cucumber.runtime.Runtime.runStep(Runtime.java:300)\r\n    \tat cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\r\n    \tat cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\r\n    \tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n    \tat cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\r\n    \tat cucumber.runtime.Runtime.run(Runtime.java:122)\r\n    \tat cucumber.api.cli.Main.run(Main.java:36)\r\n    \tat cucumber.api.cli.Main.main(Main.java:18)*\r\n\r\n","title":"Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: java.base doesn&#39;t &quot;opens java.util&quot; to unnamed module","body":"<p>I have created a Cucumber feature file and steps file, then I have clicked &quot;Run configurations&quot; for feature file and I see the following in the console. How can I solve this problem?</p>\n<pre><code>*Feature: Login into account\n  Existing user should be able to login to account using correct credentials\n  \nScenario: Login into account with correct credentials     # C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:4\n    \nGiven User navigates to stackoverflow website           # LoginSteps.user_navigates_to_stackoverflow_website()\n      java.lang.ExceptionInInitializerError\n        at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n        at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n        at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n        at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n        at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n        at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n        at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n        at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n        at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n        at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n        at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n        at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\n        at cucumber.runtime.Runtime.run(Runtime.java:122)\n        at cucumber.api.cli.Main.run(Main.java:36)\n        at cucumber.api.cli.Main.main(Main.java:18)\n        at ✽.Given User navigates to stackoverflow website(C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:5)\n     \n Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5afa04c\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\n        at cucumber.deps.com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\n        at cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n        at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n        at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n        at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n        at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n        at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n        at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n        at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n        at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n        at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n        at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n        at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n        at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\n        at cucumber.runtime.Runtime.run(Runtime.java:122)\n        at cucumber.api.cli.Main.run(Main.java:36)\n        at cucumber.api.cli.Main.main(Main.java:18)\n    \nAnd User clicks on the login button on homepage         # LoginSteps.user_clicks_on_the_login_button_on_homepage()\n    \nAnd User enters a valid username                        # LoginSteps.user_enters_a_valid_username()\n    \nAnd User enters a valid password                        # LoginSteps.user_enters_a_valid_password()\n    \nWhen User clicks on the login button                    # LoginSteps.user_clicks_on_the_login_button()\n    \nThen User should be taken to the successfull login page # LoginSteps.user_should_be_taken_to_the_successfull_login_page()\n\nFailed scenarios:\nC:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:4 # Scenario: Login into account with correct credentials\n1 Scenarios (1 failed)\n6 Steps (1 failed, 5 skipped)\n0m0,357s\n\njava.lang.ExceptionInInitializerError\n    at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n    at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n    at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n    at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n    at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n    at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\n    at cucumber.runtime.Runtime.run(Runtime.java:122)\n    at cucumber.api.cli.Main.run(Main.java:36)\n    at cucumber.api.cli.Main.main(Main.java:18)\n    at ✽.Given User navigates to stackoverflow website(C:/Users/MI/Desktop/CucumberFramework/CucumberFramework/src/test/java/CucumberFramework/featureFiles/Login.feature:5)\n\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5afa04c\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\n    at cucumber.deps.com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\n    at cucumber.deps.com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.setupConverters(XStream.java:820)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n    at cucumber.deps.com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:530)\n    at cucumber.runtime.xstream.LocalizedXStreams$LocalizedXStream.&lt;init&gt;(LocalizedXStreams.java:50)\n    at cucumber.runtime.xstream.LocalizedXStreams.newXStream(LocalizedXStreams.java:37)\n    at cucumber.runtime.xstream.LocalizedXStreams.get(LocalizedXStreams.java:29)\n    at cucumber.runtime.StepDefinitionMatch.runStep(StepDefinitionMatch.java:37)\n    at cucumber.runtime.Runtime.runStep(Runtime.java:300)\n    at cucumber.runtime.model.StepContainer.runStep(StepContainer.java:44)\n    at cucumber.runtime.model.StepContainer.runSteps(StepContainer.java:39)\n    at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\n    at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\n    at cucumber.runtime.Runtime.run(Runtime.java:122)\n    at cucumber.api.cli.Main.run(Main.java:36)\n    at cucumber.api.cli.Main.main(Main.java:18)*\n</code></pre>\n"},{"tags":["java","sqlite","jdbc","resultset"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":3,"creation_date":1697759604,"post_id":77327563,"comment_id":136323586,"body_markdown":"use aliases if both have the same name","body":"use aliases if both have the same name"},{"owner":{"account_id":163324,"reputation":991,"user_id":385390,"accept_rate":91,"display_name":"bliako"},"score":0,"creation_date":1697759825,"post_id":77327563,"comment_id":136323600,"body_markdown":"oh you mean in the SQL? Ok that&#39;s a solution.","body":"oh you mean in the SQL? Ok that&#39;s a solution."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697795894,"post_id":77327563,"comment_id":136327586,"body_markdown":"Or retrieve by index instead of by name. The JDBC API explicitly [documents this](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSet.html).","body":"Or retrieve by index instead of by name. The JDBC API explicitly <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">documents this</a>."}],"owner":{"account_id":163324,"reputation":991,"user_id":385390,"accept_rate":91,"display_name":"bliako"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697795632,"answer_count":0,"score":0,"last_activity_date":1697795653,"creation_date":1697758590,"question_id":77327563,"body_markdown":"Using JDBC and SQLite, the ResultSet obtained from a SELECT with an INNER JOIN may contain duplicate column-names, e.g.\r\n```\r\nSELECT A.id, B.id FROM A\r\nINNER JOIN B ON (A.id=B.ref)\r\n```\r\n\r\nHow can I get the ```A.id``` and ```B.id```?\r\n\r\np.s. I can see that ```ResultSetMetaData meta = rs.getMetaData()``` does contain the table name for each column, referenced by column number. But I can&#39;t see how to tell ```rs.getString(...)``` to give me ```A.id``` etc. ","title":"How to access a column by name from ResultSet of an INNER JOIN - duplicate column names?","body":"<p>Using JDBC and SQLite, the ResultSet obtained from a SELECT with an INNER JOIN may contain duplicate column-names, e.g.</p>\n<pre><code>SELECT A.id, B.id FROM A\nINNER JOIN B ON (A.id=B.ref)\n</code></pre>\n<p>How can I get the <code>A.id</code> and <code>B.id</code>?</p>\n<p>p.s. I can see that <code>ResultSetMetaData meta = rs.getMetaData()</code> does contain the table name for each column, referenced by column number. But I can't see how to tell <code>rs.getString(...)</code> to give me <code>A.id</code> etc.</p>\n"},{"tags":["java","jaxb","jakarta-migration"],"comments":[{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1700554188,"post_id":77329894,"comment_id":136665718,"body_markdown":"I&#39;d like to help you solve your problem but could you precise your change from `javax.xml.bind` to `jakarta.xml.bind` ? You mean you changed your dependencies from `javax` to `jakarta` for jaxb ? What import is used in your `Car` class for `@XmlRootElement` ? Thanks","body":"I&#39;d like to help you solve your problem but could you precise your change from <code>javax.xml.bind</code> to <code>jakarta.xml.bind</code> ? You mean you changed your dependencies from <code>javax</code> to <code>jakarta</code> for jaxb ? What import is used in your <code>Car</code> class for <code>@XmlRootElement</code> ? Thanks"},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1701712303,"post_id":77329894,"comment_id":136807232,"body_markdown":"I have the same issue and we are using jakarta now everywhere _(I checked \neverywhere I could imagine it might be relevant)_","body":"I have the same issue and we are using jakarta now everywhere <i>(I checked  everywhere I could imagine it might be relevant)</i>"}],"owner":{"account_id":12135541,"reputation":35,"user_id":8861123,"display_name":"ritu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697795647,"creation_date":1697794967,"question_id":77329894,"body_markdown":"After changing javax.xml.bind to jakarta.xml.bind getting missing an @XmlRootElement annotation issue. Annotation  **@XmlRootElement** is already present in the Car class. can you please help me on this.\r\n\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    jakarta.xml.bind.MarshalException with linked exception: [com.sun.istack.SAXException2: unable to marshal type &quot;com.test.v2.Car&quot; as an element because it is missing an @XmlRootElement annotation]\r\n\r\n&lt;!-- end snippet --&gt;\r\nUsing code for Marshalling:\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n            JAXBContext jaxbContext = JAXBContext.newInstance(Car.class);\r\n            Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\n            jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            jaxbMarshaller.marshal(car, byteArrayOutputStream);\r\n            byteArrayOutputStream.close();\r\n            String payloadString = String.valueOf(byteArrayOutputStream);            \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n        name = &quot;&quot;,\r\n        propOrder = {\r\n            &quot;a&quot;,\r\n            &quot;b&quot;,\r\n            &quot;c&quot;\r\n        }\r\n    )\r\n    @XmlRootElement(\r\n        name = &quot;Car&quot;\r\n    )\r\n    public class Car {\r\n        String a;\r\n\r\n        String b;\r\n\r\n        String c;\r\n        public String getA() {\r\n            return this.A;\r\n        }\r\n\r\n        public String getB() {\r\n            return this.B;\r\n        }\r\n        public String getC() {\r\n            return this.C;\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Changing javax.xml.bind to jakarta.xml.bind getting missing an @XmlRootElement annotation issue","body":"<p>After changing javax.xml.bind to jakarta.xml.bind getting missing an @XmlRootElement annotation issue. Annotation  <strong>@XmlRootElement</strong> is already present in the Car class. can you please help me on this.</p>\n<pre class=\"lang-css prettyprint-override\"><code>jakarta.xml.bind.MarshalException with linked exception: [com.sun.istack.SAXException2: unable to marshal type &quot;com.test.v2.Car&quot; as an element because it is missing an @XmlRootElement annotation]\n</code></pre>\n\n<p>Using code for Marshalling:</p>\n<pre class=\"lang-js prettyprint-override\"><code>        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        JAXBContext jaxbContext = JAXBContext.newInstance(Car.class);\n        Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\n        jaxbMarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        jaxbMarshaller.marshal(car, byteArrayOutputStream);\n        byteArrayOutputStream.close();\n        String payloadString = String.valueOf(byteArrayOutputStream);            \n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;&quot;,\n    propOrder = {\n        &quot;a&quot;,\n        &quot;b&quot;,\n        &quot;c&quot;\n    }\n)\n@XmlRootElement(\n    name = &quot;Car&quot;\n)\npublic class Car {\n    String a;\n\n    String b;\n\n    String c;\n    public String getA() {\n        return this.A;\n    }\n\n    public String getB() {\n        return this.B;\n    }\n    public String getC() {\n        return this.C;\n    }\n}\n</code></pre>\n\n"},{"tags":["java","ssl","java.security"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697801101,"post_id":77329876,"comment_id":136328549,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example). Which Jersey version are you using?","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Which Jersey version are you using?"}],"owner":{"account_id":27355785,"reputation":11,"user_id":20864199,"display_name":"Marcin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697795073,"creation_date":1697794879,"question_id":77329876,"body_markdown":"I have a Java client that connects to an HTTPS server. That server can use any of TLS1_1 TLS1_2 TLS1_3.\r\n\r\nWith default java.security settings:\r\n```\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n```\r\nMy client fails miserably with:\r\n\r\n```\r\n javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites\r\n are inappropriate)\r\n```\r\nWhich I understand as _&quot;I don&#39;t have implementation for anything that is allowed&quot;_.\r\n\r\nWhen I comment out jdk.tls.disabledAlgorithms:\r\n\r\n```\r\n#jdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n```\r\n\r\nMy client fails less miserably, but fails anyway due to the server not willing to talk over TLS1:\r\n\r\n```none\r\nProduced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1&quot;,\r\n\r\n...\r\n\r\nReceived alert message (\r\n&quot;Alert&quot;: {\r\n  &quot;level&quot;      : &quot;fatal&quot;,\r\n  &quot;description&quot;: &quot;protocol_version&quot;\r\n}\r\n\r\n..\r\n\r\nFatal (PROTOCOL_VERSION): Received\r\nfatal alert: protocol_version (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\r\n```\r\n\r\nI am using OpenJDK 17 on Red Hat Enterprise Server 8.7. My Java client uses Jersey REST client.\r\n\r\nWhy does my Java client not want to start handshake with higher TLS versions?","title":"Java SSL connection fails after disabling TLS1","body":"<p>I have a Java client that connects to an HTTPS server. That server can use any of TLS1_1 TLS1_2 TLS1_3.</p>\n<p>With default java.security settings:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n</code></pre>\n<p>My client fails miserably with:</p>\n<pre><code> javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites\n are inappropriate)\n</code></pre>\n<p>Which I understand as <em>&quot;I don't have implementation for anything that is allowed&quot;</em>.</p>\n<p>When I comment out jdk.tls.disabledAlgorithms:</p>\n<pre><code>#jdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n</code></pre>\n<p>My client fails less miserably, but fails anyway due to the server not willing to talk over TLS1:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1&quot;,\n\n...\n\nReceived alert message (\n&quot;Alert&quot;: {\n  &quot;level&quot;      : &quot;fatal&quot;,\n  &quot;description&quot;: &quot;protocol_version&quot;\n}\n\n..\n\nFatal (PROTOCOL_VERSION): Received\nfatal alert: protocol_version (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: protocol_version\n</code></pre>\n<p>I am using OpenJDK 17 on Red Hat Enterprise Server 8.7. My Java client uses Jersey REST client.</p>\n<p>Why does my Java client not want to start handshake with higher TLS versions?</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1563523494,"post_id":57107489,"comment_id":100735952,"body_markdown":"Storing your data as a binary blob and not a base-64 encoded string will save space. But iirc there&#39;s a fairly small upper limit on Android&#39;s version of sqlite for how big a blob or string can be.","body":"Storing your data as a binary blob and not a base-64 encoded string will save space. But iirc there&#39;s a fairly small upper limit on Android&#39;s version of sqlite for how big a blob or string can be."}],"answers":[{"tags":[],"owner":{"account_id":2568972,"reputation":1742,"user_id":2228226,"display_name":"Hardik Bambhania"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1563521507,"creation_date":1563521507,"answer_id":57107608,"question_id":57107489,"body_markdown":"Store image in device under your application private storage.And store that image path in database. ","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>Store image in device under your application private storage.And store that image path in database. </p>\n"},{"comments":[{"owner":{"account_id":10867051,"reputation":1119,"user_id":7990095,"accept_rate":50,"display_name":"ndreisg"},"score":0,"creation_date":1697722538,"post_id":57109330,"comment_id":136317613,"body_markdown":"I tried increasing page size and cache size of my database but this doesn&#39;t seem to have any effect on the size of the CursorWindow. However [one of CursorWindow&#39;s constructors](https://developer.android.com/reference/android/database/CursorWindow#CursorWindow(java.lang.String,%20long)) has a parameter for the window size.\nMaybe one could use this to create an implementation of CursorFactory returning an extension of SQLiteCursor with a bigger window size...","body":"I tried increasing page size and cache size of my database but this doesn&#39;t seem to have any effect on the size of the CursorWindow. However <a href=\"https://developer.android.com/reference/android/database/CursorWindow#CursorWindow(java.lang.String,%20long)\" rel=\"nofollow noreferrer\">one of CursorWindow&#39;s constructors</a> has a parameter for the window size. Maybe one could use this to create an implementation of CursorFactory returning an extension of SQLiteCursor with a bigger window size..."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640094301,"creation_date":1563527937,"answer_id":57109330,"question_id":57107489,"body_markdown":"&gt; What I was thinking of doing is to store the image in the device\r\n&gt; itself and just store the path in the DB.\r\n\r\nNot going to answer, as you are the best to answer that question.\r\n\r\n&gt; Is there some compression we can do to the image to reduce its file\r\n&gt; size?\r\n\r\nPossibly but that isn&#39;t necessarily going to eliminate the problem. As even if you compressed the images to say 2Mb (half the **4Mb** limit of a Cursor Window ) then the likeliehood is that only 1 row would fit into a cursor window at a time. The result would likely be very poor performance and the bottlehead isn&#39;t really SQLite but handling the Cursor.\r\n\r\n- **not recommended**\r\n\r\nAnother solution, but still costly, would be to store the image in parts/chunks, an example of doing so (noting that no tuning was undertaken to establish the 256kb chunk size) can be found [here](https://stackoverflow.com/questions/55321154/how-to-use-images-in-android-sqlite-that-are-larger-than-the-limitations-of-a-cu/55321155#55321155). **Noting that the response time, is considered very poor**.\r\n\r\n- **not recommended** but if poor performance is not an issue then could be a solution\r\n\r\nThe solution that doesn&#39;t require the overheads of additional compression/decompsression is to store images or images over a set size in the file system (e.g. external storage) and store the path or a part of the path.  \r\n\r\n- The latter option, storing small images in the database and larger images as files, could take advantage of [35% Faster Than The Filesystem](https://www.sqlite.org/fasterthanfs.html)).\r\n\r\n- **an example of a mixed path/blob solution in in the [answer here](https://stackoverflow.com/questions/51633055/guide-to-use-a-large-sqlite-propulated-database/51633408#51633408).**\r\n  - **Note** this example could be used as the basis for both just storing paths or for a mixed solution.\r\n\r\n- **recommended**\r\n\r\n\r\n&gt; Is it possible to tune some db setting to ensure that it can handle\r\n&gt; larger image sizes?\r\n\r\nYes. \r\n\r\nYou could consider:-\r\n\r\n- optimising your queries. See, as a start, [EXPLAIN QUERY PLAN](https://www.sqlite.org/eqp.html) and [The SQLite Query Optimizer Overview](https://www.sqlite.org/optoverview.html)\r\n- increasing the page size (noting the limitations as when), \r\n- increasing the [cache size](https://www.sqlite.org/pragma.html#pragma_cache_size), \r\n- risk turning [synchronous](https://www.sqlite.org/pragma.html#pragma_synchronous) to off and \r\n- risk using [exclusive locking](https://www.sqlite.org/pragma.html#pragma_locking_mode).\r\n- compiling your own tuned version of SQLite applying [compile time options](https://www.sqlite.org/compile.html) to suit.\r\n- further reading the above links as there may be additional applicable tuning settings.\r\n","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<blockquote>\n<p>What I was thinking of doing is to store the image in the device\nitself and just store the path in the DB.</p>\n</blockquote>\n<p>Not going to answer, as you are the best to answer that question.</p>\n<blockquote>\n<p>Is there some compression we can do to the image to reduce its file\nsize?</p>\n</blockquote>\n<p>Possibly but that isn't necessarily going to eliminate the problem. As even if you compressed the images to say 2Mb (half the <strong>4Mb</strong> limit of a Cursor Window ) then the likeliehood is that only 1 row would fit into a cursor window at a time. The result would likely be very poor performance and the bottlehead isn't really SQLite but handling the Cursor.</p>\n<ul>\n<li><strong>not recommended</strong></li>\n</ul>\n<p>Another solution, but still costly, would be to store the image in parts/chunks, an example of doing so (noting that no tuning was undertaken to establish the 256kb chunk size) can be found <a href=\"https://stackoverflow.com/questions/55321154/how-to-use-images-in-android-sqlite-that-are-larger-than-the-limitations-of-a-cu/55321155#55321155\">here</a>. <strong>Noting that the response time, is considered very poor</strong>.</p>\n<ul>\n<li><strong>not recommended</strong> but if poor performance is not an issue then could be a solution</li>\n</ul>\n<p>The solution that doesn't require the overheads of additional compression/decompsression is to store images or images over a set size in the file system (e.g. external storage) and store the path or a part of the path.</p>\n<ul>\n<li><p>The latter option, storing small images in the database and larger images as files, could take advantage of <a href=\"https://www.sqlite.org/fasterthanfs.html\" rel=\"nofollow noreferrer\">35% Faster Than The Filesystem</a>).</p>\n</li>\n<li><p><strong>an example of a mixed path/blob solution in in the <a href=\"https://stackoverflow.com/questions/51633055/guide-to-use-a-large-sqlite-propulated-database/51633408#51633408\">answer here</a>.</strong></p>\n<ul>\n<li><strong>Note</strong> this example could be used as the basis for both just storing paths or for a mixed solution.</li>\n</ul>\n</li>\n<li><p><strong>recommended</strong></p>\n</li>\n</ul>\n<blockquote>\n<p>Is it possible to tune some db setting to ensure that it can handle\nlarger image sizes?</p>\n</blockquote>\n<p>Yes.</p>\n<p>You could consider:-</p>\n<ul>\n<li>optimising your queries. See, as a start, <a href=\"https://www.sqlite.org/eqp.html\" rel=\"nofollow noreferrer\">EXPLAIN QUERY PLAN</a> and <a href=\"https://www.sqlite.org/optoverview.html\" rel=\"nofollow noreferrer\">The SQLite Query Optimizer Overview</a></li>\n<li>increasing the page size (noting the limitations as when),</li>\n<li>increasing the <a href=\"https://www.sqlite.org/pragma.html#pragma_cache_size\" rel=\"nofollow noreferrer\">cache size</a>,</li>\n<li>risk turning <a href=\"https://www.sqlite.org/pragma.html#pragma_synchronous\" rel=\"nofollow noreferrer\">synchronous</a> to off and</li>\n<li>risk using <a href=\"https://www.sqlite.org/pragma.html#pragma_locking_mode\" rel=\"nofollow noreferrer\">exclusive locking</a>.</li>\n<li>compiling your own tuned version of SQLite applying <a href=\"https://www.sqlite.org/compile.html\" rel=\"nofollow noreferrer\">compile time options</a> to suit.</li>\n<li>further reading the above links as there may be additional applicable tuning settings.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565780372,"creation_date":1565780372,"answer_id":57493390,"question_id":57107489,"body_markdown":"Yes - this is a genuine issue. But I implemented a fix for this. We basically biometric images in our document. what I do now: store the individual biometric entities (Ex: fingerprint) in separate documents. Have a master document that has the ID of this doc.\r\n\r\nEx: we capture thumb and index finger for a person. We store 2 docs to store them - lets call them thumb.json and index.json. These have doc ID as thumb_100 and index_100 respectively. Now, we have a master biometric doc that looks something like:\r\n\r\n&quot;thumb&quot;: &quot;thumb_100&quot;\r\n&quot;index&quot;: &quot;index_100&quot;\r\n\r\nThis helps us get the thumb and index finger print from the master document. More importantly, it ensures that an individual row size does not exceed the limit or cause an exception as seen earlier.","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>Yes - this is a genuine issue. But I implemented a fix for this. We basically biometric images in our document. what I do now: store the individual biometric entities (Ex: fingerprint) in separate documents. Have a master document that has the ID of this doc.</p>\n\n<p>Ex: we capture thumb and index finger for a person. We store 2 docs to store them - lets call them thumb.json and index.json. These have doc ID as thumb_100 and index_100 respectively. Now, we have a master biometric doc that looks something like:</p>\n\n<p>\"thumb\": \"thumb_100\"\n\"index\": \"index_100\"</p>\n\n<p>This helps us get the thumb and index finger print from the master document. More importantly, it ensures that an individual row size does not exceed the limit or cause an exception as seen earlier.</p>\n"},{"tags":[],"owner":{"account_id":15078265,"reputation":79,"user_id":10881655,"display_name":"Dropin&#39; Science"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576452100,"creation_date":1576452100,"answer_id":59348942,"question_id":57107489,"body_markdown":"I found how to use length() and substr() to request only 1MB (the max for CursorWindow is 2MB), maybe it will [help][1]. (in case users have this issue and you need to avoid the exception) Also, you could use `context.getContentResolver().query()` with a selection that only includes the relevant columns, that way you won&#39;t load data related to the other columns (and save some space). Otherwise, I would recommend the first option you suggested, which is to store the file in internal storage and store the filepath in the database.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59348784/sqliteblobtoobigexception-still-occurs-after-dividing-the-request-in-chunks-of-1","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>I found how to use length() and substr() to request only 1MB (the max for CursorWindow is 2MB), maybe it will <a href=\"https://stackoverflow.com/questions/59348784/sqliteblobtoobigexception-still-occurs-after-dividing-the-request-in-chunks-of-1\">help</a>. (in case users have this issue and you need to avoid the exception) Also, you could use <code>context.getContentResolver().query()</code> with a selection that only includes the relevant columns, that way you won't load data related to the other columns (and save some space). Otherwise, I would recommend the first option you suggested, which is to store the file in internal storage and store the filepath in the database.</p>\n"},{"comments":[{"owner":{"account_id":7415126,"reputation":123,"user_id":5641228,"accept_rate":100,"display_name":"Warle"},"score":0,"creation_date":1592383705,"post_id":60266601,"comment_id":110403027,"body_markdown":"Well, this won&#39;t work, because `Bitmap.CompressFormat.PNG` is ignoring `quality` - [link](https://developer.android.com/reference/android/graphics/Bitmap.CompressFormat#PNG)","body":"Well, this won&#39;t work, because <code>Bitmap.CompressFormat.PNG</code> is ignoring <code>quality</code> - <a href=\"https://developer.android.com/reference/android/graphics/Bitmap.CompressFormat#PNG\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":9815465,"reputation":709,"user_id":7272120,"display_name":"J.Dragon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581956686,"creation_date":1581956686,"answer_id":60266601,"question_id":57107489,"body_markdown":"If you want to save image as a byte array in SQLite or Room, you should **compress** the byte array.\r\n\r\nlike this\r\n\r\n    Bitmap bmp = intent.getExtras().get(&quot;data&quot;);\r\n    ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n    byte[] byteArray = stream.toByteArray();\r\n   ","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>If you want to save image as a byte array in SQLite or Room, you should <strong>compress</strong> the byte array.</p>\n\n<p>like this</p>\n\n<pre><code>Bitmap bmp = intent.getExtras().get(\"data\");\nByteArrayOutputStream stream = new ByteArrayOutputStream();\nbmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\nbyte[] byteArray = stream.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4548703,"reputation":91,"user_id":3694451,"display_name":"Leo Vitor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599612175,"creation_date":1599612175,"answer_id":63803272,"question_id":57107489,"body_markdown":"I resolved it as follows: When I search for images from my remote bank, I check their size and if they are larger than 500 kb, I do a resizing process.\r\n\r\n\r\n    produto.setImagem_img(imagemTratada(rs.getBytes(&quot;imagem_img&quot;)));\r\n\r\n\r\nThe method that does the magic:\r\n\r\n    private byte[] imagemTratada(byte[] imagem_img){\r\n\r\n        while (imagem_img.length &gt; 500000){\r\n            Bitmap bitmap = BitmapFactory.decodeByteArray(imagem_img, 0, imagem_img.length);\r\n            Bitmap resized = Bitmap.createScaledBitmap(bitmap, (int)(bitmap.getWidth()*0.8), (int)(bitmap.getHeight()*0.8), true);\r\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n            resized.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n            imagem_img = stream.toByteArray();\r\n        }\r\n        return imagem_img;\r\n\r\n    }","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>I resolved it as follows: When I search for images from my remote bank, I check their size and if they are larger than 500 kb, I do a resizing process.</p>\n<pre><code>produto.setImagem_img(imagemTratada(rs.getBytes(&quot;imagem_img&quot;)));\n</code></pre>\n<p>The method that does the magic:</p>\n<pre><code>private byte[] imagemTratada(byte[] imagem_img){\n\n    while (imagem_img.length &gt; 500000){\n        Bitmap bitmap = BitmapFactory.decodeByteArray(imagem_img, 0, imagem_img.length);\n        Bitmap resized = Bitmap.createScaledBitmap(bitmap, (int)(bitmap.getWidth()*0.8), (int)(bitmap.getHeight()*0.8), true);\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        resized.compress(Bitmap.CompressFormat.PNG, 100, stream);\n        imagem_img = stream.toByteArray();\n    }\n    return imagem_img;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10867051,"reputation":1119,"user_id":7990095,"accept_rate":50,"display_name":"ndreisg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697794496,"creation_date":1697794496,"answer_id":77329828,"question_id":57107489,"body_markdown":"I recently stumbled over the same issue and after quite some research I found this fix:\r\n\r\nAdd the following code to your MainApplication.onCreate\r\n\r\n    try {\r\n      Field field = CursorWindow.class.getDeclaredField(&quot;sCursorWindowSize&quot;);\r\n      field.setAccessible(true);\r\n      field.set(null, 100 * 1024 * 1024); // 100MB is the new size\r\n    } catch (Exception e) {\r\n      if (BuildConfig.DEBUG) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\nyou need the following imports:\r\n\r\n    import android.database.CursorWindow;\r\n    import java.lang.reflect.Field;\r\n\r\nCredits to [@bashen1][1] who posted this solution [in this github issue][2] \r\n\r\n\r\n  [1]: https://github.com/bashen1\r\n  [2]: https://github.com/andpor/react-native-sqlite-storage/issues/364#issuecomment-526423153","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>I recently stumbled over the same issue and after quite some research I found this fix:</p>\n<p>Add the following code to your MainApplication.onCreate</p>\n<pre><code>try {\n  Field field = CursorWindow.class.getDeclaredField(&quot;sCursorWindowSize&quot;);\n  field.setAccessible(true);\n  field.set(null, 100 * 1024 * 1024); // 100MB is the new size\n} catch (Exception e) {\n  if (BuildConfig.DEBUG) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p>you need the following imports:</p>\n<pre><code>import android.database.CursorWindow;\nimport java.lang.reflect.Field;\n</code></pre>\n<p>Credits to <a href=\"https://github.com/bashen1\" rel=\"nofollow noreferrer\">@bashen1</a> who posted this solution <a href=\"https://github.com/andpor/react-native-sqlite-storage/issues/364#issuecomment-526423153\" rel=\"nofollow noreferrer\">in this github issue</a></p>\n"}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19631,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1697794496,"creation_date":1563521065,"question_id":57107489,"body_markdown":"I see the above error when I try to add to sqllite DB on android.I am using cloudant library. Here&#39;s the stack trace:\r\n\r\n    2019-07-17 18:04:48.292 5522-5753/org.iprd.identity E/SQLiteQuery: exception: Row too big to fit into CursorWindow requiredPos=0, totalRows=1; query: SELECT docs.docid, docs.doc_id, revid, sequence, current, deleted, parent, json FROM revs, docs WHERE docs.docid=? AND revs.doc_id=docs.doc_id AND revid=? ORDER BY revs.sequence LIMIT 1\r\n    2019-07-17 18:04:48.302 5522-5522/org.iprd.identity E/DatabaseImpl: Failed to create document\r\n        java.util.concurrent.ExecutionException: android.database.sqlite.SQLiteBlobTooBigException: Row too big to fit into CursorWindow requiredPos=0, totalRows=1\r\n            at java.util.concurrent.FutureTask.report(FutureTask.java:123)\r\n            at java.util.concurrent.FutureTask.get(FutureTask.java:193)\r\n            at com.cloudant.sync.internal.documentstore.DatabaseImpl.get(DatabaseImpl.java:1084)\r\n            at com.cloudant.sync.internal.documentstore.DatabaseImpl.create(DatabaseImpl.java:925)\r\n\r\nI never got this issue previously, however, I recently made a change and started using a 3rd party tool to give me some images. With this new tool, the image sizes seem to be much bigger than before. I am storing these images in my db as a string by doing a Base64 encoding of the image. However, with this new tool, while storing the image, I get the above exception. \r\n\r\nI have a unit test which I tried using one of the generated strings from this image, but that also throws an error that the string size is too large and does not even compile.\r\n\r\nWhat is the best approach to solve this? - \r\n\r\n1. What I was thinking of doing is to store the image in the device itself and just store the path in the DB.\r\n\r\n2. Is there some compression we can do to the image to reduce its file size?\r\n\r\n3. Is it possible to tune some db setting to ensure that it can handle larger image sizes?\r\n\r\nThanks in advance!\r\n\r\n","title":"SQLiteBlobTooBigException: Row too big to fit into CursorWindow while writing to DB","body":"<p>I see the above error when I try to add to sqllite DB on android.I am using cloudant library. Here's the stack trace:</p>\n\n<pre><code>2019-07-17 18:04:48.292 5522-5753/org.iprd.identity E/SQLiteQuery: exception: Row too big to fit into CursorWindow requiredPos=0, totalRows=1; query: SELECT docs.docid, docs.doc_id, revid, sequence, current, deleted, parent, json FROM revs, docs WHERE docs.docid=? AND revs.doc_id=docs.doc_id AND revid=? ORDER BY revs.sequence LIMIT 1\n2019-07-17 18:04:48.302 5522-5522/org.iprd.identity E/DatabaseImpl: Failed to create document\n    java.util.concurrent.ExecutionException: android.database.sqlite.SQLiteBlobTooBigException: Row too big to fit into CursorWindow requiredPos=0, totalRows=1\n        at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:193)\n        at com.cloudant.sync.internal.documentstore.DatabaseImpl.get(DatabaseImpl.java:1084)\n        at com.cloudant.sync.internal.documentstore.DatabaseImpl.create(DatabaseImpl.java:925)\n</code></pre>\n\n<p>I never got this issue previously, however, I recently made a change and started using a 3rd party tool to give me some images. With this new tool, the image sizes seem to be much bigger than before. I am storing these images in my db as a string by doing a Base64 encoding of the image. However, with this new tool, while storing the image, I get the above exception. </p>\n\n<p>I have a unit test which I tried using one of the generated strings from this image, but that also throws an error that the string size is too large and does not even compile.</p>\n\n<p>What is the best approach to solve this? - </p>\n\n<ol>\n<li><p>What I was thinking of doing is to store the image in the device itself and just store the path in the DB.</p></li>\n<li><p>Is there some compression we can do to the image to reduce its file size?</p></li>\n<li><p>Is it possible to tune some db setting to ensure that it can handle larger image sizes?</p></li>\n</ol>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"comments":[{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1697901335,"post_id":77315338,"comment_id":136338970,"body_markdown":"This did not work for some reason","body":"This did not work for some reason"}],"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697623506,"creation_date":1697623506,"answer_id":77315338,"question_id":77312100,"body_markdown":"So what happened when you tried to save `permissionEntity` (without fetching its reference) is Hibernate generated several queries: \r\n\r\n 1. Select by id(`15991`) query to check wether insert or update -&gt; Existed!\r\n 2. Update all columns of `permissionEntity`\r\n 3. There is only 1 item in `Set&lt;Role&gt; roles` and this is a new object reference -&gt; Insert to relation table.\r\n\r\nTo solve this, let&#39;s update your service by fetching entity instead of mapping them from dto.\r\n```\r\nPermission permissionEntity = permissionRepository.findOne(permissionDto.getId());\r\n// Update properties by mapper\r\n\r\nSet&lt;Role&gt; roles = roleRepository.findByIdIn(permissionDto.getRoleIds());\r\npermissionEntity.getRoles().clear();\r\npermissionEntity.getRoles().addAll(roles);\r\npermissionRepository.save(permissionEntity)\r\n```\r\n\r\nYou can refer to this [doc](https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate).\r\n","title":"Refresh many to many relations on update in Hibernate","body":"<p>So what happened when you tried to save <code>permissionEntity</code> (without fetching its reference) is Hibernate generated several queries:</p>\n<ol>\n<li>Select by id(<code>15991</code>) query to check wether insert or update -&gt; Existed!</li>\n<li>Update all columns of <code>permissionEntity</code></li>\n<li>There is only 1 item in <code>Set&lt;Role&gt; roles</code> and this is a new object reference -&gt; Insert to relation table.</li>\n</ol>\n<p>To solve this, let's update your service by fetching entity instead of mapping them from dto.</p>\n<pre><code>Permission permissionEntity = permissionRepository.findOne(permissionDto.getId());\n// Update properties by mapper\n\nSet&lt;Role&gt; roles = roleRepository.findByIdIn(permissionDto.getRoleIds());\npermissionEntity.getRoles().clear();\npermissionEntity.getRoles().addAll(roles);\npermissionRepository.save(permissionEntity)\n</code></pre>\n<p>You can refer to this <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate\" rel=\"nofollow noreferrer\">doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":6742219,"reputation":3296,"user_id":5922757,"accept_rate":100,"display_name":"Jezor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697793880,"creation_date":1697793880,"answer_id":77329773,"question_id":77312100,"body_markdown":"Your relations are not symmetric. If you change:\r\n\r\n    @ManyToMany(cascade = {MERGE}, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = &quot;roles_permissions&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;permission_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;)}\r\n    )\r\n    @ToString.Exclude\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\nAnd:\r\n\r\n    @ManyToMany(cascade = {MERGE}, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = &quot;roles_permissions&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}\r\n    )\r\n    @ToString.Exclude\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n\r\nThen the update will propagade correctly.","title":"Refresh many to many relations on update in Hibernate","body":"<p>Your relations are not symmetric. If you change:</p>\n<pre><code>@ManyToMany(cascade = {MERGE}, fetch = FetchType.EAGER)\n@JoinTable(\n        name = &quot;roles_permissions&quot;,\n        joinColumns = {@JoinColumn(name = &quot;permission_id&quot;)},\n        inverseJoinColumns = {@JoinColumn(name = &quot;role_id&quot;)}\n)\n@ToString.Exclude\nprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n<p>And:</p>\n<pre><code>@ManyToMany(cascade = {MERGE}, fetch = FetchType.EAGER)\n@JoinTable(\n        name = &quot;roles_permissions&quot;,\n        joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\n        inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}\n)\n@ToString.Exclude\nprivate Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n</code></pre>\n<p>Then the update will propagade correctly.</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77329773,"answer_count":2,"score":0,"last_activity_date":1697793880,"creation_date":1697574711,"question_id":77312100,"body_markdown":"I have 2 entities with many to many relationship:\r\n\r\nPermission (AbstractActiveEntity simply has 2 fields, Long Id and boolean Active):\r\n\r\n```java\r\n@Entity(name = &quot;Permission&quot;)\r\n@NoArgsConstructor\r\n@SuperBuilder(toBuilder = true)\r\n@Table(name = &quot;permission&quot;)\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Permission extends AbstractActiveEntity {\r\n\r\n    String code;\r\n\r\n    @ManyToMany(\r\n            mappedBy = &quot;permissions&quot;,\r\n            fetch = FetchType.LAZY,\r\n            cascade = {MERGE},\r\n            targetEntity = Role.class\r\n    )\r\n    @ToString.Exclude\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n//equals and hashcode\r\n}\r\n```\r\n\r\nand this Role entity:\r\n\r\n```java\r\n@Getter\r\n@SuperBuilder(toBuilder = true)\r\n@Entity\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\npublic class Role extends AbstractActiveEntity {\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(cascade = {MERGE})\r\n    @JoinTable(\r\n            name = &quot;roles_permissions&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}\r\n    )\r\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\r\n//equals and hashcode\r\n}\r\n```\r\n\r\nThis is my update method:\r\n\r\n```java\r\n    public PermissionDto update(@Valid PermissionDto permissionDto) {\r\n        Permission permissionEntity = permissionMapper.toEntity(permissionDto);\r\n        return permissionMapper.toDto(permissionRepository.save(permissionEntity));\r\n    }\r\n```\r\n\r\nUpdate API:\r\n\r\n```java\r\n    @PatchMapping\r\n    public PermissionDto update(@RequestBody @Valid PermissionDto permissionDto) {\r\n        return permissionService.update(permissionDto);\r\n    }\r\n```\r\n\r\nPermissionDto:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@SuperBuilder(toBuilder = true)\r\n@NoArgsConstructor\r\npublic class PermissionDto extends AbstractActiveDto {\r\n\r\n    @NotBlank\r\n    private String code;\r\n\r\n    private Set&lt;Long&gt; rolesIds = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nRoleDto:\r\n\r\n```java\r\n@NoArgsConstructor\r\n@SuperBuilder(toBuilder=true)\r\n@Data\r\npublic class RoleDto extends AbstractActiveDto {\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @ToString.Exclude\r\n    private Set&lt;Long&gt; permissionsIds;\r\n\r\n}\r\n```\r\n\r\nPermissionMapper:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;,\r\n        unmappedTargetPolicy = ReportingPolicy.WARN,\r\n        builder = @Builder(disableBuilder = true),\r\n        uses = RoleMapper.class)\r\npublic interface PermissionMapper extends EntityMapper&lt;Permission, PermissionDto&gt; {\r\n\r\n    @Override\r\n    @Mapping(source = &quot;rolesIds&quot;, target = &quot;roles&quot;)\r\n    Permission toEntity(PermissionDto dto);\r\n\r\n    @Override\r\n    @Mapping(source = &quot;roles&quot;, target = &quot;rolesIds&quot;)\r\n    PermissionDto toDto(Permission entity);\r\n\r\n    @AfterMapping\r\n    default void assignPermissionToRoles(@MappingTarget Permission permission) {\r\n        var permissionIdSet = new HashSet&lt;Permission&gt;();\r\n        permissionIdSet.add(permission);\r\n        permission.getRoles().forEach(role -&gt; role.setPermissions(permissionIdSet));\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nRoleMapper:\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;,\r\n        unmappedTargetPolicy = ReportingPolicy.WARN,\r\n        uses = PermissionMapper.class)\r\npublic abstract class RoleMapper {\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    public abstract Role toEntity(RoleDto dto);\r\n\r\n    public abstract RoleDto toDto(Role entity);\r\n\r\n    Set&lt;Role&gt; mapRolesIdsToRoles(Set&lt;Long&gt; rolesIds) {\r\n        return rolesIds.stream()\r\n                       .map(roleId -&gt; roleRepository.findById(roleId).orElseThrow(\r\n                               () -&gt; new ResourceNotFoundException(&quot;Role with ID %d not found&quot;.formatted(roleId))\r\n                       ))\r\n                       .collect(Collectors.toSet());\r\n    }\r\n\r\n    Set&lt;Long&gt; mapRolesToRolesIds(Set&lt;Role&gt; roles) {\r\n        return roles.stream().map(Role::getId).collect(Collectors.toSet());\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nWhen I try to update an existing permission that has a role related to it, hibernate does not delete the current relation and insert the new one, it only inserts the new one.\r\n\r\nfor example, if I have a permission related to Role with id 1, and I try to update it by passing this JSON:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: 15991,\r\n  &quot;active&quot;: true,\r\n  &quot;code&quot;: &quot;NEW_ROLE&quot;,\r\n  &quot;rolesIds&quot;: [\r\n     2\r\n  ]\r\n}\r\n```\r\n\r\nThen I end up with 2 rows in the join table, one for roleId 1 and another for roleId 2.\r\n\r\nWhat I&#39;d like to happen is to have the role relations refreshed on each update.","title":"Refresh many to many relations on update in Hibernate","body":"<p>I have 2 entities with many to many relationship:</p>\n<p>Permission (AbstractActiveEntity simply has 2 fields, Long Id and boolean Active):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Permission&quot;)\n@NoArgsConstructor\n@SuperBuilder(toBuilder = true)\n@Table(name = &quot;permission&quot;)\n@AllArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class Permission extends AbstractActiveEntity {\n\n    String code;\n\n    @ManyToMany(\n            mappedBy = &quot;permissions&quot;,\n            fetch = FetchType.LAZY,\n            cascade = {MERGE},\n            targetEntity = Role.class\n    )\n    @ToString.Exclude\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n//equals and hashcode\n}\n</code></pre>\n<p>and this Role entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@SuperBuilder(toBuilder = true)\n@Entity\n@Setter\n@ToString\n@RequiredArgsConstructor\npublic class Role extends AbstractActiveEntity {\n\n    private String name;\n\n    @ManyToMany(cascade = {MERGE})\n    @JoinTable(\n            name = &quot;roles_permissions&quot;,\n            joinColumns = {@JoinColumn(name = &quot;role_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}\n    )\n    private Set&lt;Permission&gt; permissions = new HashSet&lt;&gt;();\n//equals and hashcode\n}\n</code></pre>\n<p>This is my update method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public PermissionDto update(@Valid PermissionDto permissionDto) {\n        Permission permissionEntity = permissionMapper.toEntity(permissionDto);\n        return permissionMapper.toDto(permissionRepository.save(permissionEntity));\n    }\n</code></pre>\n<p>Update API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PatchMapping\n    public PermissionDto update(@RequestBody @Valid PermissionDto permissionDto) {\n        return permissionService.update(permissionDto);\n    }\n</code></pre>\n<p>PermissionDto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@SuperBuilder(toBuilder = true)\n@NoArgsConstructor\npublic class PermissionDto extends AbstractActiveDto {\n\n    @NotBlank\n    private String code;\n\n    private Set&lt;Long&gt; rolesIds = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>RoleDto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@SuperBuilder(toBuilder=true)\n@Data\npublic class RoleDto extends AbstractActiveDto {\n\n    @NotBlank\n    private String name;\n\n    @ToString.Exclude\n    private Set&lt;Long&gt; permissionsIds;\n\n}\n</code></pre>\n<p>PermissionMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;,\n        unmappedTargetPolicy = ReportingPolicy.WARN,\n        builder = @Builder(disableBuilder = true),\n        uses = RoleMapper.class)\npublic interface PermissionMapper extends EntityMapper&lt;Permission, PermissionDto&gt; {\n\n    @Override\n    @Mapping(source = &quot;rolesIds&quot;, target = &quot;roles&quot;)\n    Permission toEntity(PermissionDto dto);\n\n    @Override\n    @Mapping(source = &quot;roles&quot;, target = &quot;rolesIds&quot;)\n    PermissionDto toDto(Permission entity);\n\n    @AfterMapping\n    default void assignPermissionToRoles(@MappingTarget Permission permission) {\n        var permissionIdSet = new HashSet&lt;Permission&gt;();\n        permissionIdSet.add(permission);\n        permission.getRoles().forEach(role -&gt; role.setPermissions(permissionIdSet));\n    }\n\n}\n\n</code></pre>\n<p>RoleMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;,\n        unmappedTargetPolicy = ReportingPolicy.WARN,\n        uses = PermissionMapper.class)\npublic abstract class RoleMapper {\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n    public abstract Role toEntity(RoleDto dto);\n\n    public abstract RoleDto toDto(Role entity);\n\n    Set&lt;Role&gt; mapRolesIdsToRoles(Set&lt;Long&gt; rolesIds) {\n        return rolesIds.stream()\n                       .map(roleId -&gt; roleRepository.findById(roleId).orElseThrow(\n                               () -&gt; new ResourceNotFoundException(&quot;Role with ID %d not found&quot;.formatted(roleId))\n                       ))\n                       .collect(Collectors.toSet());\n    }\n\n    Set&lt;Long&gt; mapRolesToRolesIds(Set&lt;Role&gt; roles) {\n        return roles.stream().map(Role::getId).collect(Collectors.toSet());\n    }\n\n}\n</code></pre>\n<p>When I try to update an existing permission that has a role related to it, hibernate does not delete the current relation and insert the new one, it only inserts the new one.</p>\n<p>for example, if I have a permission related to Role with id 1, and I try to update it by passing this JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 15991,\n  &quot;active&quot;: true,\n  &quot;code&quot;: &quot;NEW_ROLE&quot;,\n  &quot;rolesIds&quot;: [\n     2\n  ]\n}\n</code></pre>\n<p>Then I end up with 2 rows in the join table, one for roleId 1 and another for roleId 2.</p>\n<p>What I'd like to happen is to have the role relations refreshed on each update.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697521380,"post_id":77304104,"comment_id":136286636,"body_markdown":"You have a chicken/egg problem here, you want to use a `BeanPostProcessor` but you also want to inject beans, that need processing into the `BeanPostProcessor`. Also you should just use `@Value(&quot;${wisdom}&quot;)` Spring will the conversion to an array. I wonder how you are running this and what the logging output actually is.","body":"You have a chicken/egg problem here, you want to use a <code>BeanPostProcessor</code> but you also want to inject beans, that need processing into the <code>BeanPostProcessor</code>. Also you should just use <code>@Value(&quot;${wisdom}&quot;)</code> Spring will the conversion to an array. I wonder how you are running this and what the logging output actually is."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697521763,"post_id":77304104,"comment_id":136286674,"body_markdown":"The problem is also enhanced by the fact that `BeanPostProcessor` instances are created very early in the whole proces. Autowiring has to be done very carefully and when doing so you might get beans that are fully processed yet due to the moment in the lifecycle.","body":"The problem is also enhanced by the fact that <code>BeanPostProcessor</code> instances are created very early in the whole proces. Autowiring has to be done very carefully and when doing so you might get beans that are fully processed yet due to the moment in the lifecycle."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697537148,"post_id":77304104,"comment_id":136289380,"body_markdown":"@M.Deinum are `BeanPostProcessor`s created from `BeanDefintion`s? Are those `BeanDefinition`s processed by `BeanFactoryPostProcessor`s (such as `PropertySourcesPlaceholderConfigurer`)?","body":"@M.Deinum are <code>BeanPostProcessor</code>s created from <code>BeanDefintion</code>s? Are those <code>BeanDefinition</code>s processed by <code>BeanFactoryPostProcessor</code>s (such as <code>PropertySourcesPlaceholderConfigurer</code>)?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697537445,"post_id":77304104,"comment_id":136289436,"body_markdown":"As stated yes but... As they are created very early in the process not everything applies. Also as they are very early you trigger very early instantiation of the beans it needs which are then no longer being processed. When adding Spring Boot in the mix (which I suspect is the case) things change slightly again, but not in regards of processing.","body":"As stated yes but... As they are created very early in the process not everything applies. Also as they are very early you trigger very early instantiation of the beans it needs which are then no longer being processed. When adding Spring Boot in the mix (which I suspect is the case) things change slightly again, but not in regards of processing."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1697822307,"post_id":77304104,"comment_id":136332479,"body_markdown":"@M.Deinum you were mistaken, it can work (see the answer)","body":"@M.Deinum you were mistaken, it can work (see the answer)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698129707,"post_id":77304104,"comment_id":136362572,"body_markdown":"No I&#39;m not mistaken as you still have a chicken/egg problem with the `BeanPostProcessor`, however Spirng will do its best to prevent it but cannot in all cases. Both the `BeanFactoryPostProcessor` and `BeanPostProcessor` are needed very early on (the `BeanFactoryPostProcessor` very early as that operates on bean definitions and not beans).","body":"No I&#39;m not mistaken as you still have a chicken/egg problem with the <code>BeanPostProcessor</code>, however Spirng will do its best to prevent it but cannot in all cases. Both the <code>BeanFactoryPostProcessor</code> and <code>BeanPostProcessor</code> are needed very early on (the <code>BeanFactoryPostProcessor</code> very early as that operates on bean definitions and not beans)."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1698218976,"post_id":77304104,"comment_id":136375713,"body_markdown":"@M.Deinum what exactly may be the problem? Notice it&#39;s `static`. First, a BeanFactoryPostProcessor is created, it processes a `BeanDefinition` of my `BeanPostProcessor`, then the latter gets created from that modified `BeanDefinition` and does its job. I don&#39;t see any problems at all","body":"@M.Deinum what exactly may be the problem? Notice it&#39;s <code>static</code>. First, a BeanFactoryPostProcessor is created, it processes a <code>BeanDefinition</code> of my <code>BeanPostProcessor</code>, then the latter gets created from that modified <code>BeanDefinition</code> and does its job. I don&#39;t see any problems at all"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698225943,"post_id":77304104,"comment_id":136377096,"body_markdown":"Not in this particulair case but in general (as also explained/referenced/hinted) in the actual Spring documentation. Especially with regards to proxy creation (which isn&#39;t the case here) and injection into a `BeanPostProcessor` as proxy creation is also done through a `BeanPostProcessor` and that might not be ready. So injection into a `BeanPostProcessor` might lead to surprising results.","body":"Not in this particulair case but in general (as also explained/referenced/hinted) in the actual Spring documentation. Especially with regards to proxy creation (which isn&#39;t the case here) and injection into a <code>BeanPostProcessor</code> as proxy creation is also done through a <code>BeanPostProcessor</code> and that might not be ready. So injection into a <code>BeanPostProcessor</code> might lead to surprising results."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1698234828,"post_id":77304104,"comment_id":136378791,"body_markdown":"@M.Deinum even when those injections are `@Lazy`?","body":"@M.Deinum even when those injections are <code>@Lazy</code>?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698238230,"post_id":77304104,"comment_id":136379544,"body_markdown":"That depends on the usage but that is one of the likely workarounds.","body":"That depends on the usage but that is one of the likely workarounds."}],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697793772,"creation_date":1697793772,"answer_id":77329758,"question_id":77304104,"body_markdown":"Actually, it can work, but you need to register that `BeanFactoryPostProcessor` that processes `@Value` annotations in the context if it&#39;s a non-Boot project\r\n```java\r\n@Configuration\r\n@ComponentScan\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\npublic class Config {\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n        return new PropertySourcesPlaceholderConfigurer();\r\n    }\r\n}\r\n```","title":"Do BeanFactoryPostProcessors affect BeanPostProcessors?","body":"<p>Actually, it can work, but you need to register that <code>BeanFactoryPostProcessor</code> that processes <code>@Value</code> annotations in the context if it's a non-Boot project</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class Config {\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697793772,"creation_date":1697479662,"question_id":77304104,"body_markdown":"If a `BeanPostProcessor` or its dependency is annotated with `@Value`, would that work?\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class Sage {\r\n    @Wisdom\r\n    private String wisdom;\r\n\r\n    public void sayWisdom() {\r\n        String processedWisdom = process(wisdom);\r\n        log.info(processedWisdom);\r\n    }\r\n\r\n    private String process(String wisdom) {\r\n        String intro = getIntro();\r\n        String wiserWisdom = makeItSoundWiser(wisdom);\r\n        return intro + &quot; &quot; + wiserWisdom;\r\n    }\r\n\r\n    private String getIntro() {\r\n        return &quot;Sage says:&quot;;\r\n    }\r\n\r\n    private String makeItSoundWiser(String wisdom) {\r\n        return wisdom.replaceAll(&quot;\\\\.(?=\\\\s|$)|(?&lt;!\\\\.)(?=$)&quot;, &quot;...&quot;);\r\n    }\r\n}\r\n```\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface Wisdom {\r\n}\r\n```\r\n```java\r\npublic interface WisdomProvider {\r\n    String getWisdom();\r\n}\r\n```\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class WisdomBeanPostProcessor implements BeanPostProcessor {\r\n    private final WisdomProvider wisdomProvider;\r\n    @Override\r\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n        Field[] fields = bean.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            Wisdom wisdom = field.getAnnotation(Wisdom.class);\r\n            if (Objects.nonNull(wisdom)) {\r\n                field.setAccessible(true);\r\n                ReflectionUtils.setField(field, bean, wisdomProvider.getWisdom());\r\n                break;\r\n            }\r\n        }\r\n        return bean;\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\npublic class SimpleWisdomProvider implements WisdomProvider {\r\n    @Value(&quot;#{&#39;${wisdoms}&#39;.split(&#39;,&#39;)}&quot;) // notice this\r\n    private String[] wisdoms;\r\n\r\n    @Override\r\n    public String getWisdom() {\r\n        int randomIndex = ThreadLocalRandom.current().nextInt(wisdoms.length);\r\n        return wisdoms[randomIndex];\r\n    }\r\n}\r\n```\r\n```properties\r\nwisdoms=Tomorrow is often the busiest day of the week,\\\r\n        I have always wanted to be somebody, but I see now I should have been more specific,\\\r\n        Knowledge is like underwear. It is useful to have it, but not necessary to show it off,\\\r\n        Go to Heaven for the climate, Hell for the company,\\\r\n        Going to church doesn&#39;t make you a Christian any more than going to a garage makes you an automobile\r\n```\r\nThe answer it no, it won&#39;t work\r\n```\r\nINFO  [main] : Sage says: ${wisdoms}...\r\n```\r\nThe question I have is why? `BeanFactoryPostProcessor`s (including `PropertySourcesPlaceholderConfigurer` that processes `@Value`s) should run fine on `BeanPostProcessor`s&#39; `BeanDefinition`s. Unless `BeanPostProcessor`s don&#39;t get created from `BeanDefinition`s... What is the explanation? What is the workaround?","title":"Do BeanFactoryPostProcessors affect BeanPostProcessors?","body":"<p>If a <code>BeanPostProcessor</code> or its dependency is annotated with <code>@Value</code>, would that work?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class Sage {\n    @Wisdom\n    private String wisdom;\n\n    public void sayWisdom() {\n        String processedWisdom = process(wisdom);\n        log.info(processedWisdom);\n    }\n\n    private String process(String wisdom) {\n        String intro = getIntro();\n        String wiserWisdom = makeItSoundWiser(wisdom);\n        return intro + &quot; &quot; + wiserWisdom;\n    }\n\n    private String getIntro() {\n        return &quot;Sage says:&quot;;\n    }\n\n    private String makeItSoundWiser(String wisdom) {\n        return wisdom.replaceAll(&quot;\\\\.(?=\\\\s|$)|(?&lt;!\\\\.)(?=$)&quot;, &quot;...&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Wisdom {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface WisdomProvider {\n    String getWisdom();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class WisdomBeanPostProcessor implements BeanPostProcessor {\n    private final WisdomProvider wisdomProvider;\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        Field[] fields = bean.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            Wisdom wisdom = field.getAnnotation(Wisdom.class);\n            if (Objects.nonNull(wisdom)) {\n                field.setAccessible(true);\n                ReflectionUtils.setField(field, bean, wisdomProvider.getWisdom());\n                break;\n            }\n        }\n        return bean;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class SimpleWisdomProvider implements WisdomProvider {\n    @Value(&quot;#{'${wisdoms}'.split(',')}&quot;) // notice this\n    private String[] wisdoms;\n\n    @Override\n    public String getWisdom() {\n        int randomIndex = ThreadLocalRandom.current().nextInt(wisdoms.length);\n        return wisdoms[randomIndex];\n    }\n}\n</code></pre>\n<pre><code>wisdoms=Tomorrow is often the busiest day of the week,\\\n        I have always wanted to be somebody, but I see now I should have been more specific,\\\n        Knowledge is like underwear. It is useful to have it, but not necessary to show it off,\\\n        Go to Heaven for the climate, Hell for the company,\\\n        Going to church doesn't make you a Christian any more than going to a garage makes you an automobile\n</code></pre>\n<p>The answer it no, it won't work</p>\n<pre><code>INFO  [main] : Sage says: ${wisdoms}...\n</code></pre>\n<p>The question I have is why? <code>BeanFactoryPostProcessor</code>s (including <code>PropertySourcesPlaceholderConfigurer</code> that processes <code>@Value</code>s) should run fine on <code>BeanPostProcessor</code>s' <code>BeanDefinition</code>s. Unless <code>BeanPostProcessor</code>s don't get created from <code>BeanDefinition</code>s... What is the explanation? What is the workaround?</p>\n"},{"tags":["java","cron"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1697792883,"post_id":77329200,"comment_id":136327052,"body_markdown":"`source` isn&#39;t an executable, it is built-in to a shell.","body":"<code>source</code> isn&#39;t an executable, it is built-in to a shell."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697793654,"creation_date":1697793654,"answer_id":77329743,"question_id":77329200,"body_markdown":"I suggest you package your command into a script, test it, and call that script from cron. Something like `run.sh`:\r\n\r\n    #!/bin/bash\r\n    source &quot;/path/to/javaenv.txt&quot; &amp;&amp; java pkgName.ClassName cmd-line-params &gt; /tmp/test-$(date +%s).txt 2&gt;&amp;1\r\n   \r\n","title":"CLASSPATH in crontab","body":"<p>I suggest you package your command into a script, test it, and call that script from cron. Something like <code>run.sh</code>:</p>\n<pre><code>#!/bin/bash\nsource &quot;/path/to/javaenv.txt&quot; &amp;&amp; java pkgName.ClassName cmd-line-params &gt; /tmp/test-$(date +%s).txt 2&gt;&amp;1\n</code></pre>\n"}],"owner":{"account_id":7430214,"reputation":1253,"user_id":5651468,"accept_rate":100,"display_name":"Sandeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697793654,"creation_date":1697788412,"question_id":77329200,"body_markdown":"I am having trouble getting my Java program to run from `cron`.  I am able to recreate the problem, using a simple example, as explained below:\r\n\r\nIn the file `/path/to/javaenv.txt` I define my `CLASSPATH` variable as follows:\r\n\r\n    export CLASSPATH=\\\r\n    &quot;/path/to/dir1&quot;:\\\r\n    &quot;/path/to/dir2&quot;:\\\r\n    &quot;/path/to/dirn&quot;:\\\r\n    &quot;/path/to/jar1&quot;:\\\r\n    &quot;/path/to/jar2&quot;:\\\r\n    &quot;/path/to/jarn&quot;\r\n\r\nFrom the command line I am able to execute the Java program quite easily by doing something like this:\r\n\r\n    source &quot;/path/to/javaenv.txt&quot; &amp;&amp; java pkgName.ClassName cmd-line-params &gt; /tmp/test-$(date +%s).txt 2&gt;&amp;1\r\n\r\nHowever, the job does not get executed from `cron`, eventhough my `crontab` has the following entry:\r\n\r\n    * * * * * source &quot;/path/to/javaenv.txt&quot; &amp;&amp; java pkgName.ClassName cmd-line-params &gt; /tmp/test-$(date +%s).txt 2&gt;&amp;1\r\n\r\n","title":"CLASSPATH in crontab","body":"<p>I am having trouble getting my Java program to run from <code>cron</code>.  I am able to recreate the problem, using a simple example, as explained below:</p>\n<p>In the file <code>/path/to/javaenv.txt</code> I define my <code>CLASSPATH</code> variable as follows:</p>\n<pre><code>export CLASSPATH=\\\n&quot;/path/to/dir1&quot;:\\\n&quot;/path/to/dir2&quot;:\\\n&quot;/path/to/dirn&quot;:\\\n&quot;/path/to/jar1&quot;:\\\n&quot;/path/to/jar2&quot;:\\\n&quot;/path/to/jarn&quot;\n</code></pre>\n<p>From the command line I am able to execute the Java program quite easily by doing something like this:</p>\n<pre><code>source &quot;/path/to/javaenv.txt&quot; &amp;&amp; java pkgName.ClassName cmd-line-params &gt; /tmp/test-$(date +%s).txt 2&gt;&amp;1\n</code></pre>\n<p>However, the job does not get executed from <code>cron</code>, eventhough my <code>crontab</code> has the following entry:</p>\n<pre><code>* * * * * source &quot;/path/to/javaenv.txt&quot; &amp;&amp; java pkgName.ClassName cmd-line-params &gt; /tmp/test-$(date +%s).txt 2&gt;&amp;1\n</code></pre>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":7868321,"reputation":1163,"user_id":5946486,"display_name":"Idan Ayzen"},"score":0,"creation_date":1455807354,"post_id":35484767,"comment_id":58663048,"body_markdown":"btw i already tried to change the string to &quot;android.permission.READ_PHONE_STATE&quot; still the same","body":"btw i already tried to change the string to &quot;android.permission.READ_PHONE_STATE&quot; still the same"},{"owner":{"account_id":6811689,"reputation":22994,"user_id":5241603,"accept_rate":95,"display_name":"K.Sopheak"},"score":0,"creation_date":1477035516,"post_id":35484767,"comment_id":67609690,"body_markdown":"Is the permission is blocked?","body":"Is the permission is blocked?"}],"answers":[{"comments":[{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":1,"creation_date":1468757774,"post_id":35485338,"comment_id":64248618,"body_markdown":"not work for me. my app is configured to work from 16 to 23 sdk version","body":"not work for me. my app is configured to work from 16 to 23 sdk version"},{"owner":{"account_id":1188432,"reputation":1842,"user_id":1161874,"accept_rate":40,"display_name":"rana"},"score":0,"creation_date":1484012856,"post_id":35485338,"comment_id":70324785,"body_markdown":"you should use android.Manifest.permission.READ_PHONE_STATE","body":"you should use android.Manifest.permission.READ_PHONE_STATE"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1455808612,"creation_date":1455808612,"answer_id":35485338,"question_id":35484767,"body_markdown":"Replace:\r\n\r\n    ActivityCompat.requestPermissions(this, new String[]{&quot;Manifest.permission.READ_PHONE_STATE&quot;}, 225);\r\n\r\nwith:\r\n\r\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_PHONE_STATE}, 225);\r\n\r\n[The actual string for that permission][1] is not `&quot;Manifest.permission.READ_PHONE_STATE&quot;`. Use the symbol `Manifest.permission.READ_PHONE_STATE`.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/Manifest.permission.html#READ_PHONE_STATE","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>Replace:</p>\n\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{\"Manifest.permission.READ_PHONE_STATE\"}, 225);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_PHONE_STATE}, 225);\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/Manifest.permission.html#READ_PHONE_STATE\" rel=\"noreferrer\">The actual string for that permission</a> is not <code>\"Manifest.permission.READ_PHONE_STATE\"</code>. Use the symbol <code>Manifest.permission.READ_PHONE_STATE</code>.</p>\n"},{"comments":[{"owner":{"account_id":7868321,"reputation":1163,"user_id":5946486,"display_name":"Idan Ayzen"},"score":31,"creation_date":1455811322,"post_id":35486162,"comment_id":58666103,"body_markdown":"isn&#39;t it useless to do all of this checking if the requestPermissions is not working? in my code im just checking if i have the permission and if not i call the requestPermissions. and later i guess ill change that.\nand i did the requestPermissions syntax exactly as you said but its not working for me.","body":"isn&#39;t it useless to do all of this checking if the requestPermissions is not working? in my code im just checking if i have the permission and if not i call the requestPermissions. and later i guess ill change that. and i did the requestPermissions syntax exactly as you said but its not working for me."},{"owner":{"account_id":1784372,"reputation":2091,"user_id":1626190,"display_name":"RickBoyerDev"},"score":0,"creation_date":1455811676,"post_id":35486162,"comment_id":58666391,"body_markdown":"Since you didn&#39;t post your actual requestPermissions() code, I posted a complete working example.  Works fine for me.","body":"Since you didn&#39;t post your actual requestPermissions() code, I posted a complete working example.  Works fine for me."},{"owner":{"account_id":7868321,"reputation":1163,"user_id":5946486,"display_name":"Idan Ayzen"},"score":0,"creation_date":1455812112,"post_id":35486162,"comment_id":58666762,"body_markdown":"I posted my actual requestPermissions() code just now. thank you for your help :)","body":"I posted my actual requestPermissions() code just now. thank you for your help :)"},{"owner":{"account_id":1784372,"reputation":2091,"user_id":1626190,"display_name":"RickBoyerDev"},"score":0,"creation_date":1455814639,"post_id":35486162,"comment_id":58668649,"body_markdown":"You&#39;re code works for me as well... are you sure you haven&#39;t already given yourself permission?  (You can go in to Settings | App | click our app and check the Permissions.)","body":"You&#39;re code works for me as well... are you sure you haven&#39;t already given yourself permission?  (You can go in to Settings | App | click our app and check the Permissions.)"},{"owner":{"account_id":7868321,"reputation":1163,"user_id":5946486,"display_name":"Idan Ayzen"},"score":0,"creation_date":1455815529,"post_id":35486162,"comment_id":58669296,"body_markdown":"I just checked and the permissions are turned off. it&#39;s really weird that it works for you and not for me","body":"I just checked and the permissions are turned off. it&#39;s really weird that it works for you and not for me"},{"owner":{"account_id":1784372,"reputation":2091,"user_id":1626190,"display_name":"RickBoyerDev"},"score":0,"creation_date":1455815733,"post_id":35486162,"comment_id":58669435,"body_markdown":"Your device or emulator is running Android 6.0, right?  (I know these are basic questions, but always the best place to start ;))  Actually, you couldn&#39;t turn off the permission if you weren&#39;t.  Have you tried making a new app, just to isolate the issue?","body":"Your device or emulator is running Android 6.0, right?  (I know these are basic questions, but always the best place to start ;))  Actually, you couldn&#39;t turn off the permission if you weren&#39;t.  Have you tried making a new app, just to isolate the issue?"},{"owner":{"account_id":1784372,"reputation":2091,"user_id":1626190,"display_name":"RickBoyerDev"},"score":0,"creation_date":1455822981,"post_id":35486162,"comment_id":58673727,"body_markdown":"Glad you have it working, but not knowing why something doesn&#39;t work always bugs me.","body":"Glad you have it working, but not knowing why something doesn&#39;t work always bugs me."},{"owner":{"account_id":1322576,"reputation":4039,"user_id":1268048,"accept_rate":94,"display_name":"Phil"},"score":0,"creation_date":1469715870,"post_id":35486162,"comment_id":64661462,"body_markdown":"@NightSkyDev - what are the requestPermission and showExplanation methods in your example?","body":"@NightSkyDev - what are the requestPermission and showExplanation methods in your example?"},{"owner":{"account_id":1784372,"reputation":2091,"user_id":1626190,"display_name":"RickBoyerDev"},"score":1,"creation_date":1469773006,"post_id":35486162,"comment_id":64685238,"body_markdown":"@Phil - Added both to the example.  As you can see, it would be just as easy to call requestPermission directly, and you would need to if you are requesting multiple permissions as this method is just a wrapper to call one permission.","body":"@Phil - Added both to the example.  As you can see, it would be just as easy to call requestPermission directly, and you would need to if you are requesting multiple permissions as this method is just a wrapper to call one permission."},{"owner":{"account_id":2608859,"reputation":2009,"user_id":2259400,"display_name":"Jimmy Ilenloa"},"score":5,"creation_date":1475957510,"post_id":35486162,"comment_id":67155583,"body_markdown":"thanks for highlighting the &quot;First, define the permission (as you did in your post) in the manifest, otherwise, your request will automatically be denied&quot;. Mine was like this\n\n&lt;uses-permission\n        android:name=&quot;android.permission.GET_ACCOUNTS&quot;\n        android:maxSdkVersion=&quot;22&quot;\n        tools:replace=&quot;maxSdkVersion&quot; /&gt;\n\nI changed the &quot;22&quot; to &quot;23&quot;","body":"thanks for highlighting the &quot;First, define the permission (as you did in your post) in the manifest, otherwise, your request will automatically be denied&quot;. Mine was like this  &lt;uses-permission         android:name=&quot;android.permission.GET_ACCOUNTS&quot;         android:maxSdkVersion=&quot;22&quot;         tools:replace=&quot;maxSdkVersion&quot; /&gt;  I changed the &quot;22&quot; to &quot;23&quot;"},{"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1497975667,"post_id":35486162,"comment_id":76301862,"body_markdown":"@NightSkyDev pretty good answer. Thanks, solved my issue as well","body":"@NightSkyDev pretty good answer. Thanks, solved my issue as well"}],"tags":[],"owner":{"account_id":1784372,"reputation":2091,"user_id":1626190,"display_name":"RickBoyerDev"},"comment_count":11,"down_vote_count":5,"up_vote_count":117,"is_accepted":true,"score":112,"last_activity_date":1469772907,"creation_date":1455810737,"answer_id":35486162,"question_id":35484767,"body_markdown":"Here&#39;s an example of using `requestPermissions()`:\r\n\r\nFirst, define the permission (as you did in your post) in the manifest, otherwise, your request will automatically be denied:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\r\nNext, define a value to handle the permission callback, in onRequestPermissionsResult():  \r\n  \r\n    private final int REQUEST_PERMISSION_PHONE_STATE=1;\r\n\r\nHere&#39;s the code to call requestPermissions():\r\n\r\n    private void showPhoneStatePermission() {\r\n        int permissionCheck = ContextCompat.checkSelfPermission(\r\n                this, Manifest.permission.READ_PHONE_STATE);\r\n        if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.READ_PHONE_STATE)) {\r\n                showExplanation(&quot;Permission Needed&quot;, &quot;Rationale&quot;, Manifest.permission.READ_PHONE_STATE, REQUEST_PERMISSION_PHONE_STATE);\r\n            } else {\r\n                requestPermission(Manifest.permission.READ_PHONE_STATE, REQUEST_PERMISSION_PHONE_STATE);\r\n            }\r\n        } else {\r\n            Toast.makeText(MainActivity.this, &quot;Permission (already) Granted!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nFirst, you check if you already have permission (remember, even after being granted permission, the user can later revoke the permission in the App Settings.)  \r\n\r\nAnd finally, this is how you check if you received permission or not:\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(\r\n            int requestCode,\r\n            String permissions[],\r\n            int[] grantResults) {\r\n        switch (requestCode) {\r\n            case REQUEST_PERMISSION_PHONE_STATE:\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(MainActivity.this, &quot;Permission Granted!&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n        }\r\n    }\r\n\r\n    private void showExplanation(String title,\r\n    \t\t\t\t\t\t\t String message,\r\n    \t\t\t\t\t\t\t final String permission,\r\n    \t\t\t\t\t\t\t final int permissionRequestCode) {\r\n    \tAlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n    \tbuilder.setTitle(title)\r\n    \t\t\t.setMessage(message)\r\n    \t\t\t.setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {\r\n    \t\t\t\tpublic void onClick(DialogInterface dialog, int id) {\r\n    \t\t\t\t\trequestPermission(permission, permissionRequestCode);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \tbuilder.create().show();\r\n    }\r\n    \r\n    private void requestPermission(String permissionName, int permissionRequestCode) {\r\n    \tActivityCompat.requestPermissions(this,\r\n    \t\t\tnew String[]{permissionName}, permissionRequestCode);\r\n    }\r\n\r\n\r\n\r\n","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>Here's an example of using <code>requestPermissions()</code>:</p>\n\n<p>First, define the permission (as you did in your post) in the manifest, otherwise, your request will automatically be denied:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n</code></pre>\n\n<p>Next, define a value to handle the permission callback, in onRequestPermissionsResult():  </p>\n\n<pre><code>private final int REQUEST_PERMISSION_PHONE_STATE=1;\n</code></pre>\n\n<p>Here's the code to call requestPermissions():</p>\n\n<pre><code>private void showPhoneStatePermission() {\n    int permissionCheck = ContextCompat.checkSelfPermission(\n            this, Manifest.permission.READ_PHONE_STATE);\n    if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.READ_PHONE_STATE)) {\n            showExplanation(\"Permission Needed\", \"Rationale\", Manifest.permission.READ_PHONE_STATE, REQUEST_PERMISSION_PHONE_STATE);\n        } else {\n            requestPermission(Manifest.permission.READ_PHONE_STATE, REQUEST_PERMISSION_PHONE_STATE);\n        }\n    } else {\n        Toast.makeText(MainActivity.this, \"Permission (already) Granted!\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>First, you check if you already have permission (remember, even after being granted permission, the user can later revoke the permission in the App Settings.)  </p>\n\n<p>And finally, this is how you check if you received permission or not:</p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(\n        int requestCode,\n        String permissions[],\n        int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_PERMISSION_PHONE_STATE:\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                Toast.makeText(MainActivity.this, \"Permission Granted!\", Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(MainActivity.this, \"Permission Denied!\", Toast.LENGTH_SHORT).show();\n            }\n    }\n}\n\nprivate void showExplanation(String title,\n                             String message,\n                             final String permission,\n                             final int permissionRequestCode) {\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(title)\n            .setMessage(message)\n            .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int id) {\n                    requestPermission(permission, permissionRequestCode);\n                }\n            });\n    builder.create().show();\n}\n\nprivate void requestPermission(String permissionName, int permissionRequestCode) {\n    ActivityCompat.requestPermissions(this,\n            new String[]{permissionName}, permissionRequestCode);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7997161,"reputation":27,"user_id":6033075,"display_name":"Bk245"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1463628849,"creation_date":1463628849,"answer_id":37313520,"question_id":35484767,"body_markdown":"I had this same issue.I updated to **buildToolsVersion &quot;23.0.3&quot;** It all of a sudden worked. Hope this helps anyone having this issue.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I had this same issue.I updated to <strong>buildToolsVersion \"23.0.3\"</strong> It all of a sudden worked. Hope this helps anyone having this issue.</p>\n"},{"tags":[],"owner":{"account_id":399865,"reputation":1484,"user_id":765507,"display_name":"Meanman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468318731,"creation_date":1468318731,"answer_id":38326041,"question_id":35484767,"body_markdown":"For me the issue was requesting a group mistakenly instead of the actual permissions.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>For me the issue was requesting a group mistakenly instead of the actual permissions.</p>\n"},{"comments":[{"owner":{"account_id":1778516,"reputation":1437,"user_id":1621789,"display_name":"Shaktisinh Jadeja"},"score":1,"creation_date":1522048226,"post_id":40775623,"comment_id":85974105,"body_markdown":"@usman its not necessary that it should work for all, may be your case is different. Please post your question, someone surely resolve your problem :)","body":"@usman its not necessary that it should work for all, may be your case is different. Please post your question, someone surely resolve your problem :)"},{"owner":{"account_id":6843044,"reputation":746,"user_id":5262697,"display_name":"adadion"},"score":3,"creation_date":1562821671,"post_id":40775623,"comment_id":100499244,"body_markdown":"as of now at least, to view the actual permission (merged) manifest, you can view it without any other tools like `aapt`. While you see your AndroidManifest.xml from Android Studio, look at the bottom tab, just click on the `Merged Manifest` tab.","body":"as of now at least, to view the actual permission (merged) manifest, you can view it without any other tools like <code>aapt</code>. While you see your AndroidManifest.xml from Android Studio, look at the bottom tab, just click on the <code>Merged Manifest</code> tab."}],"tags":[],"owner":{"account_id":107924,"reputation":1554,"user_id":1802804,"display_name":"hrunk"},"comment_count":2,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1511484565,"creation_date":1479942496,"answer_id":40775623,"question_id":35484767,"body_markdown":"I had the same issue and it turned out to be due to the [manifest merger tool](https://developer.android.com/studio/build/manifest-merge.html) pulling in an `android:maxSdkVersion` attribute from a dependency.\r\n\r\nTo view the actual permissions you&#39;re requesting in your APK you can use the `aapt` tool, like this:\r\n\r\n    /path/to/android-sdk/build-tools/version/aapt d permissions /path/to/your-apk.apk\r\n\r\nin my case, it printed:\r\n\r\n    uses-permission: name=&#39;android.permission.WRITE_EXTERNAL_STORAGE&#39; maxSdkVersion=&#39;18&#39;\r\n\r\neven though I hadn&#39;t specified a `maxSdkVersion` in my manifest. I fixed this issue by changing `&lt;uses-permission&gt;` in my manifest to:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; tools:remove=&quot;android:maxSdkVersion&quot;/&gt;\r\n\r\n(where the tools namespace is `http://schemas.android.com/tools`)","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I had the same issue and it turned out to be due to the <a href=\"https://developer.android.com/studio/build/manifest-merge.html\" rel=\"noreferrer\">manifest merger tool</a> pulling in an <code>android:maxSdkVersion</code> attribute from a dependency.</p>\n\n<p>To view the actual permissions you're requesting in your APK you can use the <code>aapt</code> tool, like this:</p>\n\n<pre><code>/path/to/android-sdk/build-tools/version/aapt d permissions /path/to/your-apk.apk\n</code></pre>\n\n<p>in my case, it printed:</p>\n\n<pre><code>uses-permission: name='android.permission.WRITE_EXTERNAL_STORAGE' maxSdkVersion='18'\n</code></pre>\n\n<p>even though I hadn't specified a <code>maxSdkVersion</code> in my manifest. I fixed this issue by changing <code>&lt;uses-permission&gt;</code> in my manifest to:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" tools:remove=\"android:maxSdkVersion\"/&gt;\n</code></pre>\n\n<p>(where the tools namespace is <code>http://schemas.android.com/tools</code>)</p>\n"},{"comments":[{"owner":{"account_id":2508057,"reputation":862,"user_id":2181146,"display_name":"Eliot Gillum"},"score":1,"creation_date":1505117283,"post_id":43528880,"comment_id":79263386,"body_markdown":"Yes, but that wasn&#39;t random luck.  The reason why is that 23 is when Android started interpreting `&lt;uses-permission&gt;` as a future code action instead of an on-install demand.","body":"Yes, but that wasn&#39;t random luck.  The reason why is that 23 is when Android started interpreting <code>&lt;uses-permission&gt;</code> as a future code action instead of an on-install demand."}],"tags":[],"owner":{"account_id":6741122,"reputation":533,"user_id":5194344,"accept_rate":0,"display_name":"Shyam Sunder"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1492718631,"creation_date":1492718631,"answer_id":43528880,"question_id":35484767,"body_markdown":"I updated my target SDK version from 22 to 23 and it worked perfectly.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I updated my target SDK version from 22 to 23 and it worked perfectly.</p>\n"},{"tags":[],"owner":{"account_id":10874463,"reputation":11,"user_id":7995249,"display_name":"Beaux"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494478806,"creation_date":1494478806,"answer_id":43906861,"question_id":35484767,"body_markdown":"I was having the same problem, and solved it by replacing Manifest.permission.READ_PHONE_STATE with android.Manifest.permission.READ_PHONE_STATE.\r\n","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I was having the same problem, and solved it by replacing Manifest.permission.READ_PHONE_STATE with android.Manifest.permission.READ_PHONE_STATE.</p>\n"},{"comments":[{"owner":{"account_id":274799,"reputation":4604,"user_id":567249,"display_name":"Fls&#39;Zen"},"score":2,"creation_date":1521987906,"post_id":45175388,"comment_id":85956319,"body_markdown":"The [docs](https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html#requestPermissions(android.app.Activity,%20java.lang.String[],%20int)) state that `requestCode`, should be ≥ 0. 0xDEADBEEF is &lt; 0.","body":"The <a href=\"https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html#requestPermissions(android.app.Activity,%20java.lang.String%5B%5D,%20int)\" rel=\"nofollow noreferrer\">docs</a> state that <code>requestCode</code>, should be ≥ 0. 0xDEADBEEF is &lt; 0."}],"tags":[],"owner":{"account_id":1117516,"reputation":729,"user_id":1106528,"accept_rate":8,"display_name":"griffin2000"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500405722,"creation_date":1500405722,"answer_id":45175388,"question_id":35484767,"body_markdown":"For me the issue was I had an invalid request code. I choose 0xDEADBEEF as a request code and it was silently failing (maybe it&#39;s cast to something smaller than 32-bit somewhere internally?) If I choose 255 everything worked fine as NightSkyDev described above.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>For me the issue was I had an invalid request code. I choose 0xDEADBEEF as a request code and it was silently failing (maybe it's cast to something smaller than 32-bit somewhere internally?) If I choose 255 everything worked fine as NightSkyDev described above.</p>\n"},{"tags":[],"owner":{"account_id":2508057,"reputation":862,"user_id":2181146,"display_name":"Eliot Gillum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505117204,"creation_date":1505117204,"answer_id":46150927,"question_id":35484767,"body_markdown":"The above information is good, but setting `targetSdkVersion` to 23 (or higher) is **critical** for Android to interpret the `&lt;uses-permission&gt;` tag in the manifest as &quot;I will ask in code&quot; instead of &quot;I demand upon installation.&quot;  Lots of sources will tell you that you need the `&lt;uses-permission&gt;` tag, but no one says why and if you don&#39;t have that value set, you&#39;re going to be as confused as I was for hours on end.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>The above information is good, but setting <code>targetSdkVersion</code> to 23 (or higher) is <strong>critical</strong> for Android to interpret the <code>&lt;uses-permission&gt;</code> tag in the manifest as \"I will ask in code\" instead of \"I demand upon installation.\"  Lots of sources will tell you that you need the <code>&lt;uses-permission&gt;</code> tag, but no one says why and if you don't have that value set, you're going to be as confused as I was for hours on end.</p>\n"},{"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1528561973,"post_id":46370639,"comment_id":88559639,"body_markdown":"where do you get the variable of ContextCompat? I tried but variable not foundresult?","body":"where do you get the variable of ContextCompat? I tried but variable not foundresult?"}],"tags":[],"owner":{"account_id":1131963,"reputation":5224,"user_id":1117848,"accept_rate":73,"display_name":"Benjamin H"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506103047,"creation_date":1506103047,"answer_id":46370639,"question_id":35484767,"body_markdown":"This just happened to me.  It turned out I was requesting ALL permissions, when I needed to filter to just DANGEROUS permissions, and it suddenly started working.\r\n\r\n    fun requestPermissions() {\r\n        val missingDangerPermissions = PERMISSIONS\r\n                .filter { ContextCompat.checkSelfPermission(this, it) != PackageManager.PERMISSION_GRANTED }\r\n                .filter { this.getPackageManager().getPermissionInfo(it, PackageManager.GET_META_DATA).protectionLevel == PermissionInfo.PROTECTION_DANGEROUS } // THIS FILTER HERE!\r\n\r\n        if (missingDangerPermissions.isNotEmpty()) {\r\n            Log.i(TAG, &quot;Requesting dangerous permission to $missingDangerPermissions.&quot;)\r\n            ActivityCompat.requestPermissions(this,\r\n                    missingDangerPermissions.toTypedArray(),\r\n                    REQUEST_CODE_REQUIRED_PERMISSIONS);\r\n            return\r\n        } else {\r\n            Log.i(TAG, &quot;We had all the permissions we needed (yay!)&quot;)\r\n        }\r\n    }","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>This just happened to me.  It turned out I was requesting ALL permissions, when I needed to filter to just DANGEROUS permissions, and it suddenly started working.</p>\n\n<pre><code>fun requestPermissions() {\n    val missingDangerPermissions = PERMISSIONS\n            .filter { ContextCompat.checkSelfPermission(this, it) != PackageManager.PERMISSION_GRANTED }\n            .filter { this.getPackageManager().getPermissionInfo(it, PackageManager.GET_META_DATA).protectionLevel == PermissionInfo.PROTECTION_DANGEROUS } // THIS FILTER HERE!\n\n    if (missingDangerPermissions.isNotEmpty()) {\n        Log.i(TAG, \"Requesting dangerous permission to $missingDangerPermissions.\")\n        ActivityCompat.requestPermissions(this,\n                missingDangerPermissions.toTypedArray(),\n                REQUEST_CODE_REQUIRED_PERMISSIONS);\n        return\n    } else {\n        Log.i(TAG, \"We had all the permissions we needed (yay!)\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233980,"reputation":441,"user_id":2728592,"display_name":"AlainPre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508176352,"creation_date":1508176352,"answer_id":46776255,"question_id":35484767,"body_markdown":"For me the error was in the manifest: the permission was in uppercase. Android Studio suggest me the permissions in uppercase. I don&#39;t care about that and it took me two hours to fixe this problem.\r\n\r\nThe right syntaxe for permission is &lt;br/&gt;\r\n&amp;lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&amp;gt;","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>For me the error was in the manifest: the permission was in uppercase. Android Studio suggest me the permissions in uppercase. I don't care about that and it took me two hours to fixe this problem.</p>\n\n<p>The right syntaxe for permission is <br/>\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;</p>\n"},{"comments":[{"owner":{"account_id":4885377,"reputation":495,"user_id":3938005,"display_name":"Miguel Orellana"},"score":0,"creation_date":1521495140,"post_id":47283187,"comment_id":85746521,"body_markdown":"Thank you, It was my problem all this day.","body":"Thank you, It was my problem all this day."},{"owner":{"account_id":10494065,"reputation":1812,"user_id":7734945,"display_name":"Burak"},"score":0,"creation_date":1634131511,"post_id":47283187,"comment_id":122943700,"body_markdown":"This solved my problem. Thank you so much!","body":"This solved my problem. Thank you so much!"}],"tags":[],"owner":{"account_id":2776472,"reputation":373,"user_id":2389962,"display_name":"Talha"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1592498023,"creation_date":1510654897,"answer_id":47283187,"question_id":35484767,"body_markdown":"I had a need to request permission for `WRITE_EXTERNAL_STORAGE` but was not getting a pop-up despite trying all of the different suggestions mentioned.\r\n\r\nThe culprit in the end was HockeyApp. It uses manifest merging to include its own permission for `WRITE_EXTERNAL_STORAGE` except it applies a max sdk version onto it.\r\n\r\nThe way to get around this problem is to include it in your Manifest file but with a replace against it, to override the HockeyApp&#39;s version and success!\r\n\r\n&gt; 4.7.2 Other dependencies requesting the external storage permission (SDK version 5.0.0 and later) To be ready for Android O,\r\n&gt; HockeySDK-Android 5.0.0 and later limit the `WRITE_EXTERNAL_STORAGE`\r\n&gt; permission with the maxSdkVersion filter. In some use cases, e.g.\r\n&gt; where an app contains a dependency that requires this permission,\r\n&gt; maxSdkVersion makes it impossible for those dependencies to grant or\r\n&gt; request the permission. The solution for those cases is as follows:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; tools:node=&quot;replace&quot;/&gt;\r\n\r\n&gt; It will cause that other attributes from low\r\n&gt; priority manifests will be replaced instead of being merged.\r\n\r\nhttps://support.hockeyapp.net/kb/client-integration-android/hockeyapp-for-android-sdk#permissions-advanced","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I had a need to request permission for <code>WRITE_EXTERNAL_STORAGE</code> but was not getting a pop-up despite trying all of the different suggestions mentioned.</p>\n\n<p>The culprit in the end was HockeyApp. It uses manifest merging to include its own permission for <code>WRITE_EXTERNAL_STORAGE</code> except it applies a max sdk version onto it.</p>\n\n<p>The way to get around this problem is to include it in your Manifest file but with a replace against it, to override the HockeyApp's version and success!</p>\n\n<blockquote>\n  <p>4.7.2 Other dependencies requesting the external storage permission (SDK version 5.0.0 and later) To be ready for Android O,\n  HockeySDK-Android 5.0.0 and later limit the <code>WRITE_EXTERNAL_STORAGE</code>\n  permission with the maxSdkVersion filter. In some use cases, e.g.\n  where an app contains a dependency that requires this permission,\n  maxSdkVersion makes it impossible for those dependencies to grant or\n  request the permission. The solution for those cases is as follows:</p>\n</blockquote>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" tools:node=\"replace\"/&gt;\n</code></pre>\n\n<blockquote>\n  <p>It will cause that other attributes from low\n  priority manifests will be replaced instead of being merged.</p>\n</blockquote>\n\n<p><a href=\"https://support.hockeyapp.net/kb/client-integration-android/hockeyapp-for-android-sdk#permissions-advanced\" rel=\"noreferrer\">https://support.hockeyapp.net/kb/client-integration-android/hockeyapp-for-android-sdk#permissions-advanced</a></p>\n"},{"tags":[],"owner":{"account_id":10801085,"reputation":9,"user_id":7945024,"display_name":"Jair Martinez"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1521258067,"creation_date":1521258067,"answer_id":49332266,"question_id":35484767,"body_markdown":"it happen to me i was running it on API 23 and i had to use the code to request permission like this code below put it on on create method. note that MY_PERMISSIONS_REQUEST_READ_LOCATION is an integer that is equal to 1 example int MY_PERMISSIONS_REQUEST_READ_LOCATION = 1:\r\n\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            requestPermissions(new String[]{ Manifest.permission.ACCESS_COARSE_LOCATION},MY_PERMISSIONS_REQUEST_READ_LOCATION);\r\n        }","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>it happen to me i was running it on API 23 and i had to use the code to request permission like this code below put it on on create method. note that MY_PERMISSIONS_REQUEST_READ_LOCATION is an integer that is equal to 1 example int MY_PERMISSIONS_REQUEST_READ_LOCATION = 1:</p>\n\n<p>if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\n            requestPermissions(new String[]{ Manifest.permission.ACCESS_COARSE_LOCATION},MY_PERMISSIONS_REQUEST_READ_LOCATION);\n        }</p>\n"},{"tags":[],"owner":{"account_id":9497320,"reputation":709,"user_id":7059839,"display_name":"grandia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535526279,"creation_date":1535526279,"answer_id":52071418,"question_id":35484767,"body_markdown":"I came across this problem in Samsung S8 and N8 (havent found in any other)\r\n\r\nso the problem is in the manifest file uses-permission\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;\r\n    android:requiredFeature=&quot;true&quot; /&gt;\r\n\r\nFor some reason, the attribute `android:requiredFeature` is the culprit. and I haven&#39;t found the explanation on why.\r\n\r\nto solve simply remove it,\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I came across this problem in Samsung S8 and N8 (havent found in any other)</p>\n\n<p>so the problem is in the manifest file uses-permission</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\"\nandroid:requiredFeature=\"true\" /&gt;\n</code></pre>\n\n<p>For some reason, the attribute <code>android:requiredFeature</code> is the culprit. and I haven't found the explanation on why.</p>\n\n<p>to solve simply remove it,</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213966,"reputation":18513,"user_id":467650,"accept_rate":75,"display_name":"Roy Solberg"},"score":2,"creation_date":1542484827,"post_id":53273522,"comment_id":93587613,"body_markdown":"I had this situation. The best way out I could think of was to check for `PackageManager.PERMISSION_DENIED` in `onRequestPermissionsResult()` and adjust the UI to explain the user that the permissions had to be manually set and open `Settings.ACTION_APPLICATION_DETAILS_SETTINGS`.","body":"I had this situation. The best way out I could think of was to check for <code>PackageManager.PERMISSION_DENIED</code> in <code>onRequestPermissionsResult()</code> and adjust the UI to explain the user that the permissions had to be manually set and open <code>Settings.ACTION_APPLICATION_DETAILS_SETTINGS</code>."}],"tags":[],"owner":{"account_id":3829661,"reputation":3065,"user_id":3175580,"accept_rate":87,"display_name":"androidguy"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1612489153,"creation_date":1542081116,"answer_id":53273522,"question_id":35484767,"body_markdown":"It could be not a problem with a single line of your code.\r\n\r\nOn some devices (I don&#39;t recall if it is in stock Android) the Permission dialog includes a check box labeled &quot;Never ask again&quot;. If you click Deny with the box checked then you won&#39;t be prompted again for that permission, it will automatically be denied to the app. To revert this, you have to go into Settings -&gt; App -&gt; Permissions and re--enable that perm for the app. Then turn it off to deny it again. You may have to open the app before turning it off again, not sure.\r\n\r\nI don&#39;t know if your Nexus has it. Maybe worth a try.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>It could be not a problem with a single line of your code.</p>\n<p>On some devices (I don't recall if it is in stock Android) the Permission dialog includes a check box labeled &quot;Never ask again&quot;. If you click Deny with the box checked then you won't be prompted again for that permission, it will automatically be denied to the app. To revert this, you have to go into Settings -&gt; App -&gt; Permissions and re--enable that perm for the app. Then turn it off to deny it again. You may have to open the app before turning it off again, not sure.</p>\n<p>I don't know if your Nexus has it. Maybe worth a try.</p>\n"},{"tags":[],"owner":{"account_id":15182761,"reputation":1,"user_id":10955646,"display_name":"user10955646"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1548248223,"creation_date":1548245849,"answer_id":54327088,"question_id":35484767,"body_markdown":"Maybe this solution could help anyone \r\nrather than:\r\n\r\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n\r\nuse :\r\n\r\n    ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n\r\n\r\nso we add `android.` to `Manifest.permission.WRITE_EXTERNAL_STORAGE`","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>Maybe this solution could help anyone \nrather than:</p>\n\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n\n<p>use :</p>\n\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n\n<p>so we add <code>android.</code> to <code>Manifest.permission.WRITE_EXTERNAL_STORAGE</code></p>\n"},{"comments":[{"owner":{"account_id":5281530,"reputation":486,"user_id":4216713,"accept_rate":78,"display_name":"Jose Ricardo Citerio Alcala"},"score":0,"creation_date":1684956092,"post_id":55260509,"comment_id":134594901,"body_markdown":"Hi buddy, I think this is my case, did you manage to solve it?","body":"Hi buddy, I think this is my case, did you manage to solve it?"},{"owner":{"account_id":3677069,"reputation":416,"user_id":3062923,"display_name":"JohnT"},"score":0,"creation_date":1685140851,"post_id":55260509,"comment_id":134625058,"body_markdown":"Just change the flow of events in the app. Do NOT launch another activity right after you request a permission!","body":"Just change the flow of events in the app. Do NOT launch another activity right after you request a permission!"}],"tags":[],"owner":{"account_id":3677069,"reputation":416,"user_id":3062923,"display_name":"JohnT"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553083963,"creation_date":1553083963,"answer_id":55260509,"question_id":35484767,"body_markdown":"For me the problem was that right after making the request, my main activity launched another activity. That superseded the dialog so it was never seen.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>For me the problem was that right after making the request, my main activity launched another activity. That superseded the dialog so it was never seen.</p>\n"},{"tags":[],"owner":{"account_id":6502239,"reputation":1558,"user_id":5032550,"accept_rate":67,"display_name":"Luis Cabrera Benito"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658364998,"creation_date":1569951200,"answer_id":58189749,"question_id":35484767,"body_markdown":"Don&#39;t forget to write the permissions without extra spaces in the manifest. In my case, I had:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE &quot; /&gt;\r\n```\r\n\r\nBut look, at the end, there&#39;s an extra space. Just write it the right way:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\nAnd it&#39;s working now.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>Don't forget to write the permissions without extra spaces in the manifest. In my case, I had:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE &quot; /&gt;\n</code></pre>\n<p>But look, at the end, there's an extra space. Just write it the right way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And it's working now.</p>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580228844,"creation_date":1580228844,"answer_id":59953087,"question_id":35484767,"body_markdown":"***No matter what you do, Check if you declare Permission you need in the Manifest file.*** \r\n==\r\n\r\n```\r\n\r\n    &lt;!--Declaring the required permissions--&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n\r\n```\r\n\r\nThen go to next steps..\r\n","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<h1><strong><em>No matter what you do, Check if you declare Permission you need in the Manifest file.</em></strong></h1>\n\n<pre><code>\n    &lt;!--Declaring the required permissions--&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission\n        android:name=\"android.permission.CAMERA\" /&gt;\n\n\n</code></pre>\n\n<p>Then go to next steps..</p>\n"},{"tags":[],"owner":{"account_id":5601902,"reputation":71,"user_id":4437878,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1697793397,"creation_date":1583934247,"answer_id":60637490,"question_id":35484767,"body_markdown":"Here is another experience I&#39;d like to share with you guys. The problem showed up after I implemented the following code to check for BLE access permission:\r\n\r\n```java\r\nfinal String requiredPermission = (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q &amp;&amp; targetSdkVersion &gt;= Build.VERSION_CODES.Q) ?\r\n            android.Manifest.permission.ACCESS_FINE_LOCATION :\r\n            android.Manifest.permission.ACCESS_COARSE_LOCATION;\r\n```\r\n\r\nI meant to distinguish between FINE and COARSE location permission requests, both had been defined in the manifest. When checking for ACCESS_COARSE_LOCATION permission, the &quot;Request permission&quot; dialog never poped up but `onRequestPermissionsResult` was always called with PERMISSION_DENIED (in case permission was not enabled in app settings). So I removed the check for BUILD.SDK and checked only for `ACCESS_FINE_LOCATION` and voilla the missing dialog showed up.\r\n\r\n```java\r\nfinal String requiredPermission = android.Manifest.permission.ACCESS_FINE_LOCATION;\r\n```\r\n\r\ndid the trick.\r\n\r\nThe Manifest source contains:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n```\r\n\r\nbut the apk contained `android.permission.ACCESS_FINE_LOCATION` only. Sometime during build, the `ACCESS_COARSE_LOCATION` had been removed.\r\n\r\nI hope this might help somebody having the same issue.","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>Here is another experience I'd like to share with you guys. The problem showed up after I implemented the following code to check for BLE access permission:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String requiredPermission = (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q &amp;&amp; targetSdkVersion &gt;= Build.VERSION_CODES.Q) ?\n            android.Manifest.permission.ACCESS_FINE_LOCATION :\n            android.Manifest.permission.ACCESS_COARSE_LOCATION;\n</code></pre>\n<p>I meant to distinguish between FINE and COARSE location permission requests, both had been defined in the manifest. When checking for ACCESS_COARSE_LOCATION permission, the &quot;Request permission&quot; dialog never poped up but <code>onRequestPermissionsResult</code> was always called with PERMISSION_DENIED (in case permission was not enabled in app settings). So I removed the check for BUILD.SDK and checked only for <code>ACCESS_FINE_LOCATION</code> and voilla the missing dialog showed up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String requiredPermission = android.Manifest.permission.ACCESS_FINE_LOCATION;\n</code></pre>\n<p>did the trick.</p>\n<p>The Manifest source contains:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n</code></pre>\n<p>but the apk contained <code>android.permission.ACCESS_FINE_LOCATION</code> only. Sometime during build, the <code>ACCESS_COARSE_LOCATION</code> had been removed.</p>\n<p>I hope this might help somebody having the same issue.</p>\n"},{"comments":[{"owner":{"account_id":17328821,"reputation":380,"user_id":12552434,"display_name":"abby"},"score":0,"creation_date":1674731809,"post_id":71376512,"comment_id":132778411,"body_markdown":"life saver.. no one tells u how messed up things are than they actually look :)","body":"life saver.. no one tells u how messed up things are than they actually look :)"}],"tags":[],"owner":{"account_id":3354060,"reputation":5435,"user_id":2817457,"accept_rate":50,"display_name":"Jianwu Chen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646628264,"creation_date":1646628264,"answer_id":71376512,"question_id":35484767,"body_markdown":"I followed the top answer, but still didn&#39;t work. This simple issue wasted me many days. For my case, I&#39;m trying to get access for `MANAGE_EXTERNAL_STORAGE`. At the end, I found for this particular permission, we can&#39;t use `ActivityCompat.requestPermissions()`, instead I have to use `Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION`. And to check if the permission is there, we also need to use a different API: `Environment.isExternalStorageManager()` instead of `ContextCompat.checkSelfPermission()`, not sure why they design in such an inconsistent way cause so much confusions. \r\n\r\nI get my issue resolved following: https://stackoverflow.com/questions/64250814/how-to-obtain-manage-external-storage-permission\r\n\r\nAnd also this is mentioned in SDK document of: [manage-all-files][1].\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/manage-all-files","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>I followed the top answer, but still didn't work. This simple issue wasted me many days. For my case, I'm trying to get access for <code>MANAGE_EXTERNAL_STORAGE</code>. At the end, I found for this particular permission, we can't use <code>ActivityCompat.requestPermissions()</code>, instead I have to use <code>Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION</code>. And to check if the permission is there, we also need to use a different API: <code>Environment.isExternalStorageManager()</code> instead of <code>ContextCompat.checkSelfPermission()</code>, not sure why they design in such an inconsistent way cause so much confusions.</p>\n<p>I get my issue resolved following: <a href=\"https://stackoverflow.com/questions/64250814/how-to-obtain-manage-external-storage-permission\">How to obtain MANAGE_EXTERNAL_STORAGE permission</a></p>\n<p>And also this is mentioned in SDK document of: <a href=\"https://developer.android.com/training/data-storage/manage-all-files\" rel=\"nofollow noreferrer\">manage-all-files</a>.</p>\n"},{"tags":[],"owner":{"account_id":1946193,"reputation":388,"user_id":1751294,"display_name":"Victor Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652799659,"creation_date":1652799659,"answer_id":72276339,"question_id":35484767,"body_markdown":"TL;DR: \r\nAdd the following to your Manifest file:\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; **tools:remove=&quot;android:maxSdkVersion&quot;** /&gt;\r\n\r\n\r\nCheck this article, it fixed it for me: \r\n\r\nhttps://nphau.medium.com/android-request-permissions-not-showing-a-dialog-box-b7f2067d7b09\r\n\r\n","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>TL;DR:\nAdd the following to your Manifest file:</p>\n<p>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; <strong>tools:remove=&quot;android:maxSdkVersion&quot;</strong> /&gt;</p>\n<p>Check this article, it fixed it for me:</p>\n<p><a href=\"https://nphau.medium.com/android-request-permissions-not-showing-a-dialog-box-b7f2067d7b09\" rel=\"nofollow noreferrer\">https://nphau.medium.com/android-request-permissions-not-showing-a-dialog-box-b7f2067d7b09</a></p>\n"},{"comments":[{"owner":{"account_id":22185591,"reputation":1082,"user_id":16517581,"display_name":"DSDmark"},"score":0,"creation_date":1675344224,"post_id":75302150,"comment_id":132911503,"body_markdown":"Instead of simply providing the answer directly, try writing a detailed comment that explains the solution, as long as the explanation is not too lengthy.","body":"Instead of simply providing the answer directly, try writing a detailed comment that explains the solution, as long as the explanation is not too lengthy."},{"owner":{"account_id":172873,"reputation":2540,"user_id":401183,"accept_rate":71,"display_name":"user401183"},"score":0,"creation_date":1675381852,"post_id":75302150,"comment_id":132922894,"body_markdown":"This worked for me as well. Not sure why, but at least i know its related to target sdk and can investigate further.","body":"This worked for me as well. Not sure why, but at least i know its related to target sdk and can investigate further."},{"owner":{"account_id":17835692,"reputation":67,"user_id":12954755,"display_name":"Nur Shuvo"},"score":0,"creation_date":1699716044,"post_id":75302150,"comment_id":136567683,"body_markdown":"I agree @DSDmark. I will try to add from now on.","body":"I agree @DSDmark. I will try to add from now on."}],"tags":[],"owner":{"account_id":17835692,"reputation":67,"user_id":12954755,"display_name":"Nur Shuvo"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1675192846,"creation_date":1675192846,"answer_id":75302150,"question_id":35484767,"body_markdown":"In my case, target sdk 33 to 32 solves it","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>In my case, target sdk 33 to 32 solves it</p>\n"},{"tags":[],"owner":{"account_id":172873,"reputation":2540,"user_id":401183,"accept_rate":71,"display_name":"user401183"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675384026,"creation_date":1675384026,"answer_id":75330286,"question_id":35484767,"body_markdown":"For me, this was related to them getting more granular with permissions in 33, related to requesting read_external_storage. \r\n\r\nThis is the kotlin code I&#39;m using to check and request access in Jan 2023.\r\n\r\n\r\n    private fun checkPermissions():Boolean{\r\n            // version 33 gets more granular\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n                if (checkSelfPermission(Manifest.permission.READ_MEDIA_IMAGES)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(\r\n                        this, arrayOf(\r\n                            Manifest.permission.READ_MEDIA_IMAGES,\r\n                            Manifest.permission.READ_MEDIA_VIDEO // why isn&#39;t this plural too\r\n                        ),\r\n                        1\r\n                    )\r\n                    return false\r\n                }\r\n            }else{\r\n                if (checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                    ActivityCompat.requestPermissions(\r\n                        this, arrayOf(\r\n                            Manifest.permission.READ_EXTERNAL_STORAGE\r\n                        ),\r\n                        1\r\n                    )\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }\r\n\r\n\r\n\r\nI also had to add all 3 of these to my manifest, to support apis 31-33.\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;  /&gt;    \r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;  /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;  /&gt;\r\n\r\n\r\n","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<p>For me, this was related to them getting more granular with permissions in 33, related to requesting read_external_storage.</p>\n<p>This is the kotlin code I'm using to check and request access in Jan 2023.</p>\n<pre><code>private fun checkPermissions():Boolean{\n        // version 33 gets more granular\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n            if (checkSelfPermission(Manifest.permission.READ_MEDIA_IMAGES)\n                != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                    this, arrayOf(\n                        Manifest.permission.READ_MEDIA_IMAGES,\n                        Manifest.permission.READ_MEDIA_VIDEO // why isn't this plural too\n                    ),\n                    1\n                )\n                return false\n            }\n        }else{\n            if (checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                    this, arrayOf(\n                        Manifest.permission.READ_EXTERNAL_STORAGE\n                    ),\n                    1\n                )\n                return false\n            }\n        }\n        return true\n    }\n</code></pre>\n<p>I also had to add all 3 of these to my manifest, to support apis 31-33.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;  /&gt;    \n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;  /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;  /&gt;\n</code></pre>\n"}],"owner":{"account_id":7868321,"reputation":1163,"user_id":5946486,"display_name":"Idan Ayzen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161987,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":35486162,"answer_count":24,"score":113,"last_activity_date":1697793397,"creation_date":1455807245,"question_id":35484767,"body_markdown":"    if (ContextCompat.checkSelfPermission(RegisterActivity.this,      Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_DENIED){\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.READ_PHONE_STATE}, REQUEST_READ_PHONE_STATE_PERMISSION);\r\n\r\n\r\ni&#39;m trying to use this function on nexus 5 api 23 and its just not showing me the dialog box like its supposed to do, it&#39;s just not doing anything.\r\nwhat could cause the problem? (this code is in the java activity)\r\ni tried changing my minimum api to 23 and use the requestPermissions() without the ActivityCompat but still not working.\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.2&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.idanayzen.photomap&quot;\r\n        minSdkVersion 23\r\n        targetSdkVersion 23\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n    compile &#39;com.google.android.gms:play-services:8.4.0&#39;\r\n    compile &#39;com.android.support:design:23.1.1&#39;\r\n    }\r\n\r\nand the Manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.idanayzen.photomap&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MapsActivity&quot;\r\n            android:label=&quot;@string/title_activity_maps&quot; /&gt;\r\n        &lt;activity android:name=&quot;.RegisterActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.WrongPhoneNum&quot;&gt;&lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n","title":"ActivityCompat.requestPermissions not showing dialog box","body":"<pre><code>if (ContextCompat.checkSelfPermission(RegisterActivity.this,      Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_DENIED){\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.READ_PHONE_STATE}, REQUEST_READ_PHONE_STATE_PERMISSION);\n</code></pre>\n\n<p>i'm trying to use this function on nexus 5 api 23 and its just not showing me the dialog box like its supposed to do, it's just not doing anything.\nwhat could cause the problem? (this code is in the java activity)\ni tried changing my minimum api to 23 and use the requestPermissions() without the ActivityCompat but still not working.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.2\"\n\ndefaultConfig {\n    applicationId \"com.example.idanayzen.photomap\"\n    minSdkVersion 23\n    targetSdkVersion 23\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:appcompat-v7:23.1.1'\ncompile 'com.google.android.gms:play-services:8.4.0'\ncompile 'com.android.support:design:23.1.1'\n}\n</code></pre>\n\n<p>and the Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.idanayzen.photomap\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_SMS\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n\n\n    &lt;meta-data\n        android:name=\"com.google.android.geo.API_KEY\"\n        android:value=\"@string/google_maps_key\" /&gt;\n\n    &lt;activity\n        android:name=\".MapsActivity\"\n        android:label=\"@string/title_activity_maps\" /&gt;\n    &lt;activity android:name=\".RegisterActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".WrongPhoneNum\"&gt;&lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","open-telemetry","aws-xray"],"comments":[{"owner":{"account_id":11152648,"reputation":267,"user_id":8185365,"display_name":"William Armiros"},"score":0,"creation_date":1665759559,"post_id":73957707,"comment_id":130780344,"body_markdown":"Hello - this may be an issue with the AWS SDK instrumentation. The instrumentation should pass in trace context as an [SQS system message attribute](https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-message-metadata.html#sqs-message-system-attributes) for it to be recognized downstream. Please open an issue here to describe this bug: https://github.com/open-telemetry/opentelemetry-java-instrumentation/","body":"Hello - this may be an issue with the AWS SDK instrumentation. The instrumentation should pass in trace context as an <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-message-metadata.html#sqs-message-system-attributes\" rel=\"nofollow noreferrer\">SQS system message attribute</a> for it to be recognized downstream. Please open an issue here to describe this bug: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation</a>"},{"owner":{"account_id":26528435,"reputation":21,"user_id":20161040,"display_name":"Russell Jacobs"},"score":0,"creation_date":1667299182,"post_id":73957707,"comment_id":131130434,"body_markdown":"https://github.com/aws-observability/aws-otel-java-instrumentation/issues/244. It is already a message attribute. Basically this is a general with SQS. The instrumentation should automatically extracts the SQS trace context into a span per message received","body":"<a href=\"https://github.com/aws-observability/aws-otel-java-instrumentation/issues/244\" rel=\"nofollow noreferrer\">github.com/aws-observability/aws-otel-java-instrumentation/&hellip;</a>&zwnj;&#8203;. It is already a message attribute. Basically this is a general with SQS. The instrumentation should automatically extracts the SQS trace context into a span per message received"}],"answers":[{"tags":[],"owner":{"account_id":28023588,"reputation":11,"user_id":21691066,"display_name":"Ilia Beliaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697793307,"creation_date":1697629497,"answer_id":77316001,"question_id":73957707,"body_markdown":"With a current state of opentelemetry library (1.31.0) from my (somewhat limited) understanding, the attributes are correctly propagated to SQS queue when `otel.instrumentation.aws-sdk.experimental-use-propagator-for-messaging` property is specified (or an `OTEL_INSTRUMENTATION_AWS_SDK_EXPERIMENTAL_USE_PROPAGATOR_FOR_MESSAGING` env variable).\r\n\r\nHowever, when they are read from the SQS message attributes on the receiving side, a context with trace values is created and immediately closed without wrapping the actual message handling (see [code on GitHub][1]):\r\n```java\r\n  private static void createConsumerSpan(\r\n      Message message,\r\n      SdkHttpResponse httpResponse,\r\n      ExecutionAttributes executionAttributes,\r\n      TracingExecutionInterceptor config) {\r\n\r\n    io.opentelemetry.context.Context parentContext = io.opentelemetry.context.Context.root();\r\n\r\n    TextMapPropagator messagingPropagator = config.getMessagingPropagator();\r\n    if (messagingPropagator != null) {\r\n      parentContext =\r\n          SqsParentContext.ofMessageAttributes(message.messageAttributes(), messagingPropagator);\r\n    }\r\n\r\n    if (config.shouldUseXrayPropagator()\r\n        &amp;&amp; parentContext == io.opentelemetry.context.Context.root()) {\r\n      parentContext = SqsParentContext.ofSystemAttributes(message.attributesAsStrings());\r\n    }\r\n\r\n    Instrumenter&lt;ExecutionAttributes, SdkHttpResponse&gt; consumerInstrumenter =\r\n        config.getConsumerInstrumenter();\r\n    if (consumerInstrumenter.shouldStart(parentContext, executionAttributes)) {\r\n      io.opentelemetry.context.Context context =\r\n          consumerInstrumenter.start(parentContext, executionAttributes);\r\n\r\n      // TODO: Even if we keep HTTP attributes (see afterMarshalling), does it make sense here\r\n      //  per-message?\r\n      // TODO: Should we really create root spans if we can&#39;t extract anything, or should we attach\r\n      //  to the current context?\r\n      consumerInstrumenter.end(context, executionAttributes, httpResponse, null);\r\n    }\r\n  }\r\n```\r\nAs a far as I see, that&#39;s done like this because AWS SQS SDK pulls messages in batches (even if you set it to a batch size of 1 it will still be a list).\r\nYou would need to setup manual span creation from remote parent in a place of message handling. Something like this should work (example written in kotlin, should be similar for java):\r\n```kotlin\r\nimport software.amazon.awssdk.services.sqs.model.Message\r\n\r\n    val tracer: Tracer\r\n\r\n    fun handle(\r\n        message: Message,\r\n        block: (Message) -&gt; Unit,\r\n    ) {\r\n        val span = createSpan(message)\r\n        try {\r\n            span.makeCurrent().use { block(message) }\r\n        } catch (e: Throwable) {\r\n            span.recordException(e)\r\n            throw e\r\n        } finally {\r\n            span.end()\r\n        }\r\n    }\r\n\r\n   fun createSpan(message: Message): Span {\r\n        // Example uses b3multi headers, change to what is used in your case\r\n        val traceId = message.messageAttributes()[&quot;X-B3-TraceId&quot;]?.stringValue()\r\n        val spanId = message.messageAttributes()[&quot;X-B3-SpanId&quot;]?.stringValue()\r\n        val isSampled = message.messageAttributes().getOrDefault(&quot;X-B3-Sampled&quot;, &quot;false&quot;)\r\n            .let { it == &quot;true&quot; || it == &quot;1&quot; }\r\n        val traceFlags = if (isSampled) TraceFlags.getSampled() else TraceFlags.getDefault()\r\n        return if (traceId != null &amp;&amp; spanId != null) {\r\n            tracer.spanBuilder(&quot;span-name&quot;)\r\n                .setParent(\r\n                    Context.current().with(\r\n                        Span.wrap(\r\n                            SpanContext.createFromRemoteParent(\r\n                                traceId,\r\n                                spanId,\r\n                                traceFlags,\r\n                                TraceState.getDefault(),\r\n                            ),\r\n                        ),\r\n                    ),\r\n                ).startSpan()\r\n        } else {\r\n            Span.current()\r\n        }\r\n    }\r\n```\r\n**EDIT:** it seems like propagation with SqsTemplate (in case of spring) doesn&#39;t work reliably, because for the first request a queue url is fetched and then in an async manner the actual send request is done.\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/v1.31.0/instrumentation/aws-sdk/aws-sdk-2.2/library/src/main/java/io/opentelemetry/instrumentation/awssdk/v2_2/SqsImpl.java#L88","title":"How do I propagate SQS calls with OpenTelemetry auto-instrumentation","body":"<p>With a current state of opentelemetry library (1.31.0) from my (somewhat limited) understanding, the attributes are correctly propagated to SQS queue when <code>otel.instrumentation.aws-sdk.experimental-use-propagator-for-messaging</code> property is specified (or an <code>OTEL_INSTRUMENTATION_AWS_SDK_EXPERIMENTAL_USE_PROPAGATOR_FOR_MESSAGING</code> env variable).</p>\n<p>However, when they are read from the SQS message attributes on the receiving side, a context with trace values is created and immediately closed without wrapping the actual message handling (see <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/v1.31.0/instrumentation/aws-sdk/aws-sdk-2.2/library/src/main/java/io/opentelemetry/instrumentation/awssdk/v2_2/SqsImpl.java#L88\" rel=\"nofollow noreferrer\">code on GitHub</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static void createConsumerSpan(\n      Message message,\n      SdkHttpResponse httpResponse,\n      ExecutionAttributes executionAttributes,\n      TracingExecutionInterceptor config) {\n\n    io.opentelemetry.context.Context parentContext = io.opentelemetry.context.Context.root();\n\n    TextMapPropagator messagingPropagator = config.getMessagingPropagator();\n    if (messagingPropagator != null) {\n      parentContext =\n          SqsParentContext.ofMessageAttributes(message.messageAttributes(), messagingPropagator);\n    }\n\n    if (config.shouldUseXrayPropagator()\n        &amp;&amp; parentContext == io.opentelemetry.context.Context.root()) {\n      parentContext = SqsParentContext.ofSystemAttributes(message.attributesAsStrings());\n    }\n\n    Instrumenter&lt;ExecutionAttributes, SdkHttpResponse&gt; consumerInstrumenter =\n        config.getConsumerInstrumenter();\n    if (consumerInstrumenter.shouldStart(parentContext, executionAttributes)) {\n      io.opentelemetry.context.Context context =\n          consumerInstrumenter.start(parentContext, executionAttributes);\n\n      // TODO: Even if we keep HTTP attributes (see afterMarshalling), does it make sense here\n      //  per-message?\n      // TODO: Should we really create root spans if we can't extract anything, or should we attach\n      //  to the current context?\n      consumerInstrumenter.end(context, executionAttributes, httpResponse, null);\n    }\n  }\n</code></pre>\n<p>As a far as I see, that's done like this because AWS SQS SDK pulls messages in batches (even if you set it to a batch size of 1 it will still be a list).\nYou would need to setup manual span creation from remote parent in a place of message handling. Something like this should work (example written in kotlin, should be similar for java):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import software.amazon.awssdk.services.sqs.model.Message\n\n    val tracer: Tracer\n\n    fun handle(\n        message: Message,\n        block: (Message) -&gt; Unit,\n    ) {\n        val span = createSpan(message)\n        try {\n            span.makeCurrent().use { block(message) }\n        } catch (e: Throwable) {\n            span.recordException(e)\n            throw e\n        } finally {\n            span.end()\n        }\n    }\n\n   fun createSpan(message: Message): Span {\n        // Example uses b3multi headers, change to what is used in your case\n        val traceId = message.messageAttributes()[&quot;X-B3-TraceId&quot;]?.stringValue()\n        val spanId = message.messageAttributes()[&quot;X-B3-SpanId&quot;]?.stringValue()\n        val isSampled = message.messageAttributes().getOrDefault(&quot;X-B3-Sampled&quot;, &quot;false&quot;)\n            .let { it == &quot;true&quot; || it == &quot;1&quot; }\n        val traceFlags = if (isSampled) TraceFlags.getSampled() else TraceFlags.getDefault()\n        return if (traceId != null &amp;&amp; spanId != null) {\n            tracer.spanBuilder(&quot;span-name&quot;)\n                .setParent(\n                    Context.current().with(\n                        Span.wrap(\n                            SpanContext.createFromRemoteParent(\n                                traceId,\n                                spanId,\n                                traceFlags,\n                                TraceState.getDefault(),\n                            ),\n                        ),\n                    ),\n                ).startSpan()\n        } else {\n            Span.current()\n        }\n    }\n</code></pre>\n<p><strong>EDIT:</strong> it seems like propagation with SqsTemplate (in case of spring) doesn't work reliably, because for the first request a queue url is fetched and then in an async manner the actual send request is done.</p>\n"}],"owner":{"account_id":26528435,"reputation":21,"user_id":20161040,"display_name":"Russell Jacobs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697793307,"creation_date":1664958445,"question_id":73957707,"body_markdown":"I&#39;ve done the necessary sidecar setup in CloudFormation for the collector and added the following to my docker file for my Java applications deployed in AWS ECS (obviously replacing myservice with relevant name):\r\n\r\n```\r\nENV OTEL_SERVICE_NAME=&quot;MyService&quot;\r\nENV OTEL_EXPORTER_OTLP_ENDPOINT=&quot;http://localhost:4317&quot;\r\nENV OTEL_PROPAGATORS=&quot;tracecontext,baggage,xray&quot;\r\n\r\nCMD java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -javaagent:aws-opentelemetry-agent.jar -jar myservice-1.0.jar\r\n```\r\n\r\nTraces for calls to synchronous endpoints work fantastically but traces do not seem to be propagated across SQS calls. \r\n\r\nAny ideas?","title":"How do I propagate SQS calls with OpenTelemetry auto-instrumentation","body":"<p>I've done the necessary sidecar setup in CloudFormation for the collector and added the following to my docker file for my Java applications deployed in AWS ECS (obviously replacing myservice with relevant name):</p>\n<pre><code>ENV OTEL_SERVICE_NAME=&quot;MyService&quot;\nENV OTEL_EXPORTER_OTLP_ENDPOINT=&quot;http://localhost:4317&quot;\nENV OTEL_PROPAGATORS=&quot;tracecontext,baggage,xray&quot;\n\nCMD java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -javaagent:aws-opentelemetry-agent.jar -jar myservice-1.0.jar\n</code></pre>\n<p>Traces for calls to synchronous endpoints work fantastically but traces do not seem to be propagated across SQS calls.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","google-maps","permissions","location"],"comments":[{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1563467484,"post_id":57098852,"comment_id":100719260,"body_markdown":"Check [this](https://github.com/googlesamples/easypermissions)","body":"Check <a href=\"https://github.com/googlesamples/easypermissions\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1563468655,"post_id":57099143,"comment_id":100719835,"body_markdown":"this is not the correct solution for new api versions","body":"this is not the correct solution for new api versions"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1563469844,"post_id":57099143,"comment_id":100720348,"body_markdown":"good edit :) will upvote your answer, after you change READ_CONTACTS","body":"good edit :) will upvote your answer, after you change READ_CONTACTS"}],"tags":[],"owner":{"account_id":16342666,"reputation":109,"user_id":11803223,"display_name":"Andino Inyang"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563470200,"creation_date":1563467836,"answer_id":57099143,"question_id":57098852,"body_markdown":"\r\n    if (ContextCompat.checkSelfPermission(thisActivity,\r\n            Manifest.permission.READ_CONTACTS)\r\n            != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n        // Permission is not granted\r\n        // Should we show an explanation?\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(thisActivity,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n\r\n        } else {\r\n            ActivityCompat.requestPermissions(thisActivity,\r\n                    new String[]{Manifest.permission.ACCESS_COARSE_LOCATION});\r\n        }\r\n    } else {\r\n        // Permission has already been granted\r\n    }","title":"How to ask for location permission in Android?","body":"<pre><code>if (ContextCompat.checkSelfPermission(thisActivity,\n        Manifest.permission.READ_CONTACTS)\n        != PackageManager.PERMISSION_GRANTED) {\n\n    // Permission is not granted\n    // Should we show an explanation?\n    if (ActivityCompat.shouldShowRequestPermissionRationale(thisActivity,\n            Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n    } else {\n        ActivityCompat.requestPermissions(thisActivity,\n                new String[]{Manifest.permission.ACCESS_COARSE_LOCATION});\n    }\n} else {\n    // Permission has already been granted\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11276487,"reputation":305,"user_id":8270400,"display_name":"Ajith Ramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697793153,"creation_date":1563469321,"answer_id":57099478,"question_id":57098852,"body_markdown":"From API level 23 (Android 6.0 Marshmallow) we need to ask Run-time permission from the user-end. You can do this in two steps.\r\n\r\n1) Add these two permissions in ```AndroidManifest.xml``` file.\r\n\r\n```&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;```\r\n\r\n```&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;```\r\n\r\nExample:\r\n```\r\n&lt;manifest xlmns:android...&gt;\r\n ...\r\n &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt; \r\n &lt;application ...\r\n&lt;/manifest&gt;\r\n```\r\n\r\n2) Put this code block inside class where you need to get current location\r\n  ```void CheckUserPermsions(){\r\n      if ( Build.VERSION.SDK_INT &gt;= 23){\r\n                if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) !=\r\n                            PackageManager.PERMISSION_GRANTED  ){\r\n                     requestPermissions(new String[]{\r\n                                        android.Manifest.permission.ACCESS_FINE_LOCATION},\r\n                                REQUEST_CODE_ASK_PERMISSIONS);\r\n                        return ;\r\n                    }\r\n                }\r\n\r\n                getLocation();\r\n              \r\n    }\r\n    //get access to location permission\r\n    final private int REQUEST_CODE_ASK_PERMISSIONS = 123;\r\n\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case REQUEST_CODE_ASK_PERMISSIONS:\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    getLocation();\r\n                } else {\r\n                    // Permission Denied\r\n                    Toast.makeText( this,&quot;your message&quot; , Toast.LENGTH_SHORT)\r\n                            .show();\r\n                }\r\n                break;\r\n            default:\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n//Get location\r\n  public  void getLocation(){\r\n  \t    LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n  \t        Location myLocation=locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n                if (myLocation == null) \r\n                {\r\n                    myLocation = locationManager.getLastKnownLocation(LocationManager.PASSIVE_PROVIDER);\r\n\r\n                }\r\n    }\r\n```","title":"How to ask for location permission in Android?","body":"<p>From API level 23 (Android 6.0 Marshmallow) we need to ask Run-time permission from the user-end. You can do this in two steps.</p>\n<ol>\n<li>Add these two permissions in <code>AndroidManifest.xml</code> file.</li>\n</ol>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;</code></p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;</code></p>\n<p>Example:</p>\n<pre><code>&lt;manifest xlmns:android...&gt;\n ...\n &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt; \n &lt;application ...\n&lt;/manifest&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Put this code block inside class where you need to get current location</li>\n</ol>\n<pre><code>    if ( Build.VERSION.SDK_INT &gt;= 23){\n              if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) !=\n                          PackageManager.PERMISSION_GRANTED  ){\n                   requestPermissions(new String[]{\n                                      android.Manifest.permission.ACCESS_FINE_LOCATION},\n                              REQUEST_CODE_ASK_PERMISSIONS);\n                      return ;\n                  }\n              }\n\n              getLocation();\n            \n  }\n  //get access to location permission\n  final private int REQUEST_CODE_ASK_PERMISSIONS = 123;\n\n\n\n  @Override\n  public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n      switch (requestCode) {\n          case REQUEST_CODE_ASK_PERMISSIONS:\n              if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                  getLocation();\n              } else {\n                  // Permission Denied\n                  Toast.makeText( this,&quot;your message&quot; , Toast.LENGTH_SHORT)\n                          .show();\n              }\n              break;\n          default:\n              super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n      }\n  }\n\n//Get location\npublic  void getLocation(){\n      LocationManager locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n          Location myLocation=locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n              if (myLocation == null) \n              {\n                  myLocation = locationManager.getLastKnownLocation(LocationManager.PASSIVE_PROVIDER);\n\n              }\n  }\n</code></pre>\n"}],"owner":{"account_id":15781516,"reputation":43,"user_id":11387753,"display_name":"stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13133,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57099478,"answer_count":2,"score":4,"last_activity_date":1697793153,"creation_date":1563466640,"question_id":57098852,"body_markdown":"I have tried so many codes and solutions but none of them worked. I want to ask the user for permission and get the pop-up window. Even though I used the code the window won&#39;t show? I think the code can get changed but I don&#39;t know exactly where to place it. Also, I&#39;m new to Android Studio\r\n\r\n```java\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n\r\n    private GoogleMap mMap;\r\n    private LatLngBounds PODGORICA = new LatLngBounds(\r\n            new LatLng(42.400334, 19.227705), new LatLng(42.470269, 19.323107));\r\n\r\n    private DrawerLayout mDrawerLayout;\r\n    private ActionBarDrawerToggle mToggle;\r\n\r\n\r\n    private static final String TAG = &quot;MapActivity&quot;;\r\n\r\n    LocationManager locationManager;\r\n    String provider;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawerLayout);\r\n        mToggle = new ActionBarDrawerToggle(this, mDrawerLayout, R.string.open, R.string.close);\r\n\r\n        mDrawerLayout.addDrawerListener(mToggle);\r\n        mToggle.syncState();\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n\r\n        Button btnQR = (Button) findViewById(R.id.skener);\r\n\r\n\r\n        btnQR.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, Main2Activity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.INTERNET}\r\n                        ,10);\r\n            }\r\n            return;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (mToggle.onOptionsItemSelected(item)) {\r\n            return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n\r\n\r\n        mMap = googleMap;\r\n\r\n        mMap.setLatLngBoundsForCameraTarget(PODGORICA);\r\n        mMap.setMinZoomPreference(5.0f);\r\n        mMap.setMaxZoomPreference(25.0f);\r\n\r\n        CameraPosition cameraPosition = new CameraPosition.Builder()\r\n                .target(new LatLng(42.441332, 19.262953))\r\n                .zoom(15)\r\n                .bearing(0)\r\n                //.tilt(45)\r\n                .build();\r\n        mMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n\r\n\r\n\r\n     //   mMap.setMyLocationEnabled(true);\r\n\r\n    }\r\n\r\n```\r\n\r\nI even tried codes from Googles official page but got same result...","title":"How to ask for location permission in Android?","body":"<p>I have tried so many codes and solutions but none of them worked. I want to ask the user for permission and get the pop-up window. Even though I used the code the window won't show? I think the code can get changed but I don't know exactly where to place it. Also, I'm new to Android Studio</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n\npublic class MainActivity extends AppCompatActivity implements OnMapReadyCallback {\n\n\n    private GoogleMap mMap;\n    private LatLngBounds PODGORICA = new LatLngBounds(\n            new LatLng(42.400334, 19.227705), new LatLng(42.470269, 19.323107));\n\n    private DrawerLayout mDrawerLayout;\n    private ActionBarDrawerToggle mToggle;\n\n\n    private static final String TAG = \"MapActivity\";\n\n    LocationManager locationManager;\n    String provider;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        mDrawerLayout = (DrawerLayout) findViewById(R.id.drawerLayout);\n        mToggle = new ActionBarDrawerToggle(this, mDrawerLayout, R.string.open, R.string.close);\n\n        mDrawerLayout.addDrawerListener(mToggle);\n        mToggle.syncState();\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n\n\n        Button btnQR = (Button) findViewById(R.id.skener);\n\n\n        btnQR.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, Main2Activity.class);\n                startActivity(intent);\n            }\n        });\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                requestPermissions(new String[]{Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission.ACCESS_FINE_LOCATION,Manifest.permission.INTERNET}\n                        ,10);\n            }\n            return;\n        }\n\n\n    }\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (mToggle.onOptionsItemSelected(item)) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n\n\n        mMap = googleMap;\n\n        mMap.setLatLngBoundsForCameraTarget(PODGORICA);\n        mMap.setMinZoomPreference(5.0f);\n        mMap.setMaxZoomPreference(25.0f);\n\n        CameraPosition cameraPosition = new CameraPosition.Builder()\n                .target(new LatLng(42.441332, 19.262953))\n                .zoom(15)\n                .bearing(0)\n                //.tilt(45)\n                .build();\n        mMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n\n\n\n     //   mMap.setMyLocationEnabled(true);\n\n    }\n\n</code></pre>\n\n<p>I even tried codes from Googles official page but got same result...</p>\n"},{"tags":["java","java-8","base64","deprecated","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1591269554,"post_id":62193303,"comment_id":109994700,"body_markdown":"You could always build your own JVM from the OpenJDK sources.   A more practical approach may be to say to the 3rd-party &quot;fix your buggy library to work on Java 11 ... or I stop paying for support&quot;.  People should not write their code to depend on internal classes.  Sun / Oracle said it was a bad idea.  There were always alternatives.","body":"You could always build your own JVM from the OpenJDK sources.   A more practical approach may be to say to the 3rd-party &quot;fix your buggy library to work on Java 11 ... or I stop paying for support&quot;.  People should not write their code to depend on internal classes.  Sun / Oracle said it was a bad idea.  There were always alternatives."}],"answers":[{"comments":[{"owner":{"account_id":5355682,"reputation":55,"user_id":4268409,"display_name":"bimlesh prasad singh"},"score":0,"creation_date":1700671087,"post_id":62218609,"comment_id":136683991,"body_markdown":"How can we use path for base64.jar if its has been located somewhere else than classpath","body":"How can we use path for base64.jar if its has been located somewhere else than classpath"}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1591369923,"creation_date":1591369923,"answer_id":62218609,"question_id":62193303,"body_markdown":"One possible solution to this is you use `--patch-module` argument (if you are flexible in changing your command line). You will need to create a JAR with two class files `BASE64Encoder.class` and `CharacterEncoder.class` inside:\r\n\r\n    base64.jar\r\n        sun\r\n            misc\r\n                BASE64Encoder.class\r\n                CharacterEncoder.class\r\n\r\nThen you can run your application using the following options:\r\n\r\n    java --patch-module jdk.unsupported=base64.jar ...\r\n\r\n`--patch-module` will augment the `jdk.unsupported` module with two new classes so now you can use them at runtime.\r\n","title":"Java 11 : Patch sun.misc.BASE64Encoder","body":"<p>One possible solution to this is you use <code>--patch-module</code> argument (if you are flexible in changing your command line). You will need to create a JAR with two class files <code>BASE64Encoder.class</code> and <code>CharacterEncoder.class</code> inside:</p>\n\n<pre><code>base64.jar\n    sun\n        misc\n            BASE64Encoder.class\n            CharacterEncoder.class\n</code></pre>\n\n<p>Then you can run your application using the following options:</p>\n\n<pre><code>java --patch-module jdk.unsupported=base64.jar ...\n</code></pre>\n\n<p><code>--patch-module</code> will augment the <code>jdk.unsupported</code> module with two new classes so now you can use them at runtime.</p>\n"},{"tags":[],"owner":{"account_id":4422,"reputation":7797,"user_id":6629,"accept_rate":75,"display_name":"Kinjal Dixit"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1636293510,"creation_date":1636293510,"answer_id":69873095,"question_id":62193303,"body_markdown":"The JDK 11 replacement for sun.misc.BASE64Encoder and sun.miscBASE64Decoder is [java.util.Base64.Encoder](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Base64.Encoder.html) and [java.util.Base64.Decoder](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Base64.Decoder.html).\r\n\r\nTypical code in JDK 1.8 would look like:\r\n\r\n    String encoded = new BASE64Encoder().encode(bBytes);\r\n    byte[] decoded = new BASE64Decoder().decodeBuffer(encoded);\r\n\r\nThe JDK 11 replacements which would generate identical values are:\r\n\r\n    import java.util.Base64;\r\n    // ...\r\n    String encoded = Base64.getEncoder().encodeToString(bBytes);\r\n    byte[] decoded = Base64.getDecoder().decode(encoded);\r\n\r\n","title":"Java 11 : Patch sun.misc.BASE64Encoder","body":"<p>The JDK 11 replacement for sun.misc.BASE64Encoder and sun.miscBASE64Decoder is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Base64.Encoder.html\" rel=\"noreferrer\">java.util.Base64.Encoder</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Base64.Decoder.html\" rel=\"noreferrer\">java.util.Base64.Decoder</a>.</p>\n<p>Typical code in JDK 1.8 would look like:</p>\n<pre><code>String encoded = new BASE64Encoder().encode(bBytes);\nbyte[] decoded = new BASE64Decoder().decodeBuffer(encoded);\n</code></pre>\n<p>The JDK 11 replacements which would generate identical values are:</p>\n<pre><code>import java.util.Base64;\n// ...\nString encoded = Base64.getEncoder().encodeToString(bBytes);\nbyte[] decoded = Base64.getDecoder().decode(encoded);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223320,"reputation":31,"user_id":2655840,"display_name":"CormacM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697792986,"creation_date":1697501737,"answer_id":77305555,"question_id":62193303,"body_markdown":"I was getting the same error trying to run Spring 5 on Java 11. I can&#39;t upgrade to Spring 6 since my company hasn&#39;t certified Java 17 yet (another story).\r\n\r\nThe answer from ZhekaKozlov worked for me, although I had to add `sun/misc/CharacterEncoder.class` to my patch jar.\r\nAlso worth noting that adding my `base64.jar` to the classpath had no effect - I had to use the patch-module argument.","title":"Java 11 : Patch sun.misc.BASE64Encoder","body":"<p>I was getting the same error trying to run Spring 5 on Java 11. I can't upgrade to Spring 6 since my company hasn't certified Java 17 yet (another story).</p>\n<p>The answer from ZhekaKozlov worked for me, although I had to add <code>sun/misc/CharacterEncoder.class</code> to my patch jar.\nAlso worth noting that adding my <code>base64.jar</code> to the classpath had no effect - I had to use the patch-module argument.</p>\n"},{"tags":[],"owner":{"account_id":223320,"reputation":31,"user_id":2655840,"display_name":"CormacM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697501906,"creation_date":1697501906,"answer_id":77305565,"question_id":62193303,"body_markdown":"I was getting the same error trying to run Spring 5 on Java 11. I can&#39;t upgrade to Spring 6 since my company hasn&#39;t certified Java 17 yet (another story).\r\nThe answer from ZhekaKozlov worked for me, although I had to add sun/misc/CEStreamExhausted.class to my patch jar (I got all the sun classes from rt.jar)\r\nAlso worth noting that adding my base64.jar to the classpath had no effect - I had to use the patch-module argument.","title":"Java 11 : Patch sun.misc.BASE64Encoder","body":"<p>I was getting the same error trying to run Spring 5 on Java 11. I can't upgrade to Spring 6 since my company hasn't certified Java 17 yet (another story).\nThe answer from ZhekaKozlov worked for me, although I had to add sun/misc/CEStreamExhausted.class to my patch jar (I got all the sun classes from rt.jar)\nAlso worth noting that adding my base64.jar to the classpath had no effect - I had to use the patch-module argument.</p>\n"}],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24657,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1697792986,"creation_date":1591269431,"question_id":62193303,"body_markdown":"This question is not a duplicate of [java.lang.NoClassDefFoundError: sun/misc/BASE64Encoder][1].\r\n\r\nI am trying to update the Java Version (to 11) in my app and one of the libraries in my app uses `sun.misc.BASE64Encoder` class, so I inevitably get this exception:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: sun.misc.BASE64Encoder\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n```\r\n\r\nNow, the way to solve would be to use `java.util.Base64` or apache commons as the other answers suggest. However, the problem is, this library belongs to a third party and I don&#39;t have the source code for it. There doesn&#39;t seem to be a new version that is not using these classes. So, to work around this issue, I did the following:\r\n\r\n * Created package `sun.misc`\r\n * Copied both `BASE64Encoder` and `CharacterEncoder` classes in this package\r\n\r\nBut now, I get a compilation error saying `The package sun.misc conflicts with a package accessible from another module: jdk.unsupported`.\r\n\r\nIs there any way to get around this error? If not, can I add a `jar` to the dependencies that contains these classes? I am just trying to make sure these classes are available to that third party library at runtime (either via my own source code or via a jar that bundles these classes in).\r\n\r\n  [1]: https://stackoverflow.com/questions/29692146/java-lang-noclassdeffounderror-sun-misc-base64encoder","title":"Java 11 : Patch sun.misc.BASE64Encoder","body":"<p>This question is not a duplicate of <a href=\"https://stackoverflow.com/questions/29692146/java-lang-noclassdeffounderror-sun-misc-base64encoder\">java.lang.NoClassDefFoundError: sun/misc/BASE64Encoder</a>.</p>\n\n<p>I am trying to update the Java Version (to 11) in my app and one of the libraries in my app uses <code>sun.misc.BASE64Encoder</code> class, so I inevitably get this exception:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: sun.misc.BASE64Encoder\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n\n<p>Now, the way to solve would be to use <code>java.util.Base64</code> or apache commons as the other answers suggest. However, the problem is, this library belongs to a third party and I don't have the source code for it. There doesn't seem to be a new version that is not using these classes. So, to work around this issue, I did the following:</p>\n\n<ul>\n<li>Created package <code>sun.misc</code></li>\n<li>Copied both <code>BASE64Encoder</code> and <code>CharacterEncoder</code> classes in this package</li>\n</ul>\n\n<p>But now, I get a compilation error saying <code>The package sun.misc conflicts with a package accessible from another module: jdk.unsupported</code>.</p>\n\n<p>Is there any way to get around this error? If not, can I add a <code>jar</code> to the dependencies that contains these classes? I am just trying to make sure these classes are available to that third party library at runtime (either via my own source code or via a jar that bundles these classes in).</p>\n"},{"tags":["java","android","android-layout","android-softkeyboard","android-scrollview"],"comments":[{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":2,"creation_date":1448610569,"post_id":15343355,"comment_id":55663107,"body_markdown":"for Android 5, check out this related post: [Android - adjust scrollview when keyboard is up for android 5.0 (lollipop)](http://stackoverflow.com/questions/27167176/android-adjust-scrollview-when-keyboard-is-up-for-android-5-0-lollipop)","body":"for Android 5, check out this related post: <a href=\"http://stackoverflow.com/questions/27167176/android-adjust-scrollview-when-keyboard-is-up-for-android-5-0-lollipop\">Android - adjust scrollview when keyboard is up for android 5.0 (lollipop)</a>"}],"answers":[{"comments":[{"owner":{"account_id":1677144,"reputation":5507,"user_id":1542395,"accept_rate":91,"display_name":"Xander"},"score":6,"creation_date":1436561807,"post_id":15440786,"comment_id":50683389,"body_markdown":"`layout_above` whatever view you want to have fixed at the bottem of the screen","body":"<code>layout_above</code> whatever view you want to have fixed at the bottem of the screen"},{"owner":{"account_id":248139,"reputation":24011,"user_id":523325,"accept_rate":66,"display_name":"Nguyen  Minh Binh"},"score":3,"creation_date":1483502471,"post_id":15440786,"comment_id":70118240,"body_markdown":"what if no fixed view at bottom?","body":"what if no fixed view at bottom?"},{"owner":{"account_id":392397,"reputation":28086,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"score":1,"creation_date":1560592695,"post_id":15440786,"comment_id":99793693,"body_markdown":"Doesn&#39;t work if the ScrollView only takes up a part of the screen. If you have a layout at the bottom of your activity that acts like a footer, this solution will not work.","body":"Doesn&#39;t work if the ScrollView only takes up a part of the screen. If you have a layout at the bottom of your activity that acts like a footer, this solution will not work."}],"tags":[],"owner":{"account_id":1677144,"reputation":5507,"user_id":1542395,"accept_rate":91,"display_name":"Xander"},"comment_count":3,"down_vote_count":1,"up_vote_count":39,"is_accepted":true,"score":38,"last_activity_date":1363376322,"creation_date":1363376322,"answer_id":15440786,"question_id":15343355,"body_markdown":"Okay, apparently the ScrollView&#39;s `android:layout_height` mustn&#39;t be set to `wrap_content`. I set it to `match_parent` and set the `android:layout_above` to the button on the bottom of the page.\r\n\r\nDon&#39;t ask me why, but this fixed the issue.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>Okay, apparently the ScrollView's <code>android:layout_height</code> mustn't be set to <code>wrap_content</code>. I set it to <code>match_parent</code> and set the <code>android:layout_above</code> to the button on the bottom of the page.</p>\n\n<p>Don't ask me why, but this fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":1010929,"reputation":2899,"user_id":1023517,"accept_rate":80,"display_name":"Ciprian"},"comment_count":0,"down_vote_count":4,"up_vote_count":72,"is_accepted":false,"score":68,"last_activity_date":1423649452,"creation_date":1376302486,"answer_id":18184481,"question_id":15343355,"body_markdown":"I had the same problem and I checked my activity in the manifest, and the reason why it wasn&#39;t working is because I didn&#39;t use this property:   \r\n     \r\n    android:windowSoftInputMode=&quot;adjustResize&quot;\r\n\r\nNow it works great and no need to do additional anchors.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>I had the same problem and I checked my activity in the manifest, and the reason why it wasn't working is because I didn't use this property:   </p>\n\n<pre><code>android:windowSoftInputMode=\"adjustResize\"\n</code></pre>\n\n<p>Now it works great and no need to do additional anchors.</p>\n"},{"tags":[],"owner":{"account_id":3032294,"reputation":2742,"user_id":2571060,"display_name":"Rajesh Hegde"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1460618780,"creation_date":1416221719,"answer_id":26971069,"question_id":15343355,"body_markdown":"Add `android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot;` to your &lt;activity&gt; tag in AndroidManifest.xml file. This will cause the screen to be resized to the left over space after the soft keyboard is shown. So, you will be able to scroll easily.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>Add <code>android:windowSoftInputMode=\"stateHidden|adjustResize\"</code> to your  tag in AndroidManifest.xml file. This will cause the screen to be resized to the left over space after the soft keyboard is shown. So, you will be able to scroll easily.</p>\n"},{"tags":[],"owner":{"account_id":2158156,"reputation":5218,"user_id":1912919,"accept_rate":67,"display_name":"gtsouk"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1423131538,"creation_date":1423131538,"answer_id":28341373,"question_id":15343355,"body_markdown":"My problem was with a HorizontalScrollView. In my case I had to set HorizontalScrollView to:\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\nAnd remove:\r\n\r\n     android:layout_above=&quot;@+id/closeButton&quot;\r\n     android:layout_below=&quot;@+id/logo&quot;\r\n\r\nIn the AndroidManifest.xml the activity is set to:\r\n\r\n    android:windowSoftInputMode=&quot;&quot;\r\n\r\nI hope this helps anyone comming across this weird bug.\r\n","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>My problem was with a HorizontalScrollView. In my case I had to set HorizontalScrollView to:</p>\n\n<pre><code>android:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\n</code></pre>\n\n<p>And remove:</p>\n\n<pre><code> android:layout_above=\"@+id/closeButton\"\n android:layout_below=\"@+id/logo\"\n</code></pre>\n\n<p>In the AndroidManifest.xml the activity is set to:</p>\n\n<pre><code>android:windowSoftInputMode=\"\"\n</code></pre>\n\n<p>I hope this helps anyone comming across this weird bug.</p>\n"},{"tags":[],"owner":{"account_id":11113050,"reputation":1,"user_id":8158116,"display_name":"Martino Christanto"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1499661040,"creation_date":1499661040,"answer_id":45003799,"question_id":15343355,"body_markdown":"Try to set ScrollView as your parent layout. It works like charm for me!","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>Try to set ScrollView as your parent layout. It works like charm for me!</p>\n"},{"tags":[],"owner":{"account_id":1093315,"reputation":2714,"user_id":1087449,"accept_rate":29,"display_name":"giorgos.nl"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1505206190,"creation_date":1505206190,"answer_id":46171933,"question_id":15343355,"body_markdown":"In my case, nothing of the above worked.\r\n\r\nI had `item name=&quot;android:windowTranslucentStatus&quot;&gt;true&lt;/item&gt;` in my theme. And it was fixed by setting `android:fitsSystemWindows=&quot;true&quot;` in the parent layout where is my scrollview.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>In my case, nothing of the above worked.</p>\n\n<p>I had <code>item name=\"android:windowTranslucentStatus\"&gt;true&lt;/item&gt;</code> in my theme. And it was fixed by setting <code>android:fitsSystemWindows=\"true\"</code> in the parent layout where is my scrollview.</p>\n"},{"comments":[{"owner":{"account_id":3601240,"reputation":726,"user_id":3004518,"accept_rate":62,"display_name":"auhmaan"},"score":1,"creation_date":1532012904,"post_id":49968389,"comment_id":89823204,"body_markdown":"That answer was already given by [Ciprian in 2013](https://stackoverflow.com/a/18184481/3004518)","body":"That answer was already given by <a href=\"https://stackoverflow.com/a/18184481/3004518\">Ciprian in 2013</a>"}],"tags":[],"owner":{"account_id":11037893,"reputation":1,"user_id":8106959,"display_name":"Sufi Ammar Sahb"},"comment_count":1,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1524415625,"creation_date":1524415625,"answer_id":49968389,"question_id":15343355,"body_markdown":"    &lt;activity \r\n        android:windowSoftInputMode=&quot;adjustResize&quot;\r\n    &gt;\r\n\r\n**try this In android manifest** ..","title":"Android: ScrollView not scrolling with keyboard out","body":"<pre><code>&lt;activity \n    android:windowSoftInputMode=\"adjustResize\"\n&gt;\n</code></pre>\n\n<p><strong>try this In android manifest</strong> ..</p>\n"},{"comments":[{"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"score":0,"creation_date":1580102764,"post_id":57518303,"comment_id":105973508,"body_markdown":"Thanks your solution helped me , I had similar problem but I added fullscreen in styles.xml","body":"Thanks your solution helped me , I had similar problem but I added fullscreen in styles.xml"}],"tags":[],"owner":{"account_id":12998669,"reputation":151,"user_id":9395435,"display_name":"Nur Hidayah Roslee"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565922894,"creation_date":1565922894,"answer_id":57518303,"question_id":15343355,"body_markdown":"In my case any of the solution above does not work until I **REMOVE** \r\n\r\n`getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);`\r\n\r\nin my activity, I use that code to get a full screen display. Maybe for certain cases, try to remove any setup of full screen to make any of the above solution works.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>In my case any of the solution above does not work until I <strong>REMOVE</strong> </p>\n\n<p><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</code></p>\n\n<p>in my activity, I use that code to get a full screen display. Maybe for certain cases, try to remove any setup of full screen to make any of the above solution works.</p>\n"},{"comments":[{"owner":{"account_id":3699372,"reputation":589,"user_id":4813946,"accept_rate":100,"display_name":"Zakaria"},"score":0,"creation_date":1580635791,"post_id":59925468,"comment_id":106156254,"body_markdown":"Works as expected, Thanks.","body":"Works as expected, Thanks."}],"tags":[],"owner":{"account_id":8652943,"reputation":22456,"user_id":6478047,"accept_rate":76,"display_name":"Manohar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580102432,"creation_date":1580102432,"answer_id":59925468,"question_id":15343355,"body_markdown":"In my case I had to **Remove** the following property from my style to make it work .\r\n\r\n    &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>In my case I had to <strong>Remove</strong> the following property from my style to make it work .</p>\n\n<pre><code>&lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4960780,"reputation":61,"user_id":10417396,"display_name":"Jeetesh Surana"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1594187057,"creation_date":1594186124,"answer_id":62788119,"question_id":15343355,"body_markdown":"If your First Fragment Scroll perfectly and the second fragment did not scroll then you should use the second fragment replace and do below things \r\n\r\n1.Add in ScrollView\r\n\r\n    android:fillViewport=&quot;true&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n\r\n2.Add in Manifest \r\n\r\n    android:windowSoftInputMode=&quot;adjustResize|stateVisible&quot;\r\n\r\nIf you add fragment then my suggestion is you need to Replace the Fragment\r\n\r\n\r\n\r\n\r\n","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>If your First Fragment Scroll perfectly and the second fragment did not scroll then you should use the second fragment replace and do below things</p>\n<p>1.Add in ScrollView</p>\n<pre><code>android:fillViewport=&quot;true&quot;\nandroid:fitsSystemWindows=&quot;true&quot;\n</code></pre>\n<p>2.Add in Manifest</p>\n<pre><code>android:windowSoftInputMode=&quot;adjustResize|stateVisible&quot;\n</code></pre>\n<p>If you add fragment then my suggestion is you need to Replace the Fragment</p>\n"},{"tags":[],"owner":{"account_id":19105750,"reputation":471,"user_id":13952938,"display_name":"sbenati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595070129,"creation_date":1595070129,"answer_id":62967761,"question_id":15343355,"body_markdown":"In my case, what solved this was setting a missing constraint in the Bottom. My ScrollView had top, right, and left constraints, but no bottom one. After restricting it from all sides, it started to overlap the above textview, which prompted me to try putting the height to 0dp, and that seemed to solve the problem.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>In my case, what solved this was setting a missing constraint in the Bottom. My ScrollView had top, right, and left constraints, but no bottom one. After restricting it from all sides, it started to overlap the above textview, which prompted me to try putting the height to 0dp, and that seemed to solve the problem.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697927977,"post_id":77329581,"comment_id":136341359,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77329581/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29714757,"reputation":1,"user_id":22773528,"display_name":"Hariom Tyagi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697792594,"creation_date":1697792150,"answer_id":77329581,"question_id":15343355,"body_markdown":"I&#39;m facing the same problem.\r\n\r\nBefore changing\r\n\r\n    android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;\r\n\r\nAfter changing\r\n\r\n    android:windowSoftInputMode=&quot;adjustResize&quot;\r\n\r\nNow it works fine and no need to do additional anchors.","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>I'm facing the same problem.</p>\n<p>Before changing</p>\n<pre><code>android:windowSoftInputMode=&quot;adjustResize|adjustPan&quot;\n</code></pre>\n<p>After changing</p>\n<pre><code>android:windowSoftInputMode=&quot;adjustResize&quot;\n</code></pre>\n<p>Now it works fine and no need to do additional anchors.</p>\n"}],"owner":{"account_id":1677144,"reputation":5507,"user_id":1542395,"accept_rate":91,"display_name":"Xander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80288,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":15440786,"answer_count":12,"score":58,"last_activity_date":1697792594,"creation_date":1363018363,"question_id":15343355,"body_markdown":"I&#39;ve got a layout with some views, from which one is an EditText. The layout easily fits on one page, BUT, when the soft keyboard is out, the layout doesn&#39;t scroll.\r\nHere&#39;s a recap of my layout:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/background&quot; &gt;\r\n    \r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/ScrollView1&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot; &gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n                &lt;CheckBox/&gt;\r\n    \r\n                &lt;TextView/&gt;\r\n    \r\n                &lt;LinearLayout&gt;\r\n                    &lt;EditText&gt;\r\n                        &lt;requestFocus /&gt;\r\n                    &lt;/EditText&gt;\r\n                &lt;/LinearLayout&gt;\r\n    \r\n                &lt;TextView/&gt;\r\n    \r\n                &lt;LinearLayout&gt;\r\n                    &lt;Spinner/&gt;\r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/ScrollView&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_alignParentBottom=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd in my manifest I have declared the attribute:\r\n\r\n    android:windowSoftInputMode=&quot;adjustResize|stateHidden&quot;\r\n\r\nDoes anyone know why it doesn&#39;t work and how to make sure it does work?","title":"Android: ScrollView not scrolling with keyboard out","body":"<p>I've got a layout with some views, from which one is an EditText. The layout easily fits on one page, BUT, when the soft keyboard is out, the layout doesn't scroll.\nHere's a recap of my layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/background&quot; &gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/ScrollView1&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentTop=&quot;true&quot; &gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot; &gt;\n\n            &lt;CheckBox/&gt;\n\n            &lt;TextView/&gt;\n\n            &lt;LinearLayout&gt;\n                &lt;EditText&gt;\n                    &lt;requestFocus /&gt;\n                &lt;/EditText&gt;\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView/&gt;\n\n            &lt;LinearLayout&gt;\n                &lt;Spinner/&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n    &lt;Button\n        android:layout_alignParentBottom=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And in my manifest I have declared the attribute:</p>\n<pre><code>android:windowSoftInputMode=&quot;adjustResize|stateHidden&quot;\n</code></pre>\n<p>Does anyone know why it doesn't work and how to make sure it does work?</p>\n"},{"tags":["java","java-17","java-platform-module-system"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697799066,"post_id":77329020,"comment_id":136328142,"body_markdown":"Your description is confusing. Are you talking about your program or about someone else’s program?","body":"Your description is confusing. Are you talking about your program or about someone else’s program?"},{"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"score":0,"creation_date":1697819034,"post_id":77329020,"comment_id":136331899,"body_markdown":"Holger, I am talking about &quot;My JPMS program&quot;, that is based on several Java modules, that I have not created, e.g. JGiven.\n\nPutting maven-shade-plugin in pom.xml, I got an interesting [install output](https://paste.fo/raw/6336f81bbae0). Seems to list all JPMS problems in the used modules.","body":"Holger, I am talking about &quot;My JPMS program&quot;, that is based on several Java modules, that I have not created, e.g. JGiven.  Putting maven-shade-plugin in pom.xml, I got an interesting <a href=\"https://paste.fo/raw/6336f81bbae0\" rel=\"nofollow noreferrer\">install output</a>. Seems to list all JPMS problems in the used modules."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697884583,"post_id":77329020,"comment_id":136337427,"body_markdown":"The restriction that a package must belong to a single module without ambiguity, is fundamental. If your modular program works fine with the modules it requires, then all those modules must obey this restriction already. Your reason why you suddenly throw ten thousand jar files into the module path, is incomprehensible. Non-modular software still works as intended when being provided through the classpath. And software with split packages obviously is non-modular.","body":"The restriction that a package must belong to a single module without ambiguity, is fundamental. If your modular program works fine with the modules it requires, then all those modules must obey this restriction already. Your reason why you suddenly throw ten thousand jar files into the module path, is incomprehensible. Non-modular software still works as intended when being provided through the classpath. And software with split packages obviously is non-modular."}],"owner":{"account_id":2002545,"reputation":832,"user_id":1793217,"display_name":"ngong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697792556,"creation_date":1697786550,"question_id":77329020,"body_markdown":"This question has been asked here several times. But I did not find a usable answer so far (for years now). As I am doing small Java-17 programs using big jar files, I am wondering whether JPMS is the right way to go. That means whether Java is the right language for small programs.\r\n\r\nMy **actual problem**:\r\n\r\nMy JPMS programs work from within Eclipse and m2e. That is fine in most cases. But sometimes I have to distribute my program.\r\n\r\nDue to module dependencies on a service provider starting the program from batch, it needs a module-path. This seems to be incompatible with exporting the program from Eclipse as a Runnable JAR File. Hence, I am trying to put all jars in one lib folder and start the main module. But I got an **error**:\r\n```\r\njava -p target/lib -m my-module-package/my-module-package.Main some parameters\r\nError occurred during initialization of boot layer\r\njava.lang.module.ResolutionException: Modules com.tngtech.junit.dataprovider.junit4 and com.tngtech.junit.dataprovider.core export package com.tngtech.junit.dataprovider.resolver to module commons.logging\r\n```\r\nIn my Java-17 program, I am refering to my utility module. That module is tested using JGiven and refers to a dataprovider:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jgiven-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tngtech.junit.dataprovider&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit4-dataprovider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nBoth module jar files seem to host the package ``com.tngtech.junit.dataprovider.resolver`` what causes the error.\r\n\r\nThe only advice I found so for resolving that error is to contact the module owners.\r\n\r\nAnd I expect, when I have solved that one error I will face the next ResolutionException.\r\n\r\nIs there any quick general solution? E.g. how to specify to use only the first package found and ignore the others? Or: How to repack the dependent modules jar file without the conflicting package and offer that jar file to Maven?","title":"JPMS and foreign JAR files often lead to ResolutionException","body":"<p>This question has been asked here several times. But I did not find a usable answer so far (for years now). As I am doing small Java-17 programs using big jar files, I am wondering whether JPMS is the right way to go. That means whether Java is the right language for small programs.</p>\n<p>My <strong>actual problem</strong>:</p>\n<p>My JPMS programs work from within Eclipse and m2e. That is fine in most cases. But sometimes I have to distribute my program.</p>\n<p>Due to module dependencies on a service provider starting the program from batch, it needs a module-path. This seems to be incompatible with exporting the program from Eclipse as a Runnable JAR File. Hence, I am trying to put all jars in one lib folder and start the main module. But I got an <strong>error</strong>:</p>\n<pre><code>java -p target/lib -m my-module-package/my-module-package.Main some parameters\nError occurred during initialization of boot layer\njava.lang.module.ResolutionException: Modules com.tngtech.junit.dataprovider.junit4 and com.tngtech.junit.dataprovider.core export package com.tngtech.junit.dataprovider.resolver to module commons.logging\n</code></pre>\n<p>In my Java-17 program, I am refering to my utility module. That module is tested using JGiven and refers to a dataprovider:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.jgiven&lt;/groupId&gt;\n            &lt;artifactId&gt;jgiven-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.junit.dataprovider&lt;/groupId&gt;\n            &lt;artifactId&gt;junit4-dataprovider&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Both module jar files seem to host the package <code>com.tngtech.junit.dataprovider.resolver</code> what causes the error.</p>\n<p>The only advice I found so for resolving that error is to contact the module owners.</p>\n<p>And I expect, when I have solved that one error I will face the next ResolutionException.</p>\n<p>Is there any quick general solution? E.g. how to specify to use only the first package found and ignore the others? Or: How to repack the dependent modules jar file without the conflicting package and offer that jar file to Maven?</p>\n"},{"tags":["java","spring-boot","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697792246,"creation_date":1697792246,"answer_id":77329594,"question_id":77329386,"body_markdown":"Type inference unfortunately does not go deeper than 1 level. That means that type inference tries to get the actual type of `T` when calling `logBefore(r -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))` from its argument. That&#39;s so generic that no proper type can be inferred, and therefore object is used.\r\n\r\nTwo ways to get around this:\r\n1. Tell the method what the generic type should be:\r\n```java\r\nreturn ClassWhereLogBeforeIsDefined.&lt;ServerSentEvent&lt;MyObject&gt;&gt;logBefore(r -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))\r\n```\r\n\r\n2. Tell the lambda what the generic type should be:\r\n```java\r\nreturn logBefore((ServerSentEvent&lt;MyObject&gt; r) -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))\r\n```","title":"How to generify Reactor function?","body":"<p>Type inference unfortunately does not go deeper than 1 level. That means that type inference tries to get the actual type of <code>T</code> when calling <code>logBefore(r -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))</code> from its argument. That's so generic that no proper type can be inferred, and therefore object is used.</p>\n<p>Two ways to get around this:</p>\n<ol>\n<li>Tell the method what the generic type should be:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>return ClassWhereLogBeforeIsDefined.&lt;ServerSentEvent&lt;MyObject&gt;&gt;logBefore(r -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))\n</code></pre>\n<ol start=\"2\">\n<li>Tell the lambda what the generic type should be:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>return logBefore((ServerSentEvent&lt;MyObject&gt; r) -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))\n</code></pre>\n"}],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77329594,"answer_count":1,"score":0,"last_activity_date":1697792246,"creation_date":1697790327,"question_id":77329386,"body_markdown":"I have the following static function to log some info before another flux is called.\r\n\r\n\r\n    public static Flux&lt;ServerSentEvent&lt;MyObject&gt;&gt; logBefore(Consumer&lt;ServerSentEvent&lt;MyObject&gt;&gt; consumer) {\r\n         return Flux.&lt;ServerSentEvent&lt;MyObject&gt;&gt;empty()\r\n                .doOnEach(logOnComplete(consumer));\r\n    }\r\n\r\nI call the function as follows:\r\n    \r\n    public Flux&lt;ServerSentEvent&lt;MyObject&gt;&gt; myMethod(@Valid @RequestBody MyRequest request) {\r\n\r\n       return logBefore(r -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))\r\n           .switchIfEmpty(client.retrieveData(request));\r\n    }\r\n\r\nHow to generify this function? I have tried something as follows:\r\n\r\n    public static &lt;T&gt; Flux&lt;T&gt; logBefore(Consumer&lt;T&gt; consumer) {\r\n        return Flux.&lt;T&gt;empty()\r\n                .doOnEach(logOnComplete(consumer));\r\n    }\r\n\r\nHowever, the compiler is complaining.\r\n\r\n    Required type:Flux&lt;ServerSentEvent&lt;MyObject&gt;&gt;\r\n    Provided:Flux&lt;Object&gt;","title":"How to generify Reactor function?","body":"<p>I have the following static function to log some info before another flux is called.</p>\n<pre><code>public static Flux&lt;ServerSentEvent&lt;MyObject&gt;&gt; logBefore(Consumer&lt;ServerSentEvent&lt;MyObject&gt;&gt; consumer) {\n     return Flux.&lt;ServerSentEvent&lt;MyObject&gt;&gt;empty()\n            .doOnEach(logOnComplete(consumer));\n}\n</code></pre>\n<p>I call the function as follows:</p>\n<pre><code>public Flux&lt;ServerSentEvent&lt;MyObject&gt;&gt; myMethod(@Valid @RequestBody MyRequest request) {\n\n   return logBefore(r -&gt; log.info(&quot;[Enter] myMethod() called.&quot;))\n       .switchIfEmpty(client.retrieveData(request));\n}\n</code></pre>\n<p>How to generify this function? I have tried something as follows:</p>\n<pre><code>public static &lt;T&gt; Flux&lt;T&gt; logBefore(Consumer&lt;T&gt; consumer) {\n    return Flux.&lt;T&gt;empty()\n            .doOnEach(logOnComplete(consumer));\n}\n</code></pre>\n<p>However, the compiler is complaining.</p>\n<pre><code>Required type:Flux&lt;ServerSentEvent&lt;MyObject&gt;&gt;\nProvided:Flux&lt;Object&gt;\n</code></pre>\n"},{"tags":["java","maven","pac4j"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697650377,"post_id":77310587,"comment_id":136307824,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697613514,"creation_date":1697613514,"answer_id":77314202,"question_id":77310587,"body_markdown":"Some classes (`Pac4jProducer` and `HttpServletResponseProducer`) are meant to use CDI and produces pac4j beans.\r\n\r\nWhat is your application server? Can you copy/paste the full stack trace?","title":"Getting while capturing file using bat file in java","body":"<p>Some classes (<code>Pac4jProducer</code> and <code>HttpServletResponseProducer</code>) are meant to use CDI and produces pac4j beans.</p>\n<p>What is your application server? Can you copy/paste the full stack trace?</p>\n"}],"owner":{"account_id":28955839,"reputation":1,"user_id":22179419,"display_name":"vivek204"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697791923,"creation_date":1697558835,"question_id":77310587,"body_markdown":"javax.enterprise.inject.UnsatisfiedResolutionException: Api type [javax.servlet.http.HttpServletRequest] is not found with the qualifiers\r\nQualifiers: [@javax.enterprise.inject.Default()]\r\nfor injection into Method Injection Point, method name :  getWebContext, Bean Owner : [WebContext, WebBeansType:PRODUCERMETHOD, Name:null, API Types:[java.lang.Object,org.pac4j.core.context.WebContext], Qualifiers:[javax.enterprise.inject.Default,javax.enterprise.inject.Any], Producer Method: org.pac4j.core.context.WebContext org.pac4j.jee.util.Pac4jProducer.getWebContext(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]\r\nwe are getting above error while we capturing file using java \r\n`\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;javaee-pac4j&lt;/artifactId&gt;\r\n&lt;version&gt;7.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;`\r\n```\r\ncausing issue due to this above library. we cannot remove we have implement oidc using pac4j jar.\r\n\r\nhelp us to resolve this issue.","title":"Getting while capturing file using bat file in java","body":"<p>javax.enterprise.inject.UnsatisfiedResolutionException: Api type [javax.servlet.http.HttpServletRequest] is not found with the qualifiers\nQualifiers: [@javax.enterprise.inject.Default()]\nfor injection into Method Injection Point, method name :  getWebContext, Bean Owner : [WebContext, WebBeansType:PRODUCERMETHOD, Name:null, API Types:[java.lang.Object,org.pac4j.core.context.WebContext], Qualifiers:[javax.enterprise.inject.Default,javax.enterprise.inject.Any], Producer Method: org.pac4j.core.context.WebContext org.pac4j.jee.util.Pac4jProducer.getWebContext(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)]\nwe are getting above error while we capturing file using java\n`</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n&lt;artifactId&gt;javaee-pac4j&lt;/artifactId&gt;\n&lt;version&gt;7.1.0&lt;/version&gt;\n&lt;/dependency&gt;`\n</code></pre>\n<p>causing issue due to this above library. we cannot remove we have implement oidc using pac4j jar.</p>\n<p>help us to resolve this issue.</p>\n"},{"tags":["java","mysql","sql","spring-jdbc"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1643741002,"post_id":70945527,"comment_id":125418843,"body_markdown":"Send two separate queries","body":"Send two separate queries"},{"owner":{"account_id":16934693,"reputation":11,"user_id":12248006,"display_name":"Sasqe"},"score":0,"creation_date":1643741495,"post_id":70945527,"comment_id":125419002,"body_markdown":"could you elaborate? the second table (transactions) is a child table of the first table (blockchain). It has a foreign key constraint. This happens when i try to execute the second query seperatley from the first one in phpMyAdmin: #1452 - Cannot add or update a child row: a foreign key constraint fails","body":"could you elaborate? the second table (transactions) is a child table of the first table (blockchain). It has a foreign key constraint. This happens when i try to execute the second query seperatley from the first one in phpMyAdmin: #1452 - Cannot add or update a child row: a foreign key constraint fails"}],"answers":[{"tags":[],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643817375,"creation_date":1643816565,"answer_id":70958533,"question_id":70945527,"body_markdown":"Multiple queries in one JDBC statement are not enabled by default in MySQL. This could explain the difference between your program and PHPMyAdmin.  \r\nHave you tried to add `?rewriteBatchedStatements=true` to your database url ?","title":"java.sql.BatchUpdateException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version","body":"<p>Multiple queries in one JDBC statement are not enabled by default in MySQL. This could explain the difference between your program and PHPMyAdmin.<br />\nHave you tried to add <code>?rewriteBatchedStatements=true</code> to your database url ?</p>\n"}],"owner":{"account_id":16934693,"reputation":11,"user_id":12248006,"display_name":"Sasqe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697791497,"creation_date":1643739369,"question_id":70945527,"body_markdown":"I&#39;m trying to insert into multiple tables with Spring JDBC. using prepared statements. My code looks like this: \r\n```\r\n\r\n\t\ttry (Connection connection = DriverManager.getConnection(databaseURL, user, password)) {\r\n\t\t\tconnection.setAutoCommit(false);\r\n\t\t}\r\n\t\t\tString sql = &quot;&quot; \r\n\t\t\t+ &quot;INSERT INTO `blockchain`(`hash`, `previousHash`, `merkleRoot`, `timestamp`, `nonce`) VALUES (?,?,?,?,?);&quot;;\r\n\t\t\tsql = sql + &quot; INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `value`, `signature`) VALUES (LAST_INSERT_ID(),?,?,?,?,?);&quot;; \r\n\t\t\tSystem.out.println(sql);\r\n\t\t// INSERT INTO BLOCKCHAIN\r\n\t\t\ttry \r\n\t\t\t{\r\n\t\t\t\t  PreparedStatement preparedStatement = connection.prepareStatement(sql);\r\n\t\t\t\t  preparedStatement.setString(1, newBlock.getHash());\r\n\t\t\t\t  preparedStatement.setString(2, newBlock.getPreviousHash()); \r\n\t\t\t\t  preparedStatement.setString(3, newBlock.getMerkleRoot());\r\n\t\t\t\t  preparedStatement.setLong(4, newBlock.getTimeStamp());\r\n\t\t\t\t  preparedStatement.setInt(5, newBlock.getNonce());\r\n\t\t\t\t  System.out.println(&quot;ADDING BATCH&quot;);\r\n\t\t\t\t\r\n\r\n\t\t\t\t  Iterator&lt;Transaction&gt; iterator1 = newBlock.getTransactions().iterator();\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  Transaction t = iterator1.next();\r\n\t\t\t\t\t  preparedStatement.setString(6, t.getTransactionId()); System.out.println(&quot;batched index 6&quot;);\r\n\t\t\t\t\t  //ENCODE\r\n\t\t\t\t\t  byte[] senderEncoded = t.sender.getEncoded(); // sender&#39;s encoded bytes\r\n\t\t\t\t\t  byte[] recipientEncoded = t.reciepient.getEncoded(); // Recipient&#39;s encoded algorithm\r\n\t\t\t\t\t  preparedStatement.setBytes(7, senderEncoded); System.out.println(&quot;batched index 7&quot;);\r\n\t\t\t\t\t  preparedStatement.setBytes(8, recipientEncoded); System.out.println(&quot;batched index 8&quot;);\r\n\t\t\t\t\t  preparedStatement.setFloat(9, t.getValue()); System.out.println(&quot;batched index 9&quot;);\r\n\t\t\t\t\t  preparedStatement.setBytes(10, t.getSignature()); System.out.println(&quot;batched index 10&quot;);\r\n\t\t\t\t     preparedStatement.addBatch();\r\n\t\t\t\t     System.out.println(preparedStatement);\r\n\r\n\t\t\t\t  int[] rows = preparedStatement.executeBatch();\r\n\t\t\t\t  \r\n\t\t\t\t  for (int i = 0; i &lt; rows.length; i++)\r\n\t\t\t\t  {\r\n\t\t\t\t\t  if (rows[i] == -2)\r\n\t\t\t\t\t\t  System.out.println(&quot;Execution &quot; + i + &quot; :: Unknown number of rows updated&quot;);\r\n\t\t\t\t\t  else\r\n\t\t\t\t\t\t  System.out.println(&quot;Exeuction &quot; + i + &quot;Successful: &quot; + rows[i] + &quot;rows updated&quot;);\r\n\t\t\t\t  }\r\n\t\t\t\t  connection.commit();\r\n\t        \r\n\t        } catch (BatchUpdateException ex) {\r\n\t            ex.printStackTrace();\r\n\t        }\r\n```\r\nWhen printing the prepared statement to the console before executing it, the SQL string looks like this:\r\n```\r\nINSERT INTO `blockchain`(`hash`, `previousHash`, `merkleRoot`, `timestamp`, `nonce`) VALUES (&#39;0008dfa469e73add5bc5467e316c5afde0e7275cec3b78a3632a37b268af9650&#39;,&#39;0&#39;,&#39;0&#39;,1643737357842,7996); INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `value`, `signature`) VALUES (LAST_INSERT_ID(),&#39;0&#39;,x&#39;3049301306072A8648CE3D020106082A8648CE3D0301010332000407E06E5EB43505FC4710C7062AAB63C38FC0916FD0D9937609F4DC12F52D5F2F537D6E782BCED7D4A26E7CE3CF578148&#39;,x&#39;3049301306072A8648CE3D020106082A8648CE3D030101033200042952CB58969E6B355B6392C1915B4591EDA46DC4109F23C078BB7674BB5312A0FF79BD40294F4E1C601F895DC5C0BCEA&#39;,100.0,x&#39;30360219009A59457CBA7868476416E270F63B6BC941A79F767200BAB8021900A3700F617C6F64D78D2FEFB19366AE7037883E05D23ADF51&#39;);\r\n```\r\nCopying this SQL String into phpmyadmin and executing it produces no errors :\r\n[Screenshot of the query being executed in PHPMyAdmin][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XPwmL.png\r\n\r\nIn the IDE, the complete error looks like this:\r\n```\r\ncom.mysql.cj.jdbc.ClientPreparedStatement: INSERT INTO `blockchain`(`hash`, `previousHash`, `merkleRoot`, `timestamp`, `nonce`) VALUES (&#39;0008dfa469e73add5bc5467e316c5afde0e7275cec3b78a3632a37b268af9650&#39;,&#39;0&#39;,&#39;0&#39;,1643737357842,7996); INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `value`, `signature`) VALUES (LAST_INSERT_ID(),&#39;0&#39;,x&#39;3049301306072A8648CE3D020106082A8648CE3D0301010332000407E06E5EB43505FC4710C7062AAB63C38FC0916FD0D9937609F4DC12F52D5F2F537D6E782BCED7D4A26E7CE3CF578148&#39;,x&#39;3049301306072A8648CE3D020106082A8648CE3D030101033200042952CB58969E6B355B6392C1915B4591EDA46DC4109F23C078BB7674BB5312A0FF79BD40294F4E1C601F895DC5C0BCEA&#39;,100.0,x&#39;30360219009A59457CBA7868476416E270F63B6BC941A79F767200BAB8021900A3700F617C6F64D78D2FEFB19366AE7037883E05D23ADF51&#39;);\r\njava.sql.BatchUpdateException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `&#39; at line 1\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat com.mysql.cj.util.Util.handleNewInstance(Util.java:192)\r\n\tat com.mysql.cj.util.Util.getInstance(Util.java:167)\r\n\tat com.mysql.cj.util.Util.getInstance(Util.java:174)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:853)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchInternal(ClientPreparedStatement.java:435)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeBatch(StatementImpl.java:796)\r\n\tat com.gcu.controller.rainfall.addBlock(rainfall.java:318)\r\n\tat com.gcu.controller.rainfall.main(rainfall.java:106)\r\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `&#39; at line 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:832)\r\n\t... 4 more\r\n```\r\nWhat could the error possibly be? There&#39;s no syntax errors as when I copy the SQL string into PHPMyAdmin it works with no issue. Is this a bug within the IDE?","title":"java.sql.BatchUpdateException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version","body":"<p>I'm trying to insert into multiple tables with Spring JDBC. using prepared statements. My code looks like this:</p>\n<pre><code>\n        try (Connection connection = DriverManager.getConnection(databaseURL, user, password)) {\n            connection.setAutoCommit(false);\n        }\n            String sql = &quot;&quot; \n            + &quot;INSERT INTO `blockchain`(`hash`, `previousHash`, `merkleRoot`, `timestamp`, `nonce`) VALUES (?,?,?,?,?);&quot;;\n            sql = sql + &quot; INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `value`, `signature`) VALUES (LAST_INSERT_ID(),?,?,?,?,?);&quot;; \n            System.out.println(sql);\n        // INSERT INTO BLOCKCHAIN\n            try \n            {\n                  PreparedStatement preparedStatement = connection.prepareStatement(sql);\n                  preparedStatement.setString(1, newBlock.getHash());\n                  preparedStatement.setString(2, newBlock.getPreviousHash()); \n                  preparedStatement.setString(3, newBlock.getMerkleRoot());\n                  preparedStatement.setLong(4, newBlock.getTimeStamp());\n                  preparedStatement.setInt(5, newBlock.getNonce());\n                  System.out.println(&quot;ADDING BATCH&quot;);\n                \n\n                  Iterator&lt;Transaction&gt; iterator1 = newBlock.getTransactions().iterator();\n                      \n                      Transaction t = iterator1.next();\n                      preparedStatement.setString(6, t.getTransactionId()); System.out.println(&quot;batched index 6&quot;);\n                      //ENCODE\n                      byte[] senderEncoded = t.sender.getEncoded(); // sender's encoded bytes\n                      byte[] recipientEncoded = t.reciepient.getEncoded(); // Recipient's encoded algorithm\n                      preparedStatement.setBytes(7, senderEncoded); System.out.println(&quot;batched index 7&quot;);\n                      preparedStatement.setBytes(8, recipientEncoded); System.out.println(&quot;batched index 8&quot;);\n                      preparedStatement.setFloat(9, t.getValue()); System.out.println(&quot;batched index 9&quot;);\n                      preparedStatement.setBytes(10, t.getSignature()); System.out.println(&quot;batched index 10&quot;);\n                     preparedStatement.addBatch();\n                     System.out.println(preparedStatement);\n\n                  int[] rows = preparedStatement.executeBatch();\n                  \n                  for (int i = 0; i &lt; rows.length; i++)\n                  {\n                      if (rows[i] == -2)\n                          System.out.println(&quot;Execution &quot; + i + &quot; :: Unknown number of rows updated&quot;);\n                      else\n                          System.out.println(&quot;Exeuction &quot; + i + &quot;Successful: &quot; + rows[i] + &quot;rows updated&quot;);\n                  }\n                  connection.commit();\n            \n            } catch (BatchUpdateException ex) {\n                ex.printStackTrace();\n            }\n</code></pre>\n<p>When printing the prepared statement to the console before executing it, the SQL string looks like this:</p>\n<pre><code>INSERT INTO `blockchain`(`hash`, `previousHash`, `merkleRoot`, `timestamp`, `nonce`) VALUES ('0008dfa469e73add5bc5467e316c5afde0e7275cec3b78a3632a37b268af9650','0','0',1643737357842,7996); INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `value`, `signature`) VALUES (LAST_INSERT_ID(),'0',x'3049301306072A8648CE3D020106082A8648CE3D0301010332000407E06E5EB43505FC4710C7062AAB63C38FC0916FD0D9937609F4DC12F52D5F2F537D6E782BCED7D4A26E7CE3CF578148',x'3049301306072A8648CE3D020106082A8648CE3D030101033200042952CB58969E6B355B6392C1915B4591EDA46DC4109F23C078BB7674BB5312A0FF79BD40294F4E1C601F895DC5C0BCEA',100.0,x'30360219009A59457CBA7868476416E270F63B6BC941A79F767200BAB8021900A3700F617C6F64D78D2FEFB19366AE7037883E05D23ADF51');\n</code></pre>\n<p>Copying this SQL String into phpmyadmin and executing it produces no errors :\n<a href=\"https://i.stack.imgur.com/XPwmL.png\" rel=\"nofollow noreferrer\">Screenshot of the query being executed in PHPMyAdmin</a></p>\n<p>In the IDE, the complete error looks like this:</p>\n<pre><code>com.mysql.cj.jdbc.ClientPreparedStatement: INSERT INTO `blockchain`(`hash`, `previousHash`, `merkleRoot`, `timestamp`, `nonce`) VALUES ('0008dfa469e73add5bc5467e316c5afde0e7275cec3b78a3632a37b268af9650','0','0',1643737357842,7996); INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `value`, `signature`) VALUES (LAST_INSERT_ID(),'0',x'3049301306072A8648CE3D020106082A8648CE3D0301010332000407E06E5EB43505FC4710C7062AAB63C38FC0916FD0D9937609F4DC12F52D5F2F537D6E782BCED7D4A26E7CE3CF578148',x'3049301306072A8648CE3D020106082A8648CE3D030101033200042952CB58969E6B355B6392C1915B4591EDA46DC4109F23C078BB7674BB5312A0FF79BD40294F4E1C601F895DC5C0BCEA',100.0,x'30360219009A59457CBA7868476416E270F63B6BC941A79F767200BAB8021900A3700F617C6F64D78D2FEFB19366AE7037883E05D23ADF51');\njava.sql.BatchUpdateException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `' at line 1\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at com.mysql.cj.util.Util.handleNewInstance(Util.java:192)\n    at com.mysql.cj.util.Util.getInstance(Util.java:167)\n    at com.mysql.cj.util.Util.getInstance(Util.java:174)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createBatchUpdateException(SQLError.java:224)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:853)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchInternal(ClientPreparedStatement.java:435)\n    at com.mysql.cj.jdbc.StatementImpl.executeBatch(StatementImpl.java:796)\n    at com.gcu.controller.rainfall.addBlock(rainfall.java:318)\n    at com.gcu.controller.rainfall.main(rainfall.java:106)\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSERT INTO `transactions`(`block_id`, `transactionID`, `sender`, `recipient`, `' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeBatchSerially(ClientPreparedStatement.java:832)\n    ... 4 more\n</code></pre>\n<p>What could the error possibly be? There's no syntax errors as when I copy the SQL string into PHPMyAdmin it works with no issue. Is this a bug within the IDE?</p>\n"},{"tags":["java","multithreading","concurrency","completable-future"],"answers":[{"comments":[{"owner":{"account_id":2211363,"reputation":1015,"user_id":2804747,"accept_rate":86,"display_name":"lorenzocastillo"},"score":0,"creation_date":1501553525,"post_id":45424567,"comment_id":77817038,"body_markdown":"So, is there not a way for Java to fire off multiple requests on the same thread, asynchronously?","body":"So, is there not a way for Java to fire off multiple requests on the same thread, asynchronously?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501566769,"post_id":45424567,"comment_id":77820671,"body_markdown":"See added last paragraph.","body":"See added last paragraph."},{"owner":{"account_id":7601239,"reputation":665,"user_id":5765760,"display_name":"Prakhar Varshney"},"score":0,"creation_date":1655531013,"post_id":45424567,"comment_id":128358866,"body_markdown":"So how does one handle such a use case of making huge amounts of calls to an API ? It would be nice if say we have to make 100 calls, then we make calls back to back which will take few ms to schedule all 100 calls and as API calls are finishing, we join all to get the final result. Spinning up 100 threads where each would just wait and do nothing is inefficient. Making more than 1 call (using a thread pool of &lt; 100) in single thread is again inefficient because first call will block the subsequent calls.","body":"So how does one handle such a use case of making huge amounts of calls to an API ? It would be nice if say we have to make 100 calls, then we make calls back to back which will take few ms to schedule all 100 calls and as API calls are finishing, we join all to get the final result. Spinning up 100 threads where each would just wait and do nothing is inefficient. Making more than 1 call (using a thread pool of &lt; 100) in single thread is again inefficient because first call will block the subsequent calls."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1655551842,"post_id":45424567,"comment_id":128361913,"body_markdown":"@PrakharVarshney see edits. Besides 100 threads is nothing on large server hardware, so it all depends on your use cases.","body":"@PrakharVarshney see edits. Besides 100 threads is nothing on large server hardware, so it all depends on your use cases."}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1655551796,"creation_date":1501532156,"answer_id":45424567,"question_id":45424454,"body_markdown":"As is explained in the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html)\r\n\r\n&gt; All async methods without an explicit Executor argument are performed\r\n&gt; using the ForkJoinPool.commonPool() (unless it does not support a\r\n&gt; parallelism level of at least two, in which case, a new Thread is\r\n&gt; created to run each task).\r\n\r\nSo a threadpool is used, either implicitly (unless you have a single core machine in which case the threads aren&#39;t pooled) or explicitly. In your case you would get to control the amount of threads used by using an explicit `Executor` (e.g. [ThreadPoolExecutor](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html)) with the amount of threads you want (most likely a lot less than 1000).\r\n\r\nThe calls cannot share a single thread (the calling thread), as Java doesn&#39;t have the [capability](https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await) for what people these days understand by asynchronous due to the popular async/await paradigm (i.e. the fictional &quot;truly asynchronous&quot; term - synchronous vs. asynchronous is independent of threads, but asynchronicity can be implemented with threads, as it is done in `CompletableFuture`).\r\n\r\nWith the [HttpClient](https://www.baeldung.com/java-9-http-client) introduced in Java 11 (as incubator module in 9), it&#39;s possible to perform asynchronous requests with a threadpool using `CompletableFuture`s in the &quot;standard&quot; way. If you&#39;re looking to minimize the thread count, you&#39;ll have to switch to reactive programming and use something like [Spring&#39;s WebClient](https://www.baeldung.com/spring-5-webclient) for the requests.","title":"CompletableFuture multi-threaded, single thread concurrent, or both?","body":"<p>As is explained in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">javadoc</a></p>\n<blockquote>\n<p>All async methods without an explicit Executor argument are performed\nusing the ForkJoinPool.commonPool() (unless it does not support a\nparallelism level of at least two, in which case, a new Thread is\ncreated to run each task).</p>\n</blockquote>\n<p>So a threadpool is used, either implicitly (unless you have a single core machine in which case the threads aren't pooled) or explicitly. In your case you would get to control the amount of threads used by using an explicit <code>Executor</code> (e.g. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a>) with the amount of threads you want (most likely a lot less than 1000).</p>\n<p>The calls cannot share a single thread (the calling thread), as Java doesn't have the <a href=\"https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await\">capability</a> for what people these days understand by asynchronous due to the popular async/await paradigm (i.e. the fictional &quot;truly asynchronous&quot; term - synchronous vs. asynchronous is independent of threads, but asynchronicity can be implemented with threads, as it is done in <code>CompletableFuture</code>).</p>\n<p>With the <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">HttpClient</a> introduced in Java 11 (as incubator module in 9), it's possible to perform asynchronous requests with a threadpool using <code>CompletableFuture</code>s in the &quot;standard&quot; way. If you're looking to minimize the thread count, you'll have to switch to reactive programming and use something like <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">Spring's WebClient</a> for the requests.</p>\n"},{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501532228,"creation_date":1501532228,"answer_id":45424581,"question_id":45424454,"body_markdown":"If you schedule your computation without specifying a thread-pool, the `fork-join` common pool would be used, otherwise you can specify your own `Executor` to `supplyAsync` and choose a size that fits your need.","title":"CompletableFuture multi-threaded, single thread concurrent, or both?","body":"<p>If you schedule your computation without specifying a thread-pool, the <code>fork-join</code> common pool would be used, otherwise you can specify your own <code>Executor</code> to <code>supplyAsync</code> and choose a size that fits your need.</p>\n"},{"tags":[],"owner":{"account_id":29707176,"reputation":1,"user_id":22767745,"display_name":"blabla-yy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697790729,"creation_date":1697790729,"answer_id":77329424,"question_id":45424454,"body_markdown":"As mentioned above, if you need a single thread to execute all asynchronous tasks, you need to use Executors.newSingleThreadExecutor() and specify this Executor instance in all required Executors.\r\nIf you don&#39;t want to create a thread, but use the current thread, you can try my repository https://github.com/blabla-yy/CurrentThreadExecutor. There is a demo of HttpClient in the README. All request processing is executed on the main thread, and no threads are created during operation.","title":"CompletableFuture multi-threaded, single thread concurrent, or both?","body":"<p>As mentioned above, if you need a single thread to execute all asynchronous tasks, you need to use Executors.newSingleThreadExecutor() and specify this Executor instance in all required Executors.\nIf you don't want to create a thread, but use the current thread, you can try my repository <a href=\"https://github.com/blabla-yy/CurrentThreadExecutor\" rel=\"nofollow noreferrer\">https://github.com/blabla-yy/CurrentThreadExecutor</a>. There is a demo of HttpClient in the README. All request processing is executed on the main thread, and no threads are created during operation.</p>\n"}],"owner":{"account_id":2211363,"reputation":1015,"user_id":2804747,"accept_rate":86,"display_name":"lorenzocastillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7657,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":45424567,"answer_count":3,"score":11,"last_activity_date":1697790729,"creation_date":1501531642,"question_id":45424454,"body_markdown":"I just started looking into Java&#39;s [CompletableFuture][1] and a little bit confused on whether this is truly asynchronous (i.e running on one thread concurrently) or spanning multiple threads (Parallel). \r\n\r\nFor example, suppose I&#39;d like to make 1000 different service calls. Suppose further that each service call can be made asynchronously. When using CompletableFuture, will the JVM make 1000 separate threads (assuming the JVM allows for this many threads), or execute all of these requests in one thread? Or is it doing a bit of both? Using some threads to execute those requests asynchronously?\r\n\r\nWhat I want to do is something like this (in Python):\r\nhttps://pawelmhm.github.io/asyncio/python/aiohttp/2016/04/22/asyncio-aiohttp.html\n\n**is there a way to execute multiple requests/operations on the same thread in Java asynchronously?**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"CompletableFuture multi-threaded, single thread concurrent, or both?","body":"<p>I just started looking into Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\">CompletableFuture</a> and a little bit confused on whether this is truly asynchronous (i.e running on one thread concurrently) or spanning multiple threads (Parallel). </p>\n\n<p>For example, suppose I'd like to make 1000 different service calls. Suppose further that each service call can be made asynchronously. When using CompletableFuture, will the JVM make 1000 separate threads (assuming the JVM allows for this many threads), or execute all of these requests in one thread? Or is it doing a bit of both? Using some threads to execute those requests asynchronously?</p>\n\n<p>What I want to do is something like this (in Python):\n<a href=\"https://pawelmhm.github.io/asyncio/python/aiohttp/2016/04/22/asyncio-aiohttp.html\" rel=\"noreferrer\">https://pawelmhm.github.io/asyncio/python/aiohttp/2016/04/22/asyncio-aiohttp.html</a></p>\n\n<p><strong>is there a way to execute multiple requests/operations on the same thread in Java asynchronously?</strong></p>\n"},{"tags":["java","scheduled-tasks","windows-task-scheduler"],"comments":[{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1481109636,"post_id":41015796,"comment_id":69239387,"body_markdown":"Start all those UI-ed apps by creating a new run once and immediately task. This should do the job.","body":"Start all those UI-ed apps by creating a new run once and immediately task. This should do the job."},{"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"score":0,"creation_date":1481115220,"post_id":41015796,"comment_id":69242996,"body_markdown":"@glee8e - could you elaborate on what you are suggesting? You seem pretty confident that you&#39;re recommending a viable solution, but it&#39;s not clear to me what you are suggesting or how it solves the problem.","body":"@glee8e - could you elaborate on what you are suggesting? You seem pretty confident that you&#39;re recommending a viable solution, but it&#39;s not clear to me what you are suggesting or how it solves the problem."},{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1481248575,"post_id":41015796,"comment_id":69311298,"body_markdown":"I had mistaken some: I believe UI-ed apps are not to be started if user is logout. So I give the solution: create a task that will start processes in interactive mode and be run a few seconds later. But if you want UI-ed apps to be started even when user is logged out, well, I have no idea for that. My apologies.","body":"I had mistaken some: I believe UI-ed apps are not to be started if user is logout. So I give the solution: create a task that will start processes in interactive mode and be run a few seconds later. But if you want UI-ed apps to be started even when user is logged out, well, I have no idea for that. My apologies."}],"answers":[{"comments":[{"owner":{"account_id":1504646,"reputation":12485,"user_id":1408347,"accept_rate":84,"display_name":"Brian"},"score":0,"creation_date":1650372500,"post_id":41448850,"comment_id":127095079,"body_markdown":"I tried this method on a windows 10 server without success, this is strange.","body":"I tried this method on a windows 10 server without success, this is strange."},{"owner":{"account_id":3747254,"reputation":760,"user_id":3115651,"accept_rate":75,"display_name":"bgx"},"score":0,"creation_date":1694594628,"post_id":41448850,"comment_id":135910405,"body_markdown":"In windows 10 you can do it in Settings &gt; Startup Apps, but this is not a solution to the original question. It runs the application only if a user logs into Windows. The question was about running tasks whether the user is logged in or not.","body":"In windows 10 you can do it in Settings &gt; Startup Apps, but this is not a solution to the original question. It runs the application only if a user logs into Windows. The question was about running tasks whether the user is logged in or not."}],"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1697790488,"creation_date":1483463689,"answer_id":41448850,"question_id":41015796,"body_markdown":"The workaround I found was to stop using Task Scheduler, and create a script to start my application and add a shortcut to that script in the Start Menu &gt; Programs &gt; Startup folder.\r\n\r\nCredit to this article on [HowToGeek][1]:\r\n\r\n&gt; On Windows 7 and earlier versions of Windows, the Start menu contained a “Startup” folder to make this easy.\r\n&gt;\r\n&gt; This folder is no longer as easily accessible on Windows 8, 8.1, and 10, but it’s still accessible. To access it, press Windows Key + R, type “shell:startup” into the Run dialog, and press Enter.\r\n&gt;\r\n&gt; Shortcuts you add to the “shell:startup” folder will only launch when you log in with your user account. If you’d like a shortcut to launch itself whenever any user logs in, type “shell:common startup” into the Run dialog instead.\r\n\r\nSince I want my application to start on system startup, rather than user login, I used the “shell:common startup” link.\r\n\r\nApplications started in this way - or in my case, applications started by applications started in this way - are visible and/or interactive via their UIs.\r\n\r\n[1]: http://www.howtogeek.com/228467/how-to-make-a-program-run-at-startup-on-any-computer/","title":"Running visible applications, using Java ProcessBuilder, from a process started by TaskScheduler","body":"<p>The workaround I found was to stop using Task Scheduler, and create a script to start my application and add a shortcut to that script in the Start Menu &gt; Programs &gt; Startup folder.</p>\n<p>Credit to this article on <a href=\"http://www.howtogeek.com/228467/how-to-make-a-program-run-at-startup-on-any-computer/\" rel=\"nofollow noreferrer\">HowToGeek</a>:</p>\n<blockquote>\n<p>On Windows 7 and earlier versions of Windows, the Start menu contained a “Startup” folder to make this easy.</p>\n<p>This folder is no longer as easily accessible on Windows 8, 8.1, and 10, but it’s still accessible. To access it, press Windows Key + R, type “shell:startup” into the Run dialog, and press Enter.</p>\n<p>Shortcuts you add to the “shell:startup” folder will only launch when you log in with your user account. If you’d like a shortcut to launch itself whenever any user logs in, type “shell:common startup” into the Run dialog instead.</p>\n</blockquote>\n<p>Since I want my application to start on system startup, rather than user login, I used the “shell:common startup” link.</p>\n<p>Applications started in this way - or in my case, applications started by applications started in this way - are visible and/or interactive via their UIs.</p>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5125,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41448850,"answer_count":1,"score":6,"last_activity_date":1697790488,"creation_date":1481108705,"question_id":41015796,"body_markdown":"When starting tasks via Task Scheduler in recent versions of Windows, if the task is &quot;run whether user is logged on or not&quot;, then the task will not run interactively - i.e. it will not start a UI.\r\n\r\nFor reference, this is according to [Microsoft][1], and has been highlighted in this [SuperUser question][2] and this [StackOverflow question][3]:\r\n\r\n&gt; You can specify that a task should run even if the account under which the task is scheduled to run is not logged on when the task is triggered. To do this, select the radio button labeled Run whether user is logged on or not . If this radio button is selected, tasks will not run interactively. To make a task run interactively, select the Run only when user is logged on radio button.\r\n\r\nHowever, my problem is derivative of this.\r\n\r\n - The task started by TaskScheduler is a Java client application which\r\n   can be instructed to run processes - these are run via ProcessBuilder\r\n   in the client application. As such, it is okay that this client\r\n   application is hidden / does not start a UI - indeed, there is no UI.\r\n   \r\n - However, if the client application is started via TaskScheduler to &#39;run whether user is logged on or not&#39; as above, then any processes that are started by ProcessBuilder in the client application are also unable to run interactively / unable to show a UI. This is a problem, as some of the processes started by the client are UI applications.\r\n\r\nI&#39;m not sure why this would be the case, but really I&#39;m trying to work out if there is a work around - e.g. some environment variables or properties that could be added to get a visible process started by the (invisible) client.\r\n\r\nAny thoughts?\r\n\r\n  [1]: https://technet.microsoft.com/en-us/library/cc722152.aspx\r\n  [2]: https://superuser.com/questions/78359/why-is-windows-7-scheduled-task-running-hiddenhttp://\r\n  [3]: https://stackoverflow.com/questions/39736810/task-scheduler-cant-show-gui-of-the-application-after-logout-and-login-run-whehttp://","title":"Running visible applications, using Java ProcessBuilder, from a process started by TaskScheduler","body":"<p>When starting tasks via Task Scheduler in recent versions of Windows, if the task is &quot;run whether user is logged on or not&quot;, then the task will not run interactively - i.e. it will not start a UI.</p>\n<p>For reference, this is according to <a href=\"https://technet.microsoft.com/en-us/library/cc722152.aspx\" rel=\"nofollow noreferrer\">Microsoft</a>, and has been highlighted in this <a href=\"https://superuser.com/questions/78359/why-is-windows-7-scheduled-task-running-hiddenhttp://\">SuperUser question</a> and this <a href=\"https://stackoverflow.com/questions/39736810/task-scheduler-cant-show-gui-of-the-application-after-logout-and-login-run-whehttp://\">StackOverflow question</a>:</p>\n<blockquote>\n<p>You can specify that a task should run even if the account under which the task is scheduled to run is not logged on when the task is triggered. To do this, select the radio button labeled Run whether user is logged on or not . If this radio button is selected, tasks will not run interactively. To make a task run interactively, select the Run only when user is logged on radio button.</p>\n</blockquote>\n<p>However, my problem is derivative of this.</p>\n<ul>\n<li><p>The task started by TaskScheduler is a Java client application which\ncan be instructed to run processes - these are run via ProcessBuilder\nin the client application. As such, it is okay that this client\napplication is hidden / does not start a UI - indeed, there is no UI.</p>\n</li>\n<li><p>However, if the client application is started via TaskScheduler to 'run whether user is logged on or not' as above, then any processes that are started by ProcessBuilder in the client application are also unable to run interactively / unable to show a UI. This is a problem, as some of the processes started by the client are UI applications.</p>\n</li>\n</ul>\n<p>I'm not sure why this would be the case, but really I'm trying to work out if there is a work around - e.g. some environment variables or properties that could be added to get a visible process started by the (invisible) client.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","caching","infinispan"],"comments":[{"owner":{"account_id":20161220,"reputation":25,"user_id":14786231,"display_name":"Tolstov Maxim"},"score":0,"creation_date":1697696826,"post_id":77318303,"comment_id":136312791,"body_markdown":"The reason is described here https://stackoverflow.com/questions/77318303/infinispan-cache-entities-are-lost-in-production","body":"The reason is described here <a href=\"https://stackoverflow.com/questions/77318303/infinispan-cache-entities-are-lost-in-production\" title=\"infinispan cache entities are lost in production\">stackoverflow.com/questions/77318303/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20161220,"reputation":25,"user_id":14786231,"display_name":"Tolstov Maxim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697789879,"creation_date":1697789879,"answer_id":77329341,"question_id":77318303,"body_markdown":"Solution is to use\r\n\r\n    Cache#putForExternalRead\r\n\r\nto prevent cache on other nodes from invalidation after `Cache#put`","title":"Infinispan cache entities are lost in production","body":"<p>Solution is to use</p>\n<pre><code>Cache#putForExternalRead\n</code></pre>\n<p>to prevent cache on other nodes from invalidation after <code>Cache#put</code></p>\n"}],"owner":{"account_id":20161220,"reputation":25,"user_id":14786231,"display_name":"Tolstov Maxim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77329341,"answer_count":1,"score":-2,"last_activity_date":1697789879,"creation_date":1697648495,"question_id":77318303,"body_markdown":"We have infinispan cache with config (CustomCacheMaxCount is 100000):\r\n    `new ConfigurationBuilder().clustering()\r\n                .partitionHandling().mergePolicy(MergePolicy.REMOVE_ALL)\r\n                .clustering()\r\n                .cacheMode(CacheMode.INVALIDATION_SYNC)\r\n                .statistics().enable()\r\n                .memory()\r\n                .maxCount(cacheSettingsHolder.getCustomCacheMaxCount())\r\n                .whenFull(EvictionStrategy.REMOVE)`\r\nAfter the last redeployment with some updates we noticed too slow responses. We found out that infinispan does not work properly. \r\nWe have no evictions and cluster partitioning.\r\n[![enter image description here](https://i.stack.imgur.com/yxCLT.png)](https://i.stack.imgur.com/yxCLT.png)\r\nBut we have more misses than hits\r\n[![enter image description here](https://i.stack.imgur.com/7DYHd.png)](https://i.stack.imgur.com/7DYHd.png)\r\nAnd cache size is changing. Growing and decreasing, although it shouldn&#39;t decrease because there wasn&#39;t any eviction. While L2 cache works just fine. \r\n[![enter image description here](https://i.stack.imgur.com/iCIgI.png)](https://i.stack.imgur.com/iCIgI.png)\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAny ideas how to find the reason of this behavior and stop this cache from losing entries?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ao47Q.png","title":"Infinispan cache entities are lost in production","body":"<p>We have infinispan cache with config (CustomCacheMaxCount is 100000):\n<code>new ConfigurationBuilder().clustering() .partitionHandling().mergePolicy(MergePolicy.REMOVE_ALL) .clustering() .cacheMode(CacheMode.INVALIDATION_SYNC) .statistics().enable() .memory() .maxCount(cacheSettingsHolder.getCustomCacheMaxCount()) .whenFull(EvictionStrategy.REMOVE)</code>\nAfter the last redeployment with some updates we noticed too slow responses. We found out that infinispan does not work properly.\nWe have no evictions and cluster partitioning.\n<a href=\"https://i.stack.imgur.com/yxCLT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxCLT.png\" alt=\"enter image description here\" /></a>\nBut we have more misses than hits\n<a href=\"https://i.stack.imgur.com/7DYHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7DYHd.png\" alt=\"enter image description here\" /></a>\nAnd cache size is changing. Growing and decreasing, although it shouldn't decrease because there wasn't any eviction. While L2 cache works just fine.\n<a href=\"https://i.stack.imgur.com/iCIgI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCIgI.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ao47Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ao47Q.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas how to find the reason of this behavior and stop this cache from losing entries?</p>\n"},{"tags":["java","android","android-studio","mp3"],"comments":[{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":0,"creation_date":1697789638,"post_id":77328949,"comment_id":136326426,"body_markdown":"Could you provide the code that you wrote?","body":"Could you provide the code that you wrote?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1697798787,"post_id":77328949,"comment_id":136328086,"body_markdown":"&quot;But I have set the correct file path and everything&quot; -- there is no &quot;file path&quot; to a app&#39;s resource on a phone. You might consider editing your question to include a [mcve].","body":"&quot;But I have set the correct file path and everything&quot; -- there is no &quot;file path&quot; to a app&#39;s resource on a phone. You might consider editing your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24845353,"reputation":1,"user_id":18722939,"display_name":"Shashank2002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697789601,"creation_date":1697785784,"question_id":77328949,"body_markdown":"So, I am trying to do an ASR by sending a .mp3 file to the API provided. I am running normally in a Python script and it is working quite fine and giving me the perfect response. But now I am trying to do the same in Android Studio and using Java for that. I have created a `raw` directory in the `res` directory of my project. So this is how the .mp3 file is saved - `res/raw/yes.mp3` - `yes.mp3` is the name of the file. But then, after I write the code, I get this output: \r\n\r\n&gt; {&quot;reason&quot;:&quot;&#39;NoneType&#39; object has no attribute &#39;filename&#39;&quot;, &quot;status&quot;: &quot;failure&quot;}\r\n\r\nBut I have set the correct file path and everything. So, I think there might be some error in how I am associating the .mp3 file. I have associated it with Text, and Archive, and ignored it, but every time the same error. So, with what do I associate the .mp3 file?","title":"What file type do we need to associate a .wav or .mp3 file in Android Studio?","body":"<p>So, I am trying to do an ASR by sending a .mp3 file to the API provided. I am running normally in a Python script and it is working quite fine and giving me the perfect response. But now I am trying to do the same in Android Studio and using Java for that. I have created a <code>raw</code> directory in the <code>res</code> directory of my project. So this is how the .mp3 file is saved - <code>res/raw/yes.mp3</code> - <code>yes.mp3</code> is the name of the file. But then, after I write the code, I get this output:</p>\n<blockquote>\n<p>{&quot;reason&quot;:&quot;'NoneType' object has no attribute 'filename'&quot;, &quot;status&quot;: &quot;failure&quot;}</p>\n</blockquote>\n<p>But I have set the correct file path and everything. So, I think there might be some error in how I am associating the .mp3 file. I have associated it with Text, and Archive, and ignored it, but every time the same error. So, with what do I associate the .mp3 file?</p>\n"},{"tags":["java","stack-overflow","pdfbox"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1697548555,"post_id":77309255,"comment_id":136291630,"body_markdown":"That stack trace doesn&#39;t look like a full track. Can you provide the full stack trace of the error and the error description from the trace?","body":"That stack trace doesn&#39;t look like a full track. Can you provide the full stack trace of the error and the error description from the trace?"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1697549023,"post_id":77309255,"comment_id":136291752,"body_markdown":"@M.Rizzo I&#39;ve added the full stack, hope that helps.","body":"@M.Rizzo I&#39;ve added the full stack, hope that helps."},{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1697550681,"post_id":77309255,"comment_id":136292109,"body_markdown":"What version of PDFBox are you currently using?","body":"What version of PDFBox are you currently using?"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1697553480,"post_id":77309255,"comment_id":136292724,"body_markdown":"@M.Rizzo I&#39;m using org.apache.pdfbox version 3.0.0","body":"@M.Rizzo I&#39;m using org.apache.pdfbox version 3.0.0"},{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1697563310,"post_id":77309255,"comment_id":136294613,"body_markdown":"I thought this may an issue with the COSDictionary and handling page recursion between parent and children, but that issue was addressed in 3.0.0.  I&#39;m not sure what the cause could be here.","body":"I thought this may an issue with the COSDictionary and handling page recursion between parent and children, but that issue was addressed in 3.0.0.  I&#39;m not sure what the cause could be here."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697615575,"post_id":77309255,"comment_id":136300616,"body_markdown":"Please share the source file","body":"Please share the source file"},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1697618417,"post_id":77309255,"comment_id":136301155,"body_markdown":"@TilmanHausherr I solved the issue by avoiding the step of copying pages from the original document into a new `PDDocument`. Instead, I&#39;m directly using the `PDDocument` I&#39;ve loaded from my file, and this works perfectly fine. But now there is an issue with reusing the `PDDocument`, I would need an approach to clone it and then make the changes.","body":"@TilmanHausherr I solved the issue by avoiding the step of copying pages from the original document into a new <code>PDDocument</code>. Instead, I&#39;m directly using the <code>PDDocument</code> I&#39;ve loaded from my file, and this works perfectly fine. But now there is an issue with reusing the <code>PDDocument</code>, I would need an approach to clone it and then make the changes."},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1697619896,"post_id":77309255,"comment_id":136301462,"body_markdown":"@TilmanHausherr I&#39;ve provided my solution, but the approach is not very straigh forward. Hope you have some suggestions for improvment. Thanks in advance.","body":"@TilmanHausherr I&#39;ve provided my solution, but the approach is not very straigh forward. Hope you have some suggestions for improvment. Thanks in advance."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697630936,"post_id":77309255,"comment_id":136303598,"body_markdown":"I don&#39;t see a problem in your code. Btw there&#39;s a nasty bug in 3.0.0, call `targetDoc.getDocument().setHighestXRefObjectNumber(sourceDoc.getDocument().getHighestXRefObjectNumber());` or save with the uncompressed option. https://issues.apache.org/jira/browse/PDFBOX-5696 Also make sure not to close the source document before you&#39;ve saved all the destination documents.","body":"I don&#39;t see a problem in your code. Btw there&#39;s a nasty bug in 3.0.0, call <code>targetDoc.getDocument().setHighestXRefObjectNumber(sourceDoc&zwnj;&#8203;.getDocument().getHi&zwnj;&#8203;ghestXRefObjectNumbe&zwnj;&#8203;r());</code> or save with the uncompressed option. <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5696\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-5696</a> Also make sure not to close the source document before you&#39;ve saved all the destination documents."},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1697636105,"post_id":77309255,"comment_id":136304801,"body_markdown":"@TilmanHausherr Thank you for your assistance! I&#39;m pleased to inform you that it&#39;s working as expected with PDFBox v2.0.29.","body":"@TilmanHausherr Thank you for your assistance! I&#39;m pleased to inform you that it&#39;s working as expected with PDFBox v2.0.29."},{"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"score":0,"creation_date":1697637573,"post_id":77309255,"comment_id":136305135,"body_markdown":"@TilmanHausherr The resolved issue suggests it should be fixed in v3.0.1, but there&#39;s no stable release available for maven at the moment. I really need some functionality from v3. Do you have any information on a release date or any temporary workarounds?","body":"@TilmanHausherr The resolved issue suggests it should be fixed in v3.0.1, but there&#39;s no stable release available for maven at the moment. I really need some functionality from v3. Do you have any information on a release date or any temporary workarounds?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697637735,"post_id":77309255,"comment_id":136305179,"body_markdown":"Please don&#39;t post solutions in a **question**, post them as an **answer**. Also make sure your question actually asks a question.","body":"Please don&#39;t post solutions in a <b>question</b>, post them as an <b>answer</b>. Also make sure your question actually asks a question."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697696221,"post_id":77309255,"comment_id":136312704,"body_markdown":"You can try a snapshot: https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.1-SNAPSHOT/ However the fixed issue wasn&#39;t about a stack overflow.","body":"You can try a snapshot: <a href=\"https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.1-SNAPSHOT/\" rel=\"nofollow noreferrer\">repository.apache.org/content/groups/snapshots/org/apache/&hellip;</a> However the fixed issue wasn&#39;t about a stack overflow."}],"answers":[{"tags":[],"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697789414,"creation_date":1697638243,"answer_id":77317119,"question_id":77309255,"body_markdown":"# Solution 1\r\nThe problem seems to be on `pdfbox`&#39;s side so here just a workaround for version 3.0.0\r\n\r\n```java\r\nprivate PDDocument split(Range range) {\r\n\tPDDocument pdDocument = new PDDocument();\r\n\t\r\n\tfor (PDPage pdPage : pdfModel.getPDDocument().getPages()) {\r\n\t\tpdDocument.addPage(pdPage);\r\n\t}\r\n\t\r\n    int fromPage = range.getFrom();\r\n    int toPage = range.getTo();\r\n    \r\n    int pageCount = pdDocument.getNumberOfPages();\r\n\r\n    if (fromPage &gt; 0 &amp;&amp; toPage &gt; 0 &amp;&amp; pageCount &gt;= fromPage &amp;&amp; pageCount &lt; toPage) {\r\n        logger.warning(this, &quot;Invalid page range for splitting.&quot;);\r\n        return null;\r\n    }\r\n    \r\n    System.out.println(&quot;Page count: &quot; + pdDocument.getNumberOfPages());\r\n            \r\n    for (int n = pageCount - 1; n &gt;= toPage; n--) {\r\n        pdDocument.removePage(n);\r\n    }\r\n    \r\n    for (int n = fromPage -2; n &gt;= 0; n--) {\r\n        pdDocument.removePage(n);\r\n    }\r\n\t\r\n\treturn pdDocument;\r\n}\r\n```\r\n\r\n# Solution 2\r\n\r\nUse `org.apache.pdfbox` version &gt; `3.0.0` or a later version `3.0.1` and above hopfully [this issue](https://issues.apache.org/jira/browse/PDFBOX-5696) resolves the bug.","title":"PDFBox v3.0.0 StackOverflowError when splitting PDF file","body":"<h1>Solution 1</h1>\n<p>The problem seems to be on <code>pdfbox</code>'s side so here just a workaround for version 3.0.0</p>\n<pre class=\"lang-java prettyprint-override\"><code>private PDDocument split(Range range) {\n    PDDocument pdDocument = new PDDocument();\n    \n    for (PDPage pdPage : pdfModel.getPDDocument().getPages()) {\n        pdDocument.addPage(pdPage);\n    }\n    \n    int fromPage = range.getFrom();\n    int toPage = range.getTo();\n    \n    int pageCount = pdDocument.getNumberOfPages();\n\n    if (fromPage &gt; 0 &amp;&amp; toPage &gt; 0 &amp;&amp; pageCount &gt;= fromPage &amp;&amp; pageCount &lt; toPage) {\n        logger.warning(this, &quot;Invalid page range for splitting.&quot;);\n        return null;\n    }\n    \n    System.out.println(&quot;Page count: &quot; + pdDocument.getNumberOfPages());\n            \n    for (int n = pageCount - 1; n &gt;= toPage; n--) {\n        pdDocument.removePage(n);\n    }\n    \n    for (int n = fromPage -2; n &gt;= 0; n--) {\n        pdDocument.removePage(n);\n    }\n    \n    return pdDocument;\n}\n</code></pre>\n<h1>Solution 2</h1>\n<p>Use <code>org.apache.pdfbox</code> version &gt; <code>3.0.0</code> or a later version <code>3.0.1</code> and above hopfully <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5696\" rel=\"nofollow noreferrer\">this issue</a> resolves the bug.</p>\n"}],"owner":{"account_id":28267143,"reputation":89,"user_id":21610914,"display_name":"malz"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77317119,"answer_count":1,"score":0,"last_activity_date":1697789414,"creation_date":1697547984,"question_id":77309255,"body_markdown":"I have a Java class `Split` that is responsible for splitting PDF files into multiple parts based on page ranges. The class uses PDFBox for this purpose. Additionally, I have a `PDFModel` class to manage the resulting PDF files and a `Range` class to specify page ranges.\r\n\r\nHere&#39;s the `Split` class:\r\n\r\n```java\r\npublic class Split{\r\n    private Logger logger;\r\n    private File inputFile;\r\n    private PDFModel pdfModel;\r\n    private File outputDirectory;\r\n\r\n    public Split(Logger logger, File inputFile, File outputDirectory) {\r\n        // Constructor logic...\r\n    }\r\n\r\n    /**\r\n\t * Splits a PDF file based on a list of page ranges and saves the resulting partial PDFs.\r\n\t *\r\n\t * @param ranges A list of page ranges specifying which pages to split from the input PDF.\r\n\t * @return An ArrayList of PDFModel objects representing the resulting partial PDFs.\r\n\t */\r\n\tpublic ArrayList&lt;PDFModel&gt; splitByRanges(ArrayList&lt;Range&gt; ranges){\r\n\t\tArrayList&lt;PDFModel&gt; results = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; ranges.size(); i++) {\r\n\t\t\tPDDocument partial = split(ranges.get(i));\r\n\t\t\t\r\n\t\t\tif(partial == null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tFile outputFile = new File(Paths.get(outputDirectory.getAbsolutePath(), &quot;file_&quot; + i + &quot;.pdf&quot;).toString());\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tpartial.save(outputFile);\r\n\t\t\t\tresults.add(new PDFModel(outputFile, partial));\r\n\t\t\t\t\r\n\t\t        logger.info(this, &quot;Successfully splitted &#39;&quot; + inputFile + &quot;&#39; from page &quot; + ranges.get(i).getFrom() + &quot; to &quot; + ranges.get(i).getTo() + &quot; into &#39;&quot; + outputFile.getAbsolutePath() + &quot;&#39;&quot;);  \r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn results;\r\n\t}\r\n\r\n\tprivate PDDocument split(Range range) {\r\n        PDDocument result = new PDDocument();\r\n\r\n        int fromPage = range.getFrom();\r\n        int toPage = range.getTo();\r\n        \r\n\t\t // Get the PDPageTree from the PDDocument\r\n        PDPageTree pdPageTree = pdfModel.getPDDocument().getPages();\r\n        \r\n        if (fromPage &lt;= 0 || toPage &lt;= 0 || fromPage &gt; toPage || toPage &gt; pdPageTree.getCount()) {\r\n            logger.warning(this, &quot;Invalid page range for splitting.&quot;);\r\n            return null;\r\n        }\r\n        \r\n        for (int i = range.getFrom() -1; i &lt; range.getTo(); i++) {\r\n        \tresult.addPage(pdPageTree.get(i));\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe `org.apache.pdfbox.multipdf.Splitter` does the same but doesn&#39;t work either.\r\n\r\n```java\r\nprivate PDDocument split(Range range) {\r\n\tint fromPage = range.getFrom();\r\n\tint toPage = range.getTo() ;\r\n\r\n\tPDDocument pddocument = pdfModel.getPDDocument();\r\n\r\n\tSplitter splitter = new Splitter();\r\n\r\n\tsplitter.setStartPage(fromPage);\r\n\tsplitter.setEndPage(toPage);\r\n\tsplitter.setSplitAtPage(toPage - fromPage +1 );\r\n\r\n\tList&lt;PDDocument&gt; lst = null;\r\n\t\r\n\ttry {\r\n\t\tlst = splitter.split(pddocument);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\treturn lst.get(0);\r\n}\r\n```\r\n\r\nThe `PDFModel` class:\r\n```java\r\npublic class PDFModel {\r\n    private File file;\r\n    private PDDocument pdDocument;\r\n    private ArrayList&lt;PDFImage&gt; images;\r\n    private ArrayList&lt;String&gt; pages;\r\n\r\n    public PDFModel(File file, PDDocument pdDocument) {\r\n        // Constructor logic...\r\n    }\r\n}\r\n```\r\n\r\nThe `Range` class:\r\n```java\r\npublic class Range {\r\n    private int from;\r\n    private int to;\r\n\r\n    public Range(int from, int to) {\r\n        // Constructor logic...\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to use this `Split` class to split a PDF file into multiple parts using the following code:\r\n\r\nThis throws an error:\r\n```java\r\nSplitter splitter = new Splitter(logger, inputFile, outputDirectory);\r\nsplitter.splitByRanges(new ArrayList&lt;Range&gt;(Arrays.asList(new Range(1, 7), new Range(8, 9), new Range(10, 11)));\r\n```\r\n\r\nAnd this works perfectly fine (not for `org.apache.pdfbox.multipdf.Splitter`):\r\n```java\r\nSplitter splitter = new Splitter(logger, inputFile, outputDirectory);\r\nsplitter.splitByRanges(new ArrayList&lt;Range&gt;(Arrays.asList(new Range(1, 8), new Range(10, 12), new Range(14, 16)));\r\n```\r\n\r\nHowever, I&#39;m encountering the following StackOverflowError:\r\n```\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat java.base/java.util.HashMap.tableSizeFor(HashMap.java:378)\r\n\tat java.base/java.util.HashMap.&lt;init&gt;(HashMap.java:455)\r\n\tat java.base/java.util.LinkedHashMap.&lt;init&gt;(LinkedHashMap.java:439)\r\n\tat java.base/java.util.HashSet.&lt;init&gt;(HashSet.java:171)\r\n\tat java.base/java.util.LinkedHashSet.&lt;init&gt;(LinkedHashSet.java:167)\r\n\tat org.apache.pdfbox.util.SmallMap.entrySet(SmallMap.java:384)\r\n\tat org.apache.pdfbox.cos.COSDictionary.entrySet(COSDictionary.java:1232)\r\n\tat org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeCOSDictionary(COSWriterObjectStream.java:338)\r\n\tat org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeObject(COSWriterObjectStream.java:232)\r\n\tat org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeCOSDictionary(COSWriterObjectStream.java:343)\r\n\tat org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeObject(COSWriterObjectStream.java:232)\r\n\tat org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeCOSArray(COSWriterObjectStream.java:321)\r\n\tat org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeObject(COSWriterObjectStream.java:228)\r\n```\r\n\r\n## Question \r\nHow can I resolve this StackOverflow error? ","title":"PDFBox v3.0.0 StackOverflowError when splitting PDF file","body":"<p>I have a Java class <code>Split</code> that is responsible for splitting PDF files into multiple parts based on page ranges. The class uses PDFBox for this purpose. Additionally, I have a <code>PDFModel</code> class to manage the resulting PDF files and a <code>Range</code> class to specify page ranges.</p>\n<p>Here's the <code>Split</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Split{\n    private Logger logger;\n    private File inputFile;\n    private PDFModel pdfModel;\n    private File outputDirectory;\n\n    public Split(Logger logger, File inputFile, File outputDirectory) {\n        // Constructor logic...\n    }\n\n    /**\n     * Splits a PDF file based on a list of page ranges and saves the resulting partial PDFs.\n     *\n     * @param ranges A list of page ranges specifying which pages to split from the input PDF.\n     * @return An ArrayList of PDFModel objects representing the resulting partial PDFs.\n     */\n    public ArrayList&lt;PDFModel&gt; splitByRanges(ArrayList&lt;Range&gt; ranges){\n        ArrayList&lt;PDFModel&gt; results = new ArrayList&lt;&gt;();\n        \n        for (int i = 0; i &lt; ranges.size(); i++) {\n            PDDocument partial = split(ranges.get(i));\n            \n            if(partial == null) {\n                continue;\n            }\n            \n            File outputFile = new File(Paths.get(outputDirectory.getAbsolutePath(), &quot;file_&quot; + i + &quot;.pdf&quot;).toString());\n            \n            try {\n                partial.save(outputFile);\n                results.add(new PDFModel(outputFile, partial));\n                \n                logger.info(this, &quot;Successfully splitted '&quot; + inputFile + &quot;' from page &quot; + ranges.get(i).getFrom() + &quot; to &quot; + ranges.get(i).getTo() + &quot; into '&quot; + outputFile.getAbsolutePath() + &quot;'&quot;);  \n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        \n        return results;\n    }\n\n    private PDDocument split(Range range) {\n        PDDocument result = new PDDocument();\n\n        int fromPage = range.getFrom();\n        int toPage = range.getTo();\n        \n         // Get the PDPageTree from the PDDocument\n        PDPageTree pdPageTree = pdfModel.getPDDocument().getPages();\n        \n        if (fromPage &lt;= 0 || toPage &lt;= 0 || fromPage &gt; toPage || toPage &gt; pdPageTree.getCount()) {\n            logger.warning(this, &quot;Invalid page range for splitting.&quot;);\n            return null;\n        }\n        \n        for (int i = range.getFrom() -1; i &lt; range.getTo(); i++) {\n            result.addPage(pdPageTree.get(i));\n        }\n        \n        return result;\n    }\n\n}\n</code></pre>\n<p>The <code>org.apache.pdfbox.multipdf.Splitter</code> does the same but doesn't work either.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private PDDocument split(Range range) {\n    int fromPage = range.getFrom();\n    int toPage = range.getTo() ;\n\n    PDDocument pddocument = pdfModel.getPDDocument();\n\n    Splitter splitter = new Splitter();\n\n    splitter.setStartPage(fromPage);\n    splitter.setEndPage(toPage);\n    splitter.setSplitAtPage(toPage - fromPage +1 );\n\n    List&lt;PDDocument&gt; lst = null;\n    \n    try {\n        lst = splitter.split(pddocument);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return lst.get(0);\n}\n</code></pre>\n<p>The <code>PDFModel</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PDFModel {\n    private File file;\n    private PDDocument pdDocument;\n    private ArrayList&lt;PDFImage&gt; images;\n    private ArrayList&lt;String&gt; pages;\n\n    public PDFModel(File file, PDDocument pdDocument) {\n        // Constructor logic...\n    }\n}\n</code></pre>\n<p>The <code>Range</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Range {\n    private int from;\n    private int to;\n\n    public Range(int from, int to) {\n        // Constructor logic...\n    }\n}\n</code></pre>\n<p>I'm trying to use this <code>Split</code> class to split a PDF file into multiple parts using the following code:</p>\n<p>This throws an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Splitter splitter = new Splitter(logger, inputFile, outputDirectory);\nsplitter.splitByRanges(new ArrayList&lt;Range&gt;(Arrays.asList(new Range(1, 7), new Range(8, 9), new Range(10, 11)));\n</code></pre>\n<p>And this works perfectly fine (not for <code>org.apache.pdfbox.multipdf.Splitter</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Splitter splitter = new Splitter(logger, inputFile, outputDirectory);\nsplitter.splitByRanges(new ArrayList&lt;Range&gt;(Arrays.asList(new Range(1, 8), new Range(10, 12), new Range(14, 16)));\n</code></pre>\n<p>However, I'm encountering the following StackOverflowError:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n    at java.base/java.util.HashMap.tableSizeFor(HashMap.java:378)\n    at java.base/java.util.HashMap.&lt;init&gt;(HashMap.java:455)\n    at java.base/java.util.LinkedHashMap.&lt;init&gt;(LinkedHashMap.java:439)\n    at java.base/java.util.HashSet.&lt;init&gt;(HashSet.java:171)\n    at java.base/java.util.LinkedHashSet.&lt;init&gt;(LinkedHashSet.java:167)\n    at org.apache.pdfbox.util.SmallMap.entrySet(SmallMap.java:384)\n    at org.apache.pdfbox.cos.COSDictionary.entrySet(COSDictionary.java:1232)\n    at org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeCOSDictionary(COSWriterObjectStream.java:338)\n    at org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeObject(COSWriterObjectStream.java:232)\n    at org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeCOSDictionary(COSWriterObjectStream.java:343)\n    at org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeObject(COSWriterObjectStream.java:232)\n    at org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeCOSArray(COSWriterObjectStream.java:321)\n    at org.apache.pdfbox.pdfwriter.compress.COSWriterObjectStream.writeObject(COSWriterObjectStream.java:228)\n</code></pre>\n<h2>Question</h2>\n<p>How can I resolve this StackOverflow error?</p>\n"},{"tags":["java","spring","maven"],"answers":[{"comments":[{"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"score":0,"creation_date":1697190066,"post_id":77279605,"comment_id":136251579,"body_markdown":"Well, may be your answer is not what I expected. Actually in my assume, user just need to declare the dependency `com.example.dlock:distributed-lock`, and then can use it ignore he actually need which impl. And on the other hand, I think I should avoid user realized that dlock-type in properties-file has relationship with it in pom-files, that&#39;s a bad design for users&#39; use.","body":"Well, may be your answer is not what I expected. Actually in my assume, user just need to declare the dependency <code>com.example.dlock:distributed-lock</code>, and then can use it ignore he actually need which impl. And on the other hand, I think I should avoid user realized that dlock-type in properties-file has relationship with it in pom-files, that&#39;s a bad design for users&#39; use."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697192468,"post_id":77279605,"comment_id":136252038,"body_markdown":"@EmiyaElien, you can decide which implementation to use at *build-time* or *run-time*: in the first case you can remove unnecessary dependencies, in the second one you cannot because it&#39;s simply too late.  A third option is to add the implementation to the classpath like a plugin (that is after build-time but before run-time, let&#39;s say *deploy-time*), but the jar of the implementation (maybe a shaded jar) will be outside of the war or fat jar of the application. I see no other option.","body":"@EmiyaElien, you can decide which implementation to use at <i>build-time</i> or <i>run-time</i>: in the first case you can remove unnecessary dependencies, in the second one you cannot because it&#39;s simply too late.  A third option is to add the implementation to the classpath like a plugin (that is after build-time but before run-time, let&#39;s say <i>deploy-time</i>), but the jar of the implementation (maybe a shaded jar) will be outside of the war or fat jar of the application. I see no other option."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697104907,"creation_date":1697104907,"answer_id":77279605,"question_id":77279512,"body_markdown":"Move each implementation of `distributed-lock` to a separated Maven module so that applications can declare a dependency only on the modules they really want to use.  In the application avoid that explicit import of the configuration classes of the 3 implementations of `distributed-lock`: you can use [`@ComponentScan`][1] or [`@Autoconfiguration`][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/AutoConfiguration.html","title":"How to make a Spring lib project dynamically enable classes according to user dependencies","body":"<p>Move each implementation of <code>distributed-lock</code> to a separated Maven module so that applications can declare a dependency only on the modules they really want to use.  In the application avoid that explicit import of the configuration classes of the 3 implementations of <code>distributed-lock</code>: you can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\"><code>@ComponentScan</code></a> or <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/AutoConfiguration.html\" rel=\"nofollow noreferrer\"><code>@Autoconfiguration</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697789382,"creation_date":1697789382,"answer_id":77329290,"question_id":77279512,"body_markdown":"Finally I got the answer!\r\n\r\nIt&#39;s really amazing for me when I lack the knowledge, please look [ConditionalOnClass][1]\r\n\r\nThis document said `A Class value can be safely specified on @Configuration classes as the annotation metadata is parsed by using ASM before the class is loaded`, that&#39;s means I can dynamicly declare beans wrapped by an Configuration Class, like this\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n  &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere I declare the spring-cloud-gateway&#39;s starter as a dependency, cause it&#39;s really heavy, and my lib only have one Class that implement GlobalFilter as an optional component, which means only user&#39;s project depends on spring-cloud-gateway, it will do work.\r\n\r\n```java\r\npublic class MyGlobalFilter implements GlobalFilter {\r\n    // ......\r\n}\r\npublic class MyLibAutoConfiguration {\r\n    // omit other beans\r\n\r\n    // this will cause error when lacks of spring-cloud-gateway\r\n    @Bean\r\n    @ConditionalOnClass(GlobalFilter.class)\r\n    public MyGlobalFilter myGlobalFilter() {\r\n        return new MyGlobalFilter();\r\n    }\r\n}\r\n```\r\nThe code above will cause error when user&#39;s project depends on this lib but exclude spring-cloud-gateway. Cause Spring scaned this method and cannot found the class GlobalFitler implemented by MyGlobalFilter\r\n```java\r\npublic class MyGlobalFilter implements GlobalFilter {\r\n    // ......\r\n}\r\npublic class MyLibAutoConfiguration {\r\n    // omit other beans\r\n\r\n    // this will work well whether depends on spring-cloud-gateway or not\r\n    @Configuration\r\n    @ConditionalOnClass(GlobalFilter.class)\r\n    public class MyLibGatewayAutoConfiguration {\r\n        @Bean\r\n        public MyGlobalFilter myGlobalFilter() {\r\n            return new MyGlobalFilter();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo the conclusion comes out, if a project is a big mess, Classes where should belong to different modules were placed in the same one, now you can use the Configuration(class and @annotation) to wrap the beans, and then they can be dynamically loaded by users&#39; dependency enviroment\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.html","title":"How to make a Spring lib project dynamically enable classes according to user dependencies","body":"<p>Finally I got the answer!</p>\n<p>It's really amazing for me when I lack the knowledge, please look <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.html\" rel=\"nofollow noreferrer\">ConditionalOnClass</a></p>\n<p>This document said <code>A Class value can be safely specified on @Configuration classes as the annotation metadata is parsed by using ASM before the class is loaded</code>, that's means I can dynamicly declare beans wrapped by an Configuration Class, like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here I declare the spring-cloud-gateway's starter as a dependency, cause it's really heavy, and my lib only have one Class that implement GlobalFilter as an optional component, which means only user's project depends on spring-cloud-gateway, it will do work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyGlobalFilter implements GlobalFilter {\n    // ......\n}\npublic class MyLibAutoConfiguration {\n    // omit other beans\n\n    // this will cause error when lacks of spring-cloud-gateway\n    @Bean\n    @ConditionalOnClass(GlobalFilter.class)\n    public MyGlobalFilter myGlobalFilter() {\n        return new MyGlobalFilter();\n    }\n}\n</code></pre>\n<p>The code above will cause error when user's project depends on this lib but exclude spring-cloud-gateway. Cause Spring scaned this method and cannot found the class GlobalFitler implemented by MyGlobalFilter</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyGlobalFilter implements GlobalFilter {\n    // ......\n}\npublic class MyLibAutoConfiguration {\n    // omit other beans\n\n    // this will work well whether depends on spring-cloud-gateway or not\n    @Configuration\n    @ConditionalOnClass(GlobalFilter.class)\n    public class MyLibGatewayAutoConfiguration {\n        @Bean\n        public MyGlobalFilter myGlobalFilter() {\n            return new MyGlobalFilter();\n        }\n    }\n}\n</code></pre>\n<p>So the conclusion comes out, if a project is a big mess, Classes where should belong to different modules were placed in the same one, now you can use the Configuration(class and @annotation) to wrap the beans, and then they can be dynamically loaded by users' dependency enviroment</p>\n"}],"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77329290,"answer_count":2,"score":0,"last_activity_date":1697789382,"creation_date":1697104108,"question_id":77279512,"body_markdown":"I want to start with an example to show my real problem, here is\r\n\r\n---\r\n\r\nThis is a small project of distributed-lock, its purpose is to configure distributed-lock through properties file, and when using it, you don&#39;t need to considered its impl\r\n\r\nYou can config distributed-lock properties file like this\r\n\r\n```yaml\r\ndlock:\r\n  list: # this is a Map List\r\n    - namespace: redis-dlock-1\r\n      type: redis\r\n      config: # the config includes specific impl properties, here is redisson\r\n        ...\r\n    - namespace: db-dlock-1\r\n      type: database\r\n      config: # here is database config\r\n        ...\r\n    - namespace: zk-dlock-1\r\n      type: zookeeper\r\n      config: # here is curator config\r\n        ...\r\n    ...\r\n```\r\n\r\nWhen using distributed-lock in project, you just need import the dependency, create a config file, and using Annotation or API in project like this\r\n\r\n```\r\n// this is a user method\r\n@DistributedLock(namespace=&quot;redis-dlock-1&quot;, tryWait=3000, fair=false)\r\npublic void invoke(Object[] params) {\r\n  ......\r\n}\r\n\r\npublic void invoke(Object[] params) {\r\n  DLock lock = DLockSupport.getDLock(/* namespace = */ &quot;db-dlock-1&quot;, /* fair = */false);\r\n  ......\r\n  if (lock.tryLock(3000)) {\r\n    ...... // do bussiness\r\n    lock.unlock(); \r\n  }\r\n  ......\r\n}\r\n```\r\n\r\nIt&#39;s easy to make and use, but as I mentioned, there are 3 impl of distributed-lock: `database, zookeeper, redis`, and to avoid user actively choose its impl, they are in the same project `com.example.dlock:distributed-lock`\r\n\r\n```txt\r\ndistributed-lock\r\n     |\r\n    impl\r\n       |\r\n      redis\r\n      zookeeper\r\n      database\r\n\r\n```\r\n\r\nBut I found a question, even though my project almost only use redis impl, importing distributed-lock will also lead to import database and zookeeper dependencies, that&#39;s I don&#39;t want to see\r\n\r\nIn another word, I want to make the lib&#39;s impl effective only when its basic dependencies has been imported by user project. That&#39;s mean, if there is only redisson(redis), then zookeeper and database is invalid, if there have redisson(redis) and database, then using zookeeper is invalid, if env has all impl dependencies, then you can use any impl of distributed-lock\r\n\r\nMy configuration design is like this:\r\n\r\n```java\r\n@Configuration\r\n@Import(RedisDLockConfiguration.class, \r\n        ZookeeperDLockConfiguration.class, \r\n        DatabaseDLockConfiguration.class)\r\npublic class DLockAutoConfiguration { }\r\n\r\n@ConditionalOnClass({RedisTemplate.class, RedissonClient.class})\r\n@EnableConfigurationProperties(RedisDLockProperties.class)\r\npublic class RedisDLockConfiguration {\r\n    ......\r\n}\r\n\r\n@ConditionalOnClass({Zookeeper.class, CuratorFramework.class})\r\n@EnableConfigurationProperties(ZookeeperDLockProperties.class)&#160;\r\npublic class ZookeeperDLockConfiguration {\r\n    ......\r\n}\r\n\r\n@ConditionalOnClass({JdbcTemplate.class, Connection.class})\r\n@EnableConfigurationProperties(DatabaseDLockProperties.class)\r\npublic class DatabaseDLockConfiguration {\r\n    ......\r\n}\r\n```\r\n\r\nSo in my assign, if user classpath contains RedisTemplate.class, RedissonClient.class, then redis-dlock will be enabled, same as database and zookeeper, `instead if user lack some class, and it should be ignored and ok, but actually i got missing class error`\r\n\r\n---\r\n\r\nMy real problem just like this example, i succeed an old spring-cloud lib system and ordered to upgrade to 2021.0.X, the system source code in a ordinary module contains a ZuulFilter, so I replaced it to GlobalFilter of springcloud-gateway, I thought it would enabled at gateway-imported enviroment and disable in ordinary env, but I was wrong, it imported a lot of classes and beans of gateway, that was too heavy to accept\r\n\r\nIs there any solution to make the goal?","title":"How to make a Spring lib project dynamically enable classes according to user dependencies","body":"<p>I want to start with an example to show my real problem, here is</p>\n<hr />\n<p>This is a small project of distributed-lock, its purpose is to configure distributed-lock through properties file, and when using it, you don't need to considered its impl</p>\n<p>You can config distributed-lock properties file like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>dlock:\n  list: # this is a Map List\n    - namespace: redis-dlock-1\n      type: redis\n      config: # the config includes specific impl properties, here is redisson\n        ...\n    - namespace: db-dlock-1\n      type: database\n      config: # here is database config\n        ...\n    - namespace: zk-dlock-1\n      type: zookeeper\n      config: # here is curator config\n        ...\n    ...\n</code></pre>\n<p>When using distributed-lock in project, you just need import the dependency, create a config file, and using Annotation or API in project like this</p>\n<pre><code>// this is a user method\n@DistributedLock(namespace=&quot;redis-dlock-1&quot;, tryWait=3000, fair=false)\npublic void invoke(Object[] params) {\n  ......\n}\n\npublic void invoke(Object[] params) {\n  DLock lock = DLockSupport.getDLock(/* namespace = */ &quot;db-dlock-1&quot;, /* fair = */false);\n  ......\n  if (lock.tryLock(3000)) {\n    ...... // do bussiness\n    lock.unlock(); \n  }\n  ......\n}\n</code></pre>\n<p>It's easy to make and use, but as I mentioned, there are 3 impl of distributed-lock: <code>database, zookeeper, redis</code>, and to avoid user actively choose its impl, they are in the same project <code>com.example.dlock:distributed-lock</code></p>\n<pre><code>distributed-lock\n     |\n    impl\n       |\n      redis\n      zookeeper\n      database\n\n</code></pre>\n<p>But I found a question, even though my project almost only use redis impl, importing distributed-lock will also lead to import database and zookeeper dependencies, that's I don't want to see</p>\n<p>In another word, I want to make the lib's impl effective only when its basic dependencies has been imported by user project. That's mean, if there is only redisson(redis), then zookeeper and database is invalid, if there have redisson(redis) and database, then using zookeeper is invalid, if env has all impl dependencies, then you can use any impl of distributed-lock</p>\n<p>My configuration design is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Import(RedisDLockConfiguration.class, \n        ZookeeperDLockConfiguration.class, \n        DatabaseDLockConfiguration.class)\npublic class DLockAutoConfiguration { }\n\n@ConditionalOnClass({RedisTemplate.class, RedissonClient.class})\n@EnableConfigurationProperties(RedisDLockProperties.class)\npublic class RedisDLockConfiguration {\n    ......\n}\n\n@ConditionalOnClass({Zookeeper.class, CuratorFramework.class})\n@EnableConfigurationProperties(ZookeeperDLockProperties.class) \npublic class ZookeeperDLockConfiguration {\n    ......\n}\n\n@ConditionalOnClass({JdbcTemplate.class, Connection.class})\n@EnableConfigurationProperties(DatabaseDLockProperties.class)\npublic class DatabaseDLockConfiguration {\n    ......\n}\n</code></pre>\n<p>So in my assign, if user classpath contains RedisTemplate.class, RedissonClient.class, then redis-dlock will be enabled, same as database and zookeeper, <code>instead if user lack some class, and it should be ignored and ok, but actually i got missing class error</code></p>\n<hr />\n<p>My real problem just like this example, i succeed an old spring-cloud lib system and ordered to upgrade to 2021.0.X, the system source code in a ordinary module contains a ZuulFilter, so I replaced it to GlobalFilter of springcloud-gateway, I thought it would enabled at gateway-imported enviroment and disable in ordinary env, but I was wrong, it imported a lot of classes and beans of gateway, that was too heavy to accept</p>\n<p>Is there any solution to make the goal?</p>\n"},{"tags":["java","java-8"],"answers":[{"comments":[{"owner":{"account_id":2287731,"reputation":925,"user_id":2011375,"accept_rate":44,"display_name":"Du_"},"score":0,"creation_date":1401373678,"post_id":23925631,"comment_id":36866214,"body_markdown":"It is a really good idea, nevertheless is there a way to have the final count into an array instead of a Map?","body":"It is a really good idea, nevertheless is there a way to have the final count into an array instead of a Map?"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":22,"creation_date":1401376080,"post_id":23925631,"comment_id":36867646,"body_markdown":"Arrays.setAll(array, counters::get);","body":"Arrays.setAll(array, counters::get);"},{"owner":{"account_id":7459405,"reputation":1115,"user_id":5671480,"accept_rate":67,"display_name":"Sanal S"},"score":0,"creation_date":1581319355,"post_id":23925631,"comment_id":106377623,"body_markdown":"what is this? counters::get","body":"what is this? counters::get"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1581610437,"post_id":23925631,"comment_id":106502197,"body_markdown":"It is a bound method reference, equivalent to the lambda `i -&gt; counters.get(i)`","body":"It is a bound method reference, equivalent to the lambda <code>i -&gt; counters.get(i)</code>"},{"owner":{"account_id":4316093,"reputation":3757,"user_id":3525886,"accept_rate":75,"display_name":"Johnny Willer"},"score":0,"creation_date":1648931345,"post_id":23925631,"comment_id":126749404,"body_markdown":"@BrianGoetz isn&#39;t counters::get a unBounded method reference?","body":"@BrianGoetz isn&#39;t counters::get a unBounded method reference?"},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1649003985,"post_id":23925631,"comment_id":126760748,"body_markdown":"@JohnnyWiller &quot;Bound&quot; means that the receiver of the method call is bound at lambda capture time.","body":"@JohnnyWiller &quot;Bound&quot; means that the receiver of the method call is bound at lambda capture time."}],"tags":[],"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"comment_count":6,"down_vote_count":0,"up_vote_count":124,"is_accepted":true,"score":124,"last_activity_date":1492611006,"creation_date":1401337198,"answer_id":23925631,"question_id":23925315,"body_markdown":"Try:\r\n\r\n     Map&lt;Integer, Long&gt; counters = persons.stream()\r\n         .collect(Collectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \r\n             Collectors.counting()));","title":"Count int occurrences with Java8","body":"<p>Try:</p>\n\n<pre><code> Map&lt;Integer, Long&gt; counters = persons.stream()\n     .collect(Collectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \n         Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7426798,"reputation":161,"user_id":5649020,"display_name":"itohro"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455909883,"creation_date":1455890705,"answer_id":35507206,"question_id":23925315,"body_markdown":"With [Eclipse Collections][1] (formerly [GS Collections][2]), you can make use of a data structure called `Bag` that can hold the number of occurrences of each element.\r\n\r\nUsing `IntBag`, the following will work:\r\n\r\n    MutableList&lt;Person&gt; personsEC = ListAdapter.adapt(persons);\r\n    IntBag intBag = personsEC.collectInt(person -&gt; person.getBirthDay().getMonthValue()).toBag();\r\n\r\n    intBag.forEachWithOccurrences((month, count) -&gt; System.out.println(&quot;Count of month:&quot; + month + &quot; is &quot; + count));\r\n\r\nIf you want to make use of an array to keep track of the count, you can combine with the `Arrays.setAll()` approach [Brian][3] pointed out in another answer. \r\n\r\n    int[] monthCounter  = new int[12];\r\n    MutableList&lt;Person&gt; personsEC = ListAdapter.adapt(persons);\r\n    IntBag bag = personsEC.collectInt(person -&gt; person.getBirthDay().getMonthValue()).toBag();\r\n    Arrays.setAll(monthCounter, bag::occurrencesOf);\r\n    System.out.println(IntLists.immutable.with(monthCounter));\r\n\r\nThis code will also work with Java 5 – 7 if you use anonymous inner classes instead of lambdas.\r\n\r\n**Note: I am a committer for Eclipse Collections**\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://github.com/goldmansachs/gs-collections\r\n  [3]: https://stackoverflow.com/users/3553087/brian-goetz","title":"Count int occurrences with Java8","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> (formerly <a href=\"https://github.com/goldmansachs/gs-collections\" rel=\"nofollow noreferrer\">GS Collections</a>), you can make use of a data structure called <code>Bag</code> that can hold the number of occurrences of each element.</p>\n\n<p>Using <code>IntBag</code>, the following will work:</p>\n\n<pre><code>MutableList&lt;Person&gt; personsEC = ListAdapter.adapt(persons);\nIntBag intBag = personsEC.collectInt(person -&gt; person.getBirthDay().getMonthValue()).toBag();\n\nintBag.forEachWithOccurrences((month, count) -&gt; System.out.println(\"Count of month:\" + month + \" is \" + count));\n</code></pre>\n\n<p>If you want to make use of an array to keep track of the count, you can combine with the <code>Arrays.setAll()</code> approach <a href=\"https://stackoverflow.com/users/3553087/brian-goetz\">Brian</a> pointed out in another answer. </p>\n\n<pre><code>int[] monthCounter  = new int[12];\nMutableList&lt;Person&gt; personsEC = ListAdapter.adapt(persons);\nIntBag bag = personsEC.collectInt(person -&gt; person.getBirthDay().getMonthValue()).toBag();\nArrays.setAll(monthCounter, bag::occurrencesOf);\nSystem.out.println(IntLists.immutable.with(monthCounter));\n</code></pre>\n\n<p>This code will also work with Java 5 – 7 if you use anonymous inner classes instead of lambdas.</p>\n\n<p><strong>Note: I am a committer for Eclipse Collections</strong></p>\n"},{"comments":[{"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"score":2,"creation_date":1498029437,"post_id":44667259,"comment_id":76323049,"body_markdown":"While this code snippet may solve the question, [including an explanation](http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may solve the question, <a href=\"http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."},{"owner":{"account_id":6087813,"reputation":15135,"user_id":4751165,"accept_rate":96,"display_name":"Pau"},"score":1,"creation_date":1499063483,"post_id":44667259,"comment_id":76736179,"body_markdown":"`count()` returns long you need to cast to int, so this doesn&#39;t compile. It wouyld be `int size = (int) persons.stream().count()`","body":"<code>count()</code> returns long you need to cast to int, so this doesn&#39;t compile. It wouyld be <code>int size = (int) persons.stream().count()</code>"}],"tags":[],"owner":{"account_id":706402,"reputation":1052,"user_id":610874,"display_name":"Huy Le"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1498021812,"creation_date":1498021812,"answer_id":44667259,"question_id":23925315,"body_markdown":"    int size = persons.stream().count()","title":"Count int occurrences with Java8","body":"<pre><code>int size = persons.stream().count()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14632743,"reputation":73,"user_id":10567980,"display_name":"avigaild"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540667766,"creation_date":1540667766,"answer_id":53025445,"question_id":23925315,"body_markdown":"If you would like to get Integer to Integer map, you can do the following.\r\n\r\n    Map&lt;Integer, Integer&gt; counters = persons.stream()\r\n        .collect(Collectors.groupingBy(\r\n            p -&gt; p.getBirthday().getMonthValue(),\r\n            Collectors.reducing(0, e -&gt; 1, Integer::sum)));","title":"Count int occurrences with Java8","body":"<p>If you would like to get Integer to Integer map, you can do the following.</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; counters = persons.stream()\n    .collect(Collectors.groupingBy(\n        p -&gt; p.getBirthday().getMonthValue(),\n        Collectors.reducing(0, e -&gt; 1, Integer::sum)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4754852,"reputation":705,"user_id":3843853,"accept_rate":33,"display_name":"Arjun Nagathankandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544013678,"creation_date":1544013230,"answer_id":53632462,"question_id":23925315,"body_markdown":"Already answered. Small Suggestion from my side inorder to eliminate **null** pointer exception\r\nie  From the stream null will throw **java.lang.UnsupportedOperationException**, **java.lang.NullPointerException** \r\n\r\n    Map&lt;Integer, Long&gt; birthdayCount = persons.stream()\r\n                                        .filter(Objects::nonNull) // filter out null object\r\n                                        .filter(p-&gt;Objects.nonNull(p.getBirthday())) // filter out null birthdays\r\n                                        .collect(Collectors.groupingBy(p -&gt; \r\n                                                     p.getBirthday().getMonthValue(), \r\n                                                     Collectors.counting()));","title":"Count int occurrences with Java8","body":"<p>Already answered. Small Suggestion from my side inorder to eliminate <strong>null</strong> pointer exception\nie  From the stream null will throw <strong>java.lang.UnsupportedOperationException</strong>, <strong>java.lang.NullPointerException</strong> </p>\n\n<pre><code>Map&lt;Integer, Long&gt; birthdayCount = persons.stream()\n                                    .filter(Objects::nonNull) // filter out null object\n                                    .filter(p-&gt;Objects.nonNull(p.getBirthday())) // filter out null birthdays\n                                    .collect(Collectors.groupingBy(p -&gt; \n                                                 p.getBirthday().getMonthValue(), \n                                                 Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35665,"reputation":17726,"user_id":101095,"accept_rate":94,"display_name":"Cuga"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1562775726,"creation_date":1562775726,"answer_id":56974911,"question_id":23925315,"body_markdown":"There&#39;s a few variations this could take.  \r\n\r\nYou can use `Collectors.summingInt()` to use `Integer` instead of the `Long` in the count.\r\n\r\nIf you wanted to skip the primitive `int` array, you could store the counts directly to a `List` in one iteration.\r\n\r\n**Count the birth months as Integers**\r\n\r\n\tMap&lt;Integer, Integer&gt; monthsToCounts = \r\n\t\t\tpeople.stream().collect(\r\n\t\t\t\t\tCollectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \r\n\t\t\t\t\tCollectors.summingInt(a -&gt; 1)));\r\n\r\n**Store the birth months in a 0-based array**\r\n\r\n\tint[] monthCounter = new int[12];\r\n\tpeople.stream().collect(Collectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \r\n\t\t\t                Collectors.summingInt(a -&gt; 1)))\r\n\t\t\t\t\t\t\t.forEach((month, count) -&gt; monthCounter[month-1]=count);\r\n\r\n**Skip the array and directly store the values to a list**\r\n\r\n\tList&lt;Integer&gt; counts = people.stream().collect(\r\n\t\t\tCollectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \r\n            Collectors.summingInt(a -&gt; 1)))\r\n\t\t\t.values().stream().collect(Collectors.toList());\r\n\r\n","title":"Count int occurrences with Java8","body":"<p>There's a few variations this could take.  </p>\n\n<p>You can use <code>Collectors.summingInt()</code> to use <code>Integer</code> instead of the <code>Long</code> in the count.</p>\n\n<p>If you wanted to skip the primitive <code>int</code> array, you could store the counts directly to a <code>List</code> in one iteration.</p>\n\n<p><strong>Count the birth months as Integers</strong></p>\n\n<pre><code>Map&lt;Integer, Integer&gt; monthsToCounts = \n        people.stream().collect(\n                Collectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \n                Collectors.summingInt(a -&gt; 1)));\n</code></pre>\n\n<p><strong>Store the birth months in a 0-based array</strong></p>\n\n<pre><code>int[] monthCounter = new int[12];\npeople.stream().collect(Collectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \n                        Collectors.summingInt(a -&gt; 1)))\n                        .forEach((month, count) -&gt; monthCounter[month-1]=count);\n</code></pre>\n\n<p><strong>Skip the array and directly store the values to a list</strong></p>\n\n<pre><code>List&lt;Integer&gt; counts = people.stream().collect(\n        Collectors.groupingBy(p -&gt; p.getBirthday().getMonthValue(), \n        Collectors.summingInt(a -&gt; 1)))\n        .values().stream().collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2287731,"reputation":925,"user_id":2011375,"accept_rate":44,"display_name":"Du_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63096,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":23925631,"answer_count":6,"score":57,"last_activity_date":1697789247,"creation_date":1401334564,"question_id":23925315,"body_markdown":"Is there a better way to count int occurrences with Java8\r\n\r\n    int[] monthCounter = new int[12];\r\n    persons.stream().forEach(person -&gt; monthCounter[person.getBirthday().getMonthValue() - 1]++);","title":"Count int occurrences with Java8","body":"<p>Is there a better way to count int occurrences with Java8</p>\n\n<pre><code>int[] monthCounter = new int[12];\npersons.stream().forEach(person -&gt; monthCounter[person.getBirthday().getMonthValue() - 1]++);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1697789327,"post_id":77329259,"comment_id":136326366,"body_markdown":"`3 * 1024 * 1024 * 1024L` is less than 10GB.","body":"<code>3 * 1024 * 1024 * 1024L</code> is less than 10GB."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697789371,"post_id":77329259,"comment_id":136326374,"body_markdown":"How much memory did you assign to the JVM when you started it up (via the _java_ command)? I very much doubt that the default amount is sufficient. Refer to the documentation for the [java command](https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html).","body":"How much memory did you assign to the JVM when you started it up (via the <i>java</i> command)? I very much doubt that the default amount is sufficient. Refer to the documentation for the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java command</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697818434,"post_id":77329259,"comment_id":136331803,"body_markdown":"Don’t use MemorySegment unless you are interacting with native libraries.  Just use [FileChannel.map](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)).  For example, `float f = FileChannel.open(Path.of(pathString)).map(FileChannel.MapMode.READ_ONLY, 3 * 1024 * 1024 * 1024L, Float.BYTES).getFloat();`","body":"Don’t use MemorySegment unless you are interacting with native libraries.  Just use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)\" rel=\"nofollow noreferrer\">FileChannel.map</a>.  For example, <code>float f = FileChannel.open(Path.of(pathString)).map(FileChannel.MapMod&zwnj;&#8203;e.READ_ONLY, 3 * 1024 * 1024 * 1024L, Float.BYTES).getFloat();</code>"},{"owner":{"account_id":9287961,"reputation":115,"user_id":6897210,"display_name":"Calvin_Z"},"score":0,"creation_date":1698026311,"post_id":77329259,"comment_id":136348872,"body_markdown":"@VGR FileChannel.map maybe not big enough. There is a 2G limit.","body":"@VGR FileChannel.map maybe not big enough. There is a 2G limit."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698035960,"post_id":77329259,"comment_id":136349448,"body_markdown":"Yes, but I’m guessing you don’t have to map the entire file all at once.","body":"Yes, but I’m guessing you don’t have to map the entire file all at once."}],"owner":{"account_id":9287961,"reputation":115,"user_id":6897210,"display_name":"Calvin_Z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697789090,"creation_date":1697789090,"question_id":77329259,"body_markdown":"I&#39;m using Java 17.0.6, and trying to work with `MemorySegment`. The code is like:\r\n\r\n    FileInputStream inputStream = new FileInputStream(pathString);\r\n    FileChannel fileChannel = inputStream.getChannel();\r\n    long totalSize = fileChannel.size();\r\n    ResourceScope resourceScope = ResourceScope.newConfinedScope();\r\n    MemorySegment memorySegment = MemorySegment.mapFile(Path.of(pathString), 0, totalSize, FileChannel.MapMode.READ_ONLY, resourceScope);\r\n    float f = MemoryAccess.getFloatAtOffset(memorySegment, 3 * 1024 * 1024 * 1024L);\r\n    System.out.println(f);\r\nThe file I&#39;m trying to read is bigger than 10GB. \r\n\r\nWhen I run the code, I got error like:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff929c14e18, pid=9304, tid=9920\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (17.0.6+9) (build 17.0.6+9-LTS-190)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.6+9-LTS-190, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n    # Problematic frame:\r\n    # V  [jvm.dll+0x7a4e18]\r\n    #\r\n    # No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\nIs this a bug of Java?","title":"Having trouble with Java MemorySegment","body":"<p>I'm using Java 17.0.6, and trying to work with <code>MemorySegment</code>. The code is like:</p>\n<pre><code>FileInputStream inputStream = new FileInputStream(pathString);\nFileChannel fileChannel = inputStream.getChannel();\nlong totalSize = fileChannel.size();\nResourceScope resourceScope = ResourceScope.newConfinedScope();\nMemorySegment memorySegment = MemorySegment.mapFile(Path.of(pathString), 0, totalSize, FileChannel.MapMode.READ_ONLY, resourceScope);\nfloat f = MemoryAccess.getFloatAtOffset(memorySegment, 3 * 1024 * 1024 * 1024L);\nSystem.out.println(f);\n</code></pre>\n<p>The file I'm trying to read is bigger than 10GB.</p>\n<p>When I run the code, I got error like:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff929c14e18, pid=9304, tid=9920\n#\n# JRE version: Java(TM) SE Runtime Environment (17.0.6+9) (build 17.0.6+9-LTS-190)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (17.0.6+9-LTS-190, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# V  [jvm.dll+0x7a4e18]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n</code></pre>\n<p>Is this a bug of Java?</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1697789679,"post_id":77329090,"comment_id":136326431,"body_markdown":"Your class provides no possibility to inject mocks, only real classes are used. So you cannot have used `doReturn` on this method, because you do not have access to the object instance from the outside, thus it cannot have been a mock object. You probably tried to do it like described in https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test – the answers suggest how to restructure your code to allow testing.","body":"Your class provides no possibility to inject mocks, only real classes are used. So you cannot have used <code>doReturn</code> on this method, because you do not have access to the object instance from the outside, thus it cannot have been a mock object. You probably tried to do it like described in <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a> – the answers suggest how to restructure your code to allow testing."},{"owner":{"account_id":1034502,"reputation":1383,"user_id":1042151,"accept_rate":25,"display_name":"tom"},"score":0,"creation_date":1697940091,"post_id":77329090,"comment_id":136342020,"body_markdown":"You need to tell the `Service` class what `DBLayer` you are using. As written you are not allowing the Service to replace the DBLayer. One idea is to add a constructor to Service to specify the (mock) DBLayer instance.","body":"You need to tell the <code>Service</code> class what <code>DBLayer</code> you are using. As written you are not allowing the Service to replace the DBLayer. One idea is to add a constructor to Service to specify the (mock) DBLayer instance."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697788494,"creation_date":1697788494,"answer_id":77329207,"question_id":77329090,"body_markdown":"The method getUpdateDate() is part of your service method. \r\n\r\nYou can not test a method X and define your test like &quot;oh I want to test X, and X executes A, but I just ignore A&quot;. \r\n\r\nIf you want to test your service method, you must either test getUpdateDate() too, OR mock getUpdateDate(), so that it returns a defined value. ","title":"How to ignore a method being actually getting called in junit mocking","body":"<p>The method getUpdateDate() is part of your service method.</p>\n<p>You can not test a method X and define your test like &quot;oh I want to test X, and X executes A, but I just ignore A&quot;.</p>\n<p>If you want to test your service method, you must either test getUpdateDate() too, OR mock getUpdateDate(), so that it returns a defined value.</p>\n"}],"owner":{"account_id":29714169,"reputation":1,"user_id":22773059,"display_name":"Palash Bajpai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697788494,"creation_date":1697787389,"question_id":77329090,"body_markdown":"```\r\npublic class DBLayer{\r\n\r\n    public Calendar getUpdateDate(long id){\r\n        //database logic\r\n        return date;\r\n    }\r\n}\r\n\r\n\r\npublic class Service{\r\n    private DBLayer dbLayer = new DBLayer();\r\n\r\n    public int methodA(){\r\n        Calendar updateDate = dbLayer.getUpdateDate(101L);\r\n        //some logic\r\n    }\r\n\r\n}\r\n```\r\n\r\nI want to write junit test for Service class methodA but don&#39;t want getUpdateDate to be called. By spying it or mocking it, this getUpdate is also getting called. \r\n\r\n\r\nI tried suggestion of using spy with Mockito.doReturn(), but then also getUpdateDate was getting called. How can I just ignore that being called at all.\r\nOr should I use any other framwork (except PowerMock) to get this feature, where it can treat this DBLayer class as blackBox and ignore method being called actually.","title":"How to ignore a method being actually getting called in junit mocking","body":"<pre><code>public class DBLayer{\n\n    public Calendar getUpdateDate(long id){\n        //database logic\n        return date;\n    }\n}\n\n\npublic class Service{\n    private DBLayer dbLayer = new DBLayer();\n\n    public int methodA(){\n        Calendar updateDate = dbLayer.getUpdateDate(101L);\n        //some logic\n    }\n\n}\n</code></pre>\n<p>I want to write junit test for Service class methodA but don't want getUpdateDate to be called. By spying it or mocking it, this getUpdate is also getting called.</p>\n<p>I tried suggestion of using spy with Mockito.doReturn(), but then also getUpdateDate was getting called. How can I just ignore that being called at all.\nOr should I use any other framwork (except PowerMock) to get this feature, where it can treat this DBLayer class as blackBox and ignore method being called actually.</p>\n"},{"tags":["java","spring-mvc","ws"],"answers":[{"tags":[],"owner":{"account_id":29705941,"reputation":1,"user_id":22766775,"display_name":"Steven Linus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697788208,"creation_date":1697788208,"answer_id":77329176,"question_id":77328645,"body_markdown":"i am so stupid!\r\n\r\nwhen use header &#39;Sec-Websocket-Protocol&#39;, the server must send back the same header.....","title":"WebSocket connections cannot be established on edge or chrome but only on safari. what is wrong with my browser?","body":"<p>i am so stupid!</p>\n<p>when use header 'Sec-Websocket-Protocol', the server must send back the same header.....</p>\n"}],"owner":{"account_id":29705941,"reputation":1,"user_id":22766775,"display_name":"Steven Linus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697788208,"creation_date":1697781959,"question_id":77328645,"body_markdown":"java code with spring boot starter websocket\r\n`\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WsConfig implements WebSocketConfigurer {\r\n        @Autowired\r\n        UserWsHandler userWsHandler;\r\n        @Autowired\r\n        UserHandlerShakeHandler userHandlerShakeHandler;\r\n        @Override\r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(userWsHandler,&quot;/loginWs&quot;)\r\n                                     .setAllowedOriginPatterns(&quot;*&quot;);\r\n        }\r\n`\r\njs \r\n`.   const ws = new WebSocket(&quot;ws://10.12.36.178:8080/loginWs&quot;)    `\r\n\r\ni got a EOFException when use chrome or edge.\r\n\r\n\r\n\r\nIs something wrong with my code or my browser settings？\r\n\r\nappreciates～","title":"WebSocket connections cannot be established on edge or chrome but only on safari. what is wrong with my browser?","body":"<p>java code with spring boot starter websocket\n<code>@Configuration @EnableWebSocket public class WsConfig implements WebSocketConfigurer { @Autowired UserWsHandler userWsHandler; @Autowired UserHandlerShakeHandler userHandlerShakeHandler; @Override public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) { registry.addHandler(userWsHandler,&quot;/loginWs&quot;) .setAllowedOriginPatterns(&quot;*&quot;); }</code>\njs\n<code>.   const ws = new WebSocket(&quot;ws://10.12.36.178:8080/loginWs&quot;)    </code></p>\n<p>i got a EOFException when use chrome or edge.</p>\n<p>Is something wrong with my code or my browser settings？</p>\n<p>appreciates～</p>\n"},{"tags":["java","cmd","java-8","javac"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1697783721,"post_id":77328734,"comment_id":136325428,"body_markdown":"Use the full path to your java installation, so something like `C:\\Program Files\\jdk8\\bin\\java --version` or whatever the correct path is where you installed java 8","body":"Use the full path to your java installation, so something like <code>C:\\Program Files\\jdk8\\bin\\java --version</code> or whatever the correct path is where you installed java 8"},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1697783801,"post_id":77328734,"comment_id":136325437,"body_markdown":"_Due to my assignment, I need jdk8 version_ Set your JAVA_HOME to point to Jdk 8.","body":"<i>Due to my assignment, I need jdk8 version</i> Set your JAVA_HOME to point to Jdk 8."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697784021,"post_id":77328734,"comment_id":136325463,"body_markdown":"Not only the `JAVA_HOME` but also the `PATH`.","body":"Not only the <code>JAVA_HOME</code> but also the <code>PATH</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697784030,"post_id":77328734,"comment_id":136325466,"body_markdown":"@PradeepSimha that doesn&#39;t help if you&#39;re running java from the command line. It will still run what&#39;s in the `PATH`","body":"@PradeepSimha that doesn&#39;t help if you&#39;re running java from the command line. It will still run what&#39;s in the <code>PATH</code>"},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1697784397,"post_id":77328734,"comment_id":136325530,"body_markdown":"@FedericoklezCulloca Yup my bad I missed it, yes PATH variable also.","body":"@FedericoklezCulloca Yup my bad I missed it, yes PATH variable also."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1697784678,"post_id":77328734,"comment_id":136325567,"body_markdown":"This is standard Operation System problem, more precisely from the used Command Line program. Usually (most versions) the system search the executables, if not using absolute path, in the directories given in the `PATH` environment variable. The first found executable will be executed. `java --version` or `javac --version` does **not** show all existing installations, it *only* shows the version being executed. (`JAVA_HOME` is **not** used by Java itself, some *external* tools use it instead of relying on the `PATH`)","body":"This is standard Operation System problem, more precisely from the used Command Line program. Usually (most versions) the system search the executables, if not using absolute path, in the directories given in the <code>PATH</code> environment variable. The first found executable will be executed. <code>java --version</code> or <code>javac --version</code> does <b>not</b> show all existing installations, it <i>only</i> shows the version being executed. (<code>JAVA_HOME</code> is <b>not</b> used by Java itself, some <i>external</i> tools use it instead of relying on the <code>PATH</code>)"}],"answers":[{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697787375,"creation_date":1697784798,"answer_id":77328842,"question_id":77328734,"body_markdown":"You&#39;re going to have big headaches if you try to handle multiple java versions manually. The best option is to delegate this to a third party tool, quite some already exists to overcome the issue. The best one and recommended by several frameworks (https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started.installing.cli.sdkman) is sdkman:\r\n\r\nhttps://sdkman.io/\r\n\r\nFollow windows installation:\r\nhttps://sdkman.io/install#:~:text=Windows%20installation\r\n\r\n\r\nThen do:\r\n\r\n    sdk list java\r\n\r\nYou will see something like:\r\n\r\n    ================================================================================\r\n     Vendor        | Use | Version      | Dist    | Status     | Identifier\r\n    --------------------------------------------------------------------------------\r\n     Corretto      |     | 21           | amzn    |            | 21-amzn             \r\n                   |     | 21.0.1       | amzn    |            | 21.0.1-amzn         \r\n                   |     | 20.0.2       | amzn    |            | 20.0.2-amzn         \r\n                   |     | 20.0.1       | amzn    |            | 20.0.1-amzn         \r\n                   |     | 17.0.9       | amzn    |            | 17.0.9-amzn         \r\n                   |     | 17.0.8       | amzn    |            | 17.0.8-amzn         \r\n                   | &gt;&gt;&gt; | 17.0.7       | amzn    | installed  | 17.0.7-amzn         \r\n                   |     | 11.0.21      | amzn    |            | 11.0.21-amzn        \r\n                   |     | 11.0.20      | amzn    |            | 11.0.20-amzn        \r\n                   |     | 11.0.19      | amzn    |            | 11.0.19-amzn        \r\n                   |     | 11.0.18      | amzn    | local only | 11.0.18-amzn        \r\n                   |     | 8.0.392      | amzn    |            | 8.0.392-amzn        \r\n                   |     | 8.0.382      | amzn    |            | 8.0.382-amzn        \r\n                   |     | 8.0.372      | amzn    | installed  | 8.0.372-amzn        \r\n\r\nInstall what you need with:\r\n\r\n    sdk install java 20.0.2-amzn\r\n\r\nThen switch among versions with:\r\n\r\n    sdk use java 20.0.2-amzn\r\n","title":"Command Line shows only jdk 20 version of java, not others","body":"<p>You're going to have big headaches if you try to handle multiple java versions manually. The best option is to delegate this to a third party tool, quite some already exists to overcome the issue. The best one and recommended by several frameworks (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started.installing.cli.sdkman\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#getting-started.installing.cli.sdkman</a>) is sdkman:</p>\n<p><a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a></p>\n<p>Follow windows installation:\n<a href=\"https://sdkman.io/install#:%7E:text=Windows%20installation\" rel=\"nofollow noreferrer\">https://sdkman.io/install#:~:text=Windows%20installation</a></p>\n<p>Then do:</p>\n<pre><code>sdk list java\n</code></pre>\n<p>You will see something like:</p>\n<pre><code>================================================================================\n Vendor        | Use | Version      | Dist    | Status     | Identifier\n--------------------------------------------------------------------------------\n Corretto      |     | 21           | amzn    |            | 21-amzn             \n               |     | 21.0.1       | amzn    |            | 21.0.1-amzn         \n               |     | 20.0.2       | amzn    |            | 20.0.2-amzn         \n               |     | 20.0.1       | amzn    |            | 20.0.1-amzn         \n               |     | 17.0.9       | amzn    |            | 17.0.9-amzn         \n               |     | 17.0.8       | amzn    |            | 17.0.8-amzn         \n               | &gt;&gt;&gt; | 17.0.7       | amzn    | installed  | 17.0.7-amzn         \n               |     | 11.0.21      | amzn    |            | 11.0.21-amzn        \n               |     | 11.0.20      | amzn    |            | 11.0.20-amzn        \n               |     | 11.0.19      | amzn    |            | 11.0.19-amzn        \n               |     | 11.0.18      | amzn    | local only | 11.0.18-amzn        \n               |     | 8.0.392      | amzn    |            | 8.0.392-amzn        \n               |     | 8.0.382      | amzn    |            | 8.0.382-amzn        \n               |     | 8.0.372      | amzn    | installed  | 8.0.372-amzn        \n</code></pre>\n<p>Install what you need with:</p>\n<pre><code>sdk install java 20.0.2-amzn\n</code></pre>\n<p>Then switch among versions with:</p>\n<pre><code>sdk use java 20.0.2-amzn\n</code></pre>\n"}],"owner":{"account_id":29256387,"reputation":11,"user_id":22414497,"display_name":"Gulnara Azizova"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1697821946,"answer_count":1,"score":-1,"last_activity_date":1697787375,"creation_date":1697783392,"question_id":77328734,"body_markdown":"I want to see the list of all jdk versions available in my system. However, when I type in java and javac version to the cmd line, it gives me only jdk 20 version. How can I do an implementation to see other jdk versions as well in the list?\r\n\r\n\r\n\r\n    C:\\Users\\USER&gt;java --version\r\n    java 20 2023-03-21\r\n    Java(TM) SE Runtime Environment (build 20+36-2344)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)\r\n    \r\n    C:\\Users\\USER&gt;javac --version\r\n    javac 20\r\n    \r\n    C:\\Users\\USER&gt;\r\n\r\nI just typed `java --version` and `javac --version` commands to see jdk versions exist in my computer. Due to my assignment, I need jdk8 version. How can solve the problem in order to see the version I need?","title":"Command Line shows only jdk 20 version of java, not others","body":"<p>I want to see the list of all jdk versions available in my system. However, when I type in java and javac version to the cmd line, it gives me only jdk 20 version. How can I do an implementation to see other jdk versions as well in the list?</p>\n<pre><code>C:\\Users\\USER&gt;java --version\njava 20 2023-03-21\nJava(TM) SE Runtime Environment (build 20+36-2344)\nJava HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)\n\nC:\\Users\\USER&gt;javac --version\njavac 20\n\nC:\\Users\\USER&gt;\n</code></pre>\n<p>I just typed <code>java --version</code> and <code>javac --version</code> commands to see jdk versions exist in my computer. Due to my assignment, I need jdk8 version. How can solve the problem in order to see the version I need?</p>\n"},{"tags":["java","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1684844380,"post_id":76314412,"comment_id":134573824,"body_markdown":"Have you checked the [`SQLExtractor`](https://github.com/vladmihalcea/hypersistence-utils/blob/20e64bb04257364db3446148d7ad6fe8739579a6/hypersistence-utils-hibernate-62/src/main/java/io/hypersistence/utils/hibernate/query/SQLExtractor.java) from [this article](https://vladmihalcea.com/get-sql-from-jpql-or-criteria/)? It has a hibernate 6 as well as 6.2 version.","body":"Have you checked the <a href=\"https://github.com/vladmihalcea/hypersistence-utils/blob/20e64bb04257364db3446148d7ad6fe8739579a6/hypersistence-utils-hibernate-62/src/main/java/io/hypersistence/utils/hibernate/query/SQLExtractor.java\" rel=\"nofollow noreferrer\"><code>SQLExtractor</code></a> from <a href=\"https://vladmihalcea.com/get-sql-from-jpql-or-criteria/\" rel=\"nofollow noreferrer\">this article</a>? It has a hibernate 6 as well as 6.2 version."},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1684902123,"post_id":76314412,"comment_id":134583505,"body_markdown":"Yes. `SQLExtractor` uses reflection to call `Query.getQueryString()` which does not work for CriteriaQuery in hibernate 6. Added `SQLExtractor` to the negative list.","body":"Yes. <code>SQLExtractor</code> uses reflection to call <code>Query.getQueryString()</code> which does not work for CriteriaQuery in hibernate 6. Added <code>SQLExtractor</code> to the negative list."},{"owner":{"account_id":5659371,"reputation":2152,"user_id":4477463,"accept_rate":22,"display_name":"Egor"},"score":0,"creation_date":1691162297,"post_id":76314412,"comment_id":135459116,"body_markdown":"Hello @BetaRide, could you please share the solution if you managed to find it?","body":"Hello @BetaRide, could you please share the solution if you managed to find it?"},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":2,"creation_date":1691386939,"post_id":76314412,"comment_id":135479089,"body_markdown":"Nothing to share so far :-(.","body":"Nothing to share so far :-(."}],"answers":[{"tags":[],"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695398166,"creation_date":1695398166,"answer_id":77159125,"question_id":76314412,"body_markdown":"This was an intentional design decision by the Hibernate team in version 6 as Hibernate moved to the [semantic query model][1].  I did find a workaround to do this in the following code. It&#39;s worth noting that the format of the HQL this method returns has changed slightly since Hibernate 5:\r\n\r\n    QuerySqmImpl&lt;?&gt; unwrap = entityManager.createQuery(query).unwrap(QuerySqmImpl.class);\r\n    String queryString = unwrap.getSqmStatement().toHqlString();\r\n\r\nYou can see some discussion around this in the [Hibernate JIRA ticket][2] for this issue as well.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-sqm-semantic-query-model/\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-15389","title":"How to get SQL from Hibernate Criteria API in Hibernate 6?","body":"<p>This was an intentional design decision by the Hibernate team in version 6 as Hibernate moved to the <a href=\"https://vladmihalcea.com/hibernate-sqm-semantic-query-model/\" rel=\"nofollow noreferrer\">semantic query model</a>.  I did find a workaround to do this in the following code. It's worth noting that the format of the HQL this method returns has changed slightly since Hibernate 5:</p>\n<pre><code>QuerySqmImpl&lt;?&gt; unwrap = entityManager.createQuery(query).unwrap(QuerySqmImpl.class);\nString queryString = unwrap.getSqmStatement().toHqlString();\n</code></pre>\n<p>You can see some discussion around this in the <a href=\"https://hibernate.atlassian.net/browse/HHH-15389\" rel=\"nofollow noreferrer\">Hibernate JIRA ticket</a> for this issue as well.</p>\n"},{"tags":[],"owner":{"account_id":6890459,"reputation":61,"user_id":5294163,"display_name":"Buks van der Lingen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697787005,"creation_date":1697787005,"answer_id":77329056,"question_id":76314412,"body_markdown":"Library changed for SQLExtractor: [https://github.com/vladmihalcea/hypersistence-utils][1]\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hypersistence-utils","title":"How to get SQL from Hibernate Criteria API in Hibernate 6?","body":"<p>Library changed for SQLExtractor: <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils</a></p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":77159125,"answer_count":2,"score":6,"last_activity_date":1697787005,"creation_date":1684842482,"question_id":76314412,"body_markdown":"I&#39;d like to get the sql string from a [CriteriaQuery][1] using Hibernate 6.\r\n\r\n - [Query.getQueryString()][2] does no longer work in Hibernate 6 for `CriteriaQuery`.\r\n - `SQLExtractor.from()` dos not work either because it just uses reflection to call [Query.getQueryString()][2]\r\n - https://stackoverflow.com/questions/554481/how-to-get-sql-from-hibernate-criteria-api-not-for-logging#3888873 only works for hibernate versions up to 5.\r\n - logging the sql statements is not enough in my use case. I need to store them in a string for processing.\r\n\r\nAny ideas?\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/criteria/criteriaquery\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/query/Query.html#getQueryString()","title":"How to get SQL from Hibernate Criteria API in Hibernate 6?","body":"<p>I'd like to get the sql string from a <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/criteria/criteriaquery\" rel=\"noreferrer\">CriteriaQuery</a> using Hibernate 6.</p>\n<ul>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/query/Query.html#getQueryString()\" rel=\"noreferrer\">Query.getQueryString()</a> does no longer work in Hibernate 6 for <code>CriteriaQuery</code>.</li>\n<li><code>SQLExtractor.from()</code> dos not work either because it just uses reflection to call <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/query/Query.html#getQueryString()\" rel=\"noreferrer\">Query.getQueryString()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/554481/how-to-get-sql-from-hibernate-criteria-api-not-for-logging#3888873\">How to get SQL from Hibernate Criteria API (*not* for logging)</a> only works for hibernate versions up to 5.</li>\n<li>logging the sql statements is not enough in my use case. I need to store them in a string for processing.</li>\n</ul>\n<p>Any ideas?</p>\n"},{"tags":["java","logging","audit"],"answers":[{"tags":[],"owner":{"account_id":77568,"reputation":484,"user_id":221300,"display_name":"Nate"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1269263322,"creation_date":1269263322,"answer_id":2492383,"question_id":2492362,"body_markdown":"Audit implies active review of the logging, IMHO.  Can&#39;t have audit without logging, but you can have logging without audit.","title":"Difference in Auditing and Logging?","body":"<p>Audit implies active review of the logging, IMHO.  Can't have audit without logging, but you can have logging without audit.</p>\n"},{"comments":[{"owner":{"account_id":107337,"reputation":1,"user_id":285465,"accept_rate":80,"display_name":"TomTom"},"score":0,"creation_date":1269263672,"post_id":2492385,"comment_id":2485914,"body_markdown":"-1. Try telling that to programs where auditing requirements are clearly legally defined. Like: maintenance of aircraft engines, biological labs, business / trading applications.","body":"-1. Try telling that to programs where auditing requirements are clearly legally defined. Like: maintenance of aircraft engines, biological labs, business / trading applications."},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":1,"creation_date":1269264784,"post_id":2492385,"comment_id":2486012,"body_markdown":"@TomTom I really don&#39;t get your point. You implement auditing as part of requirements, wherever they come from. The techniques to store the logs, whether audit or debug or whatever, really are no different unless there are implementation requiements.","body":"@TomTom I really don&#39;t get your point. You implement auditing as part of requirements, wherever they come from. The techniques to store the logs, whether audit or debug or whatever, really are no different unless there are implementation requiements."},{"owner":{"account_id":107337,"reputation":1,"user_id":285465,"accept_rate":80,"display_name":"TomTom"},"score":2,"creation_date":1269265962,"post_id":2492385,"comment_id":2486182,"body_markdown":"The point is that Auditing pretty much resolves AROUND implementation requirements. Often you are told WHAT to audit, HOW LONG to store it and HOW SAFE to store it, in a lot of details. I know a lot of auditing requirements where text logs would be out because - they are minpulatable if stored on discs.","body":"The point is that Auditing pretty much resolves AROUND implementation requirements. Often you are told WHAT to audit, HOW LONG to store it and HOW SAFE to store it, in a lot of details. I know a lot of auditing requirements where text logs would be out because - they are minpulatable if stored on discs."},{"owner":{"account_id":6221027,"reputation":2718,"user_id":4840661,"accept_rate":82,"display_name":"fabpico"},"score":0,"creation_date":1589377281,"post_id":2492385,"comment_id":109269570,"body_markdown":"But Auditing also tells what&#39;s happening, and logging also tells who (eg. which loggedin user) did that?","body":"But Auditing also tells what&#39;s happening, and logging also tells who (eg. which loggedin user) did that?"},{"owner":{"account_id":107337,"reputation":1,"user_id":285465,"accept_rate":80,"display_name":"TomTom"},"score":0,"creation_date":1589378499,"post_id":2492385,"comment_id":109270414,"body_markdown":"Not only. Auditing tells you WHAT happened, Logging may tell you HOW. I.e. &quot;Deleted Timestamp&quot; tells me when a record was deleted. I do not care at this point what methods the deletion went through, with timestamps and possibly variables. I care about the business side data, not the technical.","body":"Not only. Auditing tells you WHAT happened, Logging may tell you HOW. I.e. &quot;Deleted Timestamp&quot; tells me when a record was deleted. I do not care at this point what methods the deletion went through, with timestamps and possibly variables. I care about the business side data, not the technical."}],"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"comment_count":5,"down_vote_count":4,"up_vote_count":43,"is_accepted":false,"score":39,"last_activity_date":1269263326,"creation_date":1269263326,"answer_id":2492385,"question_id":2492362,"body_markdown":"The difference is more in usage than in technique.\r\n\r\nAuditing is used to answer the question &quot;Who did what?&quot; and possibly why. Logging is more focussed on what&#39;s happening.","title":"Difference in Auditing and Logging?","body":"<p>The difference is more in usage than in technique.</p>\n\n<p>Auditing is used to answer the question \"Who did what?\" and possibly why. Logging is more focussed on what's happening.</p>\n"},{"comments":[{"owner":{"account_id":77568,"reputation":484,"user_id":221300,"display_name":"Nate"},"score":4,"creation_date":1269264049,"post_id":2492401,"comment_id":2485943,"body_markdown":"I think your definition of logging might be a bit narrow in scope, but probably just right for a programming forum :-)","body":"I think your definition of logging might be a bit narrow in scope, but probably just right for a programming forum :-)"},{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":6,"creation_date":1269265152,"post_id":2492401,"comment_id":2486061,"body_markdown":"Often, auditing is a subset of what is logged, so they are not so different.  Logging just includes much more than auditing events.","body":"Often, auditing is a subset of what is logged, so they are not so different.  Logging just includes much more than auditing events."},{"owner":{"account_id":4560705,"reputation":543,"user_id":3703127,"accept_rate":0,"display_name":"isaeid"},"score":0,"creation_date":1552122215,"post_id":2492401,"comment_id":96898263,"body_markdown":"ok, what is difference between auditing and Event Sourcing(which is a word in cqrs ) @Robin","body":"ok, what is difference between auditing and Event Sourcing(which is a word in cqrs ) @Robin"}],"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":3,"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1269264891,"creation_date":1269263448,"answer_id":2492401,"question_id":2492362,"body_markdown":"Logging typically means the recording of implementation level events that happen as the program is running (methods get called, objects are created, etc.). As such it focuses on things that interest programmers\r\n\r\n\r\nAuditing is about recording domain-level events: a transaction is created, a user is performing an action, etc. In certain types of application (Banking) there is a legal obligation to record such events.\r\n","title":"Difference in Auditing and Logging?","body":"<p>Logging typically means the recording of implementation level events that happen as the program is running (methods get called, objects are created, etc.). As such it focuses on things that interest programmers</p>\n\n<p>Auditing is about recording domain-level events: a transaction is created, a user is performing an action, etc. In certain types of application (Banking) there is a legal obligation to record such events.</p>\n"},{"tags":[],"owner":{"account_id":28214,"reputation":305280,"user_id":75170,"accept_rate":72,"display_name":"John Feminella"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1269263551,"creation_date":1269263551,"answer_id":2492417,"question_id":2492362,"body_markdown":"They&#39;re significantly different. Logging is simply the abstract task of recording data about events that take place in a system. If you are recording any information at all, you&#39;re logging.\r\n\r\nAuditing, however, is more complex. Auditing is the practice of inspecting logs for the purpose of verifying that the system is in a desirable state or to answer questions about how the system arrived at a particular state. One way of doing auditing is by reviewing logs, of course, but you can do audits without logs (as a simple example, you could ask a user directly whether they were responsible for a particular change). That&#39;s not a great idea, because logging is typically such a cheap operation that alternatives don&#39;t need to be considered.","title":"Difference in Auditing and Logging?","body":"<p>They're significantly different. Logging is simply the abstract task of recording data about events that take place in a system. If you are recording any information at all, you're logging.</p>\n\n<p>Auditing, however, is more complex. Auditing is the practice of inspecting logs for the purpose of verifying that the system is in a desirable state or to answer questions about how the system arrived at a particular state. One way of doing auditing is by reviewing logs, of course, but you can do audits without logs (as a simple example, you could ask a user directly whether they were responsible for a particular change). That's not a great idea, because logging is typically such a cheap operation that alternatives don't need to be considered.</p>\n"},{"tags":[],"owner":{"account_id":107337,"reputation":1,"user_id":285465,"accept_rate":80,"display_name":"TomTom"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1545294918,"creation_date":1269263598,"answer_id":2492423,"question_id":2492362,"body_markdown":"There is a technical issue in that Auditing often has legal requirements. Also, Auditing is often done within the application, as in: there is a user interface to see who changed what because users / compliance department may need to check it. Also, Auditing may have legal requirements (write out to WORM media once so it cannot be manipulated, keep data for x years).\r\n\r\nAn example: I have a trading application. All changes to orders are audited - you have the OrderStatus, and the OrderStatusHistory. This is not technical - and the history is part of the application interface.\r\n\r\nLogging is purely technical. It is totally ok to turn it off at times, or to have admins extract the log files.","title":"Difference in Auditing and Logging?","body":"<p>There is a technical issue in that Auditing often has legal requirements. Also, Auditing is often done within the application, as in: there is a user interface to see who changed what because users / compliance department may need to check it. Also, Auditing may have legal requirements (write out to WORM media once so it cannot be manipulated, keep data for x years).</p>\n\n<p>An example: I have a trading application. All changes to orders are audited - you have the OrderStatus, and the OrderStatusHistory. This is not technical - and the history is part of the application interface.</p>\n\n<p>Logging is purely technical. It is totally ok to turn it off at times, or to have admins extract the log files.</p>\n"},{"tags":[],"owner":{"account_id":14744,"reputation":13116,"user_id":30594,"accept_rate":82,"display_name":"Ramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1545295045,"creation_date":1269264191,"answer_id":2492492,"question_id":2492362,"body_markdown":"I see Audit logs as information required by Business to ascertain some action happened on the specific date and time by this user for this user. It has a business value attached to it, which will let you verify what happened. Generally, Audit logs are archived for historical and compliance purpose.\r\n\r\nNormal logging, on the other hand, logs information required by technology partner to understand what happened or how the system behaved during a specific event. It can contain method signature, what values are passed as input, and what values are as passed as output, and if there was an exception, more information about the exception etc. These information are not required by the business and can be turned off or the details which are logged can be reduced based on the needs. These information basically assist development or support teams to debug the system.","title":"Difference in Auditing and Logging?","body":"<p>I see Audit logs as information required by Business to ascertain some action happened on the specific date and time by this user for this user. It has a business value attached to it, which will let you verify what happened. Generally, Audit logs are archived for historical and compliance purpose.</p>\n\n<p>Normal logging, on the other hand, logs information required by technology partner to understand what happened or how the system behaved during a specific event. It can contain method signature, what values are passed as input, and what values are as passed as output, and if there was an exception, more information about the exception etc. These information are not required by the business and can be turned off or the details which are logged can be reduced based on the needs. These information basically assist development or support teams to debug the system.</p>\n"},{"comments":[{"owner":{"account_id":1217245,"reputation":1862,"user_id":1184584,"accept_rate":56,"display_name":"Nandun"},"score":1,"creation_date":1536213861,"post_id":21020491,"comment_id":91344077,"body_markdown":"i don&#39;t believe the retention policy matters.","body":"i don&#39;t believe the retention policy matters."},{"owner":{"account_id":15465057,"reputation":830,"user_id":11156666,"display_name":"okan"},"score":0,"creation_date":1634217462,"post_id":21020491,"comment_id":122969799,"body_markdown":"Generally, retention policy is one of the differences between auditing and logging as @marsze mentioned. But this is still not a complete answer.","body":"Generally, retention policy is one of the differences between auditing and logging as @marsze mentioned. But this is still not a complete answer."}],"tags":[],"owner":{"display_name":"user2146545"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1389271049,"creation_date":1389271049,"answer_id":21020491,"question_id":2492362,"body_markdown":"Audit Trail is a unperishable records of transaction while Logs in the other hand used to detect errors and there is a certain time that a log file will be present","title":"Difference in Auditing and Logging?","body":"<p>Audit Trail is a unperishable records of transaction while Logs in the other hand used to detect errors and there is a certain time that a log file will be present</p>\n"},{"tags":[],"owner":{"account_id":13311094,"reputation":159,"user_id":9609300,"display_name":"siddartha kamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528224457,"creation_date":1528218864,"answer_id":50705585,"question_id":2492362,"body_markdown":"**Logging** is tracing the flow of in which class which method called let us we have A,B,C methods with deffrent classes In X class A methods is called to Y class B method,and B method is called to Y class c method ..like this  traces the flow of control\r\n    \r\n**Auditing** will track the activities of user.  We have to write logic and then system will automatically insert/save the data int the audit table.\r\n\r\nLet&#39;s take a login.jsp in that we can enter the user name and password then hit the login page then control goes to logic servlet page inside the service method will called and inside write the logic like\r\n\r\n    httpsession session=reg.getsession();\r\n    session.setAttribute(&quot;userId&quot;,uid);\r\n\r\ni.e in the database we have take columns as\r\n\r\n    created_by \r\n    created_date\r\n    last_modified_by\r\n    last_modified_dt","title":"Difference in Auditing and Logging?","body":"<p><strong>Logging</strong> is tracing the flow of in which class which method called let us we have A,B,C methods with deffrent classes In X class A methods is called to Y class B method,and B method is called to Y class c method ..like this  traces the flow of control</p>\n\n<p><strong>Auditing</strong> will track the activities of user.  We have to write logic and then system will automatically insert/save the data int the audit table.</p>\n\n<p>Let's take a login.jsp in that we can enter the user name and password then hit the login page then control goes to logic servlet page inside the service method will called and inside write the logic like</p>\n\n<pre><code>httpsession session=reg.getsession();\nsession.setAttribute(\"userId\",uid);\n</code></pre>\n\n<p>i.e in the database we have take columns as</p>\n\n<pre><code>created_by \ncreated_date\nlast_modified_by\nlast_modified_dt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2352447,"reputation":15749,"user_id":2060966,"accept_rate":83,"display_name":"marsze"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1629885655,"creation_date":1629885319,"answer_id":68920682,"question_id":2492362,"body_markdown":"**Auditing**\r\n\r\n* Business level events\r\n* Information for users and clients\r\n* Who did what, when\r\n* Often required legally or by the client contract\r\n* Usually kept indefinitely or at least for legally specified period\r\n\r\nExamples:\r\n\r\n&gt;2021-01-01T08:45:21 User 4711 accessed record 0815  \r\n&gt;2021-02-02T12:13:45 Received new invoice with guid f456-87D2-...\r\n\r\n**Logging**\r\n\r\n* Program level events\r\n* Information for developers and support\r\n* What happend, incl debug informations\r\n* Required for maintenance or debugging purposes\r\n* Often deleted after a short time\r\n\r\nExamples:\r\n\r\n&gt;2021-01-01T08:45:21 Method Foo.Bar() sending request of 46kb to https://...  \r\n&gt;2021-02-02T12:13:45 Starting listener with id 4711 on server server01.mydomain","title":"Difference in Auditing and Logging?","body":"<p><strong>Auditing</strong></p>\n<ul>\n<li>Business level events</li>\n<li>Information for users and clients</li>\n<li>Who did what, when</li>\n<li>Often required legally or by the client contract</li>\n<li>Usually kept indefinitely or at least for legally specified period</li>\n</ul>\n<p>Examples:</p>\n<blockquote>\n<p>2021-01-01T08:45:21 User 4711 accessed record 0815<br />\n2021-02-02T12:13:45 Received new invoice with guid f456-87D2-...</p>\n</blockquote>\n<p><strong>Logging</strong></p>\n<ul>\n<li>Program level events</li>\n<li>Information for developers and support</li>\n<li>What happend, incl debug informations</li>\n<li>Required for maintenance or debugging purposes</li>\n<li>Often deleted after a short time</li>\n</ul>\n<p>Examples:</p>\n<blockquote>\n<p>2021-01-01T08:45:21 Method Foo.Bar() sending request of 46kb to https://...<br />\n2021-02-02T12:13:45 Starting listener with id 4711 on server server01.mydomain</p>\n</blockquote>\n"}],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44306,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":2492401,"answer_count":9,"score":74,"last_activity_date":1697786750,"creation_date":1269263092,"question_id":2492362,"body_markdown":"I have been coming across these two words more often but i didn&#39;t see much difference in these? I mean want to know are they used interchangeably or there are some differences in those two?\r\nThanks.","title":"Difference in Auditing and Logging?","body":"<p>I have been coming across these two words more often but i didn't see much difference in these? I mean want to know are they used interchangeably or there are some differences in those two?\nThanks.</p>\n"},{"tags":["java","docker","keycloak","keycloak-services","keycloak-rest-api"],"owner":{"account_id":1492110,"reputation":855,"user_id":1398979,"accept_rate":12,"display_name":"Bhaskar Dabhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697786641,"creation_date":1697786641,"question_id":77329032,"body_markdown":"Following is my docker file:\r\n\r\n    version: &#39;3&#39;\r\n    volumes:\r\n      mysql_data:\r\n        driver: local\r\n    services:\r\n      keycloak:\r\n        image: &#39;quay.io/keycloak/keycloak:legacy&#39;\r\n        restart: always\r\n        environment:\r\n          DB_VENDOR: MYSQL\r\n          DB_ADDR: localhost\r\n          DB_DATABASE: keycloak\r\n          DB_USER: root\r\n          DB_PASSWORD: mypassword\r\n          KEYCLOAK_USER: admin\r\n          KEYCLOAK_PASSWORD: myadminpassword\r\n          JAVA_OPTS_APPEND: &#39;-Dkeycloak.profile.feature.token_exchange=enabled -Dkeycloak.profile.feature.admin_fine_grained_authz=enabled&#39;\r\n        ports:\r\n          - &#39;8181:8080&#39;\r\n        expose:\r\n          - &#39;80&#39;\r\n        extra_hosts:\r\n          - &#39;host.docker.internal:host-gateway&#39;\r\n\r\nWhen running this docker, it is starting but then keep restart with following errors:\r\n\r\n    07:16:33,781 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (ServerService Thread Pool -- 69) IJ000604: Throwable while attempting to get a new connection: null: javax.resource.ResourceException: IJ031084: Unable to create connection\r\n    \tat org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createLocalManagedConnection(LocalManagedConnectionFactory.java:364)\r\n    \tat org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:371)\r\n    \tat org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:287)\r\n    \tat org.jboss.ironjacamar.impl@1.5.3.Final//org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1328)\r\n    \tat org.jboss.ironjacamar.impl@1.5.3.Final//org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.getConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:505)\r\n    \t\r\n    Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat com.mysql.jdbc@8.0.22//com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n    \t... 60 more\r\n    Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \t... 64 more\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    \tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n    \t... 67 more\r\n    \r\n    07:16:33,784 FATAL [org.keycloak.services] (ServerService Thread Pool -- 69) Error during startup: java.lang.RuntimeException: Failed to connect to database\r\n    \tat org.keycloak.keycloak-model-jpa@19.0.3//org.keycloak.connections.jpa.DefaultJpaConnectionProviderFactory.getConnection(DefaultJpaConnectionProviderFactory.java:420)\r\n    \tat org.keycloak.keycloak-model-jpa@19.0.3//org.keycloak.connections.jpa.updater.liquibase.lock.LiquibaseDBLockProvider.lazyInit(LiquibaseDBLockProvider.java:65)\r\n    \tat org.keycloak.keycloak-model-jpa@19.0.3//org.keycloak.connections.jpa.updater.liquibase.lock.LiquibaseDBLockProvider.lambda$waitForLock$2(LiquibaseDBLockProvider.java:96)\r\n    \tat org.keycloak.keycloak-server-spi-private@19.0.3//org.keycloak.models.utils.KeycloakModelUtils.suspendJtaTransaction(KeycloakModelUtils.java:751)\r\n    \r\n    07:16:33,787 INFO  [org.jboss.as.server] (Thread-1) WFLYSRV0220: Server shutdown has been requested via an OS signal\r\n    07:16:33,799 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0010: Unbound data source [java:jboss/datasources/KeycloakDS]\r\n    07:16:33,800 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]\r\n    07:16:33,802 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0008: Undertow HTTPS listener https suspending\r\n    07:16:33,807 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to 0.0.0.0:8443\r\n    07:16:33,808 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) WFLYJCA0019: Stopped Driver service with driver-name = mysql\r\n    07:16:33,811 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000080: Disconnecting JGroups channel `ejb`\r\n    07:16:33,813 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 65) ISPN000080: Disconnecting JGroups channel `ejb`\r\n    07:16:33,814 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000080: Disconnecting JGroups channel `ejb`\r\n    07:16:33,956 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,958 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002205: Adding provider class org.keycloak.services.error.KcUnrecognizedPropertyExceptionHandler from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication\r\n    07:16:34,012 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 69) HV000001: Hibernate Validator 6.0.23.Final\r\n    07:16:34,023 INFO  [org.jboss.resteasy.plugins.validation.i18n] (ServerService Thread Pool -- 69) RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory\r\n    07:16:34,097 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 69) WFLYUT0021: Registered web context: &#39;/auth&#39; for server &#39;default-server&#39;\r\n    07:16:34,099 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 69) WFLYUT0022: Unregistered web context: &#39;/auth&#39; from server &#39;default-server&#39;\r\n    07:16:34,101 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow AJP listener ajp suspending\r\n    07:16:34,101 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]\r\n    07:16:34,101 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to 0.0.0.0:8009\r\n    07:16:34,102 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 69) MODCLUSTER000002: Initiating mod_cluster shutdown\r\n    07:16:34,105 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) WFLYJCA0019: Stopped Driver service with driver-name = h2\r\n    07:16:34,106 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending\r\n    07:16:34,106 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 0.0.0.0:8080\r\n    07:16:34,108 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container\r\n    07:16:34,111 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000080: Disconnecting JGroups channel `ejb`\r\n    07:16:34,116 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0019: Host default-host stopping\r\n    07:16:34,117 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0004: Undertow 2.2.17.Final stopping\r\n    07:16:34,123 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment keycloak-server.war (runtime-name: keycloak-server.war) in 334ms\r\n    07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0003: Stopped authorization cache from keycloak container\r\n    07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0003: Stopped keys cache from keycloak container\r\n    07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0003: Stopped users cache from keycloak container\r\n    07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0003: Stopped realms cache from keycloak container\r\n    07:16:34,136 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0003: Stopped offlineSessions cache from keycloak container\r\n    07:16:34,136 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0003: Stopped authenticationSessions cache from keycloak container\r\n    07:16:34,136 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0003: Stopped clientSessions cache from keycloak container\r\n    07:16:34,137 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0003: Stopped loginFailures cache from keycloak container\r\n    07:16:34,137 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0003: Stopped actionTokens cache from keycloak container\r\n    07:16:34,137 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0003: Stopped work cache from keycloak container\r\n    07:16:34,138 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0003: Stopped offlineClientSessions cache from keycloak container\r\n    07:16:34,138 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 69) WFLYCLINF0003: Stopped sessions cache from keycloak container\r\n    07:16:34,141 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 69) ISPN000080: Disconnecting JGroups channel `ejb`\r\n    07:16:34,150 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;subsystem&quot; =&gt; &quot;metrics&quot;)]): java.lang.NullPointerException\r\n    \tat org.wildfly.extension.metrics@26.1.1.Final//org.wildfly.extension.metrics.MetricsSubsystemAdd$2.execute(MetricsSubsystemAdd.java:91)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:1045)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:777)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:466)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1427)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:559)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:572)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:534)\r\n    \tat org.jboss.as.server@18.1.1.Final//org.jboss.as.server.ServerService.boot(ServerService.java:470)\r\n    \tat org.jboss.as.server@18.1.1.Final//org.jboss.as.server.ServerService.boot(ServerService.java:414)\r\n    \tat org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:473)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \r\n    07:16:34,156 ERROR [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0022: Deploy of deployment &quot;keycloak-server.war&quot; was rolled back with no failure message\r\n    07:16:34,176 INFO  [org.jboss.as] (MSC service thread 1-3) WFLYSRV0050: Keycloak 19.0.3 (WildFly Core 18.1.1.Final) stopped in 386ms\r\n    User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;\r\n    Oct 20, 2023 7:17:09 AM org.keycloak.common.crypto.CryptoIntegration detectProvider\r\n    INFO: Detected crypto provider: org.keycloak.crypto.def.DefaultCryptoProvider\r\n    User with username &#39;admin&#39; already added to &#39;/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json&#39;\r\n\r\n\r\nI have checked the DB credentials and it is working fine. Other docker using the same credential is able to connect to db.\r\n\r\nalso even after the DB connection failure in the docker, it is continuing to the next step and failing with &quot;`: Operation (&quot;add&quot;) failed - address: ([(&quot;subsystem&quot; =&gt; &quot;metrics&quot;)]): java.lang.NullPointerException`&quot;\r\n\r\nCan anyone let me know what could be the issue? I am struggling for last 2 days. \r\n\r\nThanks","title":"Not able to setup the keycloak using Docker","body":"<p>Following is my docker file:</p>\n<pre><code>version: '3'\nvolumes:\n  mysql_data:\n    driver: local\nservices:\n  keycloak:\n    image: 'quay.io/keycloak/keycloak:legacy'\n    restart: always\n    environment:\n      DB_VENDOR: MYSQL\n      DB_ADDR: localhost\n      DB_DATABASE: keycloak\n      DB_USER: root\n      DB_PASSWORD: mypassword\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: myadminpassword\n      JAVA_OPTS_APPEND: '-Dkeycloak.profile.feature.token_exchange=enabled -Dkeycloak.profile.feature.admin_fine_grained_authz=enabled'\n    ports:\n      - '8181:8080'\n    expose:\n      - '80'\n    extra_hosts:\n      - 'host.docker.internal:host-gateway'\n</code></pre>\n<p>When running this docker, it is starting but then keep restart with following errors:</p>\n<pre><code>07:16:33,781 WARN  [org.jboss.jca.core.connectionmanager.pool.strategy.OnePool] (ServerService Thread Pool -- 69) IJ000604: Throwable while attempting to get a new connection: null: javax.resource.ResourceException: IJ031084: Unable to create connection\n    at org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createLocalManagedConnection(LocalManagedConnectionFactory.java:364)\n    at org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:371)\n    at org.jboss.ironjacamar.jdbcadapters@1.5.3.Final//org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:287)\n    at org.jboss.ironjacamar.impl@1.5.3.Final//org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.createConnectionEventListener(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:1328)\n    at org.jboss.ironjacamar.impl@1.5.3.Final//org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreConcurrentLinkedDequeManagedConnectionPool.getConnection(SemaphoreConcurrentLinkedDequeManagedConnectionPool.java:505)\n    \nCaused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at com.mysql.jdbc@8.0.22//com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    ... 60 more\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    ... 64 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n    ... 67 more\n\n07:16:33,784 FATAL [org.keycloak.services] (ServerService Thread Pool -- 69) Error during startup: java.lang.RuntimeException: Failed to connect to database\n    at org.keycloak.keycloak-model-jpa@19.0.3//org.keycloak.connections.jpa.DefaultJpaConnectionProviderFactory.getConnection(DefaultJpaConnectionProviderFactory.java:420)\n    at org.keycloak.keycloak-model-jpa@19.0.3//org.keycloak.connections.jpa.updater.liquibase.lock.LiquibaseDBLockProvider.lazyInit(LiquibaseDBLockProvider.java:65)\n    at org.keycloak.keycloak-model-jpa@19.0.3//org.keycloak.connections.jpa.updater.liquibase.lock.LiquibaseDBLockProvider.lambda$waitForLock$2(LiquibaseDBLockProvider.java:96)\n    at org.keycloak.keycloak-server-spi-private@19.0.3//org.keycloak.models.utils.KeycloakModelUtils.suspendJtaTransaction(KeycloakModelUtils.java:751)\n\n07:16:33,787 INFO  [org.jboss.as.server] (Thread-1) WFLYSRV0220: Server shutdown has been requested via an OS signal\n07:16:33,799 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0010: Unbound data source [java:jboss/datasources/KeycloakDS]\n07:16:33,800 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0002: Unbound mail session [java:jboss/mail/Default]\n07:16:33,802 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0008: Undertow HTTPS listener https suspending\n07:16:33,807 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0007: Undertow HTTPS listener https stopped, was bound to 0.0.0.0:8443\n07:16:33,808 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) WFLYJCA0019: Stopped Driver service with driver-name = mysql\n07:16:33,811 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000080: Disconnecting JGroups channel `ejb`\n07:16:33,813 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 65) ISPN000080: Disconnecting JGroups channel `ejb`\n07:16:33,814 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 59) ISPN000080: Disconnecting JGroups channel `ejb`\n07:16:33,956 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002225: Deploying javax.ws.rs.core.Application: class org.keycloak.services.resources.KeycloakApplication\n07:16:33,958 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002205: Adding provider class org.keycloak.services.filters.KeycloakSecurityHeadersFilter from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002200: Adding class resource org.keycloak.services.resources.ThemeResource from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002205: Adding provider class org.keycloak.services.error.KcUnrecognizedPropertyExceptionHandler from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002205: Adding provider class org.keycloak.services.error.KeycloakErrorHandler from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002200: Adding class resource org.keycloak.services.resources.JsResource from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RealmsResource from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.WelcomeResource from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002210: Adding provider singleton org.keycloak.services.util.ObjectMapperResolver from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.RobotsResource from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:33,959 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 69) RESTEASY002220: Adding singleton resource org.keycloak.services.resources.admin.AdminRoot from Application class org.keycloak.services.resources.KeycloakApplication\n07:16:34,012 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool -- 69) HV000001: Hibernate Validator 6.0.23.Final\n07:16:34,023 INFO  [org.jboss.resteasy.plugins.validation.i18n] (ServerService Thread Pool -- 69) RESTEASY008550: Unable to find CDI supporting ValidatorFactory. Using default ValidatorFactory\n07:16:34,097 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 69) WFLYUT0021: Registered web context: '/auth' for server 'default-server'\n07:16:34,099 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 69) WFLYUT0022: Unregistered web context: '/auth' from server 'default-server'\n07:16:34,101 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow AJP listener ajp suspending\n07:16:34,101 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]\n07:16:34,101 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to 0.0.0.0:8009\n07:16:34,102 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 69) MODCLUSTER000002: Initiating mod_cluster shutdown\n07:16:34,105 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) WFLYJCA0019: Stopped Driver service with driver-name = h2\n07:16:34,106 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending\n07:16:34,106 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 0.0.0.0:8080\n07:16:34,108 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0003: Stopped http-remoting-connector cache from ejb container\n07:16:34,111 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 58) ISPN000080: Disconnecting JGroups channel `ejb`\n07:16:34,116 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0019: Host default-host stopping\n07:16:34,117 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0004: Undertow 2.2.17.Final stopping\n07:16:34,123 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment keycloak-server.war (runtime-name: keycloak-server.war) in 334ms\n07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 57) WFLYCLINF0003: Stopped authorization cache from keycloak container\n07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 58) WFLYCLINF0003: Stopped keys cache from keycloak container\n07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0003: Stopped users cache from keycloak container\n07:16:34,128 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0003: Stopped realms cache from keycloak container\n07:16:34,136 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 56) WFLYCLINF0003: Stopped offlineSessions cache from keycloak container\n07:16:34,136 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 60) WFLYCLINF0003: Stopped authenticationSessions cache from keycloak container\n07:16:34,136 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0003: Stopped clientSessions cache from keycloak container\n07:16:34,137 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) WFLYCLINF0003: Stopped loginFailures cache from keycloak container\n07:16:34,137 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 62) WFLYCLINF0003: Stopped actionTokens cache from keycloak container\n07:16:34,137 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 59) WFLYCLINF0003: Stopped work cache from keycloak container\n07:16:34,138 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0003: Stopped offlineClientSessions cache from keycloak container\n07:16:34,138 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 69) WFLYCLINF0003: Stopped sessions cache from keycloak container\n07:16:34,141 INFO  [org.infinispan.CLUSTER] (ServerService Thread Pool -- 69) ISPN000080: Disconnecting JGroups channel `ejb`\n07:16:34,150 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;subsystem&quot; =&gt; &quot;metrics&quot;)]): java.lang.NullPointerException\n    at org.wildfly.extension.metrics@26.1.1.Final//org.wildfly.extension.metrics.MetricsSubsystemAdd$2.execute(MetricsSubsystemAdd.java:91)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:1045)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:777)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:466)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1427)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:559)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:572)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:534)\n    at org.jboss.as.server@18.1.1.Final//org.jboss.as.server.ServerService.boot(ServerService.java:470)\n    at org.jboss.as.server@18.1.1.Final//org.jboss.as.server.ServerService.boot(ServerService.java:414)\n    at org.jboss.as.controller@18.1.1.Final//org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:473)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n07:16:34,156 ERROR [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0022: Deploy of deployment &quot;keycloak-server.war&quot; was rolled back with no failure message\n07:16:34,176 INFO  [org.jboss.as] (MSC service thread 1-3) WFLYSRV0050: Keycloak 19.0.3 (WildFly Core 18.1.1.Final) stopped in 386ms\nUser with username 'admin' already added to '/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json'\nOct 20, 2023 7:17:09 AM org.keycloak.common.crypto.CryptoIntegration detectProvider\nINFO: Detected crypto provider: org.keycloak.crypto.def.DefaultCryptoProvider\nUser with username 'admin' already added to '/opt/jboss/keycloak/standalone/configuration/keycloak-add-user.json'\n</code></pre>\n<p>I have checked the DB credentials and it is working fine. Other docker using the same credential is able to connect to db.</p>\n<p>also even after the DB connection failure in the docker, it is continuing to the next step and failing with &quot;<code>: Operation (&quot;add&quot;) failed - address: ([(&quot;subsystem&quot; =&gt; &quot;metrics&quot;)]): java.lang.NullPointerException</code>&quot;</p>\n<p>Can anyone let me know what could be the issue? I am struggling for last 2 days.</p>\n<p>Thanks</p>\n"},{"tags":["java","class","program-entry-point"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":76,"creation_date":1375845673,"post_id":18093928,"comment_id":26486084,"body_markdown":"Please note that this is a &quot;self-answer&quot; question that is intended to be a generic reference Q&amp;A for new Java users. I could not find an existing Q&amp;A that covers this adequately (IMO).","body":"Please note that this is a &quot;self-answer&quot; question that is intended to be a generic reference Q&amp;A for new Java users. I could not find an existing Q&amp;A that covers this adequately (IMO)."}],"answers":[{"comments":[{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":60,"creation_date":1391887475,"post_id":18093929,"comment_id":32721788,"body_markdown":"I had this problem when I was trying to run a Class with a 3rd party library. I invoked java like this: `java -cp ../third-party-library.jar com.my.package.MyClass`; this does not work, instead it is necessary to add the local folder to the class path as well (separated by `:`, like this: `java -cp ../third-party-library.jar:. com.my.package.MyClass`, then it should work","body":"I had this problem when I was trying to run a Class with a 3rd party library. I invoked java like this: <code>java -cp ..&#47;third-party-library.jar com.my.package.MyClass</code>; this does not work, instead it is necessary to add the local folder to the class path as well (separated by <code>:</code>, like this: <code>java -cp ..&#47;third-party-library.jar:. com.my.package.MyClass</code>, then it should work"},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":40,"creation_date":1422703377,"post_id":18093929,"comment_id":44861524,"body_markdown":"After years of java programming I still managed to end up on this page. For me the issue was that [the classpath syntax is OS-dependent](http://stackoverflow.com/a/4528456/645270). I&#39;m kind of new to programming on Windows and had no idea.","body":"After years of java programming I still managed to end up on this page. For me the issue was that <a href=\"http://stackoverflow.com/a/4528456/645270\">the classpath syntax is OS-dependent</a>. I&#39;m kind of new to programming on Windows and had no idea."},{"owner":{"account_id":1339430,"reputation":359,"user_id":2582918,"accept_rate":86,"display_name":"MSX"},"score":9,"creation_date":1475488987,"post_id":18093929,"comment_id":66947853,"body_markdown":"Additional notes, point 2 save me! It is sad to see that `java` does not say it does not find an imported class, but instead the main class you&#39;re trying to run. This is misleading, although I&#39;m sure there&#39;s a reason for that. I had the case where `java` knew exactly where my class is, however it couldn&#39;t find one of the imported classes. Instead of saying that, it complained about not finding my main class. Really, annoing.","body":"Additional notes, point 2 save me! It is sad to see that <code>java</code> does not say it does not find an imported class, but instead the main class you&#39;re trying to run. This is misleading, although I&#39;m sure there&#39;s a reason for that. I had the case where <code>java</code> knew exactly where my class is, however it couldn&#39;t find one of the imported classes. Instead of saying that, it complained about not finding my main class. Really, annoing."},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1516270706,"post_id":18093929,"comment_id":83623053,"body_markdown":"I had this problem twice in Eclipse. First time the signature of main() was wrong. Second time I have renamed a .jar, and even though I added the new one to the build path, Eclipse didn&#39;t find the old one, so the project didn&#39;t compile, with this error. I had to remove the .jar file from Project &gt; Properties &gt; Java Build Path &gt; Libraries.","body":"I had this problem twice in Eclipse. First time the signature of main() was wrong. Second time I have renamed a .jar, and even though I added the new one to the build path, Eclipse didn&#39;t find the old one, so the project didn&#39;t compile, with this error. I had to remove the .jar file from Project &gt; Properties &gt; Java Build Path &gt; Libraries."},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1525852645,"post_id":18093929,"comment_id":87513831,"body_markdown":"I&#39;ve encountered it a third time. I&#39;ve run the program from a Windows 10 batch file, and put the .jar name in a variable (called with &quot;-cp %jarname%;lib\\*&quot;). I&#39;ve mistakenly put an extra space at the end of the jarname, and it caused the error. Hat trick :)","body":"I&#39;ve encountered it a third time. I&#39;ve run the program from a Windows 10 batch file, and put the .jar name in a variable (called with &quot;-cp %jarname%;lib*&quot;). I&#39;ve mistakenly put an extra space at the end of the jarname, and it caused the error. Hat trick :)"},{"owner":{"account_id":1984634,"reputation":1098,"user_id":1780261,"accept_rate":57,"display_name":"codeaperature"},"score":0,"creation_date":1544553505,"post_id":18093929,"comment_id":94314432,"body_markdown":"In my case, with spark2-submit, `Error: Could not find or load main class =` without a class name in the error statement was caused by a spark.properties file error where I had spaces around the `=` sign  in `spark.driver.extraJavaOptions           -Dlog4j.configuration = log4j.properties`declared as part of the spark2-submit cmd line option `--files hdfs://.../log4j.properties`. Removing all the spaces fixed in all similar lines fixed that issue.","body":"In my case, with spark2-submit, <code>Error: Could not find or load main class =</code> without a class name in the error statement was caused by a spark.properties file error where I had spaces around the <code>=</code> sign  in <code>spark.driver.extraJavaOptions           -Dlog4j.configuration = log4j.properties</code>declared as part of the spark2-submit cmd line option <code>--files hdfs:&#47;&#47;...&#47;log4j.properties</code>. Removing all the spaces fixed in all similar lines fixed that issue."},{"owner":{"account_id":3839513,"reputation":364,"user_id":3183018,"display_name":"user3183018"},"score":0,"creation_date":1544797104,"post_id":18093929,"comment_id":94414226,"body_markdown":"@lanoxx:  I agree this is confusing as the default behavior when not setting the classpath is to include current directory.  If you set classpath, this default is overwritten with the classpath you declare.  Reason being you may not want to include the CWD--often to prevent unwanted/unknown class from being loaded.","body":"@lanoxx:  I agree this is confusing as the default behavior when not setting the classpath is to include current directory.  If you set classpath, this default is overwritten with the classpath you declare.  Reason being you may not want to include the CWD--often to prevent unwanted/unknown class from being loaded."},{"owner":{"account_id":6198576,"reputation":2228,"user_id":4829166,"accept_rate":74,"display_name":"Nimitz14"},"score":0,"creation_date":1614799642,"post_id":18093929,"comment_id":117498205,"body_markdown":"I needed to include the current dir and use ; instead of :","body":"I needed to include the current dir and use ; instead of :"},{"owner":{"account_id":3337774,"reputation":74,"user_id":2804824,"display_name":"RT Denver"},"score":0,"creation_date":1618874496,"post_id":18093929,"comment_id":118730327,"body_markdown":"It was revelation to me that using the -cp option on the commandline by itself was not sufficient if the variable CLASSPATH is never set, e.g. on a newly configured machine. Once I defined in the shell, everything worked. Who would have thought!","body":"It was revelation to me that using the -cp option on the commandline by itself was not sufficient if the variable CLASSPATH is never set, e.g. on a newly configured machine. Once I defined in the shell, everything worked. Who would have thought!"},{"owner":{"account_id":7785038,"reputation":205,"user_id":5890223,"display_name":"Bee"},"score":0,"creation_date":1625675512,"post_id":18093929,"comment_id":120692293,"body_markdown":"I read this entire post and learned so much, and what actually worked for me was the very last line - &quot;it is worth trying other things like restarting your IDE&quot;. LOL","body":"I read this entire post and learned so much, and what actually worked for me was the very last line - &quot;it is worth trying other things like restarting your IDE&quot;. LOL"},{"owner":{"account_id":5652589,"reputation":557,"user_id":6076137,"accept_rate":75,"display_name":"Blaisem"},"score":0,"creation_date":1627631313,"post_id":18093929,"comment_id":121212360,"body_markdown":"Amazingly detailed comment. My issue was 2c, couldn&#39;t find it elsewhere. Thanks for the help.","body":"Amazingly detailed comment. My issue was 2c, couldn&#39;t find it elsewhere. Thanks for the help."},{"owner":{"account_id":9491636,"reputation":160,"user_id":7056207,"display_name":"Amulya Koppula"},"score":0,"creation_date":1632395228,"post_id":18093929,"comment_id":122483100,"body_markdown":"Very Detailed Explanation. Appreciate the Patience!! \nFor me, in eclipse IDE, clean and rebuilding the project resolved the issue.","body":"Very Detailed Explanation. Appreciate the Patience!!  For me, in eclipse IDE, clean and rebuilding the project resolved the issue."},{"owner":{"account_id":9567926,"reputation":686,"user_id":7106581,"display_name":"Peter M."},"score":0,"creation_date":1634328439,"post_id":18093929,"comment_id":123003768,"body_markdown":"Reason #2b is what probably most beginners are struggling with - if you are used to .Net it might seems strange first that the directory structure should matters","body":"Reason #2b is what probably most beginners are struggling with - if you are used to .Net it might seems strange first that the directory structure should matters"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634338131,"post_id":18093929,"comment_id":123006214,"body_markdown":"Actually, based on my observation (of people asking questions that are closed as dups of this one) #2b is pretty infrequent.  #2 and #2a are far more common.","body":"Actually, based on my observation (of people asking questions that are closed as dups of this one) #2b is pretty infrequent.  #2 and #2a are far more common."},{"owner":{"account_id":13857137,"reputation":333,"user_id":10003645,"display_name":"torez233"},"score":0,"creation_date":1638419183,"post_id":18093929,"comment_id":124084779,"body_markdown":"@StephenC. Amazing answer. It deserves even more votes. One question: for #3c, &quot;_all classes and interfaces that are referred to by means of variable or variable declarations, or method call or field access expressions_&quot;. I think this might not always the case. In fact, like what you mentioned after that point, sometimes JVM will try to load class only if they are explicitly referenced. If a library is missing in the classpath, as long as program never execute code that interacts (either directly or indirectly) w/  classes from that library. The program should work fine w/o any issue","body":"@StephenC. Amazing answer. It deserves even more votes. One question: for #3c, &quot;<i>all classes and interfaces that are referred to by means of variable or variable declarations, or method call or field access expressions</i>&quot;. I think this might not always the case. In fact, like what you mentioned after that point, sometimes JVM will try to load class only if they are explicitly referenced. If a library is missing in the classpath, as long as program never execute code that interacts (either directly or indirectly) w/  classes from that library. The program should work fine w/o any issue"},{"owner":{"account_id":13857137,"reputation":333,"user_id":10003645,"display_name":"torez233"},"score":0,"creation_date":1638419352,"post_id":18093929,"comment_id":124084804,"body_markdown":"I don&#39;t know lots about java compiler, but I guess it is because java compiler will never attempt to statically link everything together. Library classes are usually dynamically loaded into JVM during runtime","body":"I don&#39;t know lots about java compiler, but I guess it is because java compiler will never attempt to statically link everything together. Library classes are usually dynamically loaded into JVM during runtime"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638452877,"post_id":18093929,"comment_id":124095649,"body_markdown":"Yes, that is true.  Symbolic references (to other classes) *may* only be resolved on their first use, and this *may* effect when the JVM throws an exception reporting a missing class.  I addressed that in the paragraph following the text that you quoted / commented on.","body":"Yes, that is true.  Symbolic references (to other classes) <i>may</i> only be resolved on their first use, and this <i>may</i> effect when the JVM throws an exception reporting a missing class.  I addressed that in the paragraph following the text that you quoted / commented on."},{"owner":{"account_id":4026914,"reputation":129,"user_id":3314749,"display_name":"Bogoth"},"score":0,"creation_date":1644508619,"post_id":18093929,"comment_id":125630723,"body_markdown":"What a thorough answer!  You even got the rare Reason #2c.  I had that one once and it stumped me for a while.","body":"What a thorough answer!  You even got the rare Reason #2c.  I had that one once and it stumped me for a while."},{"owner":{"account_id":7889932,"reputation":124,"user_id":5960455,"display_name":"nauf"},"score":0,"creation_date":1678834563,"post_id":18093929,"comment_id":133609892,"body_markdown":"Great answer! Various sections have helped me out over the years (depending on my exact issue). However, most recently I had to resolve this by following the answer stated here: https://stackoverflow.com/a/14441628/5960455","body":"Great answer! Various sections have helped me out over the years (depending on my exact issue). However, most recently I had to resolve this by following the answer stated here: <a href=\"https://stackoverflow.com/a/14441628/5960455\">stackoverflow.com/a/14441628/5960455</a>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":19,"down_vote_count":13,"up_vote_count":1633,"is_accepted":true,"score":1620,"last_activity_date":1697786492,"creation_date":1375844566,"answer_id":18093929,"question_id":18093928,"body_markdown":"The `java &lt;class-name&gt;` command syntax\r\n--------------------------------------\r\n\r\nFirst of all, you need to understand the correct way to launch a program using the `java` (or `javaw`) command.\r\n\r\nThe normal syntax&lt;sup&gt;1&lt;/sup&gt; is this:\r\n\r\n        java [ &lt;options&gt; ] &lt;class-name&gt; [&lt;arg&gt; ...]\r\n\r\nwhere `&lt;option&gt;` is a command line option (starting with a &quot;-&quot; character), `&lt;class-name&gt;` is a fully qualified Java class name, and `&lt;arg&gt;` is an arbitrary command line argument that gets passed to your application.  \r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - There are some other syntaxes which are described near the end of this answer.&lt;/sup&gt;\r\n\r\nThe fully qualified name (FQN) for the class is conventionally written as you would in Java source code; e.g.\r\n\r\n        packagename.packagename2.packagename3.ClassName\r\n\r\nHowever some versions of the `java` command allow you to use slashes instead of periods; e.g.\r\n\r\n        packagename/packagename2/packagename3/ClassName\r\n\r\nwhich (confusingly) looks like a file pathname, but isn&#39;t one.  Note that the term *fully qualified name* is standard Java terminology ... not something I just made up to confuse you :-)\r\n\r\nHere is an example of what a `java` command should look like:\r\n\r\n        java -Xmx100m com.acme.example.ListUsers fred joe bert\r\n\r\nThe above is going to cause the `java` command to do the following:\r\n\r\n  1.  Search for the compiled version of the `com.acme.example.ListUsers` class.\r\n  2.  Load the class.\r\n  3.  Check that the class has a `main` method with *signature*, *return type* and *modifiers* given by `public static void main(String[])`.  (Note, the method argument&#39;s name is **NOT** part of the signature.)\r\n  4.  Call that method passing it the command line arguments (&quot;fred&quot;, &quot;joe&quot;, &quot;bert&quot;) as a `String[]`.\r\n\r\nReasons why Java cannot find the class\r\n--------------------------------------\r\n\r\nWhen you get the message &quot;Could not find or load main class ...&quot;, that means that the first step has failed.  The `java` command was not able to find the class.  And indeed, the &quot;...&quot; in the message will be the *fully qualified class name* that `java` is looking for. \r\n\r\nSo why might it be unable to find the class?  \r\n\r\nReason #1 - you made a mistake with the classname argument\r\n----------------------------------------------------------\r\n\r\nThe first likely cause is that you may have provided the wrong class name.  (Or ... the right class name, but in the wrong form.)   Considering the example above, here are a variety of **wrong ways** to specify the class name:\r\n\r\n  - Example #1 - a simple class name:\r\n        \r\n        java ListUser\r\n\r\n    When the class is declared in a package such as `com.acme.example`, then you must use the full classname *including* the package name in the `java` command; e.g. \r\n\r\n        java com.acme.example.ListUser\r\n\r\n  - Example #2 - a filename or pathname rather than a class name:\r\n\r\n        java ListUser.class\r\n        java com/acme/example/ListUser.class\r\n\r\n  - Example #3 - a class name with the casing incorrect:\r\n\r\n        java com.acme.example.listuser\r\n\r\n  - Example #4 - a typo\r\n\r\n        java com.acme.example.mistuser\r\n\r\n  - Example #5 - a source filename (except for Java 11 or later; see below)\r\n\r\n        java ListUser.java\r\n\r\n  - Example #6 - you forgot the class name entirely\r\n\r\n        java lots of arguments\r\n\r\nReason #2 - the application&#39;s classpath is incorrectly specified\r\n-----------------------------------------------------------------\r\n\r\nThe second likely cause is that the class name is correct, but that the `java` command cannot find the class.  To understand this, you need to understand the concept of the &quot;classpath&quot;.  This is explained *well* by the Oracle documentation:\r\n\r\n - [The `java` command documentation][1]\r\n - [Setting the Classpath][2]. \r\n - The Java Tutorial - [PATH and CLASSPATH][3]\r\n\r\nSo ... if you have specified the class name correctly, the next thing to check is that you have specified the classpath correctly:\r\n\r\n 1. Read the three documents linked above.  (Yes ... READ them!  It is important that a Java programmer *understands* at least the basics of how the Java classpath mechanisms works.)\r\n 2. Look at command line and / or the CLASSPATH environment variable that is in effect when you run the `java` command.  Check that the directory names and JAR file names are correct.\r\n 3. If there are *relative* pathnames in the classpath, check that they resolve correctly ... from the current directory that is in effect when you run the `java` command.\r\n 4. Check that the class (mentioned in the error message) can be located on the *effective* classpath.\r\n 5. Note that the classpath syntax is *different* for Windows versus Linux and Mac OS. (The classpath separator is `;` on Windows and `:` on the others.  If you use the wrong separator for your platform, you won&#39;t get an explicit error message.  Instead, you will get a nonexistent file or directory on the path that will be silently ignored.)\r\n\r\nReason #2a - the wrong directory is on the classpath\r\n----------------------------------------------------\r\n\r\nWhen you put a directory on the classpath, it notionally corresponds to the root of the qualified name space.  Classes are located in the directory structure beneath that root, *by mapping the fully qualified name to a pathname*.  So for example, if &quot;/usr/local/acme/classes&quot; is on the class path, then when the JVM looks for a class called `com.acme.example.Foon`, it will look for a &quot;.class&quot; file with this pathname:\r\n\r\n      /usr/local/acme/classes/com/acme/example/Foon.class\r\n\r\nIf you had put &quot;/usr/local/acme/classes/com/acme/example&quot; on the classpath, then the JVM wouldn&#39;t be able to find the class.\r\n\r\nReason #2b - the subdirectory path doesn&#39;t match the FQN\r\n--------------------------------------------------------\r\n\r\nIf your classes FQN is `com.acme.example.Foon`, then the JVM is going to look for &quot;Foon.class&quot; in the directory &quot;com/acme/example&quot;:\r\n\r\n  - If your directory structure doesn&#39;t match the package naming as per the pattern above, the JVM won&#39;t find your class.\r\n\r\n  - If you attempt *rename* a class by moving it, that will fail as well ... but the exception stacktrace will be different.  It is liable to say something like this:\r\n\r\n        Caused by: java.lang.NoClassDefFoundError: &lt;path&gt; (wrong name: &lt;name&gt;)\r\n\r\n     because the FQN in the class file doesn&#39;t match what the class loader is expecting to find.\r\n\r\nTo give a concrete example, supposing that:\r\n\r\n- you want to run `com.acme.example.Foon` class,\r\n- the full file path is `/usr/local/acme/classes/com/acme/example/Foon.class`,\r\n- your current working directory is `/usr/local/acme/classes/com/acme/example/`,\r\n\r\nthen:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    # wrong, FQN is needed\r\n    java Foon\r\n\r\n    # wrong, there is no `com/acme/example` folder in the current working directory\r\n    java com.acme.example.Foon\r\n\r\n    # wrong, similar to above\r\n    java -classpath . com.acme.example.Foon\r\n\r\n    # fine; relative classpath set\r\n    java -classpath ../../.. com.acme.example.Foon\r\n\r\n    # fine; absolute classpath set\r\n    java -classpath /usr/local/acme/classes com.acme.example.Foon\r\n\r\nNotes:\r\n\r\n  - The `-classpath` option can be shortened to `-cp` in most Java releases.  Check the respective manual entries for `java`, `javac` and so on.\r\n  - Think carefully when choosing between absolute and relative pathnames in classpaths.  Remember that a relative pathname may &quot;break&quot; if the current directory changes.  \r\n\r\nReason #2c - dependencies missing from the classpath\r\n----------------------------------------------------\r\n\r\nThe classpath needs to include all of the *other* (non-system) classes that your application depends on.  (The system classes are located automatically, and you rarely need to concern yourself with this.)  For the main class to load correctly, the JVM needs to find:\r\n    \r\n  - the class itself.\r\n  - all classes and interfaces in the superclass hierarchy (e.g. see https://stackoverflow.com/questions/42880748)\r\n  - all classes and interfaces that are referred to by means of variable or variable declarations, or method call or field access expressions.\r\n\r\n(Note: the JLS and JVM specifications allow some scope for a JVM to load classes &quot;lazily&quot;, and this can affect when a classloader exception is thrown.)\r\n\r\nReason #3 - the class has been declared in the wrong package\r\n------------------------------------------------------------\r\n\r\nIt occasionally happens that someone puts a source code file into the\r\nthe wrong folder in their source code tree, or they leave out the `package` declaration.  If you do this in an IDE, the IDE&#39;s compiler will tell you about this immediately.  Similarly if you use a decent Java build tool, the tool will run `javac` in a way that will detect the problem.  However, if you build your Java code by hand, you can do it in such a way that the compiler doesn&#39;t notice the problem, and the resulting &quot;.class&quot; file is not in the place that you expect it to be.\r\n\r\nStill can&#39;t find the problem?\r\n-----------------------------\r\n\r\nThere lots of things to check, and it is easy to miss something.  Try adding the `-Xdiag` option to the `java` command line (as the first thing after `java`).  It will output various things about class loading, and this may offer you clues as to what the real problem is.\r\n\r\nAlso, consider possible problems caused by copying and pasting invisible or non-ASCII characters from websites, documents and so on.  And consider &quot;homoglyphs&quot;, where two letters or symbols look the same ... but aren&#39;t.\r\n\r\nYou may run into this problem if you have invalid or incorrect signatures in `META-INF/*.SF`. You can try opening up the .jar in your favorite ZIP editor, and removing files from `META-INF` until all you have is your `MANIFEST.MF`.  However this is NOT RECOMMENDED in general.  (The invalid signature may be the result of someone having injected malware into the original signed JAR file.  If you erase the invalid signature, you are in infecting your application with the malware!)  The recommended approach is to get hold of JAR files with valid signatures, or rebuild them from the (authentic) original source code. \r\n\r\nFinally, you can apparently run into this problem if there is a syntax error in the `MANIFEST.MF` file (see https://stackoverflow.com/a/67145190/139985).\r\n\r\n------------------------\r\n\r\nAlternative syntaxes for `java`\r\n----------------------\r\n\r\nThere are three alternative syntaxes for the launching Java programs using the `java command`.\r\n\r\n 1) The syntax used for launching an &quot;executable&quot; JAR file is as follows:\r\n\r\n        java [ &lt;options&gt; ] -jar &lt;jar-file-name&gt; [&lt;arg&gt; ...]\r\n\r\n    e.g.\r\n\r\n        java -Xmx100m -jar /usr/local/acme-example/listuser.jar fred\r\n\r\n    The name of the entry-point class (i.e. `com.acme.example.ListUser`) and the classpath are specified in the MANIFEST of the JAR file. *Anything you specify as a classpath on the command line is ignored* with this syntax: only the `Class-Path` entry in the Manifest is used (and, transitively, those in any JAR files referenced by this entry). Note also that URLs in this `Class-Path` are *relative* to the location of the JAR it is contained in.\r\n\r\n 2) The syntax for launching an application from a module (Java 9 and later) is as follows:\r\n\r\n        java [ &lt;options&gt; ] --module &lt;module&gt;[/&lt;mainclass&gt;] [&lt;arg&gt; ...]\r\n\r\n    The name of the entrypoint class is either defined by the `&lt;module&gt;` itself, or is given by the optional `&lt;mainclass&gt;`.\r\n\r\n 3) From Java 11 onwards, you can use the `java` command to compile and run a single source code file using the following syntax:\r\n\r\n        java [ &lt;options&gt; ] &lt;sourcefile&gt; [&lt;arg&gt; ...]\r\n\r\n    where `&lt;sourcefile&gt;` is (typically) a file with the suffix &quot;.java&quot;.\r\n\r\nFor more details, please refer to the official documentation for the `java` command for the Java release that you are using.\r\n      \r\n\r\n--------------------\r\n\r\nIDEs\r\n----\r\n\r\nA typical Java IDE has support for running Java applications in the IDE JVM itself or in a child JVM.  These are *generally* immune from this particular exception, because the IDE uses its own mechanisms to construct the runtime classpath, identify the main class and create the `java` command line.\r\n\r\nHowever it is still possible for this exception to occur, if you do things behind the back of the IDE.  For example, if you have previously set up an Application Launcher for your Java app in Eclipse, and you then moved the JAR file containing the &quot;main&quot; class to a different place in the file system *without telling Eclipse*, Eclipse would unwittingly launch the JVM with an incorrect classpath.\r\n\r\nIn short, if you get this problem in an IDE, check for things like stale IDE state, broken project references or broken launcher configurations.\r\n\r\nIt is also possible for an IDE to simply get confused.  IDE&#39;s are hugely complicated pieces of software comprising many interacting parts.  Many of these parts adopt various caching strategies in order to make the IDE as a whole responsive.  These can sometimes go wrong, and one possible symptom is problems when launching applications.  If you suspect this could be happening, it is worth trying other things like restarting your IDE, rebuilding the project and so on.\r\n\r\n------------------------------\r\n\r\n\r\nOther References\r\n----------------\r\n\r\n  - From the Oracle Java Tutorials - [Common Problems (and Their Solutions)][4]\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n  [4]: http://docs.oracle.com/javase/tutorial/getStarted/problems/index.html","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<h2>The <code>java &lt;class-name&gt;</code> command syntax</h2>\n<p>First of all, you need to understand the correct way to launch a program using the <code>java</code> (or <code>javaw</code>) command.</p>\n<p>The normal syntax<sup>1</sup> is this:</p>\n<pre><code>    java [ &lt;options&gt; ] &lt;class-name&gt; [&lt;arg&gt; ...]\n</code></pre>\n<p>where <code>&lt;option&gt;</code> is a command line option (starting with a &quot;-&quot; character), <code>&lt;class-name&gt;</code> is a fully qualified Java class name, and <code>&lt;arg&gt;</code> is an arbitrary command line argument that gets passed to your application.</p>\n<hr />\n<p><sup>1 - There are some other syntaxes which are described near the end of this answer.</sup></p>\n<p>The fully qualified name (FQN) for the class is conventionally written as you would in Java source code; e.g.</p>\n<pre><code>    packagename.packagename2.packagename3.ClassName\n</code></pre>\n<p>However some versions of the <code>java</code> command allow you to use slashes instead of periods; e.g.</p>\n<pre><code>    packagename/packagename2/packagename3/ClassName\n</code></pre>\n<p>which (confusingly) looks like a file pathname, but isn't one.  Note that the term <em>fully qualified name</em> is standard Java terminology ... not something I just made up to confuse you :-)</p>\n<p>Here is an example of what a <code>java</code> command should look like:</p>\n<pre><code>    java -Xmx100m com.acme.example.ListUsers fred joe bert\n</code></pre>\n<p>The above is going to cause the <code>java</code> command to do the following:</p>\n<ol>\n<li>Search for the compiled version of the <code>com.acme.example.ListUsers</code> class.</li>\n<li>Load the class.</li>\n<li>Check that the class has a <code>main</code> method with <em>signature</em>, <em>return type</em> and <em>modifiers</em> given by <code>public static void main(String[])</code>.  (Note, the method argument's name is <strong>NOT</strong> part of the signature.)</li>\n<li>Call that method passing it the command line arguments (&quot;fred&quot;, &quot;joe&quot;, &quot;bert&quot;) as a <code>String[]</code>.</li>\n</ol>\n<h2>Reasons why Java cannot find the class</h2>\n<p>When you get the message &quot;Could not find or load main class ...&quot;, that means that the first step has failed.  The <code>java</code> command was not able to find the class.  And indeed, the &quot;...&quot; in the message will be the <em>fully qualified class name</em> that <code>java</code> is looking for.</p>\n<p>So why might it be unable to find the class?</p>\n<h2>Reason #1 - you made a mistake with the classname argument</h2>\n<p>The first likely cause is that you may have provided the wrong class name.  (Or ... the right class name, but in the wrong form.)   Considering the example above, here are a variety of <strong>wrong ways</strong> to specify the class name:</p>\n<ul>\n<li><p>Example #1 - a simple class name:</p>\n<pre><code>java ListUser\n</code></pre>\n<p>When the class is declared in a package such as <code>com.acme.example</code>, then you must use the full classname <em>including</em> the package name in the <code>java</code> command; e.g.</p>\n<pre><code>java com.acme.example.ListUser\n</code></pre>\n</li>\n<li><p>Example #2 - a filename or pathname rather than a class name:</p>\n<pre><code>java ListUser.class\njava com/acme/example/ListUser.class\n</code></pre>\n</li>\n<li><p>Example #3 - a class name with the casing incorrect:</p>\n<pre><code>java com.acme.example.listuser\n</code></pre>\n</li>\n<li><p>Example #4 - a typo</p>\n<pre><code>java com.acme.example.mistuser\n</code></pre>\n</li>\n<li><p>Example #5 - a source filename (except for Java 11 or later; see below)</p>\n<pre><code>java ListUser.java\n</code></pre>\n</li>\n<li><p>Example #6 - you forgot the class name entirely</p>\n<pre><code>java lots of arguments\n</code></pre>\n</li>\n</ul>\n<h2>Reason #2 - the application's classpath is incorrectly specified</h2>\n<p>The second likely cause is that the class name is correct, but that the <code>java</code> command cannot find the class.  To understand this, you need to understand the concept of the &quot;classpath&quot;.  This is explained <em>well</em> by the Oracle documentation:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"noreferrer\">The <code>java</code> command documentation</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Setting the Classpath</a>.</li>\n<li>The Java Tutorial - <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"noreferrer\">PATH and CLASSPATH</a></li>\n</ul>\n<p>So ... if you have specified the class name correctly, the next thing to check is that you have specified the classpath correctly:</p>\n<ol>\n<li>Read the three documents linked above.  (Yes ... READ them!  It is important that a Java programmer <em>understands</em> at least the basics of how the Java classpath mechanisms works.)</li>\n<li>Look at command line and / or the CLASSPATH environment variable that is in effect when you run the <code>java</code> command.  Check that the directory names and JAR file names are correct.</li>\n<li>If there are <em>relative</em> pathnames in the classpath, check that they resolve correctly ... from the current directory that is in effect when you run the <code>java</code> command.</li>\n<li>Check that the class (mentioned in the error message) can be located on the <em>effective</em> classpath.</li>\n<li>Note that the classpath syntax is <em>different</em> for Windows versus Linux and Mac OS. (The classpath separator is <code>;</code> on Windows and <code>:</code> on the others.  If you use the wrong separator for your platform, you won't get an explicit error message.  Instead, you will get a nonexistent file or directory on the path that will be silently ignored.)</li>\n</ol>\n<h2>Reason #2a - the wrong directory is on the classpath</h2>\n<p>When you put a directory on the classpath, it notionally corresponds to the root of the qualified name space.  Classes are located in the directory structure beneath that root, <em>by mapping the fully qualified name to a pathname</em>.  So for example, if &quot;/usr/local/acme/classes&quot; is on the class path, then when the JVM looks for a class called <code>com.acme.example.Foon</code>, it will look for a &quot;.class&quot; file with this pathname:</p>\n<pre><code>  /usr/local/acme/classes/com/acme/example/Foon.class\n</code></pre>\n<p>If you had put &quot;/usr/local/acme/classes/com/acme/example&quot; on the classpath, then the JVM wouldn't be able to find the class.</p>\n<h2>Reason #2b - the subdirectory path doesn't match the FQN</h2>\n<p>If your classes FQN is <code>com.acme.example.Foon</code>, then the JVM is going to look for &quot;Foon.class&quot; in the directory &quot;com/acme/example&quot;:</p>\n<ul>\n<li><p>If your directory structure doesn't match the package naming as per the pattern above, the JVM won't find your class.</p>\n</li>\n<li><p>If you attempt <em>rename</em> a class by moving it, that will fail as well ... but the exception stacktrace will be different.  It is liable to say something like this:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: &lt;path&gt; (wrong name: &lt;name&gt;)\n</code></pre>\n<p>because the FQN in the class file doesn't match what the class loader is expecting to find.</p>\n</li>\n</ul>\n<p>To give a concrete example, supposing that:</p>\n<ul>\n<li>you want to run <code>com.acme.example.Foon</code> class,</li>\n<li>the full file path is <code>/usr/local/acme/classes/com/acme/example/Foon.class</code>,</li>\n<li>your current working directory is <code>/usr/local/acme/classes/com/acme/example/</code>,</li>\n</ul>\n<p>then:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># wrong, FQN is needed\njava Foon\n\n# wrong, there is no `com/acme/example` folder in the current working directory\njava com.acme.example.Foon\n\n# wrong, similar to above\njava -classpath . com.acme.example.Foon\n\n# fine; relative classpath set\njava -classpath ../../.. com.acme.example.Foon\n\n# fine; absolute classpath set\njava -classpath /usr/local/acme/classes com.acme.example.Foon\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>The <code>-classpath</code> option can be shortened to <code>-cp</code> in most Java releases.  Check the respective manual entries for <code>java</code>, <code>javac</code> and so on.</li>\n<li>Think carefully when choosing between absolute and relative pathnames in classpaths.  Remember that a relative pathname may &quot;break&quot; if the current directory changes.</li>\n</ul>\n<h2>Reason #2c - dependencies missing from the classpath</h2>\n<p>The classpath needs to include all of the <em>other</em> (non-system) classes that your application depends on.  (The system classes are located automatically, and you rarely need to concern yourself with this.)  For the main class to load correctly, the JVM needs to find:</p>\n<ul>\n<li>the class itself.</li>\n<li>all classes and interfaces in the superclass hierarchy (e.g. see <a href=\"https://stackoverflow.com/questions/42880748\">Java class is present in classpath but startup fails with Error: Could not find or load main class</a>)</li>\n<li>all classes and interfaces that are referred to by means of variable or variable declarations, or method call or field access expressions.</li>\n</ul>\n<p>(Note: the JLS and JVM specifications allow some scope for a JVM to load classes &quot;lazily&quot;, and this can affect when a classloader exception is thrown.)</p>\n<h2>Reason #3 - the class has been declared in the wrong package</h2>\n<p>It occasionally happens that someone puts a source code file into the\nthe wrong folder in their source code tree, or they leave out the <code>package</code> declaration.  If you do this in an IDE, the IDE's compiler will tell you about this immediately.  Similarly if you use a decent Java build tool, the tool will run <code>javac</code> in a way that will detect the problem.  However, if you build your Java code by hand, you can do it in such a way that the compiler doesn't notice the problem, and the resulting &quot;.class&quot; file is not in the place that you expect it to be.</p>\n<h2>Still can't find the problem?</h2>\n<p>There lots of things to check, and it is easy to miss something.  Try adding the <code>-Xdiag</code> option to the <code>java</code> command line (as the first thing after <code>java</code>).  It will output various things about class loading, and this may offer you clues as to what the real problem is.</p>\n<p>Also, consider possible problems caused by copying and pasting invisible or non-ASCII characters from websites, documents and so on.  And consider &quot;homoglyphs&quot;, where two letters or symbols look the same ... but aren't.</p>\n<p>You may run into this problem if you have invalid or incorrect signatures in <code>META-INF/*.SF</code>. You can try opening up the .jar in your favorite ZIP editor, and removing files from <code>META-INF</code> until all you have is your <code>MANIFEST.MF</code>.  However this is NOT RECOMMENDED in general.  (The invalid signature may be the result of someone having injected malware into the original signed JAR file.  If you erase the invalid signature, you are in infecting your application with the malware!)  The recommended approach is to get hold of JAR files with valid signatures, or rebuild them from the (authentic) original source code.</p>\n<p>Finally, you can apparently run into this problem if there is a syntax error in the <code>MANIFEST.MF</code> file (see <a href=\"https://stackoverflow.com/a/67145190/139985\">https://stackoverflow.com/a/67145190/139985</a>).</p>\n<hr />\n<h2>Alternative syntaxes for <code>java</code></h2>\n<p>There are three alternative syntaxes for the launching Java programs using the <code>java command</code>.</p>\n<ol>\n<li><p>The syntax used for launching an &quot;executable&quot; JAR file is as follows:</p>\n<pre><code>java [ &lt;options&gt; ] -jar &lt;jar-file-name&gt; [&lt;arg&gt; ...]\n</code></pre>\n<p>e.g.</p>\n<pre><code>java -Xmx100m -jar /usr/local/acme-example/listuser.jar fred\n</code></pre>\n<p>The name of the entry-point class (i.e. <code>com.acme.example.ListUser</code>) and the classpath are specified in the MANIFEST of the JAR file. <em>Anything you specify as a classpath on the command line is ignored</em> with this syntax: only the <code>Class-Path</code> entry in the Manifest is used (and, transitively, those in any JAR files referenced by this entry). Note also that URLs in this <code>Class-Path</code> are <em>relative</em> to the location of the JAR it is contained in.</p>\n</li>\n<li><p>The syntax for launching an application from a module (Java 9 and later) is as follows:</p>\n<pre><code>java [ &lt;options&gt; ] --module &lt;module&gt;[/&lt;mainclass&gt;] [&lt;arg&gt; ...]\n</code></pre>\n<p>The name of the entrypoint class is either defined by the <code>&lt;module&gt;</code> itself, or is given by the optional <code>&lt;mainclass&gt;</code>.</p>\n</li>\n<li><p>From Java 11 onwards, you can use the <code>java</code> command to compile and run a single source code file using the following syntax:</p>\n<pre><code>java [ &lt;options&gt; ] &lt;sourcefile&gt; [&lt;arg&gt; ...]\n</code></pre>\n<p>where <code>&lt;sourcefile&gt;</code> is (typically) a file with the suffix &quot;.java&quot;.</p>\n</li>\n</ol>\n<p>For more details, please refer to the official documentation for the <code>java</code> command for the Java release that you are using.</p>\n<hr />\n<h2>IDEs</h2>\n<p>A typical Java IDE has support for running Java applications in the IDE JVM itself or in a child JVM.  These are <em>generally</em> immune from this particular exception, because the IDE uses its own mechanisms to construct the runtime classpath, identify the main class and create the <code>java</code> command line.</p>\n<p>However it is still possible for this exception to occur, if you do things behind the back of the IDE.  For example, if you have previously set up an Application Launcher for your Java app in Eclipse, and you then moved the JAR file containing the &quot;main&quot; class to a different place in the file system <em>without telling Eclipse</em>, Eclipse would unwittingly launch the JVM with an incorrect classpath.</p>\n<p>In short, if you get this problem in an IDE, check for things like stale IDE state, broken project references or broken launcher configurations.</p>\n<p>It is also possible for an IDE to simply get confused.  IDE's are hugely complicated pieces of software comprising many interacting parts.  Many of these parts adopt various caching strategies in order to make the IDE as a whole responsive.  These can sometimes go wrong, and one possible symptom is problems when launching applications.  If you suspect this could be happening, it is worth trying other things like restarting your IDE, rebuilding the project and so on.</p>\n<hr />\n<h2>Other References</h2>\n<ul>\n<li>From the Oracle Java Tutorials - <a href=\"http://docs.oracle.com/javase/tutorial/getStarted/problems/index.html\" rel=\"noreferrer\">Common Problems (and Their Solutions)</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1383351197,"post_id":19732627,"comment_id":29326383,"body_markdown":"It sounds like the problem was that you had a incorrect classpath due to a broken &quot;reference&quot; in your project in your IDE.  I&#39;ll update my answer to cover that case.","body":"It sounds like the problem was that you had a incorrect classpath due to a broken &quot;reference&quot; in your project in your IDE.  I&#39;ll update my answer to cover that case."},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1478552420,"post_id":19732627,"comment_id":68193632,"body_markdown":"@StephenC and EduardoDennis, It was that here too, there was a jar missing, that jar contained an interface that the main class depended on to be instantiated. So, the error message is too broad. I should say &quot;could not find&quot; if the class file is not found and &quot;could not load (missing dependencies)&quot; if there is something else missing but not the file itself, so the error message being too broad is missleading if you focus only on the &quot;find&quot; part of it :(","body":"@StephenC and EduardoDennis, It was that here too, there was a jar missing, that jar contained an interface that the main class depended on to be instantiated. So, the error message is too broad. I should say &quot;could not find&quot; if the class file is not found and &quot;could not load (missing dependencies)&quot; if there is something else missing but not the file itself, so the error message being too broad is missleading if you focus only on the &quot;find&quot; part of it :("},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1478558536,"post_id":19732627,"comment_id":68196561,"body_markdown":"@AquariusPower - There should have been an additional &quot;caused by&quot; stacktrace for the &quot;cause&quot; exception that said wht class was missing. If you want to suggest to the Java developers that they change an error message that has been saying that for 20+ years ... feel free.  (I think that the error message is correct.  The problem was that &gt;&gt;you&lt;&lt; narrowed in on the wrong clause.)","body":"@AquariusPower - There should have been an additional &quot;caused by&quot; stacktrace for the &quot;cause&quot; exception that said wht class was missing. If you want to suggest to the Java developers that they change an error message that has been saying that for 20+ years ... feel free.  (I think that the error message is correct.  The problem was that &gt;&gt;you&lt;&lt; narrowed in on the wrong clause.)"},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1478570236,"post_id":19732627,"comment_id":68200024,"body_markdown":"@StephenC what I meant is, they surely have access to the information if the main class file is available or not, so why not show us a better error message saying that such file is missing. In the other hand, they could also say &quot;The file was found but could not be loaded&quot; at that point, we would promptly focus on dependencies instead of losing half a day researching and testing things to understand. Just that I meant :). They may do it in a limited way for 20+ years, but they can improve it and we are here to grant that will happen thru our criticism and complaints! :D","body":"@StephenC what I meant is, they surely have access to the information if the main class file is available or not, so why not show us a better error message saying that such file is missing. In the other hand, they could also say &quot;The file was found but could not be loaded&quot; at that point, we would promptly focus on dependencies instead of losing half a day researching and testing things to understand. Just that I meant :). They may do it in a limited way for 20+ years, but they can improve it and we are here to grant that will happen thru our criticism and complaints! :D"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1478571565,"post_id":19732627,"comment_id":68200372,"body_markdown":"Please understand what &gt;&gt;I&lt;&lt; meant.  Complaining about it in some obscure comment on 3 year old Q&amp;A is not going to achieve anything.  The people who might concievably act on your complaints won&#39;t notice it.  If you want to do something constructive, submit a patch.  (I don&#39;t rate your chances, but they will be greater than if you just whinge about it.)","body":"Please understand what &gt;&gt;I&lt;&lt; meant.  Complaining about it in some obscure comment on 3 year old Q&amp;A is not going to achieve anything.  The people who might concievably act on your complaints won&#39;t notice it.  If you want to do something constructive, submit a patch.  (I don&#39;t rate your chances, but they will be greater than if you just whinge about it.)"}],"tags":[],"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1484412561,"creation_date":1383329096,"answer_id":19732627,"question_id":18093928,"body_markdown":"Sometimes what might be causing the issue has nothing to do with the main class, and I had to find this out the hard way. It was a referenced library that I moved, and it gave me the:\r\n\r\n&gt; Could not find or load main class xxx Linux\r\n\r\nI just deleted that reference, added it again, and it worked fine again.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Sometimes what might be causing the issue has nothing to do with the main class, and I had to find this out the hard way. It was a referenced library that I moved, and it gave me the:</p>\n\n<blockquote>\n  <p>Could not find or load main class xxx Linux</p>\n</blockquote>\n\n<p>I just deleted that reference, added it again, and it worked fine again.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1385998953,"post_id":20330193,"comment_id":30345379,"body_markdown":"This does not help.  This Question is about Java programs, not ordinary executables.  Java does not use PATH to locate anything, and if &quot;cd&quot; helps then it by luck rather than by judgement.","body":"This does not help.  This Question is about Java programs, not ordinary executables.  Java does not use PATH to locate anything, and if &quot;cd&quot; helps then it by luck rather than by judgement."},{"owner":{"account_id":420494,"reputation":1386,"user_id":798223,"display_name":"GKFX"},"score":0,"creation_date":1396279005,"post_id":20330193,"comment_id":34705521,"body_markdown":"`if &quot;cd&quot; helps then it by luck rather than by judgement`. This is wrong (I believe), as java uses the current directory `.` as part of the classpath by default.","body":"<code>if &quot;cd&quot; helps then it by luck rather than by judgement</code>. This is wrong (I believe), as java uses the current directory <code>.</code> as part of the classpath by default."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1402553115,"post_id":20330193,"comment_id":37319338,"body_markdown":"@GKFX - That&#39;s what I mean. Unless you know that you are using the default classpath (or a classpath with &quot;.&quot; on it), &quot;cd&quot; will have no effect. This solution works more by luck (i.e. guessing / hoping that &quot;.&quot; is on the classpath) than by judgement (i.e. checking that &quot;.&quot; is on the classpath).  Furthermore you are incorrect about the default.  Java uses &quot;.&quot; as the classpath by default, not as part of the classpath by default.","body":"@GKFX - That&#39;s what I mean. Unless you know that you are using the default classpath (or a classpath with &quot;.&quot; on it), &quot;cd&quot; will have no effect. This solution works more by luck (i.e. guessing / hoping that &quot;.&quot; is on the classpath) than by judgement (i.e. checking that &quot;.&quot; is on the classpath).  Furthermore you are incorrect about the default.  Java uses &quot;.&quot; as the classpath by default, not as part of the classpath by default."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1643827536,"post_id":20330193,"comment_id":125445321,"body_markdown":"On [Windows](https://en.wikipedia.org/wiki/Microsoft_Windows), presumably?","body":"On <a href=\"https://en.wikipedia.org/wiki/Microsoft_Windows\" rel=\"nofollow noreferrer\">Windows</a>, presumably?"}],"tags":[],"owner":{"account_id":3670344,"reputation":73,"user_id":3057713,"display_name":"arun"},"comment_count":4,"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1385994814,"creation_date":1385993143,"answer_id":20330193,"question_id":18093928,"body_markdown":"First set the path using this command;\r\n\r\n    set path=&quot;paste the set path address&quot;\r\n\r\nThen you need to load the program. Type &quot;cd (folder name)&quot; in the stored drive and compile it. For Example, if my program stored on the D drive, type &quot;D:&quot; press enter and type &quot; cd (folder name)&quot;.","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>First set the path using this command;</p>\n\n<pre><code>set path=\"paste the set path address\"\n</code></pre>\n\n<p>Then you need to load the program. Type \"cd (folder name)\" in the stored drive and compile it. For Example, if my program stored on the D drive, type \"D:\" press enter and type \" cd (folder name)\".</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1394596559,"post_id":22339676,"comment_id":33955182,"body_markdown":"Yes.  See my example #2 of the wrong ways to specify the class name!!","body":"Yes.  See my example #2 of the wrong ways to specify the class name!!"}],"tags":[],"owner":{"account_id":294134,"reputation":9678,"user_id":597858,"accept_rate":85,"display_name":"KawaiKx"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1643827563,"creation_date":1394584677,"answer_id":22339676,"question_id":18093928,"body_markdown":"In my case, the error appeared because I had supplied the source file name instead of the class name. \r\n\r\nWe need to supply the class name containing the main method to the interpreter.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In my case, the error appeared because I had supplied the source file name instead of the class name.</p>\n<p>We need to supply the class name containing the main method to the interpreter.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1443507455,"post_id":23781433,"comment_id":53509054,"body_markdown":"The problem is that this solution only works for Java classes declared in the default package with no JAR file dependencies.  (And even then, not all of the time.) Most Java programs are not that simple.","body":"The problem is that this solution only works for Java classes declared in the default package with no JAR file dependencies.  (And even then, not all of the time.) Most Java programs are not that simple."},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":3,"creation_date":1451841157,"post_id":23781433,"comment_id":56903251,"body_markdown":"like Stephen said, this only works with &quot;default package&quot; - which means *no* package declaration at the top of the file. For a quick test of some code, I did: `javac TestCode.java` followed by `java TestCode`","body":"like Stephen said, this only works with &quot;default package&quot; - which means <i>no</i> package declaration at the top of the file. For a quick test of some code, I did: <code>javac TestCode.java</code> followed by <code>java TestCode</code>"},{"owner":{"account_id":2154881,"reputation":3922,"user_id":1910355,"accept_rate":6,"display_name":"Jim"},"score":0,"creation_date":1470426117,"post_id":23781433,"comment_id":64963728,"body_markdown":"This did not work for me. It still says, &quot;Could not find or load main class HelloWorld&quot;","body":"This did not work for me. It still says, &quot;Could not find or load main class HelloWorld&quot;"},{"owner":{"account_id":3820398,"reputation":1062,"user_id":3168621,"display_name":"BMaximus"},"score":0,"creation_date":1481098313,"post_id":23781433,"comment_id":69232008,"body_markdown":"java -jar HelloWorld.jar is also an option","body":"java -jar HelloWorld.jar is also an option"},{"owner":{"account_id":1848841,"reputation":7336,"user_id":1675875,"accept_rate":38,"display_name":"Chris Prince"},"score":28,"creation_date":1485905694,"post_id":23781433,"comment_id":71117397,"body_markdown":"I needed to to do `java -classpath . HelloWorld`","body":"I needed to to do <code>java -classpath . HelloWorld</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1504847356,"post_id":23781433,"comment_id":79180538,"body_markdown":"@Jim - did you read my comment?  If this doesn&#39;t work, then one or more of the preconditions is not satisfied.  Look at the top-voted answer.","body":"@Jim - did you read my comment?  If this doesn&#39;t work, then one or more of the preconditions is not satisfied.  Look at the top-voted answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1504847439,"post_id":23781433,"comment_id":79180559,"body_markdown":"@ChrisPrince - Yes ... that works ... sometimes.  To understand when it works, and when it doesn&#39;t work, read the top-voted answer.","body":"@ChrisPrince - Yes ... that works ... sometimes.  To understand when it works, and when it doesn&#39;t work, read the top-voted answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1504847507,"post_id":23781433,"comment_id":79180582,"body_markdown":"@BMaximus - That is only an option if you have an executable JAR file ...","body":"@BMaximus - That is only an option if you have an executable JAR file ..."},{"owner":{"account_id":22082101,"reputation":304,"user_id":17510144,"display_name":"Shubham Singhvi"},"score":0,"creation_date":1639506375,"post_id":23781433,"comment_id":124364363,"body_markdown":"How to run using `java &lt;Filename&gt;` @ChrisPrince","body":"How to run using <code>java &lt;Filename&gt;</code> @ChrisPrince"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659577050,"post_id":23781433,"comment_id":129329592,"body_markdown":"@ShubhamSinghvi - See &quot;Alternative syntaxes for java: #3&quot;.  (Java 11 onwards).  The filename is a source code filename; i.e. a &quot;.java&quot; file.  (You can&#39;t do that with a &quot;.class&quot; file ...)","body":"@ShubhamSinghvi - See &quot;Alternative syntaxes for java: #3&quot;.  (Java 11 onwards).  The filename is a source code filename; i.e. a &quot;.java&quot; file.  (You can&#39;t do that with a &quot;.class&quot; file ...)"}],"tags":[],"owner":{"account_id":4165150,"reputation":3628,"user_id":3414257,"accept_rate":80,"display_name":"panoet"},"comment_count":10,"down_vote_count":4,"up_vote_count":305,"is_accepted":false,"score":301,"last_activity_date":1504533984,"creation_date":1400670395,"answer_id":23781433,"question_id":18093928,"body_markdown":"If your source code name is HelloWorld.java, your compiled code will be `HelloWorld.class`.\r\n\r\nYou will get that error if you call it using:\r\n\r\n    java HelloWorld.class\r\n\r\nInstead, use this:\r\n\r\n    java HelloWorld\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>If your source code name is HelloWorld.java, your compiled code will be <code>HelloWorld.class</code>.</p>\n\n<p>You will get that error if you call it using:</p>\n\n<pre><code>java HelloWorld.class\n</code></pre>\n\n<p>Instead, use this:</p>\n\n<pre><code>java HelloWorld\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1952238,"reputation":1079,"user_id":1756090,"accept_rate":54,"display_name":"gone"},"score":3,"creation_date":1412086916,"post_id":24529636,"comment_id":40942427,"body_markdown":"In Ubuntu, I also had to specify the path.\nDon&#39;t understand why it can&#39;t use the Current Working Directory by default.\nI&#39;m convinced that Java is sponsored by Keyboard manufacturers!!","body":"In Ubuntu, I also had to specify the path. Don&#39;t understand why it can&#39;t use the Current Working Directory by default. I&#39;m convinced that Java is sponsored by Keyboard manufacturers!!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1435656253,"post_id":24529636,"comment_id":50279581,"body_markdown":"@gone - The reason that &quot;.&quot; is not in $PATH by default is that it is a security trap.  http://www.seas.upenn.edu/cets/answers/dot-path.html","body":"@gone - The reason that &quot;.&quot; is not in $PATH by default is that it is a security trap.  <a href=\"http://www.seas.upenn.edu/cets/answers/dot-path.html\" rel=\"nofollow noreferrer\">seas.upenn.edu/cets/answers/dot-path.html</a>"},{"owner":{"account_id":2765276,"reputation":891,"user_id":2381154,"accept_rate":40,"display_name":"akash89"},"score":0,"creation_date":1441126723,"post_id":24529636,"comment_id":52548417,"body_markdown":"Thanks a lot for this......even though not sure why java was not being able to find out the classpath even after setting it in environment variables.","body":"Thanks a lot for this......even though not sure why java was not being able to find out the classpath even after setting it in environment variables."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1458047687,"post_id":24529636,"comment_id":59676064,"body_markdown":"@akash89 - The most likely reasons were: 1) `java` wasn&#39;t looking at $CLASSPATH (because you used -classpath or -jar) or 2) the classpath setting was not set in the environment that was not *in effect* in the context that `java` was run; e.g. because you didn&#39;t &quot;source&quot; the file where added the setenv commands in the right shell.","body":"@akash89 - The most likely reasons were: 1) <code>java</code> wasn&#39;t looking at $CLASSPATH (because you used -classpath or -jar) or 2) the classpath setting was not set in the environment that was not <i>in effect</i> in the context that <code>java</code> was run; e.g. because you didn&#39;t &quot;source&quot; the file where added the setenv commands in the right shell."},{"owner":{"account_id":94477,"reputation":1853,"user_id":257939,"accept_rate":90,"display_name":"Alaa Jabre"},"score":0,"creation_date":1495970052,"post_id":24529636,"comment_id":75463269,"body_markdown":"I still got \nError: Could not find or load main class Temp\ncould anybody help!","body":"I still got  Error: Could not find or load main class Temp could anybody help!"},{"owner":{"account_id":774143,"reputation":5589,"user_id":819887,"accept_rate":80,"display_name":"surfmuggle"},"score":0,"creation_date":1620166310,"post_id":24529636,"comment_id":119120056,"body_markdown":"Under windows using `classpath` like this `java -classpath c:\\folder\\subfoler\\myCodeFolder Main` worked for me as well to run `Main.class`.","body":"Under windows using <code>classpath</code> like this <code>java -classpath c:\\folder\\subfoler\\myCodeFolder Main</code> worked for me as well to run <code>Main.class</code>."}],"tags":[],"owner":{"account_id":1807234,"reputation":1381,"user_id":1644096,"accept_rate":100,"display_name":"Celebes"},"comment_count":6,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1643827615,"creation_date":1404299505,"answer_id":24529636,"question_id":18093928,"body_markdown":"Specifying the classpath on the command line helped me. For example:\r\n\r\n1. Create a new folder, `C:\\temp`\r\n\r\n2. Create file Temp.java in `C:\\temp`, with the following class in it:\r\n\r\n        public class Temp {\r\n            public static void main(String args[]) {\r\n                System.out.println(args[0]);\r\n            }\r\n        }\r\n\r\n3. Open a command line in folder `C:\\temp`, and write the following command to compile the Temp class:\r\n\r\n        javac Temp.java\r\n\r\n4. Run the compiled Java class, adding the `-classpath` option to let JRE know where to find the class:\r\n\r\n        java -classpath C:\\temp Temp Hello!\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Specifying the classpath on the command line helped me. For example:</p>\n<ol>\n<li><p>Create a new folder, <code>C:\\temp</code></p>\n</li>\n<li><p>Create file Temp.java in <code>C:\\temp</code>, with the following class in it:</p>\n<pre><code> public class Temp {\n     public static void main(String args[]) {\n         System.out.println(args[0]);\n     }\n }\n</code></pre>\n</li>\n<li><p>Open a command line in folder <code>C:\\temp</code>, and write the following command to compile the Temp class:</p>\n<pre><code> javac Temp.java\n</code></pre>\n</li>\n<li><p>Run the compiled Java class, adding the <code>-classpath</code> option to let JRE know where to find the class:</p>\n<pre><code> java -classpath C:\\temp Temp Hello!\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1414415796,"post_id":26587225,"comment_id":41791692,"body_markdown":"See &quot;Additional Notes #1&quot; of my Answer.  For a better explanation of this problem.","body":"See &quot;Additional Notes #1&quot; of my Answer.  For a better explanation of this problem."},{"owner":{"account_id":118457,"reputation":2860,"user_id":309502,"accept_rate":91,"display_name":"kmort"},"score":17,"creation_date":1414609378,"post_id":26587225,"comment_id":41884215,"body_markdown":"@StephenC Yes, your answer is more complete (and of course, +1), but this particular answer had the word &quot;package&quot; in it, which allowed me to find what I needed fast. And it worked. So +1 Razavi. StephenC, yours lacks the simple package example I needed as I am new to Java.","body":"@StephenC Yes, your answer is more complete (and of course, +1), but this particular answer had the word &quot;package&quot; in it, which allowed me to find what I needed fast. And it worked. So +1 Razavi. StephenC, yours lacks the simple package example I needed as I am new to Java."},{"owner":{"account_id":236419,"reputation":126,"user_id":503894,"display_name":"John"},"score":7,"creation_date":1426619127,"post_id":26587225,"comment_id":46444855,"body_markdown":"This was exactly my problem. I have been wading through tons of Java doc and this concrete example is what I needed","body":"This was exactly my problem. I have been wading through tons of Java doc and this concrete example is what I needed"},{"owner":{"account_id":296370,"reputation":3367,"user_id":601288,"accept_rate":89,"display_name":"M-Razavi"},"score":0,"creation_date":1438586390,"post_id":26587225,"comment_id":51492413,"body_markdown":"Its better to make &#39;Runnable JAR File&#39; to execute class file.","body":"Its better to make &#39;Runnable JAR File&#39; to execute class file."},{"owner":{"display_name":"user1300214"},"score":1,"creation_date":1525849886,"post_id":26587225,"comment_id":87512266,"body_markdown":"Yes, concrete example is nice, this worked perfectly. I&#39;m sure the main answer is very thorough, but it was difficult to see the tree for the forest. Nice one @Razavi","body":"Yes, concrete example is nice, this worked perfectly. I&#39;m sure the main answer is very thorough, but it was difficult to see the tree for the forest. Nice one @Razavi"},{"owner":{"account_id":5592234,"reputation":4576,"user_id":4431053,"display_name":"Mohsen"},"score":1,"creation_date":1555615757,"post_id":26587225,"comment_id":98181720,"body_markdown":"I like this shorter and useful answer instead of accepted one!","body":"I like this shorter and useful answer instead of accepted one!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1669535813,"post_id":26587225,"comment_id":131659800,"body_markdown":"Feel free to upvote answers that you like.  That is the *recommended* way to express your preferences ... and the way that actually affects the ranking of the answers.","body":"Feel free to upvote answers that you like.  That is the <i>recommended</i> way to express your preferences ... and the way that actually affects the ranking of the answers."}],"tags":[],"owner":{"account_id":296370,"reputation":3367,"user_id":601288,"accept_rate":89,"display_name":"M-Razavi"},"comment_count":7,"down_vote_count":3,"up_vote_count":119,"is_accepted":false,"score":116,"last_activity_date":1643880230,"creation_date":1414411652,"answer_id":26587225,"question_id":18093928,"body_markdown":"With keyword &#39;package&#39;\r\n------------\r\n\r\n**If you have a `package` keyword in your source code (the main class is defined in a package)**, you should run it over the hierarchical directory, using the full name of the class (`packageName.MainClassName`).\r\n\r\nAssume there is a source code file (Main.java):\r\n\r\n    package com.test;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;salam 2nya\\n&quot;);\r\n        }\r\n    }\r\n\r\nFor running this code, you should place `Main.Class` in the package like directory:\r\n\r\n&gt; C:\\Users\\workspace\\testapp\\com\\test\\Main.Java\r\n\r\nThen change the current directory of the terminal to the root directory of the project:\r\n\r\n    cd C:\\Users\\workspace\\testapp\r\n\r\nAnd finally, run the code:\r\n\r\n    java com.test.Main\r\n\r\n---------\r\n\r\nWithout keyword &#39;package&#39;\r\n---------------\r\n\r\nIf you don&#39;t have any package on your source code name maybe you are wrong with the wrong command. Assume that your Java file name is `Main.java`, after compile:\r\n\r\n    javac Main.java\r\n\r\nyour compiled code will be `Main.class`\r\n\r\nYou will get that error if you call it using:\r\n\r\n    java Main.class\r\n\r\nInstead, use this:\r\n\r\n    java Main\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<h2>With keyword 'package'</h2>\n<p><strong>If you have a <code>package</code> keyword in your source code (the main class is defined in a package)</strong>, you should run it over the hierarchical directory, using the full name of the class (<code>packageName.MainClassName</code>).</p>\n<p>Assume there is a source code file (Main.java):</p>\n<pre><code>package com.test;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;salam 2nya\\n&quot;);\n    }\n}\n</code></pre>\n<p>For running this code, you should place <code>Main.Class</code> in the package like directory:</p>\n<blockquote>\n<p>C:\\Users\\workspace\\testapp\\com\\test\\Main.Java</p>\n</blockquote>\n<p>Then change the current directory of the terminal to the root directory of the project:</p>\n<pre><code>cd C:\\Users\\workspace\\testapp\n</code></pre>\n<p>And finally, run the code:</p>\n<pre><code>java com.test.Main\n</code></pre>\n<hr />\n<h2>Without keyword 'package'</h2>\n<p>If you don't have any package on your source code name maybe you are wrong with the wrong command. Assume that your Java file name is <code>Main.java</code>, after compile:</p>\n<pre><code>javac Main.java\n</code></pre>\n<p>your compiled code will be <code>Main.class</code></p>\n<p>You will get that error if you call it using:</p>\n<pre><code>java Main.class\n</code></pre>\n<p>Instead, use this:</p>\n<pre><code>java Main\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1425626831,"post_id":28891834,"comment_id":46048213,"body_markdown":"This answer makes a whole load of assumptions.  And there are other ways to achieve this.  Instead of blindly following the above advice, I would recommend that people take the time to read the links in my Answer that explain how the Java classpath works.  It is better to UNDERSTAND what you are doing ...","body":"This answer makes a whole load of assumptions.  And there are other ways to achieve this.  Instead of blindly following the above advice, I would recommend that people take the time to read the links in my Answer that explain how the Java classpath works.  It is better to UNDERSTAND what you are doing ..."},{"owner":{"account_id":7205310,"reputation":1031,"user_id":5501124,"accept_rate":67,"display_name":"Nick Constantine"},"score":5,"creation_date":1555206272,"post_id":28891834,"comment_id":98028803,"body_markdown":"This answer makes the exact assumptions that I needed :) I was located in the directory of the .class file and java.exe wasn&#39;t working. Once I cd-ed above and ran with the package name included in the command line it worked.","body":"This answer makes the exact assumptions that I needed :) I was located in the directory of the .class file and java.exe wasn&#39;t working. Once I cd-ed above and ran with the package name included in the command line it worked."},{"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"score":2,"creation_date":1597961952,"post_id":28891834,"comment_id":112311445,"body_markdown":"I agree with Nick Constantine. Same here.  It was an exact example that followed the steps I made, and it worked for me too. The java classpath handling has a certain logic, but I sure wouldn&#39;t have designed it that way.","body":"I agree with Nick Constantine. Same here.  It was an exact example that followed the steps I made, and it worked for me too. The java classpath handling has a certain logic, but I sure wouldn&#39;t have designed it that way."},{"owner":{"account_id":1669453,"reputation":2017,"user_id":1536197,"accept_rate":21,"display_name":"Hernaldo Gonzalez"},"score":0,"creation_date":1632151571,"post_id":28891834,"comment_id":122410051,"body_markdown":"Tnanks, your answer help me to look that i used Main with Uppercase *_*!","body":"Tnanks, your answer help me to look that i used Main with Uppercase <i>_</i>!"},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1636987694,"post_id":28891834,"comment_id":123697507,"body_markdown":"I&#39;m writing this comment after trying this but it didn&#39;t work. I&#39;ve a project named Helloworld which consist only 1 java file, Helloworld/src/com/firstpackage/Test.java (windows 10. intellij idea). **I don&#39;t** have CLASSPATH environmental variable, i want to set classpath specifically for this project. running `java com.firstpackage.Test` inside Helloworld directory doesn&#39;t work and neither does the command `java -classpath C:\\Users\\matuagkeetarp\\IdeaProjects\\Helloworld\\src\\com\\first‌​package Test.java` set classpath variable. Can you help?","body":"I&#39;m writing this comment after trying this but it didn&#39;t work. I&#39;ve a project named Helloworld which consist only 1 java file, Helloworld/src/com/firstpackage/Test.java (windows 10. intellij idea). <b>I don&#39;t</b> have CLASSPATH environmental variable, i want to set classpath specifically for this project. running <code>java com.firstpackage.Test</code> inside Helloworld directory doesn&#39;t work and neither does the command <code>java -classpath C:\\Users\\matuagkeetarp\\IdeaProjects\\Helloworld\\src\\com\\first&zwnj;&#8203;‌​package Test.java</code> set classpath variable. Can you help?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1669535930,"post_id":28891834,"comment_id":131659814,"body_markdown":"@PrateekGautam - You probably need to read the comprehensive answer above.  (And thanks for demonstrating my point :-) )","body":"@PrateekGautam - You probably need to read the comprehensive answer above.  (And thanks for demonstrating my point :-) )"}],"tags":[],"owner":{"account_id":3911684,"reputation":2653,"user_id":3236818,"accept_rate":50,"display_name":"tharinduwijewardane"},"comment_count":6,"down_vote_count":2,"up_vote_count":179,"is_accepted":false,"score":177,"last_activity_date":1643830393,"creation_date":1425612027,"answer_id":28891834,"question_id":18093928,"body_markdown":"**If your classes are in packages** then you have to `cd` to the root directory of your project and run using the fully qualified name of the class (packageName.MainClassName).\r\n\r\nExample:\r\n\r\nMy classes are in here:\r\n\r\n    D:\\project\\com\\cse\\\r\n\r\nThe fully qualified name of my main class is:\r\n\r\n    com.cse.Main\r\n\r\nSo I `cd` back to the root project directory:\r\n\r\n    D:\\project\r\n\r\nThen issue the `java` command:\r\n\r\n    java com.cse.Main\r\n\r\n&lt;sub&gt;This answer is for rescuing newbie Java programmers from the frustration caused by a common mistake. I recommend you read the accepted answer for more in depth knowledge about the Java classpath.&lt;/sub&gt;\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p><strong>If your classes are in packages</strong> then you have to <code>cd</code> to the root directory of your project and run using the fully qualified name of the class (packageName.MainClassName).</p>\n<p>Example:</p>\n<p>My classes are in here:</p>\n<pre><code>D:\\project\\com\\cse\\\n</code></pre>\n<p>The fully qualified name of my main class is:</p>\n<pre><code>com.cse.Main\n</code></pre>\n<p>So I <code>cd</code> back to the root project directory:</p>\n<pre><code>D:\\project\n</code></pre>\n<p>Then issue the <code>java</code> command:</p>\n<pre><code>java com.cse.Main\n</code></pre>\n<p><sub>This answer is for rescuing newbie Java programmers from the frustration caused by a common mistake. I recommend you read the accepted answer for more in depth knowledge about the Java classpath.</sub></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1435655937,"post_id":31132651,"comment_id":50279358,"body_markdown":"Wow!  That is a totally bizarre cause!  (But it serves you right for using Notepad instead of a real text editor :-) )","body":"Wow!  That is a totally bizarre cause!  (But it serves you right for using Notepad instead of a real text editor :-) )"}],"tags":[],"owner":{"account_id":4072081,"reputation":429,"user_id":3344751,"accept_rate":75,"display_name":"Nathan Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484412934,"creation_date":1435651004,"answer_id":31132651,"question_id":18093928,"body_markdown":"In this instance you have:\r\n\r\n&gt; Could not find or load main class **?classpath**\r\n\r\nIt&#39;s because you are using &quot;-classpath&quot;, but the dash is not the same dash used by `java` on the command prompt. I had this issue copying and pasting from [Notepad][1] to cmd.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Notepad_%28software%29\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In this instance you have:</p>\n\n<blockquote>\n  <p>Could not find or load main class <strong>?classpath</strong></p>\n</blockquote>\n\n<p>It's because you are using \"-classpath\", but the dash is not the same dash used by <code>java</code> on the command prompt. I had this issue copying and pasting from <a href=\"http://en.wikipedia.org/wiki/Notepad_%28software%29\" rel=\"noreferrer\">Notepad</a> to cmd.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1440224421,"post_id":32134203,"comment_id":52194712,"body_markdown":"This is not a good recommendation.  You are depending on the CLASSPATH environment variable being unset, or having a value that is consistent with &quot;.&quot;.  Yes, it works in many cases, but it won&#39;t in others.","body":"This is not a good recommendation.  You are depending on the CLASSPATH environment variable being unset, or having a value that is consistent with &quot;.&quot;.  Yes, it works in many cases, but it won&#39;t in others."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1440238540,"post_id":32134203,"comment_id":52198094,"body_markdown":"Well certainly `javac -classpath . HelloWorld.java` would have worked!  And that is a better solution in your case.","body":"Well certainly <code>javac -classpath . HelloWorld.java</code> would have worked!  And that is a better solution in your case."},{"owner":{"account_id":6876934,"reputation":12193,"user_id":5285068,"accept_rate":35,"display_name":"Joe"},"score":2,"creation_date":1520885168,"post_id":32134203,"comment_id":85490981,"body_markdown":"If you have &#39;package com.some.address&#39; as a first line - this will not work. You will need to comment out &#39;package address&#39;..","body":"If you have &#39;package com.some.address&#39; as a first line - this will not work. You will need to comment out &#39;package address&#39;.."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1556246447,"post_id":32134203,"comment_id":98380972,"body_markdown":"@Joe - That hack (commenting out the package) will work (in some cases) but it is a bad idea.  A better idea is to learn / understand what caused the problem and implement the correct solution.","body":"@Joe - That hack (commenting out the package) will work (in some cases) but it is a bad idea.  A better idea is to learn / understand what caused the problem and implement the correct solution."},{"owner":{"account_id":14728175,"reputation":791,"user_id":10636400,"display_name":"Amila Weerasinghe"},"score":0,"creation_date":1607671983,"post_id":32134203,"comment_id":115350733,"body_markdown":"unsetting the classpath variable basically worked for me.","body":"unsetting the classpath variable basically worked for me."},{"owner":{"account_id":22082101,"reputation":304,"user_id":17510144,"display_name":"Shubham Singhvi"},"score":0,"creation_date":1639506189,"post_id":32134203,"comment_id":124364301,"body_markdown":"I have set the environment path properly but still `java &lt;Filename&gt;` shows error and `java -cp . &lt;Filename&gt;` does not. How to make `java &lt;Filename&gt;` runtime successfull? @StephenC","body":"I have set the environment path properly but still <code>java &lt;Filename&gt;</code> shows error and <code>java -cp . &lt;Filename&gt;</code> does not. How to make <code>java &lt;Filename&gt;</code> runtime successfull? @StephenC"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1639521498,"post_id":32134203,"comment_id":124368966,"body_markdown":"@ShubhamSinghvi - What does `echo $CLASSPATH` say?  (Or `echo %CLASSPATH%` on Windows.)","body":"@ShubhamSinghvi - What does <code>echo $CLASSPATH</code> say?  (Or <code>echo %CLASSPATH%</code> on Windows.)"},{"owner":{"account_id":22082101,"reputation":304,"user_id":17510144,"display_name":"Shubham Singhvi"},"score":0,"creation_date":1639552616,"post_id":32134203,"comment_id":124374896,"body_markdown":"`C:\\Program Files\\Java\\jdk-17.0.1\\bin;C:\\Program Files (x86)\\MySQL\\mysql-connector-java-8.0.27\\mysql-connector-java-8.0.27.jar;` I reopened the cmd after changing the classpath and now it works. Thanks for your effort !","body":"<code>C:\\Program Files\\Java\\jdk-17.0.1\\bin;C:\\Program Files (x86)\\MySQL\\mysql-connector-java-8.0.27\\mysql-connector-java&zwnj;&#8203;-8.0.27.jar;</code> I reopened the cmd after changing the classpath and now it works. Thanks for your effort !"}],"tags":[],"owner":{"account_id":4356593,"reputation":5306,"user_id":3555000,"accept_rate":68,"display_name":"Enamul Hassan"},"comment_count":8,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1484413012,"creation_date":1440140301,"answer_id":32134203,"question_id":18093928,"body_markdown":"When the same code works on one PC, but it shows the error in another, the best solution I have ever found is compiling like the following:\r\n\r\n    javac HelloWorld.java\r\n    java -cp . HelloWorld\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>When the same code works on one PC, but it shows the error in another, the best solution I have ever found is compiling like the following:</p>\n\n<pre><code>javac HelloWorld.java\njava -cp . HelloWorld\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1441179882,"post_id":32345614,"comment_id":52568326,"body_markdown":"I&#39;ve updated my answer to try to address that confusion.","body":"I&#39;ve updated my answer to try to address that confusion."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1517991327,"post_id":32345614,"comment_id":84315234,"body_markdown":"Neither of these is correct. The class must be given as `utilities.myapp.Cool` or whatever its package name is, if any.","body":"Neither of these is correct. The class must be given as <code>utilities.myapp.Cool</code> or whatever its package name is, if any."}],"tags":[],"owner":{"account_id":3744260,"reputation":365,"user_id":3113303,"display_name":"mathewbruens"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1643828143,"creation_date":1441173507,"answer_id":32345614,"question_id":18093928,"body_markdown":"I thought that I was somehow setting my classpath incorrectly, but the problem was that I typed:  \r\n\r\n    java -cp C:/java/MyClasses C:/java/MyClasses/utilities/myapp/Cool  \r\n\r\ninstead of:   \r\n\r\n    java -cp C:/java/MyClasses utilities/myapp/Cool   \r\n\r\nI thought the meaning of fully qualified meant to include the full path name instead of the full package name.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I thought that I was somehow setting my classpath incorrectly, but the problem was that I typed:</p>\n<pre><code>java -cp C:/java/MyClasses C:/java/MyClasses/utilities/myapp/Cool  \n</code></pre>\n<p>instead of:</p>\n<pre><code>java -cp C:/java/MyClasses utilities/myapp/Cool   \n</code></pre>\n<p>I thought the meaning of fully qualified meant to include the full path name instead of the full package name.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1442454285,"post_id":32621286,"comment_id":53092945,"body_markdown":"&quot;Basically&quot; there are lots of other categories too.  And the missing superclass problem is a very unusual subcase.  (So unusual that I&#39;ve never seen it ... in questions asked on this site.)","body":"&quot;Basically&quot; there are lots of other categories too.  And the missing superclass problem is a very unusual subcase.  (So unusual that I&#39;ve never seen it ... in questions asked on this site.)"},{"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"score":0,"creation_date":1442454933,"post_id":32621286,"comment_id":53093091,"body_markdown":"There are TWO because the error says &quot;Could not FIND or LOAD main class&quot;. If there are other categories, please advise me. I&#39;ve seen it, so just want to share it here maybe someone else will need it.","body":"There are TWO because the error says &quot;Could not FIND or LOAD main class&quot;. If there are other categories, please advise me. I&#39;ve seen it, so just want to share it here maybe someone else will need it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1442457731,"post_id":32621286,"comment_id":53093737,"body_markdown":"Yes.  I realize that.  But have you read my answer?  Doesn&#39;t it cover all of the cases that you mentioned?  Really my point is that your answer is adding nothing new ... and since it is leaving out all of the many other causes, it is actually going to be a hinderance to a lot of readers.","body":"Yes.  I realize that.  But have you read my answer?  Doesn&#39;t it cover all of the cases that you mentioned?  Really my point is that your answer is adding nothing new ... and since it is leaving out all of the many other causes, it is actually going to be a hinderance to a lot of readers."},{"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"score":0,"creation_date":1442461167,"post_id":32621286,"comment_id":53094532,"body_markdown":"Your answer is good. I read it and am going to read the references. Thanks! It covers the first point pretty well. When it comes to the second point, I think it is not quite right (very happy if I am wrong instead). In your answer you said &quot;The classpath needs to include all of the other (non-system) classes&quot;. Actually to avoid the error it is not necessary. There will be other errors and exceptions (NullPionter for example) but you will not see &quot;Coud not find or load main class&quot; as long as main class is found and loaded.","body":"Your answer is good. I read it and am going to read the references. Thanks! It covers the first point pretty well. When it comes to the second point, I think it is not quite right (very happy if I am wrong instead). In your answer you said &quot;The classpath needs to include all of the other (non-system) classes&quot;. Actually to avoid the error it is not necessary. There will be other errors and exceptions (NullPionter for example) but you will not see &quot;Coud not find or load main class&quot; as long as main class is found and loaded."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1442464221,"post_id":32621286,"comment_id":53095264,"body_markdown":"There are definitely scenarios where a missing class will result in a different exception.  However, I believe that you will get that exception if any missing class causes the main class to fail to load.  Not just a missing superclass.  It could be any type that is mentioned by the class that you are loading ... or any of its super classes / interfaces.","body":"There are definitely scenarios where a missing class will result in a different exception.  However, I believe that you will get that exception if any missing class causes the main class to fail to load.  Not just a missing superclass.  It could be any type that is mentioned by the class that you are loading ... or any of its super classes / interfaces."},{"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"score":0,"creation_date":1442465663,"post_id":32621286,"comment_id":53095692,"body_markdown":"I meant in some (most) cases you don&#39;t see THIS error when dependencies are not provided in classpath. Maybe you want to revise &quot;The classpath needs to include all of the other classes&quot;. Completely up to you. Not offending.","body":"I meant in some (most) cases you don&#39;t see THIS error when dependencies are not provided in classpath. Maybe you want to revise &quot;The classpath needs to include all of the other classes&quot;. Completely up to you. Not offending."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1442474807,"post_id":32621286,"comment_id":53099320,"body_markdown":"But the fact remains that the classpath DOES need to include all of the other classes.  The statement is true, and you have not convinced me that there is any value in revising it.  (Indeed, if you think about it, if I revised it to say something like &quot;You don&#39;t need &gt;&gt;all&lt;&lt; of the classes on the classpath to avoid this particular error but you will get different errors in some cases so you had better put them on anyway.&quot; ... then the *typical* reader of this answer is likely to get even more confused than he/she already is.)","body":"But the fact remains that the classpath DOES need to include all of the other classes.  The statement is true, and you have not convinced me that there is any value in revising it.  (Indeed, if you think about it, if I revised it to say something like &quot;You don&#39;t need &gt;&gt;all&lt;&lt; of the classes on the classpath to avoid this particular error but you will get different errors in some cases so you had better put them on anyway.&quot; ... then the <i>typical</i> reader of this answer is likely to get even more confused than he/she already is.)"},{"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"score":2,"creation_date":1442488075,"post_id":32621286,"comment_id":53106876,"body_markdown":"I would have revised it to something like &quot;You need to included all of the classes that is required to initiate the main class to avoid this particular error&quot;. I am not trying to convince you. It is just a way that I would like to see. I left the answer here just for people who might like reading things in this way. Let&#39;s not extend this discussion further :) I changed my statement to &quot;not fully discussed in the accepted answer&quot; and hope you feel better.","body":"I would have revised it to something like &quot;You need to included all of the classes that is required to initiate the main class to avoid this particular error&quot;. I am not trying to convince you. It is just a way that I would like to see. I left the answer here just for people who might like reading things in this way. Let&#39;s not extend this discussion further :) I changed my statement to &quot;not fully discussed in the accepted answer&quot; and hope you feel better."},{"owner":{"account_id":1252022,"reputation":19996,"user_id":6730571,"display_name":"Hugues M."},"score":6,"creation_date":1496237856,"post_id":32621286,"comment_id":75579412,"body_markdown":"This information is crucial and deserves an explicit mention (this is the only answer that mentions `extends`). I&#39;ve just learned the hard way that when main class fails to *load* because it extends another that could not be *found*, java **does not report which actual class was not found** (unlike `NoClassDefFoundError`). So yes it does happen, and it&#39;s a hair-pulling situation when you don&#39;t know this.","body":"This information is crucial and deserves an explicit mention (this is the only answer that mentions <code>extends</code>). I&#39;ve just learned the hard way that when main class fails to <i>load</i> because it extends another that could not be <i>found</i>, java <b>does not report which actual class was not found</b> (unlike <code>NoClassDefFoundError</code>). So yes it does happen, and it&#39;s a hair-pulling situation when you don&#39;t know this."},{"owner":{"account_id":17069,"reputation":6012,"user_id":37835,"accept_rate":88,"display_name":"Carlos A. Ibarra"},"score":1,"creation_date":1519997034,"post_id":32621286,"comment_id":85145060,"body_markdown":"In this situation is there any way to tell exactly which dependency class is failing to load?","body":"In this situation is there any way to tell exactly which dependency class is failing to load?"},{"owner":{"account_id":1620332,"reputation":1376,"user_id":1497060,"display_name":"Oleg Kurbatov"},"score":0,"creation_date":1542200287,"post_id":32621286,"comment_id":93482060,"body_markdown":"@carlos Using `-Xdiag` flag may give you a hint.","body":"@carlos Using <code>-Xdiag</code> flag may give you a hint."}],"tags":[],"owner":{"account_id":251649,"reputation":11484,"user_id":529187,"accept_rate":34,"display_name":"Devs love ZenUML"},"comment_count":11,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1643828192,"creation_date":1442453713,"answer_id":32621286,"question_id":18093928,"body_markdown":"According to the error message (&quot;Could not find or load main class&quot;), there are two categories of problems:\r\n\r\n 1. The Main class could not be **found**\r\n 2. The Main class could not be **loaded** (this case is not fully discussed in the accepted answer)\r\n\r\nThe Main class could not be **found** when there is **a typo or wrong syntax in the fully qualified class name** or it **does not exist in the provided classpath**.\r\n\r\nThe Main class could not be **loaded** when **the class cannot be initiated**. Typically the main class extends another class and that class does not exist in the provided classpath.\r\n\r\nFor example:\r\n\r\n```lang-java\r\npublic class YourMain extends org.apache.camel.spring.Main\r\n```\r\n\r\nIf camel-spring is not included, this error will be reported.\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>According to the error message (&quot;Could not find or load main class&quot;), there are two categories of problems:</p>\n<ol>\n<li>The Main class could not be <strong>found</strong></li>\n<li>The Main class could not be <strong>loaded</strong> (this case is not fully discussed in the accepted answer)</li>\n</ol>\n<p>The Main class could not be <strong>found</strong> when there is <strong>a typo or wrong syntax in the fully qualified class name</strong> or it <strong>does not exist in the provided classpath</strong>.</p>\n<p>The Main class could not be <strong>loaded</strong> when <strong>the class cannot be initiated</strong>. Typically the main class extends another class and that class does not exist in the provided classpath.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourMain extends org.apache.camel.spring.Main\n</code></pre>\n<p>If camel-spring is not included, this error will be reported.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1442562803,"post_id":32643138,"comment_id":53140827,"body_markdown":"Did you read the accepted answer?  Does your answer add anything new?","body":"Did you read the accepted answer?  Does your answer add anything new?"},{"owner":{"account_id":2144311,"reputation":9891,"user_id":1902296,"accept_rate":35,"display_name":"humkins"},"score":2,"creation_date":1498133457,"post_id":32643138,"comment_id":76380794,"body_markdown":"@StephenC I&#39;ve tried to find a reason in your list by looking at &quot;Reason&quot; categories and their points. I couldn&#39;t find the matching point in &quot;Reason #1&quot; and &quot;Reason #2&quot; title didn&#39;t look close to my case (because I was sure there is no problem with classpath itself). I&#39;ve found the reason by performing experiments and I was surprised that in my case &quot;main class not found&quot; error was shown because implementing interface was not on the class path. Sure you can say &quot;you should read everything described in the post&quot; but it seems to me your reason list can be improved.","body":"@StephenC I&#39;ve tried to find a reason in your list by looking at &quot;Reason&quot; categories and their points. I couldn&#39;t find the matching point in &quot;Reason #1&quot; and &quot;Reason #2&quot; title didn&#39;t look close to my case (because I was sure there is no problem with classpath itself). I&#39;ve found the reason by performing experiments and I was surprised that in my case &quot;main class not found&quot; error was shown because implementing interface was not on the class path. Sure you can say &quot;you should read everything described in the post&quot; but it seems to me your reason list can be improved."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1643828531,"post_id":32643138,"comment_id":125445652,"body_markdown":"The link is broken: *&quot;Hmm. We’re having trouble finding that site. We can’t connect to the server at www.computingnotes.net.&quot;*","body":"The link is broken: <i>&quot;Hmm. We’re having trouble finding that site. We can’t connect to the server at www.computingnotes.net.&quot;</i>"}],"tags":[],"owner":{"account_id":6929555,"reputation":79,"user_id":5319459,"display_name":"Anandaraja Ravi"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1643828512,"creation_date":1442545261,"answer_id":32643138,"question_id":18093928,"body_markdown":"In Java, when you sometimes run the JVM from the command line using the Java interpreter executable and are trying to start a program from a class file with `public static void main` (PSVM), you might run into the below error even though the classpath parameter to the JVM is accurate and the class file is present on the classpath:\r\n\r\n&gt; Error: main class not found or loaded\r\n\r\nThis happens if the class file with PSVM could not be loaded. One possible reason for that is that the class may be implementing an interface or extending another class that is not on the classpath. Normally if a class is not on the classpath, the error thrown indicates as such. But, if the class in use is extended or implemented, Java is unable to load the class itself.\r\n\r\nReference: https://www.computingnotes.net/java/error-main-class-not-found-or-loaded/\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In Java, when you sometimes run the JVM from the command line using the Java interpreter executable and are trying to start a program from a class file with <code>public static void main</code> (PSVM), you might run into the below error even though the classpath parameter to the JVM is accurate and the class file is present on the classpath:</p>\n<blockquote>\n<p>Error: main class not found or loaded</p>\n</blockquote>\n<p>This happens if the class file with PSVM could not be loaded. One possible reason for that is that the class may be implementing an interface or extending another class that is not on the classpath. Normally if a class is not on the classpath, the error thrown indicates as such. But, if the class in use is extended or implemented, Java is unable to load the class itself.</p>\n<p>Reference: <a href=\"https://www.computingnotes.net/java/error-main-class-not-found-or-loaded/\" rel=\"nofollow noreferrer\">https://www.computingnotes.net/java/error-main-class-not-found-or-loaded/</a></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1446954073,"post_id":33323463,"comment_id":54956723,"body_markdown":"This advice may or may not help.  It will help if the class tree containing the classes in the current directory.  It won&#39;t if they are not.  I actually wouldn&#39;t do this.  Instead I would create a one-liner wrapper script that worked whether or not the user is in the &quot;right&quot; directory.","body":"This advice may or may not help.  It will help if the class tree containing the classes in the current directory.  It won&#39;t if they are not.  I actually wouldn&#39;t do this.  Instead I would create a one-liner wrapper script that worked whether or not the user is in the &quot;right&quot; directory."}],"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1484939553,"creation_date":1445721497,"answer_id":33323463,"question_id":18093928,"body_markdown":"On Windows put `.;` at the CLASSPATH value in the beginning.\r\n\r\nThe . (dot) means &quot;look in the current directory&quot;. This is a permanent solution.\r\n\r\nAlso you can set it &quot;one time&quot; with set `CLASSPATH=%CLASSPATH%;.`. This will last as long as your cmd window is open.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>On Windows put <code>.;</code> at the CLASSPATH value in the beginning.</p>\n\n<p>The . (dot) means \"look in the current directory\". This is a permanent solution.</p>\n\n<p>Also you can set it \"one time\" with set <code>CLASSPATH=%CLASSPATH%;.</code>. This will last as long as your cmd window is open.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1643828623,"post_id":34269156,"comment_id":125445691,"body_markdown":"What is &#39;mvn&#39; supposed to do? Related to [Maven](https://en.wikipedia.org/wiki/Apache_Maven)?","body":"What is &#39;mvn&#39; supposed to do? Related to <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a>?"}],"tags":[],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643828653,"creation_date":1450102467,"answer_id":34269156,"question_id":18093928,"body_markdown":"I got this error after doing `mvn eclipse:eclipse`. This messed up my `.classpath` file a little bit.\r\n\r\nI had to change the lines in `.classpath` from\r\n\r\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/java&quot; including=&quot;**/*.java&quot;/&gt;\r\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/resources&quot; excluding=&quot;**/*.java&quot;/&gt;\r\n\r\nto \r\n\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/java&quot; output=&quot;target/classes&quot; /&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/resources&quot; excluding=&quot;**&quot;  output=&quot;target/classes&quot; /&gt;","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I got this error after doing <code>mvn eclipse:eclipse</code>. This messed up my <code>.classpath</code> file a little bit.</p>\n<p>I had to change the lines in <code>.classpath</code> from</p>\n<pre><code>&lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/java&quot; including=&quot;**/*.java&quot;/&gt;\n&lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/resources&quot; excluding=&quot;**/*.java&quot;/&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/java&quot; output=&quot;target/classes&quot; /&gt;\n&lt;classpathentry kind=&quot;src&quot; path=&quot;src/main/resources&quot; excluding=&quot;**&quot;  output=&quot;target/classes&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643828828,"creation_date":1451175976,"answer_id":34476542,"question_id":18093928,"body_markdown":"This is a specific case:\r\n\r\nWindows (tested with [Windows 7][1]) doesn&#39;t accept special characters (like `&#225;`) in class and package names. Linux does, though.\r\n\r\nI found this out when I built a `.jar` in [NetBeans][2] and tried to run it in command line. It ran in NetBeans, but not on the  command line.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Windows_7\r\n  [2]: https://en.wikipedia.org/wiki/NetBeans\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>This is a specific case:</p>\n<p>Windows (tested with <a href=\"https://en.wikipedia.org/wiki/Windows_7\" rel=\"nofollow noreferrer\">Windows 7</a>) doesn't accept special characters (like <code>á</code>) in class and package names. Linux does, though.</p>\n<p>I found this out when I built a <code>.jar</code> in <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a> and tried to run it in command line. It ran in NetBeans, but not on the  command line.</p>\n"},{"tags":[],"owner":{"account_id":934735,"reputation":23566,"user_id":963881,"accept_rate":83,"display_name":"syntagma"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1643828934,"creation_date":1452939991,"answer_id":34825877,"question_id":18093928,"body_markdown":"What fixed the problem in my case was:\r\n\r\nRight click on the project/class you want to run, and then *Run As* &amp;rarr; *Run Configurations*. Then you should either fix your existing configuration or add a new one in the following way:\r\n\r\nOpen the *Classpath* tab, click on the *Advanced...* button, and then add **`bin` folder** of your project.\r\n\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>What fixed the problem in my case was:</p>\n<p>Right click on the project/class you want to run, and then <em>Run As</em> → <em>Run Configurations</em>. Then you should either fix your existing configuration or add a new one in the following way:</p>\n<p>Open the <em>Classpath</em> tab, click on the <em>Advanced...</em> button, and then add <strong><code>bin</code> folder</strong> of your project.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1485560314,"post_id":37632877,"comment_id":70991895,"body_markdown":"Deleting `main` methods won&#39;t fix the problem.  There is nothing technically wrong with an application that has multiple entry points.","body":"Deleting <code>main</code> methods won&#39;t fix the problem.  There is nothing technically wrong with an application that has multiple entry points."}],"tags":[],"owner":{"account_id":4491344,"reputation":544,"user_id":3652368,"accept_rate":100,"display_name":"Anus Kaleem"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1484939769,"creation_date":1465059891,"answer_id":37632877,"question_id":18093928,"body_markdown":"I was unable to solve this problem with the solutions stated here (although the answer stated has, no doubt, cleared my concepts). I faced this problem two times and each time I have tried different solutions (in the Eclipse IDE).\r\n \r\n - Firstly, I have come across with multiple `main` methods in different classes of my project. So, I had deleted the `main` method from subsequent classes.\r\n - Secondly, I tried following solution:\r\n  1. Right click on my main project directory.\r\n  2. Head to source then clean up and stick with the default settings and on Finish. After some background tasks you will be directed to your main project directory. \r\n  3. After that I close my project, reopen it, and boom, I finally solved my problem.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I was unable to solve this problem with the solutions stated here (although the answer stated has, no doubt, cleared my concepts). I faced this problem two times and each time I have tried different solutions (in the Eclipse IDE).</p>\n\n<ul>\n<li>Firstly, I have come across with multiple <code>main</code> methods in different classes of my project. So, I had deleted the <code>main</code> method from subsequent classes.</li>\n<li>Secondly, I tried following solution:\n\n<ol>\n<li>Right click on my main project directory.</li>\n<li>Head to source then clean up and stick with the default settings and on Finish. After some background tasks you will be directed to your main project directory. </li>\n<li>After that I close my project, reopen it, and boom, I finally solved my problem.</li>\n</ol></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1469432332,"post_id":37833840,"comment_id":64514746,"body_markdown":"A class cannot be called &quot;CommandLine.class&quot;.  That would be a Java syntax error.  (What you mean is that the file containing the compiled class is called &quot;CommandLine.class&quot; ... ).  The other problem is that your instruction to &quot;cd to the source directory&quot; only works if you compiled the code &gt;&gt;into&lt;&lt; the source directory tree.  Finally, if your compile used a &quot;-cp&quot; argument, then you need an equivalent on when you run.","body":"A class cannot be called &quot;CommandLine.class&quot;.  That would be a Java syntax error.  (What you mean is that the file containing the compiled class is called &quot;CommandLine.class&quot; ... ).  The other problem is that your instruction to &quot;cd to the source directory&quot; only works if you compiled the code &gt;&gt;into&lt;&lt; the source directory tree.  Finally, if your compile used a &quot;-cp&quot; argument, then you need an equivalent on when you run."},{"owner":{"account_id":6300393,"reputation":5160,"user_id":5362826,"display_name":"tamj0rd2"},"score":0,"creation_date":1500640112,"post_id":37833840,"comment_id":77441094,"body_markdown":"In my project I have the src folder and bin folder at the root. I had to `cd` into `src` and then run the command `java ../bin com.blah.blah.MyClass` which worked for me. So thanks for the tip!","body":"In my project I have the src folder and bin folder at the root. I had to <code>cd</code> into <code>src</code> and then run the command <code>java ..&#47;bin com.blah.blah.MyClass</code> which worked for me. So thanks for the tip!"}],"tags":[],"owner":{"account_id":5481720,"reputation":2613,"user_id":4357947,"accept_rate":81,"display_name":"Marco V"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1643828985,"creation_date":1465989232,"answer_id":37833840,"question_id":18093928,"body_markdown":"You really need to do this from the `src` folder. There you type the following command line:\r\n\r\n```lang-none\r\n[name of the package].[Class Name] [arguments]\r\n```\r\n\r\nLet&#39;s say your class is called `CommandLine.class`, and the code looks like this:\r\n\r\n    package com.tutorialspoint.java;\r\n\r\n        /**\r\n         * Created by mda21185 on 15-6-2016.\r\n         */\r\n\r\n        public class CommandLine {\r\n            public static void main(String args[]){\r\n                for(int i=0; i&lt;args.length; i++){\r\n                    System.out.println(&quot;args[&quot; + i + &quot;]: &quot; + args[i]);\r\n                }\r\n            }\r\n        }\r\n\r\nThen you should `cd` to the src folder and the command you need to run would look like this:\r\n\r\n```lang-none\r\njava com.tutorialspoint.java.CommandLine this is a command line 200 -100\r\n```\r\n\r\nAnd the output on the command line would be:\r\n\r\n```lang-none\r\nargs[0]: this\r\nargs[1]: is\r\nargs[2]: a\r\nargs[3]: command\r\nargs[4]: line\r\nargs[5]: 200\r\nargs[6]: -100\r\n```\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>You really need to do this from the <code>src</code> folder. There you type the following command line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[name of the package].[Class Name] [arguments]\n</code></pre>\n<p>Let's say your class is called <code>CommandLine.class</code>, and the code looks like this:</p>\n<pre><code>package com.tutorialspoint.java;\n\n    /**\n     * Created by mda21185 on 15-6-2016.\n     */\n\n    public class CommandLine {\n        public static void main(String args[]){\n            for(int i=0; i&lt;args.length; i++){\n                System.out.println(&quot;args[&quot; + i + &quot;]: &quot; + args[i]);\n            }\n        }\n    }\n</code></pre>\n<p>Then you should <code>cd</code> to the src folder and the command you need to run would look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java com.tutorialspoint.java.CommandLine this is a command line 200 -100\n</code></pre>\n<p>And the output on the command line would be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>args[0]: this\nargs[1]: is\nargs[2]: a\nargs[3]: command\nargs[4]: line\nargs[5]: 200\nargs[6]: -100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1517959094,"creation_date":1472026406,"answer_id":39117892,"question_id":18093928,"body_markdown":"Try **-Xdiag**.\r\n\r\n[Steve C&#39;s answer][1] covers the possible cases nicely, but sometimes to determine whether the class could not be *found* or *loaded* might not be that easy. Use ``java -Xdiag`` (since JDK&amp;nbsp;7). This prints out a nice stacktrace which provides a hint to what the message ``Could not find or load main class`` message means.\r\n\r\nFor instance, it can point you to other classes used by the main class that could not be found and prevented the main class to be loaded.\r\n\r\n  [1]: https://stackoverflow.com/a/18093929/1026104\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Try <strong>-Xdiag</strong>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/18093929/1026104\">Steve C's answer</a> covers the possible cases nicely, but sometimes to determine whether the class could not be <em>found</em> or <em>loaded</em> might not be that easy. Use <code>java -Xdiag</code> (since JDK&nbsp;7). This prints out a nice stacktrace which provides a hint to what the message <code>Could not find or load main class</code> message means.</p>\n\n<p>For instance, it can point you to other classes used by the main class that could not be found and prevented the main class to be loaded.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1474531082,"post_id":39632977,"comment_id":66571293,"body_markdown":"Yes.  That&#39;s most likely because your `Main` is not in the JAR file. `-cp lib.jar;` means the same thing as `-cp lib.jar;.`  i.e. the current directory is included on the classpath.","body":"Yes.  That&#39;s most likely because your <code>Main</code> is not in the JAR file. <code>-cp lib.jar;</code> means the same thing as <code>-cp lib.jar;.</code>  i.e. the current directory is included on the classpath."},{"owner":{"account_id":3590110,"reputation":819,"user_id":2996372,"accept_rate":46,"display_name":"Vicky"},"score":1,"creation_date":1548308110,"post_id":39632977,"comment_id":95496170,"body_markdown":"Finally fixed the issue for unix .. thanks (works with :)","body":"Finally fixed the issue for unix .. thanks (works with :)"}],"tags":[],"owner":{"account_id":477825,"reputation":510,"user_id":889534,"display_name":"Yamahar1sp"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1491733852,"creation_date":1474529726,"answer_id":39632977,"question_id":18093928,"body_markdown":"I had such an error in this case:\r\n\r\n    java -cp lib.jar com.mypackage.Main\r\n\r\nIt works with `;` for Windows and `:` for Unix:\r\n\r\n    java -cp lib.jar; com.mypackage.Main\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I had such an error in this case:</p>\n\n<pre><code>java -cp lib.jar com.mypackage.Main\n</code></pre>\n\n<p>It works with <code>;</code> for Windows and <code>:</code> for Unix:</p>\n\n<pre><code>java -cp lib.jar; com.mypackage.Main\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":3,"creation_date":1507151006,"post_id":39857059,"comment_id":80101803,"body_markdown":"On Linux just as on Mac.","body":"On Linux just as on Mac."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1507151023,"post_id":39857059,"comment_id":80101812,"body_markdown":"Why `/*` is necessary?","body":"Why <code>&#47;*</code> is necessary?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1558478750,"post_id":39857059,"comment_id":99112806,"body_markdown":"It is a wildcard syntax.  (It is not mandatory.  You can explicitly list the JARs if you want to.)","body":"It is a wildcard syntax.  (It is not mandatory.  You can explicitly list the JARs if you want to.)"}],"tags":[],"owner":{"account_id":215504,"reputation":52472,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1484940293,"creation_date":1475597284,"answer_id":39857059,"question_id":18093928,"body_markdown":"All answers here are directed towards Windows users it seems. For Mac, the classpath separator is `:`, not `;`. As an error setting the classpath using `;` is not thrown then this can be a difficult to discover if coming from Windows to Mac.\r\n\r\nHere is corresponding Mac command:\r\n\r\n    java -classpath &quot;.:./lib/*&quot; com.test.MyClass\r\n\r\nWhere in this example the package is `com.test` and a `lib` folder is also to be included on classpath.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>All answers here are directed towards Windows users it seems. For Mac, the classpath separator is <code>:</code>, not <code>;</code>. As an error setting the classpath using <code>;</code> is not thrown then this can be a difficult to discover if coming from Windows to Mac.</p>\n\n<p>Here is corresponding Mac command:</p>\n\n<pre><code>java -classpath \".:./lib/*\" com.test.MyClass\n</code></pre>\n\n<p>Where in this example the package is <code>com.test</code> and a <code>lib</code> folder is also to be included on classpath.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1487833395,"post_id":42091055,"comment_id":71964435,"body_markdown":"That will fail if you are not in the directory where you compiled the classes.","body":"That will fail if you are not in the directory where you compiled the classes."}],"tags":[],"owner":{"account_id":1590710,"reputation":56,"user_id":1474081,"display_name":"Rahul Raghuvanshi"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643829239,"creation_date":1486473928,"answer_id":42091055,"question_id":18093928,"body_markdown":"For a database connection I was getting this one. I just added the following in the class path:\r\n\r\n```lang-none\r\nexport CLASSPATH=&lt;path&gt;/db2jcc4.jar:**./**\r\n```\r\n\r\nHere I appended **./** in last so that my class also get identified while loading.\r\n\r\nNow just run:\r\n\r\n```lang-none\r\njava ConnectionExample &lt;args&gt;\r\n```\r\n\r\nIt worked perfectly fine.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>For a database connection I was getting this one. I just added the following in the class path:</p>\n<pre class=\"lang-none prettyprint-override\"><code>export CLASSPATH=&lt;path&gt;/db2jcc4.jar:**./**\n</code></pre>\n<p>Here I appended <strong>./</strong> in last so that my class also get identified while loading.</p>\n<p>Now just run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java ConnectionExample &lt;args&gt;\n</code></pre>\n<p>It worked perfectly fine.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1487833507,"post_id":42409027,"comment_id":71964494,"body_markdown":"There are lots of ways to make it work.  It all boils down to &gt;&gt;understanding&lt;&lt; how to use the Java classpath mechanism.  Please read my answer, and the resources that it links to.","body":"There are lots of ways to make it work.  It all boils down to &gt;&gt;understanding&lt;&lt; how to use the Java classpath mechanism.  Please read my answer, and the resources that it links to."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1487850512,"post_id":42409027,"comment_id":71975100,"body_markdown":"And if you take this &quot;solution&quot; to its logical conclusion then you end up declaring all of your classes in the default package, which is a seriously bad idea for programs of a significant size.","body":"And if you take this &quot;solution&quot; to its logical conclusion then you end up declaring all of your classes in the default package, which is a seriously bad idea for programs of a significant size."}],"tags":[],"owner":{"account_id":3115649,"reputation":7472,"user_id":2656614,"accept_rate":92,"display_name":"Addison"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487833184,"creation_date":1487833184,"answer_id":42409027,"question_id":18093928,"body_markdown":"Seems like when I had this problem, it was unique.\r\n\r\nOnce I removed the package declaration at the top of the file, it worked perfectly.\r\n\r\nAside from doing that, there didn&#39;t seem to be any way to run a simple HelloWorld.java on my machine, regardless of the folder the compilation happened in, the CLASSPATH or PATH, parameters or folder called from.","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Seems like when I had this problem, it was unique.</p>\n\n<p>Once I removed the package declaration at the top of the file, it worked perfectly.</p>\n\n<p>Aside from doing that, there didn't seem to be any way to run a simple HelloWorld.java on my machine, regardless of the folder the compilation happened in, the CLASSPATH or PATH, parameters or folder called from.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1487850385,"post_id":42409923,"comment_id":71975011,"body_markdown":"This only works in simple cases.  More complicated cases require a more complicated classpath.","body":"This only works in simple cases.  More complicated cases require a more complicated classpath."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1488857838,"post_id":42409923,"comment_id":72406833,"body_markdown":"And for &gt;&gt;really&lt;&lt; simple cases, `-cp .` is unnecessary, because if `$CLASSPATH` is unset, then `.` is the default classpath.","body":"And for &gt;&gt;really&lt;&lt; simple cases, <code>-cp .</code> is unnecessary, because if <code>$CLASSPATH</code> is unset, then <code>.</code> is the default classpath."},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1493968705,"post_id":42409923,"comment_id":74637546,"body_markdown":"No Stephen, many times in Windows default classpath does not work.  I tried it out on three different machines, you can try that out as well.","body":"No Stephen, many times in Windows default classpath does not work.  I tried it out on three different machines, you can try that out as well."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1493969063,"post_id":42409923,"comment_id":74637752,"body_markdown":"That is probably because you have actually set the %CLASSPATH% environment variable somewhere.  If you do that, then you are not using the default classpath.  (What does `echo %CLASSPATH%` output?) And no, I can&#39;t check because I don&#39;t have a Windows PC.","body":"That is probably because you have actually set the %CLASSPATH% environment variable somewhere.  If you do that, then you are not using the default classpath.  (What does <code>echo %CLASSPATH%</code> output?) And no, I can&#39;t check because I don&#39;t have a Windows PC."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1493969220,"post_id":42409923,"comment_id":74637835,"body_markdown":"The official Oracle manual entry for the &quot;java&quot; command (Windows version) says this: *&quot;If `-classpath` and `-cp` are not used and `CLASSPATH` is not set, then the user class path consists of the current directory (`.`).&quot;*  Reference - http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html","body":"The official Oracle manual entry for the &quot;java&quot; command (Windows version) says this: <i>&quot;If <code>-classpath</code> and <code>-cp</code> are not used and <code>CLASSPATH</code> is not set, then the user class path consists of the current directory (<code>.</code>).&quot;</i>  Reference - <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/windows/java.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"score":0,"creation_date":1493969846,"post_id":42409923,"comment_id":74638185,"body_markdown":"Yup, in general when you install tools like Websphere MQ or erlang etc which are common now a days then CLASSPATH creates as environment variable.  That is why the guy who asked this question might not be able to compile.","body":"Yup, in general when you install tools like Websphere MQ or erlang etc which are common now a days then CLASSPATH creates as environment variable.  That is why the guy who asked this question might not be able to compile."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1493971143,"post_id":42409923,"comment_id":74638866,"body_markdown":"There is no &quot;the guy&quot;.  This was written (by me!) as a generic Q&amp;A that is intended to educate people, so that they *understand* the cause of the problem, and know how to fix it.  Simple &quot;do this and it might work&quot; answers are (IMO) unhelpful, because they encourage people to not take the time to learn and understand","body":"There is no &quot;the guy&quot;.  This was written (by me!) as a generic Q&amp;A that is intended to educate people, so that they <i>understand</i> the cause of the problem, and know how to fix it.  Simple &quot;do this and it might work&quot; answers are (IMO) unhelpful, because they encourage people to not take the time to learn and understand"},{"owner":{"account_id":8041990,"reputation":1598,"user_id":6063416,"accept_rate":76,"display_name":"SnuKies"},"score":2,"creation_date":1562683784,"post_id":42409923,"comment_id":100448844,"body_markdown":"This worked for me when I tried to run a simple program from command line","body":"This worked for me when I tried to run a simple program from command line"}],"tags":[],"owner":{"account_id":411444,"reputation":2070,"user_id":783890,"accept_rate":67,"display_name":"shaILU"},"comment_count":8,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1517961346,"creation_date":1487836285,"answer_id":42409923,"question_id":18093928,"body_markdown":"Use this command:\r\n\r\n    java -cp . [PACKAGE.]CLASSNAME\r\n\r\nExample: If your classname is Hello.class created from Hello.java then use the below command:\r\n\r\n    java -cp . Hello\r\n\r\nIf your file Hello.java is inside package com.demo then use the below command\r\n\r\n    java -cp . com.demo.Hello\r\n\r\nWith JDK 8 many times it happens that the class file is present in the same folder, but the `java` command expects classpath and for this reason we add **`-cp .`** to take the current folder as reference for classpath.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Use this command:</p>\n\n<pre><code>java -cp . [PACKAGE.]CLASSNAME\n</code></pre>\n\n<p>Example: If your classname is Hello.class created from Hello.java then use the below command:</p>\n\n<pre><code>java -cp . Hello\n</code></pre>\n\n<p>If your file Hello.java is inside package com.demo then use the below command</p>\n\n<pre><code>java -cp . com.demo.Hello\n</code></pre>\n\n<p>With JDK 8 many times it happens that the class file is present in the same folder, but the <code>java</code> command expects classpath and for this reason we add <strong><code>-cp .</code></strong> to take the current folder as reference for classpath.</p>\n"},{"tags":[],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1643829776,"creation_date":1490563049,"answer_id":43034653,"question_id":18093928,"body_markdown":"[![Enter image description here][1]][1]\r\n\r\n**Class file location:**         C:\\test\\com\\company\r\n\r\n**File Name:**                   Main.class\r\n\r\n**Fully qualified class name:**  com.company.Main\r\n\r\n**Command line command:**  \r\n\r\n```lang-none\r\njava  -classpath &quot;C:\\test&quot; com.company.Main\r\n```\r\n\r\nNote here that class path does *not* include *\\com\\company*.\r\n\r\n  [1]: https://i.stack.imgur.com/eegzM.png","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p><a href=\"https://i.stack.imgur.com/eegzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eegzM.png\" alt=\"Enter image description here\" /></a></p>\n<p><strong>Class file location:</strong>         C:\\test\\com\\company</p>\n<p><strong>File Name:</strong>                   Main.class</p>\n<p><strong>Fully qualified class name:</strong>  com.company.Main</p>\n<p><strong>Command line command:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java  -classpath &quot;C:\\test&quot; com.company.Main\n</code></pre>\n<p>Note here that class path does <em>not</em> include <em>\\com\\company</em>.</p>\n"},{"tags":[],"owner":{"display_name":"user6419437"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1516581037,"creation_date":1494605522,"answer_id":43942211,"question_id":18093928,"body_markdown":"By default, Java uses `.`, the current working directory, as the default `CLASSPATH`. What this means is that when you type a command at the prompt e.g. `java MyClass`, the command is interpreted as if you had type `java -cp . MyClass`. Did you see that dot between `-cp` and `MyClass`? (**cp** is short for the longer **classpath** option)\r\n\r\nThis is sufficient for most cases and things seems to work just fine until at some time you try to add a directory to your `CLASSPATH`. In most cases when programmers need to do this, they just run a command like `set CLASSPATH=path\\to\\some\\dir`. This command creates a new environment variable called `CLASSPATH` having the value `path\\to\\some\\dir` or replaces its value with `path\\to\\some\\dir` if `CLASSPATH` was already set before.\r\n\r\nWhen this is done, you now have a `CLASSPATH` environment variable and Java no longer uses its default classpath (`.`) but the one you&#39;ve set. So the next day you open your editor, write some java program, `cd` to the directory where you saved it, compile it, and try to run it with the command `java MyClass`, and you are greeted with a nice output: _**Could not find or load main class ...**_ (If your commands were working well before and you are now getting this output, then this might be the case for you).\r\n\r\nWhat happens is that when you run the command `java MyClass`, Java searches for the class file named `MyClass` in the directory or directories that you have set in your `CLASSPATH` and not your current working directory so it doesn&#39;t find your class file there and hence complains.\r\n\r\nWhat you need to do is add `.` to your class path again which can be done with the command `set CLASSPATH=%CLASSPATH%;.` (notice the dot after the semicolon). In plain english this command says &quot;Pick what was initially the value of `CLASSPATH` (`%CLASSPATH%`), add `.` to it (`;.`) and assign the result back to `CLASSPATH`&quot;.\r\n\r\nAnd *voila*, you are once again able to use your command `java MyClass` as usual.\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>By default, Java uses <code>.</code>, the current working directory, as the default <code>CLASSPATH</code>. What this means is that when you type a command at the prompt e.g. <code>java MyClass</code>, the command is interpreted as if you had type <code>java -cp . MyClass</code>. Did you see that dot between <code>-cp</code> and <code>MyClass</code>? (<strong>cp</strong> is short for the longer <strong>classpath</strong> option)</p>\n\n<p>This is sufficient for most cases and things seems to work just fine until at some time you try to add a directory to your <code>CLASSPATH</code>. In most cases when programmers need to do this, they just run a command like <code>set CLASSPATH=path\\to\\some\\dir</code>. This command creates a new environment variable called <code>CLASSPATH</code> having the value <code>path\\to\\some\\dir</code> or replaces its value with <code>path\\to\\some\\dir</code> if <code>CLASSPATH</code> was already set before.</p>\n\n<p>When this is done, you now have a <code>CLASSPATH</code> environment variable and Java no longer uses its default classpath (<code>.</code>) but the one you've set. So the next day you open your editor, write some java program, <code>cd</code> to the directory where you saved it, compile it, and try to run it with the command <code>java MyClass</code>, and you are greeted with a nice output: <em><strong>Could not find or load main class ...</strong></em> (If your commands were working well before and you are now getting this output, then this might be the case for you).</p>\n\n<p>What happens is that when you run the command <code>java MyClass</code>, Java searches for the class file named <code>MyClass</code> in the directory or directories that you have set in your <code>CLASSPATH</code> and not your current working directory so it doesn't find your class file there and hence complains.</p>\n\n<p>What you need to do is add <code>.</code> to your class path again which can be done with the command <code>set CLASSPATH=%CLASSPATH%;.</code> (notice the dot after the semicolon). In plain english this command says \"Pick what was initially the value of <code>CLASSPATH</code> (<code>%CLASSPATH%</code>), add <code>.</code> to it (<code>;.</code>) and assign the result back to <code>CLASSPATH</code>\".</p>\n\n<p>And <em>voila</em>, you are once again able to use your command <code>java MyClass</code> as usual.</p>\n"},{"tags":[],"owner":{"account_id":366651,"reputation":415,"user_id":712316,"display_name":"Chezzwizz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1495354478,"creation_date":1495354148,"answer_id":44094607,"question_id":18093928,"body_markdown":"When running the `java` with the `-cp` option as advertised in Windows PowerShell you may get an error that looks something like:\r\n\r\n    The term `ClassName` is not recognized as the name of a cmdlet, function, script ...\r\n\r\nIn order to for PowerShell to accept the command, the arguments of the `-cp` option must be contained in quotes as in:\r\n\r\n    java -cp &#39;someDependency.jar;.&#39; ClassName\r\n\r\nForming the command this way should allow Java process the classpath arguments correctly.","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>When running the <code>java</code> with the <code>-cp</code> option as advertised in Windows PowerShell you may get an error that looks something like:</p>\n\n<pre><code>The term `ClassName` is not recognized as the name of a cmdlet, function, script ...\n</code></pre>\n\n<p>In order to for PowerShell to accept the command, the arguments of the <code>-cp</code> option must be contained in quotes as in:</p>\n\n<pre><code>java -cp 'someDependency.jar;.' ClassName\n</code></pre>\n\n<p>Forming the command this way should allow Java process the classpath arguments correctly.</p>\n"},{"comments":[{"owner":{"account_id":10910575,"reputation":633,"user_id":8031594,"accept_rate":88,"display_name":"Jason V"},"score":2,"creation_date":1505925022,"post_id":44305241,"comment_id":79615486,"body_markdown":"This is because you are executing the compiled version of your .java. It is actually executing the .class file","body":"This is because you are executing the compiled version of your .java. It is actually executing the .class file"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1509324622,"post_id":44305241,"comment_id":80960154,"body_markdown":"For the record, this is the same as Reason #1, Example #5 in my Answer ...","body":"For the record, this is the same as Reason #1, Example #5 in my Answer ..."}],"tags":[],"owner":{"account_id":5233958,"reputation":1601,"user_id":4183221,"accept_rate":68,"display_name":"Ramesh Pareek"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1517961208,"creation_date":1496313361,"answer_id":44305241,"question_id":18093928,"body_markdown":"This might help you if your case is specifically like mine:  as a beginner I also ran into this problem when I tried to run a Java program.\r\n\r\nI compiled it like this:\r\n\r\n    javac HelloWorld.java\r\n\r\nAnd I tried to run also with the same extension:\r\n\r\n    java Helloworld.java\r\n\r\nWhen I removed the `.java` and rewrote the command like `java HelloWorld`, the program ran perfectly. :)\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>This might help you if your case is specifically like mine:  as a beginner I also ran into this problem when I tried to run a Java program.</p>\n\n<p>I compiled it like this:</p>\n\n<pre><code>javac HelloWorld.java\n</code></pre>\n\n<p>And I tried to run also with the same extension:</p>\n\n<pre><code>java Helloworld.java\n</code></pre>\n\n<p>When I removed the <code>.java</code> and rewrote the command like <code>java HelloWorld</code>, the program ran perfectly. :)</p>\n"},{"tags":[],"owner":{"account_id":371004,"reputation":5445,"user_id":719278,"accept_rate":75,"display_name":"Junchen Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1517961136,"creation_date":1497543548,"answer_id":44572412,"question_id":18093928,"body_markdown":"If you use [Maven][1] to build the JAR file, please make sure to specify the main class in the pom.xml file:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;class name us.com.test.abc.MyMainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>If you use <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"noreferrer\">Maven</a> to build the JAR file, please make sure to specify the main class in the pom.xml file:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;class name us.com.test.abc.MyMainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1532385772,"post_id":45762954,"comment_id":89945180,"body_markdown":"Examples (of offending compilers) please.  While it is conventional / normal to make an &quot;entry point&quot; class `public`, the Java specs don&#39;t require this, and neither does the standard Oracle / OpenJDK `java` command.","body":"Examples (of offending compilers) please.  While it is conventional / normal to make an &quot;entry point&quot; class <code>public</code>, the Java specs don&#39;t require this, and neither does the standard Oracle / OpenJDK <code>java</code> command."}],"tags":[],"owner":{"account_id":7450446,"reputation":69,"user_id":5665419,"accept_rate":75,"display_name":"lor"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1503080970,"creation_date":1503080970,"answer_id":45762954,"question_id":18093928,"body_markdown":"Sometimes, in some online compilers that you might have tried you will get this error if you don&#39;t write `public class [Classname]` but just `class [Classname]`. ","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Sometimes, in some online compilers that you might have tried you will get this error if you don't write <code>public class [Classname]</code> but just <code>class [Classname]</code>. </p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1503377529,"post_id":45808870,"comment_id":78575798,"body_markdown":"However, you won&#39;t get the above mentioned error messages if you try to run an app without a proper `main`  from an IDE.  (And for some IDEs, you *don&#39;t* need to configure a launcher to make this happen; e.g. Eclipse&#39;s `run` will *find* the class with the `main` method for you.","body":"However, you won&#39;t get the above mentioned error messages if you try to run an app without a proper <code>main</code>  from an IDE.  (And for some IDEs, you <i>don&#39;t</i> need to configure a launcher to make this happen; e.g. Eclipse&#39;s <code>run</code> will <i>find</i> the class with the <code>main</code> method for you."},{"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"score":0,"creation_date":1503423671,"post_id":45808870,"comment_id":78605854,"body_markdown":"In fact, if you run the app without this setting, you will get the exact message in the original question: `Could not find or load main class ...` .\nThat is how I arrived to this post :)","body":"In fact, if you run the app without this setting, you will get the exact message in the original question: <code>Could not find or load main class ...</code> . That is how I arrived to this post :)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1503441864,"post_id":45808870,"comment_id":78614089,"body_markdown":"Not in Eclipse you won&#39;t.  In Eclipse, if the IDE can&#39;t identify either class with a `main`, you simply don&#39;t get offered the Run&gt;Java App option in the context menu.","body":"Not in Eclipse you won&#39;t.  In Eclipse, if the IDE can&#39;t identify either class with a <code>main</code>, you simply don&#39;t get offered the Run&gt;Java App option in the context menu."}],"tags":[],"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1517961001,"creation_date":1503375739,"answer_id":45808870,"question_id":18093928,"body_markdown":"In the context of IDE development (Eclipse, NetBeans or whatever) you have to configure your project properties to have a main class, so that your IDE knows where the main class is located to be executed when you hit &quot;Play&quot;.\r\n\r\n1. Right click your project, then *Properties*\r\n2. Go to the Run category and select your Main Class\r\n3. Hit the &lt;kbd&gt;Run&lt;/kbd&gt; button.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/YmWDA.png\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In the context of IDE development (Eclipse, NetBeans or whatever) you have to configure your project properties to have a main class, so that your IDE knows where the main class is located to be executed when you hit \"Play\".</p>\n\n<ol>\n<li>Right click your project, then <em>Properties</em></li>\n<li>Go to the Run category and select your Main Class</li>\n<li>Hit the <kbd>Run</kbd> button.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/YmWDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YmWDA.png\" alt=\"Enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514318115,"creation_date":1514318115,"answer_id":47983150,"question_id":18093928,"body_markdown":"In my case, I got the error because I had mixed UPPER- and lower-case package names on a Windows 7 system.  Changing the package names to all lower case resolved the issue.\r\nNote also that in this scenario, I got no error compiling the .java file into a .class file; it just wouldn&#39;t run from the same (sub-sub-sub-) directory.","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In my case, I got the error because I had mixed UPPER- and lower-case package names on a Windows 7 system.  Changing the package names to all lower case resolved the issue.\nNote also that in this scenario, I got no error compiling the .java file into a .class file; it just wouldn't run from the same (sub-sub-sub-) directory.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1515109791,"post_id":48104223,"comment_id":83186143,"body_markdown":"This is voodoo stuff.  `%JAVA_HOME\\bin%` does need to be on the `%PATH%`, but that causes a different error.  `%JAVA_HOME\\lib\\rt.jar%` does not need to be added to the classpath.  It is automatically added to the bootclasspath by all JRE or JDK tools that need it.","body":"This is voodoo stuff.  <code>%JAVA_HOME\\bin%</code> does need to be on the <code>%PATH%</code>, but that causes a different error.  <code>%JAVA_HOME\\lib\\rt.jar%</code> does not need to be added to the classpath.  It is automatically added to the bootclasspath by all JRE or JDK tools that need it."},{"owner":{"account_id":6008296,"reputation":350,"user_id":4719470,"display_name":"Boogie"},"score":0,"creation_date":1515185788,"post_id":48104223,"comment_id":83218907,"body_markdown":"The error appears when it is not added. That is why step 1 is very important.","body":"The error appears when it is not added. That is why step 1 is very important."},{"owner":{"account_id":6008296,"reputation":350,"user_id":4719470,"display_name":"Boogie"},"score":0,"creation_date":1515186261,"post_id":48104223,"comment_id":83219093,"body_markdown":"Just try it, because it just worked for my friends in class right now","body":"Just try it, because it just worked for my friends in class right now"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1515199351,"post_id":48104223,"comment_id":83223275,"body_markdown":"I know that you need to install Java (duh!) and put it on your %PATH%.  But if you don&#39;t, you will get a **different error message**.   For example &quot;java is not recognized as an internal or external command&quot;.  I repeat, the &quot;solutions&quot; that you suggest do not solve **&gt;&gt; this &lt;&lt;** problem.","body":"I know that you need to install Java (duh!) and put it on your %PATH%.  But if you don&#39;t, you will get a <b>different error message</b>.   For example &quot;java is not recognized as an internal or external command&quot;.  I repeat, the &quot;solutions&quot; that you suggest do not solve <b>&gt;&gt; this &lt;&lt;</b> problem."},{"owner":{"account_id":6008296,"reputation":350,"user_id":4719470,"display_name":"Boogie"},"score":0,"creation_date":1515256630,"post_id":48104223,"comment_id":83235639,"body_markdown":"you need to end the last environment variable with a semi colon. before adding the new path. I.e &quot;C:\\Yargato\\bin;C:\\java\\bin;C:\\Programfiles\\java......; also end it with a semicolon","body":"you need to end the last environment variable with a semi colon. before adding the new path. I.e &quot;C:\\Yargato\\bin;C:\\java\\bin;C:\\Programfiles\\java......; also end it with a semicolon"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1517960709,"post_id":48104223,"comment_id":84305607,"body_markdown":"You owe us a YouTube link... You can just add the 11 characters after &quot;`watch?v=`&quot; in the URL (e.g `yVRtJbXQsL8` for [https://www.youtube.com/watch?v=yVRtJbXQsL8](https://www.youtube.com/watch?v=yVRtJbXQsL8)) and somebody can add the real URL later.","body":"You owe us a YouTube link... You can just add the 11 characters after &quot;<code>watch?v=</code>&quot; in the URL (e.g <code>yVRtJbXQsL8</code> for <a href=\"https://www.youtube.com/watch?v=yVRtJbXQsL8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=yVRtJbXQsL8</a>) and somebody can add the real URL later."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1527149370,"post_id":48104223,"comment_id":88020534,"body_markdown":"@dassanctity - Your assertion that the classpath must end with a semicolon is incorrect **according to the Oracle documentation**: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#BEHCGBFB","body":"@dassanctity - Your assertion that the classpath must end with a semicolon is incorrect <b>according to the Oracle documentation</b>: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#BEHCGBFB\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/windows/&hellip;</a>"},{"owner":{"account_id":6008296,"reputation":350,"user_id":4719470,"display_name":"Boogie"},"score":0,"creation_date":1527280148,"post_id":48104223,"comment_id":88084950,"body_markdown":"According to windows, semicolon separates one environment path from another. So it must not end with a semicolon but be sure to put a semicolon before adding a new one else you will cause more errors. This is not according to oracle but windows definitions","body":"According to windows, semicolon separates one environment path from another. So it must not end with a semicolon but be sure to put a semicolon before adding a new one else you will cause more errors. This is not according to oracle but windows definitions"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1528066488,"post_id":48104223,"comment_id":88353065,"body_markdown":"@dassanctity - Your comment of May 25 contradicts your previous comments.  *&quot;you need to end the last environment variable with a semi colon.&quot;* versus *&quot;So it must not end with a semicolon&quot;*.   (IMO, the best thing would be to delete this Answer.  It has too many mistakes, and adds nothing that other answers don&#39;t say already.)","body":"@dassanctity - Your comment of May 25 contradicts your previous comments.  <i>&quot;you need to end the last environment variable with a semi colon.&quot;</i> versus <i>&quot;So it must not end with a semicolon&quot;</i>.   (IMO, the best thing would be to delete this Answer.  It has too many mistakes, and adds nothing that other answers don&#39;t say already.)"},{"owner":{"account_id":6008296,"reputation":350,"user_id":4719470,"display_name":"Boogie"},"score":0,"creation_date":1528098304,"post_id":48104223,"comment_id":88360853,"body_markdown":"@StephenC let me use an example. Lets say i wish to add this new env. path `&quot;C:\\Program Files\\Cisco Packet Tracer 7.0\\bin&quot;` then when i go to my env. paths and i see other paths, I need to make sure the other path ends with a semi colon before adding the new path. This is for windows 8.1 or earlier.","body":"@StephenC let me use an example. Lets say i wish to add this new env. path <code>&quot;C:\\Program Files\\Cisco Packet Tracer 7.0\\bin&quot;</code> then when i go to my env. paths and i see other paths, I need to make sure the other path ends with a semi colon before adding the new path. This is for windows 8.1 or earlier."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1529239333,"post_id":48104223,"comment_id":88793254,"body_markdown":"That is NOT what the example in your Answer shows. That shows a semicolon at the end. And your various comments say that a semicolon at the end is required or not required. And this is just one of many problems with this Answer.","body":"That is NOT what the example in your Answer shows. That shows a semicolon at the end. And your various comments say that a semicolon at the end is required or not required. And this is just one of many problems with this Answer."}],"tags":[],"owner":{"account_id":6008296,"reputation":350,"user_id":4719470,"display_name":"Boogie"},"comment_count":11,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1517959423,"creation_date":1515103296,"answer_id":48104223,"question_id":18093928,"body_markdown":"## Solving &quot;Could not Load main class error&quot; ##\r\n\r\nAfter reading all the answers, I noticed most didn&#39;t work for me. So I did some research and here is what I got. Only try this if step 1 doesn&#39;t work.\r\n\r\n 1. Try to install JRE 32 or 64. If it doesn&#39;t work,\r\n 2. Open go to **C:\\Program Files (x86)\\Java** or **C:\\Program Files\\Java**\r\n    - **i.** open the `jdk` folder and then the `bin` folder.\r\n   - **ii.** Copy the path and add it to environment variables. Make sure you separate variables with a semi-colon, `;`. For example, &quot;**C:\\Yargato\\bin;C:\\java\\bin;**&quot;. If you don&#39;t, it will cause more errors.\r\n\r\n  - **iii.** Go to the `jre` folder and open its `bin` folder.\r\n   - **iv.** Here search for **rt.jar file**. Mine is:\r\n\r\n       &gt; **C:\\Program Files (x86)\\Java\\jre1.8.0_73\\lib\\rt.jar**\r\n    Copy and under environment variable and search for the classpath variable\r\n    and paste it there.\r\n   - **v.** Now restart cmd and try running again. The error will disappear.\r\n  - **vi.** I will post a link to my YouTube video tutorial.\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<h2>Solving \"Could not Load main class error\"</h2>\n\n<p>After reading all the answers, I noticed most didn't work for me. So I did some research and here is what I got. Only try this if step 1 doesn't work.</p>\n\n<ol>\n<li>Try to install JRE 32 or 64. If it doesn't work,</li>\n<li><p>Open go to <strong>C:\\Program Files (x86)\\Java</strong> or <strong>C:\\Program Files\\Java</strong></p>\n\n<ul>\n<li><strong>i.</strong> open the <code>jdk</code> folder and then the <code>bin</code> folder.</li>\n<li><p><strong>ii.</strong> Copy the path and add it to environment variables. Make sure you separate variables with a semi-colon, <code>;</code>. For example, \"<strong>C:\\Yargato\\bin;C:\\java\\bin;</strong>\". If you don't, it will cause more errors.</p></li>\n<li><p><strong>iii.</strong> Go to the <code>jre</code> folder and open its <code>bin</code> folder.</p></li>\n<li><p><strong>iv.</strong> Here search for <strong>rt.jar file</strong>. Mine is:</p>\n\n<blockquote>\n  <p><strong>C:\\Program Files (x86)\\Java\\jre1.8.0_73\\lib\\rt.jar</strong>\n  Copy and under environment variable and search for the classpath variable\n  and paste it there.</p>\n</blockquote></li>\n<li><strong>v.</strong> Now restart cmd and try running again. The error will disappear.</li>\n<li><strong>vi.</strong> I will post a link to my YouTube video tutorial.</li>\n</ul></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1517012700,"post_id":48468912,"comment_id":83936698,"body_markdown":"This all assumes that 1) `JavaMongoDBConnection` has no package, and 2) you don&#39;t change directory.  It is, to say the least, fragile.  And by not explaining the issues, it will lead newbies to try this approach **in situations where it won&#39;t work**.  In short, it encourages &quot;voodoo programming techniques&quot;: https://en.wikipedia.org/wiki/Voodoo_programming","body":"This all assumes that 1) <code>JavaMongoDBConnection</code> has no package, and 2) you don&#39;t change directory.  It is, to say the least, fragile.  And by not explaining the issues, it will lead newbies to try this approach <b>in situations where it won&#39;t work</b>.  In short, it encourages &quot;voodoo programming techniques&quot;: <a href=\"https://en.wikipedia.org/wiki/Voodoo_programming\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Voodoo_programming</a>"}],"tags":[],"owner":{"account_id":402428,"reputation":4635,"user_id":769581,"display_name":"khichar.anil"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1643829062,"creation_date":1516997713,"answer_id":48468912,"question_id":18093928,"body_markdown":"I also faced similar errors while testing a Java MongoDB JDBC connection. I think it&#39;s good to summarize my final solution in short so that in the future anybody can directly look into the two commands and are good to proceed further.\r\n\r\nAssume you are in the directory where your Java file and external dependencies (JAR files) exist.\r\n\r\n**Compile:**\r\n\r\n```lang-none\r\njavac -cp mongo-java-driver-3.4.1.jar JavaMongoDBConnection.java\r\n```\r\n\r\n - **-cp** - classpath argument; pass all the dependent JAR files one by one\r\n - *.java - This is the Java class file which has main method.\r\nsdsd\r\n\r\n**Run:**\r\n\r\n```lang-none\r\njava -cp mongo-java-driver-3.4.1.jar: JavaMongoDBConnection\r\n```\r\n\r\n - Please do observe the colon (Unix) / comma (Windows) after all the dependency JAR files end\r\n - At the end, observe the main class name without any extension (no .class or .java)\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I also faced similar errors while testing a Java MongoDB JDBC connection. I think it's good to summarize my final solution in short so that in the future anybody can directly look into the two commands and are good to proceed further.</p>\n<p>Assume you are in the directory where your Java file and external dependencies (JAR files) exist.</p>\n<p><strong>Compile:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -cp mongo-java-driver-3.4.1.jar JavaMongoDBConnection.java\n</code></pre>\n<ul>\n<li><strong>-cp</strong> - classpath argument; pass all the dependent JAR files one by one</li>\n<li>*.java - This is the Java class file which has main method.\nsdsd</li>\n</ul>\n<p><strong>Run:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp mongo-java-driver-3.4.1.jar: JavaMongoDBConnection\n</code></pre>\n<ul>\n<li>Please do observe the colon (Unix) / comma (Windows) after all the dependency JAR files end</li>\n<li>At the end, observe the main class name without any extension (no .class or .java)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":935751,"reputation":566,"user_id":964698,"display_name":"MiniSu"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1568315193,"creation_date":1529238165,"answer_id":50896595,"question_id":18093928,"body_markdown":"In my case I just change the JRE in Eclipse.\r\n\r\nPlease find the attached screen shot:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/xiIMd.jpg\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In my case I just change the JRE in Eclipse.</p>\n\n<p>Please find the attached screen shot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xiIMd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xiIMd.jpg\" alt=\"Enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568317938,"creation_date":1532372424,"answer_id":51485565,"question_id":18093928,"body_markdown":"I had a weird one:\r\n\r\n&gt; Error: Could not find or load main class mypackage.App\r\n\r\nIt turned out I had a reference to [POM][1] (parent) coded up in my project&#39;s `pom.xml` file (my project&#39;s `pom.xml` was pointing to a parent `pom.xml`) and the `relativePath` was off/wrong.\r\n\r\nBelow is a partial of my project&#39;s `pom.xml` file:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;myGroupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pom-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../badPathHere/pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\nOnce I resolved the POM relativePath, the error went away.\r\n\r\nGo figure.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I had a weird one:</p>\n\n<blockquote>\n  <p>Error: Could not find or load main class mypackage.App</p>\n</blockquote>\n\n<p>It turned out I had a reference to <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> (parent) coded up in my project's <code>pom.xml</code> file (my project's <code>pom.xml</code> was pointing to a parent <code>pom.xml</code>) and the <code>relativePath</code> was off/wrong.</p>\n\n<p>Below is a partial of my project's <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;myGroupId&lt;/groupId&gt;\n    &lt;artifactId&gt;pom-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../badPathHere/pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>Once I resolved the POM relativePath, the error went away.</p>\n\n<p>Go figure.</p>\n"},{"tags":[],"owner":{"account_id":174340,"reputation":562,"user_id":403639,"accept_rate":77,"display_name":"Manish Shukla"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1568315006,"creation_date":1537074720,"answer_id":52351137,"question_id":18093928,"body_markdown":"Answering with respect to an external library -\r\n\r\nCompile:\r\n\r\n    javac -cp ./&lt;external lib jar&gt;: &lt;program-name&gt;.java\r\n\r\nExecute:\r\n\r\n    java -cp ./&lt;external lib jar&gt;: &lt;program-name&gt;\r\n\r\nThe above scheme works well in OS&amp;nbsp;X and Linux systems. Notice the `:` in the classpath.\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Answering with respect to an external library -</p>\n\n<p>Compile:</p>\n\n<pre><code>javac -cp ./&lt;external lib jar&gt;: &lt;program-name&gt;.java\n</code></pre>\n\n<p>Execute:</p>\n\n<pre><code>java -cp ./&lt;external lib jar&gt;: &lt;program-name&gt;\n</code></pre>\n\n<p>The above scheme works well in OS&nbsp;X and Linux systems. Notice the <code>:</code> in the classpath.</p>\n"},{"tags":[],"owner":{"account_id":2405743,"reputation":807,"user_id":2102275,"accept_rate":60,"display_name":"Tunde Pizzle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568314837,"creation_date":1537368739,"answer_id":52408699,"question_id":18093928,"body_markdown":"If this issue is Eclipse-related:\r\n\r\nTry adding the project to your class path.\r\n\r\nSee the below image:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nThis method worked for me.\r\n\r\n  [1]: https://i.stack.imgur.com/eejWj.png\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>If this issue is Eclipse-related:</p>\n\n<p>Try adding the project to your class path.</p>\n\n<p>See the below image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eejWj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eejWj.png\" alt=\"Enter image description here\"></a></p>\n\n<p>This method worked for me.</p>\n"},{"tags":[],"owner":{"account_id":288449,"reputation":5745,"user_id":588867,"accept_rate":50,"display_name":"biocyberman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568314734,"creation_date":1537965215,"answer_id":52517873,"question_id":18093928,"body_markdown":"All right, there are many answers already, but no one mentioned the case where file permissions can be the culprit.\r\n\r\nWhen running, a user may not have access to the JAR  file or one of the directories of the path. For example, consider:\r\n\r\nJar file in  `/dir1/dir2/dir3/myjar.jar` \r\n\r\nUser1 who owns the JAR file may do:\r\n\r\n    # Running as User1\r\n    cd /dir1/dir2/dir3/\r\n    chmod +r myjar.jar\r\n\r\nBut it still doesn&#39;t work:\r\n\r\n    # Running as User2\r\n    java -cp &quot;/dir1/dir2/dir3:/dir1/dir2/javalibs&quot; MyProgram\r\n    Error: Could not find or load main class MyProgram\r\n\r\nThis is because the running user (User2) does not have access to dir1, dir2, or javalibs or dir3. It may drive someone nuts when User1 can see the files, and can access to them, but the error still happens for User2.\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>All right, there are many answers already, but no one mentioned the case where file permissions can be the culprit.</p>\n\n<p>When running, a user may not have access to the JAR  file or one of the directories of the path. For example, consider:</p>\n\n<p>Jar file in  <code>/dir1/dir2/dir3/myjar.jar</code> </p>\n\n<p>User1 who owns the JAR file may do:</p>\n\n<pre><code># Running as User1\ncd /dir1/dir2/dir3/\nchmod +r myjar.jar\n</code></pre>\n\n<p>But it still doesn't work:</p>\n\n<pre><code># Running as User2\njava -cp \"/dir1/dir2/dir3:/dir1/dir2/javalibs\" MyProgram\nError: Could not find or load main class MyProgram\n</code></pre>\n\n<p>This is because the running user (User2) does not have access to dir1, dir2, or javalibs or dir3. It may drive someone nuts when User1 can see the files, and can access to them, but the error still happens for User2.</p>\n"},{"tags":[],"owner":{"account_id":7689131,"reputation":99,"user_id":5825962,"display_name":"suneelpervaiz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568314650,"creation_date":1546604825,"answer_id":54038965,"question_id":18093928,"body_markdown":"Right click the project.\r\n\r\n 1. Select &quot;Open module settings&quot;\r\n 2. Mark the `src` folder as &quot;sources&quot;\r\n 3. Go to edit configurations, and then select your main class\r\n 4. Click &lt;kbd&gt;OK&lt;/kbd&gt; or the &lt;kbd&gt;Apply&lt;/kbd&gt; button\r\n\r\nThis worked for me.\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Right click the project.</p>\n\n<ol>\n<li>Select \"Open module settings\"</li>\n<li>Mark the <code>src</code> folder as \"sources\"</li>\n<li>Go to edit configurations, and then select your main class</li>\n<li>Click <kbd>OK</kbd> or the <kbd>Apply</kbd> button</li>\n</ol>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3343918,"reputation":776,"user_id":2809468,"display_name":"Omid Mohebbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1568314577,"creation_date":1552889964,"answer_id":55215561,"question_id":18093928,"body_markdown":"I had same problem and finally found my mistake :)\r\nI used this command for compiling and it worked correctly:\r\n\r\n    javac -cp &quot;/home/omidmohebbi/AAAATest/jars/core-1.7.jar:/home/omidmohebbi/AAAATest/jars/javase-1.7.jar:/home/omidmohebbi/AAAATest/jars/qrgen-1.2.jar&quot; qrcode.java\r\n\r\nBut this command did not work for me (I could not find or load the main class, `qrcode`):\r\n\r\n    java -cp &quot;/home/omidmohebbi/AAAATest/jars/core-1.7.jar:/home/omidmohebbi/AAAATest/jars/javase-1.7.jar:/home/omidmohebbi/AAAATest/jars/qrgen-1.2.jar&quot; qrcode\r\n\r\nFinally I just added the &#39;:&#39; character at end of the classpath and the problem was solved:\r\n\r\n    java -cp &quot;/home/omidmohebbi/AAAATest/jars/core-1.7.jar:/home/omidmohebbi/AAAATest/jars/javase-1.7.jar:/home/omidmohebbi/AAAATest/jars/qrgen-1.2.jar:&quot; qrcode\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I had same problem and finally found my mistake :)\nI used this command for compiling and it worked correctly:</p>\n\n<pre><code>javac -cp \"/home/omidmohebbi/AAAATest/jars/core-1.7.jar:/home/omidmohebbi/AAAATest/jars/javase-1.7.jar:/home/omidmohebbi/AAAATest/jars/qrgen-1.2.jar\" qrcode.java\n</code></pre>\n\n<p>But this command did not work for me (I could not find or load the main class, <code>qrcode</code>):</p>\n\n<pre><code>java -cp \"/home/omidmohebbi/AAAATest/jars/core-1.7.jar:/home/omidmohebbi/AAAATest/jars/javase-1.7.jar:/home/omidmohebbi/AAAATest/jars/qrgen-1.2.jar\" qrcode\n</code></pre>\n\n<p>Finally I just added the ':' character at end of the classpath and the problem was solved:</p>\n\n<pre><code>java -cp \"/home/omidmohebbi/AAAATest/jars/core-1.7.jar:/home/omidmohebbi/AAAATest/jars/javase-1.7.jar:/home/omidmohebbi/AAAATest/jars/qrgen-1.2.jar:\" qrcode\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1642994002,"post_id":56721632,"comment_id":125213827,"body_markdown":"It is highly unlikely that this will cause the problem to go away ... for most people.","body":"It is highly unlikely that this will cause the problem to go away ... for most people."}],"tags":[],"owner":{"account_id":7726333,"reputation":1273,"user_id":5850848,"display_name":"S Krishna"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1568314499,"creation_date":1561272033,"answer_id":56721632,"question_id":18093928,"body_markdown":"**If it&#39;s a [Maven][1] project**:\r\n\r\n 1. Go to the POM file.\r\n 2. Remove all the dependencies.\r\n 3. Save the POM file.\r\n 4. Again import only the necessary dependencies. \r\n 5. Save the POM file.\r\n\r\nThe issue should go away.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Maven\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p><strong>If it's a <a href=\"http://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> project</strong>:</p>\n\n<ol>\n<li>Go to the POM file.</li>\n<li>Remove all the dependencies.</li>\n<li>Save the POM file.</li>\n<li>Again import only the necessary dependencies. </li>\n<li>Save the POM file.</li>\n</ol>\n\n<p>The issue should go away.</p>\n"},{"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568314312,"creation_date":1562800329,"answer_id":56979714,"question_id":18093928,"body_markdown":"This happened to me too. In my case, it only happened when a `HttpServlet` class was present in source code (IntelliJ IDEA didn&#39;t give a compile time error; the servlet package got imported just fine, however at run time there was this `main class` error).\r\n\r\nI managed to solve it. I went to menu *File* &amp;rarr; *Project Structure...*:\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nThen to *Modules*:\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nThere was a *Provided* scope near the servlet module. I changed it to *Compile*:\r\n\r\n[![Enter image description here][3]][3]\r\n\r\nAnd it worked!\r\n\r\n  [1]: https://i.stack.imgur.com/FwYTi.png\r\n  [2]: https://i.stack.imgur.com/VqiC9.png\r\n  [3]: https://i.stack.imgur.com/TFZEO.png\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>This happened to me too. In my case, it only happened when a <code>HttpServlet</code> class was present in source code (IntelliJ IDEA didn't give a compile time error; the servlet package got imported just fine, however at run time there was this <code>main class</code> error).</p>\n\n<p>I managed to solve it. I went to menu <em>File</em> &rarr; <em>Project Structure...</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FwYTi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FwYTi.png\" alt=\"Enter image description here\"></a></p>\n\n<p>Then to <em>Modules</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VqiC9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VqiC9.png\" alt=\"Enter image description here\"></a></p>\n\n<p>There was a <em>Provided</em> scope near the servlet module. I changed it to <em>Compile</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TFZEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFZEO.png\" alt=\"Enter image description here\"></a></p>\n\n<p>And it worked!</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1574829918,"post_id":59058646,"comment_id":104365206,"body_markdown":"*&quot;I&#39;m not sure why&quot;* - because `*` is expanded by the shell to a list of JAR file names *separated by spaces* ... unless surround by quotes.  This is standard UNIX shell stuff.   As for the rest: it is all in the `java` manual entry including the use of `:` and the wild card syntax (`&quot;path/to/jars/*&quot;`).","body":"<i>&quot;I&#39;m not sure why&quot;</i> - because <code>*</code> is expanded by the shell to a list of JAR file names <i>separated by spaces</i> ... unless surround by quotes.  This is standard UNIX shell stuff.   As for the rest: it is all in the <code>java</code> manual entry including the use of <code>:</code> and the wild card syntax (<code>&quot;path&#47;to&#47;jars&#47;*&quot;</code>)."},{"owner":{"account_id":908908,"reputation":111,"user_id":943217,"display_name":"Nikolay Valtchanov"},"score":0,"creation_date":1574928229,"post_id":59058646,"comment_id":104404255,"body_markdown":"That was &quot;not sure why &quot;*.jar&quot; doesn&#39;t work&quot;. The first one was more clearly because the shell was messing with it.","body":"That was &quot;not sure why &quot;*.jar&quot; doesn&#39;t work&quot;. The first one was more clearly because the shell was messing with it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1574928419,"post_id":59058646,"comment_id":104404347,"body_markdown":"The second one doesn&#39;t work because the `java` command doesn&#39;t understand that wild-card.  The `java` manual explains what it does understand.","body":"The second one doesn&#39;t work because the <code>java</code> command doesn&#39;t understand that wild-card.  The <code>java</code> manual explains what it does understand."}],"tags":[],"owner":{"account_id":908908,"reputation":111,"user_id":943217,"display_name":"Nikolay Valtchanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574798883,"creation_date":1574798883,"answer_id":59058646,"question_id":18093928,"body_markdown":"Here&#39;s another issue that took me a bit of time: The command line class path param doesn&#39;t behave as you&#39;d expect. I&#39;m on MacOS calling the CLI directly, and I&#39;m including two jars in the call.\r\n\r\nFor example, both of these were confusing the tool about the name of the main class:\r\n\r\nThis one because the asterisk was causing it to parse the args incorrectly:\r\n\r\n`java -cp path/to/jars/* com.mypackage.Main`\r\n\r\nAnd this one because -- I&#39;m not sure why:\r\n\r\n`java -cp &quot;*.jar&quot; com.mypackage.Main`\r\n\r\nThis worked:\r\n\r\n`java -cp &quot;path/to/jars/*&quot; com.mypackage.Main`\r\n\r\nListing the two jars explicitly also worked:\r\n\r\n`java -cp path/to/jars/jar1.jar:path/to/jars/jar2.jar com.mypackage.Main`","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Here's another issue that took me a bit of time: The command line class path param doesn't behave as you'd expect. I'm on MacOS calling the CLI directly, and I'm including two jars in the call.</p>\n\n<p>For example, both of these were confusing the tool about the name of the main class:</p>\n\n<p>This one because the asterisk was causing it to parse the args incorrectly:</p>\n\n<p><code>java -cp path/to/jars/* com.mypackage.Main</code></p>\n\n<p>And this one because -- I'm not sure why:</p>\n\n<p><code>java -cp \"*.jar\" com.mypackage.Main</code></p>\n\n<p>This worked:</p>\n\n<p><code>java -cp \"path/to/jars/*\" com.mypackage.Main</code></p>\n\n<p>Listing the two jars explicitly also worked:</p>\n\n<p><code>java -cp path/to/jars/jar1.jar:path/to/jars/jar2.jar com.mypackage.Main</code></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1611291158,"post_id":61711451,"comment_id":116409013,"body_markdown":"Says same thing as https://stackoverflow.com/a/26587225/139985 (from 2014)","body":"Says same thing as <a href=\"https://stackoverflow.com/a/26587225/139985\">stackoverflow.com/a/26587225/139985</a> (from 2014)"}],"tags":[],"owner":{"account_id":10359554,"reputation":119,"user_id":7640451,"display_name":"Ryan Luo Xu"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1589111301,"creation_date":1589111301,"answer_id":61711451,"question_id":18093928,"body_markdown":"I got this issue for my demo program created in IntelliJ.\r\n\r\nThere are two key points to solve it:\r\n\r\n 1. the package name of program\r\n 2. the current working dir of the terminal/cmd prompt \r\n\r\nmy demo program:\r\n\r\n```\r\npackage io.rlx.tij.c2;\r\n\r\npublic class Ex10 {\r\n    public static void main(String[] args) {\r\n        // do something\r\n    }\r\n}\r\n```\r\n\r\nthe path of source code: \r\n```\r\n../projectRoot/src/main/java/io/rlx/tij/c2/Ex10.java\r\n```\r\n\r\n 1. go to `java` dir: `cd ../projectRoot/src/main/java`\r\n 2. compile to class: `javac ./io/rlx/tij/c2/Ex10.java`\r\n 3. run program: `java io.rlx.tij.c2.Ex10`\r\n\r\nif I run program in `../projectRoot/src/main/java/io/rlx/tij/c2` or I run it without package name, I will get this error: `Error: Could not find or load main class`.","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I got this issue for my demo program created in IntelliJ.</p>\n\n<p>There are two key points to solve it:</p>\n\n<ol>\n<li>the package name of program</li>\n<li>the current working dir of the terminal/cmd prompt </li>\n</ol>\n\n<p>my demo program:</p>\n\n<pre><code>package io.rlx.tij.c2;\n\npublic class Ex10 {\n    public static void main(String[] args) {\n        // do something\n    }\n}\n</code></pre>\n\n<p>the path of source code: </p>\n\n<pre><code>../projectRoot/src/main/java/io/rlx/tij/c2/Ex10.java\n</code></pre>\n\n<ol>\n<li>go to <code>java</code> dir: <code>cd ../projectRoot/src/main/java</code></li>\n<li>compile to class: <code>javac ./io/rlx/tij/c2/Ex10.java</code></li>\n<li>run program: <code>java io.rlx.tij.c2.Ex10</code></li>\n</ol>\n\n<p>if I run program in <code>../projectRoot/src/main/java/io/rlx/tij/c2</code> or I run it without package name, I will get this error: <code>Error: Could not find or load main class</code>.</p>\n"},{"tags":[],"owner":{"account_id":16241595,"reputation":87,"user_id":11727767,"display_name":"Hayk Kerobyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591389155,"creation_date":1591389155,"answer_id":62223705,"question_id":18093928,"body_markdown":"If you use IntelliJ and get the error while running the main method from the IDE, just make sure your class is located in ```java``` package, not in ```kotlin```[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ez1zF.png","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>If you use IntelliJ and get the error while running the main method from the IDE, just make sure your class is located in <code>java</code> package, not in <code>kotlin</code><a href=\"https://i.stack.imgur.com/ez1zF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ez1zF.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1594730155,"post_id":62895260,"comment_id":111222715,"body_markdown":"Reason #2c - incorrect classpath / missing dependency","body":"Reason #2c - incorrect classpath / missing dependency"}],"tags":[],"owner":{"account_id":13945822,"reputation":291,"user_id":10070611,"display_name":"Vitaliy"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1594729857,"creation_date":1594729857,"answer_id":62895260,"question_id":18093928,"body_markdown":"One more scenario that got me scratch my head, and I found no reference to it herein, is:\r\n\r\n\r\n    package com.me\r\n    Public class Awesome extends AwesomeLibObject {\r\n        ....\r\n        public static void main(String[] argv) {\r\n\t\t     System.out.println(&quot;YESS0&quot;);\r\n        }\r\n    }\r\n\r\nWhere AwesomeLibObject is a class defined in an external lib.\r\nI got the same confusing error message for it:\r\n \r\n`Error: Could not find or load main class com.Awesome` \r\n\r\nThe resolution is simple: the external lib must be in classpath as well!","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>One more scenario that got me scratch my head, and I found no reference to it herein, is:</p>\n<pre><code>package com.me\nPublic class Awesome extends AwesomeLibObject {\n    ....\n    public static void main(String[] argv) {\n         System.out.println(&quot;YESS0&quot;);\n    }\n}\n</code></pre>\n<p>Where AwesomeLibObject is a class defined in an external lib.\nI got the same confusing error message for it:</p>\n<p><code>Error: Could not find or load main class com.Awesome</code></p>\n<p>The resolution is simple: the external lib must be in classpath as well!</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1600311314,"post_id":63930549,"comment_id":113049306,"body_markdown":"If that works for you, then your source code must have a `package javaapplication3;` statement that you haven&#39;t included in the answer.","body":"If that works for you, then your source code must have a <code>package javaapplication3;</code> statement that you haven&#39;t included in the answer."},{"owner":{"account_id":14389869,"reputation":61,"user_id":10394741,"display_name":"Vishv Shroff"},"score":1,"creation_date":1600311540,"post_id":63930549,"comment_id":113049351,"body_markdown":"@StephenC Ohh I am sorry I for include that I will update my answer.","body":"@StephenC Ohh I am sorry I for include that I will update my answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1611291093,"post_id":63930549,"comment_id":116409001,"body_markdown":"Now it says essentially the same thing as https://stackoverflow.com/a/26587225/139985 (from 2014)","body":"Now it says essentially the same thing as <a href=\"https://stackoverflow.com/a/26587225/139985\">stackoverflow.com/a/26587225/139985</a> (from 2014)"}],"tags":[],"owner":{"account_id":14389869,"reputation":61,"user_id":10394741,"display_name":"Vishv Shroff"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600311698,"creation_date":1600310953,"answer_id":63930549,"question_id":18093928,"body_markdown":"After searching for 2 days I found this solution and this works. It is pretty weird but it works for me.\r\n\r\n    package javaapplication3;\r\n    public class JavaApplication3 {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n    \r\n}\r\n\r\nthis is my program i want to run that locates at C:\\Java Projects\\JavaApplication3\\src\\javaapplication3\r\n\r\nNow open cmd on this location and compile program using this command\r\n\r\n    javac JavaApplication3.java\r\n\r\nAfter compiling navigate one directory down i.e. C:\\Java Projects\\JavaApplication3\\src\r\n\r\nnow run following command to execute program \r\n\r\n    java javaapplication3.JavaApplication3\r\n\r\n  ","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>After searching for 2 days I found this solution and this works. It is pretty weird but it works for me.</p>\n<pre><code>package javaapplication3;\npublic class JavaApplication3 {\n\n/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) {\n    // TODO code application logic here\n    System.out.println(&quot;Hello&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>this is my program i want to run that locates at C:\\Java Projects\\JavaApplication3\\src\\javaapplication3</p>\n<p>Now open cmd on this location and compile program using this command</p>\n<pre><code>javac JavaApplication3.java\n</code></pre>\n<p>After compiling navigate one directory down i.e. C:\\Java Projects\\JavaApplication3\\src</p>\n<p>now run following command to execute program</p>\n<pre><code>java javaapplication3.JavaApplication3\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1611291083,"post_id":63969042,"comment_id":116408998,"body_markdown":"Says same thing as https://stackoverflow.com/a/26587225/139985 (from 2014)","body":"Says same thing as <a href=\"https://stackoverflow.com/a/26587225/139985\">stackoverflow.com/a/26587225/139985</a> (from 2014)"}],"tags":[],"owner":{"account_id":2628131,"reputation":873,"user_id":2274744,"display_name":"Ted"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1600520630,"creation_date":1600520117,"answer_id":63969042,"question_id":18093928,"body_markdown":"**Scenario:** using command prompt(**CMD** in Windows) for **compile** and **run** a simple &#39;java&#39; program which have only &#39;**Main.java**&#39; file, with specified &#39;**package main**&#39;.\r\n\r\n   ***Source file path :***\r\n                      \r\n\r\n&gt; some-project-name-folder\\src\\main\\Main.java\r\n\r\n  ***Destination folder :***\r\n\r\n&gt; some-project-name-folder\\dest\r\n\r\n  ***Destination file path (folder &#39;\\main&#39; and file &#39;\\Main.class&#39; will be produced by &#39;javac&#39;) :***\r\n\t\t              \r\n\r\n&gt; some-project-name-folder\\dest\\main\\Main.class\r\n\r\n**Main.java** is as follow :\r\n\r\n\tpackage main;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }\r\n    }\r\n\r\n**Compilation :**\r\n\r\n    // &#39;javac&#39; compiler will produce &#39;Main.class&#39; in the &#39;dest\\main&#39; folder.\r\n\t// &#39;main&#39; folder is created because in the source file(in our case: &#39;Main.java&#39;) is\r\n\t// specified &#39;package main&#39;.\r\n\t\r\n    javac -d ./dest ./src/main/Main.java\r\n\r\n\r\n**Run compiled file (in our case: &#39;Main.class&#39;) :**\r\n\r\n\t// &#39;-cp&#39;(is the same as &#39;-classpath&#39;)\r\n\t// &#39;./dest&#39;(means destination folder, where resides compiled &#39;Main.class&#39;).\r\n\t// &#39;main.Main&#39;(means &#39;package&#39; &#39;main&#39;, which contains class &#39;Main&#39;(&#39;Main.class&#39;))\r\n\t// WARNING: when run &#39;java&#39; class, MUST NOT type extension &#39;.class&#39;\r\n    //          after &#39;class name\r\n\t//          (in our case: &#39;main.Main&#39;(&lt;package&gt;.&lt;class-name&gt;) WITHOUT extension \r\n    //           &#39;.class&#39;).\r\n\r\n\tjava -cp ./dest main.Main\r\n\r\n    // Hello world","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p><strong>Scenario:</strong> using command prompt(<strong>CMD</strong> in Windows) for <strong>compile</strong> and <strong>run</strong> a simple 'java' program which have only '<strong>Main.java</strong>' file, with specified '<strong>package main</strong>'.</p>\n<p><em><strong>Source file path :</strong></em></p>\n<blockquote>\n<p>some-project-name-folder\\src\\main\\Main.java</p>\n</blockquote>\n<p><em><strong>Destination folder :</strong></em></p>\n<blockquote>\n<p>some-project-name-folder\\dest</p>\n</blockquote>\n<p><em><strong>Destination file path (folder '\\main' and file '\\Main.class' will be produced by 'javac') :</strong></em></p>\n<blockquote>\n<p>some-project-name-folder\\dest\\main\\Main.class</p>\n</blockquote>\n<p><strong>Main.java</strong> is as follow :</p>\n<pre><code>package main;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p><strong>Compilation :</strong></p>\n<pre><code>// 'javac' compiler will produce 'Main.class' in the 'dest\\main' folder.\n// 'main' folder is created because in the source file(in our case: 'Main.java') is\n// specified 'package main'.\n\njavac -d ./dest ./src/main/Main.java\n</code></pre>\n<p><strong>Run compiled file (in our case: 'Main.class') :</strong></p>\n<pre><code>// '-cp'(is the same as '-classpath')\n// './dest'(means destination folder, where resides compiled 'Main.class').\n// 'main.Main'(means 'package' 'main', which contains class 'Main'('Main.class'))\n// WARNING: when run 'java' class, MUST NOT type extension '.class'\n//          after 'class name\n//          (in our case: 'main.Main'(&lt;package&gt;.&lt;class-name&gt;) WITHOUT extension \n//           '.class').\n\njava -cp ./dest main.Main\n\n// Hello world\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1604528765,"post_id":64685060,"comment_id":114377991,"body_markdown":"1) Doesn&#39;t answer the question.  2)  &quot;Alternative syntaxes for java&quot; alternative #3.","body":"1) Doesn&#39;t answer the question.  2)  &quot;Alternative syntaxes for java&quot; alternative #3."}],"tags":[],"owner":{"account_id":6615151,"reputation":7343,"user_id":5108695,"display_name":"Dupinder Singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1604511507,"creation_date":1604511507,"answer_id":64685060,"question_id":18093928,"body_markdown":"[Java Version: 11]\r\n\r\nIf you are using Java 11 then you don&#39;t need to compile and run your java file.\r\n\r\nJust run like\r\n\r\n`Java ClassName.java` \r\n\r\nExample:\r\n\r\n\r\n    \r\n    class abc{ \r\n    \tpublic static void main(String[] args){\r\n    \t\tSystem.out.println(&quot;hello Jarvis &quot;);\t\r\n    \t}\r\n    }\r\n\r\nNow Run the command \r\n\r\n    java abc.java\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MKrnv.png","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>[Java Version: 11]</p>\n<p>If you are using Java 11 then you don't need to compile and run your java file.</p>\n<p>Just run like</p>\n<p><code>Java ClassName.java</code></p>\n<p>Example:</p>\n<pre><code>class abc{ \n    public static void main(String[] args){\n        System.out.println(&quot;hello Jarvis &quot;);    \n    }\n}\n</code></pre>\n<p>Now Run the command</p>\n<pre><code>java abc.java\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MKrnv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MKrnv.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1609476784,"post_id":65475747,"comment_id":115850932,"body_markdown":"Thanks, but no thanks.  The behavior of classloader hierarchies is unlikely to be the cause of the reader&#39;s problems.  If you look at reason #2, you will notice that it is written to **encourage** to reader to go elsewhere for an explanation of the classpath and related things.  I made a deliberate and considered decision to do that.  (Ideally there should be another canonical Q&amp;A that describes that stuff.  Also, notice that people are already complaining that my answer to this question is already too long.","body":"Thanks, but no thanks.  The behavior of classloader hierarchies is unlikely to be the cause of the reader&#39;s problems.  If you look at reason #2, you will notice that it is written to <b>encourage</b> to reader to go elsewhere for an explanation of the classpath and related things.  I made a deliberate and considered decision to do that.  (Ideally there should be another canonical Q&amp;A that describes that stuff.  Also, notice that people are already complaining that my answer to this question is already too long."}],"tags":[],"owner":{"account_id":8629822,"reputation":392,"user_id":6461839,"display_name":"leonidaa"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643844997,"creation_date":1609149130,"answer_id":65475747,"question_id":18093928,"body_markdown":"Reason #2 - the application&#39;s classpath is incorrectly specified. Read the three documents linked previously. (Yes ... *read* them! It is important that a Java programmer understands at least the basics of how the Java classpath mechanisms works.) I want to add this documentation to this very good post from above.\r\n\r\nJDK Tools and Utilities     General    General Information (file structure, classpath, how classes are found, changes) Enhancements (enhancements in JDK 7) Standard JDK Tools and Utilities\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/index.html\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/findingclasses.html\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n\r\nHow the Java Launcher Finds Classes Understanding the class path and package names\r\n\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html\r\n\r\nClassLoader in Java The Java ClassLoader is a part of the Java Runtime Environment that dynamically loads Java classes into the Java Virtual Machine. The Java run time system does not need to know about files and file systems because of classloaders.\r\n\r\nJava classes aren’t loaded into memory all at once, but when required by an application. At this point, the Java ClassLoader is called by the JRE and these ClassLoaders load classes into memory dynamically.\r\n\r\nhttps://en.wikipedia.org/wiki/Java_Classloader\r\n\r\nhttps://www.geeksforgeeks.org/classloader-in-java/\r\n\r\nhttps://en.wikipedia.org/wiki/Java_virtual_machine\r\n\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n[![Enter image description here][2]][2]\r\n\r\n[![Enter image description here][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/VlGLG.png\r\n  [2]: https://i.stack.imgur.com/WnlrO.png\r\n  [3]: https://i.stack.imgur.com/yJCPt.png\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Reason #2 - the application's classpath is incorrectly specified. Read the three documents linked previously. (Yes ... <em>read</em> them! It is important that a Java programmer understands at least the basics of how the Java classpath mechanisms works.) I want to add this documentation to this very good post from above.</p>\n<p>JDK Tools and Utilities     General    General Information (file structure, classpath, how classes are found, changes) Enhancements (enhancements in JDK 7) Standard JDK Tools and Utilities</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/index.html</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/findingclasses.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/findingclasses.html</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html</a></p>\n<p>How the Java Launcher Finds Classes Understanding the class path and package names</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html</a></p>\n<p>ClassLoader in Java The Java ClassLoader is a part of the Java Runtime Environment that dynamically loads Java classes into the Java Virtual Machine. The Java run time system does not need to know about files and file systems because of classloaders.</p>\n<p>Java classes aren’t loaded into memory all at once, but when required by an application. At this point, the Java ClassLoader is called by the JRE and these ClassLoaders load classes into memory dynamically.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_Classloader\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_Classloader</a></p>\n<p><a href=\"https://www.geeksforgeeks.org/classloader-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/classloader-in-java/</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_virtual_machine</a></p>\n<p><a href=\"https://i.stack.imgur.com/VlGLG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VlGLG.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WnlrO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WnlrO.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yJCPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yJCPt.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8629822,"reputation":392,"user_id":6461839,"display_name":"leonidaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643833016,"creation_date":1609175538,"answer_id":65481342,"question_id":18093928,"body_markdown":" - In [IntelliJ IDEA][1], check your *global* libraries* and *local libraries*\r\n - Check in the libraries version file *pom.xml*, Maybe it is an old library\r\n - They are so many possibilities mentioned in the previous answers that need to be tried too\r\n\r\n  [1]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n\r\n\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<ul>\n<li>In <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>, check your <em>global</em> libraries* and <em>local libraries</em></li>\n<li>Check in the libraries version file <em>pom.xml</em>, Maybe it is an old library</li>\n<li>They are so many possibilities mentioned in the previous answers that need to be tried too</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1610490655,"post_id":65691950,"comment_id":116149767,"body_markdown":"This should make zero difference.  Both forms are valid Java, and they are equivalent.","body":"This should make zero difference.  Both forms are valid Java, and they are equivalent."},{"owner":{"account_id":2367173,"reputation":97,"user_id":2072661,"display_name":"Shardayyy"},"score":0,"creation_date":1610580276,"post_id":65691950,"comment_id":116182394,"body_markdown":"I will edit, the classpath &quot;./&quot;, made the biggest difference.","body":"I will edit, the classpath &quot;./&quot;, made the biggest difference."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1610580441,"post_id":65691950,"comment_id":116182434,"body_markdown":"Well, yea.  An incorrect classpath is reason #2 of the accepted answer.  And note that your particular fix only works in some circumstances.  (It won&#39;t work on MacOS or Linux for instance.)","body":"Well, yea.  An incorrect classpath is reason #2 of the accepted answer.  And note that your particular fix only works in some circumstances.  (It won&#39;t work on MacOS or Linux for instance.)"}],"tags":[],"owner":{"account_id":2367173,"reputation":97,"user_id":2072661,"display_name":"Shardayyy"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643830253,"creation_date":1610485133,"answer_id":65691950,"question_id":18093928,"body_markdown":"This is how I solved my issue.\r\n\r\nI noticed if you are including jar files with your compilation, adding the current directory (./) to the classpath helps.\r\n\r\n```lang-none\r\njavac -cp &quot;abc.jar;efg.jar&quot; MyClass.java\r\njava -cp &quot;abc.jar;efg.jar&quot; MyClass\r\n```\r\n\r\nvs.\r\n\r\n```lang-none\r\njavac -cp &quot;**./**;abc.jar;efg.jar&quot; MyClass.java&lt;br&gt;\r\njava -cp &quot;**./**;abc.jar;efg.jar&quot; MyClass\r\n```\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>This is how I solved my issue.</p>\n<p>I noticed if you are including jar files with your compilation, adding the current directory (./) to the classpath helps.</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -cp &quot;abc.jar;efg.jar&quot; MyClass.java\njava -cp &quot;abc.jar;efg.jar&quot; MyClass\n</code></pre>\n<p>vs.</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -cp &quot;**./**;abc.jar;efg.jar&quot; MyClass.java&lt;br&gt;\njava -cp &quot;**./**;abc.jar;efg.jar&quot; MyClass\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1612398590,"post_id":66032687,"comment_id":116758021,"body_markdown":"Why did it solve the problem?  What are you actually doing here?  This looks like a hack that you might do if you were modifying a signed JAR file.  Please explain what you are actually doing ... so that people can decide whether your &quot;this works for me&quot; solution is relevant to what they are doing.","body":"Why did it solve the problem?  What are you actually doing here?  This looks like a hack that you might do if you were modifying a signed JAR file.  Please explain what you are actually doing ... so that people can decide whether your &quot;this works for me&quot; solution is relevant to what they are doing."}],"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1612373517,"creation_date":1612373517,"answer_id":66032687,"question_id":18093928,"body_markdown":"Excluding the following files solved the problem.\r\n\r\nMETA-INF/*.SF\r\n\r\nMETA-INF/*.DSA\r\n\r\nMETA-INF/*.RSA\r\n\r\nAdded the following code in `build.gradle`\r\n\r\n    jar {\r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        {\r\n            exclude &quot;META-INF/*.SF&quot;\r\n            exclude &quot;META-INF/*.DSA&quot;\r\n            exclude &quot;META-INF/*.RSA&quot;\r\n        }\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;mainclass&#39;\r\n            )\r\n        }\r\n    }","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Excluding the following files solved the problem.</p>\n<p>META-INF/*.SF</p>\n<p>META-INF/*.DSA</p>\n<p>META-INF/*.RSA</p>\n<p>Added the following code in <code>build.gradle</code></p>\n<pre><code>jar {\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    {\n        exclude &quot;META-INF/*.SF&quot;\n        exclude &quot;META-INF/*.DSA&quot;\n        exclude &quot;META-INF/*.RSA&quot;\n    }\n    manifest {\n        attributes(\n                'Main-Class': 'mainclass'\n        )\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1643829498,"post_id":69252032,"comment_id":125446049,"body_markdown":"What tutorial? It should output *&quot;[Hello, World!](https://en.wikipedia.org/wiki/%22Hello,_World!%22_program)&quot;* (not *&quot;Hello world!&quot;*)","body":"What tutorial? It should output <i>&quot;<a href=\"https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\" rel=\"nofollow noreferrer\">Hello, World!</a>&quot;</i> (not <i>&quot;Hello world!&quot;</i>)"},{"owner":{"account_id":10059377,"reputation":173,"user_id":7436591,"display_name":"Prashanth Pradeep"},"score":0,"creation_date":1649057564,"post_id":69252032,"comment_id":126770432,"body_markdown":"Also to add to this, the hello.HelloWorld is case sensitive. So if your folder package name is Hello, then the command will be:  java -cp . Hello.HelloWorld","body":"Also to add to this, the hello.HelloWorld is case sensitive. So if your folder package name is Hello, then the command will be:  java -cp . Hello.HelloWorld"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656897033,"post_id":69252032,"comment_id":128675770,"body_markdown":"This answer is incomplete.  Apparently, Rishi was trying to run a `HelloWorld` class that had a `package hello;` statement.  (That&#39;s the only way what he did could have worked.)","body":"This answer is incomplete.  Apparently, Rishi was trying to run a <code>HelloWorld</code> class that had a <code>package hello;</code> statement.  (That&#39;s the only way what he did could have worked.)"}],"tags":[],"owner":{"account_id":12232652,"reputation":4002,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1643829433,"creation_date":1632129997,"answer_id":69252032,"question_id":18093928,"body_markdown":"I came one level up. So, now the *HelloWorld.class* file is in *hello\\HelloWorld.class* and I ran the below command. Where *cp* is classpath and `.` means check in current directory only.\r\n\r\n    java -cp . hello.HelloWorld\r\n\r\nOutput\r\n\r\n    Hello world!\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>I came one level up. So, now the <em>HelloWorld.class</em> file is in <em>hello\\HelloWorld.class</em> and I ran the below command. Where <em>cp</em> is classpath and <code>.</code> means check in current directory only.</p>\n<pre><code>java -cp . hello.HelloWorld\n</code></pre>\n<p>Output</p>\n<pre><code>Hello world!\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22335295,"reputation":9,"user_id":16555987,"display_name":"Juliano Soder"},"score":0,"creation_date":1639427439,"post_id":70340493,"comment_id":124341351,"body_markdown":"If your are not running a maven project try check out your java PATH, sometimes if the java path are not set your program won&#39;t run, &#39;cause cant find the main class.","body":"If your are not running a maven project try check out your java PATH, sometimes if the java path are not set your program won&#39;t run, &#39;cause cant find the main class."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1669589955,"post_id":70340493,"comment_id":131670289,"body_markdown":"The Question is not about how to get Maven to run.","body":"The Question is not about how to get Maven to run."}],"tags":[],"owner":{"account_id":22335295,"reputation":9,"user_id":16555987,"display_name":"Juliano Soder"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643829713,"creation_date":1639427029,"answer_id":70340493,"question_id":18093928,"body_markdown":"The simplest way you can fix it is by redownloading the [Maven][1] Apache here: https://maven.apache.org/download.cgi\r\n\r\nThan you set your path again:\r\n\r\n [![Enter image description here][2]][2]\r\n\r\n### System variable\r\n\r\nPut the path there where you set your Apache Maven folder like: *C:\\Program Files\\apache-maven-3.8.4\\bin*\r\n\r\n[![Enter image description here][3]][3]\r\n\r\nRestart the terminal or IDE, and it should work.\r\n\r\nIt always works for me.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [2]: https://i.stack.imgur.com/wPpMi.png\r\n  [3]: https://i.stack.imgur.com/Gtf2U.png\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>The simplest way you can fix it is by redownloading the <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> Apache here: <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://maven.apache.org/download.cgi</a></p>\n<p>Than you set your path again:</p>\n<p><a href=\"https://i.stack.imgur.com/wPpMi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wPpMi.png\" alt=\"Enter image description here\" /></a></p>\n<h3>System variable</h3>\n<p>Put the path there where you set your Apache Maven folder like: <em>C:\\Program Files\\apache-maven-3.8.4\\bin</em></p>\n<p><a href=\"https://i.stack.imgur.com/Gtf2U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gtf2U.png\" alt=\"Enter image description here\" /></a></p>\n<p>Restart the terminal or IDE, and it should work.</p>\n<p>It always works for me.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642988381,"post_id":70827992,"comment_id":125213028,"body_markdown":"This answer is misleading.  The exception + message can be caused by many different things.  It is NOT &quot;basically&quot; caused by one thing.","body":"This answer is misleading.  The exception + message can be caused by many different things.  It is NOT &quot;basically&quot; caused by one thing."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1642988845,"post_id":70827992,"comment_id":125213094,"body_markdown":"And ... in fact ... if your &quot;main&quot; class (`Hello` in your example) doesn&#39;t contain a suitable `main` method, you will actually get a **different** exception + message.   So your answer is not even *apropos* the question.","body":"And ... in fact ... if your &quot;main&quot; class (<code>Hello</code> in your example) doesn&#39;t contain a suitable <code>main</code> method, you will actually get a <b>different</b> exception + message.   So your answer is not even <i>apropos</i> the question."}],"tags":[],"owner":{"account_id":23649881,"reputation":141,"user_id":17678908,"display_name":"TheWaterWave222"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642986731,"creation_date":1642986731,"answer_id":70827992,"question_id":18093928,"body_markdown":"It basically means that there isn&#39;t a static ```main(String[] args)``` method. It should resolve it automatically. If it doesn&#39;t, something was screwed when the program was either made (it doesn&#39;t have a main method) or when the program was packaged (incorrect manifest information.)\r\n\r\nThis works\r\n```\r\npublic class Hello {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n```\r\nThis doesn&#39;t work\r\n```\r\npublic class Hello {\r\n    public Hello() {\r\n        System.out.println(&quot;Hello&quot;);\r\n    }\r\n}\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>It basically means that there isn't a static <code>main(String[] args)</code> method. It should resolve it automatically. If it doesn't, something was screwed when the program was either made (it doesn't have a main method) or when the program was packaged (incorrect manifest information.)</p>\n<p>This works</p>\n<pre><code>public class Hello {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>This doesn't work</p>\n<pre><code>public class Hello {\n    public Hello() {\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9767041,"reputation":920,"user_id":7240133,"display_name":"Lefteris Xris"},"score":3,"creation_date":1643706699,"post_id":70937285,"comment_id":125404965,"body_markdown":"I edited your post&#39;s format (the executable blocks) so please mind the formatting on your next posts. In addition, what is the added value compared to that answer? (same post) https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/26587225#26587225","body":"I edited your post&#39;s format (the executable blocks) so please mind the formatting on your next posts. In addition, what is the added value compared to that answer? (same post) <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean/26587225#26587225\" title=\"what does could not find or load main class mean\">stackoverflow.com/questions/18093928/&hellip;</a>"}],"tags":[],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1643829934,"creation_date":1643703044,"answer_id":70937285,"question_id":18093928,"body_markdown":"If your package name is *javatpoint* and the package name is *com.javatpoint* and the class name is *AnotherOne*, then compile your class like this type:\r\n\r\n```lang-none\r\ncd C:\\Users\\JAY GURUDEV\\eclipse-workspace\\javatpoint\\src\\com\\javatpoint\r\njavac AnotherOne.java\r\n```\r\n\r\nAnd run this class using\r\n\r\n```lang-none\r\ncd C:\\Users\\JAY GURUDEV\\eclipse-workspace\\javatpoint\\src\r\njava com.javatpoint.AnotherOne\r\n```\r\n\r\n(Here the package name should be excluded.)\r\n\r\n\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>If your package name is <em>javatpoint</em> and the package name is <em>com.javatpoint</em> and the class name is <em>AnotherOne</em>, then compile your class like this type:</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd C:\\Users\\JAY GURUDEV\\eclipse-workspace\\javatpoint\\src\\com\\javatpoint\njavac AnotherOne.java\n</code></pre>\n<p>And run this class using</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd C:\\Users\\JAY GURUDEV\\eclipse-workspace\\javatpoint\\src\njava com.javatpoint.AnotherOne\n</code></pre>\n<p>(Here the package name should be excluded.)</p>\n"},{"tags":[],"owner":{"account_id":4999034,"reputation":1880,"user_id":6722075,"display_name":"Tohid Makari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654955144,"creation_date":1654955144,"answer_id":72584868,"question_id":18093928,"body_markdown":"In `Intellij IDE` select `run/debug&gt;&gt;edit configuration` and then select proper `JDK` for build and run menu.\r\n\r\n","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In <code>Intellij IDE</code> select <code>run/debug&gt;&gt;edit configuration</code> and then select proper <code>JDK</code> for build and run menu.</p>\n"},{"tags":[],"owner":{"account_id":15955644,"reputation":347,"user_id":11513875,"display_name":"Abdur Rehman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654973044,"creation_date":1654973044,"answer_id":72587035,"question_id":18093928,"body_markdown":"For a new version of Java which is Java18 up to until 2022.\r\nYou have to only write the **package** keyword and the folder name in which you have the java extension file and semicolon, like below:\r\n    \r\n`package JavaProgramming;`\r\n\r\nbecause I have the hello.java file in the JavaProgramming file.\r\n**Note:** Never give the space while writing folder names for java. Like *Java Programming* you have to keep it like; *JavaProgramming*, etc;\r\n\r\nThe whole code structure of a simple hello world is given below:\r\n\r\n    package JavaProgramming;\r\n\r\n    public class hello {\r\n      public static void main(String[] args) {\r\n         System.out.println(&quot;Hello java after long time&quot;);\r\n          }\r\n        }","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>For a new version of Java which is Java18 up to until 2022.\nYou have to only write the <strong>package</strong> keyword and the folder name in which you have the java extension file and semicolon, like below:</p>\n<p><code>package JavaProgramming;</code></p>\n<p>because I have the hello.java file in the JavaProgramming file.\n<strong>Note:</strong> Never give the space while writing folder names for java. Like <em>Java Programming</em> you have to keep it like; <em>JavaProgramming</em>, etc;</p>\n<p>The whole code structure of a simple hello world is given below:</p>\n<pre><code>package JavaProgramming;\n\npublic class hello {\n  public static void main(String[] args) {\n     System.out.println(&quot;Hello java after long time&quot;);\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343034,"reputation":59,"user_id":674506,"display_name":"Uldis Barbans"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685820675,"creation_date":1685820675,"answer_id":76397736,"question_id":18093928,"body_markdown":"Among all the answers so far, I lacked someone to call out this gross pitfall with regard to correct specification of application&#39;s classpath:\r\n\r\n**If your application and your dependencies are packaged as jars on the filesystem, and you try to run it using the `java [options] &lt;mainclass&gt;` variant, then supplying directory name(s) in CLASSPATH is not enough! You have to add the `/*` wildcard!**\r\n\r\n[Documentation](https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html) is kind of elusive on this:\r\n\r\n&gt; If the class path option isn&#39;t used and [CLASSPATH] isn&#39;t set, then the user class path consists of the current directory (.).\r\n&gt; \r\n&gt; ...\r\n\r\nThis sentence would make you presume that running `java com.acme.example.Gerbera` with *all the needed jars in your current directory* would surely work by default. Alas, it doesn&#39;t. You need to read a bit further in the documentation. What you need to do is `CLASSPATH=./* java com.acme.example.Gerbera`, or alternatively enumerate all the .jar filenames literally, with the appropriate separator.","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>Among all the answers so far, I lacked someone to call out this gross pitfall with regard to correct specification of application's classpath:</p>\n<p><strong>If your application and your dependencies are packaged as jars on the filesystem, and you try to run it using the <code>java [options] &lt;mainclass&gt;</code> variant, then supplying directory name(s) in CLASSPATH is not enough! You have to add the <code>/*</code> wildcard!</strong></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">Documentation</a> is kind of elusive on this:</p>\n<blockquote>\n<p>If the class path option isn't used and [CLASSPATH] isn't set, then the user class path consists of the current directory (.).</p>\n<p>...</p>\n</blockquote>\n<p>This sentence would make you presume that running <code>java com.acme.example.Gerbera</code> with <em>all the needed jars in your current directory</em> would surely work by default. Alas, it doesn't. You need to read a bit further in the documentation. What you need to do is <code>CLASSPATH=./* java com.acme.example.Gerbera</code>, or alternatively enumerate all the .jar filenames literally, with the appropriate separator.</p>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689620404,"creation_date":1689620404,"answer_id":76707386,"question_id":18093928,"body_markdown":"In my case, my class was referring a file which was opened outside Eclipse. So it could not regenerate class on recompiling. Need to make sure all issues in &quot;Problems&quot; tab are cleared out. ","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>In my case, my class was referring a file which was opened outside Eclipse. So it could not regenerate class on recompiling. Need to make sure all issues in &quot;Problems&quot; tab are cleared out.</p>\n"},{"tags":[],"owner":{"account_id":6683250,"reputation":115,"user_id":5155570,"display_name":"Gayathri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695211649,"creation_date":1695211649,"answer_id":77142265,"question_id":18093928,"body_markdown":"For Java 17, I had to ensure one of the classes in a module atleast had a main method. Simply adding the main method fixed it for me","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>For Java 17, I had to ensure one of the classes in a module atleast had a main method. Simply adding the main method fixed it for me</p>\n"}],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4344519,"favorite_count":0,"down_vote_count":17,"up_vote_count":1901,"accepted_answer_id":18093929,"answer_count":64,"score":1884,"last_activity_date":1697786492,"creation_date":1375844566,"question_id":18093928,"body_markdown":"A common problem that new Java developers experience is that their programs fail to run with the error message:  `Could not find or load main class ...`\r\n\r\nWhat does this mean, what causes it, and how should you fix it?","title":"What does &quot;Could not find or load main class&quot; mean?","body":"<p>A common problem that new Java developers experience is that their programs fail to run with the error message:  <code>Could not find or load main class ...</code></p>\n\n<p>What does this mean, what causes it, and how should you fix it?</p>\n"},{"tags":["java","spring-boot","eclipse","spring-security","backend"],"comments":[{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690877863,"post_id":76809698,"comment_id":135410760,"body_markdown":"I am using a youtube tutorial to learn spring security.  If anyone could tell me about other resources to stay updated with the latest version of spring security it would be  appreciable thanks for reading my question","body":"I am using a youtube tutorial to learn spring security.  If anyone could tell me about other resources to stay updated with the latest version of spring security it would be  appreciable thanks for reading my question"},{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690877903,"post_id":76809698,"comment_id":135410770,"body_markdown":"I am unable to understand what are mvc and non-mvc patterns if anyone could explain it to me it would be a great  deal","body":"I am unable to understand what are mvc and non-mvc patterns if anyone could explain it to me it would be a great  deal"},{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1690881044,"post_id":76809698,"comment_id":135411457,"body_markdown":"Thank you for editing James it would be better if you could provide some help","body":"Thank you for editing James it would be better if you could provide some help"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1690889457,"post_id":76809698,"comment_id":135413190,"body_markdown":"this solves your problem https://spring.io/security/cve-2023-34035","body":"this solves your problem <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"nofollow noreferrer\">spring.io/security/cve-2023-34035</a>"},{"owner":{"account_id":7115123,"reputation":77,"user_id":5441709,"display_name":"Raster R"},"score":0,"creation_date":1691040518,"post_id":76809698,"comment_id":135437470,"body_markdown":"@Toerktumlare is correct but the answer can be elaborated more","body":"@Toerktumlare is correct but the answer can be elaborated more"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1691053250,"post_id":76809698,"comment_id":135440337,"body_markdown":"One thing that is wrong with your configuration is that you have `auth.anyRequest().authenticated();` twice. Basically the first one already renders everything after that useless. This line has to come last not as the first, as the rules are consulted in the order they are defined in .","body":"One thing that is wrong with your configuration is that you have <code>auth.anyRequest().authenticated();</code> twice. Basically the first one already renders everything after that useless. This line has to come last not as the first, as the rules are consulted in the order they are defined in ."}],"answers":[{"comments":[{"owner":{"account_id":4019662,"reputation":697,"user_id":3450689,"accept_rate":71,"display_name":"Christoph S"},"score":0,"creation_date":1691564645,"post_id":76825159,"comment_id":135507018,"body_markdown":"But how do I use it with Vaadin? I only have WebSecurity","body":"But how do I use it with Vaadin? I only have WebSecurity"},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1691568575,"post_id":76825159,"comment_id":135507749,"body_markdown":"@ChristophS haven&#39;t used Vaadin in a long while. Are you saying you faced the same issue in Vaadin recently? This is a recent spring boot latest issue. Where you using spring with Vaadin?","body":"@ChristophS haven&#39;t used Vaadin in a long while. Are you saying you faced the same issue in Vaadin recently? This is a recent spring boot latest issue. Where you using spring with Vaadin?"},{"owner":{"account_id":4019662,"reputation":697,"user_id":3450689,"accept_rate":71,"display_name":"Christoph S"},"score":0,"creation_date":1691590131,"post_id":76825159,"comment_id":135512386,"body_markdown":"Yes, I am using Vaadin with Spring Boot, upgraded to spring boot 3.1.2 and got this issue with the overriden webSecurity, but cannot change to mvc matcher\nhttps://vaadin.com/docs/latest/security/enabling-security \nwith \nweb.ignoring().requestMatchers(&quot;/actuator/health/**&quot;);","body":"Yes, I am using Vaadin with Spring Boot, upgraded to spring boot 3.1.2 and got this issue with the overriden webSecurity, but cannot change to mvc matcher <a href=\"https://vaadin.com/docs/latest/security/enabling-security\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/security/enabling-security</a>  with  web.ignoring().requestMatchers(&quot;/actuator/health/**&quot;);"},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1692112683,"post_id":76825159,"comment_id":135578715,"body_markdown":"@ChristophS . Sorry for delay. Can u share some sample code on a git repository. I do believe the answer lies in the steps I shared. That said if you share your code as a sample I could have a look and try to give you more specific suggestions.","body":"@ChristophS . Sorry for delay. Can u share some sample code on a git repository. I do believe the answer lies in the steps I shared. That said if you share your code as a sample I could have a look and try to give you more specific suggestions."},{"owner":{"account_id":4019662,"reputation":697,"user_id":3450689,"accept_rate":71,"display_name":"Christoph S"},"score":0,"creation_date":1692344887,"post_id":76825159,"comment_id":135612938,"body_markdown":"I looked into the Vaadin sources and they used an AntPathRequestMatcher for the ignoring parts. So I used this as well and it works.","body":"I looked into the Vaadin sources and they used an AntPathRequestMatcher for the ignoring parts. So I used this as well and it works."},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1692347436,"post_id":76825159,"comment_id":135613355,"body_markdown":"@ChristophS That&#39;s the second option I indicated wherein you have to change existing code. You could also use mvcMatcher. First option is useful if you want to try achieving same without changing code but rather change the server configurations. Use either based on your convenience. I just provided both solutions so that its a complete picture.","body":"@ChristophS That&#39;s the second option I indicated wherein you have to change existing code. You could also use mvcMatcher. First option is useful if you want to try achieving same without changing code but rather change the server configurations. Use either based on your convenience. I just provided both solutions so that its a complete picture."},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":1,"creation_date":1692360899,"post_id":76825159,"comment_id":135616006,"body_markdown":"@ChristophS One more thing. Do test the security expressions and the results thoroughly because you chose the second option. I believe this was resolving to mvcmatcher before this issue. In the past there have been known subtle differences in how ant mactchers and mvcmatchers work. If you chose the code change route and went for AntMatcher do test the actual security especially about whether the actual url has or has not a trailing /.","body":"@ChristophS One more thing. Do test the security expressions and the results thoroughly because you chose the second option. I believe this was resolving to mvcmatcher before this issue. In the past there have been known subtle differences in how ant mactchers and mvcmatchers work. If you chose the code change route and went for AntMatcher do test the actual security especially about whether the actual url has or has not a trailing /."},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1692361164,"post_id":76825159,"comment_id":135616071,"body_markdown":"@CristophS Please refer - https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcher . Not sure if this is still valid or not. But do test ur fix more thoroughly because you chsoe the code change option and went for AntMatcher instead of mvcMatcher. Hope you find this tip helpful","body":"@CristophS Please refer - <a href=\"https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcher\" title=\"difference between antmatcher and mvcmatcher\">stackoverflow.com/questions/50536292/&hellip;</a> . Not sure if this is still valid or not. But do test ur fix more thoroughly because you chsoe the code change option and went for AntMatcher instead of mvcMatcher. Hope you find this tip helpful"},{"owner":{"account_id":4019662,"reputation":697,"user_id":3450689,"accept_rate":71,"display_name":"Christoph S"},"score":0,"creation_date":1692369945,"post_id":76825159,"comment_id":135618006,"body_markdown":"Yes, did a test. Works all. This was the only place where I needed this change, it configures the ignoring for my health check endpoint.","body":"Yes, did a test. Works all. This was the only place where I needed this change, it configures the ignoring for my health check endpoint."},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1692376545,"post_id":76825159,"comment_id":135619379,"body_markdown":"@ChristophS Noted. Anyone else reading this- prefer mvc matcher or the 1st option. You would not have had that deviaton for some urls as faced by ChristphS for his  health check endpoint. Generally for web projects prefer mvc matcher. Ant matcher is basically needed when u dont have mvc or web concepts in your spring application. No harm in using it. Just use it with care if you use it.","body":"@ChristophS Noted. Anyone else reading this- prefer mvc matcher or the 1st option. You would not have had that deviaton for some urls as faced by ChristphS for his  health check endpoint. Generally for web projects prefer mvc matcher. Ant matcher is basically needed when u dont have mvc or web concepts in your spring application. No harm in using it. Just use it with care if you use it."},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1692376636,"post_id":76825159,"comment_id":135619397,"body_markdown":"as explained here- https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcher and also in the previous edition of Spring Security in Action book be very careful when using AntMatchers","body":"as explained here- <a href=\"https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcher\" title=\"difference between antmatcher and mvcmatcher\">stackoverflow.com/questions/50536292/&hellip;</a> and also in the previous edition of Spring Security in Action book be very careful when using AntMatchers"},{"owner":{"account_id":11425467,"reputation":81,"user_id":8375745,"accept_rate":100,"display_name":"Splekke"},"score":0,"creation_date":1700646130,"post_id":76825159,"comment_id":136679092,"body_markdown":"Changing the web.xml inside tomcat conf folder did it for me. Big thanks!","body":"Changing the web.xml inside tomcat conf folder did it for me. Big thanks!"},{"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"score":0,"creation_date":1700739164,"post_id":76825159,"comment_id":136692808,"body_markdown":"@Splekke Glad it worked for you. I just wish readers realized there are two ways to solve this and see the pros and cons of each approach and take a studied approach. :)","body":"@Splekke Glad it worked for you. I just wish readers realized there are two ways to solve this and see the pros and cons of each approach and take a studied approach. :)"}],"tags":[],"owner":{"account_id":26311197,"reputation":101,"user_id":19974684,"display_name":"Raghu"},"comment_count":13,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1695463691,"creation_date":1691041227,"answer_id":76825159,"question_id":76809698,"body_markdown":"For now there are two options recommended by https://spring.io/security/cve-2023-34035  \r\n\r\n**First Option:**   \r\nDid a small very simple poc war web application in tomcat.\r\nDebugged  this method -\r\n\r\norg.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(HttpMethod method, String... patterns)\r\n\r\nStudied https://spring.io/security/cve-2023-34035\r\n\r\nJust before the below lines in above mentioned method I examined what was in the registrations object.\r\n\r\n        \r\nAssert.isTrue(registrations.size() == 1, &quot;This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).&quot;);\r\n\r\nFound it to be registrations of\r\n\r\n\r\n    org.apache.catalina.servlets.DefaultServlet against &quot;default&quot;\r\n    org.apache.jasper.servlet.JspServlet against &quot;jsp&quot;\r\n    org.springframework.web.servlet.DispatcherServlet against &quot;dispatcher&quot;\r\n\r\nIn https://spring.io/security/cve-2023-34035 they mention\r\n&quot;Sometimes these extra servlets are not needed. For example, some servlet containers will add a DefaultServlet that DispatcherServlet effectively replaces. In many cases, such a servlet can be removed from your container&#39;s global configuration&quot;.\r\n\r\nWhat they are saying is that we should edit apache-tomcat-10.1.10\\conf\\web.xml.\r\n\r\nWe should comment out the registrations in that web.xml for org.apache.catalina.servlets.DefaultServlet,\r\norg.apache.jasper.servlet.JspServlet.\r\nWe should also remove the mapping entries in same web.xml\r\n\r\nFor other servlet containers we can consider similar concepts.\r\n\r\n**Second Option:**  \r\nThe other option is to do what they also suggested in &quot;For an example mitigation, please see the following Spring Security sample application and the corresponding diff.&quot; https://spring.io/security/cve-2023-34035 namely follow https://github.com/spring-projects/spring-security-samples/commit/4e3bec904a5467db28ea33e25ac9d90524b53d66\r\n\r\nIn other words the example they give is\r\nReplace :\r\n\r\n        .requestMatchers(&quot;/login&quot;, &quot;/resources/**&quot;).permitAll()   \r\n\r\nwith   \r\n\r\n        .requestMatchers(mvc.pattern(&quot;/login&quot;),\r\n             mvc.pattern(&quot;/resources/**&quot;)).permitAll()  \r\n\r\nIn a web application you would usually use mvc matcher as shown here.\r\nYou can also use ant matcher - there is a little risk in using ant matchers as explained here- https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcher . **Using ant matcher is best avoided unless you are willing to do necessary testing if you start using it.** In complex scenarios can use regexmatchers also - use it only if needed (not in this scenario where you just want to solve this current issue). \r\n\r\nRegarding how to achieve mvc.pattern() itself here are the steps.  Declare a bean as below somewhere. \r\n```    \r\n@Bean\r\n\tMvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\r\n\t    return new MvcRequestMatcher.Builder(introspector);\r\n\t} \r\n```\r\n\r\nIn your security configurations just autowire it like so:  \r\n``` \r\n@Autowired\r\n\tMvcRequestMatcher.Builder mvc;\r\n``` \r\n\r\n**Decision Point:**  \r\n\r\nIf you want to retain original code try editing the server&#39;s (not project&#39;s) web.xml-or similar configuration if not tomcat - but some other servlet container , to eliminate the extra servlets that come by default in servlet containers.  \r\nIf you are willing to change code try the second option.  \r\n\r\n *Also Note:*\r\n\r\n Sometimes if its legacy code and you are using DispatcherServlet methods in your code you will have to eliminate that to use first option or else settle for second option.\r\n\r\nHope this helps\r\n\r\n**Adding more new information**:   \r\n\r\nIn fact if you further migrate from spring-boot-starter-parent:3.1.2 to spring-boot-starter-parent:3.1.3 the messages are even clearer.\r\nIt says the problem:\r\nthere is more than one mappable servlet in your servlet context: {org.apache.jasper.servlet.JspServlet=[*.jspx, *.jsp], org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n\r\nAnd that is why following https://spring.io/security/cve-2023-34035 one option is to just disable the default and jsp related servlets. Useful if you dont want to change code but are fine with changing server configuration.\r\n\r\nThe second option if you go the code change route was always clearly logged.\r\n&quot;For each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.&quot; Only as &quot;otherwise&quot; they mention AntMatchers\r\n\r\nI will repeat avoid AntMatcher because of its dangers when using web applications for this migration purpose if you go for second option.  \r\n\r\n\r\n","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>For now there are two options recommended by <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"noreferrer\">https://spring.io/security/cve-2023-34035</a></p>\n<p><strong>First Option:</strong><br />\nDid a small very simple poc war web application in tomcat.\nDebugged  this method -</p>\n<p>org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(HttpMethod method, String... patterns)</p>\n<p>Studied <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"noreferrer\">https://spring.io/security/cve-2023-34035</a></p>\n<p>Just before the below lines in above mentioned method I examined what was in the registrations object.</p>\n<p>Assert.isTrue(registrations.size() == 1, &quot;This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).&quot;);</p>\n<p>Found it to be registrations of</p>\n<pre><code>org.apache.catalina.servlets.DefaultServlet against &quot;default&quot;\norg.apache.jasper.servlet.JspServlet against &quot;jsp&quot;\norg.springframework.web.servlet.DispatcherServlet against &quot;dispatcher&quot;\n</code></pre>\n<p>In <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"noreferrer\">https://spring.io/security/cve-2023-34035</a> they mention\n&quot;Sometimes these extra servlets are not needed. For example, some servlet containers will add a DefaultServlet that DispatcherServlet effectively replaces. In many cases, such a servlet can be removed from your container's global configuration&quot;.</p>\n<p>What they are saying is that we should edit apache-tomcat-10.1.10\\conf\\web.xml.</p>\n<p>We should comment out the registrations in that web.xml for org.apache.catalina.servlets.DefaultServlet,\norg.apache.jasper.servlet.JspServlet.\nWe should also remove the mapping entries in same web.xml</p>\n<p>For other servlet containers we can consider similar concepts.</p>\n<p><strong>Second Option:</strong><br />\nThe other option is to do what they also suggested in &quot;For an example mitigation, please see the following Spring Security sample application and the corresponding diff.&quot; <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"noreferrer\">https://spring.io/security/cve-2023-34035</a> namely follow <a href=\"https://github.com/spring-projects/spring-security-samples/commit/4e3bec904a5467db28ea33e25ac9d90524b53d66\" rel=\"noreferrer\">https://github.com/spring-projects/spring-security-samples/commit/4e3bec904a5467db28ea33e25ac9d90524b53d66</a></p>\n<p>In other words the example they give is\nReplace :</p>\n<pre><code>    .requestMatchers(&quot;/login&quot;, &quot;/resources/**&quot;).permitAll()   \n</code></pre>\n<p>with</p>\n<pre><code>    .requestMatchers(mvc.pattern(&quot;/login&quot;),\n         mvc.pattern(&quot;/resources/**&quot;)).permitAll()  \n</code></pre>\n<p>In a web application you would usually use mvc matcher as shown here.\nYou can also use ant matcher - there is a little risk in using ant matchers as explained here- <a href=\"https://stackoverflow.com/questions/50536292/difference-between-antmatcher-and-mvcmatcher\">Difference between antMatcher and mvcMatcher</a> . <strong>Using ant matcher is best avoided unless you are willing to do necessary testing if you start using it.</strong> In complex scenarios can use regexmatchers also - use it only if needed (not in this scenario where you just want to solve this current issue).</p>\n<p>Regarding how to achieve mvc.pattern() itself here are the steps.  Declare a bean as below somewhere.</p>\n<pre><code>@Bean\n    MvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\n        return new MvcRequestMatcher.Builder(introspector);\n    } \n</code></pre>\n<p>In your security configurations just autowire it like so:</p>\n<pre><code>@Autowired\n    MvcRequestMatcher.Builder mvc;\n</code></pre>\n<p><strong>Decision Point:</strong></p>\n<p>If you want to retain original code try editing the server's (not project's) web.xml-or similar configuration if not tomcat - but some other servlet container , to eliminate the extra servlets that come by default in servlet containers.<br />\nIf you are willing to change code try the second option.</p>\n<p><em>Also Note:</em></p>\n<p>Sometimes if its legacy code and you are using DispatcherServlet methods in your code you will have to eliminate that to use first option or else settle for second option.</p>\n<p>Hope this helps</p>\n<p><strong>Adding more new information</strong>:</p>\n<p>In fact if you further migrate from spring-boot-starter-parent:3.1.2 to spring-boot-starter-parent:3.1.3 the messages are even clearer.\nIt says the problem:\nthere is more than one mappable servlet in your servlet context: {org.apache.jasper.servlet.JspServlet=[*.jspx, *.jsp], org.springframework.web.servlet.DispatcherServlet=[/]}.</p>\n<p>And that is why following <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"noreferrer\">https://spring.io/security/cve-2023-34035</a> one option is to just disable the default and jsp related servlets. Useful if you dont want to change code but are fine with changing server configuration.</p>\n<p>The second option if you go the code change route was always clearly logged.\n&quot;For each MvcRequestMatcher, call MvcRequestMatcher#setServletPath to indicate the servlet path.&quot; Only as &quot;otherwise&quot; they mention AntMatchers</p>\n<p>I will repeat avoid AntMatcher because of its dangers when using web applications for this migration purpose if you go for second option.</p>\n"},{"tags":[],"owner":{"account_id":1052502,"reputation":3122,"user_id":1056042,"accept_rate":61,"display_name":"Arshad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691207376,"creation_date":1691207376,"answer_id":76840071,"question_id":76809698,"body_markdown":"There is small configuration which will prevent us from:\r\n\r\n    This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n\r\nerror. \r\nIt is clearly mentoined at [Configuration Migrations\r\n][1]\r\n\r\n&gt; If you are having problem with the new `requestMatchers` methods, you can always switch back to the `RequestMatcher` implementation that you were using. For example, if you still want to use `AntPathRequestMatcher` and `RegexRequestMatcher` implementations, you can use the `requestMatchers` method that accepts a `RequestMatcher` instance:\r\n\r\nOkay! In the context of your issue mentoined in the code above you should try to add `antMatcher(pattern)` as parameter to `requestMatchers()` as shown below:\r\n\r\n    @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http.csrf(csrf -&gt; csrf.disable())\r\n               .authorizeHttpRequests(auth -&gt; {\r\n                auth.anyRequest().authenticated();\r\n                auth.requestMatchers(antMatcher(&quot;/auth/**&quot;)).permitAll();\r\n                auth.anyRequest().authenticated();\r\n            }).httpBasic().and().build();\r\n        }\r\n\r\nHope it will solve your issue.\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\r\n","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>There is small configuration which will prevent us from:</p>\n<pre><code>This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n</code></pre>\n<p>error.\nIt is clearly mentoined at <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Configuration Migrations\n</a></p>\n<blockquote>\n<p>If you are having problem with the new <code>requestMatchers</code> methods, you can always switch back to the <code>RequestMatcher</code> implementation that you were using. For example, if you still want to use <code>AntPathRequestMatcher</code> and <code>RegexRequestMatcher</code> implementations, you can use the <code>requestMatchers</code> method that accepts a <code>RequestMatcher</code> instance:</p>\n</blockquote>\n<p>Okay! In the context of your issue mentoined in the code above you should try to add <code>antMatcher(pattern)</code> as parameter to <code>requestMatchers()</code> as shown below:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http.csrf(csrf -&gt; csrf.disable())\n           .authorizeHttpRequests(auth -&gt; {\n            auth.anyRequest().authenticated();\n            auth.requestMatchers(antMatcher(&quot;/auth/**&quot;)).permitAll();\n            auth.anyRequest().authenticated();\n        }).httpBasic().and().build();\n    }\n</code></pre>\n<p>Hope it will solve your issue.</p>\n"},{"comments":[{"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"score":0,"creation_date":1700239468,"post_id":76919712,"comment_id":136633920,"body_markdown":"Excellent post - I still don&#39;t understand how the docu hasn&#39;t been updated in that regard.","body":"Excellent post - I still don&#39;t understand how the docu hasn&#39;t been updated in that regard."}],"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1692260874,"creation_date":1692260874,"answer_id":76919712,"question_id":76809698,"body_markdown":"A migration occurred due to vulnerability [CVE-2023-34035][1].\r\n\r\nIn the event that you get an error like the following:\r\n\r\n&gt; This method cannot decide whether these patterns are Spring MVC\r\n&gt; patterns or not. If this endpoint is a Spring MVC endpoint, please use\r\n&gt; `requestMatchers(MvcRequestMatcher)`; otherwise, please use\r\n&gt; `requestMatchers(AntPathRequestMatcher)`.\r\n\r\nYou should use **a complete RequestMatcher**.\r\n\r\nFor example, if an application has a servlet deployed to /my-servlet/* and is authorizing that traffic like so:\r\n\r\n    @Bean\r\n    SecurityFilterChain appSecurity(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(&quot;/my-servlet/**&quot;).hasRole(&quot;USER&quot;)\r\n                .requestMatchers(&quot;/spring-mvc-controller/**&quot;).hasRole(&quot;USER&quot;)\r\n                .anyRequest().authenticated()\r\n            )\r\n            // ...\r\n        return http.build();\r\n    }\r\n\r\nthen, the application should instead do the following:\r\n\r\n    import static org.springframework.security.web.util.matcher.AntPathRequestMatcher.antMatcher;\r\n    \r\n    @Bean\r\n    MvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\r\n    \treturn new MvcRequestMatcher.Builder(introspector);\r\n    }\r\n    \r\n    @Bean\r\n    SecurityFilterChain appSecurity(HttpSecurity http, MvcRequestMatcher.Builder mvc) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(antMatcher(&quot;/my-servlet/*&quot;)).hasRole(&quot;USER&quot;)\r\n                .requestMatchers(mvc.pattern(&quot;/spring-mvc-controller/**&quot;)).hasRole(&quot;USER&quot;)\r\n                .anyRequest().authenticated()\r\n            )\r\n            // ...\r\n        return http.build();\r\n    }\r\n\r\n\r\nFor more details read this repository offered by Spring: [cve-2023-34035-mitigations][2]\r\n\r\n\r\n  [1]: https://spring.io/security/cve-2023-34035\r\n  [2]: https://github.com/jzheaux/cve-2023-34035-mitigations","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>A migration occurred due to vulnerability <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"noreferrer\">CVE-2023-34035</a>.</p>\n<p>In the event that you get an error like the following:</p>\n<blockquote>\n<p>This method cannot decide whether these patterns are Spring MVC\npatterns or not. If this endpoint is a Spring MVC endpoint, please use\n<code>requestMatchers(MvcRequestMatcher)</code>; otherwise, please use\n<code>requestMatchers(AntPathRequestMatcher)</code>.</p>\n</blockquote>\n<p>You should use <strong>a complete RequestMatcher</strong>.</p>\n<p>For example, if an application has a servlet deployed to /my-servlet/* and is authorizing that traffic like so:</p>\n<pre><code>@Bean\nSecurityFilterChain appSecurity(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests((authorize) -&gt; authorize\n            .requestMatchers(&quot;/my-servlet/**&quot;).hasRole(&quot;USER&quot;)\n            .requestMatchers(&quot;/spring-mvc-controller/**&quot;).hasRole(&quot;USER&quot;)\n            .anyRequest().authenticated()\n        )\n        // ...\n    return http.build();\n}\n</code></pre>\n<p>then, the application should instead do the following:</p>\n<pre><code>import static org.springframework.security.web.util.matcher.AntPathRequestMatcher.antMatcher;\n\n@Bean\nMvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\n    return new MvcRequestMatcher.Builder(introspector);\n}\n\n@Bean\nSecurityFilterChain appSecurity(HttpSecurity http, MvcRequestMatcher.Builder mvc) throws Exception {\n    http\n        .authorizeHttpRequests((authorize) -&gt; authorize\n            .requestMatchers(antMatcher(&quot;/my-servlet/*&quot;)).hasRole(&quot;USER&quot;)\n            .requestMatchers(mvc.pattern(&quot;/spring-mvc-controller/**&quot;)).hasRole(&quot;USER&quot;)\n            .anyRequest().authenticated()\n        )\n        // ...\n    return http.build();\n}\n</code></pre>\n<p>For more details read this repository offered by Spring: <a href=\"https://github.com/jzheaux/cve-2023-34035-mitigations\" rel=\"noreferrer\">cve-2023-34035-mitigations</a></p>\n"},{"tags":[],"owner":{"account_id":11993302,"reputation":31,"user_id":8775691,"display_name":"Sanjit Shrestha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694363448,"creation_date":1694363448,"answer_id":77077000,"question_id":76809698,"body_markdown":"The above issue was resolved with the below method:\r\n\r\n    String[] unSecuredPaths = new String[]{\r\n                &quot;/validate&quot;,\r\n                &quot;/&quot;}\r\n    \r\n        private AntPathRequestMatcher[] getAntPathRequestMatchers() {\r\n                AntPathRequestMatcher[] requestMatchers = new AntPathRequestMatcher[unSecuredPaths.length];\r\n                for (int i = 0; i &lt; unSecuredPaths.length; i++) {\r\n                    requestMatchers[i] = new AntPathRequestMatcher(unSecuredPaths[i]);\r\n                }\r\n                return requestMatchers;\r\n            }\r\n        \r\n    @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            contentSecurityConfig(http);\r\n    \r\n            AntPathRequestMatcher[] requestMatchers = getAntPathRequestMatchers();\r\n            http.authorizeHttpRequests(authorize -&gt; authorize\r\n                            .requestMatchers(**requestMatchers**).permitAll()\r\n                            .anyRequest().authenticated()).httpBasic(withDefaults());\r\n            return http.build();\r\n        }\r\n\r\nFor MvcRequestMatcher, replace AntPathRequestMatcher with MvcRequestMatcher, exact solutions should work.\r\n","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>The above issue was resolved with the below method:</p>\n<pre><code>String[] unSecuredPaths = new String[]{\n            &quot;/validate&quot;,\n            &quot;/&quot;}\n\n    private AntPathRequestMatcher[] getAntPathRequestMatchers() {\n            AntPathRequestMatcher[] requestMatchers = new AntPathRequestMatcher[unSecuredPaths.length];\n            for (int i = 0; i &lt; unSecuredPaths.length; i++) {\n                requestMatchers[i] = new AntPathRequestMatcher(unSecuredPaths[i]);\n            }\n            return requestMatchers;\n        }\n    \n@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        contentSecurityConfig(http);\n\n        AntPathRequestMatcher[] requestMatchers = getAntPathRequestMatchers();\n        http.authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(**requestMatchers**).permitAll()\n                        .anyRequest().authenticated()).httpBasic(withDefaults());\n        return http.build();\n    }\n</code></pre>\n<p>For MvcRequestMatcher, replace AntPathRequestMatcher with MvcRequestMatcher, exact solutions should work.</p>\n"},{"tags":[],"owner":{"account_id":5411899,"reputation":372,"user_id":4308371,"display_name":"Krishnakumar R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696514515,"creation_date":1696514515,"answer_id":77237857,"question_id":76809698,"body_markdown":"I had similar problems when trying to setup OAuth2 resource server. I was using h2 for my REST data store. So it was complaining \r\n\r\n&gt; there is more than one mappable servlet in your servlet context:\r\n&gt; {org.h2.server.web.JakartaWebServlet=[/h2-console/*],\r\n&gt; org.springframework.web.servlet.DispatcherServlet=[/]}.\r\n \r\nBelow is the config I used to solve it. Ignore the OAuth2 parts in the code. Hope this helps.\r\n\r\n   \r\n\r\n    @Bean\r\n        public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests(authorizeRequests -&gt;\r\n                            authorizeRequests\r\n                                    .requestMatchers(antMatcher((&quot;/h2-console/**&quot;)))\r\n                                    .permitAll()\r\n    \r\n                                    .requestMatchers(antMatcher(&quot;/api/posts&quot;), antMatcher(HttpMethod.POST))\r\n                                    .hasAuthority(&quot;SCOPE_createBlogPost&quot;)\r\n    \r\n                                    .requestMatchers(antMatcher(&quot;/api/posts&quot;), antMatcher(HttpMethod.DELETE))\r\n                                    .hasAuthority(&quot;SCOPE_deleteBlogPost&quot;)\r\n    \r\n                                    .anyRequest()\r\n                                    .authenticated())\r\n                    .headers(headersConfigurer -&gt; headersConfigurer.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\r\n                    .csrf(httpSecurityCsrfConfigurer -&gt; httpSecurityCsrfConfigurer.ignoringRequestMatchers(antMatcher(&quot;/h2-console/**&quot;)))\r\n                    .oauth2ResourceServer(oAuth2ResourceServerConfigurer -&gt;\r\n                            oAuth2ResourceServerConfigurer.jwt(withDefaults()));\r\n    \r\n            return http.build();\r\n        }\r\n\r\n","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>I had similar problems when trying to setup OAuth2 resource server. I was using h2 for my REST data store. So it was complaining</p>\n<blockquote>\n<p>there is more than one mappable servlet in your servlet context:\n{org.h2.server.web.JakartaWebServlet=[/h2-console/*],\norg.springframework.web.servlet.DispatcherServlet=[/]}.</p>\n</blockquote>\n<p>Below is the config I used to solve it. Ignore the OAuth2 parts in the code. Hope this helps.</p>\n<pre><code>@Bean\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(authorizeRequests -&gt;\n                        authorizeRequests\n                                .requestMatchers(antMatcher((&quot;/h2-console/**&quot;)))\n                                .permitAll()\n\n                                .requestMatchers(antMatcher(&quot;/api/posts&quot;), antMatcher(HttpMethod.POST))\n                                .hasAuthority(&quot;SCOPE_createBlogPost&quot;)\n\n                                .requestMatchers(antMatcher(&quot;/api/posts&quot;), antMatcher(HttpMethod.DELETE))\n                                .hasAuthority(&quot;SCOPE_deleteBlogPost&quot;)\n\n                                .anyRequest()\n                                .authenticated())\n                .headers(headersConfigurer -&gt; headersConfigurer.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable))\n                .csrf(httpSecurityCsrfConfigurer -&gt; httpSecurityCsrfConfigurer.ignoringRequestMatchers(antMatcher(&quot;/h2-console/**&quot;)))\n                .oauth2ResourceServer(oAuth2ResourceServerConfigurer -&gt;\n                        oAuth2ResourceServerConfigurer.jwt(withDefaults()));\n\n        return http.build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15201666,"reputation":1,"user_id":10969479,"display_name":"sakthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697766455,"creation_date":1697595707,"answer_id":77313143,"question_id":76809698,"body_markdown":"\r\nThis method cannot decide whether these patterns are Spring MVC patterns or not.\r\n\r\nIf this endpoint is a Spring MVC endpoint, please use `requestMatchers(MvcRequestMatcher)`; otherwise, please use `requestMatchers(AntPathRequestMatcher)`.\r\n\r\nMy usage as below:\r\n\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \treturn http\r\n    \t\t\t.csrf(csrf -&gt; csrf.ignoringRequestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)))\r\n    \t\t\t.authorizeHttpRequests(requests -&gt; requests.requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)).permitAll())\r\n    \t\t\t.authorizeHttpRequests(requests -&gt; requests.anyRequest().authenticated())\r\n    \t\t\t.headers(headers -&gt; headers.frameOptions().sameOrigin())\r\n    \t\t\t.formLogin(withDefaults())\r\n    \t\t\t.build();\r\n    }","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>This method cannot decide whether these patterns are Spring MVC patterns or not.</p>\n<p>If this endpoint is a Spring MVC endpoint, please use <code>requestMatchers(MvcRequestMatcher)</code>; otherwise, please use <code>requestMatchers(AntPathRequestMatcher)</code>.</p>\n<p>My usage as below:</p>\n<pre><code>import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Bean\nSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http\n            .csrf(csrf -&gt; csrf.ignoringRequestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)))\n            .authorizeHttpRequests(requests -&gt; requests.requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/h2-console/**&quot;)).permitAll())\n            .authorizeHttpRequests(requests -&gt; requests.anyRequest().authenticated())\n            .headers(headers -&gt; headers.frameOptions().sameOrigin())\n            .formLogin(withDefaults())\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10427139,"reputation":139,"user_id":7688028,"display_name":"Tạ Anh T&#250;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697692809,"creation_date":1697692809,"answer_id":77321133,"question_id":76809698,"body_markdown":"I got the same error when using spring security with h2 database. I tried to disable the h2-console, or switch to MySQL, the error is gone.\r\n\r\nSo I think this error is related to h2 database, currently I don&#39;t have any solution for this h2 database. I&#39;m using MySQL instead","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>I got the same error when using spring security with h2 database. I tried to disable the h2-console, or switch to MySQL, the error is gone.</p>\n<p>So I think this error is related to h2 database, currently I don't have any solution for this h2 database. I'm using MySQL instead</p>\n"},{"tags":[],"owner":{"account_id":207741,"reputation":573,"user_id":457788,"accept_rate":44,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697785933,"creation_date":1697785933,"answer_id":77328962,"question_id":76809698,"body_markdown":"I was able to resolve the ambiguity by wrapping the string patterns with matchers.\r\n\r\nBefore:\r\n\r\n    http\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/dashboard/run/**&quot;).authenticated()\r\n            .requestMatchers(&quot;/editor/**&quot;).authenticated()\r\n            .requestMatchers(&quot;/**&quot;).permitAll()\r\n\r\nAfter:\r\n\r\n    http\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/dashboard/run/**&quot;)).authenticated()\r\n            .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/editor/**&quot;)).authenticated()\r\n            .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/**&quot;)).permitAll()","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>I was able to resolve the ambiguity by wrapping the string patterns with matchers.</p>\n<p>Before:</p>\n<pre><code>http\n    .authorizeHttpRequests()\n        .requestMatchers(&quot;/dashboard/run/**&quot;).authenticated()\n        .requestMatchers(&quot;/editor/**&quot;).authenticated()\n        .requestMatchers(&quot;/**&quot;).permitAll()\n</code></pre>\n<p>After:</p>\n<pre><code>http\n    .authorizeHttpRequests()\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/dashboard/run/**&quot;)).authenticated()\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/editor/**&quot;)).authenticated()\n        .requestMatchers(AntPathRequestMatcher.antMatcher(&quot;/**&quot;)).permitAll()\n</code></pre>\n"}],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20924,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":8,"score":27,"last_activity_date":1697785933,"creation_date":1690877781,"question_id":76809698,"body_markdown":"When I try to run an application it fails to start and throws this exception. \r\n\r\n&gt; This method cannot decide whether these patterns are Spring MVC\r\n&gt; patterns or not. If this endpoint is a Spring MVC endpoint, please use\r\n&gt; requestMatchers(MvcRequestMatcher); otherwise, please use\r\n&gt; requestMatchers(AntPathRequestMatcher).\r\n\r\nI am new to Spring Security. Please help me solve this error.\r\n\r\nThis is my spring security configuration class\r\n\r\n```java\r\npackage com.ronit.SpringSecurityTutorial.configuration;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tAuthenticationManager authManager(UserDetailsService detailsService) {\r\n\t\tDaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\r\n\t\tdaoProvider.setUserDetailsService(detailsService);\r\n\t\treturn new ProviderManager(daoProvider);\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;removal&quot;)\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\treturn http.csrf(csrf -&gt; csrf.disable()).authorizeHttpRequests(auth -&gt; {\r\n\t\t\tauth.anyRequest().authenticated();\r\n\t\t\tauth.requestMatchers(&quot;/auth/**&quot;).permitAll();\r\n\t\t\tauth.anyRequest().authenticated();\r\n\t\t}).httpBasic().and().build();\r\n\t}\r\n}\r\n```\r\n\r\nThis is the spring boot application \r\n\r\n\r\n```java\r\npackage com.ronit.SpringSecurityTutorial;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.ronit.SpringSecurityTutorial.models.ApplicationUser;\r\nimport com.ronit.SpringSecurityTutorial.models.Role;\r\nimport com.ronit.SpringSecurityTutorial.repository.RoleRepository;\r\nimport com.ronit.SpringSecurityTutorial.repository.UserRepository;\r\n\r\n@SpringBootApplication\r\npublic class SpringSecurityTutorialApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringSecurityTutorialApplication.class,args);\r\n\t}\r\n\r\n\t@Bean\r\n\tCommandLineRunner run(RoleRepository roleRepository, UserRepository userRepository,\r\n\t\t\tPasswordEncoder passwordEncoder) {\r\n\t\treturn args -&gt; {\r\n\t\t\tif (roleRepository.findByAuthority(&quot;ADMIN&quot;).isPresent())\r\n\t\t\t\treturn;\r\n\t\t\tRole adminRole = roleRepository.save(new Role(&quot;ADMIN&quot;));\r\n\t\t\troleRepository.save(new Role(&quot;USER&quot;));\r\n\r\n\t\t\tSet&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\t\t\troles.add(adminRole);\r\n\t\t\tApplicationUser admin = new \r\n\t\t\tApplicationUser(1, &quot;Admin&quot;, passwordEncoder.encode(&quot;Password&quot;), roles);\r\n\t\t\tuserRepository.save(admin);\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nThese are the dependencies in pom.xml\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nThere is no configuration related to security in application.properties file.\r\n\r\nI searched this on Google and found some Stack Overflow pages, but none of them were using similar configuration to mine.\r\n\r\nI have watched an online tutorial and made this. I followed each step correctly, but my configuration is not working.\r\n\r\nThe application is stopped and terminated straight away. \r\n\r\nI am using Spring Boot 3 and Spring Security 6 in my application.","title":"Spring security method cannot decide pattern is MVC or not Spring Boot application exception","body":"<p>When I try to run an application it fails to start and throws this exception.</p>\n<blockquote>\n<p>This method cannot decide whether these patterns are Spring MVC\npatterns or not. If this endpoint is a Spring MVC endpoint, please use\nrequestMatchers(MvcRequestMatcher); otherwise, please use\nrequestMatchers(AntPathRequestMatcher).</p>\n</blockquote>\n<p>I am new to Spring Security. Please help me solve this error.</p>\n<p>This is my spring security configuration class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ronit.SpringSecurityTutorial.configuration;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    AuthenticationManager authManager(UserDetailsService detailsService) {\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\n        daoProvider.setUserDetailsService(detailsService);\n        return new ProviderManager(daoProvider);\n    }\n\n    @SuppressWarnings(&quot;removal&quot;)\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http.csrf(csrf -&gt; csrf.disable()).authorizeHttpRequests(auth -&gt; {\n            auth.anyRequest().authenticated();\n            auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\n            auth.anyRequest().authenticated();\n        }).httpBasic().and().build();\n    }\n}\n</code></pre>\n<p>This is the spring boot application</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ronit.SpringSecurityTutorial;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.ronit.SpringSecurityTutorial.models.ApplicationUser;\nimport com.ronit.SpringSecurityTutorial.models.Role;\nimport com.ronit.SpringSecurityTutorial.repository.RoleRepository;\nimport com.ronit.SpringSecurityTutorial.repository.UserRepository;\n\n@SpringBootApplication\npublic class SpringSecurityTutorialApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(SpringSecurityTutorialApplication.class,args);\n    }\n\n    @Bean\n    CommandLineRunner run(RoleRepository roleRepository, UserRepository userRepository,\n            PasswordEncoder passwordEncoder) {\n        return args -&gt; {\n            if (roleRepository.findByAuthority(&quot;ADMIN&quot;).isPresent())\n                return;\n            Role adminRole = roleRepository.save(new Role(&quot;ADMIN&quot;));\n            roleRepository.save(new Role(&quot;USER&quot;));\n\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n            roles.add(adminRole);\n            ApplicationUser admin = new \n            ApplicationUser(1, &quot;Admin&quot;, passwordEncoder.encode(&quot;Password&quot;), roles);\n            userRepository.save(admin);\n        };\n    }\n}\n</code></pre>\n<p>These are the dependencies in pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>There is no configuration related to security in application.properties file.</p>\n<p>I searched this on Google and found some Stack Overflow pages, but none of them were using similar configuration to mine.</p>\n<p>I have watched an online tutorial and made this. I followed each step correctly, but my configuration is not working.</p>\n<p>The application is stopped and terminated straight away.</p>\n<p>I am using Spring Boot 3 and Spring Security 6 in my application.</p>\n"},{"tags":["java","spring-boot","kotlin","gradle","java-21"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697785792,"creation_date":1697785792,"answer_id":77328950,"question_id":77325148,"body_markdown":"As far as I understood Gradle&#39;s compatibility matrix, you should be able to compile Java 21 applications with Gradle already but using you need a different JVM for running Gradle. You should be able to do this by configuring your `PATH` with Java 20 (or 17) and setting your `JAVA_HOME` to a Java 21-JDK.\r\n\r\nIn general, if you want to use features from Java 19 or 20, you shouldn&#39;t use a source compatibility of 20. However, there aren&#39;t many features that were finalized in these releases.\r\n\r\nSince many vendors (including the Oracle build of OpenJDK and the free version of OracleJDK) stopped supporting Java 20, you might rather want to use Java 17 as your source compatibility level instead of 20.","title":"JDK21 with sourceCompatibility = 20","body":"<p>As far as I understood Gradle's compatibility matrix, you should be able to compile Java 21 applications with Gradle already but using you need a different JVM for running Gradle. You should be able to do this by configuring your <code>PATH</code> with Java 20 (or 17) and setting your <code>JAVA_HOME</code> to a Java 21-JDK.</p>\n<p>In general, if you want to use features from Java 19 or 20, you shouldn't use a source compatibility of 20. However, there aren't many features that were finalized in these releases.</p>\n<p>Since many vendors (including the Oracle build of OpenJDK and the free version of OracleJDK) stopped supporting Java 20, you might rather want to use Java 17 as your source compatibility level instead of 20.</p>\n"}],"owner":{"account_id":2801342,"reputation":9,"user_id":2409535,"display_name":"gmrosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697785792,"creation_date":1697729164,"question_id":77325148,"body_markdown":"I&#39;m working on a gradle spring-boot hybrid project (Kava + Kotlin). \r\nDue compatibility reasons there is not yet a version for Kotlin 21. \r\nWould it be recommended to use JDK21 with target 20? \r\nSince JDK17 and JDK21 are LTS, in this case does it make any difference which version of the language I will use within it?\r\n\r\nI would like to know if it is recommended to use version 20 with JDK21, or if it would be better to use version 17 and wait for the release of 21.","title":"JDK21 with sourceCompatibility = 20","body":"<p>I'm working on a gradle spring-boot hybrid project (Kava + Kotlin).\nDue compatibility reasons there is not yet a version for Kotlin 21.\nWould it be recommended to use JDK21 with target 20?\nSince JDK17 and JDK21 are LTS, in this case does it make any difference which version of the language I will use within it?</p>\n<p>I would like to know if it is recommended to use version 20 with JDK21, or if it would be better to use version 17 and wait for the release of 21.</p>\n"},{"tags":["java","spring-boot","active-directory","spring-security-ldap"],"comments":[{"owner":{"account_id":8834151,"reputation":131,"user_id":6599119,"display_name":"Michael Manley"},"score":0,"creation_date":1697547365,"post_id":75852671,"comment_id":136291372,"body_markdown":"Any luck on finding any answers on this? I know someone that&#39;s run into something similar...","body":"Any luck on finding any answers on this? I know someone that&#39;s run into something similar..."}],"answers":[{"tags":[],"owner":{"account_id":19885630,"reputation":21,"user_id":14568656,"display_name":"mrnst"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697785543,"creation_date":1697785543,"answer_id":77328917,"question_id":75852671,"body_markdown":"Recently, we had the same error message from one of our Spring Boot applications, which is connected to AD with a very similar setup. The error only occured for one special user, and the password was correct.\r\n\r\nWe observed that the problem was caused by a special character (German &quot;umlaut&quot;) in the password. Changing the password and removing the umlaut fixed the problem.","title":"Spring Boot: LDAP Error: error code 49 - 80090308: LdapErr: DSID-0C090439, comment: AcceptSecurityContext error, data 52e","body":"<p>Recently, we had the same error message from one of our Spring Boot applications, which is connected to AD with a very similar setup. The error only occured for one special user, and the password was correct.</p>\n<p>We observed that the problem was caused by a special character (German &quot;umlaut&quot;) in the password. Changing the password and removing the umlaut fixed the problem.</p>\n"}],"owner":{"account_id":25483250,"reputation":11,"user_id":19279172,"display_name":"Sascha Heimann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697785543,"creation_date":1679898434,"question_id":75852671,"body_markdown":"I have a Spring Boot Webapplication which is working with dao authentication like a charm. But i want to implement active directory authentication too.\r\n\r\nFor testing purposes I&#39;ve modified my SecurityConfig like that:\r\n\r\n    package com.sheimann.demoapp.config;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.AuthenticationProvider;\r\n    import org.springframework.security.authentication.ProviderManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    import com.sheimann.demoapp.service.UserServiceImpl;\r\n    \r\n    \r\n    /**\r\n     * The Class WebSecurityConfig.\r\n     */\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n    \r\n        /** The success handler. */\r\n        @Autowired\r\n        private CustomLoginSucessHandler sucessHandler;\r\n        \r\n        @Autowired\r\n        private CustomLoginFailureHandler failureHandler;\r\n    \r\n        /**\r\n         * User details service.\r\n         *\r\n         * @return the user details service\r\n         */\r\n        @Bean\r\n        UserDetailsService userDetailsService() {\r\n            return new UserServiceImpl();\r\n        }\r\n    \r\n        /**\r\n         * Password encoder.\r\n         *\r\n         * @return the b crypt password encoder\r\n         */\r\n        @Bean\r\n        BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        /**\r\n         * Authentication provider.\r\n         *\r\n         * @return the dao authentication provider\r\n         */\r\n        @Bean\r\n        DaoAuthenticationProvider authenticationProvider() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(userDetailsService());\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n        \r\n            ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider = \r\n            new ActiveDirectoryLdapAuthenticationProvider( &quot;mydomainName.com&quot;, &quot;ldap://mydcipaddress:389&quot;, &quot;dc=my,dc=domain,dc=com&quot;);\r\n        \r\n            // to parse AD failed credentails error message due to account - expiry,lock, credentialis - expiry,lock\r\n            activeDirectoryLdapAuthenticationProvider.setConvertSubErrorCodesToExceptions(true); \r\n            activeDirectoryLdapAuthenticationProvider.setUseAuthenticationRequestCredentials(true);\r\n            activeDirectoryLdapAuthenticationProvider.setSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;);\r\n            \r\n            return activeDirectoryLdapAuthenticationProvider;\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return new ProviderManager(List.of(activeDirectoryLdapAuthenticationProvider()));\r\n        }\r\n     \r\n       \t/**\r\n         * Filter chain.\r\n         *\r\n         * @param http the http\r\n         * @return the security filter chain\r\n         * @throws Exception the exception\r\n         */\r\n        @Bean\r\n        SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.authorizeHttpRequests()\r\n                    // URL matching for accessibility\r\n                    .requestMatchers(&quot;/datatables/**&quot;,\r\n                            &quot;/css/**&quot;,\r\n                            &quot;/js/**&quot;,\r\n                            &quot;/webjars/**&quot;,\r\n                            &quot;/app.js&quot;,\r\n                            &quot;/app.css&quot;,\r\n                            &quot;/just-validate/**&quot;,\r\n                            &quot;/bootstrap-icons/**&quot;,\r\n                            &quot;/bootstrap/**&quot;,\r\n                            &quot;/popperjs/**&quot;,\r\n                            &quot;/select2-bootstrap-5-theme-1.3.0/**&quot;,\r\n                            &quot;/select2-4.1.0-rc.0/**&quot;,\r\n                            &quot;/jquery/**&quot;,\r\n                            &quot;/*.p12&quot;,\r\n                            &quot;/login&quot;,\r\n                            &quot;/register&quot;,\r\n                            &quot;/resetPw1&quot;,\r\n                            &quot;/resetPw2&quot;,\r\n                            &quot;/error&quot;,\r\n                            &quot;/logout&quot;,\r\n                            &quot;/images/**&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\r\n                    .requestMatchers(&quot;/user/**&quot;).authenticated()\r\n                    .anyRequest().authenticated()\r\n                    .and()                \r\n                    // form login\r\n                    .csrf((csrf) -&gt; csrf.disable())\r\n                    .formLogin(login -&gt; login\r\n                            .loginPage(&quot;/login&quot;)\r\n                            .failureHandler(failureHandler)\r\n                            .successHandler(sucessHandler)\r\n                            .usernameParameter(&quot;email&quot;)\r\n                            .passwordParameter(&quot;password&quot;))\r\n                    // logout\r\n                    .logout(logout -&gt; logout\r\n                            .logoutSuccessUrl(&quot;/login?res=logoutSuccess&quot;))\r\n                    .exceptionHandling(handling -&gt; handling\r\n                            .accessDeniedPage(&quot;/access-denied&quot;))\r\n                    .authenticationManager(authenticationManager());\r\n                    \r\n            // session\r\n            /*\r\n             * .and()\r\n             * .sessionManagement()\r\n             * .invalidSessionUrl(&quot;/login?res=sst&quot;);\r\n             */\r\n            //http.authenticationProvider(authenticationProvider());\r\n            http.headers(headers -&gt; headers.frameOptions().sameOrigin());\r\n            return http.build();\r\n        } \r\n    \r\n    }\r\n\r\nAs it seems, due to adding the activeDirectoryLdapAuthenticationProvider and set the AuthenticationManager to use the activeDirectoryLdapAuthenticationProvider as only provider, my application is using this provider.\r\n\r\nWehn i try to login, my application is throwing the following error:\r\n\r\n    Caused by: javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090439, comment: AcceptSecurityContext error, data 52e, v4563]\r\n\r\nas i&#39;ve searched the whole internet already (it feels like that), i know that 52e means: Username found but password invalid / wrong.\r\n\r\nThe problem is, that is not the truth! I&#39;ve tested my account on several ldap / active directory clients and the account is working 100%!\r\n\r\nHopefully someone is here that can put me in the right direction...\r\n\r\nMany Thanks And happy coding...\r\n\r\nSascha","title":"Spring Boot: LDAP Error: error code 49 - 80090308: LdapErr: DSID-0C090439, comment: AcceptSecurityContext error, data 52e","body":"<p>I have a Spring Boot Webapplication which is working with dao authentication like a charm. But i want to implement active directory authentication too.</p>\n<p>For testing purposes I've modified my SecurityConfig like that:</p>\n<pre><code>package com.sheimann.demoapp.config;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport com.sheimann.demoapp.service.UserServiceImpl;\n\n\n/**\n * The Class WebSecurityConfig.\n */\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    /** The success handler. */\n    @Autowired\n    private CustomLoginSucessHandler sucessHandler;\n    \n    @Autowired\n    private CustomLoginFailureHandler failureHandler;\n\n    /**\n     * User details service.\n     *\n     * @return the user details service\n     */\n    @Bean\n    UserDetailsService userDetailsService() {\n        return new UserServiceImpl();\n    }\n\n    /**\n     * Password encoder.\n     *\n     * @return the b crypt password encoder\n     */\n    @Bean\n    BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    /**\n     * Authentication provider.\n     *\n     * @return the dao authentication provider\n     */\n    @Bean\n    DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n    \n        ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider = \n        new ActiveDirectoryLdapAuthenticationProvider( &quot;mydomainName.com&quot;, &quot;ldap://mydcipaddress:389&quot;, &quot;dc=my,dc=domain,dc=com&quot;);\n    \n        // to parse AD failed credentails error message due to account - expiry,lock, credentialis - expiry,lock\n        activeDirectoryLdapAuthenticationProvider.setConvertSubErrorCodesToExceptions(true); \n        activeDirectoryLdapAuthenticationProvider.setUseAuthenticationRequestCredentials(true);\n        activeDirectoryLdapAuthenticationProvider.setSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;);\n        \n        return activeDirectoryLdapAuthenticationProvider;\n    }\n\n\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return new ProviderManager(List.of(activeDirectoryLdapAuthenticationProvider()));\n    }\n \n    /**\n     * Filter chain.\n     *\n     * @param http the http\n     * @return the security filter chain\n     * @throws Exception the exception\n     */\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                // URL matching for accessibility\n                .requestMatchers(&quot;/datatables/**&quot;,\n                        &quot;/css/**&quot;,\n                        &quot;/js/**&quot;,\n                        &quot;/webjars/**&quot;,\n                        &quot;/app.js&quot;,\n                        &quot;/app.css&quot;,\n                        &quot;/just-validate/**&quot;,\n                        &quot;/bootstrap-icons/**&quot;,\n                        &quot;/bootstrap/**&quot;,\n                        &quot;/popperjs/**&quot;,\n                        &quot;/select2-bootstrap-5-theme-1.3.0/**&quot;,\n                        &quot;/select2-4.1.0-rc.0/**&quot;,\n                        &quot;/jquery/**&quot;,\n                        &quot;/*.p12&quot;,\n                        &quot;/login&quot;,\n                        &quot;/register&quot;,\n                        &quot;/resetPw1&quot;,\n                        &quot;/resetPw2&quot;,\n                        &quot;/error&quot;,\n                        &quot;/logout&quot;,\n                        &quot;/images/**&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ADMIN&quot;)\n                .requestMatchers(&quot;/user/**&quot;).authenticated()\n                .anyRequest().authenticated()\n                .and()                \n                // form login\n                .csrf((csrf) -&gt; csrf.disable())\n                .formLogin(login -&gt; login\n                        .loginPage(&quot;/login&quot;)\n                        .failureHandler(failureHandler)\n                        .successHandler(sucessHandler)\n                        .usernameParameter(&quot;email&quot;)\n                        .passwordParameter(&quot;password&quot;))\n                // logout\n                .logout(logout -&gt; logout\n                        .logoutSuccessUrl(&quot;/login?res=logoutSuccess&quot;))\n                .exceptionHandling(handling -&gt; handling\n                        .accessDeniedPage(&quot;/access-denied&quot;))\n                .authenticationManager(authenticationManager());\n                \n        // session\n        /*\n         * .and()\n         * .sessionManagement()\n         * .invalidSessionUrl(&quot;/login?res=sst&quot;);\n         */\n        //http.authenticationProvider(authenticationProvider());\n        http.headers(headers -&gt; headers.frameOptions().sameOrigin());\n        return http.build();\n    } \n\n}\n</code></pre>\n<p>As it seems, due to adding the activeDirectoryLdapAuthenticationProvider and set the AuthenticationManager to use the activeDirectoryLdapAuthenticationProvider as only provider, my application is using this provider.</p>\n<p>Wehn i try to login, my application is throwing the following error:</p>\n<pre><code>Caused by: javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090439, comment: AcceptSecurityContext error, data 52e, v4563]\n</code></pre>\n<p>as i've searched the whole internet already (it feels like that), i know that 52e means: Username found but password invalid / wrong.</p>\n<p>The problem is, that is not the truth! I've tested my account on several ldap / active directory clients and the account is working 100%!</p>\n<p>Hopefully someone is here that can put me in the right direction...</p>\n<p>Many Thanks And happy coding...</p>\n<p>Sascha</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1697735045,"post_id":77325617,"comment_id":136320284,"body_markdown":"Database or resource files. This certainly has nothing to do with [tag:oop].","body":"Database or resource files. This certainly has nothing to do with <a href=\"https://stackoverflow.com/questions/tagged/oop\">oop</a>."},{"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"score":1,"creation_date":1697735393,"post_id":77325617,"comment_id":136320350,"body_markdown":"Why do you want to make it all &quot;static&quot;?","body":"Why do you want to make it all &quot;static&quot;?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697742241,"post_id":77325617,"comment_id":136321510,"body_markdown":"_[SQLite](https://www.sqlite.org/index.html)_ databases are very fast.","body":"<i><a href=\"https://www.sqlite.org/index.html\" rel=\"nofollow noreferrer\">SQLite</a></i> databases are very fast."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697748498,"post_id":77325617,"comment_id":136322373,"body_markdown":"Database.  Don’t try to keep it all in memory.","body":"Database.  Don’t try to keep it all in memory."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697779728,"creation_date":1697754130,"answer_id":77327359,"question_id":77325617,"body_markdown":"If by “static” you mean the `static` keyword in Java, as in `static final` constants… don&#39;t do that. \r\n\r\nYou *could* do that. But as the Comments say, an alternative approach is likely wiser. \r\n\r\nOne issue is that `static` data in Java, once loaded is forever loaded. You cannot purge any static members of a class after that class loads. \r\n\r\nAnother issue is that any change to your verb data means recompiling your app. That seems silly just to fix a typo. \r\n\r\nInstead, load your data as needed from an external source. For any one use of your app, your user is unlikely to need every form of every conjugation of every verb. \r\n\r\nI would suggest you start by loading from simple text files. Later, you may  (or may not) decide that a database is better, such as [H2 Database Engine][1]. \r\n\r\n\r\n----------\r\n\r\n\r\nYou may want to learn about the common “Repository” idiom in Java where you separate the code needing the data from the code fetching the data. \r\n\r\n - The code needing data calls upon an interface. \r\n - The code fetching the data is in a class implementing that interface. \r\n\r\nSo you can start with an implementation class for accessing files. Later you can try an alternative implementation class for accessing a database. You can swap between these implementations without altering the code that needs the data. \r\n\r\nAnother benefit: This approach facilitates testing by enabling dummy implementation classes with a bit of hard-coded data. Indeed, you may want to start your work with such a dummy-data implementation, to get your app going to work out details of your user-interface.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/H2_(database)","title":"What is the best way to manage a large amount of static data in Java?","body":"<p>If by “static” you mean the <code>static</code> keyword in Java, as in <code>static final</code> constants… don't do that.</p>\n<p>You <em>could</em> do that. But as the Comments say, an alternative approach is likely wiser.</p>\n<p>One issue is that <code>static</code> data in Java, once loaded is forever loaded. You cannot purge any static members of a class after that class loads.</p>\n<p>Another issue is that any change to your verb data means recompiling your app. That seems silly just to fix a typo.</p>\n<p>Instead, load your data as needed from an external source. For any one use of your app, your user is unlikely to need every form of every conjugation of every verb.</p>\n<p>I would suggest you start by loading from simple text files. Later, you may  (or may not) decide that a database is better, such as <a href=\"https://en.wikipedia.org/wiki/H2_(database)\" rel=\"nofollow noreferrer\">H2 Database Engine</a>.</p>\n<hr />\n<p>You may want to learn about the common “Repository” idiom in Java where you separate the code needing the data from the code fetching the data.</p>\n<ul>\n<li>The code needing data calls upon an interface.</li>\n<li>The code fetching the data is in a class implementing that interface.</li>\n</ul>\n<p>So you can start with an implementation class for accessing files. Later you can try an alternative implementation class for accessing a database. You can swap between these implementations without altering the code that needs the data.</p>\n<p>Another benefit: This approach facilitates testing by enabling dummy implementation classes with a bit of hard-coded data. Indeed, you may want to start your work with such a dummy-data implementation, to get your app going to work out details of your user-interface.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697756926,"creation_date":1697756926,"answer_id":77327481,"question_id":77325617,"body_markdown":"Database is overkill - it&#39;s essentially static data that will eventually stabilise. You don&#39;t need the headache of DB code, where it will reside, how to back it up, etc.\r\n\r\nStore the word information in a resource file in the repo if your project, include it in your jar file and load it at start up.\r\n\r\nThe amount of data is actually small - 100K words tops, and of those only some are verbs, and of those only some are irregular. Design your data to minimise its size.\r\n\r\nChoose whatever format is easiest for you to read and edit. Good options are CSV, JSON and YAML - all choices are good.","title":"What is the best way to manage a large amount of static data in Java?","body":"<p>Database is overkill - it's essentially static data that will eventually stabilise. You don't need the headache of DB code, where it will reside, how to back it up, etc.</p>\n<p>Store the word information in a resource file in the repo if your project, include it in your jar file and load it at start up.</p>\n<p>The amount of data is actually small - 100K words tops, and of those only some are verbs, and of those only some are irregular. Design your data to minimise its size.</p>\n<p>Choose whatever format is easiest for you to read and edit. Good options are CSV, JSON and YAML - all choices are good.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697785414,"post_id":77328873,"comment_id":136325695,"body_markdown":"You can&#39;t &#39;leave OOP to [the] end&#39;, but it has no applicability here.","body":"You can&#39;t &#39;leave OOP to [the] end&#39;, but it has no applicability here."},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1697785476,"post_id":77328873,"comment_id":136325706,"body_markdown":"can you explain why OOP has no applicability here?","body":"can you explain why OOP has no applicability here?"}],"tags":[],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697785434,"creation_date":1697785108,"answer_id":77328873,"question_id":77325617,"body_markdown":"I often run into these situations, that when I design some code structure, I don\\`t know where to start. Whether to create a whole bunch of interfaces or super classes or not. \r\n\r\nI tried to use oop for this situation, but it will end up with a lot of classes, I think you should leave oop to end.\r\n\r\nFrom experience, I recommend &quot;starting from very small things&quot;.\r\n\r\n1. put them in static fields in a class like you said, and after some time you may find a more suitable way, whether to loading them once from file, DB or some other approaches seems fine.\r\n2. use `enums` like below, this example where I split some verbs into two categories may not suit your case.\r\n\r\n```\r\nenum BeBeedBeenVerbs {\r\n\r\n    IS(&quot;is&quot;, &quot;was&quot;, &quot;been&quot;),\r\n    ARE(&quot;are&quot;, &quot;were&quot;, &quot;been&quot;),\r\n    WAS(&quot;is&quot;, &quot;was&quot;, &quot;been&quot;),\r\n    WERE(&quot;are&quot;, &quot;were&quot;, &quot;been&quot;),\r\n    ;\r\n\r\n    private String be;\r\n    private String beed;\r\n    private String been;\r\n\r\n    BeBeedBeenVerbs(String be, String beed, String been) {\r\n        this.be = be;\r\n        this.beed = beed;\r\n        this.been = been;\r\n    }\r\n}\r\n\r\nenum BeBeedVerbsEnum {\r\n    HAVE(&quot;have&quot;, &quot;had&quot;),\r\n    HAS(&quot;has&quot;, &quot;had&quot;),\r\n    HAD(&quot;have&quot;, &quot;had&quot;),\r\n    ;\r\n\r\n    private String be;\r\n    private String beed;\r\n\r\n    BeBeedVerbsEnum(String be, String beed) {\r\n        this.be = be;\r\n        this.beed = beed;\r\n    }\r\n}\r\n```","title":"What is the best way to manage a large amount of static data in Java?","body":"<p>I often run into these situations, that when I design some code structure, I don`t know where to start. Whether to create a whole bunch of interfaces or super classes or not.</p>\n<p>I tried to use oop for this situation, but it will end up with a lot of classes, I think you should leave oop to end.</p>\n<p>From experience, I recommend &quot;starting from very small things&quot;.</p>\n<ol>\n<li>put them in static fields in a class like you said, and after some time you may find a more suitable way, whether to loading them once from file, DB or some other approaches seems fine.</li>\n<li>use <code>enums</code> like below, this example where I split some verbs into two categories may not suit your case.</li>\n</ol>\n<pre><code>enum BeBeedBeenVerbs {\n\n    IS(&quot;is&quot;, &quot;was&quot;, &quot;been&quot;),\n    ARE(&quot;are&quot;, &quot;were&quot;, &quot;been&quot;),\n    WAS(&quot;is&quot;, &quot;was&quot;, &quot;been&quot;),\n    WERE(&quot;are&quot;, &quot;were&quot;, &quot;been&quot;),\n    ;\n\n    private String be;\n    private String beed;\n    private String been;\n\n    BeBeedBeenVerbs(String be, String beed, String been) {\n        this.be = be;\n        this.beed = beed;\n        this.been = been;\n    }\n}\n\nenum BeBeedVerbsEnum {\n    HAVE(&quot;have&quot;, &quot;had&quot;),\n    HAS(&quot;has&quot;, &quot;had&quot;),\n    HAD(&quot;have&quot;, &quot;had&quot;),\n    ;\n\n    private String be;\n    private String beed;\n\n    BeBeedVerbsEnum(String be, String beed) {\n        this.be = be;\n        this.beed = beed;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29710159,"reputation":19,"user_id":22770035,"display_name":"KillerToaster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1697789665,"accepted_answer_id":77327359,"answer_count":3,"score":-1,"last_activity_date":1697785434,"creation_date":1697733296,"question_id":77325617,"body_markdown":"I am beginning work on a side project and I am trying to outline the structure of the program I am writing. The basic concept is a GUI application for quizzing on spanish verb conjugations. I want it to function kind of like this website:(https://www.magistrula.com/latin/charts?cap=adv&amp;quiz=decl&amp;mac=essMac)\r\n\r\nIn Spanish, there are many irregular verbs and stem changes that would make it difficult to have a list of infinitives and then generate all the forms automatically. Ultimately, there will be hundreds of verbs many of which have unique forms. I would like each word to have every form saved statically. Should I use a JSON file, a database, or many static classes? I am unsure.\r\n\r\nMy first thought was to create many static classes, but I feel that wold be creating far more work for myself than necessary. Everything in this project should be local and run without a network connection.","title":"What is the best way to manage a large amount of static data in Java?","body":"<p>I am beginning work on a side project and I am trying to outline the structure of the program I am writing. The basic concept is a GUI application for quizzing on spanish verb conjugations. I want it to function kind of like this website:(<a href=\"https://www.magistrula.com/latin/charts?cap=adv&amp;quiz=decl&amp;mac=essMac\" rel=\"nofollow noreferrer\">https://www.magistrula.com/latin/charts?cap=adv&amp;quiz=decl&amp;mac=essMac</a>)</p>\n<p>In Spanish, there are many irregular verbs and stem changes that would make it difficult to have a list of infinitives and then generate all the forms automatically. Ultimately, there will be hundreds of verbs many of which have unique forms. I would like each word to have every form saved statically. Should I use a JSON file, a database, or many static classes? I am unsure.</p>\n<p>My first thought was to create many static classes, but I feel that wold be creating far more work for myself than necessary. Everything in this project should be local and run without a network connection.</p>\n"},{"tags":["java","spring","spring-mvc","configuration","spring-boot"],"comments":[{"owner":{"account_id":6113017,"reputation":2809,"user_id":4768873,"display_name":"Rob Baily"},"score":0,"creation_date":1469385104,"post_id":38553929,"comment_id":64501743,"body_markdown":"That looks like it should be correct as mine is set up this way and I do not need to refer to static.  I am using Freemarker templates of which some have Angular and it works.  Can you share the POM file for your project?","body":"That looks like it should be correct as mine is set up this way and I do not need to refer to static.  I am using Freemarker templates of which some have Angular and it works.  Can you share the POM file for your project?"},{"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"score":0,"creation_date":1469415229,"post_id":38553929,"comment_id":64509082,"body_markdown":"yea sure , edit done to show the pom file, @RobBaily please check !!","body":"yea sure , edit done to show the pom file, @RobBaily please check !!"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1469441497,"post_id":38553929,"comment_id":64520006,"body_markdown":"please show your  InternalResourceViewResolver (xml or java)","body":"please show your  InternalResourceViewResolver (xml or java)"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1469441790,"post_id":38553929,"comment_id":64520177,"body_markdown":"This topic might be interesting for you : http://stackoverflow.com/questions/29953245/configure-viewresolver-with-spring-boot-and-annotations-gives-no-mapping-found-f","body":"This topic might be interesting for you : <a href=\"http://stackoverflow.com/questions/29953245/configure-viewresolver-with-spring-boot-and-annotations-gives-no-mapping-found-f\" title=\"configure viewresolver with spring boot and annotations gives no mapping found f\">stackoverflow.com/questions/29953245/&hellip;</a>"},{"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"score":0,"creation_date":1469511902,"post_id":38553929,"comment_id":64552370,"body_markdown":"@Georgesvanhoutte thanks a lot, it was helpful, but as I answered , just extending the WebMvcAutoConfiguration class helped and I did not have to give any view resolver or create any new controller.","body":"@Georgesvanhoutte thanks a lot, it was helpful, but as I answered , just extending the WebMvcAutoConfiguration class helped and I did not have to give any view resolver or create any new controller."}],"answers":[{"comments":[{"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"score":1,"creation_date":1469440457,"post_id":38561767,"comment_id":64519381,"body_markdown":"sorry I had to udpate this, I have removed thymleaf because I am using angularjs for UI.","body":"sorry I had to udpate this, I have removed thymleaf because I am using angularjs for UI."}],"tags":[],"owner":{"account_id":6752840,"reputation":2432,"user_id":5202340,"accept_rate":70,"display_name":"Lazar Lazarov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469431109,"creation_date":1469431109,"answer_id":38561767,"question_id":38553929,"body_markdown":"I see you are using thymeleaf so try to access your resources like this : \r\n\r\n    &lt;script th:src=&quot;@{/js/socket.io/socket.io.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/js/moment.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/js/demoApp.js}&quot;&gt;&lt;/script&gt;\r\n\r\nAlso and if this does not work can you add your index.html.","title":"spring-boot 404 error in serving .js, .css files to html templates","body":"<p>I see you are using thymeleaf so try to access your resources like this : </p>\n\n<pre><code>&lt;script th:src=\"@{/js/socket.io/socket.io.js}\"&gt;&lt;/script&gt;\n&lt;script th:src=\"@{/js/moment.min.js}\"&gt;&lt;/script&gt;\n&lt;script th:src=\"@{/js/demoApp.js}\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Also and if this does not work can you add your index.html.</p>\n"},{"tags":[],"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469440793,"creation_date":1469440793,"answer_id":38564741,"question_id":38553929,"body_markdown":"I have found the problem , everything was correct but :\r\n1) I was not extending my Application class from WebMvcAutoConfiguration.\r\n\r\n    @SpringBootApplication\r\n    @EnableWebMvc\r\n    public class HLACUIApplication extends WebMvcAutoConfiguration {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(HLACUIApplication.class, args);\r\n    \t}\r\n    \t\r\n    }\r\nThis is how the application class should be.\r\n\r\n2) I don&#39;t need to use templates folder because I am using angularjs and not thymeleaf. I have put everything in static folder.\r\n","title":"spring-boot 404 error in serving .js, .css files to html templates","body":"<p>I have found the problem , everything was correct but :\n1) I was not extending my Application class from WebMvcAutoConfiguration.</p>\n\n<pre><code>@SpringBootApplication\n@EnableWebMvc\npublic class HLACUIApplication extends WebMvcAutoConfiguration {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HLACUIApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>This is how the application class should be.</p>\n\n<p>2) I don't need to use templates folder because I am using angularjs and not thymeleaf. I have put everything in static folder.</p>\n"},{"tags":[],"owner":{"account_id":7410845,"reputation":727,"user_id":5638209,"display_name":"Yanish Pradhananga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557939386,"creation_date":1503325019,"answer_id":45799387,"question_id":38553929,"body_markdown":"I was facing the same issue. I think you are having `html` code like below:\r\n    \r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n        &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\r\n        &lt;title&gt;Insert title here&lt;/title&gt;\r\n    \r\n        &lt;!-- Main Styles --&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bar.css&quot; /&gt;\r\n        &lt;script src=&quot;/js/foo.js&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt;Welcome to Foo!&lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n    \r\n    \r\nI solved the problem by adding `type=&quot;text/javascript&quot;` to the `&lt;script&gt;` element. In `Spring Boot` applications it&#39;s required to define `type=&quot;text/javascript&quot;`, otherwise it&#39;s not going to load.\r\n\r\nThe solution for your example would look like this:\r\n    \r\n        &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n        &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\r\n        &lt;title&gt;Insert title here&lt;/title&gt;\r\n    \r\n        &lt;!-- Main Styles --&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bar.css&quot; /&gt;\r\n        &lt;script type=&quot;text/javascript&quot; src=&quot;/js/foo.js&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt;Welcome to Foo!&lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n","title":"spring-boot 404 error in serving .js, .css files to html templates","body":"<p>I was facing the same issue. I think you are having <code>html</code> code like below:</p>\n\n<pre><code>&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" /&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n\n    &lt;!-- Main Styles --&gt;\n    &lt;link rel=\"stylesheet\" href=\"/css/bar.css\" /&gt;\n    &lt;script src=\"/js/foo.js\"&gt;&lt;/script&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;Welcome to Foo!&lt;/div&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>I solved the problem by adding <code>type=\"text/javascript\"</code> to the <code>&lt;script&gt;</code> element. In <code>Spring Boot</code> applications it's required to define <code>type=\"text/javascript\"</code>, otherwise it's not going to load.</p>\n\n<p>The solution for your example would look like this:</p>\n\n<pre><code>    &lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\" /&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n\n    &lt;!-- Main Styles --&gt;\n    &lt;link rel=\"stylesheet\" href=\"/css/bar.css\" /&gt;\n    &lt;script type=\"text/javascript\" src=\"/js/foo.js\"&gt;&lt;/script&gt;\n\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;Welcome to Foo!&lt;/div&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6728339,"reputation":1,"user_id":5185580,"display_name":"Janusz S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536929203,"creation_date":1536929203,"answer_id":52332347,"question_id":38553929,"body_markdown":"In my case with thymeleaf, helped when I skipped &#39;/&#39; before &#39;js&#39;.\r\n\r\nExample, instead of\r\n\r\n    &lt;script src=&quot;/js/demoApp.js&quot;&gt;&lt;/script&gt;\r\n\r\nI&#39;ve put\r\n \r\n    &lt;script src=&quot;js/demoApp.js&quot;&gt;&lt;/script&gt;","title":"spring-boot 404 error in serving .js, .css files to html templates","body":"<p>In my case with thymeleaf, helped when I skipped '/' before 'js'.</p>\n\n<p>Example, instead of</p>\n\n<pre><code>&lt;script src=\"/js/demoApp.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I've put</p>\n\n<pre><code>&lt;script src=\"js/demoApp.js\"&gt;&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19672887,"reputation":1,"user_id":14401753,"display_name":"sit918"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622097452,"creation_date":1622055228,"answer_id":67711090,"question_id":38553929,"body_markdown":"If you are using `Eclipse IDE` right click on Project Properties/Project Facets\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/55tUc.png","title":"spring-boot 404 error in serving .js, .css files to html templates","body":"<p>If you are using <code>Eclipse IDE</code> right click on Project Properties/Project Facets</p>\n"}],"owner":{"account_id":4191169,"reputation":909,"user_id":3433752,"accept_rate":50,"display_name":"sensitive_piece_of_horseflesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11339,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1697785240,"creation_date":1469375707,"question_id":38553929,"body_markdown":"I am using spring boot and was trying to host HTML pages that use angular js.\r\nMy folder structure is :[![My Folder Structure][1]][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ac2Yz.png\r\n\r\nI referred to a lot of other question on SO and even spring.io guide on spring boot and what I understood was that we are supposed to keep our html templates in templates folder and all the .css, images, .js files in static folder. I have done the same, but whenever the page loads , only the html is rendered and browser get 404 for all .css and .js files.\r\n\r\nI have include .css and .js in my HTML in the following manner :\r\n\r\n    &lt;script src=&quot;/js/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;/js/moment.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;/js/demoApp.js&quot;&gt;&lt;/script&gt;\r\n\r\nI tried all the combinations like :\r\nsrc=&quot;../static/js/socket.io/socket.io.js&quot; or src=&quot;js/socket.io/socket.io.js&quot;\r\nbut always I am getting 404 for these files, in the browser.\r\n\r\nI checked the spring boot logs and this is what it says :\r\n\r\n    2016-07-24 21:08:05 WARN  PageNotFound:1139 - No mapping found for HTTP request with URI [/js/demoApp.js] in DispatcherServlet with name &#39;dispatcherServlet&#39;\r\n    2016-07-24 21:08:05 DEBUG DispatcherServlet:997 - Successfully completed request\r\n\r\nI am unable to understand how to solve the issue, please help !!!\r\n\r\nNote : I have not written view resolver code because according to my understanding spring boot automatically picks up static content from static folder. Please correct me if I am wrong.\r\n\r\nEdit : Adding my pom file :\r\n\r\n        &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--Alexa Dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;org.apache.commons.io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazon.alexa&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;alexa-skills-kit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.40&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n","title":"spring-boot 404 error in serving .js, .css files to html templates","body":"<p>I am using spring boot and was trying to host HTML pages that use angular js.\nMy folder structure is :<a href=\"https://i.stack.imgur.com/ac2Yz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ac2Yz.png\" alt=\"My Folder Structure\"></a> </p>\n\n<p>I referred to a lot of other question on SO and even spring.io guide on spring boot and what I understood was that we are supposed to keep our html templates in templates folder and all the .css, images, .js files in static folder. I have done the same, but whenever the page loads , only the html is rendered and browser get 404 for all .css and .js files.</p>\n\n<p>I have include .css and .js in my HTML in the following manner :</p>\n\n<pre><code>&lt;script src=\"/js/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/js/moment.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/js/demoApp.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I tried all the combinations like :\nsrc=\"../static/js/socket.io/socket.io.js\" or src=\"js/socket.io/socket.io.js\"\nbut always I am getting 404 for these files, in the browser.</p>\n\n<p>I checked the spring boot logs and this is what it says :</p>\n\n<pre><code>2016-07-24 21:08:05 WARN  PageNotFound:1139 - No mapping found for HTTP request with URI [/js/demoApp.js] in DispatcherServlet with name 'dispatcherServlet'\n2016-07-24 21:08:05 DEBUG DispatcherServlet:997 - Successfully completed request\n</code></pre>\n\n<p>I am unable to understand how to solve the issue, please help !!!</p>\n\n<p>Note : I have not written view resolver code because according to my understanding spring boot automatically picks up static content from static folder. Please correct me if I am wrong.</p>\n\n<p>Edit : Adding my pom file :</p>\n\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--Alexa Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.commons.io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazon.alexa&lt;/groupId&gt;\n            &lt;artifactId&gt;alexa-skills-kit&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;1.9.40&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","metrics","micrometer"],"comments":[{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1698089655,"post_id":77328856,"comment_id":136358666,"body_markdown":"The version you are using is very old and not supported anymore. You can instrument your redis client using a Timer.","body":"The version you are using is very old and not supported anymore. You can instrument your redis client using a Timer."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1698114403,"post_id":77328856,"comment_id":136361250,"body_markdown":"Hi @JonatanIvanov thank you for your comment. Could you help to provide more infomation? &quot;The version you are using is very old...&quot; you mean redisson or spring boot? &quot;You can instrument your redis client...&quot; can you provide me a snip of code?","body":"Hi @JonatanIvanov thank you for your comment. Could you help to provide more infomation? &quot;The version you are using is very old...&quot; you mean redisson or spring boot? &quot;You can instrument your redis client...&quot; can you provide me a snip of code?"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1698198761,"post_id":77328856,"comment_id":136373781,"body_markdown":"I meant Boot: https://spring.io/projects/spring-boot#support also, I forgot that instrumentation is available starting from Redison 3.21.0: https://github.com/redisson/redisson/issues/4976 you will need Spring Boot 3 for that.","body":"I meant Boot: <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot#support</a> also, I forgot that instrumentation is available starting from Redison 3.21.0: <a href=\"https://github.com/redisson/redisson/issues/4976\" rel=\"nofollow noreferrer\">github.com/redisson/redisson/issues/4976</a> you will need Spring Boot 3 for that."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1698204103,"post_id":77328856,"comment_id":136374159,"body_markdown":"I still cannot get your point about instrumentation. How Observation API give me the distribution of the redis cluster? I want to get some thing like: 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running\n\nPlease help to provide some code snip. Thank you","body":"I still cannot get your point about instrumentation. How Observation API give me the distribution of the redis cluster? I want to get some thing like: 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running  Please help to provide some code snip. Thank you"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697784908,"creation_date":1697784908,"question_id":77328856,"body_markdown":"We have a redis cluster containing multiple redis instances. We also have a spring boot app that read from/write to this cluster. Now we want to use micrometer/prometheus/grafana to capture operation distribution metrics of the cluster (for example, this cluster have 3 instances and the counter metrics should show me 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running).\r\n\r\nI would like to get your idea how to archive this requirement. Please help!\r\n\r\n    Spring boot version: 2.3.9-RELEASE\r\n    Redisson version: 3.15.0","title":"How to capture distribution metrics of the redis cluster?","body":"<p>We have a redis cluster containing multiple redis instances. We also have a spring boot app that read from/write to this cluster. Now we want to use micrometer/prometheus/grafana to capture operation distribution metrics of the cluster (for example, this cluster have 3 instances and the counter metrics should show me 1k request to instance 1, 900 to instance 2 and 0 to instance 3 since instance 3 was not running).</p>\n<p>I would like to get your idea how to archive this requirement. Please help!</p>\n<pre><code>Spring boot version: 2.3.9-RELEASE\nRedisson version: 3.15.0\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":1229677,"reputation":415,"user_id":1194528,"display_name":"user1194528"},"score":2,"creation_date":1680725984,"post_id":69570324,"comment_id":133949082,"body_markdown":"this method is deprecated. new approach is to use something like readableByteBuffers","body":"this method is deprecated. new approach is to use something like readableByteBuffers"}],"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634212855,"creation_date":1634212855,"answer_id":69570324,"question_id":69570229,"body_markdown":"You can simply use the `org.springframework.core.io.buffer.DataBuffer#asByteBuffer()`:\r\n\r\n    Flux&lt;java.nio.ByteBuffer&gt; buffers = filePart.content()\r\n        .map(DataBuffer::asByteBuffer);\r\n\r\n  ","title":"Convert Flux&lt;DataBuffer&gt; into Flux&lt;ByteBuffer&gt;","body":"<p>You can simply use the <code>org.springframework.core.io.buffer.DataBuffer#asByteBuffer()</code>:</p>\n<pre><code>Flux&lt;java.nio.ByteBuffer&gt; buffers = filePart.content()\n    .map(DataBuffer::asByteBuffer);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":438049,"reputation":386,"user_id":826076,"accept_rate":80,"display_name":"Alper Kanat"},"score":0,"creation_date":1689285193,"post_id":76388223,"comment_id":135195948,"body_markdown":"In my experience, using readableByteBuffers() instead of asByteBuffer() leads to corruption. Couldn&#39;t figure out why. My guess is either the iterator is not read in order or it&#39;s not closed properly.","body":"In my experience, using readableByteBuffers() instead of asByteBuffer() leads to corruption. Couldn&#39;t figure out why. My guess is either the iterator is not read in order or it&#39;s not closed properly."},{"owner":{"account_id":438049,"reputation":386,"user_id":826076,"accept_rate":80,"display_name":"Alper Kanat"},"score":1,"creation_date":1689285866,"post_id":76388223,"comment_id":135196018,"body_markdown":"Using `flatMapSequential` instead of `flatMap` solved the issue I had.","body":"Using <code>flatMapSequential</code> instead of <code>flatMap</code> solved the issue I had."}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697784530,"creation_date":1685692766,"answer_id":76388223,"question_id":69570229,"body_markdown":"The [`asByteBuffer()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html#asByteBuffer()) method mentioned in the [answer of tmarwen](https://stackoverflow.com/a/69570324/1915448) is deprecated **since Spring Boot 3.x** (and Spring framework 6.x). The following deprecation warning is added:\r\n\r\n&gt; **Deprecated.**&lt;br /&gt;\r\n&gt; *as of 6.0, in favor of `toByteBuffer(ByteBuffer)`, `readableByteBuffers()`, or `writableByteBuffers()`.*\r\n\r\nIf you&#39;re using the `DataBuffer` to upload a file, `readableByteBuffers()` can be used. This method returns an `Iterator&lt;ByteBuffer&gt;` so you can use it with `Flux.fromIterable()`:\r\n\r\n```java\r\nFlux&lt;ByteBuffer&gt; byteBuffers = filePart\r\n    .content()\r\n    // The `flatMapSequential` is important for larger buffers to preserve order\r\n    . flatMapSequential(dataBuffer -&gt; Flux.fromIterable(dataBuffer::readableByteBuffers));\r\n```\r\n\r\n**IMPORTANT**: The `readableByteBuffers()` method was added in Spring Boot 3.0.3 (Spring framework 6.0.5) while the deprecation warning is present since Spring Boot 3.0.0 (Spring framework 6.0.0). This means you have to upgrade your project to at least Spring Boot 3.0.3 to make this work.","title":"Convert Flux&lt;DataBuffer&gt; into Flux&lt;ByteBuffer&gt;","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html#asByteBuffer()\" rel=\"nofollow noreferrer\"><code>asByteBuffer()</code></a> method mentioned in the <a href=\"https://stackoverflow.com/a/69570324/1915448\">answer of tmarwen</a> is deprecated <strong>since Spring Boot 3.x</strong> (and Spring framework 6.x). The following deprecation warning is added:</p>\n<blockquote>\n<p><strong>Deprecated.</strong><br />\n<em>as of 6.0, in favor of <code>toByteBuffer(ByteBuffer)</code>, <code>readableByteBuffers()</code>, or <code>writableByteBuffers()</code>.</em></p>\n</blockquote>\n<p>If you're using the <code>DataBuffer</code> to upload a file, <code>readableByteBuffers()</code> can be used. This method returns an <code>Iterator&lt;ByteBuffer&gt;</code> so you can use it with <code>Flux.fromIterable()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;ByteBuffer&gt; byteBuffers = filePart\n    .content()\n    // The `flatMapSequential` is important for larger buffers to preserve order\n    . flatMapSequential(dataBuffer -&gt; Flux.fromIterable(dataBuffer::readableByteBuffers));\n</code></pre>\n<p><strong>IMPORTANT</strong>: The <code>readableByteBuffers()</code> method was added in Spring Boot 3.0.3 (Spring framework 6.0.5) while the deprecation warning is present since Spring Boot 3.0.0 (Spring framework 6.0.0). This means you have to upgrade your project to at least Spring Boot 3.0.3 to make this work.</p>\n"}],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69570324,"answer_count":2,"score":0,"last_activity_date":1697784530,"creation_date":1634212436,"question_id":69570229,"body_markdown":"I am working on spring webflux file upload. From the controller I want to upload the file on amazon S3 bucket. So in the controller I received following object \r\n\r\n    org.springframework.http.codec.multipart.FilePart\r\nAnd from the `FilePart.content()` I can get\r\n\r\n    reactor.core.publisher.Flux&lt;org.springframework.core.io.buffer.DataBuffer&gt;\r\nMy question is how can I convert this `Flux&lt;DataBuffer&gt;` into `Flux&lt;ByteBuffer&gt;`. I mean into the following object\r\n\r\n    Flux&lt;java.nio.ByteBuffer&gt;\r\n\r\n","title":"Convert Flux&lt;DataBuffer&gt; into Flux&lt;ByteBuffer&gt;","body":"<p>I am working on spring webflux file upload. From the controller I want to upload the file on amazon S3 bucket. So in the controller I received following object</p>\n<pre><code>org.springframework.http.codec.multipart.FilePart\n</code></pre>\n<p>And from the <code>FilePart.content()</code> I can get</p>\n<pre><code>reactor.core.publisher.Flux&lt;org.springframework.core.io.buffer.DataBuffer&gt;\n</code></pre>\n<p>My question is how can I convert this <code>Flux&lt;DataBuffer&gt;</code> into <code>Flux&lt;ByteBuffer&gt;</code>. I mean into the following object</p>\n<pre><code>Flux&lt;java.nio.ByteBuffer&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697786074,"post_id":77328777,"comment_id":136325832,"body_markdown":"You have way to much (and conflicting) dependencies, you are trying to outsmart Spring Boot dependency management, tip don&#39;t do that. Remove the `javax.mail` and `javax.activation` dependencies, those are incompatible, remove the `hibernate-core` and `jakarta.persistence` dependency that is already included in `spring-boot-starter-data-jpa`. Remove the version for the various `spring-boot-starter-` dependencies that have it, remove `jackson-datatype-jsr310` and `jakarta.servlet` as well. There are probably more as you have the `javax.persistence` import instead of `jakarta.persistence`.","body":"You have way to much (and conflicting) dependencies, you are trying to outsmart Spring Boot dependency management, tip don&#39;t do that. Remove the <code>javax.mail</code> and <code>javax.activation</code> dependencies, those are incompatible, remove the <code>hibernate-core</code> and <code>jakarta.persistence</code> dependency that is already included in <code>spring-boot-starter-data-jpa</code>. Remove the version for the various <code>spring-boot-starter-</code> dependencies that have it, remove <code>jackson-datatype-jsr310</code> and <code>jakarta.servlet</code> as well. There are probably more as you have the <code>javax.persistence</code> import instead of <code>jakarta.persistence</code>."},{"owner":{"account_id":17520974,"reputation":1,"user_id":12707034,"display_name":"Sistem Suciu"},"score":0,"creation_date":1697787304,"post_id":77328777,"comment_id":136326057,"body_markdown":"Made all those changes, still inserts the row in the db, but now I get a different error: `&quot;Unable to resolve name [org.hibernate.dialect.PostgreSQL9Dialect] as strategy [org.hibernate.dialect.Dialect]. Caused by .ClassLoadingException: Unable to load class [org.hibernate.dialect.PostgreSQL9Dialect]. Failed to initialize JPA EntityManagerFactory: Unable to create requested service JdbcEnvironment due to: Unable to resolve name PostgreSQL9Dialect as strategy org.hibernate.dialect.Dialect`","body":"Made all those changes, still inserts the row in the db, but now I get a different error: <code>&quot;Unable to resolve name [org.hibernate.dialect.PostgreSQL9Dialect] as strategy [org.hibernate.dialect.Dialect]. Caused by .ClassLoadingException: Unable to load class [org.hibernate.dialect.PostgreSQL9Dialect]. Failed to initialize JPA EntityManagerFactory: Unable to create requested service JdbcEnvironment due to: Unable to resolve name PostgreSQL9Dialect as strategy org.hibernate.dialect.Dialect</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697787831,"post_id":77328777,"comment_id":136326139,"body_markdown":"Because that class doesn&#39;t exist anymore. Are &quot;following&quot; some tutorial and decided to use newer dependencies? Use `org.hibernate.dialect.PostgreSQLDialect` instead.","body":"Because that class doesn&#39;t exist anymore. Are &quot;following&quot; some tutorial and decided to use newer dependencies? Use <code>org.hibernate.dialect.PostgreSQLDialect</code> instead."}],"owner":{"account_id":17520974,"reputation":1,"user_id":12707034,"display_name":"Sistem Suciu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697784161,"creation_date":1697783986,"question_id":77328777,"body_markdown":"I&#39;m using Springboot version 3.1.0 with Hibernate version 6.1.0 and jakarta persistence api 3.1.0.\r\n\r\nI&#39;m using PostgresSQL.\r\n\r\nWhen I run the code it creates the mitarbeiter and inserts the rows that I give him, but I have the following error: &quot;Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;, caused by &quot;java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;\r\n\r\n**application-local.yaml** looks like this:\r\n\r\n\r\n```\r\ncom:\r\n  example:\r\n    cors:\r\n      allowed-origins:\r\n        - &quot;http://localhost:8080&quot;\r\n        - &quot;http://localhost:4200&quot;\r\n\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\r\n    username: postgres\r\n    password:\r\n  liquibase:\r\n    change-log: classpath:db/changelog/db.changelog-master.yaml\r\n    enabled: true\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\n```\r\n\r\n**pom.xml**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;accessing-data-jpa-complete&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.70&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- ElasticSearch-Anbindung per Hibernate Search --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-search-backend-elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- OpenAPI / Swagger --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JWT Authentication --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Liquibase --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.19.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Datenbank-Treiber --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Passwortqualit&#228;tspr&#252;fungen --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Export nach Word --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.2.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.2.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;docx4j-samples-resources&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- OWASP Java HTML Sanitizer --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20200713.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Tests --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Microsoft Graph API --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JavaX Mail / Activation--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**Mitarbeiter.java**:\r\n\r\n```\r\npackage com.example.accessingdatajpa;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.hibernate.search.mapper.pojo.mapping.definition.annotation.*;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;mitarbeiter&quot;)\r\npublic class Mitarbeiter {\r\n\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mitarbeiterSeqGen&quot;)\r\n  @SequenceGenerator(sequenceName = &quot;mitarbeiter_seq&quot;, name = &quot;mitarbeiterSeqGen&quot;,\r\n      allocationSize = 1)\r\n  @Column(name = &quot;mitarbeiter_id&quot;)\r\n  @Id\r\n  private Long id;\r\n\r\n  @Column(name = &quot;email&quot;, unique = true)\r\n  @KeywordField\r\n  private String email;\r\n\r\n  @Column(name = &quot;vorname&quot;)\r\n  @FullTextField(analyzer = &quot;german&quot;)\r\n  private String vorname;\r\n\r\n  @Column(name = &quot;nachname&quot;)\r\n  @FullTextField(analyzer = &quot;german&quot;)\r\n  private String nachname;\r\n\r\n  public Mitarbeiter(Long id, String vorname, String nachname) {\r\n    this.id = id;\r\n    this.vorname = vorname;\r\n    this.nachname = nachname;\r\n\r\n  }\r\n}\r\n\r\n```\r\nAccessingDataJpaApplication.java:\r\n\r\n```\r\npackage com.example.accessingdatajpa;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class AccessingDataJpaApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AccessingDataJpaApplication.class);\r\n\t}}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Detailed error**:\r\n\r\n```\r\n2023-10-20T09:30:09.235+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : Starting AccessingDataJpaApplication using Java 17.0.8.1 with PID 18304 (C:\\Profilmanager\\gs-accessing-data-jpa\\complete\\target\\classes started by VladSuciu in C:\\Profilmanager\\gs-accessing-data-jpa\\complete)\r\n2023-10-20T09:30:09.241+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : The following 1 profile is active: &quot;local&quot;\r\n2023-10-20T09:30:10.642+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-20T09:30:10.704+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 1 JPA repository interfaces.\r\n2023-10-20T09:30:11.906+03:00  INFO 18304 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-10-20T09:30:12.083+03:00  INFO 18304 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-20T09:30:12.086+03:00  INFO 18304 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2778 ms\r\n2023-10-20T09:30:12.481+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-10-20T09:30:12.822+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55222ee9\r\n2023-10-20T09:30:12.823+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-10-20T09:30:12.989+03:00  INFO 18304 --- [           main] liquibase.database                       : Set default schema name to public\r\n2023-10-20T09:30:13.407+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.415+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.421+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.426+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.434+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.437+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n2023-10-20T09:30:13.464+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog\r\n2023-10-20T09:30:13.474+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.479+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\r\n2023-10-20T09:30:13.482+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.486+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::1::\r\n2023-10-20T09:30:13.531+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Sequence mitarbeiter_seq created\r\n2023-10-20T09:30:13.534+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::1:: ran successfully in 9ms\r\n2023-10-20T09:30:13.538+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.540+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::2::\r\n2023-10-20T09:30:13.554+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Table mitarbeiter created\r\n2023-10-20T09:30:13.557+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::2:: ran successfully in 15ms\r\n2023-10-20T09:30:13.559+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::3::\r\n2023-10-20T09:30:13.573+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Unique constraint added to mitarbeiter(email)\r\n2023-10-20T09:30:13.577+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::3::ran successfully in 15ms\r\n2023-10-20T09:30:13.579+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1::\r\n2023-10-20T09:30:13.588+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\r\n2023-10-20T09:30:13.591+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1:: ran successfully in 9ms\r\n2023-10-20T09:30:13.594+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2:\r\n2023-10-20T09:30:13.603+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\r\n2023-10-20T09:30:13.607+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2::ran successfully in 8ms\r\n2023-10-20T09:30:13.610+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.613+03:00  INFO 18304 --- [           main] liquibase                                : Update command completed successfully.\r\n2023-10-20T09:30:13.619+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\r\n2023-10-20T09:30:13.623+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n2023-10-20T09:30:13.755+03:00  WARN 18304 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n2023-10-20T09:30:13.756+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-10-20T09:30:13.764+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-10-20T09:30:13.772+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-20T09:30:13.790+03:00  INFO 18304 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-10-20T09:30:13.831+03:00 ERROR 18304 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\r\n\tat com.example.accessingdatajpa.AccessingDataJpaApplication.main(AccessingDataJpaApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\r\n\t... 16 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n","title":"Error creating bean entityManagerFactory: SpringHibernateJpaPersistenceProvider does not implement jakarta.persistence.spi.PersistenceProvider","body":"<p>I'm using Springboot version 3.1.0 with Hibernate version 6.1.0 and jakarta persistence api 3.1.0.</p>\n<p>I'm using PostgresSQL.</p>\n<p>When I run the code it creates the mitarbeiter and inserts the rows that I give him, but I have the following error: &quot;Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;, caused by &quot;java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider&quot;</p>\n<p><strong>application-local.yaml</strong> looks like this:</p>\n<pre><code>com:\n  example:\n    cors:\n      allowed-origins:\n        - &quot;http://localhost:8080&quot;\n        - &quot;http://localhost:4200&quot;\n\nspring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\n    username: postgres\n    password:\n  liquibase:\n    change-log: classpath:db/changelog/db.changelog-master.yaml\n    enabled: true\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\n\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;accessing-data-jpa-complete&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n            &lt;version&gt;4.8.70&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ElasticSearch-Anbindung per Hibernate Search --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search-mapper-orm&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.search&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-search-backend-elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OpenAPI / Swagger --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JWT Authentication --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Liquibase --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.19.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Datenbank-Treiber --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Passwortqualitätsprüfungen --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Export nach Word --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;11.2.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\n            &lt;version&gt;8.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;docx4j-samples-resources&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OWASP Java HTML Sanitizer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\n            &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\n            &lt;version&gt;20200713.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Tests --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Microsoft Graph API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n            &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n            &lt;artifactId&gt;microsoft-graph-auth&lt;/artifactId&gt;\n            &lt;version&gt;0.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JavaX Mail / Activation--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Mitarbeiter.java</strong>:</p>\n<pre><code>package com.example.accessingdatajpa;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.hibernate.search.mapper.pojo.mapping.definition.annotation.*;\nimport org.springframework.context.annotation.Bean;\n\nimport javax.persistence.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;mitarbeiter&quot;)\npublic class Mitarbeiter {\n\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;mitarbeiterSeqGen&quot;)\n  @SequenceGenerator(sequenceName = &quot;mitarbeiter_seq&quot;, name = &quot;mitarbeiterSeqGen&quot;,\n      allocationSize = 1)\n  @Column(name = &quot;mitarbeiter_id&quot;)\n  @Id\n  private Long id;\n\n  @Column(name = &quot;email&quot;, unique = true)\n  @KeywordField\n  private String email;\n\n  @Column(name = &quot;vorname&quot;)\n  @FullTextField(analyzer = &quot;german&quot;)\n  private String vorname;\n\n  @Column(name = &quot;nachname&quot;)\n  @FullTextField(analyzer = &quot;german&quot;)\n  private String nachname;\n\n  public Mitarbeiter(Long id, String vorname, String nachname) {\n    this.id = id;\n    this.vorname = vorname;\n    this.nachname = nachname;\n\n  }\n}\n\n</code></pre>\n<p>AccessingDataJpaApplication.java:</p>\n<pre><code>package com.example.accessingdatajpa;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AccessingDataJpaApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccessingDataJpaApplication.class);\n    }}\n\n</code></pre>\n<p><strong>Detailed error</strong>:</p>\n<pre><code>2023-10-20T09:30:09.235+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : Starting AccessingDataJpaApplication using Java 17.0.8.1 with PID 18304 (C:\\Profilmanager\\gs-accessing-data-jpa\\complete\\target\\classes started by VladSuciu in C:\\Profilmanager\\gs-accessing-data-jpa\\complete)\n2023-10-20T09:30:09.241+03:00  INFO 18304 --- [           main] c.e.a.AccessingDataJpaApplication        : The following 1 profile is active: &quot;local&quot;\n2023-10-20T09:30:10.642+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-20T09:30:10.704+03:00  INFO 18304 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 1 JPA repository interfaces.\n2023-10-20T09:30:11.906+03:00  INFO 18304 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-20T09:30:11.919+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-10-20T09:30:12.083+03:00  INFO 18304 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-20T09:30:12.086+03:00  INFO 18304 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2778 ms\n2023-10-20T09:30:12.481+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-10-20T09:30:12.822+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55222ee9\n2023-10-20T09:30:12.823+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-10-20T09:30:12.989+03:00  INFO 18304 --- [           main] liquibase.database                       : Set default schema name to public\n2023-10-20T09:30:13.407+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.415+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.421+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.426+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.434+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.437+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-10-20T09:30:13.464+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Creating database history table with name: public.databasechangelog\n2023-10-20T09:30:13.474+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.479+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\n2023-10-20T09:30:13.482+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.486+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::1::\n2023-10-20T09:30:13.531+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Sequence mitarbeiter_seq created\n2023-10-20T09:30:13.534+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::1:: ran successfully in 9ms\n2023-10-20T09:30:13.538+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.540+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::2::\n2023-10-20T09:30:13.554+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Table mitarbeiter created\n2023-10-20T09:30:13.557+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::2:: ran successfully in 15ms\n2023-10-20T09:30:13.559+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00001-initial-database.yaml::3::\n2023-10-20T09:30:13.573+03:00  INFO 18304 --- [           main] liquibase.changelog                      : Unique constraint added to mitarbeiter(email)\n2023-10-20T09:30:13.577+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00001-initial-database.yaml::3::ran successfully in 15ms\n2023-10-20T09:30:13.579+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1::\n2023-10-20T09:30:13.588+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\n2023-10-20T09:30:13.591+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::1:: ran successfully in 9ms\n2023-10-20T09:30:13.594+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\nRunning Changeset: classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2:\n2023-10-20T09:30:13.603+03:00  INFO 18304 --- [           main] liquibase.changelog                      : New row inserted into mitarbeiter\n2023-10-20T09:30:13.607+03:00  INFO 18304 --- [           main] liquibase.changelog                      : ChangeSet classpath*:db/changelog/changes/00006-initial-data-mitarbeiter.yaml::2::ran successfully in 8ms\n2023-10-20T09:30:13.610+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.613+03:00  INFO 18304 --- [           main] liquibase                                : Update command completed successfully.\n2023-10-20T09:30:13.619+03:00  INFO 18304 --- [           main] liquibase.executor                       : Changelog query completed.\n2023-10-20T09:30:13.623+03:00  INFO 18304 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-10-20T09:30:13.755+03:00  WARN 18304 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n2023-10-20T09:30:13.756+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-10-20T09:30:13.764+03:00  INFO 18304 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-10-20T09:30:13.772+03:00  INFO 18304 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-20T09:30:13.790+03:00  INFO 18304 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-10-20T09:30:13.831+03:00 ERROR 18304 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.9.jar:6.0.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305) ~[spring-boot-3.1.0.jar:3.1.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294) ~[spring-boot-3.1.0.jar:3.1.0]\n    at com.example.accessingdatajpa.AccessingDataJpaApplication.main(AccessingDataJpaApplication.java:10) ~[classes/:na]\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.9.jar:6.0.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.9.jar:6.0.9]\n    ... 16 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","apache-poi","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697783850,"creation_date":1697690147,"answer_id":77320986,"question_id":77311809,"body_markdown":"From your code I guess you are using very old versions of XDocReport and Apache POI. So I suggest update to more current versions.\r\n\r\nCurrent XDocReport  version 2.0.4 provides the `ImageManager` `Base64EmbedImgManager` already. So no special `Base64ImageExtractor` needed.\r\n\r\nFollowing works for me.\r\n\r\n    import java.io.*;\r\n    \r\n    //needed jars: xdocreport-2.0.4.jar, \r\n    import fr.opensagres.poi.xwpf.converter.xhtml.XHTMLConverter;\r\n    import fr.opensagres.poi.xwpf.converter.xhtml.XHTMLOptions;\r\n    import fr.opensagres.poi.xwpf.converter.xhtml.Base64EmbedImgManager ;\r\n    \r\n    //needed jars: all apache poi dependencies of poi-ooxml version 5.2.3\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    public class DOCXToXHTMLXDocReport {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String docPath = &quot;./WordDocument.docx&quot;;\r\n      String htmlPath = &quot;./WordDocument.html&quot;;\r\n    \r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(docPath));\r\n    \r\n      XHTMLOptions options = XHTMLOptions.create().setImageManager(new Base64EmbedImgManager());\r\n      \r\n      FileOutputStream out = new FileOutputStream(htmlPath);\r\n      XHTMLConverter.getInstance().convert(document, out, options);\r\n    \r\n      out.close();      \r\n      document.close();    \r\n    \r\n      java.awt.Desktop.getDesktop().browse(new File(htmlPath).toPath().toRealPath(java.nio.file.LinkOption.NOFOLLOW_LINKS).toUri());  \r\n     \r\n     }\r\n    }\r\n\r\n\r\nAfter upgrading your versions, you should test again. And and if you have problems with Unicode in `WordDocument.docx`, the you should provide an example `WordDocument.docx` which produces those problems. That will make your problem reproducible for others.\r\n_________________________________________________\r\n\r\nFound the Unicode problem. [fr.opensagres.poi.xwpf.converter.xhtml.SimpleContentHandler](https://github.com/opensagres/xdocreport/blob/master/thirdparties-extension/fr.opensagres.poi.xwpf.converter.xhtml/src/main/java/fr/opensagres/poi/xwpf/converter/xhtml/SimpleContentHandler.java) uses [String.getBytes](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getBytes--) without explicit `Charset`. That &quot;Encodes this String into a sequence of bytes using the **platform&#39;s default charset**, storing the result into a new byte array.&quot;.\r\n\r\nSo it depends on platform&#39;s default charset whether Unicode will be handled correctly. If the platform is Windows and no other charset is set via environment variables, the platform&#39;s default charset is windows-1252. That, of course cannot handle Unicode.\r\n\r\nYou can check via:\r\n\r\n    System.out.println(&quot;Default Charset=&quot; + java.nio.charset.Charset.defaultCharset());\t \r\n\r\nFor how to set UTF-8 the platform&#39;s default charset for Windows, please see https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding?answertab=scoredesc#tab-top.\r\n\r\nFor me, starting the class `DOCXToXHTMLXDocReport` via\r\n\r\n    java -Dfile.encoding=UTF-8 ... DOCXToXHTMLXDocReport\r\n\r\nproduces the correct Unicode results in HTML in Windows platform too.\r\n\r\n\r\n\r\n","title":"Convert .doc with utf-8 to html using xdocreport","body":"<p>From your code I guess you are using very old versions of XDocReport and Apache POI. So I suggest update to more current versions.</p>\n<p>Current XDocReport  version 2.0.4 provides the <code>ImageManager</code> <code>Base64EmbedImgManager</code> already. So no special <code>Base64ImageExtractor</code> needed.</p>\n<p>Following works for me.</p>\n<pre><code>import java.io.*;\n\n//needed jars: xdocreport-2.0.4.jar, \nimport fr.opensagres.poi.xwpf.converter.xhtml.XHTMLConverter;\nimport fr.opensagres.poi.xwpf.converter.xhtml.XHTMLOptions;\nimport fr.opensagres.poi.xwpf.converter.xhtml.Base64EmbedImgManager ;\n\n//needed jars: all apache poi dependencies of poi-ooxml version 5.2.3\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class DOCXToXHTMLXDocReport {\n\n public static void main(String[] args) throws Exception {\n\n  String docPath = &quot;./WordDocument.docx&quot;;\n  String htmlPath = &quot;./WordDocument.html&quot;;\n\n  XWPFDocument document = new XWPFDocument(new FileInputStream(docPath));\n\n  XHTMLOptions options = XHTMLOptions.create().setImageManager(new Base64EmbedImgManager());\n  \n  FileOutputStream out = new FileOutputStream(htmlPath);\n  XHTMLConverter.getInstance().convert(document, out, options);\n\n  out.close();      \n  document.close();    \n\n  java.awt.Desktop.getDesktop().browse(new File(htmlPath).toPath().toRealPath(java.nio.file.LinkOption.NOFOLLOW_LINKS).toUri());  \n \n }\n}\n</code></pre>\n<p>After upgrading your versions, you should test again. And and if you have problems with Unicode in <code>WordDocument.docx</code>, the you should provide an example <code>WordDocument.docx</code> which produces those problems. That will make your problem reproducible for others.</p>\n<hr />\n<p>Found the Unicode problem. <a href=\"https://github.com/opensagres/xdocreport/blob/master/thirdparties-extension/fr.opensagres.poi.xwpf.converter.xhtml/src/main/java/fr/opensagres/poi/xwpf/converter/xhtml/SimpleContentHandler.java\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.xhtml.SimpleContentHandler</a> uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getBytes--\" rel=\"nofollow noreferrer\">String.getBytes</a> without explicit <code>Charset</code>. That &quot;Encodes this String into a sequence of bytes using the <strong>platform's default charset</strong>, storing the result into a new byte array.&quot;.</p>\n<p>So it depends on platform's default charset whether Unicode will be handled correctly. If the platform is Windows and no other charset is set via environment variables, the platform's default charset is windows-1252. That, of course cannot handle Unicode.</p>\n<p>You can check via:</p>\n<pre><code>System.out.println(&quot;Default Charset=&quot; + java.nio.charset.Charset.defaultCharset());  \n</code></pre>\n<p>For how to set UTF-8 the platform's default charset for Windows, please see <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding?answertab=scoredesc#tab-top\">Setting the default Java character encoding</a>.</p>\n<p>For me, starting the class <code>DOCXToXHTMLXDocReport</code> via</p>\n<pre><code>java -Dfile.encoding=UTF-8 ... DOCXToXHTMLXDocReport\n</code></pre>\n<p>produces the correct Unicode results in HTML in Windows platform too.</p>\n"}],"owner":{"account_id":29010361,"reputation":11,"user_id":22221997,"display_name":"Pla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697783850,"creation_date":1697571512,"question_id":77311809,"body_markdown":"I am converting doc file to html using the following code:\r\n   \r\n```\r\n   public static byte[] generateHTMLFromDoc(byte[] docBytes) {\r\n        try(ByteArrayInputStream inputStream = new ByteArrayInputStream(docBytes);\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n            XWPFDocument document = new XWPFDocument(inputStream);\r\n            XHTMLOptions options = XHTMLOptions.create();\r\n            Base64ImageExtractor imageExtractor = new Base64ImageExtractor();\r\n            options.setExtractor(imageExtractor);\r\n            options.URIResolver(imageExtractor);\r\n            XHTMLConverter.getInstance().convert(document, outputStream, options);\r\n            return outputStream.toByteArray();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nBut my file include utf-8 so it will dislay like ??? such as: m?c l?c\r\nPlease help me how to add utf-8 into options\r\n\r\nI tried to add\r\n\r\n```\r\noptions.setEncoding(&quot;UTF-8&quot;);\r\n```\r\n\r\nbut there is no setEncoding for XHTMLOptions","title":"Convert .doc with utf-8 to html using xdocreport","body":"<p>I am converting doc file to html using the following code:</p>\n<pre><code>   public static byte[] generateHTMLFromDoc(byte[] docBytes) {\n        try(ByteArrayInputStream inputStream = new ByteArrayInputStream(docBytes);\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            XWPFDocument document = new XWPFDocument(inputStream);\n            XHTMLOptions options = XHTMLOptions.create();\n            Base64ImageExtractor imageExtractor = new Base64ImageExtractor();\n            options.setExtractor(imageExtractor);\n            options.URIResolver(imageExtractor);\n            XHTMLConverter.getInstance().convert(document, outputStream, options);\n            return outputStream.toByteArray();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>But my file include utf-8 so it will dislay like ??? such as: m?c l?c\nPlease help me how to add utf-8 into options</p>\n<p>I tried to add</p>\n<pre><code>options.setEncoding(&quot;UTF-8&quot;);\n</code></pre>\n<p>but there is no setEncoding for XHTMLOptions</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1697781709,"post_id":77328605,"comment_id":136325209,"body_markdown":"You can have your own mapping file. Either a properties file or a JSON file. That file can have mappings between the fields in the incoming file and the fields in your POJO. That mapping file would be outside your deployment, a kind of data file. It could be a file OR it could be env variables or AWS Parameter Store or something if you are using cloud. Only that data needs to be changed when incoming file&#39;s field names change. No deploment needed. No change in your code.","body":"You can have your own mapping file. Either a properties file or a JSON file. That file can have mappings between the fields in the incoming file and the fields in your POJO. That mapping file would be outside your deployment, a kind of data file. It could be a file OR it could be env variables or AWS Parameter Store or something if you are using cloud. Only that data needs to be changed when incoming file&#39;s field names change. No deploment needed. No change in your code."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1697783059,"post_id":77328605,"comment_id":136325353,"body_markdown":"Forgot to mention. If something like this is not readily available, you can use Java Reflection APIs to dynamically call setters on your POJO.","body":"Forgot to mention. If something like this is not readily available, you can use Java Reflection APIs to dynamically call setters on your POJO."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1697783975,"post_id":77328605,"comment_id":136325462,"body_markdown":"Your JSON is a single level map to String.  Define your POJO with one element as type `Map&lt;String, String&gt;` can do the job.","body":"Your JSON is a single level map to String.  Define your POJO with one element as type <code>Map&lt;String, String&gt;</code> can do the job."}],"answers":[{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697783198,"creation_date":1697783198,"answer_id":77328724,"question_id":77328605,"body_markdown":"It seems that you do a conceptual misunderstanding:\r\n\r\n&gt; Since it is a file and not an API, we are unsure when the fields may change in the future.\r\n\r\nYou try to bypass the API concepts by using files directly. But you still not avoid the core problem:\r\n\r\n&gt; If in the future, they change &#39;CUSTOMERID&#39; to &#39;MEMBERID,&#39; then my code would fail.\r\n\r\nThe API concepts are made to overcome this issue. So a correct approach would be to abandon file transfert and generate a API definition with DTO based on your Json file  (use open API / swagger editor).\r\n\r\nThis is gonna be the `V1`, then when you change from `CUSTOMERID`&#39; to &#39;`MEMBERID`, it&#39;s gonna be a `V2`. You just need to write the implementation for both cases.\r\n\r\n","title":"How can I map json data dynamically so that my code won&#39;t break?","body":"<p>It seems that you do a conceptual misunderstanding:</p>\n<blockquote>\n<p>Since it is a file and not an API, we are unsure when the fields may change in the future.</p>\n</blockquote>\n<p>You try to bypass the API concepts by using files directly. But you still not avoid the core problem:</p>\n<blockquote>\n<p>If in the future, they change 'CUSTOMERID' to 'MEMBERID,' then my code would fail.</p>\n</blockquote>\n<p>The API concepts are made to overcome this issue. So a correct approach would be to abandon file transfert and generate a API definition with DTO based on your Json file  (use open API / swagger editor).</p>\n<p>This is gonna be the <code>V1</code>, then when you change from <code>CUSTOMERID</code>' to '<code>MEMBERID</code>, it's gonna be a <code>V2</code>. You just need to write the implementation for both cases.</p>\n"}],"owner":{"account_id":20354547,"reputation":29,"user_id":14930379,"display_name":"NotACat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697783198,"creation_date":1697781347,"question_id":77328605,"body_markdown":"The problem is this: I am receiving a file from a vendor that is in JSON format. Currently, I have a POJO class that contains mappings for the JSON fields. Since it is a file and not an API, we are unsure when the fields may change in the future. \r\n\r\nSample JSON: { &quot;CUSTOMERID&quot;: &quot;123456&quot;, &quot;firstName&quot;: &quot;test1&quot;, &quot;middleName&quot;: &quot;&quot;, &quot;lastName&quot;: &quot;last2&quot;, &quot;suffix&quot;: &quot;Mr.&quot;, &quot;fullName&quot;: &quot; John&quot;, &quot;companyName&quot;: &quot;IT&quot;, &quot;SSN&quot;: &quot;&quot; }\r\n\r\nIf in the future, they change &#39;CUSTOMERID&#39; to &#39;MEMBERID,&#39; then my code would fail. How can I overcome this?&quot;","title":"How can I map json data dynamically so that my code won&#39;t break?","body":"<p>The problem is this: I am receiving a file from a vendor that is in JSON format. Currently, I have a POJO class that contains mappings for the JSON fields. Since it is a file and not an API, we are unsure when the fields may change in the future.</p>\n<p>Sample JSON: { &quot;CUSTOMERID&quot;: &quot;123456&quot;, &quot;firstName&quot;: &quot;test1&quot;, &quot;middleName&quot;: &quot;&quot;, &quot;lastName&quot;: &quot;last2&quot;, &quot;suffix&quot;: &quot;Mr.&quot;, &quot;fullName&quot;: &quot; John&quot;, &quot;companyName&quot;: &quot;IT&quot;, &quot;SSN&quot;: &quot;&quot; }</p>\n<p>If in the future, they change 'CUSTOMERID' to 'MEMBERID,' then my code would fail. How can I overcome this?&quot;</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9804,"page":113,"page_size":100}
