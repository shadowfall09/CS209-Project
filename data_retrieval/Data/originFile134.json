{"items":[{"tags":["java","button","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696869695,"post_id":77260383,"comment_id":136205312,"body_markdown":"It&#39;s not really clear what you&#39;re doing in the `salvaSocieta(...)` method. You load the `main_creazione.fxml` file, and call a method on its controller, but since you never actually do anything with the UI you loaded (i.e. you just put it in the variable `root`, and then do nothing) you obviously won&#39;t see the result of calling the controller method anywhere.","body":"It&#39;s not really clear what you&#39;re doing in the <code>salvaSocieta(...)</code> method. You load the <code>main_creazione.fxml</code> file, and call a method on its controller, but since you never actually do anything with the UI you loaded (i.e. you just put it in the variable <code>root</code>, and then do nothing) you obviously won&#39;t see the result of calling the controller method anywhere."},{"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"score":0,"creation_date":1696870216,"post_id":77260383,"comment_id":136205422,"body_markdown":"i don&#39;t really know ho to call the method from a class to an other without creating a new Object of the Creazione class","body":"i don&#39;t really know ho to call the method from a class to an other without creating a new Object of the Creazione class"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696870715,"post_id":77260383,"comment_id":136205501,"body_markdown":"The &quot;quick and dirty&quot; approach would just be to pass a reference to the existing `Creazione` instance to the `CreazioneSocieta` controller instance that is created when you load `creazione_societa.fxml`. But really here you should use a [MVC (or similar) design](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx)","body":"The &quot;quick and dirty&quot; approach would just be to pass a reference to the existing <code>Creazione</code> instance to the <code>CreazioneSocieta</code> controller instance that is created when you load <code>creazione_societa.fxml</code>. But really here you should use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC (or similar) design</a>"}],"answers":[{"comments":[{"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"score":0,"creation_date":1696965149,"post_id":77261470,"comment_id":136219245,"body_markdown":"can you pls review my latest answer ty so much for your correction but there is a little problem that i couldn&#39;t solve if not like that","body":"can you pls review my latest answer ty so much for your correction but there is a little problem that i couldn&#39;t solve if not like that"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696898559,"creation_date":1696881703,"answer_id":77261470,"question_id":77260383,"body_markdown":"Use a [MVC approach](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx). Define a `Model` class that contains the state of the application, with mechanisms to observe the values and respond to them changes. You can use JavaFX Properties to do this easily (see [this](https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm) or the &quot;Bindings and Observable Values&quot; section of [this](https://www.pragmaticcoding.ca/javafx/elements/), and links from there)\r\n\r\n```\r\npublic class Model {\r\n\r\n    private final BooleanProperty societySaved = new SimpleBooleanProperty(false);\r\n\r\n    public BooleanProperty societySavedProperty() {\r\n        return societySaved ;\r\n    }\r\n\r\n    public final boolean isSocietySaved() {\r\n        return societySavedProperty().get();\r\n    }\r\n\r\n    public final void setSocietySaved(boolean societySaved) {\r\n        societySavedProperty().set(societySaved);\r\n    }\r\n\r\n\r\n    // similarly for other properties as needed\r\n}\r\n```\r\n\r\nIn your `Creazione` controller class, define a field for the model and bind the state of the button to the state in the model:\r\n\r\n```\r\npublic class Creazione {\r\n\r\n    @FXML\r\n    private JFXButton btnSocieta;\r\n\r\n    @FXML\r\n    private JFXButton btnUnitaLocali;\r\n\r\n    @FXML\r\n    private JFXButton btnReparti;\r\n\r\n    @FXML\r\n    private StackPane stackPane;\r\n\r\n    private Model model ;\r\n\r\n    public void setModel(Model model) {\r\n        this.model = model ;\r\n        btnUnitaLocali.disableProperty().bind(model.societySavedProperty().not());\r\n        // similarly for other buttons and properties in the model\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n\r\n        //btnUnitaLocali.setDisable(true);\r\n        //btnReparti.setDisable(true);\r\n\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n            stackPane.getChildren().removeAll();\r\n            stackPane.getChildren().setAll(root);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    // ... (further modifications to methods shown later)\r\n\r\n\r\n\r\n    // these are not needed\r\n    // public void setEnableBtnUnitaLocale() {\r\n        \r\n    //     btnUnitaLocali.setDisable(false);\r\n    //     System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\r\n\r\n    // }\r\n\r\n    // public void setEnableBtnReparti() {\r\n\r\n    //     btnReparti.setDisable(false);\r\n    // }\r\n\r\n}\r\n```\r\n\r\nSimilarly, in your other controllers, define a reference to the model and update the property. For example:\r\n\r\n```\r\npublic class CreazioneSocieta  {\r\n\r\n    private Model model ;\r\n\r\n    public void setModel(Model model) {\r\n        this.model = model;\r\n    }\r\n\r\n\r\n    public void salvaSocieta(ActionEvent event) {\r\n        \r\n        model.setSocietySaved(true);\r\n\r\n    }\r\n    \r\n}\r\n```\r\n\r\nNow, in your application code, you need to create a `Model` instance and when you load the initial \r\nview, pass the model to the controller:\r\n\r\n```\r\nModel model = new Model();\r\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\r\nParent root = (Parent) loader.load();\r\n        \r\nCreazione controller = loader.getController();\r\ncontroller.setModel(model);\r\n\r\nScene scene = new Scene(root);\r\nstage.setScene(scene);\r\n// etc.\r\n```\r\n\r\nFinally, back in your `Creazione` class, be sure to pass the same model instance to the other controllers. For example:\r\n\r\n```\r\npublic class Creazione {\r\n\r\n    // existing code ...\r\n\r\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n        Parent root = loader.load();\r\n        CreazioneSocieta controller = loader.getController();\r\n        controller.setModel(model);\r\n\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n}\r\n```\r\n\r\nFor better decoupling of the controllers, in particular in the context of switching scene, study [this example](https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554).","title":"JavaFX - transform from disable to enable button","body":"<p>Use a <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC approach</a>. Define a <code>Model</code> class that contains the state of the application, with mechanisms to observe the values and respond to them changes. You can use JavaFX Properties to do this easily (see <a href=\"https://docs.oracle.com/javase/8/javafx/properties-binding-tutorial/binding.htm\" rel=\"nofollow noreferrer\">this</a> or the &quot;Bindings and Observable Values&quot; section of <a href=\"https://www.pragmaticcoding.ca/javafx/elements/\" rel=\"nofollow noreferrer\">this</a>, and links from there)</p>\n<pre><code>public class Model {\n\n    private final BooleanProperty societySaved = new SimpleBooleanProperty(false);\n\n    public BooleanProperty societySavedProperty() {\n        return societySaved ;\n    }\n\n    public final boolean isSocietySaved() {\n        return societySavedProperty().get();\n    }\n\n    public final void setSocietySaved(boolean societySaved) {\n        societySavedProperty().set(societySaved);\n    }\n\n\n    // similarly for other properties as needed\n}\n</code></pre>\n<p>In your <code>Creazione</code> controller class, define a field for the model and bind the state of the button to the state in the model:</p>\n<pre><code>public class Creazione {\n\n    @FXML\n    private JFXButton btnSocieta;\n\n    @FXML\n    private JFXButton btnUnitaLocali;\n\n    @FXML\n    private JFXButton btnReparti;\n\n    @FXML\n    private StackPane stackPane;\n\n    private Model model ;\n\n    public void setModel(Model model) {\n        this.model = model ;\n        btnUnitaLocali.disableProperty().bind(model.societySavedProperty().not());\n        // similarly for other buttons and properties in the model\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n\n        //btnUnitaLocali.setDisable(true);\n        //btnReparti.setDisable(true);\n\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n            stackPane.getChildren().removeAll();\n            stackPane.getChildren().setAll(root);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    // ... (further modifications to methods shown later)\n\n\n\n    // these are not needed\n    // public void setEnableBtnUnitaLocale() {\n        \n    //     btnUnitaLocali.setDisable(false);\n    //     System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\n\n    // }\n\n    // public void setEnableBtnReparti() {\n\n    //     btnReparti.setDisable(false);\n    // }\n\n}\n</code></pre>\n<p>Similarly, in your other controllers, define a reference to the model and update the property. For example:</p>\n<pre><code>public class CreazioneSocieta  {\n\n    private Model model ;\n\n    public void setModel(Model model) {\n        this.model = model;\n    }\n\n\n    public void salvaSocieta(ActionEvent event) {\n        \n        model.setSocietySaved(true);\n\n    }\n    \n}\n</code></pre>\n<p>Now, in your application code, you need to create a <code>Model</code> instance and when you load the initial\nview, pass the model to the controller:</p>\n<pre><code>Model model = new Model();\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\nParent root = (Parent) loader.load();\n        \nCreazione controller = loader.getController();\ncontroller.setModel(model);\n\nScene scene = new Scene(root);\nstage.setScene(scene);\n// etc.\n</code></pre>\n<p>Finally, back in your <code>Creazione</code> class, be sure to pass the same model instance to the other controllers. For example:</p>\n<pre><code>public class Creazione {\n\n    // existing code ...\n\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n        Parent root = loader.load();\n        CreazioneSocieta controller = loader.getController();\n        controller.setModel(model);\n\n        stackPane.getChildren().removeAll();\n        stackPane.getChildren().setAll(root);\n    }\n}\n</code></pre>\n<p>For better decoupling of the controllers, in particular in the context of switching scene, study <a href=\"https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554\" rel=\"nofollow noreferrer\">this example</a>.</p>\n"},{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1696965428,"post_id":77268423,"comment_id":136219290,"body_markdown":"Creating a new model instance is almost certainly an error.","body":"Creating a new model instance is almost certainly an error."}],"tags":[],"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696965059,"creation_date":1696965059,"answer_id":77268423,"question_id":77260383,"body_markdown":"# I ended up doing this:\r\n\r\n### This is the method you can find in ViewController\r\n\r\n    public void switchToCreazione(ActionEvent event) throws IOException{\r\n        CreazioneModel creazioneModel = new CreazioneModel();\r\n\r\n        FXMLLoader loader = \r\n      new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\r\n\r\n        Parent root = loader.load();\r\n        Creazione creazione = loader.getController();\r\n\r\n        creazione.setCreazioneModel(creazioneModel);\r\n\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n    \r\n\r\n## This is the method you can find in the preview answer \r\n\r\n    public void setCreazioneModel(CreazioneModel creazioneModel) {\r\n        this.creazioneModel = creazioneModel;\r\n\r\n        try {\r\n            switchToSocieta();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        this.btnUnitaLocali\r\n            .disableProperty()\r\n            .bind(creazioneModel.societaSavedProperty().not());\r\n        this.btnReparti\r\n            .disableProperty()\r\n            .bind(creazioneModel.unitaLocaleSavedProperty().not());}\r\n\r\n\r\n## This is the method setModel in CreazioneModel class\r\n\r\n    public void setCreazioneModel(CreazioneModel creazioneModel) {\r\n        this.creazioneModel = creazioneModel;\r\n\r\n        try {\r\n            switchToSocieta();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        this.btnUnitaLocali\r\n            .disableProperty()\r\n            .bind(creazioneModel.societaSavedProperty().not());\r\n        this.btnReparti\r\n            .disableProperty()\r\n            .bind(creazioneModel.unitaLocaleSavedProperty().not());}\r\n\r\n\r\n\r\n# Warning \r\ni couldn&#39;t call switchToSocieta in the initialize method of Creazione because it wont have the Model correctly initialized \r\n\r\n\r\n\r\n","title":"JavaFX - transform from disable to enable button","body":"<h1>I ended up doing this:</h1>\n<h3>This is the method you can find in ViewController</h3>\n<pre><code>public void switchToCreazione(ActionEvent event) throws IOException{\n    CreazioneModel creazioneModel = new CreazioneModel();\n\n    FXMLLoader loader = \n  new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\n\n    Parent root = loader.load();\n    Creazione creazione = loader.getController();\n\n    creazione.setCreazioneModel(creazioneModel);\n\n    stackPane.getChildren().removeAll();\n    stackPane.getChildren().setAll(root);\n}\n</code></pre>\n<h2>This is the method you can find in the preview answer</h2>\n<pre><code>public void setCreazioneModel(CreazioneModel creazioneModel) {\n    this.creazioneModel = creazioneModel;\n\n    try {\n        switchToSocieta();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    this.btnUnitaLocali\n        .disableProperty()\n        .bind(creazioneModel.societaSavedProperty().not());\n    this.btnReparti\n        .disableProperty()\n        .bind(creazioneModel.unitaLocaleSavedProperty().not());}\n</code></pre>\n<h2>This is the method setModel in CreazioneModel class</h2>\n<pre><code>public void setCreazioneModel(CreazioneModel creazioneModel) {\n    this.creazioneModel = creazioneModel;\n\n    try {\n        switchToSocieta();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    this.btnUnitaLocali\n        .disableProperty()\n        .bind(creazioneModel.societaSavedProperty().not());\n    this.btnReparti\n        .disableProperty()\n        .bind(creazioneModel.unitaLocaleSavedProperty().not());}\n</code></pre>\n<h1>Warning</h1>\n<p>i couldn't call switchToSocieta in the initialize method of Creazione because it wont have the Model correctly initialized</p>\n"}],"owner":{"account_id":20687281,"reputation":3,"user_id":15189426,"display_name":"Flavio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261470,"answer_count":2,"score":0,"last_activity_date":1696965059,"creation_date":1696868386,"question_id":77260383,"body_markdown":"## Controller of the father class\r\n\r\nthis class contains 3 button &#39;btnSocieta&#39;, &#39;btnUnitaLocali&#39;, &#39;btnReparti&#39;.\r\nThe first is enable from default other 2 are disable.\r\nIn the stackPane i show the start page where you can find right away.\r\n\r\nthey have to change state after calling method setEnableBtnUnitaLocale or the other one\r\n\r\n```\r\npackage View.Controllers;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.jfoenix.controls.JFXButton;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Creazione implements Initializable {\r\n\r\n    @FXML\r\n    private JFXButton btnSocieta;\r\n\r\n    @FXML\r\n    private JFXButton btnUnitaLocali;\r\n\r\n    @FXML\r\n    private JFXButton btnReparti;\r\n\r\n    @FXML\r\n    private StackPane stackPane;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n\r\n        btnUnitaLocali.setDisable(true);\r\n        btnReparti.setDisable(true);\r\n\r\n        try {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n            stackPane.getChildren().removeAll();\r\n            stackPane.getChildren().setAll(root);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n\r\n    public void switchToUnitaLocali(javafx.event.ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_unitalocale.fxml&quot;));\r\n        stackPane.getChildren().removeAll();\r\n        stackPane.getChildren().setAll(root);\r\n    }\r\n\r\n    public void switchToReparti(javafx.event.ActionEvent event) {\r\n        System.out.println(&quot;You clicked me!&quot;);\r\n    }\r\n\r\n    public void setEnableBtnUnitaLocale() {\r\n        \r\n        btnUnitaLocali.setDisable(false);\r\n        System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\r\n\r\n    }\r\n\r\n    public void setEnableBtnReparti() {\r\n\r\n        btnReparti.setDisable(false);\r\n    }\r\n\r\n}\r\n```\r\n\r\n## FXML file menaged by Creazione that have a StackPane that contains CreazioneSocieta\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n\r\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;View.Controllers.Creazione&quot;&gt;\r\n   &lt;top&gt;\r\n      &lt;Pane prefHeight=&quot;48.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;181.0&quot; layoutY=&quot;16.0&quot; minWidth=&quot;34.0&quot; prefHeight=&quot;17.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;382.0&quot; layoutY=&quot;16.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\r\n            &lt;JFXButton fx:id=&quot;btnSocieta&quot; alignment=&quot;CENTER&quot; layoutX=&quot;53.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToSocieta&quot; text=&quot;Societ&#224; / Ente&quot; /&gt;\r\n            &lt;JFXButton fx:id=&quot;btnUnitaLocali&quot; alignment=&quot;CENTER&quot; layoutX=&quot;255.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToUnitaLocali&quot; text=&quot;Unit&#224; locali&quot; /&gt;\r\n            &lt;JFXButton fx:id=&quot;btnReparti&quot; alignment=&quot;CENTER&quot; layoutX=&quot;453.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToReparti&quot; text=&quot;Reparti&quot; /&gt;\r\n         &lt;/children&gt;\r\n      &lt;/Pane&gt;\r\n   &lt;/top&gt;\r\n   &lt;center&gt;\r\n      &lt;StackPane fx:id=&quot;stackPane&quot; prefHeight=&quot;352.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\n## Controller of the FXML file\r\n\r\nthis controller only scope is to call the method &#39;setEnableBtnUnitaLocale&#39; that we&#39;ve see before through method &#39;salvaSocieta&#39;\r\n\r\n```\r\npackage View.Controllers;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\nimport com.jfoenix.controls.JFXButton;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.Parent;\r\n\r\n\r\npublic class CreazioneSocieta implements Initializable {\r\n\r\n    @FXML\r\n    JFXButton btnSalva;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        \r\n\r\n    }\r\n\r\n    public void salvaSocieta(javafx.event.ActionEvent event) throws IOException{\r\n        \r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\r\n        Parent root = (Parent) loader.load();\r\n        \r\n        Creazione controller = loader.getController();\r\n        controller.setEnableBtnUnitaLocale();\r\n\r\n    }\r\n    \r\n}\r\n```\r\n\r\n## FXML File that contains the save button\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.image.Image?&gt;\r\n&lt;?import javafx.scene.image.ImageView?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n&lt;Pane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n   fx:controller=&quot;View.Controllers.CreazioneSocieta&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;139.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;93.0&quot;\r\n         text=&quot;Ragione Sociale:&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;153.0&quot; layoutY=&quot;135.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;437.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Indirizzo:&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;324.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Telefono:&quot; /&gt;\r\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;115.0&quot; layoutY=&quot;320.0&quot; prefHeight=&quot;25.0&quot;\r\n         prefWidth=&quot;330.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;262.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;43.0&quot; text=&quot;e-mail:&quot; /&gt;\r\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;467.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Provincia:&quot; /&gt;\r\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;533.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot;\r\n         prefWidth=&quot;56.0&quot; /&gt;\r\n      &lt;JFXButton onAction=&quot;#salvaSocieta&quot; contentDisplay=&quot;CENTER&quot; defaultButton=&quot;true&quot;\r\n         graphicTextGap=&quot;0.0&quot; layoutX=&quot;573.0&quot; layoutY=&quot;421.0&quot; prefHeight=&quot;45.0&quot; prefWidth=&quot;0.0&quot;\r\n         ripplerFill=&quot;#bfbdbd&quot; textFill=&quot;WHITE&quot; textOverrun=&quot;CLIP&quot;&gt;\r\n         &lt;graphic&gt;\r\n            &lt;ImageView fitHeight=&quot;37.0&quot; fitWidth=&quot;37.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n               &lt;image&gt;\r\n                  &lt;Image url=&quot;@../icons/save_icon.png&quot; /&gt;\r\n               &lt;/image&gt;\r\n            &lt;/ImageView&gt;\r\n         &lt;/graphic&gt;\r\n      &lt;/JFXButton&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\n## Problem: The &#39;btnUnitaLocale&#39; doesn&#39;t became enable after calling the function &#39;setEnableBtnUnitaLocale&#39;","title":"JavaFX - transform from disable to enable button","body":"<h2>Controller of the father class</h2>\n<p>this class contains 3 button 'btnSocieta', 'btnUnitaLocali', 'btnReparti'.\nThe first is enable from default other 2 are disable.\nIn the stackPane i show the start page where you can find right away.</p>\n<p>they have to change state after calling method setEnableBtnUnitaLocale or the other one</p>\n<pre><code>package View.Controllers;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport com.jfoenix.controls.JFXButton;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Creazione implements Initializable {\n\n    @FXML\n    private JFXButton btnSocieta;\n\n    @FXML\n    private JFXButton btnUnitaLocali;\n\n    @FXML\n    private JFXButton btnReparti;\n\n    @FXML\n    private StackPane stackPane;\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n\n        btnUnitaLocali.setDisable(true);\n        btnReparti.setDisable(true);\n\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n            stackPane.getChildren().removeAll();\n            stackPane.getChildren().setAll(root);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public void switchToSocieta(javafx.event.ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_societa.fxml&quot;));\n        stackPane.getChildren().removeAll();\n        stackPane.getChildren().setAll(root);\n    }\n\n    public void switchToUnitaLocali(javafx.event.ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;/View/fxml/creazione_unitalocale.fxml&quot;));\n        stackPane.getChildren().removeAll();\n        stackPane.getChildren().setAll(root);\n    }\n\n    public void switchToReparti(javafx.event.ActionEvent event) {\n        System.out.println(&quot;You clicked me!&quot;);\n    }\n\n    public void setEnableBtnUnitaLocale() {\n        \n        btnUnitaLocali.setDisable(false);\n        System.out.println(&quot;setEnableBtnUnitaLocale()&quot;);\n\n    }\n\n    public void setEnableBtnReparti() {\n\n        btnReparti.setDisable(false);\n    }\n\n}\n</code></pre>\n<h2>FXML file menaged by Creazione that have a StackPane that contains CreazioneSocieta</h2>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;View.Controllers.Creazione&quot;&gt;\n   &lt;top&gt;\n      &lt;Pane prefHeight=&quot;48.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n         &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;181.0&quot; layoutY=&quot;16.0&quot; minWidth=&quot;34.0&quot; prefHeight=&quot;17.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\n            &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;382.0&quot; layoutY=&quot;16.0&quot; text=&quot;&amp;gt;&amp;gt;&quot; /&gt;\n            &lt;JFXButton fx:id=&quot;btnSocieta&quot; alignment=&quot;CENTER&quot; layoutX=&quot;53.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToSocieta&quot; text=&quot;Società / Ente&quot; /&gt;\n            &lt;JFXButton fx:id=&quot;btnUnitaLocali&quot; alignment=&quot;CENTER&quot; layoutX=&quot;255.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToUnitaLocali&quot; text=&quot;Unità locali&quot; /&gt;\n            &lt;JFXButton fx:id=&quot;btnReparti&quot; alignment=&quot;CENTER&quot; layoutX=&quot;453.0&quot; layoutY=&quot;12.0&quot; onAction=&quot;#switchToReparti&quot; text=&quot;Reparti&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/Pane&gt;\n   &lt;/top&gt;\n   &lt;center&gt;\n      &lt;StackPane fx:id=&quot;stackPane&quot; prefHeight=&quot;352.0&quot; prefWidth=&quot;600.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<h2>Controller of the FXML file</h2>\n<p>this controller only scope is to call the method 'setEnableBtnUnitaLocale' that we've see before through method 'salvaSocieta'</p>\n<pre><code>package View.Controllers;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport com.jfoenix.controls.JFXButton;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.Parent;\n\n\npublic class CreazioneSocieta implements Initializable {\n\n    @FXML\n    JFXButton btnSalva;\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        \n\n    }\n\n    public void salvaSocieta(javafx.event.ActionEvent event) throws IOException{\n        \n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;/View/fxml/main_creazione.fxml&quot;));\n        Parent root = (Parent) loader.load();\n        \n        Creazione controller = loader.getController();\n        controller.setEnableBtnUnitaLocale();\n\n    }\n    \n}\n</code></pre>\n<h2>FXML File that contains the save button</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import com.jfoenix.controls.JFXButton?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n&lt;Pane xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n   fx:controller=&quot;View.Controllers.CreazioneSocieta&quot;&gt;\n   &lt;children&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;139.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;93.0&quot;\n         text=&quot;Ragione Sociale:&quot; /&gt;\n      &lt;TextField layoutX=&quot;153.0&quot; layoutY=&quot;135.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;437.0&quot; /&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Indirizzo:&quot; /&gt;\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;324.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Telefono:&quot; /&gt;\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;115.0&quot; layoutY=&quot;320.0&quot; prefHeight=&quot;25.0&quot;\n         prefWidth=&quot;330.0&quot; /&gt;\n      &lt;Label layoutX=&quot;51.0&quot; layoutY=&quot;262.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;43.0&quot; text=&quot;e-mail:&quot; /&gt;\n      &lt;TextField layoutX=&quot;115.0&quot; layoutY=&quot;258.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;330.0&quot; /&gt;\n      &lt;Label layoutX=&quot;467.0&quot; layoutY=&quot;203.0&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;56.0&quot; text=&quot;Provincia:&quot; /&gt;\n      &lt;TextField accessibleText=&quot;INTEGER&quot; layoutX=&quot;533.0&quot; layoutY=&quot;199.0&quot; prefHeight=&quot;25.0&quot;\n         prefWidth=&quot;56.0&quot; /&gt;\n      &lt;JFXButton onAction=&quot;#salvaSocieta&quot; contentDisplay=&quot;CENTER&quot; defaultButton=&quot;true&quot;\n         graphicTextGap=&quot;0.0&quot; layoutX=&quot;573.0&quot; layoutY=&quot;421.0&quot; prefHeight=&quot;45.0&quot; prefWidth=&quot;0.0&quot;\n         ripplerFill=&quot;#bfbdbd&quot; textFill=&quot;WHITE&quot; textOverrun=&quot;CLIP&quot;&gt;\n         &lt;graphic&gt;\n            &lt;ImageView fitHeight=&quot;37.0&quot; fitWidth=&quot;37.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n               &lt;image&gt;\n                  &lt;Image url=&quot;@../icons/save_icon.png&quot; /&gt;\n               &lt;/image&gt;\n            &lt;/ImageView&gt;\n         &lt;/graphic&gt;\n      &lt;/JFXButton&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<h2>Problem: The 'btnUnitaLocale' doesn't became enable after calling the function 'setEnableBtnUnitaLocale'</h2>\n"},{"tags":["java","spring","jsp","spring-mvc"],"comments":[{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":0,"creation_date":1389866418,"post_id":21157853,"comment_id":31848422,"body_markdown":"Your `abc != &quot;&quot;` comparison will always resolve to `true`. Change it to `&quot;&quot;.equals(abc)` or `abc.isEmpty()` of you know it cannot be `null`.","body":"Your <code>abc != &quot;&quot;</code> comparison will always resolve to <code>true</code>. Change it to <code>&quot;&quot;.equals(abc)</code> or <code>abc.isEmpty()</code> of you know it cannot be <code>null</code>."},{"owner":{"account_id":2466460,"reputation":17100,"user_id":2149440,"accept_rate":82,"display_name":"Bart"},"score":0,"creation_date":1389866598,"post_id":21157853,"comment_id":31848538,"body_markdown":"You say you are submitting something. If you&#39;re using a form you should validate using `BindingResult` and display the errors through `&lt;form:errors path=&quot;property&quot; /&gt;`","body":"You say you are submitting something. If you&#39;re using a form you should validate using <code>BindingResult</code> and display the errors through <code>&lt;form:errors path=&quot;property&quot; &#47;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":87917,"reputation":689,"user_id":243514,"accept_rate":100,"display_name":"Nu2Overflow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456479556,"creation_date":1389864602,"answer_id":21157939,"question_id":21157853,"body_markdown":"On validation failure do not return to error page, instead return to same page so your code in else block should be \r\n\r\n \r\n\r\n    }else{ String error = &quot;You must have xyzzzzzz&quot;;\r\n            return new ModelAndView(&quot;2.0/error&quot;, &quot;downloaderror&quot;, abc); }\r\n\r\nAnd also store the errormessage in your modelmap against some key like &quot;errormsg&quot; and on your abc page check for this key and then print the message.","title":"How to manage error message in Spring MVC","body":"<p>On validation failure do not return to error page, instead return to same page so your code in else block should be </p>\n\n<pre><code>}else{ String error = \"You must have xyzzzzzz\";\n        return new ModelAndView(\"2.0/error\", \"downloaderror\", abc); }\n</code></pre>\n\n<p>And also store the errormessage in your modelmap against some key like \"errormsg\" and on your abc page check for this key and then print the message.</p>\n"},{"comments":[{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1389865284,"post_id":21158007,"comment_id":31847693,"body_markdown":"The method addAttribute(String, boolean) is undefined for the type ModelAndView. Why is it so ? Am i using older version of Spring framework or what ?","body":"The method addAttribute(String, boolean) is undefined for the type ModelAndView. Why is it so ? Am i using older version of Spring framework or what ?"},{"owner":{"account_id":3393753,"reputation":781,"user_id":2847964,"accept_rate":38,"display_name":"Sunil Singh Bora"},"score":0,"creation_date":1389865484,"post_id":21158007,"comment_id":31847818,"body_markdown":"Use addObject method to add attribute parameter.","body":"Use addObject method to add attribute parameter."},{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1389866000,"post_id":21158007,"comment_id":31848146,"body_markdown":"I have tried, i am getting this error now : ModelAndView [ModelAndView: materialized View is [null]; model is {error=true}] neither contains a view name nor a View object in servlet with name &#39;XXXXX&#39;","body":"I have tried, i am getting this error now : ModelAndView [ModelAndView: materialized View is [null]; model is {error=true}] neither contains a view name nor a View object in servlet with name &#39;XXXXX&#39;"},{"owner":{"account_id":3393753,"reputation":781,"user_id":2847964,"accept_rate":38,"display_name":"Sunil Singh Bora"},"score":0,"creation_date":1389866326,"post_id":21158007,"comment_id":31848374,"body_markdown":"You get this error because you did not set view. Set view for model object like this model.setView(&quot;home&quot;);. Now this controller will search for home.jsp if exist otherwise it will throw an exception.","body":"You get this error because you did not set view. Set view for model object like this model.setView(&quot;home&quot;);. Now this controller will search for home.jsp if exist otherwise it will throw an exception."},{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1389868379,"post_id":21158007,"comment_id":31849610,"body_markdown":"yes i have tried it,its working as you are expecting but, my button is inside a form and the form is having action which is calling this abc handler and url is differnt, so it is going to the page which is blank.","body":"yes i have tried it,its working as you are expecting but, my button is inside a form and the form is having action which is calling this abc handler and url is differnt, so it is going to the page which is blank."}],"tags":[],"owner":{"account_id":3393753,"reputation":781,"user_id":2847964,"accept_rate":38,"display_name":"Sunil Singh Bora"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389865410,"creation_date":1389864770,"answer_id":21158007,"question_id":21157853,"body_markdown":"Add an error flag in controller method like this\r\n\r\n    public ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\r\n       \r\n     ModelAndView model=new ModelAndView();\r\n     model.addObject(&quot;error&quot;, true);\r\n\r\n     return model;\r\n\r\n    }\r\n\r\n\r\nIn JSP\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script src=&quot;abc/js/jquery-1.9.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;c:if test=&quot;${error}&quot;&gt;\r\n    &lt;script&gt;\r\n      alert(&quot;You must have something...&quot;);        \r\n    &lt;/script&gt;\r\n    &lt;/c:if&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How to manage error message in Spring MVC","body":"<p>Add an error flag in controller method like this</p>\n\n<pre><code>public ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\n\n ModelAndView model=new ModelAndView();\n model.addObject(\"error\", true);\n\n return model;\n\n}\n</code></pre>\n\n<p>In JSP</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"abc/js/jquery-1.9.0.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;c:if test=\"${error}\"&gt;\n&lt;script&gt;\n  alert(\"You must have something...\");        \n&lt;/script&gt;\n&lt;/c:if&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1389866035,"post_id":21158196,"comment_id":31848171,"body_markdown":"I have tried, i am getting this error now : ModelAndView [ModelAndView: materialized View is [null]; model is {error=true}] neither contains a view name nor a View object in servlet with name &#39;XXXXX&#39;","body":"I have tried, i am getting this error now : ModelAndView [ModelAndView: materialized View is [null]; model is {error=true}] neither contains a view name nor a View object in servlet with name &#39;XXXXX&#39;"}],"tags":[],"owner":{"account_id":1313156,"reputation":1241,"user_id":1260702,"display_name":"Jason"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389865308,"creation_date":1389865308,"answer_id":21158196,"question_id":21157853,"body_markdown":"You can implement HandlerExceptionResolver on your own.Refer to this tutorial: http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"How to manage error message in Spring MVC","body":"<p>You can implement HandlerExceptionResolver on your own.Refer to this tutorial: <a href=\"http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow\">http://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"},{"comments":[{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1389868250,"post_id":21159141,"comment_id":31849531,"body_markdown":"Yes, i have tried the same, but it is going to page1.jsp, which is not suppose to happen. My requirement is , it should stay in the same page where it is.","body":"Yes, i have tried the same, but it is going to page1.jsp, which is not suppose to happen. My requirement is , it should stay in the same page where it is."},{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1389868533,"post_id":21159141,"comment_id":31849715,"body_markdown":"my button is inside a form and the form is having action which is calling this abc handler and that url is differnt, so it is going to  page which is blank","body":"my button is inside a form and the form is having action which is calling this abc handler and that url is differnt, so it is going to  page which is blank"},{"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"score":0,"creation_date":1389868606,"post_id":21159141,"comment_id":31849768,"body_markdown":"in view name you can provide the name of your page where you have button... and you can place the &lt;c:if&gt; logic on your same page.","body":"in view name you can provide the name of your page where you have button... and you can place the &lt;c:if&gt; logic on your same page."}],"tags":[],"owner":{"account_id":2785073,"reputation":834,"user_id":2396712,"display_name":"Mudit Shukla"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389868076,"creation_date":1389868076,"answer_id":21159141,"question_id":21157853,"body_markdown":"You can achieve the scenario by going in following way:\r\n\r\n    import org.springframework.web.servlet.ModelAndView; \r\n    \r\n    public ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\r\n    \r\n     ModelAndView model=new ModelAndView();\r\n     model.addObject(&quot;ERROR_CODE&quot;, &quot;Error Occurred&quot;);\r\n     model.setViewName(&quot;page1&quot;);\r\n     \r\n     return model;\r\n    \r\n    }\r\n\r\nand your jsp page will be like following:\r\n\r\npage1.jsp\r\n\r\n \r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n        &lt;!DOCTYPE html&gt;\r\n        &lt;html&gt;\r\n        \r\n        &lt;body&gt;\r\n        &lt;c:if test=&quot;${!empty ERROR_CODE }&quot;&gt;\r\n       &lt;c:out value=&quot;${ERROR_CODE }&quot;&gt;&lt;/c:out&gt;\r\n        &lt;/c:if&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n","title":"How to manage error message in Spring MVC","body":"<p>You can achieve the scenario by going in following way:</p>\n\n<pre><code>import org.springframework.web.servlet.ModelAndView; \n\npublic ModelAndView abcHandler(HttpServletRequest request, HttpServletResponse response)throws Exception  {\n\n ModelAndView model=new ModelAndView();\n model.addObject(\"ERROR_CODE\", \"Error Occurred\");\n model.setViewName(\"page1\");\n\n return model;\n\n}\n</code></pre>\n\n<p>and your jsp page will be like following:</p>\n\n<p>page1.jsp</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n\n    &lt;body&gt;\n    &lt;c:if test=\"${!empty ERROR_CODE }\"&gt;\n   &lt;c:out value=\"${ERROR_CODE }\"&gt;&lt;/c:out&gt;\n    &lt;/c:if&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1696964625,"creation_date":1389864353,"question_id":21157853,"body_markdown":"I am new to spring MVC .My abc page is have one submit button. On click of submit button, abcHandler called which is inside xyzController.\r\nJust wondering how to achieve this scenario.\r\n\r\n-- If some error occurs then it should return some message.&lt;br&gt;\r\n-- It should stay in the same page , for me its abc page.\r\n\r\nI have tried this.The problem I am facing is that , i am getting the alert message as &quot;You must have something...&quot;,\r\nbut it is navigating to error page means a blank page. This is not suppose to happen.I want to show the message and stay in the same page.\r\nHow can i achieve easily with spring MVC.\r\nPlease suggest some idea.\r\n\r\n\r\n    public class xyzController extends MultiActionController implements InitializingBean {\r\n\r\n    public ModelAndView abcHandler(HttpServletRequest request,HttpServletResponse response)throws Exception  {\r\n\t\t\r\n    // session\r\n    HttpSession session = request.getSession(true);\r\n\r\n    String abc = &quot;&quot;;\r\n    if(abc != &quot;&quot;){\r\n    \t\r\n    }else{\r\n    String error = &quot;You must have xyzzzzzz&quot;;\r\n    return new ModelAndView(&quot;2.0/error&quot;, &quot;downloaderror&quot;, error);\r\n    }\r\n\t\t\t\r\n    return new ModelAndView();\r\n    }\r\n    }\r\n\r\nMy error.jsp is like this\t\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script src=&quot;abc/js/jquery-1.9.0.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n\t&lt;c:if test=&quot;${not empty downloaderror}&quot;&gt;\r\n\t&lt;script&gt;\r\n\t\talert(&quot;You must have something...&quot;);\t\t\r\n\t&lt;/script&gt;\r\n\t&lt;/c:if&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"How to manage error message in Spring MVC","body":"<p>I am new to spring MVC .My abc page is have one submit button. On click of submit button, abcHandler called which is inside xyzController.\nJust wondering how to achieve this scenario.</p>\n\n<p>-- If some error occurs then it should return some message.<br>\n-- It should stay in the same page , for me its abc page.</p>\n\n<p>I have tried this.The problem I am facing is that , i am getting the alert message as \"You must have something...\",\nbut it is navigating to error page means a blank page. This is not suppose to happen.I want to show the message and stay in the same page.\nHow can i achieve easily with spring MVC.\nPlease suggest some idea.</p>\n\n<pre><code>public class xyzController extends MultiActionController implements InitializingBean {\n\npublic ModelAndView abcHandler(HttpServletRequest request,HttpServletResponse response)throws Exception  {\n\n// session\nHttpSession session = request.getSession(true);\n\nString abc = \"\";\nif(abc != \"\"){\n\n}else{\nString error = \"You must have xyzzzzzz\";\nreturn new ModelAndView(\"2.0/error\", \"downloaderror\", error);\n}\n\nreturn new ModelAndView();\n}\n}\n</code></pre>\n\n<p>My error.jsp is like this   </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"abc/js/jquery-1.9.0.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;c:if test=\"${not empty downloaderror}\"&gt;\n&lt;script&gt;\n    alert(\"You must have something...\");        \n&lt;/script&gt;\n&lt;/c:if&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"answers":[{"comments":[{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1629265699,"post_id":68814140,"comment_id":121637607,"body_markdown":"It didn&#39;t work out. It throws error by saying invalid parameter and value inserted like this:                  \\&quot;[ABC.com,JPQ.com,N\\A]&quot;&quot;","body":"It didn&#39;t work out. It throws error by saying invalid parameter and value inserted like this:                  \\&quot;[ABC.com,JPQ.com,N\\A]&quot;&quot;"},{"owner":{"account_id":16283593,"reputation":241,"user_id":11758880,"display_name":"Kfir Doron"},"score":0,"creation_date":1629288049,"post_id":68814140,"comment_id":121645912,"body_markdown":"I&#39;ve updated the code now it will add the quotes around the String.\nIf it still does not work, please tell me what is the expected input so I can provide a precise solution.","body":"I&#39;ve updated the code now it will add the quotes around the String. If it still does not work, please tell me what is the expected input so I can provide a precise solution."},{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1629290987,"post_id":68814140,"comment_id":121647181,"body_markdown":"It didn&#39;t work.  It&#39;s an array.  It should go like this : [\\&quot;ABC.com\\&quot;, \\&quot;ABC\\&quot;, \\&quot;The HULK\\&quot;, \\&quot;India US UK\\&quot;]   But when We enter it like this, it append \\&quot; in begining and \\&quot;&quot; in the end. I am using it inside a map of &lt;String, Object&gt;","body":"It didn&#39;t work.  It&#39;s an array.  It should go like this : [\\&quot;ABC.com\\&quot;, \\&quot;ABC\\&quot;, \\&quot;The HULK\\&quot;, \\&quot;India US UK\\&quot;]   But when We enter it like this, it append \\&quot; in begining and \\&quot;&quot; in the end. I am using it inside a map of &lt;String, Object&gt;"},{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1629354589,"post_id":68814140,"comment_id":121665596,"body_markdown":"Code is added as requested.","body":"Code is added as requested."}],"tags":[],"owner":{"account_id":16283593,"reputation":241,"user_id":11758880,"display_name":"Kfir Doron"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629287982,"creation_date":1629189261,"answer_id":68814140,"question_id":68813546,"body_markdown":"It is not clear what is exactly the format which it needs to be sent as,  \r\nbut a  quick guess would be: ```DistributionChoices=[&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]```. \r\n\r\nSo, in order to parse the list to this format do the following:  \r\n```Java\r\nvar value = &quot;[\\&quot;&quot; + String.join(&quot;\\&quot;, \\&quot;&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\\\A&quot;)) + &quot;\\&quot;]&quot;;\r\nqueryParam.put(&quot;DistributionChoices&quot;, value)\r\n```\r\nThis is simply adding a comma between every word in this list, and wrapping these in brackets. (JSON format)","title":"How to pass query parameter or form parameter having array items so that all options should get pass","body":"<p>It is not clear what is exactly the format which it needs to be sent as,<br />\nbut a  quick guess would be: <code>DistributionChoices=[&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]</code>.</p>\n<p>So, in order to parse the list to this format do the following:</p>\n<pre><code>var value = &quot;[\\&quot;&quot; + String.join(&quot;\\&quot;, \\&quot;&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\\\A&quot;)) + &quot;\\&quot;]&quot;;\nqueryParam.put(&quot;DistributionChoices&quot;, value)\n</code></pre>\n<p>This is simply adding a comma between every word in this list, and wrapping these in brackets. (JSON format)</p>\n"},{"comments":[{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1696946554,"post_id":77265640,"comment_id":136215679,"body_markdown":"Not in the project anymore, else would have tried it. Anyway,  I post the entire request as in body at that moment and handled it.","body":"Not in the project anymore, else would have tried it. Anyway,  I post the entire request as in body at that moment and handled it."}],"tags":[],"owner":{"account_id":273888,"reputation":163,"user_id":565785,"display_name":"fahran"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696964588,"creation_date":1696939693,"answer_id":77265640,"question_id":68813546,"body_markdown":"To send a formParam with an array of values, the key must be suffixed by `[]`.\r\n\r\nSo for your example, this should work:\r\n\r\n```\r\nformParam(&quot;DistributionChoices[]&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\r\n```\r\n\r\nGetting the request working in PostMan gave me the clue: https://stackoverflow.com/questions/12756688/is-it-possible-to-send-an-array-with-the-postman-chrome-extension \r\n\r\n","title":"How to pass query parameter or form parameter having array items so that all options should get pass","body":"<p>To send a formParam with an array of values, the key must be suffixed by <code>[]</code>.</p>\n<p>So for your example, this should work:</p>\n<pre><code>formParam(&quot;DistributionChoices[]&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\n</code></pre>\n<p>Getting the request working in PostMan gave me the clue: <a href=\"https://stackoverflow.com/questions/12756688/is-it-possible-to-send-an-array-with-the-postman-chrome-extension\">Is it possible to send an array with the Postman Chrome extension?</a></p>\n"}],"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696964588,"creation_date":1629186637,"question_id":68813546,"body_markdown":"I have a request which have multiple form parameters. One of the form parameters is in below format:\r\n\r\n    &quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\r\n\r\nWhen I am doing post request with queryParams and passing:\r\n\r\n    queryParam.put(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\r\n\r\nor\r\n\r\n    formParam(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\r\n\r\nThen it is selecting only the first value, i.e. ABC.com\r\n\r\nThe field is a multichoice which accepts all values.\r\n\r\nHow can I pass all values in this parameter?\r\n\r\nNote: In Postman, it works fine if I pass it like this:\r\n\r\n     &quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\r\n\r\n\r\nLanguage: Java\r\nFramework: RestAssured along with TestNG\r\n\r\nCode:\r\n\r\n    List&lt;String&gt; items = Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;);\r\n    \r\n    RestAssured.base = &quot;baseURI&quot;;\r\n    Map&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\r\n    queryParams.put(&quot;apiKey&quot;,&quot;apiKeyValue&quot;);\r\n    queryParams.put(&quot;name&quot;,&quot;nameValue&quot;);\r\n    queryParams.put(&quot;description&quot;,&quot;descriptionValue&quot;);\r\n    \r\n    queryParams.put(&quot;distrbutionChoice&quot;,items); // Here is the issue\r\n    \r\n    RestAssured.given().params(queryParams);\r\n    \r\n    Response response = request.when().post();\r\n\r\nOutput: This takes the first value from the item list.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to pass query parameter or form parameter having array items so that all options should get pass","body":"<p>I have a request which have multiple form parameters. One of the form parameters is in below format:</p>\n<pre><code>&quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\n</code></pre>\n<p>When I am doing post request with queryParams and passing:</p>\n<pre><code>queryParam.put(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\n</code></pre>\n<p>or</p>\n<pre><code>formParam(&quot;DistributionChoices&quot;, Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;));\n</code></pre>\n<p>Then it is selecting only the first value, i.e. ABC.com</p>\n<p>The field is a multichoice which accepts all values.</p>\n<p>How can I pass all values in this parameter?</p>\n<p>Note: In Postman, it works fine if I pass it like this:</p>\n<pre><code> &quot;DistributionChoices&quot;: [&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;]\n</code></pre>\n<p>Language: Java\nFramework: RestAssured along with TestNG</p>\n<p>Code:</p>\n<pre><code>List&lt;String&gt; items = Arrays.asList(&quot;ABC.com&quot;, &quot;JPQ.com&quot;, &quot;N\\A&quot;);\n\nRestAssured.base = &quot;baseURI&quot;;\nMap&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\nqueryParams.put(&quot;apiKey&quot;,&quot;apiKeyValue&quot;);\nqueryParams.put(&quot;name&quot;,&quot;nameValue&quot;);\nqueryParams.put(&quot;description&quot;,&quot;descriptionValue&quot;);\n\nqueryParams.put(&quot;distrbutionChoice&quot;,items); // Here is the issue\n\nRestAssured.given().params(queryParams);\n\nResponse response = request.when().post();\n</code></pre>\n<p>Output: This takes the first value from the item list.</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":3638171,"reputation":78,"user_id":3033050,"display_name":"Solerman Kaplon"},"score":0,"creation_date":1696971870,"post_id":77268372,"comment_id":136220239,"body_markdown":"Seems similar to [this](https://stackoverflow.com/questions/71956289/how-to-make-micronaut-create-beans-from-a-custom-library)","body":"Seems similar to <a href=\"https://stackoverflow.com/questions/71956289/how-to-make-micronaut-create-beans-from-a-custom-library\">this</a>"},{"owner":{"account_id":4930800,"reputation":316,"user_id":3970651,"accept_rate":100,"display_name":"Rahul Khanna"},"score":0,"creation_date":1697006598,"post_id":77268372,"comment_id":136223497,"body_markdown":"@SolermanKaplon I am using maven so that plugin isn&#39;t available to download but otherwise from code perspective implemented the same way as mentioned","body":"@SolermanKaplon I am using maven so that plugin isn&#39;t available to download but otherwise from code perspective implemented the same way as mentioned"}],"owner":{"account_id":4930800,"reputation":316,"user_id":3970651,"accept_rate":100,"display_name":"Rahul Khanna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696964433,"creation_date":1696964433,"question_id":77268372,"body_markdown":"I have a common modules that defines caffiene-cache for us like\r\n```\r\n@Factory\r\npublic class CaffeineCacheFactory {\r\n\r\n    @Value(&quot;${cache.max.size}&quot;)\r\n    private long maximumSize;\r\n\r\n    @Value(&quot;${cache.duration.hours}&quot;)\r\n    private long durationInHours;\r\n\r\n    @Bean\r\n    @Named(&quot;caffeine-cache&quot;)\r\n    public Cache&lt;String, Object&gt; entitlementCache() {\r\n        return Caffeine.newBuilder()\r\n                .maximumSize(maximumSize)\r\n                .expireAfterWrite(durationInHours, TimeUnit.HOURS)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nwe have built this common module as a jar and are using it in another project as dependency. The problem is in the main code this bean is not found and could not be intialized. I am not sure what I am missing here. \r\n\r\nI have micronaut-inject-java in annotation processor. The only difference is common module is built on 3.8.0 but main module is on micronaut 4.1.3\r\n\r\n```\r\n@Singleton\r\npublic class CacheService {\r\n    final Cache&lt;String, String&gt; cache;\r\n\r\n    public CacheService(Cache&lt;String, String&gt; cache) {\r\n        this.cache = cache;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAny help would be appreciated","title":"Bean Injection Issue from dependency jar for micronaut","body":"<p>I have a common modules that defines caffiene-cache for us like</p>\n<pre><code>@Factory\npublic class CaffeineCacheFactory {\n\n    @Value(&quot;${cache.max.size}&quot;)\n    private long maximumSize;\n\n    @Value(&quot;${cache.duration.hours}&quot;)\n    private long durationInHours;\n\n    @Bean\n    @Named(&quot;caffeine-cache&quot;)\n    public Cache&lt;String, Object&gt; entitlementCache() {\n        return Caffeine.newBuilder()\n                .maximumSize(maximumSize)\n                .expireAfterWrite(durationInHours, TimeUnit.HOURS)\n                .build();\n    }\n}\n</code></pre>\n<p>we have built this common module as a jar and are using it in another project as dependency. The problem is in the main code this bean is not found and could not be intialized. I am not sure what I am missing here.</p>\n<p>I have micronaut-inject-java in annotation processor. The only difference is common module is built on 3.8.0 but main module is on micronaut 4.1.3</p>\n<pre><code>@Singleton\npublic class CacheService {\n    final Cache&lt;String, String&gt; cache;\n\n    public CacheService(Cache&lt;String, String&gt; cache) {\n        this.cache = cache;\n    }\n\n}\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","gradle","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":206701,"reputation":1433,"user_id":456143,"accept_rate":78,"display_name":"Evgeny"},"score":1,"creation_date":1406893973,"post_id":25079306,"comment_id":39019897,"body_markdown":"Yes, this solution works. But I would like to not have this code under source control. I beleive that the &quot;most right&quot; solution is to pass this options directly in command line. Is it any way for it?","body":"Yes, this solution works. But I would like to not have this code under source control. I beleive that the &quot;most right&quot; solution is to pass this options directly in command line. Is it any way for it?"},{"owner":{"account_id":2512893,"reputation":6790,"user_id":2184930,"accept_rate":74,"display_name":"suman j"},"score":1,"creation_date":1406895910,"post_id":25079306,"comment_id":39021011,"body_markdown":"The link mentioned in the post has a way of passing them from command line","body":"The link mentioned in the post has a way of passing them from command line"},{"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"score":0,"creation_date":1623618225,"post_id":25079306,"comment_id":120124223,"body_markdown":"can you tell how it compares to using bootRun? what is different? do tests use this? something like that","body":"can you tell how it compares to using bootRun? what is different? do tests use this? something like that"}],"tags":[],"owner":{"account_id":2512893,"reputation":6790,"user_id":2184930,"accept_rate":74,"display_name":"suman j"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1406892742,"creation_date":1406892742,"answer_id":25079306,"question_id":25079244,"body_markdown":"In gradle build script, define systemProperties for run task.\r\n\r\n    //to provide the properties while running the application using spring-boot&#39;s run task\r\n        run {\r\n            systemProperties[&#39;property name&#39;] = &#39;value&#39;\r\n        }\r\n\r\nand `gradle run` should accept this value.\r\n\r\nOr define a project level property as mentioned in \r\nhttp://forums.gradle.org/gradle/topics/how_can_i_provide_command_line_args_to_application_started_with_gradle_run","title":"How to pass JVM options from bootRun","body":"<p>In gradle build script, define systemProperties for run task.</p>\n\n<pre><code>//to provide the properties while running the application using spring-boot's run task\n    run {\n        systemProperties['property name'] = 'value'\n    }\n</code></pre>\n\n<p>and <code>gradle run</code> should accept this value.</p>\n\n<p>Or define a project level property as mentioned in \n<a href=\"http://forums.gradle.org/gradle/topics/how_can_i_provide_command_line_args_to_application_started_with_gradle_run\" rel=\"noreferrer\">http://forums.gradle.org/gradle/topics/how_can_i_provide_command_line_args_to_application_started_with_gradle_run</a></p>\n"},{"comments":[{"owner":{"account_id":206701,"reputation":1433,"user_id":456143,"accept_rate":78,"display_name":"Evgeny"},"score":5,"creation_date":1406895302,"post_id":25079415,"comment_id":39020621,"body_markdown":"I would like to not have this options &quot;hardcoded&quot; in build file. It would be great to have possibility to specify proxy settings. I.e. - using command-line arguments.","body":"I would like to not have this options &quot;hardcoded&quot; in build file. It would be great to have possibility to specify proxy settings. I.e. - using command-line arguments."},{"owner":{"account_id":206701,"reputation":1433,"user_id":456143,"accept_rate":78,"display_name":"Evgeny"},"score":0,"creation_date":1406895968,"post_id":25079415,"comment_id":39021044,"body_markdown":"Does not work: &quot;&gt; Could not find property &#39;args&#39; on root project&quot;.","body":"Does not work: &quot;&gt; Could not find property &#39;args&#39; on root project&quot;."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1406896080,"post_id":25079415,"comment_id":39021117,"body_markdown":"Did you correctly copy the code? I have made an update. There is no `args` property.","body":"Did you correctly copy the code? I have made an update. There is no <code>args</code> property."},{"owner":{"account_id":217879,"reputation":307,"user_id":473904,"display_name":"Valentino Dell&#39;Aica"},"score":7,"creation_date":1412778990,"post_id":25079415,"comment_id":41194264,"body_markdown":"I tried today and the only way this work, is to surrond the list of string by square brackets, like bootRun {\n   jvmArgs = [&quot;-Dhttp.proxyHost=xxxxxx&quot;, &quot;-Dhttp.proxyPort=xxxxxx&quot;]\n}","body":"I tried today and the only way this work, is to surrond the list of string by square brackets, like bootRun {    jvmArgs = [&quot;-Dhttp.proxyHost=xxxxxx&quot;, &quot;-Dhttp.proxyPort=xxxxxx&quot;] }"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1412780871,"post_id":25079415,"comment_id":41195629,"body_markdown":"What version of gradle are you using?","body":"What version of gradle are you using?"},{"owner":{"display_name":"user41871"},"score":0,"creation_date":1413398238,"post_id":25079415,"comment_id":41432742,"body_markdown":"I also had to put the square brackets in to avoid an error. I&#39;m using Gradle 2.1. I would have guessed this to be a Groovy requirement rather than a Gradle requirement?","body":"I also had to put the square brackets in to avoid an error. I&#39;m using Gradle 2.1. I would have guessed this to be a Groovy requirement rather than a Gradle requirement?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1413403699,"post_id":25079415,"comment_id":41435471,"body_markdown":"@WillieWheeler That sounds correct, but I would have to try it out. I have only used the code above on Gradle 1.9-1.12","body":"@WillieWheeler That sounds correct, but I would have to try it out. I have only used the code above on Gradle 1.9-1.12"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1444398597,"post_id":25079415,"comment_id":53900698,"body_markdown":"@AdamArold What version of Gradle are you using?","body":"@AdamArold What version of Gradle are you using?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1444401461,"post_id":25079415,"comment_id":53902617,"body_markdown":"@AdamArold Check my updated answer that works for the latest versions of Spring Boot and Gradle","body":"@AdamArold Check my updated answer that works for the latest versions of Spring Boot and Gradle"},{"owner":{"account_id":2556004,"reputation":304,"user_id":2217974,"accept_rate":75,"display_name":"Jack  Zhang"},"score":0,"creation_date":1460494690,"post_id":25079415,"comment_id":60766714,"body_markdown":"What I put over there is `jvmArgs = [&quot;-Dloader.path=/Users/xyz/Documents/keys&quot;]`","body":"What I put over there is <code>jvmArgs = [&quot;-Dloader.path=&#47;Users&#47;xyz&#47;Documents&#47;keys&quot;]</code>"},{"owner":{"account_id":2556004,"reputation":304,"user_id":2217974,"accept_rate":75,"display_name":"Jack  Zhang"},"score":0,"creation_date":1460496197,"post_id":25079415,"comment_id":60767480,"body_markdown":"I am using spring boot 1.3.3 and gradle 2.10, it is not working for me.\nWhat I put over there is `jvmArgs = [&quot;-Dloader.path=/Users/xyz/Documents/keys&quot;]`","body":"I am using spring boot 1.3.3 and gradle 2.10, it is not working for me. What I put over there is <code>jvmArgs = [&quot;-Dloader.path=&#47;Users&#47;xyz&#47;Documents&#47;keys&quot;]</code>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1460558220,"post_id":25079415,"comment_id":60800394,"body_markdown":"@JackZhang Are you sure the argument is not being passed in your code? You can also debug the gradle build, by inserting `println` statements in the `bootRun` task to see if your command line argument is actually being picked up","body":"@JackZhang Are you sure the argument is not being passed in your code? You can also debug the gradle build, by inserting <code>println</code> statements in the <code>bootRun</code> task to see if your command line argument is actually being picked up"},{"owner":{"account_id":2556004,"reputation":304,"user_id":2217974,"accept_rate":75,"display_name":"Jack  Zhang"},"score":0,"creation_date":1460666989,"post_id":25079415,"comment_id":60862658,"body_markdown":"I tried to put the `println jvmArgs` in bootRun just now, it does not print anything, but I checked the log4j log, I do see `/Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk/Contents/Home/bin/java -Dloader.path=/Users/xyz/Documents/keys -cp /Users/wenjiezhang/Desktop/.....`, would it because I have both `-Dloader.path` and `-cp` (Although, I did not put `cp` by myself) here?","body":"I tried to put the <code>println jvmArgs</code> in bootRun just now, it does not print anything, but I checked the log4j log, I do see <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_72.jdk&#47;Contents&#47;H&zwnj;&#8203;ome&#47;bin&#47;java -Dloader.path=&#47;Users&#47;xyz&#47;Documents&#47;keys -cp &#47;Users&#47;wenjiezhang&#47;Desktop&#47;.....</code>, would it because I have both <code>-Dloader.path</code> and <code>-cp</code> (Although, I did not put <code>cp</code> by myself) here?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1460702954,"post_id":25079415,"comment_id":60874436,"body_markdown":"@JackZhang I don&#39;t know what the problem is from your description. Do you have a sample GitHub project to share?","body":"@JackZhang I don&#39;t know what the problem is from your description. Do you have a sample GitHub project to share?"},{"owner":{"account_id":2556004,"reputation":304,"user_id":2217974,"accept_rate":75,"display_name":"Jack  Zhang"},"score":0,"creation_date":1460930109,"post_id":25079415,"comment_id":60955012,"body_markdown":"@geoand, thanks for taking time to look into my issue, I have created a repo on github for sample purpose, https://github.com/wenjiezhang2013/stackoverflow-sample, in this example, if I have a `application.yml` file under `/Users/wenjiezhang/Desktop/xyz`, and run `gradle bootRun`, it will prints `null`, however, if I have this file under `main/resources`, it will be loaded correctly. And I do see `Command: /Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk/Contents/Home/bin/java -Dloader.path=/Users/wenjiezhang/Desktop/xyz` from log.","body":"@geoand, thanks for taking time to look into my issue, I have created a repo on github for sample purpose, <a href=\"https://github.com/wenjiezhang2013/stackoverflow-sample\" rel=\"nofollow noreferrer\">github.com/wenjiezhang2013/stackoverflow-sample</a>, in this example, if I have a <code>application.yml</code> file under <code>&#47;Users&#47;wenjiezhang&#47;Desktop&#47;xyz</code>, and run <code>gradle bootRun</code>, it will prints <code>null</code>, however, if I have this file under <code>main&#47;resources</code>, it will be loaded correctly. And I do see <code>Command: &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk1.8.0_72.jdk&#47;Contents&#47;H&zwnj;&#8203;ome&#47;bin&#47;java -Dloader.path=&#47;Users&#47;wenjiezhang&#47;Desktop&#47;xyz</code> from log."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1461148684,"post_id":25079415,"comment_id":61064227,"body_markdown":"@JackZhang The problem is not in the Gradle script, but in the fact that `loader.path` is not something that is used by Spring Boot to alter the path where properties are read. Check out [this](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html) for all the details","body":"@JackZhang The problem is not in the Gradle script, but in the fact that <code>loader.path</code> is not something that is used by Spring Boot to alter the path where properties are read. Check out <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">this</a> for all the details"},{"owner":{"account_id":2556004,"reputation":304,"user_id":2217974,"accept_rate":75,"display_name":"Jack  Zhang"},"score":0,"creation_date":1461177667,"post_id":25079415,"comment_id":61085175,"body_markdown":"Let me update my sample project later, it causes some confusion, I was just trying to use `loader.path` to include some external yaml file into the classpath in my work project, so I can read it from my code, it did not work. When I was creating the sample project, I thought there is no difference between a configuration file (application.yml) vs some other yaml file I want to include in the classpath, so I made it this way.  Thanks for helping, by the time you saw my comment, you can go back to check github repo.  BTW, you are a such nice person, thank you so much for trying to help me.","body":"Let me update my sample project later, it causes some confusion, I was just trying to use <code>loader.path</code> to include some external yaml file into the classpath in my work project, so I can read it from my code, it did not work. When I was creating the sample project, I thought there is no difference between a configuration file (application.yml) vs some other yaml file I want to include in the classpath, so I made it this way.  Thanks for helping, by the time you saw my comment, you can go back to check github repo.  BTW, you are a such nice person, thank you so much for trying to help me."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1461223421,"post_id":25079415,"comment_id":61103383,"body_markdown":"@JackZhang No worries! Just trying to help when I have the time :)","body":"@JackZhang No worries! Just trying to help when I have the time :)"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":18,"down_vote_count":1,"up_vote_count":133,"is_accepted":true,"score":132,"last_activity_date":1459317887,"creation_date":1406893150,"answer_id":25079415,"question_id":25079244,"body_markdown":"**Original Answer (using Gradle 1.12 and Spring Boot 1.0.x):**\r\n\r\nThe `bootRun` task of the Spring Boot gradle plugin extends the gradle JavaExec task. See [this][1].\r\n\r\nThat means that you can configure the plugin to use the proxy by adding: \r\n\r\n    bootRun {\r\n       jvmArgs = &quot;-Dhttp.proxyHost=xxxxxx&quot;, &quot;-Dhttp.proxyPort=xxxxxx&quot;\r\n    }\r\n\r\nto your build file.\r\n\r\nOf course you could use the `systemProperties` instead of `jvmArgs`\r\n\r\n\r\nIf you want to conditionally add jvmArgs from the command line you can do the following:\r\n\r\n    bootRun {\r\n        if ( project.hasProperty(&#39;jvmArgs&#39;) ) {\r\n            jvmArgs project.jvmArgs.split(&#39;\\\\s+&#39;)\r\n        }\r\n    }\r\n    \r\n    gradle bootRun -PjvmArgs=&quot;-Dwhatever1=value1 -Dwhatever2=value2&quot;\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/55650bd61887cbfddabbb5167acbf9121682d7fe/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/run/BootRunTask.java\r\n\r\n**Updated Answer:**\r\n\r\nAfter trying out my solution above using *Spring Boot 1.2.6.RELEASE* and *Gradle 2.7* I observed that it was not working as some of the comments mention.\r\nHowever, a few minor tweaks can be made to recover the working state.\r\n\r\nThe new code is:\r\n\r\n    bootRun {\r\n       jvmArgs = [&quot;-Dhttp.proxyHost=xxxxxx&quot;, &quot;-Dhttp.proxyPort=xxxxxx&quot;]\r\n    }\r\n\r\nfor hard-coded arguments, and\r\n\r\n    bootRun {\r\n        if ( project.hasProperty(&#39;jvmArgs&#39;) ) {\r\n            jvmArgs = (project.jvmArgs.split(&quot;\\\\s+&quot;) as List)\r\n    \r\n        }\r\n    }\r\n\r\nfor arguments provided from the command line\r\n\r\n","title":"How to pass JVM options from bootRun","body":"<p><strong>Original Answer (using Gradle 1.12 and Spring Boot 1.0.x):</strong></p>\n\n<p>The <code>bootRun</code> task of the Spring Boot gradle plugin extends the gradle JavaExec task. See <a href=\"https://github.com/spring-projects/spring-boot/blob/55650bd61887cbfddabbb5167acbf9121682d7fe/spring-boot-tools/spring-boot-gradle-plugin/src/main/groovy/org/springframework/boot/gradle/run/BootRunTask.java\">this</a>.</p>\n\n<p>That means that you can configure the plugin to use the proxy by adding: </p>\n\n<pre><code>bootRun {\n   jvmArgs = \"-Dhttp.proxyHost=xxxxxx\", \"-Dhttp.proxyPort=xxxxxx\"\n}\n</code></pre>\n\n<p>to your build file.</p>\n\n<p>Of course you could use the <code>systemProperties</code> instead of <code>jvmArgs</code></p>\n\n<p>If you want to conditionally add jvmArgs from the command line you can do the following:</p>\n\n<pre><code>bootRun {\n    if ( project.hasProperty('jvmArgs') ) {\n        jvmArgs project.jvmArgs.split('\\\\s+')\n    }\n}\n\ngradle bootRun -PjvmArgs=\"-Dwhatever1=value1 -Dwhatever2=value2\"\n</code></pre>\n\n<p><strong>Updated Answer:</strong></p>\n\n<p>After trying out my solution above using <em>Spring Boot 1.2.6.RELEASE</em> and <em>Gradle 2.7</em> I observed that it was not working as some of the comments mention.\nHowever, a few minor tweaks can be made to recover the working state.</p>\n\n<p>The new code is:</p>\n\n<pre><code>bootRun {\n   jvmArgs = [\"-Dhttp.proxyHost=xxxxxx\", \"-Dhttp.proxyPort=xxxxxx\"]\n}\n</code></pre>\n\n<p>for hard-coded arguments, and</p>\n\n<pre><code>bootRun {\n    if ( project.hasProperty('jvmArgs') ) {\n        jvmArgs = (project.jvmArgs.split(\"\\\\s+\") as List)\n\n    }\n}\n</code></pre>\n\n<p>for arguments provided from the command line</p>\n"},{"tags":[],"owner":{"account_id":259954,"reputation":930,"user_id":543217,"display_name":"levsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410465638,"creation_date":1410449239,"answer_id":25791430,"question_id":25079244,"body_markdown":"It seems to work:\r\n\r\n    bootRun {\r\n        systemProperties &quot;property1&quot;: &quot;value1&quot;, &quot;property2&quot;: &quot;value2&quot;\r\n    }\r\n","title":"How to pass JVM options from bootRun","body":"<p>It seems to work:</p>\n\n<pre><code>bootRun {\n    systemProperties \"property1\": \"value1\", \"property2\": \"value2\"\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":3,"creation_date":1455749695,"post_id":26141841,"comment_id":58634349,"body_markdown":"This is by far the best way to pass command line options to JVM","body":"This is by far the best way to pass command line options to JVM"},{"owner":{"account_id":63717,"reputation":8625,"user_id":188474,"accept_rate":95,"display_name":"Brett"},"score":1,"creation_date":1456931300,"post_id":26141841,"comment_id":59175140,"body_markdown":"@Marvin Frommhold, thanks for your answer.  The approach is incredibly straightforward.  For noobs like me, it would be helpful if you added a bit more detail.  Suggestions:  (1) show the gradle command line call with the arguments; (2) show how to reference the arguments in Spring Boot, e.g.,  @Value(&quot;${property:default}&quot;); (3) A screenshot of the IntelliJ dialog passing the params would also be helpful.","body":"@Marvin Frommhold, thanks for your answer.  The approach is incredibly straightforward.  For noobs like me, it would be helpful if you added a bit more detail.  Suggestions:  (1) show the gradle command line call with the arguments; (2) show how to reference the arguments in Spring Boot, e.g.,  @Value(&quot;${property:default}&quot;); (3) A screenshot of the IntelliJ dialog passing the params would also be helpful."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":1,"creation_date":1468411394,"post_id":26141841,"comment_id":64114697,"body_markdown":"Sadly, for me, just adding this causes gradle bootRun to fail horribly with &quot;org.apache.catalina.LifecycleException: A child container failed during start&quot; even when not passing any -D params","body":"Sadly, for me, just adding this causes gradle bootRun to fail horribly with &quot;org.apache.catalina.LifecycleException: A child container failed during start&quot; even when not passing any -D params"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1468413258,"post_id":26141841,"comment_id":64116037,"body_markdown":"Solved by cherry-picking the properties I want as in an answer to http://stackoverflow.com/questions/23689054","body":"Solved by cherry-picking the properties I want as in an answer to <a href=\"http://stackoverflow.com/questions/23689054\">stackoverflow.com/questions/23689054</a>"}],"tags":[],"owner":{"account_id":335509,"reputation":1040,"user_id":662635,"display_name":"Marvin Frommhold"},"comment_count":4,"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1412167963,"creation_date":1412167963,"answer_id":26141841,"question_id":25079244,"body_markdown":"    bootRun {\r\n      // support passing -Dsystem.property=value to bootRun task\r\n      systemProperties = System.properties\r\n    }\r\n\r\nThis should pass all JVM options to the app started via `bootRun`.","title":"How to pass JVM options from bootRun","body":"<pre><code>bootRun {\n  // support passing -Dsystem.property=value to bootRun task\n  systemProperties = System.properties\n}\n</code></pre>\n\n<p>This should pass all JVM options to the app started via <code>bootRun</code>.</p>\n"},{"comments":[{"owner":{"account_id":7916982,"reputation":313,"user_id":5979115,"display_name":"Stefano Scarpanti"},"score":0,"creation_date":1512113571,"post_id":38792860,"comment_id":82134344,"body_markdown":"Can you show me how to use these arguments in Application.class or in Bootstrap.class? (I am using grails 3.x.x)","body":"Can you show me how to use these arguments in Application.class or in Bootstrap.class? (I am using grails 3.x.x)"}],"tags":[],"owner":{"account_id":2796711,"reputation":131,"user_id":2405817,"display_name":"Cristian Botiza"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470410917,"creation_date":1470410917,"answer_id":38792860,"question_id":25079244,"body_markdown":"    bootRun {\r\n      args = [&#39;myProgramArgument1&#39;, &#39;myProgramArgument2&#39;]\r\n    }\r\n\r\nUsing jvmArgs may cause JVM start issues. Using args allows you to pass your custom program arguments","title":"How to pass JVM options from bootRun","body":"<pre><code>bootRun {\n  args = ['myProgramArgument1', 'myProgramArgument2']\n}\n</code></pre>\n\n<p>Using jvmArgs may cause JVM start issues. Using args allows you to pass your custom program arguments</p>\n"},{"tags":[],"owner":{"account_id":1774317,"reputation":51,"user_id":1618417,"display_name":"Rishik Dhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480310046,"creation_date":1480310046,"answer_id":40837569,"question_id":25079244,"body_markdown":"@marvin, thanks for your post it was very helpful.\r\n\r\nSharing how I used it:\r\n\r\n    test {\r\n      // support passing -Dsystem.property=value to bootRun task\r\n      systemProperties = System.properties\r\n    }\r\n\r\nI have JUnit tests that I wanted to skip unless a property was used to include such tests. Using JUnit Assume for including the tests conditionally:\r\n\r\n    //first line of test\r\n    assumeThat(Boolean.parseBoolean(System.getProperty(&quot;deep.test.run&quot;,&quot;false&quot;),true)\r\n\r\nDoing this with gradle required that the system property provided at the time of running gradle build, shown here,\r\n\r\n    gradle build -Ddeep.test.run=true\r\n\r\nwas indeed passed through to the tests.\r\n\r\nHope this helps others trying out this approach for running tests conditionally.","title":"How to pass JVM options from bootRun","body":"<p>@marvin, thanks for your post it was very helpful.</p>\n\n<p>Sharing how I used it:</p>\n\n<pre><code>test {\n  // support passing -Dsystem.property=value to bootRun task\n  systemProperties = System.properties\n}\n</code></pre>\n\n<p>I have JUnit tests that I wanted to skip unless a property was used to include such tests. Using JUnit Assume for including the tests conditionally:</p>\n\n<pre><code>//first line of test\nassumeThat(Boolean.parseBoolean(System.getProperty(\"deep.test.run\",\"false\"),true)\n</code></pre>\n\n<p>Doing this with gradle required that the system property provided at the time of running gradle build, shown here,</p>\n\n<pre><code>gradle build -Ddeep.test.run=true\n</code></pre>\n\n<p>was indeed passed through to the tests.</p>\n\n<p>Hope this helps others trying out this approach for running tests conditionally.</p>\n"},{"tags":[],"owner":{"account_id":10810227,"reputation":185,"user_id":7951035,"display_name":"Evelino Bomitali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493799658,"creation_date":1493799658,"answer_id":43754809,"question_id":25079244,"body_markdown":"I got into a similar problem, bootRun needed some parameters but I wouldn&#39;t feel like modifying bootRun as I want to keep some flexibility and stick to standard bootRun behaviour. My suggestion is to add some custom tasks (let&#39;s say bootRunDev, bootRunProxy) that extends bootRun, as described in the following code snippet \r\n\r\n    task bootRunPxy(type: org.springframework.boot.gradle.run.BootRunTask, dependsOn: &#39;build&#39;) {\r\n        group = &#39;Application&#39;\r\n        doFirst() {\r\n            main = project.mainClassName\r\n            classpath = sourceSets.main.runtimeClasspath\r\n            systemProperty &#39;http.proxyHost&#39;, &#39;xxxxx&#39;\r\n            systemProperty &#39;http.proxyPort&#39;, &#39;yyyyy&#39;\r\n        }\r\n    }\r\n\r\nI don&#39;t have an environment to exercise the script but I used this approach to pass profile to spring using the property spring.profiles.active.\r\nCredits should go to [Karol Kaliński](https://karolkalinski.github.io/gradle-task-that-runs-spring-boot-aplication-with-profile-activated/)","title":"How to pass JVM options from bootRun","body":"<p>I got into a similar problem, bootRun needed some parameters but I wouldn't feel like modifying bootRun as I want to keep some flexibility and stick to standard bootRun behaviour. My suggestion is to add some custom tasks (let's say bootRunDev, bootRunProxy) that extends bootRun, as described in the following code snippet </p>\n\n<pre><code>task bootRunPxy(type: org.springframework.boot.gradle.run.BootRunTask, dependsOn: 'build') {\n    group = 'Application'\n    doFirst() {\n        main = project.mainClassName\n        classpath = sourceSets.main.runtimeClasspath\n        systemProperty 'http.proxyHost', 'xxxxx'\n        systemProperty 'http.proxyPort', 'yyyyy'\n    }\n}\n</code></pre>\n\n<p>I don't have an environment to exercise the script but I used this approach to pass profile to spring using the property spring.profiles.active.\nCredits should go to <a href=\"https://karolkalinski.github.io/gradle-task-that-runs-spring-boot-aplication-with-profile-activated/\" rel=\"nofollow noreferrer\">Karol Kaliński</a></p>\n"},{"comments":[{"owner":{"account_id":2249747,"reputation":580,"user_id":1982239,"accept_rate":62,"display_name":"jdolan"},"score":0,"creation_date":1617037496,"post_id":66324190,"comment_id":118183856,"body_markdown":"I&#39;m here for the same reason, so thank you for posting this. However, how do you combine this approach with the `gradle bootRun` task? I&#39;d like to use bootRun so that the container will also rebuild the application as necessary.","body":"I&#39;m here for the same reason, so thank you for posting this. However, how do you combine this approach with the <code>gradle bootRun</code> task? I&#39;d like to use bootRun so that the container will also rebuild the application as necessary."}],"tags":[],"owner":{"account_id":298675,"reputation":165,"user_id":604811,"display_name":"Kevin-Prichard"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614031897,"creation_date":1614031897,"answer_id":66324190,"question_id":25079244,"body_markdown":"It&#39;s worth mentioning, here, that some systems that use Gradle and Spring Boot are starting JVM outside of `build.gradle`, e.g. in a Dockerfile.\r\n\r\nIt&#39;s not pointless to mention this on a thread specifically about `bootRun`! I wound up here because this particular post is a magnet for searches about jvm options in the context of a Spring Boot app compiled / run under gradle. (All the advice I found for adding java.net.http.httpclient logging said &quot;add it to `bootRun`&#39;s `jvmArgs`&quot;. Nothing happened, though.\r\n\r\nSo, if you happen to run your gradle-built Spring Boot app from a Docker container, you&#39;ll want to add your JVM params to an env var in your project&#39;s Dockerfile, like so, e.g.-\r\n\r\n    ...\r\n    ENV JAVA_OPTS &quot;${JAVA_OPTS} \\\r\n    -server \\\r\n    -Duser.timezone=UTC \\\r\n    -XX:InitialRAMPercentage=50 \\\r\n    -XX:MaxRAMPercentage=50 \\\r\n    -Djavax.net.ssl.trustStorePassword=elvislives \\\r\n    -Djavax.net.ssl.trustStoreProvider=BCFIPS \\\r\n    -Djavax.net.ssl.trustStoreType=BCFKS \\\r\n    -Djdk.internal.httpclient.debug=true \\\r\n    -Djava.util.logging.manager=org.apache.logging.log4j2.jul.LogManager \\\r\n    -Djdk.httpclient.HttpClient.log=errors,requests,headers,frames[:control:data:window:all..],content,ssl,trace,channel \\\r\n    &quot;\r\n    ...\r\n    \r\n    ENTRYPOINT java ${JAVA_OPTS} -cp app:app/lib/* com.mygreatcompany.theapp\r\n\r\n","title":"How to pass JVM options from bootRun","body":"<p>It's worth mentioning, here, that some systems that use Gradle and Spring Boot are starting JVM outside of <code>build.gradle</code>, e.g. in a Dockerfile.</p>\n<p>It's not pointless to mention this on a thread specifically about <code>bootRun</code>! I wound up here because this particular post is a magnet for searches about jvm options in the context of a Spring Boot app compiled / run under gradle. (All the advice I found for adding java.net.http.httpclient logging said &quot;add it to <code>bootRun</code>'s <code>jvmArgs</code>&quot;. Nothing happened, though.</p>\n<p>So, if you happen to run your gradle-built Spring Boot app from a Docker container, you'll want to add your JVM params to an env var in your project's Dockerfile, like so, e.g.-</p>\n<pre><code>...\nENV JAVA_OPTS &quot;${JAVA_OPTS} \\\n-server \\\n-Duser.timezone=UTC \\\n-XX:InitialRAMPercentage=50 \\\n-XX:MaxRAMPercentage=50 \\\n-Djavax.net.ssl.trustStorePassword=elvislives \\\n-Djavax.net.ssl.trustStoreProvider=BCFIPS \\\n-Djavax.net.ssl.trustStoreType=BCFKS \\\n-Djdk.internal.httpclient.debug=true \\\n-Djava.util.logging.manager=org.apache.logging.log4j2.jul.LogManager \\\n-Djdk.httpclient.HttpClient.log=errors,requests,headers,frames[:control:data:window:all..],content,ssl,trace,channel \\\n&quot;\n...\n\nENTRYPOINT java ${JAVA_OPTS} -cp app:app/lib/* com.mygreatcompany.theapp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649245918,"creation_date":1649245918,"answer_id":71766276,"question_id":25079244,"body_markdown":"For development as Docker Container add to run_script.sh as JAVA_OPTS\r\n\r\nJAVA_OPTS=&quot;-XX:+UseG1GC\r\n-Xms512m\r\n-Xmx2048m\r\n--add-opens java.base/java.util=ALL-UNNAMED -Dspring.profiles.active=$PROFILE,discovery&quot;","title":"How to pass JVM options from bootRun","body":"<p>For development as Docker Container add to run_script.sh as JAVA_OPTS</p>\n<p>JAVA_OPTS=&quot;-XX:+UseG1GC\n-Xms512m\n-Xmx2048m\n--add-opens java.base/java.util=ALL-UNNAMED -Dspring.profiles.active=$PROFILE,discovery&quot;</p>\n"},{"tags":[],"owner":{"account_id":20136122,"reputation":21,"user_id":16492777,"display_name":"Mektogon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696962809,"creation_date":1696962809,"answer_id":77268209,"question_id":25079244,"body_markdown":"You can pass arguments as follows:\r\n\r\n    gradlew bootRun -Pargs=-Dspring.profiles.active=DEV,--POSTGRES_DB_HOST=jdbc:postgresql://localhost:5432/postgres,--POSTGRES_USR=postgres,--POSTGRES_PWD=postgres\r\n\r\nIf you use build.gradle.kts:\r\n\r\n    tasks.bootRun {\r\n        if (project.hasProperty(&quot;args&quot;)) {\r\n            args(project.properties[&quot;args&quot;]?.toString()?.split(&quot;,&quot;))\r\n        }\r\n    }\r\n\r\nIf you use build.gradle:\r\n\r\n    bootRun {\r\n        if (project.hasProperty(&#39;args&#39;)) {\r\n            args project.args.split(&#39;,&#39;)\r\n        }\r\n    }","title":"How to pass JVM options from bootRun","body":"<p>You can pass arguments as follows:</p>\n<pre><code>gradlew bootRun -Pargs=-Dspring.profiles.active=DEV,--POSTGRES_DB_HOST=jdbc:postgresql://localhost:5432/postgres,--POSTGRES_USR=postgres,--POSTGRES_PWD=postgres\n</code></pre>\n<p>If you use build.gradle.kts:</p>\n<pre><code>tasks.bootRun {\n    if (project.hasProperty(&quot;args&quot;)) {\n        args(project.properties[&quot;args&quot;]?.toString()?.split(&quot;,&quot;))\n    }\n}\n</code></pre>\n<p>If you use build.gradle:</p>\n<pre><code>bootRun {\n    if (project.hasProperty('args')) {\n        args project.args.split(',')\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":206701,"reputation":1433,"user_id":456143,"accept_rate":78,"display_name":"Evgeny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99973,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":25079415,"answer_count":10,"score":121,"last_activity_date":1696962809,"creation_date":1406892449,"question_id":25079244,"body_markdown":"I&#39;m developing simple Spring web application that communicates with remote host and I would like to test it locally behind corporate proxy.\r\nI use &quot;Spring Boot&quot; gradle plugin and the question is **how can I specify proxy settings for JVM?**\r\n\r\nI have try several ways to do it:\r\n\r\n 1. `gradle -Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080 bootRun`\r\n 2. `export JAVA_OPTS=&quot;-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080&quot;`\r\n 3. `export GRADLE_OPTS=&quot;-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080&quot;`\r\n\r\nBut it seems like none of them work - &quot;NoRouteToHostException&quot; throws in &quot;network&quot; code.\r\nAlso, I have added some extra code to debug JVM start arguments:\r\n\r\n        RuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\r\n        List&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\r\n        for (String arg: arguments) System.out.println(arg);\r\n\r\nAnd only one argument was printed: &quot;-Dfile.encoding=UTF-8&quot;.\r\n\r\nIf I set system property in code:\r\n\r\n        System.setProperty(&quot;http.proxyHost&quot;, &quot;X.X.X.X&quot;);\r\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;8080&quot;);\r\n\r\nEverything works just fine! ","title":"How to pass JVM options from bootRun","body":"<p>I'm developing simple Spring web application that communicates with remote host and I would like to test it locally behind corporate proxy.\nI use \"Spring Boot\" gradle plugin and the question is <strong>how can I specify proxy settings for JVM?</strong></p>\n\n<p>I have try several ways to do it:</p>\n\n<ol>\n<li><code>gradle -Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080 bootRun</code></li>\n<li><code>export JAVA_OPTS=\"-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080\"</code></li>\n<li><code>export GRADLE_OPTS=\"-Dhttp.proxyHost=X.X.X.X -Dhttp.proxyPort=8080\"</code></li>\n</ol>\n\n<p>But it seems like none of them work - \"NoRouteToHostException\" throws in \"network\" code.\nAlso, I have added some extra code to debug JVM start arguments:</p>\n\n<pre><code>    RuntimeMXBean runtimeMxBean = ManagementFactory.getRuntimeMXBean();\n    List&lt;String&gt; arguments = runtimeMxBean.getInputArguments();\n    for (String arg: arguments) System.out.println(arg);\n</code></pre>\n\n<p>And only one argument was printed: \"-Dfile.encoding=UTF-8\".</p>\n\n<p>If I set system property in code:</p>\n\n<pre><code>    System.setProperty(\"http.proxyHost\", \"X.X.X.X\");\n    System.setProperty(\"http.proxyPort\", \"8080\");\n</code></pre>\n\n<p>Everything works just fine! </p>\n"},{"tags":["java","android","service","broadcastreceiver","touch-event"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696958410,"post_id":77267697,"comment_id":136218194,"body_markdown":"Do you really mean &quot;all over the device&quot;, or just your own app? Because if it&#39;s the former, I don&#39;t expect that&#39;s possible.","body":"Do you really mean &quot;all over the device&quot;, or just your own app? Because if it&#39;s the former, I don&#39;t expect that&#39;s possible."}],"answers":[{"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1696962214,"post_id":77268150,"comment_id":136218765,"body_markdown":"can&#39;t edit answer (weird, some bug on SO...?), so links to doc here:  [`AccessibilityService`](https://developer.android.com/guide/topics/ui/accessibility/service) and [`SYSTEM_ALERT_WINDOW`](https://www.geeksforgeeks.org/how-to-draw-over-other-apps-in-android/)","body":"can&#39;t edit answer (weird, some bug on SO...?), so links to doc here:  <a href=\"https://developer.android.com/guide/topics/ui/accessibility/service\" rel=\"nofollow noreferrer\"><code>AccessibilityService</code></a> and <a href=\"https://www.geeksforgeeks.org/how-to-draw-over-other-apps-in-android/\" rel=\"nofollow noreferrer\"><code>SYSTEM_ALERT_WINDOW</code></a>"}],"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696962087,"creation_date":1696962087,"answer_id":77268150,"question_id":77267697,"body_markdown":"check out `AccessibilityService`, using it you can lock and unlock (control) touch on whole device (besides when locked). probably you can use it also for showing additional button &quot;above everything&quot;, if not you may interest in `SYSTEM_ALERT_WINDOW` permission which allows that","title":"Floating action button in Android on all the screens","body":"<p>check out <code>AccessibilityService</code>, using it you can lock and unlock (control) touch on whole device (besides when locked). probably you can use it also for showing additional button &quot;above everything&quot;, if not you may interest in <code>SYSTEM_ALERT_WINDOW</code> permission which allows that</p>\n"}],"owner":{"account_id":26187164,"reputation":1,"user_id":19869556,"display_name":"Apoorva A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696962087,"creation_date":1696956987,"question_id":77267697,"body_markdown":"I am a newbie is android , As a part of my project, I need to  create a floating action button  which is seen all screen all overs the device ,and on click of that button should disable the screen touch sensitivity of the screen and one more click on the FAB buttons will enable the screen touch sensitivity.\r\n\r\nCan anybody please help to achieve this.\r\n  \r\n\r\nIs there any library I can make use of ?\r\nComplete explanation to achieve this.","title":"Floating action button in Android on all the screens","body":"<p>I am a newbie is android , As a part of my project, I need to  create a floating action button  which is seen all screen all overs the device ,and on click of that button should disable the screen touch sensitivity of the screen and one more click on the FAB buttons will enable the screen touch sensitivity.</p>\n<p>Can anybody please help to achieve this.</p>\n<p>Is there any library I can make use of ?\nComplete explanation to achieve this.</p>\n"},{"tags":["java","mysql","debezium","mysqlbinlog"],"answers":[{"comments":[{"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1701852517,"post_id":77268034,"comment_id":136825126,"body_markdown":"can you elaborate more on this ? which dependency(ies) did you upgrade exactly ? I&#39;m facing the same problem...","body":"can you elaborate more on this ? which dependency(ies) did you upgrade exactly ? I&#39;m facing the same problem..."}],"tags":[],"owner":{"account_id":1671576,"reputation":64,"user_id":1537953,"display_name":"Melknix"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696960816,"creation_date":1696960816,"answer_id":77268034,"question_id":77235547,"body_markdown":"Upgrade to kafka 3.5.1, the version used in debezium 2.4.0.Final","title":"java.lang.NoSuchMethodError on upgrading to latest debezium ( void org.apache.kafka.connect.storage.KafkaOffsetBackingStore init )","body":"<p>Upgrade to kafka 3.5.1, the version used in debezium 2.4.0.Final</p>\n"}],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77268034,"answer_count":1,"score":0,"last_activity_date":1696960816,"creation_date":1696495569,"question_id":77235547,"body_markdown":"We have a simple spring boot 3.1 app that wraps debezium. We upgraded to the latest version 2.4.0.Final. Now getting this error at startup:\r\n\r\n    ERROR io.debezium.embedded.EmbeddedEngine - Unable to instantiate OffsetBackingStore class &#39;org.apache.kafka.connect.storage.KafkaOffsetBackingStore&#39;\r\n    java.lang.NoSuchMethodError: &#39;void org.apache.kafka.connect.storage.KafkaOffsetBackingStore.&lt;init&gt;(java.util.function.Supplier, java.util.function.Supplier, org.apache.kafka.connect.storage.Converter)&#39;\r\n            at io.debezium.embedded.KafkaConnectUtil.kafkaOffsetBackingStore(KafkaConnectUtil.java:75)\r\n            at io.debezium.embedded.EmbeddedEngine.initializeOffsetStore(EmbeddedEngine.java:826)\r\n            at io.debezium.embedded.EmbeddedEngine.run(EmbeddedEngine.java:714)\r\n            at io.debezium.embedded.ConvertingEngineBuilder$2.run(ConvertingEngineBuilder.java:229)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nThe dependencies show up like this:\r\n\r\n\r\n    +- io.debezium:debezium-embedded:jar:2.4.0.Final:compile\r\n    |  +- io.debezium:debezium-core:jar:2.4.0.Final:compile\r\n    |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.0:compile\r\n    |  +- org.apache.kafka:connect-api:jar:3.4.0:compile\r\n    |  |  \\- javax.ws.rs:javax.ws.rs-api:jar:2.1.1:runtime\r\n    |  +- org.apache.kafka:connect-runtime:jar:3.4.0:compile\r\n    |  |  +- org.apache.kafka:connect-transforms:jar:3.4.0:compile\r\n    |  |  +- org.apache.kafka:kafka-tools:jar:3.4.0:runtime\r\n    |  |  |  +- org.apache.kafka:kafka-server-common:jar:3.4.0:runtime\r\n","title":"java.lang.NoSuchMethodError on upgrading to latest debezium ( void org.apache.kafka.connect.storage.KafkaOffsetBackingStore init )","body":"<p>We have a simple spring boot 3.1 app that wraps debezium. We upgraded to the latest version 2.4.0.Final. Now getting this error at startup:</p>\n<pre><code>ERROR io.debezium.embedded.EmbeddedEngine - Unable to instantiate OffsetBackingStore class 'org.apache.kafka.connect.storage.KafkaOffsetBackingStore'\njava.lang.NoSuchMethodError: 'void org.apache.kafka.connect.storage.KafkaOffsetBackingStore.&lt;init&gt;(java.util.function.Supplier, java.util.function.Supplier, org.apache.kafka.connect.storage.Converter)'\n        at io.debezium.embedded.KafkaConnectUtil.kafkaOffsetBackingStore(KafkaConnectUtil.java:75)\n        at io.debezium.embedded.EmbeddedEngine.initializeOffsetStore(EmbeddedEngine.java:826)\n        at io.debezium.embedded.EmbeddedEngine.run(EmbeddedEngine.java:714)\n        at io.debezium.embedded.ConvertingEngineBuilder$2.run(ConvertingEngineBuilder.java:229)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The dependencies show up like this:</p>\n<pre><code>+- io.debezium:debezium-embedded:jar:2.4.0.Final:compile\n|  +- io.debezium:debezium-core:jar:2.4.0.Final:compile\n|  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.0:compile\n|  +- org.apache.kafka:connect-api:jar:3.4.0:compile\n|  |  \\- javax.ws.rs:javax.ws.rs-api:jar:2.1.1:runtime\n|  +- org.apache.kafka:connect-runtime:jar:3.4.0:compile\n|  |  +- org.apache.kafka:connect-transforms:jar:3.4.0:compile\n|  |  +- org.apache.kafka:kafka-tools:jar:3.4.0:runtime\n|  |  |  +- org.apache.kafka:kafka-server-common:jar:3.4.0:runtime\n</code></pre>\n"},{"tags":["java","apache-kafka","jaas","sasl"],"answers":[{"comments":[{"owner":{"account_id":11579015,"reputation":668,"user_id":8483496,"accept_rate":60,"display_name":"Tomasz"},"score":0,"creation_date":1503062121,"post_id":45757197,"comment_id":78472596,"body_markdown":"I put jaas configuration entry directly into .properties file and it worked. Now I can use these scripts without any errors. I don&#39;t know why it had problems with external file. Thank you!","body":"I put jaas configuration entry directly into .properties file and it worked. Now I can use these scripts without any errors. I don&#39;t know why it had problems with external file. Thank you!"},{"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"score":8,"creation_date":1503063473,"post_id":45757197,"comment_id":78473597,"body_markdown":"When using sasl.jaas.config, you can only set it to the JAAS configuration entry it doesn&#39;t work with the path to a file. On the contrary with the Java property, it only works with the path to a file.","body":"When using sasl.jaas.config, you can only set it to the JAAS configuration entry it doesn&#39;t work with the path to a file. On the contrary with the Java property, it only works with the path to a file."},{"owner":{"account_id":4829,"reputation":8897,"user_id":7453,"accept_rate":93,"display_name":"Patrick Szalapski"},"score":3,"creation_date":1663961100,"post_id":45757197,"comment_id":130370776,"body_markdown":"I have set sasl.jaas.config properly, but I still get `[main] ERROR io.confluent.admin.utils.cli.KafkaReadyCommand - Error while running kafka-ready.` and `Caused by: java.lang.IllegalArgumentException: Could not find a &#39;KafkaClient&#39; entry in the JAAS configuration. System property &#39;java.security.auth.login.config&#39; is not set`.  How do I make it stop looking for a .jaases file and instead just use what I&#39;ve specified?","body":"I have set sasl.jaas.config properly, but I still get <code>[main] ERROR io.confluent.admin.utils.cli.KafkaReadyCommand - Error while running kafka-ready.</code> and <code>Caused by: java.lang.IllegalArgumentException: Could not find a &#39;KafkaClient&#39; entry in the JAAS configuration. System property &#39;java.security.auth.login.config&#39; is not set</code>.  How do I make it stop looking for a .jaases file and instead just use what I&#39;ve specified?"}],"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"comment_count":3,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1503060830,"creation_date":1503060830,"answer_id":45757197,"question_id":45756543,"body_markdown":"There are 2 ways to provide the JAAS configuration to the Kafka clients.\r\n\r\n- Via the client property: `sasl.jaas.config`. In that case you set it to the actual JAAS configuration entry. For example, your configuration file becomes:\r\n\r\n        bootstrap.servers=(address)\r\n        zookeeper.connect=127.0.0.1:2181\r\n        zookeeper.connection.timeout.ms=6000\r\n        sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;(username)&quot; password=&quot;(password)&quot;;\r\n        security.protocol=SASL_PLAINTEXT\r\n        sasl.mechanism=PLAIN\r\n        group.id=(group)\r\n\r\n As you&#39;ve already figured out, you can use `--command-config` to pass a properties file to `kafka-consumer-groups.sh`.\r\n\r\n- Via the Java property: `java.security.auth.login.config`. In this case, you set it to the path of your JAAS file. Also if you set it in `KAFKA_OPTS`, `kafka-consumer-groups.sh` will pick it up automatically.\r\n\r\n        export KAFKA_OPTS=&quot;-Djava.security.auth.login.config=(path)/consumer_jaas.conf&quot;","title":"Kafka &quot;Login module not specified in JAAS config&quot;","body":"<p>There are 2 ways to provide the JAAS configuration to the Kafka clients.</p>\n\n<ul>\n<li><p>Via the client property: <code>sasl.jaas.config</code>. In that case you set it to the actual JAAS configuration entry. For example, your configuration file becomes:</p>\n\n<pre><code>bootstrap.servers=(address)\nzookeeper.connect=127.0.0.1:2181\nzookeeper.connection.timeout.ms=6000\nsasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"(username)\" password=\"(password)\";\nsecurity.protocol=SASL_PLAINTEXT\nsasl.mechanism=PLAIN\ngroup.id=(group)\n</code></pre>\n\n<p>As you've already figured out, you can use <code>--command-config</code> to pass a properties file to <code>kafka-consumer-groups.sh</code>.</p></li>\n<li><p>Via the Java property: <code>java.security.auth.login.config</code>. In this case, you set it to the path of your JAAS file. Also if you set it in <code>KAFKA_OPTS</code>, <code>kafka-consumer-groups.sh</code> will pick it up automatically.</p>\n\n<pre><code>export KAFKA_OPTS=\"-Djava.security.auth.login.config=(path)/consumer_jaas.conf\"\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":11579015,"reputation":668,"user_id":8483496,"accept_rate":60,"display_name":"Tomasz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98577,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":45757197,"answer_count":1,"score":30,"last_activity_date":1696960805,"creation_date":1503058920,"question_id":45756543,"body_markdown":"I have a problem communicating with Kafka secured with `sasl` using console scripts. Kafka is secured with `sasl`, listener is `SASL_PLAINTEXT` and mechanism is `PLAIN`.\r\n\r\nWhat I did:\r\nI tried listing some data using one of kafka scripts:\r\n\r\n    bin/kafka-consumer-groups.sh --bootstrap-server (address) --list\r\n\r\nHowever I get \r\n\r\n    WARN Bootstrap broker (address) disconnected (org.apache.kafka.clients.NetworkClient)\r\n\r\n and command fails, which is understandable because it&#39;s secured with sasl.\r\n \r\nSo I tried how to add client username/password to that command.\r\nFirst, I tried to run `kafka-console-consumer` script, I used `--command-config` to add necessary file. I quickly discovered that I can&#39;t add `jaas` file directly and I needed to use `.properties` file, so I did.\r\n\r\nMy properties file(keep in mind that brackets indicate &quot;censored&quot; data, I can&#39;t put all real data here):\r\n\r\n    bootstrap.servers=(address)\r\n    zookeeper.connect=127.0.0.1:2181\r\n    zookeeper.connection.timeout.ms=6000\r\n    sasl.jaas.config=(path)/consumer_jaas.conf\r\n    security.protocol=SASL_PLAINTEXT\r\n    sasl.mechanism=PLAIN\r\n    group.id=(group)\r\n\r\nMy jaas file:\r\n\r\n    KafkaClient {\r\n\t    org.apache.kafka.common.security.plain.PlainLoginModule required\r\n        username=(username)\r\n        password=(password);\r\n    };\r\n\r\nThis `jaas` file works in my standard java applications.\r\n\r\nHowever, when I&#39;m trying to run either `kafka-consumer-groups` script or `kafka-console-consumer`, I get this error:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: java.lang.IllegalArgumentException: Login module not specified in JAAS config\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:94)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:93)\r\n\tat org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:51)\r\n\tat org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:84)\r\n\tat kafka.admin.AdminClient$.create(AdminClient.scala:229)\r\n\tat kafka.admin.AdminClient$.create(AdminClient.scala:223)\r\n\tat kafka.admin.AdminClient$.create(AdminClient.scala:221)\r\n\tat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.createAdminClient(ConsumerGroupCommand.scala:454)\r\n\tat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.&lt;init&gt;(ConsumerGroupCommand.scala:389)\r\n\tat kafka.admin.ConsumerGroupCommand$.main(ConsumerGroupCommand.scala:65)\r\n\tat kafka.admin.ConsumerGroupCommand.main(ConsumerGroupCommand.scala)\r\n\tCaused by: java.lang.IllegalArgumentException: Login module not specified in JAAS config\r\n\tat org.apache.kafka.common.security.JaasConfig.&lt;init&gt;(JaasConfig.java:68)\r\n\tat org.apache.kafka.common.security.JaasUtils.jaasConfig(JaasUtils.java:59)\r\n\tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:85)\r\n\r\nThis `jaas` file is a direct copy of a file that I&#39;m using in java app that communicates with kafka and it works, however here, using console tools, it just doesn&#39;t work. I tried searching for a solution but I can&#39;t find anything useful. \r\n\r\nCan anyone help me with this?\r\n\r\n","title":"Kafka &quot;Login module not specified in JAAS config&quot;","body":"<p>I have a problem communicating with Kafka secured with <code>sasl</code> using console scripts. Kafka is secured with <code>sasl</code>, listener is <code>SASL_PLAINTEXT</code> and mechanism is <code>PLAIN</code>.</p>\n\n<p>What I did:\nI tried listing some data using one of kafka scripts:</p>\n\n<pre><code>bin/kafka-consumer-groups.sh --bootstrap-server (address) --list\n</code></pre>\n\n<p>However I get </p>\n\n<pre><code>WARN Bootstrap broker (address) disconnected (org.apache.kafka.clients.NetworkClient)\n</code></pre>\n\n<p>and command fails, which is understandable because it's secured with sasl.</p>\n\n<p>So I tried how to add client username/password to that command.\nFirst, I tried to run <code>kafka-console-consumer</code> script, I used <code>--command-config</code> to add necessary file. I quickly discovered that I can't add <code>jaas</code> file directly and I needed to use <code>.properties</code> file, so I did.</p>\n\n<p>My properties file(keep in mind that brackets indicate \"censored\" data, I can't put all real data here):</p>\n\n<pre><code>bootstrap.servers=(address)\nzookeeper.connect=127.0.0.1:2181\nzookeeper.connection.timeout.ms=6000\nsasl.jaas.config=(path)/consumer_jaas.conf\nsecurity.protocol=SASL_PLAINTEXT\nsasl.mechanism=PLAIN\ngroup.id=(group)\n</code></pre>\n\n<p>My jaas file:</p>\n\n<pre><code>KafkaClient {\n    org.apache.kafka.common.security.plain.PlainLoginModule required\n    username=(username)\n    password=(password);\n};\n</code></pre>\n\n<p>This <code>jaas</code> file works in my standard java applications.</p>\n\n<p>However, when I'm trying to run either <code>kafka-consumer-groups</code> script or <code>kafka-console-consumer</code>, I get this error:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.kafka.common.KafkaException: java.lang.IllegalArgumentException: Login module not specified in JAAS config\nat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:94)\nat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:93)\nat org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:51)\nat org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:84)\nat kafka.admin.AdminClient$.create(AdminClient.scala:229)\nat kafka.admin.AdminClient$.create(AdminClient.scala:223)\nat kafka.admin.AdminClient$.create(AdminClient.scala:221)\nat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.createAdminClient(ConsumerGroupCommand.scala:454)\nat kafka.admin.ConsumerGroupCommand$KafkaConsumerGroupService.&lt;init&gt;(ConsumerGroupCommand.scala:389)\nat kafka.admin.ConsumerGroupCommand$.main(ConsumerGroupCommand.scala:65)\nat kafka.admin.ConsumerGroupCommand.main(ConsumerGroupCommand.scala)\nCaused by: java.lang.IllegalArgumentException: Login module not specified in JAAS config\nat org.apache.kafka.common.security.JaasConfig.&lt;init&gt;(JaasConfig.java:68)\nat org.apache.kafka.common.security.JaasUtils.jaasConfig(JaasUtils.java:59)\nat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:85)\n</code></pre>\n\n<p>This <code>jaas</code> file is a direct copy of a file that I'm using in java app that communicates with kafka and it works, however here, using console tools, it just doesn't work. I tried searching for a solution but I can't find anything useful. </p>\n\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","spring","datetime","validation","entity"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696981277,"post_id":77267987,"comment_id":136221290,"body_markdown":"By the way, be aware that `LocalDateTime` is ambiguous, having no concept of time zone or offset-from-UTC. The JVM’s current default time zone is used by the `now` method to determine a date &amp; time-of-day. That time, and even that date, may vary depending on the current default time zone. For any given moment, the date varies around the globe by time zone, &quot;tomorrow&quot; in Tokyo while simultaneously &quot;yesterday&quot; in Toledo Ohio. I suspect your case really needs an `Instant` or `ZonedDateTime` instead of `LocalDateTime`.","body":"By the way, be aware that <code>LocalDateTime</code> is ambiguous, having no concept of time zone or offset-from-UTC. The JVM’s current default time zone is used by the <code>now</code> method to determine a date &amp; time-of-day. That time, and even that date, may vary depending on the current default time zone. For any given moment, the date varies around the globe by time zone, &quot;tomorrow&quot; in Tokyo while simultaneously &quot;yesterday&quot; in Toledo Ohio. I suspect your case really needs an <code>Instant</code> or <code>ZonedDateTime</code> instead of <code>LocalDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696960617,"creation_date":1696960617,"answer_id":77268013,"question_id":77267987,"body_markdown":"Separate out your Entity and Validator classes:\r\n\r\n```\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    private long id;\r\n\r\n    @Column(name = &quot;start&quot;, length = 20, nullable = true)\r\n    private LocalDateTime start;\r\n\r\n    public Message() {}\r\n}\r\n\r\npublic class MessageValidator implements Validator {\r\n    @Autowired private Clock clock;\r\n\r\n    @Override\r\n    public boolean supports(@NotNull Class&lt;?&gt; clazz) {\r\n        return Message.class.equals(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        Message m = (Message) target;\r\n\r\n        if(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\r\n        {\r\n            errors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow you can Autowire any dependency you want.","title":"Supplying Java Clock to Entity Class for Spring Validation","body":"<p>Separate out your Entity and Validator classes:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class Message {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private long id;\n\n    @Column(name = &quot;start&quot;, length = 20, nullable = true)\n    private LocalDateTime start;\n\n    public Message() {}\n}\n\npublic class MessageValidator implements Validator {\n    @Autowired private Clock clock;\n\n    @Override\n    public boolean supports(@NotNull Class&lt;?&gt; clazz) {\n        return Message.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        Message m = (Message) target;\n\n        if(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\n        {\n            errors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Now you can Autowire any dependency you want.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77268013,"answer_count":1,"score":1,"last_activity_date":1696960617,"creation_date":1696960279,"question_id":77267987,"body_markdown":"I&#39;m working on a spring-boot application. I have an Entity class called Message that I want to validate using Spring validation. One of the fields I need to validate is a LocalDateTime that must not be more than 6 days before the current date. My entity class looks like this:\r\n\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Message implements Validator {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    \tprivate long id;\r\n    \r\n    \t@Column(name = &quot;start&quot;, length = 20, nullable = true)\r\n    \tprivate LocalDateTime start;\r\n    \r\n        public Message() {}\r\n    \r\n        @Override\r\n    \tpublic boolean supports(@NotNull Class&lt;?&gt; clazz) {\r\n    \t\treturn Message.class.equals(clazz);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void validate(Object target, Errors errors) {\r\n    \t\tMessage m = (Message) target;\r\n    \r\n    \t\tif(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\r\n    \t\t{\r\n    \t\t\terrors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe problem I&#39;m running into is that I want to be able to supply a Clock to the validation so that I can use a fixed datetime for testing. I can&#39;t simply use a constructor; the Message could be coming from a database lookup. I would prefer to use dependency injection, but I&#39;m not sure how that would work with an Entity class. Is there some way to do this that I&#39;m just not seeing?","title":"Supplying Java Clock to Entity Class for Spring Validation","body":"<p>I'm working on a spring-boot application. I have an Entity class called Message that I want to validate using Spring validation. One of the fields I need to validate is a LocalDateTime that must not be more than 6 days before the current date. My entity class looks like this:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class Message implements Validator {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private long id;\n\n    @Column(name = &quot;start&quot;, length = 20, nullable = true)\n    private LocalDateTime start;\n\n    public Message() {}\n\n    @Override\n    public boolean supports(@NotNull Class&lt;?&gt; clazz) {\n        return Message.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        Message m = (Message) target;\n\n        if(m.getStart() != null &amp;&amp; m.getStart().isBefore(LocalDateTime.now(clock).minusDays(6)))\n        {\n            errors.rejectValue(&quot;start&quot;, &quot;beforeMinStart&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The problem I'm running into is that I want to be able to supply a Clock to the validation so that I can use a fixed datetime for testing. I can't simply use a constructor; the Message could be coming from a database lookup. I would prefer to use dependency injection, but I'm not sure how that would work with an Entity class. Is there some way to do this that I'm just not seeing?</p>\n"},{"tags":["java","mongodb","pojo","bson"],"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1667983655,"post_id":71777864,"comment_id":131295397,"body_markdown":"Where do you get the codecRegistry from in the test code?","body":"Where do you get the codecRegistry from in the test code?"},{"owner":{"account_id":24771171,"reputation":21,"user_id":18654866,"display_name":"Sebastian Wollner"},"score":0,"creation_date":1668153806,"post_id":71777864,"comment_id":131341149,"body_markdown":"The CodecRegistry is the one you create yourself when you define your pojo for your database. e.g.:\n CodecProvider pojoCodecProvider = PojoCodecProvider.builder()\n.automatic(true)\n.build();\n CodecRegistries.fromRegistries(\n                MongoClientSettings.getDefaultCodecRegistry(),\n                 CodecRegistries.fromProviders(pojoCodecProvider));","body":"The CodecRegistry is the one you create yourself when you define your pojo for your database. e.g.:  CodecProvider pojoCodecProvider = PojoCodecProvider.builder() .automatic(true) .build();  CodecRegistries.fromRegistries(                 MongoClientSettings.getDefaultCodecRegistry(),                  CodecRegistries.fromProviders(pojoCodecProvider));"}],"answers":[{"tags":[],"owner":{"account_id":9807707,"reputation":760,"user_id":7266903,"display_name":"Ponaguynik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696960060,"creation_date":1696960060,"answer_id":77267959,"question_id":71777864,"body_markdown":"If you use Spring Data MongoDB you can inject `MongoConverter` and use `convertToMongoType`.","title":"How to convert a POJO to an BSON using MongoDB Java Driver","body":"<p>If you use Spring Data MongoDB you can inject <code>MongoConverter</code> and use <code>convertToMongoType</code>.</p>\n"}],"owner":{"account_id":24771171,"reputation":21,"user_id":18654866,"display_name":"Sebastian Wollner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696960060,"creation_date":1649315901,"question_id":71777864,"body_markdown":"I&#39;ve searched for a way to to convert a POJO into a BSON document. Unfortunately, the only answer you can find on the web is that MongoDB does this implicitly through the `db.getCollection(&quot;some collection&quot;, Pojo.class)` function. But there are some use cases where you want to convert a POJO into a BSON document.\r\n\r\nOne could be that you want to update a nested document in your MongoDB root document.\r\nHowever, this isn&#39;t possible with the provided methods of the MongoDB Java Driver. The only way to do this is to write all the values manually in to a update expression.\r\n```\r\ndb.getCollection(&quot;some collection&quot;, Pojo.class)\r\n  .updateOne(Filter.eq(id), Updates.set(&quot;myNestedDoc&quot;, new Document(&quot;some&quot;, &quot;value&quot;));\r\n```\r\nBut it would be nice to do the same with a POJO. The advantages are obvious! Less duplicated code, better maintainable and less error prune.\r\n\r\nBut how can we accomplish this?\r\nAs described above, no answer can be found on the web. So I&#39;ve searched the MongoDB Java Driver source code and found a way!\r\nThe BsonDocumentWrapper is a utility class to wrap a object as a BsonDocument. It uses the CodecRegistry which does the conversion internally.  \r\n```\r\ndb.getCollection(&quot;some collection&quot;, Pojo.class)\r\n  .updateOne(Filter.eq(id), \r\n             Updates.set(&quot;myNestedDoc&quot;,\r\n                         BsonDocumentWrapper.asBsonDocument(lom, codecRegistry)));\r\n)\r\n```\r\nYou could also use the CodecRegistry object directly.   \r\n```\r\nPojo myPojo...\r\nBsonDocument unwrapped = new BsonDocument();\r\nBsonWriter writer = new BsonDocumentWriter(unwrapped);\r\nEncoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);\r\nencoder.encode(writer, myPojo, EncoderContext.builder().build());\r\nthis.unwrapped = unwrapped;\r\n```\r\nBut the utility class is more readable and maintainable.\r\n\r\nThis way you can safely use your existing POJOs to update your nested structures. \r\nKeep in mind that you will replace the whole sub object, not only the fields that have been changed! \r\n\r\nIf you for some reason need to convert a BSON into a POJO you can use this sniped:\r\n```\r\nBsonDocument bson...\r\nBsonReader reader = new BsonDocumentReader(bson);\r\nDecoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);        \r\nPojo myPojo = encoder.decode(reader, DecoderContext.builder().build());\r\n```\r\n\r\nI hope this is useful to someone ;)","title":"How to convert a POJO to an BSON using MongoDB Java Driver","body":"<p>I've searched for a way to to convert a POJO into a BSON document. Unfortunately, the only answer you can find on the web is that MongoDB does this implicitly through the <code>db.getCollection(&quot;some collection&quot;, Pojo.class)</code> function. But there are some use cases where you want to convert a POJO into a BSON document.</p>\n<p>One could be that you want to update a nested document in your MongoDB root document.\nHowever, this isn't possible with the provided methods of the MongoDB Java Driver. The only way to do this is to write all the values manually in to a update expression.</p>\n<pre><code>db.getCollection(&quot;some collection&quot;, Pojo.class)\n  .updateOne(Filter.eq(id), Updates.set(&quot;myNestedDoc&quot;, new Document(&quot;some&quot;, &quot;value&quot;));\n</code></pre>\n<p>But it would be nice to do the same with a POJO. The advantages are obvious! Less duplicated code, better maintainable and less error prune.</p>\n<p>But how can we accomplish this?\nAs described above, no answer can be found on the web. So I've searched the MongoDB Java Driver source code and found a way!\nThe BsonDocumentWrapper is a utility class to wrap a object as a BsonDocument. It uses the CodecRegistry which does the conversion internally.</p>\n<pre><code>db.getCollection(&quot;some collection&quot;, Pojo.class)\n  .updateOne(Filter.eq(id), \n             Updates.set(&quot;myNestedDoc&quot;,\n                         BsonDocumentWrapper.asBsonDocument(lom, codecRegistry)));\n)\n</code></pre>\n<p>You could also use the CodecRegistry object directly.</p>\n<pre><code>Pojo myPojo...\nBsonDocument unwrapped = new BsonDocument();\nBsonWriter writer = new BsonDocumentWriter(unwrapped);\nEncoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);\nencoder.encode(writer, myPojo, EncoderContext.builder().build());\nthis.unwrapped = unwrapped;\n</code></pre>\n<p>But the utility class is more readable and maintainable.</p>\n<p>This way you can safely use your existing POJOs to update your nested structures.\nKeep in mind that you will replace the whole sub object, not only the fields that have been changed!</p>\n<p>If you for some reason need to convert a BSON into a POJO you can use this sniped:</p>\n<pre><code>BsonDocument bson...\nBsonReader reader = new BsonDocumentReader(bson);\nDecoder&lt;Pojo&gt; encoder = codecRegistry.get(Pojo.class);        \nPojo myPojo = encoder.decode(reader, DecoderContext.builder().build());\n</code></pre>\n<p>I hope this is useful to someone ;)</p>\n"},{"tags":["java","spring","spring-restcontroller","objectmapper","mockmvc"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1696902993,"post_id":77262050,"comment_id":136209213,"body_markdown":"There are hundreds of reasons why this would not be working as you expect it to, but you&#39;re going to need to include a lot more code, at least the controller, service, repository, and model with all applied annotations","body":"There are hundreds of reasons why this would not be working as you expect it to, but you&#39;re going to need to include a lot more code, at least the controller, service, repository, and model with all applied annotations"},{"owner":{"account_id":28633818,"reputation":13,"user_id":21924304,"display_name":"reizorwins"},"score":0,"creation_date":1696959906,"post_id":77262050,"comment_id":136218439,"body_markdown":"@lane.maxwell I added a link to github in the description, due to my mistake the link didn&#39;t work before.","body":"@lane.maxwell I added a link to github in the description, due to my mistake the link didn&#39;t work before."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1697141247,"post_id":77262050,"comment_id":136246082,"body_markdown":"I ran your tests and got the desired behavior by simply adding @NoArgsConstructor to both of your DTOs (BookTitleDto and BookCopyDto). It looked like you extracted that behavior into your setup method, and your `testCreateBookCopy` is now just doing a GET.  But, by adding those annotations, all is working","body":"I ran your tests and got the desired behavior by simply adding @NoArgsConstructor to both of your DTOs (BookTitleDto and BookCopyDto). It looked like you extracted that behavior into your setup method, and your <code>testCreateBookCopy</code> is now just doing a GET.  But, by adding those annotations, all is working"}],"owner":{"account_id":28633818,"reputation":13,"user_id":21924304,"display_name":"reizorwins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696959804,"creation_date":1696889765,"question_id":77262050,"body_markdown":"Description:\r\n\r\nhttps://github.com/Patryk241194/REST-API-library/blob/main/src/test/java/com/kodilla/library/controller/BookCopyControllerTestSuite.java\r\n\r\nI&#39;m facing an issue with relationship mapping in Spring Boot controllers. I have a project structured as follows:\r\n\r\n```\r\nproject-root\r\n|-- main\r\n|   |-- java\r\n|   |   |-- com.kodilla.library\r\n|   |       |-- controller\r\n|   |       |-- domain\r\n|   |       |-- dto\r\n|   |       |-- error\r\n|   |       |-- mapper\r\n|   |       |-- repository\r\n|   |       |-- service\r\n|-- test\r\n|   |-- java\r\n|   |   |-- com.kodilla.library\r\n|   |       |-- controller\r\n|   |       |-- repository\r\n```\r\n\r\nIn this project, I&#39;m testing the controllers in the com.kodilla.library.controller package. My issue lies in the relationship mapping between entities, specifically, BookCopy and BookTitle. When I create objects using controllers, the relationship is not being established correctly, resulting in the TITLE_ID being null in bookCopy instances.\r\n\r\nHere&#39;s a simplified example of the problem:\r\n\r\nBookCopyControllerTestSuite.java:\r\n\r\n\r\n```\r\n@Test\r\nvoid testCreateBookCopy() throws Exception {\r\n    // Creating a BookTitle\r\n    mockMvc.perform(post(&quot;/api/booktitles&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(objectMapper.writeValueAsString(bookTitleDto)))\r\n            .andExpect(status().isOk());\r\n\r\n    // Creating a BookCopy\r\n    mockMvc.perform(post(&quot;/api/bookcopies&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(objectMapper.writeValueAsString(bookCopyDto)))\r\n            .andExpect(status().isOk());\r\n\r\n    // The problem: bookCopyDto.getTitleId() is null in the controller\r\n    // but should be populated based on the relationship with bookTitleDto.\r\n}\r\n```\r\n\r\nIn the above test, bookCopyDto.getTitleId() should be populated based on the relationship with bookTitleDto. However, it remains null. The thing is that the service layer correctly handles this relationship, but it breaks in the controllers.\r\n\r\n\r\nQuestion:\r\n\r\nHow can I ensure that the relationship mapping works correctly in the Spring Boot controllers?\r\nIs there a specific configuration or method that I should be using to set the TITLE_ID correctly when creating bookCopy objects via the controller?\r\nAdditional Note: I have also tested the repository layer, and the relationship mapping works correctly there. The issue appears to be specific to the controller implementations.\r\n\r\nAny help or guidance on this issue would be greatly appreciated. Thank you!","title":"Issue with Relationship Mapping in Spring Boot Controller","body":"<p>Description:</p>\n<p><a href=\"https://github.com/Patryk241194/REST-API-library/blob/main/src/test/java/com/kodilla/library/controller/BookCopyControllerTestSuite.java\" rel=\"nofollow noreferrer\">https://github.com/Patryk241194/REST-API-library/blob/main/src/test/java/com/kodilla/library/controller/BookCopyControllerTestSuite.java</a></p>\n<p>I'm facing an issue with relationship mapping in Spring Boot controllers. I have a project structured as follows:</p>\n<pre><code>project-root\n|-- main\n|   |-- java\n|   |   |-- com.kodilla.library\n|   |       |-- controller\n|   |       |-- domain\n|   |       |-- dto\n|   |       |-- error\n|   |       |-- mapper\n|   |       |-- repository\n|   |       |-- service\n|-- test\n|   |-- java\n|   |   |-- com.kodilla.library\n|   |       |-- controller\n|   |       |-- repository\n</code></pre>\n<p>In this project, I'm testing the controllers in the com.kodilla.library.controller package. My issue lies in the relationship mapping between entities, specifically, BookCopy and BookTitle. When I create objects using controllers, the relationship is not being established correctly, resulting in the TITLE_ID being null in bookCopy instances.</p>\n<p>Here's a simplified example of the problem:</p>\n<p>BookCopyControllerTestSuite.java:</p>\n<pre><code>@Test\nvoid testCreateBookCopy() throws Exception {\n    // Creating a BookTitle\n    mockMvc.perform(post(&quot;/api/booktitles&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(bookTitleDto)))\n            .andExpect(status().isOk());\n\n    // Creating a BookCopy\n    mockMvc.perform(post(&quot;/api/bookcopies&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(bookCopyDto)))\n            .andExpect(status().isOk());\n\n    // The problem: bookCopyDto.getTitleId() is null in the controller\n    // but should be populated based on the relationship with bookTitleDto.\n}\n</code></pre>\n<p>In the above test, bookCopyDto.getTitleId() should be populated based on the relationship with bookTitleDto. However, it remains null. The thing is that the service layer correctly handles this relationship, but it breaks in the controllers.</p>\n<p>Question:</p>\n<p>How can I ensure that the relationship mapping works correctly in the Spring Boot controllers?\nIs there a specific configuration or method that I should be using to set the TITLE_ID correctly when creating bookCopy objects via the controller?\nAdditional Note: I have also tested the repository layer, and the relationship mapping works correctly there. The issue appears to be specific to the controller implementations.</p>\n<p>Any help or guidance on this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":19887841,"reputation":13,"user_id":14570507,"display_name":"Bence Katona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696958655,"creation_date":1696958655,"question_id":77267828,"body_markdown":"Im working on an app which lets the user plan a menu (this is a school project), and I ran into the problem that when i plan the menu, and the duration is 7 or longer it connects the first and seventh, second and eight etc forms with eachother and if i fill in one of them it automatically fills the other. I tried many things, but nothing seems to be working.\r\n\r\nThis is the Activity, which handles the populating of the RecyclerView:\r\n\r\n```\r\npublic class NewMenuActivity extends AppCompatActivity {\r\n\r\n    String usrname;\r\n    String name;\r\n    Date startDate;\r\n    int duration;\r\n    private final List&lt;MenuClass&gt; formDataList = new ArrayList&lt;&gt;();\r\n    private MenuAdapter adapter;\r\n    private List&lt;Calendar&gt; formDates;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_menu);\r\n        Intent intent = getIntent();\r\n\r\n        usrname = intent.getStringExtra(&quot;username&quot;);\r\n        name = intent.getStringExtra(&quot;name&quot;);\r\n        startDate = (Date) getIntent().getSerializableExtra(&quot;startDate&quot;);\r\n        duration = intent.getIntExtra(&quot;duration&quot;, 0);\r\n\r\n        formDates = calculateDates();\r\n        setupFormDataList();\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        adapter = new MenuAdapter(formDataList, formDates);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        Button submitButton = findViewById(R.id.submitButton);\r\n\r\n\r\n        submitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Upload data to Firebase\r\n                uploadDataToFirebase();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void uploadDataToFirebase() {\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference reference = database.getReference(&quot;Menus&quot;).child(usrname);\r\n\r\n        for (int index = 0; index &lt; formDataList.size(); index++) {\r\n            MenuClass formData = formDataList.get(index);\r\n            Calendar formDate = formDates.get(index); // Get the corresponding date\r\n\r\n            // Format the date to a string (you can choose your desired date format)\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String dateString = dateFormat.format(formDate.getTime());\r\n\r\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Index: &quot; + index);\r\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Date: &quot; + dateString);\r\n            Log.d(&quot;Firebase_Upload&quot;, &quot;formData: &quot; + formData.toString());\r\n\r\n            // Create a child node with the date as the key\r\n            DatabaseReference childReference = reference.child(name).child(dateString);\r\n            childReference.setValue(formData).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        // Data uploaded successfully\r\n                        Log.d(&quot;Firebase_Upload&quot;, &quot;Data uploaded successfully&quot;);\r\n                    } else {\r\n                        // Handle the error\r\n                        Log.e(&quot;Firebase_Upload&quot;, &quot;Error: &quot; + task.getException().getMessage());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    private List&lt;Calendar&gt; calculateDates() {\r\n        Calendar initDate = Calendar.getInstance();\r\n        initDate.setTime(startDate);\r\n\r\n        List&lt;Calendar&gt; formDates = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; duration; i++) {\r\n            Calendar formDate = (Calendar) initDate.clone();\r\n            formDate.add(Calendar.DAY_OF_MONTH, i);\r\n            formDates.add(formDate);\r\n\r\n            // Log the calculated date for debugging\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            Log.d(&quot;CalculateDates&quot;, &quot;Date &quot; + i + &quot;: &quot; + dateFormat.format(formDate.getTime()));\r\n        }\r\n\r\n        return formDates;\r\n    }\r\n\r\n    private void setupFormDataList() {\r\n        formDataList.clear(); // Clear any existing forms\r\n        for (int i = 0; i &lt; duration; i++) {\r\n            MenuClass menu = new MenuClass();\r\n            formDataList.add(menu);\r\n            Log.d(&quot;FormDataList&quot;, &quot;Adding data: &quot; + menu.toString());\r\n        }\r\n        Log.d(&quot;NewMenuActivity&quot;, &quot;formDataList size: &quot; + formDataList.size());\r\n    }\r\n\r\n\r\n//    for (MenuClass mc : ){\r\n\r\n//    }\r\n}\r\n```\r\n\r\nAnd this is the code of the Adapter, which handles the editing of the said forms:\r\n\r\n```\r\npublic class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.ViewHolder&gt; {\r\n    private final List&lt;MenuClass&gt; data;\r\n    private List&lt;Calendar&gt; formDates;\r\n\r\n    public MenuAdapter(List&lt;MenuClass&gt; data, List&lt;Calendar&gt; formDates) {\r\n        this.data = data;\r\n        this.formDates = formDates;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.menu_layout, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        MenuClass formData = data.get(position);\r\n        Log.d(&quot;DataObjectHash&quot;, &quot;Data object hash code: &quot; + System.identityHashCode(formData));\r\n\r\n        // Attach TextWatchers to capture user input and update formData\r\n        holder.etName.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                formData.setName(s.toString());\r\n\r\n\r\n                Log.d(&quot;UserInput&quot;, &quot;User input: &quot; + s.toString());\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n\r\n        holder.etSpecial.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                formData.setSpecial(s.toString());\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n\r\n        holder.etIngredients.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                formData.setIngredients(s.toString());\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {}\r\n        });\r\n        Calendar dateCalendar = formDates.get(position);\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy.MM.dd&quot;);\r\n        String formattedDate = dateFormat.format(dateCalendar.getTime());\r\n        holder.dateTextView.setText(formattedDate);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        EditText etName, etSpecial, etIngredients;\r\n        TextView dateTextView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            etName = itemView.findViewById(R.id.etName);\r\n            etSpecial = itemView.findViewById(R.id.etSpecial);\r\n            etIngredients = itemView.findViewById(R.id.etIngredients);\r\n            dateTextView = itemView.findViewById(R.id.dateTextView);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried using ListView, with the same error, and tried logging stuff, or modifying the code, but nothing seems to help.\r\n\r\nThis picture shows little, but first i filled out 2023.11.11 but 11.18 got filled with the same data: \r\n[![the problem][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7uiyz.png","title":"Java Forms connecting with eacother in RecyclerView","body":"<p>Im working on an app which lets the user plan a menu (this is a school project), and I ran into the problem that when i plan the menu, and the duration is 7 or longer it connects the first and seventh, second and eight etc forms with eachother and if i fill in one of them it automatically fills the other. I tried many things, but nothing seems to be working.</p>\n<p>This is the Activity, which handles the populating of the RecyclerView:</p>\n<pre><code>public class NewMenuActivity extends AppCompatActivity {\n\n    String usrname;\n    String name;\n    Date startDate;\n    int duration;\n    private final List&lt;MenuClass&gt; formDataList = new ArrayList&lt;&gt;();\n    private MenuAdapter adapter;\n    private List&lt;Calendar&gt; formDates;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_menu);\n        Intent intent = getIntent();\n\n        usrname = intent.getStringExtra(&quot;username&quot;);\n        name = intent.getStringExtra(&quot;name&quot;);\n        startDate = (Date) getIntent().getSerializableExtra(&quot;startDate&quot;);\n        duration = intent.getIntExtra(&quot;duration&quot;, 0);\n\n        formDates = calculateDates();\n        setupFormDataList();\n\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        adapter = new MenuAdapter(formDataList, formDates);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(adapter);\n\n        Button submitButton = findViewById(R.id.submitButton);\n\n\n        submitButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Upload data to Firebase\n                uploadDataToFirebase();\n            }\n        });\n    }\n\n    private void uploadDataToFirebase() {\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference reference = database.getReference(&quot;Menus&quot;).child(usrname);\n\n        for (int index = 0; index &lt; formDataList.size(); index++) {\n            MenuClass formData = formDataList.get(index);\n            Calendar formDate = formDates.get(index); // Get the corresponding date\n\n            // Format the date to a string (you can choose your desired date format)\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            String dateString = dateFormat.format(formDate.getTime());\n\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Index: &quot; + index);\n            Log.d(&quot;Firebase_Upload&quot;, &quot;Date: &quot; + dateString);\n            Log.d(&quot;Firebase_Upload&quot;, &quot;formData: &quot; + formData.toString());\n\n            // Create a child node with the date as the key\n            DatabaseReference childReference = reference.child(name).child(dateString);\n            childReference.setValue(formData).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if (task.isSuccessful()) {\n                        // Data uploaded successfully\n                        Log.d(&quot;Firebase_Upload&quot;, &quot;Data uploaded successfully&quot;);\n                    } else {\n                        // Handle the error\n                        Log.e(&quot;Firebase_Upload&quot;, &quot;Error: &quot; + task.getException().getMessage());\n                    }\n                }\n            });\n        }\n    }\n\n\n    private List&lt;Calendar&gt; calculateDates() {\n        Calendar initDate = Calendar.getInstance();\n        initDate.setTime(startDate);\n\n        List&lt;Calendar&gt; formDates = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; duration; i++) {\n            Calendar formDate = (Calendar) initDate.clone();\n            formDate.add(Calendar.DAY_OF_MONTH, i);\n            formDates.add(formDate);\n\n            // Log the calculated date for debugging\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            Log.d(&quot;CalculateDates&quot;, &quot;Date &quot; + i + &quot;: &quot; + dateFormat.format(formDate.getTime()));\n        }\n\n        return formDates;\n    }\n\n    private void setupFormDataList() {\n        formDataList.clear(); // Clear any existing forms\n        for (int i = 0; i &lt; duration; i++) {\n            MenuClass menu = new MenuClass();\n            formDataList.add(menu);\n            Log.d(&quot;FormDataList&quot;, &quot;Adding data: &quot; + menu.toString());\n        }\n        Log.d(&quot;NewMenuActivity&quot;, &quot;formDataList size: &quot; + formDataList.size());\n    }\n\n\n//    for (MenuClass mc : ){\n\n//    }\n}\n</code></pre>\n<p>And this is the code of the Adapter, which handles the editing of the said forms:</p>\n<pre><code>public class MenuAdapter extends RecyclerView.Adapter&lt;MenuAdapter.ViewHolder&gt; {\n    private final List&lt;MenuClass&gt; data;\n    private List&lt;Calendar&gt; formDates;\n\n    public MenuAdapter(List&lt;MenuClass&gt; data, List&lt;Calendar&gt; formDates) {\n        this.data = data;\n        this.formDates = formDates;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.menu_layout, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        MenuClass formData = data.get(position);\n        Log.d(&quot;DataObjectHash&quot;, &quot;Data object hash code: &quot; + System.identityHashCode(formData));\n\n        // Attach TextWatchers to capture user input and update formData\n        holder.etName.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                formData.setName(s.toString());\n\n\n                Log.d(&quot;UserInput&quot;, &quot;User input: &quot; + s.toString());\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {}\n        });\n\n        holder.etSpecial.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                formData.setSpecial(s.toString());\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {}\n        });\n\n        holder.etIngredients.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                formData.setIngredients(s.toString());\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {}\n        });\n        Calendar dateCalendar = formDates.get(position);\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy.MM.dd&quot;);\n        String formattedDate = dateFormat.format(dateCalendar.getTime());\n        holder.dateTextView.setText(formattedDate);\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        EditText etName, etSpecial, etIngredients;\n        TextView dateTextView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            etName = itemView.findViewById(R.id.etName);\n            etSpecial = itemView.findViewById(R.id.etSpecial);\n            etIngredients = itemView.findViewById(R.id.etIngredients);\n            dateTextView = itemView.findViewById(R.id.dateTextView);\n        }\n    }\n}\n\n</code></pre>\n<p>I tried using ListView, with the same error, and tried logging stuff, or modifying the code, but nothing seems to help.</p>\n<p>This picture shows little, but first i filled out 2023.11.11 but 11.18 got filled with the same data:\n<a href=\"https://i.stack.imgur.com/7uiyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7uiyz.png\" alt=\"the problem\" /></a></p>\n"},{"tags":["java","gradle","aspectj","freefair-aspectj"],"answers":[{"comments":[{"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"score":0,"creation_date":1696877619,"post_id":77252559,"comment_id":136206663,"body_markdown":"I&#39;m going to test this out, but it appears I had at least two issues based on your answer and reading more documentation from freefair: 1) I didn&#39;t realize the default src directory was `src/main/aspectj` and 2) I&#39;m using Lombok, so it appears I should be using the post-compile weaving. I&#39;ll give this a shot and report back--thanks!","body":"I&#39;m going to test this out, but it appears I had at least two issues based on your answer and reading more documentation from freefair: 1) I didn&#39;t realize the default src directory was <code>src&#47;main&#47;aspectj</code> and 2) I&#39;m using Lombok, so it appears I should be using the post-compile weaving. I&#39;ll give this a shot and report back--thanks!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1696901402,"post_id":77252559,"comment_id":136209124,"body_markdown":"**Update:** Freefair 8.4 now defaults to `src/main/java`, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.","body":"<b>Update:</b> Freefair 8.4 now defaults to <code>src&#47;main&#47;java</code>, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven."},{"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"score":0,"creation_date":1696958247,"post_id":77252559,"comment_id":136218168,"body_markdown":"Ok, so I have a working Java application (that even includes Lombok): https://github.com/MuffinTheMan/gradle-aspectj","body":"Ok, so I have a working Java application (that even includes Lombok): <a href=\"https://github.com/MuffinTheMan/gradle-aspectj\" rel=\"nofollow noreferrer\">github.com/MuffinTheMan/gradle-aspectj</a>"},{"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"score":0,"creation_date":1696958302,"post_id":77252559,"comment_id":136218176,"body_markdown":"Unfortunately, I tried doing the same configuration in my other application, and it doesn&#39;t work--I must have some other conflict (our other application is quite complex, and I can&#39;t share the build.gradle here).","body":"Unfortunately, I tried doing the same configuration in my other application, and it doesn&#39;t work--I must have some other conflict (our other application is quite complex, and I can&#39;t share the build.gradle here)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1696987070,"post_id":77252559,"comment_id":136221743,"body_markdown":"Good to know, that it works for you in the simple project. If you can strip down the complexproject into an [MCVE](https://stackoverflow.com/help/mcve) by removing step by step as much as possible from the sources and build config, until only a minimal skeleton reproducing your problem remains, you could then anonymise it and share it on GitHub. This is called an [MCVE](https://stackoverflow.com/help/mcve) and not only the best option to get help, but you might also learn something about your problem - maybe even enough to solve it by yourself.","body":"Good to know, that it works for you in the simple project. If you can strip down the complexproject into an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> by removing step by step as much as possible from the sources and build config, until only a minimal skeleton reproducing your problem remains, you could then anonymise it and share it on GitHub. This is called an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and not only the best option to get help, but you might also learn something about your problem - maybe even enough to solve it by yourself."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696901467,"creation_date":1696746704,"answer_id":77252559,"question_id":77174865,"body_markdown":"For me, this works. Did you really forget the `java` plugin, or did you post an incomplete Gradle build file? What I cannot know is if your annotation is in the exact same package as the aspect, otherwise you would need a fully qualified class name in the `@annotation()` pointcut.\r\n\r\n```java\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\r\n}\r\n\r\nrepositories {\r\n  mavenLocal()\r\n  mavenCentral()\r\n}\r\n\r\ndependencies {\r\n  implementation &#39;org.aspectj:aspectjrt:1.9.20.1&#39;\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface LogExecutionTime {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\npublic class TestClass {\r\n  @LogExecutionTime\r\n  public String hello() {\r\n    return &quot;hello&quot;;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new TestClass().hello();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class LogExecutionTimeAspect {\r\n  @Around(&quot;@annotation(LogExecutionTime)&quot;)\r\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n    long start = System.currentTimeMillis();\r\n    Object proceed = pjp.proceed();\r\n    long executionTime = System.currentTimeMillis() - start;\r\n    System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\r\n    return proceed;\r\n  }\r\n}\r\n```\r\n\r\nRunning from my IDE IntelliJ IDEA, the console log looks as follows:\r\n\r\n```none\r\n13:24:24: Executing &#39;:TestClass.main()&#39;...\r\n\r\n&gt; Task :compileJava NO-SOURCE\r\n&gt; Task :compileAspectj\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes\r\n\r\n&gt; Task :TestClass.main()\r\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 0ms\r\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 2ms\r\n(...)\r\n```\r\n\r\nOf course, you see two log messages, because your pointcut captures both `call()` and `execution()` joinpoints. You can fix that as follows:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q77174865;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class LogExecutionTimeAspect {\r\n  @Around(&quot;@annotation(LogExecutionTime) &amp;&amp; execution(* *(..))&quot;)\r\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n    long start = System.currentTimeMillis();\r\n    try {\r\n      return pjp.proceed();\r\n    } finally {\r\n      System.out.println(pjp.getSignature() + &quot; executed in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nOne thing you maybe forgot is that for Freefair, the default source directory is `src/man/aspectj`. For me, it looks like this:\r\n\r\n[![IDE screenshot showing directory tree][1]][1]\r\n\r\nThe default will probably change to `src/main/java` in version 8.4, see [GitHub issue #881](https://github.com/freefair/gradle-plugins/issues/881).\r\n\r\n---\r\n\r\n**Update 2023-10-10:** Freefair 8.4 has been published and now defaults to `src/main/java`, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.\r\n\r\n  [1]: https://i.stack.imgur.com/hfA1q.png","title":"How can I setup AspectJ for a non-Spring Java 11 app built with Gradle?","body":"<p>For me, this works. Did you really forget the <code>java</code> plugin, or did you post an incomplete Gradle build file? What I cannot know is if your annotation is in the exact same package as the aspect, otherwise you would need a fully qualified class name in the <code>@annotation()</code> pointcut.</p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n  id 'java'\n  id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\n}\n\nrepositories {\n  mavenLocal()\n  mavenCentral()\n}\n\ndependencies {\n  implementation 'org.aspectj:aspectjrt:1.9.20.1'\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface LogExecutionTime {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\npublic class TestClass {\n  @LogExecutionTime\n  public String hello() {\n    return &quot;hello&quot;;\n  }\n\n  public static void main(String[] args) {\n    new TestClass().hello();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class LogExecutionTimeAspect {\n  @Around(&quot;@annotation(LogExecutionTime)&quot;)\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\n    long start = System.currentTimeMillis();\n    Object proceed = pjp.proceed();\n    long executionTime = System.currentTimeMillis() - start;\n    System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\n    return proceed;\n  }\n}\n</code></pre>\n<p>Running from my IDE IntelliJ IDEA, the console log looks as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>13:24:24: Executing ':TestClass.main()'...\n\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :compileAspectj\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes\n\n&gt; Task :TestClass.main()\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 0ms\nString de.scrum_master.stackoverflow.q77174865.TestClass.hello() executed in 2ms\n(...)\n</code></pre>\n<p>Of course, you see two log messages, because your pointcut captures both <code>call()</code> and <code>execution()</code> joinpoints. You can fix that as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q77174865;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class LogExecutionTimeAspect {\n  @Around(&quot;@annotation(LogExecutionTime) &amp;&amp; execution(* *(..))&quot;)\n  public Object around(ProceedingJoinPoint pjp) throws Throwable {\n    long start = System.currentTimeMillis();\n    try {\n      return pjp.proceed();\n    } finally {\n      System.out.println(pjp.getSignature() + &quot; executed in &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;);\n    }\n  }\n}\n</code></pre>\n<p>One thing you maybe forgot is that for Freefair, the default source directory is <code>src/man/aspectj</code>. For me, it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/hfA1q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hfA1q.png\" alt=\"IDE screenshot showing directory tree\" /></a></p>\n<p>The default will probably change to <code>src/main/java</code> in version 8.4, see <a href=\"https://github.com/freefair/gradle-plugins/issues/881\" rel=\"nofollow noreferrer\">GitHub issue #881</a>.</p>\n<hr />\n<p><strong>Update 2023-10-10:</strong> Freefair 8.4 has been published and now defaults to <code>src/main/java</code>, i.e. it works as expected with a standard directory layout, just like with AspectJ Maven.</p>\n"}],"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77252559,"answer_count":1,"score":1,"last_activity_date":1696958586,"creation_date":1695665256,"question_id":77174865,"body_markdown":"For the life of me, I can&#39;t figure out how to get some AspectJ advice to run.\r\n\r\n## Current Setup\r\n* Java 11\r\n* Gradle 8.3\r\n* IntelliJ IDEA Ultimate\r\n* **NOT** using Spring\r\n\r\n## Attempted Config (one attempt among many)\r\n`build.gradle`:\r\n\r\n    plugins {\r\n        id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\r\n    }\r\n    dependencies {\r\n        // https://mvnrepository.com/artifact/org.aspectj/aspectjweaver\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjweaver&#39;, version: &#39;1.9.20.1&#39;\r\n        // https://mvnrepository.com/artifact/org.aspectj/aspectjrt\r\n        implementation group: &#39;org.aspectj&#39;, name: &#39;aspectjrt&#39;, version: &#39;1.9.20.1&#39;\r\n    }\r\n\r\n## Sample Aspect\r\n`LogExecutionTime.java`\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface LogExecutionTime {}\r\n\r\n`LogExecutionTimeAspect.java`\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n\r\n    @Aspect\r\n    public class LogExecutionTimeAspect {\r\n        @Around(&quot;@annotation(LogExecutionTime)&quot;)\r\n        public Object around(ProceedingJoinPoint pjp) throws Throwable {\r\n            long start = System.currentTimeMillis();\r\n            Object proceed = pjp.proceed();\r\n            long executionTime = System.currentTimeMillis() - start;\r\n            System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\r\n            return proceed;\r\n        }\r\n    }\r\n\r\n`TestClass.java`\r\n\r\n    public class TestClass {\r\n        @LogExecutionTime\r\n        public String hello() {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\nI&#39;ve called `new TestClass().hello()` in both a unit test (JUnit 5) and when running our application locally (Appengine Web App). Everything compiles and runs, but the execution time isn&#39;t getting printed out. I&#39;ve tried debugging and putting a break point inside the `LogExecutionTimeAspect::around` method, but it was never reached.\r\n\r\nI feel like it shouldn&#39;t be this complicated, but I can&#39;t seem to figure it out.\r\n\r\n## Update\r\n\r\nI have a basic working project here for anyone interested: https://github.com/MuffinTheMan/gradle-aspectj","title":"How can I setup AspectJ for a non-Spring Java 11 app built with Gradle?","body":"<p>For the life of me, I can't figure out how to get some AspectJ advice to run.</p>\n<h2>Current Setup</h2>\n<ul>\n<li>Java 11</li>\n<li>Gradle 8.3</li>\n<li>IntelliJ IDEA Ultimate</li>\n<li><strong>NOT</strong> using Spring</li>\n</ul>\n<h2>Attempted Config (one attempt among many)</h2>\n<p><code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id &quot;io.freefair.aspectj&quot; version &quot;8.3&quot;\n}\ndependencies {\n    // https://mvnrepository.com/artifact/org.aspectj/aspectjweaver\n    implementation group: 'org.aspectj', name: 'aspectjweaver', version: '1.9.20.1'\n    // https://mvnrepository.com/artifact/org.aspectj/aspectjrt\n    implementation group: 'org.aspectj', name: 'aspectjrt', version: '1.9.20.1'\n}\n</code></pre>\n<h2>Sample Aspect</h2>\n<p><code>LogExecutionTime.java</code></p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface LogExecutionTime {}\n</code></pre>\n<p><code>LogExecutionTimeAspect.java</code></p>\n<pre><code>import org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class LogExecutionTimeAspect {\n    @Around(&quot;@annotation(LogExecutionTime)&quot;)\n    public Object around(ProceedingJoinPoint pjp) throws Throwable {\n        long start = System.currentTimeMillis();\n        Object proceed = pjp.proceed();\n        long executionTime = System.currentTimeMillis() - start;\n        System.out.println(pjp.getSignature() + &quot; executed in &quot; + executionTime + &quot;ms&quot;);\n        return proceed;\n    }\n}\n</code></pre>\n<p><code>TestClass.java</code></p>\n<pre><code>public class TestClass {\n    @LogExecutionTime\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>I've called <code>new TestClass().hello()</code> in both a unit test (JUnit 5) and when running our application locally (Appengine Web App). Everything compiles and runs, but the execution time isn't getting printed out. I've tried debugging and putting a break point inside the <code>LogExecutionTimeAspect::around</code> method, but it was never reached.</p>\n<p>I feel like it shouldn't be this complicated, but I can't seem to figure it out.</p>\n<h2>Update</h2>\n<p>I have a basic working project here for anyone interested: <a href=\"https://github.com/MuffinTheMan/gradle-aspectj\" rel=\"nofollow noreferrer\">https://github.com/MuffinTheMan/gradle-aspectj</a></p>\n"},{"tags":["java","instrumentation","javassist","prometheus-java"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697191569,"post_id":77267801,"comment_id":136251873,"body_markdown":"Since the method receivers are reads of named instance fields, this information is definitely contained in the bytecode though not necessarily available in Javassist. I don’t recommend Javassist for non-trivial tasks. It’s better to learn how bytecode really works and use one of the other bytecode manipulation libraries, e.g. [ASM](https://asm.ow2.io/). Might look harder at the first glance but you will soon realize how the complex things become easier than shoveling source code fragments around or when and why things are not possible,","body":"Since the method receivers are reads of named instance fields, this information is definitely contained in the bytecode though not necessarily available in Javassist. I don’t recommend Javassist for non-trivial tasks. It’s better to learn how bytecode really works and use one of the other bytecode manipulation libraries, e.g. <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a>. Might look harder at the first glance but you will soon realize how the complex things become easier than shoveling source code fragments around or when and why things are not possible,"}],"owner":{"account_id":19394226,"reputation":13,"user_id":14182248,"display_name":"autopwn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696958304,"creation_date":1696958304,"question_id":77267801,"body_markdown":"Given the following example class, I want to count the calls to doThis() and doThat() per Instance (sc1, sc2) using Javassist (ExprEditor) and the Prometheus Java client library, but I find no way to distinguish the calls within Javassist.\r\n\r\n```\r\npublic class InstrumentedClass {\r\n\r\n    private SomeClass sc1 = new SomeClass();\r\n    private SomeClass sc2 = new SomeClass();\r\n\r\n    public void doSomething() {\r\n        sc1.doThis();\r\n        sc2.doOther();\r\n        sc2.doThis();\r\n        sc1.doOther();\r\n        // number of occurrences and order of this calls is object to change\r\n        // so I cannot rely on line numbers (e.g. insertAt())\r\n    }\r\n}\r\n```\r\n\r\nMy general approach is to replace each method call with a block statement containing the original expression followed by the incrementation of a Prometheus counter object. Unfortunately, the code is kind of hard to read given the neccessary type cast and fully-qualified class name.\r\n\r\n```\r\ncc.getDeclaredMethod(&quot;doSomething&quot;).instrument(new ExprEditor() {\r\n    public void edit(MethodCall m) throws CannotCompileException {\r\n        if (m.getClassName().equals(&quot;SomeClass&quot;)) {\r\n            if (m.getMethodName().equals(&quot;doThis&quot;)) {\r\n\r\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\r\n                    &quot;counterDoThis.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\r\n\r\n            } else if (m.getMethodName().equals(&quot;doOther&quot;)) {\r\n\r\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\r\n                    &quot;counterdoOther.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\r\n\r\n            }\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nNow the challenge is to replace the label &quot;*MissingPiece*&quot; with something that allows me to distinguish between the calls on sc1 or sc2. The type is not an option as it is the same. I could use object ids for example, but those are to volatile and not human readable to be used as labels accross application restarts.\r\n\r\nMy fear is that this type of information is not available anymore in the bytecode and my plan is doomed to fail.\r\n\r\nBut maybe someone has a smart idea :)\r\n","title":"javassist ExprEditor - how to distinguish multiple method calls on same type","body":"<p>Given the following example class, I want to count the calls to doThis() and doThat() per Instance (sc1, sc2) using Javassist (ExprEditor) and the Prometheus Java client library, but I find no way to distinguish the calls within Javassist.</p>\n<pre><code>public class InstrumentedClass {\n\n    private SomeClass sc1 = new SomeClass();\n    private SomeClass sc2 = new SomeClass();\n\n    public void doSomething() {\n        sc1.doThis();\n        sc2.doOther();\n        sc2.doThis();\n        sc1.doOther();\n        // number of occurrences and order of this calls is object to change\n        // so I cannot rely on line numbers (e.g. insertAt())\n    }\n}\n</code></pre>\n<p>My general approach is to replace each method call with a block statement containing the original expression followed by the incrementation of a Prometheus counter object. Unfortunately, the code is kind of hard to read given the neccessary type cast and fully-qualified class name.</p>\n<pre><code>cc.getDeclaredMethod(&quot;doSomething&quot;).instrument(new ExprEditor() {\n    public void edit(MethodCall m) throws CannotCompileException {\n        if (m.getClassName().equals(&quot;SomeClass&quot;)) {\n            if (m.getMethodName().equals(&quot;doThis&quot;)) {\n\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\n                    &quot;counterDoThis.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\n\n            } else if (m.getMethodName().equals(&quot;doOther&quot;)) {\n\n                m.replace(&quot;{ $_ = $proceed($$); ((io.prometheus.metrics.core.datapoints.CounterDataPoint) &quot; +\n                    &quot;counterdoOther.labelValues(new java.lang.String[] {&quot;MissingPiece&quot;})).inc(1.0); }&quot;);\n\n            }\n        }\n    }\n});\n</code></pre>\n<p>Now the challenge is to replace the label &quot;<em>MissingPiece</em>&quot; with something that allows me to distinguish between the calls on sc1 or sc2. The type is not an option as it is the same. I could use object ids for example, but those are to volatile and not human readable to be used as labels accross application restarts.</p>\n<p>My fear is that this type of information is not available anymore in the bytecode and my plan is doomed to fail.</p>\n<p>But maybe someone has a smart idea :)</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696951347,"post_id":77266723,"comment_id":136216764,"body_markdown":"*&quot;any other option accessing the data using some sort of index.&quot;* If the keys are just integers, in order, why not simply use a list? Or `ObservableIntegerArray`?","body":"<i>&quot;any other option accessing the data using some sort of index.&quot;</i> If the keys are just integers, in order, why not simply use a list? Or <code>ObservableIntegerArray</code>?"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696951623,"post_id":77266723,"comment_id":136216823,"body_markdown":"Maybe that is the solution. I just don&#39;t know how. This is new terrain for me :/","body":"Maybe that is the solution. I just don&#39;t know how. This is new terrain for me :/"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696952127,"post_id":77266723,"comment_id":136216921,"body_markdown":"It&#39;s not really clear what the question is. As for the cast, why not just make the return type of the method `MapProperty&lt;Integer, Integer&gt;` (or the equivalent for whatever data structure you decide to use), and omit the cast? Why do you need to return a specific implementation type?","body":"It&#39;s not really clear what the question is. As for the cast, why not just make the return type of the method <code>MapProperty&lt;Integer, Integer&gt;</code> (or the equivalent for whatever data structure you decide to use), and omit the cast? Why do you need to return a specific implementation type?"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696952668,"post_id":77266723,"comment_id":136217030,"body_markdown":"Changing the return type wont work for getDmxDataArrayProperty. Sorry. I know this is not as clear as it could be, I find I hard to fine any tutorials/howto concerning this part of JavaFX. Maybe it is even more unclear, but maybe I should ask &quot;how can I turn my dmxDataArray array into a property?","body":"Changing the return type wont work for getDmxDataArrayProperty. Sorry. I know this is not as clear as it could be, I find I hard to fine any tutorials/howto concerning this part of JavaFX. Maybe it is even more unclear, but maybe I should ask &quot;how can I turn my dmxDataArray array into a property?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696955186,"post_id":77266723,"comment_id":136217582,"body_markdown":"I think instead of “into a property” you just mean “into something observable” no? You just want to respond to changes, so all you need is observability. `ObservableList`, `ObservableMap`, and `ObservableSet` are the direct observable counterparts of the standard Java interfaces `List`, `Map`, and `Set`, respectively","body":"I think instead of “into a property” you just mean “into something observable” no? You just want to respond to changes, so all you need is observability. <code>ObservableList</code>, <code>ObservableMap</code>, and <code>ObservableSet</code> are the direct observable counterparts of the standard Java interfaces <code>List</code>, <code>Map</code>, and <code>Set</code>, respectively"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696956105,"post_id":77266723,"comment_id":136217760,"body_markdown":"Yes, that is exactly what I mean. Sorry for the confusing.","body":"Yes, that is exactly what I mean. Sorry for the confusing."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1696961045,"post_id":77266723,"comment_id":136218608,"body_markdown":"This [example](https://stackoverflow.com/a/69781121/230513) displays an existing `Map` in a `TableView`.","body":"This <a href=\"https://stackoverflow.com/a/69781121/230513\">example</a> displays an existing <code>Map</code> in a <code>TableView</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696975587,"post_id":77266723,"comment_id":136220771,"body_markdown":"&quot;_Changing the return type wont work for getDmxDataArrayProperty_&quot; – Can you explain this? [`SimpleMapProperty`](https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/SimpleMapProperty.html) does not expose any specific public API that [`MapProperty`](https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/MapProperty.html) does not. The former is simply a concrete implementation of the latter. But if you must return `SimpleMapProperty`, then to avoid the cast you just have to change the field type from `MapProperty` to `SimpleMapProperty`.","body":"&quot;<i>Changing the return type wont work for getDmxDataArrayProperty</i>&quot; – Can you explain this? <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/SimpleMapProperty.html\" rel=\"nofollow noreferrer\"><code>SimpleMapProperty</code></a> does not expose any specific public API that <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/beans/property/MapProperty.html\" rel=\"nofollow noreferrer\"><code>MapProperty</code></a> does not. The former is simply a concrete implementation of the latter. But if you must return <code>SimpleMapProperty</code>, then to avoid the cast you just have to change the field type from <code>MapProperty</code> to <code>SimpleMapProperty</code>."}],"answers":[{"comments":[{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696960728,"post_id":77267223,"comment_id":136218558,"body_markdown":"Thanks. I&#39;m still a bit unsure about this, think you got it right, unsure about how to implement it. Doing this:  private final byte[] dmxDataArray = new byte[512]; &amp;     Model dmxDataArrayObservable = new Model(dmxDataArray); and are adding data like this:  dmxDataArrayObservable.setByte(channel, (byte) value); but are getting this: java.lang.NullPointerException: Cannot read field &quot;perm&quot; because &quot;&lt;parameter1&gt;&quot; is null &amp; java.lang.IndexOutOfBoundsException: Index: 1, Size: 0","body":"Thanks. I&#39;m still a bit unsure about this, think you got it right, unsure about how to implement it. Doing this:  private final byte[] dmxDataArray = new byte[512]; &amp;     Model dmxDataArrayObservable = new Model(dmxDataArray); and are adding data like this:  dmxDataArrayObservable.setByte(channel, (byte) value); but are getting this: java.lang.NullPointerException: Cannot read field &quot;perm&quot; because &quot;&lt;parameter1&gt;&quot; is null &amp; java.lang.IndexOutOfBoundsException: Index: 1, Size: 0"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696961925,"post_id":77267223,"comment_id":136218717,"body_markdown":"@droid Those are pretty standard types of error to debug, but fairly obviously I don&#39;t have enough information to do so here. Not sure exactly what `perm` and `&lt;parameter1&gt;` refer to, but they should be pretty obvious from the context of the stack trace. Similarly for the index out of bounds exception.","body":"@droid Those are pretty standard types of error to debug, but fairly obviously I don&#39;t have enough information to do so here. Not sure exactly what <code>perm</code> and <code>&lt;parameter1&gt;</code> refer to, but they should be pretty obvious from the context of the stack trace. Similarly for the index out of bounds exception."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696962251,"post_id":77267223,"comment_id":136218771,"body_markdown":"Ok. So my approach Model dmxDataArrayObservable = new Model(dmxDataArray) is correct?","body":"Ok. So my approach Model dmxDataArrayObservable = new Model(dmxDataArray) is correct?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696962398,"post_id":77267223,"comment_id":136218794,"body_markdown":"@droid Yes, basically. I had intended the `Model` class to be a general model in the MVC sense, having other properties etc for the application, so the variable name doesn&#39;t make much sense in that context. But obviously, since the constructor takes a `byte[]` parameter, that&#39;s what you need to pass in.","body":"@droid Yes, basically. I had intended the <code>Model</code> class to be a general model in the MVC sense, having other properties etc for the application, so the variable name doesn&#39;t make much sense in that context. But obviously, since the constructor takes a <code>byte[]</code> parameter, that&#39;s what you need to pass in."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696962653,"post_id":77267223,"comment_id":136218835,"body_markdown":"Thanks. I am very new to Java/JavaFX and I really want to understand, I&#39;m not here just to get it working, I want to understand it. I find it fairly complex making a entire new class, I thought something like that (ObservableList) was built into JavaFX?","body":"Thanks. I am very new to Java/JavaFX and I really want to understand, I&#39;m not here just to get it working, I want to understand it. I find it fairly complex making a entire new class, I thought something like that (ObservableList) was built into JavaFX?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696962803,"post_id":77267223,"comment_id":136218854,"body_markdown":"@droid `ObservableList` is built in to JavaFX. I am using the built-in class (actually an interface) in the code I posted. Defining new classes is a very frequent task in Java programming, though. There is nothing complex or unusual about it. If you are new to Java, though, you might consider just learning the basics before you dive into a moderately complex framework/library such as JavaFX.","body":"@droid <code>ObservableList</code> is built in to JavaFX. I am using the built-in class (actually an interface) in the code I posted. Defining new classes is a very frequent task in Java programming, though. There is nothing complex or unusual about it. If you are new to Java, though, you might consider just learning the basics before you dive into a moderately complex framework/library such as JavaFX."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1696963427,"post_id":77267223,"comment_id":136218954,"body_markdown":"Ok that was maybe not the correct word choice. I dont find Java or JavaFX too complex in that sense. My App uses tons of self-defined classes, I very much like this aspect. I just thought that there was a more simply way when considering how simple it is to use for example the IntegerProperty (heavily using that already). I will dive more into your example and maybe be back. Thanks.","body":"Ok that was maybe not the correct word choice. I dont find Java or JavaFX too complex in that sense. My App uses tons of self-defined classes, I very much like this aspect. I just thought that there was a more simply way when considering how simple it is to use for example the IntegerProperty (heavily using that already). I will dive more into your example and maybe be back. Thanks."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696965311,"post_id":77267223,"comment_id":136219271,"body_markdown":"@droid I think you were misunderstanding the context for the code example. I just called it `Model` to indicate you would put the `ObservableList` in the same place as the other data (e.g. the `IntegerProperty`, etc), i.e. in the data model for your application. Using the `ObservableList` is no more difficult than using an `IntegerProperty` in principle (though implementing change listeners is perhaps slightly more tricky).","body":"@droid I think you were misunderstanding the context for the code example. I just called it <code>Model</code> to indicate you would put the <code>ObservableList</code> in the same place as the other data (e.g. the <code>IntegerProperty</code>, etc), i.e. in the data model for your application. Using the <code>ObservableList</code> is no more difficult than using an <code>IntegerProperty</code> in principle (though implementing change listeners is perhaps slightly more tricky)."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":1,"creation_date":1696966327,"post_id":77267223,"comment_id":136219423,"body_markdown":"Thanks. I think it is working now. Dont know why I got the errors before :/ And yes, there might be a &quot;small&quot; language barrier here, I&#39;m not using English that often. And you are right, the change listeners looks bit more complex than normal addListener :-)","body":"Thanks. I think it is working now. Dont know why I got the errors before :/ And yes, there might be a &quot;small&quot; language barrier here, I&#39;m not using English that often. And you are right, the change listeners looks bit more complex than normal addListener :-)"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1697018643,"post_id":77267223,"comment_id":136225726,"body_markdown":"I have accepted your answer as that is a very fine solution to what I was looking for, thank your for that. I have found out that the errors I was referring to was properly to do with some performance-issues. In my app I need to update the list, very, very often and that have been no problem with the array I have used so far. If I lower the update rate in my app then there is no problem with the ObservableList. I think I will generate a new topic with a more detailed example, is that the right approach?","body":"I have accepted your answer as that is a very fine solution to what I was looking for, thank your for that. I have found out that the errors I was referring to was properly to do with some performance-issues. In my app I need to update the list, very, very often and that have been no problem with the array I have used so far. If I lower the update rate in my app then there is no problem with the ObservableList. I think I will generate a new topic with a more detailed example, is that the right approach?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1697020355,"post_id":77267223,"comment_id":136226021,"body_markdown":"@droid Yes, create a new question for that.","body":"@droid Yes, create a new question for that."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":11,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696957668,"creation_date":1696952671,"answer_id":77267223,"question_id":77266723,"body_markdown":"It seems like all you need is &quot;observability&quot; (i.e. the opportunity to respond to changes in the data structure). The JavaFX interfaces `ObservableList`, `ObservableMap`, and `ObservableSet` are the direct *observable* equivalents of the standard `java.util` collections interfaces `List`, `Map`, and `Set`, respectively. So I think all you need here is an `ObservableList` (`List` being the collection interface which most closely mimics an array).\r\n\r\nYou can do something like:\r\n\r\n```\r\npublic class Model {\r\n\r\n    private final ObservableList&lt;Byte&gt; bytes ;\r\n\r\n    public Model(byte[] bytes) {\r\n        this.bytes = FXCollections.observableArrayList();\r\n        for (byte b : bytes) this.bytes.add(b();\r\n    }\r\n\r\n    public void setByte(int index, byte b) {\r\n        bytes.set(index, b);\r\n    }\r\n\r\n    public void getByte(int index) {\r\n        return bytes.get(index);\r\n    }\r\n\r\n    public ObservableList&lt;Byte&gt; getBytes() {\r\n        // prevent things like getBytes().add() etc.\r\n        return FXCollections.unmodifiableObservableList(bytes);\r\n    }\r\n\r\n    public byte[] getBytesAsArray() {\r\n        byte[] byteArray = new byte[bytes.size()];\r\n        for (int i = 0 ; i &lt; bytes.size(); i++) {\r\n            byteArray[i] = bytes.get(i);\r\n        }\r\n        return byteArray;\r\n    }\r\n}\r\n```\r\n\r\nand then \r\n\r\n```\r\nmyModel.getBytes().addListener((ListChangeListener.Change&lt;Byte&gt; change) -&gt; {\r\n   // ...\r\n});\r\n```\r\n\r\nSee the [`ListChangeListener.Change` documentation](https://openjfx.io/javadoc/21/javafx.base/javafx/collections/ListChangeListener.Change.html) for more information.\r\n\r\nThe exact API in the `Model` class may need to be modified for whatever your actual use case is.","title":"JavaFX MapProperty behave like an array","body":"<p>It seems like all you need is &quot;observability&quot; (i.e. the opportunity to respond to changes in the data structure). The JavaFX interfaces <code>ObservableList</code>, <code>ObservableMap</code>, and <code>ObservableSet</code> are the direct <em>observable</em> equivalents of the standard <code>java.util</code> collections interfaces <code>List</code>, <code>Map</code>, and <code>Set</code>, respectively. So I think all you need here is an <code>ObservableList</code> (<code>List</code> being the collection interface which most closely mimics an array).</p>\n<p>You can do something like:</p>\n<pre><code>public class Model {\n\n    private final ObservableList&lt;Byte&gt; bytes ;\n\n    public Model(byte[] bytes) {\n        this.bytes = FXCollections.observableArrayList();\n        for (byte b : bytes) this.bytes.add(b();\n    }\n\n    public void setByte(int index, byte b) {\n        bytes.set(index, b);\n    }\n\n    public void getByte(int index) {\n        return bytes.get(index);\n    }\n\n    public ObservableList&lt;Byte&gt; getBytes() {\n        // prevent things like getBytes().add() etc.\n        return FXCollections.unmodifiableObservableList(bytes);\n    }\n\n    public byte[] getBytesAsArray() {\n        byte[] byteArray = new byte[bytes.size()];\n        for (int i = 0 ; i &lt; bytes.size(); i++) {\n            byteArray[i] = bytes.get(i);\n        }\n        return byteArray;\n    }\n}\n</code></pre>\n<p>and then</p>\n<pre><code>myModel.getBytes().addListener((ListChangeListener.Change&lt;Byte&gt; change) -&gt; {\n   // ...\n});\n</code></pre>\n<p>See the <a href=\"https://openjfx.io/javadoc/21/javafx.base/javafx/collections/ListChangeListener.Change.html\" rel=\"nofollow noreferrer\"><code>ListChangeListener.Change</code> documentation</a> for more information.</p>\n<p>The exact API in the <code>Model</code> class may need to be modified for whatever your actual use case is.</p>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77267223,"answer_count":1,"score":1,"last_activity_date":1696957668,"creation_date":1696948423,"question_id":77266723,"body_markdown":"Not sure the topic makes 100% sense, it was the best I could come up with, but this is want I want:\r\n\r\nI have a normal, fix sized, byte array like this:\r\n\r\n    private final byte[] dmxDataArray = new byte[512];\r\n\r\nWorking fine, I can put data into the array like this:\r\n\r\n    dmxDataArray[channel] = (byte) value;\r\n\r\nI&#39;m using the array in a JavaFX app and I want to show the array data in the GUI so I want to turn the array into a MapProperty so I can attach addListener and update the GUI when new data are added to the Map. I need to use a Map since I need to have a key-value, or any other option accessing the data using some sort of index.\r\n\r\nThis is what I have tried (using Integers instead of byte, which is fine):\r\n\r\n    MapProperty&lt;Integer, Integer&gt; dmxDataArrayProperty dmxDataArrayProperty = new SimpleMapProperty&lt;&gt;(FXCollections.observableHashMap());\r\n\r\n    public final SimpleMapProperty&lt;Integer, Integer&gt; getDmxDataArrayProperty() {\r\n    \r\n      return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty.get();\r\n    \r\n    }\r\n\r\n    public final void setDmxDataArrayProperty(Integer value, Integer channel) {\r\n    \r\n      dmxDataArrayProperty.put(value, channel);\r\n    \r\n    }\r\n\r\n    public final SimpleMapProperty&lt;Integer, Integer&gt; dmxDataArrayPropertyProperty() {\r\n    \r\n      return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty;\r\n    \r\n    }\r\n\r\nIs that what you would do? Not sure about the getDmxDataArrayProperty and dmxDataArrayPropertyProperty, why do I need to cast to (SimpleMapProperty&lt;Integer, Integer&gt;)?\r\n\r\nAbove is working, I can put data into the Map like this:\r\n\r\n    setDmxDataArrayProperty(channel, value);\r\n\r\nAnd I can attach a listener like this:\r\n\r\n    dmxDataArrayPropertyProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n    \r\n      //Do something\r\n    \r\n    })\r\n\r\nI have worked with BooleanProperty, StringProperty and IntergerProperty before but I find MapProperty a litte bit more tricky.\r\n\r\nAlso, I not sure how to get the MapProperty elsewhere in my code, I would think that I should use getDmxDataArrayProperty() but that is giving me this:\r\n\r\n    class com.sun.javafx.collections.ObservableMapWrapper cannot be cast to class javafx.beans.property.SimpleMapProperty\r\n\r\nAlso, can I(should I?) use a ObservableArray instead?\r\n\r\nI would like the possibility to print/show all 512 (0 as initial value) values when changes are made and also the option to get just one specific value (based on the key)\r\n\r\n\r\n\r\n\r\n\r\n","title":"JavaFX MapProperty behave like an array","body":"<p>Not sure the topic makes 100% sense, it was the best I could come up with, but this is want I want:</p>\n<p>I have a normal, fix sized, byte array like this:</p>\n<pre><code>private final byte[] dmxDataArray = new byte[512];\n</code></pre>\n<p>Working fine, I can put data into the array like this:</p>\n<pre><code>dmxDataArray[channel] = (byte) value;\n</code></pre>\n<p>I'm using the array in a JavaFX app and I want to show the array data in the GUI so I want to turn the array into a MapProperty so I can attach addListener and update the GUI when new data are added to the Map. I need to use a Map since I need to have a key-value, or any other option accessing the data using some sort of index.</p>\n<p>This is what I have tried (using Integers instead of byte, which is fine):</p>\n<pre><code>MapProperty&lt;Integer, Integer&gt; dmxDataArrayProperty dmxDataArrayProperty = new SimpleMapProperty&lt;&gt;(FXCollections.observableHashMap());\n\npublic final SimpleMapProperty&lt;Integer, Integer&gt; getDmxDataArrayProperty() {\n\n  return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty.get();\n\n}\n\npublic final void setDmxDataArrayProperty(Integer value, Integer channel) {\n\n  dmxDataArrayProperty.put(value, channel);\n\n}\n\npublic final SimpleMapProperty&lt;Integer, Integer&gt; dmxDataArrayPropertyProperty() {\n\n  return (SimpleMapProperty&lt;Integer, Integer&gt;) dmxDataArrayProperty;\n\n}\n</code></pre>\n<p>Is that what you would do? Not sure about the getDmxDataArrayProperty and dmxDataArrayPropertyProperty, why do I need to cast to (SimpleMapProperty&lt;Integer, Integer&gt;)?</p>\n<p>Above is working, I can put data into the Map like this:</p>\n<pre><code>setDmxDataArrayProperty(channel, value);\n</code></pre>\n<p>And I can attach a listener like this:</p>\n<pre><code>dmxDataArrayPropertyProperty().addListener((observable, oldValue, newValue) -&gt; {\n\n  //Do something\n\n})\n</code></pre>\n<p>I have worked with BooleanProperty, StringProperty and IntergerProperty before but I find MapProperty a litte bit more tricky.</p>\n<p>Also, I not sure how to get the MapProperty elsewhere in my code, I would think that I should use getDmxDataArrayProperty() but that is giving me this:</p>\n<pre><code>class com.sun.javafx.collections.ObservableMapWrapper cannot be cast to class javafx.beans.property.SimpleMapProperty\n</code></pre>\n<p>Also, can I(should I?) use a ObservableArray instead?</p>\n<p>I would like the possibility to print/show all 512 (0 as initial value) values when changes are made and also the option to get just one specific value (based on the key)</p>\n"},{"tags":["java","postgresql","spring-boot","testcontainers"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1696957341,"post_id":77267694,"comment_id":136218018,"body_markdown":"Are you completely restarting the Postgres image for every single test? Yes, that seems like a great way to take up a lot of time. Have you considered simply clearing the tables or restoring state from a backup?","body":"Are you completely restarting the Postgres image for every single test? Yes, that seems like a great way to take up a lot of time. Have you considered simply clearing the tables or restoring state from a backup?"},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1697043381,"post_id":77267694,"comment_id":136230827,"body_markdown":"first time execution is around that because pulling the image and then start the container. But, second one should be 2 or 3 seconds. Postgres startup is quite fast. At least, on desktop you should not experience more than that. In CI, for example, using GHA will be pulling the image every time. I am talking from the test execution POV and not the whole build process which involves more tasks depending on which one you are using.","body":"first time execution is around that because pulling the image and then start the container. But, second one should be 2 or 3 seconds. Postgres startup is quite fast. At least, on desktop you should not experience more than that. In CI, for example, using GHA will be pulling the image every time. I am talking from the test execution POV and not the whole build process which involves more tasks depending on which one you are using."},{"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"score":0,"creation_date":1697094537,"post_id":77267694,"comment_id":136236701,"body_markdown":"I get ~40 seconds even if I run it several times so the image has been pulled by the time I run the test","body":"I get ~40 seconds even if I run it several times so the image has been pulled by the time I run the test"},{"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"score":0,"creation_date":1699358180,"post_id":77267694,"comment_id":136519034,"body_markdown":"On my M1 Pro single test with PostgreSQL container takes about 17 seconds for small Spring Boot application.\nIn general startup time depends on size of ApplicationContext and a huge amount of options in application.yaml.\nConsider to set server.shutdown=immediate for tests and share a demo project with us.","body":"On my M1 Pro single test with PostgreSQL container takes about 17 seconds for small Spring Boot application. In general startup time depends on size of ApplicationContext and a huge amount of options in application.yaml. Consider to set server.shutdown=immediate for tests and share a demo project with us."},{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1699390060,"post_id":77267694,"comment_id":136525010,"body_markdown":"out of curiosity, which container runtime are you using? Docker Desktop? Colima? Rancher? Testcontainers Embedded Runtime? Orbstack?","body":"out of curiosity, which container runtime are you using? Docker Desktop? Colima? Rancher? Testcontainers Embedded Runtime? Orbstack?"}],"owner":{"account_id":2697018,"reputation":5916,"user_id":2328781,"accept_rate":75,"display_name":"Danylo Zatorsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696956953,"creation_date":1696956953,"question_id":77267694,"body_markdown":"I&#39;m attempting to execute integration tests utilizing Spring Boot in conjunction with Testcontainers. However, I&#39;ve noticed that the database initialization is quite time-consuming. As it stands, a single test takes approximately 40 seconds to finish, including the time it takes to close all connections. The relevant code is structured as follows:\r\n\r\n```\r\n@SpringBootTest\r\n@Testcontainers\r\nclass ApplicationTests {\r\n\r\n    @Container\r\n    @ServiceConnection\r\n    static PostgreSQLContainer&lt;?&gt; posgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:16.0-alpine&quot;);\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        \r\n    }\r\n\r\n}\r\n```\r\n\r\nIn the logs I can see the following after the test is completed:\r\n\r\n[![Test logs picture][1]][1]\r\n\r\nGiven that I&#39;m working on a MacBook M1 Max, I believe there should be sufficient computational resources to expedite the test execution. Does anyone have suggestions for optimizing the duration of such tests? Perhaps there&#39;s a specialized Postgres image designed for quicker startup, or certain arguments that could be passed to improve the container&#39;s initialization time.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4CWWw.png","title":"How to improve PostreSQL speed when running tests via test containers","body":"<p>I'm attempting to execute integration tests utilizing Spring Boot in conjunction with Testcontainers. However, I've noticed that the database initialization is quite time-consuming. As it stands, a single test takes approximately 40 seconds to finish, including the time it takes to close all connections. The relevant code is structured as follows:</p>\n<pre><code>@SpringBootTest\n@Testcontainers\nclass ApplicationTests {\n\n    @Container\n    @ServiceConnection\n    static PostgreSQLContainer&lt;?&gt; posgres = new PostgreSQLContainer&lt;&gt;(&quot;postgres:16.0-alpine&quot;);\n\n    @Test\n    void contextLoads() {\n        \n    }\n\n}\n</code></pre>\n<p>In the logs I can see the following after the test is completed:</p>\n<p><a href=\"https://i.stack.imgur.com/4CWWw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CWWw.png\" alt=\"Test logs picture\" /></a></p>\n<p>Given that I'm working on a MacBook M1 Max, I believe there should be sufficient computational resources to expedite the test execution. Does anyone have suggestions for optimizing the duration of such tests? Perhaps there's a specialized Postgres image designed for quicker startup, or certain arguments that could be passed to improve the container's initialization time.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1696955552,"post_id":77267518,"comment_id":136217650,"body_markdown":"@Jorn Pls see the code block. That&#39;s what I&#39;ve tried.","body":"@Jorn Pls see the code block. That&#39;s what I&#39;ve tried."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1696955849,"post_id":77267518,"comment_id":136217703,"body_markdown":"Did start the jvm with --add-opens=java.base/java.lang=ALL-UNNAMED like the error message says?","body":"Did start the jvm with --add-opens=java.base/java.lang=ALL-UNNAMED like the error message says?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1696956108,"post_id":77267518,"comment_id":136217761,"body_markdown":"Have you tried to remove the &quot;add-opens=&quot; part from the second argument? Could you try setting your JDK source and target versions to 11 in the plugin config?","body":"Have you tried to remove the &quot;add-opens=&quot; part from the second argument? Could you try setting your JDK source and target versions to 11 in the plugin config?"},{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1696960566,"post_id":77267518,"comment_id":136218526,"body_markdown":"@Mr.Polywhirl Produces same error when I removed add-opens from 2nd arg. Also do have the following in the POM file. \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n\t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;","body":"@Mr.Polywhirl Produces same error when I removed add-opens from 2nd arg. Also do have the following in the POM file. \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt; \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;"}],"answers":[{"comments":[{"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"score":0,"creation_date":1696960143,"post_id":77267619,"comment_id":136218464,"body_markdown":"Tried this, produces same error.","body":"Tried this, produces same error."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697111699,"post_id":77267619,"comment_id":136240101,"body_markdown":"Put that block in `&lt;pluginManagement&gt;`.","body":"Put that block in <code>&lt;pluginManagement&gt;</code>."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696956413,"creation_date":1696956203,"answer_id":77267619,"question_id":77267518,"body_markdown":"You have modified the `maven-compiler-plugin` but the `--add-opens` is neededd at run-time.  Since you run the app through the `spring-boot-maven-plugin` the correct configuration is:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n     &lt;configuration&gt;\r\n         &lt;jvmArguments&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvmArguments&gt;\r\n     &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Illegal access error after upgrading version","body":"<p>You have modified the <code>maven-compiler-plugin</code> but the <code>--add-opens</code> is neededd at run-time.  Since you run the app through the <code>spring-boot-maven-plugin</code> the correct configuration is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;jvmArguments&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jvmArguments&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":13006738,"reputation":2531,"user_id":9401029,"display_name":"karvai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77267619,"answer_count":1,"score":2,"last_activity_date":1696956413,"creation_date":1696955397,"question_id":77267518,"body_markdown":"I have a Spring boot app. Using version `2.7.16`. \r\n\r\nI was on Java version `8`. Moved to Java version `11` now. \r\n\r\nWhen I run the app, getting the error: \r\n\r\n&gt; Caused by: org.springframework.cglib.core.ReflectUtils$6: ClassLoader\r\n&gt; mismatch for [java.util.concurrent.ScheduledThreadPoolExecutor]: JVM\r\n&gt; should be started with --add-opens=java.base/java.lang=ALL-UNNAMED for\r\n&gt; ClassLoader.defineClass to be accessible on\r\n&gt; org.springframework.boot.loader.LaunchedURLClassLoader; consider\r\n&gt; co-locating the affected class in that target ClassLoader instead.\r\n&gt; Caused by: java.lang.IllegalAccessException: module java.base does not\r\n&gt; open java.util.concurrent to unnamed module\r\n\r\nI updated the pom file as follows. But the error remains. Why? \r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n                        &lt;arg&gt;add-opens=java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    // other plugins\r\n    &lt;plugins&gt;\r\n        spring-boot-maven-plugin\r\n        maven-resources-plugin\r\n        maven-assembly-plugin\r\n        jacoco-maven-plugin\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nUsing Java 11, running it via Terminal using command:\r\n\r\n```shell\r\nmvn spring-boot:run\r\n```","title":"Illegal access error after upgrading version","body":"<p>I have a Spring boot app. Using version <code>2.7.16</code>.</p>\n<p>I was on Java version <code>8</code>. Moved to Java version <code>11</code> now.</p>\n<p>When I run the app, getting the error:</p>\n<blockquote>\n<p>Caused by: org.springframework.cglib.core.ReflectUtils$6: ClassLoader\nmismatch for [java.util.concurrent.ScheduledThreadPoolExecutor]: JVM\nshould be started with --add-opens=java.base/java.lang=ALL-UNNAMED for\nClassLoader.defineClass to be accessible on\norg.springframework.boot.loader.LaunchedURLClassLoader; consider\nco-locating the affected class in that target ClassLoader instead.\nCaused by: java.lang.IllegalAccessException: module java.base does not\nopen java.util.concurrent to unnamed module</p>\n</blockquote>\n<p>I updated the pom file as follows. But the error remains. Why?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-opens&lt;/arg&gt;\n                        &lt;arg&gt;add-opens=java.base/java.lang=ALL-UNNAMED&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    // other plugins\n    &lt;plugins&gt;\n        spring-boot-maven-plugin\n        maven-resources-plugin\n        maven-assembly-plugin\n        jacoco-maven-plugin\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Using Java 11, running it via Terminal using command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n"},{"tags":["java","soap","wsdl","soap-client"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696956566,"post_id":77267629,"comment_id":136217853,"body_markdown":"Did you look at the release notes for the dependency used in that code? Perhaps it changed how the headers should be retrieved.","body":"Did you look at the release notes for the dependency used in that code? Perhaps it changed how the headers should be retrieved."},{"owner":{"account_id":29641887,"reputation":11,"user_id":22717862,"display_name":"manas021"},"score":0,"creation_date":1696957013,"post_id":77267629,"comment_id":136217950,"body_markdown":"@Jorn I i did , there is no specific mention of a different way and moreover other headers are present in the soap context , only the request headers are missing","body":"@Jorn I i did , there is no specific mention of a different way and moreover other headers are present in the soap context , only the request headers are missing"}],"owner":{"account_id":29641887,"reputation":11,"user_id":22717862,"display_name":"manas021"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696956300,"creation_date":1696956300,"question_id":77267629,"body_markdown":"I have recently upgraded from jdk8 to jdk17 and for this I have updated few of my dependencies in POM and added a few new ones , below are the dependencies\r\n\r\n```\r\n &lt;jaxws-maven-plugin.version&gt;2.6&lt;/jaxws-maven-plugin.version&gt;\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.5&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n  &lt;/dependency&gt;`\r\n```\r\n\r\n\r\nAfter making these updates , when I am sending a soap request using my soap client, HTTP Request Headers are missing when I try to fetch them in my Soap Message Handler.\r\n\r\n\r\n```\r\nfinal Map headers = (Map) context.get(MessageContext.HTTP_REQUEST_HEADERS);\r\n```\r\ncontext is of type SOAPMessageContext\r\n\r\n\r\nin above code headers turn out to be null\r\n\r\nI was expecting that HTTP REQUEST HEADERS will be present because they were present before the upgrade.","title":"HTPP_REQUEST_HEADERS missing when sending a soap request through soap client","body":"<p>I have recently upgraded from jdk8 to jdk17 and for this I have updated few of my dependencies in POM and added a few new ones , below are the dependencies</p>\n<pre><code> &lt;jaxws-maven-plugin.version&gt;2.6&lt;/jaxws-maven-plugin.version&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n            &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n  &lt;/dependency&gt;`\n</code></pre>\n<p>After making these updates , when I am sending a soap request using my soap client, HTTP Request Headers are missing when I try to fetch them in my Soap Message Handler.</p>\n<pre><code>final Map headers = (Map) context.get(MessageContext.HTTP_REQUEST_HEADERS);\n</code></pre>\n<p>context is of type SOAPMessageContext</p>\n<p>in above code headers turn out to be null</p>\n<p>I was expecting that HTTP REQUEST HEADERS will be present because they were present before the upgrade.</p>\n"},{"tags":["java","spring","spring-boot","java-17"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1661762878,"post_id":73526228,"comment_id":129840320,"body_markdown":"I&#39;ve never needd to set this. Can you go to https://start.spring.io and generate a new project and compare it with yours?","body":"I&#39;ve never needd to set this. Can you go to <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> and generate a new project and compare it with yours?"},{"owner":{"account_id":7412243,"reputation":195,"user_id":5639266,"display_name":"Yutsa"},"score":1,"creation_date":1661764556,"post_id":73526228,"comment_id":129840814,"body_markdown":"Thanks for your advice. I managed to find the cause : my project uses Load Time Weaving with AspectJ and it looks like AspectJ needs this option to work with JDK 17. If I disable load time weaving I don&#39;t get the error. But since I do need load time weaving I&#39;ll have to wait for aspectJ to find a solution and use the VM option in the meantime.","body":"Thanks for your advice. I managed to find the cause : my project uses Load Time Weaving with AspectJ and it looks like AspectJ needs this option to work with JDK 17. If I disable load time weaving I don&#39;t get the error. But since I do need load time weaving I&#39;ll have to wait for aspectJ to find a solution and use the VM option in the meantime."}],"answers":[{"comments":[{"owner":{"account_id":2516613,"reputation":500,"user_id":2187908,"display_name":"Abdelrahman Elattar"},"score":0,"creation_date":1685533437,"post_id":73526644,"comment_id":134672749,"body_markdown":"Did aspectJ fixed the issue? or you found a workaround instead of using --add-opens java.base/java.lang=ALL-UNNAMED?","body":"Did aspectJ fixed the issue? or you found a workaround instead of using --add-opens java.base/java.lang=ALL-UNNAMED?"}],"tags":[],"owner":{"account_id":7412243,"reputation":195,"user_id":5639266,"display_name":"Yutsa"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1661764843,"creation_date":1661764843,"answer_id":73526644,"question_id":73526228,"body_markdown":"I discovered that my issue was not so much related to Spring Boot but more to AspectJ load time weaving.\r\n\r\nIndeed my project uses Load Time Weaving with AspectJ, and as we can see in the [latest changelog from AspectJ][1] : \r\n\r\n&gt; Use LTW on Java 16+\r\nPlease note that if you want to use load-time weaving on Java 16+, the weaving agent collides with JEP 396 (Strongly Encapsulate JDK Internals by Default) and related subsequent JEPs. Therefore, you need to set the JVM parameter --add-opens java.base/java.lang=ALL-UNNAMED in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders\r\n\r\nTherefore the VM option is need for my project for now.\r\n\r\n\r\n  [1]: https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-198.html","title":"Spring Boot can&#39;t start on JDK 17 : module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>I discovered that my issue was not so much related to Spring Boot but more to AspectJ load time weaving.</p>\n<p>Indeed my project uses Load Time Weaving with AspectJ, and as we can see in the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse/org.aspectj/blob/master/docs/dist/doc/README-198.html\" rel=\"noreferrer\">latest changelog from AspectJ</a> :</p>\n<blockquote>\n<p>Use LTW on Java 16+\nPlease note that if you want to use load-time weaving on Java 16+, the weaving agent collides with JEP 396 (Strongly Encapsulate JDK Internals by Default) and related subsequent JEPs. Therefore, you need to set the JVM parameter --add-opens java.base/java.lang=ALL-UNNAMED in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders</p>\n</blockquote>\n<p>Therefore the VM option is need for my project for now.</p>\n"},{"tags":[],"owner":{"account_id":18152,"reputation":3361,"user_id":41324,"display_name":"Anders B"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696956220,"creation_date":1677668079,"answer_id":75602720,"question_id":73526228,"body_markdown":"Using maven?\r\n\r\nFor me this fixed my problem:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.8.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;source&gt;17&lt;/source&gt;\r\n    &lt;target&gt;17&lt;/target&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Spring Boot can&#39;t start on JDK 17 : module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Using maven?</p>\n<p>For me this fixed my problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;17&lt;/source&gt;\n    &lt;target&gt;17&lt;/target&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7412243,"reputation":195,"user_id":5639266,"display_name":"Yutsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14468,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73526644,"answer_count":2,"score":7,"last_activity_date":1696956220,"creation_date":1661762744,"question_id":73526228,"body_markdown":"I am migrating a Spring Boot app from JDK 8 to JDK 17.\r\n\r\nBut in JDK 17 I have the following error : \r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.findLoadedClass(java.lang.String) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1356d4d4\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:577) ~[spring-core-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.ContextTypeMatchClassLoader$ContextOverridingClassLoader.isEligibleForOverriding(ContextTypeMatchClassLoader.java:99) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:87) ~[spring-core-5.3.20.jar:5.3.20]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:82) ~[spring-core-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.ContextTypeMatchClassLoader.loadClass(ContextTypeMatchClassLoader.java:70) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1594) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:704) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:867) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:855) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:842) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:782) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat com.pacinformatique.vinotech.mobile.VinotechMobileApplication.main(VinotechMobileApplication.java:42) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\r\n\r\nAdding `--add-opens java.base/java.lang=ALL-UNNAMED` to the VM options works but it looks pretty hacky. I thought that with Spring Boot 2.7 I would&#39;ve been able to run the app without the VM options.\r\n\r\nHave I missed something ?","title":"Spring Boot can&#39;t start on JDK 17 : module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>I am migrating a Spring Boot app from JDK 8 to JDK 17.</p>\n<p>But in JDK 17 I have the following error :</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.findLoadedClass(java.lang.String) accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1356d4d4\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199) ~[na:na]\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193) ~[na:na]\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:577) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.ContextTypeMatchClassLoader$ContextOverridingClassLoader.isEligibleForOverriding(ContextTypeMatchClassLoader.java:99) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:87) ~[spring-core-5.3.20.jar:5.3.20]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.springframework.core.OverridingClassLoader.loadClass(OverridingClassLoader.java:82) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.ContextTypeMatchClassLoader.loadClass(ContextTypeMatchClassLoader.java:70) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1594) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1534) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:704) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1670) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:667) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1300) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:867) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:855) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:842) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:782) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.pacinformatique.vinotech.mobile.VinotechMobileApplication.main(VinotechMobileApplication.java:42) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\n</code></pre>\n<p>Adding <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> to the VM options works but it looks pretty hacky. I thought that with Spring Boot 2.7 I would've been able to run the app without the VM options.</p>\n<p>Have I missed something ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-test","spring-mvc-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1462269430,"post_id":37000457,"comment_id":61554845,"body_markdown":"How are you testing this? By just calling the controller method or are you actually using MockMvc. If it is the latter you are using it wrong, if it is the former, you are making it to difficult.","body":"How are you testing this? By just calling the controller method or are you actually using MockMvc. If it is the latter you are using it wrong, if it is the former, you are making it to difficult."},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1462278339,"post_id":37000457,"comment_id":61560598,"body_markdown":"I&#39;m using MockMvc. I added the code I&#39;m using","body":"I&#39;m using MockMvc. I added the code I&#39;m using"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1462278790,"post_id":37000457,"comment_id":61560909,"body_markdown":"A `MultipartFile` isn&#39;t a `Part` so that won&#39;t work. You can only add parts and afaik that currently isn&#39;t possible with MockMvc. Your only change probably is to mock the `Part` and add it yourself by creating a custom RequestBuilder.","body":"A <code>MultipartFile</code> isn&#39;t a <code>Part</code> so that won&#39;t work. You can only add parts and afaik that currently isn&#39;t possible with MockMvc. Your only change probably is to mock the <code>Part</code> and add it yourself by creating a custom RequestBuilder."}],"answers":[{"comments":[{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":0,"creation_date":1472843473,"post_id":37049803,"comment_id":65932618,"body_markdown":"I&#39;m not able to mock it. In `RequestPartServletServerHttpRequest` I run into this:\n\n`this.headers = this.multipartRequest.getMultipartHeaders(this.partName);\n  if (this.headers == null) {\n   throw new MissingServletRequestPartException(partName);\n  }\n`","body":"I&#39;m not able to mock it. In <code>RequestPartServletServerHttpRequest</code> I run into this:  <code>this.headers = this.multipartRequest.getMultipartHeaders(this.partName);   if (this.headers == null) {    throw new MissingServletRequestPartException(partName);   } </code>"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1472903755,"post_id":37049803,"comment_id":65946031,"body_markdown":"Hmmm... it looks like it might not be possible to get this working easily before SPR-14252 and SPR-14253 are resolved. I&#39;ll add your comments to those issues so that we take your experience into account.","body":"Hmmm... it looks like it might not be possible to get this working easily before SPR-14252 and SPR-14253 are resolved. I&#39;ll add your comments to those issues so that we take your experience into account."},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":1,"creation_date":1472905094,"post_id":37049803,"comment_id":65946399,"body_markdown":"FYI: I introduced a _Further Analysis_ section to https://jira.spring.io/browse/SPR-14252","body":"FYI: I introduced a <i>Further Analysis</i> section to <a href=\"https://jira.spring.io/browse/SPR-14252\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SPR-14252</a>"}],"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1462448851,"creation_date":1462448851,"answer_id":37049803,"question_id":37000457,"body_markdown":"There is currently no support for testing with `javax.servlet.http.Part` in the _Spring MVC Test Framework_.\r\n\r\nConsequently, I have introduced two tickets to address this shortcoming in Spring Framework 5.0:\r\n\r\n- https://jira.spring.io/browse/SPR-14252\r\n- https://jira.spring.io/browse/SPR-14253\r\n\r\nIn the interim, you should be able to mock `Part` yourself and register it in the prepared `MockHttpServletRequest` via a custom `RequestPostProcessor`.\r\n\r\nRegards,\r\n\r\nSam (_author of the Spring TestContext Framework_)","title":"Setting request parts in spring test mvc","body":"<p>There is currently no support for testing with <code>javax.servlet.http.Part</code> in the <em>Spring MVC Test Framework</em>.</p>\n\n<p>Consequently, I have introduced two tickets to address this shortcoming in Spring Framework 5.0:</p>\n\n<ul>\n<li><a href=\"https://jira.spring.io/browse/SPR-14252\" rel=\"noreferrer\">https://jira.spring.io/browse/SPR-14252</a></li>\n<li><a href=\"https://jira.spring.io/browse/SPR-14253\" rel=\"noreferrer\">https://jira.spring.io/browse/SPR-14253</a></li>\n</ul>\n\n<p>In the interim, you should be able to mock <code>Part</code> yourself and register it in the prepared <code>MockHttpServletRequest</code> via a custom <code>RequestPostProcessor</code>.</p>\n\n<p>Regards,</p>\n\n<p>Sam (<em>author of the Spring TestContext Framework</em>)</p>\n"},{"comments":[{"owner":{"account_id":1133638,"reputation":1207,"user_id":1119153,"display_name":"manasouza"},"score":0,"creation_date":1649775372,"post_id":70592125,"comment_id":126958612,"body_markdown":"Are you considering using `@RequestPart` in the `@RestController` endpoint ? something like: `@PostMapping(consumes = {MULTIPART_FORM_DATA_VALUE}) public method(@RequestPart MultipartFile file)`","body":"Are you considering using <code>@RequestPart</code> in the <code>@RestController</code> endpoint ? something like: <code>@PostMapping(consumes = {MULTIPART_FORM_DATA_VALUE}) public method(@RequestPart MultipartFile file)</code>"}],"tags":[],"owner":{"account_id":7502173,"reputation":360,"user_id":6928724,"display_name":"Per"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641382658,"creation_date":1641382220,"answer_id":70592125,"question_id":37000457,"body_markdown":"To elaborate on Sam Brannens answer: You can do it as follows:\r\n\r\nCreate a MockPart (instead of a MockMultipartFile) and add it using part() instead of file(); e.g:\r\n\r\n    MockPart coverPart = new MockPart(&quot;file&quot;, &quot;1.png&quot;, Files.readAllBytes(Paths.get(&quot;images/1.png&quot;)));\r\n    coverPart.getHeaders().setContentType(MediaType.IMAGE_PNG);\r\n\r\nAnd the use it in perform():\r\n\r\n    mockMvc.perform(multipart(&quot;/some/url&quot;)\r\n        .part(coverPart)\r\n        .contentType(MediaType.MULTIPART_FORM_DATA)\r\n        .andExpect(status().isOk())\r\n\r\nThen in you controller, you will see that request.getParts() will contain a part called &quot;file&quot; that you can retrieve the content from using e.g. part.getInputStream().\r\n\r\nI used the following dependency to test this:\r\norg.springframework:spring-test:5.3.14 which is included in org.springframework.boot:spring-boot-starter-test:2.6.2","title":"Setting request parts in spring test mvc","body":"<p>To elaborate on Sam Brannens answer: You can do it as follows:</p>\n<p>Create a MockPart (instead of a MockMultipartFile) and add it using part() instead of file(); e.g:</p>\n<pre><code>MockPart coverPart = new MockPart(&quot;file&quot;, &quot;1.png&quot;, Files.readAllBytes(Paths.get(&quot;images/1.png&quot;)));\ncoverPart.getHeaders().setContentType(MediaType.IMAGE_PNG);\n</code></pre>\n<p>And the use it in perform():</p>\n<pre><code>mockMvc.perform(multipart(&quot;/some/url&quot;)\n    .part(coverPart)\n    .contentType(MediaType.MULTIPART_FORM_DATA)\n    .andExpect(status().isOk())\n</code></pre>\n<p>Then in you controller, you will see that request.getParts() will contain a part called &quot;file&quot; that you can retrieve the content from using e.g. part.getInputStream().</p>\n<p>I used the following dependency to test this:\norg.springframework:spring-test:5.3.14 which is included in org.springframework.boot:spring-boot-starter-test:2.6.2</p>\n"},{"tags":[],"owner":{"account_id":228645,"reputation":587,"user_id":491085,"display_name":"mio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696955635,"creation_date":1696955635,"answer_id":77267546,"question_id":37000457,"body_markdown":"Just for reference, if you have a multipart request with multiple additional json non-file request parts you can create them like the following:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper()\r\n    // ...\r\n    // a file\r\n    MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;/some/name&quot;, &quot;text/plain&quot;, &quot;hello&quot;.getBytes())\r\n    // and other parts\r\n    byte[] content = objectMapper.writeValueAsBytes(somePayload)\r\n    Part somePart = new MockPart(&quot;someName&quot;, content)\r\n    somePart.getHeaders().setContentType(MediaType.APPLICATION_JSON)\r\n    \r\n\r\nand then call the service like this:\r\n\r\n    mockMvc.perform(multipart(&quot;/some/path&quot;)\r\n              .file(someFile)\r\n              .part(somePart)\r\n              .part(anotherPart))\r\n           .andExpect...\r\n\r\nNote: sending multiple MockMultiPartFiles instead of Parts works, too. But that looks ugly.","title":"Setting request parts in spring test mvc","body":"<p>Just for reference, if you have a multipart request with multiple additional json non-file request parts you can create them like the following:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper()\n// ...\n// a file\nMockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;/some/name&quot;, &quot;text/plain&quot;, &quot;hello&quot;.getBytes())\n// and other parts\nbyte[] content = objectMapper.writeValueAsBytes(somePayload)\nPart somePart = new MockPart(&quot;someName&quot;, content)\nsomePart.getHeaders().setContentType(MediaType.APPLICATION_JSON)\n</code></pre>\n<p>and then call the service like this:</p>\n<pre><code>mockMvc.perform(multipart(&quot;/some/path&quot;)\n          .file(someFile)\n          .part(somePart)\n          .part(anotherPart))\n       .andExpect...\n</code></pre>\n<p>Note: sending multiple MockMultiPartFiles instead of Parts works, too. But that looks ugly.</p>\n"}],"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3186,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37049803,"answer_count":3,"score":7,"last_activity_date":1696955635,"creation_date":1462267827,"question_id":37000457,"body_markdown":"I&#39;m trying to test (through Spring test (mvc)) a controller that uses `servletRequest.getParts()` \r\n\r\nAll I&#39;ve read so far is that `MockMvcRequestBuilders.fileUpload().file()` is the solution. However I cannot make it work. I wrote the following test which fails\r\n\r\n\r\n    MockMultipartHttpServletRequestBuilder builder = MockMvcRequestBuilders.fileUpload(&quot;/foo&quot;)\r\n                .file(new MockMultipartFile(&quot;file&quot;, new byte[] { 1, 2, 3, 4 }));\r\n    MockHttpServletRequest rq = builder.buildRequest(null);\r\n    Assert.assertEquals(1, rq.getParts().size()); // result 0\r\n\r\nI went through spring code, and the call to `file(...)` adds an element in `List&lt;MockMultipartFile&gt;` when `getParts()` gets its elements from another list `(Map&lt;String, Part&gt; parts)`\r\n\r\nThere must be another way to do it...\r\n\r\n**Edit 1**\r\n\r\nThe code I&#39;m using to test the controller is :\r\n\r\n    ResultActions result = mockMvc.perform(\r\n                MockMvcRequestBuilders.fileUpload(new URI(&quot;/url&quot;)).file(&quot;param&quot;, &quot;expected&quot;.getBytes()))","title":"Setting request parts in spring test mvc","body":"<p>I'm trying to test (through Spring test (mvc)) a controller that uses <code>servletRequest.getParts()</code> </p>\n\n<p>All I've read so far is that <code>MockMvcRequestBuilders.fileUpload().file()</code> is the solution. However I cannot make it work. I wrote the following test which fails</p>\n\n<pre><code>MockMultipartHttpServletRequestBuilder builder = MockMvcRequestBuilders.fileUpload(\"/foo\")\n            .file(new MockMultipartFile(\"file\", new byte[] { 1, 2, 3, 4 }));\nMockHttpServletRequest rq = builder.buildRequest(null);\nAssert.assertEquals(1, rq.getParts().size()); // result 0\n</code></pre>\n\n<p>I went through spring code, and the call to <code>file(...)</code> adds an element in <code>List&lt;MockMultipartFile&gt;</code> when <code>getParts()</code> gets its elements from another list <code>(Map&lt;String, Part&gt; parts)</code></p>\n\n<p>There must be another way to do it...</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>The code I'm using to test the controller is :</p>\n\n<pre><code>ResultActions result = mockMvc.perform(\n            MockMvcRequestBuilders.fileUpload(new URI(\"/url\")).file(\"param\", \"expected\".getBytes()))\n</code></pre>\n"},{"tags":["java","cucumber","web-api-testing","cucumber-serenity"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1696955720,"post_id":77267257,"comment_id":136217677,"body_markdown":"Does `api-testing` have a dependency on `rest-commons`?","body":"Does <code>api-testing</code> have a dependency on <code>rest-commons</code>?"},{"owner":{"account_id":16824920,"reputation":1,"user_id":12164447,"display_name":"Stelian Yolov"},"score":0,"creation_date":1696957647,"post_id":77267257,"comment_id":136218076,"body_markdown":"Thank you for the idea, I added a dependency in api-testing for rest-commons, and the feature was mapped to the step definition","body":"Thank you for the idea, I added a dependency in api-testing for rest-commons, and the feature was mapped to the step definition"}],"owner":{"account_id":16824920,"reputation":1,"user_id":12164447,"display_name":"Stelian Yolov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696955538,"creation_date":1696952958,"question_id":77267257,"body_markdown":"I am unable to map the feature file to the step definition one which is in different module.\r\n\r\nThe project is split between two Java modules, in the firts one are the feature files and the runner and in the second one the steps and the definitions of the tests.\r\n\r\n\r\n\r\nThis is part of runner that I&#39;m currently using:\r\n```\r\n@RunWith ( CucumberWithSerenity.class )\r\n@CucumberOptions ( features = &quot;features/&quot;, glue = { &quot;com.kps.api.steps.definitions&quot; }, tags = &quot;@API&quot;\r\n    ,plugin = { &quot;pretty&quot;, &quot;json:target/cucumber-reports/Cucumber.json&quot; },\r\n    monochrome = true)\r\n```\r\nAnd this is the project structure\r\n```\r\n-API_TESTING\r\n--.idea\r\n--api-testing (First module)\r\n --feature\r\n   --feature.file\r\n --src\r\n   --java\r\n     --Runner.class\r\n\r\n--rest-commons (second module)\r\n  --src\r\n    --main\r\n      --java\r\n        --definitions\r\n```\r\nI was trying different &quot;glue&quot; options in the runner, but the result is the same:\r\n```\r\nio.cucumber.junit.UndefinedStepException: The step &quot;testing step&quot; is undefined.\r\nYou can implement this step using the snippet bellow:\r\n\r\n```\r\nIf I place the step definition in the same module as the feature file the it&#39;s working normally. \r\n","title":"Cucumber: Feature file is unable to find step definitions when they are in separate modules","body":"<p>I am unable to map the feature file to the step definition one which is in different module.</p>\n<p>The project is split between two Java modules, in the firts one are the feature files and the runner and in the second one the steps and the definitions of the tests.</p>\n<p>This is part of runner that I'm currently using:</p>\n<pre><code>@RunWith ( CucumberWithSerenity.class )\n@CucumberOptions ( features = &quot;features/&quot;, glue = { &quot;com.kps.api.steps.definitions&quot; }, tags = &quot;@API&quot;\n    ,plugin = { &quot;pretty&quot;, &quot;json:target/cucumber-reports/Cucumber.json&quot; },\n    monochrome = true)\n</code></pre>\n<p>And this is the project structure</p>\n<pre><code>-API_TESTING\n--.idea\n--api-testing (First module)\n --feature\n   --feature.file\n --src\n   --java\n     --Runner.class\n\n--rest-commons (second module)\n  --src\n    --main\n      --java\n        --definitions\n</code></pre>\n<p>I was trying different &quot;glue&quot; options in the runner, but the result is the same:</p>\n<pre><code>io.cucumber.junit.UndefinedStepException: The step &quot;testing step&quot; is undefined.\nYou can implement this step using the snippet bellow:\n\n</code></pre>\n<p>If I place the step definition in the same module as the feature file the it's working normally.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":12659708,"reputation":231,"user_id":9201069,"display_name":"Gifer"},"score":0,"creation_date":1562340851,"post_id":51903524,"comment_id":100356399,"body_markdown":"Thanks @Rub&#233;n Morales","body":"Thanks @Rub&#233;n Morales"}],"tags":[],"owner":{"account_id":11511943,"reputation":359,"user_id":8436465,"display_name":"Rub&#233;n Morales"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534544606,"creation_date":1534544606,"answer_id":51903524,"question_id":48964093,"body_markdown":"I had the exact same issue while I was creating an APK with React Native. It was solved changing the scope of signingConfigs.\r\n\r\nSource: https://github.com/researchgate/gradle-release/issues/187","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>I had the exact same issue while I was creating an APK with React Native. It was solved changing the scope of signingConfigs.</p>\n\n<p>Source: <a href=\"https://github.com/researchgate/gradle-release/issues/187\" rel=\"nofollow noreferrer\">https://github.com/researchgate/gradle-release/issues/187</a></p>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17307,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564391369,"creation_date":1564391369,"answer_id":57250540,"question_id":48964093,"body_markdown":"In my case (which was not in `signingConfig` block), I was using a property called `release` in a gradle file that was applied in my module gradle file.\r\n\r\n*build.gradle*:\r\n```groovy\r\napply from: &#39;a_file.gradle&#39;\r\n```\r\n\r\n*a_file.gradle*\r\n```groovy\r\ndef variable = release // which is undefined\r\n```\r\n\r\nAnd inside that file, I was using this `release` property which was not defined anywhere. So I simply fixed that problem.","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>In my case (which was not in <code>signingConfig</code> block), I was using a property called <code>release</code> in a gradle file that was applied in my module gradle file.</p>\n\n<p><em>build.gradle</em>:</p>\n\n<pre><code>apply from: 'a_file.gradle'\n</code></pre>\n\n<p><em>a_file.gradle</em></p>\n\n<pre><code>def variable = release // which is undefined\n</code></pre>\n\n<p>And inside that file, I was using this <code>release</code> property which was not defined anywhere. So I simply fixed that problem.</p>\n"},{"comments":[{"owner":{"account_id":3957132,"reputation":4580,"user_id":5188516,"accept_rate":19,"display_name":"Abdul Waheed"},"score":2,"creation_date":1612353290,"post_id":62216030,"comment_id":116738807,"body_markdown":"this really helped me.","body":"this really helped me."},{"owner":{"account_id":3324705,"reputation":495,"user_id":2795035,"accept_rate":31,"display_name":"Shashi Shiva L"},"score":0,"creation_date":1637927647,"post_id":62216030,"comment_id":123959594,"body_markdown":"Thanks @Inamur Rahman very helpfull","body":"Thanks @Inamur Rahman very helpfull"},{"owner":{"account_id":5438638,"reputation":69,"user_id":4327294,"accept_rate":90,"display_name":"Mohamed Atef"},"score":0,"creation_date":1701905332,"post_id":62216030,"comment_id":136834373,"body_markdown":"Excellent and straight answer, thanks brother","body":"Excellent and straight answer, thanks brother"}],"tags":[],"owner":{"account_id":13253565,"reputation":3003,"user_id":9570401,"display_name":"Inamur Rahman"},"comment_count":3,"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1608309493,"creation_date":1591362290,"answer_id":62216030,"question_id":48964093,"body_markdown":"I was also facing the same issue. **In my case** I just placed the `signingConfigs{}` above the `buildTypes{}`\r\n\r\n    signingConfigs {\r\n            release {\r\n                keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n                keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n                storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\r\n                storePassword keystoreProperties[&#39;storePassword&#39;]\r\n            }\r\n        }\r\n    \r\n    buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n            }\r\n        }","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>I was also facing the same issue. <strong>In my case</strong> I just placed the <code>signingConfigs{}</code> above the <code>buildTypes{}</code></p>\n<pre><code>signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\nbuildTypes {\n        release {\n            signingConfig signingConfigs.release\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20764952,"reputation":121,"user_id":15249193,"display_name":"Aarti"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614535864,"creation_date":1614245037,"answer_id":66365707,"question_id":48964093,"body_markdown":"Please try the following 10 steps :\r\n\r\n1) Go to &quot;**Build**&quot; on the top panel of Android Studio.\r\n2) Select &quot;**Edit Build Variant**&quot;.\r\n3) Go to &quot;**Modules**&quot;(on the left side).\r\n4) Click &quot;signin configs&quot;\r\n5) Click on &quot;+&quot; sign, and type &quot;release&quot;.\r\n6) Click apply and ok\r\n\r\nAfter this please enter your keystore details,   \r\n \r\n7) go to &quot;**Build variants**&quot; on the same place in the left side.    \r\n8) Click on &quot;**release**&quot;    \r\n9) scroll down and go to &quot;**sign in config**&quot; and select &quot;**$signinConfig.release**&quot;    \r\n10) Click apply and Ok.\r\n","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>Please try the following 10 steps :</p>\n<ol>\n<li>Go to &quot;<strong>Build</strong>&quot; on the top panel of Android Studio.</li>\n<li>Select &quot;<strong>Edit Build Variant</strong>&quot;.</li>\n<li>Go to &quot;<strong>Modules</strong>&quot;(on the left side).</li>\n<li>Click &quot;signin configs&quot;</li>\n<li>Click on &quot;+&quot; sign, and type &quot;release&quot;.</li>\n<li>Click apply and ok</li>\n</ol>\n<p>After this please enter your keystore details,</p>\n<ol start=\"7\">\n<li>go to &quot;<strong>Build variants</strong>&quot; on the same place in the left side.</li>\n<li>Click on &quot;<strong>release</strong>&quot;</li>\n<li>scroll down and go to &quot;<strong>sign in config</strong>&quot; and select &quot;<strong>$signinConfig.release</strong>&quot;</li>\n<li>Click apply and Ok.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11525976,"reputation":51,"user_id":8446430,"display_name":"Rodrigo Martins"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1660694044,"creation_date":1659994863,"answer_id":73284305,"question_id":48964093,"body_markdown":"In my case, I had already the `signingConfigs{}` block.\r\n\r\nWhat I did to fix this was, make sure that the `signingConfigs{}` block is declared before the `buildTypes{}` block.\r\n\r\nI didn&#39;t know that **Gradle** files are oriented by declaration position.","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>In my case, I had already the <code>signingConfigs{}</code> block.</p>\n<p>What I did to fix this was, make sure that the <code>signingConfigs{}</code> block is declared before the <code>buildTypes{}</code> block.</p>\n<p>I didn't know that <strong>Gradle</strong> files are oriented by declaration position.</p>\n"}],"owner":{"account_id":12659708,"reputation":231,"user_id":9201069,"display_name":"Gifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35326,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":5,"score":22,"last_activity_date":1696955254,"creation_date":1519483758,"question_id":48964093,"body_markdown":"\r\nI&#39;m trying to modify an open source code in android studio, but I keep getting Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer. Does anyone know what&#39;s wrong with the code?\r\nThe code in the build.gradle file is posted below.\r\n\r\n    //apply plugin: &#39;idea&#39;\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    \r\n    android {\r\n    \r\n        // Create a variable called keystorePropertiesFile, and initialize it to your\r\n        // keystore.properties file, in the rootProject folder.\r\n        def keystorePropertiesFile = rootProject.file(&quot;keystore.properties&quot;)\r\n        if (keystorePropertiesFile.exists()) {\r\n            Properties keystoreProperties = new Properties();\r\n            keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n    \r\n    \r\n    \r\n        compileSdkVersion 27\r\n        buildToolsVersion &quot;$supportLibraryVersion&quot;\r\n        defaultConfig {\r\n            applicationId &quot;org.bottiger.podcast&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 27\r\n            versionCode 424        // even - release. Odd - development\r\n            versionName &quot;0.160.2&quot; // even - release. Odd - development\r\n            multiDexEnabled = true\r\n    \r\n            vectorDrawables.useSupportLibrary = true\r\n    \r\n            // Espresso\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    \r\n            externalNativeBuild {\r\n                cmake {\r\n                    cppFlags &quot;-std=c++11&quot;\r\n                    arguments &#39;-DANDROID_PLATFORM=android-16&#39;, &#39;-DANDROID_TOOLCHAIN=clang&#39;\r\n                }\r\n            }\r\n        }\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n        // Point Gradle at the directory where you want to root all of your native code\r\n        // There is a default directory but I prefer to control which directories to use\r\n        // and there will be a point later where keeping control over this is important\r\n        sourceSets.main {\r\n            jni.srcDirs = [&quot;src/main/jni&quot;];\r\n            java.srcDirs += &#39;src/main/kotlin&#39;\r\n    \r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }\r\n        packagingOptions {\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;LICENSE.txt&#39;\r\n            exclude &#39;META-INF/rxjava.properties&#39;\r\n        }\r\n    \r\n        flavorDimensions &quot;default&quot;\r\n    \r\n        productFlavors {\r\n    \r\n            dev {\r\n                // To avoid using legacy multidex when building from the command line,\r\n                // set minSdkVersion to 21 or higher. When using Android Studio 2.3 or higher,\r\n                // the build automatically avoids legacy multidex when deploying to a device running\r\n                // API level 21 or higher—regardless of what you set as your minSdkVersion.\r\n                minSdkVersion 21\r\n                versionNameSuffix &quot;-dev&quot;\r\n                //applicationIdSuffix &#39;.dev&#39;\r\n    \r\n                // The following configuration limits the &quot;dev&quot; flavor to using\r\n                // English stringresources and xxhdpi screen-density resources.\r\n                resConfigs &quot;en&quot;, &quot;xxhdpi&quot;\r\n    \r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;true&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;false&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n    \r\n            free {\r\n                ndk {\r\n                    abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;\r\n                }\r\n    \r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;true&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;true&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n    \r\n            google {\r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;false&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n    \r\n            amazon {\r\n                buildConfigField &quot;boolean&quot;, &quot;DEV_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;PRIVATE_MODE&quot;, &quot;false&quot;\r\n                buildConfigField &quot;boolean&quot;, &quot;LIBRE_MODE&quot;, &quot;false&quot;\r\n    \r\n                dimension &quot;default&quot;\r\n            }\r\n        }\r\n    \r\n            signingConfigs {\r\n                release {\r\n                    keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n                    keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n                    storeFile file(keystoreProperties[&#39;storeFile&#39;])\r\n                    storePassword keystoreProperties[&#39;storePassword&#39;]\r\n                }\r\n            }\r\n            android.buildTypes.release.signingConfig = signingConfigs.release\r\n        } else  {\r\n            android.buildTypes.release.signingConfig = null\r\n        }\r\n    \r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.release\r\n    \r\n    \r\n            }\r\n        }\r\n        // http://stackoverflow.com/questions/22851103/android-studio-gradle-error-multiple-dex-files-define\r\n        dexOptions {\r\n            preDexLibraries true\r\n            maxProcessCount 8\r\n            javaMaxHeapSize &quot;2g&quot;\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        // Encapsulates your external native build configurations.\r\n        externalNativeBuild {\r\n    \r\n            // Encapsulates your CMake build configurations.\r\n            cmake {\r\n                // Provides a relative path to your CMake build script.\r\n                path &quot;src/main/cpp/CMakeLists.txt&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n        google()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        compile &#39;com.android.support:multidex:1.0.2&#39;\r\n    \r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\r\n    \r\n        compile &quot;com.android.support:support-v4:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:appcompat-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:recyclerview-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:palette-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:cardview-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:mediarouter-v7:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:design:$supportLibraryVersion&quot;\r\n        compile &quot;com.android.support:percent:$supportLibraryVersion&quot;\r\n    \r\n        compile &quot;android.arch.lifecycle:runtime:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.lifecycle:extensions:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.lifecycle:reactivestreams:$architectureComponentsVersion&quot;\r\n        annotationProcessor &quot;android.arch.lifecycle:compiler:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.persistence.room:runtime:$architectureComponentsVersion&quot;\r\n        annotationProcessor &quot;android.arch.persistence.room:compiler:$architectureComponentsVersion&quot;\r\n        compile &quot;android.arch.persistence.room:rxjava2:$architectureComponentsVersion&quot;\r\n    \r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n    \r\n        compile &quot;com.squareup.okhttp3:okhttp:$okhttp_version&quot;\r\n        compile &#39;com.squareup.retrofit2:retrofit:2.2.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.2.0&#39;\r\n        compile(&#39;com.googlecode.json-simple:json-simple:1.1.1&#39;) {\r\n            exclude module: &#39;junit&#39;\r\n        }\r\n        //compile &#39;com.google.apis:google-api-services-drive:+&#39;\r\n        compile &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n        compile &#39;io.reactivex:rxjava:1.3.0&#39;\r\n    \r\n        compile &#39;com.jakewharton.rxbinding2:rxbinding:2.0.0&#39;\r\n        compile &#39;io.reactivex.rxjava2:rxandroid:2.0.1&#39;\r\n        compile &#39;io.reactivex.rxjava2:rxjava:2.1.8&#39;\r\n    \r\n        compile &#39;io.requery:sqlite-android:3.20.0&#39;\r\n        compile &#39;com.google.android.exoplayer:exoplayer:2.6.1&#39;\r\n        compile(&#39;com.wdullaer:materialdatetimepicker:3.1.1&#39;) {\r\n            exclude group: &#39;com.android.support&#39;\r\n        }\r\n    \r\n        // Glide\r\n        compile &quot;com.github.bumptech.glide:glide:$glide_version&quot;\r\n        compile &quot;com.github.bumptech.glide:okhttp3-integration:$glide_version&quot;\r\n        compile &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n        compile &quot;com.github.bumptech.glide:recyclerview-integration:$glide_version&quot;\r\n        annotationProcessor &quot;com.github.bumptech.glide:compiler:$glide_version&quot;\r\n    \r\n        compile &#39;net.steamcrafted:materialiconlib:1.1.2&#39;\r\n        compile &#39;org.whispersystems:libpastelog:1.0.7&#39;\r\n        compile &#39;com.bignerdranch.android:recyclerview-multiselect:0.2&#39;\r\n        compile &#39;com.google.http-client:google-http-client-gson:1.22.0&#39;\r\n    \r\n        compile &#39;jp.wasabeef:recyclerview-animators:2.2.6&#39;\r\n        compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.6&#39;\r\n        compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        compile &#39;com.bugsnag:bugsnag-android:3.8.0&#39;\r\n        compile &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n        compile &#39;com.heinrichreimersoftware:material-intro:1.6.2&#39;\r\n        compile &#39;com.dmitrymalkovich.android:material-design-dimens:1.4&#39;\r\n        compile &#39;com.github.daniel-stoneuk:material-about-library:2.2.3-support26.1.0&#39;\r\n        compile &#39;org.unbescape:unbescape:1.1.4.RELEASE&#39;\r\n        compile &#39;com.google.dagger:dagger:2.10&#39;\r\n        annotationProcessor &#39;com.google.dagger:dagger-compiler:2.10&#39;\r\n    \r\n        compile project(&#39;:armv7-fmmr&#39;)\r\n        // For testing only\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        testCompile &#39;org.mockito:mockito-core:2.7.19&#39;\r\n        testCompile(&quot;android.arch.persistence.room:testing:$architectureComponentsVersion&quot;) {\r\n            exclude group: &#39;com.android.support&#39;\r\n            exclude group: &#39;com.google.code.gson&#39;\r\n        }\r\n    \r\n        configurations.all {\r\n            resolutionStrategy.force &quot;com.android.support:support-annotations:$supportLibraryVersion&quot;\r\n            resolutionStrategy.force &#39;com.google.code.findbugs:jsr305:3.0.1&#39;\r\n    \r\n            exclude group: &quot;org.apache.httpcomponents&quot;, module: &quot;httpclient&quot;\r\n        }\r\n        // Espresso\r\n        // https://developer.android.com/training/testing/ui-testing/espresso-testing.html\r\n        androidTestCompile &#39;com.android.support.test:runner:1.0.1&#39;\r\n        androidTestCompile &#39;com.android.support.test:rules:1.0.1&#39;\r\n        androidTestCompile &#39;com.jakewharton.espresso:okhttp3-idling-resource:1.0.0&#39;\r\n        androidTestCompile &quot;com.squareup.okhttp3:okhttp:$okhttp_version&quot;\r\n        androidTestCompile(&quot;com.android.support.test.espresso:espresso-contrib:$espressoVersion&quot;) {\r\n            exclude group: &#39;com.android.support&#39;\r\n        }\r\n        androidTestCompile(&quot;com.android.support.test.espresso:espresso-core:$espressoVersion&quot;) {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        }\r\n        // Free version\r\n        // Amazon version\r\n        amazonCompile fileTree(dir: &#39;src/amazon/libs&#39;, include: [&#39;*.jar&#39;])\r\n        amazonCompile &quot;com.google.android.gms:play-services-cast:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.android.gms:play-services-cast-framework:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.android.gms:play-services-auth:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.android.gms:play-services-location:$playServicesVersion&quot;\r\n        amazonCompile &quot;com.google.firebase:firebase-messaging:$playServicesVersion&quot;\r\n        // google cast\r\n        // Play Store\r\n        googleCompile &quot;com.google.android.gms:play-services-analytics:$playServicesVersion&quot;\r\n        // analytics\r\n        googleCompile &quot;com.google.android.gms:play-services-cast:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.android.gms:play-services-cast-framework:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.android.gms:play-services-auth:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.android.gms:play-services-location:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.firebase:firebase-core:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.firebase:firebase-messaging:$playServicesVersion&quot;\r\n        googleCompile &quot;com.google.firebase:firebase-database:$playServicesVersion&quot;\r\n        // google cast\r\n        compile project(&#39;:soundwavescommon&#39;)\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n","title":"Error:(134, 0) Could not get unknown property &#39;release&#39; for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer.","body":"<p>I'm trying to modify an open source code in android studio, but I keep getting Error:(134, 0) Could not get unknown property 'release' for SigningConfig container of type org.gradle.api.internal.FactoryNamedDomainObjectContainer. Does anyone know what's wrong with the code?\nThe code in the build.gradle file is posted below.</p>\n\n<pre><code>//apply plugin: 'idea'\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n\n    // Create a variable called keystorePropertiesFile, and initialize it to your\n    // keystore.properties file, in the rootProject folder.\n    def keystorePropertiesFile = rootProject.file(\"keystore.properties\")\n    if (keystorePropertiesFile.exists()) {\n        Properties keystoreProperties = new Properties();\n        keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n\n\n\n    compileSdkVersion 27\n    buildToolsVersion \"$supportLibraryVersion\"\n    defaultConfig {\n        applicationId \"org.bottiger.podcast\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 424        // even - release. Odd - development\n        versionName \"0.160.2\" // even - release. Odd - development\n        multiDexEnabled = true\n\n        vectorDrawables.useSupportLibrary = true\n\n        // Espresso\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        externalNativeBuild {\n            cmake {\n                cppFlags \"-std=c++11\"\n                arguments '-DANDROID_PLATFORM=android-16', '-DANDROID_TOOLCHAIN=clang'\n            }\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n    // Point Gradle at the directory where you want to root all of your native code\n    // There is a default directory but I prefer to control which directories to use\n    // and there will be a point later where keeping control over this is important\n    sourceSets.main {\n        jni.srcDirs = [\"src/main/jni\"];\n        java.srcDirs += 'src/main/kotlin'\n\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n    packagingOptions {\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/NOTICE'\n        exclude 'LICENSE.txt'\n        exclude 'META-INF/rxjava.properties'\n    }\n\n    flavorDimensions \"default\"\n\n    productFlavors {\n\n        dev {\n            // To avoid using legacy multidex when building from the command line,\n            // set minSdkVersion to 21 or higher. When using Android Studio 2.3 or higher,\n            // the build automatically avoids legacy multidex when deploying to a device running\n            // API level 21 or higher—regardless of what you set as your minSdkVersion.\n            minSdkVersion 21\n            versionNameSuffix \"-dev\"\n            //applicationIdSuffix '.dev'\n\n            // The following configuration limits the \"dev\" flavor to using\n            // English stringresources and xxhdpi screen-density resources.\n            resConfigs \"en\", \"xxhdpi\"\n\n            buildConfigField \"boolean\", \"DEV_MODE\", \"true\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"false\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"false\"\n\n            dimension \"default\"\n        }\n\n        free {\n            ndk {\n                abiFilters \"armeabi-v7a\", \"x86\"\n            }\n\n            buildConfigField \"boolean\", \"DEV_MODE\", \"false\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"true\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"true\"\n\n            dimension \"default\"\n        }\n\n        google {\n            buildConfigField \"boolean\", \"DEV_MODE\", \"false\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"false\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"false\"\n\n            dimension \"default\"\n        }\n\n        amazon {\n            buildConfigField \"boolean\", \"DEV_MODE\", \"false\"\n            buildConfigField \"boolean\", \"PRIVATE_MODE\", \"false\"\n            buildConfigField \"boolean\", \"LIBRE_MODE\", \"false\"\n\n            dimension \"default\"\n        }\n    }\n\n        signingConfigs {\n            release {\n                keyAlias keystoreProperties['keyAlias']\n                keyPassword keystoreProperties['keyPassword']\n                storeFile file(keystoreProperties['storeFile'])\n                storePassword keystoreProperties['storePassword']\n            }\n        }\n        android.buildTypes.release.signingConfig = signingConfigs.release\n    } else  {\n        android.buildTypes.release.signingConfig = null\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n\n\n        }\n    }\n    // http://stackoverflow.com/questions/22851103/android-studio-gradle-error-multiple-dex-files-define\n    dexOptions {\n        preDexLibraries true\n        maxProcessCount 8\n        javaMaxHeapSize \"2g\"\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    // Encapsulates your external native build configurations.\n    externalNativeBuild {\n\n        // Encapsulates your CMake build configurations.\n        cmake {\n            // Provides a relative path to your CMake build script.\n            path \"src/main/cpp/CMakeLists.txt\"\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n    google()\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:multidex:1.0.2'\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    compile \"com.android.support:support-v4:$supportLibraryVersion\"\n    compile \"com.android.support:appcompat-v7:$supportLibraryVersion\"\n    compile \"com.android.support:recyclerview-v7:$supportLibraryVersion\"\n    compile \"com.android.support:palette-v7:$supportLibraryVersion\"\n    compile \"com.android.support:cardview-v7:$supportLibraryVersion\"\n    compile \"com.android.support:mediarouter-v7:$supportLibraryVersion\"\n    compile \"com.android.support:design:$supportLibraryVersion\"\n    compile \"com.android.support:percent:$supportLibraryVersion\"\n\n    compile \"android.arch.lifecycle:runtime:$architectureComponentsVersion\"\n    compile \"android.arch.lifecycle:extensions:$architectureComponentsVersion\"\n    compile \"android.arch.lifecycle:reactivestreams:$architectureComponentsVersion\"\n    annotationProcessor \"android.arch.lifecycle:compiler:$architectureComponentsVersion\"\n    compile \"android.arch.persistence.room:runtime:$architectureComponentsVersion\"\n    annotationProcessor \"android.arch.persistence.room:compiler:$architectureComponentsVersion\"\n    compile \"android.arch.persistence.room:rxjava2:$architectureComponentsVersion\"\n\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    compile \"com.squareup.okhttp3:okhttp:$okhttp_version\"\n    compile 'com.squareup.retrofit2:retrofit:2.2.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.2.0'\n    compile('com.googlecode.json-simple:json-simple:1.1.1') {\n        exclude module: 'junit'\n    }\n    //compile 'com.google.apis:google-api-services-drive:+'\n    compile 'io.reactivex:rxandroid:1.2.1'\n    compile 'io.reactivex:rxjava:1.3.0'\n\n    compile 'com.jakewharton.rxbinding2:rxbinding:2.0.0'\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxjava:2.1.8'\n\n    compile 'io.requery:sqlite-android:3.20.0'\n    compile 'com.google.android.exoplayer:exoplayer:2.6.1'\n    compile('com.wdullaer:materialdatetimepicker:3.1.1') {\n        exclude group: 'com.android.support'\n    }\n\n    // Glide\n    compile \"com.github.bumptech.glide:glide:$glide_version\"\n    compile \"com.github.bumptech.glide:okhttp3-integration:$glide_version\"\n    compile \"com.github.bumptech.glide:compiler:$glide_version\"\n    compile \"com.github.bumptech.glide:recyclerview-integration:$glide_version\"\n    annotationProcessor \"com.github.bumptech.glide:compiler:$glide_version\"\n\n    compile 'net.steamcrafted:materialiconlib:1.1.2'\n    compile 'org.whispersystems:libpastelog:1.0.7'\n    compile 'com.bignerdranch.android:recyclerview-multiselect:0.2'\n    compile 'com.google.http-client:google-http-client-gson:1.22.0'\n\n    compile 'jp.wasabeef:recyclerview-animators:2.2.6'\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.8.6'\n    compile 'com.nineoldandroids:library:2.4.0'\n    compile 'com.bugsnag:bugsnag-android:3.8.0'\n    compile 'com.journeyapps:zxing-android-embedded:3.4.0'\n    compile 'com.heinrichreimersoftware:material-intro:1.6.2'\n    compile 'com.dmitrymalkovich.android:material-design-dimens:1.4'\n    compile 'com.github.daniel-stoneuk:material-about-library:2.2.3-support26.1.0'\n    compile 'org.unbescape:unbescape:1.1.4.RELEASE'\n    compile 'com.google.dagger:dagger:2.10'\n    annotationProcessor 'com.google.dagger:dagger-compiler:2.10'\n\n    compile project(':armv7-fmmr')\n    // For testing only\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.mockito:mockito-core:2.7.19'\n    testCompile(\"android.arch.persistence.room:testing:$architectureComponentsVersion\") {\n        exclude group: 'com.android.support'\n        exclude group: 'com.google.code.gson'\n    }\n\n    configurations.all {\n        resolutionStrategy.force \"com.android.support:support-annotations:$supportLibraryVersion\"\n        resolutionStrategy.force 'com.google.code.findbugs:jsr305:3.0.1'\n\n        exclude group: \"org.apache.httpcomponents\", module: \"httpclient\"\n    }\n    // Espresso\n    // https://developer.android.com/training/testing/ui-testing/espresso-testing.html\n    androidTestCompile 'com.android.support.test:runner:1.0.1'\n    androidTestCompile 'com.android.support.test:rules:1.0.1'\n    androidTestCompile 'com.jakewharton.espresso:okhttp3-idling-resource:1.0.0'\n    androidTestCompile \"com.squareup.okhttp3:okhttp:$okhttp_version\"\n    androidTestCompile(\"com.android.support.test.espresso:espresso-contrib:$espressoVersion\") {\n        exclude group: 'com.android.support'\n    }\n    androidTestCompile(\"com.android.support.test.espresso:espresso-core:$espressoVersion\") {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    // Free version\n    // Amazon version\n    amazonCompile fileTree(dir: 'src/amazon/libs', include: ['*.jar'])\n    amazonCompile \"com.google.android.gms:play-services-cast:$playServicesVersion\"\n    amazonCompile \"com.google.android.gms:play-services-cast-framework:$playServicesVersion\"\n    amazonCompile \"com.google.android.gms:play-services-auth:$playServicesVersion\"\n    amazonCompile \"com.google.android.gms:play-services-location:$playServicesVersion\"\n    amazonCompile \"com.google.firebase:firebase-messaging:$playServicesVersion\"\n    // google cast\n    // Play Store\n    googleCompile \"com.google.android.gms:play-services-analytics:$playServicesVersion\"\n    // analytics\n    googleCompile \"com.google.android.gms:play-services-cast:$playServicesVersion\"\n    googleCompile \"com.google.android.gms:play-services-cast-framework:$playServicesVersion\"\n    googleCompile \"com.google.android.gms:play-services-auth:$playServicesVersion\"\n    googleCompile \"com.google.android.gms:play-services-location:$playServicesVersion\"\n    googleCompile \"com.google.firebase:firebase-core:$playServicesVersion\"\n    googleCompile \"com.google.firebase:firebase-messaging:$playServicesVersion\"\n    googleCompile \"com.google.firebase:firebase-database:$playServicesVersion\"\n    // google cast\n    compile project(':soundwavescommon')\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"tags":["java","spring","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696955063,"creation_date":1696955063,"answer_id":77267480,"question_id":77267032,"body_markdown":"Consider to use this API of that error handler:\r\n\r\n\t/**\r\n\t * Set a function to dynamically determine the {@link BackOff} to use, based on the\r\n\t * consumer record and/or exception. If null is returned, the default BackOff will be\r\n\t * used.\r\n\t * @param backOffFunction the function.\r\n\t * @since 2.6\r\n\t */\r\n\tpublic void setBackOffFunction(BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, BackOff&gt; backOffFunction) {\r\n\r\nhttps://docs.spring.io/spring-kafka/reference/kafka/annotation-error-handling.html#default-eh","title":"Spring Kafka Not Retryable Exceptions Filter","body":"<p>Consider to use this API of that error handler:</p>\n<pre><code>/**\n * Set a function to dynamically determine the {@link BackOff} to use, based on the\n * consumer record and/or exception. If null is returned, the default BackOff will be\n * used.\n * @param backOffFunction the function.\n * @since 2.6\n */\npublic void setBackOffFunction(BiFunction&lt;ConsumerRecord&lt;?, ?&gt;, Exception, BackOff&gt; backOffFunction) {\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/kafka/annotation-error-handling.html#default-eh\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/kafka/annotation-error-handling.html#default-eh</a></p>\n"}],"owner":{"account_id":18127008,"reputation":103,"user_id":13182452,"display_name":"Petro Prydorozhnyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77267480,"answer_count":1,"score":0,"last_activity_date":1696955063,"creation_date":1696951113,"question_id":77267032,"body_markdown":"I&#39;m trying to implement dynamic Kafka exception handling, specifically reties on some conditions but cannot find any way to filter exceptions that should not be retried not only by their class. My error handler code looks like this:\r\n\r\n```\r\nDefaultErrorHandler errorHandler = new DefaultErrorHandler(\r\n                (consumerRecord, e) -&gt; {\r\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\r\n                },\r\n                exponentialBackOff);\r\n\r\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\r\n```\r\n\r\nbut I want to control what is a non-retryable exception more granularly like:\r\n\r\n\r\n```\r\nDefaultErrorHandler errorHandler = new DefaultErrorHandler(\r\n                (consumerRecord, e) -&gt; {\r\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\r\n                },\r\n                exponentialBackOff);\r\n\r\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\r\nerrorHandler.addNotRetryableExceptionFilter(throwable -&gt; throwable.getMessage().startsWith(&quot;foo&quot;));\r\n```\r\n\r\n\r\n\r\nI cannot find such functionality inside the standard implementation. I checked sources and found *BinaryExceptionClassifier#classify* which checks fatal/not fatal exceptions but perhaps customizing it is not the best way to deal with it.\r\n\r\nIs there any way to effectively have a filter to check whether the expection is retryable or not?","title":"Spring Kafka Not Retryable Exceptions Filter","body":"<p>I'm trying to implement dynamic Kafka exception handling, specifically reties on some conditions but cannot find any way to filter exceptions that should not be retried not only by their class. My error handler code looks like this:</p>\n<pre><code>DefaultErrorHandler errorHandler = new DefaultErrorHandler(\n                (consumerRecord, e) -&gt; {\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\n                },\n                exponentialBackOff);\n\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\n</code></pre>\n<p>but I want to control what is a non-retryable exception more granularly like:</p>\n<pre><code>DefaultErrorHandler errorHandler = new DefaultErrorHandler(\n                (consumerRecord, e) -&gt; {\n                    log.error(&quot;Exception happened for {}&quot;, consumerRecord, e);\n                },\n                exponentialBackOff);\n\nerrorHandler.addNotRetryableExceptions(NotRetryableException.class);\nerrorHandler.addNotRetryableExceptionFilter(throwable -&gt; throwable.getMessage().startsWith(&quot;foo&quot;));\n</code></pre>\n<p>I cannot find such functionality inside the standard implementation. I checked sources and found <em>BinaryExceptionClassifier#classify</em> which checks fatal/not fatal exceptions but perhaps customizing it is not the best way to deal with it.</p>\n<p>Is there any way to effectively have a filter to check whether the expection is retryable or not?</p>\n"},{"tags":["java","exception","httpclient"],"answers":[{"comments":[{"owner":{"account_id":2795866,"reputation":2091,"user_id":2416228,"accept_rate":85,"display_name":"MaheshVarma"},"score":1,"creation_date":1377510520,"post_id":9761833,"comment_id":27096369,"body_markdown":"Same Problem But mine is a standalone application. How to resolve?","body":"Same Problem But mine is a standalone application. How to resolve?"},{"owner":{"account_id":364832,"reputation":3834,"user_id":709426,"accept_rate":65,"display_name":"Torsten R&#246;mer"},"score":0,"creation_date":1622551022,"post_id":9761833,"comment_id":119819517,"body_markdown":"I got the same error when my truststore was of type JCEKS. With JKS it worked.","body":"I got the same error when my truststore was of type JCEKS. With JKS it worked."}],"tags":[],"owner":{"account_id":79739,"reputation":8808,"user_id":225885,"accept_rate":71,"display_name":"jim"},"comment_count":2,"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1353947056,"creation_date":1332101337,"answer_id":9761833,"question_id":9761575,"body_markdown":"Well after doing some more searching I discovered the error may be related to other issues as invalid keystores, passwords etc.\r\n\r\nI then remembered that I had set two VM arguments for when I was testing SSL for my network connectivity.\r\n\r\nI removed the following VM arguments to fix the problem:\r\n\r\n    -Djavax.net.ssl.keyStore=mySrvKeystore -Djavax.net.ssl.keyStorePassword=123456\r\n\r\nNote: this keystore no longer exists so that&#39;s probably why the Exception.","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>Well after doing some more searching I discovered the error may be related to other issues as invalid keystores, passwords etc.</p>\n\n<p>I then remembered that I had set two VM arguments for when I was testing SSL for my network connectivity.</p>\n\n<p>I removed the following VM arguments to fix the problem:</p>\n\n<pre><code>-Djavax.net.ssl.keyStore=mySrvKeystore -Djavax.net.ssl.keyStorePassword=123456\n</code></pre>\n\n<p>Note: this keystore no longer exists so that's probably why the Exception.</p>\n"},{"tags":[],"owner":{"account_id":389040,"reputation":385,"user_id":748285,"accept_rate":25,"display_name":"RJC"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1393426464,"creation_date":1393426464,"answer_id":22045028,"question_id":9761575,"body_markdown":"I&#39;ve had a similar issue with this error.  In my case, I was entering the incorrect password for the Keystore.\r\n\r\nI changed the password for the Keystore to match what I was entering (I didn&#39;t want to change the password I was entering), but it still gave the same error.\r\n\r\n    keytool -storepasswd -keystore keystore.jks\r\n\r\nProblem was that I also needed to change the Key&#39;s password within the Keystore.  \r\n\r\nWhen I initially created the Keystore, the Key was created with the same password as the Keystore (I accepted this default option).  So I had to also change the Key&#39;s password as follows:\r\n\r\n    keytool -keypasswd  -alias my.alias -keystore keystore.jks","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I've had a similar issue with this error.  In my case, I was entering the incorrect password for the Keystore.</p>\n\n<p>I changed the password for the Keystore to match what I was entering (I didn't want to change the password I was entering), but it still gave the same error.</p>\n\n<pre><code>keytool -storepasswd -keystore keystore.jks\n</code></pre>\n\n<p>Problem was that I also needed to change the Key's password within the Keystore.  </p>\n\n<p>When I initially created the Keystore, the Key was created with the same password as the Keystore (I accepted this default option).  So I had to also change the Key's password as follows:</p>\n\n<pre><code>keytool -keypasswd  -alias my.alias -keystore keystore.jks\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761573,"reputation":195,"user_id":2378369,"display_name":"amisiuryk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1539254112,"creation_date":1539254112,"answer_id":52757944,"question_id":9761575,"body_markdown":" I had the similar issue. The problem was in the passwords: the Keystore and private key used different passwords. (KeyStore explorer was used)\r\n\r\nAfter creating Keystore with the same password as private key had the issue was resolved.\r\n","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I had the similar issue. The problem was in the passwords: the Keystore and private key used different passwords. (KeyStore explorer was used)</p>\n\n<p>After creating Keystore with the same password as private key had the issue was resolved.</p>\n"},{"comments":[{"owner":{"account_id":11610226,"reputation":428,"user_id":8504654,"display_name":"Rosso"},"score":0,"creation_date":1643650328,"post_id":68759782,"comment_id":125391236,"body_markdown":"I also had a similar problem using different Java versions. The same exception occured, when using a keystore created with Java 17 with maven and Java 1.8","body":"I also had a similar problem using different Java versions. The same exception occured, when using a keystore created with Java 17 with maven and Java 1.8"}],"tags":[],"owner":{"account_id":279172,"reputation":4377,"user_id":574187,"accept_rate":64,"display_name":"ihadanny"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628780241,"creation_date":1628780241,"answer_id":68759782,"question_id":9761575,"body_markdown":"similar issue - had this bug when running from within intellij, did not have it when running from maven.\r\n\r\nturns out that IntelliJ was internally using bad java:\r\n\r\n```\r\n/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java --version\r\nopenjdk 11.0.12 2021-07-20\r\n```\r\n\r\nwhile maven was using good java:\r\n\r\n```\r\n/usr/local/buildtools/java/jdk11/bin/java --version\r\nopenjdk 11.0.11 2021-08-03\r\n```\r\n\r\nprobably one of these had some of the above keystore problems. ","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>similar issue - had this bug when running from within intellij, did not have it when running from maven.</p>\n<p>turns out that IntelliJ was internally using bad java:</p>\n<pre><code>/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java --version\nopenjdk 11.0.12 2021-07-20\n</code></pre>\n<p>while maven was using good java:</p>\n<pre><code>/usr/local/buildtools/java/jdk11/bin/java --version\nopenjdk 11.0.11 2021-08-03\n</code></pre>\n<p>probably one of these had some of the above keystore problems.</p>\n"},{"tags":[],"owner":{"account_id":13613566,"reputation":75,"user_id":9820210,"display_name":"Soodabeh Neirizi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676550084,"creation_date":1676550084,"answer_id":75472190,"question_id":9761575,"body_markdown":"You can try un-disabling of MD2 by re-enabling it by editing JDK_HOME/jre/lib/security/java.security. Simply comment the following line: From jdk.certpath.disabledAlgorithms=MD2 to #jdk.certpath.disabledAlgorithms=MD2","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>You can try un-disabling of MD2 by re-enabling it by editing JDK_HOME/jre/lib/security/java.security. Simply comment the following line: From jdk.certpath.disabledAlgorithms=MD2 to #jdk.certpath.disabledAlgorithms=MD2</p>\n"},{"tags":[],"owner":{"account_id":27724902,"reputation":299,"user_id":21164658,"display_name":"CloudWatcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689936007,"creation_date":1689241039,"answer_id":76677957,"question_id":9761575,"body_markdown":"I ran into this error message using [typesafe config][1]. I noticed that the error message was preceeded by these log messages:\r\n```\r\njavax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.048 CEST|TrustStoreManager.java:161|Inaccessible trust store: /srv/truststore.jks\r\njavax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.050 CEST|TrustStoreManager.java:112|trustStore is: /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts\r\n```\r\nSo even though I had used `-Djavax.net.ssl.trustStore=./truststore.jks` when starting the application, it would not stick and the application tried to access a different truststore. The explanation was that `/srv/truststore.jks` was configured in the reference.conf, overwrote the value of the system property in the code, did not exist locally and did not match the one I wanted to use. Then, a default truststore was used by Java, which of course did not have the correct certificates.\r\n\r\nThe reference.conf could be overridden by `-DtrustStore=./truststore.jks` on application start, no further credentials needed.\r\n\r\n\r\n  [1]: https://github.com/lightbend/config","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I ran into this error message using <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">typesafe config</a>. I noticed that the error message was preceeded by these log messages:</p>\n<pre><code>javax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.048 CEST|TrustStoreManager.java:161|Inaccessible trust store: /srv/truststore.jks\njavax.net.ssl|DEBUG|0A|pool-1-thread-1|2023-07-13 07:23:27.050 CEST|TrustStoreManager.java:112|trustStore is: /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts\n</code></pre>\n<p>So even though I had used <code>-Djavax.net.ssl.trustStore=./truststore.jks</code> when starting the application, it would not stick and the application tried to access a different truststore. The explanation was that <code>/srv/truststore.jks</code> was configured in the reference.conf, overwrote the value of the system property in the code, did not exist locally and did not match the one I wanted to use. Then, a default truststore was used by Java, which of course did not have the correct certificates.</p>\n<p>The reference.conf could be overridden by <code>-DtrustStore=./truststore.jks</code> on application start, no further credentials needed.</p>\n"},{"tags":[],"owner":{"account_id":21797838,"reputation":81,"user_id":16097168,"display_name":"Abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696954040,"creation_date":1696954040,"answer_id":77267390,"question_id":9761575,"body_markdown":"I use HttpURLConnection and see error java.security.NoSuchAlgorithmException. I use below codes and solved problem.\r\n```\r\nSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;); // or &quot;SSL&quot; depending on your requirements\r\nsslContext.init(null, null, new SecureRandom());\r\n\r\n((HttpsURLConnection) connection).setSSLSocketFactory(sslContext.getSocketFactory());\r\n```","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p>I use HttpURLConnection and see error java.security.NoSuchAlgorithmException. I use below codes and solved problem.</p>\n<pre><code>SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;); // or &quot;SSL&quot; depending on your requirements\nsslContext.init(null, null, new SecureRandom());\n\n((HttpsURLConnection) connection).setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n"}],"owner":{"account_id":79739,"reputation":8808,"user_id":225885,"accept_rate":71,"display_name":"jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160169,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":9761833,"answer_count":7,"score":42,"last_activity_date":1696954040,"creation_date":1332099393,"question_id":9761575,"body_markdown":"**Background**\r\n\r\nI have been using the Authorize.net SDK in an Eclipse project of it&#39;s own. Everything was working great. I then needed to add it to my main project. I added the dependencies to the class path and the copied in the block of code that I needed. It should have worked.\r\n\r\n**Problem**\r\n\r\nLong story short, the code wouldn&#39;t work where I placed it. However, it will work when I bring it right out to the main method in the project.\r\n\r\nIn the place it won&#39;t work I stepped through the code with the debugger and found the following exception:\r\n\r\n    java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\r\n\r\nthrown at:\r\n\r\n    HttpResponse httpResponse = httpClient.execute(httpPost);\r\nNote: httpClient = [DefaultHttpClient][1] from Apache\r\n\r\n\r\nI&#39;m completely stumped now. Don&#39;t what is causing this error. In Eclipse both products appear to be targeting the same JRE. They also both have httpclient-4.0.1.jar. Note that The problematic project also has some other dependencies that the working project doesnt { boneCP, guava, mysql_connector_java, protobuf }\r\n\r\nI don&#39;t think the extra jars are the cause as the problem code works at a different location in the project.\r\n\r\nAny ideas on what is wrong are greatly appreciated, i&#39;ve spent the day debugging this and don&#39;t know where to go next.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html","title":"Java NoSuchAlgorithmException - SunJSSE, sun.security.ssl.SSLContextImpl$DefaultSSLContext","body":"<p><strong>Background</strong></p>\n\n<p>I have been using the Authorize.net SDK in an Eclipse project of it's own. Everything was working great. I then needed to add it to my main project. I added the dependencies to the class path and the copied in the block of code that I needed. It should have worked.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>Long story short, the code wouldn't work where I placed it. However, it will work when I bring it right out to the main method in the project.</p>\n\n<p>In the place it won't work I stepped through the code with the debugger and found the following exception:</p>\n\n<pre><code>java.net.SocketException: java.security.NoSuchAlgorithmException: Error constructing implementation (algorithm: Default, provider: SunJSSE, class: sun.security.ssl.SSLContextImpl$DefaultSSLContext)\n</code></pre>\n\n<p>thrown at:</p>\n\n<pre><code>HttpResponse httpResponse = httpClient.execute(httpPost);\n</code></pre>\n\n<p>Note: httpClient = <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\">DefaultHttpClient</a> from Apache</p>\n\n<p>I'm completely stumped now. Don't what is causing this error. In Eclipse both products appear to be targeting the same JRE. They also both have httpclient-4.0.1.jar. Note that The problematic project also has some other dependencies that the working project doesnt { boneCP, guava, mysql_connector_java, protobuf }</p>\n\n<p>I don't think the extra jars are the cause as the problem code works at a different location in the project.</p>\n\n<p>Any ideas on what is wrong are greatly appreciated, i've spent the day debugging this and don't know where to go next.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven","ejb","wildfly","circular-dependency"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1696907034,"post_id":77238263,"comment_id":136209463,"body_markdown":"What do you mean by &quot;call&quot;? You should be able to do this with the deployment in WildFly, but you can&#39;t do it in a Maven build.","body":"What do you mean by &quot;call&quot;? You should be able to do this with the deployment in WildFly, but you can&#39;t do it in a Maven build."},{"owner":{"account_id":23255114,"reputation":1,"user_id":17342295,"display_name":"Maloda"},"score":0,"creation_date":1696910648,"post_id":77238263,"comment_id":136209720,"body_markdown":"I mean I want that the EJB act as a server as a client too, but to be able to do that each of them need the dependency of the other","body":"I mean I want that the EJB act as a server as a client too, but to be able to do that each of them need the dependency of the other"}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696953634,"creation_date":1696953634,"answer_id":77267336,"question_id":77238263,"body_markdown":"You can&#39;t have circular dependencies like that in build tools as it has to build one first. However, it can&#39;t build one without the other. You may want to consider handling this differently. Either put the common types into their own library or combine the two into a single library.","title":"Maven cyclic dependency error with EJBs acting as server as ejb client too","body":"<p>You can't have circular dependencies like that in build tools as it has to build one first. However, it can't build one without the other. You may want to consider handling this differently. Either put the common types into their own library or combine the two into a single library.</p>\n"}],"owner":{"account_id":23255114,"reputation":1,"user_id":17342295,"display_name":"Maloda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696953634,"creation_date":1696517555,"question_id":77238263,"body_markdown":"I created two projects with the same structure that will be packaged to ear and deployed using WildFly 29 Domain.\r\nA project contains an EJB module and a WEB module\r\n\r\nLet them be A and B\r\n\r\n\r\nI have done some research and I followed the [quickstart-ejb-multi-server][1] and A and B hase the same structure in it.\r\nI am already able to call A from B, but when I tried to call B from A, I got a problem with the **maven cyclic dependency**, because **A&#39;s EJB must be in B&#39;s pom.xml dependencies and the same as B&#39;s EJB must be in A&#39;s pom.xml dependencies**\r\n\r\n\r\nThe main pom.xml contains:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;A&lt;/module&gt;\r\n        &lt;module&gt;B&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n  \r\nThe A or B&#39; pom.xml contains:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;ejb&lt;/module&gt;\r\n        &lt;module&gt;web&lt;/module&gt;\r\n        &lt;module&gt;ear&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n\r\nAnd  B&#39;s EJB pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;A-ejb&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;type&gt;ejb-client&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.ejb3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-ejb3-ext-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;version&gt;2.2.0.Final&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n            &lt;version&gt;19.8.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;ejbVersion&gt;3.2&lt;/ejbVersion&gt;\r\n                    &lt;generateClient&gt;true&lt;/generateClient&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nI am able to call A from B and now I can&#39; t do the inverse\r\nI have already searched how to solve the cyclic dependency, but I didn&#39;t find a solution for EJB\r\nWhat should I do ?\r\n\r\n[1]: https://github.com/wildfly/quickstart/blob/main/ejb-multi-server/README.adoc#install_the_quickstart_parent_artifact_in_maven","title":"Maven cyclic dependency error with EJBs acting as server as ejb client too","body":"<p>I created two projects with the same structure that will be packaged to ear and deployed using WildFly 29 Domain.\nA project contains an EJB module and a WEB module</p>\n<p>Let them be A and B</p>\n<p>I have done some research and I followed the <a href=\"https://github.com/wildfly/quickstart/blob/main/ejb-multi-server/README.adoc#install_the_quickstart_parent_artifact_in_maven\" rel=\"nofollow noreferrer\">quickstart-ejb-multi-server</a> and A and B hase the same structure in it.\nI am already able to call A from B, but when I tried to call B from A, I got a problem with the <strong>maven cyclic dependency</strong>, because <strong>A's EJB must be in B's pom.xml dependencies and the same as B's EJB must be in A's pom.xml dependencies</strong></p>\n<p>The main pom.xml contains:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;A&lt;/module&gt;\n    &lt;module&gt;B&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>The A or B' pom.xml contains:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;ejb&lt;/module&gt;\n    &lt;module&gt;web&lt;/module&gt;\n    &lt;module&gt;ear&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>And  B's EJB pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;A-ejb&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;type&gt;ejb-client&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ejb3&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-ejb3-ext-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;version&gt;2.2.0.Final&lt;/version&gt; \n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;version&gt;19.8.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;ejbVersion&gt;3.2&lt;/ejbVersion&gt;\n                &lt;generateClient&gt;true&lt;/generateClient&gt;\n                &lt;archive&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I am able to call A from B and now I can' t do the inverse\nI have already searched how to solve the cyclic dependency, but I didn't find a solution for EJB\nWhat should I do ?</p>\n"},{"tags":["java","spring-boot","server"],"owner":{"account_id":14894081,"reputation":313,"user_id":10754932,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696953259,"creation_date":1696953108,"question_id":77267275,"body_markdown":"I want my Spring Boot Application to run on a vServer and not only from my local machine. \r\nSo I rented a vServer which is available under http://81f32c8.online-server.cloud/. \r\nAfter that I ran my build Spring Boot App on the server with `java -jar -Dspring.profiles.active=prod ./app.jar`\r\n\r\nAnd Spring Boot started successfully: \r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.6.8)\r\n\r\n2023-10-10 15:42:49.906  INFO 5279 --- [           main] com.example.system.SystemApplication     : Starting SystemApplication using Java 11.0.20.1 on localhost with PID 5279 (/root/app.jar started by root in /root)\r\n2023-10-10 15:42:49.915  INFO 5279 --- [           main] com.example.system.SystemApplication     : The following 1 profile is active: &quot;prod&quot;\r\n2023-10-10 15:42:52.870  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-10 15:42:53.150  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 8 JPA repository interfaces.\r\n2023-10-10 15:42:55.298  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\r\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5513 ms\r\n2023-10-10 15:42:56.757  WARN 5279 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-10-10 15:42:57.173  INFO 5279 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-10-10 15:42:57.366  INFO 5279 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\r\n2023-10-10 15:42:57.940  INFO 5279 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-10-10 15:42:58.313  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-10-10 15:42:58.538  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-10-10 15:42:58.651  INFO 5279 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MariaDB106Dialect\r\n2023-10-10 15:43:00.963  INFO 5279 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-10-10 15:43:00.995  INFO 5279 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-10-10 15:43:06.896  INFO 5279 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c1663c, org.springframework.security.web.context.SecurityContextPersistenceFilter@42aae04d, org.springframework.security.web.header.HeaderWriterFilter@6419a0e1, org.springframework.web.filter.CorsFilter@f5cf29b, org.springframework.security.web.authentication.logout.LogoutFilter@16a35bd, com.example.system.security.jwt.JwtAuthenticationTokenFilter@3f9f71ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@575e572f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7426a448, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c66b7d8, org.springframework.security.web.session.SessionManagementFilter@56b859a6, org.springframework.security.web.access.ExceptionTranslationFilter@6ed043d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a2e565]\r\n2023-10-10 15:43:07.854  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-10-10 15:43:07.891  INFO 5279 --- [           main] com.example.system.SystemApplication     : Started SystemApplication in 19.602 seconds (JVM running for 21.136)\r\n```\r\n\r\nBut when I try to reach my get endpoint `/api/v1/instrument/list` with `http://81f32c8.online-server.cloud/api/v1/instrument/list` I got no response. \r\n\r\nHas someone an idea what I forgot? \r\nDo I have to configure the tomcat webserver somehow?","title":"Spring Boot API on vServer not responding","body":"<p>I want my Spring Boot Application to run on a vServer and not only from my local machine.\nSo I rented a vServer which is available under <a href=\"http://81f32c8.online-server.cloud/\" rel=\"nofollow noreferrer\">http://81f32c8.online-server.cloud/</a>.\nAfter that I ran my build Spring Boot App on the server with <code>java -jar -Dspring.profiles.active=prod ./app.jar</code></p>\n<p>And Spring Boot started successfully:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.8)\n\n2023-10-10 15:42:49.906  INFO 5279 --- [           main] com.example.system.SystemApplication     : Starting SystemApplication using Java 11.0.20.1 on localhost with PID 5279 (/root/app.jar started by root in /root)\n2023-10-10 15:42:49.915  INFO 5279 --- [           main] com.example.system.SystemApplication     : The following 1 profile is active: &quot;prod&quot;\n2023-10-10 15:42:52.870  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-10 15:42:53.150  INFO 5279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 8 JPA repository interfaces.\n2023-10-10 15:42:55.298  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-10 15:42:55.337  INFO 5279 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-10 15:42:55.593  INFO 5279 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5513 ms\n2023-10-10 15:42:56.757  WARN 5279 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-10-10 15:42:57.173  INFO 5279 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-10-10 15:42:57.366  INFO 5279 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final\n2023-10-10 15:42:57.940  INFO 5279 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-10-10 15:42:58.313  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-10-10 15:42:58.538  INFO 5279 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-10-10 15:42:58.651  INFO 5279 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MariaDB106Dialect\n2023-10-10 15:43:00.963  INFO 5279 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-10-10 15:43:00.995  INFO 5279 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-10-10 15:43:06.896  INFO 5279 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c1663c, org.springframework.security.web.context.SecurityContextPersistenceFilter@42aae04d, org.springframework.security.web.header.HeaderWriterFilter@6419a0e1, org.springframework.web.filter.CorsFilter@f5cf29b, org.springframework.security.web.authentication.logout.LogoutFilter@16a35bd, com.example.system.security.jwt.JwtAuthenticationTokenFilter@3f9f71ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@575e572f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7426a448, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c66b7d8, org.springframework.security.web.session.SessionManagementFilter@56b859a6, org.springframework.security.web.access.ExceptionTranslationFilter@6ed043d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24a2e565]\n2023-10-10 15:43:07.854  INFO 5279 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-10-10 15:43:07.891  INFO 5279 --- [           main] com.example.system.SystemApplication     : Started SystemApplication in 19.602 seconds (JVM running for 21.136)\n</code></pre>\n<p>But when I try to reach my get endpoint <code>/api/v1/instrument/list</code> with <code>http://81f32c8.online-server.cloud/api/v1/instrument/list</code> I got no response.</p>\n<p>Has someone an idea what I forgot?\nDo I have to configure the tomcat webserver somehow?</p>\n"},{"tags":["java","spring","docker","jersey"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1693586353,"post_id":77006236,"comment_id":135785393,"body_markdown":"Seem trying to build uber jar with Jersey doesn&#39;t work in Spring Boot. The `packages()` function breaks. But when you register the classes individually, it works. I&#39;ve seen workarounds people have used, but I&#39;m not sure what they are.","body":"Seem trying to build uber jar with Jersey doesn&#39;t work in Spring Boot. The <code>packages()</code> function breaks. But when you register the classes individually, it works. I&#39;ve seen workarounds people have used, but I&#39;m not sure what they are."}],"owner":{"account_id":29327954,"reputation":1,"user_id":22470025,"display_name":"Cyril Demand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696953231,"creation_date":1693384371,"question_id":77006236,"body_markdown":"I tried to make a REST API with spring and launching it with docker. But my jerseyConfig seems a bit broken.\r\n\r\nI can run my spring API on my computer but it doesn&#39;t seem to work on docker and I don&#39;t know why :( . I found people that had the same problem as me on internet but it didn&#39;t really help me.\r\n\r\nHere&#39;s my JerseyConfig:\r\n\r\n``` \r\npackage imt.projetrentree.projet.config;\r\n\r\nimport imt.projetrentree.projet.controllers.AuthController;\r\nimport jakarta.ws.rs.ApplicationPath;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Configuration\r\n@ApplicationPath(&quot;api&quot;)\r\npublic class JerseyConfig extends ResourceConfig {\r\n\r\n\tpublic JerseyConfig() {\r\n\r\n\t\tString basePackage = AuthController.class.getPackage().getName();\r\n\r\n\t\tpackages(basePackage);\r\n\t}\r\n}\r\n``` \r\n\r\nWhen I try to run my project on Docker I have this error, but I don&#39;t know why:\r\n\r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;jerseyConfig&#39; defined in URL\r\n&gt; [jar:file:/usr/src/app/target/projet-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/imt/projetrentree/projet/config/JerseyConfig.class]:\r\n&gt; Failed to instantiate\r\n&gt; [imt.projetrentree.projet.config.JerseyConfig$$SpringCGLIB$$0]:\r\n&gt; Constructor threw exception\r\n\r\nNote that if I change my `basePackage` variable to `JerseyConfig.class.getPackage().getName()` my project runs but I only have 404 errors.\r\n\r\nI put a image of my docker directories.","title":"How can I config my JerseyConfig with docker","body":"<p>I tried to make a REST API with spring and launching it with docker. But my jerseyConfig seems a bit broken.</p>\n<p>I can run my spring API on my computer but it doesn't seem to work on docker and I don't know why :( . I found people that had the same problem as me on internet but it didn't really help me.</p>\n<p>Here's my JerseyConfig:</p>\n<pre><code>package imt.projetrentree.projet.config;\n\nimport imt.projetrentree.projet.controllers.AuthController;\nimport jakarta.ws.rs.ApplicationPath;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Configuration\n@ApplicationPath(&quot;api&quot;)\npublic class JerseyConfig extends ResourceConfig {\n\n    public JerseyConfig() {\n\n        String basePackage = AuthController.class.getPackage().getName();\n\n        packages(basePackage);\n    }\n}\n</code></pre>\n<p>When I try to run my project on Docker I have this error, but I don't know why:</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'jerseyConfig' defined in URL\n[jar:file:/usr/src/app/target/projet-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/imt/projetrentree/projet/config/JerseyConfig.class]:\nFailed to instantiate\n[imt.projetrentree.projet.config.JerseyConfig$$SpringCGLIB$$0]:\nConstructor threw exception</p>\n</blockquote>\n<p>Note that if I change my <code>basePackage</code> variable to <code>JerseyConfig.class.getPackage().getName()</code> my project runs but I only have 404 errors.</p>\n<p>I put a image of my docker directories.</p>\n"},{"tags":["java","spring-boot","google-oauth","google-calendar-api","google-api-java-client"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696865321,"post_id":77260057,"comment_id":136204462,"body_markdown":"No. If you want access to a user&#39;s Google calendar, they will always have to go through some kind of Google authentication to give you access. You don&#39;t have to use that as your application&#39;s login, of course, but they do have to do it.","body":"No. If you want access to a user&#39;s Google calendar, they will always have to go through some kind of Google authentication to give you access. You don&#39;t have to use that as your application&#39;s login, of course, but they do have to do it."},{"owner":{"account_id":14913184,"reputation":5,"user_id":10767937,"display_name":"Rekillme Re"},"score":0,"creation_date":1696866033,"post_id":77260057,"comment_id":136204597,"body_markdown":"I don&#39;t think so, because I have already used a web application in the past where I had to integrate my Google account just once and subsequently each time I create an event in the application it is created automatically in my google calendar","body":"I don&#39;t think so, because I have already used a web application in the past where I had to integrate my Google account just once and subsequently each time I create an event in the application it is created automatically in my google calendar"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696866477,"post_id":77260057,"comment_id":136204689,"body_markdown":"Yes, that might be possible. But you&#39;d have to gain access to that calendar the first time at least. You&#39;ll get a token from Google that allows you to interact with the calendar.","body":"Yes, that might be possible. But you&#39;d have to gain access to that calendar the first time at least. You&#39;ll get a token from Google that allows you to interact with the calendar."}],"answers":[{"comments":[{"owner":{"account_id":14913184,"reputation":5,"user_id":10767937,"display_name":"Rekillme Re"},"score":0,"creation_date":1696942697,"post_id":77260416,"comment_id":136214835,"body_markdown":"tks! I just tried the sample, it works very well. I had to log into my Google account just the first time. I have two questions:1.how to configured properly the FileDataStoreFactory store each users credentials and and use those of the connected user? 2. how to disconect an account?","body":"tks! I just tried the sample, it works very well. I had to log into my Google account just the first time. I have two questions:1.how to configured properly the FileDataStoreFactory store each users credentials and and use those of the connected user? 2. how to disconect an account?"},{"owner":{"account_id":14913184,"reputation":5,"user_id":10767937,"display_name":"Rekillme Re"},"score":1,"creation_date":1697047982,"post_id":77260416,"comment_id":136231651,"body_markdown":"tks! it works well!","body":"tks! it works well!"}],"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696952344,"creation_date":1696868720,"answer_id":77260416,"question_id":77260057,"body_markdown":"You should have a look at the [official sample][1]\r\n\r\n\r\n    // Build flow and trigger user authorization request.\r\n    GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n        HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n        .setAccessType(&quot;offline&quot;)\r\n        .build();\r\n\r\nIf FileDataStoreFactory is configured properly it will store each users credentials, then you will only need to request access once. \r\n\r\nUpdate: \r\n\r\nquestions from comments\r\n\r\n&gt;1.how to configured properly the FileDataStoreFactory store each users credentials and and use those of the connected user?\r\n\r\nCheck the sample below `.authorize(&quot;user&quot;);` will denote a user and store the creds for that user.\r\n\r\n&gt;2. how to disconect an account?\r\n\r\nby either calling the revoke endpoint or deleting their file stored above.  It will force your app to request authorization again.\r\n\r\n\r\n    private static Credential authorize() throws Exception\r\n        {\r\n            HttpTransport httpTransport = new NetHttpTransport();\r\n            JsonFactory jsonFactory = new JacksonFactory();\r\n    \r\n            // load client secrets\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\r\n                    new InputStreamReader(BigQueryConsumer.class.getResourceAsStream(&quot;/secret.json&quot;)));\r\n    \r\n            // This creates the credentials datastore at ~/.oauth-credentials/${credentialDatastore}\r\n            FileDataStoreFactory fileDataStoreFactory = new FileDataStoreFactory(new File(System.getProperty(&quot;user.home&quot;) + &quot;/&quot; + CREDENTIALS_DIRECTORY));\r\n    \r\n            // set up authorization code flow\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    httpTransport, JSON_FACTORY, clientSecrets,\r\n                    SCOPES).setDataStoreFactory(fileDataStoreFactory)\r\n                    .build();\r\n            // authorize\r\n            return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\r\n        }\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/calendar/api/quickstart/java","title":"google-calendar-api with java spring boot","body":"<p>You should have a look at the <a href=\"https://developers.google.com/calendar/api/quickstart/java\" rel=\"nofollow noreferrer\">official sample</a></p>\n<pre><code>// Build flow and trigger user authorization request.\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n    .setAccessType(&quot;offline&quot;)\n    .build();\n</code></pre>\n<p>If FileDataStoreFactory is configured properly it will store each users credentials, then you will only need to request access once.</p>\n<p>Update:</p>\n<p>questions from comments</p>\n<blockquote>\n<p>1.how to configured properly the FileDataStoreFactory store each users credentials and and use those of the connected user?</p>\n</blockquote>\n<p>Check the sample below <code>.authorize(&quot;user&quot;);</code> will denote a user and store the creds for that user.</p>\n<blockquote>\n<ol start=\"2\">\n<li>how to disconect an account?</li>\n</ol>\n</blockquote>\n<p>by either calling the revoke endpoint or deleting their file stored above.  It will force your app to request authorization again.</p>\n<pre><code>private static Credential authorize() throws Exception\n    {\n        HttpTransport httpTransport = new NetHttpTransport();\n        JsonFactory jsonFactory = new JacksonFactory();\n\n        // load client secrets\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY,\n                new InputStreamReader(BigQueryConsumer.class.getResourceAsStream(&quot;/secret.json&quot;)));\n\n        // This creates the credentials datastore at ~/.oauth-credentials/${credentialDatastore}\n        FileDataStoreFactory fileDataStoreFactory = new FileDataStoreFactory(new File(System.getProperty(&quot;user.home&quot;) + &quot;/&quot; + CREDENTIALS_DIRECTORY));\n\n        // set up authorization code flow\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                httpTransport, JSON_FACTORY, clientSecrets,\n                SCOPES).setDataStoreFactory(fileDataStoreFactory)\n                .build();\n        // authorize\n        return new AuthorizationCodeInstalledApp(flow, new LocalServerReceiver()).authorize(&quot;user&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":14913184,"reputation":5,"user_id":10767937,"display_name":"Rekillme Re"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260416,"answer_count":1,"score":0,"last_activity_date":1696952344,"creation_date":1696865094,"question_id":77260057,"body_markdown":"I am developing a java Springboot web application. In Which I have multiple users that login with a adress mail and a password. The login is Ok. \r\n\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\t\thttp.authorizeRequests().antMatchers(&quot;/error.xhtml&quot;).permitAll().antMatchers(&quot;/error-404.xhtml&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated().accessDeniedPage(&quot;/accessDenied.xhtml&quot;);\r\n\t\t;\r\n\t\t// login\r\n\t\thttp.formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error=1&quot;);\r\n\t\t// logout\r\n\t\thttp.logout().logoutSuccessUrl(&quot;/login&quot;).invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;);\r\n\r\n\t\thttp.formLogin().defaultSuccessUrl(&quot;/dashboard&quot;, true);\r\n\r\n\t\thttp.csrf().disable();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n\t\tauthenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\nI don’t want a google login. I need to integrate their google calendar to application account so hey cant creat  event and meeting using their gmail id.\r\n\r\n \r\nIs there any way that I can integrate their google account to the application by having to get consent from the users just only one time in the setting.\r\n\r\n![enter image description here][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOKGL.png","title":"google-calendar-api with java spring boot","body":"<p>I am developing a java Springboot web application. In Which I have multiple users that login with a adress mail and a password. The login is Ok.</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests().antMatchers(&quot;/error.xhtml&quot;).permitAll().antMatchers(&quot;/error-404.xhtml&quot;).permitAll()\n            .anyRequest().authenticated().accessDeniedPage(&quot;/accessDenied.xhtml&quot;);\n    ;\n    // login\n    http.formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error=1&quot;);\n    // logout\n    http.logout().logoutSuccessUrl(&quot;/login&quot;).invalidateHttpSession(true).deleteCookies(&quot;JSESSIONID&quot;);\n\n    http.formLogin().defaultSuccessUrl(&quot;/dashboard&quot;, true);\n\n    http.csrf().disable();\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>I don’t want a google login. I need to integrate their google calendar to application account so hey cant creat  event and meeting using their gmail id.</p>\n<p>Is there any way that I can integrate their google account to the application by having to get consent from the users just only one time in the setting.</p>\n<p><img src=\"https://i.stack.imgur.com/IOKGL.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","grails","inheritance","model-view-controller","groovy"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1424896374,"post_id":28728135,"comment_id":45744273,"body_markdown":"so you think, that the data binding is not working there?  can you do a quick override of the method in your concrete instance there and see if this fills the object?  or how can you be sure, that there is no error already in an earlier stage (e.g. submitted data)?","body":"so you think, that the data binding is not working there?  can you do a quick override of the method in your concrete instance there and see if this fills the object?  or how can you be sure, that there is no error already in an earlier stage (e.g. submitted data)?"},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1424896659,"post_id":28728135,"comment_id":45744415,"body_markdown":"@cfrick I&#39;ve checked it, if you pass `SomeCommand` to `SomeController` it will work.","body":"@cfrick I&#39;ve checked it, if you pass <code>SomeCommand</code> to <code>SomeController</code> it will work."}],"answers":[{"tags":[],"owner":{"account_id":22688574,"reputation":1,"user_id":16857817,"display_name":"Dyanko Petkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696951689,"creation_date":1696590117,"answer_id":77243925,"question_id":28728135,"body_markdown":"Create explicit constructor with the super properties for the command class. It worked for me:\r\n\r\n```java\r\nClassConstructor() {\r\n    this.propOne = super.propOne\r\n    this.propTwo = super.propTwo\r\n}\r\n```","title":"Grails command object inheritance","body":"<p>Create explicit constructor with the super properties for the command class. It worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassConstructor() {\n    this.propOne = super.propOne\n    this.propTwo = super.propTwo\n}\n</code></pre>\n"}],"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696951689,"creation_date":1424893289,"question_id":28728135,"body_markdown":"In my project I use abstract controller to wrap some basic rest stuff.\r\n\r\nlets say we have a base domain class: `abstract class Entity`. And a base controller: \r\n\r\n    abstract class CrudController&lt;\r\n        Domain extends Entity, \r\n        DTO extends Command&lt;Domain&gt;,\r\n        Service extends CrudService&lt;Domain&gt;&gt; {\r\n    \r\n        //...//\r\n    \r\n        def insert(DTO dto) { \r\n            //..// \r\n        }\r\n    \r\n        //...//\r\n    \r\n    }\r\n    \r\n    class Command&lt;Domain extends Entity&gt; {\r\n    \r\n    }\r\nand then we have our implementations:\r\n\r\n    SomeController extends CrudController&lt;SomeDomain,SomeCommand,SomeService&gt; \r\n    SomeCommand extends Command&lt;SomeDomain&gt;\r\n    SomeDomain extends Entity\r\n\r\nThe code compile without complaining, but insert method always receives null. Am I on the right track? How can I make this work?\r\n\r\n**UPDATE**\r\n\r\nIt seems that insert method receives `Command` instead of `SomeCommand` instance. ","title":"Grails command object inheritance","body":"<p>In my project I use abstract controller to wrap some basic rest stuff.</p>\n\n<p>lets say we have a base domain class: <code>abstract class Entity</code>. And a base controller: </p>\n\n<pre><code>abstract class CrudController&lt;\n    Domain extends Entity, \n    DTO extends Command&lt;Domain&gt;,\n    Service extends CrudService&lt;Domain&gt;&gt; {\n\n    //...//\n\n    def insert(DTO dto) { \n        //..// \n    }\n\n    //...//\n\n}\n\nclass Command&lt;Domain extends Entity&gt; {\n\n}\n</code></pre>\n\n<p>and then we have our implementations:</p>\n\n<pre><code>SomeController extends CrudController&lt;SomeDomain,SomeCommand,SomeService&gt; \nSomeCommand extends Command&lt;SomeDomain&gt;\nSomeDomain extends Entity\n</code></pre>\n\n<p>The code compile without complaining, but insert method always receives null. Am I on the right track? How can I make this work?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It seems that insert method receives <code>Command</code> instead of <code>SomeCommand</code> instance. </p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka","spring-transactions"],"answers":[{"comments":[{"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"score":0,"creation_date":1696915269,"post_id":77259871,"comment_id":136210105,"body_markdown":"Yeah I have already increased the interval to 90 sec and just 3 records but still I am getting that exception. And same batch is getting polled again","body":"Yeah I have already increased the interval to 90 sec and just 3 records but still I am getting that exception. And same batch is getting polled again"},{"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"score":0,"creation_date":1696915482,"post_id":77259871,"comment_id":136210128,"body_markdown":"My requirement is.. after polling a batch, if any record is invalid then that record should be published in error topic and the offfset should be committed so that \nthe next polled batch starts from the offset after the failed msg offset.","body":"My requirement is.. after polling a batch, if any record is invalid then that record should be published in error topic and the offfset should be committed so that  the next polled batch starts from the offset after the failed msg offset."},{"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"score":0,"creation_date":1696917410,"post_id":77259871,"comment_id":136210297,"body_markdown":"Another behavior I observed is when the offsets in toCommit and remaining are committed, still in the next batch, same messages are polled again which is not as expected","body":"Another behavior I observed is when the offsets in toCommit and remaining are committed, still in the next batch, same messages are polled again which is not as expected"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1696931935,"post_id":77259871,"comment_id":136212686,"body_markdown":"The title mentions transactions. You can’t use an error handler with transactions because it runs within the transaction. Use an after rollback processor instead. With transactions, the complete batch has to be redelivered.","body":"The title mentions transactions. You can’t use an error handler with transactions because it runs within the transaction. Use an after rollback processor instead. With transactions, the complete batch has to be redelivered."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696863438,"creation_date":1696863438,"answer_id":77259871,"question_id":77256669,"body_markdown":"Your consumer is taking too long to process the batch and Kafka is kicking the consumer out of the group; either increase `max.poll.intervl.ms` or decrease `max.poll.records` such that your listener can always process the records without exceeding the interval (allow a good amount of safety).","title":"Spring kafka batch listener transaction","body":"<p>Your consumer is taking too long to process the batch and Kafka is kicking the consumer out of the group; either increase <code>max.poll.intervl.ms</code> or decrease <code>max.poll.records</code> such that your listener can always process the records without exceeding the interval (allow a good amount of safety).</p>\n"},{"comments":[{"owner":{"account_id":10684140,"reputation":101,"user_id":7865181,"display_name":"Thisun"},"score":0,"creation_date":1697030610,"post_id":77267081,"comment_id":136228138,"body_markdown":"Hi, are you using MANUAL commits with the batch listener?","body":"Hi, are you using MANUAL commits with the batch listener?"},{"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"score":0,"creation_date":1697088527,"post_id":77267081,"comment_id":136235834,"body_markdown":"Yes manual commit","body":"Yes manual commit"}],"tags":[],"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696951510,"creation_date":1696951510,"answer_id":77267081,"question_id":77256669,"body_markdown":"I am  throwing batchListenerFailedExcpetion with the index of the failed msg and using error handler which publishes the failed record( suppose 2nd msg) to error topic and commits the offset. In the rollbackprocessor logic, I have overriden the process method with no code inside the method since defaulterrorhandler does the required job. And in the next poll call, I can now see the message batch starting from the offset after the failed msg offset. But the problem is since I am using transaction in a batch, even if 1st msg of that batch is successfully commited in the error handler, but in the poll method, after processing and publishing of the msg to downstream topic corresponding to the first msg is done, It wont be available in that downstream topic since that particular txn is aborted and we are read8ng in read_committed mode","title":"Spring kafka batch listener transaction","body":"<p>I am  throwing batchListenerFailedExcpetion with the index of the failed msg and using error handler which publishes the failed record( suppose 2nd msg) to error topic and commits the offset. In the rollbackprocessor logic, I have overriden the process method with no code inside the method since defaulterrorhandler does the required job. And in the next poll call, I can now see the message batch starting from the offset after the failed msg offset. But the problem is since I am using transaction in a batch, even if 1st msg of that batch is successfully commited in the error handler, but in the poll method, after processing and publishing of the msg to downstream topic corresponding to the first msg is done, It wont be available in that downstream topic since that particular txn is aborted and we are read8ng in read_committed mode</p>\n"}],"owner":{"account_id":29629824,"reputation":1,"user_id":22708500,"display_name":"Samruddhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696951510,"creation_date":1696833109,"question_id":77256669,"body_markdown":"I am using spring kafka batch listener. For dealing with exception, I am throwing BatchListenerFailedException with the index of the failed msg. In the kafka config class, I have added this logic.\r\n\r\n    DeadLetterPublishingRecoverer dlpRecoverer = new DeadLetterPublish8ngRecoverer(dltTemplate,(record, exception) -&gt; new TopicPartition(topicName, record.partition()));\r\n    DefaultErrorHandler errorHandler = new DefaultErrorHandler(dlpRecoverer, new FixedBackOff(0,0));\r\n    factory.setCommonErrorHandler(errorHandler);\r\n\r\nAfter executing this logic, failed msg are getting pushed to dlt topic but offset is getting committed intermittently. Hence same msg batch is getting polled again.\r\nException I am getting while commit.sync is\r\nCommitFailedException: Offset commit cannot be completed since the consumer is not a part of an active group for auto partition assignment.\r\n\r\nTried BatchExceptionHandling logic but did not work\r\n","title":"Spring kafka batch listener transaction","body":"<p>I am using spring kafka batch listener. For dealing with exception, I am throwing BatchListenerFailedException with the index of the failed msg. In the kafka config class, I have added this logic.</p>\n<pre><code>DeadLetterPublishingRecoverer dlpRecoverer = new DeadLetterPublish8ngRecoverer(dltTemplate,(record, exception) -&gt; new TopicPartition(topicName, record.partition()));\nDefaultErrorHandler errorHandler = new DefaultErrorHandler(dlpRecoverer, new FixedBackOff(0,0));\nfactory.setCommonErrorHandler(errorHandler);\n</code></pre>\n<p>After executing this logic, failed msg are getting pushed to dlt topic but offset is getting committed intermittently. Hence same msg batch is getting polled again.\nException I am getting while commit.sync is\nCommitFailedException: Offset commit cannot be completed since the consumer is not a part of an active group for auto partition assignment.</p>\n<p>Tried BatchExceptionHandling logic but did not work</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696950913,"post_id":77266964,"comment_id":136216678,"body_markdown":"I think this is one of the details left out of the tutorial, and that the author created a `static` method called `from` to take the place of a constructor, and that is one of the details they glossed over using the comment _&quot;// constructor, getters etc.&quot;_ in the `Passengers` class. There is nothing in Java nor in JPA that would somehow automatically create a method called `from`.","body":"I think this is one of the details left out of the tutorial, and that the author created a <code>static</code> method called <code>from</code> to take the place of a constructor, and that is one of the details they glossed over using the comment <i>&quot;// constructor, getters etc.&quot;</i> in the <code>Passengers</code> class. There is nothing in Java nor in JPA that would somehow automatically create a method called <code>from</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696951070,"post_id":77266964,"comment_id":136216716,"body_markdown":"This is confirmed if you look at the GitHub repository linked at the end of the tutorial. Specifically, look at [`Passenger.from`](https://github.com/eugenp/tutorials/blob/master/persistence-modules/spring-data-jpa-query/src/main/java/com/baeldung/boot/passenger/Passenger.java#L36). In other words, your question is based on a misconception.","body":"This is confirmed if you look at the GitHub repository linked at the end of the tutorial. Specifically, look at <a href=\"https://github.com/eugenp/tutorials/blob/master/persistence-modules/spring-data-jpa-query/src/main/java/com/baeldung/boot/passenger/Passenger.java#L36\" rel=\"nofollow noreferrer\"><code>Passenger.from</code></a>. In other words, your question is based on a misconception."}],"owner":{"account_id":10698974,"reputation":1,"user_id":15337112,"display_name":"Rosario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696950797,"creation_date":1696950511,"question_id":77266964,"body_markdown":"I have written a service which makes a query using as filters several fields. I want to learn to use the &quot;Example&quot; class of JPA. The problem is that the DatiAccessoriFascicoloModel.from method is not recognized by Eclipse.\r\n\r\nThe class DatiAccessoriFascicoloModel actually does not contain a &quot;from&quot; method, but I followed this tutorial https://www.baeldung.com/spring-data-query-by-example which suggests the use of a construct similar to Model.from in order to build the Example object.\r\n\r\n```\r\npublic DatiAccessoriFascicoloModel findByIdFascAndIdRegistr(long idFascicolo, long idRegistro){\r\n\tDatiAccessoriFascicoloModel datiAccessFascic = new DatiAccessoriFascicoloModel();\r\n\tExample&lt;DatiAccessoriFascicoloModel&gt; example = Example.of(DatiAccessoriFascicoloModel.from(null,idFascicolo,idRegistro,null,null));\r\n    Optional&lt;DatiAccessoriFascicoloModel&gt; actual = datiAccessoriFascicoloRepository.findOne(example);\r\n    \r\n    if(actual.isPresent()) {\r\n    \treturn actual.get();\r\n    }\r\n    else return null;\r\n\treturn null;\r\n}\r\n```\r\n\r\nI made efforts to search guides in order to find a solution. I want to understand where the problem is, my suspicion is that there is a confusion in the classes used or imported.","title":"Method &quot;from&quot; not recognize in a Jpa Model object","body":"<p>I have written a service which makes a query using as filters several fields. I want to learn to use the &quot;Example&quot; class of JPA. The problem is that the DatiAccessoriFascicoloModel.from method is not recognized by Eclipse.</p>\n<p>The class DatiAccessoriFascicoloModel actually does not contain a &quot;from&quot; method, but I followed this tutorial <a href=\"https://www.baeldung.com/spring-data-query-by-example\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-query-by-example</a> which suggests the use of a construct similar to Model.from in order to build the Example object.</p>\n<pre><code>public DatiAccessoriFascicoloModel findByIdFascAndIdRegistr(long idFascicolo, long idRegistro){\n    DatiAccessoriFascicoloModel datiAccessFascic = new DatiAccessoriFascicoloModel();\n    Example&lt;DatiAccessoriFascicoloModel&gt; example = Example.of(DatiAccessoriFascicoloModel.from(null,idFascicolo,idRegistro,null,null));\n    Optional&lt;DatiAccessoriFascicoloModel&gt; actual = datiAccessoriFascicoloRepository.findOne(example);\n    \n    if(actual.isPresent()) {\n        return actual.get();\n    }\n    else return null;\n    return null;\n}\n</code></pre>\n<p>I made efforts to search guides in order to find a solution. I want to understand where the problem is, my suspicion is that there is a confusion in the classes used or imported.</p>\n"},{"tags":["java","mysql","hibernate","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696845468,"post_id":77253206,"comment_id":136200482,"body_markdown":"Which MySQL version are you using, and which version of MySQL Connector/J?","body":"Which MySQL version are you using, and which version of MySQL Connector/J?"},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1696848612,"post_id":77253206,"comment_id":136201049,"body_markdown":"@MarkRotteveel I currently use MariaDB version 11.1.2, and MySQL connector version 8.0.27","body":"@MarkRotteveel I currently use MariaDB version 11.1.2, and MySQL connector version 8.0.27"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696852904,"post_id":77253206,"comment_id":136201874,"body_markdown":"If you&#39;re using MariaDB, then you should 1) use the MariaDB Connector, 2) use a MariaDB JDBC URL (`jdbc:mariadb:...`, which would then select the MariaDB dialect.","body":"If you&#39;re using MariaDB, then you should 1) use the MariaDB Connector, 2) use a MariaDB JDBC URL (<code>jdbc:mariadb:...</code>, which would then select the MariaDB dialect."},{"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"score":0,"creation_date":1696946358,"post_id":77253206,"comment_id":136215635,"body_markdown":"Thanks for your suggestion! I will try that Connector driver thing out.","body":"Thanks for your suggestion! I will try that Connector driver thing out."}],"answers":[{"tags":[],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696950672,"creation_date":1696946524,"answer_id":77266482,"question_id":77253206,"body_markdown":"As suggested by Mark Rotteveel, I tried to change my dependencies to use MariaDB rather than MySQL itself.\r\n\r\n```groovy\r\ndependencies {\r\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n\r\n    // hibernate\r\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.3.0.Final&quot;)\r\n\r\n    // mysql / mariadb\r\n    // implementation(&quot;mysql:mysql-connector-java:8.0.27&quot;)\r\n    implementation(&quot;org.mariadb.jdbc:mariadb-java-client:3.1.4&quot;)\r\n}\r\n```\r\nTurns out I don&#39;t have to specify the driver and the dialect either. \r\n\r\n```xml\r\n    &lt;!-- JDBC Database connection settings --&gt;\r\n    &lt;!-- &lt;property name=&quot;connection.driver_class&quot;&gt;org.mariadb.jdbc.Driver&lt;/property&gt; --&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mariadb://localhost:3306/test&lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;joun&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;123&lt;/property&gt;\r\n\r\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n    &lt;!-- Select our SQL dialect --&gt;\r\n    &lt;!-- &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MariaDBDialect&lt;/property&gt; --&gt;\r\n\r\n    &lt;!-- Echo the SQL to stdout --&gt;\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n```","title":"Hibernate error in missing dialect while suggested not to include so","body":"<p>As suggested by Mark Rotteveel, I tried to change my dependencies to use MariaDB rather than MySQL itself.</p>\n<pre><code>dependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n\n    // hibernate\n    implementation(&quot;org.hibernate.orm:hibernate-core:6.3.0.Final&quot;)\n\n    // mysql / mariadb\n    // implementation(&quot;mysql:mysql-connector-java:8.0.27&quot;)\n    implementation(&quot;org.mariadb.jdbc:mariadb-java-client:3.1.4&quot;)\n}\n</code></pre>\n<p>Turns out I don't have to specify the driver and the dialect either.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;!-- JDBC Database connection settings --&gt;\n    &lt;!-- &lt;property name=&quot;connection.driver_class&quot;&gt;org.mariadb.jdbc.Driver&lt;/property&gt; --&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mariadb://localhost:3306/test&lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;joun&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;123&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n    &lt;!-- Select our SQL dialect --&gt;\n    &lt;!-- &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MariaDBDialect&lt;/property&gt; --&gt;\n\n    &lt;!-- Echo the SQL to stdout --&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77266482,"answer_count":1,"score":-1,"last_activity_date":1696950672,"creation_date":1696760203,"question_id":77253206,"body_markdown":"I am learning how to configure a Hibernate project. My config file is as follows:\r\n\r\n```xml\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n  &lt;session-factory&gt;\r\n\r\n    &lt;!-- JDBC Database connection settings --&gt;\r\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n\r\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n    &lt;!-- Select our SQL dialect --&gt;\r\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n    &lt;!-- Echo the SQL to stdout --&gt;\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n    &lt;!-- Set the current session context --&gt;\r\n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n  &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\nWhile the project did run smoothly and give out desired results, there were some logs at the end that caught my attentions:\r\n\r\n```none\r\n...\r\nBUILD SUCCESSFUL in 1s\r\n3 actionable tasks: 2 executed, 1 up-to-date\r\nOct 08, 2023 5:10:39 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 6.3.0.Final\r\nOct 08, 2023 5:10:39 PM org.hibernate.cache.internal.RegionFactoryInitiator initiateService\r\nINFO: HHH000026: Second-level cache disabled\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/test]\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {password=****, user=joun}\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH10001115: Connection pool size: 1 (min=1)\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator getJdbcEnvironmentUsingJdbcMetadata\r\nWARN: HHH000339: Could not obtain connection metadata: java.sql.SQLSyntaxErrorException: Unknown column &#39;RESERVED&#39; in &#39;where clause&#39;\r\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl constructDialect\r\nWARN: HHH90000025: MySQLDialect does not need to be specified explicitly using &#39;hibernate.dialect&#39; (remove the property setting and it will be selected by default)\r\nOct 08, 2023 5:10:40 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/test]\r\n5:10:40 PM: Execution finished &#39;:Main.main()&#39;.\r\n\r\n```\r\n\r\nSeems to me that the last two warnings relate to the `connection metadata` and `dialect`. While I am no idea how to deal with the first one, I am thinking the second one relate to these lines\r\n\r\n```\r\n&lt;!-- Select our SQL dialect --&gt;\r\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n```\r\n\r\nI have tried changing the dialect to other name such as `org.hibernate.dialect.MariaDBDialect` or remove them, but eventually yields no results.\r\n\r\nMay I get some suggestions on how to fix these two warnings?\r\n\r\n\r\n","title":"Hibernate error in missing dialect while suggested not to include so","body":"<p>I am learning how to configure a Hibernate project. My config file is as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n\n    &lt;!-- JDBC Database connection settings --&gt;\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n    &lt;property name=&quot;connection.username&quot;&gt;username&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool settings ... using built-in test pool --&gt;\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n    &lt;!-- Select our SQL dialect --&gt;\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- Echo the SQL to stdout --&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n    &lt;!-- Set the current session context --&gt;\n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n\n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>While the project did run smoothly and give out desired results, there were some logs at the end that caught my attentions:</p>\n<pre class=\"lang-none prettyprint-override\"><code>...\nBUILD SUCCESSFUL in 1s\n3 actionable tasks: 2 executed, 1 up-to-date\nOct 08, 2023 5:10:39 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.3.0.Final\nOct 08, 2023 5:10:39 PM org.hibernate.cache.internal.RegionFactoryInitiator initiateService\nINFO: HHH000026: Second-level cache disabled\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using built-in connection pool (not intended for production use)\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/test]\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {password=****, user=joun}\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH10001115: Connection pool size: 1 (min=1)\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator getJdbcEnvironmentUsingJdbcMetadata\nWARN: HHH000339: Could not obtain connection metadata: java.sql.SQLSyntaxErrorException: Unknown column 'RESERVED' in 'where clause'\nOct 08, 2023 5:10:39 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl constructDialect\nWARN: HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)\nOct 08, 2023 5:10:40 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/test]\n5:10:40 PM: Execution finished ':Main.main()'.\n\n</code></pre>\n<p>Seems to me that the last two warnings relate to the <code>connection metadata</code> and <code>dialect</code>. While I am no idea how to deal with the first one, I am thinking the second one relate to these lines</p>\n<pre><code>&lt;!-- Select our SQL dialect --&gt;\n&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n<p>I have tried changing the dialect to other name such as <code>org.hibernate.dialect.MariaDBDialect</code> or remove them, but eventually yields no results.</p>\n<p>May I get some suggestions on how to fix these two warnings?</p>\n"},{"tags":["java","maven","selenium","cucumber","testng"],"comments":[{"owner":{"account_id":12266927,"reputation":651,"user_id":8953213,"display_name":"Ramu"},"score":0,"creation_date":1574520769,"post_id":59008797,"comment_id":104265885,"body_markdown":"As the error suggests, please check if you running the goal with JDK or JRE.","body":"As the error suggests, please check if you running the goal with JDK or JRE."},{"owner":{"account_id":13568005,"reputation":11,"user_id":9787486,"display_name":"Niaz Maksud"},"score":0,"creation_date":1574566113,"post_id":59008797,"comment_id":104276104,"body_markdown":"@Ramu I was using JRE back when I raised the issue here but now I have switched to JDK and to my surprise, the compiler is not able to find step definitions anymore. I am getting missing snippets error.","body":"@Ramu I was using JRE back when I raised the issue here but now I have switched to JDK and to my surprise, the compiler is not able to find step definitions anymore. I am getting missing snippets error."}],"answers":[{"comments":[{"owner":{"account_id":13568005,"reputation":11,"user_id":9787486,"display_name":"Niaz Maksud"},"score":0,"creation_date":1574566209,"post_id":59009162,"comment_id":104276117,"body_markdown":"JDK has been chosen. But now I am getting different sets of error like - &quot;package org.testng.annotations does not exist&quot;","body":"JDK has been chosen. But now I am getting different sets of error like - &quot;package org.testng.annotations does not exist&quot;"},{"owner":{"account_id":8692093,"reputation":26,"user_id":6504704,"display_name":"arun"},"score":0,"creation_date":1574569206,"post_id":59009162,"comment_id":104276509,"body_markdown":"Choose proper version of testing package","body":"Choose proper version of testing package"}],"tags":[],"owner":{"account_id":8692093,"reputation":26,"user_id":6504704,"display_name":"arun"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574522869,"creation_date":1574522869,"answer_id":59009162,"question_id":59008797,"body_markdown":"I don’t know which developmen IDE are you using If you are using STS/Eclipse go to java -&gt;compiler-&gt;choose JDK rather than jre","title":"&quot;Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile)&quot;","body":"<p>I don’t know which developmen IDE are you using If you are using STS/Eclipse go to java ->compiler->choose JDK rather than jre</p>\n"}],"owner":{"account_id":13568005,"reputation":11,"user_id":9787486,"display_name":"Niaz Maksud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696950255,"creation_date":1574520196,"question_id":59008797,"body_markdown":"Whenever doing a Maven Build..&gt;clean install, I am facing this error. I have tried with different versions of plugins and adding testFailureIgnore attribute, but the issue still remains. Please find the POM.XML below-\r\n\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Central Repository&lt;/name&gt;\r\n\t\t\t&lt;url&gt;http://repo.maven.apache.org/maven2&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;default&lt;/layout&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\r\n\t&lt;groupId&gt;Cucumber-Automation-Niaz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Cucumber-Automation-Niaz&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.41.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;projectName&gt;NiazProject&lt;/projectName&gt;  &lt;!-- Replace with project name --&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/cucumber-reports/advanced-reports&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;cucumberOutput&gt;target/cucumber-reports/CucumberTestReport.json&lt;/cucumberOutput&gt;\r\n\t\t\t\t\t\t\t&lt;buildNumber&gt;1&lt;/buildNumber&gt;\r\n\t\t\t\t\t\t\t&lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h8xH1.png","title":"&quot;Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile)&quot;","body":"<p>Whenever doing a Maven Build..>clean install, I am facing this error. I have tried with different versions of plugins and adding testFailureIgnore attribute, but the issue still remains. Please find the POM.XML below-</p>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    \n        \n            central\n            Central Repository\n            <a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2</a>\n            default\n            \n                false\n            </p>\n\n<pre><code>    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n\n&lt;groupId&gt;Cucumber-Automation-Niaz&lt;/groupId&gt;\n&lt;artifactId&gt;Cucumber-Automation-Niaz&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.masterthought/cucumber-reporting --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n        &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.relevantcodes/extentreports --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;2.41.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\n\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;NiazProject&lt;/projectName&gt;  &lt;!-- Replace with project name --&gt;\n                        &lt;outputDirectory&gt;target/cucumber-reports/advanced-reports&lt;/outputDirectory&gt;\n                        &lt;cucumberOutput&gt;target/cucumber-reports/CucumberTestReport.json&lt;/cucumberOutput&gt;\n                        &lt;buildNumber&gt;1&lt;/buildNumber&gt;\n                        &lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/h8xH1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","notifications","android-relativelayout"],"owner":{"account_id":8458665,"reputation":267,"user_id":6345106,"display_name":"Adil Raza Bangash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696949565,"creation_date":1696949565,"question_id":77266860,"body_markdown":"I am changing a Relativelayout color in status bar notification with the following code\r\n\r\n```\r\nnotificationLayout.setInt(R.id.notiMainRl,&quot;setBackgroundColor&quot;,context.getColor(R.color.notification_bg));\r\n```\r\n\r\nbut sometime my app crashing with following error\r\n\r\n```\r\nandroid.app.ActivityThread$H.handleMessage\r\nandroid.app.RemoteServiceException - Bad notification posted from package com.app.myapp:\r\n Couldn&#39;t inflate\r\ncontentViewsandroid.widget.RemoteViews$ActionException:\r\nview: android.widget.RelativeLayout doesn&#39;t have method:\r\nsetBackground(int)\r\n```\r\n\r\nfull stack trace is\r\n \r\n```\r\nFatal Exception: android.app.RemoteServiceException: Bad notification for startForeground\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1774)\r\n       at android.os.Handler.dispatchMessage(Handler.java:106)\r\n       at android.os.Looper.loop(Looper.java:164)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6543)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\r\n```\r\n\r\nthe crash is not frequent it appears on very little amount of devices  ","title":"RelativeLayout doesn&#39;t have method: setBackground(int)","body":"<p>I am changing a Relativelayout color in status bar notification with the following code</p>\n<pre><code>notificationLayout.setInt(R.id.notiMainRl,&quot;setBackgroundColor&quot;,context.getColor(R.color.notification_bg));\n</code></pre>\n<p>but sometime my app crashing with following error</p>\n<pre><code>android.app.ActivityThread$H.handleMessage\nandroid.app.RemoteServiceException - Bad notification posted from package com.app.myapp:\n Couldn't inflate\ncontentViewsandroid.widget.RemoteViews$ActionException:\nview: android.widget.RelativeLayout doesn't have method:\nsetBackground(int)\n</code></pre>\n<p>full stack trace is</p>\n<pre><code>Fatal Exception: android.app.RemoteServiceException: Bad notification for startForeground\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1774)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loop(Looper.java:164)\n       at android.app.ActivityThread.main(ActivityThread.java:6543)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:440)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:810)\n</code></pre>\n<p>the crash is not frequent it appears on very little amount of devices</p>\n"},{"tags":["java","libgdx","game-development"],"answers":[{"tags":[],"owner":{"account_id":29638491,"reputation":1,"user_id":22715186,"display_name":"CielGre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696949256,"creation_date":1696937212,"answer_id":77265366,"question_id":77264204,"body_markdown":"Found the answer , in the new GameScreen the animations should be set with `new Animation&lt;TextureRegion&gt;`, and `atlas.findRegion` should be replaced with `atlas.findRegions`. That solved the problem and the movement is working correctly.\r\nFinally the correct code for GameScreen class is:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    AnimationSet&lt;TextureRegion&gt; animations = new AnimationSet&lt;TextureRegion&gt;(\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_north&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_south&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_east&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(&quot;dawn_walk_west&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                    atlas.findRegion(&quot;dawn_stand_north&quot;),\r\n                    atlas.findRegion(&quot;dawn_stand_south&quot;),\r\n                    atlas.findRegion(&quot;dawn_stand_east&quot;),\r\n                    atlas.findRegion(&quot;dawn_stand_west&quot;)\r\n            );\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Exception in libgdx TextureRegion class","body":"<p>Found the answer , in the new GameScreen the animations should be set with <code>new Animation&lt;TextureRegion&gt;</code>, and <code>atlas.findRegion</code> should be replaced with <code>atlas.findRegions</code>. That solved the problem and the movement is working correctly.\nFinally the correct code for GameScreen class is:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>AnimationSet&lt;TextureRegion&gt; animations = new AnimationSet&lt;TextureRegion&gt;(\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_north\"), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_south\"), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_east\"), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation&lt;TextureRegion&gt;(0.3f/2f,atlas.findRegions(\"dawn_walk_west\"), Animation.PlayMode.LOOP_PINGPONG),\n                atlas.findRegion(\"dawn_stand_north\"),\n                atlas.findRegion(\"dawn_stand_south\"),\n                atlas.findRegion(\"dawn_stand_east\"),\n                atlas.findRegion(\"dawn_stand_west\")\n        );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":29638491,"reputation":1,"user_id":22715186,"display_name":"CielGre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77265366,"answer_count":1,"score":0,"last_activity_date":1696949256,"creation_date":1696927498,"question_id":77264204,"body_markdown":"I was following a tutorial to create a pokemon like game with libgdx library in java.\r\nI am stuck on making the walking animation part because of the libgdx update on Animation&lt;T&gt; , so the animation should be set to TextureRegion each time displayed(if I am not mistaken ).\r\n\r\n```\r\npublic TextureRegion getSprite() {\r\n        if (state == ACTOR_STATE.WALKING) {\r\n            Animation&lt;TextureRegion&gt; walkingAnimation = animations.getWalking(facing);\r\n            return walkingAnimation.getKeyFrame(walkTimer);\r\n        } else if (state == ACTOR_STATE.STANDING) {\r\n            return animations.getStanding(facing);\r\n        }\r\n        return animations.getStanding(DIRECTION.SOUTH);\r\n    }\r\n```\r\nThis is the method getSprite and the game is crashing after trying to move ( it makes a small move but before ending it crashes ) with this exception on the  return walkingAnimation.getKeyFrame(walkTimer); line:\r\n\r\n`Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.badlogic.gdx.graphics.g2d.Animation$PlayMode cannot be cast to class com.badlogic.gdx.graphics.g2d.TextureRegion (com.badlogic.gdx.graphics.g2d.Animation$PlayMode and com.badlogic.gdx.graphics.g2d.TextureRegion are in unnamed module of loader &#39;app&#39;)`\r\n\r\nThe variable animations is set like :\r\n` private AnimationSet&lt;TextureRegion&gt; animations;`\r\nand the AnimationSet class:\r\n\r\n```\r\npackage util;\r\n\r\nimport com.badlogic.gdx.graphics.g2d.Animation;\r\nimport model.DIRECTION;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Hashtable;\r\nimport java.util.Map;\r\n\r\n\r\n\r\n    public class AnimationSet&lt;TextureRegion&gt; {\r\n\r\n        private Map&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt; walking;\r\n        private Map&lt;DIRECTION, TextureRegion&gt; standing;\r\n\r\n        public AnimationSet(Animation&lt;TextureRegion&gt; walkNorth,\r\n                            Animation&lt;TextureRegion&gt; walkSouth,\r\n                            Animation&lt;TextureRegion&gt; walkEast,\r\n                            Animation&lt;TextureRegion&gt; walkWest,\r\n                            TextureRegion standNorth,\r\n                            TextureRegion standSouth,\r\n                            TextureRegion standEast,\r\n                            TextureRegion standWest ) {\r\n            walking = new HashMap&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt;();\r\n            walking.put(DIRECTION.NORTH, walkNorth);\r\n            walking.put(DIRECTION.SOUTH, walkSouth);\r\n            walking.put(DIRECTION.EAST, walkEast);\r\n            walking.put(DIRECTION.WEST, walkWest);\r\n            standing = new Hashtable&lt;DIRECTION, TextureRegion&gt;();\r\n            standing.put(DIRECTION.NORTH, standNorth);\r\n            standing.put(DIRECTION.SOUTH, standSouth);\r\n            standing.put(DIRECTION.EAST, standEast);\r\n            standing.put(DIRECTION.WEST, standWest);\r\n        }\r\n\r\n        public Animation&lt;TextureRegion&gt; getWalking(DIRECTION dir){\r\n            return walking.get(dir);\r\n        }\r\n\r\n        public TextureRegion getStanding(DIRECTION dir){\r\n            return standing.get(dir);\r\n        }\r\n    }\r\n\r\n```\r\nFinally it&#39;s called here:\r\n\r\n```\r\n public GameScreen(MyGdxGame app) {\r\n        super(app);\r\n        south = new Texture(&quot;assets/stand.png&quot;);\r\n        room1 = new Texture(&quot;assets/tile2.png&quot;);\r\n        room2 = new Texture(&quot;assets/tile2.png&quot;);\r\n        batch = new SpriteBatch();\r\n        TextureAtlas atlas = app.getAssetManager().get(&quot;assets/packed/textures.atlas&quot;, TextureAtlas.class);\r\n        AnimationSet animations = new AnimationSet(\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_north&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_south&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_east&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_west&quot;), Animation.PlayMode.LOOP_PINGPONG),\r\n                atlas.findRegion(&quot;dawn_stand_north&quot;),\r\n                atlas.findRegion(&quot;dawn_stand_south&quot;),\r\n                atlas.findRegion(&quot;dawn_stand_east&quot;),\r\n                atlas.findRegion(&quot;dawn_stand_west&quot;)\r\n        );\r\n\r\n        map = new TileMap(10,10);\r\n        actor = new Actor(map,0,0,animations);\r\n        controller = new PlayerController(actor);\r\n        camera = new Camera();\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to see the getWalking(facing) and walkTimer values on debugger but nothing seems to be null or wrong with this part. \r\nAlso in the version I uploaded i casted Animation&lt;TextureRegion&gt; before returning to make sure the returned object is Animation and not Object.\r\nSame exception happens without casting. Could the error  be somewhere on the GameScreen class?","title":"Exception in libgdx TextureRegion class","body":"<p>I was following a tutorial to create a pokemon like game with libgdx library in java.\nI am stuck on making the walking animation part because of the libgdx update on Animation , so the animation should be set to TextureRegion each time displayed(if I am not mistaken ).</p>\n<pre><code>public TextureRegion getSprite() {\n        if (state == ACTOR_STATE.WALKING) {\n            Animation&lt;TextureRegion&gt; walkingAnimation = animations.getWalking(facing);\n            return walkingAnimation.getKeyFrame(walkTimer);\n        } else if (state == ACTOR_STATE.STANDING) {\n            return animations.getStanding(facing);\n        }\n        return animations.getStanding(DIRECTION.SOUTH);\n    }\n</code></pre>\n<p>This is the method getSprite and the game is crashing after trying to move ( it makes a small move but before ending it crashes ) with this exception on the  return walkingAnimation.getKeyFrame(walkTimer); line:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.badlogic.gdx.graphics.g2d.Animation$PlayMode cannot be cast to class com.badlogic.gdx.graphics.g2d.TextureRegion (com.badlogic.gdx.graphics.g2d.Animation$PlayMode and com.badlogic.gdx.graphics.g2d.TextureRegion are in unnamed module of loader 'app')</code></p>\n<p>The variable animations is set like :\n<code> private AnimationSet&lt;TextureRegion&gt; animations;</code>\nand the AnimationSet class:</p>\n<pre><code>package util;\n\nimport com.badlogic.gdx.graphics.g2d.Animation;\nimport model.DIRECTION;\n\nimport java.util.HashMap;\nimport java.util.Hashtable;\nimport java.util.Map;\n\n\n\n    public class AnimationSet&lt;TextureRegion&gt; {\n\n        private Map&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt; walking;\n        private Map&lt;DIRECTION, TextureRegion&gt; standing;\n\n        public AnimationSet(Animation&lt;TextureRegion&gt; walkNorth,\n                            Animation&lt;TextureRegion&gt; walkSouth,\n                            Animation&lt;TextureRegion&gt; walkEast,\n                            Animation&lt;TextureRegion&gt; walkWest,\n                            TextureRegion standNorth,\n                            TextureRegion standSouth,\n                            TextureRegion standEast,\n                            TextureRegion standWest ) {\n            walking = new HashMap&lt;DIRECTION, Animation&lt;TextureRegion&gt;&gt;();\n            walking.put(DIRECTION.NORTH, walkNorth);\n            walking.put(DIRECTION.SOUTH, walkSouth);\n            walking.put(DIRECTION.EAST, walkEast);\n            walking.put(DIRECTION.WEST, walkWest);\n            standing = new Hashtable&lt;DIRECTION, TextureRegion&gt;();\n            standing.put(DIRECTION.NORTH, standNorth);\n            standing.put(DIRECTION.SOUTH, standSouth);\n            standing.put(DIRECTION.EAST, standEast);\n            standing.put(DIRECTION.WEST, standWest);\n        }\n\n        public Animation&lt;TextureRegion&gt; getWalking(DIRECTION dir){\n            return walking.get(dir);\n        }\n\n        public TextureRegion getStanding(DIRECTION dir){\n            return standing.get(dir);\n        }\n    }\n\n</code></pre>\n<p>Finally it's called here:</p>\n<pre><code> public GameScreen(MyGdxGame app) {\n        super(app);\n        south = new Texture(&quot;assets/stand.png&quot;);\n        room1 = new Texture(&quot;assets/tile2.png&quot;);\n        room2 = new Texture(&quot;assets/tile2.png&quot;);\n        batch = new SpriteBatch();\n        TextureAtlas atlas = app.getAssetManager().get(&quot;assets/packed/textures.atlas&quot;, TextureAtlas.class);\n        AnimationSet animations = new AnimationSet(\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_north&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_south&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_east&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                new Animation(0.3f/2f,atlas.findRegion(&quot;dawn_walk_west&quot;), Animation.PlayMode.LOOP_PINGPONG),\n                atlas.findRegion(&quot;dawn_stand_north&quot;),\n                atlas.findRegion(&quot;dawn_stand_south&quot;),\n                atlas.findRegion(&quot;dawn_stand_east&quot;),\n                atlas.findRegion(&quot;dawn_stand_west&quot;)\n        );\n\n        map = new TileMap(10,10);\n        actor = new Actor(map,0,0,animations);\n        controller = new PlayerController(actor);\n        camera = new Camera();\n    }\n</code></pre>\n<p>I've tried to see the getWalking(facing) and walkTimer values on debugger but nothing seems to be null or wrong with this part.\nAlso in the version I uploaded i casted Animation before returning to make sure the returned object is Animation and not Object.\nSame exception happens without casting. Could the error  be somewhere on the GameScreen class?</p>\n"},{"tags":["java","authentication","jwt"],"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1648735087,"post_id":71693342,"comment_id":126704291,"body_markdown":"this should only work if everything is identical to original actions that were done when encoding the JWT. Is it so, do you know how the JWT was created?","body":"this should only work if everything is identical to original actions that were done when encoding the JWT. Is it so, do you know how the JWT was created?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1648735693,"post_id":71693342,"comment_id":126704540,"body_markdown":"`new String(decoder.decode(chunks[0]), StandardCharsets.UTF_8);`? `String` can hold text, but not binary data. Conversion from bytes always involve some Charset, possibly corrupting data. _(No remembered experience with JwtBuilder.)_","body":"<code>new String(decoder.decode(chunks[0]), StandardCharsets.UTF_8);</code>? <code>String</code> can hold text, but not binary data. Conversion from bytes always involve some Charset, possibly corrupting data. <i>(No remembered experience with JwtBuilder.)</i>"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648736337,"post_id":71693342,"comment_id":126704833,"body_markdown":"@JoopEggen Sorry, can&#39;t follow you... Where did you see StandardCharsets.UTF_8 ? Or do you suggest me to use it? thanks","body":"@JoopEggen Sorry, can&#39;t follow you... Where did you see StandardCharsets.UTF_8 ? Or do you suggest me to use it? thanks"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648736384,"post_id":71693342,"comment_id":126704849,"body_markdown":"@eis I know the secret key. Anyway the problem is only the difference in the signature.","body":"@eis I know the secret key. Anyway the problem is only the difference in the signature."},{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1648736950,"post_id":71693342,"comment_id":126705117,"body_markdown":"I see now two very different tokens in your question. It would be interesting to see the original token and the rebuilt token  side by side to compare.","body":"I see now two very different tokens in your question. It would be interesting to see the original token and the rebuilt token  side by side to compare."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737044,"post_id":71693342,"comment_id":126705168,"body_markdown":"@jps Do you refer to the new token I posted in the update? This is my own test as opposed to the original data which was given to me.","body":"@jps Do you refer to the new token I posted in the update? This is my own test as opposed to the original data which was given to me."},{"owner":{"account_id":9899349,"reputation":20524,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1648737269,"post_id":71693342,"comment_id":126705297,"body_markdown":"what I mean is: you decode a token and encode it again and wonder about the different signatures, right?! So it would be useful to see the token that you decode (original) and the result of you encoding. Then it&#39;s easier to see if there&#39;s additional whitespace, different order of values etc.","body":"what I mean is: you decode a token and encode it again and wonder about the different signatures, right?! So it would be useful to see the token that you decode (original) and the result of you encoding. Then it&#39;s easier to see if there&#39;s additional whitespace, different order of values etc."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1648737412,"post_id":71693342,"comment_id":126705356,"body_markdown":"Just wanted to comment that `new String(byte[])` uses the default platform encoding which is non-portable and not all bytes are _text_, some are binary data (payload) which might be corrupted. You said the strings were alrlght, but if the dev pc is Windows, the server Linux, you might want to use `new String(byte[], Charset)` or better keep the `byte[]`.","body":"Just wanted to comment that <code>new String(byte[])</code> uses the default platform encoding which is non-portable and not all bytes are <i>text</i>, some are binary data (payload) which might be corrupted. You said the strings were alrlght, but if the dev pc is Windows, the server Linux, you might want to use <code>new String(byte[], Charset)</code> or better keep the <code>byte[]</code>."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1648737519,"post_id":71693342,"comment_id":126705410,"body_markdown":"@dushkin I didn&#39;t say it&#39;s only about the secret key. you would need to know all the exact parameters and options that were used when making this JWT, including signature. without it, it&#39;s not likely you would get identical result.","body":"@dushkin I didn&#39;t say it&#39;s only about the secret key. you would need to know all the exact parameters and options that were used when making this JWT, including signature. without it, it&#39;s not likely you would get identical result."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737616,"post_id":71693342,"comment_id":126705453,"body_markdown":"@jps Got it now. Will do","body":"@jps Got it now. Will do"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737715,"post_id":71693342,"comment_id":126705505,"body_markdown":"@JoopEggen The decoding was ok for the textual values of course. I don&#39;t know if the signature was decoded correctly, and according to what you&#39;ve said - probably it wasn&#39;t. I&#39;ll check your recommendation. Thanks","body":"@JoopEggen The decoding was ok for the textual values of course. I don&#39;t know if the signature was decoded correctly, and according to what you&#39;ve said - probably it wasn&#39;t. I&#39;ll check your recommendation. Thanks"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648737736,"post_id":71693342,"comment_id":126705517,"body_markdown":"@eis Understood now","body":"@eis Understood now"}],"answers":[{"comments":[{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1648735049,"post_id":71693733,"comment_id":126704264,"body_markdown":"Yes, the headers are the same. Ignoring the data, does the algorithm looks valid?","body":"Yes, the headers are the same. Ignoring the data, does the algorithm looks valid?"},{"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"score":1,"creation_date":1648735319,"post_id":71693733,"comment_id":126704391,"body_markdown":"Yeah, it looks ok.","body":"Yeah, it looks ok."}],"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648734706,"creation_date":1648734706,"answer_id":71693733,"question_id":71693342,"body_markdown":"The resulting signature can be different even for the same payload and headers. It depends also on whitespace, newline, etc. characters used. Maybe the original token was formatted with whitespaces, that were removed in the resulting string?\r\n\r\nAlso, remember that the signature is calculated for payload **and** header. I can see that you&#39;re constructing the header yourself. Is it exactly the same as in the original?","title":"Why do I fail to encode back a decoded JWT?","body":"<p>The resulting signature can be different even for the same payload and headers. It depends also on whitespace, newline, etc. characters used. Maybe the original token was formatted with whitespaces, that were removed in the resulting string?</p>\n<p>Also, remember that the signature is calculated for payload <strong>and</strong> header. I can see that you're constructing the header yourself. Is it exactly the same as in the original?</p>\n"},{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648744433,"creation_date":1648744433,"answer_id":71696175,"question_id":71693342,"body_markdown":"I found another way to solve the problem:\r\n\r\n    private String encodeToken(DecodedToken decodedToken) {\r\n    \r\n            Key hmacKey = new SecretKeySpec(Base64.getDecoder().decode(SECRET_KEY_BASE64),\r\n                SignatureAlgorithm.HS256.getJcaName());\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Map&lt;String, Object&gt; payload = objectMapper.readValue(decodedToken.getPayload(), Map.class);\r\n    \r\n            return Jwts.builder()\r\n                .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\r\n                .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\r\n                .claim(&quot;pub&quot;, payload.get(&quot;pub&quot;))\r\n                .claim(&quot;wid&quot;, payload.get(&quot;wid&quot;))\r\n                .claim(&quot;expiry&quot;, payload.get(&quot;expiry&quot;))\r\n                .claim(&quot;url&quot;, payload.get(&quot;url&quot;))\r\n                .signWith(hmacKey)\r\n                .compact();\r\n    }\r\n\r\nWith this I got the same jwt back.\r\nAnother matter that wasted my time was that at the beggining I set the headers with this order:\r\n\r\n    .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\r\n    .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\r\n\r\nwhereas as I should have set them with this order:\r\n\r\n    .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\r\n    .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\r\n\r\nThat was creating a different signature... :(\r\n\r\nThank you all!!\r\n","title":"Why do I fail to encode back a decoded JWT?","body":"<p>I found another way to solve the problem:</p>\n<pre><code>private String encodeToken(DecodedToken decodedToken) {\n\n        Key hmacKey = new SecretKeySpec(Base64.getDecoder().decode(SECRET_KEY_BASE64),\n            SignatureAlgorithm.HS256.getJcaName());\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, Object&gt; payload = objectMapper.readValue(decodedToken.getPayload(), Map.class);\n\n        return Jwts.builder()\n            .setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\n            .setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\n            .claim(&quot;pub&quot;, payload.get(&quot;pub&quot;))\n            .claim(&quot;wid&quot;, payload.get(&quot;wid&quot;))\n            .claim(&quot;expiry&quot;, payload.get(&quot;expiry&quot;))\n            .claim(&quot;url&quot;, payload.get(&quot;url&quot;))\n            .signWith(hmacKey)\n            .compact();\n}\n</code></pre>\n<p>With this I got the same jwt back.\nAnother matter that wasted my time was that at the beggining I set the headers with this order:</p>\n<pre><code>.setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\n.setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\n</code></pre>\n<p>whereas as I should have set them with this order:</p>\n<pre><code>.setHeaderParam(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;))\n.setHeaderParam(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;))\n</code></pre>\n<p>That was creating a different signature... :(</p>\n<p>Thank you all!!</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696949118,"creation_date":1648733301,"question_id":71693342,"body_markdown":"I have this JWT token:\r\n\r\n    public final String WTOK = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiIyMzUzNiIsIndpZCI6IjAwMXcwMDAwMDFmbEN3MkFBRV9NMTQ0NDU5IiwidXJsIjpbIndvY2hpdC5jb20iXSwiZXhwaXJ5IjoiMjAyMy0wMy0yOFQxMjoxMToyNC4xODdaIiwiaWF0IjoxNjQ4NDY5NDg0fQ.r_xKkhqE2WCmqcrsdFvZsMFbWDoaV9AVGrg8pq270ZE&quot;;\r\n\r\nThen I used the following simple method to decode it:\r\n\r\n    public class DecodedToken {\r\n    \r\n        Map&lt;String, Object&gt; headers;\r\n        String payload;\r\n        String signature;\r\n    }\r\n\r\n    private DecodedToken decodeToken(String token) {\r\n\r\n        String[] chunks = token.split(&quot;\\\\.&quot;);\r\n\r\n        Base64.Decoder decoder = Base64.getUrlDecoder();\r\n\r\n        try {\r\n            String headersStr = new String(decoder.decode(chunks[0]));\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            Map&lt;String, Object&gt; headers = objectMapper.readValue(headersStr, Map.class);\r\n            String payload = new String(decoder.decode(chunks[1]));\r\n            System.out.println(payload);\r\n            String signature = new String(decoder.decode(chunks[2]));\r\n            System.out.println(signature);\r\n\r\n            return new DecodedToken(headers, payload, signature);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\nand the parts where decoded successfully.\r\n\r\nThen I tried to encode it back using the following method:\r\n\r\n    private String encodeToken( DecodedToken decodedToken) {\r\n\r\n        byte[] decodedSecret = Base64.getDecoder().decode(SECRET_KEY_BASE64);\r\n        byte[] encodedSignature = Base64.getEncoder().encode(decodedToken.getSignature().getBytes());\r\n        System.out.println(new String(encodedSignature));\r\n\r\n        Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;));\r\n        headers.put(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;));\r\n\r\n        return Jwts.builder()\r\n            .setPayload(decodedToken.getPayload())\r\n            .setHeader(headers)\r\n            .signWith(SignatureAlgorithm.HS256,decodedSecret)\r\n            .compact();\r\n    }\r\n\r\nwhich returned me a string.\r\nHowever, the signature part came out different from the original one.\r\n\r\nCan you advise what is wrong with my code?\r\nMy guess I should encode back the decoded signature. How can I do that?\r\n\r\n(Please tell me if you need more information from me)\r\n\r\n---------------------------\r\nUpdate\r\n\r\nI retried the methods above with a token I created by myself and a my secret key.\r\n\r\nWould you please use them on my code and try to see where is the error?\r\n\r\n&gt; token:\r\n&gt; eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiJwdWJwdWIiLCJ3aWQiOiJ3aWR3aWQiLCJleHBpcnkiOiIyMDIzLTAzLTMwVDE2OjExOjAwWiIsInVybCI6WyJsbCJdfQ.o8qD7CfvtWFvqE-Ti_hZq2Tcf4tdcIWutr6vFNRtwRw\r\n&gt; \r\n&gt; Base64 secret key: MTIzNDU2NDU2NDMyMTMyMTY1NDY1ODc4OTc5NjQxMzIx\r\n&gt; \r\n&gt; headers:\r\n&gt; \r\n&gt; {   &quot;alg&quot;: &quot;HS256&quot;,   &quot;typ&quot;: &quot;JWT&quot; }\r\n&gt; \r\n&gt; enc: A128CBC-HS256\r\n\r\n\r\n","title":"Why do I fail to encode back a decoded JWT?","body":"<p>I have this JWT token:</p>\n<pre><code>public final String WTOK = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiIyMzUzNiIsIndpZCI6IjAwMXcwMDAwMDFmbEN3MkFBRV9NMTQ0NDU5IiwidXJsIjpbIndvY2hpdC5jb20iXSwiZXhwaXJ5IjoiMjAyMy0wMy0yOFQxMjoxMToyNC4xODdaIiwiaWF0IjoxNjQ4NDY5NDg0fQ.r_xKkhqE2WCmqcrsdFvZsMFbWDoaV9AVGrg8pq270ZE&quot;;\n</code></pre>\n<p>Then I used the following simple method to decode it:</p>\n<pre><code>public class DecodedToken {\n\n    Map&lt;String, Object&gt; headers;\n    String payload;\n    String signature;\n}\n\nprivate DecodedToken decodeToken(String token) {\n\n    String[] chunks = token.split(&quot;\\\\.&quot;);\n\n    Base64.Decoder decoder = Base64.getUrlDecoder();\n\n    try {\n        String headersStr = new String(decoder.decode(chunks[0]));\n        ObjectMapper objectMapper = new ObjectMapper();\n        Map&lt;String, Object&gt; headers = objectMapper.readValue(headersStr, Map.class);\n        String payload = new String(decoder.decode(chunks[1]));\n        System.out.println(payload);\n        String signature = new String(decoder.decode(chunks[2]));\n        System.out.println(signature);\n\n        return new DecodedToken(headers, payload, signature);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>and the parts where decoded successfully.</p>\n<p>Then I tried to encode it back using the following method:</p>\n<pre><code>private String encodeToken( DecodedToken decodedToken) {\n\n    byte[] decodedSecret = Base64.getDecoder().decode(SECRET_KEY_BASE64);\n    byte[] encodedSignature = Base64.getEncoder().encode(decodedToken.getSignature().getBytes());\n    System.out.println(new String(encodedSignature));\n\n    Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n    headers.put(&quot;alg&quot;, decodedToken.getHeaders().get(&quot;alg&quot;));\n    headers.put(&quot;typ&quot;, decodedToken.getHeaders().get(&quot;typ&quot;));\n\n    return Jwts.builder()\n        .setPayload(decodedToken.getPayload())\n        .setHeader(headers)\n        .signWith(SignatureAlgorithm.HS256,decodedSecret)\n        .compact();\n}\n</code></pre>\n<p>which returned me a string.\nHowever, the signature part came out different from the original one.</p>\n<p>Can you advise what is wrong with my code?\nMy guess I should encode back the decoded signature. How can I do that?</p>\n<p>(Please tell me if you need more information from me)</p>\n<hr />\n<p>Update</p>\n<p>I retried the methods above with a token I created by myself and a my secret key.</p>\n<p>Would you please use them on my code and try to see where is the error?</p>\n<blockquote>\n<p>token:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwdWIiOiJwdWJwdWIiLCJ3aWQiOiJ3aWR3aWQiLCJleHBpcnkiOiIyMDIzLTAzLTMwVDE2OjExOjAwWiIsInVybCI6WyJsbCJdfQ.o8qD7CfvtWFvqE-Ti_hZq2Tcf4tdcIWutr6vFNRtwRw</p>\n<p>Base64 secret key: MTIzNDU2NDU2NDMyMTMyMTY1NDY1ODc4OTc5NjQxMzIx</p>\n<p>headers:</p>\n<p>{   &quot;alg&quot;: &quot;HS256&quot;,   &quot;typ&quot;: &quot;JWT&quot; }</p>\n<p>enc: A128CBC-HS256</p>\n</blockquote>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":4018921,"reputation":523,"user_id":3309993,"accept_rate":62,"display_name":"aarexer"},"score":1,"creation_date":1649143737,"post_id":71747661,"comment_id":126794544,"body_markdown":"Join the post above, I will add only that when using Gson you should use SerializedName annotation.","body":"Join the post above, I will add only that when using Gson you should use SerializedName annotation."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1649144681,"post_id":71747661,"comment_id":126794883,"body_markdown":"Thanks a lot! I will soon try your suggestion, and if it will be working for me I&#39;ll gladly accept it as an answer.","body":"Thanks a lot! I will soon try your suggestion, and if it will be working for me I&#39;ll gladly accept it as an answer."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1649148076,"post_id":71747661,"comment_id":126796112,"body_markdown":"@Matteo NNZ I cannot find JsonConstructor annotation. Did you mean JsonCreator annotaion?","body":"@Matteo NNZ I cannot find JsonConstructor annotation. Did you mean JsonCreator annotaion?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1649148260,"post_id":71747661,"comment_id":126796205,"body_markdown":"@dushkin yes sorry,  I meant that annotation. I&#39;ll fix my post","body":"@dushkin yes sorry,  I meant that annotation. I&#39;ll fix my post"}],"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649148277,"creation_date":1649143047,"answer_id":71747661,"question_id":71747639,"body_markdown":"Just use the annotation `@JsonProperty` on top of the field declaration, with a name that is different than the field&#39;s name:\r\n\r\n    @JsonProperty(&quot;key.1&quot;)\r\n    private final int key1;\r\n    @JsonProperty(&quot;key.2&quot;)\r\n    private final int key2;\r\n    @JsonProperty(&quot;key.3&quot;)\r\n    private final int key3;\r\n\r\nAs a general note, Jackson will map the Json key to the field name *only if you don&#39;t specify anything else* (so it will go by reflection).\r\nHowever, with Jackson is possible to modify the names of the fields (and not only) using their annotations.\r\n\r\nAs a side note, you&#39;ll also need to annotate the constructor parameters to deserialize the object from Json to Java object:\r\n\r\n    @JsonCreator\r\n    public MyClass(\r\n        @JsonProperty(value = &quot;key.1&quot;, required = true) int key1,\r\n        @JsonProperty(value = &quot;key.2&quot;, required = true) int key2,\r\n        @JsonProperty(value = &quot;key.3&quot;, required = true) int key3) {\r\n        this.key1 = key1;\r\n        this.key2 = key2;\r\n        this.key3 = key3;\r\n    }\r\n\r\n... then you will be able to do what you wanted:\r\n\r\n    MyClass obj = mapper.readValue(json, MyClass.class);","title":"How to map json keys which include dots?","body":"<p>Just use the annotation <code>@JsonProperty</code> on top of the field declaration, with a name that is different than the field's name:</p>\n<pre><code>@JsonProperty(&quot;key.1&quot;)\nprivate final int key1;\n@JsonProperty(&quot;key.2&quot;)\nprivate final int key2;\n@JsonProperty(&quot;key.3&quot;)\nprivate final int key3;\n</code></pre>\n<p>As a general note, Jackson will map the Json key to the field name <em>only if you don't specify anything else</em> (so it will go by reflection).\nHowever, with Jackson is possible to modify the names of the fields (and not only) using their annotations.</p>\n<p>As a side note, you'll also need to annotate the constructor parameters to deserialize the object from Json to Java object:</p>\n<pre><code>@JsonCreator\npublic MyClass(\n    @JsonProperty(value = &quot;key.1&quot;, required = true) int key1,\n    @JsonProperty(value = &quot;key.2&quot;, required = true) int key2,\n    @JsonProperty(value = &quot;key.3&quot;, required = true) int key3) {\n    this.key1 = key1;\n    this.key2 = key2;\n    this.key3 = key3;\n}\n</code></pre>\n<p>... then you will be able to do what you wanted:</p>\n<pre><code>MyClass obj = mapper.readValue(json, MyClass.class);\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71747661,"answer_count":1,"score":0,"last_activity_date":1696949104,"creation_date":1649142928,"question_id":71747639,"body_markdown":"I have a json in which some of its keys include dots.\r\nfor example:\r\n\r\n    {\r\n        &quot;key.1&quot; : 10,\r\n        &quot;key.2&quot; : 20,\r\n        &quot;key.3&quot; : 30\r\n    }\r\n\r\nI was planning to use Jackson to map it into a MyClass model object using something like:\r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    MyClass obj = mapper.readValue(json, MyClass.class\r\n\r\nOf course I cannot create class members with dots in their names.\r\n\r\nSo, is there a way to overcome this situation? \r\n\r\nJackson is preferred but not mandatory.\r\n","title":"How to map json keys which include dots?","body":"<p>I have a json in which some of its keys include dots.\nfor example:</p>\n<pre><code>{\n    &quot;key.1&quot; : 10,\n    &quot;key.2&quot; : 20,\n    &quot;key.3&quot; : 30\n}\n</code></pre>\n<p>I was planning to use Jackson to map it into a MyClass model object using something like:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMyClass obj = mapper.readValue(json, MyClass.class\n</code></pre>\n<p>Of course I cannot create class members with dots in their names.</p>\n<p>So, is there a way to overcome this situation?</p>\n<p>Jackson is preferred but not mandatory.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1660547717,"post_id":73357800,"comment_id":129549946,"body_markdown":"This looks kind of weird to me. You always return a list of one thing regardless of what `valuesNumber` is?","body":"This looks kind of weird to me. You always return a list of one thing regardless of what <code>valuesNumber</code> is?"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1660547906,"post_id":73357800,"comment_id":129549981,"body_markdown":"What do you mean by &quot;one thing&quot;? I pass the specific class as an argument to the method, and return a list of this class objects. Hope it is clearer now :)","body":"What do you mean by &quot;one thing&quot;? I pass the specific class as an argument to the method, and return a list of this class objects. Hope it is clearer now :)"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":8,"creation_date":1660547913,"post_id":73357800,"comment_id":129549982,"body_markdown":"Varargs in Java are just syntactic sugar for arrays. This means that you can pass an array to  `ctor.newInstance()` instead of separate varargs. Just create a `String[]`, fill it with the appropriate values, and pass it to `ctor.newInstance` - no `switch` necessary and it will work for any number of values. (The same for `cCtor.getConstructor()`).","body":"Varargs in Java are just syntactic sugar for arrays. This means that you can pass an array to  <code>ctor.newInstance()</code> instead of separate varargs. Just create a <code>String[]</code>, fill it with the appropriate values, and pass it to <code>ctor.newInstance</code> - no <code>switch</code> necessary and it will work for any number of values. (The same for <code>cCtor.getConstructor()</code>)."}],"answers":[{"tags":[],"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660547891,"creation_date":1660547891,"answer_id":73357896,"question_id":73357800,"body_markdown":"That `getConstructor` method call is already taking an array of classes. Same with `newInstance` so all you need to do is initialize an array of size `valuesNumber` that is filled with String.class and then convert your valuesList to an array. Here are some useful links: \r\n\r\nhttps://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array\r\n\r\nhttps://stackoverflow.com/questions/9572795/convert-list-to-array-in-java","title":"Can this code of on the fly objects creation be optimized?","body":"<p>That <code>getConstructor</code> method call is already taking an array of classes. Same with <code>newInstance</code> so all you need to do is initialize an array of size <code>valuesNumber</code> that is filled with String.class and then convert your valuesList to an array. Here are some useful links:</p>\n<p><a href=\"https://stackoverflow.com/questions/9128737/fastest-way-to-set-all-values-of-an-array\">Fastest way to set all values of an array?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/9572795/convert-list-to-array-in-java\">Convert list to array in Java</a></p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660549032,"creation_date":1660548497,"answer_id":73357972,"question_id":73357800,"body_markdown":"If I understand correctly, this should work:\r\n\r\n    public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class&lt;?&gt; cCtor){\r\n        try {\r\n            List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\r\n            int valuesNumber = valuesList.size();\r\n\r\n            Class&lt;?&gt;[] constructorParameters = new Class&lt;?&gt;[valuesNumber];\r\n            Arrays.fill(constructorParameters, String.class);\r\n            Constructor&lt;?&gt; ctor = cCtor.getConstructor(constructorParameters);\r\n            return List.of(ctor.newInstance(valuesList.toArray()));\r\n        } catch (NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\r\n            return List.of();\r\n        }\r\n    }\r\n\r\nI&#39;ve changed the last parameter to not use a raw type, and I&#39;ve removed the use of `Class.forName`, which seems redundant.\r\n\r\nTo call `getConstructor`, you can create an array of size `valuesNumber` and `fill` it with `String.class`, then pass that array. \r\n\r\nSimilarly, to call `newInstance`, you can just convert `valuesList` to an array.\r\n\r\nThis works because variable arity parameters (e.g. the parameter of `getConstructor`) have array types as their formal parameter types, and Java prefers a non-variable arity invocation over a variable arity invocation. This means that `ctor.newInstance(valuesList.toArray())` will actually be understood as &quot;call the constructor with the parameters in this array&quot;, rather than &quot;call the constructor with the array as the single parameter&quot;.","title":"Can this code of on the fly objects creation be optimized?","body":"<p>If I understand correctly, this should work:</p>\n<pre><code>public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class&lt;?&gt; cCtor){\n    try {\n        List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\n        int valuesNumber = valuesList.size();\n\n        Class&lt;?&gt;[] constructorParameters = new Class&lt;?&gt;[valuesNumber];\n        Arrays.fill(constructorParameters, String.class);\n        Constructor&lt;?&gt; ctor = cCtor.getConstructor(constructorParameters);\n        return List.of(ctor.newInstance(valuesList.toArray()));\n    } catch (NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\n        return List.of();\n    }\n}\n</code></pre>\n<p>I've changed the last parameter to not use a raw type, and I've removed the use of <code>Class.forName</code>, which seems redundant.</p>\n<p>To call <code>getConstructor</code>, you can create an array of size <code>valuesNumber</code> and <code>fill</code> it with <code>String.class</code>, then pass that array.</p>\n<p>Similarly, to call <code>newInstance</code>, you can just convert <code>valuesList</code> to an array.</p>\n<p>This works because variable arity parameters (e.g. the parameter of <code>getConstructor</code>) have array types as their formal parameter types, and Java prefers a non-variable arity invocation over a variable arity invocation. This means that <code>ctor.newInstance(valuesList.toArray())</code> will actually be understood as &quot;call the constructor with the parameters in this array&quot;, rather than &quot;call the constructor with the array as the single parameter&quot;.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73357972,"answer_count":2,"score":0,"last_activity_date":1696949096,"creation_date":1660547186,"question_id":73357800,"body_markdown":"I have a method which accepts a class parameter.\r\nI need to create a list of this class objects for any kind of a class.\r\nEach class may have a constructor with various number of parameters.\r\n\r\nThis is what I managed to get so far.\r\nIt works, but obviously it is not generic enough.\r\nIs there a more generic code for this code?\r\n\r\n\r\n    public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class c){\r\n\r\n            try {\r\n    \r\n                    Class&lt;?&gt; cCtor = Class.forName(c.getTypeName());\r\n    \r\n                    List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\r\n                    int valuesNumber = valuesList.size();\r\n    \r\n                    switch (valuesNumber) {\r\n                        case 1 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0)));\r\n                        }\r\n                        case 2 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1)));\r\n                        }\r\n                        case 4 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3)));\r\n                        }\r\n                        case 5 -&gt; {\r\n                            Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class, String.class);\r\n                            return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3), valuesList.get(4)));\r\n                        }\r\n                        default -&gt; {\r\n                            return new ArrayList&lt;&gt;();\r\n                        }\r\n                    }\r\n                } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\r\n                    log.error(e.getMessage());\r\n                    return new ArrayList&lt;&gt;();\r\n                }\r\n    }\r\n\r\nMy goal: to generalize the switch part for all list sizes.","title":"Can this code of on the fly objects creation be optimized?","body":"<p>I have a method which accepts a class parameter.\nI need to create a list of this class objects for any kind of a class.\nEach class may have a constructor with various number of parameters.</p>\n<p>This is what I managed to get so far.\nIt works, but obviously it is not generic enough.\nIs there a more generic code for this code?</p>\n<pre><code>public List&lt;Object&gt; convertSeparatedListToJsonList(String pipedStr, String separatorRegex, Class c){\n\n        try {\n\n                Class&lt;?&gt; cCtor = Class.forName(c.getTypeName());\n\n                List&lt;String&gt; valuesList = Stream.of(pipedStr.split(separatorRegex)).map(String::trim).collect(Collectors.toList());\n                int valuesNumber = valuesList.size();\n\n                switch (valuesNumber) {\n                    case 1 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0)));\n                    }\n                    case 2 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1)));\n                    }\n                    case 4 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3)));\n                    }\n                    case 5 -&gt; {\n                        Constructor&lt;?&gt; ctor = cCtor.getConstructor(String.class, String.class, String.class, String.class, String.class);\n                        return List.of(ctor.newInstance(valuesList.get(0), valuesList.get(1), valuesList.get(2), valuesList.get(3), valuesList.get(4)));\n                    }\n                    default -&gt; {\n                        return new ArrayList&lt;&gt;();\n                    }\n                }\n            } catch (ClassNotFoundException | NoSuchMethodException | InstantiationException | IllegalAccessException | InvocationTargetException e) {\n                log.error(e.getMessage());\n                return new ArrayList&lt;&gt;();\n            }\n}\n</code></pre>\n<p>My goal: to generalize the switch part for all list sizes.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696948202,"creation_date":1696934932,"question_id":77265116,"body_markdown":"So I am trying to make common/utility jar which will store my spring security configuration and custom permission evaluator and some additional stuff. And then services which will need to have access to it will just add it to the project.\r\nBut for some reason it does not work properly, my configuration and beans are loaded correctly. But when I am trying access my example endpoint it does not go into my custom permission evaluator, which is strange. Because before moving this code outside of my webservice everything was correctly.\r\n\r\nI am using Spring Boot 3+, and java 17.\r\nAnd my code looks like following:\r\n\r\n    @PreAuthorize(&quot;hasPermission(&#39;example&#39;)&quot;)\r\n    @GetMapping(path = &quot;/&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;String&gt;&gt; getAll()\r\n\r\nSecurity Configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    //Tried both\r\n    @EnableMethodSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .authorizeHttpRequests(auth -&gt; auth\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .csrf().disable()\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public MethodSecurityExpressionHandler customMethodSecurityExpressionHandler() {\r\n            System.out.println(&quot;Creating customMethodSecurityExpressionHandler&quot;);\r\n    \r\n            DefaultMethodSecurityExpressionHandler expressionHandler =\r\n                    new DefaultMethodSecurityExpressionHandler();\r\n            expressionHandler.setPermissionEvaluator(customPermissionEvaluator());\r\n            return expressionHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public CustomPermissionEvaluator customPermissionEvaluator() {\r\n            System.out.println(&quot;Creating customPermissionEvaluator&quot;);\r\n            return new CustomPermissionEvaluator();\r\n        }\r\n    }\r\n\r\nAnd evaluator\r\n\r\n    public class CustomPermissionEvaluator implements PermissionEvaluator {\r\n    \r\n        public CustomPermissionEvaluator() {\r\n            System.out.println(&quot;constructor CustomPermissionEvaluator&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasPermission(Authentication auth, Object targetDomainObject, Object permission) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasPermission(Authentication auth, Serializable targetId, String targetType, Object permission) {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    }\r\n\r\nAny idea where can be an issue?\r\n","title":"Custom PermissionEvaluator does not work when security configuration is put outside of service - in seperate jar","body":"<p>So I am trying to make common/utility jar which will store my spring security configuration and custom permission evaluator and some additional stuff. And then services which will need to have access to it will just add it to the project.\nBut for some reason it does not work properly, my configuration and beans are loaded correctly. But when I am trying access my example endpoint it does not go into my custom permission evaluator, which is strange. Because before moving this code outside of my webservice everything was correctly.</p>\n<p>I am using Spring Boot 3+, and java 17.\nAnd my code looks like following:</p>\n<pre><code>@PreAuthorize(&quot;hasPermission('example')&quot;)\n@GetMapping(path = &quot;/&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;List&lt;String&gt;&gt; getAll()\n</code></pre>\n<p>Security Configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n//Tried both\n@EnableMethodSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .authorizeHttpRequests(auth -&gt; auth\n                        .anyRequest().authenticated()\n                )\n                .csrf().disable()\n                .build();\n    }\n\n    @Bean\n    public MethodSecurityExpressionHandler customMethodSecurityExpressionHandler() {\n        System.out.println(&quot;Creating customMethodSecurityExpressionHandler&quot;);\n\n        DefaultMethodSecurityExpressionHandler expressionHandler =\n                new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setPermissionEvaluator(customPermissionEvaluator());\n        return expressionHandler;\n    }\n\n    @Bean\n    public CustomPermissionEvaluator customPermissionEvaluator() {\n        System.out.println(&quot;Creating customPermissionEvaluator&quot;);\n        return new CustomPermissionEvaluator();\n    }\n}\n</code></pre>\n<p>And evaluator</p>\n<pre><code>public class CustomPermissionEvaluator implements PermissionEvaluator {\n\n    public CustomPermissionEvaluator() {\n        System.out.println(&quot;constructor CustomPermissionEvaluator&quot;);\n    }\n\n    @Override\n    public boolean hasPermission(Authentication auth, Object targetDomainObject, Object permission) {\n        return true;\n    }\n\n    @Override\n    public boolean hasPermission(Authentication auth, Serializable targetId, String targetType, Object permission) {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n<p>Any idea where can be an issue?</p>\n"},{"tags":["java","spring","types","error-handling","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":16927441,"reputation":11,"user_id":12242696,"display_name":"dxgamer2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696947267,"creation_date":1696947267,"answer_id":77266583,"question_id":77265216,"body_markdown":"For anyone withe the same doubt.\r\n\r\nTry changing the GetMapping annotation:\r\n\r\n    @GetMapping(value=&quot;/search&quot;, produces={&quot;application/json&quot;,&quot;text/html&quot;}, consumes=&quot;application/json&quot;)\r\n\r\nI think it&#39;s self explanatory, but this enables 2 types HTTP mediaTypes to be returned instead of only one, which was the issue.","title":"Java Spring Reactive return error message to user OR json of some Object","body":"<p>For anyone withe the same doubt.</p>\n<p>Try changing the GetMapping annotation:</p>\n<pre><code>@GetMapping(value=&quot;/search&quot;, produces={&quot;application/json&quot;,&quot;text/html&quot;}, consumes=&quot;application/json&quot;)\n</code></pre>\n<p>I think it's self explanatory, but this enables 2 types HTTP mediaTypes to be returned instead of only one, which was the issue.</p>\n"}],"owner":{"account_id":16927441,"reputation":11,"user_id":12242696,"display_name":"dxgamer2001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696947267,"creation_date":1696935777,"question_id":77265216,"body_markdown":"My first question, so please be understanding if I miss something.\r\n\r\nSo I need to do something similar to this image (but working):\r\n\r\n```\r\n    @GetMapping(&quot;/search&quot;)\r\n    public Mono&lt;ResponseEntity&lt;?&gt;&gt; findProduct(@RequestBody ProductSearch productSearch) {\r\n        return findProduct2(productSearch)\r\n            .map(products -&gt; new ResponseEntity&lt;&gt;(products, HttpStatus.OK))\r\n            .onErrorResume(IllegalArgumentException.class, error -&gt; new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST));\r\n    }\r\n```\r\n\r\nHere I try to send a Mono&lt;List&lt;ProductEntity&gt;&gt; back to the user if he passed some other validations and no errors processing request. But I would also like to return a 400 and a message back to user indicating why it failed the validations (the message would be a String).\r\nThe error I can not get past is the type checking.\r\n\r\nThis seems like a fairly easy task since HTTP does not care wether it receives object/string (maybe only in the sense of it&#39;s MediaType).\r\n\r\n\r\nI already researched quite a bit on this and I only find one answer that would somewhat fit (although tried others) and that would be changing the &quot;server.error.include-message&quot; setting of spring to &quot;onparam&quot; or &quot;always&quot; but I don&#39;t want this here. Mostly because if some unknown error happens it might leak the stacktrace to the user, but there are other reasons.\r\n\r\nAnother one would be to create an Object similar to this:\r\n\r\n```\r\npublic class ReturnType {\r\n   private List&lt;ProductEntity&gt;&gt; result;\r\n   private String errorMessage;\r\n}\r\n```\r\nand return it, but I am working in a team so this would be a more complex solution and not what I wanted.\r\n\r\nYet again I stress, I know these are solutions, but for such a simple problem I can not understand why there is not one better.\r\n\r\nThanks to anyone who helps me on this, in advance!","title":"Java Spring Reactive return error message to user OR json of some Object","body":"<p>My first question, so please be understanding if I miss something.</p>\n<p>So I need to do something similar to this image (but working):</p>\n<pre><code>    @GetMapping(&quot;/search&quot;)\n    public Mono&lt;ResponseEntity&lt;?&gt;&gt; findProduct(@RequestBody ProductSearch productSearch) {\n        return findProduct2(productSearch)\n            .map(products -&gt; new ResponseEntity&lt;&gt;(products, HttpStatus.OK))\n            .onErrorResume(IllegalArgumentException.class, error -&gt; new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST));\n    }\n</code></pre>\n<p>Here I try to send a Mono&lt;List&gt; back to the user if he passed some other validations and no errors processing request. But I would also like to return a 400 and a message back to user indicating why it failed the validations (the message would be a String).\nThe error I can not get past is the type checking.</p>\n<p>This seems like a fairly easy task since HTTP does not care wether it receives object/string (maybe only in the sense of it's MediaType).</p>\n<p>I already researched quite a bit on this and I only find one answer that would somewhat fit (although tried others) and that would be changing the &quot;server.error.include-message&quot; setting of spring to &quot;onparam&quot; or &quot;always&quot; but I don't want this here. Mostly because if some unknown error happens it might leak the stacktrace to the user, but there are other reasons.</p>\n<p>Another one would be to create an Object similar to this:</p>\n<pre><code>public class ReturnType {\n   private List&lt;ProductEntity&gt;&gt; result;\n   private String errorMessage;\n}\n</code></pre>\n<p>and return it, but I am working in a team so this would be a more complex solution and not what I wanted.</p>\n<p>Yet again I stress, I know these are solutions, but for such a simple problem I can not understand why there is not one better.</p>\n<p>Thanks to anyone who helps me on this, in advance!</p>\n"},{"tags":["java","hibernate","spring-data-jpa","jparepository"],"owner":{"account_id":2475280,"reputation":11,"user_id":2156047,"display_name":"Maxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696947018,"creation_date":1696947018,"question_id":77266548,"body_markdown":"I have a problem in JPA with an @Entity object and the @DiscriminatorValue annotation. When I search for the object with JpaRepository, the child object is null.\r\n\r\nthis is the class:\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;KLP_IF_INVOICE_FINANCING&quot;)\r\npublic final class InvoiceFinancing&lt;I extends InvoiceFinancingInfo&gt; extends Agreement&lt;I,Underlying&lt;?&gt;&gt; {\r\n\r\n    private I invoiceFinancingInfo;\r\n\r\n    @Override\r\n    @OneToOne(targetEntity = InvoiceFinancingInfo.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    public I getInfo() {\r\n        return this.invoiceFinancingInfo;\r\n    }\r\n\r\n    public void setInfo(I invoiceFinancing) {\r\n        this.invoiceFinancingInfo = invoiceFinancing;\r\n    }\r\n}\r\n```\r\n\r\nWhen i get the invoiceFinancingInfo, with getInfo() the object is null, but in database table the record exist.\r\nFollow the othres classes:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;KLP_IF_INVOICE_FINANCING&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class InvoiceFinancingInfo extends AbstractAgreementInfo {\r\n\r\n    private String domainId;\r\n    private String name;\r\n    private String externalId;\r\n    //GETTERS AND SETTERS\r\n\r\n}\r\n\r\n@MappedSuperclass\r\npublic abstract class AbstractAgreementInfo extends IdentifiableEntity implements AgreementInfo {\r\n\r\n\tprivate ZonedDateTime startDate;\r\n\tprivate ZonedDateTime endDate;\r\n\tprivate Agreement&lt;?,?&gt; agreement;\r\n\t\r\n\tpublic ZonedDateTime getStartDate() {\r\n\t\treturn startDate;\r\n\t}\r\n\t\r\n\tpublic void setStartDate(ZonedDateTime startDate) {\r\n\t\tthis.startDate = startDate;\r\n\t}\r\n\t\r\n\tpublic ZonedDateTime getEndDate() {\r\n\t\treturn endDate;\r\n\t}\r\n\t\r\n\tpublic void setEndDate(ZonedDateTime endDate) {\r\n\t\tthis.endDate = endDate;\r\n\t}\r\n\t\r\n\t@Override\r\n\t@OneToOne(targetEntity = Agreement.class, cascade = CascadeType.ALL, fetch = FetchType.LAZY, optional = false)\r\n\t@JoinColumn(nullable = false, insertable = true, updatable = false)\r\n\tpublic Agreement&lt;?, ?&gt; getAgreement() {\r\n\t\treturn agreement;\r\n\t}\r\n\t\r\n\tpublic void setAgreement(Agreement&lt;?, ?&gt; agreement) {\r\n\t\tthis.agreement = agreement;\r\n\t}\r\n\t\r\n}\r\n\r\n@MappedSuperclass\r\npublic abstract class IdentifiableEntity implements ManagedMappedSuperclass {\r\n    private String id;\r\n    //GETTERS AND SETTERS\r\n}\r\n\r\npublic interface AgreementInfo {\r\n\tZonedDateTime getStartDate();\r\n\tZonedDateTime getEndDate();\r\n\tAgreement&lt;?,?&gt; getAgreement();\r\n\tvoid setAgreement(Agreement&lt;?,?&gt; agreement);\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;KLP_AGREEMENT&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\npublic abstract class Agreement&lt;I extends AgreementInfo, U extends Underlying&lt;?&gt;&gt; extends IdentifiableEntity {\r\n\r\n\tprivate Collection&lt;Participant&gt; participants;\r\n\tprivate Collection&lt;? extends U&gt; underlyings;\r\n\t/* Commit comment */\r\n\tpublic static final &lt;U extends Underlying&lt;?&gt;, I extends AgreementInfo, A extends Agreement&lt;I,U&gt;&gt; A of(Supplier&lt;A&gt; supplier, I info, Collection&lt;U&gt; underlyings, Collection&lt;Participant&gt; participants) {\r\n\t\tA agreement = supplier.get();\r\n\t\tif(info != null) {\r\n\t\t\tagreement.setInfo(info);\r\n\t\t\tinfo.setAgreement(agreement);\r\n\t\t}\r\n\t\tif(participants != null) {\t\t\t\r\n\t\t\tagreement.setParticipants(participants);\r\n\t\t\tparticipants.forEach(p -&gt; p.setAgreement(agreement));\r\n\t\t}\r\n\t\tif(underlyings != null) {\t\t\t\r\n\t\t\tagreement.setUnderlyings(underlyings);\r\n\t\t\tunderlyings.forEach(u -&gt; u.setAgreement(agreement));\r\n\t\t}\r\n\t\tinfo.setAgreement(agreement);\r\n\t\treturn agreement;\r\n\t}\r\n\r\n\t@OneToMany(targetEntity = Participant.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\tpublic Collection&lt;Participant&gt; getParticipants() {\r\n\t\treturn participants;\r\n\t}\r\n\r\n\tpublic void setParticipants(Collection&lt;Participant&gt; participants) {\r\n\t\tthis.participants = participants;\r\n\t}\r\n\r\n\t@OneToMany(targetEntity = Underlying.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\tpublic Collection&lt;? extends U&gt; getUnderlyings() {\r\n\t\treturn underlyings;\r\n\t}\r\n\r\n\tpublic void setUnderlyings(Collection&lt;? extends U&gt; underlyings) {\r\n\t\tthis.underlyings = underlyings;\r\n\t}\r\n\t\r\n\t@Transient\r\n\tpublic abstract I getInfo();\r\n\tpublic abstract void setInfo(I info);\r\n\t\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;KLP_UNDERLYING&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\npublic abstract class Underlying&lt;T&gt; extends IdentifiableEntity {\r\n\r\n\tprivate Agreement&lt;?,?&gt; agreement;\r\n\r\n\tpublic static final &lt;T , U extends Underlying&lt;T&gt;&gt; U of(Supplier&lt;U&gt; supplier, T underlyingObject) {\r\n\t\tU underlying = supplier.get();\r\n\t\tif(underlyingObject != null) {\r\n\t\t\tunderlying.setObject(underlyingObject);\r\n\t\t}\r\n\t\treturn underlying;\r\n\t}\r\n\t\r\n\t@ManyToOne(targetEntity = Agreement.class, fetch = FetchType.LAZY, optional = false)\r\n\t@JoinColumn(nullable = false, insertable = true, updatable = false)\r\n\tpublic Agreement&lt;?,?&gt; getAgreement() {\r\n\t\treturn agreement;\r\n\t}\r\n\r\n\tpublic void setAgreement(Agreement&lt;?,?&gt; agreement) {\r\n\t\tthis.agreement = agreement;\r\n\t}\r\n\t\r\n\t@Transient\r\n\tpublic abstract T getObject();\r\n\tpublic abstract void setObject(T info);\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\nI hope that someone can help me. The problem started after updating to springboot 2.6.6, before that it worked!","title":"JPA problem with an @Entity and @DiscriminatorValue annotation","body":"<p>I have a problem in JPA with an @Entity object and the @DiscriminatorValue annotation. When I search for the object with JpaRepository, the child object is null.</p>\n<p>this is the class:</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;KLP_IF_INVOICE_FINANCING&quot;)\npublic final class InvoiceFinancing&lt;I extends InvoiceFinancingInfo&gt; extends Agreement&lt;I,Underlying&lt;?&gt;&gt; {\n\n    private I invoiceFinancingInfo;\n\n    @Override\n    @OneToOne(targetEntity = InvoiceFinancingInfo.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    public I getInfo() {\n        return this.invoiceFinancingInfo;\n    }\n\n    public void setInfo(I invoiceFinancing) {\n        this.invoiceFinancingInfo = invoiceFinancing;\n    }\n}\n</code></pre>\n<p>When i get the invoiceFinancingInfo, with getInfo() the object is null, but in database table the record exist.\nFollow the othres classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;KLP_IF_INVOICE_FINANCING&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@EntityListeners(AuditingEntityListener.class)\npublic class InvoiceFinancingInfo extends AbstractAgreementInfo {\n\n    private String domainId;\n    private String name;\n    private String externalId;\n    //GETTERS AND SETTERS\n\n}\n\n@MappedSuperclass\npublic abstract class AbstractAgreementInfo extends IdentifiableEntity implements AgreementInfo {\n\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n    private Agreement&lt;?,?&gt; agreement;\n    \n    public ZonedDateTime getStartDate() {\n        return startDate;\n    }\n    \n    public void setStartDate(ZonedDateTime startDate) {\n        this.startDate = startDate;\n    }\n    \n    public ZonedDateTime getEndDate() {\n        return endDate;\n    }\n    \n    public void setEndDate(ZonedDateTime endDate) {\n        this.endDate = endDate;\n    }\n    \n    @Override\n    @OneToOne(targetEntity = Agreement.class, cascade = CascadeType.ALL, fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(nullable = false, insertable = true, updatable = false)\n    public Agreement&lt;?, ?&gt; getAgreement() {\n        return agreement;\n    }\n    \n    public void setAgreement(Agreement&lt;?, ?&gt; agreement) {\n        this.agreement = agreement;\n    }\n    \n}\n\n@MappedSuperclass\npublic abstract class IdentifiableEntity implements ManagedMappedSuperclass {\n    private String id;\n    //GETTERS AND SETTERS\n}\n\npublic interface AgreementInfo {\n    ZonedDateTime getStartDate();\n    ZonedDateTime getEndDate();\n    Agreement&lt;?,?&gt; getAgreement();\n    void setAgreement(Agreement&lt;?,?&gt; agreement);\n}\n\n@Entity\n@Table(name = &quot;KLP_AGREEMENT&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic abstract class Agreement&lt;I extends AgreementInfo, U extends Underlying&lt;?&gt;&gt; extends IdentifiableEntity {\n\n    private Collection&lt;Participant&gt; participants;\n    private Collection&lt;? extends U&gt; underlyings;\n    /* Commit comment */\n    public static final &lt;U extends Underlying&lt;?&gt;, I extends AgreementInfo, A extends Agreement&lt;I,U&gt;&gt; A of(Supplier&lt;A&gt; supplier, I info, Collection&lt;U&gt; underlyings, Collection&lt;Participant&gt; participants) {\n        A agreement = supplier.get();\n        if(info != null) {\n            agreement.setInfo(info);\n            info.setAgreement(agreement);\n        }\n        if(participants != null) {          \n            agreement.setParticipants(participants);\n            participants.forEach(p -&gt; p.setAgreement(agreement));\n        }\n        if(underlyings != null) {           \n            agreement.setUnderlyings(underlyings);\n            underlyings.forEach(u -&gt; u.setAgreement(agreement));\n        }\n        info.setAgreement(agreement);\n        return agreement;\n    }\n\n    @OneToMany(targetEntity = Participant.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    public Collection&lt;Participant&gt; getParticipants() {\n        return participants;\n    }\n\n    public void setParticipants(Collection&lt;Participant&gt; participants) {\n        this.participants = participants;\n    }\n\n    @OneToMany(targetEntity = Underlying.class, mappedBy = &quot;agreement&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    public Collection&lt;? extends U&gt; getUnderlyings() {\n        return underlyings;\n    }\n\n    public void setUnderlyings(Collection&lt;? extends U&gt; underlyings) {\n        this.underlyings = underlyings;\n    }\n    \n    @Transient\n    public abstract I getInfo();\n    public abstract void setInfo(I info);\n    \n}\n\n@Entity\n@Table(name = &quot;KLP_UNDERLYING&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic abstract class Underlying&lt;T&gt; extends IdentifiableEntity {\n\n    private Agreement&lt;?,?&gt; agreement;\n\n    public static final &lt;T , U extends Underlying&lt;T&gt;&gt; U of(Supplier&lt;U&gt; supplier, T underlyingObject) {\n        U underlying = supplier.get();\n        if(underlyingObject != null) {\n            underlying.setObject(underlyingObject);\n        }\n        return underlying;\n    }\n    \n    @ManyToOne(targetEntity = Agreement.class, fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(nullable = false, insertable = true, updatable = false)\n    public Agreement&lt;?,?&gt; getAgreement() {\n        return agreement;\n    }\n\n    public void setAgreement(Agreement&lt;?,?&gt; agreement) {\n        this.agreement = agreement;\n    }\n    \n    @Transient\n    public abstract T getObject();\n    public abstract void setObject(T info);\n    \n}\n</code></pre>\n<p>I hope that someone can help me. The problem started after updating to springboot 2.6.6, before that it worked!</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":301114,"reputation":37863,"user_id":608649,"display_name":"yigit"},"score":0,"creation_date":1428381776,"post_id":29463560,"comment_id":47127915,"body_markdown":"I guess it is happening at the very first initialization.\nFor now, check if it has any children before calling findFirstVisible and also it would be nice if you can create a bug report on b.android.com .","body":"I guess it is happening at the very first initialization. For now, check if it has any children before calling findFirstVisible and also it would be nice if you can create a bug report on b.android.com ."}],"answers":[{"comments":[{"owner":{"account_id":6438837,"reputation":714,"user_id":4989435,"display_name":"Sahil Patel"},"score":0,"creation_date":1523171288,"post_id":29468149,"comment_id":86443750,"body_markdown":"In case you are using something like StaggeredGridLayoutManager(), then the signature of the method changes. {currentScrollPosition = (recyclerView?.layoutManager as StaggeredGridLayoutManager)\n                            .findLastCompletelyVisibleItemPositions(intArrayOf(0,1))[1]}","body":"In case you are using something like StaggeredGridLayoutManager(), then the signature of the method changes. {currentScrollPosition = (recyclerView?.layoutManager as StaggeredGridLayoutManager)                             .findLastCompletelyVisibleItemPositions(intArrayOf(0,1))[1]}"},{"owner":{"account_id":1402251,"reputation":3328,"user_id":1330787,"accept_rate":48,"display_name":"Abduhafiz"},"score":2,"creation_date":1571561271,"post_id":29468149,"comment_id":103276203,"body_markdown":"for kotlin use `val positionView = (recyclerView.layoutManager as LinearLayoutManager).findFirstVisibleItemPosition()`","body":"for kotlin use <code>val positionView = (recyclerView.layoutManager as LinearLayoutManager).findFirstVisibleItemPosition()</code>"}],"tags":[],"owner":{"account_id":3136581,"reputation":464,"user_id":2652974,"display_name":"zed007"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1428554709,"creation_date":1428310583,"answer_id":29468149,"question_id":29463560,"body_markdown":"I tested it with this code and it works fine with me \r\n\r\n    int positionView = ((LinearLayoutManager)recyclerView.getLayoutManager()).findFirstVisibleItemPosition();\r\n\r\nI used the recycle view parameter.","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>I tested it with this code and it works fine with me </p>\n\n<pre><code>int positionView = ((LinearLayoutManager)recyclerView.getLayoutManager()).findFirstVisibleItemPosition();\n</code></pre>\n\n<p>I used the recycle view parameter.</p>\n"},{"comments":[{"owner":{"account_id":5801790,"reputation":2991,"user_id":4575744,"display_name":"Ankit Aggarwal"},"score":0,"creation_date":1428577283,"post_id":29529952,"comment_id":47225658,"body_markdown":"this solution worked for me. please tell me if there is something wrong in the solution.\nlayoutManager.findFirstVisibleItemPositions(null) will return a new array.\n[link](https://developer.android.com/reference/android/support/v7/widget/StaggeredGridLayoutManager.html#findFirstVisibleItemPositions(int[]))","body":"this solution worked for me. please tell me if there is something wrong in the solution. layoutManager.findFirstVisibleItemPositions(null) will return a new array. <a href=\"https://developer.android.com/reference/android/support/v7/widget/StaggeredGridLayoutManager.html#findFirstVisibleItemPositions(int%5B%5D)\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":5801790,"reputation":2991,"user_id":4575744,"display_name":"Ankit Aggarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1428554964,"creation_date":1428554624,"answer_id":29529952,"question_id":29463560,"body_markdown":"Try this:\r\n\r\n    int position = layoutManager.findFirstVisibleItemPositions(null)[0];\r\n\r\nwhere `layoutManager` is what you set in your `recyclerview`.\r\n\r\nFor example,\r\n\r\n    layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\r\n    mrecyclerView.setLayoutManager(layoutManager );","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>Try this:</p>\n\n<pre><code>int position = layoutManager.findFirstVisibleItemPositions(null)[0];\n</code></pre>\n\n<p>where <code>layoutManager</code> is what you set in your <code>recyclerview</code>.</p>\n\n<p>For example,</p>\n\n<pre><code>layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\nmrecyclerView.setLayoutManager(layoutManager );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23056,"reputation":8896,"user_id":57490,"display_name":"TalkLittle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453178252,"creation_date":1453178252,"answer_id":34868592,"question_id":29463560,"body_markdown":"This is a bug in the RecyclerView StaggeredGridLayoutManager:\r\n\r\nhttps://code.google.com/p/android/issues/detail?id=180521\r\n\r\nhttps://code.google.com/p/android/issues/detail?id=181461\r\n\r\nA workaround is to try/catch the exception:\r\n\r\n    try {\r\n        ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions);\r\n    } catch (NullPointerException ex) {\r\n        // workaround for RecyclerView bug. assume not laid out, so no items visible\r\n        firstVisibleItemPositions[0] = RecyclerView.NO_POSITION;\r\n        firstVisibleItemPositions[1] = RecyclerView.NO_POSITION;\r\n    }\r\n\r\n","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>This is a bug in the RecyclerView StaggeredGridLayoutManager:</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=180521\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=180521</a></p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=181461\" rel=\"nofollow\">https://code.google.com/p/android/issues/detail?id=181461</a></p>\n\n<p>A workaround is to try/catch the exception:</p>\n\n<pre><code>try {\n    ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions);\n} catch (NullPointerException ex) {\n    // workaround for RecyclerView bug. assume not laid out, so no items visible\n    firstVisibleItemPositions[0] = RecyclerView.NO_POSITION;\n    firstVisibleItemPositions[1] = RecyclerView.NO_POSITION;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4685955,"reputation":31,"user_id":3793358,"display_name":"user3793358"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480187575,"creation_date":1480187575,"answer_id":40822104,"question_id":29463560,"body_markdown":"You can use this : \r\n\r\n    int[] firstVisibleItemPositions = new int[yourNumberOfColumns];\r\n    int pastVisiblesItems = layoutManager.findFirstVisibleItemPositions(firstVisibleItem‌​Positions)[0];","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>You can use this : </p>\n\n<pre><code>int[] firstVisibleItemPositions = new int[yourNumberOfColumns];\nint pastVisiblesItems = layoutManager.findFirstVisibleItemPositions(firstVisibleItem‌​Positions)[0];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"score":0,"creation_date":1626154099,"post_id":45768855,"comment_id":120809789,"body_markdown":"please can you tell me that if implement this method where can i put this  &#39;new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL)&#39;","body":"please can you tell me that if implement this method where can i put this  &#39;new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL)&#39;"},{"owner":{"account_id":3459925,"reputation":3985,"user_id":2897365,"display_name":"varotariya vajsi"},"score":0,"creation_date":1629451344,"post_id":45768855,"comment_id":121695695,"body_markdown":"@VasantRaval layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERTICAL);\nmrecyclerView.setLayoutManager(layoutManager );\n https://stackoverflow.com/a/29529952/2897365","body":"@VasantRaval layoutManager = new StaggeredGridLayoutManager(2,StaggeredGridLayoutManager.VERT&zwnj;&#8203;ICAL); mrecyclerView.setLayoutManager(layoutManager );  <a href=\"https://stackoverflow.com/a/29529952/2897365\">stackoverflow.com/a/29529952/2897365</a>"}],"tags":[],"owner":{"account_id":3459925,"reputation":3985,"user_id":2897365,"display_name":"varotariya vajsi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503127649,"creation_date":1503127191,"answer_id":45768855,"question_id":29463560,"body_markdown":"If you are using StaggeredGridLayoutManager you can find **findLastVisibleItemPositions** like below:\r\n\r\n    int visibleThreshold =1;\r\n    final StaggeredGridLayoutManager linearLayoutManager = (StaggeredGridLayoutManager) mRecyclerViewAllPost.getLayoutManager();\r\n        mRecyclerViewAllPost.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n            @Override\r\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n                super.onScrolled(recyclerView, dx, dy);\r\n\r\n                int[] lastVisibleItemPositions = linearLayoutManager.findLastVisibleItemPositions(null);\r\n                int lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\r\n                int totalItemCount = linearLayoutManager.getItemCount();\r\n                if (!isLoading &amp;&amp; totalItemCount &lt;= (lastVisibleItem + visibleThreshold)) {\r\n                    print(&quot;load more item &quot;);\r\n                    isLoading = true;\r\n                }\r\n            }\r\n        });\r\n\r\nand **getLastVisibleItem** method as below:\r\n\r\n    public int getLastVisibleItem(int[] lastVisibleItemPositions) {\r\n        int maxSize = 0;\r\n        for (int i = 0; i &lt; lastVisibleItemPositions.length; i++) {\r\n            if (i == 0) {\r\n                maxSize = lastVisibleItemPositions[i];\r\n            }\r\n            else if (lastVisibleItemPositions[i] &gt; maxSize) {\r\n                maxSize = lastVisibleItemPositions[i];\r\n            }\r\n        }\r\n        return maxSize;\r\n    }","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>If you are using StaggeredGridLayoutManager you can find <strong>findLastVisibleItemPositions</strong> like below:</p>\n\n<pre><code>int visibleThreshold =1;\nfinal StaggeredGridLayoutManager linearLayoutManager = (StaggeredGridLayoutManager) mRecyclerViewAllPost.getLayoutManager();\n    mRecyclerViewAllPost.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n\n            int[] lastVisibleItemPositions = linearLayoutManager.findLastVisibleItemPositions(null);\n            int lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\n            int totalItemCount = linearLayoutManager.getItemCount();\n            if (!isLoading &amp;&amp; totalItemCount &lt;= (lastVisibleItem + visibleThreshold)) {\n                print(\"load more item \");\n                isLoading = true;\n            }\n        }\n    });\n</code></pre>\n\n<p>and <strong>getLastVisibleItem</strong> method as below:</p>\n\n<pre><code>public int getLastVisibleItem(int[] lastVisibleItemPositions) {\n    int maxSize = 0;\n    for (int i = 0; i &lt; lastVisibleItemPositions.length; i++) {\n        if (i == 0) {\n            maxSize = lastVisibleItemPositions[i];\n        }\n        else if (lastVisibleItemPositions[i] &gt; maxSize) {\n            maxSize = lastVisibleItemPositions[i];\n        }\n    }\n    return maxSize;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1649239,"reputation":51,"user_id":1520139,"display_name":"Subhash Gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534921526,"creation_date":1534920038,"answer_id":51961065,"question_id":29463560,"body_markdown":"You can try it this way:\r\n    \r\n    StaggeredGridLayoutManager staggeredGridLayoutManager = (StaggeredGridLayoutManager) recyclerView.getLayoutManager();\r\n    \r\nOr you can use your `staggeredlayoutManager` object directly instead of above object:\r\n    \r\n    int[] into = staggeredGridLayoutManager .findLastVisibleItemPositions(null);\r\n    List&lt;Integer&gt; intoList = new ArrayList&lt;&gt;();\r\n    \r\n    for (int i : into) \r\n    {\r\n     intoList.add(i);\r\n    }\r\n  \r\n \r\n    \r\n    int firstVisbleoitem= Collections.max(intoList);","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>You can try it this way:</p>\n\n<pre><code>StaggeredGridLayoutManager staggeredGridLayoutManager = (StaggeredGridLayoutManager) recyclerView.getLayoutManager();\n</code></pre>\n\n<p>Or you can use your <code>staggeredlayoutManager</code> object directly instead of above object:</p>\n\n<pre><code>int[] into = staggeredGridLayoutManager .findLastVisibleItemPositions(null);\nList&lt;Integer&gt; intoList = new ArrayList&lt;&gt;();\n\nfor (int i : into) \n{\n intoList.add(i);\n}\n\n\n\nint firstVisbleoitem= Collections.max(intoList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10890458,"reputation":1371,"user_id":8006435,"display_name":"smarteist"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558798407,"creation_date":1558798407,"answer_id":56306259,"question_id":29463560,"body_markdown":"Use these two methods :\r\n\r\n        /**\r\n         * @return Last visible item position for staggeredGridLayoutManager\r\n         */\r\n        private int getLastVisibleItem(int[] lastVisibleItemPositions) {\r\n            int maxSize = 0;\r\n            for (int position : lastVisibleItemPositions) {\r\n                if (position &gt; maxSize) {\r\n                    maxSize = position;\r\n                }\r\n            }\r\n            return maxSize;\r\n        }\r\n    \r\n        /**\r\n         * @return First visible item position for staggeredGridLayoutManager\r\n         */\r\n        private int getFirstVisibleItem(int[] firstVisibleItemPositions) {\r\n            int minSize = 0;\r\n            if (firstVisibleItemPositions.length &gt; 0) {\r\n                minSize = firstVisibleItemPositions[0];\r\n                for (int position : firstVisibleItemPositions) {\r\n                    if (position &lt; minSize) {\r\n                        minSize = position;\r\n                    }\r\n                }\r\n            }\r\n            return minSize;\r\n        }\r\n\r\nand getLastVisibleItem method as below:\r\n\r\n                        int[] lastVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findLastVisibleItemPositions(null);\r\n                        int[] firstVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findFirstVisibleItemPositions(null);\r\n                        // get maximum element within the list\r\n                        lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\r\n                        firstVisibleItem = getFirstVisibleItem(firstVisibleItemPositions);\r\n\r\n","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>Use these two methods :</p>\n\n<pre><code>    /**\n     * @return Last visible item position for staggeredGridLayoutManager\n     */\n    private int getLastVisibleItem(int[] lastVisibleItemPositions) {\n        int maxSize = 0;\n        for (int position : lastVisibleItemPositions) {\n            if (position &gt; maxSize) {\n                maxSize = position;\n            }\n        }\n        return maxSize;\n    }\n\n    /**\n     * @return First visible item position for staggeredGridLayoutManager\n     */\n    private int getFirstVisibleItem(int[] firstVisibleItemPositions) {\n        int minSize = 0;\n        if (firstVisibleItemPositions.length &gt; 0) {\n            minSize = firstVisibleItemPositions[0];\n            for (int position : firstVisibleItemPositions) {\n                if (position &lt; minSize) {\n                    minSize = position;\n                }\n            }\n        }\n        return minSize;\n    }\n</code></pre>\n\n<p>and getLastVisibleItem method as below:</p>\n\n<pre><code>                    int[] lastVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findLastVisibleItemPositions(null);\n                    int[] firstVisibleItemPositions = ((StaggeredGridLayoutManager) layoutManager).findFirstVisibleItemPositions(null);\n                    // get maximum element within the list\n                    lastVisibleItem = getLastVisibleItem(lastVisibleItemPositions);\n                    firstVisibleItem = getFirstVisibleItem(firstVisibleItemPositions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4033977,"reputation":6390,"user_id":3319132,"accept_rate":49,"display_name":"reza_khalafi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696946876,"creation_date":1696946876,"answer_id":77266533,"question_id":29463560,"body_markdown":"Use this in Kotlin:\r\n\r\n    val positionView = (recyclerView.layoutManager as LinearLayoutManager?)!!.findFirstVisibleItemPosition()\r\n\r\n\r\nJust this.","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>Use this in Kotlin:</p>\n<pre><code>val positionView = (recyclerView.layoutManager as LinearLayoutManager?)!!.findFirstVisibleItemPosition()\n</code></pre>\n<p>Just this.</p>\n"}],"owner":{"account_id":4329949,"reputation":253,"user_id":3535747,"display_name":"user3535747"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24584,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":29468149,"answer_count":8,"score":18,"last_activity_date":1696946876,"creation_date":1428277733,"question_id":29463560,"body_markdown":"I have this code:\r\n\r\n    mRecycleView.setOnScrollListener(new RecyclerView.OnScrollListener() {\r\n        @Override\r\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n            super.onScrolled(recyclerView, dx, dy);\r\n            int[] firstVisibleItemPositions = new int[getResources().getInteger(R.integer.news_numbers_column)]; \r\n            int pastVisiblesItems = ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions)[0];\r\n        }\r\n    });\r\n\r\nWhen I scroll my recycleview I get this error:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.support.v7.widget.OrientationHelper.getStartAfterPadding()&#39; on a null object reference\r\n    at android.support.v7.widget.StaggeredGridLayoutManager$Span.findOneVisibleChild(StaggeredGridLayoutManager.java:2177)\r\n    at android.support.v7.widget.StaggeredGridLayoutManager$Span.findFirstVisibleItemPosition(StaggeredGridLayoutManager.java:2153)\r\n    at android.support.v7.widget.StaggeredGridLayoutManager.findFirstVisibleItemPositions(StaggeredGridLayoutManager.java:806)\r\n    at info.lanouvelletribune.apps.android.ui.fragments.NewsFragment$1.onScrollStateChanged(NewsFragment.java:90)\r\n    at android.support.v7.widget.RecyclerView.setScrollState(RecyclerView.java:751)\r\n    at android.support.v7.widget.RecyclerView.onInterceptTouchEvent(RecyclerView.java:1535)\r\n    at com.github.ksoichiro.android.observablescrollview.ObservableRecyclerView.onInterceptTouchEvent(ObservableRecyclerView.java:188)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2060)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\r\n    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\r\n    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2390)\r\n    at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1741)\r\n    at android.app.Activity.dispatchTouchEvent(Activity.java:2826)\r\n    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2351)\r\n    at android.view.View.dispatchPointerEvent(View.java:8590)\r\n    at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4098)\r\n    at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:3964)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\r\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\r\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\r\n    at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3515)\r\n    at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\r\n    at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\r\n    at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\r\n    at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3617)\r\n    at android\r\n\r\nHow can I do to handle this error and get the first visible item position?","title":"findFirstVisibleItemPositions doesn&#39;t work for recycleview android","body":"<p>I have this code:</p>\n\n<pre><code>mRecycleView.setOnScrollListener(new RecyclerView.OnScrollListener() {\n    @Override\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n        super.onScrolled(recyclerView, dx, dy);\n        int[] firstVisibleItemPositions = new int[getResources().getInteger(R.integer.news_numbers_column)]; \n        int pastVisiblesItems = ((StaggeredGridLayoutManager)getLayoutManager()).findFirstVisibleItemPositions(firstVisibleItemPositions)[0];\n    }\n});\n</code></pre>\n\n<p>When I scroll my recycleview I get this error:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'int android.support.v7.widget.OrientationHelper.getStartAfterPadding()' on a null object reference\nat android.support.v7.widget.StaggeredGridLayoutManager$Span.findOneVisibleChild(StaggeredGridLayoutManager.java:2177)\nat android.support.v7.widget.StaggeredGridLayoutManager$Span.findFirstVisibleItemPosition(StaggeredGridLayoutManager.java:2153)\nat android.support.v7.widget.StaggeredGridLayoutManager.findFirstVisibleItemPositions(StaggeredGridLayoutManager.java:806)\nat info.lanouvelletribune.apps.android.ui.fragments.NewsFragment$1.onScrollStateChanged(NewsFragment.java:90)\nat android.support.v7.widget.RecyclerView.setScrollState(RecyclerView.java:751)\nat android.support.v7.widget.RecyclerView.onInterceptTouchEvent(RecyclerView.java:1535)\nat com.github.ksoichiro.android.observablescrollview.ObservableRecyclerView.onInterceptTouchEvent(ObservableRecyclerView.java:188)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2060)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2431)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2173)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2390)\nat com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1741)\nat android.app.Activity.dispatchTouchEvent(Activity.java:2826)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2351)\nat android.view.View.dispatchPointerEvent(View.java:8590)\nat android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4098)\nat android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:3964)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\nat android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3515)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3488)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3541)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3507)\nat android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3617)\nat android\n</code></pre>\n\n<p>How can I do to handle this error and get the first visible item position?</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":24157215,"reputation":104,"user_id":18121299,"display_name":"SpeedyTheSnail"},"score":0,"creation_date":1696614045,"post_id":77246125,"comment_id":136180602,"body_markdown":"Maybe this will help? https://stackoverflow.com/a/27215864/18121299","body":"Maybe this will help? <a href=\"https://stackoverflow.com/a/27215864/18121299\">stackoverflow.com/a/27215864/18121299</a>"},{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":0,"creation_date":1696946714,"post_id":77246125,"comment_id":136215726,"body_markdown":"changed the type reference to `new TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}` fixed it.","body":"changed the type reference to <code>new TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}</code> fixed it."}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696660309,"creation_date":1696660309,"answer_id":77248646,"question_id":77246125,"body_markdown":" 1. **Annotation Effects**: Make sure that annotations like @Jacksonized\r\n    from Lombok are not altering the default behavior of the\r\n    ObjectMapper, particularly concerning the handling of unknown\r\n    properties.\r\n    \r\n \r\n 2. **Example of a Global ObjectMapper Bean with Feature Enabled**: You can\r\n    create an ObjectMapper bean with the FAIL_ON_UNKNOWN_PROPERTIES\r\n    feature enabled and use it throughout your application. Here&#39;s how\r\n    to do it in a Spring Boot @Configuration class:\r\n\r\n\r\n   \r\n\r\n     @Configuration\r\n        public class MyConfiguration {\r\n        \r\n            @Bean\r\n            public ObjectMapper objectMapper() {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n                return objectMapper;\r\n            }\r\n        }\r\n\r\n\r\n3. **JunitTest isolate:**\r\n\r\n \r\n\r\n   \r\n   \r\n    \r\n        @Test\r\n        @DisplayName(&quot;GIVEN a JSON string with unknown properties WHEN deserialized THEN should throw UnrecognizedPropertyException&quot;)\r\n        void debugTest() {\r\n            ObjectMapper localMapper = new ObjectMapper();\r\n            localMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    \r\n            String jsonString = &quot;{\\&quot;selected\\&quot;: false, \\&quot;disabled\\&quot;: true, \\&quot;foo\\&quot;: \\&quot;bar\\&quot;}&quot;;\r\n    \r\n            Assertions.assertThrows(\r\n                UnrecognizedPropertyException.class,\r\n                () -&gt; localMapper.readValue(jsonString, MyFormLayout.class)\r\n            );\r\n        }\r\n    \r\n\r\n","title":"Jackson deserialisation NOT failing on unknown properties","body":"<ol>\n<li><p><strong>Annotation Effects</strong>: Make sure that annotations like @Jacksonized\nfrom Lombok are not altering the default behavior of the\nObjectMapper, particularly concerning the handling of unknown\nproperties.</p>\n</li>\n<li><p><strong>Example of a Global ObjectMapper Bean with Feature Enabled</strong>: You can\ncreate an ObjectMapper bean with the FAIL_ON_UNKNOWN_PROPERTIES\nfeature enabled and use it throughout your application. Here's how\nto do it in a Spring Boot @Configuration class:</p>\n<p>@Configuration\npublic class MyConfiguration {</p>\n<pre><code>    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n        return objectMapper;\n    }\n}\n</code></pre>\n</li>\n<li><p><strong>JunitTest isolate:</strong></p>\n<pre><code> @Test\n @DisplayName(&quot;GIVEN a JSON string with unknown properties WHEN deserialized THEN should throw UnrecognizedPropertyException&quot;)\n void debugTest() {\n     ObjectMapper localMapper = new ObjectMapper();\n     localMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n\n     String jsonString = &quot;{\\&quot;selected\\&quot;: false, \\&quot;disabled\\&quot;: true, \\&quot;foo\\&quot;: \\&quot;bar\\&quot;}&quot;;\n\n     Assertions.assertThrows(\n         UnrecognizedPropertyException.class,\n         () -&gt; localMapper.readValue(jsonString, MyFormLayout.class)\n     );\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696946763,"creation_date":1696946763,"answer_id":77266520,"question_id":77246125,"body_markdown":"Changed the type reference to new `TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}` fixed it.","title":"Jackson deserialisation NOT failing on unknown properties","body":"<p>Changed the type reference to new <code>TypeReference&lt;List&lt;MyFormTemplate&gt;&gt;() {}</code> fixed it.</p>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77266520,"answer_count":2,"score":0,"last_activity_date":1696946763,"creation_date":1696610220,"question_id":77246125,"body_markdown":"Deserialisation should fail for the following POJO if the json has an additional field, as the Jackson documentation says ` FAIL_ON_UKNOWN_PROPERTIES ` is set by default.\r\n\r\n    @Getter\r\n    @Setter\r\n    @FieldNameConstants\r\n    @ToString\r\n    @Builder\r\n    @Document(collection = &quot;form_layouts&quot;)\r\n    @EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\r\n    @Jacksonized\r\n    public class MyFormLayout extends AuditableDocument {\r\n    \r\n        @NotNull\r\n        private Boolean selected;\r\n        @NotNull\r\n        private Boolean disabled;\r\n        @NotEmpty\r\n        private List&lt;Layout&gt; layout;\r\n    \r\n        @NotBlank\r\n        @EqualsAndHashCode.Include\r\n        private String realmId;\r\n    }\r\n\r\nI was expecting this test to fail with `UnrecognizedPropertyException` which it doesn&#39;t even after setting this property on Jackson \r\n\r\n    @SpringJUnitConfig\r\n    @TestPropertySource(\r\n            properties = {\r\n                    &quot;spring.jackson.deserialization.fail-on-unknown-properties=true&quot;\r\n            }\r\n    )\r\n    @AutoConfigureJson\r\n    @DisplayName(&quot;Form Layout Deserialisation&quot;)\r\n    public class MyFormLayoutDeserialisationTest {\r\n    \r\n        @Autowired\r\n        Jackson2ObjectMapperBuilder objectMapperBuilder;\r\n        ObjectMapper objectMapper;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            objectMapper = objectMapperBuilder.build();\r\n        }\r\n    \r\n        @Test\r\n        @DisplayName(&quot;fails loading seeder json if the keys don&#39;t match to object fields&quot;)\r\n        void testForcesJsonToMatchFormTemplate(@Value(&quot;classpath:bad_nform_layout.json&quot;) Resource badLayout) {\r\n            Assertions.assertThrows(UnrecognizedPropertyException.class, () -&gt; objectMapper.readValue(Files.readString(Path.of(badLayout.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\r\n            }), &quot;Seeder JSON should have the exact keys and fields declared in the MyFormLayout object&quot;);\r\n        }\r\n    }\r\n\r\nTest fails with the message \r\n\r\n    org.opentest4j.AssertionFailedError: Seeder JSON should have the exact keys and fields declared in the MyFormLayout object ==&gt; Expected com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException to be thrown, but nothing was thrown.\r\n\r\nthe JSON file\r\n\r\n    [\r\n      {\r\n        &quot;selected&quot;: false,\r\n        &quot;disabled&quot;: true,\r\n        &quot;app&quot;: &quot;blox&quot;,\r\n        &quot;foo&quot;: &quot;bar&quot;,\r\n        &quot;layout&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;B-1&quot;,\r\n            &quot;x&quot;: 0,\r\n            &quot;y&quot;: 0,\r\n            &quot;w&quot;: 12,\r\n            &quot;h&quot;: 7\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;B-2&quot;,\r\n            &quot;x&quot;: 13,\r\n            &quot;y&quot;: 0,\r\n            &quot;w&quot;: 4,\r\n            &quot;h&quot;: 4\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;B-3&quot;,\r\n            &quot;x&quot;: 0,\r\n            &quot;y&quot;: 8,\r\n            &quot;w&quot;: 12,\r\n            &quot;h&quot;: 3\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;B-4&quot;,\r\n            &quot;x&quot;: 13,\r\n            &quot;y&quot;: 5,\r\n            &quot;w&quot;: 4,\r\n            &quot;h&quot;: 6\r\n          }\r\n        ]\r\n      }\r\n      ...\r\n    ]\r\n\r\n`&quot;foo&quot;: &quot;bar&quot;` is the unknown property that should have failed deserialisation.","title":"Jackson deserialisation NOT failing on unknown properties","body":"<p>Deserialisation should fail for the following POJO if the json has an additional field, as the Jackson documentation says <code>FAIL_ON_UKNOWN_PROPERTIES</code> is set by default.</p>\n<pre><code>@Getter\n@Setter\n@FieldNameConstants\n@ToString\n@Builder\n@Document(collection = &quot;form_layouts&quot;)\n@EqualsAndHashCode(callSuper = true, onlyExplicitlyIncluded = true)\n@Jacksonized\npublic class MyFormLayout extends AuditableDocument {\n\n    @NotNull\n    private Boolean selected;\n    @NotNull\n    private Boolean disabled;\n    @NotEmpty\n    private List&lt;Layout&gt; layout;\n\n    @NotBlank\n    @EqualsAndHashCode.Include\n    private String realmId;\n}\n</code></pre>\n<p>I was expecting this test to fail with <code>UnrecognizedPropertyException</code> which it doesn't even after setting this property on Jackson</p>\n<pre><code>@SpringJUnitConfig\n@TestPropertySource(\n        properties = {\n                &quot;spring.jackson.deserialization.fail-on-unknown-properties=true&quot;\n        }\n)\n@AutoConfigureJson\n@DisplayName(&quot;Form Layout Deserialisation&quot;)\npublic class MyFormLayoutDeserialisationTest {\n\n    @Autowired\n    Jackson2ObjectMapperBuilder objectMapperBuilder;\n    ObjectMapper objectMapper;\n\n    @BeforeEach\n    void setUp() {\n        objectMapper = objectMapperBuilder.build();\n    }\n\n    @Test\n    @DisplayName(&quot;fails loading seeder json if the keys don't match to object fields&quot;)\n    void testForcesJsonToMatchFormTemplate(@Value(&quot;classpath:bad_nform_layout.json&quot;) Resource badLayout) {\n        Assertions.assertThrows(UnrecognizedPropertyException.class, () -&gt; objectMapper.readValue(Files.readString(Path.of(badLayout.getFile().getAbsolutePath())), new TypeReference&lt;&gt;() {\n        }), &quot;Seeder JSON should have the exact keys and fields declared in the MyFormLayout object&quot;);\n    }\n}\n</code></pre>\n<p>Test fails with the message</p>\n<pre><code>org.opentest4j.AssertionFailedError: Seeder JSON should have the exact keys and fields declared in the MyFormLayout object ==&gt; Expected com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException to be thrown, but nothing was thrown.\n</code></pre>\n<p>the JSON file</p>\n<pre><code>[\n  {\n    &quot;selected&quot;: false,\n    &quot;disabled&quot;: true,\n    &quot;app&quot;: &quot;blox&quot;,\n    &quot;foo&quot;: &quot;bar&quot;,\n    &quot;layout&quot;: [\n      {\n        &quot;id&quot;: &quot;B-1&quot;,\n        &quot;x&quot;: 0,\n        &quot;y&quot;: 0,\n        &quot;w&quot;: 12,\n        &quot;h&quot;: 7\n      },\n      {\n        &quot;id&quot;: &quot;B-2&quot;,\n        &quot;x&quot;: 13,\n        &quot;y&quot;: 0,\n        &quot;w&quot;: 4,\n        &quot;h&quot;: 4\n      },\n      {\n        &quot;id&quot;: &quot;B-3&quot;,\n        &quot;x&quot;: 0,\n        &quot;y&quot;: 8,\n        &quot;w&quot;: 12,\n        &quot;h&quot;: 3\n      },\n      {\n        &quot;id&quot;: &quot;B-4&quot;,\n        &quot;x&quot;: 13,\n        &quot;y&quot;: 5,\n        &quot;w&quot;: 4,\n        &quot;h&quot;: 6\n      }\n    ]\n  }\n  ...\n]\n</code></pre>\n<p><code>&quot;foo&quot;: &quot;bar&quot;</code> is the unknown property that should have failed deserialisation.</p>\n"},{"tags":["java","unit-testing","mapstruct"],"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696945466,"post_id":77266188,"comment_id":136215445,"body_markdown":"@AnishB. no, sorry. It&#39;s not a public repository","body":"@AnishB. no, sorry. It&#39;s not a public repository"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696945505,"post_id":77266188,"comment_id":136215455,"body_markdown":"Ok. No problem.","body":"Ok. No problem."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696945916,"post_id":77266188,"comment_id":136215541,"body_markdown":"@AnishB. but then the `delegate` field is cannot be initialized, and I get an NPE","body":"@AnishB. but then the <code>delegate</code> field is cannot be initialized, and I get an NPE"}],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":1,"creation_date":1696946695,"post_id":77266411,"comment_id":136215720,"body_markdown":"I was in the middle of writing my answer when you posted ))","body":"I was in the middle of writing my answer when you posted ))"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696946824,"post_id":77266411,"comment_id":136215756,"body_markdown":"However, what if I want to keep the `componentModel`, to keep it a Spring component *and* test it as a unit, without bootstrapping the Spring context?","body":"However, what if I want to keep the <code>componentModel</code>, to keep it a Spring component <i>and</i> test it as a unit, without bootstrapping the Spring context?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696947224,"post_id":77266411,"comment_id":136215856,"body_markdown":"@JoreJoh See this question -&gt; https://stackoverflow.com/questions/45275382/how-to-write-junit-test-for-mapstruct-abstract-mapper-injected-via-spring","body":"@JoreJoh See this question -&gt; <a href=\"https://stackoverflow.com/questions/45275382/how-to-write-junit-test-for-mapstruct-abstract-mapper-injected-via-spring\" title=\"how to write junit test for mapstruct abstract mapper injected via spring\">stackoverflow.com/questions/45275382/&hellip;</a>"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696945911,"creation_date":1696945911,"answer_id":77266411,"question_id":77266188,"body_markdown":"Try with `default` component model for mapper. \r\n\r\nChange to this `@Mapper(componentModel = &quot;default&quot;)` and see if this works.","title":"How do I get an instance of my decorated Mapstruct mapper in a unit test?","body":"<p>Try with <code>default</code> component model for mapper.</p>\n<p>Change to this <code>@Mapper(componentModel = &quot;default&quot;)</code> and see if this works.</p>\n"},{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696946575,"creation_date":1696946575,"answer_id":77266490,"question_id":77266188,"body_markdown":"Since I had the component model &quot;spring&quot; in my `pom.xml`, I had to override it in my `@Mapper` interface for this to work. Change this\r\n```java\r\n@Mapper\r\n```\r\nto this\r\n```java\r\n@Mapper(componentModel = &quot;default&quot;)\r\n```\r\nIntelliJ may say it&#39;s redundant to pass a default attribute value, but you should ignore it on that","title":"How do I get an instance of my decorated Mapstruct mapper in a unit test?","body":"<p>Since I had the component model &quot;spring&quot; in my <code>pom.xml</code>, I had to override it in my <code>@Mapper</code> interface for this to work. Change this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;default&quot;)\n</code></pre>\n<p>IntelliJ may say it's redundant to pass a default attribute value, but you should ignore it on that</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77266411,"answer_count":2,"score":1,"last_activity_date":1696946575,"creation_date":1696944184,"question_id":77266188,"body_markdown":"I want to test a Mapstruct mapper. The code below works if I make my test integrational and annotate it with `@SpringBootTest`. However, I want to make it a unit test instead. How do I get that decorated mapper in that case?\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    @DecoratedWith(CardMapperDecorator.class)\r\n    public interface CardMapper {\r\n       // and so on\r\n    }\r\n\r\n\r\n\r\n\r\n \r\n----\r\n\r\n    @Component\r\n    public abstract class CardMapperDecorator implements CardMapper {\r\n    \r\n        private CardMapper delegate;\r\n    \r\n        @Autowired\r\n        public void setDelegate(CardMapper delegate) {\r\n            this.delegate = delegate;\r\n        }\r\n       \r\n        // and so on \r\n\r\n    }\r\n\r\n---\r\n\r\n    // commented out to avoid bootstrapping the Spring context\r\n    //@ExtendWith(MockitoExtension.class)\r\n    //@SpringBootTest\r\n    //@ActiveProfiles(&quot;test&quot;)\r\n    class CardMapperTest {\r\n    \r\n        private final String CARD_NUMBER = &quot;1111222233334444&quot;;\r\n    //    @Autowired\r\n        private CardMapper cardMapper;\r\n    // ...\r\n        @BeforeEach\r\n        void setUp() {\r\n    // this leads to an NPE later since the delegate field is not initialized\r\n            cardMapper = Mappers.getMapper(CardMapper.class);\r\n\r\n\r\nIf I follow the documentation&#39;s [advice][1], then I changed the code to this by adding a constructor:\r\n\r\n    //@Component\r\n    @RequiredArgsConstructor\r\n    public abstract class CardMapperDecorator implements CardMapper {\r\n    \r\n        private final CardMapper delegate;\r\n    \r\n    //    @Autowired\r\n    //    public void setDelegate(CardMapper delegate) {\r\n    //        this.delegate = delegate;\r\n    //    }\r\n    }   \r\n\r\nI get another exception:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: by.afinny.credit.mapper.decorator.CardMapperDecorator: method &#39;void &lt;init&gt;()&#39; not found\r\n\tat by.afinny.credit.mapper.CardMapperImpl.&lt;init&gt;(CardMapperImpl.java:28)\r\n\t... 82 more\r\n```\r\nWhy do I need some `void &lt;init&gt;`?\r\n\r\n  [1]: https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html\r\n\r\n\r\n","title":"How do I get an instance of my decorated Mapstruct mapper in a unit test?","body":"<p>I want to test a Mapstruct mapper. The code below works if I make my test integrational and annotate it with <code>@SpringBootTest</code>. However, I want to make it a unit test instead. How do I get that decorated mapper in that case?</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n   // and so on\n}\n</code></pre>\n<hr />\n<pre><code>@Component\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private CardMapper delegate;\n\n    @Autowired\n    public void setDelegate(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n   \n    // and so on \n\n}\n</code></pre>\n<hr />\n<pre><code>// commented out to avoid bootstrapping the Spring context\n//@ExtendWith(MockitoExtension.class)\n//@SpringBootTest\n//@ActiveProfiles(&quot;test&quot;)\nclass CardMapperTest {\n\n    private final String CARD_NUMBER = &quot;1111222233334444&quot;;\n//    @Autowired\n    private CardMapper cardMapper;\n// ...\n    @BeforeEach\n    void setUp() {\n// this leads to an NPE later since the delegate field is not initialized\n        cardMapper = Mappers.getMapper(CardMapper.class);\n</code></pre>\n<p>If I follow the documentation's <a href=\"https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html\" rel=\"nofollow noreferrer\">advice</a>, then I changed the code to this by adding a constructor:</p>\n<pre><code>//@Component\n@RequiredArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private final CardMapper delegate;\n\n//    @Autowired\n//    public void setDelegate(CardMapper delegate) {\n//        this.delegate = delegate;\n//    }\n}   \n</code></pre>\n<p>I get another exception:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: by.afinny.credit.mapper.decorator.CardMapperDecorator: method 'void &lt;init&gt;()' not found\n    at by.afinny.credit.mapper.CardMapperImpl.&lt;init&gt;(CardMapperImpl.java:28)\n    ... 82 more\n</code></pre>\n<p>Why do I need some <code>void &lt;init&gt;</code>?</p>\n"},{"tags":["java","user-interface","javafx","height","width"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1424219377,"post_id":28573700,"comment_id":45457139,"body_markdown":"It is usually best to supply [real executable code](http://stackoverflow.com/help/mcve) that replicates the stack trace you provide.  Also note: [&quot;If no size is specified, the scene will automatically compute its initial size based on the preferred size of its content.&quot;](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html)","body":"It is usually best to supply <a href=\"http://stackoverflow.com/help/mcve\">real executable code</a> that replicates the stack trace you provide.  Also note: <a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/scene/Scene.html\" rel=\"nofollow noreferrer\">&quot;If no size is specified, the scene will automatically compute its initial size based on the preferred size of its content.&quot;</a>"},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424228797,"post_id":28573700,"comment_id":45459757,"body_markdown":"I understand, but it is this computed value, which I want to have as a minimum value for width and for height, so that the window can become bigger but not smaller than the computed size. About the code: It&#39;s really pages of code for that stage, is it really appropriate to put so much in here? Also I&#39;d have to make it executable on it&#39;s own first, since it is not the main window of my application, or even more code, post the whole application. I think there should be a standard way how to achieve the desired effect, no matter what the stage is for. I just can&#39;t figure that one out : /","body":"I understand, but it is this computed value, which I want to have as a minimum value for width and for height, so that the window can become bigger but not smaller than the computed size. About the code: It&#39;s really pages of code for that stage, is it really appropriate to put so much in here? Also I&#39;d have to make it executable on it&#39;s own first, since it is not the main window of my application, or even more code, post the whole application. I think there should be a standard way how to achieve the desired effect, no matter what the stage is for. I just can&#39;t figure that one out : /"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1424235600,"post_id":28573700,"comment_id":45461746,"body_markdown":"Surely you can create (from scratch) a complete, executable example that does the same thing but involves only a few lines of code?","body":"Surely you can create (from scratch) a complete, executable example that does the same thing but involves only a few lines of code?"},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424258005,"post_id":28573700,"comment_id":45472172,"body_markdown":"Actually this is difficult. &quot;From scratch&quot; doesn&#39;t result in the same exception for some reason I don&#39;t know and if it did the &quot;same&quot;, it would not only involve a few lines of code, since &quot;the same&quot; is quite a lot. However something different happens with another smaller example application, that I tried to do this with: The minSize is ignored / has the wrong value. I can still make the window smaller than the space needed. Isn&#39;t there a general way how to get this effect? That&#39;s the main question here.","body":"Actually this is difficult. &quot;From scratch&quot; doesn&#39;t result in the same exception for some reason I don&#39;t know and if it did the &quot;same&quot;, it would not only involve a few lines of code, since &quot;the same&quot; is quite a lot. However something different happens with another smaller example application, that I tried to do this with: The minSize is ignored / has the wrong value. I can still make the window smaller than the space needed. Isn&#39;t there a general way how to get this effect? That&#39;s the main question here."},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424258507,"post_id":28573700,"comment_id":45472432,"body_markdown":"EDIT2: Smaller example with different result added.","body":"EDIT2: Smaller example with different result added."},{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1424259071,"post_id":28573700,"comment_id":45472761,"body_markdown":"The culprit is `GridPane.setRowSpan(tex, 2);`. Try removing it.","body":"The culprit is <code>GridPane.setRowSpan(tex, 2);</code>. Try removing it."},{"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"score":0,"creation_date":1424354149,"post_id":28573700,"comment_id":45520263,"body_markdown":"That didn&#39;t change anything, except how it looks. The window is still resizeable to sizes lower than the needed amount of space. You also could&#39;ve posted this as an answer : )","body":"That didn&#39;t change anything, except how it looks. The window is still resizeable to sizes lower than the needed amount of space. You also could&#39;ve posted this as an answer : )"}],"answers":[{"tags":[],"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1424377049,"creation_date":1424377049,"answer_id":28616087,"question_id":28573700,"body_markdown":"One of the comments helped me to find a solution, although it might not be the best solution:\r\nAfter adding all controls to the scene I simply can do the following:\r\n    \r\n    setMinWidth(getWidth());\r\n\tsetMinHeight(getHeight());\r\n\r\nThis works because JavaFX initially sets the stage to a size needed by the controls on its scene.","title":"JavaFx USE_COMPUTED_SIZE for Stage without using FXML","body":"<p>One of the comments helped me to find a solution, although it might not be the best solution:\nAfter adding all controls to the scene I simply can do the following:</p>\n\n<pre><code>setMinWidth(getWidth());\nsetMinHeight(getHeight());\n</code></pre>\n\n<p>This works because JavaFX initially sets the stage to a size needed by the controls on its scene.</p>\n"},{"tags":[],"owner":{"account_id":14473726,"reputation":160,"user_id":10454874,"display_name":"stolorma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593909020,"creation_date":1593909020,"answer_id":62735731,"question_id":28573700,"body_markdown":"Probably late to the party but here is what I found out:\r\n\r\nFor Textfield there is a static field `TextField.USE_COMPUTED_SIZE` which has the value `-1`\r\n\r\nI assume you can pass `-1` to the Stage as well.\r\n","title":"JavaFx USE_COMPUTED_SIZE for Stage without using FXML","body":"<p>Probably late to the party but here is what I found out:</p>\n<p>For Textfield there is a static field <code>TextField.USE_COMPUTED_SIZE</code> which has the value <code>-1</code></p>\n<p>I assume you can pass <code>-1</code> to the Stage as well.</p>\n"}],"owner":{"account_id":2050137,"reputation":5872,"user_id":1829329,"accept_rate":70,"display_name":"Zelphir Kaltstahl"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15006,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1696946465,"creation_date":1424218551,"question_id":28573700,"body_markdown":"In the JavaFX Scene Builder, I can select a value for the minimum, maximum and preferred width and height of a `Control` or `Container`. There are predefined values like `USE_COMPUTED_SIZE`.\r\n\r\nI came to the conclusion, that I don&#39;t like to use FXML for my current project, for several reasons and now I am wondering how to set those values when not using FXML.\r\n\r\nHow do I do this?\r\n\r\nI&#39;ve tried the following code:\r\n\r\n    initializeControls();\r\n    addControls();\r\n\t\t\r\n\t\t\r\n\tsetMinHeight(Control.USE_COMPUTED_SIZE);\r\n\tsetMinWidth(Control.USE_COMPUTED_SIZE);\r\n\t\t\r\n\taddActionListeners();\r\n\taddFocusChangeListeners();\r\n\r\nHowever, that results in an Exception when trying to create the Stage:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: The width and height must be &gt;= 0. Got: width=-1; height=-1\r\n\tat com.sun.glass.ui.Window.setMinimumSize(Window.java:984)\r\n\tat com.sun.javafx.tk.quantum.WindowStage.setMinimumSize(WindowStage.java:291)\r\n\tat javafx.stage.Stage.impl_visibleChanging(Stage.java:1154)\r\n\tat javafx.stage.Window$9.invalidated(Window.java:743)\r\n\tat javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)\r\n\tat javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:143)\r\n\tat javafx.stage.Window.setShowing(Window.java:841)\r\n\tat javafx.stage.Window.show(Window.java:856)\r\n\tat javafx.stage.Stage.show(Stage.java:255)\r\n\tat dictionary.MainApp.trainVocablesButtonActionPerformed(MainApp.java:281)\r\n\tat dictionary.MainApp.lambda$addActionListeners$2(MainApp.java:240)\r\n\tat dictionary.MainApp$$Lambda$281/81350454.handle(Unknown Source)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Node.fireEvent(Node.java:8216)\r\n\tat javafx.scene.control.Button.fire(Button.java:185)\r\n\tat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\r\n\tat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\r\n\tat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.scene.Scene$MouseHandler.process(Scene.java:3724)\r\n\tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3452)\r\n\tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1728)\r\n\tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2461)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:348)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:273)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:382)\r\n\tat com.sun.glass.ui.View.handleMouseEvent(View.java:553)\r\n\tat com.sun.glass.ui.View.notifyMouse(View.java:925)\r\n\tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\r\n\tat com.sun.glass.ui.gtk.GtkApplication$$Lambda$42/379110473.run(Unknown Source)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nI guess, that I took the `USE_COMPUTED_SIZE` value from the wrong class or something, but where do I get the correct value from? Or is this whole approach somehow wrong?\r\n\r\nMy ultimate goal is to make the stage take as much space as is needed to display all the controls and containers in it, but not more.\r\n\r\nEDIT#1:\r\nCorrection: It should take as much space as needed as a *Minimum* width and height, so that the window is still resizeable but cannot be made so small that controls are not displayed any more.\r\n\r\nEDIT#2:\r\nResult of trying to set the minimum width + height on a smaller example app:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ImbIH.png\r\n\r\nCode:\r\n\r\n    package javafxapplication3;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.HPos;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Control;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.paint.Paint;\r\n    import javafx.scene.paint.RadialGradientBuilder;\r\n    import javafx.scene.paint.Stop;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class GridPaneExample extends Application {\r\n    private final Paint background = RadialGradientBuilder.create()\r\n                .stops(new Stop(0d, Color.TURQUOISE), new Stop(1, Color.web(&quot;3A5998&quot;)))\r\n                .centerX(0.5d).centerY(0.5d).build();\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            GridPane root = new GridPane();\r\n            root.setPadding(new Insets(5));\r\n            root.setHgap(2);\r\n            root.setVgap(2);\r\n            root.setAlignment(Pos.CENTER);\r\n            final TextField tex = new TextField();\r\n            tex.setPrefWidth(250);\r\n            tex.setPrefHeight(50);\r\n            tex.setPromptText(&quot;Press the buttons to Display text here&quot;);\r\n            tex.setFocusTraversable(false);\r\n            GridPane.setColumnSpan(tex, 7);\r\n            GridPane.setRowSpan(tex, 2);\r\n            root.add(tex, 0, 0);\r\n            GridPane.setHalignment(tex, HPos.CENTER);\r\n            final Button[][] btn = new Button[5][5];\r\n            char ch = &#39;A&#39;;\r\n            for ( int i = 0; i &lt; btn.length; i++) {\r\n                for ( int j = 0; j &lt; btn.length; j++) {\r\n    \r\n                    btn[i][j] = new Button(&quot;&quot; + ch);\r\n                    btn[i][j].setPrefSize(50, 50);\r\n                    root.add(btn[i][j], j, i+2);\r\n                    ch++;\r\n                    btn[i][j].setOnMouseClicked((mouseEvent) -&gt; {\r\n    \t\t\t\t\tButton b = (Button) mouseEvent.getSource();\r\n    \t\t\t\t\ttex.appendText(b.getText());\r\n    \t\t\t\t});\r\n                }\r\n            }\r\n    \r\n            Scene scene = new Scene(root,background);\r\n    \r\n            primaryStage.setTitle(&quot;Grid Pane Example&quot;);\r\n    \t\t\r\n    \t\t\r\n            primaryStage.setScene(scene);\r\n    \t\t\r\n    \t\tprimaryStage.setWidth(Control.USE_COMPUTED_SIZE);\r\n    \t\tprimaryStage.setHeight(Control.USE_COMPUTED_SIZE);\r\n            \r\n    \t\tprimaryStage.show();\r\n        }\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }","title":"JavaFx USE_COMPUTED_SIZE for Stage without using FXML","body":"<p>In the JavaFX Scene Builder, I can select a value for the minimum, maximum and preferred width and height of a <code>Control</code> or <code>Container</code>. There are predefined values like <code>USE_COMPUTED_SIZE</code>.</p>\n\n<p>I came to the conclusion, that I don't like to use FXML for my current project, for several reasons and now I am wondering how to set those values when not using FXML.</p>\n\n<p>How do I do this?</p>\n\n<p>I've tried the following code:</p>\n\n<pre><code>initializeControls();\naddControls();\n\n\nsetMinHeight(Control.USE_COMPUTED_SIZE);\nsetMinWidth(Control.USE_COMPUTED_SIZE);\n\naddActionListeners();\naddFocusChangeListeners();\n</code></pre>\n\n<p>However, that results in an Exception when trying to create the Stage:</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" java.lang.IllegalArgumentException: The width and height must be &gt;= 0. Got: width=-1; height=-1\nat com.sun.glass.ui.Window.setMinimumSize(Window.java:984)\nat com.sun.javafx.tk.quantum.WindowStage.setMinimumSize(WindowStage.java:291)\nat javafx.stage.Stage.impl_visibleChanging(Stage.java:1154)\nat javafx.stage.Window$9.invalidated(Window.java:743)\nat javafx.beans.property.BooleanPropertyBase.markInvalid(BooleanPropertyBase.java:109)\nat javafx.beans.property.BooleanPropertyBase.set(BooleanPropertyBase.java:143)\nat javafx.stage.Window.setShowing(Window.java:841)\nat javafx.stage.Window.show(Window.java:856)\nat javafx.stage.Stage.show(Stage.java:255)\nat dictionary.MainApp.trainVocablesButtonActionPerformed(MainApp.java:281)\nat dictionary.MainApp.lambda$addActionListeners$2(MainApp.java:240)\nat dictionary.MainApp$$Lambda$281/81350454.handle(Unknown Source)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Node.fireEvent(Node.java:8216)\nat javafx.scene.control.Button.fire(Button.java:185)\nat com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:182)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:96)\nat com.sun.javafx.scene.control.skin.BehaviorSkinBase$1.handle(BehaviorSkinBase.java:89)\nat com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\nat com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\nat com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\nat com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\nat com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\nat com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\nat com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\nat javafx.event.Event.fireEvent(Event.java:198)\nat javafx.scene.Scene$MouseHandler.process(Scene.java:3724)\nat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3452)\nat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1728)\nat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2461)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:348)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:273)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:382)\nat com.sun.glass.ui.View.handleMouseEvent(View.java:553)\nat com.sun.glass.ui.View.notifyMouse(View.java:925)\nat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\nat com.sun.glass.ui.gtk.GtkApplication.lambda$null$45(GtkApplication.java:126)\nat com.sun.glass.ui.gtk.GtkApplication$$Lambda$42/379110473.run(Unknown Source)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I guess, that I took the <code>USE_COMPUTED_SIZE</code> value from the wrong class or something, but where do I get the correct value from? Or is this whole approach somehow wrong?</p>\n\n<p>My ultimate goal is to make the stage take as much space as is needed to display all the controls and containers in it, but not more.</p>\n\n<p>EDIT#1:\nCorrection: It should take as much space as needed as a <em>Minimum</em> width and height, so that the window is still resizeable but cannot be made so small that controls are not displayed any more.</p>\n\n<p>EDIT#2:\nResult of trying to set the minimum width + height on a smaller example app:\n<img src=\"https://i.stack.imgur.com/ImbIH.png\" alt=\"enter image description here\"></p>\n\n<p>Code:</p>\n\n<pre><code>package javafxapplication3;\n\nimport javafx.application.Application;\nimport javafx.geometry.HPos;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Control;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.Paint;\nimport javafx.scene.paint.RadialGradientBuilder;\nimport javafx.scene.paint.Stop;\nimport javafx.stage.Stage;\n\npublic class GridPaneExample extends Application {\nprivate final Paint background = RadialGradientBuilder.create()\n            .stops(new Stop(0d, Color.TURQUOISE), new Stop(1, Color.web(\"3A5998\")))\n            .centerX(0.5d).centerY(0.5d).build();\n    @Override\n    public void start(Stage primaryStage) {\n        GridPane root = new GridPane();\n        root.setPadding(new Insets(5));\n        root.setHgap(2);\n        root.setVgap(2);\n        root.setAlignment(Pos.CENTER);\n        final TextField tex = new TextField();\n        tex.setPrefWidth(250);\n        tex.setPrefHeight(50);\n        tex.setPromptText(\"Press the buttons to Display text here\");\n        tex.setFocusTraversable(false);\n        GridPane.setColumnSpan(tex, 7);\n        GridPane.setRowSpan(tex, 2);\n        root.add(tex, 0, 0);\n        GridPane.setHalignment(tex, HPos.CENTER);\n        final Button[][] btn = new Button[5][5];\n        char ch = 'A';\n        for ( int i = 0; i &lt; btn.length; i++) {\n            for ( int j = 0; j &lt; btn.length; j++) {\n\n                btn[i][j] = new Button(\"\" + ch);\n                btn[i][j].setPrefSize(50, 50);\n                root.add(btn[i][j], j, i+2);\n                ch++;\n                btn[i][j].setOnMouseClicked((mouseEvent) -&gt; {\n                    Button b = (Button) mouseEvent.getSource();\n                    tex.appendText(b.getText());\n                });\n            }\n        }\n\n        Scene scene = new Scene(root,background);\n\n        primaryStage.setTitle(\"Grid Pane Example\");\n\n\n        primaryStage.setScene(scene);\n\n        primaryStage.setWidth(Control.USE_COMPUTED_SIZE);\n        primaryStage.setHeight(Control.USE_COMPUTED_SIZE);\n\n        primaryStage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","jooq","batching"],"answers":[{"comments":[{"owner":{"account_id":1192481,"reputation":4568,"user_id":1164954,"accept_rate":77,"display_name":"svz"},"score":0,"creation_date":1697022730,"post_id":77266422,"comment_id":136226493,"body_markdown":"thanks! that&#39;s a really nice trick =)","body":"thanks! that&#39;s a really nice trick =)"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696946014,"creation_date":1696946014,"answer_id":77266422,"question_id":77265155,"body_markdown":"The simplest way I can think of is to use the logical table (e.g. from code generation) and [apply table mapping at runtime][1] to translate the table directly to the underlying partition.\r\n\r\nE.g. you write:\r\n\r\n```java\r\nList&lt;MyTableRecord&gt; records = ...\r\nctx.batchUpdate(records);\r\n```\r\n\r\nBut jOOQ doesn&#39;t update the `MY_TABLE` table, but the `MY_TABLE_1341` partition instead:\r\n\r\n```sql\r\nUPDATE my_table_1341 SET ...\r\n```\r\n\r\nThis only works if you&#39;re writing to a single partition at a time.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/","title":"JOOQ: batch CRUD operations using dynamic table definitions, how to?","body":"<p>The simplest way I can think of is to use the logical table (e.g. from code generation) and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-render-mapping/\" rel=\"nofollow noreferrer\">apply table mapping at runtime</a> to translate the table directly to the underlying partition.</p>\n<p>E.g. you write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyTableRecord&gt; records = ...\nctx.batchUpdate(records);\n</code></pre>\n<p>But jOOQ doesn't update the <code>MY_TABLE</code> table, but the <code>MY_TABLE_1341</code> partition instead:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE my_table_1341 SET ...\n</code></pre>\n<p>This only works if you're writing to a single partition at a time.</p>\n"}],"owner":{"account_id":1192481,"reputation":4568,"user_id":1164954,"accept_rate":77,"display_name":"svz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77266422,"answer_count":1,"score":2,"last_activity_date":1696946014,"creation_date":1696935185,"question_id":77265155,"body_markdown":"I&#39;m looking for a way to dynamically create CRUD queries using JOOQ.\r\n\r\nI have a heavily partitioned table and I&#39;d like to perform batch inserts/updates/deletes directly into the right partition. Reason is significant performance gain in my scenario.\r\n\r\n\r\n1. I have JOOQ-generated templates for root table.\r\n2. Partitions for this table are generated dynamically.\r\n2. I can create a table with required schema and partition name using `DSL.table()`\r\n3. There is no way I can define Record type for newly created table.\r\n4. Otherwise, if I create a table definition from RootRecord, I cannot alter table name.\r\n\r\nIs there a way to achieve desired behaviour with JOOQ?","title":"JOOQ: batch CRUD operations using dynamic table definitions, how to?","body":"<p>I'm looking for a way to dynamically create CRUD queries using JOOQ.</p>\n<p>I have a heavily partitioned table and I'd like to perform batch inserts/updates/deletes directly into the right partition. Reason is significant performance gain in my scenario.</p>\n<ol>\n<li>I have JOOQ-generated templates for root table.</li>\n<li>Partitions for this table are generated dynamically.</li>\n<li>I can create a table with required schema and partition name using <code>DSL.table()</code></li>\n<li>There is no way I can define Record type for newly created table.</li>\n<li>Otherwise, if I create a table definition from RootRecord, I cannot alter table name.</li>\n</ol>\n<p>Is there a way to achieve desired behaviour with JOOQ?</p>\n"},{"tags":["java","android","permissions","runtime-error","manifest"],"answers":[{"tags":[],"owner":{"account_id":9922559,"reputation":155,"user_id":7345214,"display_name":"Babak Karchini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696945730,"creation_date":1696945730,"answer_id":77266390,"question_id":76938574,"body_markdown":"Test this:\r\nadd `token?.continuePermissionRequest()` to `onPermissionRationaleShouldBeShown`\r\nlike this:\r\n\r\n    override fun onPermissionRationaleShouldBeShown(\r\n                            permissions: MutableList&lt;PermissionRequest&gt;?,\r\n                            token: PermissionToken?\r\n                        ) {\r\n                            token?.continuePermissionRequest()\r\n                        }","title":"Dexter &quot;REQUEST_ONGOING&quot; error in android","body":"<p>Test this:\nadd <code>token?.continuePermissionRequest()</code> to <code>onPermissionRationaleShouldBeShown</code>\nlike this:</p>\n<pre><code>override fun onPermissionRationaleShouldBeShown(\n                        permissions: MutableList&lt;PermissionRequest&gt;?,\n                        token: PermissionToken?\n                    ) {\n                        token?.continuePermissionRequest()\n                    }\n</code></pre>\n"}],"owner":{"account_id":27355989,"reputation":43,"user_id":20864367,"display_name":"Surya Pratap Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696945730,"creation_date":1692519945,"question_id":76938574,"body_markdown":"I am using Dexter v6.2.3 in my android studio to handle the permission for RECORD_AUDIO but getting an error in &quot;withErrorListener&quot; method. The error just says &quot;REQUEST_ONGOING&quot;.\r\nPlease help me out from this error.\r\n\r\nHere are my codes :\r\n\r\n``` \r\nDexter.withActivity(MainActivity.this).withPermission(android.Manifest.permission.RECORD_AUDIO).withListener(new PermissionListener() {\r\n      @Override\r\n      public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n                showSpeechSheetDialog();\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n                if (permissionDeniedResponse.isPermanentlyDenied()) {\r\n                    showCustomDialog(&quot;Permission Required&quot;, &quot;Record audio permission required to use this feature. You can grant this permission in app settings.&quot;, &quot;Cancel&quot;,\r\n                            null, &quot;Go to Settings&quot;, new View.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(View v) {\r\n                                    dialog.cancel();\r\n                                    Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                                    intent.setData(uri);\r\n                                    startActivity(intent);\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                permissionToken.continuePermissionRequest();\r\n            }\r\n        }).withErrorListener(new PermissionRequestErrorListener() {\r\n            @Override\r\n            public void onError(DexterError dexterError) {\r\n                Log.e(&quot;Dexter error&quot;, dexterError.toString());\r\n            }\r\n        }).check();\r\n```\r\n\r\n\r\nHere is the library implementation :\r\n```\r\nimplementation &#39;com.karumi:dexter:6.2.3&#39;\r\n```\r\nAnd this is the logcat :\r\n```\r\n2023-08-20 13:59:40.595  6153-6153  Dexter error            com.pratapbrothers.dotted.pizza      E  REQUEST_ONGOING\r\n```\r\n\r\nI have mentioned the permission also in Manifest.xml","title":"Dexter &quot;REQUEST_ONGOING&quot; error in android","body":"<p>I am using Dexter v6.2.3 in my android studio to handle the permission for RECORD_AUDIO but getting an error in &quot;withErrorListener&quot; method. The error just says &quot;REQUEST_ONGOING&quot;.\nPlease help me out from this error.</p>\n<p>Here are my codes :</p>\n<pre><code>Dexter.withActivity(MainActivity.this).withPermission(android.Manifest.permission.RECORD_AUDIO).withListener(new PermissionListener() {\n      @Override\n      public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n                showSpeechSheetDialog();\n            }\n\n            @Override\n            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n                if (permissionDeniedResponse.isPermanentlyDenied()) {\n                    showCustomDialog(&quot;Permission Required&quot;, &quot;Record audio permission required to use this feature. You can grant this permission in app settings.&quot;, &quot;Cancel&quot;,\n                            null, &quot;Go to Settings&quot;, new View.OnClickListener() {\n                                @Override\n                                public void onClick(View v) {\n                                    dialog.cancel();\n                                    Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                                    intent.setData(uri);\n                                    startActivity(intent);\n                                }\n                            });\n                }\n            }\n\n            @Override\n            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                permissionToken.continuePermissionRequest();\n            }\n        }).withErrorListener(new PermissionRequestErrorListener() {\n            @Override\n            public void onError(DexterError dexterError) {\n                Log.e(&quot;Dexter error&quot;, dexterError.toString());\n            }\n        }).check();\n</code></pre>\n<p>Here is the library implementation :</p>\n<pre><code>implementation 'com.karumi:dexter:6.2.3'\n</code></pre>\n<p>And this is the logcat :</p>\n<pre><code>2023-08-20 13:59:40.595  6153-6153  Dexter error            com.pratapbrothers.dotted.pizza      E  REQUEST_ONGOING\n</code></pre>\n<p>I have mentioned the permission also in Manifest.xml</p>\n"},{"tags":["java","xml","spring-boot","gradle"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695113195,"post_id":77126793,"comment_id":135977302,"body_markdown":"Unfortunately your question is very obscure. You can make it easier for people to help, by copying the exact code (your hand-written sample has typos which make it more confusing) and by pasting the stack trace and pointing out which line in your code sample the stack trace refers to.","body":"Unfortunately your question is very obscure. You can make it easier for people to help, by copying the exact code (your hand-written sample has typos which make it more confusing) and by pasting the stack trace and pointing out which line in your code sample the stack trace refers to."}],"owner":{"account_id":6306781,"reputation":145,"user_id":4899649,"display_name":"shraddha bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696945422,"creation_date":1695036448,"question_id":77126793,"body_markdown":"I am using jdk8/spring boot2/gradle 7. Trying to unmarshall but getting below error:\r\n\r\n&gt; reader property msInput gives method threw\r\n&gt; &quot;java.lang.NullPointerException&quot; exception..cannot evaluate\r\n&gt; com.ctc.wstx.io.BranchingReaderSource.toString().\r\n\r\ncode fragement:\r\n```\r\nUnmarshaller unmarshaller = JAXBContext.newInstance(Response.class, ErrorResponse.class).createUnmarshaller();\r\nString subStr = archResponse.gethildText(&quot;Document&quot;).trim();\r\nXMLStreamReader reader = xif.createXMLStreamReader(new ByteArrayInputStream(subStr));\r\nunmarshaller.unmarshal(reader);\r\n```\r\nlib used:\r\n- woodstox-core:6.4.0\r\n- stax2-api:4.2.1\r\n\r\nPlease help.\r\n\r\nchanging library versions.","title":"createXMLStreamReader giving cannot evaluate com.ctc.wstx.io.BranchingReadingSource.toString","body":"<p>I am using jdk8/spring boot2/gradle 7. Trying to unmarshall but getting below error:</p>\n<blockquote>\n<p>reader property msInput gives method threw\n&quot;java.lang.NullPointerException&quot; exception..cannot evaluate\ncom.ctc.wstx.io.BranchingReaderSource.toString().</p>\n</blockquote>\n<p>code fragement:</p>\n<pre><code>Unmarshaller unmarshaller = JAXBContext.newInstance(Response.class, ErrorResponse.class).createUnmarshaller();\nString subStr = archResponse.gethildText(&quot;Document&quot;).trim();\nXMLStreamReader reader = xif.createXMLStreamReader(new ByteArrayInputStream(subStr));\nunmarshaller.unmarshal(reader);\n</code></pre>\n<p>lib used:</p>\n<ul>\n<li>woodstox-core:6.4.0</li>\n<li>stax2-api:4.2.1</li>\n</ul>\n<p>Please help.</p>\n<p>changing library versions.</p>\n"},{"tags":["java","android","android-studio","wear-os"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696941533,"post_id":77265598,"comment_id":136214585,"body_markdown":"You are unlikely to be able to override the home button -- that is for the user to be able to have control over their watch. The only way to avoid that is for your app to be the watch face app (the rough equivalent of being the launcher app on a phone). The code you have in `onBackPressed()` is truly bizarre (for example, never call `super.onPause()` from anywhere other than `onPause()`).","body":"You are unlikely to be able to override the home button -- that is for the user to be able to have control over their watch. The only way to avoid that is for your app to be the watch face app (the rough equivalent of being the launcher app on a phone). The code you have in <code>onBackPressed()</code> is truly bizarre (for example, never call <code>super.onPause()</code> from anywhere other than <code>onPause()</code>)."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696941699,"post_id":77265598,"comment_id":136214622,"body_markdown":"`onBackPressed()` is generally not used anymore. See https://developer.android.com/guide/navigation/navigation-custom-back for documentation about customizing back navigation in modern Android app development.","body":"<code>onBackPressed()</code> is generally not used anymore. See <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/navigation-custom-bac&zwnj;&#8203;k</a> for documentation about customizing back navigation in modern Android app development."},{"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"score":0,"creation_date":1697008440,"post_id":77265598,"comment_id":136223819,"body_markdown":"@CommonsWare how would you do it, then?","body":"@CommonsWare how would you do it, then?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1697023366,"post_id":77265598,"comment_id":136226617,"body_markdown":"Sorry, but I do not know what &quot;it&quot; is. I also do not know why you think your app should always be in the foreground. And I do not know if you plan to distribute this app how you intend to convince Google to relax its [Wear OS quality guidelines](https://developer.android.com/docs/quality-guidelines/wear-app-quality), such as WO-V3. So, it is difficult to provide you with advice for addressing your business concerns in a way that matches platform and user expectations.","body":"Sorry, but I do not know what &quot;it&quot; is. I also do not know why you think your app should always be in the foreground. And I do not know if you plan to distribute this app how you intend to convince Google to relax its <a href=\"https://developer.android.com/docs/quality-guidelines/wear-app-quality\" rel=\"nofollow noreferrer\">Wear OS quality guidelines</a>, such as WO-V3. So, it is difficult to provide you with advice for addressing your business concerns in a way that matches platform and user expectations."}],"answers":[{"tags":[],"owner":{"account_id":16115791,"reputation":367,"user_id":11632959,"display_name":"dect"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696945375,"creation_date":1696945375,"answer_id":77266340,"question_id":77265598,"body_markdown":"To &quot;disable&quot; the back button you just **call the onBackPressed without it&#39;s super**...\r\n\r\n```\r\n@Override\r\npublic void onBackPressed() {\r\n    //super.onBackPressed();\r\n}\r\n```\r\n\r\nAbout the moveTaskToFront of your code doesn&#39;t make much sense, as it is already on foreground, otherwise the onBackPressed wouldn&#39;t be called...\r\n\r\n**About the home button, I don&#39;t think you can override it&#39;s function**...","title":"Disable Back Button Samsung Smatwatch","body":"<p>To &quot;disable&quot; the back button you just <strong>call the onBackPressed without it's super</strong>...</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    //super.onBackPressed();\n}\n</code></pre>\n<p>About the moveTaskToFront of your code doesn't make much sense, as it is already on foreground, otherwise the onBackPressed wouldn't be called...</p>\n<p><strong>About the home button, I don't think you can override it's function</strong>...</p>\n"}],"owner":{"account_id":21046208,"reputation":27,"user_id":15467495,"display_name":"THORNADOR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77266340,"answer_count":1,"score":0,"last_activity_date":1696945375,"creation_date":1696939331,"question_id":77265598,"body_markdown":"I am developing an app that always works in the foreground for smartwatches. I use a samsung watch, it has two buttons (back and home)and i can&#39;t manage to deactivate them by code, so that i can&#39;t act on them.\r\n\r\nRight now I have this for the back button, but it doesn&#39;t work. For the home button I don&#39;t know what to do.\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onPause();\r\n        ActivityManager activityManager = (ActivityManager) getApplicationContext().getSystemService(ACTIVITY_SERVICE);\r\n        activityManager.moveTaskToFront(getTaskId(), 0);\r\n    }\r\n\r\ncould someone help me?","title":"Disable Back Button Samsung Smatwatch","body":"<p>I am developing an app that always works in the foreground for smartwatches. I use a samsung watch, it has two buttons (back and home)and i can't manage to deactivate them by code, so that i can't act on them.</p>\n<p>Right now I have this for the back button, but it doesn't work. For the home button I don't know what to do.</p>\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onPause();\n    ActivityManager activityManager = (ActivityManager) getApplicationContext().getSystemService(ACTIVITY_SERVICE);\n    activityManager.moveTaskToFront(getTaskId(), 0);\n}\n</code></pre>\n<p>could someone help me?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":118337,"reputation":170832,"user_id":309308,"accept_rate":74,"display_name":"Michael Mrozek"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1271310960,"creation_date":1271310960,"answer_id":2643046,"question_id":2643038,"body_markdown":"You mean the `src` folder? It&#39;s short for &quot;source&quot;, it&#39;s where the source code files are stored. When it compiles it stores the class files in `bin`","title":"What is meant by src in Java Eclipse?","body":"<p>You mean the <code>src</code> folder? It's short for \"source\", it's where the source code files are stored. When it compiles it stores the class files in <code>bin</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490493269,"creation_date":1271311000,"answer_id":2643050,"question_id":2643038,"body_markdown":"The word &#39;src&#39; is a common abbreviation for &#39;source&#39; ... e.g. a project&#39;s source code.  \r\n\r\nIn an Eclipse project &#39;src&#39; is a common default folder name for a project&#39;s source code ... though it depends on how the Eclipse project was created or instantiated.  For example, the &#39;src&#39; name in a Maven-based project comes from the default Maven project structure.\r\n\r\n&gt; Also what are all the default packages/components/classes created by the eclipse IDE for us?\r\n\r\nFor a typical Eclipse project, Eclipse does not create any default packages, components or classes.  Some non-generic Eclipse project creation wizards may generate  stuff, but it doesn&#39;t make sense to enumerate all possible behaviors of all possible wizards.  Check the documentation for the wizard you are using ...","title":"What is meant by src in Java Eclipse?","body":"<p>The word 'src' is a common abbreviation for 'source' ... e.g. a project's source code.  </p>\n\n<p>In an Eclipse project 'src' is a common default folder name for a project's source code ... though it depends on how the Eclipse project was created or instantiated.  For example, the 'src' name in a Maven-based project comes from the default Maven project structure.</p>\n\n<blockquote>\n  <p>Also what are all the default packages/components/classes created by the eclipse IDE for us?</p>\n</blockquote>\n\n<p>For a typical Eclipse project, Eclipse does not create any default packages, components or classes.  Some non-generic Eclipse project creation wizards may generate  stuff, but it doesn't make sense to enumerate all possible behaviors of all possible wizards.  Check the documentation for the wizard you are using ...</p>\n"}],"owner":{"account_id":674413,"reputation":41,"user_id":317181,"display_name":"ashok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26552,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696945127,"creation_date":1271310815,"question_id":2643038,"body_markdown":"What is meant by the src in Eclipse IDE?\r\n\r\nAlso what are all the default packages/components/classes created by the eclipse IDE for us?","title":"What is meant by src in Java Eclipse?","body":"<p>What is meant by the src in Eclipse IDE?</p>\n\n<p>Also what are all the default packages/components/classes created by the eclipse IDE for us?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1696937324,"post_id":77265107,"comment_id":136213751,"body_markdown":"You can tell MapStruct to use constructors using the `injectionStrategy` attribute of `@Mapper`. However, I&#39;m not sure if it then calls the super constructor, or only stores its own `delegate` field.","body":"You can tell MapStruct to use constructors using the <code>injectionStrategy</code> attribute of <code>@Mapper</code>. However, I&#39;m not sure if it then calls the super constructor, or only stores its own <code>delegate</code> field."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696941130,"post_id":77265107,"comment_id":136214498,"body_markdown":"Your design looks wrong. Your implementation has got two fields both named `delegate`, one declared in the superclass and one declared in the class itself. Was this what you wanted? What for?","body":"Your design looks wrong. Your implementation has got two fields both named <code>delegate</code>, one declared in the superclass and one declared in the class itself. Was this what you wanted? What for?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":1,"creation_date":1696943760,"post_id":77265107,"comment_id":136215088,"body_markdown":"@OleV.V. first, it&#39;s not exactly my code, I try to improve it. Second, the second class is the  class Mapstruct generated, no human wrote it","body":"@OleV.V. first, it&#39;s not exactly my code, I try to improve it. Second, the second class is the  class Mapstruct generated, no human wrote it"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696944830,"creation_date":1696934884,"question_id":77265107,"body_markdown":"I have this mapper:\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n```\r\nAnd this mapper decorator:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n\r\n    private final CardMapper delegate;\r\n```\r\nNotice it has a constructor (for injection purposes). When Mapstruct generates an implementation, it looks like this:\r\n```java\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2023-10-10T13:40:01+0300&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 17.0.5 (Amazon.com Inc.)&quot;\r\n)\r\n@Component\r\n@Primary\r\npublic class CardMapperImpl extends CardMapperDecorator implements CardMapper {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;delegate&quot;)\r\n    private CardMapper delegate;\r\n\r\n// methods\r\n```\r\nIt doesn&#39;t compile since the implementation doesn&#39;t call the `super` constructor. How do I fix it?\r\n\r\nI know Mapstruct [doesn&#39;t support][1] calling super constructors. Does it mean the only way forward I have is to either use field or setter injection?\r\n\r\n**UPD:** Does it really not support constructors? The code below must be valid according to the [docs][2]:\r\n```java\r\n public abstract class PersonMapperDecorator implements PersonMapper {\r\n\r\n     private PersonMapper delegate;\r\n\r\n     public PersonMapperDecorator(PersonMapper delegate) {\r\n         this.delegate = delegate;\r\n     }\r\n\r\n     @Override\r\n     public PersonDto personToPersonDto(Person person) {\r\n         PersonDto dto = delegate.personToPersonDto( person );\r\n         dto.setName( person.getFirstName() + &quot; &quot; + person.getLastName() );\r\n\r\n         return dto;\r\n     }\r\n }\r\n```\r\nThis wouldn&#39;t work unless Mapstruct generated a constructor with a `super` call in it\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66537340/mapstruct-generate-constructor-for-dependency-injection\r\n  [2]: https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html","title":"Mapstruct&#39;s generated mapper doesn&#39;t call the super constructor. How do I fix it?","body":"<p>I have this mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n</code></pre>\n<p>And this mapper decorator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n\n    private final CardMapper delegate;\n</code></pre>\n<p>Notice it has a constructor (for injection purposes). When Mapstruct generates an implementation, it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-10-10T13:40:01+0300&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 17.0.5 (Amazon.com Inc.)&quot;\n)\n@Component\n@Primary\npublic class CardMapperImpl extends CardMapperDecorator implements CardMapper {\n\n    @Autowired\n    @Qualifier(&quot;delegate&quot;)\n    private CardMapper delegate;\n\n// methods\n</code></pre>\n<p>It doesn't compile since the implementation doesn't call the <code>super</code> constructor. How do I fix it?</p>\n<p>I know Mapstruct <a href=\"https://stackoverflow.com/questions/66537340/mapstruct-generate-constructor-for-dependency-injection\">doesn't support</a> calling super constructors. Does it mean the only way forward I have is to either use field or setter injection?</p>\n<p><strong>UPD:</strong> Does it really not support constructors? The code below must be valid according to the <a href=\"https://mapstruct.org/documentation/1.0/api/org/mapstruct/DecoratedWith.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public abstract class PersonMapperDecorator implements PersonMapper {\n\n     private PersonMapper delegate;\n\n     public PersonMapperDecorator(PersonMapper delegate) {\n         this.delegate = delegate;\n     }\n\n     @Override\n     public PersonDto personToPersonDto(Person person) {\n         PersonDto dto = delegate.personToPersonDto( person );\n         dto.setName( person.getFirstName() + &quot; &quot; + person.getLastName() );\n\n         return dto;\n     }\n }\n</code></pre>\n<p>This wouldn't work unless Mapstruct generated a constructor with a <code>super</code> call in it</p>\n"},{"tags":["java","android","rest"],"comments":[{"owner":{"account_id":2931563,"reputation":434,"user_id":2511670,"accept_rate":60,"display_name":"Andrew"},"score":1,"creation_date":1494448257,"post_id":43901529,"comment_id":74838228,"body_markdown":"I&#39;m guessing that an exception is thrown. You can print it using `e.printStackTrace()`. `e.getMessage()` returns string, but it doesn&#39;t print anything.","body":"I&#39;m guessing that an exception is thrown. You can print it using <code>e.printStackTrace()</code>. <code>e.getMessage()</code> returns string, but it doesn&#39;t print anything."},{"owner":{"account_id":10080165,"reputation":1011,"user_id":7450780,"display_name":"Denis Micheal"},"score":0,"creation_date":1494613872,"post_id":43901529,"comment_id":74921444,"body_markdown":"Yah thanx...it was throwing an unknown host exception..","body":"Yah thanx...it was throwing an unknown host exception.."}],"owner":{"account_id":10080165,"reputation":1011,"user_id":7450780,"display_name":"Denis Micheal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696944668,"creation_date":1494445695,"question_id":43901529,"body_markdown":"I&#39;m trying to use the [Fatsecret](https://platform.fatsecret.com/docs/guides) Rest api endpoint `foods/search` to return nutritional values based on food objects related to the search expression in the parameter. The Problem I&#39;m encountering is in my background async task that makes the call to the above endpoint.\r\n\r\n        void requester(){\r\n    \t\r\n    \tclass GetRequest extends AsyncTask&lt;String,Void,String&gt;{\r\n            \r\n\t\t\t@Override\r\n\t\t\tprotected String doInBackground(String... params) {\r\n\t\t\t\tString result=&quot;&quot;;\r\n\t\t\t\tBufferedReader bufferedReader=null;\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t /* Global string variable that contains the request */\r\n\r\n\t\t\t\t\tURL url = new URL(apiUrle); \r\n \r\n\r\n\r\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                    StringBuilder sb = new StringBuilder();\r\n \r\n                    bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n \r\n                    String json;\r\n                    while((json = bufferedReader.readLine())!= null){\r\n                        sb.append(json+&quot;\\n&quot;);\r\n                    }\r\n \r\n                    result =  sb.toString();\r\n                    \r\n    \r\n\t\t\t} catch (ClientProtocolException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.getMessage();\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.getMessage();\r\n\t\t\t}\r\n\t      \r\n\t\t  \r\n\t\t    \r\n\t\t\t\treturn result;\r\n\t\t\t \r\n\t\t\t}\r\n    \t\t\r\n\t\t\t @Override\r\n\t            protected void onPostExecute(String result) {\r\n\t                \r\n\t                Log.d(&quot;YOUR RESULT&quot;, result+&quot;230&quot;);/* result string appears empty in logcat since it only displays string 230*/\r\n\t            }\r\n    \t\t\r\n    \t}\r\n    \tGetRequest ret = new GetRequest();\r\n    \tret.execute();\r\n    }\r\n\r\n\r\nThe main problem is that the `string(result)` returned is empty. I validated that Im not sending a wrong consumer key or secret by using the same values on a java application and I had no problem. \r\nI also entered the apiUrl value in my browser and got the results I expected below.\r\n      \r\n       { &quot;foods&quot;: { &quot;food&quot;: [ {&quot;food_description&quot;: &quot;Per 101g - Calories: 197kcal | Fat: 7.79g | Carbs: 0.00g | Protein: 29.80g&quot;, &quot;food_id&quot;: &quot;1641&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 110kcal | Fat: 1.24g | Carbs: 0.00g | Protein: 23.09g&quot;, &quot;food_id&quot;: &quot;4881229&quot;, &quot;food_name&quot;: &quot;Skinless Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-skinless&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;448901&quot;, &quot;food_name&quot;: &quot;Grilled Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-grilled-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 247kcal | Fat: 15.49g | Carbs: 0.00g | Protein: 25.06g&quot;, &quot;food_id&quot;: &quot;1695&quot;, &quot;food_name&quot;: &quot;Chicken Thigh&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-thigh-ns-as-to-skin-eaten&quot; }, {&quot;brand_name&quot;: &quot;Valbest&quot;, &quot;food_description&quot;: &quot;Per 4 oz - Calories: 130kcal | Fat: 3.00g | Carbs: 0.00g | Protein: 26.00g&quot;, &quot;food_id&quot;: &quot;3946778&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Brand&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/valbest\\/chicken-breast&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 216kcal | Fat: 11.15g | Carbs: 0.00g | Protein: 27.03g&quot;, &quot;food_id&quot;: &quot;1677&quot;, &quot;food_name&quot;: &quot;Chicken Drumstick&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-drumstick-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;419178&quot;, &quot;food_name&quot;: &quot;Rotisserie Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-rotisserie-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 190kcal | Fat: 7.41g | Carbs: 0.00g | Protein: 28.93g&quot;, &quot;food_id&quot;: &quot;1628&quot;, &quot;food_name&quot;: &quot;Roasted Broiled or Baked Chicken (Skin Not Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-roasted-broiled-or-baked-skin-not-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 96g - Calories: 279kcal | Fat: 16.60g | Carbs: 9.59g | Protein: 21.45g&quot;, &quot;food_id&quot;: &quot;1636&quot;, &quot;food_name&quot;: &quot;Baked or Fried Coated Chicken with Skin (Skin\\/Coating Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-coated-baked-or-fried-prepared-with-skin-skin-coating-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 237kcal | Fat: 11.89g | Carbs: 0.00g | Protein: 30.42g&quot;, &quot;food_id&quot;: &quot;34511&quot;, &quot;food_name&quot;: &quot;Chicken Meat (Stewing, Stewed, Cooked)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/usda\\/chicken-meat-(stewing-stewed-cooked)&quot; } ], &quot;max_results&quot;: &quot;10&quot;, &quot;page_number&quot;: &quot;0&quot;, &quot;total_results&quot;: &quot;5362&quot; }}\r\n\r\nOtherwise yeah ,I dont know what I could be missing so any insight will deeply be appreciated.\r\n","title":"Background Task returning null string using Fatsecret rest api","body":"<p>I'm trying to use the <a href=\"https://platform.fatsecret.com/docs/guides\" rel=\"nofollow noreferrer\">Fatsecret</a> Rest api endpoint <code>foods/search</code> to return nutritional values based on food objects related to the search expression in the parameter. The Problem I'm encountering is in my background async task that makes the call to the above endpoint.</p>\n<pre><code>    void requester(){\n    \n    class GetRequest extends AsyncTask&lt;String,Void,String&gt;{\n        \n        @Override\n        protected String doInBackground(String... params) {\n            String result=&quot;&quot;;\n            BufferedReader bufferedReader=null;\n            try {\n\n             /* Global string variable that contains the request */\n\n                URL url = new URL(apiUrle); \n\n\n\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                StringBuilder sb = new StringBuilder();\n\n                bufferedReader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n                String json;\n                while((json = bufferedReader.readLine())!= null){\n                    sb.append(json+&quot;\\n&quot;);\n                }\n\n                result =  sb.toString();\n                \n\n        } catch (ClientProtocolException e1) {\n            // TODO Auto-generated catch block\n            e1.getMessage();\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.getMessage();\n        }\n      \n      \n        \n            return result;\n         \n        }\n        \n         @Override\n            protected void onPostExecute(String result) {\n                \n                Log.d(&quot;YOUR RESULT&quot;, result+&quot;230&quot;);/* result string appears empty in logcat since it only displays string 230*/\n            }\n        \n    }\n    GetRequest ret = new GetRequest();\n    ret.execute();\n}\n</code></pre>\n<p>The main problem is that the <code>string(result)</code> returned is empty. I validated that Im not sending a wrong consumer key or secret by using the same values on a java application and I had no problem.\nI also entered the apiUrl value in my browser and got the results I expected below.</p>\n<pre><code>   { &quot;foods&quot;: { &quot;food&quot;: [ {&quot;food_description&quot;: &quot;Per 101g - Calories: 197kcal | Fat: 7.79g | Carbs: 0.00g | Protein: 29.80g&quot;, &quot;food_id&quot;: &quot;1641&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 110kcal | Fat: 1.24g | Carbs: 0.00g | Protein: 23.09g&quot;, &quot;food_id&quot;: &quot;4881229&quot;, &quot;food_name&quot;: &quot;Skinless Chicken Breast&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-breast-skinless&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;448901&quot;, &quot;food_name&quot;: &quot;Grilled Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-grilled-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 247kcal | Fat: 15.49g | Carbs: 0.00g | Protein: 25.06g&quot;, &quot;food_id&quot;: &quot;1695&quot;, &quot;food_name&quot;: &quot;Chicken Thigh&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-thigh-ns-as-to-skin-eaten&quot; }, {&quot;brand_name&quot;: &quot;Valbest&quot;, &quot;food_description&quot;: &quot;Per 4 oz - Calories: 130kcal | Fat: 3.00g | Carbs: 0.00g | Protein: 26.00g&quot;, &quot;food_id&quot;: &quot;3946778&quot;, &quot;food_name&quot;: &quot;Chicken Breast&quot;, &quot;food_type&quot;: &quot;Brand&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/valbest\\/chicken-breast&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 216kcal | Fat: 11.15g | Carbs: 0.00g | Protein: 27.03g&quot;, &quot;food_id&quot;: &quot;1677&quot;, &quot;food_name&quot;: &quot;Chicken Drumstick&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-drumstick-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 239kcal | Fat: 13.60g | Carbs: 0.00g | Protein: 27.30g&quot;, &quot;food_id&quot;: &quot;419178&quot;, &quot;food_name&quot;: &quot;Rotisserie Chicken&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-rotisserie-ns-as-to-skin-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 101g - Calories: 190kcal | Fat: 7.41g | Carbs: 0.00g | Protein: 28.93g&quot;, &quot;food_id&quot;: &quot;1628&quot;, &quot;food_name&quot;: &quot;Roasted Broiled or Baked Chicken (Skin Not Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-roasted-broiled-or-baked-skin-not-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 96g - Calories: 279kcal | Fat: 16.60g | Carbs: 9.59g | Protein: 21.45g&quot;, &quot;food_id&quot;: &quot;1636&quot;, &quot;food_name&quot;: &quot;Baked or Fried Coated Chicken with Skin (Skin\\/Coating Eaten)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/generic\\/chicken-coated-baked-or-fried-prepared-with-skin-skin-coating-eaten&quot; }, {&quot;food_description&quot;: &quot;Per 100g - Calories: 237kcal | Fat: 11.89g | Carbs: 0.00g | Protein: 30.42g&quot;, &quot;food_id&quot;: &quot;34511&quot;, &quot;food_name&quot;: &quot;Chicken Meat (Stewing, Stewed, Cooked)&quot;, &quot;food_type&quot;: &quot;Generic&quot;, &quot;food_url&quot;: &quot;http:\\/\\/www.fatsecret.com\\/calories-nutrition\\/usda\\/chicken-meat-(stewing-stewed-cooked)&quot; } ], &quot;max_results&quot;: &quot;10&quot;, &quot;page_number&quot;: &quot;0&quot;, &quot;total_results&quot;: &quot;5362&quot; }}\n</code></pre>\n<p>Otherwise yeah ,I dont know what I could be missing so any insight will deeply be appreciated.</p>\n"},{"tags":["java","swing","arraylist","jframe","jlist"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1505435380,"post_id":46219776,"comment_id":79423900,"body_markdown":"1) See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/q/9554636/418556) 2) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"1) See <a href=\"http://stackoverflow.com/q/9554636/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a> 2) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1505400487,"post_id":46220139,"comment_id":79407228,"body_markdown":"@Bravecity `And when you want to update it, you can just use reload(), validate() or refresh().` - No, there is no need for any of those methods. All you need to do is update the ListModel and the model will tell the JList to repaint itself. Changes should always be made to a model, not an external data source (ie your ArrayList).","body":"@Bravecity <code>And when you want to update it, you can just use reload(), validate() or refresh().</code> - No, there is no need for any of those methods. All you need to do is update the ListModel and the model will tell the JList to repaint itself. Changes should always be made to a model, not an external data source (ie your ArrayList)."}],"tags":[],"owner":{"account_id":10743052,"reputation":440,"user_id":7905419,"accept_rate":25,"display_name":"Strahinja"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505394749,"creation_date":1505394749,"answer_id":46220139,"question_id":46219776,"body_markdown":"I would suggest you using a ListModel/TreeModel to handle JList, JTree etc.\r\n\r\nThere you can make something like this:\r\n\r\n    DefaultListModel listModel = new DefaultListModel(name);\r\n    JList jList = new JList(listModel); //or setListModel(listModel)\r\n\r\nAnd when you want to update it, you can just use `reload()`, `validate()` or `refresh()`. So you can refresh the model of the list and everything&#39;s gonna be ok.\r\nOr you could just create new listModel and set the new values that you would like to show.\r\n\r\nSince the question is similar to some others on Stackoverflow, you could check on this links and that should help you:\r\n\r\n - [First link][1]\r\n - [Second link][2]\r\n - [Third link][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/3268383/java-refreshing-an-array-into-jlist\r\n  [2]: https://stackoverflow.com/questions/18502025/how-to-make-a-jlist-refresh-method-in-a-jpanel-class\r\n  [3]: https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe\r\n\r\nAlso check related questions to yours. I hope I was helpful.","title":"How do I refresh a JList?","body":"<p>I would suggest you using a ListModel/TreeModel to handle JList, JTree etc.</p>\n\n<p>There you can make something like this:</p>\n\n<pre><code>DefaultListModel listModel = new DefaultListModel(name);\nJList jList = new JList(listModel); //or setListModel(listModel)\n</code></pre>\n\n<p>And when you want to update it, you can just use <code>reload()</code>, <code>validate()</code> or <code>refresh()</code>. So you can refresh the model of the list and everything's gonna be ok.\nOr you could just create new listModel and set the new values that you would like to show.</p>\n\n<p>Since the question is similar to some others on Stackoverflow, you could check on this links and that should help you:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3268383/java-refreshing-an-array-into-jlist\">First link</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18502025/how-to-make-a-jlist-refresh-method-in-a-jpanel-class\">Second link</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe\">Third link</a></li>\n</ul>\n\n<p>Also check related questions to yours. I hope I was helpful.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1661228222,"post_id":73451806,"comment_id":129715146,"body_markdown":"to give you the chance to improve the answer ;)  which sounds fishy anyway - focus is unrelated to scrolling","body":"to give you the chance to improve the answer ;)  which sounds fishy anyway - focus is unrelated to scrolling"},{"owner":{"account_id":16708524,"reputation":153,"user_id":12076383,"display_name":"the_mackster"},"score":0,"creation_date":1661228654,"post_id":73451806,"comment_id":129715202,"body_markdown":"No mention of scrolling in this post. Maybe get your facts straight before making condescending jabs of sarcasm. :) Was just trying to help people out. Have a nice life. Thanks for the input.","body":"No mention of scrolling in this post. Maybe get your facts straight before making condescending jabs of sarcasm. :) Was just trying to help people out. Have a nice life. Thanks for the input."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1661238963,"post_id":73451806,"comment_id":129717458,"body_markdown":"then why did you consider that ensureIndexIsVisible might be a solution to whatever problem you had? Seeing its javadoc: _Scrolls the list within an enclosing viewport to make the specified cell completely visible._","body":"then why did you consider that ensureIndexIsVisible might be a solution to whatever problem you had? Seeing its javadoc: <i>Scrolls the list within an enclosing viewport to make the specified cell completely visible.</i>"}],"tags":[],"owner":{"account_id":16708524,"reputation":153,"user_id":12076383,"display_name":"the_mackster"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696944593,"creation_date":1661209475,"answer_id":73451806,"question_id":46219776,"body_markdown":" There is a suggestion [here][1] to call `yourJList.ensureIndexIsVisible(yourModel.getSize());`.However, this didn&#39;t work, for me.\r\n\r\nWhat worked was calling:\r\n\r\n    addElement(String);\r\nthen call:\r\n\r\n    yourJList.requestFocus();\r\n\r\nHopefully, this helps some folks.\r\n\r\n**Edit:** Changed naming convention.\r\n\r\n  [1]: https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe","title":"How do I refresh a JList?","body":"<p>There is a suggestion <a href=\"https://stackoverflow.com/questions/4262669/refresh-jlist-in-a-jframe\">here</a> to call <code>yourJList.ensureIndexIsVisible(yourModel.getSize());</code>.However, this didn't work, for me.</p>\n<p>What worked was calling:</p>\n<pre><code>addElement(String);\n</code></pre>\n<p>then call:</p>\n<pre><code>yourJList.requestFocus();\n</code></pre>\n<p>Hopefully, this helps some folks.</p>\n<p><strong>Edit:</strong> Changed naming convention.</p>\n"}],"owner":{"account_id":10513102,"reputation":29,"user_id":7748117,"accept_rate":0,"display_name":"Bravecity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4419,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1696944593,"creation_date":1505393680,"question_id":46219776,"body_markdown":"I am making a GUI that adds a name to a list and then I have a JList on the home frame. When I hit the button on the other frame, I want it to update the JList to display the recently added string to the arraylist\r\n\r\nArrayList:\r\n\r\n    private static ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\r\n\r\nJList:\r\n\r\n    JList lisName = new JList(name.toArray());\r\n\r\nJButton I want to update the list:\r\n\r\n    JButton btnAdd = new JButton(&quot;Add&quot;);\r\n\tbtnAdd.addActionListener(new ActionListener() {\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif(txtName.getText() == null) {\r\n\t\t\t\tJOptionPane.showMessageDialog(pnlName, &quot;Error: Please enter name!&quot;);\r\n\t\t\t}else{\r\n\t\t\t\tname.add(txtName.getText());\r\n\t\t\t\tnameFrame.setVisible(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n","title":"How do I refresh a JList?","body":"<p>I am making a GUI that adds a name to a list and then I have a JList on the home frame. When I hit the button on the other frame, I want it to update the JList to display the recently added string to the arraylist</p>\n<p>ArrayList:</p>\n<pre><code>private static ArrayList&lt;String&gt; name = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>JList:</p>\n<pre><code>JList lisName = new JList(name.toArray());\n</code></pre>\n<p>JButton I want to update the list:</p>\n<pre><code>JButton btnAdd = new JButton(&quot;Add&quot;);\nbtnAdd.addActionListener(new ActionListener() {\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(txtName.getText() == null) {\n            JOptionPane.showMessageDialog(pnlName, &quot;Error: Please enter name!&quot;);\n        }else{\n            name.add(txtName.getText());\n            nameFrame.setVisible(false);\n        }\n        \n    }\n    \n});\n</code></pre>\n"},{"tags":["java","elasticsearch","kibana","elk"],"comments":[{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1697753294,"post_id":77266233,"comment_id":136322965,"body_markdown":"Please paste the JSON code and single data insertion as code, not images","body":"Please paste the JSON code and single data insertion as code, not images"}],"owner":{"account_id":22125310,"reputation":43,"user_id":16377789,"display_name":"micro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696944570,"creation_date":1696944570,"question_id":77266233,"body_markdown":"I am inserting JSON data in Elasticsearch using ElasticearchClient Bulk Insert in Java, the code I have written is \r\n\r\n    static void submitBulkUsingElasticClient(JSONArray data) throws IOException {\r\n            BulkRequest.Builder builder = new BulkRequest.Builder();\r\n    \r\n            ElasticsearchClient esClient = getElasticsearchClient();\r\n    \r\n            for (Object document : data)\r\n                if (document instanceof JSONObject) {\r\n                    JSONObject jsonObject = new JSONObject(document);\r\n                    builder.operations(op -&gt; op\r\n                            .index(idx -&gt; idx\r\n                                    .index(&quot;demo_data&quot;)\r\n                                    .document(jsonObject.toMap())\r\n                                    .id(String.valueOf(((JSONObject) document).getInt(&quot;id&quot;)))\r\n                            )\r\n    \r\n                    );\r\n                }\r\n    \r\n            BulkResponse response = esClient.bulk(builder.build());\r\n    \r\n            // Log errors, if any\r\n            if (response.errors()) {\r\n                System.out.println(&quot;Bulk had errors&quot;);\r\n                for (BulkResponseItem item : response.items()) {\r\n                    if (item.error() != null) {\r\n                        System.out.println(item.error().reason());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;response = &quot; + response.toString());\r\n        }\r\n\r\nAnd the sample JSON data I have taken is this,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDuring single data insert data is populating and visualizing in Kibana properly. Here is the example for single data insertion,\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is the code of Single Insertion,\r\n\r\n    static void submitRequestUsingElasticClient(String data) throws IOException {\r\n            Reader input = new StringReader(data);\r\n    \r\n            IndexRequest&lt;JsonData&gt; request = IndexRequest.of(i -&gt; i\r\n                    .index(&quot;demo_data&quot;)\r\n                    .withJson(input)\r\n            );\r\n    \r\n            ElasticsearchClient esClient = getElasticsearchClient();\r\n    \r\n            IndexResponse response = esClient.index(request);\r\n    \r\n            System.out.println(&quot;Indexed with version &quot; + response.version());\r\n        }\r\n\r\n\r\nBut during bulk insertion the data is getting inserted successfully but not in proper format, its looking something like this,\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI don&#39;t understand the problem why the format is like this. Is it because Elasticsearch is serializing the data or is there any field missing in BulkRequest Builder operation? \r\n\r\nPlease help me..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KIAxz.png\r\n  [2]: https://i.stack.imgur.com/MAYly.png\r\n  [3]: https://i.stack.imgur.com/lYyTh.png","title":"Problem in data format during bulk insert in Elasticsearch using ElasticsearchClient in Java","body":"<p>I am inserting JSON data in Elasticsearch using ElasticearchClient Bulk Insert in Java, the code I have written is</p>\n<pre><code>static void submitBulkUsingElasticClient(JSONArray data) throws IOException {\n        BulkRequest.Builder builder = new BulkRequest.Builder();\n\n        ElasticsearchClient esClient = getElasticsearchClient();\n\n        for (Object document : data)\n            if (document instanceof JSONObject) {\n                JSONObject jsonObject = new JSONObject(document);\n                builder.operations(op -&gt; op\n                        .index(idx -&gt; idx\n                                .index(&quot;demo_data&quot;)\n                                .document(jsonObject.toMap())\n                                .id(String.valueOf(((JSONObject) document).getInt(&quot;id&quot;)))\n                        )\n\n                );\n            }\n\n        BulkResponse response = esClient.bulk(builder.build());\n\n        // Log errors, if any\n        if (response.errors()) {\n            System.out.println(&quot;Bulk had errors&quot;);\n            for (BulkResponseItem item : response.items()) {\n                if (item.error() != null) {\n                    System.out.println(item.error().reason());\n                }\n            }\n        }\n\n        System.out.println(&quot;response = &quot; + response.toString());\n    }\n</code></pre>\n<p>And the sample JSON data I have taken is this,</p>\n<p><a href=\"https://i.stack.imgur.com/KIAxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIAxz.png\" alt=\"enter image description here\" /></a></p>\n<p>During single data insert data is populating and visualizing in Kibana properly. Here is the example for single data insertion,</p>\n<p><a href=\"https://i.stack.imgur.com/MAYly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MAYly.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code of Single Insertion,</p>\n<pre><code>static void submitRequestUsingElasticClient(String data) throws IOException {\n        Reader input = new StringReader(data);\n\n        IndexRequest&lt;JsonData&gt; request = IndexRequest.of(i -&gt; i\n                .index(&quot;demo_data&quot;)\n                .withJson(input)\n        );\n\n        ElasticsearchClient esClient = getElasticsearchClient();\n\n        IndexResponse response = esClient.index(request);\n\n        System.out.println(&quot;Indexed with version &quot; + response.version());\n    }\n</code></pre>\n<p>But during bulk insertion the data is getting inserted successfully but not in proper format, its looking something like this,</p>\n<p><a href=\"https://i.stack.imgur.com/lYyTh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYyTh.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand the problem why the format is like this. Is it because Elasticsearch is serializing the data or is there any field missing in BulkRequest Builder operation?</p>\n<p>Please help me..</p>\n"},{"tags":["java","spring","spring-boot","java-17"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696940072,"post_id":77265557,"comment_id":136214271,"body_markdown":"Call an `@Async` annotated method. It isn&#39;t any harder then that.","body":"Call an <code>@Async</code> annotated method. It isn&#39;t any harder then that."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696941456,"post_id":77265557,"comment_id":136214568,"body_markdown":"@M.Deinum you can read the question carefully, its not about calling annotation.","body":"@M.Deinum you can read the question carefully, its not about calling annotation."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696941573,"post_id":77265557,"comment_id":136214596,"body_markdown":"Yes it is. Call an `@Async` annotated method from the controller, it will return immediatly while the task keeps running. So it is exactbly about that. You can return a `CompletableFuture` if you want (or use a defferedresult) and set a timeout. Which will then return. If that isn&#39;t the case then provide additional information what you have tried (as you stated your chosen solutions didn&#39;t work).","body":"Yes it is. Call an <code>@Async</code> annotated method from the controller, it will return immediatly while the task keeps running. So it is exactbly about that. You can return a <code>CompletableFuture</code> if you want (or use a defferedresult) and set a timeout. Which will then return. If that isn&#39;t the case then provide additional information what you have tried (as you stated your chosen solutions didn&#39;t work)."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696942644,"post_id":77265557,"comment_id":136214821,"body_markdown":"Yes, I understand u . In my implementation, I have placed the @Async annotation on the service method rather than in the controller. This choice is based on the fact that most of the time-consuming operations are typically performed in the service layer to keep controllers lean and focused on handling HTTP requests.\n\nIn the service layer, I have replaced the return type from List&lt;myObject&gt; to CompletableFuture&lt;List&lt;myObject&gt;&gt;. This allows me to execute the method asynchronously.\n\nCheck the question , I put some of my code on it","body":"Yes, I understand u . In my implementation, I have placed the @Async annotation on the service method rather than in the controller. This choice is based on the fact that most of the time-consuming operations are typically performed in the service layer to keep controllers lean and focused on handling HTTP requests.  In the service layer, I have replaced the return type from List&lt;myObject&gt; to CompletableFuture&lt;List&lt;myObject&gt;&gt;. This allows me to execute the method asynchronously.  Check the question , I put some of my code on it"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696942738,"post_id":77265557,"comment_id":136214850,"body_markdown":"Your code doesn&#39;t do what you think it does. Just execute the async method. Nothing more nothing less. You are making things overly complex. As stated just annotate your service method and be done. Also the code you posted doesn&#39;t make anything clear it only shows delated execution and some timer, all working around the `@Async` from spring.","body":"Your code doesn&#39;t do what you think it does. Just execute the async method. Nothing more nothing less. You are making things overly complex. As stated just annotate your service method and be done. Also the code you posted doesn&#39;t make anything clear it only shows delated execution and some timer, all working around the <code>@Async</code> from spring."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696943003,"post_id":77265557,"comment_id":136214925,"body_markdown":"@M.Deinum but what about providing an immediate response to the client after 30 seconds with the message, i need the response to become send for frontend side for example as a message inside the object? and completing the work in the background ? also you said i need Just execute the async method - service method -, but what about the data type in the service, to keep it as it is. ?","body":"@M.Deinum but what about providing an immediate response to the client after 30 seconds with the message, i need the response to become send for frontend side for example as a message inside the object? and completing the work in the background ? also you said i need Just execute the async method - service method -, but what about the data type in the service, to keep it as it is. ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696943069,"post_id":77265557,"comment_id":136214942,"body_markdown":"What datatype/ You haven&#39;t posted any of the classes you are referring to. As I stated return a completablefuture, in the controller use a deferredresult with a timeout of 30 seconds. That is it, nothing more, nothiong less.","body":"What datatype/ You haven&#39;t posted any of the classes you are referring to. As I stated return a completablefuture, in the controller use a deferredresult with a timeout of 30 seconds. That is it, nothing more, nothiong less."},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696943459,"post_id":77265557,"comment_id":136215037,"body_markdown":"this steps i will go with \nIn the service layer, execute the asynchronous method and return a CompletableFuture for the result.\nIn the controller, use a DeferredResult with a timeout of 30 seconds.\nIf the timeout occurs, return a response with the status &quot;Processing in progress...&quot; and complete the work in the background asynchronously.","body":"this steps i will go with  In the service layer, execute the asynchronous method and return a CompletableFuture for the result. In the controller, use a DeferredResult with a timeout of 30 seconds. If the timeout occurs, return a response with the status &quot;Processing in progress...&quot; and complete the work in the background asynchronously."}],"answers":[{"comments":[{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696953685,"post_id":77266156,"comment_id":136217253,"body_markdown":"I did what you said and its working, thanks alot.. but I had small problem, I have to return object, let say its student with Id, if the response taken over 30 return in progress in the Id, if not return the real Id, I did it to set the end of code :\n\n` // Create a DeferredResult with a 30-second timeout\n        DeferredResult&lt;StudentIdUrl&gt; deferredResult = new DeferredResult&lt;&gt;(30_000L);\n\n        // Set the DeferredResult&#39;s result to the timeout response\n        deferredResult.setResult(studentDataResult); `","body":"I did what you said and its working, thanks alot.. but I had small problem, I have to return object, let say its student with Id, if the response taken over 30 return in progress in the Id, if not return the real Id, I did it to set the end of code :  ` // Create a DeferredResult with a 30-second timeout         DeferredResult&lt;StudentIdUrl&gt; deferredResult = new DeferredResult&lt;&gt;(30_000L);          // Set the DeferredResult&#39;s result to the timeout response         deferredResult.setResult(studentDataResult); `"},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696953752,"post_id":77266156,"comment_id":136217267,"body_markdown":"where studentDataResult set in beginning of class as         studentDataResult.setMessage(&quot;In progress...&quot;);\nand in the  .whenComplete changed,","body":"where studentDataResult set in beginning of class as         studentDataResult.setMessage(&quot;In progress...&quot;); and in the  .whenComplete changed,"},{"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"score":0,"creation_date":1696953786,"post_id":77266156,"comment_id":136217281,"body_markdown":"why always returining in progress ? it not changed, and in postman it takes time less than 30 secs","body":"why always returining in progress ? it not changed, and in postman it takes time less than 30 secs"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696959684,"post_id":77266156,"comment_id":136218410,"body_markdown":"I have no clue what you are trying to express in these comments. You specifically requested for that. *roviding an immediate response to the client after 30 seconds with the message &#39;Processing in progress. We will notify you when it&#39;s completed&#39;* That was your own request, to return a message after 30 seconds.","body":"I have no clue what you are trying to express in these comments. You specifically requested for that. <i>roviding an immediate response to the client after 30 seconds with the message &#39;Processing in progress. We will notify you when it&#39;s completed&#39;</i> That was your own request, to return a message after 30 seconds."},{"owner":{"account_id":2907957,"reputation":777,"user_id":2492816,"display_name":"lo&#239;c"},"score":0,"creation_date":1700818253,"post_id":77266156,"comment_id":136702272,"body_markdown":"This works, thx!  A note for other users : the default timeout of the DeferredResult seems to be 30 seconds, so set your own value if needed (or use the default constructor without parameters if 30 seconds is fine).","body":"This works, thx!  A note for other users : the default timeout of the DeferredResult seems to be 30 seconds, so set your own value if needed (or use the default constructor without parameters if 30 seconds is fine)."},{"owner":{"account_id":2907957,"reputation":777,"user_id":2492816,"display_name":"lo&#239;c"},"score":0,"creation_date":1700819521,"post_id":77266156,"comment_id":136702502,"body_markdown":"Another note: when working with the Exceptions : they are wrapped in a CompletionException , so to trigger your exceptionhandlers (which are class-based) , make sure to get the source : res.setErrorResult(ex.getCause()); when following above example.","body":"Another note: when working with the Exceptions : they are wrapped in a CompletionException , so to trigger your exceptionhandlers (which are class-based) , make sure to get the source : res.setErrorResult(ex.getCause()); when following above example."}],"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696943951,"creation_date":1696943951,"answer_id":77266156,"question_id":77265557,"body_markdown":"You are making things overly complex. You should be calling an `@Async` service method, which would return a `CompletableFuture` (or you can inject the `AsyncTaskExecutor` and use the `submitCompletable` to wrap the service call (instead of annotating it with `@Async` and return a `CompletableFuture`). \r\n\r\nIn the controller use a `DeferredResult` which will send the result as soon as it is available from the `CompletableFuture` through the `CompletableFuture` callback methods. It will also have an `onTimeout` callback (for 30 seconds) which will fire if the process didn&#39;t finish within 30 seconds. It will keep the background process running but will return an answer to the client. \r\n\r\n```java\r\n// Deferred Result with 30 second timeout\r\nDeferredResult&lt;ResponseEntity&lt;?&gt;&gt; result = new DeferredResult(30_000, () -&gt; ResponseEntity.accepted().body(&quot;Processing&quot;).build());\r\nCompletableFuture&lt;YourResult&gt; future = ... // However you achieve this\r\nfuture.whenComplete( (res, ex) -&gt; {\r\n  if (res != null) {\r\n    res.setResult(ResponseEntity.ok(res));\r\n  } else {\r\n    res.setErrorResult(ex);\r\n  }\r\n});\r\nreturn result;\r\n```\r\n\r\nSomething along those lines. The `DeferredResult` will wait for 30 seconds, if not return a default response (HTTP 200 ACCEPTED with a message, when the `CompletableFuture` completes it will return a regular response, or if it was an exception return that). \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/request/async/DeferredResult.html","title":"How to Implement Asynchronous Processing in a Spring Application for Long-Running Tasks?","body":"<p>You are making things overly complex. You should be calling an <code>@Async</code> service method, which would return a <code>CompletableFuture</code> (or you can inject the <code>AsyncTaskExecutor</code> and use the <code>submitCompletable</code> to wrap the service call (instead of annotating it with <code>@Async</code> and return a <code>CompletableFuture</code>).</p>\n<p>In the controller use a <code>DeferredResult</code> which will send the result as soon as it is available from the <code>CompletableFuture</code> through the <code>CompletableFuture</code> callback methods. It will also have an <code>onTimeout</code> callback (for 30 seconds) which will fire if the process didn't finish within 30 seconds. It will keep the background process running but will return an answer to the client.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Deferred Result with 30 second timeout\nDeferredResult&lt;ResponseEntity&lt;?&gt;&gt; result = new DeferredResult(30_000, () -&gt; ResponseEntity.accepted().body(&quot;Processing&quot;).build());\nCompletableFuture&lt;YourResult&gt; future = ... // However you achieve this\nfuture.whenComplete( (res, ex) -&gt; {\n  if (res != null) {\n    res.setResult(ResponseEntity.ok(res));\n  } else {\n    res.setErrorResult(ex);\n  }\n});\nreturn result;\n</code></pre>\n<p>Something along those lines. The <code>DeferredResult</code> will wait for 30 seconds, if not return a default response (HTTP 200 ACCEPTED with a message, when the <code>CompletableFuture</code> completes it will return a regular response, or if it was an exception return that).</p>\n"}],"owner":{"account_id":25978418,"reputation":41,"user_id":19692549,"display_name":"Sam Sam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77266156,"answer_count":1,"score":1,"last_activity_date":1696943951,"creation_date":1696939047,"question_id":77265557,"body_markdown":"How can I implement **asynchronous processing** in a Java Spring 3-tier application to handle long-running tasks that are expected to take more than **30 seconds**, while providing an immediate response to the client after 30 seconds with the message &#39;Processing in progress. We will notify you when it&#39;s completed&#39;\r\nThen continue the work and processing in the background. Once the background work is completed, I only need to log the completion without sending any further response to the client. \r\n\r\n**Note: I work in both JAVA 17 and JAVA 8, so I found most of the functionality didn&#39;t work as expected in both of them.** \r\n\r\n\r\nin my controller, I used this : \r\n\r\n    CompletableFuture.delayedExecutor(30, TimeUnit.SECONDS)\r\n\r\nand also like this \r\n\r\n    Timer timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    // return ResponseEntity with the message &#39;Processing in progress...&#39;\r\n                }\r\n            }, 30000); ","title":"How to Implement Asynchronous Processing in a Spring Application for Long-Running Tasks?","body":"<p>How can I implement <strong>asynchronous processing</strong> in a Java Spring 3-tier application to handle long-running tasks that are expected to take more than <strong>30 seconds</strong>, while providing an immediate response to the client after 30 seconds with the message 'Processing in progress. We will notify you when it's completed'\nThen continue the work and processing in the background. Once the background work is completed, I only need to log the completion without sending any further response to the client.</p>\n<p><strong>Note: I work in both JAVA 17 and JAVA 8, so I found most of the functionality didn't work as expected in both of them.</strong></p>\n<p>in my controller, I used this :</p>\n<pre><code>CompletableFuture.delayedExecutor(30, TimeUnit.SECONDS)\n</code></pre>\n<p>and also like this</p>\n<pre><code>Timer timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                // return ResponseEntity with the message 'Processing in progress...'\n            }\n        }, 30000); \n</code></pre>\n"},{"tags":["java","base64"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":3,"creation_date":1365654541,"post_id":15940763,"comment_id":22712527,"body_markdown":"Of course it is not the same. You are interpreting the byte as UTF-8, while what you want to do is to print out the value of the byte instead.","body":"Of course it is not the same. You are interpreting the byte as UTF-8, while what you want to do is to print out the value of the byte instead."},{"owner":{"account_id":282492,"reputation":956,"user_id":579416,"accept_rate":92,"display_name":"ebolyen"},"score":0,"creation_date":1365654704,"post_id":15940763,"comment_id":22712559,"body_markdown":"Like nhatdh said, just do: \nSystem.out.println(&quot;decoder &lt;&lt;&gt;&gt; &quot; + bytes[0]);","body":"Like nhatdh said, just do:  System.out.println(&quot;decoder &lt;&lt;&gt;&gt; &quot; + bytes[0]);"},{"owner":{"account_id":2620660,"reputation":113,"user_id":2268748,"display_name":"TonyChou"},"score":0,"creation_date":1365655420,"post_id":15940763,"comment_id":22712721,"body_markdown":"I have tried, and i print the value of bytes, result is -103, code is:","body":"I have tried, and i print the value of bytes, result is -103, code is:"},{"owner":{"account_id":218120,"reputation":52212,"user_id":474283,"display_name":"Cameron Skinner"},"score":1,"creation_date":1365655984,"post_id":15940763,"comment_id":22712871,"body_markdown":"-103 is what you would expect. Java&#39;s `byte` type is signed, so the maximum value it can hold is 127. When you cast 153 (an int) to a byte you get the bit pattern 10011001. When interpreted as a twos-complement number this is -103.","body":"-103 is what you would expect. Java&#39;s <code>byte</code> type is signed, so the maximum value it can hold is 127. When you cast 153 (an int) to a byte you get the bit pattern 10011001. When interpreted as a twos-complement number this is -103."}],"answers":[{"comments":[{"owner":{"account_id":2620660,"reputation":113,"user_id":2268748,"display_name":"TonyChou"},"score":0,"creation_date":1365655541,"post_id":15940868,"comment_id":22712752,"body_markdown":"Thanks for your quickly response, i try it, the print result is: original bytes &lt;&lt;&gt;&gt; [-103]\nencoder &lt;&lt;&gt;&gt; mQ==\ndecoded bytes &lt;&lt;&gt;&gt; [-103]    i don&#39;t know why? what can i do for this problem?","body":"Thanks for your quickly response, i try it, the print result is: original bytes &lt;&lt;&gt;&gt; [-103] encoder &lt;&lt;&gt;&gt; mQ== decoded bytes &lt;&lt;&gt;&gt; [-103]    i don&#39;t know why? what can i do for this problem?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1365655888,"post_id":15940868,"comment_id":22712842,"body_markdown":"@TonyChou - That&#39;s actually correct. Java bytes are always signed quantities. The maximum byte value is +127. When you cast 153 to a byte, it comes out to 0x99. (When values overflow in Java, they just silently wrap around within the allowed range.) Finally, 0x99 is -103 in two&#39;s complement. If you need to see a positive value, you need to do something like `byteValue &amp; 0xff`. That promotes `byteValue` to an `int` and then masks off any sign extension that might have taken place.","body":"@TonyChou - That&#39;s actually correct. Java bytes are always signed quantities. The maximum byte value is +127. When you cast 153 to a byte, it comes out to 0x99. (When values overflow in Java, they just silently wrap around within the allowed range.) Finally, 0x99 is -103 in two&#39;s complement. If you need to see a positive value, you need to do something like <code>byteValue &amp; 0xff</code>. That promotes <code>byteValue</code> to an <code>int</code> and then masks off any sign extension that might have taken place."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1365654925,"creation_date":1365654925,"answer_id":15940868,"question_id":15940763,"body_markdown":"Try this:\r\n\r\n    byte[] aaa = new byte[1];\r\n    aaa[0] = (byte) 153;\r\n    System.out.println(&quot;original bytes &lt;&lt;&gt;&gt; &quot; + Arrays.toString(aaa));\r\n\r\n    // Encode the bytes to Base64\r\n    String encoder = Base64.encodeBase64String(aaa);\r\n    System.out.println(&quot;encoder &lt;&lt;&gt;&gt; &quot; + encoder);\r\n    \r\n    // Decode the Base64 String to bytes\r\n    byte[] bytes = Base64.decodeBase64(encoder);\r\n    System.out.println(&quot;decoded bytes &lt;&lt;&gt;&gt; &quot; + Arrays.toString(bytes));\r\n","title":"Java base64 encode and decode","body":"<p>Try this:</p>\n\n<pre><code>byte[] aaa = new byte[1];\naaa[0] = (byte) 153;\nSystem.out.println(\"original bytes &lt;&lt;&gt;&gt; \" + Arrays.toString(aaa));\n\n// Encode the bytes to Base64\nString encoder = Base64.encodeBase64String(aaa);\nSystem.out.println(\"encoder &lt;&lt;&gt;&gt; \" + encoder);\n\n// Decode the Base64 String to bytes\nbyte[] bytes = Base64.decodeBase64(encoder);\nSystem.out.println(\"decoded bytes &lt;&lt;&gt;&gt; \" + Arrays.toString(bytes));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939135,"reputation":728,"user_id":3853452,"display_name":"maris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414583842,"creation_date":1414583842,"answer_id":26629738,"question_id":15940763,"body_markdown":"simple static utility methods to encode and decode the given string.\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    ...\r\n    \r\n    private static byte[] key = {\r\n            0x74, 0x68, 0x69, 0x73, 0x49, 0x73, 0x41, 0x53, 0x65, 0x63, 0x72, 0x65, 0x74, 0x4b, 0x65, 0x79\r\n        };  // &quot;ThisIsASecretKey&quot;;\r\n    \r\n        public static String encrypt(String stringToEncrypt) throws Exception {\r\n    \tCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5Padding&quot;);\r\n            final SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n            final String encryptedString = Base64.encodeBase64String(cipher.doFinal(stringToEncrypt.getBytes()));\r\n            return encryptedString;\r\n        }\r\n    \r\n        public static String decrypt(String stringToDecrypt) throws Exception {\r\n    \tCipher cipher = Cipher.getInstance(&quot;AES/ECB/PKCS5PADDING&quot;);\r\n            final SecretKeySpec secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n            final String decryptedString = new String(cipher.doFinal(Base64.decodeBase64(stringToDecrypt)));\r\n            return decryptedString;\r\n        }\r\n\r\n","title":"Java base64 encode and decode","body":"<p>simple static utility methods to encode and decode the given string.</p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n...\n\nprivate static byte[] key = {\n        0x74, 0x68, 0x69, 0x73, 0x49, 0x73, 0x41, 0x53, 0x65, 0x63, 0x72, 0x65, 0x74, 0x4b, 0x65, 0x79\n    };  // \"ThisIsASecretKey\";\n\n    public static String encrypt(String stringToEncrypt) throws Exception {\n    Cipher cipher = Cipher.getInstance(\"AES/ECB/PKCS5Padding\");\n        final SecretKeySpec secretKey = new SecretKeySpec(key, \"AES\");\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n        final String encryptedString = Base64.encodeBase64String(cipher.doFinal(stringToEncrypt.getBytes()));\n        return encryptedString;\n    }\n\n    public static String decrypt(String stringToDecrypt) throws Exception {\n    Cipher cipher = Cipher.getInstance(\"AES/ECB/PKCS5PADDING\");\n        final SecretKeySpec secretKey = new SecretKeySpec(key, \"AES\");\n        cipher.init(Cipher.DECRYPT_MODE, secretKey);\n        final String decryptedString = new String(cipher.doFinal(Base64.decodeBase64(stringToDecrypt)));\n        return decryptedString;\n    }\n</code></pre>\n"}],"owner":{"account_id":2620660,"reputation":113,"user_id":2268748,"display_name":"TonyChou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15940868,"answer_count":2,"score":1,"last_activity_date":1696943938,"creation_date":1365654338,"question_id":15940763,"body_markdown":"I am trying to encode `byte[]` to `String`, then decode this `String` to `byte[]`, my code is:\r\n\r\n    byte[] aaa = new byte[1];\r\n    aaa[0] = (byte) 153;\r\n\t\t\t\r\n    String encoder = Base64.encodeBase64String(aaa);\r\n    System.out.println(&quot;encoder &lt;&lt;&gt;&gt; &quot; + encoder);\r\n\t\r\n    // Decode the Base64 String.\t\t\r\n    byte[] bytes = Base64.decodeBase64(encoder);\r\n    String decoder = new String(bytes, &quot;UTF08&quot;);\r\n    System.out.println(&quot;decoder &lt;&lt;&gt;&gt; &quot; + decoder );\r\n\r\nResult is:\r\n\r\n    encoder &lt;&lt;&gt;&gt; mQ==\r\n    decoder &lt;&lt;&gt;&gt; ?\r\n\r\nThe result are not the same one. Why does this happen?\r\n","title":"Java base64 encode and decode","body":"<p>I am trying to encode <code>byte[]</code> to <code>String</code>, then decode this <code>String</code> to <code>byte[]</code>, my code is:</p>\n\n<pre><code>byte[] aaa = new byte[1];\naaa[0] = (byte) 153;\n\nString encoder = Base64.encodeBase64String(aaa);\nSystem.out.println(\"encoder &lt;&lt;&gt;&gt; \" + encoder);\n\n// Decode the Base64 String.        \nbyte[] bytes = Base64.decodeBase64(encoder);\nString decoder = new String(bytes, \"UTF08\");\nSystem.out.println(\"decoder &lt;&lt;&gt;&gt; \" + decoder );\n</code></pre>\n\n<p>Result is:</p>\n\n<pre><code>encoder &lt;&lt;&gt;&gt; mQ==\ndecoder &lt;&lt;&gt;&gt; ?\n</code></pre>\n\n<p>The result are not the same one. Why does this happen?</p>\n"},{"tags":["java","string","if-statement","contains","charsequence"],"comments":[{"owner":{"account_id":1875759,"reputation":1289,"user_id":1697008,"display_name":"daf"},"score":2,"creation_date":1467458718,"post_id":38159568,"comment_id":63747514,"body_markdown":"Check the casing on the word Like, perhaps? Contains should be case-sensitive and you&#39;re looking for &quot;I Like my&quot;, not &quot;I like my&quot;","body":"Check the casing on the word Like, perhaps? Contains should be case-sensitive and you&#39;re looking for &quot;I Like my&quot;, not &quot;I like my&quot;"},{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467642071,"post_id":38159568,"comment_id":63799427,"body_markdown":"I converted the &quot;L&quot; to a &quot;l&quot; , saved the file, and meticulously type my answers only to arrive at the same error message? Any other ideas?","body":"I converted the &quot;L&quot; to a &quot;l&quot; , saved the file, and meticulously type my answers only to arrive at the same error message? Any other ideas?"},{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467859777,"post_id":38159568,"comment_id":63895126,"body_markdown":"My mistake was in the scan.next() method instead of using scan.nextLine(). Thanks for your time.","body":"My mistake was in the scan.next() method instead of using scan.nextLine(). Thanks for your time."}],"answers":[{"comments":[{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467643280,"post_id":38159607,"comment_id":63800217,"body_markdown":"I have made the proposed changes and still receive the error message. I also tried declaring the searchString as type String instead of type CharSequence and was wrong.","body":"I have made the proposed changes and still receive the error message. I also tried declaring the searchString as type String instead of type CharSequence and was wrong."}],"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467458746,"creation_date":1467458746,"answer_id":38159607,"question_id":38159568,"body_markdown":"Your `searchString` is `&quot;I Like my&quot;`, while your text has `&quot;I like my&quot;`. So I assume your user will enter the lowercase one and `contains` is case sensitive so it won&#39;t find it.\r\n\r\nChange to:\r\n\r\n    CharSequence searchString = &quot;I like my&quot;;","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>Your <code>searchString</code> is <code>\"I Like my\"</code>, while your text has <code>\"I like my\"</code>. So I assume your user will enter the lowercase one and <code>contains</code> is case sensitive so it won't find it.</p>\n\n<p>Change to:</p>\n\n<pre><code>CharSequence searchString = \"I like my\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467643404,"post_id":38159615,"comment_id":63800280,"body_markdown":"I have changed my searchString to &quot;I like my&quot; and am met with the same error message from the else statement. Any additional ideas?","body":"I have changed my searchString to &quot;I like my&quot; and am met with the same error message from the else statement. Any additional ideas?"},{"owner":{"account_id":8684997,"reputation":2630,"user_id":6499716,"accept_rate":100,"display_name":"Shiro"},"score":0,"creation_date":1467643590,"post_id":38159615,"comment_id":63800406,"body_markdown":"Can you copy the exact input you&#39;re typing in?","body":"Can you copy the exact input you&#39;re typing in?"},{"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"score":0,"creation_date":1467859693,"post_id":38159615,"comment_id":63895106,"body_markdown":"I found my mistake. I was only using scan.next() instead of scan.nextLine() which was throwing everything wacky. Thanks for your time though.","body":"I found my mistake. I was only using scan.next() instead of scan.nextLine() which was throwing everything wacky. Thanks for your time though."}],"tags":[],"owner":{"account_id":8684997,"reputation":2630,"user_id":6499716,"accept_rate":100,"display_name":"Shiro"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467458778,"creation_date":1467458778,"answer_id":38159615,"question_id":38159568,"body_markdown":"You are searching for `&quot;I Like my&quot;` while your error massages says it should be `&#39;I like my&#39;`. \r\n\r\n**It&#39;s case sensitive.**\r\n\r\nEither type in `&quot;I Like my&quot;` or change your `searchString` to &quot;I like my&quot;.","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>You are searching for <code>\"I Like my\"</code> while your error massages says it should be <code>'I like my'</code>. </p>\n\n<p><strong>It's case sensitive.</strong></p>\n\n<p>Either type in <code>\"I Like my\"</code> or change your <code>searchString</code> to \"I like my\".</p>\n"},{"tags":[],"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467459931,"creation_date":1467459931,"answer_id":38159775,"question_id":38159568,"body_markdown":"\r\nUse\r\n\r\n    if (selfEsteem.containsIgnoreCase(searchString))\r\n        ...\r\n\r\ninstead of\r\n\r\n    if (selfEsteem.contains(searchString))\r\n        ...\r\n\r\nThen it doesn&#39;t matter what case the user types in.","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>Use</p>\n\n<pre><code>if (selfEsteem.containsIgnoreCase(searchString))\n    ...\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>if (selfEsteem.contains(searchString))\n    ...\n</code></pre>\n\n<p>Then it doesn't matter what case the user types in.</p>\n"}],"owner":{"account_id":8745646,"reputation":1,"user_id":6541038,"display_name":"ucodebro3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696943180,"creation_date":1467458467,"question_id":38159568,"body_markdown":"I am having difficulty triggering my &quot;if&quot; statement. When I input &quot;I like my &#39;anything&#39;&quot;, which the CharSequence should be searching for, the code kicks out the error from the else statement. I&#39;ve tried to see if the contains method wasn&#39;t reading whitespace by attempting to identify just one letter using the CharSequence. That didn&#39;t help. I also attempted to change my contains method into a boolean and run the if statement if the boolean were true. That also did not work. I&#39;ve searched around a bit at other code and it seems to look similar. Eclipse isn&#39;t flagging any errors I&#39;m just beginning and have little clue on what else to attempt. If there are any additional hints on how to clean my code up or methods that might work better. Please give some constructive criticism.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class hello {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Hi, what is your name?&quot;);\r\n    \t\t\tString name1 = scan.next();\r\n    \t\t\tSystem.out.println(&quot;Hello &quot;+ name1 + &quot;. Tell me what you like about yourself?\\n&quot;\r\n    \t\t\t\t\t+ &quot;Please pretext what you like about yourself with the phrase &#39;I like my&#39;.&quot;);\r\n    \t\t\tString selfEsteem = scan.next();\r\n    \t\t\tCharSequence searchString = &quot;I Like my&quot;;\r\n    \t\t\t\r\n    \t\t\tif (selfEsteem.contains(searchString)) {\r\n    \t\t\t\tselfEsteem = selfEsteem.replace(&quot;my&quot;, &quot;your&quot;);\r\n    \t\t\t\tSystem.out.println(selfEsteem + &quot;also.&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.err.println(&quot;Error: User did not use &#39;I like my&#39; input format&quot;);\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tscan.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\noutput:\r\n\r\nHi, what is your name?\r\nJanet\r\nHello Janet. Tell me what you like about yourself?\r\nPlease pretext what you like about yourself with the phrase &#39;I like my&#39;.\r\nI like my boobs\r\nError: User did not use &#39;I like my&#39; input format\r\n","title":"How do I use the contains method with &quot;if, else&quot; statement?","body":"<p>I am having difficulty triggering my \"if\" statement. When I input \"I like my 'anything'\", which the CharSequence should be searching for, the code kicks out the error from the else statement. I've tried to see if the contains method wasn't reading whitespace by attempting to identify just one letter using the CharSequence. That didn't help. I also attempted to change my contains method into a boolean and run the if statement if the boolean were true. That also did not work. I've searched around a bit at other code and it seems to look similar. Eclipse isn't flagging any errors I'm just beginning and have little clue on what else to attempt. If there are any additional hints on how to clean my code up or methods that might work better. Please give some constructive criticism.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class hello {\n\n    public static void main(String args[]) {\n\n        Scanner scan = new Scanner(System.in);\n        try {\n            System.out.println(\"Hi, what is your name?\");\n            String name1 = scan.next();\n            System.out.println(\"Hello \"+ name1 + \". Tell me what you like about yourself?\\n\"\n                    + \"Please pretext what you like about yourself with the phrase 'I like my'.\");\n            String selfEsteem = scan.next();\n            CharSequence searchString = \"I Like my\";\n\n            if (selfEsteem.contains(searchString)) {\n                selfEsteem = selfEsteem.replace(\"my\", \"your\");\n                System.out.println(selfEsteem + \"also.\");\n            } else {\n                System.err.println(\"Error: User did not use 'I like my' input format\");\n            }\n        } finally {\n            scan.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<p>Hi, what is your name?\nJanet\nHello Janet. Tell me what you like about yourself?\nPlease pretext what you like about yourself with the phrase 'I like my'.\nI like my boobs\nError: User did not use 'I like my' input format</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696941067,"post_id":77265627,"comment_id":136214490,"body_markdown":"Just replace `.findAny()` with the `.reduce((a, b) -&gt; { throw new MultiMatchException(); })` you were thinking of and you’re done.","body":"Just replace <code>.findAny()</code> with the <code>.reduce((a, b) -&gt; { throw new MultiMatchException(); })</code> you were thinking of and you’re done."},{"owner":{"account_id":29639870,"reputation":13,"user_id":22716307,"display_name":"John Doe"},"score":0,"creation_date":1696941185,"post_id":77265627,"comment_id":136214507,"body_markdown":"@Holger thank you so much, it works!  findAny() was my mistake!","body":"@Holger thank you so much, it works!  findAny() was my mistake!"}],"answers":[{"comments":[{"owner":{"account_id":29639870,"reputation":13,"user_id":22716307,"display_name":"John Doe"},"score":0,"creation_date":1696941221,"post_id":77265705,"comment_id":136214520,"body_markdown":"@Lukas Eder,  thank you so much, it works!  findAny() was my mistake!","body":"@Lukas Eder,  thank you so much, it works!  findAny() was my mistake!"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696942957,"creation_date":1696940194,"answer_id":77265705,"question_id":77265627,"body_markdown":"You were close:\r\n\r\n```java\r\nstream.reduce((i1, i2) -&gt; { throw new RuntimeException(); })\r\n      .orElseThrow(() -&gt; new RuntimeException());\r\n```","title":"How to check elements count and throw an exception in the middle of the stream?","body":"<p>You were close:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.reduce((i1, i2) -&gt; { throw new RuntimeException(); })\n      .orElseThrow(() -&gt; new RuntimeException());\n</code></pre>\n"}],"owner":{"account_id":29639870,"reputation":13,"user_id":22716307,"display_name":"John Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77265705,"answer_count":1,"score":1,"last_activity_date":1696942957,"creation_date":1696939599,"question_id":77265627,"body_markdown":"I have a stream of elements and want to get only one element from stream and throw exceptions if there are more than one element in the stream and if there is no elemenets at all. Is it possible to make with Stream?\r\n\r\n```\r\npublic Entity getEntityByValue(String value) {\r\n        return entityService.getEntitiesByValue(value)\r\n                .stream\r\n                // check here count of entities and throw a MultiMatchException if more than one entity is present\r\n                .findAny()\r\n                .orElseThrow(() -&gt; throw NoEntitiesFoundException()); //no entities found\r\n    }\r\n```\r\n\r\n\r\nI thought of using .reduce(a, b -&gt; throw MultiMatchException) and throw the exception if the second element is exists but couldn&#39;t combine it with other code ","title":"How to check elements count and throw an exception in the middle of the stream?","body":"<p>I have a stream of elements and want to get only one element from stream and throw exceptions if there are more than one element in the stream and if there is no elemenets at all. Is it possible to make with Stream?</p>\n<pre><code>public Entity getEntityByValue(String value) {\n        return entityService.getEntitiesByValue(value)\n                .stream\n                // check here count of entities and throw a MultiMatchException if more than one entity is present\n                .findAny()\n                .orElseThrow(() -&gt; throw NoEntitiesFoundException()); //no entities found\n    }\n</code></pre>\n<p>I thought of using .reduce(a, b -&gt; throw MultiMatchException) and throw the exception if the second element is exists but couldn't combine it with other code</p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":3587403,"reputation":511,"user_id":3623593,"accept_rate":50,"display_name":"videokojot"},"score":0,"creation_date":1696943994,"post_id":77265931,"comment_id":136215123,"body_markdown":"Thanks for the info about the package level anotation. But still (documentation aside) -  these anotations are not supported by the java compiler. So the java code `converter.convert(null)` will compile but will fail in runtime (because kotlin compiler injects null checks for public signatures).","body":"Thanks for the info about the package level anotation. But still (documentation aside) -  these anotations are not supported by the java compiler. So the java code <code>converter.convert(null)</code> will compile but will fail in runtime (because kotlin compiler injects null checks for public signatures)."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1696944424,"post_id":77265931,"comment_id":136215222,"body_markdown":"In pure Java, there is probably a setting you can turn on to make it an error to pass null to something annotated as non-null.","body":"In pure Java, there is probably a setting you can turn on to make it an error to pass null to something annotated as non-null."}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696942885,"creation_date":1696942055,"answer_id":77265931,"question_id":77265802,"body_markdown":"The documentation for the method you linked says:\r\n\r\n&gt; **source** the source object to convert, which must be an instance of `S` (never `null`)\r\n\r\nSo `S` is required to be non-nullable.\r\n\r\n----\r\nThe reason Kotlin seems to &quot;know&quot; that the parameter must be non-nullable is likely from nullability annotations. Kotlin supports [several nullability annotations for Java](https://kotlinlang.org/docs/java-interop.html#nullability-annotations). Spring&#39;s nullability annotations are [meta-annotated using JSR-305](https://docs.spring.io/spring-framework/reference/core/null-safety.html#jsr-305-meta-annotations), so they are supported.\r\n\r\nAlthough this method doesn&#39;t mark `source` as `@NonNull`, I think the whole package is marked with non-nullability as the default [here](https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/package-info.java).","title":"Cannot implement java interface in kotlin due to nullabilty","body":"<p>The documentation for the method you linked says:</p>\n<blockquote>\n<p><strong>source</strong> the source object to convert, which must be an instance of <code>S</code> (never <code>null</code>)</p>\n</blockquote>\n<p>So <code>S</code> is required to be non-nullable.</p>\n<hr />\n<p>The reason Kotlin seems to &quot;know&quot; that the parameter must be non-nullable is likely from nullability annotations. Kotlin supports <a href=\"https://kotlinlang.org/docs/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">several nullability annotations for Java</a>. Spring's nullability annotations are <a href=\"https://docs.spring.io/spring-framework/reference/core/null-safety.html#jsr-305-meta-annotations\" rel=\"nofollow noreferrer\">meta-annotated using JSR-305</a>, so they are supported.</p>\n<p>Although this method doesn't mark <code>source</code> as <code>@NonNull</code>, I think the whole package is marked with non-nullability as the default <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/package-info.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":3587403,"reputation":511,"user_id":3623593,"accept_rate":50,"display_name":"videokojot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77265931,"answer_count":1,"score":1,"last_activity_date":1696942885,"creation_date":1696941061,"question_id":77265802,"body_markdown":"I cannot implement this java interface in kotlin.\r\n\r\n``` kotlin\r\nimport org.springframework.core.convert.converter.Converter\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass FeatureFlagConverter : Converter&lt;String?, FeatureFlags&gt; {\r\n    override fun convert(source: String?): FeatureFlags = FeatureFlags(source ?: &quot;&quot;)\r\n}\r\n```\r\n\r\nCompiler fails with following:\r\n\r\n&gt; Class &#39;FeatureFlagConverter&#39; is not abstract and does not implement abstract member public abstract fun convert(source: String): FeatureFlags? defined in org.springframework.core.convert.converter.Converter\r\n\r\n**Why?** The interface is pure java interface (https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/convert/converter/Converter.java) so the `source` parameter in `convert` method might be null, and there is no anotation to hint that it is not null.\r\n\r\n*It helps to remove the nullabilty around String. But I do not want to do that since it is Java interface and the `source` parameter in `convert` method might be null. And some java caller might pass null here.*","title":"Cannot implement java interface in kotlin due to nullabilty","body":"<p>I cannot implement this java interface in kotlin.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.core.convert.converter.Converter\nimport org.springframework.stereotype.Component\n\n@Component\nclass FeatureFlagConverter : Converter&lt;String?, FeatureFlags&gt; {\n    override fun convert(source: String?): FeatureFlags = FeatureFlags(source ?: &quot;&quot;)\n}\n</code></pre>\n<p>Compiler fails with following:</p>\n<blockquote>\n<p>Class 'FeatureFlagConverter' is not abstract and does not implement abstract member public abstract fun convert(source: String): FeatureFlags? defined in org.springframework.core.convert.converter.Converter</p>\n</blockquote>\n<p><strong>Why?</strong> The interface is pure java interface (<a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/convert/converter/Converter.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/convert/converter/Converter.java</a>) so the <code>source</code> parameter in <code>convert</code> method might be null, and there is no anotation to hint that it is not null.</p>\n<p><em>It helps to remove the nullabilty around String. But I do not want to do that since it is Java interface and the <code>source</code> parameter in <code>convert</code> method might be null. And some java caller might pass null here.</em></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1585725644,"post_id":60965473,"comment_id":107859520,"body_markdown":"Duplicate the Run Configuration and make the changes in the duplicate.","body":"Duplicate the Run Configuration and make the changes in the duplicate."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1585725650,"post_id":60965473,"comment_id":107859524,"body_markdown":"surrounding it in double quotes may work and remove the dash","body":"surrounding it in double quotes may work and remove the dash"},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1585725778,"post_id":60965473,"comment_id":107859585,"body_markdown":"@greg-449 you mean create a Run Configuration without these argument instead of erasing? If that is what you mean, I am looking for something like commenting feature.","body":"@greg-449 you mean create a Run Configuration without these argument instead of erasing? If that is what you mean, I am looking for something like commenting feature."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1585725814,"post_id":60965473,"comment_id":107859608,"body_markdown":"Yes, that is what I mean. There is no commenting feature","body":"Yes, that is what I mean. There is no commenting feature"},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1585725934,"post_id":60965473,"comment_id":107859659,"body_markdown":"@JorgeCampos Tried with the way you said. It doesn&#39;t work.","body":"@JorgeCampos Tried with the way you said. It doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1585727090,"creation_date":1585727090,"answer_id":60965881,"question_id":60965473,"body_markdown":"I do not believe there is a way to do that.\r\n\r\nHowever, for `-D` options you could use the following work-around:\r\n\r\n&gt; change `-Dlog4j.debug=true` to `-DXXlog4j.debug=true` or similar\r\n\r\nA system property whose name is not recognized by anything should simply be ignored.\r\n\r\n&lt;sup&gt;(Hypothetically, an application *could* iterate all of the properties and do something with them all ... beyond simply printing / displaying them.  But that is pretty contrived / perverse.)&lt;/sup&gt;\r\n\r\nUnfortunately this approach won&#39;t work for other options.  In general, unrecognized JVM command line options will cause errors.","title":"Is there any way to comment/uncomment the VM arguments in eclipse?","body":"<p>I do not believe there is a way to do that.</p>\n\n<p>However, for <code>-D</code> options you could use the following work-around:</p>\n\n<blockquote>\n  <p>change <code>-Dlog4j.debug=true</code> to <code>-DXXlog4j.debug=true</code> or similar</p>\n</blockquote>\n\n<p>A system property whose name is not recognized by anything should simply be ignored.</p>\n\n<p><sup>(Hypothetically, an application <em>could</em> iterate all of the properties and do something with them all ... beyond simply printing / displaying them.  But that is pretty contrived / perverse.)</sup></p>\n\n<p>Unfortunately this approach won't work for other options.  In general, unrecognized JVM command line options will cause errors.</p>\n"},{"comments":[{"owner":{"account_id":1039023,"reputation":416,"user_id":1045493,"display_name":"LintfordPickle"},"score":0,"creation_date":1697131403,"post_id":77265913,"comment_id":136244457,"body_markdown":"I think the asker means is there anyway to comment out the VM arguments so that they aren&#39;t parsed when you start the JVM.","body":"I think the asker means is there anyway to comment out the VM arguments so that they aren&#39;t parsed when you start the JVM."}],"tags":[],"owner":{"account_id":22903011,"reputation":105,"user_id":17041460,"display_name":"Thend"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696941877,"creation_date":1696941877,"answer_id":77265913,"question_id":60965473,"body_markdown":"Generally, I used to comment the following way (won`t be printed during runtime):\r\n\r\n    -Dcomment=&lt;comment&gt;\r\n\r\nHere, `&lt;comment&gt;` can be anything, but do not use spaces. Use dot (.) instead. For example:\r\n\r\n    -Dcomment=this.is.my.comment\r\n\r\nThis works in Eclipse as well as in IntelliJ VM arguments.","title":"Is there any way to comment/uncomment the VM arguments in eclipse?","body":"<p>Generally, I used to comment the following way (won`t be printed during runtime):</p>\n<pre><code>-Dcomment=&lt;comment&gt;\n</code></pre>\n<p>Here, <code>&lt;comment&gt;</code> can be anything, but do not use spaces. Use dot (.) instead. For example:</p>\n<pre><code>-Dcomment=this.is.my.comment\n</code></pre>\n<p>This works in Eclipse as well as in IntelliJ VM arguments.</p>\n"}],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60965881,"answer_count":2,"score":4,"last_activity_date":1696941877,"creation_date":1585725473,"question_id":60965473,"body_markdown":"[![Run Configuration from Eclipse][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7U0Fz.png\r\n\r\nFor example, Here I just want to comment this whenever I do not need this argument. I don&#39;t want to erase this. So, Is there any way to comment/uncomment the VM arguments in eclipse?","title":"Is there any way to comment/uncomment the VM arguments in eclipse?","body":"<p><a href=\"https://i.stack.imgur.com/7U0Fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7U0Fz.png\" alt=\"Run Configuration from Eclipse\"></a></p>\n\n<p>For example, Here I just want to comment this whenever I do not need this argument. I don't want to erase this. So, Is there any way to comment/uncomment the VM arguments in eclipse?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696942529,"post_id":77265905,"comment_id":136214792,"body_markdown":"It isn&#39;t empty, you aren&#39;t subscribing to the mono tha tis being returned effectifly making it do, nothing. Your code is simply wrong. You are writing reactive code with an imperative mindset.","body":"It isn&#39;t empty, you aren&#39;t subscribing to the mono tha tis being returned effectifly making it do, nothing. Your code is simply wrong. You are writing reactive code with an imperative mindset."},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1696943663,"post_id":77265905,"comment_id":136215069,"body_markdown":"@M.Deinum what about the   `exchange.getMultipartData().subscribe()` snippet? Even using `subscribe` function I still not subscribing?","body":"@M.Deinum what about the   <code>exchange.getMultipartData().subscribe()</code> snippet? Even using <code>subscribe</code> function I still not subscribing?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696944146,"post_id":77265905,"comment_id":136215154,"body_markdown":"It is but you aren&#39;t subscribing the `WebClient` call, making it again effectivly do nothing.","body":"It is but you aren&#39;t subscribing the <code>WebClient</code> call, making it again effectivly do nothing."},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1697020265,"post_id":77265905,"comment_id":136226000,"body_markdown":"@M.Deinum I&#39;ll be glad if you could provide an example in an answer on this question. I don&#39;t get the &quot;you aren&#39;t subscribing the web client&quot; part.","body":"@M.Deinum I&#39;ll be glad if you could provide an example in an answer on this question. I don&#39;t get the &quot;you aren&#39;t subscribing the web client&quot; part."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697021607,"post_id":77265905,"comment_id":136226259,"body_markdown":"The last method in your `subscribe` is `.bodyToFlux(DataBuffer.class)` which returns a `Flux`. This is a reactive type and it doesn&#39;t do anything until you `subscribe()` to it. So while you have a subscribe method effectively the code you call in there doesn&#39;t do anything.","body":"The last method in your <code>subscribe</code> is <code>.bodyToFlux(DataBuffer.class)</code> which returns a <code>Flux</code>. This is a reactive type and it doesn&#39;t do anything until you <code>subscribe()</code> to it. So while you have a subscribe method effectively the code you call in there doesn&#39;t do anything."}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696941835,"creation_date":1696941835,"question_id":77265905,"body_markdown":"I have a Java 11, Spring Boot 2.7.16 Only with Webflux and Netty (Without starter web i.e without tomcat) application.\r\n\r\nI&#39;m trying to get the multipart form data in a WebFilter and post it to an application.\r\n\r\n**NO. I cannot build a controller with @RequestPart. This is a requirement of my solution.**\r\n\r\nThe problem is that `ServerWebExchange.getFormData()` or `ServerWebExchange.getMultipartData()` is allways empty, even sending a request with multipart form...\r\n\r\nThe code:\r\n\r\n```java\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class WebInterceptor implements WebFilter {\r\n\r\n    private final SecurityService securityService;\r\n    private final WebClient webClient;\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\r\n\r\n        if(exchange.getRequest().getHeaders().getContentType().isCompatibleWith(MediaType.MULTIPART_FORM_DATA)){\r\n       \r\n\r\n            var token = securityService.doSomeThing(exchange.getRequest().getHeaders().get(&quot;Authorization&quot;).get(0));\r\n\r\n// Don&#39;t print nothing\r\n            exchange.getMultipartData()\r\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\r\n\r\n// Don&#39;t print nothing\r\n            exchange.getFormData()\r\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\r\n\r\n          \r\n// Never post :/\r\n            exchange.getMultipartData().subscribe(value -&gt; {\r\n\r\n                webClient.post()\r\n                        .uri(URI.create(token.getUrl() + &quot;?&quot; +  exchange.getRequest().getURI()  ))\r\n                        .headers(headers -&gt; headers.setAll(token.getHeaders(exchange.getRequest().getHeaders().getContentType().toString())))\r\n                        .body(BodyInserters.fromMultipartData(value))\r\n                        .retrieve()\r\n                        .bodyToFlux(DataBuffer.class);\r\n            });\r\n\r\n            return Mono.empty();\r\n\r\n        }else return chain.filter(exchange);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThis is the request:\r\n\r\n```bash\r\ncurl --request POST \\\r\n  --url &#39;localhost:8080/uri&#39; \\\r\n  --header &#39;Authorization: Bearer token&#39; \\\r\n  --header &#39;Content-Type: multipart/form-data&#39; \\\r\n  --form &#39;arquivo=@/home/me/Pictures/Screenshots/Screenshot from 2023-10-10 08-37-37.png&#39;\r\n```\r\n\r\nThe documentation says:\r\n\r\n -  `ServerWebExchange.getMultipartData()` returns value if content-type is multipart-form or empty otherwise.\r\n - `ServerWebExchange.getFormData()` returs value if content-type is application/x-www-form-urlencoded or empty otherwise.\r\n\r\nWhat&#39;s the problem? Why both `ServerWebExchange.getFormData()` or `ServerWebExchange.getMultipartData()` is allways empty?\r\n\r\n","title":"WebFlux WebFilter get Multipart Form Data - Allways empty - Spring Boot","body":"<p>I have a Java 11, Spring Boot 2.7.16 Only with Webflux and Netty (Without starter web i.e without tomcat) application.</p>\n<p>I'm trying to get the multipart form data in a WebFilter and post it to an application.</p>\n<p><strong>NO. I cannot build a controller with @RequestPart. This is a requirement of my solution.</strong></p>\n<p>The problem is that <code>ServerWebExchange.getFormData()</code> or <code>ServerWebExchange.getMultipartData()</code> is allways empty, even sending a request with multipart form...</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\n@RequiredArgsConstructor\npublic class WebInterceptor implements WebFilter {\n\n    private final SecurityService securityService;\n    private final WebClient webClient;\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n\n        if(exchange.getRequest().getHeaders().getContentType().isCompatibleWith(MediaType.MULTIPART_FORM_DATA)){\n       \n\n            var token = securityService.doSomeThing(exchange.getRequest().getHeaders().get(&quot;Authorization&quot;).get(0));\n\n// Don't print nothing\n            exchange.getMultipartData()\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\n\n// Don't print nothing\n            exchange.getFormData()\n                    .doOnNext(data -&gt; System.out.println(data.toSingleValueMap()));\n\n          \n// Never post :/\n            exchange.getMultipartData().subscribe(value -&gt; {\n\n                webClient.post()\n                        .uri(URI.create(token.getUrl() + &quot;?&quot; +  exchange.getRequest().getURI()  ))\n                        .headers(headers -&gt; headers.setAll(token.getHeaders(exchange.getRequest().getHeaders().getContentType().toString())))\n                        .body(BodyInserters.fromMultipartData(value))\n                        .retrieve()\n                        .bodyToFlux(DataBuffer.class);\n            });\n\n            return Mono.empty();\n\n        }else return chain.filter(exchange);\n\n    }\n}\n</code></pre>\n<p>This is the request:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --request POST \\\n  --url 'localhost:8080/uri' \\\n  --header 'Authorization: Bearer token' \\\n  --header 'Content-Type: multipart/form-data' \\\n  --form 'arquivo=@/home/me/Pictures/Screenshots/Screenshot from 2023-10-10 08-37-37.png'\n</code></pre>\n<p>The documentation says:</p>\n<ul>\n<li><code>ServerWebExchange.getMultipartData()</code> returns value if content-type is multipart-form or empty otherwise.</li>\n<li><code>ServerWebExchange.getFormData()</code> returs value if content-type is application/x-www-form-urlencoded or empty otherwise.</li>\n</ul>\n<p>What's the problem? Why both <code>ServerWebExchange.getFormData()</code> or <code>ServerWebExchange.getMultipartData()</code> is allways empty?</p>\n"},{"tags":["java","uri","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696941359,"creation_date":1422336208,"answer_id":28163746,"question_id":28163528,"body_markdown":"It looks like you are parsing HTML from String, not from URL. Because of that jsoup can&#39;t know from which URL this HTML comes from, so it can&#39;t create absolute path.\r\n\r\nTo set this URL for Document you can parse it using [`Jsoup.parse(String html, String baseUri)`][1] version, like\r\n\r\n\tString url = &quot;http://server/pages/document.htlm&quot;;\r\n\tString text = &quot;&lt;img src = &#39;../images/image_name1.jpg&#39;/&gt;&lt;img src = &#39;../images/image_name2.jpg&#39;/&gt;&#39;&quot;;\r\n\tDocument doc = Jsoup.parse(text, url);\r\n\tElements images = doc.getElementsByTag(&quot;img&quot;);\r\n\tfor (Element image : images){\r\n\t\tSystem.out.println(image.attr(&quot;src&quot;)+&quot; -&gt; &quot;+image.attr(&quot;abs:src&quot;));\r\n\t}\r\n\r\nOutput:\r\n\r\n    ../images/image_name1.jpg -&gt; http://server/images/image_name1.jpg\r\n    ../images/image_name2.jpg -&gt; http://server/images/image_name2.jpg\r\n\r\n\r\n---\r\n\r\nOther option would be letting Jsoup parse page directly by supplying URL instead of String with HTML\r\n\r\n    Document doc = Jsoup.connect(&quot;http://example.com&quot;).get();\r\n\r\nThis way Document will know from which URL it came, so it will be able to create absolute paths.\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/Jsoup.html#parse(java.lang.String,%20java.lang.String)","title":"Jsoup: null result in absUrl (abs:)","body":"<p>It looks like you are parsing HTML from String, not from URL. Because of that jsoup can't know from which URL this HTML comes from, so it can't create absolute path.</p>\n<p>To set this URL for Document you can parse it using <a href=\"http://jsoup.org/apidocs/org/jsoup/Jsoup.html#parse(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>Jsoup.parse(String html, String baseUri)</code></a> version, like</p>\n<pre><code>String url = &quot;http://server/pages/document.htlm&quot;;\nString text = &quot;&lt;img src = '../images/image_name1.jpg'/&gt;&lt;img src = '../images/image_name2.jpg'/&gt;'&quot;;\nDocument doc = Jsoup.parse(text, url);\nElements images = doc.getElementsByTag(&quot;img&quot;);\nfor (Element image : images){\n    System.out.println(image.attr(&quot;src&quot;)+&quot; -&gt; &quot;+image.attr(&quot;abs:src&quot;));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>../images/image_name1.jpg -&gt; http://server/images/image_name1.jpg\n../images/image_name2.jpg -&gt; http://server/images/image_name2.jpg\n</code></pre>\n<hr />\n<p>Other option would be letting Jsoup parse page directly by supplying URL instead of String with HTML</p>\n<pre><code>Document doc = Jsoup.connect(&quot;http://example.com&quot;).get();\n</code></pre>\n<p>This way Document will know from which URL it came, so it will be able to create absolute paths.</p>\n"}],"owner":{"account_id":5683053,"reputation":15,"user_id":4493488,"display_name":"Vladislav Zelenin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28163746,"answer_count":1,"score":1,"last_activity_date":1696941359,"creation_date":1422334738,"question_id":28163528,"body_markdown":"I tried to make a image links downloader with jsoup. I have made a downloader HTML code part, and when I have done a parse part, I recognized, that sometimes links to images appeared without main part. So I found absUrl solution, but by some reasons it did not work (it gave me null). So I tried use `uri.resolve()`, but it gave me unchanged result. So now I do not know how to solve it. I attached part of my code, that responsible for parsing ant writing url to string:   \t\r\n\r\n\r\n\tpublic static String finalcode(String textin) throws Exception {\r\n\t\tString text = source(textin);\r\n\t\tDocument doc = Jsoup.parse(text);\r\n\t\tElements images = doc.getElementsByTag(&quot;img&quot;);\r\n\t\tString Simages = images.toString();\r\n\t\tint Limages = countLines(Simages);\r\n\t\tStringBuilder src = new StringBuilder();\r\n\t\twhile (Limages &gt; 0) {\r\n\t\t\tLimages--;\r\n\t\t\tElement image = images.get(Limages);\r\n\t\t\tString href = image.attr(&quot;src&quot;);\r\n\t\t\tsrc.append(href);\r\n\t\t\tsrc.append(&quot;\\n&quot;);\r\n\t\t}\r\n\t\tString result = src.toString();\r\n\t\treturn result;\r\n\t}","title":"Jsoup: null result in absUrl (abs:)","body":"<p>I tried to make a image links downloader with jsoup. I have made a downloader HTML code part, and when I have done a parse part, I recognized, that sometimes links to images appeared without main part. So I found absUrl solution, but by some reasons it did not work (it gave me null). So I tried use <code>uri.resolve()</code>, but it gave me unchanged result. So now I do not know how to solve it. I attached part of my code, that responsible for parsing ant writing url to string:     </p>\n\n<pre><code>public static String finalcode(String textin) throws Exception {\n    String text = source(textin);\n    Document doc = Jsoup.parse(text);\n    Elements images = doc.getElementsByTag(\"img\");\n    String Simages = images.toString();\n    int Limages = countLines(Simages);\n    StringBuilder src = new StringBuilder();\n    while (Limages &gt; 0) {\n        Limages--;\n        Element image = images.get(Limages);\n        String href = image.attr(\"src\");\n        src.append(href);\n        src.append(\"\\n\");\n    }\n    String result = src.toString();\n    return result;\n}\n</code></pre>\n"},{"tags":["java","scala","deeplearning4j","nd4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1513380915,"creation_date":1513380915,"answer_id":47841153,"question_id":47839617,"body_markdown":".data() gives you a straight row. \r\nSee: http://nd4j.org/tensor\r\n\r\nThe shape of an array is just a view of the underlying databuffer.\r\nI typically don&#39;t recommend doing what you&#39;re trying to do without good reason. All of the data is stored off heap. That copy is expensive.\r\n\r\nOn heap is bad for doing any kind of math. The only use case here is integrations. I would suggest operating on the arrays directly as much as possible. Everything from serialization to indexing is handled for you.\r\n\r\nIf you *really* need it for an integration of some kind, use guava and you can do it in one line:\r\nDoubles.asList(arr.data().dup().asDouble());\r\n\r\nwhere arr is your ndarray to operate on.","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>.data() gives you a straight row. \nSee: <a href=\"http://nd4j.org/tensor\" rel=\"nofollow noreferrer\">http://nd4j.org/tensor</a></p>\n\n<p>The shape of an array is just a view of the underlying databuffer.\nI typically don't recommend doing what you're trying to do without good reason. All of the data is stored off heap. That copy is expensive.</p>\n\n<p>On heap is bad for doing any kind of math. The only use case here is integrations. I would suggest operating on the arrays directly as much as possible. Everything from serialization to indexing is handled for you.</p>\n\n<p>If you <em>really</em> need it for an integration of some kind, use guava and you can do it in one line:\nDoubles.asList(arr.data().dup().asDouble());</p>\n\n<p>where arr is your ndarray to operate on.</p>\n"},{"tags":[],"owner":{"account_id":4736442,"reputation":85,"user_id":3921643,"display_name":"syenmesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546355044,"creation_date":1546355044,"answer_id":53996504,"question_id":47839617,"body_markdown":"Yeah, it turns out `.data()` with ND4J is not something you should really use for anything very serious. This is a bit of a shame for what I was trying to do: writing unit tests that don&#39;t really depend on ND4J and how it internally handles data.\r\n\r\nAs another example of the issue here, consider this code:\r\n\r\n    import org.nd4j.linalg.factory.Nd4j\r\n\r\n    object foo extends App {\r\n\r\n      val x = Nd4j.create(Array[Double](1,2, 3,4, 5,6), Array(3,2))\r\n      // 1,2\r\n      // 3,4\r\n      // 5,6\r\n      println(x)\r\n      val xArr = x.data().asDouble().toList\r\n      // 1,2,  3,4,  5,6 - row-wise\r\n      println(xArr)\r\n\r\n      val w = Nd4j.create(Array[Double](10,20,30, 40,50,60), Array(2,3))\r\n      // 10,20,30\r\n      // 40,50,60\r\n      println(w)\r\n      val wArr = w.data().asDouble().toList\r\n      // 10,20,30,  40,50,60 - row-wise\r\n      println(wArr)\r\n\r\n      val wx = w.mmul(x)\r\n      /*\r\n       *  10,20,30   1,2     10*1+20*3+30*5  10*2+20*4+30*6      220  280\r\n       *  40,50,60   3,4  =  40*1+50*3+60*5  40*2+50*4+60*6  =   490  640\r\n       *             5,6\r\n       */\r\n      println(wx)\r\n      val wxArr = wx.data().asDouble().toList\r\n      // 220, 490,  280, 640 - column-wise\r\n      println(wxArr)\r\n      val wxTArr = wx.transpose().data().asDouble().toList\r\n      // 220, 490,  280, 640 - still column-wise\r\n      println(wxTArr)\r\n      val wxTIArr = wx.transposei().data().asDouble().toList\r\n      // 220, 490,  280, 640 - still column-wise\r\n      println(wxTIArr)\r\n\r\n    }\r\n\r\nAs you can see ND4J basically does what it wants internally, and when you use `.data()` it will simply give you its internal representation; this representation isn&#39;t altered by any transposes or whatever else you ask it to do, since those don&#39;t actually move the underlying data around.\r\n\r\nThis is all fine, but what I wanted to do was basically: make a Scala list of ordinary doubles; give that to my custom library thing; ask library to do its thing; take its output and convert that to another Scala list of doubles; verify that these doubles are what I expected it to calculate. Instead, what I&#39;m having to do is put the expected stuff in an ND4J array so I can properly compare that to the actual output, so my tests now depend on ND4J, which is an internal technical choice of my library.\r\n\r\nAnyway, this is a relatively minor complaint and the lesson is, avoid `.data()` and instead if you&#39;re using ND4J, use it throughout (even if you think that a bit inelegant).\r\n","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>Yeah, it turns out <code>.data()</code> with ND4J is not something you should really use for anything very serious. This is a bit of a shame for what I was trying to do: writing unit tests that don't really depend on ND4J and how it internally handles data.</p>\n\n<p>As another example of the issue here, consider this code:</p>\n\n<pre><code>import org.nd4j.linalg.factory.Nd4j\n\nobject foo extends App {\n\n  val x = Nd4j.create(Array[Double](1,2, 3,4, 5,6), Array(3,2))\n  // 1,2\n  // 3,4\n  // 5,6\n  println(x)\n  val xArr = x.data().asDouble().toList\n  // 1,2,  3,4,  5,6 - row-wise\n  println(xArr)\n\n  val w = Nd4j.create(Array[Double](10,20,30, 40,50,60), Array(2,3))\n  // 10,20,30\n  // 40,50,60\n  println(w)\n  val wArr = w.data().asDouble().toList\n  // 10,20,30,  40,50,60 - row-wise\n  println(wArr)\n\n  val wx = w.mmul(x)\n  /*\n   *  10,20,30   1,2     10*1+20*3+30*5  10*2+20*4+30*6      220  280\n   *  40,50,60   3,4  =  40*1+50*3+60*5  40*2+50*4+60*6  =   490  640\n   *             5,6\n   */\n  println(wx)\n  val wxArr = wx.data().asDouble().toList\n  // 220, 490,  280, 640 - column-wise\n  println(wxArr)\n  val wxTArr = wx.transpose().data().asDouble().toList\n  // 220, 490,  280, 640 - still column-wise\n  println(wxTArr)\n  val wxTIArr = wx.transposei().data().asDouble().toList\n  // 220, 490,  280, 640 - still column-wise\n  println(wxTIArr)\n\n}\n</code></pre>\n\n<p>As you can see ND4J basically does what it wants internally, and when you use <code>.data()</code> it will simply give you its internal representation; this representation isn't altered by any transposes or whatever else you ask it to do, since those don't actually move the underlying data around.</p>\n\n<p>This is all fine, but what I wanted to do was basically: make a Scala list of ordinary doubles; give that to my custom library thing; ask library to do its thing; take its output and convert that to another Scala list of doubles; verify that these doubles are what I expected it to calculate. Instead, what I'm having to do is put the expected stuff in an ND4J array so I can properly compare that to the actual output, so my tests now depend on ND4J, which is an internal technical choice of my library.</p>\n\n<p>Anyway, this is a relatively minor complaint and the lesson is, avoid <code>.data()</code> and instead if you're using ND4J, use it throughout (even if you think that a bit inelegant).</p>\n"},{"tags":[],"owner":{"account_id":15207853,"reputation":11,"user_id":10973652,"display_name":"zeibou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696940917,"creation_date":1696940917,"answer_id":77265783,"question_id":47839617,"body_markdown":"Using .data() indeed seems risky without checking the ordering + shape of the NDArray.\r\n&#39;c&#39; stands for row by row, and &#39;f&#39; (fortran) stands for column by column\r\n\r\nYou can enforce the ordering when creating an array:\r\n\r\n    INDArray array = Nd4j.create(new double[] {1,2,3,4,5,6}, new  int[]{3,2}, &#39;f&#39;);\r\n\r\nAnd you can enforce the ordering when retrieving the double[] flattened array:\r\n\r\n    double[] data = Nd4j.toFlattened(&#39;f&#39;, array).toDoubleVector();\r\n\r\ncf. reference : https://deeplearning4j.konduit.ai/nd4j/reference","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>Using .data() indeed seems risky without checking the ordering + shape of the NDArray.\n'c' stands for row by row, and 'f' (fortran) stands for column by column</p>\n<p>You can enforce the ordering when creating an array:</p>\n<pre><code>INDArray array = Nd4j.create(new double[] {1,2,3,4,5,6}, new  int[]{3,2}, 'f');\n</code></pre>\n<p>And you can enforce the ordering when retrieving the double[] flattened array:</p>\n<pre><code>double[] data = Nd4j.toFlattened('f', array).toDoubleVector();\n</code></pre>\n<p>cf. reference : <a href=\"https://deeplearning4j.konduit.ai/nd4j/reference\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/nd4j/reference</a></p>\n"}],"owner":{"account_id":4736442,"reputation":85,"user_id":3921643,"display_name":"syenmesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47841153,"answer_count":3,"score":0,"last_activity_date":1696940917,"creation_date":1513370587,"question_id":47839617,"body_markdown":"Consider the following code, which uses the [ND4J library](https://nd4j.org/) to create a simpler version of [the &quot;moons&quot; test data set](https://github.com/scikit-learn/scikit-learn/blob/a24c8b46/sklearn/datasets/samples_generator.py#L639):\r\n\r\n    val n = 100\r\n    val n1: Int = n/2\r\n    val n2: Int = n-n1\r\n    val outerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n1)))\r\n    val outerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n1)))\r\n    val innerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\r\n    val innerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\r\n    val X: INDArray = Nd4j.vstack(\r\n      Nd4j.concat(1, outerX, innerX), // 1 x n\r\n      Nd4j.concat(1, outerY, innerY)  // 1 x n\r\n    ) // 2 x n\r\n    val y: INDArray = Nd4j.hstack(\r\n      Nd4j.zeros(n1), // 1 x n1\r\n      Nd4j.ones(n2)   // 1 x n2\r\n    ) // 1 x n\r\n    println(s&quot;# y shape: ${y.shape().toList}&quot;)                        // 1x100\r\n    println(s&quot;# y data length: ${y.data().length()}&quot;)                 // 100\r\n    println(s&quot;# X shape: ${X.shape().toList}&quot;)                        // 2x100\r\n    println(s&quot;# X row 0 shape: ${X.getRow(0).shape().toList}&quot;)        // 1x100\r\n    println(s&quot;# X row 1 shape: ${X.getRow(1).shape().toList}&quot;)        // 1x100\r\n    println(s&quot;# X row 0 data length: ${X.getRow(0).data().length()}&quot;) // 200    &lt;- !\r\n    println(s&quot;# X row 1 data length: ${X.getRow(1).data().length()}&quot;) // 100\r\n\r\nOn the second to last line, `X.getRow(0).data().length()` is, surprisingly, 200 not 100. On inspection this is because the structure returned by `data()` contains the entire matrix, i.e. both rows, concatenated.\r\n\r\nHow do I get just the actual first row of the X matrix into a Java (or Scala) `List`? I could take just the first 100 items of the 200-element &quot;first row&quot;, but that doesn&#39;t seem very elegant.\r\n","title":"ND4J arrays &amp; their shapes: getting data into a list","body":"<p>Consider the following code, which uses the <a href=\"https://nd4j.org/\" rel=\"nofollow noreferrer\">ND4J library</a> to create a simpler version of <a href=\"https://github.com/scikit-learn/scikit-learn/blob/a24c8b46/sklearn/datasets/samples_generator.py#L639\" rel=\"nofollow noreferrer\">the \"moons\" test data set</a>:</p>\n\n<pre><code>val n = 100\nval n1: Int = n/2\nval n2: Int = n-n1\nval outerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n1)))\nval outerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n1)))\nval innerX = Nd4j.getExecutioner.execAndReturn(new Cos(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\nval innerY = Nd4j.getExecutioner.execAndReturn(new Sin(Nd4j.linspace(0, Math.PI, n2))).mul(-1).add(1)\nval X: INDArray = Nd4j.vstack(\n  Nd4j.concat(1, outerX, innerX), // 1 x n\n  Nd4j.concat(1, outerY, innerY)  // 1 x n\n) // 2 x n\nval y: INDArray = Nd4j.hstack(\n  Nd4j.zeros(n1), // 1 x n1\n  Nd4j.ones(n2)   // 1 x n2\n) // 1 x n\nprintln(s\"# y shape: ${y.shape().toList}\")                        // 1x100\nprintln(s\"# y data length: ${y.data().length()}\")                 // 100\nprintln(s\"# X shape: ${X.shape().toList}\")                        // 2x100\nprintln(s\"# X row 0 shape: ${X.getRow(0).shape().toList}\")        // 1x100\nprintln(s\"# X row 1 shape: ${X.getRow(1).shape().toList}\")        // 1x100\nprintln(s\"# X row 0 data length: ${X.getRow(0).data().length()}\") // 200    &lt;- !\nprintln(s\"# X row 1 data length: ${X.getRow(1).data().length()}\") // 100\n</code></pre>\n\n<p>On the second to last line, <code>X.getRow(0).data().length()</code> is, surprisingly, 200 not 100. On inspection this is because the structure returned by <code>data()</code> contains the entire matrix, i.e. both rows, concatenated.</p>\n\n<p>How do I get just the actual first row of the X matrix into a Java (or Scala) <code>List</code>? I could take just the first 100 items of the 200-element \"first row\", but that doesn't seem very elegant.</p>\n"},{"tags":["java","gradle","build","build.gradle","gradlew"],"owner":{"account_id":17050088,"reputation":11,"user_id":12335937,"display_name":"Bharath N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696940596,"creation_date":1696940596,"question_id":77265747,"body_markdown":"I tried to search this error clue, the closest i get this gradle forum where they discuss about enforcePlatform to be possible solution but we are no using any &quot;platform&quot; in our build gradle scripts.\r\nAnd every time i run any gradlew command i get this message and build takes for hours which normally it completes in few minutes.\r\n\r\nAny leads or clue are much appreciated. Thank you!!\r\n\r\nthis the gradlew version\r\n\r\n\r\n------------------------------------------------------------\r\nGradle 6.8.3\r\n------------------------------------------------------------\r\n\r\nBuild time:   2021-02-22 16:13:28 UTC\r\nRevision:     9e26b4a9ebb910eaa1b8da8ff8575e514bc61c78\r\n\r\nKotlin:       1.4.20\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\r\nJVM:          11.0.19 (Eclipse Adoptium 11.0.19+7)\r\nOS:           Mac OS X 14.0 aarch64\r\n\r\n```\r\nThe dependency resolution engine wasn&#39;t able to find a version of module org.apache.httpcomponents:httpasyncclient which satisfied all requirements because the graph wasn&#39;t stable enough. The highest version was selected in order to stabilize selection.\r\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\r\nThe dependency resolution engine wasn&#39;t able to find a version of module org.apache.httpcomponents:httpcore-nio which satisfied all requirements because the graph wasn&#39;t stable enough. The highest version was selected in order to stabilize selection.\r\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\r\n```\r\n\r\nhttps://discuss.gradle.org/t/how-do-you-resolve-dependency-resolution-engine-wasnt-able-to-find-a-version-warning/43872\r\nchecked above forum not helpful.","title":"Gradlew dependeny resolution stuck for ever","body":"<p>I tried to search this error clue, the closest i get this gradle forum where they discuss about enforcePlatform to be possible solution but we are no using any &quot;platform&quot; in our build gradle scripts.\nAnd every time i run any gradlew command i get this message and build takes for hours which normally it completes in few minutes.</p>\n<p>Any leads or clue are much appreciated. Thank you!!</p>\n<p>this the gradlew version</p>\n<hr />\n<h2>Gradle 6.8.3</h2>\n<p>Build time:   2021-02-22 16:13:28 UTC\nRevision:     9e26b4a9ebb910eaa1b8da8ff8575e514bc61c78</p>\n<p>Kotlin:       1.4.20\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.9 compiled on September 27 2020\nJVM:          11.0.19 (Eclipse Adoptium 11.0.19+7)\nOS:           Mac OS X 14.0 aarch64</p>\n<pre><code>The dependency resolution engine wasn't able to find a version of module org.apache.httpcomponents:httpasyncclient which satisfied all requirements because the graph wasn't stable enough. The highest version was selected in order to stabilize selection.\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\nThe dependency resolution engine wasn't able to find a version of module org.apache.httpcomponents:httpcore-nio which satisfied all requirements because the graph wasn't stable enough. The highest version was selected in order to stabilize selection.\nFeatures available in a stable graph like version alignment are not guaranteed in this case.\n</code></pre>\n<p><a href=\"https://discuss.gradle.org/t/how-do-you-resolve-dependency-resolution-engine-wasnt-able-to-find-a-version-warning/43872\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/how-do-you-resolve-dependency-resolution-engine-wasnt-able-to-find-a-version-warning/43872</a>\nchecked above forum not helpful.</p>\n"},{"tags":["java","spring-boot","github","github-actions"],"owner":{"account_id":28730679,"reputation":1,"user_id":22002709,"display_name":"Mert İzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696940386,"creation_date":1696940386,"question_id":77265724,"body_markdown":"I have a workflow to do CI and CD work, but the problem is that my jar file, which is compiled and packaged during CI, cannot be found in the packaged folder when it will be built. I think this is because two workflows run in separate work environments, and the operation performed in one of them is deleted after the job is completed. So, my main problem here is that my worfklows do not work synchronously, and the CD must continue from where the CI process ends. By the way, my project is a spring boot project. I hope I could express myself well.[[[[enter image description here](https://i.stack.imgur.com/YsyZl.png)](https://i.stack.imgur.com/M5c3b.png)](https://i.stack.imgur.com/GTm3g.png)](https://i.stack.imgur.com/he0mA.png)\r\n\r\nI tried using github artifact, but the same problem persisted. In the photos I added, you can see how I tried to use the github artifact.","title":"buildx failed with: ERROR: failed to solve: failed to compute cache key: failed to calculate checksum no such file or directory","body":"<p>I have a workflow to do CI and CD work, but the problem is that my jar file, which is compiled and packaged during CI, cannot be found in the packaged folder when it will be built. I think this is because two workflows run in separate work environments, and the operation performed in one of them is deleted after the job is completed. So, my main problem here is that my worfklows do not work synchronously, and the CD must continue from where the CI process ends. By the way, my project is a spring boot project. I hope I could express myself well.[[[<a href=\"https://i.stack.imgur.com/YsyZl.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/M5c3b.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/M5c3b.png</a>)](<a href=\"https://i.stack.imgur.com/GTm3g.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/GTm3g.png</a>)](<a href=\"https://i.stack.imgur.com/he0mA.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/he0mA.png</a>)</p>\n<p>I tried using github artifact, but the same problem persisted. In the photos I added, you can see how I tried to use the github artifact.</p>\n"},{"tags":["java","android","dex","smali"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546914384,"post_id":54084470,"comment_id":95002165,"body_markdown":"Which `v2` register?","body":"Which <code>v2</code> register?"},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546914980,"post_id":54084470,"comment_id":95002247,"body_markdown":"Sorry I missed. I enter an indication in the code, go to the end. 3 lines after &quot;const-string v2,&quot; Key: &quot;&quot;.","body":"Sorry I missed. I enter an indication in the code, go to the end. 3 lines after &quot;const-string v2,&quot; Key: &quot;&quot;."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546915156,"post_id":54084470,"comment_id":95002275,"body_markdown":"Trying to Toast `v2` from that point will result in an error. Are you sure you don&#39;t mean to Toast `v1` (your StringBuilder) after calling `toString()` on it?","body":"Trying to Toast <code>v2</code> from that point will result in an error. Are you sure you don&#39;t mean to Toast <code>v1</code> (your StringBuilder) after calling <code>toString()</code> on it?"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546915421,"post_id":54084470,"comment_id":95002312,"body_markdown":"You also can&#39;t show Toasts without a Context, which that class doesn&#39;t have.","body":"You also can&#39;t show Toasts without a Context, which that class doesn&#39;t have."},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546915679,"post_id":54084470,"comment_id":95002353,"body_markdown":"Where should Trying to Toast be? In my code I have 4 variables that contain: &quot;Sector&quot;, &quot;Key Type&quot; and &quot;Key&quot;. Then each one is completed with more text. I want to show my variable &quot;Key&quot; in a message","body":"Where should Trying to Toast be? In my code I have 4 variables that contain: &quot;Sector&quot;, &quot;Key Type&quot; and &quot;Key&quot;. Then each one is completed with more text. I want to show my variable &quot;Key&quot; in a message"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546915716,"post_id":54084470,"comment_id":95002363,"body_markdown":"You want to literally just toast &quot;Key: &quot;?","body":"You want to literally just toast &quot;Key: &quot;?"},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546916266,"post_id":54084470,"comment_id":95002464,"body_markdown":"No, in the next 3 lines after &quot;Key: &quot; more information is added to this variable. I want Toast this variable with all the information .. I am going to add my Java code to the post.","body":"No, in the next 3 lines after &quot;Key: &quot; more information is added to this variable. I want Toast this variable with all the information .. I am going to add my Java code to the post."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1546916443,"post_id":54084470,"comment_id":95002502,"body_markdown":"So you want to Toast `stringBuilder2`? No matter what, though, you still can&#39;t Toast without a Context Object, which you don&#39;t have.","body":"So you want to Toast <code>stringBuilder2</code>? No matter what, though, you still can&#39;t Toast without a Context Object, which you don&#39;t have."},{"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"score":0,"creation_date":1546917165,"post_id":54084470,"comment_id":95002638,"body_markdown":"Yes I want to Toast stringBuilder2. Ok I try to add Context Object. Thanks you!","body":"Yes I want to Toast stringBuilder2. Ok I try to add Context Object. Thanks you!"}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548518721,"creation_date":1548518721,"answer_id":54380117,"question_id":54084470,"body_markdown":"You can generate Smali code from Java just like from any Android App. Therefore you can simply write a very small Android app that contains your code. \r\n\r\nCreate a simple app in AndroidStudio that contains the code. Build the app and the decompile the apk file using `apktool` and you have your Java code converted to Smali code. \r\n\r\nThe easiest way should be to create a new function that can then be injected into the existing Smali code and called from an existing function.\r\n\r\nOr the same way but using some shortcuts:\r\n\r\n.java --&gt; .class --&gt; dex -&gt; smali\r\n\r\nCompile Java to a class file (AFAIR you have to use Java 7 as target). Then convert the code to a dex file using `dx` (java -jar `dx.jar`) tool from Android SDK. And in the end decompile it with `apktool`.","title":"Add message to Smali file OR convert Java to Smali","body":"<p>You can generate Smali code from Java just like from any Android App. Therefore you can simply write a very small Android app that contains your code. </p>\n\n<p>Create a simple app in AndroidStudio that contains the code. Build the app and the decompile the apk file using <code>apktool</code> and you have your Java code converted to Smali code. </p>\n\n<p>The easiest way should be to create a new function that can then be injected into the existing Smali code and called from an existing function.</p>\n\n<p>Or the same way but using some shortcuts:</p>\n\n<p>.java --> .class --> dex -> smali</p>\n\n<p>Compile Java to a class file (AFAIR you have to use Java 7 as target). Then convert the code to a dex file using <code>dx</code> (java -jar <code>dx.jar</code>) tool from Android SDK. And in the end decompile it with <code>apktool</code>.</p>\n"}],"owner":{"account_id":11519396,"reputation":411,"user_id":8441736,"accept_rate":40,"display_name":"Jose"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696940287,"creation_date":1546914310,"question_id":54084470,"body_markdown":"Hi I want to add a messsage into this Smali file but I dont understad how its works. I cant convert my Java code to Smali.\r\n\r\nI want to show my V2 variable. I Try this: \r\ninvoke-virtual {v2}, Landroid/widget/Toast;-&gt;show()V\r\n\r\nBut doesnt work... The app crashes when start. Thanks you, I apreciate any help!\r\n\r\n\r\nThe Entery code:\r\n\r\n\r\n    .class public final Lcom/sube/subemobileclient/b/b/b/b/b/a$a;\r\n    .super Ljava/lang/Object;\r\n    \r\n    \r\n    # annotations\r\n    .annotation system Ldalvik/annotation/EnclosingClass;\r\n        value = Lcom/sube/subemobileclient/b/b/b/b/b/a;\r\n    .end annotation\r\n    \r\n    .annotation system Ldalvik/annotation/InnerClass;\r\n        accessFlags = 0x9\r\n        name = &quot;a&quot;\r\n    .end annotation\r\n    \r\n    \r\n    # instance fields\r\n    .field public a:B\r\n    \r\n    .field public b:B\r\n    \r\n    .field public c:[B\r\n    \r\n    \r\n    # direct methods\r\n    .method public constructor &lt;init&gt;()V\r\n        .locals 0\r\n    \r\n        invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\r\n    \r\n        return-void\r\n    .end method\r\n    \r\n    .method public constructor &lt;init&gt;(BB[B)V\r\n        .locals 0\r\n    \r\n        invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\r\n    \r\n        iput-byte p1, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\r\n    \r\n        iput-byte p2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\r\n    \r\n        iput-object p3, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\r\n    \r\n        return-void\r\n    .end method\r\n    \r\n    \r\n    # virtual methods\r\n    .method public final toString()Ljava/lang/String;\r\n        .locals 3\r\n    \r\n        new-instance v0, Ljava/lang/StringBuilder;\r\n    \r\n        invoke-direct {v0}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V\r\n    \r\n        new-instance v1, Ljava/lang/StringBuilder;\r\n    \r\n        const-string v2, &quot;Sector: &quot;\r\n    \r\n        invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n    \r\n        iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\r\n    \r\n        invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        const-string v1, &quot;line.separator&quot;\r\n    \r\n        invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        new-instance v1, Ljava/lang/StringBuilder;\r\n    \r\n        const-string v2, &quot;Key Type: &quot;\r\n    \r\n        invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n    \r\n        iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\r\n    \r\n        invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        const-string v1, &quot;line.separator&quot;\r\n    \r\n        invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        new-instance v1, Ljava/lang/StringBuilder;\r\n    \r\n        const-string v2, &quot;Key: &quot;\r\n    \r\n        invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n    \r\n        iget-object v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\r\n    \r\n        invoke-static {v2}, Ljava/util/Arrays;-&gt;toString([B)Ljava/lang/String;\r\n\r\n\r\n\r\n\r\n\r\n        **HEREHEREHERE**  So message to display = &quot;Key: ....&quot; \r\n\r\n\r\n\r\n    \r\n        move-result-object v2\r\n    \r\n        invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        const-string v1, &quot;line.separator&quot;\r\n    \r\n        invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\r\n    \r\n        move-result-object v1\r\n    \r\n        invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    \r\n        invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n    \r\n        move-result-object v0\r\n    \r\n    .end method\r\n\r\n\r\n\r\n\r\nJAVA\r\n\r\n\r\n       public final String toString() {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n            StringBuilder stringBuilder2 = new StringBuilder(&quot;Sector: &quot;);\r\n            stringBuilder2.append(this.f892a);\r\n            stringBuilder.append(stringBuilder2.toString());\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            stringBuilder2 = new StringBuilder(&quot;Key Type: &quot;);\r\n            stringBuilder2.append(this.f893b);\r\n            stringBuilder.append(stringBuilder2.toString());\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            stringBuilder2 = new StringBuilder(&quot;Key: &quot;);\r\n            stringBuilder2.append(Arrays.toString(this.f894c));\r\n            stringBuilder.append(stringBuilder2.toString());\r\n            stringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            return stringBuilder.toString();\r\n        }\r\n","title":"Add message to Smali file OR convert Java to Smali","body":"<p>Hi I want to add a messsage into this Smali file but I dont understad how its works. I cant convert my Java code to Smali.</p>\n\n<p>I want to show my V2 variable. I Try this: \ninvoke-virtual {v2}, Landroid/widget/Toast;->show()V</p>\n\n<p>But doesnt work... The app crashes when start. Thanks you, I apreciate any help!</p>\n\n<p>The Entery code:</p>\n\n<pre><code>.class public final Lcom/sube/subemobileclient/b/b/b/b/b/a$a;\n.super Ljava/lang/Object;\n\n\n# annotations\n.annotation system Ldalvik/annotation/EnclosingClass;\n    value = Lcom/sube/subemobileclient/b/b/b/b/b/a;\n.end annotation\n\n.annotation system Ldalvik/annotation/InnerClass;\n    accessFlags = 0x9\n    name = \"a\"\n.end annotation\n\n\n# instance fields\n.field public a:B\n\n.field public b:B\n\n.field public c:[B\n\n\n# direct methods\n.method public constructor &lt;init&gt;()V\n    .locals 0\n\n    invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\n\n    return-void\n.end method\n\n.method public constructor &lt;init&gt;(BB[B)V\n    .locals 0\n\n    invoke-direct {p0}, Ljava/lang/Object;-&gt;&lt;init&gt;()V\n\n    iput-byte p1, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\n\n    iput-byte p2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\n\n    iput-object p3, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\n\n    return-void\n.end method\n\n\n# virtual methods\n.method public final toString()Ljava/lang/String;\n    .locals 3\n\n    new-instance v0, Ljava/lang/StringBuilder;\n\n    invoke-direct {v0}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V\n\n    new-instance v1, Ljava/lang/StringBuilder;\n\n    const-string v2, \"Sector: \"\n\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\n    iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;a:B\n\n    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    const-string v1, \"line.separator\"\n\n    invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    new-instance v1, Ljava/lang/StringBuilder;\n\n    const-string v2, \"Key Type: \"\n\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\n    iget-byte v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;b:B\n\n    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(I)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    const-string v1, \"line.separator\"\n\n    invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    new-instance v1, Ljava/lang/StringBuilder;\n\n    const-string v2, \"Key: \"\n\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\n    iget-object v2, p0, Lcom/sube/subemobileclient/b/b/b/b/b/a$a;-&gt;c:[B\n\n    invoke-static {v2}, Ljava/util/Arrays;-&gt;toString([B)Ljava/lang/String;\n\n\n\n\n\n    **HEREHEREHERE**  So message to display = \"Key: ....\" \n\n\n\n\n    move-result-object v2\n\n    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v1}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    const-string v1, \"line.separator\"\n\n    invoke-static {v1}, Ljava/lang/System;-&gt;getProperty(Ljava/lang/String;)Ljava/lang/String;\n\n    move-result-object v1\n\n    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\n    invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\n    move-result-object v0\n\n.end method\n</code></pre>\n\n<p>JAVA</p>\n\n<pre><code>   public final String toString() {\n        StringBuilder stringBuilder = new StringBuilder();\n        StringBuilder stringBuilder2 = new StringBuilder(\"Sector: \");\n        stringBuilder2.append(this.f892a);\n        stringBuilder.append(stringBuilder2.toString());\n        stringBuilder.append(System.getProperty(\"line.separator\"));\n        stringBuilder2 = new StringBuilder(\"Key Type: \");\n        stringBuilder2.append(this.f893b);\n        stringBuilder.append(stringBuilder2.toString());\n        stringBuilder.append(System.getProperty(\"line.separator\"));\n        stringBuilder2 = new StringBuilder(\"Key: \");\n        stringBuilder2.append(Arrays.toString(this.f894c));\n        stringBuilder.append(stringBuilder2.toString());\n        stringBuilder.append(System.getProperty(\"line.separator\"));\n        return stringBuilder.toString();\n    }\n</code></pre>\n"},{"tags":["java","performance","apache-spark","apache-kafka","inputstream"],"owner":{"account_id":3830476,"reputation":1,"user_id":3176131,"display_name":"user3176131"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696940004,"creation_date":1696940004,"question_id":77265675,"body_markdown":"Setting spark.streaming.kafka.maxRatePerPartition:100 and ingesting the 10000 records , it should take 100 records per second ,\r\nbut consumes all 10000 records\r\n","title":"spark + kafka inputstream &quot;spark.streaming.kafka.maxRatePerPartition&quot;","body":"<p>Setting spark.streaming.kafka.maxRatePerPartition:100 and ingesting the 10000 records , it should take 100 records per second ,\nbut consumes all 10000 records</p>\n"},{"tags":["java","android","printing","android-ndk","brother-bpac"],"answers":[{"comments":[{"owner":{"account_id":30921,"reputation":3168,"user_id":84615,"accept_rate":33,"display_name":"Miha Markic"},"score":0,"creation_date":1550654266,"post_id":49176744,"comment_id":96343910,"body_markdown":"Great find, shame to Brother for handling this in such a poor way - no helpful message or anything.","body":"Great find, shame to Brother for handling this in such a poor way - no helpful message or anything."}],"tags":[],"owner":{"account_id":2489263,"reputation":91,"user_id":2167097,"display_name":"fidschau"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520522929,"creation_date":1520522929,"answer_id":49176744,"question_id":45623320,"body_markdown":"I had a similar problem today, it turns out the android.permission.WRITE_EXTERNAL_STORAGE permission was not granted. If you are running on and Android 6 or greater, check your [run time permissions][1] for writing to the external storage. Declaring the permission in the manifest is not enough. The brother documentation hints at this at the end of their [manual][2].\r\n\r\n&gt; 8.3. Android 6 compatibility Since Android 6.0, Users are allowed to change the application’s permissions after installation. Permission to\r\n&gt; access Android external storage must be granted to use this\r\n&gt; application.\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting.html\r\n  [2]: http://www.brother.com/product/dev/mobile/android/index.htm","title":"JNI DETECTED ERROR IN APPLICATION on Brother SDK","body":"<p>I had a similar problem today, it turns out the android.permission.WRITE_EXTERNAL_STORAGE permission was not granted. If you are running on and Android 6 or greater, check your <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"noreferrer\">run time permissions</a> for writing to the external storage. Declaring the permission in the manifest is not enough. The brother documentation hints at this at the end of their <a href=\"http://www.brother.com/product/dev/mobile/android/index.htm\" rel=\"noreferrer\">manual</a>.</p>\n\n<blockquote>\n  <p>8.3. Android 6 compatibility Since Android 6.0, Users are allowed to change the application’s permissions after installation. Permission to\n  access Android external storage must be granted to use this\n  application.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3475864,"reputation":923,"user_id":2909074,"accept_rate":73,"display_name":"marson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696939618,"creation_date":1696939618,"answer_id":77265629,"question_id":45623320,"body_markdown":"Here is a list of steps I&#39;ve done in order to make the printing functional and get rid of this error. I am using the newest Brother SDK 4.6.4.\r\n\r\n**1. AndroidManifest.xml**\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n\r\n---\r\n\r\n**2. Runtime request for permission**\r\n\r\n```\r\nif (context.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n  ActivityCompat.requestPermissions(activity, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 8);\r\n}\r\n```\r\n\r\n---\r\n\r\n**3. build.gradle**\r\n\r\n```\r\ntargetSdkVersion = 32\r\n```\r\n(lowering to 32 helped me to show the permissions popup on a newer device)\r\n\r\n---\r\n\r\n**4. [This one did the trick] Adding `workPath` to printer info**\r\n\r\n```\r\nPrinterInfo printInfo = printer.getPrinterInfo();\r\nprintInfo.workPath = &quot;storage/emulated/0/Download/&quot;;\r\n```\r\n\r\n\r\nBrothers at Brother should work on that developer experience. I hope this helps!","title":"JNI DETECTED ERROR IN APPLICATION on Brother SDK","body":"<p>Here is a list of steps I've done in order to make the printing functional and get rid of this error. I am using the newest Brother SDK 4.6.4.</p>\n<p><strong>1. AndroidManifest.xml</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<hr />\n<p><strong>2. Runtime request for permission</strong></p>\n<pre><code>if (context.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n  ActivityCompat.requestPermissions(activity, new String[]{android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, 8);\n}\n</code></pre>\n<hr />\n<p><strong>3. build.gradle</strong></p>\n<pre><code>targetSdkVersion = 32\n</code></pre>\n<p>(lowering to 32 helped me to show the permissions popup on a newer device)</p>\n<hr />\n<p><strong>4. [This one did the trick] Adding <code>workPath</code> to printer info</strong></p>\n<pre><code>PrinterInfo printInfo = printer.getPrinterInfo();\nprintInfo.workPath = &quot;storage/emulated/0/Download/&quot;;\n</code></pre>\n<p>Brothers at Brother should work on that developer experience. I hope this helps!</p>\n"}],"owner":{"account_id":11322734,"reputation":101,"user_id":8302689,"display_name":"Iam Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1475,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696939618,"creation_date":1502398499,"question_id":45623320,"body_markdown":"Im trying to print a image in Brother SDK in my app.\r\n\r\nthis is my code:\r\n\r\n           `myPrinterInfo = myPrinter.getPrinterInfo();\r\n            myPrinterInfo.printerModel = PrinterInfo.Model.QL_810W;\r\n            myPrinterInfo.port = PrinterInfo.Port.NET;\r\n            myPrinterInfo.printMode = PrinterInfo.PrintMode.FIT_TO_PAGE;\r\n            myPrinterInfo.paperSize = PrinterInfo.PaperSize.CUSTOM;\r\n            myPrinterInfo.labelNameIndex = 5;\r\n            myPrinterInfo.isAutoCut = false;\r\n            myPrinterInfo.isCutAtEnd = false;\r\n            myPrinterInfo.orientation = PrinterInfo.Orientation.PORTRAIT;\r\n            myPrinterInfo.valign = PrinterInfo.VAlign.TOP;\r\n            myPrinterInfo.align = PrinterInfo.Align.LEFT;\r\n            myPrinterInfo.halftone = PrinterInfo.Halftone.THRESHOLD;\r\n            myPrinterInfo.ipAddress = &quot;192.168.1.146&quot;;\r\n            myPrinterInfo.thresholdingValue = 127;\r\n            myPrinterInfo.pjCarbon = false;\r\n            myPrinterInfo.pjDensity = 5;\r\n            myPrinterInfo.pjFeedMode = PrinterInfo.PjFeedMode.PJ_FEED_MODE_FIXEDPAGE;\r\n            myPrinterInfo.pjPaperKind = PJ_CUT_PAPER;\r\n            myPrinterInfo.rollPrinterCase = PrinterInfo.PjRollCase.PJ_ROLLCASE_OFF;\r\n            myPrinterInfo.paperPosition = PrinterInfo.Align.CENTER;\r\n            myPrinterInfo.numberOfCopies = 1;\r\n\r\n\r\nIm using the 62mmx100mm paper roll and I got this error message:\r\n\r\n&gt; JNI DETECTED ERROR IN APPLICATION: GetStringUTFChars received NULL jstring\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     in call to GetStringUTFChars\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     from boolean com.brother.ptouch.sdk.JNIWrapper.writeByteInFile(int[], int, java.lang.String, boolean)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art: &quot;AsyncTask #1&quot; prio=5 tid=10 Runnable\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x12c99460 self=0xe9594500\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | sysTid=31584 nice=10 cgrp=bg_non_interactive sched=0/0 handle=0xe0b65930\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | state=R schedstat=( 80462688 29252686 258 ) utm=5 stm=3 core=2 HZ=100\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | stack=0xe0a63000-0xe0a65000 stackSize=1038KB\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | held mutexes= &quot;mutator lock&quot;(shared held)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #00 pc 0035adcf  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #01 pc 0033bdeb  /system/lib/libart.so (_ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #02 pc 0024ef71  /system/lib/libart.so (_ZN3art9JavaVMExt8JniAbortEPKcS2_+900)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #03 pc 0024f607  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortVEPKcS2_St9__va_list+54)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #04 pc 000fbe5d  /system/lib/libart.so (_ZN3art11ScopedCheck6AbortFEPKcz+28)\r\n08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #05 pc 001003b9  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE.constprop.95+2676)\r\n08-10 17:33:18.883 31333-31584/br.com.squarebits.brothertest E/art:   native: #06 pc 00108cd5  /system/lib/libart.so (_ZN3art8CheckJNI17GetStringUTFCharsEP7_JNIEnvP8_jstringPh+376)\r\n\r\n\r\n\r\nIf anyone knows how to fix it, please help me :(","title":"JNI DETECTED ERROR IN APPLICATION on Brother SDK","body":"<p>Im trying to print a image in Brother SDK in my app.</p>\n\n<p>this is my code:</p>\n\n<pre><code>       `myPrinterInfo = myPrinter.getPrinterInfo();\n        myPrinterInfo.printerModel = PrinterInfo.Model.QL_810W;\n        myPrinterInfo.port = PrinterInfo.Port.NET;\n        myPrinterInfo.printMode = PrinterInfo.PrintMode.FIT_TO_PAGE;\n        myPrinterInfo.paperSize = PrinterInfo.PaperSize.CUSTOM;\n        myPrinterInfo.labelNameIndex = 5;\n        myPrinterInfo.isAutoCut = false;\n        myPrinterInfo.isCutAtEnd = false;\n        myPrinterInfo.orientation = PrinterInfo.Orientation.PORTRAIT;\n        myPrinterInfo.valign = PrinterInfo.VAlign.TOP;\n        myPrinterInfo.align = PrinterInfo.Align.LEFT;\n        myPrinterInfo.halftone = PrinterInfo.Halftone.THRESHOLD;\n        myPrinterInfo.ipAddress = \"192.168.1.146\";\n        myPrinterInfo.thresholdingValue = 127;\n        myPrinterInfo.pjCarbon = false;\n        myPrinterInfo.pjDensity = 5;\n        myPrinterInfo.pjFeedMode = PrinterInfo.PjFeedMode.PJ_FEED_MODE_FIXEDPAGE;\n        myPrinterInfo.pjPaperKind = PJ_CUT_PAPER;\n        myPrinterInfo.rollPrinterCase = PrinterInfo.PjRollCase.PJ_ROLLCASE_OFF;\n        myPrinterInfo.paperPosition = PrinterInfo.Align.CENTER;\n        myPrinterInfo.numberOfCopies = 1;\n</code></pre>\n\n<p>Im using the 62mmx100mm paper roll and I got this error message:</p>\n\n<blockquote>\n  <p>JNI DETECTED ERROR IN APPLICATION: GetStringUTFChars received NULL jstring\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     in call to GetStringUTFChars\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:     from boolean com.brother.ptouch.sdk.JNIWrapper.writeByteInFile(int[], int, java.lang.String, boolean)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art: \"AsyncTask #1\" prio=5 tid=10 Runnable\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | group=\"main\" sCount=0 dsCount=0 obj=0x12c99460 self=0xe9594500\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | sysTid=31584 nice=10 cgrp=bg_non_interactive sched=0/0 handle=0xe0b65930\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | state=R schedstat=( 80462688 29252686 258 ) utm=5 stm=3 core=2 HZ=100\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | stack=0xe0a63000-0xe0a65000 stackSize=1038KB\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   | held mutexes= \"mutator lock\"(shared held)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #00 pc 0035adcf  /system/lib/libart.so (_ZN3art15DumpNativeStackERNSt3__113basic_ostreamIcNS0_11char_traitsIcEEEEiPKcPNS_9ArtMethodEPv+126)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #01 pc 0033bdeb  /system/lib/libart.so (_ZNK3art6Thread4DumpERNSt3__113basic_ostreamIcNS1_11char_traitsIcEEEE+138)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #02 pc 0024ef71  /system/lib/libart.so (<em>ZN3art9JavaVMExt8JniAbortEPKcS2</em>+900)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #03 pc 0024f607  /system/lib/libart.so (_ZN3art9JavaVMExt9JniAbortVEPKcS2_St9__va_list+54)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #04 pc 000fbe5d  /system/lib/libart.so (_ZN3art11ScopedCheck6AbortFEPKcz+28)\n  08-10 17:33:18.882 31333-31584/br.com.squarebits.brothertest E/art:   native: #05 pc 001003b9  /system/lib/libart.so (_ZN3art11ScopedCheck5CheckERNS_18ScopedObjectAccessEbPKcPNS_12JniValueTypeE.constprop.95+2676)\n  08-10 17:33:18.883 31333-31584/br.com.squarebits.brothertest E/art:   native: #06 pc 00108cd5  /system/lib/libart.so (_ZN3art8CheckJNI17GetStringUTFCharsEP7_JNIEnvP8_jstringPh+376)</p>\n</blockquote>\n\n<p>If anyone knows how to fix it, please help me :(</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":8640700,"reputation":2237,"user_id":6469477,"display_name":"Moe Ghafari"},"score":2,"creation_date":1495227027,"post_id":44076480,"comment_id":75181549,"body_markdown":"Possible duplicate of [wait.until(ExpectedConditions) doesnt work any more in selenium](http://stackoverflow.com/questions/42421148/wait-untilexpectedconditions-doesnt-work-any-more-in-selenium)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/42421148/wait-untilexpectedconditions-doesnt-work-any-more-in-selenium\">wait.until(ExpectedConditions) doesnt work any more in selenium</a>"}],"answers":[{"tags":[],"owner":{"account_id":5920017,"reputation":144,"user_id":4657593,"display_name":"sideshowmanny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513615882,"creation_date":1495228140,"answer_id":44079017,"question_id":44076480,"body_markdown":"Selenium 3.1.0 onwards needs guava 21 for the wait.until method.\r\nTry adding this to your pom, preferable near the top in case another dependency is importing and older version of guava:\r\n      \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;21.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p>Selenium 3.1.0 onwards needs guava 21 for the wait.until method.\nTry adding this to your pom, preferable near the top in case another dependency is importing and older version of guava:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9461605,"reputation":177,"user_id":7035187,"accept_rate":60,"display_name":"mohamed faisal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495284044,"creation_date":1495284044,"answer_id":44085988,"question_id":44076480,"body_markdown":"I think your problem is in this line of code \r\n\r\n    WebElement element=wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\r\n\r\nAs Wait.until is used to tell your web driver to wait until a certain action to occur which is visibility of The element located by ID = &quot;dnn_dnnUser_enhancedRegisterLink&quot; in your case \r\nbut this method Doesn&#39;t return a web element object so you can&#39;t use it to define a web element \r\n\r\nInstead you just need to write :\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\r\n","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p>I think your problem is in this line of code </p>\n\n<pre><code>WebElement element=wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n</code></pre>\n\n<p>As Wait.until is used to tell your web driver to wait until a certain action to occur which is visibility of The element located by ID = \"dnn_dnnUser_enhancedRegisterLink\" in your case \nbut this method Doesn't return a web element object so you can't use it to define a web element </p>\n\n<p>Instead you just need to write :</p>\n\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597633,"reputation":6391,"user_id":5096868,"accept_rate":18,"display_name":"Yogesh Rathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534151528,"creation_date":1534151528,"answer_id":51818930,"question_id":44076480,"body_markdown":"**It worked with latest jars:**\r\n\r\n    Appium 1.8.1\r\n    Java-client 5.0.4\r\n    Selenium-java 3.7.1","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p><strong>It worked with latest jars:</strong></p>\n\n<pre><code>Appium 1.8.1\nJava-client 5.0.4\nSelenium-java 3.7.1\n</code></pre>\n"}],"owner":{"account_id":2763820,"reputation":7847,"user_id":2380115,"accept_rate":55,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11536,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696939395,"creation_date":1495217587,"question_id":44076480,"body_markdown":"i am trying to run the below selenium code :\r\n\r\n\t        WebDriver driver;\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Driver\\\\chromedriver.exe&quot;);\r\n\t\t\tdriver = new ChromeDriver();\r\n\t\t\tdriver.get(&quot;http://www.behsad.com/nportal/Default.aspx?tabid=55&quot;);\r\n\t\t\t                \r\n\t\t\tdriver.findElement(By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)).click();\r\n\t\t\t\r\n\t\t\tWebDriverWait wait=new WebDriverWait(driver, 30);\r\n\t\t\tWebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n\t\t\t                                By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\t\t\telement.click();\r\n\r\nhere is my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand at the end there is the imports of the code:\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\nthe code gets stuck in the line:\r\n\r\n    WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n    \t\t\t                                By.id(&quot;dnn_dnnUser_enhancedRegisterLink&quot;)));\r\n\r\nand it complains with:\r\n\r\n    java.lang.NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until(Lcom/google/common/base/Function;)Ljava/lang/Object;","title":"NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until","body":"<p>i am trying to run the below selenium code :</p>\n\n<pre><code>        WebDriver driver;\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Driver\\\\chromedriver.exe\");\n        driver = new ChromeDriver();\n        driver.get(\"http://www.behsad.com/nportal/Default.aspx?tabid=55\");\n\n        driver.findElement(By.id(\"dnn_dnnUser_enhancedRegisterLink\")).click();\n\n        WebDriverWait wait=new WebDriverWait(driver, 30);\n        WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\n                                        By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n        element.click();\n</code></pre>\n\n<p>here is my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n    &lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and at the end there is the imports of the code:</p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n</code></pre>\n\n<p>the code gets stuck in the line:</p>\n\n<pre><code>WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(\n                                            By.id(\"dnn_dnnUser_enhancedRegisterLink\")));\n</code></pre>\n\n<p>and it complains with:</p>\n\n<pre><code>java.lang.NoSuchMethodError: org.openqa.selenium.support.ui.WebDriverWait.until(Lcom/google/common/base/Function;)Ljava/lang/Object;\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver","nosuchmethoderror"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1696436638,"post_id":77231316,"comment_id":136153664,"body_markdown":"*java.lang.NoSuchMethorError:* mostly indicates incompatible jars in your classpath. But hard to say which one without a complete stacktrace","body":"<i>java.lang.NoSuchMethorError:</i> mostly indicates incompatible jars in your classpath. But hard to say which one without a complete stacktrace"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696485063,"post_id":77231316,"comment_id":136159362,"body_markdown":"*What is that?* What is what?","body":"<i>What is that?</i> What is what?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696828751,"post_id":77231316,"comment_id":136197901,"body_markdown":"Looks like the version of appache-poi and log4j are incompatible","body":"Looks like the version of appache-poi and log4j are incompatible"},{"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"score":0,"creation_date":1696938645,"post_id":77231316,"comment_id":136213985,"body_markdown":"I fixed it.. thanks for help","body":"I fixed it.. thanks for help"}],"answers":[{"tags":[],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696938579,"creation_date":1696938579,"answer_id":77265501,"question_id":77231316,"body_markdown":"I fixed it by including another dependency in the pom.xml, by the name of SLF4J Reload4j Provider 2.0.9\r\n\r\n","title":"NoSuchMethodError in Java Selenium Eclipse...can you help me debug it?","body":"<p>I fixed it by including another dependency in the pom.xml, by the name of SLF4J Reload4j Provider 2.0.9</p>\n"}],"owner":{"account_id":9448867,"reputation":1,"user_id":22465217,"display_name":"rusty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696938579,"creation_date":1696436473,"question_id":77231316,"body_markdown":"Here is the full code, the error is coming in the line [&quot;xlutil.setCellData(...)&quot;;], I have highlighted it with the comment &quot;ERROR HERE&quot;. The rest of the code is simply to navigate to the page where there is a webtable. The purpose is to copy a value from the webtable into an excel file...\r\n\r\nBut the thing is, I copied the entire file from another laptop, where it worked seamlessly. The function is completely same in both systems, and yet there is this error only in this laptop. \r\n\r\nThe error exactly reads: \r\nException in thread &quot;main&quot; java.lang.NoSuchMethorError: &#39;org.apache.logging.log4j.LogBuilder org.apache.log4j.Logger.atDebug()&#39;\r\n\r\n\r\n\r\n```\r\npackage packageOne;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.Select;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport java.time.Duration;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.locators.RelativeLocator;\r\n\r\npublic class shilpi {\r\n\tpublic static void main(String[] args) throws Throwable {\r\n\t\tint rows;\r\n\t\tString lgrpath;\r\n\t\tfloat[] lgr = { 0, 0, 0, 0, 0, 0, 0, 0 };\r\n\t\tWebDriver driver = new FirefoxDriver();\r\n\t\tWebDriverManager.firefoxdriver().setup();\r\n\t\tString[] acc = { &quot;I6&quot;, &quot;I7&quot;, &quot;I8&quot;, &quot;I9&quot;, &quot;I501&quot;, &quot;I201&quot;, &quot;I88&quot;, &quot;I4&quot; };\r\n\t\tString url = &quot;https://bo.competentfinman.com:1467/capexweb/capexweb/&quot;;\r\n\t\tdriver.get(url);\r\n\t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;main&quot;)));\r\n\t\tdriver.findElement(By.name(&quot;dfuserid&quot;)).sendKeys(&quot;**&quot;);\r\n\t\tdriver.findElement(By.name(&quot;dfpassword&quot;)).sendKeys(&quot;********&quot;);\r\n\t\tdriver.findElement(By.name(&quot;B1&quot;)).click();\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/div[1]/a&quot;)));\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\tdriver.findElement(By.xpath(&quot;/html/body/div[1]/a&quot;)).click(); // Continue &gt;&gt;\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t\tdriver.findElement(\r\n\t\t\t\tBy.cssSelector(&quot;#Table2&gt;tbody:nth-child(1)&gt;tr:nth-child(1)&gt;td:nth-child(1)&gt;input:nth-child(3)&quot;))\r\n\t\t\t\t.click(); // NSE-FO 2023-24 \r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\tdriver.switchTo().defaultContent();\r\n\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;contents&quot;));\r\n\t\t} catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\r\n\t\t\r\n\t\t}\r\n\t\ttry {\r\n\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#itemTextLink3&quot;)));\r\n\t\t} catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\r\n\t\t\r\n\t\t}\r\n\t\tdriver.findElement(By.cssSelector(&quot;#itemTextLink3&quot;)).click(); // Financial\r\n\t\tdriver.findElement(By.id(&quot;itemTextLink6&quot;)).click(); // Fin. Lgr.\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tdriver.switchTo().defaultContent();\r\n\t\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));\r\n\t\t\t} catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\r\n\t\t\t}\r\n\t\t\tSelect dropdown = new Select(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));               \r\n\t\t\tdropdown.selectByValue(acc[i]);\r\n\t\t\tdriver.findElement(By.name(&quot;B1&quot;)).click(); // GO\r\n\t\t\tdriver.switchTo().defaultContent();\r\n\t\t\twait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\trows = driver.findElements(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)).size();\r\n\t\t\trows--;\r\n\t\t\tlgrpath = (&quot;/html/body/table[2]/tbody/tr[&quot; + rows + &quot;]/td[2]/b&quot;);\r\n\r\n\t\t\tlgr[i] = Float.parseFloat(driver.findElement(By.xpath(lgrpath)).getText());\r\n\t\t\tXLUtility xlutil = new XLUtility(&quot;\\\\C:\\\\Users\\\\Acer A515\\\\Desktop\\\\Book1.xlsm&quot;);\r\n\t\t\t// **ERROR HERE**\r\n            xlutil.setCellData(&quot;sheetone&quot;, i, 0, acc[i]);\r\n\t\t\txlutil.setCellData(&quot;sheetone&quot;, i, 1, lgr[i]);\r\n\t\t\tSystem.out.println(&quot;Shoved &quot; + lgr[i] + &quot; up yours&quot;);\r\n\r\n\t\t\t// Go back to go to next account:\r\n\t\t\tdriver.navigate().back();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried changing the file path before it, I tried changing the name of the function in both this class and the definition class. But nothing worked...\r\n\r\nHere is the list of errors at the bottom in Eclipse:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.apache.logging.log4j.LogBuilder org.apache.logging.log4j.Logger.atDebug()&#39;\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.parseRelationshipsPart(PackageRelationshipCollection.java:309)\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:160)\r\n\tat org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:130)\r\n\tat org.apache.poi.openxml4j.opc.PackagePart.loadRelationships(PackagePart.java:565)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:745)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:315)\r\n\tat org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:289)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:285)\r\n\tat packageOne.XLUtility.setCellData(XLUtility.java:154)\r\n\tat packageOne.shilpi.main(shilpi.java:115)\r\n```\r\n\r\nI tried to redo the whole thing with a Java project, the same error came. Here is the stacktrace:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\r\n\tat JavaPackage.XLUtility.setCellData(XLUtility.java:153)\r\n\tat JavaPackage.shilpi.main(shilpi.java:110)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 2 more\r\n```","title":"NoSuchMethodError in Java Selenium Eclipse...can you help me debug it?","body":"<p>Here is the full code, the error is coming in the line [&quot;xlutil.setCellData(...)&quot;;], I have highlighted it with the comment &quot;ERROR HERE&quot;. The rest of the code is simply to navigate to the page where there is a webtable. The purpose is to copy a value from the webtable into an excel file...</p>\n<p>But the thing is, I copied the entire file from another laptop, where it worked seamlessly. The function is completely same in both systems, and yet there is this error only in this laptop.</p>\n<p>The error exactly reads:\nException in thread &quot;main&quot; java.lang.NoSuchMethorError: 'org.apache.logging.log4j.LogBuilder org.apache.log4j.Logger.atDebug()'</p>\n<pre><code>package packageOne;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.Select;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport java.time.Duration;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.concurrent.TimeUnit;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.locators.RelativeLocator;\n\npublic class shilpi {\n    public static void main(String[] args) throws Throwable {\n        int rows;\n        String lgrpath;\n        float[] lgr = { 0, 0, 0, 0, 0, 0, 0, 0 };\n        WebDriver driver = new FirefoxDriver();\n        WebDriverManager.firefoxdriver().setup();\n        String[] acc = { &quot;I6&quot;, &quot;I7&quot;, &quot;I8&quot;, &quot;I9&quot;, &quot;I501&quot;, &quot;I201&quot;, &quot;I88&quot;, &quot;I4&quot; };\n        String url = &quot;https://bo.competentfinman.com:1467/capexweb/capexweb/&quot;;\n        driver.get(url);\n        driver.switchTo().frame(driver.findElement(By.name(&quot;main&quot;)));\n        driver.findElement(By.name(&quot;dfuserid&quot;)).sendKeys(&quot;**&quot;);\n        driver.findElement(By.name(&quot;dfpassword&quot;)).sendKeys(&quot;********&quot;);\n        driver.findElement(By.name(&quot;B1&quot;)).click();\n        driver.switchTo().defaultContent();\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        try {\n            wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n        } catch (Exception e) {\n        }\n        try {\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/div[1]/a&quot;)));\n        } catch (Exception e) {\n        }\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/a&quot;)).click(); // Continue &gt;&gt;\n        driver.switchTo().defaultContent();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        try {\n            wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n        } catch (Exception e) {\n        }\n        driver.findElement(\n                By.cssSelector(&quot;#Table2&gt;tbody:nth-child(1)&gt;tr:nth-child(1)&gt;td:nth-child(1)&gt;input:nth-child(3)&quot;))\n                .click(); // NSE-FO 2023-24 \n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        driver.switchTo().defaultContent();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        try {\n            wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;contents&quot;));\n        } catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\n        \n        }\n        try {\n            wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#itemTextLink3&quot;)));\n        } catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\n        \n        }\n        driver.findElement(By.cssSelector(&quot;#itemTextLink3&quot;)).click(); // Financial\n        driver.findElement(By.id(&quot;itemTextLink6&quot;)).click(); // Fin. Lgr.\n        for (int i = 0; i &lt; 8; i++) {\n            driver.switchTo().defaultContent();\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n            try {\n                wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n            } catch (Exception e) {\n            }\n            try {\n                wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));\n            } catch (Exception e) { System.out.println(&quot;Caught exception&quot;);\n            }\n            Select dropdown = new Select(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;dfclientid\\&quot;]&quot;)));               \n            dropdown.selectByValue(acc[i]);\n            driver.findElement(By.name(&quot;B1&quot;)).click(); // GO\n            driver.switchTo().defaultContent();\n            wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n            try {\n                wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(&quot;middle&quot;));\n            } catch (Exception e) {\n            }\n            try {\n                wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)));\n            } catch (Exception e) {\n            }\n            rows = driver.findElements(By.xpath(&quot;/html/body/table[2]/tbody/tr&quot;)).size();\n            rows--;\n            lgrpath = (&quot;/html/body/table[2]/tbody/tr[&quot; + rows + &quot;]/td[2]/b&quot;);\n\n            lgr[i] = Float.parseFloat(driver.findElement(By.xpath(lgrpath)).getText());\n            XLUtility xlutil = new XLUtility(&quot;\\\\C:\\\\Users\\\\Acer A515\\\\Desktop\\\\Book1.xlsm&quot;);\n            // **ERROR HERE**\n            xlutil.setCellData(&quot;sheetone&quot;, i, 0, acc[i]);\n            xlutil.setCellData(&quot;sheetone&quot;, i, 1, lgr[i]);\n            System.out.println(&quot;Shoved &quot; + lgr[i] + &quot; up yours&quot;);\n\n            // Go back to go to next account:\n            driver.navigate().back();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried changing the file path before it, I tried changing the name of the function in both this class and the definition class. But nothing worked...</p>\n<p>Here is the list of errors at the bottom in Eclipse:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.apache.logging.log4j.LogBuilder org.apache.logging.log4j.Logger.atDebug()'\n    at org.apache.poi.openxml4j.opc.PackageRelationshipCollection.parseRelationshipsPart(PackageRelationshipCollection.java:309)\n    at org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:160)\n    at org.apache.poi.openxml4j.opc.PackageRelationshipCollection.&lt;init&gt;(PackageRelationshipCollection.java:130)\n    at org.apache.poi.openxml4j.opc.PackagePart.loadRelationships(PackagePart.java:565)\n    at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:745)\n    at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:315)\n    at org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:289)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:285)\n    at packageOne.XLUtility.setCellData(XLUtility.java:154)\n    at packageOne.shilpi.main(shilpi.java:115)\n</code></pre>\n<p>I tried to redo the whole thing with a Java project, the same error came. Here is the stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\n    at JavaPackage.XLUtility.setCellData(XLUtility.java:153)\n    at JavaPackage.shilpi.main(shilpi.java:110)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 2 more\n</code></pre>\n"},{"tags":["java","debugging","exception","logging","stack-trace"],"answers":[{"comments":[{"owner":{"account_id":402847,"reputation":2233,"user_id":770254,"accept_rate":56,"display_name":"bruno"},"score":9,"creation_date":1433955190,"post_id":945020,"comment_id":49577731,"body_markdown":"That is the answer that actually addresses the question.","body":"That is the answer that actually addresses the question."},{"owner":{"account_id":11734485,"reputation":762,"user_id":8588773,"display_name":"deLock"},"score":11,"creation_date":1525780425,"post_id":945020,"comment_id":87483213,"body_markdown":"Very simple and elegant. This should have been the accepted answer.","body":"Very simple and elegant. This should have been the accepted answer."},{"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"score":20,"creation_date":1543259060,"post_id":945020,"comment_id":93844686,"body_markdown":"Fwiw, the source of this method: \n\n`public static void dumpStack() {\n        new Exception(&quot;Stack trace&quot;).printStackTrace();\n    }`","body":"Fwiw, the source of this method:   <code>public static void dumpStack() {         new Exception(&quot;Stack trace&quot;).printStackTrace();     }</code>"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1588407899,"post_id":945020,"comment_id":108886865,"body_markdown":"This is by far the best answer to the question if you are happy with outputting to `stderr`, which seems to be the implication of the question.","body":"This is by far the best answer to the question if you are happy with outputting to <code>stderr</code>, which seems to be the implication of the question."}],"tags":[],"owner":{"account_id":12324,"reputation":43314,"user_id":24195,"display_name":"Rob Di Marco"},"comment_count":4,"down_vote_count":1,"up_vote_count":327,"is_accepted":false,"score":326,"last_activity_date":1244038639,"creation_date":1244038543,"answer_id":945020,"question_id":944991,"body_markdown":"Yes, simply use\r\n\r\n    Thread.dumpStack()","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>Yes, simply use</p>\n\n<pre><code>Thread.dumpStack()\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user1941660"},"score":0,"creation_date":1446333678,"post_id":945022,"comment_id":54701834,"body_markdown":"I like this answer because it offers me the opportunity to direct the output. I can replace `t.printStackTrace` with `t.printStackTrace(System.out)`.","body":"I like this answer because it offers me the opportunity to direct the output. I can replace <code>t.printStackTrace</code> with <code>t.printStackTrace(System.out)</code>."},{"owner":{"display_name":"user1941660"},"score":4,"creation_date":1447586433,"post_id":945022,"comment_id":55208264,"body_markdown":"In one line: `new Throwable().printStackTrace(System.out);`","body":"In one line: <code>new Throwable().printStackTrace(System.out);</code>"},{"owner":{"account_id":5334928,"reputation":1846,"user_id":4254283,"accept_rate":75,"display_name":"Sam"},"score":1,"creation_date":1507429619,"post_id":945022,"comment_id":80204381,"body_markdown":"This should be the accepted answer. It is simple and straight forward! Thanks for sharing","body":"This should be the accepted answer. It is simple and straight forward! Thanks for sharing"},{"owner":{"account_id":3663045,"reputation":841,"user_id":3052312,"accept_rate":86,"display_name":"MitchBroadhead"},"score":5,"creation_date":1522061360,"post_id":945022,"comment_id":85981953,"body_markdown":"and it is easy to send to java.util.Logger `log.log(Level.SEVERE, &quot;Failed to do something&quot;, new Throwable());`","body":"and it is easy to send to java.util.Logger <code>log.log(Level.SEVERE, &quot;Failed to do something&quot;, new Throwable());</code>"}],"tags":[],"owner":{"account_id":32058,"reputation":6692,"user_id":88485,"accept_rate":100,"display_name":"Gerco Dries"},"comment_count":4,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1696938425,"creation_date":1244038572,"answer_id":945022,"question_id":944991,"body_markdown":"You can get a stack trace like this:\r\n\r\n    Throwable t = new Throwable();\r\n    t.printStackTrace();\r\n\r\nIf you want to access the frame, you can use `t.getStackTrace()` to get an array of stack frames.\r\n\r\nBe aware that this stacktrace (just like any other) may be missing some frames if the hotspot compiler has been busy optimizing things.","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>You can get a stack trace like this:</p>\n<pre><code>Throwable t = new Throwable();\nt.printStackTrace();\n</code></pre>\n<p>If you want to access the frame, you can use <code>t.getStackTrace()</code> to get an array of stack frames.</p>\n<p>Be aware that this stacktrace (just like any other) may be missing some frames if the hotspot compiler has been busy optimizing things.</p>\n"},{"tags":[],"owner":{"account_id":28750,"reputation":13964,"user_id":77087,"accept_rate":94,"display_name":"Prabhu R"},"comment_count":0,"down_vote_count":2,"up_vote_count":90,"is_accepted":true,"score":88,"last_activity_date":1428570863,"creation_date":1244038784,"answer_id":945037,"question_id":944991,"body_markdown":"You can also try `Thread.getAllStackTraces()` to get a map of stack traces for all the threads that are alive.​​​​​​","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>You can also try <code>Thread.getAllStackTraces()</code> to get a map of stack traces for all the threads that are alive.​​​​​​</p>\n"},{"comments":[{"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"score":2,"creation_date":1310019695,"post_id":945407,"comment_id":7796722,"body_markdown":"So just create a new Exception on your own and use [1] as the index!","body":"So just create a new Exception on your own and use [1] as the index!"},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":3,"creation_date":1310033819,"post_id":945407,"comment_id":7799872,"body_markdown":"The title of this question says &quot;without throwing an exception&quot;. Granted, you suggest creating the exception but not throwing it, but i still think that&#39;s not in the spirit of the question.","body":"The title of this question says &quot;without throwing an exception&quot;. Granted, you suggest creating the exception but not throwing it, but i still think that&#39;s not in the spirit of the question."},{"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"score":1,"creation_date":1310059168,"post_id":945407,"comment_id":7807500,"body_markdown":"Of course it is. Creating an Exception is the most lowlevel way to get a stacktrace. Even your Thread.currentThread().getStackTrace() does it, but my way does it faster :).","body":"Of course it is. Creating an Exception is the most lowlevel way to get a stacktrace. Even your Thread.currentThread().getStackTrace() does it, but my way does it faster :)."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1523628370,"post_id":945407,"comment_id":86652474,"body_markdown":"@Daniel There&#39;s another consideration: with many testing frameworks, e.g. Spock, just creating an Exception (without throwing it) will be enough for the framework to pick up on: the test will then consider that an Exception has &quot;occurred&quot; and the test will end, with a fail.","body":"@Daniel There&#39;s another consideration: with many testing frameworks, e.g. Spock, just creating an Exception (without throwing it) will be enough for the framework to pick up on: the test will then consider that an Exception has &quot;occurred&quot; and the test will end, with a fail."},{"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"score":1,"creation_date":1523745240,"post_id":945407,"comment_id":86688818,"body_markdown":"@mikerodent: Are you sure? Spock would have to use agents to do that. But anyway, because I just needed to calling class I used Reflection.getCallerClass(2) in an utility function. You won&#39;t get the function and line number that way, thought.","body":"@mikerodent: Are you sure? Spock would have to use agents to do that. But anyway, because I just needed to calling class I used Reflection.getCallerClass(2) in an utility function. You won&#39;t get the function and line number that way, thought."}],"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":5,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1244111018,"creation_date":1244042917,"answer_id":945407,"question_id":944991,"body_markdown":"If you want the trace for just the current thread (rather than all the threads in the system, as Ram&#39;s suggestion does), do:\r\n\r\nThread.currentThread().[getStackTrace()][1]\r\n\r\nTo find the caller, do:\r\n\r\n    private String getCallingMethodName() {\r\n        StackTraceElement callingFrame = Thread.currentThread().getStackTrace()[4];\r\n        return callingFrame.getMethodName();\r\n    }\r\n\r\nAnd call that method from within the method that needs to know who its caller is. However, a word of warning: the index of the calling frame within the list could vary according to the JVM! It all depends on how many layers of calls there are within getStackTrace before you hit the point where the trace is generated. A more robust solution would be to get the trace, and iterate over it looking for the frame for getCallingMethodName, then take two steps further up to find the true caller.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#getStackTrace()","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>If you want the trace for just the current thread (rather than all the threads in the system, as Ram's suggestion does), do:</p>\n\n<p>Thread.currentThread().<a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#getStackTrace()\" rel=\"noreferrer\">getStackTrace()</a></p>\n\n<p>To find the caller, do:</p>\n\n<pre><code>private String getCallingMethodName() {\n    StackTraceElement callingFrame = Thread.currentThread().getStackTrace()[4];\n    return callingFrame.getMethodName();\n}\n</code></pre>\n\n<p>And call that method from within the method that needs to know who its caller is. However, a word of warning: the index of the calling frame within the list could vary according to the JVM! It all depends on how many layers of calls there are within getStackTrace before you hit the point where the trace is generated. A more robust solution would be to get the trace, and iterate over it looking for the frame for getCallingMethodName, then take two steps further up to find the true caller.</p>\n"},{"tags":[],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496156428,"creation_date":1244043507,"answer_id":945463,"question_id":944991,"body_markdown":"[HPROF Java Profiler][1]\r\n\r\nYou don&#39;t even have to do this in the code.  You can attach the Java HPROF to your process and at any point hit Control-\\ to output heap dump, running threads, etc . . . without mucking up your application code.  This is a bit outdated, Java 6 comes with the GUI jconsole, but I still find HPROF to be very useful.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr008.html","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr008.html\" rel=\"nofollow noreferrer\">HPROF Java Profiler</a></p>\n\n<p>You don't even have to do this in the code.  You can attach the Java HPROF to your process and at any point hit Control-\\ to output heap dump, running threads, etc . . . without mucking up your application code.  This is a bit outdated, Java 6 comes with the GUI jconsole, but I still find HPROF to be very useful.</p>\n"},{"tags":[],"owner":{"account_id":20832,"reputation":6065,"user_id":50131,"accept_rate":100,"display_name":"Andrew Newdigate"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1244045078,"creation_date":1244045078,"answer_id":945583,"question_id":944991,"body_markdown":"You can also send a signal to the JVM to execute Thread.getAllStackTraces() on a running Java process by sending a QUIT signal to the process.\r\n\r\nOn Unix/Linux use:\r\n\r\n`kill -QUIT process_id`, where process_id is the process number of your Java program.\r\n\r\nOn Windows, you can press Ctrl-Break in the application, although you usually won&#39;t see this unless you&#39;re running a console process.\r\n\r\nJDK6 introduced another option, the jstack command, which will display the stack from any running JDK6 process on your computer:\r\n\r\n`jstack [-l] &lt;pid&gt;`\r\n\r\n\r\nThese options are very useful for applications which are running in a production environment and cannot be modified easily. They&#39;re especially useful for diagnosing runtime deadlocks or performance problems.\r\n\r\n[http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/][1]\r\n[http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html][2]\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>You can also send a signal to the JVM to execute Thread.getAllStackTraces() on a running Java process by sending a QUIT signal to the process.</p>\n\n<p>On Unix/Linux use:</p>\n\n<p><code>kill -QUIT process_id</code>, where process_id is the process number of your Java program.</p>\n\n<p>On Windows, you can press Ctrl-Break in the application, although you usually won't see this unless you're running a console process.</p>\n\n<p>JDK6 introduced another option, the jstack command, which will display the stack from any running JDK6 process on your computer:</p>\n\n<p><code>jstack [-l] &lt;pid&gt;</code></p>\n\n<p>These options are very useful for applications which are running in a production environment and cannot be modified easily. They're especially useful for diagnosing runtime deadlocks or performance problems.</p>\n\n<p><a href=\"http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/\" rel=\"noreferrer\">http://java.sun.com/developer/technicalArticles/Programming/Stacktrace/</a>\n<a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/technotes/tools/share/jstack.html</a></p>\n"},{"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":15,"creation_date":1392759619,"post_id":14628854,"comment_id":33104405,"body_markdown":"It creates an exception, but doesn&#39;t throw it.","body":"It creates an exception, but doesn&#39;t throw it."}],"tags":[],"owner":{"account_id":433957,"reputation":2917,"user_id":819606,"accept_rate":60,"display_name":"Ariel T"},"comment_count":1,"down_vote_count":4,"up_vote_count":21,"is_accepted":false,"score":17,"last_activity_date":1359644780,"creation_date":1359644780,"answer_id":14628854,"question_id":944991,"body_markdown":"Notice that Thread.dumpStack() actually throws an exception:\r\n\r\n\r\n    new Exception(&quot;Stack trace&quot;).printStackTrace();","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>Notice that Thread.dumpStack() actually throws an exception:</p>\n\n<pre><code>new Exception(\"Stack trace\").printStackTrace();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":924881,"reputation":549,"user_id":955857,"display_name":"Ricardo Jl Rufino"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1491303027,"creation_date":1491303027,"answer_id":43205102,"question_id":944991,"body_markdown":"If you need capture output\r\n\r\n    StringWriter sw = new StringWriter();\r\n    new Throwable(&quot;&quot;).printStackTrace(new PrintWriter(sw));\r\n    String stackTrace = sw.toString();","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>If you need capture output</p>\n\n<pre><code>StringWriter sw = new StringWriter();\nnew Throwable(\"\").printStackTrace(new PrintWriter(sw));\nString stackTrace = sw.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1512656163,"creation_date":1512656163,"answer_id":47697023,"question_id":944991,"body_markdown":"Java 9 introduced the [`StackWalker`][1] and supporting classes for walking the stack.\r\n\r\nHere are a few snippets from the Javadoc:\r\n\r\n&gt; The [`walk`][2] method opens a sequential stream of [`StackFrames`][3] for the current thread and then applies the given function to walk the `StackFrame` stream. The stream reports stack frame elements in order, from the top most frame that represents the execution point at which the stack was generated to the bottom most frame. The `StackFrame` stream is closed when the walk method returns. If an attempt is made to reuse the closed stream, `IllegalStateException` will be thrown.\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; 2. To snapshot the top 10 stack frames of the current thread,\r\n&gt;\r\n&gt;         List&lt;StackFrame&gt; stack = StackWalker.getInstance().walk(s -&gt;\r\n         s.limit(10).collect(Collectors.toList()));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html#walk-java.util.function.Function-\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.StackFrame.html","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>Java 9 introduced the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html\" rel=\"noreferrer\"><code>StackWalker</code></a> and supporting classes for walking the stack.</p>\n\n<p>Here are a few snippets from the Javadoc:</p>\n\n<blockquote>\n  <p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.html#walk-java.util.function.Function-\" rel=\"noreferrer\"><code>walk</code></a> method opens a sequential stream of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/StackWalker.StackFrame.html\" rel=\"noreferrer\"><code>StackFrames</code></a> for the current thread and then applies the given function to walk the <code>StackFrame</code> stream. The stream reports stack frame elements in order, from the top most frame that represents the execution point at which the stack was generated to the bottom most frame. The <code>StackFrame</code> stream is closed when the walk method returns. If an attempt is made to reuse the closed stream, <code>IllegalStateException</code> will be thrown.</p>\n  \n  <p>...</p>\n  \n  <ol start=\"2\">\n  <li><p>To snapshot the top 10 stack frames of the current thread,</p>\n\n<pre><code>List&lt;StackFrame&gt; stack = StackWalker.getInstance().walk(s -&gt;\n s.limit(10).collect(Collectors.toList()));\n</code></pre></li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1588408091,"creation_date":1588408091,"answer_id":61556469,"question_id":944991,"body_markdown":"The [answer by Rob Di Marco][1] is by far the best if you are happy to output to `stderr`. \r\n\r\nIf you want to capture to a `String`, with new lines as per a normal trace, you could do this:\r\n\r\n    Arrays.toString(Thread.currentThread().getStackTrace()).replace( &#39;,&#39;, &#39;\\n&#39; );\r\n\r\n  [1]: https://stackoverflow.com/a/945020/595305\r\n","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>The <a href=\"https://stackoverflow.com/a/945020/595305\">answer by Rob Di Marco</a> is by far the best if you are happy to output to <code>stderr</code>. </p>\n\n<p>If you want to capture to a <code>String</code>, with new lines as per a normal trace, you could do this:</p>\n\n<pre><code>Arrays.toString(Thread.currentThread().getStackTrace()).replace( ',', '\\n' );\n</code></pre>\n"}],"owner":{"account_id":29678,"reputation":11815,"user_id":80389,"accept_rate":65,"display_name":"corgrath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102140,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"accepted_answer_id":945037,"answer_count":10,"score":209,"last_activity_date":1696938425,"creation_date":1244038318,"question_id":944991,"body_markdown":"I am thinking of creating a debug tool for my Java application.\r\n\r\nI am wondering if it is possible to get a stack trace, just like ``Exception.printStackTrace()`` but without actually throwing an exception?\r\n\r\nMy goal is to, in any given method, dump a stack to see who the method caller is.","title":"Is there a way to dump a stack trace without throwing an exception in java?","body":"<p>I am thinking of creating a debug tool for my Java application.</p>\n\n<p>I am wondering if it is possible to get a stack trace, just like <code>Exception.printStackTrace()</code> but without actually throwing an exception?</p>\n\n<p>My goal is to, in any given method, dump a stack to see who the method caller is.</p>\n"},{"tags":["java","azure","spring-data","azure-cosmosdb-sqlapi"],"owner":{"account_id":4831207,"reputation":57,"user_id":3899369,"display_name":"Bhukailas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696938394,"creation_date":1696938394,"question_id":77265476,"body_markdown":"I am using following spring data cosmos library. But we would like to selectively log cosmos RUs based on a requestId or transaction Id for tracing only if Rus usage of a given call is more than threshold. How to achieve this with spring data cosmos \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-spring-data-cosmos&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"how to log cosmos RUs usage selectively along with a transaction identifier using Cosmos DB Spring data SQL api","body":"<p>I am using following spring data cosmos library. But we would like to selectively log cosmos RUs based on a requestId or transaction Id for tracing only if Rus usage of a given call is more than threshold. How to achieve this with spring data cosmos</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.azure&lt;/groupId&gt;\n  &lt;artifactId&gt;azure-spring-data-cosmos&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":13,"creation_date":1441639501,"post_id":32441919,"comment_id":52747632,"body_markdown":"Change your return type to a `ResponseEntity&lt;Object&gt;` or to a `ResponseEntity&lt;?&gt;`. Instead of passing a `null` argument for your error case, pass in a `String`. Spring is smart enough to see the `String` and write it as text to the response body. Alternatively, provide a `@ExceptionHandler` that will handle the exception itself and have your handler throw the exception.","body":"Change your return type to a <code>ResponseEntity&lt;Object&gt;</code> or to a <code>ResponseEntity&lt;?&gt;</code>. Instead of passing a <code>null</code> argument for your error case, pass in a <code>String</code>. Spring is smart enough to see the <code>String</code> and write it as text to the response body. Alternatively, provide a <code>@ExceptionHandler</code> that will handle the exception itself and have your handler throw the exception."},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":1,"creation_date":1441642741,"post_id":32441919,"comment_id":52749090,"body_markdown":"@SotiriosDelimanolis, wondering why don&#39;t you create answer?","body":"@SotiriosDelimanolis, wondering why don&#39;t you create answer?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1441722373,"post_id":32441919,"comment_id":52782737,"body_markdown":"@lkrnac I&#39;ve answered similar questions in the past. I don&#39;t find them necessarily interesting anymore. But I couldn&#39;t find a duplicate, so I still wanted to give something.","body":"@lkrnac I&#39;ve answered similar questions in the past. I don&#39;t find them necessarily interesting anymore. But I couldn&#39;t find a duplicate, so I still wanted to give something."}],"answers":[{"comments":[{"owner":{"account_id":56838,"reputation":3864,"user_id":170239,"accept_rate":44,"display_name":"chrismacp"},"score":0,"creation_date":1480100130,"post_id":32445360,"comment_id":68842291,"body_markdown":"I have been doing something similar to the second example here. I can&#39;t test it properly though. Do you know how to test the controller response using this method. Seems to work when you don&#39;t return your own ResponseEntity, but just use \\@ResponseStatus and \\@ResponseBody alongside \\@ExceptionHandler.","body":"I have been doing something similar to the second example here. I can&#39;t test it properly though. Do you know how to test the controller response using this method. Seems to work when you don&#39;t return your own ResponseEntity, but just use \\@ResponseStatus and \\@ResponseBody alongside \\@ExceptionHandler."},{"owner":{"account_id":8782290,"reputation":116,"user_id":6565567,"display_name":"Dimitris Chasanidis"},"score":0,"creation_date":1602358215,"post_id":32445360,"comment_id":113697286,"body_markdown":"Should the class with the @ControllerAdvice try to handle all possible exceptions? For example if I throw a &quot;weak password&quot; exception, should I try catch it in the service method, or should I handle it in the exception handler class? How do we separate which exceptions are being handled by who? I know it&#39;s pretty subjective, but is there a standard practice?","body":"Should the class with the @ControllerAdvice try to handle all possible exceptions? For example if I throw a &quot;weak password&quot; exception, should I try catch it in the service method, or should I handle it in the exception handler class? How do we separate which exceptions are being handled by who? I know it&#39;s pretty subjective, but is there a standard practice?"},{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1643215913,"post_id":32445360,"comment_id":125282176,"body_markdown":"To avoid a `Raw use of parameterized class &#39;ResponseEntity` warning, use `ResponseEntity&lt;?&gt;` as your method return type.","body":"To avoid a <code>Raw use of parameterized class &#39;ResponseEntity</code> warning, use <code>ResponseEntity&lt;?&gt;</code> as your method return type."},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1691188625,"post_id":32445360,"comment_id":135463392,"body_markdown":"what happens if you have Strong type object?  eg ResponseEntity&lt;Product&gt; , then you cant throw error","body":"what happens if you have Strong type object?  eg ResponseEntity&lt;Product&gt; , then you cant throw error"},{"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"score":0,"creation_date":1691959890,"post_id":32445360,"comment_id":135557839,"body_markdown":"It would be useful to have `public class ExceptionHandlerAdvice extends ResponseEntityExceptionHandler`. (See [this](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html).)","body":"It would be useful to have <code>public class ExceptionHandlerAdvice extends ResponseEntityExceptionHandler</code>. (See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\" rel=\"nofollow noreferrer\">this</a>.)"}],"tags":[],"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"comment_count":5,"down_vote_count":0,"up_vote_count":150,"is_accepted":true,"score":150,"last_activity_date":1455562987,"creation_date":1441656208,"answer_id":32445360,"question_id":32441919,"body_markdown":"As [ Sotirios Delimanolis][1] already pointed out in the comments, there are two options:\r\n\r\nReturn `ResponseEntity` with error message\r\n------------------------------------------\r\nChange your method like this:\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public ResponseEntity getUser(@RequestHeader(value=&quot;Access-key&quot;) String accessKey,\r\n                                  @RequestHeader(value=&quot;Secret-key&quot;) String secretKey) {\r\n        try {\r\n            // see note 1\r\n            return ResponseEntity\r\n                .status(HttpStatus.CREATED)                 \r\n                .body(this.userService.chkCredentials(accessKey, secretKey, timestamp));\r\n        }\r\n        catch(ChekingCredentialsFailedException e) {\r\n            e.printStackTrace(); // see note 2\r\n            return ResponseEntity\r\n                .status(HttpStatus.FORBIDDEN)\r\n                .body(&quot;Error Message&quot;);\r\n        }\r\n    }\r\n\r\n*Note 1*: You don&#39;t have to use the `ResponseEntity` builder but I find it helps with keeping the code readable. It also helps remembering, which data a response for a specific HTTP status code should include. For example, a response with the status code 201 should contain a link to the newly created resource in the `Location` header (see [Status Code Definitions][2]). This is why Spring offers the convenient build method `ResponseEntity.created(URI)`. \r\n\r\n*Note 2*: Don&#39;t use `printStackTrace()`, use a logger instead.\r\n\r\nProvide an `@ExceptionHandler`\r\n------------------------------\r\nRemove the try-catch block from your method and let it throw the exception. Then create another method in a class annotated with `@ControllerAdvice` like this:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerAdvice {\r\n\r\n        @ExceptionHandler(ChekingCredentialsFailedException.class)\r\n        public ResponseEntity handleException(ChekingCredentialsFailedException e) {\r\n            // log exception\r\n            return ResponseEntity\r\n                    .status(HttpStatus.FORBIDDEN)\r\n                    .body(&quot;Error Message&quot;);\r\n        }        \r\n    }\r\n\r\nNote that methods which are annotated with `@ExceptionHandler` are allowed to have very flexible signatures. See the [Javadoc][3] for details.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/438154/sotirios-delimanolis\r\n  [2]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html","title":"How return error message in spring mvc @Controller","body":"<p>As <a href=\"https://stackoverflow.com/users/438154/sotirios-delimanolis\"> Sotirios Delimanolis</a> already pointed out in the comments, there are two options:</p>\n\n<h2>Return <code>ResponseEntity</code> with error message</h2>\n\n<p>Change your method like this:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic ResponseEntity getUser(@RequestHeader(value=\"Access-key\") String accessKey,\n                              @RequestHeader(value=\"Secret-key\") String secretKey) {\n    try {\n        // see note 1\n        return ResponseEntity\n            .status(HttpStatus.CREATED)                 \n            .body(this.userService.chkCredentials(accessKey, secretKey, timestamp));\n    }\n    catch(ChekingCredentialsFailedException e) {\n        e.printStackTrace(); // see note 2\n        return ResponseEntity\n            .status(HttpStatus.FORBIDDEN)\n            .body(\"Error Message\");\n    }\n}\n</code></pre>\n\n<p><em>Note 1</em>: You don't have to use the <code>ResponseEntity</code> builder but I find it helps with keeping the code readable. It also helps remembering, which data a response for a specific HTTP status code should include. For example, a response with the status code 201 should contain a link to the newly created resource in the <code>Location</code> header (see <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"noreferrer\">Status Code Definitions</a>). This is why Spring offers the convenient build method <code>ResponseEntity.created(URI)</code>. </p>\n\n<p><em>Note 2</em>: Don't use <code>printStackTrace()</code>, use a logger instead.</p>\n\n<h2>Provide an <code>@ExceptionHandler</code></h2>\n\n<p>Remove the try-catch block from your method and let it throw the exception. Then create another method in a class annotated with <code>@ControllerAdvice</code> like this:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerAdvice {\n\n    @ExceptionHandler(ChekingCredentialsFailedException.class)\n    public ResponseEntity handleException(ChekingCredentialsFailedException e) {\n        // log exception\n        return ResponseEntity\n                .status(HttpStatus.FORBIDDEN)\n                .body(\"Error Message\");\n    }        \n}\n</code></pre>\n\n<p>Note that methods which are annotated with <code>@ExceptionHandler</code> are allowed to have very flexible signatures. See the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ExceptionHandler.html\" rel=\"noreferrer\">Javadoc</a> for details.</p>\n"},{"comments":[{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1691188628,"post_id":37953633,"comment_id":135463393,"body_markdown":"what happens if you have Strong type object?  eg ResponseEntity&lt;Product&gt; , then you cant throw error","body":"what happens if you have Strong type object?  eg ResponseEntity&lt;Product&gt; , then you cant throw error"}],"tags":[],"owner":{"account_id":1285498,"reputation":645,"user_id":1238676,"display_name":"Norris"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1466539532,"creation_date":1466539532,"answer_id":37953633,"question_id":32441919,"body_markdown":"Here is an alternative.  Create a generic exception that takes a status code and a message.  Then create an exception handler.  Use the exception handler to retrieve the information out of the exception and return to the caller of the service.\r\n\r\nhttp://javaninja.net/2016/06/throwing-exceptions-messages-spring-mvc-controller/\r\n\r\n    public class ResourceException extends RuntimeException {\r\n    \r\n        private HttpStatus httpStatus = HttpStatus.INTERNAL_SERVER_ERROR;\r\n    \r\n        public HttpStatus getHttpStatus() {\r\n            return httpStatus;\r\n        }\r\n    \r\n        /**\r\n         * Constructs a new runtime exception with the specified detail message.\r\n         * The cause is not initialized, and may subsequently be initialized by a\r\n         * call to {@link #initCause}.\r\n         * @param message the detail message. The detail message is saved for later retrieval by the {@link #getMessage()}\r\n         *                method.\r\n         */\r\n        public ResourceException(HttpStatus httpStatus, String message) {\r\n            super(message);\r\n            this.httpStatus = httpStatus;\r\n        }\r\n    }\r\n\r\n\r\nThen use an exception handler to retrieve the information and return it to the service caller.\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerAdvice { \r\n     \r\n        @ExceptionHandler(ResourceException.class)\r\n        public ResponseEntity handleException(ResourceException e) {\r\n            // log exception \r\n            return ResponseEntity.status(e.getHttpStatus()).body(e.getMessage());\r\n        }         \r\n    } \r\n\r\nThen create an exception when you need to.\r\n\r\n    throw new ResourceException(HttpStatus.NOT_FOUND, &quot;We were unable to find the specified resource.&quot;);","title":"How return error message in spring mvc @Controller","body":"<p>Here is an alternative.  Create a generic exception that takes a status code and a message.  Then create an exception handler.  Use the exception handler to retrieve the information out of the exception and return to the caller of the service.</p>\n\n<p><a href=\"http://javaninja.net/2016/06/throwing-exceptions-messages-spring-mvc-controller/\" rel=\"noreferrer\">http://javaninja.net/2016/06/throwing-exceptions-messages-spring-mvc-controller/</a></p>\n\n<pre><code>public class ResourceException extends RuntimeException {\n\n    private HttpStatus httpStatus = HttpStatus.INTERNAL_SERVER_ERROR;\n\n    public HttpStatus getHttpStatus() {\n        return httpStatus;\n    }\n\n    /**\n     * Constructs a new runtime exception with the specified detail message.\n     * The cause is not initialized, and may subsequently be initialized by a\n     * call to {@link #initCause}.\n     * @param message the detail message. The detail message is saved for later retrieval by the {@link #getMessage()}\n     *                method.\n     */\n    public ResourceException(HttpStatus httpStatus, String message) {\n        super(message);\n        this.httpStatus = httpStatus;\n    }\n}\n</code></pre>\n\n<p>Then use an exception handler to retrieve the information and return it to the service caller.</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlerAdvice { \n\n    @ExceptionHandler(ResourceException.class)\n    public ResponseEntity handleException(ResourceException e) {\n        // log exception \n        return ResponseEntity.status(e.getHttpStatus()).body(e.getMessage());\n    }         \n} \n</code></pre>\n\n<p>Then create an exception when you need to.</p>\n\n<pre><code>throw new ResourceException(HttpStatus.NOT_FOUND, \"We were unable to find the specified resource.\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1770214,"reputation":6814,"user_id":1615183,"accept_rate":65,"display_name":"Hola Soy Edu Feliz Navidad"},"score":5,"creation_date":1541760348,"post_id":52946033,"comment_id":93335304,"body_markdown":"Where does GenericResponseBean come from?","body":"Where does GenericResponseBean come from?"}],"tags":[],"owner":{"account_id":13613566,"reputation":75,"user_id":9820210,"display_name":"Soodabeh Neirizi"},"comment_count":1,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1540289177,"creation_date":1540288102,"answer_id":52946033,"question_id":32441919,"body_markdown":"    return new ResponseEntity&lt;&gt;(GenericResponseBean.newGenericError(&quot;Error during the calling the service&quot;, -1L), HttpStatus.EXPECTATION_FAILED);","title":"How return error message in spring mvc @Controller","body":"<pre><code>return new ResponseEntity&lt;&gt;(GenericResponseBean.newGenericError(\"Error during the calling the service\", -1L), HttpStatus.EXPECTATION_FAILED);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8233813,"reputation":149,"user_id":6193744,"display_name":"frangel02"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1580745661,"creation_date":1580744301,"answer_id":60042459,"question_id":32441919,"body_markdown":"Evaluating the error response from another service invocated...\r\n\r\nThis was my solution for evaluating the error:\r\n\r\n    try {\r\n            return authenticationFeign.signIn(userDto, dataRequest);\r\n        }catch(FeignException ex){\r\n            \r\n            //ex.status();\r\n\r\n            if(ex.status() == HttpStatus.UNAUTHORIZED.value()){\r\n                System.out.println(&quot;is a error 401&quot;);\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\r\n        }\r\n\r\n","title":"How return error message in spring mvc @Controller","body":"<p>Evaluating the error response from another service invocated...</p>\n\n<p>This was my solution for evaluating the error:</p>\n\n<pre><code>try {\n        return authenticationFeign.signIn(userDto, dataRequest);\n    }catch(FeignException ex){\n\n        //ex.status();\n\n        if(ex.status() == HttpStatus.UNAUTHORIZED.value()){\n            System.out.println(\"is a error 401\");\n            return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10714522,"reputation":11,"user_id":7885687,"display_name":"Van"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696938334,"creation_date":1696938334,"answer_id":77265469,"question_id":32441919,"body_markdown":"I&#180;m not using the RepsoneEntitiy as return element because it destroys json format of the body. I found at this time of my posting this solution:\r\n\r\n            throw new ResponseStatusException(\r\n          HttpStatus.BAD_REQUEST, &quot;ErrorMessage&quot;, optionalCauseExeption);\r\n\r\nfound here:\r\nhttps://www.baeldung.com/spring-response-status-exception\r\n","title":"How return error message in spring mvc @Controller","body":"<p>I´m not using the RepsoneEntitiy as return element because it destroys json format of the body. I found at this time of my posting this solution:</p>\n<pre><code>        throw new ResponseStatusException(\n      HttpStatus.BAD_REQUEST, &quot;ErrorMessage&quot;, optionalCauseExeption);\n</code></pre>\n<p>found here:\n<a href=\"https://www.baeldung.com/spring-response-status-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-response-status-exception</a></p>\n"}],"owner":{"account_id":4117696,"reputation":1844,"user_id":3378876,"accept_rate":74,"display_name":"user3378876"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213928,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":32445360,"answer_count":5,"score":85,"last_activity_date":1696938334,"creation_date":1441639391,"question_id":32441919,"body_markdown":"I am using methods like this \r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public ResponseEntity&lt;UserWithPhoto&gt; getUser(@RequestHeader(value=&quot;Access-key&quot;) String accessKey,\r\n\t\t\t\t\t\t\t\t\t     @RequestHeader(value=&quot;Secret-key&quot;) String secretKey){\r\n\t\ttry{\r\n\t\t\treturn new ResponseEntity&lt;UserWithPhoto&gt;((UserWithPhoto)this.userService.chkCredentials(accessKey, secretKey, timestamp),\r\n\t\t\t\t\tnew HttpHeaders(),\r\n\t\t\t\t\tHttpStatus.CREATED);\r\n        }\r\n\t\tcatch(ChekingCredentialsFailedException e){\r\n\t\t\te.printStackTrace();\r\n        \treturn new ResponseEntity&lt;UserWithPhoto&gt;(null,new HttpHeaders(),HttpStatus.FORBIDDEN);\r\n        }\r\n    }\r\n\r\nAnd I want to return some text message when exception occurs but now I just return status and null object. Is it possible to do?","title":"How return error message in spring mvc @Controller","body":"<p>I am using methods like this </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic ResponseEntity&lt;UserWithPhoto&gt; getUser(@RequestHeader(value=\"Access-key\") String accessKey,\n                                     @RequestHeader(value=\"Secret-key\") String secretKey){\n    try{\n        return new ResponseEntity&lt;UserWithPhoto&gt;((UserWithPhoto)this.userService.chkCredentials(accessKey, secretKey, timestamp),\n                new HttpHeaders(),\n                HttpStatus.CREATED);\n    }\n    catch(ChekingCredentialsFailedException e){\n        e.printStackTrace();\n        return new ResponseEntity&lt;UserWithPhoto&gt;(null,new HttpHeaders(),HttpStatus.FORBIDDEN);\n    }\n}\n</code></pre>\n\n<p>And I want to return some text message when exception occurs but now I just return status and null object. Is it possible to do?</p>\n"},{"tags":["java","spring","azure","deployment","cloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696883710,"post_id":77261003,"comment_id":136207618,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1696908976,"post_id":77261003,"comment_id":136209612,"body_markdown":"Please provide code or repository link if you have your project in GitHub(excluding sensitive information).","body":"Please provide code or repository link if you have your project in GitHub(excluding sensitive information)."},{"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"score":1,"creation_date":1696921978,"post_id":77261003,"comment_id":136210984,"body_markdown":"Edited just now @PravallikaKV","body":"Edited just now @PravallikaKV"},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1696922397,"post_id":77261003,"comment_id":136211067,"body_markdown":"How are you deploying your application? Any IDE?","body":"How are you deploying your application? Any IDE?"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696938265,"creation_date":1696938265,"answer_id":77265463,"question_id":77261003,"body_markdown":"***I created a simple spring boot application and used your code with few modifications as below:*** \r\n```java\r\npackage com.example.spring_crud;\r\n\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class StudentController {\r\n    private Student student;\r\n\r\n    @GetMapping(&quot;/student/{id}&quot;)\r\n    public Student getStudent(String id)\r\n    {\r\n        System.out.println(&quot;students displayed&quot;);\r\n        return student;\r\n        // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\r\n    }\r\n    @GetMapping(&quot;/student&quot;)\r\n    public Student getStudents()\r\n    {\r\n        System.out.println(&quot;students displayed&quot;);\r\n    return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\r\n    }\r\n\r\n    @PostMapping(&quot;/student&quot;)\r\n    public String createStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student created!&quot;;\r\n    }\r\n\r\n    @PutMapping(&quot;/student/{id}&quot;)\r\n    public String updateStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student updated!&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/student/delete/{id}&quot;)\r\n    public String deleteStudent( String id)\r\n    {\r\n        this.student = null;\r\n        return &quot;Student deleted!&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Local response:**\r\n\r\nAs I don&#39;t have any data, I could just display like below:\r\n\r\n![enter image description here](https://i.imgur.com/9EoLBoF.png)\r\n\r\nI have deployed the application via IntelliJ IDE:\r\n\r\n![enter image description here](https://i.imgur.com/VmKsejQ.png)\r\n\r\n![enter image description here](https://i.imgur.com/JMgi0Uc.png)\r\n\r\n**Deployed Successfully:**\r\n\r\n![enter image description here](https://i.imgur.com/Ujzq3vO.png)\r\n\r\n**Azure response:**\r\n\r\n![enter image description here](https://i.imgur.com/aKvlCME.png)\r\n\r\n***Refer my [GitHub repository](https://github.com/PravallikaKothaveerannagari/Springboot_H2-database_CRUD) for a sample Spring_boot CRUD Application.*** \r\n\r\n**Deployed to Azure App Service:**\r\n\r\n![enter image description here](https://i.imgur.com/t8HwGTc.png)\r\n\r\n![enter image description here](https://i.imgur.com/3f99LM2.png)","title":"why do i get blank page after deploying my spring boot CRUD REST Api to Azure when i try to make a request on an endpoint?","body":"<p><em><strong>I created a simple spring boot application and used your code with few modifications as below:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.spring_crud;\n\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/&quot;)\npublic class StudentController {\n    private Student student;\n\n    @GetMapping(&quot;/student/{id}&quot;)\n    public Student getStudent(String id)\n    {\n        System.out.println(&quot;students displayed&quot;);\n        return student;\n        // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\n    }\n    @GetMapping(&quot;/student&quot;)\n    public Student getStudents()\n    {\n        System.out.println(&quot;students displayed&quot;);\n    return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, 22);\n    }\n\n    @PostMapping(&quot;/student&quot;)\n    public String createStudent(@RequestBody Student student)\n    {\n        this.student = student;\n        return &quot;Student created!&quot;;\n    }\n\n    @PutMapping(&quot;/student/{id}&quot;)\n    public String updateStudent(@RequestBody Student student)\n    {\n        this.student = student;\n        return &quot;Student updated!&quot;;\n    }\n\n    @DeleteMapping(&quot;/student/delete/{id}&quot;)\n    public String deleteStudent( String id)\n    {\n        this.student = null;\n        return &quot;Student deleted!&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>Local response:</strong></p>\n<p>As I don't have any data, I could just display like below:</p>\n<p><img src=\"https://i.imgur.com/9EoLBoF.png\" alt=\"enter image description here\" /></p>\n<p>I have deployed the application via IntelliJ IDE:</p>\n<p><img src=\"https://i.imgur.com/VmKsejQ.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/JMgi0Uc.png\" alt=\"enter image description here\" /></p>\n<p><strong>Deployed Successfully:</strong></p>\n<p><img src=\"https://i.imgur.com/Ujzq3vO.png\" alt=\"enter image description here\" /></p>\n<p><strong>Azure response:</strong></p>\n<p><img src=\"https://i.imgur.com/aKvlCME.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Refer my <a href=\"https://github.com/PravallikaKothaveerannagari/Springboot_H2-database_CRUD\" rel=\"nofollow noreferrer\">GitHub repository</a> for a sample Spring_boot CRUD Application.</strong></em></p>\n<p><strong>Deployed to Azure App Service:</strong></p>\n<p><img src=\"https://i.imgur.com/t8HwGTc.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/3f99LM2.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29428936,"reputation":11,"user_id":22548990,"display_name":"Catalin Coman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696938265,"creation_date":1696875443,"question_id":77261003,"body_markdown":"I created an Crud REST API in spring, after deploying to azure i cannot see anything on the endpoints (just a blank page). On my localhost it worked just fine.\r\n\r\nthis is the site https://app-studentiapi-231009202421.azurewebsites.net/student/2\r\n\r\nI tried redeploying the entire app, didnt work.\r\nI tried updating the settings from the azure portal, still didnt work.\r\n\r\nI dont have the code posted in GIT, but the program itself its pretty simple, i have one controller and one model. Here is my controller class:\r\n\r\n    package com.studentComanCatalin.demo.controller;\r\n\r\n    import com.studentComanCatalin.demo.model.Student;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/student&quot;)\r\n    public class StudentController {\r\n    private Student student;\r\n\r\n    @GetMapping(&quot;{id}&quot;)\r\n    public Student getStudent(String id)\r\n    {\r\n        return student;\r\n       // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, \r\n    22);\r\n    }\r\n\r\n    @PostMapping\r\n    public String createStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student created!&quot;;\r\n    }\r\n\r\n    @PutMapping\r\n    public String updateStudent(@RequestBody Student student)\r\n    {\r\n        this.student = student;\r\n        return &quot;Student updated!&quot;;\r\n    }\r\n\r\n    @DeleteMapping(&quot;{id}&quot;)\r\n    public String deleteStudent( String id)\r\n    {\r\n        this.student = null;\r\n        return &quot;Student deleted!&quot;;\r\n    }\r\n\r\n}\r\n","title":"why do i get blank page after deploying my spring boot CRUD REST Api to Azure when i try to make a request on an endpoint?","body":"<p>I created an Crud REST API in spring, after deploying to azure i cannot see anything on the endpoints (just a blank page). On my localhost it worked just fine.</p>\n<p>this is the site <a href=\"https://app-studentiapi-231009202421.azurewebsites.net/student/2\" rel=\"nofollow noreferrer\">https://app-studentiapi-231009202421.azurewebsites.net/student/2</a></p>\n<p>I tried redeploying the entire app, didnt work.\nI tried updating the settings from the azure portal, still didnt work.</p>\n<p>I dont have the code posted in GIT, but the program itself its pretty simple, i have one controller and one model. Here is my controller class:</p>\n<pre><code>package com.studentComanCatalin.demo.controller;\n\nimport com.studentComanCatalin.demo.model.Student;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/student&quot;)\npublic class StudentController {\nprivate Student student;\n\n@GetMapping(&quot;{id}&quot;)\npublic Student getStudent(String id)\n{\n    return student;\n   // return new Student(&quot;1&quot;,&quot;catalin&quot;,&quot;catalin@catalin.com&quot;, \n22);\n}\n\n@PostMapping\npublic String createStudent(@RequestBody Student student)\n{\n    this.student = student;\n    return &quot;Student created!&quot;;\n}\n\n@PutMapping\npublic String updateStudent(@RequestBody Student student)\n{\n    this.student = student;\n    return &quot;Student updated!&quot;;\n}\n\n@DeleteMapping(&quot;{id}&quot;)\npublic String deleteStudent( String id)\n{\n    this.student = null;\n    return &quot;Student deleted!&quot;;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","tomcat","tomcat8"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1495561137,"post_id":44141560,"comment_id":75301207,"body_markdown":"How *have* you configured the filters?","body":"How <i>have</i> you configured the filters?"}],"answers":[{"comments":[{"owner":{"account_id":4548892,"reputation":958,"user_id":3694570,"accept_rate":50,"display_name":"Marco Blos"},"score":0,"creation_date":1510228593,"post_id":44147478,"comment_id":81350816,"body_markdown":"Just for complement:\nThe logs in `/var/logs/tomcat8` don&#39;t show all stacktrace. Go to tomcat path to get full logs. The default instalations is in `/usr/share/tomcat8/logs`","body":"Just for complement: The logs in <code>&#47;var&#47;logs&#47;tomcat8</code> don&#39;t show all stacktrace. Go to tomcat path to get full logs. The default instalations is in <code>&#47;usr&#47;share&#47;tomcat8&#47;logs</code>"},{"owner":{"account_id":27878,"reputation":4317,"user_id":74000,"accept_rate":58,"display_name":"dudeNumber4"},"score":0,"creation_date":1683724542,"post_id":44147478,"comment_id":134410461,"body_markdown":"In my case, there was no other log entry containing the actual error, localhost.date.log was empty.  My issue was that I was copying a new war file in place without properly cleaning out the app directory of the contents of the previous wars.","body":"In my case, there was no other log entry containing the actual error, localhost.date.log was empty.  My issue was that I was copying a new war file in place without properly cleaning out the app directory of the contents of the previous wars."}],"tags":[],"owner":{"account_id":5989141,"reputation":5020,"user_id":7725621,"accept_rate":77,"display_name":"Kohei TAMURA"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495589110,"creation_date":1495589110,"answer_id":44147478,"question_id":44141560,"body_markdown":"As your log suggests (`Full details will be found in the appropriate container log file`), you should check Tomcat log, and then you can find the message starts with `Exception starting filter ...`.\r\n","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>As your log suggests (<code>Full details will be found in the appropriate container log file</code>), you should check Tomcat log, and then you can find the message starts with <code>Exception starting filter ...</code>.</p>\n"},{"tags":[],"owner":{"account_id":976292,"reputation":2932,"user_id":2048740,"display_name":"jgrocha"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1631818093,"creation_date":1554679192,"answer_id":55564519,"question_id":44141560,"body_markdown":"Using Tomcat 8.5.30 on Ubuntu 18.04, I was getting the error:\r\n\r\n    08-Apr-2019 00:02:16.994 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\r\n\r\nThe details were in the log file: `/var/lib/tomcat8/logs/localhost.2019-04-08.log` (the same as `/var/log/tomcat8/localhost.2019-04-08.log`).\r\n\r\nThe details were:\r\n\r\n    08-Apr-2019 00:02:01.869 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [CorsFilter]\r\n     javax.servlet.ServletException: It is not allowed to configure supportsCredentials=[true] when allowedOrigins=[*]\r\n\r\nI was trying to use `*` for the `cors.allowed.origins` with `cors.support.credentials` set to `true`. Setting `cors.support.credentials` to `false` solved the problem.\r\n\r\nFinding and checking the correct log file solved my problem.","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>Using Tomcat 8.5.30 on Ubuntu 18.04, I was getting the error:</p>\n<pre><code>08-Apr-2019 00:02:16.994 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\n</code></pre>\n<p>The details were in the log file: <code>/var/lib/tomcat8/logs/localhost.2019-04-08.log</code> (the same as <code>/var/log/tomcat8/localhost.2019-04-08.log</code>).</p>\n<p>The details were:</p>\n<pre><code>08-Apr-2019 00:02:01.869 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.filterStart Exception starting filter [CorsFilter]\n javax.servlet.ServletException: It is not allowed to configure supportsCredentials=[true] when allowedOrigins=[*]\n</code></pre>\n<p>I was trying to use <code>*</code> for the <code>cors.allowed.origins</code> with <code>cors.support.credentials</code> set to <code>true</code>. Setting <code>cors.support.credentials</code> to <code>false</code> solved the problem.</p>\n<p>Finding and checking the correct log file solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":27384899,"reputation":11,"user_id":20888918,"display_name":"Rao Aadil"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672334898,"creation_date":1672334898,"answer_id":74954254,"question_id":44141560,"body_markdown":"In my case I haven&#39;t set my workspace to build automaticaly\r\n\r\nin eclipse\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pxQTa.png","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>In my case I haven't set my workspace to build automaticaly</p>\n<p>in eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/pxQTa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696937673,"creation_date":1696937673,"answer_id":77265416,"question_id":44141560,"body_markdown":"Detailed logs on such exceptions can be found under `CATALINA_HOME/logs/localhost.&lt;timestamp&gt;.log`\r\n\r\nRefer to latest timestamp log.\r\n\r\nSometimes, application specific logs(under tomcat logs) will also contain detailed info, depending upon application logging. ","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>Detailed logs on such exceptions can be found under <code>CATALINA_HOME/logs/localhost.&lt;timestamp&gt;.log</code></p>\n<p>Refer to latest timestamp log.</p>\n<p>Sometimes, application specific logs(under tomcat logs) will also contain detailed info, depending upon application logging.</p>\n"}],"owner":{"account_id":10741764,"reputation":327,"user_id":7904578,"accept_rate":60,"display_name":"KyrinWoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33350,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1696937673,"creation_date":1495561064,"question_id":44141560,"body_markdown":"I installed Tomcat-8.0.44 and put a war file named bimserver.war in webapps folder. But when I ran the startup.bat routine, I got two Severe Log info:\r\n\r\n    24-May-2017 01:15:53.065 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\r\n    24-May-2017 01:15:53.068 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal Context [/bimserver] startup failed due to previous errors\r\n\r\nIt seems that some filters of tomcat failed to start. This prevented bimserver from starting. How should the filters be configured? ","title":"Tomcat-8.0.44: Why a SEVERE log &quot;One or more Filters failed to start&quot;","body":"<p>I installed Tomcat-8.0.44 and put a war file named bimserver.war in webapps folder. But when I ran the startup.bat routine, I got two Severe Log info:</p>\n\n<pre><code>24-May-2017 01:15:53.065 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal One or more Filters failed to start. Full details will be found in the appropriate container log file\n24-May-2017 01:15:53.068 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.startInternal Context [/bimserver] startup failed due to previous errors\n</code></pre>\n\n<p>It seems that some filters of tomcat failed to start. This prevented bimserver from starting. How should the filters be configured? </p>\n"},{"tags":["java","sql","sql-server","mssql-jdbc"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1696937586,"post_id":77265381,"comment_id":136213802,"body_markdown":"Seems like a plan has been cached for the variables query which isn&#39;t useful (any more). This could possibly be due to parameter sniffing, where a prior run for the values passed made that query plan make more sense.","body":"Seems like a plan has been cached for the variables query which isn&#39;t useful (any more). This could possibly be due to parameter sniffing, where a prior run for the values passed made that query plan make more sense."},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1696937675,"post_id":77265381,"comment_id":136213826,"body_markdown":"As a side note, I very much doubt you want/need `SELECT *`, and should be specific on the columns you need. Why do you need both `t024.c011` and `t023.c010` returned, for example, when you know they&#39;ll have the same value? Limiting the columns could well provide a benefit when you can use a less wide, and also now covering, index.","body":"As a side note, I very much doubt you want/need <code>SELECT *</code>, and should be specific on the columns you need. Why do you need both <code>t024.c011</code> and <code>t023.c010</code> returned, for example, when you know they&#39;ll have the same value? Limiting the columns could well provide a benefit when you can use a less wide, and also now covering, index."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":2,"creation_date":1696937991,"post_id":77265381,"comment_id":136213884,"body_markdown":"I expect adding an `OPTION(RECOMPILE)` query hint will address the issue. TL;DR: see [Slow in the Application, Fast in SSMS?](https://www.sommarskog.se/query-plan-mysteries.html).","body":"I expect adding an <code>OPTION(RECOMPILE)</code> query hint will address the issue. TL;DR: see <a href=\"https://www.sommarskog.se/query-plan-mysteries.html\" rel=\"nofollow noreferrer\">Slow in the Application, Fast in SSMS?</a>."},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1696939212,"post_id":77265381,"comment_id":136214106,"body_markdown":"If you&#39;re on the newest version of SQL Server (2022 at time of writing), have query store enabled, and have good indexing and up to date statistics, SQL Server may also be clever enough to cache multiple plans for your query for the different parameter values, as it&#39;ll recognise the different needs. We don&#39;t know enough about the query, or your environment, to know it that might occur though.","body":"If you&#39;re on the newest version of SQL Server (2022 at time of writing), have query store enabled, and have good indexing and up to date statistics, SQL Server may also be clever enough to cache multiple plans for your query for the different parameter values, as it&#39;ll recognise the different needs. We don&#39;t know enough about the query, or your environment, to know it that might occur though."},{"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"score":0,"creation_date":1696939321,"post_id":77265381,"comment_id":136214132,"body_markdown":"So i understand what the problem is BUT i dont understand WHY this problem appears! P0 and P1 and @P2 are integers AND mesoyear are also an integer and are indexed. so why mssql should use a diffenrent Executionplan? sorry but i dont understand the problem here. and this also doesnt have Subquerys it only has 2 Joins. so WHAT could be different for SQL when i say mesoyear = P0 (both are integer!)","body":"So i understand what the problem is BUT i dont understand WHY this problem appears! P0 and P1 and @P2 are integers AND mesoyear are also an integer and are indexed. so why mssql should use a diffenrent Executionplan? sorry but i dont understand the problem here. and this also doesnt have Subquerys it only has 2 Joins. so WHAT could be different for SQL when i say mesoyear = P0 (both are integer!)"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1696939387,"post_id":77265381,"comment_id":136214143,"body_markdown":"If everything else fails, you can rewrite it to dynamic sql which concats the parameters (ie. non-parametrized query). Of course you need to think of injection etc but if your parameters are integer&#39;s it&#39;s not a problem.","body":"If everything else fails, you can rewrite it to dynamic sql which concats the parameters (ie. non-parametrized query). Of course you need to think of injection etc but if your parameters are integer&#39;s it&#39;s not a problem."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1696939464,"post_id":77265381,"comment_id":136214157,"body_markdown":"@Sametcey because sql server doesn&#39;t know the parameter values if it&#39;s hidden in a variable. consider code that does: `declare @a int; set @a = 5; if 1 = 0 SET @a = 2; SELECT * FROM sometable where ID = @a` Here, it cannot pinpoint @a to exact value, therefor it will use some guessing which sometimes goes wrong","body":"@Sametcey because sql server doesn&#39;t know the parameter values if it&#39;s hidden in a variable. consider code that does: <code>declare @a int; set @a = 5; if 1 = 0 SET @a = 2; SELECT * FROM sometable where ID = @a</code> Here, it cannot pinpoint @a to exact value, therefor it will use some guessing which sometimes goes wrong"},{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":1,"creation_date":1696939693,"post_id":77265381,"comment_id":136214202,"body_markdown":"Traditionally SQL Server cached a plan based on  the **first** set of values it gets for the parameters, @Sametcey . This is a *flawed* solution, but also expected and well documented, and a frequently discussed topic. This is why the feature I mention in my prior comment was introduced, to try and alleviate  the issue; it only, however, works with equality operators, and with `AND` constraints (not `OR`), so it&#39;s far from a complete fix, but it *is* a start.","body":"Traditionally SQL Server cached a plan based on  the <b>first</b> set of values it gets for the parameters, @Sametcey . This is a <i>flawed</i> solution, but also expected and well documented, and a frequently discussed topic. This is why the feature I mention in my prior comment was introduced, to try and alleviate  the issue; it only, however, works with equality operators, and with <code>AND</code> constraints (not <code>OR</code>), so it&#39;s far from a complete fix, but it <i>is</i> a start."},{"owner":{"account_id":26850000,"reputation":264,"user_id":20435104,"display_name":"Nandalal Seth"},"score":0,"creation_date":1696940972,"post_id":77265381,"comment_id":136214463,"body_markdown":"btw, which jdbc driver are you using ?","body":"btw, which jdbc driver are you using ?"},{"owner":{"account_id":23003930,"reputation":192,"user_id":17127521,"display_name":"Aardvark"},"score":1,"creation_date":1696943540,"post_id":77265381,"comment_id":136215048,"body_markdown":"https://www.mssqltips.com/sqlservertip/3257/different-approaches-to-correct-sql-server-parameter-sniffing/","body":"<a href=\"https://www.mssqltips.com/sqlservertip/3257/different-approaches-to-correct-sql-server-parameter-sniffing/\" rel=\"nofollow noreferrer\">mssqltips.com/sqlservertip/3257/&hellip;</a>"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696937606,"creation_date":1696937346,"question_id":77265381,"body_markdown":"I have a big performance Problem with my Query: I use Java Spring boot 3.1.1 with JDBCTemplate.\r\n\r\nMy Program executes this Query on MSSQL Server:\r\n```sql\r\n    DECLARE @P0 Integer; \r\n    DECLARE @P1 Integer; \r\n    DECLARE @P2 Integer;\r\n    \r\n    SET @P0 = 1476;\r\n    SET @P1 = 1476;\r\n    SET @P2 = 1476;\r\n    \r\n    select \r\n    \t*\r\n    from \r\n    \tSL.dbo.t024 WITH (READPAST) \r\n    \tJOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\r\n    \tJOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\r\n    where \r\n    \tt024.mesoyear = @P0 \r\n    \tAND t023.mesoyear = @P1 \r\n    \tAND t346.mesoyear = @P2 \r\n    \tAND (t024.c014 = 1 OR t024.c014 = 0)\r\n    \tAND (t024.c038 IS NULL OR t346.c002 &lt;&gt; &#39;999&#39;)\r\n    Order BY\r\n    \tt346.c002,\r\n    \tt024.c002\r\n```\r\nIt takes 8 seconds to finish! BUT when i change the Statement (in MSSQL Studio) to:\r\n\r\n```sql\r\n    select \r\n    \t*\r\n    from \r\n    \tSL.dbo.t024 WITH (READPAST) \r\n    \tJOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\r\n    \tJOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\r\n    where \r\n    \tt024.mesoyear = 1476 \r\n    \tAND t023.mesoyear = 1476 \r\n    \tAND t346.mesoyear = 1476 \r\n    \tAND (t024.c014 = 1 OR t024.c014 = 0)\r\n    \tAND (t024.c038 IS NULL OR t346.c002 &lt;&gt; &#39;999&#39;)\r\n    Order BY\r\n    \tt346.c002,\r\n    \tt024.c002\r\n```\r\nthen it takes 0 seconds to finish!\r\n\r\non the first Satement with Variables the MSSQL Studio Execution plan says that he didn&#39;t find the indexes, bu on the second statement he find the indexes and it is very fast! WHY??\r\n\r\nThe next one i find is that when i add `OPTION (RECOMPILE)` to the end of the first Query with Variable so the Query finishes in 0 seconds. \r\n\r\nSo what&#39;s the problem here? How can i solve this? i cannot test every query for `OPTION (RECOMPILE)` is needed!\r\n\r\nthe same could happen also with JPA and Hibernate... I dont know where the issue is! OR how i can solve this without `OPTION (RECOMPILE)`","title":"MSSQL Query with Variables are very slow","body":"<p>I have a big performance Problem with my Query: I use Java Spring boot 3.1.1 with JDBCTemplate.</p>\n<p>My Program executes this Query on MSSQL Server:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    DECLARE @P0 Integer; \n    DECLARE @P1 Integer; \n    DECLARE @P2 Integer;\n    \n    SET @P0 = 1476;\n    SET @P1 = 1476;\n    SET @P2 = 1476;\n    \n    select \n        *\n    from \n        SL.dbo.t024 WITH (READPAST) \n        JOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\n        JOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\n    where \n        t024.mesoyear = @P0 \n        AND t023.mesoyear = @P1 \n        AND t346.mesoyear = @P2 \n        AND (t024.c014 = 1 OR t024.c014 = 0)\n        AND (t024.c038 IS NULL OR t346.c002 &lt;&gt; '999')\n    Order BY\n        t346.c002,\n        t024.c002\n</code></pre>\n<p>It takes 8 seconds to finish! BUT when i change the Statement (in MSSQL Studio) to:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select \n        *\n    from \n        SL.dbo.t024 WITH (READPAST) \n        JOIN SL.dbo.t023 WITH (READPAST) ON t024.c011 = t023.c010\n        JOIN SL.dbo.t346 WITH (READPAST) ON t023.c004 = t346.c002\n    where \n        t024.mesoyear = 1476 \n        AND t023.mesoyear = 1476 \n        AND t346.mesoyear = 1476 \n        AND (t024.c014 = 1 OR t024.c014 = 0)\n        AND (t024.c038 IS NULL OR t346.c002 &lt;&gt; '999')\n    Order BY\n        t346.c002,\n        t024.c002\n</code></pre>\n<p>then it takes 0 seconds to finish!</p>\n<p>on the first Satement with Variables the MSSQL Studio Execution plan says that he didn't find the indexes, bu on the second statement he find the indexes and it is very fast! WHY??</p>\n<p>The next one i find is that when i add <code>OPTION (RECOMPILE)</code> to the end of the first Query with Variable so the Query finishes in 0 seconds.</p>\n<p>So what's the problem here? How can i solve this? i cannot test every query for <code>OPTION (RECOMPILE)</code> is needed!</p>\n<p>the same could happen also with JPA and Hibernate... I dont know where the issue is! OR how i can solve this without <code>OPTION (RECOMPILE)</code></p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"score":0,"creation_date":1696941662,"post_id":77265383,"comment_id":136214615,"body_markdown":"I didn&#39;t get your point.  I am using spring boot data JPA","body":"I didn&#39;t get your point.  I am using spring boot data JPA"}],"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696937361,"creation_date":1696937361,"answer_id":77265383,"question_id":77265331,"body_markdown":"check [here][1].\r\n\r\nHibernate does not perform insert the identity identifier generator. \r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch-session-batch","title":"Sequence Id is not generating for list of object from restcontroller in springboot","body":"<p>check <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#batch-session-batch\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Hibernate does not perform insert the identity identifier generator.</p>\n"}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77265383,"answer_count":1,"score":0,"last_activity_date":1696937361,"creation_date":1696936893,"question_id":77265331,"body_markdown":"   I want to save the list of approver details that I got from the request, but it is giving an error message mentioned below. If I pass a single approver object instead of a list, then it is saving the data. Please help to store the list of approver entities.\r\n        \r\n        \r\n        @Entity\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        @Table(name=&quot;Approver_DETAILS&quot;)\r\n        public class Approver implements Serializable{\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE,generator=&quot;seq&quot;)\r\n        @SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;approver_seq&quot;,allocationSize=1)\r\n        @Column(name=&quot;app_pk)\r\n        private int id\r\n        \r\n        @Column(name=&quot;app_pk)\r\n        private String subLOB\r\n        \r\n        }\r\n        \r\n        @RestController\r\n        public class appCController{\r\n        \r\n        @Autowired\r\n        Repo repo;\r\n        \r\n        @PostMapping(value=&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; upload(@RequestBody List&lt;Approver&gt; approver){\r\n        \r\n            repo.saveAll(approver);\r\n    return new ResponseEntity&lt;&gt;(&quot;success&quot;,HttpStatus.OK);\r\n    \r\n        }\r\n        \r\n        }\r\n        \r\n        Request:\r\n        \r\n        [\r\n        {\r\n        &quot;subLOB&quot;:&quot;xxx&quot;\r\n        },\r\n        {\r\n        &quot;subLOB&quot;:&quot;yyy&quot;\r\n        }\r\n        ]\r\n        \r\n        Error Response:\r\n        \r\n        Invalid property &quot;id&quot; of bean class [com.google.gson.internal.LinkedTreeMap]: Could not find field for property during fallback\r\n\r\n","title":"Sequence Id is not generating for list of object from restcontroller in springboot","body":"<p>I want to save the list of approver details that I got from the request, but it is giving an error message mentioned below. If I pass a single approver object instead of a list, then it is saving the data. Please help to store the list of approver entities.</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    @Table(name=&quot;Approver_DETAILS&quot;)\n    public class Approver implements Serializable{\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE,generator=&quot;seq&quot;)\n    @SequenceGenerator(name=&quot;seq&quot;,sequenceName=&quot;approver_seq&quot;,allocationSize=1)\n    @Column(name=&quot;app_pk)\n    private int id\n    \n    @Column(name=&quot;app_pk)\n    private String subLOB\n    \n    }\n    \n    @RestController\n    public class appCController{\n    \n    @Autowired\n    Repo repo;\n    \n    @PostMapping(value=&quot;/upload&quot;)\n    public ResponseEntity&lt;String&gt; upload(@RequestBody List&lt;Approver&gt; approver){\n    \n        repo.saveAll(approver);\nreturn new ResponseEntity&lt;&gt;(&quot;success&quot;,HttpStatus.OK);\n\n    }\n    \n    }\n    \n    Request:\n    \n    [\n    {\n    &quot;subLOB&quot;:&quot;xxx&quot;\n    },\n    {\n    &quot;subLOB&quot;:&quot;yyy&quot;\n    }\n    ]\n    \n    Error Response:\n    \n    Invalid property &quot;id&quot; of bean class [com.google.gson.internal.LinkedTreeMap]: Could not find field for property during fallback\n</code></pre>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":5,"creation_date":1696916063,"post_id":77263128,"comment_id":136210170,"body_markdown":"There are many logging frameworks out there that already handle various things that you must think about: appending to a log file, rolling over by size or by date, correctly handling multi-threading, and so on. Why bother with writing your own?","body":"There are many logging frameworks out there that already handle various things that you must think about: appending to a log file, rolling over by size or by date, correctly handling multi-threading, and so on. Why bother with writing your own?"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1696916252,"post_id":77263128,"comment_id":136210186,"body_markdown":"Slf4j  logback  refer to this page [logback](https://logback.qos.ch/)","body":"Slf4j  logback  refer to this page <a href=\"https://logback.qos.ch/\" rel=\"nofollow noreferrer\">logback</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1696926379,"post_id":77263128,"comment_id":136211741,"body_markdown":"1kb will not give you that many log lines. Some individual lines may even be larger than 1kb. Also, default cluster sizes are typically at least 4kb, meaning that even a file that is 1 byte in size will take up 4kb reserved space on your disk. Therefore it&#39;s not worth doing what you suggest.","body":"1kb will not give you that many log lines. Some individual lines may even be larger than 1kb. Also, default cluster sizes are typically at least 4kb, meaning that even a file that is 1 byte in size will take up 4kb reserved space on your disk. Therefore it&#39;s not worth doing what you suggest."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1696936164,"post_id":77263128,"comment_id":136213521,"body_markdown":"@k314159 – he said &quot;for example, 1024 bytes&quot; and &quot;i.e. 1 kB&quot;. Usually this means that this can be adjusted to more feasible values once the basic concept works.","body":"@k314159 – he said &quot;for example, 1024 bytes&quot; and &quot;i.e. 1 kB&quot;. Usually this means that this can be adjusted to more feasible values once the basic concept works."}],"answers":[{"comments":[{"owner":{"account_id":11874421,"reputation":39,"user_id":19835998,"display_name":"Alex"},"score":0,"creation_date":1696937449,"post_id":77263777,"comment_id":136213771,"body_markdown":"while, I would not like to create a temp a file, to replace of it. What I thinking of is creating a method, countBytes.\nlike using loop to check if I had line 1 size, if fileSize - line1 &lt;maxSize, then it will return 1, if not, it will test if fileSize - line1 - line2 &lt; maxSize, etc.... then it will check the number of lines required to get smaller then the maxSizes.","body":"while, I would not like to create a temp a file, to replace of it. What I thinking of is creating a method, countBytes. like using loop to check if I had line 1 size, if fileSize - line1 &lt;maxSize, then it will return 1, if not, it will test if fileSize - line1 - line2 &lt; maxSize, etc.... then it will check the number of lines required to get smaller then the maxSizes."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1696940610,"post_id":77263777,"comment_id":136214386,"body_markdown":"@Alex – think about what you wrote, then try to implement it. May be you have issues with the implementation because that does not work. So you should go for another approach. Hint: files does not contain lines, not even text; they consist of bytes, only of bytes. Anything else is an interpretation on reading them.","body":"@Alex – think about what you wrote, then try to implement it. May be you have issues with the implementation because that does not work. So you should go for another approach. Hint: files does not contain lines, not even text; they consist of bytes, only of bytes. Anything else is an interpretation on reading them."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696925974,"creation_date":1696923635,"answer_id":77263777,"question_id":77263128,"body_markdown":"Cutting off all the talking about logging (that can be of course solved much better by using a logging framework or JDK Logging), your problem is to remove some bytes from the beginning of a file before you add some new bytes to the end of it.\r\n\r\n&quot;Some bytes&quot; means that there is no notion of lines; if you stuck with lines, you have to search from the beginning of the file to the first EOL marker to get the number of bytes to remove; in fact, that is the starting position for the bytes to keep, and that you now move to position 0.\r\n\r\nThe class that allows this is [`java.io.RandomAccessFile`][1]. \r\n\r\nMoving bytes could be done like this (but this is the least efficient solution!):\r\n\r\n```Java\r\npublic final void stripFirstBytes( final RandomAccessFile file, final long lengthToStrip )\r\n{\r\n  var writePos = 0L;\r\n  var readPos = lengthToStrip;\r\n  file.seek( readPos++ );\r\n  final var value = file.read();\r\n \r\n  while( value != EOF )\r\n  {\r\n    file.seek( writePos++ );\r\n    file.write( value );\r\n    file.seek( readPos++ );\r\n    value = file.read();\r\n  }\r\n  file.setLength( file.getFilePointer() - lengthToStrip );\r\n}\r\n```\r\n\r\nOf course you have to add the mandatory error handling (what happens, if the file is shorter than `lengthToStrip`?)! And, as said, this approach is very slow.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html","title":"Remove lines from text file without generating the files again","body":"<p>Cutting off all the talking about logging (that can be of course solved much better by using a logging framework or JDK Logging), your problem is to remove some bytes from the beginning of a file before you add some new bytes to the end of it.</p>\n<p>&quot;Some bytes&quot; means that there is no notion of lines; if you stuck with lines, you have to search from the beginning of the file to the first EOL marker to get the number of bytes to remove; in fact, that is the starting position for the bytes to keep, and that you now move to position 0.</p>\n<p>The class that allows this is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\"><code>java.io.RandomAccessFile</code></a>.</p>\n<p>Moving bytes could be done like this (but this is the least efficient solution!):</p>\n<pre><code>public final void stripFirstBytes( final RandomAccessFile file, final long lengthToStrip )\n{\n  var writePos = 0L;\n  var readPos = lengthToStrip;\n  file.seek( readPos++ );\n  final var value = file.read();\n \n  while( value != EOF )\n  {\n    file.seek( writePos++ );\n    file.write( value );\n    file.seek( readPos++ );\n    value = file.read();\n  }\n  file.setLength( file.getFilePointer() - lengthToStrip );\n}\n</code></pre>\n<p>Of course you have to add the mandatory error handling (what happens, if the file is shorter than <code>lengthToStrip</code>?)! And, as said, this approach is very slow.</p>\n"}],"owner":{"account_id":11874421,"reputation":39,"user_id":19835998,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1696924170,"answer_count":1,"score":-1,"last_activity_date":1696937288,"creation_date":1696915795,"question_id":77263128,"body_markdown":"I am writing a Java program which stores user log when they are using the program. \r\n\r\nTo avoid making the `log.log` file (maybe replace as a variable later to save different log in different files) size too large, I would like to check if the file sizes is greater than, for example, 1024 bytes (i.e. 1kb), the oldest data (the first [few] lines) will be deleted before adding new log history as to ensure that the file size will not greater then 1kb before adding new logs. (Or it can be done after adding the log history and ensure the file size must smaller then 1kb.)\r\n\r\nIt means that if deleting 1 rows can let the files size smaller then 1kb, then just delete the first row. If it not enough, then delete first two row, etc.\r\n\r\n```java\r\npublic void getLogHistory(String logContent) {\r\n    File logFiles = new File(&quot;log.log&quot;); // This is just a test, I may check to a variable and save to different log files under different situation\r\n    Timestamp timestamp = new Timestamp(System.currentTimeMillis());\r\n    String logStatement = &quot;[&quot; + timestamp.toString() + &quot;] | &quot; + logContent;\r\n\r\n    try {\r\n        logStatement += &quot;\\n&quot;;\r\n        Files.write(Paths.get(&quot;log.log&quot;), logStatement.getBytes(), StandardOpenOption.APPEND);\r\n    } catch (IOException e) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nI had checked different methods through Stack Overflow, or from the internet. However, all of those are teaching the method those creating a temp file to store and update all data required, then replace the temp file to the original file.\r\n\r\nThrough this method, I cannot count the rows from the temp files, therefore, I don&#39;t want to create a temp file for deleting rows.\r\n\r\nIs/are there any method to do so? Or are there any improvements to make in my original code? \r\n\r\n**I would like to add my own comments in my own log files, therefore, I would like to make my own log statement by modifying the a txt file, just don&#39;t border what I am doing for, I would just like to know how to check the files size of a file and if the file is larger then the limit, I can remove the first rows of the txt file, instead of creating a temp file and replace the files as to became a new file**","title":"Remove lines from text file without generating the files again","body":"<p>I am writing a Java program which stores user log when they are using the program.</p>\n<p>To avoid making the <code>log.log</code> file (maybe replace as a variable later to save different log in different files) size too large, I would like to check if the file sizes is greater than, for example, 1024 bytes (i.e. 1kb), the oldest data (the first [few] lines) will be deleted before adding new log history as to ensure that the file size will not greater then 1kb before adding new logs. (Or it can be done after adding the log history and ensure the file size must smaller then 1kb.)</p>\n<p>It means that if deleting 1 rows can let the files size smaller then 1kb, then just delete the first row. If it not enough, then delete first two row, etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getLogHistory(String logContent) {\n    File logFiles = new File(&quot;log.log&quot;); // This is just a test, I may check to a variable and save to different log files under different situation\n    Timestamp timestamp = new Timestamp(System.currentTimeMillis());\n    String logStatement = &quot;[&quot; + timestamp.toString() + &quot;] | &quot; + logContent;\n\n    try {\n        logStatement += &quot;\\n&quot;;\n        Files.write(Paths.get(&quot;log.log&quot;), logStatement.getBytes(), StandardOpenOption.APPEND);\n    } catch (IOException e) {\n        \n    }\n}\n</code></pre>\n<p>I had checked different methods through Stack Overflow, or from the internet. However, all of those are teaching the method those creating a temp file to store and update all data required, then replace the temp file to the original file.</p>\n<p>Through this method, I cannot count the rows from the temp files, therefore, I don't want to create a temp file for deleting rows.</p>\n<p>Is/are there any method to do so? Or are there any improvements to make in my original code?</p>\n<p><strong>I would like to add my own comments in my own log files, therefore, I would like to make my own log statement by modifying the a txt file, just don't border what I am doing for, I would just like to know how to check the files size of a file and if the file is larger then the limit, I can remove the first rows of the txt file, instead of creating a temp file and replace the files as to became a new file</strong></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1696868660,"post_id":77260385,"comment_id":136205116,"body_markdown":"This can porbably be achieved using `Stream`&#39;s `skip` method. However a regular loop is probably more suited and more readable.","body":"This can porbably be achieved using <code>Stream</code>&#39;s <code>skip</code> method. However a regular loop is probably more suited and more readable."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696869157,"post_id":77260385,"comment_id":136205210,"body_markdown":"How big is the list?  If it&#39;s large, then there will be many repeated operations (non-performant). Consider working backwards, and save intermediate steps for re-use.","body":"How big is the list?  If it&#39;s large, then there will be many repeated operations (non-performant). Consider working backwards, and save intermediate steps for re-use."},{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1696869424,"post_id":77260385,"comment_id":136205255,"body_markdown":"Is there a reason you only want `1+3+5+7` + `3+5+7` + `5+7` as a result and ignore the last element `7`? If it would be `1+3+5+7` + `3+5+7` + `5+7`+ `7` you could literally just simplify the whole calculation to a formula where you sum up every element of the list with its index incremented by one like `int result = list.get(0) * 1 + list.get(1) * 2 ... + list.get(n) * (n+1)`","body":"Is there a reason you only want <code>1+3+5+7</code> + <code>3+5+7</code> + <code>5+7</code> as a result and ignore the last element <code>7</code>? If it would be <code>1+3+5+7</code> + <code>3+5+7</code> + <code>5+7</code>+ <code>7</code> you could literally just simplify the whole calculation to a formula where you sum up every element of the list with its index incremented by one like <code>int result = list.get(0) * 1 + list.get(1) * 2 ... + list.get(n) * (n+1)</code>"},{"owner":{"account_id":19381158,"reputation":13,"user_id":14172391,"display_name":"Deren"},"score":0,"creation_date":1696869458,"post_id":77260385,"comment_id":136205262,"body_markdown":"@AndrewS In this case, a maximum of 100 values.","body":"@AndrewS In this case, a maximum of 100 values."},{"owner":{"account_id":19381158,"reputation":13,"user_id":14172391,"display_name":"Deren"},"score":0,"creation_date":1696869669,"post_id":77260385,"comment_id":136205306,"body_markdown":"@OHGODSPIDERS Due to the task specification, I am given a list of x-numbers and I need to count the sum in such a way that the last element is omitted. Alternatively, I can always subtract the last element from the total.","body":"@OHGODSPIDERS Due to the task specification, I am given a list of x-numbers and I need to count the sum in such a way that the last element is omitted. Alternatively, I can always subtract the last element from the total."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696911940,"creation_date":1696869180,"answer_id":77260456,"question_id":77260385,"body_markdown":"You can utilize the _[IntStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html)_ class to iterate the _List_ similar to a _for-loop_.\r\n\r\nHere is an example.\r\n\r\n```java\r\nList&lt;Integer&gt; list = List.of(1,3,5,7);\r\nint sum\r\n    = IntStream.range(0, list.size() - 1)\r\n               .map(x -&gt; list.stream().skip(x)\r\n                                      .mapToInt(y -&gt; y)\r\n                                      .sum())\r\n               .sum();\r\n```","title":"Summing up the values in the stream several times","body":"<p>You can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\">IntStream</a></em> class to iterate the <em>List</em> similar to a <em>for-loop</em>.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; list = List.of(1,3,5,7);\nint sum\n    = IntStream.range(0, list.size() - 1)\n               .map(x -&gt; list.stream().skip(x)\n                                      .mapToInt(y -&gt; y)\n                                      .sum())\n               .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696937182,"creation_date":1696871831,"answer_id":77260690,"question_id":77260385,"body_markdown":"&gt;Is this reasonably possible or is it better to use for loops?\r\n\r\nYes it&#39;s possible.  Loops would probably be more efficient as streams incur some overhead.  But the idea of streams is to provide declarative programming techniques (what to do) of accomplishing something which should be more obvious than imperative programming (how to do it).\r\n\r\nThere are several ways.  This stream solution provided by [Holger](https://stackoverflow.com/users/2711488/holger) works in linear time. It iterates over the list, summing the number of times each item would occur in the final sum.  Since it also sums the last entry of the list (which is not desired) that is subtracted out.\r\n```\r\nList&lt;Integer&gt; list = List.of(1,3,5,7);\r\n\r\nint sum = IntStream.range(0, list.size())\r\n      .map(i -&gt; list.get(i) * (i + 1))\r\n      .sum() - list.get(list.size() - 1);\r\n\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n43\r\n```\r\nHere is a loop version using the same algorithm.\r\n```\r\nint sum = 0;\r\nfor (int i = 0; i &lt; list.size(); i++) {\r\n    sum += list.get(i)*(i+1);\r\n}\r\nsum -= list.get(list.size()-1);\r\n\r\n```\r\nAlthough the loop version may be more efficient, this is a rather trivial case and the solutions are practically identical.  Complex software may better lend itself to declarative coding style.\r\n\r\nAnd there are other considerations that use hybrid solutions such as using a loop in unison with java 8+ enhancements (the [Map interface](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html) comes to mind).\r\n\r\nThe approach taken can depend on things such as increasing productivity in writing software and being able to diagnose a problem in code that you haven&#39;t seen in a year or more.\r\n","title":"Summing up the values in the stream several times","body":"<blockquote>\n<p>Is this reasonably possible or is it better to use for loops?</p>\n</blockquote>\n<p>Yes it's possible.  Loops would probably be more efficient as streams incur some overhead.  But the idea of streams is to provide declarative programming techniques (what to do) of accomplishing something which should be more obvious than imperative programming (how to do it).</p>\n<p>There are several ways.  This stream solution provided by <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> works in linear time. It iterates over the list, summing the number of times each item would occur in the final sum.  Since it also sums the last entry of the list (which is not desired) that is subtracted out.</p>\n<pre><code>List&lt;Integer&gt; list = List.of(1,3,5,7);\n\nint sum = IntStream.range(0, list.size())\n      .map(i -&gt; list.get(i) * (i + 1))\n      .sum() - list.get(list.size() - 1);\n\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>43\n</code></pre>\n<p>Here is a loop version using the same algorithm.</p>\n<pre><code>int sum = 0;\nfor (int i = 0; i &lt; list.size(); i++) {\n    sum += list.get(i)*(i+1);\n}\nsum -= list.get(list.size()-1);\n\n</code></pre>\n<p>Although the loop version may be more efficient, this is a rather trivial case and the solutions are practically identical.  Complex software may better lend itself to declarative coding style.</p>\n<p>And there are other considerations that use hybrid solutions such as using a loop in unison with java 8+ enhancements (the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map interface</a> comes to mind).</p>\n<p>The approach taken can depend on things such as increasing productivity in writing software and being able to diagnose a problem in code that you haven't seen in a year or more.</p>\n"}],"owner":{"account_id":19381158,"reputation":13,"user_id":14172391,"display_name":"Deren"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696937182,"creation_date":1696868390,"question_id":77260385,"body_markdown":"I am looking for a solution to the problem using streams:\r\n\r\nI have a sample list:\r\n\r\n`List.of(1,3,5,7)`\r\n\r\nI would like to add a given element with each next element in the stream ie.\r\n\r\n1+3+5+7\r\n\r\n3+5+7\r\n\r\n5+7\r\n\r\nand at the end add up the whole result and return it.\r\nIn this case, the result would be 43.\r\n\r\nIs this reasonably possible or is it better to use for loops?","title":"Summing up the values in the stream several times","body":"<p>I am looking for a solution to the problem using streams:</p>\n<p>I have a sample list:</p>\n<p><code>List.of(1,3,5,7)</code></p>\n<p>I would like to add a given element with each next element in the stream ie.</p>\n<p>1+3+5+7</p>\n<p>3+5+7</p>\n<p>5+7</p>\n<p>and at the end add up the whole result and return it.\nIn this case, the result would be 43.</p>\n<p>Is this reasonably possible or is it better to use for loops?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":8,"creation_date":1669931780,"post_id":74648576,"comment_id":131761636,"body_markdown":"[Spring Framework versions 6.0](https://docs.spring.io/spring-framework/docs/current/reference/html/overview.html#overview) and later require Java 17. If your code must work with Java 11 you cannot use Spring Version 6.","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/overview.html#overview\" rel=\"nofollow noreferrer\">Spring Framework versions 6.0</a> and later require Java 17. If your code must work with Java 11 you cannot use Spring Version 6."},{"owner":{"account_id":19732935,"reputation":877,"user_id":14448025,"display_name":"R H"},"score":0,"creation_date":1669932274,"post_id":74648576,"comment_id":131761736,"body_markdown":"Is there any way to use Spring Framework in lower java versions?","body":"Is there any way to use Spring Framework in lower java versions?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1669932307,"post_id":74648576,"comment_id":131761746,"body_markdown":"Use Spring 5 or older.","body":"Use Spring 5 or older."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1669934893,"post_id":74648576,"comment_id":131762378,"body_markdown":"Spring Framework 5.3 is the latest version that can be used with Java 8 and Java 11. The (at the moment) latest release is 5.3.24: https://docs.spring.io/spring-framework/docs/5.3.24/reference/html/overview.html#overview. Similar for Spring Boot: Spring Boot 3 requires Java 17. If you need to use Java 11 the latest usable version is Spring Boot 2.7 (2.7.5)","body":"Spring Framework 5.3 is the latest version that can be used with Java 8 and Java 11. The (at the moment) latest release is 5.3.24: <a href=\"https://docs.spring.io/spring-framework/docs/5.3.24/reference/html/overview.html#overview\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.3.24/reference/html/&hellip;</a>&zwnj;&#8203;. Similar for Spring Boot: Spring Boot 3 requires Java 17. If you need to use Java 11 the latest usable version is Spring Boot 2.7 (2.7.5)"},{"owner":{"account_id":19732935,"reputation":877,"user_id":14448025,"display_name":"R H"},"score":0,"creation_date":1670134626,"post_id":74648576,"comment_id":131800413,"body_markdown":"So according to  @Thomas Kl&#228;ger upgrade to java 17 helps.","body":"So according to  @Thomas Kl&#228;ger upgrade to java 17 helps."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1680105205,"post_id":74648576,"comment_id":133841963,"body_markdown":"no images of plain text please","body":"no images of plain text please"}],"answers":[{"tags":[],"owner":{"account_id":10027188,"reputation":61,"user_id":7415027,"display_name":"Esmaeil Nikfekr"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670404319,"creation_date":1670332042,"answer_id":74703037,"question_id":74648576,"body_markdown":"Maybe its because of inconsistency between Java version and Spring or Spring Boot. Check your version of Spring. Here is a snippet from the Spring site:\r\n\r\n&gt; We are planning to release Spring Boot 3.0 in November 2022. This next\r\n&gt; major revision will be based on Spring Framework 6.0 and will require\r\n&gt; Java 17 or above. It will also be the first version of Spring Boot\r\n&gt; that makes use of Jakarta EE 9 APIs (jakarta.*) instead of EE 8\r\n&gt; (javax.*).\r\n\r\nhttps://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>Maybe its because of inconsistency between Java version and Spring or Spring Boot. Check your version of Spring. Here is a snippet from the Spring site:</p>\n<blockquote>\n<p>We are planning to release Spring Boot 3.0 in November 2022. This next\nmajor revision will be based on Spring Framework 6.0 and will require\nJava 17 or above. It will also be the first version of Spring Boot\nthat makes use of Jakarta EE 9 APIs (jakarta.<em>) instead of EE 8\n(javax.</em>).</p>\n</blockquote>\n<p><a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"noreferrer\">https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0</a></p>\n"},{"comments":[{"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"score":2,"creation_date":1689595965,"post_id":74714149,"comment_id":135231180,"body_markdown":"Same goes for Spring boot 3.x.x &gt; it requires Java 17+","body":"Same goes for Spring boot 3.x.x &gt; it requires Java 17+"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689596221,"post_id":74714149,"comment_id":135231245,"body_markdown":"@NaorBar Given Spring Boot 3 is built on Spring Framework 6, that is implied.","body":"@NaorBar Given Spring Boot 3 is built on Spring Framework 6, that is implied."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696488407,"post_id":74714149,"comment_id":136159788,"body_markdown":"@KuldeePChoudharY Please ask your own question, don&#39;t use comments to ask follow up questions.","body":"@KuldeePChoudharY Please ask your own question, don&#39;t use comments to ask follow up questions."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":3,"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1670577172,"creation_date":1670404235,"answer_id":74714149,"question_id":74648576,"body_markdown":"You&#39;re using Spring Framework 6, and since Spring 6, the minimum supported Java version is Java 17 (the class version 61 is the class version of Java 17). \r\n\r\nAs documented in the [Spring Framework Overview][1] for Spring 6:\r\n\r\n&gt; As of Spring Framework 6.0, Spring requires Java 17+.\r\n\r\nSo, if you want to use Spring 6, you need to upgrade to Java 17. If you want to continue using Java 11, you need to downgrade to Spring 5.3.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/overview.html#overview","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>You're using Spring Framework 6, and since Spring 6, the minimum supported Java version is Java 17 (the class version 61 is the class version of Java 17).</p>\n<p>As documented in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/overview.html#overview\" rel=\"noreferrer\">Spring Framework Overview</a> for Spring 6:</p>\n<blockquote>\n<p>As of Spring Framework 6.0, Spring requires Java 17+.</p>\n</blockquote>\n<p>So, if you want to use Spring 6, you need to upgrade to Java 17. If you want to continue using Java 11, you need to downgrade to Spring 5.3.</p>\n"},{"tags":[],"owner":{"account_id":97672,"reputation":392,"user_id":264814,"display_name":"jman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671116889,"creation_date":1671116889,"answer_id":74813613,"question_id":74648576,"body_markdown":"As of this writing, IntelliJ IDEA automatically uses Spring Boot 3.0 when creating a new Spring Boot project -- even if you specify that it should use an incompatible Java version (i.e., earlier than Java 17). To use a 2.x version of Spring Boot, you will need to use the Spring Initializer: \r\n\r\nhttps://start.spring.io/\r\n\r\nYou can then extract and load this into IntelliJ.","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>As of this writing, IntelliJ IDEA automatically uses Spring Boot 3.0 when creating a new Spring Boot project -- even if you specify that it should use an incompatible Java version (i.e., earlier than Java 17). To use a 2.x version of Spring Boot, you will need to use the Spring Initializer:</p>\n<p><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></p>\n<p>You can then extract and load this into IntelliJ.</p>\n"},{"comments":[{"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"score":4,"creation_date":1675602299,"post_id":75326632,"comment_id":132960566,"body_markdown":"The mysql line doesn&#39;t mean anything here, also show the needed change in code blocks, rather than a screenshot.","body":"The mysql line doesn&#39;t mean anything here, also show the needed change in code blocks, rather than a screenshot."},{"owner":{"account_id":19730530,"reputation":325,"user_id":19876130,"display_name":"jorge jesus achulla palacios"},"score":0,"creation_date":1675638334,"post_id":75326632,"comment_id":132967084,"body_markdown":"when creating a project a spring version 3.0 project onwards and with java 17..\nthe mysql driver dependency is\n\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n\nso you should change the dependency so that you don&#39;t get an error to a previous version..","body":"when creating a project a spring version 3.0 project onwards and with java 17.. the mysql driver dependency is      &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;  so you should change the dependency so that you don&#39;t get an error to a previous version.."},{"owner":{"account_id":51505,"reputation":1291,"user_id":153911,"accept_rate":55,"display_name":"Champ"},"score":0,"creation_date":1684112200,"post_id":75326632,"comment_id":134464367,"body_markdown":"Latest version of spring-boot-starter-parent was 2.7.11 as of this writing: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent","body":"Latest version of spring-boot-starter-parent was 2.7.11 as of this writing: <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework.boot/&hellip;</a>"},{"owner":{"account_id":1636378,"reputation":3853,"user_id":1509738,"accept_rate":75,"display_name":"ArunDhwaj IIITH"},"score":0,"creation_date":1685181151,"post_id":75326632,"comment_id":134627894,"body_markdown":"It has solved my issue when I degraded the project from java-17 and Spring-boot:3.1.0 to java-11 and Spring-boot: 2.7.0. \nThanks.","body":"It has solved my issue when I degraded the project from java-17 and Spring-boot:3.1.0 to java-11 and Spring-boot: 2.7.0.  Thanks."}],"tags":[],"owner":{"account_id":19730530,"reputation":325,"user_id":19876130,"display_name":"jorge jesus achulla palacios"},"comment_count":4,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1675357695,"creation_date":1675357695,"answer_id":75326632,"question_id":74648576,"body_markdown":"to use version 11, if your project was created with version 17, change in pom.xml adj reference image\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W6Xim.png","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>to use version 11, if your project was created with version 17, change in pom.xml adj reference image</p>\n<p><a href=\"https://i.stack.imgur.com/W6Xim.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/W6Xim.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27745931,"reputation":1,"user_id":21181443,"display_name":"Nihal Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675957750,"creation_date":1675957750,"answer_id":75401088,"question_id":74648576,"body_markdown":"I had the same error I was able to resolve it by redirecting to my .m2 directory present in C:\\Users\\Name\\.m2  and delete the repository folder \r\n\r\nThen open the project back in Intellij right click on project ---&gt; Maven and then ----&gt; Download sources and documentation\r\n","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>I had the same error I was able to resolve it by redirecting to my .m2 directory present in C:\\Users\\Name.m2  and delete the repository folder</p>\n<p>Then open the project back in Intellij right click on project ---&gt; Maven and then ----&gt; Download sources and documentation</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676988439,"post_id":75487287,"comment_id":133244877,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75487287/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23444907,"reputation":1,"user_id":19333808,"display_name":"Fer Dev Java"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676653713,"creation_date":1676653713,"answer_id":75487287,"question_id":74648576,"body_markdown":"in my case, I deleted the path deployment, and it worke","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>in my case, I deleted the path deployment, and it worke</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677705593,"creation_date":1677705593,"answer_id":75609098,"question_id":74648576,"body_markdown":"If running from Eclipse (e.g. Maven commands), you need to be using the right JDK version for Run As -&gt; Maven. Ensure that your JRE version is selected appropriately under the JRE tab:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qzaWF.png","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>If running from Eclipse (e.g. Maven commands), you need to be using the right JDK version for Run As -&gt; Maven. Ensure that your JRE version is selected appropriately under the JRE tab:</p>\n<p><a href=\"https://i.stack.imgur.com/qzaWF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzaWF.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684132702,"post_id":75923671,"comment_id":134466178,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"tags":[],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1684176401,"creation_date":1680555039,"answer_id":75923671,"question_id":74648576,"body_markdown":"Make sure, you have the correct parent version as well!\r\nI had v3.0.5 parent version and I still got this error. After I downgraded to v2.7.1, the error disappeared!\r\n\r\n     &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n    &lt;/parent&gt;","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>Make sure, you have the correct parent version as well!\nI had v3.0.5 parent version and I still got this error. After I downgraded to v2.7.1, the error disappeared!</p>\n<pre><code> &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10587937,"reputation":91,"user_id":7799607,"display_name":"emre ozcan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681386994,"creation_date":1681386994,"answer_id":76005133,"question_id":74648576,"body_markdown":"I am using gradle and IntelliJ IDEA. So I did the following updates and it solved my problem.\r\n\r\n1. Preferences&gt;Build,Execution,Deployment&gt;Compiler&gt;Java Compiler (updated as 17)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Preferences&gt;Build,Execution,Deployment&gt;Build Tools&gt;Gradle (updated Gradle JVM to Project SDK 17)\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXnB2.png\r\n  [2]: https://i.stack.imgur.com/lYuaa.png","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>I am using gradle and IntelliJ IDEA. So I did the following updates and it solved my problem.</p>\n<ol>\n<li><p>Preferences&gt;Build,Execution,Deployment&gt;Compiler&gt;Java Compiler (updated as 17)\n<a href=\"https://i.stack.imgur.com/PXnB2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXnB2.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Preferences&gt;Build,Execution,Deployment&gt;Build Tools&gt;Gradle (updated Gradle JVM to Project SDK 17)\n<a href=\"https://i.stack.imgur.com/lYuaa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYuaa.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688456066,"creation_date":1688456066,"answer_id":76610296,"question_id":74648576,"body_markdown":"We had to work with Java 11, same problem. Solved by remove &quot;version&quot; tag from: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>We had to work with Java 11, same problem. Solved by remove &quot;version&quot; tag from:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7009669,"reputation":313,"user_id":5373020,"display_name":"Somit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696936717,"creation_date":1696936717,"answer_id":77265315,"question_id":74648576,"body_markdown":"For me this worked, JAVA_HOME on your machine could still be pointing to java 11 even if you changed it to java 17 on intellij.\r\n\r\nHere is what I followed:\r\n1) Open a terminal and type in: ```java --version```. If this gives you java 11, that means you need to change the JAVA_HOME path to use java 17 and not java 11.\r\n2) Go to intellij: File -&gt; Project Structure (Copy the JDK home path for java 17)\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/28RKl.png\r\n\r\n3) in terminal: ```export JAVA_HOME=&quot;&lt;JDK home path&gt;&quot;```\r\n\r\n4) in terminal: ```echo $JAVA_HOME``` to verify if its set to java 17\r\n5) it should work for you now :) ","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>For me this worked, JAVA_HOME on your machine could still be pointing to java 11 even if you changed it to java 17 on intellij.</p>\n<p>Here is what I followed:</p>\n<ol>\n<li>Open a terminal and type in: <code>java --version</code>. If this gives you java 11, that means you need to change the JAVA_HOME path to use java 17 and not java 11.</li>\n<li>Go to intellij: File -&gt; Project Structure (Copy the JDK home path for java 17)\n<a href=\"https://i.stack.imgur.com/28RKl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/28RKl.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<ol start=\"3\">\n<li><p>in terminal: <code>export JAVA_HOME=&quot;&lt;JDK home path&gt;&quot;</code></p>\n</li>\n<li><p>in terminal: <code>echo $JAVA_HOME</code> to verify if its set to java 17</p>\n</li>\n<li><p>it should work for you now :)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":19732935,"reputation":877,"user_id":14448025,"display_name":"R H"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180163,"favorite_count":0,"down_vote_count":2,"up_vote_count":60,"accepted_answer_id":74714149,"answer_count":11,"score":58,"last_activity_date":1696936717,"creation_date":1669931490,"question_id":74648576,"body_markdown":"I&#39;m working with maven with Java 11 and Maven on IntelliJ IDEA. I&#39;m trying create a JsonTset class as follows:\r\n\r\n```java\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.json.JsonTest;\r\nimport org.springframework.boot.test.json.JacksonTester;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\n@JsonTest\r\npublic class JacksonInjectExample {\r\n\r\n    private static final String filePath = &quot;test.json&quot;;\r\n    \r\n    private static final String JSON = String.format(String.valueOf(Paths.get(filePath)));\r\n\r\n    @Autowired\r\n    private JacksonTester&lt;OHStepTrackingNotification&gt; jacksonTester;\r\n\r\n    @Configuration\r\n    public static class TestConfiguration {...}\r\n\r\n    @BeforeClass\r\n    static public void setSystemProperties() throws IOException {...}\r\n\r\n    @Test\r\n    public void test() throws IOException {...}\r\n}\r\n```\r\n\r\nBut the build is failing on the below imports:\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.json.JsonTest;\r\nimport org.springframework.boot.test.json.JacksonTester;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n```\r\n\r\nIt fails with the error:\r\n\r\n```none\r\njava: cannot access org.springframework.beans.factory.annotation.Autowired\r\n  bad class file: /C:/Users/&lt;username&gt;/.m2/repository/org/springframework/spring-beans/6.0.2/spring-beans-6.0.2.jar!/org/springframework/beans/factory/annotation/Autowired.class\r\n    **class file has wrong version 61.0, should be 55.0**\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n```\r\n\r\nI understand this problem is related to Java versions but can&#39;t find any working solution.\r\n\r\nUsing Java 11 which is set in JAVA_HOME.\r\n\r\nWhat I have tried:\r\n\r\n1. Update JDK to Java 11.\r\n2. `java -version` gives: `openjdk version &quot;11.0.17&quot; 2022-10-18 LTS`\r\n3. Update the project in IntelliJ to work with Java 11.\r\n4. Remove `.idea` folder.\r\n5. Invalidate caches\r\n\r\nDoes someone have any idea how to fix the confusing version?","title":"Spring: class file has wrong version 61.0, should be 55.0","body":"<p>I'm working with maven with Java 11 and Maven on IntelliJ IDEA. I'm trying create a JsonTset class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.BeforeClass;\nimport org.junit.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.json.JsonTest;\nimport org.springframework.boot.test.json.JacksonTester;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\n@JsonTest\npublic class JacksonInjectExample {\n\n    private static final String filePath = &quot;test.json&quot;;\n    \n    private static final String JSON = String.format(String.valueOf(Paths.get(filePath)));\n\n    @Autowired\n    private JacksonTester&lt;OHStepTrackingNotification&gt; jacksonTester;\n\n    @Configuration\n    public static class TestConfiguration {...}\n\n    @BeforeClass\n    static public void setSystemProperties() throws IOException {...}\n\n    @Test\n    public void test() throws IOException {...}\n}\n</code></pre>\n<p>But the build is failing on the below imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.json.JsonTest;\nimport org.springframework.boot.test.json.JacksonTester;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n</code></pre>\n<p>It fails with the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java: cannot access org.springframework.beans.factory.annotation.Autowired\n  bad class file: /C:/Users/&lt;username&gt;/.m2/repository/org/springframework/spring-beans/6.0.2/spring-beans-6.0.2.jar!/org/springframework/beans/factory/annotation/Autowired.class\n    **class file has wrong version 61.0, should be 55.0**\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>I understand this problem is related to Java versions but can't find any working solution.</p>\n<p>Using Java 11 which is set in JAVA_HOME.</p>\n<p>What I have tried:</p>\n<ol>\n<li>Update JDK to Java 11.</li>\n<li><code>java -version</code> gives: <code>openjdk version &quot;11.0.17&quot; 2022-10-18 LTS</code></li>\n<li>Update the project in IntelliJ to work with Java 11.</li>\n<li>Remove <code>.idea</code> folder.</li>\n<li>Invalidate caches</li>\n</ol>\n<p>Does someone have any idea how to fix the confusing version?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1652547389,"post_id":72238608,"comment_id":127634795,"body_markdown":"The gradle error message usually contains the hint that you should call gradle with `--stacktrace` have you done that? Please edit your question and include the error message and the stack trace you get by doing so.","body":"The gradle error message usually contains the hint that you should call gradle with <code>--stacktrace</code> have you done that? Please edit your question and include the error message and the stack trace you get by doing so."},{"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"score":0,"creation_date":1652566839,"post_id":72238608,"comment_id":127638116,"body_markdown":"@Robert I just added what was requested in your comment. Regards","body":"@Robert I just added what was requested in your comment. Regards"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1652568220,"post_id":72238608,"comment_id":127638273,"body_markdown":"Replace `jcenter()` with `mavenCentral()` and Java `VERSION_1_8` with `VERSION_11`. That stacktrace is completely unrelated, as for a `buld.gradle`, only the Gradle log is relevant.","body":"Replace <code>jcenter()</code> with <code>mavenCentral()</code> and Java <code>VERSION_1_8</code> with <code>VERSION_11</code>. That stacktrace is completely unrelated, as for a <code>buld.gradle</code>, only the Gradle log is relevant."}],"answers":[{"tags":[],"owner":{"account_id":16161438,"reputation":23,"user_id":11667407,"display_name":"Ahmet Emre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663190469,"creation_date":1663190469,"answer_id":73723295,"question_id":72238608,"body_markdown":"no that means you/smthn (can be an update) changed your dependencies, you should reArrange them.\r\n\r\nit has an example here: https://stackoverflow.com/questions/73201592/could-not-resolve-all-files-for-configuration-appdebugruntimeclasspath-whil\r\n","title":"Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39; android studio","body":"<p>no that means you/smthn (can be an update) changed your dependencies, you should reArrange them.</p>\n<p>it has an example here: <a href=\"https://stackoverflow.com/questions/73201592/could-not-resolve-all-files-for-configuration-appdebugruntimeclasspath-whil\">Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;. while adding new dependencies in android studio chipmunk</a></p>\n"}],"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8997,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696936106,"creation_date":1652517664,"question_id":72238608,"body_markdown":"I&#39;m new to Android development with Java. I made an app that allows you to log in with Google and Facebook. Everything worked fine until about three days ago when the following message appeared:\r\n\r\n&gt; org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException:\r\n&gt; Could not resolve all files for configuration\r\n&gt; &#39;:app:debugRuntimeClasspath&#39;.\r\n\r\n\r\nI tried updating Gradle, but it didn&#39;t work. I leave you my configuration so that you can help me.\r\n\r\nbuild.gradle(module):\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 32\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.wuad&quot;\r\n        minSdkVersion 26\r\n        targetSdkVersion 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    namespace &#39;com.example.wuad&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n    implementation files(&#39;libs\\\\twitter4j-core-4.0.7.jar&#39;)\r\n    implementation &#39;com.google.firebase:firebase-firestore:23.0.2&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:19.0.0&#39;\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:latest.release&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:3.9.0&#39;\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:last.release&#39;\r\n    implementation &#39;com.facebook.android:facebook-login:[8,9)&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;commons-io:commons-io:2.4&#39;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    implementation &#39;com.facebook.android:facebook-core:latest.release&#39;\r\n\r\n}\r\n```\r\nbuild.gradle(project):\r\n```groovy\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.0&#39;\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\nthe error message and the stack trace \r\n```none\r\n2022-05-14 17:46:48.012 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu0/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\r\n2022-05-14 17:46:48.013 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu1/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\r\n2022-05-14 17:46:48.032 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup34: Permission denied\r\n\r\n2022-05-14 17:48:08.977 473-473/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the &#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-05-14 17:48:08.977 473-473/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: Invalid argument\r\n2022-05-14 17:48:09.384 477-477/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not connect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-05-14 17:48:09.384 477-477/? E/wifi_forwarder: RemoteConnection failed to initialize: RemoteConnection failed to open pipe\r\n2022-05-14 17:48:55.785 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup34: Permission denied\r\n2022-05-14 17:48:55.790 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup35: Permission denied\r\n\r\n2022-05-14 18:06:06.530 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu0/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\r\n2022-05-14 18:06:06.530 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu1/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\r\n2022-05-14 18:06:06.585 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup34: Permission denied\r\n2022-05-14 18:06:06.591 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup35: Permission denied\r\n\r\n2022-05-14 18:06:10.138 5909-5987/? E/GEL_DELAYED_EVENT_DEBUG: Failed delayed event dispatch, no dispatchers.\r\n2022-05-14 18:06:10.437 5909-5988/? E/AwarenessClientProvider: Account associated with identity was null\r\n2022-05-14 18:06:10.487 5909-5986/? E/AwarenessRouterSyncMgr: Exception while syncing fences\r\n    java.util.concurrent.ExecutionException: java.lang.IllegalStateException: Account associated with identity was null\r\n        at zsp.a(PG:135)\r\n        at zsp.get(PG:82)\r\n        at zwj.a(PG:1)\r\n        at zuv.a(PG:4)\r\n        at fyf.run(Unknown Source:1)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at pqt.run(PG:13)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.lang.IllegalStateException: Account associated with identity was null\r\n        at fxj.a(Unknown Source:3)\r\n        at zsr.a(PG:3)\r\n        at zst.run(PG:23)\r\n        at zvn.run(PG:2)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)&#160;\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at pqt.run(PG:13)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n```","title":"Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39; android studio","body":"<p>I'm new to Android development with Java. I made an app that allows you to log in with Google and Facebook. Everything worked fine until about three days ago when the following message appeared:</p>\n<blockquote>\n<p>org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException:\nCould not resolve all files for configuration\n':app:debugRuntimeClasspath'.</p>\n</blockquote>\n<p>I tried updating Gradle, but it didn't work. I leave you my configuration so that you can help me.</p>\n<p>build.gradle(module):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n\n}\n\nandroid {\n    compileSdkVersion 32\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.wuad&quot;\n        minSdkVersion 26\n        targetSdkVersion 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    namespace 'com.example.wuad'\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.1.0'\n    implementation files('libs\\\\twitter4j-core-4.0.7.jar')\n    implementation 'com.google.firebase:firebase-firestore:23.0.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'com.google.android.gms:play-services-auth:19.0.0'\n    implementation 'com.facebook.android:facebook-android-sdk:latest.release'\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.9.0'\n    implementation 'com.facebook.android:facebook-android-sdk:last.release'\n    implementation 'com.facebook.android:facebook-login:[8,9)'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'commons-io:commons-io:2.4'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.facebook.android:facebook-core:latest.release'\n\n}\n</code></pre>\n<p>build.gradle(project):</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        \n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>the error message and the stack trace</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-05-14 17:46:48.012 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu0/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\n2022-05-14 17:46:48.013 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu1/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\n2022-05-14 17:46:48.032 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup34: Permission denied\n\n2022-05-14 17:48:08.977 473-473/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the 'pipe:qemud:network' service: Invalid argument\n2022-05-14 17:48:08.977 473-473/? E/netmgr: Failed to open QEMU pipe 'qemud:network': Invalid argument\n2022-05-14 17:48:09.384 477-477/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not connect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-05-14 17:48:09.384 477-477/? E/wifi_forwarder: RemoteConnection failed to initialize: RemoteConnection failed to open pipe\n2022-05-14 17:48:55.785 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup34: Permission denied\n2022-05-14 17:48:55.790 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup35: Permission denied\n\n2022-05-14 18:06:06.530 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu0/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\n2022-05-14 18:06:06.530 532-566/? E/KernelCpuSpeedReader: Failed to read cpu-freq: /sys/devices/system/cpu/cpu1/cpufreq/stats/time_in_state: open failed: ENOENT (No such file or directory)\n2022-05-14 18:06:06.585 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup34: Permission denied\n2022-05-14 18:06:06.591 205-209/? E/android.system.suspend@1.0-service: Error opening kernel wakelock stats for: wakeup35: Permission denied\n\n2022-05-14 18:06:10.138 5909-5987/? E/GEL_DELAYED_EVENT_DEBUG: Failed delayed event dispatch, no dispatchers.\n2022-05-14 18:06:10.437 5909-5988/? E/AwarenessClientProvider: Account associated with identity was null\n2022-05-14 18:06:10.487 5909-5986/? E/AwarenessRouterSyncMgr: Exception while syncing fences\n    java.util.concurrent.ExecutionException: java.lang.IllegalStateException: Account associated with identity was null\n        at zsp.a(PG:135)\n        at zsp.get(PG:82)\n        at zwj.a(PG:1)\n        at zuv.a(PG:4)\n        at fyf.run(Unknown Source:1)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at pqt.run(PG:13)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.lang.IllegalStateException: Account associated with identity was null\n        at fxj.a(Unknown Source:3)\n        at zsr.a(PG:3)\n        at zst.run(PG:23)\n        at zvn.run(PG:2)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462) \n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at pqt.run(PG:13) \n        at java.lang.Thread.run(Thread.java:923) \n</code></pre>\n"},{"tags":["java","websocket","dns","vert.x"],"comments":[{"owner":{"account_id":11342861,"reputation":32560,"user_id":8316315,"display_name":"Florian Weimer"},"score":0,"creation_date":1550351842,"post_id":54726822,"comment_id":96239111,"body_markdown":"Are you sure the name is available over DNS at all? Multicast DNS does not count. What does `dig somehost` say?","body":"Are you sure the name is available over DNS at all? Multicast DNS does not count. What does <code>dig somehost</code> say?"},{"owner":{"account_id":1819392,"reputation":1433,"user_id":1653759,"accept_rate":74,"display_name":"Rajesh Narravula"},"score":0,"creation_date":1550370743,"post_id":54726822,"comment_id":96242639,"body_markdown":"Yeah I&#39;m sure DNS available for the host, `somehost` is some thing internal i can&#39;t reveal.","body":"Yeah I&#39;m sure DNS available for the host, <code>somehost</code> is some thing internal i can&#39;t reveal."}],"answers":[{"tags":[],"owner":{"account_id":18499897,"reputation":61,"user_id":13477480,"display_name":"Martin Traverse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589026094,"creation_date":1589026094,"answer_id":61696474,"question_id":54726822,"body_markdown":"I had a similar issue which was due to a machine remembering DNS details of a network it was no longer connected to, and trying to use those servers as the default. This was on Windows 10 / OpenJDK 11 and the stale DNS servers were hidden away in the registry, they didn&#39;t show up using ipconfig /all.\r\n\r\nI have a workaround that you can see here:\r\n\r\nhttps://stackoverflow.com/questions/42110790/vertx-httpclient-getnow-not-working/61696414#61696414\r\n\r\nI have also raised a ticket with Netty, to suggest filtering out invalid DNS servers when they are discovering the defaults.\r\n\r\nhttps://github.com/netty/netty/issues/10264\r\n","title":"java.net.UnknownHostException: failed to resolve in Vertx","body":"<p>I had a similar issue which was due to a machine remembering DNS details of a network it was no longer connected to, and trying to use those servers as the default. This was on Windows 10 / OpenJDK 11 and the stale DNS servers were hidden away in the registry, they didn't show up using ipconfig /all.</p>\n\n<p>I have a workaround that you can see here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/42110790/vertx-httpclient-getnow-not-working/61696414#61696414\">Vertx HttpClient getNow not working</a></p>\n\n<p>I have also raised a ticket with Netty, to suggest filtering out invalid DNS servers when they are discovering the defaults.</p>\n\n<p><a href=\"https://github.com/netty/netty/issues/10264\" rel=\"nofollow noreferrer\">https://github.com/netty/netty/issues/10264</a></p>\n"}],"owner":{"account_id":1819392,"reputation":1433,"user_id":1653759,"accept_rate":74,"display_name":"Rajesh Narravula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696936106,"creation_date":1550345123,"question_id":54726822,"body_markdown":"I&#39;m establishing websocket connection, when it WS connection it is establishing, if that is WSS connection getting error.\r\n\r\n**Code:**\r\n\r\n    public void start() throws Exception {\r\n      HttpClientOptions options = new HttpClientOptions();\r\n      options.setSsl(true);\r\n      HttpClient client = vertx.createHttpClient(options);\r\n      MultiMap form = MultiMap.caseInsensitiveMultiMap();\r\n      form.set(&quot;Authorization&quot;, &quot;bearer token&quot;);\r\n      RequestOptions options2 = new RequestOptions()\r\n         .setHost(&quot;somehost&quot;)\r\n         .setPort(443)\r\n         .setSsl(true)\r\n         .setURI(&quot;/someuri&quot;);\r\n      client.websocket(options2, form, (ctx) -&gt;{\r\n        ctx.textMessageHandler( msg -&gt; {\r\n          System.out.println(msg);\r\n        }).exceptionHandler((e) -&gt; {\r\n          e.printStackTrace();\r\n          client.close();\r\n        });\r\n      }, (exec) -&gt; {\r\n        exec.printStackTrace();\r\n      });\r\n    }\r\n\r\n**pom.xml:**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n      &lt;version&gt;3.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nException:\r\n\r\n&gt; java.net.UnknownHostException: failed to resolve &#39;somehost&#39;. Exceeded\r\n&gt; max queries per resolve 4    \r\n&gt;\r\n&gt;at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:845)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:806)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:779)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:779)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:779)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext.access$500(DnsResolveContext.java:62)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsResolveContext$3.operationComplete(DnsResolveContext.java:379)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:511)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:504)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:483)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:424)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:121)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsQueryContext.setFailure(DnsQueryContext.java:216)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsQueryContext.access$300(DnsQueryContext.java:43)\r\n&gt; at\r\n&gt; io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:166) \r\n&gt; at\r\n&gt; io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:127)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404)\r\n&gt; at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:462)   at\r\n&gt; io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)\r\n&gt; at\r\n&gt; io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n&gt; at java.lang.Thread.run(Thread.java:748) \r\n&gt;\r\n&gt;Caused by:\r\n&gt; io.netty.resolver.dns.DnsNameResolverTimeoutException:\r\n&gt; [/xx.xxx.xxx.xxx:xx] query timed out after 5000 milliseconds (no stack\r\n&gt; trace available)\r\n\r\n\r\nIf i used `System.setProperty(&quot;vertx.disableDnsResolver&quot;, &quot;true&quot;)` connection establishing but i needed with DNS.\r\n","title":"java.net.UnknownHostException: failed to resolve in Vertx","body":"<p>I'm establishing websocket connection, when it WS connection it is establishing, if that is WSS connection getting error.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>public void start() throws Exception {\n  HttpClientOptions options = new HttpClientOptions();\n  options.setSsl(true);\n  HttpClient client = vertx.createHttpClient(options);\n  MultiMap form = MultiMap.caseInsensitiveMultiMap();\n  form.set(\"Authorization\", \"bearer token\");\n  RequestOptions options2 = new RequestOptions()\n     .setHost(\"somehost\")\n     .setPort(443)\n     .setSsl(true)\n     .setURI(\"/someuri\");\n  client.websocket(options2, form, (ctx) -&gt;{\n    ctx.textMessageHandler( msg -&gt; {\n      System.out.println(msg);\n    }).exceptionHandler((e) -&gt; {\n      e.printStackTrace();\n      client.close();\n    });\n  }, (exec) -&gt; {\n    exec.printStackTrace();\n  });\n}\n</code></pre>\n\n<p><strong>pom.xml:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n  &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n  &lt;version&gt;3.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n  &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n  &lt;version&gt;3.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Exception:</p>\n\n<blockquote>\n  <p>java.net.UnknownHostException: failed to resolve 'somehost'. Exceeded\n  max queries per resolve 4    </p>\n  \n  <p>at\n  io.netty.resolver.dns.DnsResolveContext.finishResolve(DnsResolveContext.java:845)\n  at\n  io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:806)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\n  at\n  io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:779)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\n  at\n  io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:779)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\n  at\n  io.netty.resolver.dns.DnsResolveContext.tryToFinishResolve(DnsResolveContext.java:779)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:333)\n  at\n  io.netty.resolver.dns.DnsResolveContext.query(DnsResolveContext.java:322)\n  at\n  io.netty.resolver.dns.DnsResolveContext.access$500(DnsResolveContext.java:62)\n  at\n  io.netty.resolver.dns.DnsResolveContext$3.operationComplete(DnsResolveContext.java:379)\n  at\n  io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:511)\n  at\n  io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:504)\n  at\n  io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:483)\n  at\n  io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:424)\n  at\n  io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:121)\n  at\n  io.netty.resolver.dns.DnsQueryContext.setFailure(DnsQueryContext.java:216)\n  at\n  io.netty.resolver.dns.DnsQueryContext.access$300(DnsQueryContext.java:43)\n  at\n  io.netty.resolver.dns.DnsQueryContext$4.run(DnsQueryContext.java:166) \n  at\n  io.netty.util.concurrent.PromiseTask$RunnableAdapter.call(PromiseTask.java:38)\n  at\n  io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:127)\n  at\n  io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)\n  at\n  io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404)\n  at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:462)   at\n  io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897)\n  at\n  io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n  at java.lang.Thread.run(Thread.java:748) </p>\n  \n  <p>Caused by:\n  io.netty.resolver.dns.DnsNameResolverTimeoutException:\n  [/xx.xxx.xxx.xxx:xx] query timed out after 5000 milliseconds (no stack\n  trace available)</p>\n</blockquote>\n\n<p>If i used <code>System.setProperty(\"vertx.disableDnsResolver\", \"true\")</code> connection establishing but i needed with DNS.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1696936827,"post_id":77265231,"comment_id":136213650,"body_markdown":"`SignApk.jar` is not a standard Android SDK tool. Why do you use it instead of `apksigner.jar` from Android SDK? In case of external tools please always provide a link to the used tool, to make it clear which one you are using.","body":"<code>SignApk.jar</code> is not a standard Android SDK tool. Why do you use it instead of <code>apksigner.jar</code> from Android SDK? In case of external tools please always provide a link to the used tool, to make it clear which one you are using."},{"owner":{"account_id":23737189,"reputation":76,"user_id":17755737,"display_name":"Janam Maharjan"},"score":0,"creation_date":1696938116,"post_id":77265231,"comment_id":136213904,"body_markdown":"where can i find apksigner.jar","body":"where can i find apksigner.jar"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1696943817,"post_id":77265231,"comment_id":136215096,"body_markdown":"It is part of every recent `build-tools` package version in Android SDK.","body":"It is part of every recent <code>build-tools</code> package version in Android SDK."}],"owner":{"account_id":23737189,"reputation":76,"user_id":17755737,"display_name":"Janam Maharjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696935933,"creation_date":1696935933,"question_id":77265231,"body_markdown":"how to sign a apk with platform.pk8 and platform.x509.pem and signapk.jar and unsigned apk ? \r\nPlease help.\r\n\r\nI am trying to install it with command \r\n    \r\n    java -jar SignApk.jar android_keys/platform.x509.pem android_keys/platform.pk8 \r\n    application.apk Application_signed.apk\r\n   \r\nbut i am getting error &quot;java.lang.UnsatisfiedLinkError: no conscrypt_openjdk_jni-windows-x86_64 in java.library.path&quot;","title":"how to sign a apk with platform.pk8 and platform.x509.pem and signapk.jar and unsigned apk?","body":"<p>how to sign a apk with platform.pk8 and platform.x509.pem and signapk.jar and unsigned apk ?\nPlease help.</p>\n<p>I am trying to install it with command</p>\n<pre><code>java -jar SignApk.jar android_keys/platform.x509.pem android_keys/platform.pk8 \napplication.apk Application_signed.apk\n</code></pre>\n<p>but i am getting error &quot;java.lang.UnsatisfiedLinkError: no conscrypt_openjdk_jni-windows-x86_64 in java.library.path&quot;</p>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696935162,"post_id":77264398,"comment_id":136213342,"body_markdown":"The request needs to go to the host `api.github.com`, not `github.com` (or at least, the path format `/repos/OWNER/REPOSITORY_NAME` is valid for `api.github.com`)","body":"The request needs to go to the host <code>api.github.com</code>, not <code>github.com</code> (or at least, the path format <code>&#47;repos&#47;OWNER&#47;REPOSITORY_NAME</code> is valid for <code>api.github.com</code>)"},{"owner":{"account_id":8341024,"reputation":1015,"user_id":6266336,"accept_rate":38,"display_name":"Diana"},"score":0,"creation_date":1696949723,"post_id":77264398,"comment_id":136216445,"body_markdown":"you are right! the host was wrong","body":"you are right! the host was wrong"}],"owner":{"account_id":8341024,"reputation":1015,"user_id":6266336,"accept_rate":38,"display_name":"Diana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696935092,"creation_date":1696929216,"question_id":77264398,"body_markdown":"This is more a question to the existing package rather then my own code!\r\n\r\nHere are the two methods of the package `org.kohsuke.github;`\r\n\r\n  ```java\r\n  public GHRepository getRepository(String name) throws IOException {\r\n    String[] tokens = name.split(&quot;/&quot;);\r\n    if (tokens.length != 2) {\r\n      throw new IllegalArgumentException(&quot;Repository name must be in format owner/repo&quot;);\r\n    } else {\r\n      return GHRepository.read(this, tokens[0], tokens[1]);\r\n    }\r\n  }\r\n```\r\n\r\n  ```java\r\n  static GHRepository read(GitHub root, String owner, String name) throws IOException {\r\n    return (GHRepository)((Requester)root.createRequest().withUrlPath(&quot;/repos/&quot; + owner + &#39;/&#39; + name, new String[0])).fetch(GHRepository.class);\r\n  }\r\n```\r\n\r\nwhich reads the repository from a URL that it builds likes this:\r\n(given I set up the root as `https://github.com` which I did) \r\nIt is making request with the URL:\r\n`https://github.com/repos/OWNER/REPOSITORY_NAME`\r\n\r\nIt throws an error that repository can&#39;t be found. After copying the URL from the exception I see that this is true, because the path it&#39;s using `https://github.com/OWNER/REPOSITORY_NAME` points to no directory, but if I remove `/repos` part, the URL is correct. So the way it builds the URL seems to be incorrect. \r\n\r\nAm I actually doing something wrong? \r\n\r\nAlso, I am pretty sure some time ago, the package used to work just fine. Has GitHub changed the structure of the URL? \r\n\r\n","title":"Wrong path to repository in org.kohsuke.github Java API for Github","body":"<p>This is more a question to the existing package rather then my own code!</p>\n<p>Here are the two methods of the package <code>org.kohsuke.github;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public GHRepository getRepository(String name) throws IOException {\n  String[] tokens = name.split(&quot;/&quot;);\n  if (tokens.length != 2) {\n    throw new IllegalArgumentException(&quot;Repository name must be in format owner/repo&quot;);\n  } else {\n    return GHRepository.read(this, tokens[0], tokens[1]);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>static GHRepository read(GitHub root, String owner, String name) throws IOException {\n  return (GHRepository)((Requester)root.createRequest().withUrlPath(&quot;/repos/&quot; + owner + '/' + name, new String[0])).fetch(GHRepository.class);\n}\n</code></pre>\n<p>which reads the repository from a URL that it builds likes this:\n(given I set up the root as <code>https://github.com</code> which I did)\nIt is making request with the URL:\n<code>https://github.com/repos/OWNER/REPOSITORY_NAME</code></p>\n<p>It throws an error that repository can't be found. After copying the URL from the exception I see that this is true, because the path it's using <code>https://github.com/OWNER/REPOSITORY_NAME</code> points to no directory, but if I remove <code>/repos</code> part, the URL is correct. So the way it builds the URL seems to be incorrect.</p>\n<p>Am I actually doing something wrong?</p>\n<p>Also, I am pretty sure some time ago, the package used to work just fine. Has GitHub changed the structure of the URL?</p>\n"},{"tags":["java","multithreading","jvm","virtual-threads"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1696930542,"post_id":77264546,"comment_id":136212418,"body_markdown":"&quot;platform thread&quot;, &quot;os thread&quot; and &quot;native thread&quot; are all just different terms for the same thing.","body":"&quot;platform thread&quot;, &quot;os thread&quot; and &quot;native thread&quot; are all just different terms for the same thing."},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1696930804,"post_id":77264546,"comment_id":136212469,"body_markdown":"You are correct in your understanding that virtual threads execute code on platform threads provided by the operating system. These virtual threads offer a higher-level abstraction that simplifies concurrency management, without the intricacies of dealing directly with native threads.","body":"You are correct in your understanding that virtual threads execute code on platform threads provided by the operating system. These virtual threads offer a higher-level abstraction that simplifies concurrency management, without the intricacies of dealing directly with native threads."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1696933020,"post_id":77264546,"comment_id":136212908,"body_markdown":"All user-space code that runs does so in an OS process/thread. The doc is saying that the code will run *somewhere*. But you cannot point to a specific OS thread that will provide that somewhere. The JVM may move the execution around over time across a pool of its OS threads.","body":"All user-space code that runs does so in an OS process/thread. The doc is saying that the code will run <i>somewhere</i>. But you cannot point to a specific OS thread that will provide that somewhere. The JVM may move the execution around over time across a pool of its OS threads."}],"owner":{"account_id":28735860,"reputation":1,"user_id":22006924,"display_name":"Jackdear"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696934972,"creation_date":1696930376,"question_id":77264546,"body_markdown":"I am learning about Java virtual threads, and I&#39;m very confused because of this sentence:\r\n\r\n&gt; A virtual thread still runs code on an OS thread.\r\n\r\n[According to the documentation provided by Oracle, a virtual thread still runs code on an OS thread.](https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-DC4306FC-D6C1-4BCC-AECE-48C32C1A8DAA)\r\n\r\nI think a virtual thread runs code on an platform thread, because according to the documentation provided by Oracle, when the Java runtime schedules a virtual thread, it assigns or mounts the virtual thread on a platform thread, then the operating system schedules that platform thread as usual.\r\n\r\nHow do I understand that?","title":"Why said a virtual thread still runs code on an OS thread?","body":"<p>I am learning about Java virtual threads, and I'm very confused because of this sentence:</p>\n<blockquote>\n<p>A virtual thread still runs code on an OS thread.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-DC4306FC-D6C1-4BCC-AECE-48C32C1A8DAA\" rel=\"nofollow noreferrer\">According to the documentation provided by Oracle, a virtual thread still runs code on an OS thread.</a></p>\n<p>I think a virtual thread runs code on an platform thread, because according to the documentation provided by Oracle, when the Java runtime schedules a virtual thread, it assigns or mounts the virtual thread on a platform thread, then the operating system schedules that platform thread as usual.</p>\n<p>How do I understand that?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696936796,"post_id":77265118,"comment_id":136213643,"body_markdown":"Well the message/error is pretty clear.","body":"Well the message/error is pretty clear."}],"owner":{"account_id":29175286,"reputation":1,"user_id":22350664,"display_name":"wikhe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696934946,"creation_date":1696934946,"question_id":77265118,"body_markdown":"getting the below exception\r\n2023-10-10 16:15:56.383  WARN 31748 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable &#39;userId&#39; for method parameter type Integer is not present]\r\n\r\n\r\n\r\ntrying to create a delete api in springboot\r\n","title":"Required URI template variable &#39;userId&#39; for method parameter type Integer is not present]","body":"<p>getting the below exception\n2023-10-10 16:15:56.383  WARN 31748 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingPathVariableException: Required URI template variable 'userId' for method parameter type Integer is not present]</p>\n<p>trying to create a delete api in springboot</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":25394821,"reputation":66,"user_id":19205249,"display_name":"milkdove"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696934907,"creation_date":1696934907,"answer_id":77265110,"question_id":77264684,"body_markdown":"try onErrorResume handler exception.","title":"post filter in Spring Cloud Gateway is not responding if downstream service is down","body":"<p>try onErrorResume handler exception.</p>\n"}],"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696934907,"creation_date":1696931528,"question_id":77264684,"body_markdown":"I am implementing a post filter in Spring Cloud Gateway. This is working fine if my downstream service is running. But, if my downstream service is NOT running, I am getting 500 Internal Server Error and my post filter is not executing. \r\n\r\nWhat I need: I want to check what status code is comming from downstream. In this case I should receive status code 500, then I want to send back a Custom Response Header with some message.\r\n\r\n    public GlobalFilter customGlobalPostFilter() {\r\n        return (exchange, chain) -&gt; chain.filter(exchange)\r\n            .then(Mono.just(exchange))\r\n            .map(serverWebExchange -&gt; {\r\n              //adds header to response\r\n              serverWebExchange.getResponse().getHeaders().set(&quot;CUSTOM-RESPONSE-HEADER&quot;,\r\n                  HttpStatus.OK.equals(serverWebExchange.getResponse().getStatusCode()) ? &quot;It worked&quot;: &quot;It did not work&quot;);\r\n              return serverWebExchange;\r\n            })\r\n            .then();\r\n    }","title":"post filter in Spring Cloud Gateway is not responding if downstream service is down","body":"<p>I am implementing a post filter in Spring Cloud Gateway. This is working fine if my downstream service is running. But, if my downstream service is NOT running, I am getting 500 Internal Server Error and my post filter is not executing.</p>\n<p>What I need: I want to check what status code is comming from downstream. In this case I should receive status code 500, then I want to send back a Custom Response Header with some message.</p>\n<pre><code>public GlobalFilter customGlobalPostFilter() {\n    return (exchange, chain) -&gt; chain.filter(exchange)\n        .then(Mono.just(exchange))\n        .map(serverWebExchange -&gt; {\n          //adds header to response\n          serverWebExchange.getResponse().getHeaders().set(&quot;CUSTOM-RESPONSE-HEADER&quot;,\n              HttpStatus.OK.equals(serverWebExchange.getResponse().getStatusCode()) ? &quot;It worked&quot;: &quot;It did not work&quot;);\n          return serverWebExchange;\n        })\n        .then();\n}\n</code></pre>\n"},{"tags":["java","optimization","file","nio","operations"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1256194716,"post_id":1605332,"comment_id":1470871,"body_markdown":"`transferTo`/`transferFrom` would be more conventional for copying files. Whichever technique shouldn&#39;t make your hard drive any faster or slower, although I guess there could be a problem if it read small chunks at a time and causes the head to spend an inordinate amount of time seeking.","body":"<code>transferTo</code>/<code>transferFrom</code> would be more conventional for copying files. Whichever technique shouldn&#39;t make your hard drive any faster or slower, although I guess there could be a problem if it read small chunks at a time and causes the head to spend an inordinate amount of time seeking."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1256194752,"post_id":1605332,"comment_id":1470874,"body_markdown":"(You don&#39;t mention which OS you are using, or which JRE vendor and version.)","body":"(You don&#39;t mention which OS you are using, or which JRE vendor and version.)"},{"owner":{"account_id":52103,"reputation":4428,"user_id":155684,"accept_rate":92,"display_name":"Keshav"},"score":0,"creation_date":1256195515,"post_id":1605332,"comment_id":1470918,"body_markdown":"Oops sorry, I am using FC10 with Sun JDK6.","body":"Oops sorry, I am using FC10 with Sun JDK6."}],"answers":[{"comments":[{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":6,"creation_date":1257542653,"post_id":1605355,"comment_id":1565325,"body_markdown":"Did you get that mixed up?  My own experience is that `java.nio` is faster with *larger* files than `java.io`, not smaller.","body":"Did you get that mixed up?  My own experience is that <code>java.nio</code> is faster with <i>larger</i> files than <code>java.io</code>, not smaller."},{"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"score":0,"creation_date":1257604358,"post_id":1605355,"comment_id":1568224,"body_markdown":"No, my experience is the other way round. `java.nio` is fast as long the file is small enough to be mapped to memory. If it gets bigger (200 MB and more) `java.io` is faster.","body":"No, my experience is the other way round. <code>java.nio</code> is fast as long the file is small enough to be mapped to memory. If it gets bigger (200 MB and more) <code>java.io</code> is faster."},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1257610846,"post_id":1605355,"comment_id":1568598,"body_markdown":"Wow.  The total opposite of me.  Note that you don&#39;t necessarily need to map a file to read it--one can read from the `FileChannel.read()`.  There is not just one single approach to read files using `java.nio`.","body":"Wow.  The total opposite of me.  Note that you don&#39;t necessarily need to map a file to read it--one can read from the <code>FileChannel.read()</code>.  There is not just one single approach to read files using <code>java.nio</code>."},{"owner":{"account_id":3871840,"reputation":5493,"user_id":3206927,"accept_rate":77,"display_name":"sinedsem"},"score":2,"creation_date":1503997988,"post_id":1605355,"comment_id":78828194,"body_markdown":"@tangens did you check this?","body":"@tangens did you check this?"}],"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":4,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1256192816,"creation_date":1256192816,"answer_id":1605355,"question_id":1605332,"body_markdown":"My experience is, that NIO is much faster with small files. But when it comes to large files FileInputStream/FileOutputStream is much faster.","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>My experience is, that NIO is much faster with small files. But when it comes to large files FileInputStream/FileOutputStream is much faster.</p>\n"},{"tags":[],"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1404150401,"creation_date":1256206293,"answer_id":1606249,"question_id":1605332,"body_markdown":"If the thing you want to compare is performance of file copying, then for the channel test you should do this instead:\r\n\r\n    final FileInputStream inputStream = new FileInputStream(src);\r\n    final FileOutputStream outputStream = new FileOutputStream(dest);\r\n    final FileChannel inChannel = inputStream.getChannel();\r\n    final FileChannel outChannel = outputStream.getChannel();\r\n    inChannel.transferTo(0, inChannel.size(), outChannel);\r\n    inChannel.close();\r\n    outChannel.close();\r\n    inputStream.close();\r\n    outputStream.close();\r\n\r\n\r\nThis won&#39;t be slower than buffering yourself from one channel to the other, and will potentially be massively faster. According to the Javadocs:\r\n\r\n&gt; Many operating systems can transfer bytes directly from the filesystem cache to the target channel without actually copying them.\r\n","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>If the thing you want to compare is performance of file copying, then for the channel test you should do this instead:</p>\n\n<pre><code>final FileInputStream inputStream = new FileInputStream(src);\nfinal FileOutputStream outputStream = new FileOutputStream(dest);\nfinal FileChannel inChannel = inputStream.getChannel();\nfinal FileChannel outChannel = outputStream.getChannel();\ninChannel.transferTo(0, inChannel.size(), outChannel);\ninChannel.close();\noutChannel.close();\ninputStream.close();\noutputStream.close();\n</code></pre>\n\n<p>This won't be slower than buffering yourself from one channel to the other, and will potentially be massively faster. According to the Javadocs:</p>\n\n<blockquote>\n  <p>Many operating systems can transfer bytes directly from the filesystem cache to the target channel without actually copying them.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1256241531,"creation_date":1256241531,"answer_id":1609601,"question_id":1605332,"body_markdown":"I tested the performance of FileInputStream vs. FileChannel for decoding base64 encoded files. In my experients I tested rather large file and traditional io was alway a bit faster than nio.\r\n\r\nFileChannel might have had an advantage in prior versions of the jvm because of synchonization overhead in several io related classes, but modern jvm are pretty good at removing unneeded locks.","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>I tested the performance of FileInputStream vs. FileChannel for decoding base64 encoded files. In my experients I tested rather large file and traditional io was alway a bit faster than nio.</p>\n\n<p>FileChannel might have had an advantage in prior versions of the jvm because of synchonization overhead in several io related classes, but modern jvm are pretty good at removing unneeded locks.</p>\n"},{"comments":[{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1363528872,"post_id":1690724,"comment_id":21878136,"body_markdown":"@Stu Thompson - Thanks for your post. I came across your answer since I am researching on the same topic. I am trying to understand the OS improvements that nio exposes to the java programmers. A couple of them being - DMA and memory mapped files. Have you come across more of such improvements?  P.S - Your blog links are broken.","body":"@Stu Thompson - Thanks for your post. I came across your answer since I am researching on the same topic. I am trying to understand the OS improvements that nio exposes to the java programmers. A couple of them being - DMA and memory mapped files. Have you come across more of such improvements?  P.S - Your blog links are broken."},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":0,"creation_date":1363602949,"post_id":1690724,"comment_id":21900933,"body_markdown":"@AndyDufresne my blog is down at the moment, will be up later this week--in the process of moving it.","body":"@AndyDufresne my blog is down at the moment, will be up later this week--in the process of moving it."},{"owner":{"account_id":109987,"reputation":1567,"user_id":291223,"display_name":"Arthur Edelstein"},"score":15,"creation_date":1368671674,"post_id":1690724,"comment_id":23822999,"body_markdown":"Here are the blog links on archive.org:\n\nhttp://web.archive.org/web/20120815094827/http://geekomatic.ch/2008/09.html\n\nhttp://web.archive.org/web/20120821114802/http://geekomatic.ch/2009/01.html","body":"Here are the blog links on archive.org:  <a href=\"http://web.archive.org/web/20120815094827/http://geekomatic.ch/2008/09.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20120815094827/http://geekomatic.ch/2008&zwnj;&#8203;/&hellip;</a>  <a href=\"http://web.archive.org/web/20120821114802/http://geekomatic.ch/2009/01.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20120821114802/http://geekomatic.ch/2009&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":179153,"reputation":1419,"user_id":411615,"accept_rate":82,"display_name":"Deckard"},"score":1,"creation_date":1455608834,"post_id":1690724,"comment_id":58552203,"body_markdown":"How about just copying files from one directory to another? (Each different disk drive)","body":"How about just copying files from one directory to another? (Each different disk drive)"},{"owner":{"account_id":194080,"reputation":998,"user_id":436183,"accept_rate":75,"display_name":"Jeryl Cook"},"score":1,"creation_date":1464297582,"post_id":1690724,"comment_id":62441019,"body_markdown":"Interesting: http://mailinator.blogspot.in/2008/02/kill-myth-please-nio-is-not-faster-than.html","body":"Interesting: <a href=\"http://mailinator.blogspot.in/2008/02/kill-myth-please-nio-is-not-faster-than.html\" rel=\"nofollow noreferrer\">mailinator.blogspot.in/2008/02/&hellip;</a>"},{"owner":{"account_id":236513,"reputation":341,"user_id":504050,"accept_rate":50,"display_name":"Smithfield"},"score":1,"creation_date":1589836095,"post_id":1690724,"comment_id":109446914,"body_markdown":"&quot;NIO is faster for larger files&quot;. May I ask what &#39;larger&#39; means in terms of size here? Larger file is &gt;1MB, &gt;100MB, &gt;350MB as in initial question, more?","body":"&quot;NIO is faster for larger files&quot;. May I ask what &#39;larger&#39; means in terms of size here? Larger file is &gt;1MB, &gt;100MB, &gt;350MB as in initial question, more?"}],"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"comment_count":6,"down_vote_count":1,"up_vote_count":213,"is_accepted":true,"score":212,"last_activity_date":1471884149,"creation_date":1257544113,"answer_id":1690724,"question_id":1605332,"body_markdown":"My experience with larger files sizes has been that `java.nio` is faster than `java.io`.  *Solidly faster.*  Like in the &gt;250% range.  That said, I am eliminating obvious bottlenecks, which I suggest your micro-benchmark might suffer from.  Potential areas for investigating:\r\n\r\n**The buffer size.**  The algorithm you basically have is\r\n\r\n - copy from disk to buffer\r\n - copy from buffer to disk\r\n\r\nMy own experience has been that this buffer size is ***ripe*** for tuning.  I&#39;ve settled on 4KB for one part of my application, 256KB for another.  I suspect your code is suffering with such a large buffer.  Run some benchmarks with buffers of 1KB, 2KB, 4KB, 8KB, 16KB, 32KB and 64KB to prove it to yourself.\r\n\r\n**Don&#39;t perform java benchmarks that read and write to the same disk.**\r\n\r\nIf you do, then you are really benchmarking the disk, and not Java.  I would also suggest that if your CPU is not busy, then you are probably experiencing some other bottleneck.\r\n\r\n\r\n**Don&#39;t use a buffer if you don&#39;t need to.**\r\n\r\nWhy copy to memory if your target is another disk or a NIC?  With larger files, the latency incured is non-trivial.  \r\n\r\nLike other have said, use `FileChannel.transferTo()` or `FileChannel.transferFrom()`.  The key advantage here is that the JVM uses the OS&#39;s access to DMA ([Direct Memory Access][1]), if present. *(This is implementation dependent, but modern Sun and IBM versions on general purpose CPUs are good to go.)*  What happens is the data goes straight to/from disc, to the bus, and then to the destination... bypassing any circuit through RAM or the CPU.\r\n\r\nThe web app I spent my days and night working on is very IO heavy.  I&#39;ve done micro benchmarks and real-world benchmarks too.  And the results are up on my blog, have a look-see:\r\n\r\n - [Real world performance metrics: java.io vs. java.nio][2]  \r\n - [Real world performance metrics: java.io vs. java.nio (The Sequel)][3]  \r\n\r\n**Use production data and environments**\r\n\r\nMicro-benchmarks are prone to distortion.  If you can, make the effort to gather data from exactly what you plan to do, with the load you expect, on the hardware you expect.\r\n\r\nMy benchmarks are solid and reliable because they took place on a production system, a beefy system, a system under load, gathered in logs.  *Not* my notebook&#39;s 7200 RPM 2.5&quot; SATA drive while I watched intensely as the JVM work my hard disc.  \r\n\r\nWhat are you running on?  It matters.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Direct_memory_access\r\n  [2]: http://web.archive.org/web/20120815094827/http://geekomatic.ch/2008/09.html\r\n  [3]: http://web.archive.org/web/20120821114802/http://geekomatic.ch/2009/01.html","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>My experience with larger files sizes has been that <code>java.nio</code> is faster than <code>java.io</code>.  <em>Solidly faster.</em>  Like in the >250% range.  That said, I am eliminating obvious bottlenecks, which I suggest your micro-benchmark might suffer from.  Potential areas for investigating:</p>\n\n<p><strong>The buffer size.</strong>  The algorithm you basically have is</p>\n\n<ul>\n<li>copy from disk to buffer</li>\n<li>copy from buffer to disk</li>\n</ul>\n\n<p>My own experience has been that this buffer size is <strong><em>ripe</em></strong> for tuning.  I've settled on 4KB for one part of my application, 256KB for another.  I suspect your code is suffering with such a large buffer.  Run some benchmarks with buffers of 1KB, 2KB, 4KB, 8KB, 16KB, 32KB and 64KB to prove it to yourself.</p>\n\n<p><strong>Don't perform java benchmarks that read and write to the same disk.</strong></p>\n\n<p>If you do, then you are really benchmarking the disk, and not Java.  I would also suggest that if your CPU is not busy, then you are probably experiencing some other bottleneck.</p>\n\n<p><strong>Don't use a buffer if you don't need to.</strong></p>\n\n<p>Why copy to memory if your target is another disk or a NIC?  With larger files, the latency incured is non-trivial.  </p>\n\n<p>Like other have said, use <code>FileChannel.transferTo()</code> or <code>FileChannel.transferFrom()</code>.  The key advantage here is that the JVM uses the OS's access to DMA (<a href=\"http://en.wikipedia.org/wiki/Direct_memory_access\" rel=\"noreferrer\">Direct Memory Access</a>), if present. <em>(This is implementation dependent, but modern Sun and IBM versions on general purpose CPUs are good to go.)</em>  What happens is the data goes straight to/from disc, to the bus, and then to the destination... bypassing any circuit through RAM or the CPU.</p>\n\n<p>The web app I spent my days and night working on is very IO heavy.  I've done micro benchmarks and real-world benchmarks too.  And the results are up on my blog, have a look-see:</p>\n\n<ul>\n<li><a href=\"http://web.archive.org/web/20120815094827/http://geekomatic.ch/2008/09.html\" rel=\"noreferrer\">Real world performance metrics: java.io vs. java.nio</a>  </li>\n<li><a href=\"http://web.archive.org/web/20120821114802/http://geekomatic.ch/2009/01.html\" rel=\"noreferrer\">Real world performance metrics: java.io vs. java.nio (The Sequel)</a>  </li>\n</ul>\n\n<p><strong>Use production data and environments</strong></p>\n\n<p>Micro-benchmarks are prone to distortion.  If you can, make the effort to gather data from exactly what you plan to do, with the load you expect, on the hardware you expect.</p>\n\n<p>My benchmarks are solid and reliable because they took place on a production system, a beefy system, a system under load, gathered in logs.  <em>Not</em> my notebook's 7200 RPM 2.5\" SATA drive while I watched intensely as the JVM work my hard disc.  </p>\n\n<p>What are you running on?  It matters.</p>\n"},{"tags":[],"owner":{"account_id":1016290,"reputation":1203,"user_id":1027801,"display_name":"Erkki Nokso-Koivisto"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1320332195,"creation_date":1320330799,"answer_id":7996652,"question_id":1605332,"body_markdown":"Based on my tests (Win7 64bit, 6GB RAM, Java6), NIO transferFrom is fast only with small files and becomes very slow on larger files. NIO databuffer flip always outperforms standard IO. \r\n\r\n- Copying 1000x2MB\r\n  1. NIO (transferFrom) ~2300ms\r\n  2. NIO (direct datababuffer 5000b flip) ~3500ms \r\n  3. Standard IO (buffer 5000b) ~6000ms\r\n \r\n- Copying 100x20mb\r\n  1. NIO (direct datababuffer 5000b flip) ~4000ms \r\n  2. NIO (transferFrom) ~5000ms\r\n  3. Standard IO (buffer 5000b) ~6500ms\r\n\r\n- Copying 1x1000mb\r\n  1. NIO (direct datababuffer 5000b flip) ~4500s \r\n  2. Standard IO (buffer 5000b) ~7000ms\r\n  3. NIO (transferFrom) ~8000ms\r\n\r\nThe transferTo() method works on chunks of a file; wasn&#39;t intended as a high-level file copy method:\r\nhttps://stackoverflow.com/questions/4444210/how-to-copy-a-large-file-in-windows-xp/4444252#4444252","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>Based on my tests (Win7 64bit, 6GB RAM, Java6), NIO transferFrom is fast only with small files and becomes very slow on larger files. NIO databuffer flip always outperforms standard IO. </p>\n\n<ul>\n<li><p>Copying 1000x2MB</p>\n\n<ol>\n<li>NIO (transferFrom) ~2300ms</li>\n<li>NIO (direct datababuffer 5000b flip) ~3500ms </li>\n<li>Standard IO (buffer 5000b) ~6000ms</li>\n</ol></li>\n<li><p>Copying 100x20mb</p>\n\n<ol>\n<li>NIO (direct datababuffer 5000b flip) ~4000ms </li>\n<li>NIO (transferFrom) ~5000ms</li>\n<li>Standard IO (buffer 5000b) ~6500ms</li>\n</ol></li>\n<li><p>Copying 1x1000mb</p>\n\n<ol>\n<li>NIO (direct datababuffer 5000b flip) ~4500s </li>\n<li>Standard IO (buffer 5000b) ~7000ms</li>\n<li>NIO (transferFrom) ~8000ms</li>\n</ol></li>\n</ul>\n\n<p>The transferTo() method works on chunks of a file; wasn't intended as a high-level file copy method:\n<a href=\"https://stackoverflow.com/questions/4444210/how-to-copy-a-large-file-in-windows-xp/4444252#4444252\">How to copy a large file in Windows XP?</a></p>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696934906,"creation_date":1366649874,"answer_id":16152573,"question_id":1605332,"body_markdown":"If you are not using the transferTo feature or non-blocking features you will not notice a difference between traditional IO and NIO(2) because the traditional IO maps to NIO. \r\n\r\nBut if you can use the NIO features like transferFrom/To or want to use Buffers, then of course NIO is the way to go.\r\n\r\n(Caveat there are some cases where the traditional blocking IO behaves better, some of them are caused by bugs and some because of less overhead or different buffering asumptions, so its always good to compare).","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>If you are not using the transferTo feature or non-blocking features you will not notice a difference between traditional IO and NIO(2) because the traditional IO maps to NIO.</p>\n<p>But if you can use the NIO features like transferFrom/To or want to use Buffers, then of course NIO is the way to go.</p>\n<p>(Caveat there are some cases where the traditional blocking IO behaves better, some of them are caused by bugs and some because of less overhead or different buffering asumptions, so its always good to compare).</p>\n"},{"tags":[],"owner":{"account_id":1027813,"reputation":19711,"user_id":1036728,"accept_rate":53,"display_name":"antak"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487835395,"creation_date":1487835395,"answer_id":42409658,"question_id":1605332,"body_markdown":"Answering the &quot;usefulness&quot; part of the question:\r\n\r\nOne rather subtle gotcha of using `FileChannel` over `FileOutputStream` is that performing any of its blocking operations (e.g. `read()` or `write()`) from a thread that&#39;s in [interrupted state](http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--) will cause the channel to close abruptly with [`java.nio.channels.ClosedByInterruptException`](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ClosedByInterruptException.html).\r\n\r\nNow, this could be a good thing if whatever the `FileChannel` was used for is part of the thread&#39;s main function, and design took this into account.\r\n\r\nBut it could also be pesky if used by some auxiliary feature such as a logging function.  For example, you can find your logging output suddenly closed if the logging function happens to be called by a thread that&#39;s also interrupted.\r\n\r\nIt&#39;s unfortunate this is so subtle because not accounting for this can lead to bugs that affect write integrity.&lt;sup&gt;[1][2]&lt;/sup&gt;\r\n\r\n* &lt;sup&gt;[1]&lt;/sup&gt; https://bugs.openjdk.java.net/browse/JDK-4469683\r\n* &lt;sup&gt;[2]&lt;/sup&gt; http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6608965\r\n","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>Answering the \"usefulness\" part of the question:</p>\n\n<p>One rather subtle gotcha of using <code>FileChannel</code> over <code>FileOutputStream</code> is that performing any of its blocking operations (e.g. <code>read()</code> or <code>write()</code>) from a thread that's in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--\" rel=\"noreferrer\">interrupted state</a> will cause the channel to close abruptly with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ClosedByInterruptException.html\" rel=\"noreferrer\"><code>java.nio.channels.ClosedByInterruptException</code></a>.</p>\n\n<p>Now, this could be a good thing if whatever the <code>FileChannel</code> was used for is part of the thread's main function, and design took this into account.</p>\n\n<p>But it could also be pesky if used by some auxiliary feature such as a logging function.  For example, you can find your logging output suddenly closed if the logging function happens to be called by a thread that's also interrupted.</p>\n\n<p>It's unfortunate this is so subtle because not accounting for this can lead to bugs that affect write integrity.<sup>[1][2]</sup></p>\n\n<ul>\n<li><sup>[1]</sup> <a href=\"https://bugs.openjdk.java.net/browse/JDK-4469683\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-4469683</a></li>\n<li><sup>[2]</sup> <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6608965\" rel=\"noreferrer\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6608965</a></li>\n</ul>\n"}],"owner":{"account_id":52103,"reputation":4428,"user_id":155684,"accept_rate":92,"display_name":"Keshav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123327,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"accepted_answer_id":1690724,"answer_count":7,"score":177,"last_activity_date":1696934906,"creation_date":1256192485,"question_id":1605332,"body_markdown":"I am trying to figure out if there is any difference in performance (or advantages) when we use nio `FileChannel` versus normal `FileInputStream/FileOuputStream` to read and write files to filesystem. I observed that on my machine both perform at the same level, also many times the `FileChannel` way is slower. Can I please know more details comparing these two methods. Here is the code I used, the file that I am testing with is around `350MB`. Is it a good option to use NIO based classes for File I/O, if I am not looking at random access or other such advanced features?\r\n\r\n    package trialjavaprograms;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.InputStream;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.FileChannel;\r\n    \r\n    public class JavaNIOTest {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tuseNormalIO();\r\n    \t\tuseFileChannel();\r\n    \t}\r\n    \r\n    \tprivate static void useNormalIO() throws Exception {\r\n    \t\tFile file = new File(&quot;/home/developer/test.iso&quot;);\r\n    \t\tFile oFile = new File(&quot;/home/developer/test2&quot;);\r\n    \r\n    \t\tlong time1 = System.currentTimeMillis();\r\n    \t\tInputStream is = new FileInputStream(file);\r\n    \t\tFileOutputStream fos = new FileOutputStream(oFile);\r\n    \t\tbyte[] buf = new byte[64 * 1024];\r\n    \t\tint len = 0;\r\n    \t\twhile((len = is.read(buf)) != -1) {\r\n    \t\t\tfos.write(buf, 0, len);\r\n    \t\t}\r\n    \t\tfos.flush();\r\n    \t\tfos.close();\r\n    \t\tis.close();\r\n    \t\tlong time2 = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Time taken: &quot;+(time2-time1)+&quot; ms&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void useFileChannel() throws Exception {\r\n    \t\tFile file = new File(&quot;/home/developer/test.iso&quot;);\r\n    \t\tFile oFile = new File(&quot;/home/developer/test2&quot;);\r\n    \r\n    \t\tlong time1 = System.currentTimeMillis();\r\n    \t\tFileInputStream is = new FileInputStream(file);\r\n    \t\tFileOutputStream fos = new FileOutputStream(oFile);\r\n    \t\tFileChannel f = is.getChannel();\r\n    \t\tFileChannel f2 = fos.getChannel();\r\n    \r\n    \t\tByteBuffer buf = ByteBuffer.allocateDirect(64 * 1024);\r\n    \t\tlong len = 0;\r\n    \t\twhile((len = f.read(buf)) != -1) {\r\n    \t\t\tbuf.flip();\r\n    \t\t\tf2.write(buf);\r\n    \t\t\tbuf.clear();\r\n    \t\t}\r\n    \t\t\r\n    \t\tf2.close();\r\n    \t\tf.close();\r\n    \t\t\r\n    \t\tlong time2 = System.currentTimeMillis();\r\n    \t\tSystem.out.println(&quot;Time taken: &quot;+(time2-time1)+&quot; ms&quot;);\r\n    \t}\r\n    }\r\n\r\n \r\n","title":"Java NIO FileChannel versus FileOutputstream performance / usefulness","body":"<p>I am trying to figure out if there is any difference in performance (or advantages) when we use nio <code>FileChannel</code> versus normal <code>FileInputStream/FileOuputStream</code> to read and write files to filesystem. I observed that on my machine both perform at the same level, also many times the <code>FileChannel</code> way is slower. Can I please know more details comparing these two methods. Here is the code I used, the file that I am testing with is around <code>350MB</code>. Is it a good option to use NIO based classes for File I/O, if I am not looking at random access or other such advanced features?</p>\n\n<pre><code>package trialjavaprograms;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.FileChannel;\n\npublic class JavaNIOTest {\n    public static void main(String[] args) throws Exception {\n        useNormalIO();\n        useFileChannel();\n    }\n\n    private static void useNormalIO() throws Exception {\n        File file = new File(\"/home/developer/test.iso\");\n        File oFile = new File(\"/home/developer/test2\");\n\n        long time1 = System.currentTimeMillis();\n        InputStream is = new FileInputStream(file);\n        FileOutputStream fos = new FileOutputStream(oFile);\n        byte[] buf = new byte[64 * 1024];\n        int len = 0;\n        while((len = is.read(buf)) != -1) {\n            fos.write(buf, 0, len);\n        }\n        fos.flush();\n        fos.close();\n        is.close();\n        long time2 = System.currentTimeMillis();\n        System.out.println(\"Time taken: \"+(time2-time1)+\" ms\");\n    }\n\n    private static void useFileChannel() throws Exception {\n        File file = new File(\"/home/developer/test.iso\");\n        File oFile = new File(\"/home/developer/test2\");\n\n        long time1 = System.currentTimeMillis();\n        FileInputStream is = new FileInputStream(file);\n        FileOutputStream fos = new FileOutputStream(oFile);\n        FileChannel f = is.getChannel();\n        FileChannel f2 = fos.getChannel();\n\n        ByteBuffer buf = ByteBuffer.allocateDirect(64 * 1024);\n        long len = 0;\n        while((len = f.read(buf)) != -1) {\n            buf.flip();\n            f2.write(buf);\n            buf.clear();\n        }\n\n        f2.close();\n        f.close();\n\n        long time2 = System.currentTimeMillis();\n        System.out.println(\"Time taken: \"+(time2-time1)+\" ms\");\n    }\n}\n</code></pre>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":19547800,"reputation":57,"user_id":14304123,"display_name":"man"},"score":0,"creation_date":1696772843,"post_id":77251513,"comment_id":136193446,"body_markdown":"After a long search, I understand that can use a method JavaGenerator.printClassAnnotations(JavaWriter, Definition, GeneratorStrategy.Mode), but I didn’t understand what arguments to pass there. what file should I pass there? Please give example.","body":"After a long search, I understand that can use a method JavaGenerator.printClassAnnotations(JavaWriter, Definition, GeneratorStrategy.Mode), but I didn’t understand what arguments to pass there. what file should I pass there? Please give example."}],"answers":[{"comments":[{"owner":{"account_id":19547800,"reputation":57,"user_id":14304123,"display_name":"man"},"score":0,"creation_date":1696929433,"post_id":77263749,"comment_id":136212228,"body_markdown":"Thank you, but to be honest I didn&#39;t understand how to use your recommendations, especially the last 2 links. As for JavaGenerator, I created a custom class extending it in that gradle script, but how do I now tell JOOQ to use it, or just create an instance and run the generatePojoClassFooter method? But which TableDefinition and JavaWriter should I pass there? Sorry, but could you just write a simple example of how to use JavaGenerator in gradle please? I honestly can&#39;t figure out how to solve this.","body":"Thank you, but to be honest I didn&#39;t understand how to use your recommendations, especially the last 2 links. As for JavaGenerator, I created a custom class extending it in that gradle script, but how do I now tell JOOQ to use it, or just create an instance and run the generatePojoClassFooter method? But which TableDefinition and JavaWriter should I pass there? Sorry, but could you just write a simple example of how to use JavaGenerator in gradle please? I honestly can&#39;t figure out how to solve this."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1696934650,"post_id":77263749,"comment_id":136213247,"body_markdown":"@man: My answer was meant mostly as a set of pointers to more information, not a step by step tutorial, which would take too long to write. I can answer *specific* follow-up questions (better in question form, than here in the comments, which aren&#39;t well suited for complex topics). But I don&#39;t know too much about gradle, or Etienne&#39;s third party plugin, I&#39;m afraid.","body":"@man: My answer was meant mostly as a set of pointers to more information, not a step by step tutorial, which would take too long to write. I can answer <i>specific</i> follow-up questions (better in question form, than here in the comments, which aren&#39;t well suited for complex topics). But I don&#39;t know too much about gradle, or Etienne&#39;s third party plugin, I&#39;m afraid."},{"owner":{"account_id":19547800,"reputation":57,"user_id":14304123,"display_name":"man"},"score":0,"creation_date":1696934822,"post_id":77263749,"comment_id":136213272,"body_markdown":"Ok, thanks for the answer though","body":"Ok, thanks for the answer though"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696923363,"creation_date":1696923363,"answer_id":77263749,"question_id":77251513,"body_markdown":"jOOQ&#39;s code generator doesn&#39;t touch files whose contents haven&#39;t changed, to enable incremental compilation. But this obviously only works if you don&#39;t touch generated code (including if you override the code generator to behave differently, which is OK).\r\n\r\nIf you change generated code *after* jOOQ generated it, there&#39;s no way for jOOQ to know that you&#39;re doing that. There&#39;s also no way for jOOQ to know that the changes of an existing file originated from your manual intervention, or from a previous jOOQ version, or whatever. The new output simply differs from the existing content, so jOOQ has to overwrite the file.\r\n\r\nNow, changing generated code manually is simply *never* a good idea for the above reasons. If you *have to* make changes to generated code, you should either:\r\n\r\n- Use official extension points of the `JavaGenerator`, e.g. for [custom code sections][1]\r\n- Extend the `JavaGenerator` and override some of its behaviour\r\n- Use some automated post processing, e.g. using regular expression search/replace\r\n\r\nIn the latter case, again, jOOQ won&#39;t be able to recognise your changes because they happen outside of jOOQ&#39;s code generation, but you can use Gradle&#39;s [source set][2] functionality. Since you already have Etienne Studer&#39;s third party Gradle plugin in your config (but interestingly aren&#39;t actually using it), why not look into [how it enables such configuration for you][3]. That way, you can tell Gradle itself that code doesn&#39;t need to be re-generated (though, if you ever do a schema change, jOOQ will then still re-generate *all* the files, not just the &quot;changed&quot; ones, because you apply changes after jOOQ).\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-custom-code/\r\n  [2]: https://www.baeldung.com/gradle-source-sets\r\n  [3]: https://github.com/etiennestuder/gradle-jooq-plugin#configuring-the-jooq-generation-task-to-participate-in-incremental-builds-and-build-caching","title":"How to make JOOQ gradle script does not re-create classes for which the table has not changed?","body":"<p>jOOQ's code generator doesn't touch files whose contents haven't changed, to enable incremental compilation. But this obviously only works if you don't touch generated code (including if you override the code generator to behave differently, which is OK).</p>\n<p>If you change generated code <em>after</em> jOOQ generated it, there's no way for jOOQ to know that you're doing that. There's also no way for jOOQ to know that the changes of an existing file originated from your manual intervention, or from a previous jOOQ version, or whatever. The new output simply differs from the existing content, so jOOQ has to overwrite the file.</p>\n<p>Now, changing generated code manually is simply <em>never</em> a good idea for the above reasons. If you <em>have to</em> make changes to generated code, you should either:</p>\n<ul>\n<li>Use official extension points of the <code>JavaGenerator</code>, e.g. for <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-custom-code/\" rel=\"nofollow noreferrer\">custom code sections</a></li>\n<li>Extend the <code>JavaGenerator</code> and override some of its behaviour</li>\n<li>Use some automated post processing, e.g. using regular expression search/replace</li>\n</ul>\n<p>In the latter case, again, jOOQ won't be able to recognise your changes because they happen outside of jOOQ's code generation, but you can use Gradle's <a href=\"https://www.baeldung.com/gradle-source-sets\" rel=\"nofollow noreferrer\">source set</a> functionality. Since you already have Etienne Studer's third party Gradle plugin in your config (but interestingly aren't actually using it), why not look into <a href=\"https://github.com/etiennestuder/gradle-jooq-plugin#configuring-the-jooq-generation-task-to-participate-in-incremental-builds-and-build-caching\" rel=\"nofollow noreferrer\">how it enables such configuration for you</a>. That way, you can tell Gradle itself that code doesn't need to be re-generated (though, if you ever do a schema change, jOOQ will then still re-generate <em>all</em> the files, not just the &quot;changed&quot; ones, because you apply changes after jOOQ).</p>\n"},{"tags":[],"owner":{"account_id":19547800,"reputation":57,"user_id":14304123,"display_name":"man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696934616,"creation_date":1696934616,"answer_id":77265073,"question_id":77251513,"body_markdown":"Thanks Lukas Eder, but I didn&#39;t figure it out :) and wrote this\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath(\r\n                &#39;org.jooq:jooq:3.18.4&#39;,\r\n                &#39;org.jooq:jooq-codegen:3.18.4&#39;,\r\n                &#39;org.jooq:jooq-meta:3.18.4&#39;,\r\n                &#39;org.postgresql:postgresql:42.6.0&#39;\r\n        )\r\n    }\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;nu.studer.jooq&#39;\r\n\r\n\r\nimport org.jooq.codegen.GenerationTool\r\nimport org.jooq.meta.jaxb.*\r\n\r\nimport java.nio.charset.StandardCharsets\r\nimport java.nio.file.Files\r\nimport java.nio.file.Paths\r\n\r\ntask generateJooq {\r\n    var database = new Database().withExcludes(&quot;databasechangeloglock|databasechangelog&quot;).withInputSchema(&quot;public&quot;)\r\n    def configuration = new Configuration()\r\n            .withJdbc(\r\n                    new Jdbc()\r\n                            .withDriver(&#39;org.postgresql.Driver&#39;)\r\n                            .withUrl(&#39;jdbc:postgresql://localhost:5432/test&#39;)\r\n                            .withUser(&#39;postgres&#39;)\r\n                            .withPassword(&#39;bigdata8&#39;))\r\n            .withGenerator(\r\n                    new Generator()\r\n                            .withDatabase(database)\r\n                            .withGenerate(\r\n                                    new Generate()\r\n                                            .withRoutines(false)\r\n                                            .withPojos(true)\r\n                                            .withDaos(true)\r\n                            )\r\n                            .withTarget(\r\n                                    new Target()\r\n                                            .withPackageName(&#39;com.example.model.jooq&#39;)\r\n                                            .withDirectory(projectDir.toString() + &#39;/src/main/java&#39;)\r\n                            )\r\n                            .withStrategy(\r\n                                    new Strategy()\r\n                                            .withMatchers(\r\n                                                    new Matchers()\r\n                                                            .withTables(\r\n                                                                    new MatchersTableType()\r\n                                                                            .withTableIdentifier(\r\n                                                                                    new MatcherRule()\r\n                                                                                            .withExpression(&#39;$0_Entity&#39;)\r\n                                                                                            .withTransform(MatcherTransformType.UPPER)\r\n                                                                            ).withPojoClass(new MatcherRule().withExpression(&#39;$0_Entity&#39;).withTransform(MatcherTransformType.PASCAL))\r\n                                                            )\r\n                                            )\r\n                            )\r\n            )\r\n\r\n\r\n    doLast {\r\n        GenerationTool.generate(configuration)\r\n\r\n        Files.walk(Paths.get(srcDir() + &#39;com/example/model/jooq/tables/pojos&#39;))\r\n                .filter(path -&gt; Files.isRegularFile(path))\r\n                .forEach(path -&gt; {\r\n                    List&lt;String&gt; list = Files.readAllLines(path)\r\n\r\n                    boolean importAdded = false\r\n                    boolean annotationsAdded = false\r\n                    for (int i = 1; i &lt; list.size(); i++) {\r\n                        if (list.get(i - 1).startsWith(&quot;import&quot;) &amp;&amp; list.get(i) == &quot;&quot;) {\r\n                            list.add(i + 1, &quot;import lombok.Builder;&quot;)\r\n                            i += 2\r\n                            importAdded = true\r\n                        }\r\n                        if (importAdded) {\r\n                            if (list.get(i).startsWith(&quot;public class&quot;)) {\r\n                                list.add(i - 1, &quot;@Builder&quot;)\r\n                                annotationsAdded = true\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (!importAdded || !annotationsAdded) {\r\n                        throw new RuntimeException()\r\n                    }\r\n\r\n                    Files.write(path, list, StandardCharsets.UTF_8)\r\n                })\r\n    }\r\n}\r\n\r\nString srcDir() {\r\n    return projectDir.path + &quot;/src/main/java/&quot;\r\n}\r\n\r\n```","title":"How to make JOOQ gradle script does not re-create classes for which the table has not changed?","body":"<p>Thanks Lukas Eder, but I didn't figure it out :) and wrote this</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath(\n                'org.jooq:jooq:3.18.4',\n                'org.jooq:jooq-codegen:3.18.4',\n                'org.jooq:jooq-meta:3.18.4',\n                'org.postgresql:postgresql:42.6.0'\n        )\n    }\n}\n\napply plugin: 'java'\napply plugin: 'nu.studer.jooq'\n\n\nimport org.jooq.codegen.GenerationTool\nimport org.jooq.meta.jaxb.*\n\nimport java.nio.charset.StandardCharsets\nimport java.nio.file.Files\nimport java.nio.file.Paths\n\ntask generateJooq {\n    var database = new Database().withExcludes(&quot;databasechangeloglock|databasechangelog&quot;).withInputSchema(&quot;public&quot;)\n    def configuration = new Configuration()\n            .withJdbc(\n                    new Jdbc()\n                            .withDriver('org.postgresql.Driver')\n                            .withUrl('jdbc:postgresql://localhost:5432/test')\n                            .withUser('postgres')\n                            .withPassword('bigdata8'))\n            .withGenerator(\n                    new Generator()\n                            .withDatabase(database)\n                            .withGenerate(\n                                    new Generate()\n                                            .withRoutines(false)\n                                            .withPojos(true)\n                                            .withDaos(true)\n                            )\n                            .withTarget(\n                                    new Target()\n                                            .withPackageName('com.example.model.jooq')\n                                            .withDirectory(projectDir.toString() + '/src/main/java')\n                            )\n                            .withStrategy(\n                                    new Strategy()\n                                            .withMatchers(\n                                                    new Matchers()\n                                                            .withTables(\n                                                                    new MatchersTableType()\n                                                                            .withTableIdentifier(\n                                                                                    new MatcherRule()\n                                                                                            .withExpression('$0_Entity')\n                                                                                            .withTransform(MatcherTransformType.UPPER)\n                                                                            ).withPojoClass(new MatcherRule().withExpression('$0_Entity').withTransform(MatcherTransformType.PASCAL))\n                                                            )\n                                            )\n                            )\n            )\n\n\n    doLast {\n        GenerationTool.generate(configuration)\n\n        Files.walk(Paths.get(srcDir() + 'com/example/model/jooq/tables/pojos'))\n                .filter(path -&gt; Files.isRegularFile(path))\n                .forEach(path -&gt; {\n                    List&lt;String&gt; list = Files.readAllLines(path)\n\n                    boolean importAdded = false\n                    boolean annotationsAdded = false\n                    for (int i = 1; i &lt; list.size(); i++) {\n                        if (list.get(i - 1).startsWith(&quot;import&quot;) &amp;&amp; list.get(i) == &quot;&quot;) {\n                            list.add(i + 1, &quot;import lombok.Builder;&quot;)\n                            i += 2\n                            importAdded = true\n                        }\n                        if (importAdded) {\n                            if (list.get(i).startsWith(&quot;public class&quot;)) {\n                                list.add(i - 1, &quot;@Builder&quot;)\n                                annotationsAdded = true\n                                break\n                            }\n                        }\n                    }\n\n                    if (!importAdded || !annotationsAdded) {\n                        throw new RuntimeException()\n                    }\n\n                    Files.write(path, list, StandardCharsets.UTF_8)\n                })\n    }\n}\n\nString srcDir() {\n    return projectDir.path + &quot;/src/main/java/&quot;\n}\n\n</code></pre>\n"}],"owner":{"account_id":19547800,"reputation":57,"user_id":14304123,"display_name":"man"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77265073,"answer_count":2,"score":1,"last_activity_date":1696934616,"creation_date":1696712630,"question_id":77251513,"body_markdown":"I have this gradle script for auto generate JOOQ classes.\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath(\r\n                &#39;org.jooq:jooq:3.18.4&#39;,\r\n                &#39;org.jooq:jooq-codegen:3.18.4&#39;,\r\n                &#39;org.jooq:jooq-meta:3.18.4&#39;,\r\n                &#39;org.postgresql:postgresql:42.6.0&#39;\r\n        )\r\n    }\r\n}\r\n\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;nu.studer.jooq&#39;\r\n\r\nimport org.jooq.codegen.GenerationTool\r\nimport org.jooq.meta.jaxb.*\r\n\r\ntask generateJooq {\r\n    def configuration = new Configuration()\r\n            .withJdbc(\r\n                    new Jdbc()\r\n                            .withDriver(&#39;org.postgresql.Driver&#39;)\r\n                            .withUrl(&#39;jdbc:postgresql://localhost:5432/test&#39;)\r\n                            .withUser(&#39;postgres&#39;)\r\n                            .withPassword(&#39;password&#39;))\r\n            .withGenerator(\r\n                    new Generator()\r\n                            .withDatabase(new Database().withExcludes(&quot;databasechangeloglock|databasechangelog&quot;).withInputSchema(&quot;public&quot;))\r\n                            .withGenerate(\r\n                                    new Generate()\r\n                                            .withRoutines(false)\r\n                                            .withPojos(true)\r\n                                            .withDaos(true)\r\n                            ).withTarget(\r\n                            new Target()\r\n                                    .withPackageName(&#39;com.example.model.jooq&#39;)\r\n                                    .withDirectory(projectDir.toString() + &#39;/src/main/java&#39;)\r\n                    ).withStrategy(\r\n                            new Strategy()\r\n                                    .withMatchers(\r\n                                            new Matchers()\r\n                                                    .withTables(\r\n                                                            new MatchersTableType()\r\n                                                                    .withTableIdentifier(\r\n                                                                            new MatcherRule()\r\n                                                                                    .withExpression(&#39;$0_Entity&#39;)\r\n                                                                                    .withTransform(MatcherTransformType.UPPER)\r\n                                                                    ).withPojoClass(new MatcherRule().withExpression(&#39;$0_Entity&#39;).withTransform(MatcherTransformType.PASCAL))\r\n                                                    )\r\n                                    )\r\n                    )\r\n            )\r\n\r\n    doLast {\r\n        GenerationTool.generate(configuration)\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut when I make any changes to the tables (for example, do migration), I need to change my pojo, records, etc. classes. And when I run task ```generateJooq```, it delete all classes and re-create their, and the **problem is that all the lombok annotations (data, builder) disappear.**\r\nI would like that when running the task, JOOQ would re-create only the changed tables, or even better if it did not re-create, and only added new fields in existing classes.","title":"How to make JOOQ gradle script does not re-create classes for which the table has not changed?","body":"<p>I have this gradle script for auto generate JOOQ classes.</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath(\n                'org.jooq:jooq:3.18.4',\n                'org.jooq:jooq-codegen:3.18.4',\n                'org.jooq:jooq-meta:3.18.4',\n                'org.postgresql:postgresql:42.6.0'\n        )\n    }\n}\n\napply plugin: 'java'\napply plugin: 'nu.studer.jooq'\n\nimport org.jooq.codegen.GenerationTool\nimport org.jooq.meta.jaxb.*\n\ntask generateJooq {\n    def configuration = new Configuration()\n            .withJdbc(\n                    new Jdbc()\n                            .withDriver('org.postgresql.Driver')\n                            .withUrl('jdbc:postgresql://localhost:5432/test')\n                            .withUser('postgres')\n                            .withPassword('password'))\n            .withGenerator(\n                    new Generator()\n                            .withDatabase(new Database().withExcludes(&quot;databasechangeloglock|databasechangelog&quot;).withInputSchema(&quot;public&quot;))\n                            .withGenerate(\n                                    new Generate()\n                                            .withRoutines(false)\n                                            .withPojos(true)\n                                            .withDaos(true)\n                            ).withTarget(\n                            new Target()\n                                    .withPackageName('com.example.model.jooq')\n                                    .withDirectory(projectDir.toString() + '/src/main/java')\n                    ).withStrategy(\n                            new Strategy()\n                                    .withMatchers(\n                                            new Matchers()\n                                                    .withTables(\n                                                            new MatchersTableType()\n                                                                    .withTableIdentifier(\n                                                                            new MatcherRule()\n                                                                                    .withExpression('$0_Entity')\n                                                                                    .withTransform(MatcherTransformType.UPPER)\n                                                                    ).withPojoClass(new MatcherRule().withExpression('$0_Entity').withTransform(MatcherTransformType.PASCAL))\n                                                    )\n                                    )\n                    )\n            )\n\n    doLast {\n        GenerationTool.generate(configuration)\n    }\n}\n\n</code></pre>\n<p>But when I make any changes to the tables (for example, do migration), I need to change my pojo, records, etc. classes. And when I run task <code>generateJooq</code>, it delete all classes and re-create their, and the <strong>problem is that all the lombok annotations (data, builder) disappear.</strong>\nI would like that when running the task, JOOQ would re-create only the changed tables, or even better if it did not re-create, and only added new fields in existing classes.</p>\n"},{"tags":["java","testng","zap"],"owner":{"account_id":28339334,"reputation":1,"user_id":21672595,"display_name":"Ashwini J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696934584,"creation_date":1696933284,"question_id":77264916,"body_markdown":"Could someone please help me by showing a sample code on how to automate passive scan in ZAP proxy tool using TestNG framework, Java for an Android app using real android device?\r\nPre-requests:\r\nZAP and Appium server to be started manually before executing the script.\r\n\r\nUsing the automation code I should be able to automatically do the passive scann in an android app.","title":"How to automate ZAP passive scan in an Android app using TestNG, Java code?","body":"<p>Could someone please help me by showing a sample code on how to automate passive scan in ZAP proxy tool using TestNG framework, Java for an Android app using real android device?\nPre-requests:\nZAP and Appium server to be started manually before executing the script.</p>\n<p>Using the automation code I should be able to automatically do the passive scann in an android app.</p>\n"},{"tags":["java","selenium","pageobjects"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1475864411,"post_id":39914981,"comment_id":67130832,"body_markdown":"Are your locators changing a lot? Why do you want to read them from an external file instead of just putting them in your page objects where they are easily found and organized?","body":"Are your locators changing a lot? Why do you want to read them from an external file instead of just putting them in your page objects where they are easily found and organized?"},{"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"score":0,"creation_date":1475870666,"post_id":39914981,"comment_id":67133750,"body_markdown":"1. I am trying to write platform agnostic test for ios and android devices and do not want to duplicate page objects\n\n2. UI localization might be the next point where externalized locators are useful\n\n3. Some locators can change in runtime (elements sorted in another order etc)","body":"1. I am trying to write platform agnostic test for ios and android devices and do not want to duplicate page objects  2. UI localization might be the next point where externalized locators are useful  3. Some locators can change in runtime (elements sorted in another order etc)"}],"answers":[{"tags":[],"owner":{"account_id":2050353,"reputation":4625,"user_id":1829500,"accept_rate":57,"display_name":"Mrunal Gosar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475845164,"creation_date":1475845164,"answer_id":39917919,"question_id":39914981,"body_markdown":"Annotations are MetaData, so they need to be available in start at runtime during class loading. what you seek does not has straight forward answer, but hacks are there using Reflections, IMHO i would avoid it and if you need to externalize the locators then I suggest you to implement Object repository where you would read your locators at runtime on the fly from some external source.","title":"Selenium Page Object. How to read @FindBy locator from external source?","body":"<p>Annotations are MetaData, so they need to be available in start at runtime during class loading. what you seek does not has straight forward answer, but hacks are there using Reflections, IMHO i would avoid it and if you need to externalize the locators then I suggest you to implement Object repository where you would read your locators at runtime on the fly from some external source.</p>\n"},{"comments":[{"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"score":0,"creation_date":1476043219,"post_id":39925546,"comment_id":67176136,"body_markdown":"Thanks for the answer. I think I got your idea. Advantage is that it makes everything clear by choosing locator explicitly. Disadvantage is that you would have to modify all your switch cases for all page objects once you add a new platform say IOS9, IOS10, iPad. I would prefer to add/switch page config and keep the code intact.","body":"Thanks for the answer. I think I got your idea. Advantage is that it makes everything clear by choosing locator explicitly. Disadvantage is that you would have to modify all your switch cases for all page objects once you add a new platform say IOS9, IOS10, iPad. I would prefer to add/switch page config and keep the code intact."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1476044949,"post_id":39925546,"comment_id":67176713,"body_markdown":"It&#39;s really not that much different than what you are doing. When you add a new config, you will have to add a new locator for each element on each page in your config file. I would have to do the same here. The difference is, my way keeps the page object methodology clean in that everything to do with the page is in the page object. Your config file is going to get unwieldy fast because it contains all locators for all elements times the number of configs you support.","body":"It&#39;s really not that much different than what you are doing. When you add a new config, you will have to add a new locator for each element on each page in your config file. I would have to do the same here. The difference is, my way keeps the page object methodology clean in that everything to do with the page is in the page object. Your config file is going to get unwieldy fast because it contains all locators for all elements times the number of configs you support."},{"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"score":0,"creation_date":1476047598,"post_id":39925546,"comment_id":67177475,"body_markdown":"I agree - the amount of locators is the same. But I prefer to keep test data apart from code.","body":"I agree - the amount of locators is the same. But I prefer to keep test data apart from code."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475873158,"creation_date":1475873158,"answer_id":39925546,"question_id":39914981,"body_markdown":"I&#39;m personally not a big fan of `PageFactory` stuff but if you are already using it, I would do something like the below.\r\n\r\n    public class LoginPage extends BasePage\r\n    {\r\n        WebDriver driver;\r\n        WebElement usernameFld;\r\n        @FindBy(name = &quot;login field&quot;)\r\n        WebElement usernameIOs;\r\n    \r\n        @FindBy(name = &quot;something else&quot;)\r\n        WebElement usernameAndroid;\r\n    \r\n        public LoginPage(WebDriver webDriver, Sites site)\r\n        {\r\n            this.driver = webDriver;\r\n            switch (site)\r\n            {\r\n                case IOS:\r\n                    usernameFld = usernameIOs;\r\n                    break;\r\n                case ANDROID:\r\n                    usernameFld = usernameAndroid;\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        public void setUsername(String username)\r\n        {\r\n            usernameFld.sendKeys(username);\r\n        }\r\n    }\r\n\r\nelsewhere you would define\r\n\r\n    public enum Sites\r\n    {\r\n        IOS, ANDROID\r\n    }\r\n\r\nI prefer to declare locators and then scrape the elements as I need them. I find that this is a lot more performant and you get fewer stale element problems, etc.\r\n\r\n    public class LoginPage extends BasePage\r\n    {\r\n        WebDriver driver;\r\n        By usernameLocator;\r\n        By usernameIOsLocator = By.name(&quot;login field&quot;);\r\n        By usernameAndroidLocator = By.name(&quot;something else&quot;);\r\n    \r\n        public LoginPage(WebDriver webDriver, Sites site)\r\n        {\r\n            this.driver = webDriver;\r\n            switch (site)\r\n            {\r\n                case IOS:\r\n                    usernameLocator = usernameIOsLocator;\r\n                    break;\r\n                case ANDROID:\r\n                    usernameLocator = usernameAndroidLocator;\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        public void setUsername(String username)\r\n        {\r\n            driver.findElement(usernameLocator).sendKeys(username);\r\n        }\r\n    }","title":"Selenium Page Object. How to read @FindBy locator from external source?","body":"<p>I'm personally not a big fan of <code>PageFactory</code> stuff but if you are already using it, I would do something like the below.</p>\n\n<pre><code>public class LoginPage extends BasePage\n{\n    WebDriver driver;\n    WebElement usernameFld;\n    @FindBy(name = \"login field\")\n    WebElement usernameIOs;\n\n    @FindBy(name = \"something else\")\n    WebElement usernameAndroid;\n\n    public LoginPage(WebDriver webDriver, Sites site)\n    {\n        this.driver = webDriver;\n        switch (site)\n        {\n            case IOS:\n                usernameFld = usernameIOs;\n                break;\n            case ANDROID:\n                usernameFld = usernameAndroid;\n                break;\n        }\n    }\n\n    public void setUsername(String username)\n    {\n        usernameFld.sendKeys(username);\n    }\n}\n</code></pre>\n\n<p>elsewhere you would define</p>\n\n<pre><code>public enum Sites\n{\n    IOS, ANDROID\n}\n</code></pre>\n\n<p>I prefer to declare locators and then scrape the elements as I need them. I find that this is a lot more performant and you get fewer stale element problems, etc.</p>\n\n<pre><code>public class LoginPage extends BasePage\n{\n    WebDriver driver;\n    By usernameLocator;\n    By usernameIOsLocator = By.name(\"login field\");\n    By usernameAndroidLocator = By.name(\"something else\");\n\n    public LoginPage(WebDriver webDriver, Sites site)\n    {\n        this.driver = webDriver;\n        switch (site)\n        {\n            case IOS:\n                usernameLocator = usernameIOsLocator;\n                break;\n            case ANDROID:\n                usernameLocator = usernameAndroidLocator;\n                break;\n        }\n    }\n\n    public void setUsername(String username)\n    {\n        driver.findElement(usernameLocator).sendKeys(username);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7778423,"reputation":1414,"user_id":5885718,"accept_rate":25,"display_name":"Bhuvanesh Mani"},"score":1,"creation_date":1505763909,"post_id":39947857,"comment_id":79537211,"body_markdown":"thanks for your help, but this solution is applicable for selenium v2.53. I have upgraded by selenium-java to 3.5.3 and couldnt see the method buildByFromShortFindBy belong to Annotations class anymore, it got moved to AbstractFindByBuilder and hence wondering how to wire &amp; override this function to implement my CustomPageFactory?","body":"thanks for your help, but this solution is applicable for selenium v2.53. I have upgraded by selenium-java to 3.5.3 and couldnt see the method buildByFromShortFindBy belong to Annotations class anymore, it got moved to AbstractFindByBuilder and hence wondering how to wire &amp; override this function to implement my CustomPageFactory?"},{"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"score":0,"creation_date":1512424616,"post_id":39947857,"comment_id":82243819,"body_markdown":"@BhuvaneshMani you are right, this code no longer works with newer versions of selenium","body":"@BhuvaneshMani you are right, this code no longer works with newer versions of selenium"}],"tags":[],"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476042620,"creation_date":1476042620,"answer_id":39947857,"question_id":39914981,"body_markdown":"I&#39;ve found some clue here: https://stackoverflow.com/a/3987430/1073584\r\n and finally managed to get what I wanted by implementing 3 classes:\r\nCustomPageFactory, CustomElementLocator, CustomAnnotations.\r\n\r\nNow I am able to externalize my locators to typesafe config\r\nand use the following code to init page objects\r\n\r\n//======= LoginPage\r\n\r\n    public class LoginPage extends AbstractPage {\r\n        Config config;\r\n\r\n        @FindBy(using = &quot;CONFIG&quot;) // take locator from config\r\n        WebElement passwordFld;\r\n\r\n        // .. other fields skipped\r\n\r\n    \r\n        public LoginPage(WebDriver webDriver, Config config) throws IOException {\r\n            super(webDriver);\r\n            this.config = config;\r\n            PageFactory.initElements(new CustomPageFactory(webDriver, config), this);\r\n        }\r\n\r\n    }\r\n\r\n\r\n//===== login.page.typesafe.config:\r\n    \r\n    passwordFld = {\r\n       name = &quot;password field&quot;\r\n    }\r\n\r\n\r\n//============= CustomPageFactory\r\n\r\n\tpackage com.company.pages.support;\r\n\r\n\timport com.typesafe.config.Config;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.support.pagefactory.ElementLocator;\r\n\timport org.openqa.selenium.support.pagefactory.ElementLocatorFactory;\r\n\r\n\timport java.lang.reflect.Field;\r\n\r\n\tpublic class CustomPageFactory implements ElementLocatorFactory {\r\n\t    private Config config;\r\n\t    private WebDriver driver;\r\n\r\n\t    public CustomPageFactory(WebDriver driver, Config config) {\r\n\t        this.driver = driver;\r\n\t        this.config = config;\r\n\t    }\r\n\r\n\t    public ElementLocator createLocator(Field field) {\r\n\t        return new CustomElementLocator(driver, field, config);\r\n\t    }\r\n\t}\r\n\r\n\r\n//================= CustomElementLocator\r\n\r\n    package com.company.pages.support;\r\n\r\n\timport com.typesafe.config.Config;\r\n\timport org.openqa.selenium.SearchContext;\r\n\timport org.openqa.selenium.support.pagefactory.DefaultElementLocator;\r\n\r\n\timport java.lang.reflect.Field;\r\n\r\n\tpublic class CustomElementLocator extends DefaultElementLocator {\r\n\r\n\t    private Config config;\r\n\r\n\t    public CustomElementLocator(SearchContext searchContext, Field field, Config config) {\r\n\t        super(searchContext, new CustomAnnotations(field, config));\r\n\t        this.config = config;\r\n\t    }\r\n\r\n\r\n\t}\r\n\r\n//====== CustomAnnotations\r\n   \r\n    package com.company.pages.support;\r\n\r\n    import com.typesafe.config.Config;\r\n    import com.typesafe.config.ConfigObject;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.pagefactory.Annotations;\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public class CustomAnnotations extends Annotations {\r\n\r\n        Config config;\r\n\r\n        public CustomAnnotations(Field field, Config config) {\r\n            super(field);\r\n            this.config = config;\r\n        }\r\n\r\n        @Override\r\n        protected By buildByFromShortFindBy(FindBy findBy) {\r\n\r\n            if (findBy.using().equals(&quot;CONFIG&quot;)) {\r\n\r\n                if (null != config) {\r\n\r\n                    ConfigObject fieldLocators = config.getObject(getField().getName());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;className&quot;))\r\n                        return By.className(fieldLocators.get(&quot;className&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;css&quot;))\r\n                        return By.cssSelector(fieldLocators.get(&quot;css&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;id&quot;))\r\n                        return By.id(fieldLocators.get(&quot;id&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;linkText&quot;))\r\n                        return By.linkText(fieldLocators.get(&quot;linkText&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;name&quot;))\r\n                        return By.name(fieldLocators.get(&quot;name&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;partialLinkText&quot;))\r\n                        return By.partialLinkText(fieldLocators.get(&quot;partialLinkText&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;tagName&quot;))\r\n                        return By.tagName(fieldLocators.get(&quot;tagName&quot;).unwrapped().toString());\r\n\r\n                    if (fieldLocators.keySet().contains(&quot;xpath&quot;))\r\n                        return By.xpath(fieldLocators.get(&quot;xpath&quot;).unwrapped().toString());\r\n                }\r\n\r\n            }\r\n\r\n            return super.buildByFromShortFindBy(findBy);\r\n        }\r\n\r\n    }\r\n","title":"Selenium Page Object. How to read @FindBy locator from external source?","body":"<p>I've found some clue here: <a href=\"https://stackoverflow.com/a/3987430/1073584\">https://stackoverflow.com/a/3987430/1073584</a>\n and finally managed to get what I wanted by implementing 3 classes:\nCustomPageFactory, CustomElementLocator, CustomAnnotations.</p>\n\n<p>Now I am able to externalize my locators to typesafe config\nand use the following code to init page objects</p>\n\n<p>//======= LoginPage</p>\n\n<pre><code>public class LoginPage extends AbstractPage {\n    Config config;\n\n    @FindBy(using = \"CONFIG\") // take locator from config\n    WebElement passwordFld;\n\n    // .. other fields skipped\n\n\n    public LoginPage(WebDriver webDriver, Config config) throws IOException {\n        super(webDriver);\n        this.config = config;\n        PageFactory.initElements(new CustomPageFactory(webDriver, config), this);\n    }\n\n}\n</code></pre>\n\n<p>//===== login.page.typesafe.config:</p>\n\n<pre><code>passwordFld = {\n   name = \"password field\"\n}\n</code></pre>\n\n<p>//============= CustomPageFactory</p>\n\n<pre><code>package com.company.pages.support;\n\nimport com.typesafe.config.Config;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.pagefactory.ElementLocator;\nimport org.openqa.selenium.support.pagefactory.ElementLocatorFactory;\n\nimport java.lang.reflect.Field;\n\npublic class CustomPageFactory implements ElementLocatorFactory {\n    private Config config;\n    private WebDriver driver;\n\n    public CustomPageFactory(WebDriver driver, Config config) {\n        this.driver = driver;\n        this.config = config;\n    }\n\n    public ElementLocator createLocator(Field field) {\n        return new CustomElementLocator(driver, field, config);\n    }\n}\n</code></pre>\n\n<p>//================= CustomElementLocator</p>\n\n<pre><code>package com.company.pages.support;\n\nimport com.typesafe.config.Config;\nimport org.openqa.selenium.SearchContext;\nimport org.openqa.selenium.support.pagefactory.DefaultElementLocator;\n\nimport java.lang.reflect.Field;\n\npublic class CustomElementLocator extends DefaultElementLocator {\n\n    private Config config;\n\n    public CustomElementLocator(SearchContext searchContext, Field field, Config config) {\n        super(searchContext, new CustomAnnotations(field, config));\n        this.config = config;\n    }\n\n\n}\n</code></pre>\n\n<p>//====== CustomAnnotations</p>\n\n<pre><code>package com.company.pages.support;\n\nimport com.typesafe.config.Config;\nimport com.typesafe.config.ConfigObject;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.pagefactory.Annotations;\n\nimport java.lang.reflect.Field;\n\npublic class CustomAnnotations extends Annotations {\n\n    Config config;\n\n    public CustomAnnotations(Field field, Config config) {\n        super(field);\n        this.config = config;\n    }\n\n    @Override\n    protected By buildByFromShortFindBy(FindBy findBy) {\n\n        if (findBy.using().equals(\"CONFIG\")) {\n\n            if (null != config) {\n\n                ConfigObject fieldLocators = config.getObject(getField().getName());\n\n                if (fieldLocators.keySet().contains(\"className\"))\n                    return By.className(fieldLocators.get(\"className\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"css\"))\n                    return By.cssSelector(fieldLocators.get(\"css\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"id\"))\n                    return By.id(fieldLocators.get(\"id\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"linkText\"))\n                    return By.linkText(fieldLocators.get(\"linkText\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"name\"))\n                    return By.name(fieldLocators.get(\"name\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"partialLinkText\"))\n                    return By.partialLinkText(fieldLocators.get(\"partialLinkText\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"tagName\"))\n                    return By.tagName(fieldLocators.get(\"tagName\").unwrapped().toString());\n\n                if (fieldLocators.keySet().contains(\"xpath\"))\n                    return By.xpath(fieldLocators.get(\"xpath\").unwrapped().toString());\n            }\n\n        }\n\n        return super.buildByFromShortFindBy(findBy);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"score":0,"creation_date":1512424529,"post_id":47635658,"comment_id":82243776,"body_markdown":"`@FindBy(xpath =&quot;//android.widget.TextView[@text=&#39;Payments&#39;]&quot;)`\nI was looking for a way NOT to hardcode locator within @FindBy but to read it from external source instead","body":"<code>@FindBy(xpath =&quot;&#47;&#47;android.widget.TextView[@text=&#39;Payments&#39;]&quot;)</code> I was looking for a way NOT to hardcode locator within @FindBy but to read it from external source instead"}],"tags":[],"owner":{"account_id":10906726,"reputation":35,"user_id":8017462,"accept_rate":40,"display_name":"abishek kachroo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512398061,"creation_date":1512398061,"answer_id":47635658,"question_id":39914981,"body_markdown":"I think you are wondering to perform the operations on  webElements by their name\r\n\r\nU need to put some code in your constructor\r\n\r\n    public AnyConstructorName(AndroidDriver&lt;AndroidElement&gt; driver) {\r\n    \t\tthis.driver =driver;\r\n    \t\tPageFactory.initElements(driver, this);\r\n\t}\r\n\r\nabove code will  work if you are accepting the driver from some other class\r\nIf not the case remove this.driver =driver  from your constructor\r\n\r\nInitialize the web elements like\r\n\r\n    @FindBy(xpath =&quot;//android.widget.TextView[@text=&#39;Payments&#39;]&quot;)\r\n    \r\n    WebElement pay;\r\n\r\nu can perform pay.click();\r\n\r\nor any operation you want \r\n\r\nBut can perform these action within your page class only\r\n\r\n","title":"Selenium Page Object. How to read @FindBy locator from external source?","body":"<p>I think you are wondering to perform the operations on  webElements by their name</p>\n\n<p>U need to put some code in your constructor</p>\n\n<pre><code>public AnyConstructorName(AndroidDriver&lt;AndroidElement&gt; driver) {\n        this.driver =driver;\n        PageFactory.initElements(driver, this);\n}\n</code></pre>\n\n<p>above code will  work if you are accepting the driver from some other class\nIf not the case remove this.driver =driver  from your constructor</p>\n\n<p>Initialize the web elements like</p>\n\n<pre><code>@FindBy(xpath =\"//android.widget.TextView[@text='Payments']\")\n\nWebElement pay;\n</code></pre>\n\n<p>u can perform pay.click();</p>\n\n<p>or any operation you want </p>\n\n<p>But can perform these action within your page class only</p>\n"},{"tags":[],"owner":{"account_id":29639340,"reputation":1,"user_id":22715893,"display_name":"Ravi Kumar Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696933775,"creation_date":1696933775,"answer_id":77264974,"question_id":39914981,"body_markdown":"To read attribute values i.e (xpath, id) of @findby annotation you may use the external class where you can declare your (xpath, id) value as **public static final** and Access them into the @findby annotation using their class name (.) variable name.\r\n\r\n**Example:**\r\n\r\nXpath.java\r\n\r\n    public class Xpath {\r\n\t     public static final String email = &quot;//input[starts-with(@id,&#39;email_address&#39;)]&quot;;\r\n\t     public static final String password = &quot;//input[starts-with(@id,&#39;password&#39;)]&quot;;\t\t\r\n    }\r\n\r\nLogin.Java\r\n\r\n    public class LoginPage extends BasePage {\r\n        // Uses of xpath, id is depending upon your own requirement\r\n        @FindBy(xpath=Xpath.email)\r\n        WebElement usernameFld;\r\n  \r\n        @FindBy(xpath=Xpath.password) \r\n        WebElement passwordFld;   \r\n    }\r\n\r\n**Note:**\r\n\r\nI have taken the X-path as an example here, you may use the (xpath, id) as per your requirement.","title":"Selenium Page Object. How to read @FindBy locator from external source?","body":"<p>To read attribute values i.e (xpath, id) of @findby annotation you may use the external class where you can declare your (xpath, id) value as <strong>public static final</strong> and Access them into the @findby annotation using their class name (.) variable name.</p>\n<p><strong>Example:</strong></p>\n<p>Xpath.java</p>\n<pre><code>public class Xpath {\n     public static final String email = &quot;//input[starts-with(@id,'email_address')]&quot;;\n     public static final String password = &quot;//input[starts-with(@id,'password')]&quot;;      \n}\n</code></pre>\n<p>Login.Java</p>\n<pre><code>public class LoginPage extends BasePage {\n    // Uses of xpath, id is depending upon your own requirement\n    @FindBy(xpath=Xpath.email)\n    WebElement usernameFld;\n\n    @FindBy(xpath=Xpath.password) \n    WebElement passwordFld;   \n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>I have taken the X-path as an example here, you may use the (xpath, id) as per your requirement.</p>\n"}],"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5464,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1696933775,"creation_date":1475835709,"question_id":39914981,"body_markdown":"I can only use hardcoded values in page object @FindBy annotations\r\nBut I would like to resolve locators dynamically.\r\n\r\n    public class LoginPage extends BasePage {\r\n        \r\n        // hardocded value works ok\r\n        @FindBy(name = &quot;login field&quot;)\r\n        WebElement usernameFld;\r\n\r\n        // does not compile\r\n        // this is a kind of what I would like to have  \r\n        @FindBy( getLocatorFromExternalSource() ) \r\n        WebElement passwordFld;\r\n\r\n    }\r\n\r\nI have seen a few posts mentioning that such things can be solved by implementing custom annotations/decorators/factories but did not find examples yet.\r\n\r\n**QUESTION**:\r\nCan someone please give an **example** of how to implement custom ElementLocatorFactory so locators could be resolved dynamically?\r\n\r\nI know I can just use plain old-style calls like:\r\n\r\n    driver.findElement( getLocatorFromExternalSource(&quot;passwordFld&quot;) ).click()\r\n\r\nbut I would like to use\r\n \r\n    passwordFld.click() \r\n\r\ninstead.\r\n\r\n","title":"Selenium Page Object. How to read @FindBy locator from external source?","body":"<p>I can only use hardcoded values in page object @FindBy annotations\nBut I would like to resolve locators dynamically.</p>\n\n<pre><code>public class LoginPage extends BasePage {\n\n    // hardocded value works ok\n    @FindBy(name = \"login field\")\n    WebElement usernameFld;\n\n    // does not compile\n    // this is a kind of what I would like to have  \n    @FindBy( getLocatorFromExternalSource() ) \n    WebElement passwordFld;\n\n}\n</code></pre>\n\n<p>I have seen a few posts mentioning that such things can be solved by implementing custom annotations/decorators/factories but did not find examples yet.</p>\n\n<p><strong>QUESTION</strong>:\nCan someone please give an <strong>example</strong> of how to implement custom ElementLocatorFactory so locators could be resolved dynamically?</p>\n\n<p>I know I can just use plain old-style calls like:</p>\n\n<pre><code>driver.findElement( getLocatorFromExternalSource(\"passwordFld\") ).click()\n</code></pre>\n\n<p>but I would like to use</p>\n\n<pre><code>passwordFld.click() \n</code></pre>\n\n<p>instead.</p>\n"},{"tags":["java","fluid-dynamics"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1696889878,"post_id":77261989,"comment_id":136208294,"body_markdown":"Welcome to stackoverflow. It&#39;s not clear to me what you are trying to do. I&#39;ve never seen macros in Java. Also note that Java is not JavaScript, so decide which you use and remove the extra tag. A [mcve] would be helpful, including what command you currently run t achieve this. See also [ask].","body":"Welcome to stackoverflow. It&#39;s not clear to me what you are trying to do. I&#39;ve never seen macros in Java. Also note that Java is not JavaScript, so decide which you use and remove the extra tag. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful, including what command you currently run t achieve this. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1696933492,"post_id":77261989,"comment_id":136213009,"body_markdown":"I assume you&#39;re talking about [this kind of Java macros](https://community.sw.siemens.com/s/topic/0TO4O000000YThBWAW/simcenter-starccm-java-macros) so I&#39;ve adjusted the tags.","body":"I assume you&#39;re talking about <a href=\"https://community.sw.siemens.com/s/topic/0TO4O000000YThBWAW/simcenter-starccm-java-macros\" rel=\"nofollow noreferrer\">this kind of Java macros</a> so I&#39;ve adjusted the tags."}],"answers":[{"comments":[{"owner":{"account_id":29635520,"reputation":1,"user_id":22712905,"display_name":"Carlos Eduardo"},"score":0,"creation_date":1696983963,"post_id":77262245,"comment_id":136221497,"body_markdown":"Thanks for this, but I&#39;m not sure if I would just substitute the referred line for that code. Can I send my whole java macro here? It&#39;s on line 74 and, for what I understand, already inside a Main.","body":"Thanks for this, but I&#39;m not sure if I would just substitute the referred line for that code. Can I send my whole java macro here? It&#39;s on line 74 and, for what I understand, already inside a Main."}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696894722,"creation_date":1696894722,"answer_id":77262245,"question_id":77261989,"body_markdown":"&gt; I want to tell Star-CCM to run the simulation on a cluster (usually I use PuTTY for this, but this have to be automatic), via SSH. What should I change in this line?\r\n\r\nYou can try to follow this code:\r\n```\r\nimport java.io.IOException;\r\n\r\nimport com.cdadapco.star.RemoteMachine;\r\nimport com.cdadapco.star.Simulation;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String remoteMachineHostname = ...;\r\n\r\n        RemoteMachine remoteMachine = new RemoteMachine(remoteMachineHostname);\r\n\r\n        Simulation simulation = Simulation.getActiveSimulation();\r\n\r\n        simulation.getSimulationIterator().runAutomation(remoteMachine);\r\n    }\r\n}\r\n```","title":"Access a cluster via SSH in a Java macro","body":"<blockquote>\n<p>I want to tell Star-CCM to run the simulation on a cluster (usually I use PuTTY for this, but this have to be automatic), via SSH. What should I change in this line?</p>\n</blockquote>\n<p>You can try to follow this code:</p>\n<pre><code>import java.io.IOException;\n\nimport com.cdadapco.star.RemoteMachine;\nimport com.cdadapco.star.Simulation;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        String remoteMachineHostname = ...;\n\n        RemoteMachine remoteMachine = new RemoteMachine(remoteMachineHostname);\n\n        Simulation simulation = Simulation.getActiveSimulation();\n\n        simulation.getSimulationIterator().runAutomation(remoteMachine);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29635520,"reputation":1,"user_id":22712905,"display_name":"Carlos Eduardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696933459,"creation_date":1696888756,"question_id":77261989,"body_markdown":"I have a Star-CCM (CFD software) java macro that tells the CFD simulation to run on my local machine,through the line:\r\n\r\n`simulation_0.getSimulationIterator().runAutomation();`\r\n\r\nI want to tell Star-CCM to run the simulation on a cluster (usually I use PuTTY for this, but this have to be automatic), via SSH. What should I change in this line? \r\n\r\n\r\nBest regards,\r\nCarlos\r\n\r\nI did not try anything yet, I&#39;m a newbie in Java, so any help would be greatly appreciated.","title":"Access a cluster via SSH in a Java macro","body":"<p>I have a Star-CCM (CFD software) java macro that tells the CFD simulation to run on my local machine,through the line:</p>\n<p><code>simulation_0.getSimulationIterator().runAutomation();</code></p>\n<p>I want to tell Star-CCM to run the simulation on a cluster (usually I use PuTTY for this, but this have to be automatic), via SSH. What should I change in this line?</p>\n<p>Best regards,\nCarlos</p>\n<p>I did not try anything yet, I'm a newbie in Java, so any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":4894213,"reputation":148,"user_id":6519224,"display_name":"Deepak D"},"score":0,"creation_date":1696934234,"post_id":77264868,"comment_id":136213186,"body_markdown":"I used face the same issue. What worked for me is adding `server.servlet.context-path=/my/custom/path` in `application.properties` file, and removing @RequestMapping in the controller classes, if any.","body":"I used face the same issue. What worked for me is adding <code>server.servlet.context-path=&#47;my&#47;custom&#47;path</code> in <code>application.properties</code> file, and removing @RequestMapping in the controller classes, if any."}],"owner":{"account_id":997805,"reputation":126,"user_id":1013339,"display_name":"Kaur Kase"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696932984,"creation_date":1696932984,"question_id":77264868,"body_markdown":"I&#39;m trying to run springdoc-openapi 1.6.14 with a spring boot app that runs on non root path (in this exaple /bla).  \r\nEverything works fine in my local dev environment, which runs on a root path.\r\nI have tried the following configurations:\r\n\r\nIf I have no conf:  \r\nUI makes request to   \r\nhttps://myapp.com/v3/api-docs/swagger-config  \r\nDoesn&#39;t work. 404 is returned and so UI doesn&#39;t work.\r\n\r\nHowever when testing manually, the following works:  \r\nhttps://myapp.com/bla/v3/api-docs/swagger-config  \r\nAnd returns data with &#39;url&#39; property, but it&#39;s not related to the app path so wouldn&#39;t work anyway:  \r\n\r\n    {&quot;configUrl&quot;:&quot;/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,&quot;url&quot;:&quot;/v3/api-docs&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\r\n\r\nIf I have conf:\r\n\r\n    springdoc:\r\n      swagger-ui:\r\n        configUrl: /bla/v3/api-docs/swagger-config\r\n\r\nUI makes request to   \r\nhttps://myapp.com/bla/v3/api-docs/swagger-config  \r\nrequest to swagger-config works, but doesn&#39;t return correct answer - it&#39;s missing &#39;url&#39; property:  \r\n\r\n    {\r\n        &quot;configUrl&quot;: &quot;/bla/v3/api-docs/swagger-config&quot;,\r\n        &quot;oauth2RedirectUrl&quot;: &quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,\r\n        &quot;validatorUrl&quot;: &quot;&quot;\r\n    }\r\n\r\nAs a result default petstore is open\r\n\r\n\r\nIf I have conf:\r\n\r\n    springdoc:\r\n      api-docs:\r\n        path: /bla/v3/api-docs\r\n\r\nUI makes request to  \r\nhttps://myapp.com/bla/v3/api-docs/swagger-config  \r\nDoesn&#39;t work. 404 is returned and so UI doesn&#39;t work.\r\n\r\nHowever when testing manually, the following works:  \r\nhttps://myapp.com/bla/bla/v3/api-docs/swagger-config  \r\nand returns the correct data:  \r\n\r\n    {&quot;configUrl&quot;:&quot;/bla/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,&quot;url&quot;:&quot;/bla/v3/api-docs&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\r\n\r\n\r\nIf I have conf that includes both previous:\r\n\r\n    springdoc:\r\n      api-docs:\r\n        path: /bla/v3/api-docs\r\n      swagger-ui:\r\n        configUrl: /bla/v3/api-docs/swagger-config\r\n\t\r\n\t\r\nUI makes request to \r\nhttps://myapp.com/bla/v3/api-docs/swagger-config  \r\nDoesn&#39;t work. 404 is returned and so UI doesn&#39;t work.  \r\n\r\nOnce again, when testing manually, the following works:  \r\nhttps://myapp.com/bla/bla/v3/api-docs/swagger-config\r\n\r\n\r\nHowever when testing manually, the following works:  \r\nhttps://myapp.com/bla/bla/v3/api-docs/swagger-config  \r\nbut this time doesn&#39;t return correct data, missing &#39;url&#39; property:\r\n\r\n    {&quot;configUrl&quot;:&quot;/bla/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\r\n\r\n\r\nSo can anyone tell me what I am doing wrong? How am I supposed to run it on a non-root path?\r\n\r\n\r\n","title":"Running springdoc-openapi on a non-root path","body":"<p>I'm trying to run springdoc-openapi 1.6.14 with a spring boot app that runs on non root path (in this exaple /bla).<br />\nEverything works fine in my local dev environment, which runs on a root path.\nI have tried the following configurations:</p>\n<p>If I have no conf:<br />\nUI makes request to<br />\n<a href=\"https://myapp.com/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/v3/api-docs/swagger-config</a><br />\nDoesn't work. 404 is returned and so UI doesn't work.</p>\n<p>However when testing manually, the following works:<br />\n<a href=\"https://myapp.com/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/v3/api-docs/swagger-config</a><br />\nAnd returns data with 'url' property, but it's not related to the app path so wouldn't work anyway:</p>\n<pre><code>{&quot;configUrl&quot;:&quot;/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,&quot;url&quot;:&quot;/v3/api-docs&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\n</code></pre>\n<p>If I have conf:</p>\n<pre><code>springdoc:\n  swagger-ui:\n    configUrl: /bla/v3/api-docs/swagger-config\n</code></pre>\n<p>UI makes request to<br />\n<a href=\"https://myapp.com/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/v3/api-docs/swagger-config</a><br />\nrequest to swagger-config works, but doesn't return correct answer - it's missing 'url' property:</p>\n<pre><code>{\n    &quot;configUrl&quot;: &quot;/bla/v3/api-docs/swagger-config&quot;,\n    &quot;oauth2RedirectUrl&quot;: &quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,\n    &quot;validatorUrl&quot;: &quot;&quot;\n}\n</code></pre>\n<p>As a result default petstore is open</p>\n<p>If I have conf:</p>\n<pre><code>springdoc:\n  api-docs:\n    path: /bla/v3/api-docs\n</code></pre>\n<p>UI makes request to<br />\n<a href=\"https://myapp.com/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/v3/api-docs/swagger-config</a><br />\nDoesn't work. 404 is returned and so UI doesn't work.</p>\n<p>However when testing manually, the following works:<br />\n<a href=\"https://myapp.com/bla/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/bla/v3/api-docs/swagger-config</a><br />\nand returns the correct data:</p>\n<pre><code>{&quot;configUrl&quot;:&quot;/bla/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,&quot;url&quot;:&quot;/bla/v3/api-docs&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\n</code></pre>\n<p>If I have conf that includes both previous:</p>\n<pre><code>springdoc:\n  api-docs:\n    path: /bla/v3/api-docs\n  swagger-ui:\n    configUrl: /bla/v3/api-docs/swagger-config\n</code></pre>\n<p>UI makes request to\n<a href=\"https://myapp.com/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/v3/api-docs/swagger-config</a><br />\nDoesn't work. 404 is returned and so UI doesn't work.</p>\n<p>Once again, when testing manually, the following works:<br />\n<a href=\"https://myapp.com/bla/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/bla/v3/api-docs/swagger-config</a></p>\n<p>However when testing manually, the following works:<br />\n<a href=\"https://myapp.com/bla/bla/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">https://myapp.com/bla/bla/v3/api-docs/swagger-config</a><br />\nbut this time doesn't return correct data, missing 'url' property:</p>\n<pre><code>{&quot;configUrl&quot;:&quot;/bla/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://10.11.12.13:8080/swagger-ui/oauth2-redirect.html&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\n</code></pre>\n<p>So can anyone tell me what I am doing wrong? How am I supposed to run it on a non-root path?</p>\n"},{"tags":["java","maven","bytecode","byte-buddy","javaagents"],"answers":[{"comments":[{"owner":{"account_id":27362773,"reputation":3,"user_id":20870130,"display_name":"Eric Chen"},"score":0,"creation_date":1697180363,"post_id":77264865,"comment_id":136249891,"body_markdown":"I truly appreciate your response, and I&#39;ve gained a wealth of valuable information.Thanks once more.","body":"I truly appreciate your response, and I&#39;ve gained a wealth of valuable information.Thanks once more."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696932947,"creation_date":1696932947,"answer_id":77264865,"question_id":77262793,"body_markdown":"When `B.jar` is contained in `A.jar`, the option `-javaagent:B.jar` does not work, as this option looks for a file in the default filesystem, not inside another jar file.\r\n\r\nSince Java&#160;9, you can specify the [`Launcher-Agent-Class` attribute] in the manifest of `A.jar` to specify an Agent class within the same jar file, to be launched automatically when starting the application with `-jar A.jar` (so `-javaagent` is not needed then). This requires the classes of the Java Agent (of `B.jar`) to be added directly to `A.jar` instead of adding `B.jar` to `A.jar` as a single entry.\r\n\r\nWhen adding the other resources, you might have to adapt the Agent’s code to use `getResource` or `getResourceAsStream` instead of looking of a file beside the jar file in the default filesystem in case it needs to read one of them (e.g. `ConfoundLogback.xml`).\r\n\r\nOther files, e.g. `readme.md` and `sample-configs.properties`, do not look like being needed by the Agent but intended to be read by other tools or even humans. Whether it is sufficient for them to have these files inside the jar file instead of immediately visible in the directory, is a question beyond the scope of Stackoverflow.\r\n\r\nTo sum it up, just adding the `serial` directory to the application’s jar file will not work.\r\n\r\n[`Launcher-Agent-Class` attribute]: https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html#jar-file-manifest-attributes-heading","title":"How to Package a Java Agent into the Host Project?","body":"<p>When <code>B.jar</code> is contained in <code>A.jar</code>, the option <code>-javaagent:B.jar</code> does not work, as this option looks for a file in the default filesystem, not inside another jar file.</p>\n<p>Since Java 9, you can specify the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html#jar-file-manifest-attributes-heading\" rel=\"nofollow noreferrer\"><code>Launcher-Agent-Class</code> attribute</a> in the manifest of <code>A.jar</code> to specify an Agent class within the same jar file, to be launched automatically when starting the application with <code>-jar A.jar</code> (so <code>-javaagent</code> is not needed then). This requires the classes of the Java Agent (of <code>B.jar</code>) to be added directly to <code>A.jar</code> instead of adding <code>B.jar</code> to <code>A.jar</code> as a single entry.</p>\n<p>When adding the other resources, you might have to adapt the Agent’s code to use <code>getResource</code> or <code>getResourceAsStream</code> instead of looking of a file beside the jar file in the default filesystem in case it needs to read one of them (e.g. <code>ConfoundLogback.xml</code>).</p>\n<p>Other files, e.g. <code>readme.md</code> and <code>sample-configs.properties</code>, do not look like being needed by the Agent but intended to be read by other tools or even humans. Whether it is sufficient for them to have these files inside the jar file instead of immediately visible in the directory, is a question beyond the scope of Stackoverflow.</p>\n<p>To sum it up, just adding the <code>serial</code> directory to the application’s jar file will not work.</p>\n"}],"owner":{"account_id":27362773,"reputation":3,"user_id":20870130,"display_name":"Eric Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77264865,"answer_count":1,"score":0,"last_activity_date":1696932947,"creation_date":1696908911,"question_id":77262793,"body_markdown":"Hellooooo, I am new to Stack Overflow，I&#39;m clumsy when it comes to asking questions.\r\nBut I will provide additional information if the question is unclear.\r\nThis is the issue I encountered, as follows:\r\n\r\n**Background**:\r\nI have two projects, one is my business project A, and the other is my Java Agent project B. I launch them using &#39;java -javaagent:B.jar -jar A.jar&#39; method.\r\n\r\n**Divergence:**\r\nCurrently, there are two different approaches:\r\n\r\n**(I)** I place B.jar and related configuration files in the &quot;serial&quot; directory under the parent directory Base_Dir of A.jar and start them using a Shell script. &lt;br&gt;\r\n\r\n**(II)** My supervisor wants me to package the &quot;serial&quot; directory into A.jar.\r\n\r\n\r\n**Questions:**\r\nRegarding the above divergence, I have two questions:\r\n\r\n**(I)** Is it feasible to package the &quot;serial&quot; directory into A.jar in a Java project? &lt;br&gt;\r\n\r\n**(II)** Typically, what are the more common practices or best practices for addressing this type of project structure issue?\r\n\r\n**If I receive any response from you, I will be greatly appreciative.**\r\n\r\nDirectory Structure：\r\n\r\nI can&#39;t post images in my question, this is my structure:\r\n\r\n```java\r\nC:.\r\n│  SerialNumberAppDemo-1.0-SNAPSHOT.jar\r\n│\r\n└─serial\r\n        ConfoundLogback.xml\r\n        demo-1.jar\r\n        readme.md\r\n        sample-configs.properties\r\n```\r\n[business jar and serial directory](https://i.stack.imgur.com/xrJCs.png)\r\n[the content of serial directory](https://i.stack.imgur.com/avRuV.png)","title":"How to Package a Java Agent into the Host Project?","body":"<p>Hellooooo, I am new to Stack Overflow，I'm clumsy when it comes to asking questions.\nBut I will provide additional information if the question is unclear.\nThis is the issue I encountered, as follows:</p>\n<p><strong>Background</strong>:\nI have two projects, one is my business project A, and the other is my Java Agent project B. I launch them using 'java -javaagent:B.jar -jar A.jar' method.</p>\n<p><strong>Divergence:</strong>\nCurrently, there are two different approaches:</p>\n<p><strong>(I)</strong> I place B.jar and related configuration files in the &quot;serial&quot; directory under the parent directory Base_Dir of A.jar and start them using a Shell script. <br></p>\n<p><strong>(II)</strong> My supervisor wants me to package the &quot;serial&quot; directory into A.jar.</p>\n<p><strong>Questions:</strong>\nRegarding the above divergence, I have two questions:</p>\n<p><strong>(I)</strong> Is it feasible to package the &quot;serial&quot; directory into A.jar in a Java project? <br></p>\n<p><strong>(II)</strong> Typically, what are the more common practices or best practices for addressing this type of project structure issue?</p>\n<p><strong>If I receive any response from you, I will be greatly appreciative.</strong></p>\n<p>Directory Structure：</p>\n<p>I can't post images in my question, this is my structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>C:.\n│  SerialNumberAppDemo-1.0-SNAPSHOT.jar\n│\n└─serial\n        ConfoundLogback.xml\n        demo-1.jar\n        readme.md\n        sample-configs.properties\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xrJCs.png\" rel=\"nofollow noreferrer\">business jar and serial directory</a>\n<a href=\"https://i.stack.imgur.com/avRuV.png\" rel=\"nofollow noreferrer\">the content of serial directory</a></p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"score":0,"creation_date":1696930055,"post_id":77264475,"comment_id":136212331,"body_markdown":"i think you need to update your Java installation to the latest version","body":"i think you need to update your Java installation to the latest version"}],"answers":[{"tags":[],"owner":{"account_id":24188833,"reputation":51,"user_id":18148282,"display_name":"Asid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696932901,"creation_date":1696932901,"answer_id":77264860,"question_id":77264475,"body_markdown":"Try again after gradle version updation and then clean your build cache by\r\n &#39; ./gradlew clean &#39; .\r\ndont forgot to sync the gradle with your project.","title":"reactnative issue of installing","body":"<p>Try again after gradle version updation and then clean your build cache by\n' ./gradlew clean ' .\ndont forgot to sync the gradle with your project.</p>\n"}],"owner":{"account_id":19630313,"reputation":1,"user_id":14368774,"display_name":"ayush goel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696932901,"creation_date":1696929808,"question_id":77264475,"body_markdown":"**hii am trying to run a app o react-native on android and getting this error i have tried multiple time and i am using android 12 google api intell 31**\r\n\r\n\r\n****goelayu4@goelayu4-Inspiron-14-5420:****~/Documents/hisabkaroDevFrontend-main$ npx react-native run-android\r\nwarn Package rn-fetch-blob contains invalid configuration: &quot;dependency.hooks&quot; is not allowed. Please verify it&#39;s properly linked using &quot;react-native config&quot; command and contact the package maintainers about this.\r\ninfo Starting JS server...\r\ninfo Installing the app...\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/home/goelayu4/Documents/hisabkaroDevFrontend-main/android/settings.gradle&#39; (/home/goelayu4/.gradle/caches/7.5.1/scripts/lf5cmm155yzxzgc98a65emce).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 743ms\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/home/goelayu4/Documents/hisabkaroDevFrontend-main/android/settings.gradle&#39; (/home/goelayu4/.gradle/caches/7.5.1/scripts/lf5cmm155yzxzgc98a65emce).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n\r\nthe app is causing the emulator to start but the error is at the time it start to install in it","title":"reactnative issue of installing","body":"<p><strong>hii am trying to run a app o react-native on android and getting this error i have tried multiple time and i am using android 12 google api intell 31</strong></p>\n<p><strong><strong>goelayu4@goelayu4-Inspiron-14-5420:</strong></strong>~/Documents/hisabkaroDevFrontend-main$ npx react-native run-android\nwarn Package rn-fetch-blob contains invalid configuration: &quot;dependency.hooks&quot; is not allowed. Please verify it's properly linked using &quot;react-native config&quot; command and contact the package maintainers about this.\ninfo Starting JS server...\ninfo Installing the app...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file '/home/goelayu4/Documents/hisabkaroDevFrontend-main/android/settings.gradle' (/home/goelayu4/.gradle/caches/7.5.1/scripts/lf5cmm155yzxzgc98a65emce).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 743ms</p>\n<p>error Failed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not open settings generic class cache for settings file '/home/goelayu4/Documents/hisabkaroDevFrontend-main/android/settings.gradle' (/home/goelayu4/.gradle/caches/7.5.1/scripts/lf5cmm155yzxzgc98a65emce).</li>\n</ul>\n<blockquote>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<p>the app is causing the emulator to start but the error is at the time it start to install in it</p>\n"},{"tags":["java","docker"],"answers":[{"tags":[],"owner":{"account_id":11163207,"reputation":17415,"user_id":8192635,"display_name":"LinPy"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1571744326,"creation_date":1571744326,"answer_id":58503437,"question_id":58503339,"body_markdown":"add this to your `dockerfile` before insatll :\r\n\r\n    RUN mkdir -p /usr/share/man/man1/\r\n\r\nyou may also remove `RUN export JAVA_HOME` since it has no effect in Dockerfile\r\n\r\n","title":"/usr/bin/dpkg returned an error code (1) on python:3.7-slim-stretch","body":"<p>add this to your <code>dockerfile</code> before insatll :</p>\n\n<pre><code>RUN mkdir -p /usr/share/man/man1/\n</code></pre>\n\n<p>you may also remove <code>RUN export JAVA_HOME</code> since it has no effect in Dockerfile</p>\n"}],"owner":{"account_id":1441935,"reputation":341,"user_id":1361815,"display_name":"user1361815"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58503437,"answer_count":1,"score":2,"last_activity_date":1696932500,"creation_date":1571744020,"question_id":58503339,"body_markdown":"Hi i need to build python:3.7-slim-stretch docker image with java\r\n\r\nHere my Dockerfile : \r\n\r\n```\r\nFROM python:3.7-slim-stretch\r\n\r\n\r\n# Install OpenJDK-8\r\nRUN apt-get update &amp;&amp; \\\r\napt-get install -y openjdk-8-jdk &amp;&amp; \\\r\napt-get install -y ant &amp;&amp; \\\r\napt-get clean;\r\n\r\n# Fix certificate issues\r\nRUN apt-get update &amp;&amp; \\\r\napt-get install ca-certificates-java &amp;&amp; \\\r\napt-get clean &amp;&amp; \\\r\nupdate-ca-certificates -f;\r\n# Setup JAVA_HOME -- useful for docker commandline\r\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\r\nRUN export JAVA_HOME\r\n\r\n```\r\n\r\nBut i&#39;m getting this error when i  build it : \r\n``` \r\n...\r\nupdate-alternatives: error: error creating symbolic link &#39;/usr/share/man/man1/rmid.1.gz.dpkg-tmp&#39;: No such file or directory\r\ndpkg: error processing package openjdk-8-jre-headless:amd64 (--configure):\r\n subprocess installed post-installation script returned error exit status 2\r\ndpkg: dependency problems prevent configuration of ca-certificates-java:\r\n\r\n\r\ndpkg: error processing package openjdk-8-jdk:amd64 (--configure):\r\n dependency problems - leaving unconfigured\r\ndpkg: dependency problems prevent configuration of openjdk-8-jre:amd64:\r\n openjdk-8-jre:amd64 depends on openjdk-8-jre-headless (= 8u232-b09-1~deb9u1); however:\r\n  Package openjdk-8-jre-headless:amd64 is not configured yet.\r\n\r\nE: Sub-process /usr/bin/dpkg returned an error code (1)\r\nThe command &#39;/bin/sh -c apt-get update &amp;&amp; apt-get install -y openjdk-8-jdk &amp;&amp; apt-get install -y ant &amp;&amp; apt-get clean;&#39; returned a non-zero code: 100\r\n```\r\n\r\nAny idea ?\r\n\r\nThanks","title":"/usr/bin/dpkg returned an error code (1) on python:3.7-slim-stretch","body":"<p>Hi i need to build python:3.7-slim-stretch docker image with java</p>\n\n<p>Here my Dockerfile : </p>\n\n<pre><code>FROM python:3.7-slim-stretch\n\n\n# Install OpenJDK-8\nRUN apt-get update &amp;&amp; \\\napt-get install -y openjdk-8-jdk &amp;&amp; \\\napt-get install -y ant &amp;&amp; \\\napt-get clean;\n\n# Fix certificate issues\nRUN apt-get update &amp;&amp; \\\napt-get install ca-certificates-java &amp;&amp; \\\napt-get clean &amp;&amp; \\\nupdate-ca-certificates -f;\n# Setup JAVA_HOME -- useful for docker commandline\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\nRUN export JAVA_HOME\n\n</code></pre>\n\n<p>But i'm getting this error when i  build it : </p>\n\n<pre><code>...\nupdate-alternatives: error: error creating symbolic link '/usr/share/man/man1/rmid.1.gz.dpkg-tmp': No such file or directory\ndpkg: error processing package openjdk-8-jre-headless:amd64 (--configure):\n subprocess installed post-installation script returned error exit status 2\ndpkg: dependency problems prevent configuration of ca-certificates-java:\n\n\ndpkg: error processing package openjdk-8-jdk:amd64 (--configure):\n dependency problems - leaving unconfigured\ndpkg: dependency problems prevent configuration of openjdk-8-jre:amd64:\n openjdk-8-jre:amd64 depends on openjdk-8-jre-headless (= 8u232-b09-1~deb9u1); however:\n  Package openjdk-8-jre-headless:amd64 is not configured yet.\n\nE: Sub-process /usr/bin/dpkg returned an error code (1)\nThe command '/bin/sh -c apt-get update &amp;&amp; apt-get install -y openjdk-8-jdk &amp;&amp; apt-get install -y ant &amp;&amp; apt-get clean;' returned a non-zero code: 100\n</code></pre>\n\n<p>Any idea ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","resttemplate"],"comments":[{"owner":{"account_id":6379859,"reputation":3051,"user_id":4949684,"display_name":"Carlos Cavero"},"score":1,"creation_date":1555403679,"post_id":55703683,"comment_id":98088685,"body_markdown":"First of all, welcome to StackOverflow. Following the advices of the community, it is recommended to include context to your source code in order to receive the proper responses. Please check the documentation [on how to write a good question](https://stackoverflow.com/help/how-to-ask). People will be very glad to help.","body":"First of all, welcome to StackOverflow. Following the advices of the community, it is recommended to include context to your source code in order to receive the proper responses. Please check the documentation <a href=\"https://stackoverflow.com/help/how-to-ask\">on how to write a good question</a>. People will be very glad to help."}],"answers":[{"comments":[{"owner":{"account_id":15753376,"reputation":9,"user_id":11367195,"display_name":"刘教导员"},"score":0,"creation_date":1555509855,"post_id":55703760,"comment_id":98137731,"body_markdown":"yes，The remote interface returned &quot;application:json;charset=utf8&quot; instead of &quot;application/json;charset=utf8&quot;. I don&#39;t know why,  and I ignored it with &quot;ignoreContentType&quot;.  thank you very much!","body":"yes，The remote interface returned &quot;application:json;charset=utf8&quot; instead of &quot;application/json;charset=utf8&quot;. I don&#39;t know why,  and I ignored it with &quot;ignoreContentType&quot;.  thank you very much!"}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555418939,"creation_date":1555403421,"answer_id":55703760,"question_id":55703683,"body_markdown":"From the error you can understand that mime type is wrong `application:json;charset=utf8`\r\n\r\nIt should be `application/json;charset=utf8`\r\n\r\nYou should use `APPLICATION_JSON_UTF8_VALUE` instead of `MediaType.APPLICATION_JSON`:\r\n\r\n\r\n\r\n    mediaTypeList.add(MediaType.APPLICATION_JSON_UTF8_VALUE);","title":"org.springframework.util.InvalidMimeTypeException: Invalid mime type &quot;application:json;charset=utf8&quot;: does not contain &#39;/&#39;","body":"<p>From the error you can understand that mime type is wrong <code>application:json;charset=utf8</code></p>\n\n<p>It should be <code>application/json;charset=utf8</code></p>\n\n<p>You should use <code>APPLICATION_JSON_UTF8_VALUE</code> instead of <code>MediaType.APPLICATION_JSON</code>:</p>\n\n<pre><code>mediaTypeList.add(MediaType.APPLICATION_JSON_UTF8_VALUE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623095262,"creation_date":1623095262,"answer_id":67877852,"question_id":55703683,"body_markdown":"you have to use ```MediaType.APPLICATION_JSON_VALUE``` as the media type for application json ```application/json```\r\n\r\n```java \r\nMediaType.APPLICATION_JSON_VALUE\r\n```","title":"org.springframework.util.InvalidMimeTypeException: Invalid mime type &quot;application:json;charset=utf8&quot;: does not contain &#39;/&#39;","body":"<p>you have to use <code>MediaType.APPLICATION_JSON_VALUE</code> as the media type for application json <code>application/json</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>MediaType.APPLICATION_JSON_VALUE\n</code></pre>\n"}],"owner":{"account_id":15753376,"reputation":9,"user_id":11367195,"display_name":"刘教导员"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9017,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696932305,"creation_date":1555403154,"question_id":55703683,"body_markdown":"\r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n\r\n        List&lt;MediaType&gt; mediaTypeList = new ArrayList&lt;&gt;();\r\n        mediaTypeList.add(MediaType.APPLICATION_JSON);\r\n        //mediaTypeList.add(MediaType.APPLICATION_JSON_UTF8);\r\n        mediaTypeList.add(MediaType.TEXT_PLAIN);\r\n        mediaTypeList.add(MediaType.ALL);\r\n        headers.setAccept(mediaTypeList);\r\n\r\n        headers.add(HttpHeaders.ACCEPT_ENCODING, &quot;gzip, deflate&quot;);\r\n        headers.add(HttpHeaders.ACCEPT_LANGUAGE, &quot;Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7&quot;);\r\n        headers.add(HttpHeaders.USER_AGENT, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&quot;);\r\n        headers.add(HttpHeaders.CONTENT_LENGTH,&quot;178&quot;);\r\n        headers.add(HttpHeaders.CONTENT_TYPE,&quot;application/x-www-form-urlencoded&quot;);\r\n        headers.add(HttpHeaders.REFERER,&quot;http://www.7dingdong.com/&quot;);\r\n        headers.add(HttpHeaders.ORIGIN,&quot;http://www.7dingdong.com&quot;);\r\n        headers.add(HttpHeaders.CONNECTION,&quot;keep-alive&quot;);\r\n        headers.add(HttpHeaders.HOST, &quot;7ddapi.7dingdong.com&quot;);\r\n        HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;String&gt;(&quot;&quot;,headers);\r\n        StringBuffer paramsURL = new StringBuffer(goLoginUrl);\r\n        paramsURL.append(&quot;?token=&quot; +  token)\r\n                .append(&quot;&amp;t=&quot;+ t)\r\n                .append(&quot;&amp;device=&quot;+ device)\r\n                .append(&quot;&amp;user_name=&quot;+ user_name)\r\n                .append(&quot;&amp;password=&quot;+ password)\r\n                .append(&quot;&amp;company=&quot;+ company)\r\n                .append(&quot;&amp;api=&quot;+ api);\r\n\r\n\r\n        ResponseEntity&lt;Object&gt; response = restTemplate.exchange(\r\n                paramsURL.toString(),\r\n                HttpMethod.GET,\r\n                httpEntity,\r\n                Object.class);\r\n     /*\r\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(goLoginUrl,httpEntity,String.class);\r\n     */\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.http.InvalidMediaTypeException: Invalid mime type &quot;application:json;charset=utf8&quot;: does not contain &#39;/&#39;\r\n    \tat org.springframework.http.MediaType.parseMediaType(MediaType.java:534)\r\n    \tat org.springframework.http.HttpHeaders.getContentType(HttpHeaders.java:932)\r\n    \tat org.springframework.web.client.HttpMessageConverterExtractor.getContentType(HttpMessageConverterExtractor.java:133)\r\n    \tat org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:90)\r\n    \tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:995)\r\n    \tat org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:978)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:737)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)\r\n    \tat Login.goLogin(Login.java:268)\r\n    \tat Login.main(Login.java:293)\r\n    Caused by: org.springframework.util.InvalidMimeTypeException: Invalid mime type &quot;application:json;charset=utf8&quot;: does not contain &#39;/&#39;\r\n    \tat org.springframework.util.MimeTypeUtils.parseMimeType(MimeTypeUtils.java:197)\r\n    \tat org.springframework.http.MediaType.parseMediaType(MediaType.java:531)\r\n    \t... 10 more\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:54273&#39;, transport: &#39;socket&#39;\r\n\r\n--------------------------------------------------------------\r\nHow should I solve this problem？Who can help me?\r\n","title":"org.springframework.util.InvalidMimeTypeException: Invalid mime type &quot;application:json;charset=utf8&quot;: does not contain &#39;/&#39;","body":"<pre><code>    RestTemplate restTemplate = new RestTemplate();\n\n    HttpHeaders headers = new HttpHeaders();\n\n    List&lt;MediaType&gt; mediaTypeList = new ArrayList&lt;&gt;();\n    mediaTypeList.add(MediaType.APPLICATION_JSON);\n    //mediaTypeList.add(MediaType.APPLICATION_JSON_UTF8);\n    mediaTypeList.add(MediaType.TEXT_PLAIN);\n    mediaTypeList.add(MediaType.ALL);\n    headers.setAccept(mediaTypeList);\n\n    headers.add(HttpHeaders.ACCEPT_ENCODING, \"gzip, deflate\");\n    headers.add(HttpHeaders.ACCEPT_LANGUAGE, \"Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7\");\n    headers.add(HttpHeaders.USER_AGENT, \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36\");\n    headers.add(HttpHeaders.CONTENT_LENGTH,\"178\");\n    headers.add(HttpHeaders.CONTENT_TYPE,\"application/x-www-form-urlencoded\");\n    headers.add(HttpHeaders.REFERER,\"http://www.7dingdong.com/\");\n    headers.add(HttpHeaders.ORIGIN,\"http://www.7dingdong.com\");\n    headers.add(HttpHeaders.CONNECTION,\"keep-alive\");\n    headers.add(HttpHeaders.HOST, \"7ddapi.7dingdong.com\");\n    HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;String&gt;(\"\",headers);\n    StringBuffer paramsURL = new StringBuffer(goLoginUrl);\n    paramsURL.append(\"?token=\" +  token)\n            .append(\"&amp;t=\"+ t)\n            .append(\"&amp;device=\"+ device)\n            .append(\"&amp;user_name=\"+ user_name)\n            .append(\"&amp;password=\"+ password)\n            .append(\"&amp;company=\"+ company)\n            .append(\"&amp;api=\"+ api);\n\n\n    ResponseEntity&lt;Object&gt; response = restTemplate.exchange(\n            paramsURL.toString(),\n            HttpMethod.GET,\n            httpEntity,\n            Object.class);\n /*\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(goLoginUrl,httpEntity,String.class);\n */\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.http.InvalidMediaTypeException: Invalid mime type \"application:json;charset=utf8\": does not contain '/'\n    at org.springframework.http.MediaType.parseMediaType(MediaType.java:534)\n    at org.springframework.http.HttpHeaders.getContentType(HttpHeaders.java:932)\n    at org.springframework.web.client.HttpMessageConverterExtractor.getContentType(HttpMessageConverterExtractor.java:133)\n    at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:90)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:995)\n    at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:978)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:737)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)\n    at Login.goLogin(Login.java:268)\n    at Login.main(Login.java:293)\nCaused by: org.springframework.util.InvalidMimeTypeException: Invalid mime type \"application:json;charset=utf8\": does not contain '/'\n    at org.springframework.util.MimeTypeUtils.parseMimeType(MimeTypeUtils.java:197)\n    at org.springframework.http.MediaType.parseMediaType(MediaType.java:531)\n    ... 10 more\nDisconnected from the target VM, address: '127.0.0.1:54273', transport: 'socket'\n</code></pre>\n\n<hr>\n\n<p>How should I solve this problem？Who can help me?</p>\n"},{"tags":["java","database","spring-security","neo4j","spring-data-neo4j"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1500362393,"post_id":45159468,"comment_id":77288298,"body_markdown":"which is NOT the JPA API, tag now removed!","body":"which is NOT the JPA API, tag now removed!"},{"owner":{"account_id":2643163,"reputation":7390,"user_id":2286415,"display_name":"logisima"},"score":0,"creation_date":1500367026,"post_id":45159468,"comment_id":77291371,"body_markdown":"Can you share the `DomainInfo` class ? It seems that you have a bad convertor in this","body":"Can you share the <code>DomainInfo</code> class ? It seems that you have a bad convertor in this"},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":1,"creation_date":1500371609,"post_id":45159468,"comment_id":77294685,"body_markdown":"i found the issue. Forget to add @EntityScan(&quot;eu.bm.entities&quot;) below @SpringBootApplication","body":"i found the issue. Forget to add @EntityScan(&quot;eu.bm.entities&quot;) below @SpringBootApplication"}],"answers":[{"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696932174,"creation_date":1696932174,"answer_id":77264774,"question_id":45159468,"body_markdown":"`@EntityScan` annotation was missing due to which entities were not getting loaded.\r\n","title":"Authenticating application with spring security using neo4j database---Getting Exception","body":"<p><code>@EntityScan</code> annotation was missing due to which entities were not getting loaded.</p>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77264774,"answer_count":1,"score":0,"last_activity_date":1696932174,"creation_date":1500360471,"question_id":45159468,"body_markdown":"please find below exception.\r\n\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \t... 66 common frames omitted\r\n        Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method &#39;sessionFactory&#39; threw exception; nested exception is java.lang.NullPointerException\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\r\n        \t... 75 common frames omitted\r\n        Caused by: java.lang.NullPointerException: null\r\n    at org.neo4j.ogm.metadata.DomainInfo.registerDefaultMethodConverters(DomainInfo.java:379) ~[neo4j-ogm-core-2.1.3.jar:na]\r\n    \tat org.neo4j.ogm.metadata.DomainInfo.postProcessMethods(DomainInfo.java:215) ~[neo4j-ogm-core-2.1.3.jar:na]\r\n    \tat org.neo4j.ogm.metadata.DomainInfo.finish(DomainInfo.java:159) ~[neo4j-ogm-core-2.1.3.jar:na]\r\n\r\nAnyone who can help me with neo4j and spring security.","title":"Authenticating application with spring security using neo4j database---Getting Exception","body":"<p>please find below exception.</p>\n\n<pre><code>    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        ... 66 common frames omitted\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is java.lang.NullPointerException\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n        ... 75 common frames omitted\n    Caused by: java.lang.NullPointerException: null\nat org.neo4j.ogm.metadata.DomainInfo.registerDefaultMethodConverters(DomainInfo.java:379) ~[neo4j-ogm-core-2.1.3.jar:na]\n    at org.neo4j.ogm.metadata.DomainInfo.postProcessMethods(DomainInfo.java:215) ~[neo4j-ogm-core-2.1.3.jar:na]\n    at org.neo4j.ogm.metadata.DomainInfo.finish(DomainInfo.java:159) ~[neo4j-ogm-core-2.1.3.jar:na]\n</code></pre>\n\n<p>Anyone who can help me with neo4j and spring security.</p>\n"},{"tags":["java","spring-boot","mockito","illegalstateexception","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":4837169,"reputation":153,"user_id":3903418,"display_name":"user3903418"},"score":0,"creation_date":1689505981,"post_id":76695783,"comment_id":135220330,"body_markdown":"Thank you for the answer. However, I wasn&#39;t getting the exception before adding my company&#39;s internal dependency artifact. Everything was working fine, its only after I added this dependency, that it started failing","body":"Thank you for the answer. However, I wasn&#39;t getting the exception before adding my company&#39;s internal dependency artifact. Everything was working fine, its only after I added this dependency, that it started failing"},{"owner":{"account_id":4837169,"reputation":153,"user_id":3903418,"display_name":"user3903418"},"score":0,"creation_date":1689840622,"post_id":76695783,"comment_id":135271120,"body_markdown":"I also tried adding jna as a test dependency, but still getting the same error.","body":"I also tried adding jna as a test dependency, but still getting the same error."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689455204,"creation_date":1689455204,"answer_id":76695783,"question_id":76693899,"body_markdown":"As the exception suggests: your VM does not support an attach mechanism. You can add JNA as a test dependency to allow Byte Buddy to emulate it.","title":"Mockmaker exception - Could not initialize inline Byte Buddy mock maker","body":"<p>As the exception suggests: your VM does not support an attach mechanism. You can add JNA as a test dependency to allow Byte Buddy to emulate it.</p>\n"},{"tags":[],"owner":{"account_id":4930700,"reputation":1063,"user_id":3970581,"accept_rate":43,"display_name":"Robin Bruneel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696931972,"creation_date":1696931972,"answer_id":77264747,"question_id":76693899,"body_markdown":"You&#39;ll have to activate your jdk attachment settings. This will only be applied in your test step: https://docs.gradle.org/current/userguide/build_lifecycle.html\r\n\r\n**For Gradle** \r\n\r\n    test {\r\n        jvmArgs &#39;-Djdk.attach.allowAttachSelf=true&#39;\r\n    }\r\n\r\n**For Maven with Surefire:**\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.1.2&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n           &lt;argLine&gt;-Djdk.attach.allowAttachSelf=true &lt;/argLine&gt;\r\n         &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Mockmaker exception - Could not initialize inline Byte Buddy mock maker","body":"<p>You'll have to activate your jdk attachment settings. This will only be applied in your test step: <a href=\"https://docs.gradle.org/current/userguide/build_lifecycle.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_lifecycle.html</a></p>\n<p><strong>For Gradle</strong></p>\n<pre><code>test {\n    jvmArgs '-Djdk.attach.allowAttachSelf=true'\n}\n</code></pre>\n<p><strong>For Maven with Surefire:</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;3.1.2&lt;/version&gt;\n     &lt;configuration&gt;\n       &lt;argLine&gt;-Djdk.attach.allowAttachSelf=true &lt;/argLine&gt;\n     &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":4837169,"reputation":153,"user_id":3903418,"display_name":"user3903418"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696931972,"creation_date":1689426514,"question_id":76693899,"body_markdown":"My project uses the below mockito dependencies. I am facing the below issue only when I added my company&#39;s internal dependency. How to fix it? I already tried making sure my Intellij dea is using JDK not JRE as suggested by other answers.\r\n    \r\n```\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;3.12.4&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```    \r\nCaused by: org.mockito.exceptions.base.MockitoInitializationException: \r\n    Could not initialize inline Byte Buddy mock maker.\r\n    It appears as if your JDK does not supply a working agent attachment mechanism.\r\n    Java               : 1.8\r\n    JVM vendor name    : Azul Systems, Inc.\r\n    JVM vendor version : 25.232-b18\r\n    JVM name           : OpenJDK 64-Bit Server VM\r\n    JVM version        : 1.8.0_232-b18\r\n    JVM info           : mixed mode\r\n    OS name            : Mac OS X\r\n    OS version         : 10.16\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;init&gt;(InlineDelegateByteBuddyMockMaker.java:246)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:25)\r\n    \t... 73 more\r\n    Caused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@d70f722\r\n    \tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:638)\r\n    \tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:611)\r\n    \tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:563)\r\n    \tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:540)\r\n    \tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;clinit&gt;(InlineDelegateByteBuddyMockMaker.java:117)\r\n    \t... 74 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat net.bytebuddy.agent.Attacher.install(Attacher.java:102)\r\n    \tat net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:633)\r\n    \t... 78 more\r\n    Caused by: com.sun.tools.attach.AttachNotSupportedException: no providers installed\r\n    \tat com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:208)\r\n    \t... 84 more\r\n    [ERROR] testGenerateConnectLiteUrlServerError  Time elapsed: 0 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\r\n```","title":"Mockmaker exception - Could not initialize inline Byte Buddy mock maker","body":"<p>My project uses the below mockito dependencies. I am facing the below issue only when I added my company's internal dependency. How to fix it? I already tried making sure my Intellij dea is using JDK not JRE as suggested by other answers.</p>\n<pre><code>&lt;dependency&gt;\n\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;3.12.4&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>Caused by: org.mockito.exceptions.base.MockitoInitializationException: \n    Could not initialize inline Byte Buddy mock maker.\n    It appears as if your JDK does not supply a working agent attachment mechanism.\n    Java               : 1.8\n    JVM vendor name    : Azul Systems, Inc.\n    JVM vendor version : 25.232-b18\n    JVM name           : OpenJDK 64-Bit Server VM\n    JVM version        : 1.8.0_232-b18\n    JVM info           : mixed mode\n    OS name            : Mac OS X\n    OS version         : 10.16\n        at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;init&gt;(InlineDelegateByteBuddyMockMaker.java:246)\n        at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:25)\n        ... 73 more\n    Caused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@d70f722\n        at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:638)\n        at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:611)\n        at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:563)\n        at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:540)\n        at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;clinit&gt;(InlineDelegateByteBuddyMockMaker.java:117)\n        ... 74 more\n    Caused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at net.bytebuddy.agent.Attacher.install(Attacher.java:102)\n        at net.bytebuddy.agent.ByteBuddyAgent.install(ByteBuddyAgent.java:633)\n        ... 78 more\n    Caused by: com.sun.tools.attach.AttachNotSupportedException: no providers installed\n        at com.sun.tools.attach.VirtualMachine.attach(VirtualMachine.java:208)\n        ... 84 more\n    [ERROR] testGenerateConnectLiteUrlServerError  Time elapsed: 0 s  &lt;&lt;&lt; ERROR!\n    java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\n</code></pre>\n"},{"tags":["java","android","robolectric"],"answers":[{"tags":[],"owner":{"account_id":1675123,"reputation":17577,"user_id":1540854,"display_name":"jeprubio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696931909,"creation_date":1694210861,"answer_id":77070091,"question_id":72220330,"body_markdown":"I had the same issue and managed to do that by using *Enclosed* the following way (code is in kotlin):\r\n\r\n````kotlin\r\n@RunWith(Enclosed::class)\r\ninternal class WhateverTest {\r\n\r\n    @RunWith(ParameterizedRobolectricTestRunner::class)\r\n    internal class WhateverTestParametrized(private val parameter: ParameterType) {\r\n        // parametrized tests\r\n    }\r\n\r\n    @RunWith(RobolectricTestRunner::class)\r\n    internal class WhateverTestNotParametrized {\r\n        // Not parametrized tests\r\n    }\r\n}\r\n````\r\n\r\nI know you wanted not to have inner classes for the tests but it&#39;s the only way I&#39;ve found to get the Robolectric test runner to parameterize one test from a larger suite as asked for in junit 4.","title":"Parameterize some tests but not others with RobolectricTest","body":"<p>I had the same issue and managed to do that by using <em>Enclosed</em> the following way (code is in kotlin):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@RunWith(Enclosed::class)\ninternal class WhateverTest {\n\n    @RunWith(ParameterizedRobolectricTestRunner::class)\n    internal class WhateverTestParametrized(private val parameter: ParameterType) {\n        // parametrized tests\n    }\n\n    @RunWith(RobolectricTestRunner::class)\n    internal class WhateverTestNotParametrized {\n        // Not parametrized tests\n    }\n}\n</code></pre>\n<p>I know you wanted not to have inner classes for the tests but it's the only way I've found to get the Robolectric test runner to parameterize one test from a larger suite as asked for in junit 4.</p>\n"}],"owner":{"account_id":213782,"reputation":10541,"user_id":467366,"accept_rate":70,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696931909,"creation_date":1652379064,"question_id":72220330,"body_markdown":"I am looking to add a parameterized test to an existing test suite that uses the Robolectric test framework, like so:\r\n\r\n```\r\n@RunWith(RobolectricTestRunner.class)\r\npublic class SomeTest {\r\n    /* ... Tons of tests */\r\n}\r\n```\r\n\r\nOne of the tests is for functionality that used to be fixed but now takes a parameter. [This answer](https://stackoverflow.com/a/35057629/467366) suggests that in order to run just the one test in a parameterized fashion, I should add `@RunWith(Enclosed.class)`, then wrap the test I want to parameterize in its own class. Unfortunately, it seems that I must choose *either* `Enclosed.class` *or* `RobolectricTestRunner.class`, not both.\r\n\r\nThere seems to be an [open issue on `robolectric`](https://github.com/robolectric/robolectric/issues/2946) related to this, but the answer in the issue seems to be to wrap the whole test in `@RunWith(Enclosed.class)`, then wrap the inner tests in a class with `@RunWith(RobolectricTestRunner.class)`. Given that I&#39;m only changing one test in a fairly large set of test cases, I&#39;m not amazingly comfortable with the idea of refactoring everything to be in a set of inner classes.\r\n\r\nIs there any way to get the Robolectric test runner to parameterize one test from a larger suite?","title":"Parameterize some tests but not others with RobolectricTest","body":"<p>I am looking to add a parameterized test to an existing test suite that uses the Robolectric test framework, like so:</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\npublic class SomeTest {\n    /* ... Tons of tests */\n}\n</code></pre>\n<p>One of the tests is for functionality that used to be fixed but now takes a parameter. <a href=\"https://stackoverflow.com/a/35057629/467366\">This answer</a> suggests that in order to run just the one test in a parameterized fashion, I should add <code>@RunWith(Enclosed.class)</code>, then wrap the test I want to parameterize in its own class. Unfortunately, it seems that I must choose <em>either</em> <code>Enclosed.class</code> <em>or</em> <code>RobolectricTestRunner.class</code>, not both.</p>\n<p>There seems to be an <a href=\"https://github.com/robolectric/robolectric/issues/2946\" rel=\"nofollow noreferrer\">open issue on <code>robolectric</code></a> related to this, but the answer in the issue seems to be to wrap the whole test in <code>@RunWith(Enclosed.class)</code>, then wrap the inner tests in a class with <code>@RunWith(RobolectricTestRunner.class)</code>. Given that I'm only changing one test in a fairly large set of test cases, I'm not amazingly comfortable with the idea of refactoring everything to be in a set of inner classes.</p>\n<p>Is there any way to get the Robolectric test runner to parameterize one test from a larger suite?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9783,"page":134,"page_size":100}
