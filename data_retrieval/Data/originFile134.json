{"items":[{"tags":["java","cluster-computing","jgroups"],"comments":[{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1339107541,"post_id":10842102,"comment_id":14276054,"body_markdown":"extend `org.jgroups.protocols.pbcast.GMS` and override `Address determineCoordinator()`. You can add a getter/setter and specify the preferred Address to be coordinator. If the node is online (part of `members`) it will be elected, if not call super.determineCoordinator(). That&#39;s it more or less.","body":"extend <code>org.jgroups.protocols.pbcast.GMS</code> and override <code>Address determineCoordinator()</code>. You can add a getter/setter and specify the preferred Address to be coordinator. If the node is online (part of <code>members</code>) it will be elected, if not call super.determineCoordinator(). That&#39;s it more or less."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696887824,"creation_date":1338936392,"answer_id":10906070,"question_id":10842102,"body_markdown":"Currently there is no way to do this.  Jgroups has spent considerable time making sure that the coordinator can be any of the nodes in a group.  All tasks that maintain and monitor the health of the group membership list are shared among all of the members in the group to make sure that the coordinator duties do not affect the performance of the coordinator too much.  The standard GMS (Group MembershipService) protocol stack class is what is responsible for the coordinator selection.  Currently it is just the first host in the view list.\r\n\r\nTo get this behavior, you are going to have to implement your own protocol stack.  Others may have taken a whack at this issue however.  I would recommend posting on the [jgroups mailing list][1] and asking the same question.\r\n\r\n  [1]: http://sourceforge.net/mail/?group_id=6081","title":"How do I force JGroups which node to make coordinator?","body":"<p>Currently there is no way to do this.  Jgroups has spent considerable time making sure that the coordinator can be any of the nodes in a group.  All tasks that maintain and monitor the health of the group membership list are shared among all of the members in the group to make sure that the coordinator duties do not affect the performance of the coordinator too much.  The standard GMS (Group MembershipService) protocol stack class is what is responsible for the coordinator selection.  Currently it is just the first host in the view list.</p>\n<p>To get this behavior, you are going to have to implement your own protocol stack.  Others may have taken a whack at this issue however.  I would recommend posting on the <a href=\"http://sourceforge.net/mail/?group_id=6081\" rel=\"nofollow noreferrer\">jgroups mailing list</a> and asking the same question.</p>\n"},{"tags":[],"owner":{"account_id":3201215,"reputation":301,"user_id":2703232,"display_name":"George_A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448880990,"creation_date":1448640688,"answer_id":33961215,"question_id":10842102,"body_markdown":"You can set desired node to coordinator. :\r\n[github sample][1]\r\n\r\nAnd i am add synchronization block for changes complete at all nodes and complete code:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static final String GMS_DELTA_VIEW_FIELD_NAME = &quot;use_delta_views&quot;;\r\n\r\n    /**\r\n\t * Change coordinator to {@code desiredCoordinator}. Must be invoked from coordinator.\r\n\t * @param desiredCoordinator\r\n\t * @return {@code true} if changes success, {@code false} overwise \r\n\t */\r\n\tboolean changeCoordinator(JChannel currentChannel, Address desiredCoordinator) {\r\n\t\r\n\t\tif(!Util.isCoordinator(currentChannel.getAddress)) {\r\n\t\t\tthrow new RuntimeException(&quot;The current node is not coordinator.&quot;);\r\n\t\t}\r\n\t\r\n\t\tArrayList&lt;Address&gt; newMembersOrder = Lists.newArrayList(currentView.getMembers());        \r\n\r\n        // Switch desired node to first place\r\n        Collections.swap(newMembersOrder, 0, newMembersOrder.indexOf(desiredCoordinator));        \r\n\r\n        // Create new view\r\n        long newId = currentView.getViewId().getId() + 1;\r\n        View newView = new View(newMembersOrder.get(0), newId, newMembersOrder);\r\n\r\n        GMS gms = (GMS)clusterChannel.getProtocolStack().findProtocol(GMS.class);\r\n        CustomProtocol protocol = new CustomProtocol(newMembersOrder.stream()\r\n        \t\t.filter(item -&gt; !item.equals(currentChannel.getAddress()))\r\n        \t\t.collect(Collectors.toSet()));\r\n\r\n        boolean oldUseDeltaViews = (Boolean)gms.getValue(GMS_DELTA_VIEW_FIELD_NAME);\r\n        try {\r\n            // Disable using_delta_views at GMS\r\n            gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, false);\r\n\r\n            // Insert custom protocol below GMS for synchronizing with VIEW_ACK events\r\n            currentChannel.getProtocolStack().insertProtocolInStack(protocol, gms, ProtocolStack.BELOW);\r\n            gms.castViewChange(newView, null, newMembersOrder);\r\n\r\n            // Wait no more than 30 seconds to all VIEW_ACK responses\r\n            if (!protocol.collector.waitForAllAcks(TimeUnit.SECONDS.toMillis(30))) {                \r\n                return false;\r\n            }\r\n            \r\n            return true;\r\n        }\r\n        finally {\r\n            // Repair old state\r\n            gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, oldUseDeltaViews);\r\n            currentChannel.getProtocolStack().removeProtocol(protocol);\r\n        }\r\n    }\r\n    \r\n    private class CustomProtocol extends Protocol implements UpHandler {\r\n\r\n        AckCollector collector;\r\n\r\n        public CustomProtocol(Collection&lt;Address&gt; waitedAddresses) {\r\n            collector = new AckCollector(waitedAddresses);\r\n        }\r\n\r\n        @Override\r\n        public Object up(Event evt) {\r\n\r\n            if(evt.getType() == Event.MSG) {\r\n                final Message msg=(Message)evt.getArg();\r\n                GmsHeader hdr=(GmsHeader)msg.getHeader(proto_id);\r\n                if(hdr != null &amp;&amp; hdr.getType() == GmsHeader.VIEW_ACK) {                    \r\n                    collector.ack(msg.getSrc());\r\n                }\r\n            }\r\n\r\n            return super.up(evt);\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/belaban/JGroups/wiki/Changing-the-coordinator-of-a-cluster","title":"How do I force JGroups which node to make coordinator?","body":"<p>You can set desired node to coordinator. :\n<a href=\"https://github.com/belaban/JGroups/wiki/Changing-the-coordinator-of-a-cluster\" rel=\"nofollow\">github sample</a></p>\n\n<p>And i am add synchronization block for changes complete at all nodes and complete code:\n</p>\n\n<pre><code>public static final String GMS_DELTA_VIEW_FIELD_NAME = \"use_delta_views\";\n\n/**\n * Change coordinator to {@code desiredCoordinator}. Must be invoked from coordinator.\n * @param desiredCoordinator\n * @return {@code true} if changes success, {@code false} overwise \n */\nboolean changeCoordinator(JChannel currentChannel, Address desiredCoordinator) {\n\n    if(!Util.isCoordinator(currentChannel.getAddress)) {\n        throw new RuntimeException(\"The current node is not coordinator.\");\n    }\n\n    ArrayList&lt;Address&gt; newMembersOrder = Lists.newArrayList(currentView.getMembers());        \n\n    // Switch desired node to first place\n    Collections.swap(newMembersOrder, 0, newMembersOrder.indexOf(desiredCoordinator));        \n\n    // Create new view\n    long newId = currentView.getViewId().getId() + 1;\n    View newView = new View(newMembersOrder.get(0), newId, newMembersOrder);\n\n    GMS gms = (GMS)clusterChannel.getProtocolStack().findProtocol(GMS.class);\n    CustomProtocol protocol = new CustomProtocol(newMembersOrder.stream()\n            .filter(item -&gt; !item.equals(currentChannel.getAddress()))\n            .collect(Collectors.toSet()));\n\n    boolean oldUseDeltaViews = (Boolean)gms.getValue(GMS_DELTA_VIEW_FIELD_NAME);\n    try {\n        // Disable using_delta_views at GMS\n        gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, false);\n\n        // Insert custom protocol below GMS for synchronizing with VIEW_ACK events\n        currentChannel.getProtocolStack().insertProtocolInStack(protocol, gms, ProtocolStack.BELOW);\n        gms.castViewChange(newView, null, newMembersOrder);\n\n        // Wait no more than 30 seconds to all VIEW_ACK responses\n        if (!protocol.collector.waitForAllAcks(TimeUnit.SECONDS.toMillis(30))) {                \n            return false;\n        }\n\n        return true;\n    }\n    finally {\n        // Repair old state\n        gms.setValue(GMS_DELTA_VIEW_FIELD_NAME, oldUseDeltaViews);\n        currentChannel.getProtocolStack().removeProtocol(protocol);\n    }\n}\n\nprivate class CustomProtocol extends Protocol implements UpHandler {\n\n    AckCollector collector;\n\n    public CustomProtocol(Collection&lt;Address&gt; waitedAddresses) {\n        collector = new AckCollector(waitedAddresses);\n    }\n\n    @Override\n    public Object up(Event evt) {\n\n        if(evt.getType() == Event.MSG) {\n            final Message msg=(Message)evt.getArg();\n            GmsHeader hdr=(GmsHeader)msg.getHeader(proto_id);\n            if(hdr != null &amp;&amp; hdr.getType() == GmsHeader.VIEW_ACK) {                    \n                collector.ack(msg.getSrc());\n            }\n        }\n\n        return super.up(evt);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2672966,"reputation":2186,"user_id":2309917,"display_name":"Bela Ban"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548155374,"creation_date":1548155374,"answer_id":54306972,"question_id":10842102,"body_markdown":"Just stumbled across this post. There is a simple&amp;standard way to do this in JGroups: [1]. It essentially let&#39;s user code control view generation.\r\n\r\n\r\n[1] http://www.jgroups.org/manual4/index.html#MembershipChangePolicy","title":"How do I force JGroups which node to make coordinator?","body":"<p>Just stumbled across this post. There is a simple&amp;standard way to do this in JGroups: [1]. It essentially let's user code control view generation.</p>\n\n<p>[1] <a href=\"http://www.jgroups.org/manual4/index.html#MembershipChangePolicy\" rel=\"nofollow noreferrer\">http://www.jgroups.org/manual4/index.html#MembershipChangePolicy</a></p>\n"}],"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3165,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10906070,"answer_count":3,"score":6,"last_activity_date":1696887824,"creation_date":1338503044,"question_id":10842102,"body_markdown":"I&#39;m looking for a way to force JGroups to use a specific server as the Coordinator, and if that server isn&#39;t present, elect a new Coordinator until that one specified rejoins the cluster and it takes over being the Coordinator.\r\n\r\nIn this case, we have some information we push in to the cluster by the Coordinator listening to a Topic for updates, however fetching &amp; processing those updates can be resource intensive so we don&#39;t want it to server anything to the outside world. So in the load-balancer in front of the cluster, we have it set to not send to the coordinator. But because the Coordinator is elected randomly, we basically need to shut down the cluster until only the single machine is in there and then start the rest of the cluster back up.","title":"How do I force JGroups which node to make coordinator?","body":"<p>I'm looking for a way to force JGroups to use a specific server as the Coordinator, and if that server isn't present, elect a new Coordinator until that one specified rejoins the cluster and it takes over being the Coordinator.</p>\n\n<p>In this case, we have some information we push in to the cluster by the Coordinator listening to a Topic for updates, however fetching &amp; processing those updates can be resource intensive so we don't want it to server anything to the outside world. So in the load-balancer in front of the cluster, we have it set to not send to the coordinator. But because the Coordinator is elected randomly, we basically need to shut down the cluster until only the single machine is in there and then start the rest of the cluster back up.</p>\n"},{"tags":["java","spring-boot","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"score":0,"creation_date":1696884842,"post_id":77261677,"comment_id":136207766,"body_markdown":"What is your `JAVA_HOME` variable? Does it point to the same JDK as your project in Intellij?","body":"What is your <code>JAVA_HOME</code> variable? Does it point to the same JDK as your project in Intellij?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1696970464,"post_id":77261677,"comment_id":136220016,"body_markdown":"You are mixing different Spring Boot versions that will not work. And as already mentiond Spring Boot 3+ requires JDK17 at minimum...","body":"You are mixing different Spring Boot versions that will not work. And as already mentiond Spring Boot 3+ requires JDK17 at minimum..."}],"answers":[{"tags":[],"owner":{"account_id":5156626,"reputation":46,"user_id":4129701,"display_name":"dabeledo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696887659,"creation_date":1696887659,"answer_id":77261912,"question_id":77261677,"body_markdown":"Your parent is Springboot 2.x but then you added Springboot 3 dependencies, that require Java 17 https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"Spring boot error UnsupportedClassVersionError with Intellij","body":"<p>Your parent is Springboot 2.x but then you added Springboot 3 dependencies, that require Java 17 <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0</a></p>\n"}],"owner":{"account_id":4675621,"reputation":190,"user_id":5225000,"display_name":"user11890"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77261912,"answer_count":1,"score":1,"last_activity_date":1696887659,"creation_date":1696884092,"question_id":77261677,"body_markdown":"I have an application in Spring Boot with Tomcat.\r\nI needed to make update in my repository maven, and after this, started with this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.devtools.restart.RestartScopeInitializer\r\n\tat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:423)\r\n\tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:402)\r\n\tat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:393)\r\n\tat org.springframework.boot.SpringApplication.initialize(SpringApplication.java:260)\r\n\tat org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:236)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)\r\n\tat br.coopercarga.com.br.SistemacolaborativoApplication.main(SistemaApplication.java:23)\r\n&gt; \r\n&gt; \r\n&gt; Caused by: java.lang.UnsupportedClassVersionError: org/springframework/boot/devtools/restart/RestartScopeInitializer has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:250)\r\n\tat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:415)\r\n\t... 7 more\r\n\r\n\r\nMy java version:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nMy run configuration:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nMy pom.xml (maven)\r\n\r\n        &lt;groupId&gt;br.xxx.com.br&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.13.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0.jre8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-catalina-jmx-remote&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.75&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.4&lt;/version&gt;\r\n            &lt;!--&lt;version&gt;2.0.0.M6&lt;/version&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;br.coopercarga.com.br&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nMy SistemaApplication.java\r\n\r\n    import br.xxxxx.com.br.TokenFilter.TokenFilter;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    public class SistemaApplication {\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean getFilterJWT() {\r\n            FilterRegistrationBean frb = new FilterRegistrationBean();\r\n            frb.setFilter(new TokenFilter());\r\n            frb.addUrlPatterns(&quot;/#/*&quot;);\r\n    \r\n            return frb;\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SistemaApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve already tried updating Java, and reconfiguring my project, but without success, I did several searches, but no solution worked, so any help I&#39;d appreciate.\r\n\r\n  [1]: https://i.stack.imgur.com/AgDc4.png\r\n  [2]: https://i.stack.imgur.com/Q36GE.png\r\n  [3]: https://i.stack.imgur.com/W2JzO.png\r\n  [4]: https://i.stack.imgur.com/IO6uN.png","title":"Spring boot error UnsupportedClassVersionError with Intellij","body":"<p>I have an application in Spring Boot with Tomcat.\nI needed to make update in my repository maven, and after this, started with this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot instantiate interface org.springframework.context.ApplicationContextInitializer : org.springframework.boot.devtools.restart.RestartScopeInitializer\nat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:423)\nat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:402)\nat org.springframework.boot.SpringApplication.getSpringFactoriesInstances(SpringApplication.java:393)\nat org.springframework.boot.SpringApplication.initialize(SpringApplication.java:260)\nat org.springframework.boot.SpringApplication.(SpringApplication.java:236)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)\nat br.coopercarga.com.br.SistemacolaborativoApplication.main(SistemaApplication.java:23)</p>\n<p>Caused by: java.lang.UnsupportedClassVersionError: org/springframework/boot/devtools/restart/RestartScopeInitializer has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat org.springframework.util.ClassUtils.forName(ClassUtils.java:250)\nat org.springframework.boot.SpringApplication.createSpringFactoriesInstances(SpringApplication.java:415)\n... 7 more</p>\n</blockquote>\n<p>My java version:</p>\n<p><a href=\"https://i.stack.imgur.com/AgDc4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgDc4.png\" alt=\"enter image description here\" /></a></p>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Q36GE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q36GE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/W2JzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2JzO.png\" alt=\"enter image description here\" /></a></p>\n<p>My run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/IO6uN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IO6uN.png\" alt=\"enter image description here\" /></a></p>\n<p>My pom.xml (maven)</p>\n<pre><code>    &lt;groupId&gt;br.xxx.com.br&lt;/groupId&gt;\n&lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.13.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;12.2.0.jre8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-catalina-jmx-remote&lt;/artifactId&gt;\n        &lt;version&gt;8.5.75&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;6.20.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;!--&lt;version&gt;2.0.0.M6&lt;/version&gt;--&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;6.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;6.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.coopercarga.com.br&lt;/groupId&gt;\n        &lt;artifactId&gt;sistemacolaborativo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.transaction-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dom4j&lt;/groupId&gt;\n        &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>My SistemaApplication.java</p>\n<pre><code>import br.xxxxx.com.br.TokenFilter.TokenFilter;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class SistemaApplication {\n\n    @Bean\n    public FilterRegistrationBean getFilterJWT() {\n        FilterRegistrationBean frb = new FilterRegistrationBean();\n        frb.setFilter(new TokenFilter());\n        frb.addUrlPatterns(&quot;/#/*&quot;);\n\n        return frb;\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(SistemaApplication.class, args);\n    }\n}\n</code></pre>\n<p>I've already tried updating Java, and reconfiguring my project, but without success, I did several searches, but no solution worked, so any help I'd appreciate.</p>\n"},{"tags":["java","scala","parquet","delta-lake"],"answers":[{"tags":[],"owner":{"account_id":8206960,"reputation":23,"user_id":6176390,"display_name":"Ahmed Riza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684676459,"creation_date":1684615825,"answer_id":76297306,"question_id":76113226,"body_markdown":"As far as I can tell Delta standalone doesn&#39;t appear to support the actual creation of a Delta Table. From the documentation, we can see they state that:\r\n\r\n&gt; The Delta Standalone library is a single-node Java library that can be used to read from and write to Delta tables\r\n\r\n\r\nThis is a real shame and rather limits the functionality of the standanlone library. For example, if we look at the supported Hive connector, we can see the following in the [README file](https://github.com/delta-io/connectors/blob/master/hive/README.md):\r\n\r\n&gt; Right now the connector supports only EXTERNAL Hive tables. The Delta table must be created using Spark before an external Hive table can reference it.\r\n\r\nHaving said that, you can still use [DeltaTable](https://docs.delta.io/latest/api/java/index.html) to create a table from existing Parquet files and then use Delta standalone to further interact with the table.\r\n\r\n`delta-rs` the Rust implementation has full support for writing Delta Tables and interacting with them. \r\n\r\n","title":"How to create delta table using Delta lake standalone and write data","body":"<p>As far as I can tell Delta standalone doesn't appear to support the actual creation of a Delta Table. From the documentation, we can see they state that:</p>\n<blockquote>\n<p>The Delta Standalone library is a single-node Java library that can be used to read from and write to Delta tables</p>\n</blockquote>\n<p>This is a real shame and rather limits the functionality of the standanlone library. For example, if we look at the supported Hive connector, we can see the following in the <a href=\"https://github.com/delta-io/connectors/blob/master/hive/README.md\" rel=\"nofollow noreferrer\">README file</a>:</p>\n<blockquote>\n<p>Right now the connector supports only EXTERNAL Hive tables. The Delta table must be created using Spark before an external Hive table can reference it.</p>\n</blockquote>\n<p>Having said that, you can still use <a href=\"https://docs.delta.io/latest/api/java/index.html\" rel=\"nofollow noreferrer\">DeltaTable</a> to create a table from existing Parquet files and then use Delta standalone to further interact with the table.</p>\n<p><code>delta-rs</code> the Rust implementation has full support for writing Delta Tables and interacting with them.</p>\n"},{"tags":[],"owner":{"account_id":4896466,"reputation":3034,"user_id":3945932,"display_name":"ptd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696887596,"creation_date":1696887596,"answer_id":77261904,"question_id":76113226,"body_markdown":"It _is_ possible to create a table using Delta Standalone, but it isn&#39;t obvious how to do it at all. Here is a short Java program that shows how to create a new table:\r\n\r\n```java\r\npackage myproject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport io.delta.standalone.DeltaLog;\r\nimport io.delta.standalone.Operation;\r\nimport io.delta.standalone.OptimisticTransaction;\r\nimport io.delta.standalone.actions.Action;\r\nimport io.delta.standalone.actions.AddFile;\r\nimport io.delta.standalone.actions.Metadata;\r\nimport io.delta.standalone.types.StringType;\r\nimport io.delta.standalone.types.StructField;\r\nimport io.delta.standalone.types.StructType;\r\n\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.SchemaBuilder;\r\nimport org.apache.avro.generic.GenericData;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.parquet.avro.AvroParquetWriter;\r\nimport org.apache.parquet.hadoop.ParquetWriter;\r\n\r\npublic class DeltaExample {\r\n    public static void main(final String[] args) throws Exception {\r\n        Schema schema = SchemaBuilder\r\n            .record(&quot;MyRecord&quot;)\r\n            .namespace(&quot;mynamespace&quot;)\r\n            .fields()\r\n            .requiredString(&quot;myfield&quot;)\r\n            .endRecord();\r\n        ParquetWriter&lt;GenericRecord&gt; writer = AvroParquetWriter.&lt;GenericRecord&gt;builder(new Path(&quot;delta/file.parquet&quot;))\r\n            .withSchema(schema)\r\n            .build();\r\n        GenericRecord record = new GenericData.Record(schema);\r\n        record.put(&quot;myfield&quot;, &quot;myvalue&quot;);\r\n        writer.write(record);\r\n        long size = writer.getDataSize();\r\n        writer.close();\r\n        List&lt;Action&gt; actions = List.of(new AddFile(&quot;file.parquet&quot;, new HashMap&lt;String, String&gt;(), size, System.currentTimeMillis(), true, null, null));\r\n        DeltaLog log = DeltaLog.forTable(new Configuration(), &quot;delta&quot;);\r\n        OptimisticTransaction txn = log.startTransaction();\r\n        Metadata metaData = txn.metadata()\r\n            .copyBuilder()\r\n            .partitionColumns(new ArrayList&lt;String&gt;())\r\n            .schema(new StructType()\r\n                    .add(new StructField(&quot;myfield&quot;, new StringType(), true))).build();\r\n        txn.updateMetadata(metaData);\r\n        txn.commit(actions, new Operation(Operation.Name.CREATE_TABLE), &quot;myproject&quot;);\r\n    }\r\n}\r\n```","title":"How to create delta table using Delta lake standalone and write data","body":"<p>It <em>is</em> possible to create a table using Delta Standalone, but it isn't obvious how to do it at all. Here is a short Java program that shows how to create a new table:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myproject;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport io.delta.standalone.DeltaLog;\nimport io.delta.standalone.Operation;\nimport io.delta.standalone.OptimisticTransaction;\nimport io.delta.standalone.actions.Action;\nimport io.delta.standalone.actions.AddFile;\nimport io.delta.standalone.actions.Metadata;\nimport io.delta.standalone.types.StringType;\nimport io.delta.standalone.types.StructField;\nimport io.delta.standalone.types.StructType;\n\nimport org.apache.avro.Schema;\nimport org.apache.avro.SchemaBuilder;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.parquet.avro.AvroParquetWriter;\nimport org.apache.parquet.hadoop.ParquetWriter;\n\npublic class DeltaExample {\n    public static void main(final String[] args) throws Exception {\n        Schema schema = SchemaBuilder\n            .record(&quot;MyRecord&quot;)\n            .namespace(&quot;mynamespace&quot;)\n            .fields()\n            .requiredString(&quot;myfield&quot;)\n            .endRecord();\n        ParquetWriter&lt;GenericRecord&gt; writer = AvroParquetWriter.&lt;GenericRecord&gt;builder(new Path(&quot;delta/file.parquet&quot;))\n            .withSchema(schema)\n            .build();\n        GenericRecord record = new GenericData.Record(schema);\n        record.put(&quot;myfield&quot;, &quot;myvalue&quot;);\n        writer.write(record);\n        long size = writer.getDataSize();\n        writer.close();\n        List&lt;Action&gt; actions = List.of(new AddFile(&quot;file.parquet&quot;, new HashMap&lt;String, String&gt;(), size, System.currentTimeMillis(), true, null, null));\n        DeltaLog log = DeltaLog.forTable(new Configuration(), &quot;delta&quot;);\n        OptimisticTransaction txn = log.startTransaction();\n        Metadata metaData = txn.metadata()\n            .copyBuilder()\n            .partitionColumns(new ArrayList&lt;String&gt;())\n            .schema(new StructType()\n                    .add(new StructField(&quot;myfield&quot;, new StringType(), true))).build();\n        txn.updateMetadata(metaData);\n        txn.commit(actions, new Operation(Operation.Name.CREATE_TABLE), &quot;myproject&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28425177,"reputation":31,"user_id":21746650,"display_name":"Venom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696887596,"creation_date":1682527604,"question_id":76113226,"body_markdown":"I am able to read delta table which is created in Amazon S3 using standalone api, but unable to create delta table and insert data to it. In below link for delta lake it is mentioned to use Zappy reader and writer which is fictitious and used as reference.\r\n\r\nI tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?\r\n\r\nhttps://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage\r\n```\r\nZappyDataFrame correctedSaleIdToTotalCost = ...;\r\nZappyDataFrame invalidSales = ZappyReader.readParquet(filteredFiles);\r\nZappyDataFrame correctedSales = invalidSales.join(correctedSaleIdToTotalCost, &quot;id&quot;)\r\n\r\nZappyWriteResult dataWriteResult = ZappyWritter.writeParquet(&quot;/data/sales&quot;, correctedSales);\r\n```\r\n&quot;Please note that this example uses a fictitious, non-Spark engine Zappy to write the actual parquet data, as Delta Standalone does not provide any data-writing APIs. Instead, Delta Standalone Writer lets you commit metadata to the Delta log after you’ve written your data&quot;\r\n\r\nDependencies used - pom.xml\r\n\r\n```\r\n\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n      &lt;version&gt;2.12.12&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n      &lt;artifactId&gt;delta-standalone_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;0.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?","title":"How to create delta table using Delta lake standalone and write data","body":"<p>I am able to read delta table which is created in Amazon S3 using standalone api, but unable to create delta table and insert data to it. In below link for delta lake it is mentioned to use Zappy reader and writer which is fictitious and used as reference.</p>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n<p><a href=\"https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage\" rel=\"nofollow noreferrer\">https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage</a></p>\n<pre><code>ZappyDataFrame correctedSaleIdToTotalCost = ...;\nZappyDataFrame invalidSales = ZappyReader.readParquet(filteredFiles);\nZappyDataFrame correctedSales = invalidSales.join(correctedSaleIdToTotalCost, &quot;id&quot;)\n\nZappyWriteResult dataWriteResult = ZappyWritter.writeParquet(&quot;/data/sales&quot;, correctedSales);\n</code></pre>\n<p>&quot;Please note that this example uses a fictitious, non-Spark engine Zappy to write the actual parquet data, as Delta Standalone does not provide any data-writing APIs. Instead, Delta Standalone Writer lets you commit metadata to the Delta log after you’ve written your data&quot;</p>\n<p>Dependencies used - pom.xml</p>\n<pre><code>\n &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.12.12&lt;/version&gt;\n  &lt;/dependency&gt;\n\n &lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-standalone_2.12&lt;/artifactId&gt;\n      &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n      &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n"},{"tags":["java","node.js","encryption","cryptography","node-crypto"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696887453,"post_id":77261556,"comment_id":136208068,"body_markdown":"Why? Why not just use SSL?","body":"Why? Why not just use SSL?"},{"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"score":0,"creation_date":1696909273,"post_id":77261556,"comment_id":136209630,"body_markdown":"Application already uses TLS and HTTPS but I need to use hybrid encryption also","body":"Application already uses TLS and HTTPS but I need to use hybrid encryption also"},{"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"score":0,"creation_date":1696926949,"post_id":77261556,"comment_id":136211843,"body_markdown":"So conceptual, what are you trying to solve, that TLS don&#39;t solve ?","body":"So conceptual, what are you trying to solve, that TLS don&#39;t solve ?"},{"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"score":0,"creation_date":1696947949,"post_id":77261556,"comment_id":136216049,"body_markdown":"Https connection is already there but security team needs all forms to be encrypted with aes gcm. The application is a high risk application so I can&#39;t simply make the aes key visible on frontend. That&#39;s why I need to encrypt the aes key with RSA public key and send the encrypted aes key to backend. I&#39;m not doing full RSA encryption because if content was big, then RSA encryption would take more time than aes gcm.","body":"Https connection is already there but security team needs all forms to be encrypted with aes gcm. The application is a high risk application so I can&#39;t simply make the aes key visible on frontend. That&#39;s why I need to encrypt the aes key with RSA public key and send the encrypted aes key to backend. I&#39;m not doing full RSA encryption because if content was big, then RSA encryption would take more time than aes gcm."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1696948833,"post_id":77261556,"comment_id":136216243,"body_markdown":"Is i82B... a ciphertext generated with the posted JavaScript? Why does this contain blanks and line breaks? Please post the unmodified Base64 string (e.g. between two slanted single quotes: ``).","body":"Is i82B... a ciphertext generated with the posted JavaScript? Why does this contain blanks and line breaks? Please post the unmodified Base64 string (e.g. between two slanted single quotes: ``)."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1696949607,"post_id":77261556,"comment_id":136216423,"body_markdown":"It is striking that no `+` are contained. This can be by chance, of course, or however the data is changed/corrupted by some post-processing (encoding, messaging, etc.). Maybe you need a Base64url encoding or a URL-encoding.","body":"It is striking that no <code>+</code> are contained. This can be by chance, of course, or however the data is changed/corrupted by some post-processing (encoding, messaging, etc.). Maybe you need a Base64url encoding or a URL-encoding."},{"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"score":0,"creation_date":1696954067,"post_id":77261556,"comment_id":136217354,"body_markdown":"That is what is surprising me. i82B... is the final encrypted string from  aesGCMWithRSAEncryption() which is basically the base64 string of the byte array of encryptedKey l salt | iv | aesEncryptedText | tag. I picked it from the logs of the Java backend. Even though I put validation for checking base64 string, it somehow gets bypassed for times when the string has space and linebreak. The resulting base64 string gets added onto a hidden input field of form and the form is submitted to backend.","body":"That is what is surprising me. i82B... is the final encrypted string from  aesGCMWithRSAEncryption() which is basically the base64 string of the byte array of encryptedKey l salt | iv | aesEncryptedText | tag. I picked it from the logs of the Java backend. Even though I put validation for checking base64 string, it somehow gets bypassed for times when the string has space and linebreak. The resulting base64 string gets added onto a hidden input field of form and the form is submitted to backend."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1696955900,"post_id":77261556,"comment_id":136217715,"body_markdown":"The problem is obviously not the posted code, but is caused by some other detail of your environment. With this information here, the problem probably can&#39;t be identified. One possibility would be to use Base64url (instead of Base64) on the off chance. Or more systematically, follow the path of the data and see at which step the corruption occurs.","body":"The problem is obviously not the posted code, but is caused by some other detail of your environment. With this information here, the problem probably can&#39;t be identified. One possibility would be to use Base64url (instead of Base64) on the off chance. Or more systematically, follow the path of the data and see at which step the corruption occurs."}],"owner":{"account_id":17116762,"reputation":292,"user_id":12386060,"display_name":"Shiladitya Thakur"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696887416,"creation_date":1696882682,"question_id":77261556,"body_markdown":"I have a java backend application that serves jsp for the frontend. This application has several form pages. On submission of a form, the frontend form data would be encrypted with aes 256 gcm and the aes key (generated using pbkdf2 on frontend) would be encrypted with RSA public key. The encrypted key, salt, iv, encryptedContent and tag would be added to buffer and converted to Base64 string. The RSA key pair is generated by Java using KeyPairGenerator class and the public key is sent to frontend.\r\n\r\nThis is more of a conceptual question perhaps because encryption seems to work sometimes and sometimes it fails, that to it can happen on any of the form page randomly which makes the user restart whole process. It would be immensely helpful if someone can please tell me what am I missing here exactly to make it work 100% of the time.\r\n\r\nFrontend code:\r\n\r\n    const crypto = require(&#39;crypto&#39;);\r\n    \r\n    const cryptoConfig = {\r\n      cipherAlgorithm: &#39;aes-256-gcm&#39;,\r\n      iterations: 64000,\r\n      keyLength: 32,\r\n      saltLength: 16,\r\n      ivLength: 12,\r\n      tagLength: 16,\r\n      digest: &#39;sha512&#39;\r\n    };\r\n    \r\n    function aesGCMEncrypt(content, windowId) {\r\n      const salt = crypto.randomBytes(cryptoConfig.saltLength);\r\n      const iv = crypto.randomBytes(cryptoConfig.ivLength);\r\n      const aesKey = crypto.pbkdf2Sync(windowId, salt, cryptoConfig.iterations, cryptoConfig.keyLength, cryptoConfig.digest);\r\n      \r\n    \r\n      const aesKeyB64 = aesKey.toString(&#39;base64&#39;);\r\n      const cipher = crypto.createCipheriv(cryptoConfig.cipherAlgorithm, aesKey, iv);\r\n    \r\n      const encrypted = Buffer.concat([cipher.update(content, &#39;utf8&#39;), cipher.final()]);\r\n      const tag = cipher.getAuthTag();\r\n    \r\n      return { encrypted, salt, iv, tag, aesKeyB64 };\r\n    }\r\n    \r\n    \r\n    function createBuffer(key, salt, iv, encrypted, tag){\r\n      const concatenatedBuffer = Buffer.concat([key, salt, iv, encrypted, tag]);\r\n      return concatenatedBuffer.toString(&#39;base64&#39;);\r\n    }\r\n    \r\n    function convertBase64ToPem(base64PublicKey, keyType) {\r\n      const prefix = `-----BEGIN ${keyType} KEY-----\\n`;\r\n      const postfix = `\\n-----END ${keyType} KEY-----`;\r\n      const base64Lines = base64PublicKey.match(/.{1,64}/g);\r\n      if (base64Lines) {\r\n        const pem = base64Lines.join(&#39;\\n&#39;);\r\n        return `${prefix}${pem}${postfix}`;\r\n      }\r\n      return null;\r\n    }\r\n    \r\n    function encryptWithPublicKey (toEncrypt, pubKey) {\r\n      console.log(&quot;toEncrypt -&gt; &quot;,toEncrypt)\r\n      console.log(&quot;pubKey -&gt; &quot;,pubKey)\r\n      var buffer = Buffer.from(toEncrypt, &#39;utf8&#39;);\r\n      var encrypted = crypto.publicEncrypt({key:pubKey, padding : crypto.constants.RSA_PKCS1_PADDING}, buffer)\r\n      return  encrypted.toString(&quot;base64&quot;); \r\n    }\r\n    \r\n    const b64Check = (b64String) =&gt; {\r\n      return b64String === (btoa(atob(b64String)))\r\n    }\r\n    \r\n    \r\n    const aesGCMWithRSAEncryption = (content, windowId, publicKey) =&gt; {\r\n      let result = null;\r\n      while (!result){debugger;\r\n        try {\r\n          const { encrypted, salt, iv, tag, aesKeyB64 } = aesGCMEncrypt(content, windowId);\r\n          let encryptedAesKey = encryptWithPublicKey(aesKeyB64, convertBase64ToPem(publicKey, &quot;PUBLIC&quot;))\r\n          encryptedAesKey = Buffer.from(encryptedAesKey, &#39;base64&#39;)\r\n          const b64EncString = createBuffer(encryptedAesKey, salt, iv, encrypted, tag) \r\n          if (b64Check(b64EncString)){\r\n            result = b64EncString\r\n          }\r\n        }\r\n        catch(err){ \r\n          continue\r\n        }   \r\n      }\r\n      return result  \r\n    }\r\n    \r\n    const aesGCMWithRSAEncryptionTest = (str) =&gt; {\r\n      let i = 0\r\n      while (i == 0){\r\n        try {\r\n          \r\n          if (b64Check(str)){\r\n            i++\r\n          }\r\n        }\r\n        catch(err){ \r\n          console.log\r\n          continue\r\n        }   \r\n      }\r\n      return result\r\n      \r\n    }\r\n    \r\n    const publicKey = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCmx4wNRE9D/qg/aeYBTBNzTIFptEQBVU9+DOqOBf4ohNAYjWWIUk7fM3HJD2gSQHcP3zwHOF4mfGTVS7ejw7ip1sCL1qzpBMKlJw0XaEwuyigXeshTGbUVCyIXcavdvxuqiko3R92bDoAIpylOAvLtAXjjEJbwVcnAm95v5qF04wIDAQAB&quot;\r\n    const content = &quot;{\\&quot;windowID\\&quot;:\\&quot;MTIz5NDQwOQ==\\&quot;}&quot;;\r\n    const windowId = &quot;123456789&quot;;\r\n    const str = aesGCMWithRSAEncryption(content, windowId, publicKey)\r\n    console.log(&quot;result -&gt; &quot;,str)\r\n    \r\n    \r\n    module.exports = {\r\n      aesGCMWithRSAEncryption: aesGCMWithRSAEncryption\r\n    }\r\n\r\n\r\nWhat I tried to do above is post encryption, if the encrypted string turns out to not to be a valid base64 string then go through the whole encryption process again.\r\nBut during testing, I got below base64 string which apparently reached backend and caused the application to fail giving an error \r\n\r\n    java.lang.IllegalArgumentException: Last unit does not have enough valid bits\r\n\r\n**Invalid base64 string**\r\n\r\n    i82BsXc8DRypceSt44pLm5jWxuzFXcW5er50Rr0wkxIvXcoj\r\n    AAJ0wpsfRL7SUcIfOnJIcLwcU5/9KM3DXP7m0piOCRon0xlUNUn7G KBFQs2JRNH6ZwR3v\r\n    /7lQZWQ0MMSGxvey87pJvGxQUhfdkf4466HMSdtAY5p6kHaKaz4mRKD8UnLFJ\r\n    3m487kVtE5UGrblbrtSGczQK/ zvFNwAEIHpegbt298hQ\r\n    YbsYF1stCe7YbK7oi3QRebBstwl  OyaPAkgeuno9EMrUBMrVBLSD1sT3bFeA5O8NF/3\r\n    k/Wyj2dLIbIBhe4ge2ZlyQJNKAMkQ==\r\n\r\n\r\nI tried to run the string on the test function aesGCMWithRSAEncryptionTest(str) and the base64Check() did throw an exception which got caught by catch block so the application during actual testing time should have had been caught also.\r\n\r\nI can provide more details if required but can anyone please explain me what&#39;s going wrong here? How can I resolve this?","title":"Hybrid encryption of RSA with AES is working yet it fails randomly at times","body":"<p>I have a java backend application that serves jsp for the frontend. This application has several form pages. On submission of a form, the frontend form data would be encrypted with aes 256 gcm and the aes key (generated using pbkdf2 on frontend) would be encrypted with RSA public key. The encrypted key, salt, iv, encryptedContent and tag would be added to buffer and converted to Base64 string. The RSA key pair is generated by Java using KeyPairGenerator class and the public key is sent to frontend.</p>\n<p>This is more of a conceptual question perhaps because encryption seems to work sometimes and sometimes it fails, that to it can happen on any of the form page randomly which makes the user restart whole process. It would be immensely helpful if someone can please tell me what am I missing here exactly to make it work 100% of the time.</p>\n<p>Frontend code:</p>\n<pre><code>const crypto = require('crypto');\n\nconst cryptoConfig = {\n  cipherAlgorithm: 'aes-256-gcm',\n  iterations: 64000,\n  keyLength: 32,\n  saltLength: 16,\n  ivLength: 12,\n  tagLength: 16,\n  digest: 'sha512'\n};\n\nfunction aesGCMEncrypt(content, windowId) {\n  const salt = crypto.randomBytes(cryptoConfig.saltLength);\n  const iv = crypto.randomBytes(cryptoConfig.ivLength);\n  const aesKey = crypto.pbkdf2Sync(windowId, salt, cryptoConfig.iterations, cryptoConfig.keyLength, cryptoConfig.digest);\n  \n\n  const aesKeyB64 = aesKey.toString('base64');\n  const cipher = crypto.createCipheriv(cryptoConfig.cipherAlgorithm, aesKey, iv);\n\n  const encrypted = Buffer.concat([cipher.update(content, 'utf8'), cipher.final()]);\n  const tag = cipher.getAuthTag();\n\n  return { encrypted, salt, iv, tag, aesKeyB64 };\n}\n\n\nfunction createBuffer(key, salt, iv, encrypted, tag){\n  const concatenatedBuffer = Buffer.concat([key, salt, iv, encrypted, tag]);\n  return concatenatedBuffer.toString('base64');\n}\n\nfunction convertBase64ToPem(base64PublicKey, keyType) {\n  const prefix = `-----BEGIN ${keyType} KEY-----\\n`;\n  const postfix = `\\n-----END ${keyType} KEY-----`;\n  const base64Lines = base64PublicKey.match(/.{1,64}/g);\n  if (base64Lines) {\n    const pem = base64Lines.join('\\n');\n    return `${prefix}${pem}${postfix}`;\n  }\n  return null;\n}\n\nfunction encryptWithPublicKey (toEncrypt, pubKey) {\n  console.log(&quot;toEncrypt -&gt; &quot;,toEncrypt)\n  console.log(&quot;pubKey -&gt; &quot;,pubKey)\n  var buffer = Buffer.from(toEncrypt, 'utf8');\n  var encrypted = crypto.publicEncrypt({key:pubKey, padding : crypto.constants.RSA_PKCS1_PADDING}, buffer)\n  return  encrypted.toString(&quot;base64&quot;); \n}\n\nconst b64Check = (b64String) =&gt; {\n  return b64String === (btoa(atob(b64String)))\n}\n\n\nconst aesGCMWithRSAEncryption = (content, windowId, publicKey) =&gt; {\n  let result = null;\n  while (!result){debugger;\n    try {\n      const { encrypted, salt, iv, tag, aesKeyB64 } = aesGCMEncrypt(content, windowId);\n      let encryptedAesKey = encryptWithPublicKey(aesKeyB64, convertBase64ToPem(publicKey, &quot;PUBLIC&quot;))\n      encryptedAesKey = Buffer.from(encryptedAesKey, 'base64')\n      const b64EncString = createBuffer(encryptedAesKey, salt, iv, encrypted, tag) \n      if (b64Check(b64EncString)){\n        result = b64EncString\n      }\n    }\n    catch(err){ \n      continue\n    }   \n  }\n  return result  \n}\n\nconst aesGCMWithRSAEncryptionTest = (str) =&gt; {\n  let i = 0\n  while (i == 0){\n    try {\n      \n      if (b64Check(str)){\n        i++\n      }\n    }\n    catch(err){ \n      console.log\n      continue\n    }   \n  }\n  return result\n  \n}\n\nconst publicKey = &quot;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCmx4wNRE9D/qg/aeYBTBNzTIFptEQBVU9+DOqOBf4ohNAYjWWIUk7fM3HJD2gSQHcP3zwHOF4mfGTVS7ejw7ip1sCL1qzpBMKlJw0XaEwuyigXeshTGbUVCyIXcavdvxuqiko3R92bDoAIpylOAvLtAXjjEJbwVcnAm95v5qF04wIDAQAB&quot;\nconst content = &quot;{\\&quot;windowID\\&quot;:\\&quot;MTIz5NDQwOQ==\\&quot;}&quot;;\nconst windowId = &quot;123456789&quot;;\nconst str = aesGCMWithRSAEncryption(content, windowId, publicKey)\nconsole.log(&quot;result -&gt; &quot;,str)\n\n\nmodule.exports = {\n  aesGCMWithRSAEncryption: aesGCMWithRSAEncryption\n}\n</code></pre>\n<p>What I tried to do above is post encryption, if the encrypted string turns out to not to be a valid base64 string then go through the whole encryption process again.\nBut during testing, I got below base64 string which apparently reached backend and caused the application to fail giving an error</p>\n<pre><code>java.lang.IllegalArgumentException: Last unit does not have enough valid bits\n</code></pre>\n<p><strong>Invalid base64 string</strong></p>\n<pre><code>i82BsXc8DRypceSt44pLm5jWxuzFXcW5er50Rr0wkxIvXcoj\nAAJ0wpsfRL7SUcIfOnJIcLwcU5/9KM3DXP7m0piOCRon0xlUNUn7G KBFQs2JRNH6ZwR3v\n/7lQZWQ0MMSGxvey87pJvGxQUhfdkf4466HMSdtAY5p6kHaKaz4mRKD8UnLFJ\n3m487kVtE5UGrblbrtSGczQK/ zvFNwAEIHpegbt298hQ\nYbsYF1stCe7YbK7oi3QRebBstwl  OyaPAkgeuno9EMrUBMrVBLSD1sT3bFeA5O8NF/3\nk/Wyj2dLIbIBhe4ge2ZlyQJNKAMkQ==\n</code></pre>\n<p>I tried to run the string on the test function aesGCMWithRSAEncryptionTest(str) and the base64Check() did throw an exception which got caught by catch block so the application during actual testing time should have had been caught also.</p>\n<p>I can provide more details if required but can anyone please explain me what's going wrong here? How can I resolve this?</p>\n"},{"tags":["java","static","static-methods","non-static"],"answers":[{"tags":[],"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"down_vote_count":0,"up_vote_count":188,"is_accepted":true,"score":188,"last_activity_date":1643733761,"creation_date":1345141130,"answer_id":11993118,"question_id":11993077,"body_markdown":"The basic paradigm in Java is that you write classes, and that those classes are instantiated. Instantiated objects (an instance of a class) have attributes associated with them (member variables) that affect their behavior; when the instance has its method executed it will refer to these variables.\r\n\r\nHowever, all objects of a particular type might have behavior that is not dependent at all on member variables; these methods are best made static. By being static, no instance of the class is required to run the method.\r\n\r\nYou can do this to execute a static method:\r\n\r\n    MyClass.staticMethod();  // Simply refers to the class&#39;s static code\r\n\r\nBut to execute a non-static method, you must do this:\r\n\r\n    MyClass obj = new MyClass();  //Create an instance\r\n    obj.nonstaticMethod();  // Refer to the instance&#39;s class&#39;s code\r\n\r\nOn a deeper level the compiler, when it puts a class together, collects pointers to methods and attaches them to the class. When those methods are executed it follows the pointers and executes the code at the far end. If a class is instantiated, the created object contains a pointer to the &quot;virtual method table&quot;, which points to the methods to be called for that particular class in the inheritance hierarchy. However, if the method is static, no &quot;virtual method table&quot; is needed: all calls to that method go to the exact same place in memory to execute the exact same code. For that reason, in high-performance systems it&#39;s better to use a static method if you are not reliant on instance variables.","title":"Difference between Static methods and Instance methods","body":"<p>The basic paradigm in Java is that you write classes, and that those classes are instantiated. Instantiated objects (an instance of a class) have attributes associated with them (member variables) that affect their behavior; when the instance has its method executed it will refer to these variables.</p>\n<p>However, all objects of a particular type might have behavior that is not dependent at all on member variables; these methods are best made static. By being static, no instance of the class is required to run the method.</p>\n<p>You can do this to execute a static method:</p>\n<pre><code>MyClass.staticMethod();  // Simply refers to the class's static code\n</code></pre>\n<p>But to execute a non-static method, you must do this:</p>\n<pre><code>MyClass obj = new MyClass();  //Create an instance\nobj.nonstaticMethod();  // Refer to the instance's class's code\n</code></pre>\n<p>On a deeper level the compiler, when it puts a class together, collects pointers to methods and attaches them to the class. When those methods are executed it follows the pointers and executes the code at the far end. If a class is instantiated, the created object contains a pointer to the &quot;virtual method table&quot;, which points to the methods to be called for that particular class in the inheritance hierarchy. However, if the method is static, no &quot;virtual method table&quot; is needed: all calls to that method go to the exact same place in memory to execute the exact same code. For that reason, in high-performance systems it's better to use a static method if you are not reliant on instance variables.</p>\n"},{"tags":[],"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1345141213,"creation_date":1345141213,"answer_id":11993143,"question_id":11993077,"body_markdown":"The static modifier when placed in front of a function implies that only one copy of that function exists. If the static modifier is not placed in front of the function then with every object or instance of that class a new copy of that function is made. :)\r\nSame is the case with variables.","title":"Difference between Static methods and Instance methods","body":"<p>The static modifier when placed in front of a function implies that only one copy of that function exists. If the static modifier is not placed in front of the function then with every object or instance of that class a new copy of that function is made. :)\nSame is the case with variables.</p>\n"},{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1345141452,"creation_date":1345141452,"answer_id":11993209,"question_id":11993077,"body_markdown":"Static methods, variables belongs to the whole class, not just an object instance. A static method, variable is associated with the class as a whole rather than with specific instances of a class. Each object will share a common copy of the static methods, variables. There is only one copy per class, no matter how many objects are created from it.","title":"Difference between Static methods and Instance methods","body":"<p>Static methods, variables belongs to the whole class, not just an object instance. A static method, variable is associated with the class as a whole rather than with specific instances of a class. Each object will share a common copy of the static methods, variables. There is only one copy per class, no matter how many objects are created from it.</p>\n"},{"tags":[],"owner":{"account_id":6568832,"reputation":191,"user_id":5077562,"display_name":"Khalid Ahmed Khichi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1457352370,"creation_date":1435922666,"answer_id":31205688,"question_id":11993077,"body_markdown":"Methods and variables that are not declared as static are known as instance methods and instance variables. To refer to instance methods and variables, you must instantiate the class first means you should create an object of that class first.For static you don&#39;t need to instantiate the class u can access the methods and variables with the class name using period sign which is in (.)\r\n\r\n**for example:**\r\n\r\n    Person.staticMethod();           //accessing static method.\r\n\r\nfor non-static method you must instantiate the class.\r\n\r\n    Person person1 = new Person();   //instantiating\r\n    person1.nonStaticMethod();       //accessing non-static method.\r\n\r\n","title":"Difference between Static methods and Instance methods","body":"<p>Methods and variables that are not declared as static are known as instance methods and instance variables. To refer to instance methods and variables, you must instantiate the class first means you should create an object of that class first.For static you don't need to instantiate the class u can access the methods and variables with the class name using period sign which is in (.)</p>\n\n<p><strong>for example:</strong></p>\n\n<pre><code>Person.staticMethod();           //accessing static method.\n</code></pre>\n\n<p>for non-static method you must instantiate the class.</p>\n\n<pre><code>Person person1 = new Person();   //instantiating\nperson1.nonStaticMethod();       //accessing non-static method.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7971702,"reputation":381,"user_id":6016143,"display_name":"Vishal Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485908410,"creation_date":1461044149,"answer_id":36709436,"question_id":11993077,"body_markdown":"The behavior of an object depends on the variables and the methods of that class. When we create a class we create an object for it. For static methods, we don&#39;t require them as static methods means all the objects will have the same copy so there is no need of an object.\r\ne.g:\r\n\r\n    Myclass.get();\r\n\r\nIn instance method each object will have different behaviour so they have to call the method using the object instance.\r\ne.g:\r\n    \r\n    Myclass x = new Myclass();\r\n    x.get();","title":"Difference between Static methods and Instance methods","body":"<p>The behavior of an object depends on the variables and the methods of that class. When we create a class we create an object for it. For static methods, we don't require them as static methods means all the objects will have the same copy so there is no need of an object.\ne.g:</p>\n\n<pre><code>Myclass.get();\n</code></pre>\n\n<p>In instance method each object will have different behaviour so they have to call the method using the object instance.\ne.g:</p>\n\n<pre><code>Myclass x = new Myclass();\nx.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8845091,"reputation":469,"user_id":6606123,"display_name":"suketup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471306834,"creation_date":1471306834,"answer_id":38964853,"question_id":11993077,"body_markdown":"If state of a method is not supposed to be changed or its not going to use any instance variables.\r\n\r\nYou want to call method without instance.\r\n\r\nIf it only works on arguments provided to it.\r\n\r\nUtility functions are good instance of static methods. i.e math.pow(), this function is not going to change the state for different values. So it is static.\r\n\r\n","title":"Difference between Static methods and Instance methods","body":"<p>If state of a method is not supposed to be changed or its not going to use any instance variables.</p>\n\n<p>You want to call method without instance.</p>\n\n<p>If it only works on arguments provided to it.</p>\n\n<p>Utility functions are good instance of static methods. i.e math.pow(), this function is not going to change the state for different values. So it is static.</p>\n"},{"tags":[],"owner":{"account_id":8408026,"reputation":774,"user_id":6310938,"display_name":"Eldiyar Talantbek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1471898013,"creation_date":1471880107,"answer_id":39083542,"question_id":11993077,"body_markdown":"**Instance methods** =&gt; invoked on specific instance of a specific class. Method wants to know upon which class it was invoked. The way it happens there is a invisible parameter called &#39;this&#39;. Inside of &#39;this&#39; we have members of instance class already set with values. &#39;This&#39; is not a variable. It&#39;s a value, you cannot change it and the value is reference to the receiver of the call.\n**Ex:** You call repairmen(instance method) to fix your TV(actual program). He comes with tools(&#39;this&#39; parameter). He comes with specific tools needed for fixing TV and he can fix other things also.\n\n  In **static methods** =&gt; there is no such thing as &#39;this&#39;. \n**Ex:** The same repairman (static method). When you call him you have to specify which repairman to call(like electrician). And he will come and fix your TV only. But, he doesn&#39;t have tools to fix other things (there is no &#39;this&#39; parameter). \n\n**Static methods** are usually useful for operations that don&#39;t require any data from an instance of the class (from&#160;&#39;this&#39;) and can perform their intended purpose solely using their arguments.\n","title":"Difference between Static methods and Instance methods","body":"<p><strong>Instance methods</strong> =&gt; invoked on specific instance of a specific class. Method wants to know upon which class it was invoked. The way it happens there is a invisible parameter called 'this'. Inside of 'this' we have members of instance class already set with values. 'This' is not a variable. It's a value, you cannot change it and the value is reference to the receiver of the call.\n<strong>Ex:</strong> You call repairmen(instance method) to fix your TV(actual program). He comes with tools('this' parameter). He comes with specific tools needed for fixing TV and he can fix other things also.</p>\n<p>In <strong>static methods</strong> =&gt; there is no such thing as 'this'.\n<strong>Ex:</strong> The same repairman (static method). When you call him you have to specify which repairman to call(like electrician). And he will come and fix your TV only. But, he doesn't have tools to fix other things (there is no 'this' parameter).</p>\n<p><strong>Static methods</strong> are usually useful for operations that don't require any data from an instance of the class (from 'this') and can perform their intended purpose solely using their arguments.</p>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1491157779,"creation_date":1491157074,"answer_id":43171873,"question_id":11993077,"body_markdown":"Difference between Static methods and Instance methods\r\n------------------------------------------------------\r\n\r\n 1. Instance method are methods which require an object of its class to be created before it can be called. Static methods are the methods in Java that can be called without creating an object of class.\r\n\r\n 1. Static method is  declared with static keyword. Instance method is not with static keyword.\r\n  \r\n 2. Static method means which will exist as a single copy for a class. But instance methods exist as multiple copies depending on the number of instances created for that class. \r\n\r\n 3. Static methods can be invoked by using class reference. Instance or non static methods are invoked by using object reference. \r\n\r\n 4. Static methods can’t access instance methods and instance variables directly. Instance method can access static variables and static methods directly.\r\n\r\n\r\nReference : [geeksforgeeks][1]\r\n\r\n\r\n  [1]: http://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/","title":"Difference between Static methods and Instance methods","body":"<h2>Difference between Static methods and Instance methods</h2>\n\n<ol>\n<li><p>Instance method are methods which require an object of its class to be created before it can be called. Static methods are the methods in Java that can be called without creating an object of class.</p></li>\n<li><p>Static method is  declared with static keyword. Instance method is not with static keyword.</p></li>\n<li><p>Static method means which will exist as a single copy for a class. But instance methods exist as multiple copies depending on the number of instances created for that class. </p></li>\n<li><p>Static methods can be invoked by using class reference. Instance or non static methods are invoked by using object reference. </p></li>\n<li><p>Static methods can’t access instance methods and instance variables directly. Instance method can access static variables and static methods directly.</p></li>\n</ol>\n\n<p>Reference : <a href=\"http://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/\" rel=\"noreferrer\">geeksforgeeks</a></p>\n"},{"tags":[],"owner":{"account_id":8434389,"reputation":378,"user_id":6328971,"accept_rate":27,"display_name":"Prakash"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1498105632,"creation_date":1498105632,"answer_id":44690140,"question_id":11993077,"body_markdown":"In short, static methods and static variables are class level where as instance methods and instance variables are instance or object level.\r\n\r\n This means whenever a instance or object (using new ClassName()) is created, this object will retain its own copy of instace variables. If you have five different objects of same class, you will have five different copies of the instance variables. But the static variables and methods will be the same for all those five objects. If you need something common to be used by each object created make it static. If you need a method which won&#39;t need object specific data to work, make it static. The static method will only work with static variable or will return data on the basis of passed arguments.\r\n\r\n    class A {\r\n        int a;\r\n        int b;\r\n        \r\n        public void setParameters(int a, int b){\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n        public int add(){\r\n            return this.a + this.b;\r\n       }\r\n    \r\n        public static returnSum(int s1, int s2){\r\n            return (s1 + s2);\r\n        }\r\n    }\r\n\r\nIn the above example, when you call add() as:\r\n\r\n    A objA = new A();\r\n    objA.setParameters(1,2); //since it is instance method, call it using object\r\n    objA.add(); // returns 3 \r\n    \r\n    B objB = new B();\r\n    objB.setParameters(3,2);\r\n    objB.add(); // returns 5\r\n    \r\n    //calling static method\r\n    // since it is a class level method, you can call it using class itself\r\n    A.returnSum(4,6); //returns 10\r\n    \r\n    class B{\r\n        int s=8;\r\n        int t = 8;\r\n        public addition(int s,int t){\r\n           A.returnSum(s,t);//returns 16\r\n        }\r\n    }\r\n\r\nIn first class, add() will return the sum of data passed by a specific object. But the static method can be used to get the sum from any class not independent if any specific instance or object. Hence, for generic methods which only need arguments to work can be made static to keep it all DRY.\r\n","title":"Difference between Static methods and Instance methods","body":"<p>In short, static methods and static variables are class level where as instance methods and instance variables are instance or object level.</p>\n\n<p>This means whenever a instance or object (using new ClassName()) is created, this object will retain its own copy of instace variables. If you have five different objects of same class, you will have five different copies of the instance variables. But the static variables and methods will be the same for all those five objects. If you need something common to be used by each object created make it static. If you need a method which won't need object specific data to work, make it static. The static method will only work with static variable or will return data on the basis of passed arguments.</p>\n\n<pre><code>class A {\n    int a;\n    int b;\n\n    public void setParameters(int a, int b){\n        this.a = a;\n        this.b = b;\n    }\n    public int add(){\n        return this.a + this.b;\n   }\n\n    public static returnSum(int s1, int s2){\n        return (s1 + s2);\n    }\n}\n</code></pre>\n\n<p>In the above example, when you call add() as:</p>\n\n<pre><code>A objA = new A();\nobjA.setParameters(1,2); //since it is instance method, call it using object\nobjA.add(); // returns 3 \n\nB objB = new B();\nobjB.setParameters(3,2);\nobjB.add(); // returns 5\n\n//calling static method\n// since it is a class level method, you can call it using class itself\nA.returnSum(4,6); //returns 10\n\nclass B{\n    int s=8;\n    int t = 8;\n    public addition(int s,int t){\n       A.returnSum(s,t);//returns 16\n    }\n}\n</code></pre>\n\n<p>In first class, add() will return the sum of data passed by a specific object. But the static method can be used to get the sum from any class not independent if any specific instance or object. Hence, for generic methods which only need arguments to work can be made static to keep it all DRY.</p>\n"},{"tags":[],"owner":{"account_id":21237976,"reputation":213,"user_id":15621907,"display_name":"vitoboski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620274559,"creation_date":1620210495,"answer_id":67399528,"question_id":11993077,"body_markdown":"Static Methods vs Instance methods \r\n    \r\nConstructor: \r\n```    \r\nconst Person = function (birthYear) {\r\n  this.birthYear = birthYear;\r\n}\r\n```    \r\nInstance Method -&gt; Available\r\n```    \r\nPerson.prototype.calcAge = function () {\r\n  2037 - this.birthYear);\r\n} \r\n```    \r\nStatic Method -&gt; Not available \r\n```\r\nPerson.hey = function(){\r\n  console.log(&#39;Hey&#39;)\r\n}\r\n```    \r\nClass: \r\n```    \r\nclass PersonCl {\r\n    constructor(birthYear) {\r\n      this.birthYear = birthYear;\r\n    } \r\n\r\n    /**\r\n     * Instance Method -&gt; Available to instances\r\n     */\r\n    calcAge() {  \r\n        console.log(2037 - this.birthYear);\r\n    }\r\n    \r\n    /**\r\n     * Static method -&gt; Not available to instances\r\n     */\r\n    static hey() { \r\n        console.log(&#39;Static HEY ! &#39;);\r\n    }\r\n}\r\n```","title":"Difference between Static methods and Instance methods","body":"<p>Static Methods vs Instance methods</p>\n<p>Constructor:</p>\n<pre><code>const Person = function (birthYear) {\n  this.birthYear = birthYear;\n}\n</code></pre>\n<p>Instance Method -&gt; Available</p>\n<pre><code>Person.prototype.calcAge = function () {\n  2037 - this.birthYear);\n} \n</code></pre>\n<p>Static Method -&gt; Not available</p>\n<pre><code>Person.hey = function(){\n  console.log('Hey')\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>class PersonCl {\n    constructor(birthYear) {\n      this.birthYear = birthYear;\n    } \n\n    /**\n     * Instance Method -&gt; Available to instances\n     */\n    calcAge() {  \n        console.log(2037 - this.birthYear);\n    }\n    \n    /**\n     * Static method -&gt; Not available to instances\n     */\n    static hey() { \n        console.log('Static HEY ! ');\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696886753,"creation_date":1696864147,"answer_id":77259957,"question_id":11993077,"body_markdown":"Many answers already exist here, and no one points out that **static methods cannot be overridden** in Java, so they do not allow **polymorphism**, which, with inheritance, is the heart of object-oriented programming.","title":"Difference between Static methods and Instance methods","body":"<p>Many answers already exist here, and no one points out that <strong>static methods cannot be overridden</strong> in Java, so they do not allow <strong>polymorphism</strong>, which, with inheritance, is the heart of object-oriented programming.</p>\n"}],"owner":{"account_id":1624434,"reputation":1605,"user_id":1500291,"accept_rate":88,"display_name":"Panthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254186,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":11993118,"answer_count":11,"score":104,"last_activity_date":1696886753,"creation_date":1345140922,"question_id":11993077,"body_markdown":"I was just reading over the text given to me in my textbook and I&#39;m not really sure I understand what it is saying. It&#39;s basically telling me that static methods or class methods include the &quot;modifier&quot; keyword static. But I don&#39;t really know what that means?\n\nCould someone please explain to me in really simple terms what Static or Class Methods are?\n\nAlso, could I get a simple explanation on what Instance methods are?\n\nThis is what they give me in the textbook:\n\n&gt; There are important practical implications of the presence or absence of the static modifier. A public class method may be invoked and executed as soon as Java processes the definition of the class to which it belongs. That is not the case for an instance method. Before a public instance method may be invoked and executed, an instance must be created of the class to which it belongs. To use a public class method, you just need the class. On the other hand, before you can use a public instance method you must have an instance of the class.\n&gt;\n&gt; The manner in which a static method is invoked within the definition of another method varies according to whether or not the two methods belong to the same class. In the example above, factorial and main are both methods of the MainClass class. As a result, the invocation of factorial in the definition of main simply references the method name, &quot;factorial&quot;.","title":"Difference between Static methods and Instance methods","body":"<p>I was just reading over the text given to me in my textbook and I'm not really sure I understand what it is saying. It's basically telling me that static methods or class methods include the &quot;modifier&quot; keyword static. But I don't really know what that means?</p>\n<p>Could someone please explain to me in really simple terms what Static or Class Methods are?</p>\n<p>Also, could I get a simple explanation on what Instance methods are?</p>\n<p>This is what they give me in the textbook:</p>\n<blockquote>\n<p>There are important practical implications of the presence or absence of the static modifier. A public class method may be invoked and executed as soon as Java processes the definition of the class to which it belongs. That is not the case for an instance method. Before a public instance method may be invoked and executed, an instance must be created of the class to which it belongs. To use a public class method, you just need the class. On the other hand, before you can use a public instance method you must have an instance of the class.</p>\n<p>The manner in which a static method is invoked within the definition of another method varies according to whether or not the two methods belong to the same class. In the example above, factorial and main are both methods of the MainClass class. As a result, the invocation of factorial in the definition of main simply references the method name, &quot;factorial&quot;.</p>\n</blockquote>\n"},{"tags":["java","jvm","jvm-arguments"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1696886427,"creation_date":1362381418,"answer_id":15196421,"question_id":15196373,"body_markdown":"&gt; it’s not explained\r\n\r\nCertainly it is. From the [page](http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm) you cited: \r\n\r\n&gt; Some command-line options use the HotSpot implementation format; that\r\n&gt; is, you must place the colon (:) between the -XX and the option name\r\n&gt; followed by a the necessary operator to indicate enabling (+) or\r\n&gt; disabling (-) the new hash function.","title":"What is the difference between -HeapDumpOnOutOfMemoryError and +HeapDumpOnOutOfMemoryError options?","body":"<blockquote>\n<p>it’s not explained</p>\n</blockquote>\n<p>Certainly it is. From the <a href=\"http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm\" rel=\"nofollow noreferrer\">page</a> you cited:</p>\n<blockquote>\n<p>Some command-line options use the HotSpot implementation format; that\nis, you must place the colon (:) between the -XX and the option name\nfollowed by a the necessary operator to indicate enabling (+) or\ndisabling (-) the new hash function.</p>\n</blockquote>\n"}],"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2663,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":15196421,"answer_count":1,"score":9,"last_activity_date":1696886427,"creation_date":1362381217,"question_id":15196373,"body_markdown":"In Oracle&#39;s [official doc][1] `HeapDumpOnOutOfMemoryError` option specified with plus and minus sign. I&#39;m just curious what do they stand for since it&#39;s not explained in official user guide\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm#BABJIDID","title":"What is the difference between -HeapDumpOnOutOfMemoryError and +HeapDumpOnOutOfMemoryError options?","body":"<p>In Oracle's <a href=\"http://docs.oracle.com/cd/E15289_01/doc.40/e15062/optionxx.htm#BABJIDID\" rel=\"noreferrer\">official doc</a> <code>HeapDumpOnOutOfMemoryError</code> option specified with plus and minus sign. I'm just curious what do they stand for since it's not explained in official user guide</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1696782970,"post_id":77254206,"comment_id":136194466,"body_markdown":"This sounds almost exactly like what [ExecutorService.invokeAll](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)) does.","body":"This sounds almost exactly like what <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\" rel=\"nofollow noreferrer\">ExecutorService.invokeAll</a> does."},{"owner":{"account_id":2327072,"reputation":7733,"user_id":2041317,"accept_rate":100,"display_name":"cup"},"score":1,"creation_date":1696784749,"post_id":77254206,"comment_id":136194640,"body_markdown":"Look up _thread pools in Java_ lots of hits","body":"Look up <i>thread pools in Java</i> lots of hits"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696886011,"creation_date":1696780500,"answer_id":77254290,"question_id":77254206,"body_markdown":"# Executor service\r\n\r\nSeems like you are re-inventing [`ExecutorService`][1]. \r\n\r\n    ExecutorService es = Executors.newFixedThreadPool( 10 ) ;\r\n\r\nSubmit your tasks as objects implementing [`Runnable`][2] or `Callable`. The executor service handles assigning the task to an available thread. \r\n\r\nBe sure to properly shutdown the executor service. See boilerplate code given in the Javadoc. Or automatically close using try-with-resources syntax. \r\n\r\nSearch Stack Overflow for more info and many examples. \r\n\r\n\r\n## Virtual threads\r\n\r\nIf your tasks involve [blocking][3] (they are not [CPU-bound][4]), consider using [virtual threads][5] in Java 21+. \r\n\r\n### Example code\r\n\r\nHere is example code. We start with ten inputs, a collection of `Integer` objects. Our task is to print each of these numbers to the console, concurrently. We create a new fresh virtual thread for each of these tasks. When complete, the virtual thread terminates and is then discarded.\r\n\r\n```java\r\nSequencedCollection &lt; Integer &gt; inputs = IntStream.rangeClosed ( 1 , 10 ).boxed ( ).toList ( );\r\ntry (\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n)\r\n{\r\n    for ( Integer input : inputs )\r\n    {\r\n        Runnable task = ( ) -&gt; System.out.println ( input );\r\n        executorService.submit ( task );\r\n    }\r\n}\r\n```\r\n\r\nRun.\r\n\r\n```none\r\nINFO - Demo begin. 2023-10-09T21:12:28.634400Z\r\n1\r\n6\r\n7\r\n8\r\n10\r\n3\r\n2\r\n4\r\n5\r\n9\r\nINFO - Demo end. 2023-10-09T21:12:28.647095Z\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Runnable.html\r\n  [3]: https://en.m.wikipedia.org/wiki/Blocking_(computing)\r\n  [4]: https://en.m.wikipedia.org/wiki/CPU-bound\r\n  [5]: https://openjdk.org/jeps/444","title":"Is it possible to make number of 10 threads Which will be in an Arraylist?","body":"<h1>Executor service</h1>\n<p>Seems like you are re-inventing <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>.</p>\n<pre><code>ExecutorService es = Executors.newFixedThreadPool( 10 ) ;\n</code></pre>\n<p>Submit your tasks as objects implementing <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or <code>Callable</code>. The executor service handles assigning the task to an available thread.</p>\n<p>Be sure to properly shutdown the executor service. See boilerplate code given in the Javadoc. Or automatically close using try-with-resources syntax.</p>\n<p>Search Stack Overflow for more info and many examples.</p>\n<h2>Virtual threads</h2>\n<p>If your tasks involve <a href=\"https://en.m.wikipedia.org/wiki/Blocking_(computing)\" rel=\"nofollow noreferrer\">blocking</a> (they are not <a href=\"https://en.m.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a>), consider using <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> in Java 21+.</p>\n<h3>Example code</h3>\n<p>Here is example code. We start with ten inputs, a collection of <code>Integer</code> objects. Our task is to print each of these numbers to the console, concurrently. We create a new fresh virtual thread for each of these tasks. When complete, the virtual thread terminates and is then discarded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; Integer &gt; inputs = IntStream.rangeClosed ( 1 , 10 ).boxed ( ).toList ( );\ntry (\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n)\n{\n    for ( Integer input : inputs )\n    {\n        Runnable task = ( ) -&gt; System.out.println ( input );\n        executorService.submit ( task );\n    }\n}\n</code></pre>\n<p>Run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo begin. 2023-10-09T21:12:28.634400Z\n1\n6\n7\n8\n10\n3\n2\n4\n5\n9\nINFO - Demo end. 2023-10-09T21:12:28.647095Z\n</code></pre>\n"}],"owner":{"account_id":13212739,"reputation":1,"user_id":19965154,"display_name":"Polash"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696885791,"answer_count":1,"score":0,"last_activity_date":1696886011,"creation_date":1696779063,"question_id":77254206,"body_markdown":"\r\nIs it possible to make number of 10 threads Which will be in an Arraylist. \r\nCan I take threads from that Arraylist and make the threads do the work and give it back to the Arraylist.\r\nHow can I do it\r\nHere are the sample code\r\n\r\n```\r\nthreads = new ArrayList&lt;&gt;(10);\r\n\r\nfor (int i = 0; i &lt; numThreads; i++) {\r\n    WorkerThread thread = new WorkerThread(threads);\r\n    threads.add(thread);\r\n    threads.add(thread);\r\n    thread.start();\r\n}\r\n```\r\n\r\nAfter doing the task can I remove it from Arraylist and again add it to The Arraylist to do another task.\r\n","title":"Is it possible to make number of 10 threads Which will be in an Arraylist?","body":"<p>Is it possible to make number of 10 threads Which will be in an Arraylist.\nCan I take threads from that Arraylist and make the threads do the work and give it back to the Arraylist.\nHow can I do it\nHere are the sample code</p>\n<pre><code>threads = new ArrayList&lt;&gt;(10);\n\nfor (int i = 0; i &lt; numThreads; i++) {\n    WorkerThread thread = new WorkerThread(threads);\n    threads.add(thread);\n    threads.add(thread);\n    thread.start();\n}\n</code></pre>\n<p>After doing the task can I remove it from Arraylist and again add it to The Arraylist to do another task.</p>\n"},{"tags":["java","spring","axon"],"comments":[{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":0,"creation_date":1696923441,"post_id":77260291,"comment_id":136211249,"body_markdown":"Hi Johnyb. Not so much a reply to your Axon Server (@schananas his reply should help there), but I wanted to nudge you about the Axon Framework version. Axon Framework is currently on release 4.8.2, which has some tremendous improvements over 4.5. On of these is making the connection between Axon Framework and Axon Server more robust, for example. Thought you might want to know that!","body":"Hi Johnyb. Not so much a reply to your Axon Server (@schananas his reply should help there), but I wanted to nudge you about the Axon Framework version. Axon Framework is currently on release 4.8.2, which has some tremendous improvements over 4.5. On of these is making the connection between Axon Framework and Axon Server more robust, for example. Thought you might want to know that!"}],"answers":[{"tags":[],"owner":{"account_id":1522363,"reputation":403,"user_id":1421696,"display_name":"schananas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696874936,"creation_date":1696874936,"answer_id":77260954,"question_id":77260291,"body_markdown":"Try running Axon Server with following env property set:\r\n\r\n    AXONIQ_AXONSERVER_STANDALONE=true","title":"Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group","body":"<p>Try running Axon Server with following env property set:</p>\n<pre><code>AXONIQ_AXONSERVER_STANDALONE=true\n</code></pre>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696884722,"creation_date":1696867368,"question_id":77260291,"body_markdown":"I am trying to create basic example of SAGA with `AxonServer`\r\n\r\nI am using `AxonServer-2023.1.2` :\r\n\r\n    2023-10-09 17:30:11.072  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-10-09 17:30:14.683  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8024 (http)\r\n    2023-10-09 17:30:14.843  INFO 11540 --- [           main] A.i.a.a.c.MessagingPlatformConfiguration : Configuration initialized with SSL DISABLED and access control DISABLED.\r\n    2023-10-09 17:30:15.814  WARN 11540 --- [           main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema &quot;PUBLIC&quot; may not be reproducible.\r\n    2023-10-09 17:30:17.626  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Axon Server version 2023.1.2\r\n    2023-10-09 17:30:23.367  INFO 11540 --- [           main] i.a.a.e.c.i.MessagingClusterServer       : Axon Server Cluster Server started on port: 8224 - no SSL\r\n    2023-10-09 17:30:23.507  INFO 11540 --- [           main] io.axoniq.axonserver.grpc.Gateway        : Axon Server Gateway started on port: 8124 - no SSL\r\n    2023-10-09 17:30:23.520  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8024 (http) with context path &#39;&#39;\r\n    2023-10-09 17:30:23.550  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Started AxonServer in 13.045 seconds (JVM running for 13.932)\r\n    2023-10-09 17:30:30.296  INFO 11540 --- [nio-8024-exec-8] i.a.a.a.c.r.ContextAdminRequestProcessor : [&lt;anonymous&gt;] Request to list contexts.\r\n\r\n\r\nI have empty spring-boot application\r\n\r\n\r\n    @SpringBootApplication\r\n    public class OrderServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(OrderServiceApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\nbut im stuck with in loop on running the app:\r\n\r\n    i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124\r\n    i.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group\r\n    i.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms\r\n\r\nI am using this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat is cuasing this? The console on webpage on port 8024 works fine, so why isnt the 8124 port working?\r\n\r\nThanks for help","title":"Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group","body":"<p>I am trying to create basic example of SAGA with <code>AxonServer</code></p>\n<p>I am using <code>AxonServer-2023.1.2</code> :</p>\n<pre><code>2023-10-09 17:30:11.072  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-09 17:30:14.683  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8024 (http)\n2023-10-09 17:30:14.843  INFO 11540 --- [           main] A.i.a.a.c.MessagingPlatformConfiguration : Configuration initialized with SSL DISABLED and access control DISABLED.\n2023-10-09 17:30:15.814  WARN 11540 --- [           main] o.f.core.internal.command.DbMigrate      : outOfOrder mode is active. Migration of schema &quot;PUBLIC&quot; may not be reproducible.\n2023-10-09 17:30:17.626  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Axon Server version 2023.1.2\n2023-10-09 17:30:23.367  INFO 11540 --- [           main] i.a.a.e.c.i.MessagingClusterServer       : Axon Server Cluster Server started on port: 8224 - no SSL\n2023-10-09 17:30:23.507  INFO 11540 --- [           main] io.axoniq.axonserver.grpc.Gateway        : Axon Server Gateway started on port: 8124 - no SSL\n2023-10-09 17:30:23.520  INFO 11540 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8024 (http) with context path ''\n2023-10-09 17:30:23.550  INFO 11540 --- [           main] io.axoniq.axonserver.AxonServer          : Started AxonServer in 13.045 seconds (JVM running for 13.932)\n2023-10-09 17:30:30.296  INFO 11540 --- [nio-8024-exec-8] i.a.a.a.c.r.ContextAdminRequestProcessor : [&lt;anonymous&gt;] Request to list contexts.\n</code></pre>\n<p>I have empty spring-boot application</p>\n<pre><code>@SpringBootApplication\npublic class OrderServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OrderServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>but im stuck with in loop on running the app:</p>\n<pre><code>i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124\ni.a.a.c.impl.AxonServerManagedChannel    : Connecting to AxonServer node [localhost:8124] failed: NOT_FOUND: [AXONIQ-1302] default: not found in any replication group\ni.a.a.c.impl.AxonServerManagedChannel    : Failed to get connection to AxonServer. Scheduling a reconnect in 2000ms\n</code></pre>\n<p>I am using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.axonframework&lt;/groupId&gt;\n    &lt;artifactId&gt;axon-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What is cuasing this? The console on webpage on port 8024 works fine, so why isnt the 8124 port working?</p>\n<p>Thanks for help</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1696916727,"post_id":77261688,"comment_id":136210225,"body_markdown":"Spring Data Elasticsearch currenlty does not support slices in queries, but you can use Spring Data Elasticsearch to create a pit, then USse a `NativeQuery` to build your query using the classes the the native Elasticsearch client provides, add the query and the pit to the `NativeQuery` from Spring Data Elasticsearch.","body":"Spring Data Elasticsearch currenlty does not support slices in queries, but you can use Spring Data Elasticsearch to create a pit, then USse a <code>NativeQuery</code> to build your query using the classes the the native Elasticsearch client provides, add the query and the pit to the <code>NativeQuery</code> from Spring Data Elasticsearch."},{"owner":{"account_id":29635141,"reputation":11,"user_id":22712608,"display_name":"Omar"},"score":0,"creation_date":1696947688,"post_id":77261688,"comment_id":136215985,"body_markdown":"Thank you for your response. Is there a possibility that spring-data-elasticsearch will support it in the near future? I am currently using the implementation you have mentioned but it&#39;s retrieving the same 10k docs each time and I need it to be able to iterate over 100k+ docs","body":"Thank you for your response. Is there a possibility that spring-data-elasticsearch will support it in the near future? I am currently using the implementation you have mentioned but it&#39;s retrieving the same 10k docs each time and I need it to be able to iterate over 100k+ docs"}],"owner":{"account_id":29635141,"reputation":11,"user_id":22712608,"display_name":"Omar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696884215,"creation_date":1696884215,"question_id":77261688,"body_markdown":"I am working on a Spring Boot application where I have to search through 100k+ docs and I am using the PIT api to achieve this. Previously, using the elasticsearch libraries this was achievable by:\r\n\r\n```\r\nSearchRequest searchRequest = new SearchRequest();\r\nfinal PointInTimeBuilder pointInTimeBuilder = new PointInTimeBuilder(pitId);\r\n\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\nsearchSourceBuilder.query(query);\r\npointInTimeBuilder.setKeepAlive(minutes);\r\nsearchSourceBuilder.pointInTimeBuilder(pointInTimeBuilder);\r\n\r\nSliceBuilder sliceBuilder = new SliceBuilder(i, totalSlice);\r\nsearchSourceBuilder.slice(sliceBuilder);\r\nsearchRequest.source(searchSourceBuilder);\r\n\r\nRequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\r\nRequestConfig requestConfig = RequestConfig.custom().setContentCompressionEnabled(true).build();\r\noptions.setRequestConfig(requestConfig);\r\nSearchResponse searchResponse = this.restHighLevelClient.search(searchRequest, options.build());\r\n```\r\n\r\n\r\nI have moved on to strictly using spring-data-elasticsearch:5.1.4 and was able to implement the PIT API by following the documentation found [here](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.misc.point-in-time). \r\n\r\nHow can I implement this to also use slices?\r\n\r\n[Elasticsearch PIT Api](https://www.elastic.co/guide/en/elasticsearch/reference/8.3/point-in-time-api.html)","title":"How to set slice when using PIT API w/ Spring Data Elasticsearch?","body":"<p>I am working on a Spring Boot application where I have to search through 100k+ docs and I am using the PIT api to achieve this. Previously, using the elasticsearch libraries this was achievable by:</p>\n<pre><code>SearchRequest searchRequest = new SearchRequest();\nfinal PointInTimeBuilder pointInTimeBuilder = new PointInTimeBuilder(pitId);\n\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nsearchSourceBuilder.query(query);\npointInTimeBuilder.setKeepAlive(minutes);\nsearchSourceBuilder.pointInTimeBuilder(pointInTimeBuilder);\n\nSliceBuilder sliceBuilder = new SliceBuilder(i, totalSlice);\nsearchSourceBuilder.slice(sliceBuilder);\nsearchRequest.source(searchSourceBuilder);\n\nRequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\nRequestConfig requestConfig = RequestConfig.custom().setContentCompressionEnabled(true).build();\noptions.setRequestConfig(requestConfig);\nSearchResponse searchResponse = this.restHighLevelClient.search(searchRequest, options.build());\n</code></pre>\n<p>I have moved on to strictly using spring-data-elasticsearch:5.1.4 and was able to implement the PIT API by following the documentation found <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.misc.point-in-time\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>How can I implement this to also use slices?</p>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.3/point-in-time-api.html\" rel=\"nofollow noreferrer\">Elasticsearch PIT Api</a></p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":1595843,"reputation":12869,"user_id":1477994,"accept_rate":72,"display_name":"royB"},"score":1,"creation_date":1489620761,"post_id":42822629,"comment_id":72756927,"body_markdown":"Possible duplicate of [Decimal or numeric values in regular expression validation](http://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation\">Decimal or numeric values in regular expression validation</a>"},{"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"score":0,"creation_date":1489621107,"post_id":42822629,"comment_id":72757031,"body_markdown":"the pattern ^[1-9]\\d{0,2}(.\\d{3})*(,\\d+)?$ did not work for me, based from that similar thread","body":"the pattern ^[1-9]\\d{0,2}(.\\d{3})*(,\\d+)?$ did not work for me, based from that similar thread"},{"owner":{"account_id":7539150,"reputation":1221,"user_id":5724435,"accept_rate":65,"display_name":"Arthur Decker"},"score":0,"creation_date":1489621289,"post_id":42822629,"comment_id":72757095,"body_markdown":"@Alain Del Rosario try using ^[1-9]\\d*(\\,\\d+)?$ . You can try the regex script with sample input on this site http://www.regexplanet.com/advanced/java/index.html","body":"@Alain Del Rosario try using ^[1-9]\\d*(\\,\\d+)?$ . You can try the regex script with sample input on this site <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/java/index.html</a>"},{"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"score":0,"creation_date":1489621822,"post_id":42822629,"comment_id":72757269,"body_markdown":"@Arthur Decker did not work","body":"@Arthur Decker did not work"},{"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"score":0,"creation_date":1489622099,"post_id":42822629,"comment_id":72757345,"body_markdown":"i think validations from that link treats commas as required not optional","body":"i think validations from that link treats commas as required not optional"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489622428,"post_id":42822629,"comment_id":72757448,"body_markdown":"If there are thousand separators before the decimal point, do they need to be there after the point too? Are both 1,111,111.111,111,1 and 1,111,111.1111111 valid?","body":"If there are thousand separators before the decimal point, do they need to be there after the point too? Are both 1,111,111.111,111,1 and 1,111,111.1111111 valid?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1489950061,"post_id":42822629,"comment_id":72883073,"body_markdown":"@AlainDelRosario, please remember to accept an answer if you find one of the four acceptable. Excuse me for mentioning, but it seems you were good at accepting answers in January, I hope you are not starting to forget?","body":"@AlainDelRosario, please remember to accept an answer if you find one of the four acceptable. Excuse me for mentioning, but it seems you were good at accepting answers in January, I hope you are not starting to forget?"}],"answers":[{"tags":[],"owner":{"display_name":"user557597"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489623269,"creation_date":1489623269,"answer_id":42823102,"question_id":42822629,"body_markdown":"This would match your numbers there `(?:\\d+(?:,\\d{3})*(?:\\.\\d{2})?|\\.\\d{2})`  \r\nIt would also match `.00` just incase. If you don&#39;t want it to, just remove  \r\nthe `|\\.\\d{2}` part.  \r\n\r\nAdd your own boundary constructs as needed `^$` or `\\b`  \r\n\r\nExpanded  \r\n\r\n     (?:\r\n          \\d+ \r\n          (?: , \\d{3} )*\r\n          (?: \\. \\d{2} )?\r\n       |  \\. \\d{2} \r\n     )\r\n","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>This would match your numbers there <code>(?:\\d+(?:,\\d{3})*(?:\\.\\d{2})?|\\.\\d{2})</code><br>\nIt would also match <code>.00</code> just incase. If you don't want it to, just remove<br>\nthe <code>|\\.\\d{2}</code> part.  </p>\n\n<p>Add your own boundary constructs as needed <code>^$</code> or <code>\\b</code>  </p>\n\n<p>Expanded  </p>\n\n<pre><code> (?:\n      \\d+ \n      (?: , \\d{3} )*\n      (?: \\. \\d{2} )?\n   |  \\. \\d{2} \n )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489623300,"creation_date":1489623300,"answer_id":42823108,"question_id":42822629,"body_markdown":"My suggestion is:\r\n\r\n    ^[1-9]((\\d{0,2}(,\\d{3})*(\\.(\\d{3},)*\\d{1,3})?)|(\\d*(\\.\\d+)?))$\r\n\r\nA number either has separators for every 3 digits or it hasn’t (no middle forms). It either has a decimal point and at least one digit after it, or it hasn’t. In all cases does it start with a non-zero digit.\r\n\r\nRemember that a dot (period, `.`) has a special meaning in regex and therefore needs to be escaped to get a literal point.","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>My suggestion is:</p>\n\n<pre><code>^[1-9]((\\d{0,2}(,\\d{3})*(\\.(\\d{3},)*\\d{1,3})?)|(\\d*(\\.\\d+)?))$\n</code></pre>\n\n<p>A number either has separators for every 3 digits or it hasn’t (no middle forms). It either has a decimal point and at least one digit after it, or it hasn’t. In all cases does it start with a non-zero digit.</p>\n\n<p>Remember that a dot (period, <code>.</code>) has a special meaning in regex and therefore needs to be escaped to get a literal point.</p>\n"},{"tags":[],"owner":{"account_id":1302409,"reputation":5542,"user_id":1252056,"accept_rate":91,"display_name":"streetturtle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489624848,"creation_date":1489624848,"answer_id":42823318,"question_id":42822629,"body_markdown":"This is one of possible regexes you are looking for:\r\n\r\n    ^\\d{1,3}([ ,]?\\d{3})*([.,]\\d+)?$\r\n\r\nDemo: https://regex101.com/r/T8tcDP/1","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>This is one of possible regexes you are looking for:</p>\n\n<pre><code>^\\d{1,3}([ ,]?\\d{3})*([.,]\\d+)?$\n</code></pre>\n\n<p>Demo: <a href=\"https://regex101.com/r/T8tcDP/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/T8tcDP/1</a></p>\n"},{"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1489708049,"creation_date":1489708049,"answer_id":42846788,"question_id":42822629,"body_markdown":"**You should try this expression:**\r\n\r\n    ^\\d{1,3}|\\d(([ ,]?\\d{3})*([.,]\\d{2}+)?$)\r\n\r\nWith this expression is covered with the scenarios raised.\r\n\r\n**Here the complete example:**\r\n\r\n    public class Decimal {\r\n    \r\n        private static String REGEX = &quot;^\\\\d{1,3}|\\\\d(([ ,]?\\\\d{3})*([.,]\\\\d{2}+)?$)&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            String data[] = {&quot;1000&quot;, &quot;1,000&quot;, &quot;1,000.00&quot;, &quot;1000.00&quot;, &quot;1000.00.00&quot;, &quot;1,0.00&quot;, &quot;1,000,00.00&quot;, &quot;1,000,000.12&quot;};\r\n    \r\n            Pattern.compile(REGEX);\r\n    \r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                if (data[i].matches(REGEX)) {\r\n                    System.out.println(data[i] + &quot; - valid&quot;);\r\n                } else {\r\n                    System.out.println(data[i] + &quot; - invalid&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**The output:**\r\n\r\n * 1000 - valid\r\n * 1,000 - valid\r\n * 1,000.00 - valid\r\n * 1000.00 - valid\r\n * 1000.00.00 - invalid\r\n * 1,0.00 - invalid\r\n * 1,000,00.00 - invalid\r\n * 1,000,000.12 - valid","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p><strong>You should try this expression:</strong></p>\n\n<pre><code>^\\d{1,3}|\\d(([ ,]?\\d{3})*([.,]\\d{2}+)?$)\n</code></pre>\n\n<p>With this expression is covered with the scenarios raised.</p>\n\n<p><strong>Here the complete example:</strong></p>\n\n<pre><code>public class Decimal {\n\n    private static String REGEX = \"^\\\\d{1,3}|\\\\d(([ ,]?\\\\d{3})*([.,]\\\\d{2}+)?$)\";\n\n    public static void main(String[] args) {\n        String data[] = {\"1000\", \"1,000\", \"1,000.00\", \"1000.00\", \"1000.00.00\", \"1,0.00\", \"1,000,00.00\", \"1,000,000.12\"};\n\n        Pattern.compile(REGEX);\n\n        for (int i = 0; i &lt; data.length; i++) {\n            if (data[i].matches(REGEX)) {\n                System.out.println(data[i] + \" - valid\");\n            } else {\n                System.out.println(data[i] + \" - invalid\");\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>The output:</strong></p>\n\n<ul>\n<li>1000 - valid</li>\n<li>1,000 - valid</li>\n<li>1,000.00 - valid</li>\n<li>1000.00 - valid</li>\n<li>1000.00.00 - invalid</li>\n<li>1,0.00 - invalid</li>\n<li>1,000,00.00 - invalid</li>\n<li>1,000,000.12 - valid</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2838952,"reputation":1,"user_id":2438917,"display_name":"Daniil  Bannov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696883544,"creation_date":1696883544,"answer_id":77261626,"question_id":42822629,"body_markdown":"this solution work also for one digit after dot:\r\n\r\n    ^\\d{1,3}(,{1}\\d{3})*(\\.\\d{1,2})?$\r\n\r\n - 100.1 - valid\r\n - 1.11 - valid\r\n - 1,000123,123.1 - invalid\r\n\r\ngood luck.","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<p>this solution work also for one digit after dot:</p>\n<pre><code>^\\d{1,3}(,{1}\\d{3})*(\\.\\d{1,2})?$\n</code></pre>\n<ul>\n<li>100.1 - valid</li>\n<li>1.11 - valid</li>\n<li>1,000123,123.1 - invalid</li>\n</ul>\n<p>good luck.</p>\n"}],"owner":{"account_id":5994806,"reputation":541,"user_id":4709792,"accept_rate":45,"display_name":"Hingle McJingleberry"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3495,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":42846788,"answer_count":5,"score":1,"last_activity_date":1696883544,"creation_date":1489620440,"question_id":42822629,"body_markdown":"    1000 - valid\r\n    1,000 - valid\r\n    1,000.00 - valid\r\n    1000.00 - valid\r\n    1000.00.00 - invalid\r\n    1,0.00 - invalid\r\n    1,000,00.00 - invalid\r\n    1,000,000.12 - valid\r\n\r\nno of decimal places can be unlimited\r\n\r\nI&#39;ve been trying to find the right regex pattern, can&#39;t seem to find one that will accomodate all validations. Can anyone help\r\n\r\n\r\nthe pattern ^[1-9]\\d{0,2}(\\.\\d{3})*(,\\d+)?$ did not work for me, based from the similar thread [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation","title":"Java regex to check if string is valid number format (comma and decimal point placing)","body":"<pre><code>1000 - valid\n1,000 - valid\n1,000.00 - valid\n1000.00 - valid\n1000.00.00 - invalid\n1,0.00 - invalid\n1,000,00.00 - invalid\n1,000,000.12 - valid\n</code></pre>\n\n<p>no of decimal places can be unlimited</p>\n\n<p>I've been trying to find the right regex pattern, can't seem to find one that will accomodate all validations. Can anyone help</p>\n\n<p>the pattern ^[1-9]\\d{0,2}(.\\d{3})*(,\\d+)?$ did not work for me, based from the similar thread <a href=\"https://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation\">here</a></p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":1,"creation_date":1696878922,"post_id":77261266,"comment_id":136206888,"body_markdown":"One possible way to interpret those instructions is to ask for 3 *different* multipliers.  Does the assignment include any example input/output?","body":"One possible way to interpret those instructions is to ask for 3 <i>different</i> multipliers.  Does the assignment include any example input/output?"},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1696879581,"post_id":77261266,"comment_id":136206995,"body_markdown":"Are you sure that a recursion is not expected in assignment .","body":"Are you sure that a recursion is not expected in assignment ."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":2,"creation_date":1696879941,"post_id":77261266,"comment_id":136207032,"body_markdown":"your code outputs a space after the last number that might be a problem","body":"your code outputs a space after the last number that might be a problem"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696880263,"creation_date":1696880263,"answer_id":77261374,"question_id":77261266,"body_markdown":"&gt; _&quot;... If you see an error on my code I would greatly appreciate it if anyone can point that out. ...&quot;_\r\n\r\nThe only error I see is the additional _white-space_ character in your _printed_ value.\r\n\r\nFor example, your value is _&quot;1 2 3 \\n&quot;_, whereas it may need to be _&quot;1 2 3\\n&quot;_.\r\n\r\nAnd, no need for a  _loop_, it&#39;s only 2 steps.\r\n\r\n```java\r\nresults = starting_num * multiplier;\r\nSystem.out.print(results);\r\nSystem.out.print(&quot; &quot; + (results *= multiplier));\r\nSystem.out.println(&quot; &quot; + (results *= multiplier));\r\n```\r\n\r\nOr, in one line, just reduce the variable names.\r\n\r\n```java\r\nSystem.out.printf(&quot;%s %s %s%n&quot;, r = sn * m, r *= m, r *= m);\r\n```","title":"Java program giving me the correct outputs but something is off","body":"<blockquote>\n<p><em>&quot;... If you see an error on my code I would greatly appreciate it if anyone can point that out. ...&quot;</em></p>\n</blockquote>\n<p>The only error I see is the additional <em>white-space</em> character in your <em>printed</em> value.</p>\n<p>For example, your value is <em>&quot;1 2 3 \\n&quot;</em>, whereas it may need to be <em>&quot;1 2 3\\n&quot;</em>.</p>\n<p>And, no need for a  <em>loop</em>, it's only 2 steps.</p>\n<pre class=\"lang-java prettyprint-override\"><code>results = starting_num * multiplier;\nSystem.out.print(results);\nSystem.out.print(&quot; &quot; + (results *= multiplier));\nSystem.out.println(&quot; &quot; + (results *= multiplier));\n</code></pre>\n<p>Or, in one line, just reduce the variable names.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%s %s %s%n&quot;, r = sn * m, r *= m, r *= m);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696883446,"creation_date":1696883446,"answer_id":77261621,"question_id":77261266,"body_markdown":"If you really want to stick with the looping approach, then you could output the first result beforehand, and chase that with the space and the next result from within the loop:\r\n\r\n    results = starting_num * multiplier;\r\n    System.out.print(results);\r\n\r\n    for(int i = 1 ; i &lt;= 2; i++) {\r\n      results = results * multiplier;\r\n      System.out.print(&quot; &quot; + results);            \r\n    }\r\n\r\n    System.out.println();\r\n\r\n","title":"Java program giving me the correct outputs but something is off","body":"<p>If you really want to stick with the looping approach, then you could output the first result beforehand, and chase that with the space and the next result from within the loop:</p>\n<pre><code>results = starting_num * multiplier;\nSystem.out.print(results);\n\nfor(int i = 1 ; i &lt;= 2; i++) {\n  results = results * multiplier;\n  System.out.print(&quot; &quot; + results);            \n}\n\nSystem.out.println();\n</code></pre>\n"}],"owner":{"account_id":27937349,"reputation":11,"user_id":21334048,"display_name":"Yuniel G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1696883446,"creation_date":1696878722,"question_id":77261266,"body_markdown":"D286 Java Fundamentals PA\r\n\r\nHi, I&#39;m having a hard time with the School JAVA test. I type in a code that works with different inputs and gives the correct outputs but it is still being marked as wrong on my test. If you see an error on my code I would greatly appreciate it if anyone can point that out. I even tried Chatgpt and it said it was correct. Its hard to know what I&#39;m missing because the test results does not show me what was wrong like in my other classes.\r\n\r\nINSTRUCTIONS: Write a program that collects two integer inputs and assigns them to the variables *starting_num* and *multiplier*. Multiply starting_num by multiplier and output the result. Repeat this process two more times, each time multiplying the previous result by the multiplier. The three product outputs should be separated by a white space character, ending with a newline.\r\n\r\nMY ANSWER:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        int starting_num;\r\n\r\n        int multiplier;\r\n\r\n        int results;\r\n\r\n        starting_num = scnr.nextInt();\r\n\r\n        multiplier = scnr.nextInt();\r\n\r\n        results = starting_num * multiplier;\r\n\r\n        for(int i = 0 ; i &lt; 3; ++i) {\r\n\r\n            System.out.print(results + &quot; &quot;);\r\n\r\n            results = results * multiplier;\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n}\r\n\r\n```","title":"Java program giving me the correct outputs but something is off","body":"<p>D286 Java Fundamentals PA</p>\n<p>Hi, I'm having a hard time with the School JAVA test. I type in a code that works with different inputs and gives the correct outputs but it is still being marked as wrong on my test. If you see an error on my code I would greatly appreciate it if anyone can point that out. I even tried Chatgpt and it said it was correct. Its hard to know what I'm missing because the test results does not show me what was wrong like in my other classes.</p>\n<p>INSTRUCTIONS: Write a program that collects two integer inputs and assigns them to the variables <em>starting_num</em> and <em>multiplier</em>. Multiply starting_num by multiplier and output the result. Repeat this process two more times, each time multiplying the previous result by the multiplier. The three product outputs should be separated by a white space character, ending with a newline.</p>\n<p>MY ANSWER:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static void main(String[] args) {\n\n        Scanner scnr = new Scanner(System.in);\n\n        int starting_num;\n\n        int multiplier;\n\n        int results;\n\n        starting_num = scnr.nextInt();\n\n        multiplier = scnr.nextInt();\n\n        results = starting_num * multiplier;\n\n        for(int i = 0 ; i &lt; 3; ++i) {\n\n            System.out.print(results + &quot; &quot;);\n\n            results = results * multiplier;\n        }\n\n        System.out.println();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-rest"],"answers":[{"tags":[],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619765286,"creation_date":1619765286,"answer_id":67329386,"question_id":67329349,"body_markdown":"The error says, you don&#39;t have any bean with password encoder.\r\n\r\nIn you confugiration class add that bean and remove `BCryptPasswordEncoder` from constructor in `SecurityConfiguration `:\r\n\r\n```java\r\n@Bean\r\npublic PasswordEncoder encoder() {\r\n    return new BCryptPasswordEncoder();\r\n}\r\n```","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>The error says, you don't have any bean with password encoder.</p>\n<p>In you confugiration class add that bean and remove <code>BCryptPasswordEncoder</code> from constructor in <code>SecurityConfiguration </code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic PasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1619765653,"creation_date":1619765653,"answer_id":67329461,"question_id":67329349,"body_markdown":"In your Security Configuration class, you do not need this line:\r\n\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\nReplace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.\r\n\r\n    @Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\nIn your controller, now you can autowire this as:\r\n\r\n    @Autowired    \r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>In your Security Configuration class, you do not need this line:</p>\n<pre><code>private BCryptPasswordEncoder bCryptPasswordEncoder;\n</code></pre>\n<p>Replace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.</p>\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>In your controller, now you can autowire this as:</p>\n<pre><code>@Autowired    \nprivate BCryptPasswordEncoder bCryptPasswordEncoder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16263370,"reputation":1,"user_id":11744135,"display_name":"BHARATBHAI SOLANKI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670308591,"creation_date":1670308591,"answer_id":74698237,"question_id":67329349,"body_markdown":"    Replace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder()\r\n    {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    In your controller, now you can autowire this as:\r\n    @Autowired    \r\n    private PasswordEncoder passwordEncoder;","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<pre><code>Replace it with this. The below method is providing the Password Encoder bean to spring container to enforce security.\n@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\nIn your controller, now you can autowire this as:\n@Autowired    \nprivate PasswordEncoder passwordEncoder;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15183586,"reputation":33,"user_id":10956250,"display_name":"Soufiane D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696882985,"creation_date":1696882985,"answer_id":77261583,"question_id":67329349,"body_markdown":"I had the same error, \r\nand i inject this Bean in my ApplicationConfig, and it works \r\n\r\n    @Bean\r\n    private PasswordEncoder passwordEncoder() {\r\n      return new BCryptPasswordEncoder();\r\n    }","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>I had the same error,\nand i inject this Bean in my ApplicationConfig, and it works</p>\n<pre><code>@Bean\nprivate PasswordEncoder passwordEncoder() {\n  return new BCryptPasswordEncoder();\n}\n</code></pre>\n"}],"owner":{"account_id":2551271,"reputation":1027,"user_id":2214972,"accept_rate":43,"display_name":"VJain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26073,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67329461,"answer_count":4,"score":1,"last_activity_date":1696882985,"creation_date":1619765057,"question_id":67329349,"body_markdown":"I want to use Spring Boot Security in my project by creating a simple login screen but i get these error while running y application\r\n\r\n**Description:\r\nParameter 1 of constructor in com.panchmeru_studio.controller.UserController required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found.**\r\n\r\n\r\n**Action:Consider defining a bean of type org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; in your configuration.**\r\nHere is my code.\r\n\r\n&gt; UserController\r\n\r\n    package com.panchmeru_studio.controller;\r\n    \r\n    import com.panchmeru_studio.entities.ApplicationUser;\r\n    import com.panchmeru_studio.repository.ApplicationUserRepository;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    \r\n        private ApplicationUserRepository applicationUserRepository;\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public UserController(ApplicationUserRepository applicationUserRepository,\r\n                              BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n            this.applicationUserRepository = applicationUserRepository;\r\n            this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        }\r\n    \r\n        @PostMapping(&quot;/record&quot;)\r\n        public void signUp(@RequestBody ApplicationUser applicationUser) {\r\n            applicationUser.setPassword(bCryptPasswordEncoder.encode(applicationUser.getPassword()));\r\n            applicationUserRepository.save(applicationUser);\r\n        }\r\n    }\r\n\r\n&gt; SecurityConfiguration.java\r\n\r\n    package com.panchmeru_studio.security;\r\n    \r\n    import com.panchmeru_studio.filter.AuthenticationFilter;\r\n    import com.panchmeru_studio.filter.AuthorizationFilter;\r\n    \r\n    import com.panchmeru_studio.service.ApplicationUserDetailsService;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    \r\n    import static com.panchmeru_studio.constants.SecurityConstants.SIGN_UP_URL;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        private ApplicationUserDetailsService userDetailsService;\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        public SecurityConfiguration(ApplicationUserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n            this.userDetailsService = userDetailsService;\r\n            this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.cors().and().csrf().disable().authorizeRequests()\r\n                    .antMatchers(HttpMethod.POST, SIGN_UP_URL).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .addFilter(new AuthenticationFilter(authenticationManager()))\r\n                    .addFilter(new AuthorizationFilter(authenticationManager()))\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        }\r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, new CorsConfiguration().applyPermitDefaultValues());\r\n            return source;\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n        \r\n    \r\n    \r\n    \t@Override\r\n    \t@Bean\r\n    \tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n    \t\treturn super.authenticationManagerBean();\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"Error: Required a bean of type &#39;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&#39; that could not be found","body":"<p>I want to use Spring Boot Security in my project by creating a simple login screen but i get these error while running y application</p>\n<p><strong>Description:\nParameter 1 of constructor in com.panchmeru_studio.controller.UserController required a bean of type 'org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' that could not be found.</strong></p>\n<p><strong>Action:Consider defining a bean of type org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder' in your configuration.</strong>\nHere is my code.</p>\n<blockquote>\n<p>UserController</p>\n</blockquote>\n<pre><code>package com.panchmeru_studio.controller;\n\nimport com.panchmeru_studio.entities.ApplicationUser;\nimport com.panchmeru_studio.repository.ApplicationUserRepository;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private ApplicationUserRepository applicationUserRepository;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public UserController(ApplicationUserRepository applicationUserRepository,\n                          BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.applicationUserRepository = applicationUserRepository;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @PostMapping(&quot;/record&quot;)\n    public void signUp(@RequestBody ApplicationUser applicationUser) {\n        applicationUser.setPassword(bCryptPasswordEncoder.encode(applicationUser.getPassword()));\n        applicationUserRepository.save(applicationUser);\n    }\n}\n</code></pre>\n<blockquote>\n<p>SecurityConfiguration.java</p>\n</blockquote>\n<pre><code>package com.panchmeru_studio.security;\n\nimport com.panchmeru_studio.filter.AuthenticationFilter;\nimport com.panchmeru_studio.filter.AuthorizationFilter;\n\nimport com.panchmeru_studio.service.ApplicationUserDetailsService;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport static com.panchmeru_studio.constants.SecurityConstants.SIGN_UP_URL;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private ApplicationUserDetailsService userDetailsService;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public SecurityConfiguration(ApplicationUserDetailsService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userDetailsService = userDetailsService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST, SIGN_UP_URL).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilter(new AuthenticationFilter(authenticationManager()))\n                .addFilter(new AuthorizationFilter(authenticationManager()))\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    }\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, new CorsConfiguration().applyPermitDefaultValues());\n        return source;\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n    \n\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","javafx","fxml"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696882297,"creation_date":1436466360,"answer_id":31325397,"question_id":31325062,"body_markdown":"An element whose name corresponds to a class name is an instruction to the `FXMLLoader` to instantiate that class; so \r\n\r\n    &lt;MyCustomValues/&gt;\r\n\r\nwill cause the `FXMLLoader` to attempt to invoke `new MyCustomValues()`, which of course it cannot do with an enum type.\r\n\r\nIdeally, you would want to pass in the actual `Class` object itself here, but as I can see no way to instantiate a `Class&lt;?&gt;` in FXML, I think the best you can do is to pass the name of the class. For example:\r\n\r\n    package application;\r\n    \r\n    import javafx.beans.NamedArg;\r\n    import javafx.scene.control.ChoiceBox;\r\n    \r\n    public class EnumChoiceBox&lt;E extends Enum&lt;E&gt;&gt; extends ChoiceBox&lt;E&gt; {\r\n        \r\n        public EnumChoiceBox(@NamedArg(&quot;enumType&quot;) String enumType) throws Exception {\r\n            Class&lt;E&gt; enumClass = (Class&lt;E&gt;) Class.forName(enumType);\r\n            getItems().setAll(enumClass.getEnumConstants());\r\n        }\r\n    }\r\n\r\nand then you can do:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import application.EnumChoiceBox?&gt;\r\n    \r\n    &lt;StackPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    \t&lt;EnumChoiceBox enumType=&quot;application.MyCustomValues&quot;/&gt;\r\n    &lt;/StackPane&gt;\r\n\r\n(replacing `application` with the actual package name of `MyCustomValues`).\r\n\r\n---\r\n\r\nUpdate\r\n===\r\n\r\nContrary to what I believed eight years ago, this is actually possible with the initial setup in the question. All that is required to be passed is one value from the enum (not the enum class itself), and this can be done using `fx:constant`:\r\n\r\n```\r\n&lt;ChoiceBoxSetting&gt;\r\n    &lt;values&gt;\r\n        &lt;MyCustomValues fx:constant=&quot;HI&quot;/&gt;\r\n    &lt;/values&gt;\r\n&lt;/ChoiceBoxSetting&gt;\r\n```\r\n\r\nThe choice of which value to pass is arbitrary.","title":"Pass Enum in FXML","body":"<p>An element whose name corresponds to a class name is an instruction to the <code>FXMLLoader</code> to instantiate that class; so</p>\n<pre><code>&lt;MyCustomValues/&gt;\n</code></pre>\n<p>will cause the <code>FXMLLoader</code> to attempt to invoke <code>new MyCustomValues()</code>, which of course it cannot do with an enum type.</p>\n<p>Ideally, you would want to pass in the actual <code>Class</code> object itself here, but as I can see no way to instantiate a <code>Class&lt;?&gt;</code> in FXML, I think the best you can do is to pass the name of the class. For example:</p>\n<pre><code>package application;\n\nimport javafx.beans.NamedArg;\nimport javafx.scene.control.ChoiceBox;\n\npublic class EnumChoiceBox&lt;E extends Enum&lt;E&gt;&gt; extends ChoiceBox&lt;E&gt; {\n    \n    public EnumChoiceBox(@NamedArg(&quot;enumType&quot;) String enumType) throws Exception {\n        Class&lt;E&gt; enumClass = (Class&lt;E&gt;) Class.forName(enumType);\n        getItems().setAll(enumClass.getEnumConstants());\n    }\n}\n</code></pre>\n<p>and then you can do:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import application.EnumChoiceBox?&gt;\n\n&lt;StackPane xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;EnumChoiceBox enumType=&quot;application.MyCustomValues&quot;/&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p>(replacing <code>application</code> with the actual package name of <code>MyCustomValues</code>).</p>\n<hr />\n<h1>Update</h1>\n<p>Contrary to what I believed eight years ago, this is actually possible with the initial setup in the question. All that is required to be passed is one value from the enum (not the enum class itself), and this can be done using <code>fx:constant</code>:</p>\n<pre><code>&lt;ChoiceBoxSetting&gt;\n    &lt;values&gt;\n        &lt;MyCustomValues fx:constant=&quot;HI&quot;/&gt;\n    &lt;/values&gt;\n&lt;/ChoiceBoxSetting&gt;\n</code></pre>\n<p>The choice of which value to pass is arbitrary.</p>\n"}],"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1930,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31325397,"answer_count":1,"score":2,"last_activity_date":1696882297,"creation_date":1436465200,"question_id":31325062,"body_markdown":"I am making a custom FXML component. What I want to do it pass an Enum to the component so that it can retrieve all the values from the Enum. Here is a snippet of the custom component:\r\n\r\n    public ChoiceBoxSetting(@NamedArg(&quot;values&quot;) Enum values) {\r\n        choiceBox.getItems().setAll(values.getDeclaringClass().getEnumConstants());\r\n\r\nAnd here is the FXML creating it:\r\n\r\n    &lt;ChoiceBoxSetting&gt;\r\n        &lt;values&gt;\r\n            &lt;MyCustomValues/&gt;\r\n        &lt;/values&gt;\r\n    &lt;/ChoiceBoxSetting&gt;\r\n\r\nAnd here is the `MyCustomValues` enum:\r\n\r\n    public enum MyCustomValues {\r\n    \tHI, HELLO, ME\r\n    }\r\n\r\nSo when I run it, I get this exception:\r\n\r\n    Caused by: javafx.fxml.LoadException: MyCustomValues is not a valid type.\r\n\r\nI am trying to pass the enum it&#39;s self, **not** one of the enum values, such as `MyCustomValues.HI`.","title":"Pass Enum in FXML","body":"<p>I am making a custom FXML component. What I want to do it pass an Enum to the component so that it can retrieve all the values from the Enum. Here is a snippet of the custom component:</p>\n\n<pre><code>public ChoiceBoxSetting(@NamedArg(\"values\") Enum values) {\n    choiceBox.getItems().setAll(values.getDeclaringClass().getEnumConstants());\n</code></pre>\n\n<p>And here is the FXML creating it:</p>\n\n<pre><code>&lt;ChoiceBoxSetting&gt;\n    &lt;values&gt;\n        &lt;MyCustomValues/&gt;\n    &lt;/values&gt;\n&lt;/ChoiceBoxSetting&gt;\n</code></pre>\n\n<p>And here is the <code>MyCustomValues</code> enum:</p>\n\n<pre><code>public enum MyCustomValues {\n    HI, HELLO, ME\n}\n</code></pre>\n\n<p>So when I run it, I get this exception:</p>\n\n<pre><code>Caused by: javafx.fxml.LoadException: MyCustomValues is not a valid type.\n</code></pre>\n\n<p>I am trying to pass the enum it's self, <strong>not</strong> one of the enum values, such as <code>MyCustomValues.HI</code>.</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":9937704,"reputation":99,"user_id":7355471,"accept_rate":80,"display_name":"matcha-tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696882015,"creation_date":1696881214,"question_id":77261435,"body_markdown":"I&#39;m trying to insert data in my table EventUser which has 3 FK&#39;s, eventId, userId, userFunctionId. I create first an event with id 1 and try to link everything in this table by postman :\r\n\r\n    localhost:8080/api/event/1/updateUsers\r\n\r\n    [\r\n        {&quot;userId&quot;: 1, &quot;userFunctionName&quot;: &quot;door&quot;},\r\n        {&quot;userId&quot;: 2, &quot;userFunctionName&quot;: &quot;bar&quot;}\r\n    ]\r\n\r\nI have this error message in the console :\r\n\r\n\r\n\r\n    2023-10-09 21:40:35 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1364, SQLState: HY000\r\n    2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Field &#39;event_id&#39; doesn&#39;t have a default value\r\n    2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR c.i.a.e.s.impl.EventUserService - JPA system exception while adding event\r\n    org.springframework.orm.jpa.JpaSystemException: could not execute statement [Field &#39;event_id&#39; doesn&#39;t have a default value] [insert into `event_user` (`created_at`,`created_by`,`modified_at`,`modified_by`,`id`) values (?,?,?,?,?)]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\r\n\r\n\r\nAll the objects passed exist and are logged when explicitly shown in the console.\r\n\r\nHere are the model and the function userd :\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class EventUser {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @MapsId(&quot;eventId&quot;)\r\n        private Event event;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @MapsId(&quot;userId&quot;)\r\n        private User user;\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @MapsId(&quot;userFunctionId&quot;)\r\n        private UserFunction userFunction;\r\n        @NotNull\r\n        private Timestamp createdAt;\r\n        @NotNull\r\n        private Long createdBy;\r\n        @NotNull\r\n        private Timestamp modifiedAt;\r\n        @NotNull\r\n        private Long modifiedBy;\r\n    }\r\n\r\n\r\n\r\nFunction : \r\n\r\n    @Override\r\n        public EventUser addEventUser(EventUser eventUser) {\r\n            Timestamp currentTimestamp = new Timestamp(System.currentTimeMillis());\r\n    \r\n            // Check that the event, user, and userFunction properties are set\r\n            if (eventUser.getEvent() == null || eventUser.getUser() == null || eventUser.getUserFunction() == null) {\r\n                throw new IllegalArgumentException(&quot;Event, User, or UserFunction is not set in EventUser.&quot;);\r\n            }\r\n    \r\n            eventUser.setCreatedAt(currentTimestamp);\r\n            eventUser.setModifiedAt(currentTimestamp);\r\n    \r\n            try {\r\n                return eventUserRepository.save(eventUser);\r\n            } catch (DataIntegrityViolationException e) {\r\n                logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: Data integrity violation while adding event user&quot;, e);\r\n                throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Data integrity violation&quot;, e);\r\n            } catch (JpaSystemException e) {\r\n                logger.error(&quot;JPA system exception while adding event&quot;, e);\r\n                throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Database error&quot;, e);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: An error occurred while adding event user&quot;, e);\r\n                throw new RuntimeException(&quot;Error adding event user&quot;, e);\r\n            }\r\n        }\r\n\r\nThank you for your help !","title":"Trying to insert data in a manyToOne field - could not execute statement [Field &#39;event_id&#39; doesn&#39;t have a default value]","body":"<p>I'm trying to insert data in my table EventUser which has 3 FK's, eventId, userId, userFunctionId. I create first an event with id 1 and try to link everything in this table by postman :</p>\n<pre><code>localhost:8080/api/event/1/updateUsers\n\n[\n    {&quot;userId&quot;: 1, &quot;userFunctionName&quot;: &quot;door&quot;},\n    {&quot;userId&quot;: 2, &quot;userFunctionName&quot;: &quot;bar&quot;}\n]\n</code></pre>\n<p>I have this error message in the console :</p>\n<pre><code>2023-10-09 21:40:35 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1364, SQLState: HY000\n2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Field 'event_id' doesn't have a default value\n2023-10-09 21:40:35 [http-nio-8080-exec-3] ERROR c.i.a.e.s.impl.EventUserService - JPA system exception while adding event\norg.springframework.orm.jpa.JpaSystemException: could not execute statement [Field 'event_id' doesn't have a default value] [insert into `event_user` (`created_at`,`created_by`,`modified_at`,`modified_by`,`id`) values (?,?,?,?,?)]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\n</code></pre>\n<p>All the objects passed exist and are logged when explicitly shown in the console.</p>\n<p>Here are the model and the function userd :</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class EventUser {\n    @Id\n    @GeneratedValue\n    private Long id;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;eventId&quot;)\n    private Event event;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;userId&quot;)\n    private User user;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;userFunctionId&quot;)\n    private UserFunction userFunction;\n    @NotNull\n    private Timestamp createdAt;\n    @NotNull\n    private Long createdBy;\n    @NotNull\n    private Timestamp modifiedAt;\n    @NotNull\n    private Long modifiedBy;\n}\n</code></pre>\n<p>Function :</p>\n<pre><code>@Override\n    public EventUser addEventUser(EventUser eventUser) {\n        Timestamp currentTimestamp = new Timestamp(System.currentTimeMillis());\n\n        // Check that the event, user, and userFunction properties are set\n        if (eventUser.getEvent() == null || eventUser.getUser() == null || eventUser.getUserFunction() == null) {\n            throw new IllegalArgumentException(&quot;Event, User, or UserFunction is not set in EventUser.&quot;);\n        }\n\n        eventUser.setCreatedAt(currentTimestamp);\n        eventUser.setModifiedAt(currentTimestamp);\n\n        try {\n            return eventUserRepository.save(eventUser);\n        } catch (DataIntegrityViolationException e) {\n            logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: Data integrity violation while adding event user&quot;, e);\n            throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Data integrity violation&quot;, e);\n        } catch (JpaSystemException e) {\n            logger.error(&quot;JPA system exception while adding event&quot;, e);\n            throw new RuntimeException(&quot;[api.events.service.impl.EventUserService] addEventUser: Error adding event user: Database error&quot;, e);\n        } catch (Exception e) {\n            logger.error(&quot;[api.events.service.impl.EventUserService] addEventUser: An error occurred while adding event user&quot;, e);\n            throw new RuntimeException(&quot;Error adding event user&quot;, e);\n        }\n    }\n</code></pre>\n<p>Thank you for your help !</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":1,"creation_date":1696862177,"post_id":77259646,"comment_id":136203847,"body_markdown":"What is even the point of the callback?","body":"What is even the point of the callback?"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1696862423,"post_id":77259646,"comment_id":136203898,"body_markdown":"you do not need inflate .. just return `viewHolder = new VHSingleElement(myView)`","body":"you do not need inflate .. just return <code>viewHolder = new VHSingleElement(myView)</code>"},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1696866968,"post_id":77259646,"comment_id":136204791,"body_markdown":"Actually I need to have this callback because behind the scenes I use AsyncLayoutInflater so I need to wait until its done.","body":"Actually I need to have this callback because behind the scenes I use AsyncLayoutInflater so I need to wait until its done."},{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1696885635,"post_id":77259646,"comment_id":136207849,"body_markdown":"I would actually try to avoid such solutions because recycler view layout manager really does need view to be laid out (and bound) immediately to prevent inconsistencies and expensive layout measurement passes. If your items are so heavy you need async inflater maybe you have to rethink your layout structure in general.","body":"I would actually try to avoid such solutions because recycler view layout manager really does need view to be laid out (and bound) immediately to prevent inconsistencies and expensive layout measurement passes. If your items are so heavy you need async inflater maybe you have to rethink your layout structure in general."}],"answers":[{"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696881664,"creation_date":1696881664,"answer_id":77261464,"question_id":77259646,"body_markdown":"The whole point of `AsyncLayoutManager` is that it doesn&#39;t block UI thread - so when you tell `mView` to `inflate` it immediately goes to next instruction(`return viewHolder`) because the inflation goes to background thread.\r\n\r\nYou can&#39;t retroactively change it what the function returned. \r\n\r\nYou want to set up each `ViewHolder` type to have initial state - basically what your `VHStart` is currently and have internal transition to it&#39;s final form. \r\n\r\nThe most basic version of this pattern is `ProgressBar` that you hide/remove once content is loaded.\r\n```\r\nclass AsyncVH : RecyclerView.ViewHolder(view) {\r\n\r\n\tprivate var isInflated: Boolean = false\r\n\tprivate var item: Item? = null\r\n\tprivate var view: View\r\n\t\r\n\r\n\tAsyncVH(view: View) {\r\n\t\tViewGroup itemParent = (ViewGroup) view\r\n\t\tAsyncLayoutInflater(view.context).inflate(new OnFinishedInflated() {\r\n            @Override\r\n            public void onFinished(View asyncView) {\r\n            \t// Hide/remove if you have initial progress view from view\r\n\t\t\t\titemParent.clearAll() // view.findViewById(R.id.progress).setVisibility(View.GONE)\r\n\t\t\t\titemParent.addView(asyncView)\r\n\t\t\t\tisInflated = true\r\n\t\t\t\tbind()\r\n            }\r\n        });\r\n\t}\r\n\r\n\tvoid bind(item: Item) {\r\n\t\tthis.item = item\r\n\t\tif(isInflated) {\r\n\t\t\tbind()\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void bind() { \r\n\t\tif (isInflated &amp;&amp; item != null) {\r\n\t\t\t// bind\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Android change onCreateViewHolder() returning viewHolder from custom calback","body":"<p>The whole point of <code>AsyncLayoutManager</code> is that it doesn't block UI thread - so when you tell <code>mView</code> to <code>inflate</code> it immediately goes to next instruction(<code>return viewHolder</code>) because the inflation goes to background thread.</p>\n<p>You can't retroactively change it what the function returned.</p>\n<p>You want to set up each <code>ViewHolder</code> type to have initial state - basically what your <code>VHStart</code> is currently and have internal transition to it's final form.</p>\n<p>The most basic version of this pattern is <code>ProgressBar</code> that you hide/remove once content is loaded.</p>\n<pre><code>class AsyncVH : RecyclerView.ViewHolder(view) {\n\n    private var isInflated: Boolean = false\n    private var item: Item? = null\n    private var view: View\n    \n\n    AsyncVH(view: View) {\n        ViewGroup itemParent = (ViewGroup) view\n        AsyncLayoutInflater(view.context).inflate(new OnFinishedInflated() {\n            @Override\n            public void onFinished(View asyncView) {\n                // Hide/remove if you have initial progress view from view\n                itemParent.clearAll() // view.findViewById(R.id.progress).setVisibility(View.GONE)\n                itemParent.addView(asyncView)\n                isInflated = true\n                bind()\n            }\n        });\n    }\n\n    void bind(item: Item) {\n        this.item = item\n        if(isInflated) {\n            bind()\n        }\n    }\n\n    private void bind() { \n        if (isInflated &amp;&amp; item != null) {\n            // bind\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696881664,"creation_date":1696861587,"question_id":77259646,"body_markdown":"I want to return viewHolder in recyclerview onCreateViewHolder() asynchronously. \r\n\r\nAt start the `viewHolder` should be like it is in the first line (and it works until now) but once my callback is called later on, `viewHolder` should be as it is set inside my callback. Unfortunatelly this never happens. Here is the code:\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        viewHolder = new VHStart(LayoutInflater.from(fragment.requireContext()).inflate(R.layout.item_note_loading,parent,false));\r\n        if (viewType == VIEW_TYPE_ONE) {\r\n            MyView myView = new MyView(parent.getContext(), this);\r\n            myView.inflate(new OnFinishedInflated() {\r\n                @Override\r\n                public void onFinished(View view) {\r\n                    viewHolder = new VHSingleElement(view);\r\n                }\r\n            });\r\n        } else if (viewType == VIEW_TYPE_TWO) {\r\n            // will add this later\r\n        } else\r\n            throw new RuntimeException(&quot;No such view type&quot;);\r\n\r\n        return viewHolder;\r\n    }\r\n\r\n\r\nHow to solve that?","title":"Android change onCreateViewHolder() returning viewHolder from custom calback","body":"<p>I want to return viewHolder in recyclerview onCreateViewHolder() asynchronously.</p>\n<p>At start the <code>viewHolder</code> should be like it is in the first line (and it works until now) but once my callback is called later on, <code>viewHolder</code> should be as it is set inside my callback. Unfortunatelly this never happens. Here is the code:</p>\n<pre><code>@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    viewHolder = new VHStart(LayoutInflater.from(fragment.requireContext()).inflate(R.layout.item_note_loading,parent,false));\n    if (viewType == VIEW_TYPE_ONE) {\n        MyView myView = new MyView(parent.getContext(), this);\n        myView.inflate(new OnFinishedInflated() {\n            @Override\n            public void onFinished(View view) {\n                viewHolder = new VHSingleElement(view);\n            }\n        });\n    } else if (viewType == VIEW_TYPE_TWO) {\n        // will add this later\n    } else\n        throw new RuntimeException(&quot;No such view type&quot;);\n\n    return viewHolder;\n}\n</code></pre>\n<p>How to solve that?</p>\n"},{"tags":["java","xml","serialization","jackson"],"owner":{"account_id":29634953,"reputation":1,"user_id":22712472,"display_name":"Senelyza5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696881109,"creation_date":1696881109,"question_id":77261430,"body_markdown":"I get this issue,where jackson xml cannot map the Ccy field from other CcyAmt class.\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Ccy&quot; (class com.currencyExchanger.codeAcadaemy.FxRate), not marked as ignorable (4 known properties: &quot;Dt&quot;, &quot;Tp&quot;, &quot;ccyAmt&quot;, &quot;CcyAmt&quot;])\r\n\r\n```\r\nWhy jackson cannot see the field Ccy field?\r\n\r\n\r\nThis is my xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;FxRates&gt;\r\n    &lt;FxRate&gt;\r\n        &lt;Tp&gt;EU&lt;/Tp&gt;\r\n        &lt;Dt&gt;2023-10-02&lt;/Dt&gt;\r\n        &lt;CcyAmt&gt;\r\n            &lt;Ccy&gt;EUR&lt;/Ccy&gt;\r\n            &lt;Amt&gt;1&lt;/Amt&gt;\r\n        &lt;/CcyAmt&gt;\r\n        &lt;CcyAmt&gt;\r\n            &lt;Ccy&gt;AUD&lt;/Ccy&gt;\r\n            &lt;Amt&gt;1.6472&lt;/Amt&gt;\r\n        &lt;/CcyAmt&gt;\r\n    &lt;/FxRate&gt;\r\n&lt;/FxRates&gt;\r\n```\r\n\r\nThis is the CcyAmt class with the problematic Ccy field.\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@JacksonXmlRootElement(localName = &quot;CcyAmt&quot;)\r\npublic class CcyAmt {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Ccy&quot;)\r\n    private String ccy;\r\n\r\n    @JacksonXmlProperty(localName = &quot;Amt&quot;)\r\n    private double amt;\r\n\r\n    public CcyAmt(String ccy) {\r\n        this.ccy = ccy;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThat&#39;s my FxRate class:\r\n```\r\n@Getter\r\n@Setter @AllArgsConstructor @NoArgsConstructor\r\n@ToString\r\n\r\n@JacksonXmlRootElement(localName = &quot;FxRate&quot;)\r\npublic class FxRate {\r\nCcyAmt ccyAmt;\r\n\r\n    @JsonProperty(&quot;Tp&quot;)\r\n    private String tp;\r\n\r\n    @JacksonXmlProperty(localName = &quot;Dt&quot;)\r\n    private String dt;\r\n\r\n    @JacksonXmlProperty (localName = &quot;CcyAmt&quot;)\r\n   @JacksonXmlElementWrapper (localName = &quot;CcyAmt&quot;)\r\n    private List&lt;CcyAmt&gt; ccyAmtList = new ArrayList&lt;&gt;();\r\n\r\n    public FxRate(String tp) {\r\n        this.tp = tp;\r\n    }\r\n\r\n    public String getTp() {\r\n        return tp;\r\n    }\r\n\r\n    public void setTp(String tp) {\r\n        this.tp = tp;\r\n    }\r\n\r\n    public String getDt() {\r\n        return dt;\r\n    }\r\n\r\n    public void setDt(String dt) {\r\n        this.dt = dt;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI could not successfully find out what&#39;s the issue, it seems that the jackson does not reach the CcyAmt class? ","title":"Unrecognized field in JacksonXML","body":"<p>I get this issue,where jackson xml cannot map the Ccy field from other CcyAmt class.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Ccy&quot; (class com.currencyExchanger.codeAcadaemy.FxRate), not marked as ignorable (4 known properties: &quot;Dt&quot;, &quot;Tp&quot;, &quot;ccyAmt&quot;, &quot;CcyAmt&quot;])\n\n</code></pre>\n<p>Why jackson cannot see the field Ccy field?</p>\n<p>This is my xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;FxRates&gt;\n    &lt;FxRate&gt;\n        &lt;Tp&gt;EU&lt;/Tp&gt;\n        &lt;Dt&gt;2023-10-02&lt;/Dt&gt;\n        &lt;CcyAmt&gt;\n            &lt;Ccy&gt;EUR&lt;/Ccy&gt;\n            &lt;Amt&gt;1&lt;/Amt&gt;\n        &lt;/CcyAmt&gt;\n        &lt;CcyAmt&gt;\n            &lt;Ccy&gt;AUD&lt;/Ccy&gt;\n            &lt;Amt&gt;1.6472&lt;/Amt&gt;\n        &lt;/CcyAmt&gt;\n    &lt;/FxRate&gt;\n&lt;/FxRates&gt;\n</code></pre>\n<p>This is the CcyAmt class with the problematic Ccy field.</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@JacksonXmlRootElement(localName = &quot;CcyAmt&quot;)\npublic class CcyAmt {\n\n    @JacksonXmlProperty(localName = &quot;Ccy&quot;)\n    private String ccy;\n\n    @JacksonXmlProperty(localName = &quot;Amt&quot;)\n    private double amt;\n\n    public CcyAmt(String ccy) {\n        this.ccy = ccy;\n    }\n}\n\n</code></pre>\n<p>That's my FxRate class:</p>\n<pre><code>@Getter\n@Setter @AllArgsConstructor @NoArgsConstructor\n@ToString\n\n@JacksonXmlRootElement(localName = &quot;FxRate&quot;)\npublic class FxRate {\nCcyAmt ccyAmt;\n\n    @JsonProperty(&quot;Tp&quot;)\n    private String tp;\n\n    @JacksonXmlProperty(localName = &quot;Dt&quot;)\n    private String dt;\n\n    @JacksonXmlProperty (localName = &quot;CcyAmt&quot;)\n   @JacksonXmlElementWrapper (localName = &quot;CcyAmt&quot;)\n    private List&lt;CcyAmt&gt; ccyAmtList = new ArrayList&lt;&gt;();\n\n    public FxRate(String tp) {\n        this.tp = tp;\n    }\n\n    public String getTp() {\n        return tp;\n    }\n\n    public void setTp(String tp) {\n        this.tp = tp;\n    }\n\n    public String getDt() {\n        return dt;\n    }\n\n    public void setDt(String dt) {\n        this.dt = dt;\n    }\n\n\n}\n\n</code></pre>\n<p>I could not successfully find out what's the issue, it seems that the jackson does not reach the CcyAmt class?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695288681,"post_id":77148932,"comment_id":136005549,"body_markdown":"didn&#39;t I see this question yesterday as well?","body":"didn&#39;t I see this question yesterday as well?"},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":2,"creation_date":1695288923,"post_id":77148932,"comment_id":136005605,"body_markdown":"Does this answer your question? - https://stackoverflow.com/a/76927754/7598774","body":"Does this answer your question? - <a href=\"https://stackoverflow.com/a/76927754/7598774\">stackoverflow.com/a/76927754/7598774</a>"},{"owner":{"account_id":7468263,"reputation":21,"user_id":5677866,"display_name":"Katerina Adamantidi"},"score":0,"creation_date":1695624498,"post_id":77148932,"comment_id":136043928,"body_markdown":"No it doesn&#39;t. I have those packages in my pom.xml and issue still exists.\nWhen chrome was updated from 114 to 116 these packages updates fixed the issue but when chrome was updated from 116 to 117 issue appeared again","body":"No it doesn&#39;t. I have those packages in my pom.xml and issue still exists. When chrome was updated from 114 to 116 these packages updates fixed the issue but when chrome was updated from 116 to 117 issue appeared again"}],"answers":[{"tags":[],"owner":{"account_id":18294970,"reputation":21,"user_id":13321071,"display_name":"Reffiel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696075451,"creation_date":1695997354,"answer_id":77202709,"question_id":77148932,"body_markdown":"To solve this problem, I used this link\r\n([Chrome for Testing availability][1]) and checked the chromedriver according to my OS.\r\nDo not forget to confirm and adjust if necessary the environment variables for chromedriver.\r\n\r\nChrome &gt; Version 117.0.5938.132\r\nChromeDriver &gt; [Download Link][2]\r\n\r\nI hope I have helped.\r\n\r\n\r\n  [1]: https://googlechromelabs.github.io/chrome-for-testing/#stable\r\n  [2]: https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/117.0.5938.92/win32/chromedriver-win32.zip","title":"This version of ChromeDriver only supports Chrome version 114 Current browser version is 117.0.5938.89","body":"<p>To solve this problem, I used this link\n(<a href=\"https://googlechromelabs.github.io/chrome-for-testing/#stable\" rel=\"nofollow noreferrer\">Chrome for Testing availability</a>) and checked the chromedriver according to my OS.\nDo not forget to confirm and adjust if necessary the environment variables for chromedriver.</p>\n<p>Chrome &gt; Version 117.0.5938.132\nChromeDriver &gt; <a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/117.0.5938.92/win32/chromedriver-win32.zip\" rel=\"nofollow noreferrer\">Download Link</a></p>\n<p>I hope I have helped.</p>\n"}],"owner":{"account_id":7468263,"reputation":21,"user_id":5677866,"display_name":"Katerina Adamantidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696880967,"creation_date":1695288583,"question_id":77148932,"body_markdown":"I am trying to execute a Java selenium test.\r\n\r\nExpected outcome: Browser session is started and test steps are performed.\r\n\r\nCurrent behavior: Browser session is not started with error:\r\n````\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \r\n````\r\nI am getting the following error after chrome got updated from 116 to 117 version:\r\n````\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \r\n````\r\nIn my pom.xml file I have:\r\n\r\n&gt;webdriver-manager 5.5.3\r\n\r\n&gt;selenium-java     4.12.1\r\n","title":"This version of ChromeDriver only supports Chrome version 114 Current browser version is 117.0.5938.89","body":"<p>I am trying to execute a Java selenium test.</p>\n<p>Expected outcome: Browser session is started and test steps are performed.</p>\n<p>Current behavior: Browser session is not started with error:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \n</code></pre>\n<p>I am getting the following error after chrome got updated from 116 to 117 version:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 117.0.5938.89 with binary path C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe \n</code></pre>\n<p>In my pom.xml file I have:</p>\n<blockquote>\n<p>webdriver-manager 5.5.3</p>\n</blockquote>\n<blockquote>\n<p>selenium-java     4.12.1</p>\n</blockquote>\n"},{"tags":["java","grpc","istio","grpc-java","istio-sidecar"],"answers":[{"tags":[],"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696880381,"creation_date":1696619701,"answer_id":77246887,"question_id":77136374,"body_markdown":"In your deployment spec on the client side I see something called GRPC_SERVER_ADDRESS being set to `xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090` which will only work in the proxyless mode. In the proxy mode (with Envoy sidecar) you need to remove the `xds:///` prefix so that the access goes through DNS lookup first and then the sidecar which will use xDS lookup.","title":"GRPC Client not able to find Virtual hostname when deployed with istio DestinationRule and VirtualService","body":"<p>In your deployment spec on the client side I see something called GRPC_SERVER_ADDRESS being set to <code>xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090</code> which will only work in the proxyless mode. In the proxy mode (with Envoy sidecar) you need to remove the <code>xds:///</code> prefix so that the access goes through DNS lookup first and then the sidecar which will use xDS lookup.</p>\n"}],"owner":{"account_id":10770086,"reputation":9,"user_id":9587562,"display_name":"aditya ranjan Barik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696880381,"creation_date":1695140974,"question_id":77136374,"body_markdown":"I have an Grpc application ( java + maven). Both grpc server and client are deployed with istio on minikube cluster. When grpc client tries to make a grpc call to server it gets Error \r\n\r\n```\r\nSEVERE: Servlet.service() for servlet [ServerSubsetServlet] in context with path [/grpc_client] threw exception\r\nio.grpc.StatusRuntimeException: UNAVAILABLE: Failed to find virtual host matching hostname: grpc-server-service.grpc-istio.svc.cluster.local:9090\r\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\n    at com.example.grpcproto.GrpcIstioRoutingServerGrpc$GrpcIstioRoutingServerBlockingStub.getServerSubset(GrpcIstioRoutingServerGrpc.java:157)\r\n    at org.example.GrpcClientHandler.getServerSubset(GrpcClientHandler.java:39)\r\n    at org.example.ServerSubsetTestServlet.doGet(ServerSubsetTestServlet.java:23)\r\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n```\r\n\r\n\r\nServer Side Destination Rule and Virtual Service\r\n\r\n```\r\n---\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: DestinationRule\r\nmetadata:\r\n  name: grpc-server-destination\r\n  namespace: grpc-istio\r\nspec:\r\n  host: grpc-server-service.grpc-istio.svc.cluster.local\r\n  subsets:\r\n  - name: server-1\r\n    labels:\r\n      server: server-1\r\n  - name: server-2\r\n    labels:\r\n      server: server-2\r\n---\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: VirtualService\r\nmetadata:\r\n  name: grpc-server-route\r\n  namespace: grpc-istio\r\nspec:\r\n  hosts:\r\n    - grpc-server-service.grpc-istio.svc.cluster.local\r\n  http:\r\n  - match:\r\n    - headers:\r\n        SERVER:\r\n          exact: &quot;server-1&quot;\r\n    route:\r\n    - destination:\r\n        host: grpc-server-service.grpc-istio.svc.cluster.local\r\n        subset: server-1\r\n  - match:\r\n    - headers:\r\n        SERVER:\r\n          exact: &quot;server-2&quot;\r\n    route:\r\n    - destination:\r\n        host: grpc-server-service.grpc-istio.svc.cluster.local\r\n        subset: server-2\r\n\r\n```\r\n\r\n\r\nClient side Deployment yaml\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: grpc-client\r\n  namespace: grpc-istio\r\n  labels:\r\n    name: grpc-client\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: grpc-client\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: grpc-client\r\n      annotations:\r\n        sidecar.istio.io/inject: &#39;true&#39;\r\n        proxy.istio.io/config: &#39;holdApplicationUntilProxyStarts: true&#39;\r\n        inject.istio.io/templates: &#39;grpc-agent&#39;\r\n    spec:\r\n      containers:\r\n        - name: grpc-client\r\n          image: grpc-client:latest\r\n          imagePullPolicy: IfNotPresent\r\n          env:\r\n            - name: GRPC_SERVER_ADDRESS\r\n              value: &quot;xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090&quot;\r\n          ports:\r\n            - containerPort: 8080\r\n\r\n```\r\n\r\n\r\n\r\nWithout envoy proxy side car  the GRPC client and server are able to communicate using channel, but when sidecar container is deployed and virtual service along with destination rule is used for request routing the client get this above error\r\n\r\nUnable to get what is wrong with Virtual service / DestinationRule!!\r\n\r\n*Expected Behaviour:*\r\n\r\nSetup is like we can hit grpc client which also exposes the 8080 port for HTTP calls ,\r\nwhen we hit the http call with a param *server-1* or *server-2* it directs the grpc call to server with the same corresponding label\r\n\r\nThere are 2 deployments for server with different labels\r\neach deployment has 2 replicas.\r\n\r\nSo when grp client make the request with *server-1* in header metadata the call should go to the pod with *server: server-1* label, and similarly when request is made using *server-2* header the call should go to pods with label of *server: server-2*\r\n\r\n```\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: grpc-server-1\r\n  namespace: grpc-istio\r\n  labels:\r\n    name: grpc-server-1\r\n    server: server-1\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: grpc-server\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: grpc-server\r\n        server: server-1\r\n      annotations:\r\n        sidecar.istio.io/inject: &#39;true&#39;\r\n        proxy.istio.io/config: &#39;holdApplicationUntilProxyStarts: true&#39;\r\n        inject.istio.io/templates: &#39;grpc-agent&#39;\r\n    spec:\r\n      containers:\r\n        - name: grpc-server\r\n          image: grpc-server:latest\r\n          imagePullPolicy: Never\r\n          env:\r\n            - name: SERVER\r\n              value: &quot;SERVER_1&quot;\r\n          ports:\r\n            - containerPort: 9090\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: grpc-server-2\r\n  namespace: grpc-istio\r\n  labels:\r\n    name: grpc-server-2\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: grpc-server\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: grpc-server\r\n        server: server-2\r\n      annotations:\r\n        sidecar.istio.io/inject: &#39;true&#39;\r\n        proxy.istio.io/config: &#39;holdApplicationUntilProxyStarts: true&#39;\r\n        inject.istio.io/templates: &#39;grpc-agent&#39;\r\n    spec:\r\n      containers:\r\n        - name: grpc-server\r\n          image: grpc-server:latest\r\n          imagePullPolicy: Never\r\n          env:\r\n            - name: SERVER\r\n              value: &quot;SERVER_2&quot;\r\n          ports:\r\n            - containerPort: 9090\r\n\r\n\r\n```\r\n\r\n","title":"GRPC Client not able to find Virtual hostname when deployed with istio DestinationRule and VirtualService","body":"<p>I have an Grpc application ( java + maven). Both grpc server and client are deployed with istio on minikube cluster. When grpc client tries to make a grpc call to server it gets Error</p>\n<pre><code>SEVERE: Servlet.service() for servlet [ServerSubsetServlet] in context with path [/grpc_client] threw exception\nio.grpc.StatusRuntimeException: UNAVAILABLE: Failed to find virtual host matching hostname: grpc-server-service.grpc-istio.svc.cluster.local:9090\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\n    at com.example.grpcproto.GrpcIstioRoutingServerGrpc$GrpcIstioRoutingServerBlockingStub.getServerSubset(GrpcIstioRoutingServerGrpc.java:157)\n    at org.example.GrpcClientHandler.getServerSubset(GrpcClientHandler.java:39)\n    at org.example.ServerSubsetTestServlet.doGet(ServerSubsetTestServlet.java:23)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n</code></pre>\n<p>Server Side Destination Rule and Virtual Service</p>\n<pre><code>---\napiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: grpc-server-destination\n  namespace: grpc-istio\nspec:\n  host: grpc-server-service.grpc-istio.svc.cluster.local\n  subsets:\n  - name: server-1\n    labels:\n      server: server-1\n  - name: server-2\n    labels:\n      server: server-2\n---\napiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: grpc-server-route\n  namespace: grpc-istio\nspec:\n  hosts:\n    - grpc-server-service.grpc-istio.svc.cluster.local\n  http:\n  - match:\n    - headers:\n        SERVER:\n          exact: &quot;server-1&quot;\n    route:\n    - destination:\n        host: grpc-server-service.grpc-istio.svc.cluster.local\n        subset: server-1\n  - match:\n    - headers:\n        SERVER:\n          exact: &quot;server-2&quot;\n    route:\n    - destination:\n        host: grpc-server-service.grpc-istio.svc.cluster.local\n        subset: server-2\n\n</code></pre>\n<p>Client side Deployment yaml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grpc-client\n  namespace: grpc-istio\n  labels:\n    name: grpc-client\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grpc-client\n  template:\n    metadata:\n      labels:\n        app: grpc-client\n      annotations:\n        sidecar.istio.io/inject: 'true'\n        proxy.istio.io/config: 'holdApplicationUntilProxyStarts: true'\n        inject.istio.io/templates: 'grpc-agent'\n    spec:\n      containers:\n        - name: grpc-client\n          image: grpc-client:latest\n          imagePullPolicy: IfNotPresent\n          env:\n            - name: GRPC_SERVER_ADDRESS\n              value: &quot;xds:///grpc-server-service.grpc-istio.svc.cluster.local:9090&quot;\n          ports:\n            - containerPort: 8080\n\n</code></pre>\n<p>Without envoy proxy side car  the GRPC client and server are able to communicate using channel, but when sidecar container is deployed and virtual service along with destination rule is used for request routing the client get this above error</p>\n<p>Unable to get what is wrong with Virtual service / DestinationRule!!</p>\n<p><em>Expected Behaviour:</em></p>\n<p>Setup is like we can hit grpc client which also exposes the 8080 port for HTTP calls ,\nwhen we hit the http call with a param <em>server-1</em> or <em>server-2</em> it directs the grpc call to server with the same corresponding label</p>\n<p>There are 2 deployments for server with different labels\neach deployment has 2 replicas.</p>\n<p>So when grp client make the request with <em>server-1</em> in header metadata the call should go to the pod with <em>server: server-1</em> label, and similarly when request is made using <em>server-2</em> header the call should go to pods with label of <em>server: server-2</em></p>\n<pre><code>---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grpc-server-1\n  namespace: grpc-istio\n  labels:\n    name: grpc-server-1\n    server: server-1\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: grpc-server\n  template:\n    metadata:\n      labels:\n        app: grpc-server\n        server: server-1\n      annotations:\n        sidecar.istio.io/inject: 'true'\n        proxy.istio.io/config: 'holdApplicationUntilProxyStarts: true'\n        inject.istio.io/templates: 'grpc-agent'\n    spec:\n      containers:\n        - name: grpc-server\n          image: grpc-server:latest\n          imagePullPolicy: Never\n          env:\n            - name: SERVER\n              value: &quot;SERVER_1&quot;\n          ports:\n            - containerPort: 9090\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grpc-server-2\n  namespace: grpc-istio\n  labels:\n    name: grpc-server-2\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: grpc-server\n  template:\n    metadata:\n      labels:\n        app: grpc-server\n        server: server-2\n      annotations:\n        sidecar.istio.io/inject: 'true'\n        proxy.istio.io/config: 'holdApplicationUntilProxyStarts: true'\n        inject.istio.io/templates: 'grpc-agent'\n    spec:\n      containers:\n        - name: grpc-server\n          image: grpc-server:latest\n          imagePullPolicy: Never\n          env:\n            - name: SERVER\n              value: &quot;SERVER_2&quot;\n          ports:\n            - containerPort: 9090\n\n\n</code></pre>\n"},{"tags":["java","spring-cloud","spring-webflux","spring-cloud-gateway","spring-webclient"],"owner":{"account_id":418378,"reputation":397,"user_id":794903,"accept_rate":73,"display_name":"ChambreNoire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1696878356,"creation_date":1624960000,"question_id":68176294,"body_markdown":"I&#39;m currently working on a REST &#39;proxy&#39; for use in development. The idea is to launch a jar on the command-line, supplying it with a base url for the &#39;proxied&#39; REST API and an existing secret key used for authentication. The proxy handles authentication/renewal and forwards all REST calls to the target API.\r\n\r\nI thought that Spring Cloud Gateway might be a good fit for this and using request chaining have managed to get the authentication side of things working :\r\n \r\n```java\r\n@Configuration\r\npublic class FilterConfiguration {\r\n\r\n    @Bean\r\n    public RouteLocator mock(RouteLocatorBuilder builder, @Value(&quot;${gateway.url}&quot;) String url, @Value(&quot;${secret.key}&quot;) String secretKey, MyGatewayFilterFactory filterFactory) {\r\n        return builder.routes()\r\n            .route(&quot;pass-through&quot;, predicateSpec -&gt; predicateSpec\r\n                .path(&quot;/authentication/sign/in/**&quot;, &quot;/authentication/renew/**&quot;)\r\n                .uri(url))\r\n            .route(&quot;requires-auth&quot;, predicateSpec -&gt; predicateSpec\r\n                .alwaysTrue()\r\n                .filters(gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                    .filter(filterFactory.apply(new MyGatewayFilterFactory.Config(secretKey)))\r\n                )\r\n                .uri(url))\r\n            .build();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MyGatewayFilterFactory extends AbstractGatewayFilterFactory&lt;MyGatewayFilterFactory .Config&gt; {\r\n\r\n    private final WebClient webClient;\r\n\r\n    @Override\r\n    public GatewayFilter apply(MyGatewayFilterFactory.Config config) {\r\n        return (exchange, chain) -&gt; Optional.of(AccessTokensHolder.tokens)\r\n            .map(AtomicReference::get)\r\n            .map(Mono::just)\r\n            .orElseGet(() -&gt; this.signIn(config.getSecretKey()))\r\n            .flatMap(accessTokens -&gt; {\r\n                exchange.getRequest()\r\n                    .mutate()\r\n                    .header(HttpHeaders.AUTHORIZATION, String.format(&quot;%s %s&quot;, accessTokens.getType(), accessTokens.getAccessToken()));\r\n                return chain.filter(exchange);\r\n            })\r\n            .onErrorResume(t -&gt; Mono.empty())\r\n            .then(Mono.fromRunnable(this.postRequest(exchange)));\r\n    }\r\n\r\n    private Mono&lt;AccessTokens&gt; signIn(String secretKey) {\r\n        // uses the webClient to get the access tokens for the secretKey ...\r\n    }\r\n\r\n    private Runnable postRequest(ServerWebExchange exchange) {\r\n        return () -&gt; {\r\n            ServerHttpResponse response = exchange.getResponse();\r\n            if (HttpStatus.PRECONDITION_FAILED.equals(response.getStatusCode())) {\r\n                \r\n                // todo : HELP!\r\n            }\r\n        };\r\n    }\r\n\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    public static class Config {\r\n\r\n        public final String secretKey;\r\n    }\r\n\r\n    private static final class AccessTokensHolder {\r\n        private static final AtomicReference&lt;AccessTokens&gt; tokens = new AtomicReference&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nMy problem is the handling of the response. If the authenticated call responds with a 412, I need to be able to make a webClient call to refresh the access tokens and then perform the original call again (with a modified Authorization header). I can&#39;t see how to achieve this (fairly new to SCG &amp; WebFlux)...\r\n\r\n(Btw, if anyone knows of a better/simpler ways of achieving this, I&#39;m all ears!)\r\n\r\nAny help would be most appreciated!\r\n\r\nCheers!","title":"Using a Spring Cloud Gateway filter to retry a REST call with modified headers?","body":"<p>I'm currently working on a REST 'proxy' for use in development. The idea is to launch a jar on the command-line, supplying it with a base url for the 'proxied' REST API and an existing secret key used for authentication. The proxy handles authentication/renewal and forwards all REST calls to the target API.</p>\n<p>I thought that Spring Cloud Gateway might be a good fit for this and using request chaining have managed to get the authentication side of things working :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class FilterConfiguration {\n\n    @Bean\n    public RouteLocator mock(RouteLocatorBuilder builder, @Value(&quot;${gateway.url}&quot;) String url, @Value(&quot;${secret.key}&quot;) String secretKey, MyGatewayFilterFactory filterFactory) {\n        return builder.routes()\n            .route(&quot;pass-through&quot;, predicateSpec -&gt; predicateSpec\n                .path(&quot;/authentication/sign/in/**&quot;, &quot;/authentication/renew/**&quot;)\n                .uri(url))\n            .route(&quot;requires-auth&quot;, predicateSpec -&gt; predicateSpec\n                .alwaysTrue()\n                .filters(gatewayFilterSpec -&gt; gatewayFilterSpec\n                    .filter(filterFactory.apply(new MyGatewayFilterFactory.Config(secretKey)))\n                )\n                .uri(url))\n            .build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class MyGatewayFilterFactory extends AbstractGatewayFilterFactory&lt;MyGatewayFilterFactory .Config&gt; {\n\n    private final WebClient webClient;\n\n    @Override\n    public GatewayFilter apply(MyGatewayFilterFactory.Config config) {\n        return (exchange, chain) -&gt; Optional.of(AccessTokensHolder.tokens)\n            .map(AtomicReference::get)\n            .map(Mono::just)\n            .orElseGet(() -&gt; this.signIn(config.getSecretKey()))\n            .flatMap(accessTokens -&gt; {\n                exchange.getRequest()\n                    .mutate()\n                    .header(HttpHeaders.AUTHORIZATION, String.format(&quot;%s %s&quot;, accessTokens.getType(), accessTokens.getAccessToken()));\n                return chain.filter(exchange);\n            })\n            .onErrorResume(t -&gt; Mono.empty())\n            .then(Mono.fromRunnable(this.postRequest(exchange)));\n    }\n\n    private Mono&lt;AccessTokens&gt; signIn(String secretKey) {\n        // uses the webClient to get the access tokens for the secretKey ...\n    }\n\n    private Runnable postRequest(ServerWebExchange exchange) {\n        return () -&gt; {\n            ServerHttpResponse response = exchange.getResponse();\n            if (HttpStatus.PRECONDITION_FAILED.equals(response.getStatusCode())) {\n                \n                // todo : HELP!\n            }\n        };\n    }\n\n    @Data\n    @RequiredArgsConstructor\n    public static class Config {\n\n        public final String secretKey;\n    }\n\n    private static final class AccessTokensHolder {\n        private static final AtomicReference&lt;AccessTokens&gt; tokens = new AtomicReference&lt;&gt;();\n    }\n}\n</code></pre>\n<p>My problem is the handling of the response. If the authenticated call responds with a 412, I need to be able to make a webClient call to refresh the access tokens and then perform the original call again (with a modified Authorization header). I can't see how to achieve this (fairly new to SCG &amp; WebFlux)...</p>\n<p>(Btw, if anyone knows of a better/simpler ways of achieving this, I'm all ears!)</p>\n<p>Any help would be most appreciated!</p>\n<p>Cheers!</p>\n"},{"tags":["java","memory-leaks","vaadin","broadcast"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696658831,"post_id":77247000,"comment_id":136184548,"body_markdown":"Could you change your LinkedList to WeakHashMap as shown in this example and observe if it helps? https://github.com/TatuLund/cdi-demo/blob/master/src/main/java/org/vaadin/cdidemo/eventbus/EventBusImpl.java Also the latest Vaadin 24.1 version has Beacon listener built in and it will close UI immediately when browser is closed. So you do not need short heart beat for that. 10 seconds is absolutely too short as it will produce excess traffic and probably fail with hibernating browser tabs.","body":"Could you change your LinkedList to WeakHashMap as shown in this example and observe if it helps? <a href=\"https://github.com/TatuLund/cdi-demo/blob/master/src/main/java/org/vaadin/cdidemo/eventbus/EventBusImpl.java\" rel=\"nofollow noreferrer\">github.com/TatuLund/cdi-demo/blob/master/src/main/java/org/&hellip;</a> Also the latest Vaadin 24.1 version has Beacon listener built in and it will close UI immediately when browser is closed. So you do not need short heart beat for that. 10 seconds is absolutely too short as it will produce excess traffic and probably fail with hibernating browser tabs."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696677290,"post_id":77247000,"comment_id":136186013,"body_markdown":"Thanks for your quick reply. I have tried the weakhashmap and updated my source code above accordingly. But unfortunately that didn&#39;t help either. If I open 10 tabs of the same GUI and then close the browser, 1-5 listeners remain active and memory fills up fairly quickly. I also tried with different keys for the hashmap, but again I could not get any change.","body":"Thanks for your quick reply. I have tried the weakhashmap and updated my source code above accordingly. But unfortunately that didn&#39;t help either. If I open 10 tabs of the same GUI and then close the browser, 1-5 listeners remain active and memory fills up fairly quickly. I also tried with different keys for the hashmap, but again I could not get any change."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696691699,"post_id":77247000,"comment_id":136187299,"body_markdown":"It is important to use the listener as a key. WeakHashMap means by definition that the key is a weak reference, not the value.","body":"It is important to use the listener as a key. WeakHashMap means by definition that the key is a weak reference, not the value."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696704543,"post_id":77247000,"comment_id":136188545,"body_markdown":"Yes, I tried that too, but it behaved the same way. For some reason the onDetach method is not called for all listeners and the client seems to live on. Could this also have something to do with the thread being blocked at the time and the onDetach being skipped?","body":"Yes, I tried that too, but it behaved the same way. For some reason the onDetach method is not called for all listeners and the client seems to live on. Could this also have something to do with the thread being blocked at the time and the onDetach being skipped?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696775611,"post_id":77247000,"comment_id":136193690,"body_markdown":"I would not store the Runnable to the broadcaster. I would only store simple listener that triggers the view to run runnable that is defined in the view itself. See my repo for examples. I tend to believe that there is something in your Runnable that is preventing it to be GC&#39;d. And yes thread being blocked could be an issue.","body":"I would not store the Runnable to the broadcaster. I would only store simple listener that triggers the view to run runnable that is defined in the view itself. See my repo for examples. I tend to believe that there is something in your Runnable that is preventing it to be GC&#39;d. And yes thread being blocked could be an issue."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696842171,"post_id":77247000,"comment_id":136199870,"body_markdown":"I have now completely rebuilt this once and used an EventBus as a key as in your repo. Unfortunately, this also does not change the behavior.\nIf I register a UI, then switch the page offline in the browser and then close the tab, Vaadin does not notice this and the listener remains active. If I lose the browser and reopen it, I get a new session. The old session with the UI remains active. \nCould it be that the client instantiated by Vaadin on our server continues to accept the data, but cannot forward it to the actual local client, that this memory leak then occurs?","body":"I have now completely rebuilt this once and used an EventBus as a key as in your repo. Unfortunately, this also does not change the behavior. If I register a UI, then switch the page offline in the browser and then close the tab, Vaadin does not notice this and the listener remains active. If I lose the browser and reopen it, I get a new session. The old session with the UI remains active.  Could it be that the client instantiated by Vaadin on our server continues to accept the data, but cannot forward it to the actual local client, that this memory leak then occurs?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1696873659,"post_id":77247000,"comment_id":136206011,"body_markdown":"Why you store session in the map? Note, the value is not weak reference.","body":"Why you store session in the map? Note, the value is not weak reference."},{"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"score":0,"creation_date":1696877873,"post_id":77247000,"comment_id":136206714,"body_markdown":"Sorry, I hadn&#39;t edited my code yet. But now it is modified as I had rebuilt it, which however leads to the same result.","body":"Sorry, I hadn&#39;t edited my code yet. But now it is modified as I had rebuilt it, which however leads to the same result."}],"owner":{"account_id":22483053,"reputation":1,"user_id":16681874,"display_name":"ed_dev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696877623,"creation_date":1696621116,"question_id":77247000,"body_markdown":"we are using Vaadin 24.1.10 and updating some views using the Broadcaster. From time to time the whole application crashes due to low memory. It then turns out that our software suddenly takes up to 4 GB instead of 200MB of memory and also does not release it. \r\nI have found out that if I have multiple tabs open in the browser, all of which have registered with our broadcast view and I then simply close the entire browser, only some clients are actually get detached from the broadcaster. Others remain and the broadcaster continues to send data to clients that do not exist. It appears that the data now stored into a buffer in memory and this continues until it is full and the software crashes.\r\nI have tried many things but nothing works. \r\nCan you help me please?\r\n\r\nBroadcaster:\r\n```\r\n    public static final WeakHashMap&lt;EventBusListener, Object&gt; dashboardListeners = new WeakHashMap&lt;&gt;();\r\n\r\n\r\n    public static void post(Object event) {\r\n        synchronized (dashboardListeners) {\r\n            dashboardListeners.forEach((listener, o) -&gt; {\r\n                listener.eventFired(event);\r\n            });\r\n        }\r\n    }\r\n\r\n    public static void registerEventBusListener(EventBusListener listener) {\r\n        synchronized (dashboardListeners) {\r\n            dashboardListeners.put(listener, null);\r\n        }\r\n    }\r\n\r\n    public static void unregisterEventBusListener(EventBusListener listener) {\r\n        synchronized (dashboardListeners) {\r\n            dashboardListeners.remove(listener);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nEventBus:\r\n\r\n    public interface EventBus {\r\n\r\n    public interface EventBusListener {\r\n        public void eventFired(Object event);\r\n    }\r\n\r\n    public static void post(Object event) {\r\n    }\r\n\r\n    public static void registerEventBusListener(EventBusListener listener) {\r\n    }\r\n    \r\n    public static void unregisterEventBusListener(EventBusListener listener) {\r\n    }\r\n    \r\n}\r\n\r\n\r\nView:\r\n```\r\n    protected void onAttach(AttachEvent attachEvent) {\r\n        Broadcaster.registerEventBusListener(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onDetach(DetachEvent detachEvent) {\r\n        Broadcaster.unregisterEventBusListener(this);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void eventFired(Object event) {\r\n        accessUiAndRun(this, this::refreshStateAndFill);\r\n    }\r\n\r\n\r\n    public static void accessUiAndRun(Component component, Runnable runnable) {\r\n            component.getUI().ifPresent(ui -&gt; {\r\n                if (ui.isAttached()) {\r\n                    ui.access(runnable::run);\r\n                }\r\n            });\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nI set the heartbeat to 10 seconds, hoping that the server would quickly detect that the client n longer exists. But I think that if the broadcaster continues to push data, then the heartbeat is not necessary at all. I have additionally queries to the ui.access whether ui.isattached and Ui.ifPresent, hoping that the server will detect that the client no longer exists.\r\nI hope there is a way to determine with certainty if there is still a client connected. It would also be good if there was a way for the broadcaster to not buffer the data in memory if no client accepts it.\r\n\r\nthank you very much.","title":"Vaadin 24.1.10 multiple clients not detaching from broadcaster causing memory leak","body":"<p>we are using Vaadin 24.1.10 and updating some views using the Broadcaster. From time to time the whole application crashes due to low memory. It then turns out that our software suddenly takes up to 4 GB instead of 200MB of memory and also does not release it.\nI have found out that if I have multiple tabs open in the browser, all of which have registered with our broadcast view and I then simply close the entire browser, only some clients are actually get detached from the broadcaster. Others remain and the broadcaster continues to send data to clients that do not exist. It appears that the data now stored into a buffer in memory and this continues until it is full and the software crashes.\nI have tried many things but nothing works.\nCan you help me please?</p>\n<p>Broadcaster:</p>\n<pre><code>    public static final WeakHashMap&lt;EventBusListener, Object&gt; dashboardListeners = new WeakHashMap&lt;&gt;();\n\n\n    public static void post(Object event) {\n        synchronized (dashboardListeners) {\n            dashboardListeners.forEach((listener, o) -&gt; {\n                listener.eventFired(event);\n            });\n        }\n    }\n\n    public static void registerEventBusListener(EventBusListener listener) {\n        synchronized (dashboardListeners) {\n            dashboardListeners.put(listener, null);\n        }\n    }\n\n    public static void unregisterEventBusListener(EventBusListener listener) {\n        synchronized (dashboardListeners) {\n            dashboardListeners.remove(listener);\n        }\n    }\n</code></pre>\n<p>EventBus:</p>\n<pre><code>public interface EventBus {\n\npublic interface EventBusListener {\n    public void eventFired(Object event);\n}\n\npublic static void post(Object event) {\n}\n\npublic static void registerEventBusListener(EventBusListener listener) {\n}\n\npublic static void unregisterEventBusListener(EventBusListener listener) {\n}\n</code></pre>\n<p>}</p>\n<p>View:</p>\n<pre><code>    protected void onAttach(AttachEvent attachEvent) {\n        Broadcaster.registerEventBusListener(this);\n    }\n\n    @Override\n    protected void onDetach(DetachEvent detachEvent) {\n        Broadcaster.unregisterEventBusListener(this);\n    }\n\n\n    @Override\n    public void eventFired(Object event) {\n        accessUiAndRun(this, this::refreshStateAndFill);\n    }\n\n\n    public static void accessUiAndRun(Component component, Runnable runnable) {\n            component.getUI().ifPresent(ui -&gt; {\n                if (ui.isAttached()) {\n                    ui.access(runnable::run);\n                }\n            });\n    }\n\n</code></pre>\n<p>I set the heartbeat to 10 seconds, hoping that the server would quickly detect that the client n longer exists. But I think that if the broadcaster continues to push data, then the heartbeat is not necessary at all. I have additionally queries to the ui.access whether ui.isattached and Ui.ifPresent, hoping that the server will detect that the client no longer exists.\nI hope there is a way to determine with certainty if there is still a client connected. It would also be good if there was a way for the broadcaster to not buffer the data in memory if no client accepts it.</p>\n<p>thank you very much.</p>\n"},{"tags":["java","sql","sql-server","hibernate","hibernate-query"],"answers":[{"tags":[],"owner":{"account_id":17462526,"reputation":4163,"user_id":12659872,"display_name":"SQLpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696864583,"creation_date":1696864583,"answer_id":77260003,"question_id":77256113,"body_markdown":"Because JSON functions drive directly the parse of the serie of data into a table variable instaed of leaving the values into the query...\r\n\r\nWhen you use a query with a IN, the optimizer transform the serie of IN values into OR statement. But when there is too muche values, this transform is not the best way to have fast performances.\r\n\r\nSince SQL Server 2017, new improvment has been done by that is called &quot;Intelligent Query Processor&quot; that can estimate the number of row a table variable can have by stopping the query when a table variable is encountered then asking for the cardinality of the table (the number of rows) then restart the execution of the query with the right cardinality that the optimizer need to choose which algorithm will be use to solve a join...\r\n\r\nBut the best way is to avoid using several different layers of code and adopt best practices to write plain queries... In your case the top would be to use a stored procedure and use a temporary table with a key to store values of the IN before the final query","title":"Why does using hibernate query .setParameter() + openjson() improve sql server query performance over .setParameterList()?","body":"<p>Because JSON functions drive directly the parse of the serie of data into a table variable instaed of leaving the values into the query...</p>\n<p>When you use a query with a IN, the optimizer transform the serie of IN values into OR statement. But when there is too muche values, this transform is not the best way to have fast performances.</p>\n<p>Since SQL Server 2017, new improvment has been done by that is called &quot;Intelligent Query Processor&quot; that can estimate the number of row a table variable can have by stopping the query when a table variable is encountered then asking for the cardinality of the table (the number of rows) then restart the execution of the query with the right cardinality that the optimizer need to choose which algorithm will be use to solve a join...</p>\n<p>But the best way is to avoid using several different layers of code and adopt best practices to write plain queries... In your case the top would be to use a stored procedure and use a temporary table with a key to store values of the IN before the final query</p>\n"},{"tags":[],"owner":{"account_id":2106996,"reputation":2760,"user_id":1874012,"display_name":"StrayCatDBA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696877484,"creation_date":1696877484,"answer_id":77261176,"question_id":77256113,"body_markdown":"There are several approaches to querying a large list of id values:\r\n\r\n```\r\n... WHERE id in (1,2,3,4,...39203) -- explicit list of values\r\n\r\n... WHERE id in (@p1, @p2, @p3... @p2000) -- list of parameters\r\n\r\n... WHERE id in (select .. FROM @tabledValueParameter ) -- single table value parameter.\r\n\r\n... WHERE id in (select ... FROM STRING_SPLIT(@ids,...)) -- single varchar &quot;csv&quot; parameter\r\n\r\n... WHERE id in (SELECT ... FROM OPENJSON(@ids,...) -- single varchar JSON parameter\r\n```\r\n\r\nThe first approach has the drawback of requiring a parse and compile of a new plan for every query execution. These are large plans. This takes time, causes plan cache bloat, wastes memory and will make your neighborhood DBA sad.\r\n\r\nThe second approach (default behavior for java/jpa) is marginally better.  It requires a parse and compile for each number of parameters.  e.g.  two queries with the same number of parameters can share the same plan.  The downside is that the amount of data sent to the server is increased, as the query is large, the parameter definition list is large and the parameter value list is large as well.  Depending on the query, this can double or triple the size of the data sent to SQL Server. Also there is a limit of 2100 parameters.  Less sad DBA.\r\n\r\nThe third approach uses a table valued parameter.  This is Microsoft&#39;s &quot;approved&quot; way to send multiple values to SQL server.  The advantage is the query text stays constant regardless of the number of values, so there is only one parse/compile and one query plan that gets used.  Supports an arbitrary number of values (100k+ is no issue). The downside is that table valued parameters are stored in tempdb, so potential for a whole new class of headaches in a high volume environment.  Better performance than the first two approaches over a certain number of values (~500 in my testing, YMMV).  Worse performance for a small number of values (~&lt;50) due to tempdb allocations.  DBA will be either fine or really not fine with this approach depending on tempdb contention.  \r\n\r\nThe last two approach have effectively the same performance characteristics.  The query text is constant, so plan re-use is great. The query plan is small.  Tempdb isn&#39;t involved, so no concerns there.  Both OPENJSON() and STRING_SPLIT() are very efficiently implemented in C++.  Performance meets or exceeds the other approaches for small numbers and is substantially better as the number of values grow (&gt;250 values).  \r\n\r\nSTRING_SPLIT() is a good choice for &quot;simple&quot; data types, e.g. a list of ints.  \r\n\r\nOPENJSON() is a better choice if you need to support ints, strings, dates, etc, or pass in complex objects.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does using hibernate query .setParameter() + openjson() improve sql server query performance over .setParameterList()?","body":"<p>There are several approaches to querying a large list of id values:</p>\n<pre><code>... WHERE id in (1,2,3,4,...39203) -- explicit list of values\n\n... WHERE id in (@p1, @p2, @p3... @p2000) -- list of parameters\n\n... WHERE id in (select .. FROM @tabledValueParameter ) -- single table value parameter.\n\n... WHERE id in (select ... FROM STRING_SPLIT(@ids,...)) -- single varchar &quot;csv&quot; parameter\n\n... WHERE id in (SELECT ... FROM OPENJSON(@ids,...) -- single varchar JSON parameter\n</code></pre>\n<p>The first approach has the drawback of requiring a parse and compile of a new plan for every query execution. These are large plans. This takes time, causes plan cache bloat, wastes memory and will make your neighborhood DBA sad.</p>\n<p>The second approach (default behavior for java/jpa) is marginally better.  It requires a parse and compile for each number of parameters.  e.g.  two queries with the same number of parameters can share the same plan.  The downside is that the amount of data sent to the server is increased, as the query is large, the parameter definition list is large and the parameter value list is large as well.  Depending on the query, this can double or triple the size of the data sent to SQL Server. Also there is a limit of 2100 parameters.  Less sad DBA.</p>\n<p>The third approach uses a table valued parameter.  This is Microsoft's &quot;approved&quot; way to send multiple values to SQL server.  The advantage is the query text stays constant regardless of the number of values, so there is only one parse/compile and one query plan that gets used.  Supports an arbitrary number of values (100k+ is no issue). The downside is that table valued parameters are stored in tempdb, so potential for a whole new class of headaches in a high volume environment.  Better performance than the first two approaches over a certain number of values (~500 in my testing, YMMV).  Worse performance for a small number of values (~&lt;50) due to tempdb allocations.  DBA will be either fine or really not fine with this approach depending on tempdb contention.</p>\n<p>The last two approach have effectively the same performance characteristics.  The query text is constant, so plan re-use is great. The query plan is small.  Tempdb isn't involved, so no concerns there.  Both OPENJSON() and STRING_SPLIT() are very efficiently implemented in C++.  Performance meets or exceeds the other approaches for small numbers and is substantially better as the number of values grow (&gt;250 values).</p>\n<p>STRING_SPLIT() is a good choice for &quot;simple&quot; data types, e.g. a list of ints.</p>\n<p>OPENJSON() is a better choice if you need to support ints, strings, dates, etc, or pass in complex objects.</p>\n"}],"owner":{"account_id":19138987,"reputation":25,"user_id":13979349,"display_name":"jk101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696877484,"creation_date":1696821749,"question_id":77256113,"body_markdown":"I have a complex SQL Server query that needs to process around 2000 parameters at a time. My query is complex, so for simplicity suppose we have:\r\n\r\n```\r\nselect *\r\nfrom sample_table\r\nwhere id in (:listIds);\r\n```\r\nIn the Java code, I insert listIds using from hibernate.query `.setParameterList(&quot;listIds&quot;, listIds)`, where listIds is of type `List&lt;String&gt;` and has around 2000 entries. This query takes too long and will sometimes timeout. \r\n\r\nI found [this answer](https://stackoverflow.com/a/60705570/13979349), where the author uses `openjson` and mentions improved performance. I followed a similar pattern:\r\n\r\n```\r\nselect *\r\nfrom sample_table\r\nwhere id in (select cast(value as NVARCHAR(20)) from openjson(:listIds);\r\n```\r\nIn the java code, I convert `List&lt;String&gt; listIds` into a JSON array of strings (e.g. `[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]`) of length 2000. I then use `.setParameter(&quot;listIds&quot;, listIds)` to insert listIds. This query finishes a lot faster than the previous approach.\r\n\r\nMy question is why does the latter approach seem to improve performance?\r\n\r\n\r\nI tried searching for explanations on `openjson` vs `.setParameterList()`. I&#39;m still unclear about why performance improved and was hoping someone could break this down for me.","title":"Why does using hibernate query .setParameter() + openjson() improve sql server query performance over .setParameterList()?","body":"<p>I have a complex SQL Server query that needs to process around 2000 parameters at a time. My query is complex, so for simplicity suppose we have:</p>\n<pre><code>select *\nfrom sample_table\nwhere id in (:listIds);\n</code></pre>\n<p>In the Java code, I insert listIds using from hibernate.query <code>.setParameterList(&quot;listIds&quot;, listIds)</code>, where listIds is of type <code>List&lt;String&gt;</code> and has around 2000 entries. This query takes too long and will sometimes timeout.</p>\n<p>I found <a href=\"https://stackoverflow.com/a/60705570/13979349\">this answer</a>, where the author uses <code>openjson</code> and mentions improved performance. I followed a similar pattern:</p>\n<pre><code>select *\nfrom sample_table\nwhere id in (select cast(value as NVARCHAR(20)) from openjson(:listIds);\n</code></pre>\n<p>In the java code, I convert <code>List&lt;String&gt; listIds</code> into a JSON array of strings (e.g. <code>[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</code>) of length 2000. I then use <code>.setParameter(&quot;listIds&quot;, listIds)</code> to insert listIds. This query finishes a lot faster than the previous approach.</p>\n<p>My question is why does the latter approach seem to improve performance?</p>\n<p>I tried searching for explanations on <code>openjson</code> vs <code>.setParameterList()</code>. I'm still unclear about why performance improved and was hoping someone could break this down for me.</p>\n"},{"tags":["java","gradle","build.gradle","mutation-testing","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696877370,"creation_date":1696877370,"answer_id":77261168,"question_id":77260060,"body_markdown":"You are using the default version of pitest used by 1.9.0 of the gradle plugin. This is very old.\r\n\r\nEither configure an explicit recent version of pitest\r\n\r\n```groovy\r\npitest {\r\n    pitestVersion = &#39;1.15.0&#39; \r\n    ...\r\n}\r\n```\r\n\r\nOr upgrade to the recent 1.15.0 release of the gradle plugin which uses pitest 1.15.0 by default.","title":"PITest with gradle Unsupported class file major version","body":"<p>You are using the default version of pitest used by 1.9.0 of the gradle plugin. This is very old.</p>\n<p>Either configure an explicit recent version of pitest</p>\n<pre><code>pitest {\n    pitestVersion = '1.15.0' \n    ...\n}\n</code></pre>\n<p>Or upgrade to the recent 1.15.0 release of the gradle plugin which uses pitest 1.15.0 by default.</p>\n"}],"owner":{"account_id":2154881,"reputation":3922,"user_id":1910355,"accept_rate":6,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261168,"answer_count":1,"score":0,"last_activity_date":1696877370,"creation_date":1696865097,"question_id":77260060,"body_markdown":"I&#39;m trying to get pitest running in [this java gradle project](https://github.com/JimLynchCodes/Gradle-Pitest-Example) but having a _VERY_ difficult time... &#128546;\r\n\r\nI have at least two problems: one about packages and one about Java versions.\r\n\r\n1)\r\n\r\nThe first issue is that my project is set up with a public class not contained within any package. I know it is kind of an antipattern to do this, but for a project with only a single java class and test file it seems unnecessary to have an additional package container.\r\n\r\nAnyway, it seems like pitest cannot file the file without it being inside of a package. Any I wrong here? Is there  something I can put for the &quot;testClasses&quot; value that it would pick up my Lasagna class?\r\n\r\n2)\r\n\r\nOk, so in the code here I have declared the &quot;LP&quot; package for my Lasagna class and updated my `build.gradle` with this pitest block:\r\n```groovy\r\npitest {\r\n    targetClasses = [&#39;LP*&#39;]  // by default &quot;${project.group}.*&quot;\r\n    threads = 4\r\n    outputFormats = [&#39;XML&#39;, &#39;HTML&#39;]\r\n    timestampedReports = false\r\n    junit5PluginVersion = &#39;1.2.0&#39;\r\n}\r\n```\r\n\r\nThe problem though is when I run `gradle pitest` I get an &quot;Unsupported class version&quot; Error...\r\n\r\n&gt; \r\n&gt; Task :pitest FAILED\r\n11:17:45 AM PIT &gt;&gt; INFO : Verbose logging is disabled. If you encounter a problem, please enable it before reporting an issue.\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported class file major version 65\r\n        at org.pitest.reloc.asm.ClassReader.&lt;init&gt;(ClassReader.java:199)\r\n        at org.pitest.reloc.asm.ClassReader.&lt;init&gt;(ClassReader.java:180)\r\n        at org.pitest.reloc.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n        at org.pitest.classinfo.ClassInfoVisitor.getClassInfo(ClassInfoVisitor.java:41)\r\n        at org.pitest.classinfo.Repository.nameToClassInfo(Repository.java:70)\r\n        at org.pitest.classinfo.Repository.fetchClass(Repository.java:60)\r\n        at org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:17)\r\n        at org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:7)\r\n        at java.base/java.util.function.Function.lambda$andThen$1(Function.java:88)\r\n        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\r\n        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n        at org.pitest.classpath.CodeSource.getCode(CodeSource.java:44)\r\n        at org.pitest.mutationtest.verify.DefaultBuildVerifier.verify(DefaultBuildVerifier.java:32)\r\n        at org.pitest.mutationtest.tooling.MutationCoverage.verifyBuildSuitableForMutationTesting(MutationCoverage.java:275)\r\n        at org.pitest.mutationtest.tooling.MutationCoverage.runReport(MutationCoverage.java:118)\r\n        at org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:129)\r\n        at org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:57)\r\n        at org.pitest.mutationtest.commandline.MutationCoverageReport.runReport(MutationCoverageReport.java:98)\r\n        at org.pitest.mutationtest.commandline.MutationCoverageReport.main(MutationCoverageReport.java:45)\r\n\r\n\r\nWhen I run `gradle -v` I get this output:\r\n\r\n&gt; \r\n&gt; ------------------------------------------------------------\r\n&gt; Gradle 8.3\r\n&gt; ------------------------------------------------------------\r\n&gt; \r\n&gt; Build time:   2023-08-17 07:06:47 UTC\r\n&gt; Revision:     8afbf24b469158b714b36e84c6f4d4976c86fcd5\r\n&gt; \r\n&gt; Kotlin:       1.9.0\r\n&gt; Groovy:       3.0.17\r\n&gt; Ant:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\n&gt; JVM:          21 (Homebrew 21)\r\n&gt; OS:           Mac OS X 12.4 x86_64\r\n&gt; \r\n\r\nWhen I run `java -v` it outputs an error, but I do have `jabba` installed and can switch versions if I need to, but I am unsure if it even wants me to switch the version my current shell is using or which version to switch it to...\r\n","title":"PITest with gradle Unsupported class file major version","body":"<p>I'm trying to get pitest running in <a href=\"https://github.com/JimLynchCodes/Gradle-Pitest-Example\" rel=\"nofollow noreferrer\">this java gradle project</a> but having a <em>VERY</em> difficult time... 😢</p>\n<p>I have at least two problems: one about packages and one about Java versions.</p>\n<p>1)</p>\n<p>The first issue is that my project is set up with a public class not contained within any package. I know it is kind of an antipattern to do this, but for a project with only a single java class and test file it seems unnecessary to have an additional package container.</p>\n<p>Anyway, it seems like pitest cannot file the file without it being inside of a package. Any I wrong here? Is there  something I can put for the &quot;testClasses&quot; value that it would pick up my Lasagna class?</p>\n<p>2)</p>\n<p>Ok, so in the code here I have declared the &quot;LP&quot; package for my Lasagna class and updated my <code>build.gradle</code> with this pitest block:</p>\n<pre><code>pitest {\n    targetClasses = ['LP*']  // by default &quot;${project.group}.*&quot;\n    threads = 4\n    outputFormats = ['XML', 'HTML']\n    timestampedReports = false\n    junit5PluginVersion = '1.2.0'\n}\n</code></pre>\n<p>The problem though is when I run <code>gradle pitest</code> I get an &quot;Unsupported class version&quot; Error...</p>\n<blockquote>\n<p>Task :pitest FAILED\n11:17:45 AM PIT &gt;&gt; INFO : Verbose logging is disabled. If you encounter a problem, please enable it before reporting an issue.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unsupported class file major version 65\nat org.pitest.reloc.asm.ClassReader.(ClassReader.java:199)\nat org.pitest.reloc.asm.ClassReader.(ClassReader.java:180)\nat org.pitest.reloc.asm.ClassReader.(ClassReader.java:166)\nat org.pitest.classinfo.ClassInfoVisitor.getClassInfo(ClassInfoVisitor.java:41)\nat org.pitest.classinfo.Repository.nameToClassInfo(Repository.java:70)\nat org.pitest.classinfo.Repository.fetchClass(Repository.java:60)\nat org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:17)\nat org.pitest.classinfo.NameToClassInfo.apply(NameToClassInfo.java:7)\nat java.base/java.util.function.Function.lambda$andThen$1(Function.java:88)\nat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\nat org.pitest.classpath.CodeSource.getCode(CodeSource.java:44)\nat org.pitest.mutationtest.verify.DefaultBuildVerifier.verify(DefaultBuildVerifier.java:32)\nat org.pitest.mutationtest.tooling.MutationCoverage.verifyBuildSuitableForMutationTesting(MutationCoverage.java:275)\nat org.pitest.mutationtest.tooling.MutationCoverage.runReport(MutationCoverage.java:118)\nat org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:129)\nat org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:57)\nat org.pitest.mutationtest.commandline.MutationCoverageReport.runReport(MutationCoverageReport.java:98)\nat org.pitest.mutationtest.commandline.MutationCoverageReport.main(MutationCoverageReport.java:45)</p>\n</blockquote>\n<p>When I run <code>gradle -v</code> I get this output:</p>\n<blockquote>\n<hr />\n<h2>Gradle 8.3</h2>\n<p>Build time:   2023-08-17 07:06:47 UTC\nRevision:     8afbf24b469158b714b36e84c6f4d4976c86fcd5</p>\n<p>Kotlin:       1.9.0\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          21 (Homebrew 21)\nOS:           Mac OS X 12.4 x86_64</p>\n</blockquote>\n<p>When I run <code>java -v</code> it outputs an error, but I do have <code>jabba</code> installed and can switch versions if I need to, but I am unsure if it even wants me to switch the version my current shell is using or which version to switch it to...</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696877370,"creation_date":1696877370,"answer_id":77261169,"question_id":77259782,"body_markdown":"Looks like this is still supported. Helps to have a friend that can assist. Unfortunately, this is not documented well enough, but hopefully this helps others.\r\n\r\n`org.springframework.cloud:spring-cloud-stream-binder-test` has been discontinued and the `test-binder` jar has been moved to `org.springframework.cloud:spring-cloud-stream-test-binder`.\r\n\r\n**Update build.gradle**\r\n\r\n```groovy\r\ndependencies {\r\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-stream-test-binder&#39;\r\n}\r\n```\r\n\r\n*Note the order of **test** and **binder** in the dependency name*\r\n\r\n[GitHub Reference](https://github.com/spring-cloud/spring-cloud-stream/issues/2598#issuecomment-1370227212)","title":"What happened to test-binder in Spring Cloud Stream / Spring Boot 3?","body":"<p>Looks like this is still supported. Helps to have a friend that can assist. Unfortunately, this is not documented well enough, but hopefully this helps others.</p>\n<p><code>org.springframework.cloud:spring-cloud-stream-binder-test</code> has been discontinued and the <code>test-binder</code> jar has been moved to <code>org.springframework.cloud:spring-cloud-stream-test-binder</code>.</p>\n<p><strong>Update build.gradle</strong></p>\n<pre><code>dependencies {\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\n    testImplementation 'org.springframework.cloud:spring-cloud-stream-test-binder'\n}\n</code></pre>\n<p><em>Note the order of <strong>test</strong> and <strong>binder</strong> in the dependency name</em></p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-stream/issues/2598#issuecomment-1370227212\" rel=\"nofollow noreferrer\">GitHub Reference</a></p>\n"}],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696877370,"creation_date":1696862652,"question_id":77259782,"body_markdown":"I&#39;m failing to find any documentation on this, but what happened to the test-binder for Spring Cloud Stream / Spring Boot 3?\r\n\r\nThis use to work fine with 2021 bom imports, but now get this error: *Could not find spring-cloud-stream-4.0.4-test-binder.jar (org.springframework.cloud:spring-cloud-stream:4.0.4).*\r\n\r\n**build.gradle**\r\n```groovy\r\ndependencies {\r\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-stream-binder-test&#39;\r\n    testImplementation(&quot;org.springframework.cloud:spring-cloud-stream&quot;) {\r\n        artifact {\r\n            name = &quot;spring-cloud-stream&quot;\r\n            extension = &quot;jar&quot;\r\n            type = &quot;test-jar&quot;\r\n            classifier = &quot;test-binder&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe end goal was to write an integration test for a consumer using `@Import(TestChannelBinderConfiguration.class)` and `InputDestination` and `OutputDestination`.\r\n\r\nIs this even supported anymore? Are functional interfaces for Spring Cloud Stream in Spring Boot 3 being abandoned? If not, what is the new way to test with `@SpringBootTest`?","title":"What happened to test-binder in Spring Cloud Stream / Spring Boot 3?","body":"<p>I'm failing to find any documentation on this, but what happened to the test-binder for Spring Cloud Stream / Spring Boot 3?</p>\n<p>This use to work fine with 2021 bom imports, but now get this error: <em>Could not find spring-cloud-stream-4.0.4-test-binder.jar (org.springframework.cloud:spring-cloud-stream:4.0.4).</em></p>\n<p><strong>build.gradle</strong></p>\n<pre><code>dependencies {\n    implementation platform(&quot;org.springframework.cloud:spring-cloud-dependencies:2022.0.4&quot;)\n    testImplementation 'org.springframework.cloud:spring-cloud-stream-binder-test'\n    testImplementation(&quot;org.springframework.cloud:spring-cloud-stream&quot;) {\n        artifact {\n            name = &quot;spring-cloud-stream&quot;\n            extension = &quot;jar&quot;\n            type = &quot;test-jar&quot;\n            classifier = &quot;test-binder&quot;\n        }\n    }\n}\n</code></pre>\n<p>The end goal was to write an integration test for a consumer using <code>@Import(TestChannelBinderConfiguration.class)</code> and <code>InputDestination</code> and <code>OutputDestination</code>.</p>\n<p>Is this even supported anymore? Are functional interfaces for Spring Cloud Stream in Spring Boot 3 being abandoned? If not, what is the new way to test with <code>@SpringBootTest</code>?</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1696934267,"post_id":77260606,"comment_id":136213195,"body_markdown":"Do you want a Map whose values are sorted lists, or a map whose keys are sorted ? Because there&#39;s two responses to your question, each answering one of both scenario.","body":"Do you want a Map whose values are sorted lists, or a map whose keys are sorted ? Because there&#39;s two responses to your question, each answering one of both scenario."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696872624,"creation_date":1696872624,"answer_id":77260759,"question_id":77260606,"body_markdown":"Use the `collectMultiMap` overloaded version with a `Supplier` as 3rd argument. That means you also need to provide a value mapper. In case you don&#39;t specify one already, use `Function.identity()`. For instance:\r\n\r\n```\r\nMono&lt;Map&lt;String, Collection&lt;YourType&gt;&gt;&gt; mono = flux.collectMultiMap(\r\n        t -&gt; extractStringFromT(t),\r\n        Function.identity(),\r\n        TreeMap::new\r\n);\r\n```","title":"Collect sorted map | Spring WebFlux","body":"<p>Use the <code>collectMultiMap</code> overloaded version with a <code>Supplier</code> as 3rd argument. That means you also need to provide a value mapper. In case you don't specify one already, use <code>Function.identity()</code>. For instance:</p>\n<pre><code>Mono&lt;Map&lt;String, Collection&lt;YourType&gt;&gt;&gt; mono = flux.collectMultiMap(\n        t -&gt; extractStringFromT(t),\n        Function.identity(),\n        TreeMap::new\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696876879,"creation_date":1696876879,"answer_id":77261134,"question_id":77260606,"body_markdown":"Here is the sample example shown below\r\n\r\n\r\n    public class FluxMapSortingExample {\r\n        public static void main(String[] args) {\r\n            Flux&lt;Tuple2&lt;String, Integer&gt;&gt; flux = Flux.just(\r\n                    Tuple2.of(&quot;one&quot;, 1),\r\n                    Tuple2.of(&quot;three&quot;, 3),\r\n                    Tuple2.of(&quot;two&quot;, 2)\r\n            );\r\n    \r\n            Mono&lt;Map&lt;String, Integer&gt;&gt; sortedMapMono = flux.collectSortedList((t1, t2) -&gt; t1.getT1().compareTo(t2.getT1()))\r\n                    .map(sortedList -&gt;\r\n                            sortedList.stream()\r\n                                    .collect(Collectors.toMap(Tuple2::getT1, Tuple2::getT2))\r\n                    );\r\n    \r\n            sortedMapMono.subscribe(sortedMap -&gt; {\r\n                System.out.println(&quot;Sorted Map: &quot; + sortedMap);\r\n            });\r\n        }\r\n    }","title":"Collect sorted map | Spring WebFlux","body":"<p>Here is the sample example shown below</p>\n<pre><code>public class FluxMapSortingExample {\n    public static void main(String[] args) {\n        Flux&lt;Tuple2&lt;String, Integer&gt;&gt; flux = Flux.just(\n                Tuple2.of(&quot;one&quot;, 1),\n                Tuple2.of(&quot;three&quot;, 3),\n                Tuple2.of(&quot;two&quot;, 2)\n        );\n\n        Mono&lt;Map&lt;String, Integer&gt;&gt; sortedMapMono = flux.collectSortedList((t1, t2) -&gt; t1.getT1().compareTo(t2.getT1()))\n                .map(sortedList -&gt;\n                        sortedList.stream()\n                                .collect(Collectors.toMap(Tuple2::getT1, Tuple2::getT2))\n                );\n\n        sortedMapMono.subscribe(sortedMap -&gt; {\n            System.out.println(&quot;Sorted Map: &quot; + sortedMap);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696876879,"creation_date":1696870827,"question_id":77260606,"body_markdown":"I have a Flux which I&#39;m converting to map using flux.collectMultiMap().\r\n\r\nThe key is of String type. How can I ensure that the resulting map is always sorted? In see we have collectSortedList, sort methods in Flux but those will only sort a list or Flux and not map.","title":"Collect sorted map | Spring WebFlux","body":"<p>I have a Flux which I'm converting to map using flux.collectMultiMap().</p>\n<p>The key is of String type. How can I ensure that the resulting map is always sorted? In see we have collectSortedList, sort methods in Flux but those will only sort a list or Flux and not map.</p>\n"},{"tags":["java","angular","spring","web"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1696877359,"post_id":77261101,"comment_id":136206610,"body_markdown":"Please [edit] the post and format it properly --- Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- Why do you think that this is a CORS error? `405` means &quot;method not allowed&quot;.","body":"Please <a href=\"https://stackoverflow.com/posts/77261101/edit\">edit</a> the post and format it properly --- Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a> --- Why do you think that this is a CORS error? <code>405</code> means &quot;method not allowed&quot;."},{"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"score":0,"creation_date":1696878676,"post_id":77261101,"comment_id":136206839,"body_markdown":"so at first I tried to just use the code @CrossOrigin(origins=&quot;*&quot;)\n but it didn&#39;t work so I tried the one you saw above because in the video he only used @CrossOrigin(origins=&quot;*&quot;)\nit works","body":"so at first I tried to just use the code @CrossOrigin(origins=&quot;<i>&quot;)  but it didn&#39;t work so I tried the one you saw above because in the video he only used @CrossOrigin(origins=&quot;</i>&quot;) it works"}],"owner":{"account_id":28042409,"reputation":9,"user_id":21419747,"display_name":"nathan augusto barbosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696876831,"creation_date":1696876585,"question_id":77261101,"body_markdown":"I&#39;m trying to get rid of the cors error in the index but it&#39;s not working. I tried using the code @CrossOrigin(origins=&quot;*&quot;) but it didn&#39;t work. Is it because I&#39;m using version 21 and in the video it uses version 17?\r\n\r\n    @RestController\r\n    @CrossOrigin(origins=&quot;*&quot;)\r\n\r\n    public class Controller {\r\n    @Autowired\r\n    private Repositorio acao;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n\r\n    public Cliente cadastrar(@RequestBody Cliente c ){\r\n    return acao.save(c);\r\n    }\r\n    @GetMapping(&quot;/&quot;)\r\n    public Iterable&lt;Cliente&gt; teste(){\r\n    return acao.findAll();\r\n    }\r\n     @Configuration\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;*&quot;)\r\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                    .allowedHeaders(&quot;*&quot;);\r\n        }\r\n    }\r\n    @PutMapping(&quot;/&quot;)\r\n    public Cliente editar(@RequestBody Cliente c){\r\n    return acao.save(c);\r\n    }\r\n    @DeleteMapping(&quot;/{codigo}&quot;)\r\n    public void remover(@PathVariable long codigo){\r\n    acao.deleteById(codigo);\r\n    }\r\n    }\r\n    [enter image description here](https://i.stack.imgur.com/9iwuP.png)\r\n\r\n\r\n    [enter image description here](https://i.stack.imgur.com/HeS0V.png)\r\nI expected the error to disappear from the console","title":"cors with error in the console the error does not disappear","body":"<p>I'm trying to get rid of the cors error in the index but it's not working. I tried using the code @CrossOrigin(origins=&quot;*&quot;) but it didn't work. Is it because I'm using version 21 and in the video it uses version 17?</p>\n<pre><code>@RestController\n@CrossOrigin(origins=&quot;*&quot;)\n\npublic class Controller {\n@Autowired\nprivate Repositorio acao;\n\n@PostMapping(&quot;/&quot;)\n\npublic Cliente cadastrar(@RequestBody Cliente c ){\nreturn acao.save(c);\n}\n@GetMapping(&quot;/&quot;)\npublic Iterable&lt;Cliente&gt; teste(){\nreturn acao.findAll();\n}\n @Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n@PutMapping(&quot;/&quot;)\npublic Cliente editar(@RequestBody Cliente c){\nreturn acao.save(c);\n}\n@DeleteMapping(&quot;/{codigo}&quot;)\npublic void remover(@PathVariable long codigo){\nacao.deleteById(codigo);\n}\n}\n[enter image description here](https://i.stack.imgur.com/9iwuP.png)\n\n\n[enter image description here](https://i.stack.imgur.com/HeS0V.png)\n</code></pre>\n<p>I expected the error to disappear from the console</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":27652664,"reputation":21,"user_id":21107205,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675309433,"creation_date":1675309433,"answer_id":75318466,"question_id":75279474,"body_markdown":"I solved my problem by simply replacing all import javax.persistence with jakarta.persistence ","title":"SpringBoot Application and Hibernate (entityManager is null)","body":"<p>I solved my problem by simply replacing all import javax.persistence with jakarta.persistence</p>\n"}],"owner":{"account_id":27652664,"reputation":21,"user_id":21107205,"display_name":"Andrei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75318466,"answer_count":1,"score":1,"last_activity_date":1696876425,"creation_date":1675040387,"question_id":75279474,"body_markdown":"I have example SprintBoot application\r\n```\r\npackage com.example.demo2;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(basePackages=&quot;com.example.demo2&quot;)\r\npublic class Demo2Application {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Demo2Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy application.properties, here configuration datasource and jpa hibernate\r\n```\r\nspring.datasource.url= jdbc:postgresql://localhost:5432/testdb\r\nspring.datasource.username= admin\r\nspring.datasource.password= admin\r\n\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\nspring.jpa.hibernate.ddl-auto= update\r\n```\r\n\r\nand i have simple controller method\r\n```\r\n    @GetMapping(&quot;/get&quot;)\r\n    public List&lt;Movie&gt; getMethod(){\r\n        return myService.myMethod();\r\n    }\r\n```\r\n\r\nand service\r\n```\r\n\r\n@Service\r\npublic class MyService {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n    @Transactional\r\n    public List&lt;Movie&gt; myMethod() {\r\n        List&lt;Movie&gt; myList = entityManager.createQuery(&quot;from Movie&quot;).getResultList();\r\n        return myList;\r\n    }\r\n}\r\n\r\n```\r\n\r\nResult is\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.createQuery(String)&quot; because &quot;this.entityManager&quot; is null\r\n```\r\n\r\n\r\nI want simple springboot and hibernate application with initialized entityManager for query to db.\r\n\r\nWhat am I doing wrong?","title":"SpringBoot Application and Hibernate (entityManager is null)","body":"<p>I have example SprintBoot application</p>\n<pre><code>package com.example.demo2;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(basePackages=&quot;com.example.demo2&quot;)\npublic class Demo2Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo2Application.class, args);\n    }\n\n}\n</code></pre>\n<p>My application.properties, here configuration datasource and jpa hibernate</p>\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/testdb\nspring.datasource.username= admin\nspring.datasource.password= admin\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p>and i have simple controller method</p>\n<pre><code>    @GetMapping(&quot;/get&quot;)\n    public List&lt;Movie&gt; getMethod(){\n        return myService.myMethod();\n    }\n</code></pre>\n<p>and service</p>\n<pre><code>\n@Service\npublic class MyService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n    @Transactional\n    public List&lt;Movie&gt; myMethod() {\n        List&lt;Movie&gt; myList = entityManager.createQuery(&quot;from Movie&quot;).getResultList();\n        return myList;\n    }\n}\n\n</code></pre>\n<p>Result is</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.createQuery(String)&quot; because &quot;this.entityManager&quot; is null\n</code></pre>\n<p>I want simple springboot and hibernate application with initialized entityManager for query to db.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","authentication","google-text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696876369,"creation_date":1696876369,"answer_id":77261085,"question_id":77244462,"body_markdown":"One need to create a service account in advance. Next go to &quot;IAM and administration&quot; page - since my UI is German, I am guessing the wording - on the left menu select &quot;service account&quot;. In the heading menu select &quot;key&quot; and a little below there&#39;ll be a button &quot;add key&quot;.\r\n\r\nThe whole topic is also explained here: https://cloud.google.com/text-to-speech/docs/before-you-begin#creating_a_json_key_for_your_service_account","title":"How to authenticate for Google Text To Speech from a Java app?","body":"<p>One need to create a service account in advance. Next go to &quot;IAM and administration&quot; page - since my UI is German, I am guessing the wording - on the left menu select &quot;service account&quot;. In the heading menu select &quot;key&quot; and a little below there'll be a button &quot;add key&quot;.</p>\n<p>The whole topic is also explained here: <a href=\"https://cloud.google.com/text-to-speech/docs/before-you-begin#creating_a_json_key_for_your_service_account\" rel=\"nofollow noreferrer\">https://cloud.google.com/text-to-speech/docs/before-you-begin#creating_a_json_key_for_your_service_account</a></p>\n"}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261085,"answer_count":1,"score":0,"last_activity_date":1696876369,"creation_date":1696595516,"question_id":77244462,"body_markdown":"I am trying to use Googles Text to Speech from a Java application - no web. I have a hard time to understand Googles pages and in particular the different authentication mechanisms. After reading `https://stackoverflow.com/questions/46287267/how-can-i-get-the-file-service-account-json-for-google-translate-api` I am even more confused. To my understanding, the below code should work, given that I would have the json file with my credentials. However, I don&#39;t know where or how to create this json file - I can&#39;t test the application due to the missing json file.\r\nIn order to make below code work, my questions are: \r\n\r\n - What is the setup on the Google Cloud side to make the below code work? Do I need an *API key* and/or a *service account*? \r\n - How to create this json file. Currently I have both, I already created an API key and a service account on the Google Cloud admin interface, but I can&#39;t find how to generate the json file using this portal. Or do I need the gcloud tool on Windows? If so, what is the command line to enter?\r\n - Despite the json file, since I have an API key (String) and know the project id, can I authenticate directly from the java code without using the json file?\r\n\r\nHere is the code\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    import com.google.api.gax.core.CredentialsProvider;\r\n    import com.google.api.gax.core.FixedCredentialsProvider;\r\n    import com.google.auth.oauth2.ServiceAccountCredentials;\r\n    import com.google.cloud.texttospeech.v1.AudioConfig;\r\n    import com.google.cloud.texttospeech.v1.AudioEncoding;\r\n    import com.google.cloud.texttospeech.v1.SsmlVoiceGender;\r\n    import com.google.cloud.texttospeech.v1.SynthesisInput;\r\n    import com.google.cloud.texttospeech.v1.SynthesizeSpeechResponse;\r\n    import com.google.cloud.texttospeech.v1.TextToSpeechClient;\r\n    import com.google.cloud.texttospeech.v1.TextToSpeechSettings;\r\n    import com.google.cloud.texttospeech.v1.VoiceSelectionParams;\r\n    import com.google.protobuf.ByteString;\r\n    \r\n    public class GoogleTextToSpeech {\r\n    \r\n    \r\n    \tprotected TextToSpeechClient textToSpeechClient;\r\n    \tVoiceSelectionParams voice;\r\n    \tAudioConfig audioConfig;\r\n    \r\n    \tpublic GoogleTextToSpeech() {\r\n    \r\n    \t\tString jsonPath = &quot;tts.json&quot;;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tCredentialsProvider credentialsProvider = FixedCredentialsProvider.create(ServiceAccountCredentials.fromStream(new FileInputStream(jsonPath)));\r\n    \r\n    \t\t\tTextToSpeechSettings settings = TextToSpeechSettings.newBuilder().setCredentialsProvider(credentialsProvider).build();\r\n    \r\n    \t\t\ttextToSpeechClient = TextToSpeechClient.create(settings);\r\n    \r\n    \t\t\tvoice = VoiceSelectionParams.newBuilder()\r\n    \t\t\t\t\t.setLanguageCode(&quot;en-US&quot;)\r\n    \t\t\t\t\t.setSsmlGender(SsmlVoiceGender.FEMALE)\r\n    \t\t\t\t\t.build();\r\n    \t\t\t\r\n    \t\t\taudioConfig = AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.LINEAR16).build();\t\t// This relates to a wav file\r\n    \r\n    \t\t} catch (IOException e1) {\r\n    \t\t\tSystem.err.println(e1.getMessage());\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \r\n    \tpublic void speak(String message) {\r\n    \r\n    \t\tSynthesisInput input = SynthesisInput.newBuilder().setText(message).build();\r\n    \t\tSynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\r\n    \t\tByteString audioContents = response.getAudioContent();\r\n    \r\n    \t\t// Write the response to the output file.\r\n    \t\ttry (OutputStream out = new FileOutputStream(&quot;output.wav&quot;)) {\r\n    \t\t\tout.write(audioContents.toByteArray());\r\n    \t\t\tSystem.out.println(&quot;Audio content written to file \\&quot;output.wav\\&quot;&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t}\r\n    \r\n    }\r\n\r\nThank you in advance.\r\n","title":"How to authenticate for Google Text To Speech from a Java app?","body":"<p>I am trying to use Googles Text to Speech from a Java application - no web. I have a hard time to understand Googles pages and in particular the different authentication mechanisms. After reading <code>https://stackoverflow.com/questions/46287267/how-can-i-get-the-file-service-account-json-for-google-translate-api</code> I am even more confused. To my understanding, the below code should work, given that I would have the json file with my credentials. However, I don't know where or how to create this json file - I can't test the application due to the missing json file.\nIn order to make below code work, my questions are:</p>\n<ul>\n<li>What is the setup on the Google Cloud side to make the below code work? Do I need an <em>API key</em> and/or a <em>service account</em>?</li>\n<li>How to create this json file. Currently I have both, I already created an API key and a service account on the Google Cloud admin interface, but I can't find how to generate the json file using this portal. Or do I need the gcloud tool on Windows? If so, what is the command line to enter?</li>\n<li>Despite the json file, since I have an API key (String) and know the project id, can I authenticate directly from the java code without using the json file?</li>\n</ul>\n<p>Here is the code</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport com.google.api.gax.core.CredentialsProvider;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.ServiceAccountCredentials;\nimport com.google.cloud.texttospeech.v1.AudioConfig;\nimport com.google.cloud.texttospeech.v1.AudioEncoding;\nimport com.google.cloud.texttospeech.v1.SsmlVoiceGender;\nimport com.google.cloud.texttospeech.v1.SynthesisInput;\nimport com.google.cloud.texttospeech.v1.SynthesizeSpeechResponse;\nimport com.google.cloud.texttospeech.v1.TextToSpeechClient;\nimport com.google.cloud.texttospeech.v1.TextToSpeechSettings;\nimport com.google.cloud.texttospeech.v1.VoiceSelectionParams;\nimport com.google.protobuf.ByteString;\n\npublic class GoogleTextToSpeech {\n\n\n    protected TextToSpeechClient textToSpeechClient;\n    VoiceSelectionParams voice;\n    AudioConfig audioConfig;\n\n    public GoogleTextToSpeech() {\n\n        String jsonPath = &quot;tts.json&quot;;\n\n        try {\n\n            CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(ServiceAccountCredentials.fromStream(new FileInputStream(jsonPath)));\n\n            TextToSpeechSettings settings = TextToSpeechSettings.newBuilder().setCredentialsProvider(credentialsProvider).build();\n\n            textToSpeechClient = TextToSpeechClient.create(settings);\n\n            voice = VoiceSelectionParams.newBuilder()\n                    .setLanguageCode(&quot;en-US&quot;)\n                    .setSsmlGender(SsmlVoiceGender.FEMALE)\n                    .build();\n            \n            audioConfig = AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.LINEAR16).build();        // This relates to a wav file\n\n        } catch (IOException e1) {\n            System.err.println(e1.getMessage());\n            e1.printStackTrace();\n        }\n\n    }\n\n\n    public void speak(String message) {\n\n        SynthesisInput input = SynthesisInput.newBuilder().setText(message).build();\n        SynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\n        ByteString audioContents = response.getAudioContent();\n\n        // Write the response to the output file.\n        try (OutputStream out = new FileOutputStream(&quot;output.wav&quot;)) {\n            out.write(audioContents.toByteArray());\n            System.out.println(&quot;Audio content written to file \\&quot;output.wav\\&quot;&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } \n    }\n\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","firebase","gradle"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1696916440,"post_id":77260963,"comment_id":136210205,"body_markdown":"Have you added the proper import? If yes, can show that to us?","body":"Have you added the proper import? If yes, can show that to us?"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696875296,"creation_date":1696875296,"answer_id":77260992,"question_id":77260963,"body_markdown":"Try to add this in your dependencies:\r\n\r\n```groovy\r\nimplementation &#39;com.google.firebase:firebase-admin:6.3.0&#39;\r\n```","title":"Cannot Resolve Symbol &#39;firebase&#39; when Importing FirebaseOptions in Java Project","body":"<p>Try to add this in your dependencies:</p>\n<pre><code>implementation 'com.google.firebase:firebase-admin:6.3.0'\n</code></pre>\n"}],"owner":{"account_id":16892933,"reputation":3,"user_id":12216205,"display_name":"Bashana Liyanage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260992,"answer_count":1,"score":0,"last_activity_date":1696875331,"creation_date":1696874992,"question_id":77260963,"body_markdown":"I&#39;m working on a Java project and trying to integrate Firebase. I&#39;ve added the necessary dependencies to my build.gradle file, but I&#39;m encountering an issue when trying to import `com.google.firebase.FirebaseOptions` in my code. It&#39;s showing an error: `Cannot resolve symbol &#39;firebase&#39;`. Here&#39;s my build.gradle file for reference:\r\n\r\n```groovy\r\ndependencies {\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.4.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n}\r\n```\r\n\r\nI&#39;ve ensured that my Gradle sync is up to date, but I&#39;m still facing this issue. How can I resolve the `Cannot resolve symbol` error and successfully import FirebaseOptions in my project?\r\n\r\nAny help or guidance on this matter would be greatly appreciated. Thank you!\r\n\r\nI&#39;ve tried adding .jar files externally to the lib folder and the project structure window, but the problem persists.","title":"Cannot Resolve Symbol &#39;firebase&#39; when Importing FirebaseOptions in Java Project","body":"<p>I'm working on a Java project and trying to integrate Firebase. I've added the necessary dependencies to my build.gradle file, but I'm encountering an issue when trying to import <code>com.google.firebase.FirebaseOptions</code> in my code. It's showing an error: <code>Cannot resolve symbol 'firebase'</code>. Here's my build.gradle file for reference:</p>\n<pre><code>dependencies {\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-firestore'\n}\n</code></pre>\n<p>I've ensured that my Gradle sync is up to date, but I'm still facing this issue. How can I resolve the <code>Cannot resolve symbol</code> error and successfully import FirebaseOptions in my project?</p>\n<p>Any help or guidance on this matter would be greatly appreciated. Thank you!</p>\n<p>I've tried adding .jar files externally to the lib folder and the project structure window, but the problem persists.</p>\n"},{"tags":["java","eclipse","axis","webservice-client"],"answers":[{"tags":[],"owner":{"account_id":9503455,"reputation":36,"user_id":7063755,"display_name":"Alessandro Lacchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696864327,"creation_date":1696863889,"answer_id":77259930,"question_id":77259789,"body_markdown":"from the exception you get it seems that you have not put axis.jar in the project lib, try checking the build path configuration for the dependencies and verify that they are present in the project lib. There seems to be a misconfiguration of the project paths.\r\n\r\nYou can also read in this thread an example of how to create a web service client with Axis on Eclipse: [How to create an Axis2 Web Service Client in Eclipse][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6782782/how-to-create-an-axis2-web-service-client-in-%20eclipse","title":"Getting error when i try to create webservice clients from WSDL in Eclipse","body":"<p>from the exception you get it seems that you have not put axis.jar in the project lib, try checking the build path configuration for the dependencies and verify that they are present in the project lib. There seems to be a misconfiguration of the project paths.</p>\n<p>You can also read in this thread an example of how to create a web service client with Axis on Eclipse: <a href=\"https://stackoverflow.com/questions/6782782/how-to-create-an-axis2-web-service-client-in-%20eclipse\">How to create an Axis2 Web Service Client in Eclipse</a></p>\n"}],"owner":{"account_id":29633119,"reputation":1,"user_id":22711086,"display_name":"Surendra Gollapudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696875190,"creation_date":1696862709,"question_id":77259789,"body_markdown":"I&#39;m getting below error when i try to create webservice client using WSDL files in Eclipse. I already added required Jars to build path/ but still getting same error. Can someone please let me know what i&#39;m doing wrong.\r\n\r\n```\r\nIWAB0503E Unable to update Java build path. Please check your system environment.\r\n    java.io.FileNotFoundException: /lib/axis.jar\r\n```\r\n\r\n[Error image](https://i.stack.imgur.com/fWmJp.png)\r\n\r\n[Project Build path][1]\r\n\r\n\r\n\r\nI added external jars to build path\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mlSO9.png\r\n  [2]: https://i.stack.imgur.com/X9DXc.png","title":"Getting error when i try to create webservice clients from WSDL in Eclipse","body":"<p>I'm getting below error when i try to create webservice client using WSDL files in Eclipse. I already added required Jars to build path/ but still getting same error. Can someone please let me know what i'm doing wrong.</p>\n<pre><code>IWAB0503E Unable to update Java build path. Please check your system environment.\n    java.io.FileNotFoundException: /lib/axis.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fWmJp.png\" rel=\"nofollow noreferrer\">Error image</a></p>\n<p><a href=\"https://i.stack.imgur.com/mlSO9.png\" rel=\"nofollow noreferrer\">Project Build path</a></p>\n<p>I added external jars to build path</p>\n<p><a href=\"https://i.stack.imgur.com/X9DXc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1696874439,"post_id":77260866,"comment_id":136206136,"body_markdown":"You&#39;re *modifying the list* (`curr.next = prev;`) in a method that is only meant to be testing something. I haven&#39;t looked at anything else, but that&#39;s definitely not a good thing to be doing.","body":"You&#39;re <i>modifying the list</i> (<code>curr.next = prev;</code>) in a method that is only meant to be testing something. I haven&#39;t looked at anything else, but that&#39;s definitely not a good thing to be doing."}],"answers":[{"tags":[],"owner":{"account_id":27131398,"reputation":1,"user_id":20673573,"display_name":"yasir abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696874877,"creation_date":1696874877,"answer_id":77260951,"question_id":77260866,"body_markdown":"/* Java program to check if linked list is palindrome */\r\n\r\nclass LinkedList {\r\n\tNode head; // head of list\r\n\tNode slow_ptr, fast_ptr, second_half;\r\n\r\n\t/* Linked list Node*/\r\n\tclass Node {\r\n\t\tchar data;\r\n\t\tNode next;\r\n\r\n\t\tNode(char d)\r\n\t\t{\r\n\t\t\tdata = d;\r\n\t\t\tnext = null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Function to check if given linked list is\r\n\tpalindrome or not */\r\n\tboolean isPalindrome(Node head)\r\n\t{\r\n\t\tslow_ptr = head;\r\n\t\tfast_ptr = head;\r\n\t\tNode prev_of_slow_ptr = head;\r\n\t\tNode midnode = null; // To handle odd size list\r\n\t\tboolean res = true; // initialize result\r\n\r\n\t\tif (head != null &amp;&amp; head.next != null) {\r\n\t\t\t/* Get the middle of the list. Move slow_ptr by\r\n\t\t\t1 and fast_ptr by 2, slow_ptr will have the\r\n\t\t\tmiddle node */\r\n\t\t\twhile (fast_ptr != null\r\n\t\t\t\t&amp;&amp; fast_ptr.next != null) {\r\n\t\t\t\tfast_ptr = fast_ptr.next.next;\r\n\r\n\t\t\t\t/*We need previous of the slow_ptr for\r\n\t\t\t\tlinked lists with odd elements */\r\n\t\t\t\tprev_of_slow_ptr = slow_ptr;\r\n\t\t\t\tslow_ptr = slow_ptr.next;\r\n\t\t\t}\r\n\r\n\t\t\t/* fast_ptr would become NULL when there are\r\n\t\t\teven elements in the list and not NULL for\r\n\t\t\todd elements. We need to skip the middle node\r\n\t\t\tfor odd case and store it somewhere so that\r\n\t\t\twe can restore the original list */\r\n\t\t\tif (fast_ptr != null) {\r\n\t\t\t\tmidnode = slow_ptr;\r\n\t\t\t\tslow_ptr = slow_ptr.next;\r\n\t\t\t}\r\n\r\n\t\t\t// Now reverse the second half and compare it\r\n\t\t\t// with first half\r\n\t\t\tsecond_half = slow_ptr;\r\n\t\t\tprev_of_slow_ptr.next\r\n\t\t\t\t= null; // NULL terminate first half\r\n\t\t\treverse(); // Reverse the second half\r\n\t\t\tres = compareLists(head,\r\n\t\t\t\t\t\t\tsecond_half); // compare\r\n\r\n\t\t\t/* Construct the original list back */\r\n\t\t\treverse(); // Reverse the second half again\r\n\r\n\t\t\tif (midnode != null) {\r\n\t\t\t\t// If there was a mid node (odd size case)\r\n\t\t\t\t// which was not part of either first half\r\n\t\t\t\t// or second half.\r\n\t\t\t\tprev_of_slow_ptr.next = midnode;\r\n\t\t\t\tmidnode.next = second_half;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tprev_of_slow_ptr.next = second_half;\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\t/* Function to reverse the linked list Note that this\r\n\tfunction may change the head */\r\n\tvoid reverse()\r\n\t{\r\n\t\tNode prev = null;\r\n\t\tNode current = second_half;\r\n\t\tNode next;\r\n\t\twhile (current != null) {\r\n\t\t\tnext = current.next;\r\n\t\t\tcurrent.next = prev;\r\n\t\t\tprev = current;\r\n\t\t\tcurrent = next;\r\n\t\t}\r\n\t\tsecond_half = prev;\r\n\t}\r\n\r\n\t/* Function to check if two input lists have same data*/\r\n\tboolean compareLists(Node head1, Node head2)\r\n\t{\r\n\t\tNode temp1 = head1;\r\n\t\tNode temp2 = head2;\r\n\r\n\t\twhile (temp1 != null &amp;&amp; temp2 != null) {\r\n\t\t\tif (temp1.data == temp2.data) {\r\n\t\t\t\ttemp1 = temp1.next;\r\n\t\t\t\ttemp2 = temp2.next;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t/* Both are empty return 1*/\r\n\t\tif (temp1 == null &amp;&amp; temp2 == null)\r\n\t\t\treturn true;\r\n\r\n\t\t/* Will reach here when one is NULL\r\n\t\tand other is not */\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/* Push a node to linked list. Note that this function\r\n\tchanges the head */\r\n\tpublic void push(char new_data)\r\n\t{\r\n\t\t/* Allocate the Node &amp;\r\n\t\tPut in the data */\r\n\t\tNode new_node = new Node(new_data);\r\n\r\n\t\t/* link the old list of the new one */\r\n\t\tnew_node.next = head;\r\n\r\n\t\t/* Move the head to point to new Node */\r\n\t\thead = new_node;\r\n\t}\r\n\r\n\t// A utility function to print a given linked list\r\n\tvoid printList(Node ptr)\r\n\t{\r\n\t\twhile (ptr != null) {\r\n\t\t\tSystem.out.print(ptr.data + &quot;-&gt;&quot;);\r\n\t\t\tptr = ptr.next;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;NULL&quot;);\r\n\t}\r\n\r\n\t/* Driver program to test the above functions */\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\r\n\t\t/* Start with the empty list */\r\n\t\tLinkedList llist = new LinkedList();\r\n\r\n\t\tchar str[] = { &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39; };\r\n\t\tString string = new String(str);\r\n\t\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\t\tllist.push(str[i]);\r\n\t\t}\r\n\t\tif (llist.isPalindrome(llist.head) != false) {\r\n\t\t\tSystem.out.println(&quot;Is Palindrome&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Not Palindrome&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n","title":"Head also gets modified when working with LinkedList","body":"<p>/* Java program to check if linked list is palindrome */</p>\n<p>class LinkedList {\nNode head; // head of list\nNode slow_ptr, fast_ptr, second_half;</p>\n<pre><code>/* Linked list Node*/\nclass Node {\n    char data;\n    Node next;\n\n    Node(char d)\n    {\n        data = d;\n        next = null;\n    }\n}\n\n/* Function to check if given linked list is\npalindrome or not */\nboolean isPalindrome(Node head)\n{\n    slow_ptr = head;\n    fast_ptr = head;\n    Node prev_of_slow_ptr = head;\n    Node midnode = null; // To handle odd size list\n    boolean res = true; // initialize result\n\n    if (head != null &amp;&amp; head.next != null) {\n        /* Get the middle of the list. Move slow_ptr by\n        1 and fast_ptr by 2, slow_ptr will have the\n        middle node */\n        while (fast_ptr != null\n            &amp;&amp; fast_ptr.next != null) {\n            fast_ptr = fast_ptr.next.next;\n\n            /*We need previous of the slow_ptr for\n            linked lists with odd elements */\n            prev_of_slow_ptr = slow_ptr;\n            slow_ptr = slow_ptr.next;\n        }\n\n        /* fast_ptr would become NULL when there are\n        even elements in the list and not NULL for\n        odd elements. We need to skip the middle node\n        for odd case and store it somewhere so that\n        we can restore the original list */\n        if (fast_ptr != null) {\n            midnode = slow_ptr;\n            slow_ptr = slow_ptr.next;\n        }\n\n        // Now reverse the second half and compare it\n        // with first half\n        second_half = slow_ptr;\n        prev_of_slow_ptr.next\n            = null; // NULL terminate first half\n        reverse(); // Reverse the second half\n        res = compareLists(head,\n                        second_half); // compare\n\n        /* Construct the original list back */\n        reverse(); // Reverse the second half again\n\n        if (midnode != null) {\n            // If there was a mid node (odd size case)\n            // which was not part of either first half\n            // or second half.\n            prev_of_slow_ptr.next = midnode;\n            midnode.next = second_half;\n        }\n        else\n            prev_of_slow_ptr.next = second_half;\n    }\n    return res;\n}\n\n/* Function to reverse the linked list Note that this\nfunction may change the head */\nvoid reverse()\n{\n    Node prev = null;\n    Node current = second_half;\n    Node next;\n    while (current != null) {\n        next = current.next;\n        current.next = prev;\n        prev = current;\n        current = next;\n    }\n    second_half = prev;\n}\n\n/* Function to check if two input lists have same data*/\nboolean compareLists(Node head1, Node head2)\n{\n    Node temp1 = head1;\n    Node temp2 = head2;\n\n    while (temp1 != null &amp;&amp; temp2 != null) {\n        if (temp1.data == temp2.data) {\n            temp1 = temp1.next;\n            temp2 = temp2.next;\n        }\n        else\n            return false;\n    }\n\n    /* Both are empty return 1*/\n    if (temp1 == null &amp;&amp; temp2 == null)\n        return true;\n\n    /* Will reach here when one is NULL\n    and other is not */\n    return false;\n}\n\n/* Push a node to linked list. Note that this function\nchanges the head */\npublic void push(char new_data)\n{\n    /* Allocate the Node &amp;\n    Put in the data */\n    Node new_node = new Node(new_data);\n\n    /* link the old list of the new one */\n    new_node.next = head;\n\n    /* Move the head to point to new Node */\n    head = new_node;\n}\n\n// A utility function to print a given linked list\nvoid printList(Node ptr)\n{\n    while (ptr != null) {\n        System.out.print(ptr.data + &quot;-&gt;&quot;);\n        ptr = ptr.next;\n    }\n    System.out.println(&quot;NULL&quot;);\n}\n\n/* Driver program to test the above functions */\npublic static void main(String[] args)\n{\n\n    /* Start with the empty list */\n    LinkedList llist = new LinkedList();\n\n    char str[] = { 'a', 'b', 'a', 'c', 'a', 'b', 'a' };\n    String string = new String(str);\n    for (int i = 0; i &lt; 7; i++) {\n        llist.push(str[i]);\n    }\n    if (llist.isPalindrome(llist.head) != false) {\n        System.out.println(&quot;Is Palindrome&quot;);\n        System.out.println(&quot;&quot;);\n    }\n    else {\n        System.out.println(&quot;Not Palindrome&quot;);\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8262944,"reputation":677,"user_id":6213626,"display_name":"chashikajw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696875185,"creation_date":1696875185,"answer_id":77260979,"question_id":77260866,"body_markdown":"The issue you&#39;re facing is happening because the code you&#39;ve written is actually modifying the original linked list when you reverse it. This means that after the reversal, the head of the linked list is now pointing to the end of the list, and you&#39;re effectively losing access to the rest of the elements.\r\n\r\nTo fix this, you should create a copy of the linked list before reversing it. You can do this by creating a new linked list and copying the values from the original list to the new one.\r\n\r\nSolution:\r\n\r\n    class Solution {\r\n        public boolean isPalindrome(ListNode head) {\r\n            // Create a copy of the linked list\r\n            ListNode copy = new ListNode(head.val);\r\n            ListNode copyCurr = copy;\r\n            ListNode curr = head.next;\r\n    \r\n            while (curr != null) {\r\n                copyCurr.next = new ListNode(curr.val);\r\n                copyCurr = copyCurr.next;\r\n                curr = curr.next;\r\n            }\r\n    \r\n            // Reverse the copy\r\n            ListNode prev = null;\r\n            ListNode temp;\r\n            curr = copy;\r\n            while (curr != null) {\r\n                temp = curr.next;\r\n                curr.next = prev;\r\n                prev = curr;\r\n                curr = temp;\r\n            }\r\n    \r\n            // Compare the original and reversed linked lists\r\n            curr = head;\r\n            while (curr != null) {\r\n                if (prev.val != curr.val) {\r\n                    return false;\r\n                }\r\n                curr = curr.next;\r\n                prev = prev.next;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nIn this code, I&#39;ve added a step to create a copy of the linked list (copy) before reversing it. The copy linked list is then used for the comparison, while the original head remains intact. This should resolve the issue you were facing.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Head also gets modified when working with LinkedList","body":"<p>The issue you're facing is happening because the code you've written is actually modifying the original linked list when you reverse it. This means that after the reversal, the head of the linked list is now pointing to the end of the list, and you're effectively losing access to the rest of the elements.</p>\n<p>To fix this, you should create a copy of the linked list before reversing it. You can do this by creating a new linked list and copying the values from the original list to the new one.</p>\n<p>Solution:</p>\n<pre><code>class Solution {\n    public boolean isPalindrome(ListNode head) {\n        // Create a copy of the linked list\n        ListNode copy = new ListNode(head.val);\n        ListNode copyCurr = copy;\n        ListNode curr = head.next;\n\n        while (curr != null) {\n            copyCurr.next = new ListNode(curr.val);\n            copyCurr = copyCurr.next;\n            curr = curr.next;\n        }\n\n        // Reverse the copy\n        ListNode prev = null;\n        ListNode temp;\n        curr = copy;\n        while (curr != null) {\n            temp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = temp;\n        }\n\n        // Compare the original and reversed linked lists\n        curr = head;\n        while (curr != null) {\n            if (prev.val != curr.val) {\n                return false;\n            }\n            curr = curr.next;\n            prev = prev.next;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>In this code, I've added a step to create a copy of the linked list (copy) before reversing it. The copy linked list is then used for the comparison, while the original head remains intact. This should resolve the issue you were facing.</p>\n"}],"owner":{"account_id":28610674,"reputation":13,"user_id":21905702,"display_name":"Aditya Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260979,"answer_count":2,"score":0,"last_activity_date":1696875185,"creation_date":1696873858,"question_id":77260866,"body_markdown":"I was trying to check for palindrome Linked List, but head also gets modified and reached to end. Can someone help me why this is happening and how to resolve it?\r\n\r\n\r\n```\r\n/**\r\n * Definition for singly-linked list.\r\n * public class ListNode {\r\n *     int val;\r\n *     ListNode next;\r\n *     ListNode() {}\r\n *     ListNode(int val) { this.val = val; }\r\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n * }\r\n */\r\nclass Solution {\r\n    public boolean isPalindrome(ListNode head) {\r\n        if(head.next == null){\r\n            return true;\r\n        }\r\n        ListNode curr = head;\r\n        ListNode prev = null;\r\n        ListNode temp;\r\n        while(curr != null){\r\n            temp = curr.next;\r\n            curr.next = prev;\r\n            prev = curr;\r\n            curr = temp;\r\n        }\r\n\r\n        curr = head;\r\n        while(curr != null){\r\n            if(prev.val != curr.val){\r\n                return false;\r\n            }\r\n            curr = curr.next;\r\n            prev = prev.next;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n \r\n\r\nI tried to create another reverse method and pass head as value but then also head is getting changed.","title":"Head also gets modified when working with LinkedList","body":"<p>I was trying to check for palindrome Linked List, but head also gets modified and reached to end. Can someone help me why this is happening and how to resolve it?</p>\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public boolean isPalindrome(ListNode head) {\n        if(head.next == null){\n            return true;\n        }\n        ListNode curr = head;\n        ListNode prev = null;\n        ListNode temp;\n        while(curr != null){\n            temp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = temp;\n        }\n\n        curr = head;\n        while(curr != null){\n            if(prev.val != curr.val){\n                return false;\n            }\n            curr = curr.next;\n            prev = prev.next;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>I tried to create another reverse method and pass head as value but then also head is getting changed.</p>\n"},{"tags":["java","instrumentation","byte-buddy"],"comments":[{"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"score":0,"creation_date":1696833397,"post_id":77256523,"comment_id":136198402,"body_markdown":"This seems close to what I want but could not understand what is being done &amp; need some more elaboration..\n\nhttps://stackoverflow.com/questions/38585748/pass-argument-to-bytebuddy-interceptor","body":"This seems close to what I want but could not understand what is being done &amp; need some more elaboration..  <a href=\"https://stackoverflow.com/questions/38585748/pass-argument-to-bytebuddy-interceptor\" title=\"pass argument to bytebuddy interceptor\">stackoverflow.com/questions/38585748/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696875147,"creation_date":1696873403,"answer_id":77260831,"question_id":77256523,"body_markdown":"The question has already been answered by the author of the library in this post.\r\n\r\nhttps://stackoverflow.com/questions/66951575/how-to-pass-variables-to-advice\r\n\r\nInstead of application of custom mapping at type level, I had to iterate over every method and apply the custom mapping for each method.\r\n\r\nQuestion also posted here (and answered by the library&#39;s author):\r\nhttps://groups.google.com/g/byte-buddy/c/lO7yqEAyEKE","title":"Implementing method instrumentation using bytebuddy","body":"<p>The question has already been answered by the author of the library in this post.</p>\n<p><a href=\"https://stackoverflow.com/questions/66951575/how-to-pass-variables-to-advice\">How to pass variables to advice?</a></p>\n<p>Instead of application of custom mapping at type level, I had to iterate over every method and apply the custom mapping for each method.</p>\n<p>Question also posted here (and answered by the library's author):\n<a href=\"https://groups.google.com/g/byte-buddy/c/lO7yqEAyEKE\" rel=\"nofollow noreferrer\">https://groups.google.com/g/byte-buddy/c/lO7yqEAyEKE</a></p>\n"}],"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1697191000,"answer_count":1,"score":-1,"last_activity_date":1696875147,"creation_date":1696831133,"question_id":77256523,"body_markdown":"We are trying to build a javaagent for instrumenting classes using ByteBuddy. We have a javassist implementation that does not work well with Mockito, and therefore moving to ByteBuddy for instrumentation.\r\n\r\nUsing the DynamicType$Builder, we need to instrument methods of a selected class, depending on whether the method is a constructor, class initializer, or any other.\r\n\r\nIn addition, the beforeMethod interceptor method has an argument that needs to be generated uniquely for every method. The afterMethod interceptor method is a zero argument method. So, we need to:\r\n 1. Create one MethodCall instance per instrumented method, to be used for method entry.\r\n 2. Create one MethodCall instance common to all instrumented methods, to be used for method exit.\r\n\r\nThe method calls are something like this:\r\n\r\n      \r\n            private static MethodCall getInsertBefore(Method method) {\r\n                //construct a murmur32 hash using the method&#39;s class name, name, and signature.\r\n                int murmur32Hash = ...;\r\n                return MethodCall.invoke(named(&quot;beforeMethod&quot;))\r\n                        .on(SomeClass.class)\r\n                        .withReference(murmur32Hash);\r\n            }\r\n            private static MethodCall getInsertAfter() {\r\n                return MethodCall.invoke(named(&quot;afterMethod&quot;)).on(SomeClass.class); \r\n            }\r\n       \r\nThe class with annotations:\r\n\r\n    public class SomeClass {\r\n        @Advice.OnMethodEnter\r\n        public static void beforeMethod(int murmur32HashCode) {\r\n            /*murmur32HashCode is generated during transformation and not selected from argument list*/\r\n            ...\r\n        }\r\n        @Advice.OnMethodExit\r\n        public static void afterMethod() {\r\n            ...\r\n        }\r\n    }\r\n\r\nUsing DynamicType$Builder, is there any way we can visit all declared methods, and for each method, create the above mentioned MethodCall instances to be invoked before and after for the method?\r\n\r\nJavassist provided a intuitive way to do this. For ByteBuddy, in almost all examples I could find on net, the interception involves specifying a class with annotated methods, with arguments for the annotated methods selected from the invocation of the method being instrumented (no new generated values).\r\n\r\nI went through the ByteBuddy code and it seems to be doable with MethodVisitor class, though I got lost trying to understand the code sequence.\r\n\r\n---\r\n\r\nFound that if we use custom mappings, we can specify a custom value for annotations which can be referred in the interceptors.\r\nHowever, it cannot be used to set a custom value per instrumented method.\r\nMaybe, there is no easy way to do it using ByteBuddy, and I need to add a constant per method, and inject byte code to refer to it.","title":"Implementing method instrumentation using bytebuddy","body":"<p>We are trying to build a javaagent for instrumenting classes using ByteBuddy. We have a javassist implementation that does not work well with Mockito, and therefore moving to ByteBuddy for instrumentation.</p>\n<p>Using the DynamicType$Builder, we need to instrument methods of a selected class, depending on whether the method is a constructor, class initializer, or any other.</p>\n<p>In addition, the beforeMethod interceptor method has an argument that needs to be generated uniquely for every method. The afterMethod interceptor method is a zero argument method. So, we need to:</p>\n<ol>\n<li>Create one MethodCall instance per instrumented method, to be used for method entry.</li>\n<li>Create one MethodCall instance common to all instrumented methods, to be used for method exit.</li>\n</ol>\n<p>The method calls are something like this:</p>\n<pre><code>        private static MethodCall getInsertBefore(Method method) {\n            //construct a murmur32 hash using the method's class name, name, and signature.\n            int murmur32Hash = ...;\n            return MethodCall.invoke(named(&quot;beforeMethod&quot;))\n                    .on(SomeClass.class)\n                    .withReference(murmur32Hash);\n        }\n        private static MethodCall getInsertAfter() {\n            return MethodCall.invoke(named(&quot;afterMethod&quot;)).on(SomeClass.class); \n        }\n   \n</code></pre>\n<p>The class with annotations:</p>\n<pre><code>public class SomeClass {\n    @Advice.OnMethodEnter\n    public static void beforeMethod(int murmur32HashCode) {\n        /*murmur32HashCode is generated during transformation and not selected from argument list*/\n        ...\n    }\n    @Advice.OnMethodExit\n    public static void afterMethod() {\n        ...\n    }\n}\n</code></pre>\n<p>Using DynamicType$Builder, is there any way we can visit all declared methods, and for each method, create the above mentioned MethodCall instances to be invoked before and after for the method?</p>\n<p>Javassist provided a intuitive way to do this. For ByteBuddy, in almost all examples I could find on net, the interception involves specifying a class with annotated methods, with arguments for the annotated methods selected from the invocation of the method being instrumented (no new generated values).</p>\n<p>I went through the ByteBuddy code and it seems to be doable with MethodVisitor class, though I got lost trying to understand the code sequence.</p>\n<hr />\n<p>Found that if we use custom mappings, we can specify a custom value for annotations which can be referred in the interceptors.\nHowever, it cannot be used to set a custom value per instrumented method.\nMaybe, there is no easy way to do it using ByteBuddy, and I need to add a constant per method, and inject byte code to refer to it.</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":8262944,"reputation":677,"user_id":6213626,"display_name":"chashikajw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696874389,"creation_date":1696874055,"answer_id":77260882,"question_id":77260224,"body_markdown":"You can add checkstyle as pre-commit git hook to apply checkstyle only for staged files.\r\nYou can follow the doc for java projects. https://gist.github.com/davetron5000/37350\r\n\r\nFollowing is an example repo for Go lang projects.\r\nhttps://github.com/envoyproxy/ratelimit/blob/main/.pre-commit-config.yaml","title":"How to make checkstyle check only my staged files?","body":"<p>You can add checkstyle as pre-commit git hook to apply checkstyle only for staged files.\nYou can follow the doc for java projects. <a href=\"https://gist.github.com/davetron5000/37350\" rel=\"nofollow noreferrer\">https://gist.github.com/davetron5000/37350</a></p>\n<p>Following is an example repo for Go lang projects.\n<a href=\"https://github.com/envoyproxy/ratelimit/blob/main/.pre-commit-config.yaml\" rel=\"nofollow noreferrer\">https://github.com/envoyproxy/ratelimit/blob/main/.pre-commit-config.yaml</a></p>\n"}],"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696874389,"creation_date":1696866641,"question_id":77260224,"body_markdown":"I am working on a multi-module gradle project and I am trying to add checkstyle to it. The problem is that because there is a very large code base already we do not want checkstyle to check everything. I am trying to find a way to make checkstyle check only staged files. Until now I don&#39;t have any luck with what I&#39;ve tried.\r\n\r\nWhat I am trying out now is to pass a new sourceSet but I can&#39;t understand how they work. My thinking was to finally have something like this:\r\n\r\n    checkstyle {\r\n      toolVersion = &#39;8.39&#39;\r\n      ingoreFailures = false\r\n      ...\r\n      sourceSet = getStagedSources()\r\n    }\r\nI can&#39;t figure out how to pass a new SourceSet.\r\n\r\nI am open to every suggestion even without using sourceSets.\r\n\r\nPlease help, thanks in advance","title":"How to make checkstyle check only my staged files?","body":"<p>I am working on a multi-module gradle project and I am trying to add checkstyle to it. The problem is that because there is a very large code base already we do not want checkstyle to check everything. I am trying to find a way to make checkstyle check only staged files. Until now I don't have any luck with what I've tried.</p>\n<p>What I am trying out now is to pass a new sourceSet but I can't understand how they work. My thinking was to finally have something like this:</p>\n<pre><code>checkstyle {\n  toolVersion = '8.39'\n  ingoreFailures = false\n  ...\n  sourceSet = getStagedSources()\n}\n</code></pre>\n<p>I can't figure out how to pass a new SourceSet.</p>\n<p>I am open to every suggestion even without using sourceSets.</p>\n<p>Please help, thanks in advance</p>\n"},{"tags":["java","lambda","method-reference"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696870390,"post_id":77260506,"comment_id":136205447,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696873394,"creation_date":1696873394,"answer_id":77260830,"question_id":77260506,"body_markdown":"You can&#39;t do anything like what you&#39;re trying to do.  The closest thing is to _not_ use `comparingInt` and just write `(c1, c2) -&gt; Integer.compare(c1.getAge(), c2.getAge())`.\r\n\r\n`comparingInt` _just_ takes a function to run on its arguments.  It does not, and cannot, take the arguments itself -- not directly, at least; you could of course write\r\n\r\n```\r\nComparator&lt;Student&gt; comparator = comparingInt(Student::getAge);\r\ncomparator.compare(s1, s2);\r\n```","title":"what is the the natural expression of this Lambda expression and method reference in the method usage or it just don&#39;t have it?","body":"<p>You can't do anything like what you're trying to do.  The closest thing is to <em>not</em> use <code>comparingInt</code> and just write <code>(c1, c2) -&gt; Integer.compare(c1.getAge(), c2.getAge())</code>.</p>\n<p><code>comparingInt</code> <em>just</em> takes a function to run on its arguments.  It does not, and cannot, take the arguments itself -- not directly, at least; you could of course write</p>\n<pre><code>Comparator&lt;Student&gt; comparator = comparingInt(Student::getAge);\ncomparator.compare(s1, s2);\n</code></pre>\n"}],"owner":{"account_id":29632284,"reputation":1,"user_id":22710454,"display_name":"Clarence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696873394,"creation_date":1696869684,"question_id":77260506,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n        Student[] students = new Student[4];\r\n        students[0] = new Student(&quot;guy1&quot;, 103, 334); // height / age （randomly written）\r\n        students[1] = new Student(&quot;guy2&quot;, 87, 534);\r\n        students[2] = new Student(&quot;guy3&quot;, 103, 232);\r\n        students[3] = new Student(&quot;guy4&quot;, 110, 121);\r\n\r\n        Arrays.sort(students, Comparator.comparingInt(Student::getAge)); // method reference\r\n        Arrays.sort(students, Comparator.comparingInt(student -&gt; student.getAge())); // Lambda expression\r\n```\r\n\r\n```\r\n// the source code of the comparingInt method\r\n&gt;! public static &lt;T&gt; Comparator&lt;T&gt; comparingInt(ToIntFunction&lt;? super T&gt; keyExtractor) {\r\n&gt;! Objects.requireNonNull(keyExtractor);\r\n&gt;! return (Comparator&lt;T&gt; &amp; Serializable)\r\n&gt;!             (c1, c2) -&gt; Integer.compare(keyExtractor.applyAsInt(c1), keyExtractor.applyAsInt(c2));\r\n&gt;!     }\r\n```\r\n\r\nI konw that I need to send the object and the method to this method, But I am confused why I can&#39;t just send the Object and method as normal parameters like Comparator.comparingInt(Student, student.get age())) (I konw it doesn&#39;t work but if I don&#39;t use Lambda expression or method reference I need to create a class in this or what?)\r\n\r\n\r\n\r\nwhat I do like this is failed:\r\n```\r\n      Arrays.sort(students, Comparator.comparingInt(students,c1,getAge) kinds of , actually all can&#39;t pass IDEA.\r\n\r\n//        Animal a = new Animal() { former version\r\n//            @Override\r\n//            public void run() {\r\n//                System.out.println(&quot;dog runs&quot;);\r\n//            }\r\n//        };\r\n\r\n//        Animal a = () -&gt; {\r\n//            System.out.println(&quot;dog runs&quot;);\r\n//        };\r\n//\r\n//        a.run();\r\n```\r\n\r\nlike this, I konw the the former version of the simpify version,but I can&#39;t understand how the usage and change of comparingInt sorts of. My understanding about this is that I thought they also have the Lambda in their method body,so what outside need to do is just transfer the parameter about the object and method. But why in this way? I am curious whether there is some theory or just some rules I need to remember?\r\n\r\nMy description may be not very clearly,Thank you for answering my question!","title":"what is the the natural expression of this Lambda expression and method reference in the method usage or it just don&#39;t have it?","body":"<pre><code>public static void main(String[] args) {\n        Student[] students = new Student[4];\n        students[0] = new Student(&quot;guy1&quot;, 103, 334); // height / age （randomly written）\n        students[1] = new Student(&quot;guy2&quot;, 87, 534);\n        students[2] = new Student(&quot;guy3&quot;, 103, 232);\n        students[3] = new Student(&quot;guy4&quot;, 110, 121);\n\n        Arrays.sort(students, Comparator.comparingInt(Student::getAge)); // method reference\n        Arrays.sort(students, Comparator.comparingInt(student -&gt; student.getAge())); // Lambda expression\n</code></pre>\n<pre><code>// the source code of the comparingInt method\n&gt;! public static &lt;T&gt; Comparator&lt;T&gt; comparingInt(ToIntFunction&lt;? super T&gt; keyExtractor) {\n&gt;! Objects.requireNonNull(keyExtractor);\n&gt;! return (Comparator&lt;T&gt; &amp; Serializable)\n&gt;!             (c1, c2) -&gt; Integer.compare(keyExtractor.applyAsInt(c1), keyExtractor.applyAsInt(c2));\n&gt;!     }\n</code></pre>\n<p>I konw that I need to send the object and the method to this method, But I am confused why I can't just send the Object and method as normal parameters like Comparator.comparingInt(Student, student.get age())) (I konw it doesn't work but if I don't use Lambda expression or method reference I need to create a class in this or what?)</p>\n<p>what I do like this is failed:</p>\n<pre><code>      Arrays.sort(students, Comparator.comparingInt(students,c1,getAge) kinds of , actually all can't pass IDEA.\n\n//        Animal a = new Animal() { former version\n//            @Override\n//            public void run() {\n//                System.out.println(&quot;dog runs&quot;);\n//            }\n//        };\n\n//        Animal a = () -&gt; {\n//            System.out.println(&quot;dog runs&quot;);\n//        };\n//\n//        a.run();\n</code></pre>\n<p>like this, I konw the the former version of the simpify version,but I can't understand how the usage and change of comparingInt sorts of. My understanding about this is that I thought they also have the Lambda in their method body,so what outside need to do is just transfer the parameter about the object and method. But why in this way? I am curious whether there is some theory or just some rules I need to remember?</p>\n<p>My description may be not very clearly,Thank you for answering my question!</p>\n"},{"tags":["java","spring","caching","kubernetes","caffeine"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1598887275,"post_id":63670352,"comment_id":112595930,"body_markdown":"The Spring authors were against that feature, but an [alternative adapter](https://github.com/stepio/coffee-boots) offers that functionality.","body":"The Spring authors were against that feature, but an <a href=\"https://github.com/stepio/coffee-boots\" rel=\"nofollow noreferrer\">alternative adapter</a> offers that functionality."}],"answers":[{"tags":[],"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599007270,"creation_date":1599007270,"answer_id":63697163,"question_id":63670352,"body_markdown":"You can declare many cache configurations programmatically instead of using yaml.\r\n\r\nSomething like this:\r\n\r\n\t@Configuration\r\n\t@EnableCaching\r\n\tpublic class CacheConfig {\r\n\r\n\t\tpublic static final String CACHE_A = &quot;cacheA&quot;;\r\n\t\tpublic static final String CACHE_B = &quot;cacheB&quot;;\r\n\t\tpublic static final String CACHE_C = &quot;cacheC&quot;;\r\n\r\n\t    @Bean\r\n\t    public CacheManager cacheManagerTicker(Ticker ticker) {\r\n\t       \r\n\t       List&lt;Cache&gt; caches = new ArrayList&lt;&gt;();\r\n\t       \r\n\t       // Cache A\r\n\t       caches.add(this.buildCache(CACHE_A, ticker, 2000L, 1L, TimeUnit.HOURS));\r\n\t       \r\n\t       // Cache B\r\n\t       caches.add(this.buildCache(CACHE_B, ticker, 2000L, 1L, TimeUnit.HOURS));\r\n\t       \r\n\t       // Cache C\r\n\t       caches.add(this.buildCache(CACHE_C, ticker, 3500L, 15L, TimeUnit.MINUTES));\r\n\t       \r\n\t       SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n\t       cacheManager.setCaches(caches);\r\n\t       return cacheManager;\r\n\t    }\r\n\t    \r\n\t    private CaffeineCache buildCache(String cacheName, Ticker ticker, Long maxSize, Long ttl, TimeUnit ttlUnit){\r\n\t    \r\n\t    \tCaffeine&lt;Object, Object&gt; cacheBuilder = Caffeine.newBuilder();\r\n\r\n\t    \t// TTL\r\n\t    \tif (ttl != null &amp;&amp; ttl &gt; 0 &amp;&amp; ttlUnit != null){\r\n\t    \t\tcacheBuilder.expireAfterWrite(ttl, ttlUnit);\r\n\t    \t}\r\n\t    \t\r\n\t    \t// Max size\r\n\t    \tif (maxSize != null &amp;&amp; maxSize &gt; 0){\r\n\t    \t\tcacheBuilder.maximumSize(maxSize);\r\n\t    \t}\r\n\t    \t\r\n\t    \t// Ticker\r\n\t    \tcacheBuilder.ticker(ticker);\r\n\t    \t\r\n\t    \treturn new CaffeineCache(cacheName, cacheBuilder.build());\r\n\t    }\r\n\t    \r\n\t    @Bean\r\n\t    public Ticker ticker() {\r\n\t        return Ticker.systemTicker();\r\n\t    }\r\n\t\t\r\n\t}","title":"Define multiple caches configurations with Spring and Caffeine","body":"<p>You can declare many cache configurations programmatically instead of using yaml.</p>\n<p>Something like this:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    public static final String CACHE_A = &quot;cacheA&quot;;\n    public static final String CACHE_B = &quot;cacheB&quot;;\n    public static final String CACHE_C = &quot;cacheC&quot;;\n\n    @Bean\n    public CacheManager cacheManagerTicker(Ticker ticker) {\n       \n       List&lt;Cache&gt; caches = new ArrayList&lt;&gt;();\n       \n       // Cache A\n       caches.add(this.buildCache(CACHE_A, ticker, 2000L, 1L, TimeUnit.HOURS));\n       \n       // Cache B\n       caches.add(this.buildCache(CACHE_B, ticker, 2000L, 1L, TimeUnit.HOURS));\n       \n       // Cache C\n       caches.add(this.buildCache(CACHE_C, ticker, 3500L, 15L, TimeUnit.MINUTES));\n       \n       SimpleCacheManager cacheManager = new SimpleCacheManager();\n       cacheManager.setCaches(caches);\n       return cacheManager;\n    }\n    \n    private CaffeineCache buildCache(String cacheName, Ticker ticker, Long maxSize, Long ttl, TimeUnit ttlUnit){\n    \n        Caffeine&lt;Object, Object&gt; cacheBuilder = Caffeine.newBuilder();\n\n        // TTL\n        if (ttl != null &amp;&amp; ttl &gt; 0 &amp;&amp; ttlUnit != null){\n            cacheBuilder.expireAfterWrite(ttl, ttlUnit);\n        }\n        \n        // Max size\n        if (maxSize != null &amp;&amp; maxSize &gt; 0){\n            cacheBuilder.maximumSize(maxSize);\n        }\n        \n        // Ticker\n        cacheBuilder.ticker(ticker);\n        \n        return new CaffeineCache(cacheName, cacheBuilder.build());\n    }\n    \n    @Bean\n    public Ticker ticker() {\n        return Ticker.systemTicker();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2662708,"reputation":951,"user_id":2302006,"display_name":"Nankai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696873364,"creation_date":1696873364,"answer_id":77260828,"question_id":63670352,"body_markdown":"Best solution for you.\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig {\r\n        @Value(&quot;${cache.cache-names.otpCache}&quot;)\r\n        String otpCacheName;\r\n        @Value(&quot;${cache.cache-names.tokenCache}&quot;)\r\n        String tokenCacheName;\r\n        @Value(&quot;${cache.ttl.otpCache}&quot;)\r\n        int otpCacheTTL;\r\n        @Value(&quot;${cache.ttl.tokenCache}&quot;)\r\n        int tokenCacheTTL;\r\n    \r\n    \r\n        @Bean(&quot;otp-cache&quot;)\r\n        public CacheManager tokenCacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager(otpCacheName);\r\n            cacheManager.setCaffeine(Caffeine.newBuilder()\r\n                    .expireAfterWrite(otpCacheTTL, TimeUnit.SECONDS));\r\n            return cacheManager;\r\n        }\r\n    \r\n        @Bean(&quot;token-cache&quot;)\r\n        public CacheManager otpCacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager(tokenCacheName);\r\n            cacheManager.setCaffeine(Caffeine.newBuilder()\r\n                    .expireAfterWrite(tokenCacheTTL, TimeUnit.HOURS));\r\n            return cacheManager;\r\n        }\r\n    }","title":"Define multiple caches configurations with Spring and Caffeine","body":"<p>Best solution for you.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n    @Value(&quot;${cache.cache-names.otpCache}&quot;)\n    String otpCacheName;\n    @Value(&quot;${cache.cache-names.tokenCache}&quot;)\n    String tokenCacheName;\n    @Value(&quot;${cache.ttl.otpCache}&quot;)\n    int otpCacheTTL;\n    @Value(&quot;${cache.ttl.tokenCache}&quot;)\n    int tokenCacheTTL;\n\n\n    @Bean(&quot;otp-cache&quot;)\n    public CacheManager tokenCacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager(otpCacheName);\n        cacheManager.setCaffeine(Caffeine.newBuilder()\n                .expireAfterWrite(otpCacheTTL, TimeUnit.SECONDS));\n        return cacheManager;\n    }\n\n    @Bean(&quot;token-cache&quot;)\n    public CacheManager otpCacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager(tokenCacheName);\n        cacheManager.setCaffeine(Caffeine.newBuilder()\n                .expireAfterWrite(tokenCacheTTL, TimeUnit.HOURS));\n        return cacheManager;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16189006,"reputation":65,"user_id":11688316,"display_name":"OLY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696873364,"creation_date":1598875004,"question_id":63670352,"body_markdown":"I need to use several caches in my service for different uses.\r\nI&#39;m looking for a way to separate their configurations like **maximumSize** and **expireAfterWrite**.\r\nI&#39;m using Spring and Kubernetes, and in the deploy.yaml I have this:\r\n\r\n    spring:\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n      cache:\r\n        type: CAFFEINE\r\n        cache-names: cacheA, cacheB\r\n        caffeine:\r\n          spec: expireAfterWrite=1h,maximumSize=2000\r\n      output:\r\n        ansi:\r\n          enabled: never\r\n\r\nI want to create a new cache, **cacheC**, which will have a different configurations. \r\n\r\nHow can I do that? Thanks!","title":"Define multiple caches configurations with Spring and Caffeine","body":"<p>I need to use several caches in my service for different uses.\nI'm looking for a way to separate their configurations like <strong>maximumSize</strong> and <strong>expireAfterWrite</strong>.\nI'm using Spring and Kubernetes, and in the deploy.yaml I have this:</p>\n<pre><code>spring:\n  main:\n    allow-bean-definition-overriding: true\n  cache:\n    type: CAFFEINE\n    cache-names: cacheA, cacheB\n    caffeine:\n      spec: expireAfterWrite=1h,maximumSize=2000\n  output:\n    ansi:\n      enabled: never\n</code></pre>\n<p>I want to create a new cache, <strong>cacheC</strong>, which will have a different configurations.</p>\n<p>How can I do that? Thanks!</p>\n"},{"tags":["java","command-line","jvm-arguments"],"comments":[{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1504020031,"post_id":45942772,"comment_id":78843940,"body_markdown":"No but you can write a script that launches java for you, including your long options, which amounts to the same thing in most practical cases.","body":"No but you can write a script that launches java for you, including your long options, which amounts to the same thing in most practical cases."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1504020110,"post_id":45942772,"comment_id":78844010,"body_markdown":"Why can&#39;t you read the file first, and write the options when calling java?","body":"Why can&#39;t you read the file first, and write the options when calling java?"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504020696,"post_id":45942772,"comment_id":78844395,"body_markdown":"All the Java args have to be there when it&#39;s launched in this case. I&#39;m trying to launch the application inside a tool called VMMap, which can only launch applications with a 260 character command line. My application has a command line that&#39;s over 5,500 characters (which doesn&#39;t fit). I&#39;ve updated the original post to include this information.","body":"All the Java args have to be there when it&#39;s launched in this case. I&#39;m trying to launch the application inside a tool called VMMap, which can only launch applications with a 260 character command line. My application has a command line that&#39;s over 5,500 characters (which doesn&#39;t fit). I&#39;ve updated the original post to include this information."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504022909,"post_id":45942772,"comment_id":78845767,"body_markdown":"Your question is an [X/Y Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). Tell us what problem you are trying to solve instead of asking for help with the solution, which does not appear to be the correct approach.","body":"Your question is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X/Y Problem</a>. Tell us what problem you are trying to solve instead of asking for help with the solution, which does not appear to be the correct approach."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1504036678,"post_id":45942772,"comment_id":78853182,"body_markdown":"(1) If you mean VMMap from former-sysinternals-now-part-of-MS, it can handle a pre-existing process just fine, at least as of the 2014 version I have (2) If `-classpath` alone is (much of) the problem, use envvar `CLASSPATH` instead, or wildcards, or fat jar(s) (3) Otherwise, it _may_ work to use envvar `_JAVA_OPTIONS` and/or `JAVA_TOOL_OPTIONS`","body":"(1) If you mean VMMap from former-sysinternals-now-part-of-MS, it can handle a pre-existing process just fine, at least as of the 2014 version I have (2) If <code>-classpath</code> alone is (much of) the problem, use envvar <code>CLASSPATH</code> instead, or wildcards, or fat jar(s) (3) Otherwise, it <i>may</i> work to use envvar <code>_JAVA_OPTIONS</code> and/or <code>JAVA_TOOL_OPTIONS</code>"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504079377,"post_id":45942772,"comment_id":78867422,"body_markdown":"@dave_thompson_085 Yes, it&#39;s the VMMap from SysInternals. There are effectively two ways you can debug a process with it. You can either directly attach to a running process, and it will show all the memory allocated to the process and let you look at string values held in the heap etc. The second method is to get VMMap to launch the process directly. In this mode, VMMap hooks the APIs for memory allocation and can show you memory leaks including callstacks. It&#39;s a much more detailed view of the process :) Good idea about using _JAVA_OPTIONS and/or CLASSPATH environment vars - will try those.","body":"@dave_thompson_085 Yes, it&#39;s the VMMap from SysInternals. There are effectively two ways you can debug a process with it. You can either directly attach to a running process, and it will show all the memory allocated to the process and let you look at string values held in the heap etc. The second method is to get VMMap to launch the process directly. In this mode, VMMap hooks the APIs for memory allocation and can show you memory leaks including callstacks. It&#39;s a much more detailed view of the process :) Good idea about using _JAVA_OPTIONS and/or CLASSPATH environment vars - will try those."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504080087,"post_id":45942772,"comment_id":78867863,"body_markdown":"@JarrodRoberson Thanks for the feedback, but this is not an X/Y Problem. My actual problem is that I can&#39;t debug my application with VMMap (one of many tools in my arsenal that I use regularly to debug native applications). As my application contains Java, C++ and C# code, it is a very useful tool. I know how VMMap works and what I can use it for. In this case, I need to use it to find a memory leak. But I don&#39;t need help finding the memory leak as I&#39;m quite proficient at doing that on my own. What I don&#39;t know is how to launch Java.exe and provide command line parameters in a file.","body":"@JarrodRoberson Thanks for the feedback, but this is not an X/Y Problem. My actual problem is that I can&#39;t debug my application with VMMap (one of many tools in my arsenal that I use regularly to debug native applications). As my application contains Java, C++ and C# code, it is a very useful tool. I know how VMMap works and what I can use it for. In this case, I need to use it to find a memory leak. But I don&#39;t need help finding the memory leak as I&#39;m quite proficient at doing that on my own. What I don&#39;t know is how to launch Java.exe and provide command line parameters in a file."},{"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"score":0,"creation_date":1504095257,"post_id":45942772,"comment_id":78878219,"body_markdown":"Did you try the solution I provided?","body":"Did you try the solution I provided?"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504098966,"post_id":45942772,"comment_id":78881235,"body_markdown":"@nagendra547 Hi, yes I did try your suggestion and have left a comment with your answer.","body":"@nagendra547 Hi, yes I did try your suggestion and have left a comment with your answer."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504099271,"post_id":45942772,"comment_id":78881520,"body_markdown":"@MarkDouglas - the variations of solutions that are not what you are asking for and honestly better solutions points to the X/Y conclusion. You do not need to load from a text file you need to feed the same requirements to VMMap which does not predicate loading command line options from a text file as the solutions in the comments and answers prove out. You should edit your question to reword it without the request to do something that is impossible.","body":"@MarkDouglas - the variations of solutions that are not what you are asking for and honestly better solutions points to the X/Y conclusion. You do not need to load from a text file you need to feed the same requirements to VMMap which does not predicate loading command line options from a text file as the solutions in the comments and answers prove out. You should edit your question to reword it without the request to do something that is impossible."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504099609,"post_id":45942772,"comment_id":78881791,"body_markdown":"@JarrodRoberson The requirement is simple. I need to pass a very long list of command args to my application for it to run. This is over 5,500 characters in length. VMMap only allows you to specify 260 characters. One solution would have been to specify the command arguments in a file and have Java.exe read that file, but it sounds like this is not possible with the Oracle JVM. In this case the answer to my original question is &#39;it is not possible&#39;, which is an acceptable answer if true. I just needed to explore if it was possible and could have helped others who have similar requirements.","body":"@JarrodRoberson The requirement is simple. I need to pass a very long list of command args to my application for it to run. This is over 5,500 characters in length. VMMap only allows you to specify 260 characters. One solution would have been to specify the command arguments in a file and have Java.exe read that file, but it sounds like this is not possible with the Oracle JVM. In this case the answer to my original question is &#39;it is not possible&#39;, which is an acceptable answer if true. I just needed to explore if it was possible and could have helped others who have similar requirements."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504099778,"post_id":45942772,"comment_id":78881942,"body_markdown":"@JarrodRoberson I&#39;m not sure how you can call the other suggestions &#39;better solutions&#39; as none of them allow me to pass command line arguments in a file to the JVM. You are trying to get me change my question into something that people (including myself) can already answer. My question is NOT &#39;how do I pass a very long list of arguments to Java.exe&#39;.","body":"@JarrodRoberson I&#39;m not sure how you can call the other suggestions &#39;better solutions&#39; as none of them allow me to pass command line arguments in a file to the JVM. You are trying to get me change my question into something that people (including myself) can already answer. My question is NOT &#39;how do I pass a very long list of arguments to Java.exe&#39;."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504100748,"post_id":45942772,"comment_id":78882734,"body_markdown":"@MarkDouglas - the point is you do not **have** to pass command line args from a file into the JVM, you need to provide the same args to both programs. That is your actual problem. *How to pass the same args to two programs when one of them do not allow you to read them from a file.?** The point is you do **not** have to make `java` read from a file, because that is not going to happen. If you do not edit your question do not expect any better answers that you have now. Just trying to help and provide some guidance on how to succeed on the site.","body":"@MarkDouglas - the point is you do not <b>have</b> to pass command line args from a file into the JVM, you need to provide the same args to both programs. That is your actual problem. <i>How to pass the same args to two programs when one of them do not allow you to read them from a file.?*</i> The point is you do <b>not</b> have to make <code>java</code> read from a file, because that is not going to happen. If you do not edit your question do not expect any better answers that you have now. Just trying to help and provide some guidance on how to succeed on the site."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504101361,"post_id":45942772,"comment_id":78883275,"body_markdown":"@JarrodRoberson This is getting silly. I know how to pass arguments on the command line. I am NOT attempting to pass the same arguments to &#39;both programs&#39;, only to Java.exe *from* VMMap. But even that is almost irrelevant. All I wanted to know is how (if possible) I can pass arguments in a file. The original question says *exactly* that, but you are assuming I&#39;m trying to solve a different issue, which I am not. How would you suggest I reword my question if all I want to know is how, if possible, can I pass command line args in a file to Java.exe?","body":"@JarrodRoberson This is getting silly. I know how to pass arguments on the command line. I am NOT attempting to pass the same arguments to &#39;both programs&#39;, only to Java.exe <i>from</i> VMMap. But even that is almost irrelevant. All I wanted to know is how (if possible) I can pass arguments in a file. The original question says <i>exactly</i> that, but you are assuming I&#39;m trying to solve a different issue, which I am not. How would you suggest I reword my question if all I want to know is how, if possible, can I pass command line args in a file to Java.exe?"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504101489,"post_id":45942772,"comment_id":78883375,"body_markdown":"@JarrodRoberson I know you are trying to help, and it *is* appreciated, but please understand that my original question is all that I want an answer to - nothing more, nothing less.","body":"@JarrodRoberson I know you are trying to help, and it <i>is</i> appreciated, but please understand that my original question is all that I want an answer to - nothing more, nothing less."}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504020619,"creation_date":1504020293,"answer_id":45942925,"question_id":45942772,"body_markdown":"You could use `xargs`.\r\n\r\nGiven a file, `arguments.in`, with the following contents:\r\n\r\n    ~/dev/code$ more arguments.in\r\n    -version\r\n\r\nInvoked like so:\r\n\r\n    ~/dev/code$ cat arguments.in | xargs $JAVA_HOME/bin/java\r\n\r\nProduces this output (i.e. the same output as if you invoked `java -version`):\r\n\r\n    java version &quot;1.8.0_51&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_51-b16)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)\r\n\r\nNote: this assumes you are either on a *nix OS or are using Cygwin (or a simulator emulator such as [GOW](https://github.com/bmatzelle/gow/wiki)).","title":"How can I pass Java command line options in a separate file?","body":"<p>You could use <code>xargs</code>.</p>\n\n<p>Given a file, <code>arguments.in</code>, with the following contents:</p>\n\n<pre><code>~/dev/code$ more arguments.in\n-version\n</code></pre>\n\n<p>Invoked like so:</p>\n\n<pre><code>~/dev/code$ cat arguments.in | xargs $JAVA_HOME/bin/java\n</code></pre>\n\n<p>Produces this output (i.e. the same output as if you invoked <code>java -version</code>):</p>\n\n<pre><code>java version \"1.8.0_51\"\nJava(TM) SE Runtime Environment (build 1.8.0_51-b16)\nJava HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)\n</code></pre>\n\n<p>Note: this assumes you are either on a *nix OS or are using Cygwin (or a simulator emulator such as <a href=\"https://github.com/bmatzelle/gow/wiki\" rel=\"nofollow noreferrer\">GOW</a>).</p>\n"},{"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504022644,"creation_date":1504021013,"answer_id":45943168,"question_id":45942772,"body_markdown":"Simple way:-\r\n\r\n    yourclassName=JavaClassName\r\n    java `cat myOptionsFile.txt` $yourclassName\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nIn windows, this should work fine.\r\n\r\n    set /p VAR=&lt;myOptionsFile.txt\r\n    java.exe %VAR% yourclassName","title":"How can I pass Java command line options in a separate file?","body":"<p>Simple way:-</p>\n\n<pre><code>yourclassName=JavaClassName\njava `cat myOptionsFile.txt` $yourclassName\n</code></pre>\n\n<hr>\n\n<p>In windows, this should work fine.</p>\n\n<pre><code>set /p VAR=&lt;myOptionsFile.txt\njava.exe %VAR% yourclassName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686580185,"creation_date":1686580185,"answer_id":76457663,"question_id":45942772,"body_markdown":"Since Java 11 (maybe before), it&#39;s possible to pass an argument file\r\n\r\n```bash\r\n$ java @my-args.txt -jar the.jar\r\n```\r\n\r\n`my-args.txt`\r\n```\r\n-Xms1G\r\n-Xmx30G\r\n```\r\n\r\n","title":"How can I pass Java command line options in a separate file?","body":"<p>Since Java 11 (maybe before), it's possible to pass an argument file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java @my-args.txt -jar the.jar\n</code></pre>\n<p><code>my-args.txt</code></p>\n<pre><code>-Xms1G\n-Xmx30G\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1559017,"reputation":319,"user_id":1449366,"display_name":"AnrDaemon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696873249,"creation_date":1696873249,"answer_id":77260817,"question_id":45942772,"body_markdown":"Building on top of @nagendra547&#39;s answer,\r\n\r\n`java $( grep -vE &#39;^[#;]&#39; &quot;$PWD/jvm.parameters&quot; ) -jar whatever.jar`\r\n\r\nwill also allow you to include comments in your parameters file.","title":"How can I pass Java command line options in a separate file?","body":"<p>Building on top of @nagendra547's answer,</p>\n<p><code>java $( grep -vE '^[#;]' &quot;$PWD/jvm.parameters&quot; ) -jar whatever.jar</code></p>\n<p>will also allow you to include comments in your parameters file.</p>\n"}],"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2887,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"answer_count":4,"score":7,"last_activity_date":1696873249,"creation_date":1504019815,"question_id":45942772,"body_markdown":"Is there any way of launching Oracle&#39;s Java.exe and have it take its command line options from a text file on Windows?\r\n\r\nWhat I&#39;d like to be able to do is something like this:\r\n\r\n    java.exe -optionsFile=myOptionsFile.txt MyClass\r\n\r\nwhere &#39;myOptionsFile.txt&#39; contains a list of standard Java VM options such as &quot;-classpath=&quot;my very long classpath&quot; and &quot;-Dthis=that&quot; etc.\r\n\r\nAll of the options must be present when Java.exe is run as it is the target of a memory debugging tool called VMMap. VMMap allows you to launch a .exe and attach to it in order to debug native heap issues. In this case, I cannot generate the command line args at runtime or have another process launch java.exe for me.","title":"How can I pass Java command line options in a separate file?","body":"<p>Is there any way of launching Oracle's Java.exe and have it take its command line options from a text file on Windows?</p>\n\n<p>What I'd like to be able to do is something like this:</p>\n\n<pre><code>java.exe -optionsFile=myOptionsFile.txt MyClass\n</code></pre>\n\n<p>where 'myOptionsFile.txt' contains a list of standard Java VM options such as \"-classpath=\"my very long classpath\" and \"-Dthis=that\" etc.</p>\n\n<p>All of the options must be present when Java.exe is run as it is the target of a memory debugging tool called VMMap. VMMap allows you to launch a .exe and attach to it in order to debug native heap issues. In this case, I cannot generate the command line args at runtime or have another process launch java.exe for me.</p>\n"},{"tags":["java","gradle","intellij-idea","project"],"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":0,"creation_date":1542961262,"post_id":53442569,"comment_id":93758698,"body_markdown":"Did you try to invalidate the cache ?","body":"Did you try to invalidate the cache ?"},{"owner":{"account_id":13827681,"reputation":201,"user_id":9981504,"display_name":"Yohannlog"},"score":0,"creation_date":1542964398,"post_id":53442569,"comment_id":93760249,"body_markdown":"Yeah, but nothing change","body":"Yeah, but nothing change"},{"owner":{"account_id":12273514,"reputation":1909,"user_id":8958060,"display_name":"Petr Rastegaev"},"score":2,"creation_date":1542972239,"post_id":53442569,"comment_id":93764313,"body_markdown":"Sounds like https://youtrack.jetbrains.com/issue/IDEA-202685","body":"Sounds like <a href=\"https://youtrack.jetbrains.com/issue/IDEA-202685\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-202685</a>"},{"owner":{"account_id":13827681,"reputation":201,"user_id":9981504,"display_name":"Yohannlog"},"score":0,"creation_date":1543078259,"post_id":53442569,"comment_id":93792195,"body_markdown":"Ho ok, It&#39;s a recent problem. I see.. Thanks","body":"Ho ok, It&#39;s a recent problem. I see.. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":7278276,"reputation":147,"user_id":5548926,"display_name":"Izumi.H"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544550534,"creation_date":1544550534,"answer_id":53729676,"question_id":53442569,"body_markdown":"I had the exact same issue and had to downgrade IntelliJ to 2018.2 to fix it.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I had the exact same issue and had to downgrade IntelliJ to 2018.2 to fix it.</p>\n"},{"tags":[],"owner":{"account_id":1259498,"reputation":6156,"user_id":1218213,"display_name":"squaleLis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1547046387,"creation_date":1547046387,"answer_id":54113046,"question_id":53442569,"body_markdown":"This is the ticket of the error (as spotted by [Petr Rastegaev][1] in the comments of the question):\n\n- https://youtrack.jetbrains.com/issue/IDEA-202685\n\nIn the thread, I found this workaround that worked for me:\n\n&gt; Settings -&gt; Build -&gt; Gradle -&gt; &quot;Create separate module per source set&quot;\n&gt;\n&gt; checked fails, unchecked is ok.\n\n\n\n  [1]: https://stackoverflow.com/users/8958060/petr-rastegaev","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>This is the ticket of the error (as spotted by <a href=\"https://stackoverflow.com/users/8958060/petr-rastegaev\">Petr Rastegaev</a> in the comments of the question):</p>\n<ul>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-202685\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-202685</a></li>\n</ul>\n<p>In the thread, I found this workaround that worked for me:</p>\n<blockquote>\n<p>Settings -&gt; Build -&gt; Gradle -&gt; &quot;Create separate module per source set&quot;</p>\n<p>checked fails, unchecked is ok.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13587537,"reputation":51,"user_id":9801831,"display_name":"J&#233;r&#233;my L."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548850726,"creation_date":1548850726,"answer_id":54440503,"question_id":53442569,"body_markdown":"This probably comes from a problem regarding a dependency in your project.\r\n\r\nCheck this thread : https://youtrack.jetbrains.com/issue/IDEA-202685#focus=streamItem-27-3265172-0-0\r\n\r\nIn my project, when I run gradle build, I have an error message related to the dependency in error. After solving that particular issue, gradle sync works normally.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>This probably comes from a problem regarding a dependency in your project.</p>\n\n<p>Check this thread : <a href=\"https://youtrack.jetbrains.com/issue/IDEA-202685#focus=streamItem-27-3265172-0-0\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-202685#focus=streamItem-27-3265172-0-0</a></p>\n\n<p>In my project, when I run gradle build, I have an error message related to the dependency in error. After solving that particular issue, gradle sync works normally.</p>\n"},{"tags":[],"owner":{"account_id":17564254,"reputation":1,"user_id":12741484,"display_name":"user12741484"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579428034,"creation_date":1579428034,"answer_id":59808985,"question_id":53442569,"body_markdown":"file path : gradle\\wrapper\\gradle-wrapper.properties   \r\n\r\nchange the setting to: distributionUrl=https\\://services.gradle.org/distributions/gradle-5.5.1-bin.zip","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>file path : gradle\\wrapper\\gradle-wrapper.properties   </p>\n\n<p>change the setting to: distributionUrl=https://services.gradle.org/distributions/gradle-5.5.1-bin.zip</p>\n"},{"tags":[],"owner":{"account_id":13276031,"reputation":46,"user_id":9585354,"display_name":"Sergey Khovrachev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580814202,"creation_date":1580814202,"answer_id":60055965,"question_id":53442569,"body_markdown":"I had the same exception in idea 2019.3.2. I removed Idea settings  (folder “.idea” ) and set up project again from scratch. That fixed the issue for me.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I had the same exception in idea 2019.3.2. I removed Idea settings  (folder “.idea” ) and set up project again from scratch. That fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":16467156,"reputation":385,"user_id":11897032,"display_name":"trex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583424118,"creation_date":1583424118,"answer_id":60549473,"question_id":53442569,"body_markdown":"In my case it was caused due to being in &quot;offline mode&quot;.\r\n\r\nSimply enough, going out of offline mode did the trick.\r\n\r\n[Offline mode button][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vNqE7.png","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>In my case it was caused due to being in \"offline mode\".</p>\n\n<p>Simply enough, going out of offline mode did the trick.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vNqE7.png\" rel=\"noreferrer\">Offline mode button</a></p>\n"},{"tags":[],"owner":{"account_id":11033244,"reputation":11,"user_id":8104007,"display_name":"Lucy Miracle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583917592,"creation_date":1583917592,"answer_id":60632480,"question_id":53442569,"body_markdown":"Version: 2019.3.3\r\nBuild: 193.6494.35\r\n\r\n1 Disabling the proxy configured inside IntelliJ settings.\r\n\r\n2 Sync.\r\n\r\n3 Re-enable the configured proxy.\r\n\r\n4 Sync should still work.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>Version: 2019.3.3\nBuild: 193.6494.35</p>\n\n<p>1 Disabling the proxy configured inside IntelliJ settings.</p>\n\n<p>2 Sync.</p>\n\n<p>3 Re-enable the configured proxy.</p>\n\n<p>4 Sync should still work.</p>\n"},{"tags":[],"owner":{"account_id":3977983,"reputation":574,"user_id":3613216,"display_name":"foo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586464326,"creation_date":1586464326,"answer_id":61129747,"question_id":53442569,"body_markdown":"Try removing the local maven repository and re-importing the gradle project, i.e\r\n\r\n`rm -rf ~/.m2/repository/*`\r\n\r\nand then reimport.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>Try removing the local maven repository and re-importing the gradle project, i.e</p>\n\n<p><code>rm -rf ~/.m2/repository/*</code></p>\n\n<p>and then reimport.</p>\n"},{"tags":[],"owner":{"account_id":10285344,"reputation":85,"user_id":7588855,"display_name":"Bhargav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594183585,"creation_date":1594183585,"answer_id":62787724,"question_id":53442569,"body_markdown":"In my case I got this error due to credentials miss match in the Gradle.properties. So I have updated the credentials and the issue was resolved.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>In my case I got this error due to credentials miss match in the Gradle.properties. So I have updated the credentials and the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":211427,"reputation":81,"user_id":4796504,"display_name":"keshav jois"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595203045,"creation_date":1595203045,"answer_id":62986930,"question_id":53442569,"body_markdown":"I had faced the same issue in Intellij version 2019.3.3 \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pGMK4.png\r\n\r\nissue was fixed when i upgraded the intellij version to 2020.1.3","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I had faced the same issue in Intellij version 2019.3.3\n<a href=\"https://i.stack.imgur.com/pGMK4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pGMK4.png\" alt=\"enter image description here\" /></a></p>\n<p>issue was fixed when i upgraded the intellij version to 2020.1.3</p>\n"},{"tags":[],"owner":{"account_id":20902551,"reputation":51,"user_id":15355327,"display_name":"Roy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615222678,"creation_date":1615222678,"answer_id":66533961,"question_id":53442569,"body_markdown":"This worked for me:\r\nLaunch cmd -&gt; navigate to the project path -&gt; run the command &quot;gradlew clean build&quot; -&gt; once done reimport gradle changes.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>This worked for me:\nLaunch cmd -&gt; navigate to the project path -&gt; run the command &quot;gradlew clean build&quot; -&gt; once done reimport gradle changes.</p>\n"},{"tags":[],"owner":{"account_id":1402286,"reputation":6262,"user_id":1330816,"display_name":"paneer_tikka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670312289,"creation_date":1670312289,"answer_id":74698847,"question_id":53442569,"body_markdown":"I was getting this error on a `react-native` project. My project ran fine using `react-native run-android` but Android studio failed to finish `gradle sync` with the above exception.\r\n\r\n**TLDR;** \r\n\r\nIn my case, it was caused by `react-native-gradle-plugin` that was being included from `settings.gradle`. This got added as a result of upgrading react to 0.69 in my project.\r\n\r\nI was able to comment out the following to finish gradle sync:\r\n1. In `settings.gradle`\r\n```\r\n//includeBuild(&#39;../node_modules/react-native-gradle-plugin&#39;)\r\n```\r\n2. In `android/build.gradle`\r\n```\r\n//        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n```\r\n\r\nI tried installing `react-native-gradle-plugin` with `yarn` and tried adding the classpath, but that quickly snowballed into version incompatibilities between gradle version needed by the plugin and Android studio.\r\nI&#39;m not sure what side effects this commenting out has, but I haven&#39;t noticed any!","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I was getting this error on a <code>react-native</code> project. My project ran fine using <code>react-native run-android</code> but Android studio failed to finish <code>gradle sync</code> with the above exception.</p>\n<p><strong>TLDR;</strong></p>\n<p>In my case, it was caused by <code>react-native-gradle-plugin</code> that was being included from <code>settings.gradle</code>. This got added as a result of upgrading react to 0.69 in my project.</p>\n<p>I was able to comment out the following to finish gradle sync:</p>\n<ol>\n<li>In <code>settings.gradle</code></li>\n</ol>\n<pre><code>//includeBuild('../node_modules/react-native-gradle-plugin')\n</code></pre>\n<ol start=\"2\">\n<li>In <code>android/build.gradle</code></li>\n</ol>\n<pre><code>//        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n</code></pre>\n<p>I tried installing <code>react-native-gradle-plugin</code> with <code>yarn</code> and tried adding the classpath, but that quickly snowballed into version incompatibilities between gradle version needed by the plugin and Android studio.\nI'm not sure what side effects this commenting out has, but I haven't noticed any!</p>\n"},{"tags":[],"owner":{"account_id":394788,"reputation":1150,"user_id":757408,"display_name":"Mihai Timar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693209824,"creation_date":1693209824,"answer_id":76990979,"question_id":53442569,"body_markdown":"I&#39;ve encountered this recently on AndroidStudio 2022.3.1\r\n\r\nIn my case it was a sub project with a weird path. It&#39;s sitting next to the root project and i have a symlink in a subfolder that points to it.\r\nNot sure which of the two causes the issue, or if it&#39;s the combination.\r\n\r\nThe fix was changing how the subproject is included, from:\r\n\r\n    includeBuild(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;)\r\nto:\r\n\r\n    includeBuild(file(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;).toPath().toRealPath().toAbsolutePath().toString())\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I've encountered this recently on AndroidStudio 2022.3.1</p>\n<p>In my case it was a sub project with a weird path. It's sitting next to the root project and i have a symlink in a subfolder that points to it.\nNot sure which of the two causes the issue, or if it's the combination.</p>\n<p>The fix was changing how the subproject is included, from:</p>\n<pre><code>includeBuild(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;)\n</code></pre>\n<p>to:</p>\n<pre><code>includeBuild(file(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;).toPath().toRealPath().toAbsolutePath().toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29402963,"reputation":19,"user_id":22528704,"display_name":"Wassim Becheikh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696873188,"creation_date":1696873188,"answer_id":77260810,"question_id":53442569,"body_markdown":"Click the button next to device manager called &quot;Sync Project with gradle files&quot;.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>Click the button next to device manager called &quot;Sync Project with gradle files&quot;.</p>\n"}],"owner":{"account_id":13827681,"reputation":201,"user_id":9981504,"display_name":"Yohannlog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28207,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":14,"score":20,"last_activity_date":1696873188,"creation_date":1542959340,"question_id":53442569,"body_markdown":"I have a problem since 2 days with intellij. When I refresh gradle project, I have an error in the console and I used Java 11.\r\n\r\nI search everywhere but few people have this problem.\r\n\r\n&gt; exception during working with external system: java.lang.AssertionError\r\n\tat org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.populateModuleContentRoots(BaseGradleProjectResolverExtension.java:272)\r\n\tat com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateModuleContentRoots(AndroidGradleProjectResolver.java:185)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.TracedProjectResolverExtension.populateModuleContentRoots(TracedProjectResolverExtension.java:62)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.doResolveProjectInfo(GradleProjectResolver.java:382)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.access$200(GradleProjectResolver.java:76)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:879)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:862)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:217)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:141)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:76)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\r\n\tat com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:58)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\r\n\tat com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:45)\r\n\tat com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:100)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:166)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:152)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:554)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:659)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:727)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:164)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:582)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:532)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:151)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager$4.run(CoreProgressManager.java:403)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:314)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nSomeone can help me ?\r\n\r\nYohann\r\n\r\n\r\n\r\n ","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I have a problem since 2 days with intellij. When I refresh gradle project, I have an error in the console and I used Java 11.</p>\n\n<p>I search everywhere but few people have this problem.</p>\n\n<blockquote>\n  <p>exception during working with external system: java.lang.AssertionError\n      at org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.populateModuleContentRoots(BaseGradleProjectResolverExtension.java:272)\n      at com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateModuleContentRoots(AndroidGradleProjectResolver.java:185)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.TracedProjectResolverExtension.populateModuleContentRoots(TracedProjectResolverExtension.java:62)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.doResolveProjectInfo(GradleProjectResolver.java:382)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.access$200(GradleProjectResolver.java:76)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:879)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:862)\n      at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:217)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:141)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:76)\n      at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\n      at com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:58)\n      at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n      at com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:45)\n      at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:100)\n      at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:166)\n      at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:152)\n      at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:554)\n      at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:659)\n      at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:727)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:164)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:582)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:532)\n      at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:151)\n      at com.intellij.openapi.progress.impl.CoreProgressManager$4.run(CoreProgressManager.java:403)\n      at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:314)\n      at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n      at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n      at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>Someone can help me ?</p>\n\n<p>Yohann</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1696874793,"post_id":77260772,"comment_id":136206207,"body_markdown":"Maybe with JavaFX WebView https://openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebView.html\nAnyway, you will end up with something that is like Selenium.","body":"Maybe with JavaFX WebView <a href=\"https://openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebView.html\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebView.ht&zwnj;&#8203;ml</a> Anyway, you will end up with something that is like Selenium."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696886558,"post_id":77260772,"comment_id":136207953,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29634282,"reputation":1,"user_id":22711965,"display_name":"Jyoti kintali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696872817,"creation_date":1696872817,"question_id":77260772,"body_markdown":"Scenario:I want to open the browser and search.All the manual actions like opening browser, searching, navigating to the results.\r\nConditions:Without selenium should be coded in java.\r\n\r\nI have tried with Jsoup, after opening the browsers storing all the html content into a doc file and then parsing it using Jsoup and then finding the element but after finding the element ,i want to click and pass value into search box.\r\nAny Suggestions are welcome!","title":"Navigate to google and perform the manual actions like searching using Java (without Selenium) , a kind of Java Bot","body":"<p>Scenario:I want to open the browser and search.All the manual actions like opening browser, searching, navigating to the results.\nConditions:Without selenium should be coded in java.</p>\n<p>I have tried with Jsoup, after opening the browsers storing all the html content into a doc file and then parsing it using Jsoup and then finding the element but after finding the element ,i want to click and pass value into search box.\nAny Suggestions are welcome!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1399354,"reputation":32465,"user_id":2344584,"accept_rate":83,"display_name":"Stefano Sanfilippo"},"score":2,"creation_date":1390225574,"post_id":21235663,"comment_id":31987330,"body_markdown":"First of all, I would fix `Uzer-Agent` with `User-Agent`. Then, you should not attempt to write a binary file with a `PrintWriter`, which is intended for text. Use a `OutputStream` instead.","body":"First of all, I would fix <code>Uzer-Agent</code> with <code>User-Agent</code>. Then, you should not attempt to write a binary file with a <code>PrintWriter</code>, which is intended for text. Use a <code>OutputStream</code> instead."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1390225601,"post_id":21235663,"comment_id":31987350,"body_markdown":"&quot;The file that I got is 4kB larger than one downloaded via browser&quot; &quot;they show equal data&quot;---these two statements are incongruent.","body":"&quot;The file that I got is 4kB larger than one downloaded via browser&quot; &quot;they show equal data&quot;---these two statements are incongruent."},{"owner":{"account_id":110956,"reputation":21410,"user_id":293369,"accept_rate":85,"display_name":"Oskar Kjellin"},"score":0,"creation_date":1390225671,"post_id":21235663,"comment_id":31987407,"body_markdown":"You do know that it is  harder to download youtube videos than to just  to this? Or do you have a direct link to the actual flv?","body":"You do know that it is  harder to download youtube videos than to just  to this? Or do you have a direct link to the actual flv?"},{"owner":{"account_id":2624940,"reputation":3,"user_id":2272162,"display_name":"user2272162"},"score":0,"creation_date":1390233266,"post_id":21235663,"comment_id":31992353,"body_markdown":"@OskarKjellin I have direct link.","body":"@OskarKjellin I have direct link."}],"answers":[{"tags":[],"owner":{"account_id":1330239,"reputation":17006,"user_id":1274314,"accept_rate":57,"display_name":"TypeIA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390225661,"creation_date":1390225661,"answer_id":21235721,"question_id":21235663,"body_markdown":"You can&#39;t read binary files (like `flv`) as if they were text files, using `readLine()` and so on. You must use the unformatted `read()` and `write()` methods in `InputStream` and `OutputStream` respectively.","title":"YouTube downloader code creates unplayable videos","body":"<p>You can't read binary files (like <code>flv</code>) as if they were text files, using <code>readLine()</code> and so on. You must use the unformatted <code>read()</code> and <code>write()</code> methods in <code>InputStream</code> and <code>OutputStream</code> respectively.</p>\n"},{"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1390226219,"creation_date":1390226219,"answer_id":21235922,"question_id":21235663,"body_markdown":"yeah, although reading *might* be done with `br.readLine()` (not sure, I&#39;d read it with `br.read( char[ 4096 ], off, len )`, but writing with `pw.println` is definitely wrong, as it adds a line-break at the end of each line - something you don&#39;t want to see in a binary file.\r\n\r\nI&#39;d put it like\r\n\r\n    char[] buff = new char[ 4096 ];\r\n    int offset = 0;\r\n    while( -1 != br.read( buff, offset, 4096 ) ){\r\n      pw.write( buff );\r\n      offset += 4096;\r\n    }\r\n\r\nYou can also use Input/Output-Streams here, as you don&#39;t need to do a character-conversions.","title":"YouTube downloader code creates unplayable videos","body":"<p>yeah, although reading <em>might</em> be done with <code>br.readLine()</code> (not sure, I'd read it with <code>br.read( char[ 4096 ], off, len )</code>, but writing with <code>pw.println</code> is definitely wrong, as it adds a line-break at the end of each line - something you don't want to see in a binary file.</p>\n\n<p>I'd put it like</p>\n\n<pre><code>char[] buff = new char[ 4096 ];\nint offset = 0;\nwhile( -1 != br.read( buff, offset, 4096 ) ){\n  pw.write( buff );\n  offset += 4096;\n}\n</code></pre>\n\n<p>You can also use Input/Output-Streams here, as you don't need to do a character-conversions.</p>\n"}],"owner":{"account_id":2624940,"reputation":3,"user_id":2272162,"display_name":"user2272162"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21235922,"answer_count":2,"score":0,"last_activity_date":1696872553,"creation_date":1390225488,"question_id":21235663,"body_markdown":"I tried to download youtube video (using the same link like keepvid). The file that I got is 4kB larger than one downloaded via browser, and it cannot be played. Can anybody tell me why, and what I&#39;m doing wrong?\r\n\r\nAdditionally, when I print both files line by line, they show equal data. \r\n\r\nThe code that I used for downloading is below:\r\n\r\n```\r\ntry {\r\n  URL hr= new URL(&quot;link&quot;);\r\n   URLConnection conn= hr.openConnection();\r\n   conn.setRequestProperty(&quot;Uzer-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n   conn.connect();\r\n\r\n   \r\n   BufferedReader br=new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n             \r\n   File file=new File(&quot;video.flv&quot;);\r\n   PrintWriter pw=new PrintWriter(new FileWriter(file));\r\n             \r\n   String line=&quot;&quot;;\r\n              \r\n   while((line=br.readLine())!=null){\r\n\r\n       System.out.println(line);\r\n        \r\n       pw.println(line);\r\n              \t \r\n       }\r\n          \t  \r\n   pw.close();\r\n} \r\ncatch (Exception e) {}\r\n```","title":"YouTube downloader code creates unplayable videos","body":"<p>I tried to download youtube video (using the same link like keepvid). The file that I got is 4kB larger than one downloaded via browser, and it cannot be played. Can anybody tell me why, and what I'm doing wrong?</p>\n<p>Additionally, when I print both files line by line, they show equal data.</p>\n<p>The code that I used for downloading is below:</p>\n<pre><code>try {\n  URL hr= new URL(&quot;link&quot;);\n   URLConnection conn= hr.openConnection();\n   conn.setRequestProperty(&quot;Uzer-Agent&quot;, &quot;Mozilla/5.0&quot;);\n   conn.connect();\n\n   \n   BufferedReader br=new BufferedReader(new InputStreamReader(conn.getInputStream()));\n             \n   File file=new File(&quot;video.flv&quot;);\n   PrintWriter pw=new PrintWriter(new FileWriter(file));\n             \n   String line=&quot;&quot;;\n              \n   while((line=br.readLine())!=null){\n\n       System.out.println(line);\n        \n       pw.println(line);\n                 \n       }\n              \n   pw.close();\n} \ncatch (Exception e) {}\n</code></pre>\n"},{"tags":["java","android","xml","debugging","usb"],"answers":[{"tags":[],"owner":{"account_id":17774709,"reputation":195,"user_id":12907351,"display_name":"Akash R"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582256648,"creation_date":1582256648,"answer_id":60331905,"question_id":60331665,"body_markdown":"I turned off MIUI Optimization and restarted my phone and it worked. Really cant understand why","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>I turned off MIUI Optimization and restarted my phone and it worked. Really cant understand why</p>\n"},{"tags":[],"owner":{"account_id":3477900,"reputation":29,"user_id":2910681,"display_name":"Varun RTR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637843083,"creation_date":1637843083,"answer_id":70111091,"question_id":60331665,"body_markdown":"Working fine after disable the MIUI Optimization option in Xiaomi. Now I am not getting the popup.","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>Working fine after disable the MIUI Optimization option in Xiaomi. Now I am not getting the popup.</p>\n"},{"tags":[],"owner":{"account_id":7908176,"reputation":2940,"user_id":5972985,"display_name":"Joseph Wambura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647412640,"creation_date":1647412640,"answer_id":71492699,"question_id":60331665,"body_markdown":"Mostly check the targetSdk version in the android.defaultConfig:\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.matukadevelopers.todo&quot;\r\n        minSdk 23\r\n        targetSdk 32\r\n        // targetSdkPreview &quot;Tiramisu&quot;\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\nreplaced `targetSdkPreview &quot;Tiramisu&quot;` with `targetSdk 32` and it worked.","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>Mostly check the targetSdk version in the android.defaultConfig:</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.matukadevelopers.todo&quot;\n    minSdk 23\n    targetSdk 32\n    // targetSdkPreview &quot;Tiramisu&quot;\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n<p>replaced <code>targetSdkPreview &quot;Tiramisu&quot;</code> with <code>targetSdk 32</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":25439815,"reputation":11,"user_id":19242951,"display_name":"Lejla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654024178,"creation_date":1654024178,"answer_id":72453012,"question_id":60331665,"body_markdown":"For Poco M4 5G in Developer options, enable Install via USB.","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>For Poco M4 5G in Developer options, enable Install via USB.</p>\n"},{"tags":[],"owner":{"account_id":26148707,"reputation":1,"user_id":19836972,"display_name":"Abhishek Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661338801,"creation_date":1661338801,"answer_id":73471947,"question_id":60331665,"body_markdown":"Basically, you have to give install it via USB permission to install the app inside developer mode option","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>Basically, you have to give install it via USB permission to install the app inside developer mode option</p>\n"},{"tags":[],"owner":{"account_id":2879456,"reputation":63,"user_id":3624151,"display_name":"beratcelik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696872011,"creation_date":1696872011,"answer_id":77260704,"question_id":60331665,"body_markdown":"USB debugging on\r\nInstall via USB on\r\nWireless debugging on\r\n\r\nIf **Install via USB** is not working, it requires a SIM card. Insert a sim card without switching off the mobile. Hence it will allow you to activate it. After activation, you can take the sim card out. ","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>USB debugging on\nInstall via USB on\nWireless debugging on</p>\n<p>If <strong>Install via USB</strong> is not working, it requires a SIM card. Insert a sim card without switching off the mobile. Hence it will allow you to activate it. After activation, you can take the sim card out.</p>\n"}],"owner":{"account_id":17774709,"reputation":195,"user_id":12907351,"display_name":"Akash R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7365,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1696872011,"creation_date":1582254667,"question_id":60331665,"body_markdown":"02/21 08:38:52: Launching &#39;app&#39; on Xiaomi Redmi Note 7 Pro.  \r\nInstallation did not succeed.  \r\nThe application could not be installed: INSTALL_FAILED_USER_RESTRICTED  \r\nInstallation via USB is disabled.  \r\n\r\n\r\nThe USB Debugging is ON and so is the Install Via USB and File Transfer\r\nI didn&#39;t have this problem till now. The weird part is that Other apps can be installed the same way over USB but this particular app isn&#39;t happening\r\nI have tried restarting both my PC and Phone \r\n\r\nI tried installing it in another phone and still shows the same error while other apps are being installed without a problem","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>02/21 08:38:52: Launching 'app' on Xiaomi Redmi Note 7 Pro.<br>\nInstallation did not succeed.<br>\nThe application could not be installed: INSTALL_FAILED_USER_RESTRICTED<br>\nInstallation via USB is disabled.  </p>\n\n<p>The USB Debugging is ON and so is the Install Via USB and File Transfer\nI didn't have this problem till now. The weird part is that Other apps can be installed the same way over USB but this particular app isn't happening\nI have tried restarting both my PC and Phone </p>\n\n<p>I tried installing it in another phone and still shows the same error while other apps are being installed without a problem</p>\n"},{"tags":["python","java","apache-spark"],"comments":[{"owner":{"account_id":16549222,"reputation":351,"user_id":11958007,"display_name":"o_O"},"score":0,"creation_date":1697005000,"post_id":77260609,"comment_id":136223260,"body_markdown":"Seems like your nodes cannot reach out to each other. Can you check connectivity b/w the nodes? Also, are you using containers?","body":"Seems like your nodes cannot reach out to each other. Can you check connectivity b/w the nodes? Also, are you using containers?"},{"owner":{"account_id":1179194,"reputation":221,"user_id":1154507,"accept_rate":20,"display_name":"rajk"},"score":0,"creation_date":1697062869,"post_id":77260609,"comment_id":136233818,"body_markdown":"Found the issue.  \nAs explained in the above comment, worker nodes were unable to communicate to the master node. Because I was using docker container to run spark-submit to spark standalone cluster. When I run the spark-submit command from master node, things are started working fine.","body":"Found the issue.   As explained in the above comment, worker nodes were unable to communicate to the master node. Because I was using docker container to run spark-submit to spark standalone cluster. When I run the spark-submit command from master node, things are started working fine."},{"owner":{"account_id":16549222,"reputation":351,"user_id":11958007,"display_name":"o_O"},"score":0,"creation_date":1697095228,"post_id":77260609,"comment_id":136236847,"body_markdown":"Adding all the containers to a docker network should allow you to submit from worker nodes as well","body":"Adding all the containers to a docker network should allow you to submit from worker nodes as well"}],"owner":{"account_id":1179194,"reputation":221,"user_id":1154507,"accept_rate":20,"display_name":"rajk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696871303,"creation_date":1696870840,"question_id":77260609,"body_markdown":"We have setup a Spark Standalone cluster with 1 Master node and 4 Worker Nodes.\r\nWhen we submit the Spark command, we can see Application is running and getting distributed to worker nodes by master. But getting following exception every time.\r\n\r\n**Exception**\r\n\r\n``` \r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n23/10/07 20:51:36 INFO CoarseGrainedExecutorBackend: Started daemon with process name: 1959044@{{xxx}}\r\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for TERM\r\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for HUP\r\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for INT\r\n23/10/07 20:51:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls to: root\r\n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls to: root\r\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls groups to: \r\n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls groups to: \r\n23/10/07 20:51:36 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: root; groups with view permissions: EMPTY; users with modify permissions: root; groups with modify permissions: EMPTY\r\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:428)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:417)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\r\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.SparkThreadUtils$.awaitResult(SparkThreadUtils.scala:56)\r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:310)\r\n\tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n\tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:448)\r\n\tat scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\r\n\tat scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n\tat scala.collection.immutable.Range.foreach(Range.scala:158)\r\n\tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:446)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:423)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n\t... 4 more\r\nCaused by: java.io.IOException: Failed to connect to 4103b8ddce96:36101\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:294)\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:214)\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:226)\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.net.UnknownHostException: 4103b8ddce96\r\n\tat java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:797)\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\r\n\tat java.base/java.net.InetAddress.getByName(InetAddress.java:1257)\r\n\tat io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:156)\r\n\tat io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:153)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat io.netty.util.internal.SocketUtils.addressByName(SocketUtils.java:153)\r\n\tat io.netty.resolver.DefaultNameResolver.doResolve(DefaultNameResolver.java:41)\r\n\tat io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:61)\r\n\tat io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:53)\r\n\tat io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:55)\r\n\tat io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:31)\r\n\tat io.netty.resolver.AbstractAddressResolver.resolve(AbstractAddressResolver.java:106)\r\n\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:220)\r\n\tat io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:46)\r\n\tat io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:189)\r\n\tat io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:175)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\r\n\tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)\r\n\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)\r\n\tat io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:990)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:516)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 more\r\n```\r\n\r\n**Spark Submit Command**\r\n``` \r\nspark-submit --master spark://{master-node-addess}:7078 --files ./config.json  --jars ./jars/mssql-jdbc-12.2.0.jre8.jar,./jars/vertica-jdbc-12.0.4-0.jar --py-files ./Packages.zip job_build.py\r\n```\r\n\r\nWhen I run the same setup with single machine it is working fine. But when we tries to run this on standalone cluster it is failing.\r\n\r\nAny help will be appreciated. Thank you.\r\n","title":"Spark Standalone cluster with python is not working","body":"<p>We have setup a Spark Standalone cluster with 1 Master node and 4 Worker Nodes.\nWhen we submit the Spark command, we can see Application is running and getting distributed to worker nodes by master. But getting following exception every time.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\n23/10/07 20:51:36 INFO CoarseGrainedExecutorBackend: Started daemon with process name: 1959044@{{xxx}}\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for TERM\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for HUP\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for INT\n23/10/07 20:51:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls to: root\n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls to: root\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls groups to: \n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls groups to: \n23/10/07 20:51:36 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: root; groups with view permissions: EMPTY; users with modify permissions: root; groups with modify permissions: EMPTY\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\n    at org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:428)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:417)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.SparkThreadUtils$.awaitResult(SparkThreadUtils.scala:56)\n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:310)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:448)\n    at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\n    at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n    at scala.collection.immutable.Range.foreach(Range.scala:158)\n    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:446)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n    ... 4 more\nCaused by: java.io.IOException: Failed to connect to 4103b8ddce96:36101\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:294)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:214)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:226)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.net.UnknownHostException: 4103b8ddce96\n    at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:797)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\n    at java.base/java.net.InetAddress.getByName(InetAddress.java:1257)\n    at io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:156)\n    at io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:153)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at io.netty.util.internal.SocketUtils.addressByName(SocketUtils.java:153)\n    at io.netty.resolver.DefaultNameResolver.doResolve(DefaultNameResolver.java:41)\n    at io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:61)\n    at io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:53)\n    at io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:55)\n    at io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:31)\n    at io.netty.resolver.AbstractAddressResolver.resolve(AbstractAddressResolver.java:106)\n    at io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:220)\n    at io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:46)\n    at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:189)\n    at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:175)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)\n    at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:990)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:516)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 more\n</code></pre>\n<p><strong>Spark Submit Command</strong></p>\n<pre><code>spark-submit --master spark://{master-node-addess}:7078 --files ./config.json  --jars ./jars/mssql-jdbc-12.2.0.jre8.jar,./jars/vertica-jdbc-12.0.4-0.jar --py-files ./Packages.zip job_build.py\n</code></pre>\n<p>When I run the same setup with single machine it is working fine. But when we tries to run this on standalone cluster it is failing.</p>\n<p>Any help will be appreciated. Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":10,"creation_date":1696859919,"post_id":77259430,"comment_id":136203340,"body_markdown":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696869741,"post_id":77259430,"comment_id":136205326,"body_markdown":"You are using _char_ values for _hm1_ and _int_ values for _hm2_.","body":"You are using <i>char</i> values for <i>hm1</i> and <i>int</i> values for <i>hm2</i>."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696860489,"creation_date":1696860170,"answer_id":77259473,"question_id":77259430,"body_markdown":"Here you are multiplying `freq` by your *character*, which creates a garbage number, and then adding that garbage number to your String one time:\r\n\r\n    res+=(freq*hm1.get(str));\r\n\r\nYou need to add the character to your String `freq` times, so you need a loop:\r\n\r\n    char c = hm1.get(str);\r\n    for (int i=0; i&lt;freq; i++) {\r\n        res += c;\r\n    }\r\n\r\nOr if you&#39;re using Java 11 or later, there is convenience method for String to repeat it:\r\n\r\n    res += String.valueOf(hm1.get(str)).repeat(freq);","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<p>Here you are multiplying <code>freq</code> by your <em>character</em>, which creates a garbage number, and then adding that garbage number to your String one time:</p>\n<pre><code>res+=(freq*hm1.get(str));\n</code></pre>\n<p>You need to add the character to your String <code>freq</code> times, so you need a loop:</p>\n<pre><code>char c = hm1.get(str);\nfor (int i=0; i&lt;freq; i++) {\n    res += c;\n}\n</code></pre>\n<p>Or if you're using Java 11 or later, there is convenience method for String to repeat it:</p>\n<pre><code>res += String.valueOf(hm1.get(str)).repeat(freq);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861552,"creation_date":1696861552,"answer_id":77259640,"question_id":77259430,"body_markdown":"The problem is in this line: `res+=(freq*hm1.get(str));`. It is multiplying the frequency with the ASCII value of the character, not repeating the character `freq` times. This would work in Python but not in Java. You should change this line to repeat the character `freq` times. Below is example fix to your code:\r\n\r\n    for(String str:arr){\r\n        if(hm2.containsKey(str)){\r\n            freq=hm2.get(str);\r\n        }else{\r\n            for(int i=0;i&lt;freq;i++){\r\n                res+=hm1.get(str);\r\n            }\r\n            freq=1;\r\n        }\r\n    }\r\n\r\nThis will give you the expected output &quot;122444&quot; for the input &quot;one double two triple four&quot;.\r\n\r\nI would also suggest you use StringBuilder instead of String for res variable. It would be more efficient.","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<p>The problem is in this line: <code>res+=(freq*hm1.get(str));</code>. It is multiplying the frequency with the ASCII value of the character, not repeating the character <code>freq</code> times. This would work in Python but not in Java. You should change this line to repeat the character <code>freq</code> times. Below is example fix to your code:</p>\n<pre><code>for(String str:arr){\n    if(hm2.containsKey(str)){\n        freq=hm2.get(str);\n    }else{\n        for(int i=0;i&lt;freq;i++){\n            res+=hm1.get(str);\n        }\n        freq=1;\n    }\n}\n</code></pre>\n<p>This will give you the expected output &quot;122444&quot; for the input &quot;one double two triple four&quot;.</p>\n<p>I would also suggest you use StringBuilder instead of String for res variable. It would be more efficient.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696871209,"creation_date":1696871209,"answer_id":77260638,"question_id":77259430,"body_markdown":"The _char_ values _1, 2, 3,_ etc., are not equivalent to their integer values.\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nString ss = &quot;one double two triple four&quot;;\r\nint i = 1;\r\nfor (String e : ss.split(&quot; &quot;)) {\r\n    if (e.equals(&quot;double&quot;)) i = 2;\r\n    else if (e.equals(&quot;triple&quot;)) i = 3;\r\n    else {\r\n        s.append(\r\n            (switch (e) {\r\n                case &quot;zero&quot; -&gt; &quot;0&quot;;\r\n                case &quot;one&quot; -&gt; &quot;1&quot;;\r\n                case &quot;two&quot; -&gt; &quot;2&quot;;\r\n                case &quot;three&quot; -&gt; &quot;3&quot;;\r\n                case &quot;four&quot; -&gt; &quot;4&quot;;\r\n                case &quot;five&quot; -&gt; &quot;5&quot;;\r\n                case &quot;six&quot; -&gt; &quot;6&quot;;\r\n                case &quot;seven&quot; -&gt; &quot;7&quot;;\r\n                case &quot;eight&quot; -&gt; &quot;8&quot;;\r\n                case &quot;nine&quot; -&gt; &quot;9&quot;;\r\n                default -&gt; &quot;&quot;;\r\n            }).repeat(i));\r\n        i = 1;\r\n    }\r\n}\r\n```","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<p>The <em>char</em> values <em>1, 2, 3,</em> etc., are not equivalent to their integer values.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nString ss = &quot;one double two triple four&quot;;\nint i = 1;\nfor (String e : ss.split(&quot; &quot;)) {\n    if (e.equals(&quot;double&quot;)) i = 2;\n    else if (e.equals(&quot;triple&quot;)) i = 3;\n    else {\n        s.append(\n            (switch (e) {\n                case &quot;zero&quot; -&gt; &quot;0&quot;;\n                case &quot;one&quot; -&gt; &quot;1&quot;;\n                case &quot;two&quot; -&gt; &quot;2&quot;;\n                case &quot;three&quot; -&gt; &quot;3&quot;;\n                case &quot;four&quot; -&gt; &quot;4&quot;;\n                case &quot;five&quot; -&gt; &quot;5&quot;;\n                case &quot;six&quot; -&gt; &quot;6&quot;;\n                case &quot;seven&quot; -&gt; &quot;7&quot;;\n                case &quot;eight&quot; -&gt; &quot;8&quot;;\n                case &quot;nine&quot; -&gt; &quot;9&quot;;\n                default -&gt; &quot;&quot;;\n            }).repeat(i));\n        i = 1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29632727,"reputation":3,"user_id":22710800,"display_name":"dummy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77259473,"answer_count":3,"score":-1,"last_activity_date":1696871209,"creation_date":1696859756,"question_id":77259430,"body_markdown":"    import java.util.*;\r\n    public class temp{\r\n    public static void main(String args[]){\r\n        String phone_string=&quot;one double two triple four&quot;;\r\n        String[] arr=phone_string.split(&quot; &quot;,0);\r\n        int freq=1;\r\n        String res=&quot;&quot;;\r\n        HashMap&lt;String,Character&gt; hm1=new HashMap&lt;&gt;();\r\n        hm1.put(&quot;zero&quot;,&#39;0&#39;);\r\n        hm1.put(&quot;one&quot;,&#39;1&#39;);\r\n        hm1.put(&quot;two&quot;,&#39;2&#39;);\r\n        hm1.put(&quot;three&quot;,&#39;3&#39;);\r\n        hm1.put(&quot;four&quot;,&#39;4&#39;);\r\n        hm1.put(&quot;five&quot;,&#39;5&#39;);\r\n        hm1.put(&quot;six&quot;,&#39;6&#39;);\r\n        hm1.put(&quot;seven&quot;,&#39;7&#39;);\r\n        hm1.put(&quot;eight&quot;,&#39;8&#39;);\r\n        hm1.put(&quot;nine&quot;,&#39;9&#39;);\r\n        HashMap&lt;String,Integer&gt; hm2=new HashMap&lt;&gt;();\r\n        hm2.put(&quot;double&quot;,2);\r\n        hm2.put(&quot;triple&quot;,3);\r\n        for(String str:arr){\r\n            if(hm2.containsKey(str)){\r\n                freq*=hm2.get(str);\r\n            }else{\r\n                res+=(freq*hm1.get(str));\r\n                freq=1;\r\n            }\r\n        }\r\n        for(int i=0;i&lt;arr.length;i++){\r\n            System.out.print(arr[i]+&quot; &quot;);\r\n        }\r\n        System.out.println(res);\r\n    }\r\n    }\r\nDon&#39;t know why this is not working it gives me output as - 49100156 \r\nFor ex - string=&quot;one double two triple four&quot;, output=&quot;122444&quot;\r\nIs it giving me a garbage value??\r\nWhat are the corrections??","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<pre><code>import java.util.*;\npublic class temp{\npublic static void main(String args[]){\n    String phone_string=&quot;one double two triple four&quot;;\n    String[] arr=phone_string.split(&quot; &quot;,0);\n    int freq=1;\n    String res=&quot;&quot;;\n    HashMap&lt;String,Character&gt; hm1=new HashMap&lt;&gt;();\n    hm1.put(&quot;zero&quot;,'0');\n    hm1.put(&quot;one&quot;,'1');\n    hm1.put(&quot;two&quot;,'2');\n    hm1.put(&quot;three&quot;,'3');\n    hm1.put(&quot;four&quot;,'4');\n    hm1.put(&quot;five&quot;,'5');\n    hm1.put(&quot;six&quot;,'6');\n    hm1.put(&quot;seven&quot;,'7');\n    hm1.put(&quot;eight&quot;,'8');\n    hm1.put(&quot;nine&quot;,'9');\n    HashMap&lt;String,Integer&gt; hm2=new HashMap&lt;&gt;();\n    hm2.put(&quot;double&quot;,2);\n    hm2.put(&quot;triple&quot;,3);\n    for(String str:arr){\n        if(hm2.containsKey(str)){\n            freq*=hm2.get(str);\n        }else{\n            res+=(freq*hm1.get(str));\n            freq=1;\n        }\n    }\n    for(int i=0;i&lt;arr.length;i++){\n        System.out.print(arr[i]+&quot; &quot;);\n    }\n    System.out.println(res);\n}\n}\n</code></pre>\n<p>Don't know why this is not working it gives me output as - 49100156\nFor ex - string=&quot;one double two triple four&quot;, output=&quot;122444&quot;\nIs it giving me a garbage value??\nWhat are the corrections??</p>\n"},{"tags":["java","mongodb","maven","selenium-webdriver","mongodb-query"],"owner":{"account_id":28145207,"reputation":1,"user_id":21507624,"display_name":"Krithikaini M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696870647,"creation_date":1696869412,"question_id":77260480,"body_markdown":"I have tried the below.\r\n```\r\nMongoDB mongoDB = new MongoDB(&lt;connection_string&gt;));\r\nMongoDatabase db = mongoDB.getConnection(\\&lt;database_name\\&gt;);\r\nMongoCollection\\&lt;Document\\&gt; collection = db.getCollection(\\&lt;collection_name\\&gt;);\r\n\r\nDocument documentToInsert = new Document();\r\ndocumentToInsert.append(&quot;lead_id&quot;, &quot;64b671e01850084fb0eaa1b0&quot;);\r\ndocumentToInsert.append(&quot;tenant_id&quot;, &quot;6423d08b6ba5d39df3db3779&quot;);\r\ndocumentToInsert.append(&quot;apartment_id&quot;, &quot;6423de7fb39ac5ff8851d0a8&quot;);\r\ndocumentToInsert.append(&quot;query&quot;, &quot;Yes, I have done my tour&quot;);\r\ndocumentToInsert.append(&quot;tour_completed_status&quot;, &quot;tourCompleted&quot;);\r\ndocumentToInsert.append(&quot;sentiment&quot;, &quot;neutral&quot;);\r\ndocumentToInsert.append(&quot;source&quot;, &quot;mark4&quot;);\r\ndocumentToInsert.append(&quot;tour_type&quot;, &quot;onplatform_inperson&quot;);\r\n\r\ncollection.insertOne(documentToInsert);\r\n```\r\nWhile debugging the above, at the point when I come to last line, it&#39;s throwing the below error.\r\n\r\n&gt; java.lang.AbstractMethodError: Receiver class com.mongodb.client.internal.MongoCollectionImpl does not define or inherit an implementation of the resolved method &#39;abstract void insertOne(java.lang.Object)&#39; of interface com.mongodb.client.MongoCollection.\r\n\r\nDependencies for Mongo DB I use are as below.\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.12.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI want to insert document in Mongo. Can anyone try this and let me know how to resolve this?","title":"java.lang.AbstractMethodError while implementing mongo db insertOne method in java","body":"<p>I have tried the below.</p>\n<pre><code>MongoDB mongoDB = new MongoDB(&lt;connection_string&gt;));\nMongoDatabase db = mongoDB.getConnection(\\&lt;database_name\\&gt;);\nMongoCollection\\&lt;Document\\&gt; collection = db.getCollection(\\&lt;collection_name\\&gt;);\n\nDocument documentToInsert = new Document();\ndocumentToInsert.append(&quot;lead_id&quot;, &quot;64b671e01850084fb0eaa1b0&quot;);\ndocumentToInsert.append(&quot;tenant_id&quot;, &quot;6423d08b6ba5d39df3db3779&quot;);\ndocumentToInsert.append(&quot;apartment_id&quot;, &quot;6423de7fb39ac5ff8851d0a8&quot;);\ndocumentToInsert.append(&quot;query&quot;, &quot;Yes, I have done my tour&quot;);\ndocumentToInsert.append(&quot;tour_completed_status&quot;, &quot;tourCompleted&quot;);\ndocumentToInsert.append(&quot;sentiment&quot;, &quot;neutral&quot;);\ndocumentToInsert.append(&quot;source&quot;, &quot;mark4&quot;);\ndocumentToInsert.append(&quot;tour_type&quot;, &quot;onplatform_inperson&quot;);\n\ncollection.insertOne(documentToInsert);\n</code></pre>\n<p>While debugging the above, at the point when I come to last line, it's throwing the below error.</p>\n<blockquote>\n<p>java.lang.AbstractMethodError: Receiver class com.mongodb.client.internal.MongoCollectionImpl does not define or inherit an implementation of the resolved method 'abstract void insertOne(java.lang.Object)' of interface com.mongodb.client.MongoCollection.</p>\n</blockquote>\n<p>Dependencies for Mongo DB I use are as below.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.12.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I want to insert document in Mongo. Can anyone try this and let me know how to resolve this?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6873078,"reputation":9765,"user_id":5282585,"accept_rate":78,"display_name":"nhoxbypass"},"score":1,"creation_date":1513224515,"post_id":47805687,"comment_id":82572880,"body_markdown":"I think it&#39;s not possible, you will need to compile your changes back to jar file. Btw it&#39;s not a good practice to edit external Java library. You should override it then modify your own code.","body":"I think it&#39;s not possible, you will need to compile your changes back to jar file. Btw it&#39;s not a good practice to edit external Java library. You should override it then modify your own code."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1513224951,"post_id":47805687,"comment_id":82572979,"body_markdown":"I think jrebel (a commercial product) definitely allows that. I&#39;m not certain, but I think IntelliJ [remote debug](https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html) would probably also work.","body":"I think jrebel (a commercial product) definitely allows that. I&#39;m not certain, but I think IntelliJ <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html\" rel=\"nofollow noreferrer\">remote debug</a> would probably also work."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1513849218,"post_id":47805687,"comment_id":82811509,"body_markdown":"I appreciate the quick comeback ;-)","body":"I appreciate the quick comeback ;-)"}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513259792,"creation_date":1513259792,"answer_id":47815083,"question_id":47805687,"body_markdown":"If you have source code for the library, create a separate module with this source code and [add a dependency](https://www.jetbrains.com/help/idea/configuring-projects.html#working-with-module-dependencies) on that module instead of a library jar. \r\n\r\nAnd to have a jar library synchronized with the source code, you can configure the jar [artifact](https://www.jetbrains.com/help/idea/working-with-artifacts.html#artifact_def) to be built from this library module together with the project build.","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>If you have source code for the library, create a separate module with this source code and <a href=\"https://www.jetbrains.com/help/idea/configuring-projects.html#working-with-module-dependencies\" rel=\"nofollow noreferrer\">add a dependency</a> on that module instead of a library jar. </p>\n\n<p>And to have a jar library synchronized with the source code, you can configure the jar <a href=\"https://www.jetbrains.com/help/idea/working-with-artifacts.html#artifact_def\" rel=\"nofollow noreferrer\">artifact</a> to be built from this library module together with the project build.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1513670603,"creation_date":1513260052,"answer_id":47815171,"question_id":47805687,"body_markdown":"Not a good idea - conceptually.\r\n\r\nEither something is an **external** library. Then its deployment artefact is a JAR. Or it is a &quot;source project&quot;. \r\n\r\nIn other words: you are trying to eat the cake and have it at the same time. If it you find a technical way to hack yourself there - you shouldn&#39;t go there. Because it is conceptually wrong. \r\n\r\nIf the question is mainly about *dynamically* updating a running JVM - for that you can use tools such as JRebel. But that also requires that your JVM is running with the JRebel agent (which is fine for test/dev systems, but a no-go in production environments).","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>Not a good idea - conceptually.</p>\n\n<p>Either something is an <strong>external</strong> library. Then its deployment artefact is a JAR. Or it is a \"source project\". </p>\n\n<p>In other words: you are trying to eat the cake and have it at the same time. If it you find a technical way to hack yourself there - you shouldn't go there. Because it is conceptually wrong. </p>\n\n<p>If the question is mainly about <em>dynamically</em> updating a running JVM - for that you can use tools such as JRebel. But that also requires that your JVM is running with the JRebel agent (which is fine for test/dev systems, but a no-go in production environments).</p>\n"},{"tags":[],"owner":{"account_id":5437590,"reputation":524,"user_id":4326590,"display_name":"Metin Dagcilar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645554461,"creation_date":1645554461,"answer_id":71226524,"question_id":47805687,"body_markdown":"For the other answers that are saying this isn&#39;t good practice, I agree but sometimes it can be useful. For example when I wanted to test a change in an external jar before submitting a merge request against the library with the suggested change. It was useful to be able to test it locally.\r\n\r\nWhat I did was\r\n 1. Clone the library locally \r\n 2. Change the version in the pom.xml to something different e.g. `testing-snapshot`\r\n 3. Run `mvn clean install` in the new cloned project to load the project into your local m2 folder\r\n 4. In the your main pom.xml where you want your new version of the project to take affect, change the version to what you chose in step 2. \r\n 5. Now reload all maven project and intellij should pick up this new version which you can now edit the source code\r\n\r\n","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>For the other answers that are saying this isn't good practice, I agree but sometimes it can be useful. For example when I wanted to test a change in an external jar before submitting a merge request against the library with the suggested change. It was useful to be able to test it locally.</p>\n<p>What I did was</p>\n<ol>\n<li>Clone the library locally</li>\n<li>Change the version in the pom.xml to something different e.g. <code>testing-snapshot</code></li>\n<li>Run <code>mvn clean install</code> in the new cloned project to load the project into your local m2 folder</li>\n<li>In the your main pom.xml where you want your new version of the project to take affect, change the version to what you chose in step 2.</li>\n<li>Now reload all maven project and intellij should pick up this new version which you can now edit the source code</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1364678,"reputation":2198,"user_id":1301373,"display_name":"winne2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696870306,"creation_date":1696869791,"answer_id":77260518,"question_id":47805687,"body_markdown":"One trick to slightly modify a library&#39;s behavior (e.g., add logging statements for debugging purposes) is to override classes with your own implementation. With a bit of practice it takes just a few seconds and doesn&#39;t require repackaging:\r\n\r\n 1. Navigate to *source code* of the library class you want to modify and copy its *package name* to the clipboard (`CTRL+C`)\r\n 3. Navigate to class&#39;s *file* in project navigator (`Alt+F1`, `1`) and copy the *file* to clipboard (`CTRL+C`)\r\n 4. Navigate to your own source root in project navigator (`src/main/java`) and press `CTRL+V`\r\n 6. In the opening dialog, just fill out &quot;Destination package&quot; with the exact same package name as in the library (use `CTRL+SHIFT+V` for IntelliJ&#39;s clipboard history) and hit `OK`\r\n\r\nYou now have an *editable duplicate* of the class of interest (same class name and package name) and it will take precedence over the &quot;original&quot; from the library (because it comes first in the CLASSPATH).\r\n\r\nYes, this is a dirty hack. But also yes, it works reliably and should at least be fine for experiments/debugging.\r\n","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>One trick to slightly modify a library's behavior (e.g., add logging statements for debugging purposes) is to override classes with your own implementation. With a bit of practice it takes just a few seconds and doesn't require repackaging:</p>\n<ol>\n<li>Navigate to <em>source code</em> of the library class you want to modify and copy its <em>package name</em> to the clipboard (<code>CTRL+C</code>)</li>\n<li>Navigate to class's <em>file</em> in project navigator (<code>Alt+F1</code>, <code>1</code>) and copy the <em>file</em> to clipboard (<code>CTRL+C</code>)</li>\n<li>Navigate to your own source root in project navigator (<code>src/main/java</code>) and press <code>CTRL+V</code></li>\n<li>In the opening dialog, just fill out &quot;Destination package&quot; with the exact same package name as in the library (use <code>CTRL+SHIFT+V</code> for IntelliJ's clipboard history) and hit <code>OK</code></li>\n</ol>\n<p>You now have an <em>editable duplicate</em> of the class of interest (same class name and package name) and it will take precedence over the &quot;original&quot; from the library (because it comes first in the CLASSPATH).</p>\n<p>Yes, this is a dirty hack. But also yes, it works reliably and should at least be fine for experiments/debugging.</p>\n"}],"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47815171,"answer_count":4,"score":1,"last_activity_date":1696870306,"creation_date":1513223967,"question_id":47805687,"body_markdown":"I am working on Java with Intellij. Now I can debug into my external lib code by attaching source to jar lib. But now I want to make change on lib&#39;s source code and make it take effect immediately without repackaging to jar and including again to my main project. Can I do that ?","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>I am working on Java with Intellij. Now I can debug into my external lib code by attaching source to jar lib. But now I want to make change on lib's source code and make it take effect immediately without repackaging to jar and including again to my main project. Can I do that ?</p>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":29403393,"reputation":3,"user_id":22529371,"display_name":"Christyan Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696868776,"creation_date":1696868776,"question_id":77260421,"body_markdown":"I have 2 recyclerviews and I want to move in the view through their items, changing the background color of the item that is selected and change the recyclerview with the TAB key and the focus does not leave the recycledview until the TAB key is pressed.\r\nthis is my XML\r\n```\r\n&lt;LinearLayout\r\n    android:id=&quot;@+id/clcontenido&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;0dp&quot;\r\n    app:layout_constraintBottom_toTopOf=&quot;@+id/estados_totales&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textcomandassiges&quot;&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        android:background=&quot;#CDCDCD&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:descendantFocusability=&quot;afterDescendants&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rv1&quot;\r\n        &gt;\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        android:background=&quot;#CDCDCD&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:descendantFocusability=&quot;afterDescendants&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/rv2&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        &gt;\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI manage it with 2 adapters which are these\r\n\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\nrv_pendientes = findViewById(R.id.rv1);\r\n        rv_atenciones = findViewById(R.id.rv2);\r\n\r\n        rv_pendientes.addItemDecoration(new DividerItemDecoration(rv_pendientes.getContext(), DividerItemDecoration.VERTICAL));\r\n        rv_atenciones.addItemDecoration(new DividerItemDecoration(rv_atenciones.getContext(), DividerItemDecoration.VERTICAL));\r\n\r\n        rv_pendientes.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n        rv_atenciones.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n\r\n        adapter_pendientes = new Adapter_pendientes(lista_pendientes);\r\n        adapter_atenciones = new Adapter_atenciones(lista_atenciones);\r\n\r\n        adapter_pendientes.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\r\n        adapter_atenciones.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\r\n\r\n        rv_pendientes.setAdapter(adapter_pendientes);\r\n        rv_atenciones.setAdapter(adapter_atenciones);\r\n\r\n        rv_pendientes.setHasFixedSize(true);\r\n        rv_atenciones.setHasFixedSize(true);\r\n\r\n        rv_atenciones.requestFocus();\r\n\r\n\r\nrv_pendientes.setOnKeyListener(new View.OnKeyListener() {\r\n            @Override\r\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\r\n                    switch (keyCode) {\r\n                        case KeyEvent.KEYCODE_TAB:\r\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB 2&quot;);\r\n                            if (adapter_atenciones.getItemCount() &gt; 0) {\r\n                                adapter_atenciones.setSelectedPosition(0); // Establece la posici&#243;n seleccionada en el adaptador2\r\n                                adapter_atenciones.notifyDataSetChanged(); // Notifica al adaptador2 que los datos han cambiado\r\n                                rv_atenciones.scrollToPosition(0);\r\n                                Toast.makeText(MainActivity.this,&quot;entro 2&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\r\n                            }\r\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\r\n                            if (adapter_pendientes.selectedPosition_pendientes &gt; 0) {\r\n                                adapter_pendientes.selectedPosition_pendientes--;\r\n                                rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\r\n                                adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\r\n                            }\r\n                            break;\r\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\r\n\r\n                            adapter_pendientes.selectedPosition_pendientes++;\r\n                            rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\r\n                            adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\r\n\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        rv_atenciones.setOnKeyListener(new View.OnKeyListener() {\r\n            @Override\r\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\r\n                    switch (keyCode) {\r\n                        case KeyEvent.KEYCODE_TAB:\r\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB&quot;);\r\n                            if (adapter_pendientes.getItemCount() &gt; 0) {\r\n                                adapter_pendientes.setSelectedPosition(0); // Establece la posici&#243;n seleccionada en el adaptador2\r\n\r\n                                rv_pendientes.scrollToPosition(0);\r\n                                adapter_pendientes.notifyDataSetChanged();\r\n                                Toast.makeText(MainActivity.this,&quot;entro&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\r\n                            }\r\n                            break;\r\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\r\n                            if (adapter_atenciones.selectedPosition_atenciones &gt; 0) {\r\n                                adapter_atenciones.selectedPosition_atenciones--;\r\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\r\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\r\n                            }\r\n                            break;\r\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\r\n\r\n                                adapter_atenciones.selectedPosition_atenciones++;\r\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\r\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\r\n\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n}\r\n\r\nprivate class Adapter_pendientes extends RecyclerView.Adapter&lt;Adapter_pendientes.ViewHolder&gt; {\r\n        private List&lt;String&gt; data;\r\n        private int selectedPosition_pendientes = RecyclerView.NO_POSITION;\r\n\r\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\r\n        public void setSelectedPosition(int position) {\r\n            selectedPosition_pendientes = position;\r\n        }\r\n        public Adapter_pendientes(List&lt;String&gt; data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n\r\n        public void actualizarAlturaElemento(int nuevaAltura) {\r\n            alturaElemento = nuevaAltura;\r\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\r\n        }\r\n\r\n        private int getScreenWidth() {\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n            return displayMetrics.widthPixels;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.textView_pendientes.setText(data.get(position));\r\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\r\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\r\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\r\n            );\r\n            //parametros.setMargins(5, 5, 5, 5);\r\n            holder.textView_pendientes.setLayoutParams(parametros);\r\n\r\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\r\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura din&#225;mica aqu&#237;\r\n            //holder.itemView.setLayoutParams(layoutParams);\r\n\r\n            int color = 0;\r\n            String estado = listaestado_pendientes.get(position);\r\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\r\n            switch (estado) {\r\n                case &quot;1&quot;:\r\n                    color = colorpendientes_remoto;\r\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;2&quot;:\r\n                    color = coloratenciones_remoto;\r\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;3&quot;:\r\n                    color = colorentregables_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;4&quot;:\r\n                    color=colorentregadas_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;X&quot;:\r\n                    color=coloranuladas_remoto;\r\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\r\n                    break;\r\n            }\r\n\r\n\r\n            boolean modificado = listamodifica_pendientes.get(position);\r\n            if (layout_historico==false){\r\n                if (modificado == true) {\r\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\r\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\r\n                    //alphaAnimator.setDuration(1000); // Duraci&#243;n de un segundo\r\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\r\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\r\n\r\n                    // Inicia la animaci&#243;n\r\n                    //alphaAnimator.start();\r\n                } else {\r\n                    holder.textViewmodificado.setVisibility(View.GONE);\r\n                }\r\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\r\n            } else {\r\n                holder.textViewmodificado.setVisibility(View.GONE);\r\n\r\n            }\r\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\r\n            holder.textView_pendientes.setTextColor(colortexto_remoto);\r\n            holder.textView_pendientes.setTextSize(ttexto_remoto);\r\n            holder.itemView.setBackgroundColor(color);\r\n\r\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\r\n            params.setMargins(3, 3, 3, 3);\r\n            holder.itemView.setLayoutParams(params);\r\n            if (position == selectedPosition_pendientes) {\r\n                holder.textView_pendientes.setBackgroundResource(R.drawable.custom_border_comanda);\r\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\r\n            } else {\r\n                holder.textView_pendientes.setBackgroundResource(0);\r\n                //holder.textViewmodificado.setBackgroundResource(0);\r\n            }\r\n            int screenWidth = getScreenWidth();\r\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\r\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            layoutParams.width = itemWidth;\r\n            holder.itemView.setLayoutParams(layoutParams);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n\r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            TextView textView_pendientes;\r\n            TextView textViewmodificado;\r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                textView_pendientes = itemView.findViewById(R.id.textviewcomandas);\r\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\r\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\r\n                textView_pendientes.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int previousSelectedPosition = selectedPosition_pendientes;\r\n                        selectedPosition_pendientes = getAbsoluteAdapterPosition();\r\n\r\n                        // Notifica el cambio en la posici&#243;n seleccionada para actualizar la vista\r\n                        notifyItemChanged(previousSelectedPosition);\r\n                        notifyItemChanged(selectedPosition_pendientes);\r\n                        showAlertDialog(selectedPosition_pendientes);\r\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private class Adapter_atenciones extends RecyclerView.Adapter&lt;Adapter_atenciones.ViewHolder&gt; {\r\n        private List&lt;String&gt; data;\r\n        private int selectedPosition_atenciones = RecyclerView.NO_POSITION;\r\n\r\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\r\n        public void setSelectedPosition(int position) {\r\n            selectedPosition_atenciones = position;\r\n        }\r\n        public Adapter_atenciones(List&lt;String&gt; data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n\r\n        public void actualizarAlturaElemento(int nuevaAltura) {\r\n            alturaElemento = nuevaAltura;\r\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\r\n        }\r\n\r\n        private int getScreenWidth() {\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n            return displayMetrics.widthPixels;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.textView_atenciones.setText(data.get(position));\r\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\r\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\r\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\r\n            );\r\n            //parametros.setMargins(5, 5, 5, 5);\r\n            holder.textView_atenciones.setLayoutParams(parametros);\r\n\r\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\r\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura din&#225;mica aqu&#237;\r\n            //holder.itemView.setLayoutParams(layoutParams);\r\n\r\n            int color = 0;\r\n            String estado = listaestado_atenciones.get(position);\r\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\r\n            switch (estado) {\r\n                case &quot;1&quot;:\r\n                    color = colorpendientes_remoto;\r\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;2&quot;:\r\n                    color = coloratenciones_remoto;\r\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;3&quot;:\r\n                    color = colorentregables_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;4&quot;:\r\n                    color=colorentregadas_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;X&quot;:\r\n                    color=coloranuladas_remoto;\r\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\r\n                    break;\r\n            }\r\n\r\n\r\n            boolean modificado = listamodifica_atenciones.get(position);\r\n            if (layout_historico==false){\r\n                if (modificado == true) {\r\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\r\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\r\n                    //alphaAnimator.setDuration(1000); // Duraci&#243;n de un segundo\r\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\r\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\r\n\r\n                    // Inicia la animaci&#243;n\r\n                    //alphaAnimator.start();\r\n                } else {\r\n                    holder.textViewmodificado.setVisibility(View.GONE);\r\n                }\r\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\r\n            } else {\r\n                holder.textViewmodificado.setVisibility(View.GONE);\r\n\r\n            }\r\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\r\n            holder.textView_atenciones.setTextColor(colortexto_remoto);\r\n            holder.textView_atenciones.setTextSize(ttexto_remoto);\r\n            holder.itemView.setBackgroundColor(color);\r\n\r\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\r\n            params.setMargins(3, 3, 3, 3);\r\n            holder.itemView.setLayoutParams(params);\r\n            if (position == selectedPosition_atenciones) {\r\n                holder.textView_atenciones.setBackgroundResource(R.drawable.custom_border_comanda);\r\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\r\n            } else {\r\n                holder.textView_atenciones.setBackgroundResource(0);\r\n                //holder.textViewmodificado.setBackgroundResource(0);\r\n            }\r\n            int screenWidth = getScreenWidth();\r\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\r\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            layoutParams.width = itemWidth;\r\n            holder.itemView.setLayoutParams(layoutParams);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n\r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            TextView textView_atenciones;\r\n            TextView textViewmodificado;\r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                textView_atenciones = itemView.findViewById(R.id.textviewcomandas);\r\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\r\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\r\n                textView_atenciones.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int previousSelectedPosition = selectedPosition_atenciones;\r\n                        selectedPosition_atenciones = getAbsoluteAdapterPosition();\r\n\r\n                        // Notifica el cambio en la posici&#243;n seleccionada para actualizar la vista\r\n                        notifyItemChanged(previousSelectedPosition);\r\n                        notifyItemChanged(selectedPosition_atenciones);\r\n                        showAlertDialog(selectedPosition_atenciones);\r\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n```\r\nit only cycles through the top recyclerview fine but the bottom one doesn&#39;t.\r\n\r\n\r\nchange the focus of the recyclerview with the TAB key and scroll through its items with the keyboard arrows","title":"move with the keyboard arrows through the items of 2 recyclerview","body":"<p>I have 2 recyclerviews and I want to move in the view through their items, changing the background color of the item that is selected and change the recyclerview with the TAB key and the focus does not leave the recycledview until the TAB key is pressed.\nthis is my XML</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/clcontenido&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/estados_totales&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textcomandassiges&quot;&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rv2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:background=&quot;#CDCDCD&quot;\n        android:focusable=&quot;true&quot;\n        android:descendantFocusability=&quot;afterDescendants&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rv1&quot;\n        &gt;\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rv1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:background=&quot;#CDCDCD&quot;\n        android:focusable=&quot;true&quot;\n        android:descendantFocusability=&quot;afterDescendants&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/rv2&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        &gt;\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I manage it with 2 adapters which are these</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\nrv_pendientes = findViewById(R.id.rv1);\n        rv_atenciones = findViewById(R.id.rv2);\n\n        rv_pendientes.addItemDecoration(new DividerItemDecoration(rv_pendientes.getContext(), DividerItemDecoration.VERTICAL));\n        rv_atenciones.addItemDecoration(new DividerItemDecoration(rv_atenciones.getContext(), DividerItemDecoration.VERTICAL));\n\n        rv_pendientes.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\n        rv_atenciones.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\n\n        adapter_pendientes = new Adapter_pendientes(lista_pendientes);\n        adapter_atenciones = new Adapter_atenciones(lista_atenciones);\n\n        adapter_pendientes.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\n        adapter_atenciones.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\n\n        rv_pendientes.setAdapter(adapter_pendientes);\n        rv_atenciones.setAdapter(adapter_atenciones);\n\n        rv_pendientes.setHasFixedSize(true);\n        rv_atenciones.setHasFixedSize(true);\n\n        rv_atenciones.requestFocus();\n\n\nrv_pendientes.setOnKeyListener(new View.OnKeyListener() {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\n                    switch (keyCode) {\n                        case KeyEvent.KEYCODE_TAB:\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB 2&quot;);\n                            if (adapter_atenciones.getItemCount() &gt; 0) {\n                                adapter_atenciones.setSelectedPosition(0); // Establece la posición seleccionada en el adaptador2\n                                adapter_atenciones.notifyDataSetChanged(); // Notifica al adaptador2 que los datos han cambiado\n                                rv_atenciones.scrollToPosition(0);\n                                Toast.makeText(MainActivity.this,&quot;entro 2&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\n                            }\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\n                            if (adapter_pendientes.selectedPosition_pendientes &gt; 0) {\n                                adapter_pendientes.selectedPosition_pendientes--;\n                                rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\n                                adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\n                            }\n                            break;\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\n\n                            adapter_pendientes.selectedPosition_pendientes++;\n                            rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\n                            adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\n\n                            break;\n                    }\n                    return true;\n                }\n                return false;\n            }\n        });\n        rv_atenciones.setOnKeyListener(new View.OnKeyListener() {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\n                    switch (keyCode) {\n                        case KeyEvent.KEYCODE_TAB:\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB&quot;);\n                            if (adapter_pendientes.getItemCount() &gt; 0) {\n                                adapter_pendientes.setSelectedPosition(0); // Establece la posición seleccionada en el adaptador2\n\n                                rv_pendientes.scrollToPosition(0);\n                                adapter_pendientes.notifyDataSetChanged();\n                                Toast.makeText(MainActivity.this,&quot;entro&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\n                            }\n                            break;\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\n                            if (adapter_atenciones.selectedPosition_atenciones &gt; 0) {\n                                adapter_atenciones.selectedPosition_atenciones--;\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\n                            }\n                            break;\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\n\n                                adapter_atenciones.selectedPosition_atenciones++;\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\n\n                            break;\n                    }\n                    return true;\n                }\n                return false;\n            }\n        });\n\n}\n\nprivate class Adapter_pendientes extends RecyclerView.Adapter&lt;Adapter_pendientes.ViewHolder&gt; {\n        private List&lt;String&gt; data;\n        private int selectedPosition_pendientes = RecyclerView.NO_POSITION;\n\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\n        public void setSelectedPosition(int position) {\n            selectedPosition_pendientes = position;\n        }\n        public Adapter_pendientes(List&lt;String&gt; data) {\n            this.data = data;\n        }\n\n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\n            return new ViewHolder(view);\n        }\n\n        public void actualizarAlturaElemento(int nuevaAltura) {\n            alturaElemento = nuevaAltura;\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\n        }\n\n        private int getScreenWidth() {\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            return displayMetrics.widthPixels;\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            holder.textView_pendientes.setText(data.get(position));\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\n            );\n            //parametros.setMargins(5, 5, 5, 5);\n            holder.textView_pendientes.setLayoutParams(parametros);\n\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura dinámica aquí\n            //holder.itemView.setLayoutParams(layoutParams);\n\n            int color = 0;\n            String estado = listaestado_pendientes.get(position);\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\n            switch (estado) {\n                case &quot;1&quot;:\n                    color = colorpendientes_remoto;\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\n                    break;\n                case &quot;2&quot;:\n                    color = coloratenciones_remoto;\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\n                    break;\n                case &quot;3&quot;:\n                    color = colorentregables_remoto;\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\n                    break;\n                case &quot;4&quot;:\n                    color=colorentregadas_remoto;\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\n                    break;\n                case &quot;X&quot;:\n                    color=coloranuladas_remoto;\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\n                    break;\n            }\n\n\n            boolean modificado = listamodifica_pendientes.get(position);\n            if (layout_historico==false){\n                if (modificado == true) {\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\n                    //alphaAnimator.setDuration(1000); // Duración de un segundo\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\n\n                    // Inicia la animación\n                    //alphaAnimator.start();\n                } else {\n                    holder.textViewmodificado.setVisibility(View.GONE);\n                }\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\n            } else {\n                holder.textViewmodificado.setVisibility(View.GONE);\n\n            }\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\n            holder.textView_pendientes.setTextColor(colortexto_remoto);\n            holder.textView_pendientes.setTextSize(ttexto_remoto);\n            holder.itemView.setBackgroundColor(color);\n\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\n            params.setMargins(3, 3, 3, 3);\n            holder.itemView.setLayoutParams(params);\n            if (position == selectedPosition_pendientes) {\n                holder.textView_pendientes.setBackgroundResource(R.drawable.custom_border_comanda);\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\n            } else {\n                holder.textView_pendientes.setBackgroundResource(0);\n                //holder.textViewmodificado.setBackgroundResource(0);\n            }\n            int screenWidth = getScreenWidth();\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            layoutParams.width = itemWidth;\n            holder.itemView.setLayoutParams(layoutParams);\n        }\n\n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n\n        public class ViewHolder extends RecyclerView.ViewHolder {\n            TextView textView_pendientes;\n            TextView textViewmodificado;\n            public ViewHolder(@NonNull View itemView) {\n                super(itemView);\n                textView_pendientes = itemView.findViewById(R.id.textviewcomandas);\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\n                textView_pendientes.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        int previousSelectedPosition = selectedPosition_pendientes;\n                        selectedPosition_pendientes = getAbsoluteAdapterPosition();\n\n                        // Notifica el cambio en la posición seleccionada para actualizar la vista\n                        notifyItemChanged(previousSelectedPosition);\n                        notifyItemChanged(selectedPosition_pendientes);\n                        showAlertDialog(selectedPosition_pendientes);\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        }\n    }\n\n    private class Adapter_atenciones extends RecyclerView.Adapter&lt;Adapter_atenciones.ViewHolder&gt; {\n        private List&lt;String&gt; data;\n        private int selectedPosition_atenciones = RecyclerView.NO_POSITION;\n\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\n        public void setSelectedPosition(int position) {\n            selectedPosition_atenciones = position;\n        }\n        public Adapter_atenciones(List&lt;String&gt; data) {\n            this.data = data;\n        }\n\n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\n            return new ViewHolder(view);\n        }\n\n        public void actualizarAlturaElemento(int nuevaAltura) {\n            alturaElemento = nuevaAltura;\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\n        }\n\n        private int getScreenWidth() {\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            return displayMetrics.widthPixels;\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            holder.textView_atenciones.setText(data.get(position));\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\n            );\n            //parametros.setMargins(5, 5, 5, 5);\n            holder.textView_atenciones.setLayoutParams(parametros);\n\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura dinámica aquí\n            //holder.itemView.setLayoutParams(layoutParams);\n\n            int color = 0;\n            String estado = listaestado_atenciones.get(position);\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\n            switch (estado) {\n                case &quot;1&quot;:\n                    color = colorpendientes_remoto;\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\n                    break;\n                case &quot;2&quot;:\n                    color = coloratenciones_remoto;\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\n                    break;\n                case &quot;3&quot;:\n                    color = colorentregables_remoto;\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\n                    break;\n                case &quot;4&quot;:\n                    color=colorentregadas_remoto;\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\n                    break;\n                case &quot;X&quot;:\n                    color=coloranuladas_remoto;\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\n                    break;\n            }\n\n\n            boolean modificado = listamodifica_atenciones.get(position);\n            if (layout_historico==false){\n                if (modificado == true) {\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\n                    //alphaAnimator.setDuration(1000); // Duración de un segundo\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\n\n                    // Inicia la animación\n                    //alphaAnimator.start();\n                } else {\n                    holder.textViewmodificado.setVisibility(View.GONE);\n                }\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\n            } else {\n                holder.textViewmodificado.setVisibility(View.GONE);\n\n            }\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\n            holder.textView_atenciones.setTextColor(colortexto_remoto);\n            holder.textView_atenciones.setTextSize(ttexto_remoto);\n            holder.itemView.setBackgroundColor(color);\n\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\n            params.setMargins(3, 3, 3, 3);\n            holder.itemView.setLayoutParams(params);\n            if (position == selectedPosition_atenciones) {\n                holder.textView_atenciones.setBackgroundResource(R.drawable.custom_border_comanda);\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\n            } else {\n                holder.textView_atenciones.setBackgroundResource(0);\n                //holder.textViewmodificado.setBackgroundResource(0);\n            }\n            int screenWidth = getScreenWidth();\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            layoutParams.width = itemWidth;\n            holder.itemView.setLayoutParams(layoutParams);\n        }\n\n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n\n        public class ViewHolder extends RecyclerView.ViewHolder {\n            TextView textView_atenciones;\n            TextView textViewmodificado;\n            public ViewHolder(@NonNull View itemView) {\n                super(itemView);\n                textView_atenciones = itemView.findViewById(R.id.textviewcomandas);\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\n                textView_atenciones.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        int previousSelectedPosition = selectedPosition_atenciones;\n                        selectedPosition_atenciones = getAbsoluteAdapterPosition();\n\n                        // Notifica el cambio en la posición seleccionada para actualizar la vista\n                        notifyItemChanged(previousSelectedPosition);\n                        notifyItemChanged(selectedPosition_atenciones);\n                        showAlertDialog(selectedPosition_atenciones);\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        }\n    }\n</code></pre>\n<p>it only cycles through the top recyclerview fine but the bottom one doesn't.</p>\n<p>change the focus of the recyclerview with the TAB key and scroll through its items with the keyboard arrows</p>\n"},{"tags":["java","dependency-injection","inversion-of-control"],"comments":[{"owner":{"account_id":6799630,"reputation":238626,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":0,"creation_date":1528282764,"post_id":50718586,"comment_id":88445772,"body_markdown":"quick search yielded https://www.dotnettricks.com/learn/dependencyinjection/what-is-ioc-container-or-di-container","body":"quick search yielded <a href=\"https://www.dotnettricks.com/learn/dependencyinjection/what-is-ioc-container-or-di-container\" rel=\"nofollow noreferrer\">dotnettricks.com/learn/dependencyinjection/&hellip;</a>"},{"owner":{"account_id":6799630,"reputation":238626,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":1,"creation_date":1528282835,"post_id":50718586,"comment_id":88445819,"body_markdown":"You are confusing terms. the `Program` class in this context is the composition root and is doing pure DI.","body":"You are confusing terms. the <code>Program</code> class in this context is the composition root and is doing pure DI."},{"owner":{"account_id":6799630,"reputation":238626,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":1,"creation_date":1528282932,"post_id":50718586,"comment_id":88445892,"body_markdown":"Another very helpful article on the subject http://blog.ploeh.dk/2014/06/10/pure-di/","body":"Another very helpful article on the subject <a href=\"http://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">blog.ploeh.dk/2014/06/10/pure-di</a>"},{"owner":{"account_id":9265692,"reputation":2883,"user_id":6881205,"accept_rate":100,"display_name":"Abdurakhmon"},"score":0,"creation_date":1528283038,"post_id":50718586,"comment_id":88445953,"body_markdown":"According to this article http://fabien.potencier.org/do-you-need-a-dependency-injection-container.html\ndi-container instantiates and configures objects,  is&#39;nt that what `Program` class is doing","body":"According to this article <a href=\"http://fabien.potencier.org/do-you-need-a-dependency-injection-container.html\" rel=\"nofollow noreferrer\">fabien.potencier.org/&hellip;</a> di-container instantiates and configures objects,  is&#39;nt that what <code>Program</code> class is doing"}],"answers":[{"tags":[],"owner":{"account_id":97618,"reputation":168076,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1696868500,"creation_date":1528299168,"answer_id":50724263,"question_id":50718586,"body_markdown":"According to [Dependency Injection Principles, Practices and Patterns][1], a DI Container is: \r\n\r\n&gt; &quot;*a software library that provides DI functionality and allows automating many of the tasks involved in **Object Composition**, **Interception**, and **Lifetime Management**. **DI Containers** are also known as Inversion of Control (IoC) Containers.*&quot; (&#167;3.2.2)\r\n\r\nAt the very least, a DI Container allows Auto-Wiring, which is:\r\n\r\n&gt; &quot;*the ability to automatically compose an object graph from maps between **Abstractions** and concrete types by making use of the types&#39; metadata supplied by the compiler and [its runtime environment].*&quot; (&#167;12.1.2)\r\n\r\nThis typically means that a DI Container will analyze a type&#39;s constructor and will inject dependencies into it, without the need of having to specify each constructor argument manually.\r\n\r\nFrom that perspective, your `Program` class is *not* a DI Container, but your `Program` class acts as a Composer, which is part of the Composition Root. A  [Composition Root][2] is:\r\n\r\n&gt; &quot;*a (preferably) unique location in an application where modules are composed together.*&quot; (&#167;4.1)\r\n\r\nThe Composer is the part of the Composition Root that does the actual construction of the object graphs.\r\n\r\n&gt; &quot;*It&#39;s an important part of the **Composition Root**. The **Composer** is often a **DI Container**, but it can also be any method that constructs object graphs manually*&quot; (&#167;8)\r\n\r\nIn your specific Composition Root, instead of using a DI Container, you are practicing [Pure DI][3], which is:\r\n\r\n&gt; &quot;*the practice of applying DI without a DI Container.*&quot; (&#167;1.1.1)\r\n\r\nIn other words, Pure DI is the practice of composing object graphs by hand using the `new` keyword of your language, opposed to using a DI Container, exactly as your `Program` class demonstrates.\r\n\r\n&gt; how would simple di-container [look] like\r\n\r\nDI Container implementations are typically fairly complex and there are many ways to build them. Their essence, however, lies in the maps between abstractions and concrete types. Because of this, most DI Containers internally use a dictionary or hash map. [This Stack Overflow answer](https://stackoverflow.com/a/15717047/264697) shows a simplistic dictionary-based implementation (using C#) in just a few lines of code.\r\n\r\n\r\n  [1]: https://mng.bz/BYNl\r\n  [2]: https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\r\n  [3]: https://blog.ploeh.dk/2014/06/10/pure-di/","title":"What is a DI Container?","body":"<p>According to <a href=\"https://mng.bz/BYNl\" rel=\"nofollow noreferrer\">Dependency Injection Principles, Practices and Patterns</a>, a DI Container is:</p>\n<blockquote>\n<p>&quot;<em>a software library that provides DI functionality and allows automating many of the tasks involved in <strong>Object Composition</strong>, <strong>Interception</strong>, and <strong>Lifetime Management</strong>. <strong>DI Containers</strong> are also known as Inversion of Control (IoC) Containers.</em>&quot; (§3.2.2)</p>\n</blockquote>\n<p>At the very least, a DI Container allows Auto-Wiring, which is:</p>\n<blockquote>\n<p>&quot;<em>the ability to automatically compose an object graph from maps between <strong>Abstractions</strong> and concrete types by making use of the types' metadata supplied by the compiler and [its runtime environment].</em>&quot; (§12.1.2)</p>\n</blockquote>\n<p>This typically means that a DI Container will analyze a type's constructor and will inject dependencies into it, without the need of having to specify each constructor argument manually.</p>\n<p>From that perspective, your <code>Program</code> class is <em>not</em> a DI Container, but your <code>Program</code> class acts as a Composer, which is part of the Composition Root. A  <a href=\"https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\" rel=\"nofollow noreferrer\">Composition Root</a> is:</p>\n<blockquote>\n<p>&quot;<em>a (preferably) unique location in an application where modules are composed together.</em>&quot; (§4.1)</p>\n</blockquote>\n<p>The Composer is the part of the Composition Root that does the actual construction of the object graphs.</p>\n<blockquote>\n<p>&quot;<em>It's an important part of the <strong>Composition Root</strong>. The <strong>Composer</strong> is often a <strong>DI Container</strong>, but it can also be any method that constructs object graphs manually</em>&quot; (§8)</p>\n</blockquote>\n<p>In your specific Composition Root, instead of using a DI Container, you are practicing <a href=\"https://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">Pure DI</a>, which is:</p>\n<blockquote>\n<p>&quot;<em>the practice of applying DI without a DI Container.</em>&quot; (§1.1.1)</p>\n</blockquote>\n<p>In other words, Pure DI is the practice of composing object graphs by hand using the <code>new</code> keyword of your language, opposed to using a DI Container, exactly as your <code>Program</code> class demonstrates.</p>\n<blockquote>\n<p>how would simple di-container [look] like</p>\n</blockquote>\n<p>DI Container implementations are typically fairly complex and there are many ways to build them. Their essence, however, lies in the maps between abstractions and concrete types. Because of this, most DI Containers internally use a dictionary or hash map. <a href=\"https://stackoverflow.com/a/15717047/264697\">This Stack Overflow answer</a> shows a simplistic dictionary-based implementation (using C#) in just a few lines of code.</p>\n"}],"owner":{"account_id":9265692,"reputation":2883,"user_id":6881205,"accept_rate":100,"display_name":"Abdurakhmon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39580,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":50724263,"answer_count":1,"score":41,"last_activity_date":1696868500,"creation_date":1528282361,"question_id":50718586,"body_markdown":"I am watching this course video about dependency injection and the instructor talked about `di-container` but did not explain in detail, now I read some articles and I want to confirm that now I am getting this right. Below is simple program and my question is, \r\n \r\n**Is Program class below is kind of simplest di-container? if not how would simple di-container would be like**\r\n\r\n    interface  Implementable {\r\n        void doSmth();\r\n    }\r\n\r\n    class A implements Implementable {\r\n    \r\n        @Override\r\n        public void doSmth() {\r\n    \r\n        }\r\n    }\r\n\r\n    class B {\r\n    \r\n        private Implementable i;\r\n    \r\n        public B(Implementable implementable) {\r\n            this.i= implementable;\r\n        }\r\n        \r\n        public void doSmth(){\r\n            i.doSmth();\r\n        }\r\n    }\r\n\r\nIs this class di-container ?\r\n\r\n    class Program {\r\n        B b = new B(new A());\r\n        b.doSmth();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"What is a DI Container?","body":"<p>I am watching this course video about dependency injection and the instructor talked about <code>di-container</code> but did not explain in detail, now I read some articles and I want to confirm that now I am getting this right. Below is simple program and my question is, </p>\n\n<p><strong>Is Program class below is kind of simplest di-container? if not how would simple di-container would be like</strong></p>\n\n<pre><code>interface  Implementable {\n    void doSmth();\n}\n\nclass A implements Implementable {\n\n    @Override\n    public void doSmth() {\n\n    }\n}\n\nclass B {\n\n    private Implementable i;\n\n    public B(Implementable implementable) {\n        this.i= implementable;\n    }\n\n    public void doSmth(){\n        i.doSmth();\n    }\n}\n</code></pre>\n\n<p>Is this class di-container ?</p>\n\n<pre><code>class Program {\n    B b = new B(new A());\n    b.doSmth();\n}\n</code></pre>\n"},{"tags":["java","debugging","gdb"],"answers":[{"tags":[],"owner":{"account_id":60769,"reputation":59521,"user_id":181412,"accept_rate":100,"display_name":"dbyrne"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1488546276,"creation_date":1298493550,"answer_id":5096796,"question_id":5096707,"body_markdown":"I would say gdb is used for debugging Java when the programmer is coming from a different language and is already familiar with gdb.  Otherwise, it seems like a strange choice given that there are more popular alternatives for Java: [jdb][1], [JSwat][2], [eclipse][3], [netbeans][4], etc.\r\n\r\nHere is a [tutorial][5] for debugging Java with gdb.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\r\n  [2]: http://sourceforge.net/projects/jswat/\r\n  [3]: http://www.ibm.com/developerworks/library/os-ecbug/\r\n  [4]: http://netbeans.org/features/java/debugger.html\r\n  [5]: http://gcc.gnu.org/java/gdb.html","title":"How is gdb used to debug Java programs?","body":"<p>I would say gdb is used for debugging Java when the programmer is coming from a different language and is already familiar with gdb.  Otherwise, it seems like a strange choice given that there are more popular alternatives for Java: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\" rel=\"noreferrer\">jdb</a>, <a href=\"http://sourceforge.net/projects/jswat/\" rel=\"noreferrer\">JSwat</a>, <a href=\"http://www.ibm.com/developerworks/library/os-ecbug/\" rel=\"noreferrer\">eclipse</a>, <a href=\"http://netbeans.org/features/java/debugger.html\" rel=\"noreferrer\">netbeans</a>, etc.</p>\n\n<p>Here is a <a href=\"http://gcc.gnu.org/java/gdb.html\" rel=\"noreferrer\">tutorial</a> for debugging Java with gdb.</p>\n"},{"tags":[],"owner":{"account_id":460911,"reputation":2174,"user_id":862295,"accept_rate":89,"display_name":"Tom Larkworthy"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1430246508,"creation_date":1430246508,"answer_id":29927395,"question_id":5096707,"body_markdown":"GDB is 99% of the time is not useful for debugging Java, but it can help you find native memory leaks which the java debuggers can&#39;t.","title":"How is gdb used to debug Java programs?","body":"<p>GDB is 99% of the time is not useful for debugging Java, but it can help you find native memory leaks which the java debuggers can't.</p>\n"},{"tags":[],"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634482656,"creation_date":1634482656,"answer_id":69605546,"question_id":5096707,"body_markdown":"**gdb can be useful to take heap dumps fast.**\r\n\r\nNormally one would dump the heap by using [jmap][1] or similar tools. But when using this tools, the JVM performs garbage collection before dumping, which can take hours on a hanging process. With the steps below you can dump fast, restart the process and convert the dump afterwards.\r\n\r\n    gdb --pid &lt;PID&gt;\r\n    gcore /tmp/gdbdump.core\r\n    detach\r\n    quit\r\n\r\nAfterwards you need to convert the core file to a hprof file to analyze it with Java tools:\r\n\r\n    jmap -dump:format=b,file=/tmp/javadump.hprof /path/tojdk/java /tmp/gdbdump.core\r\n\r\n**Be aware:**\r\n\r\n 1. You need to use the same version of the JDK like the JRE/JDK version the process was running with. \r\n 2. The conversion can take some hours.\r\n 3. For Windows: There seems to be similar process: https://stackoverflow.com/a/35822193/4248273\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html","title":"How is gdb used to debug Java programs?","body":"<p><strong>gdb can be useful to take heap dumps fast.</strong></p>\n<p>Normally one would dump the heap by using <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\" rel=\"nofollow noreferrer\">jmap</a> or similar tools. But when using this tools, the JVM performs garbage collection before dumping, which can take hours on a hanging process. With the steps below you can dump fast, restart the process and convert the dump afterwards.</p>\n<pre><code>gdb --pid &lt;PID&gt;\ngcore /tmp/gdbdump.core\ndetach\nquit\n</code></pre>\n<p>Afterwards you need to convert the core file to a hprof file to analyze it with Java tools:</p>\n<pre><code>jmap -dump:format=b,file=/tmp/javadump.hprof /path/tojdk/java /tmp/gdbdump.core\n</code></pre>\n<p><strong>Be aware:</strong></p>\n<ol>\n<li>You need to use the same version of the JDK like the JRE/JDK version the process was running with.</li>\n<li>The conversion can take some hours.</li>\n<li>For Windows: There seems to be similar process: <a href=\"https://stackoverflow.com/a/35822193/4248273\">https://stackoverflow.com/a/35822193/4248273</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1343553,"reputation":614,"user_id":1284720,"accept_rate":56,"display_name":"sha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696868341,"creation_date":1696868341,"answer_id":77260376,"question_id":5096707,"body_markdown":"GDB can be used in java programs to debug/trace JNI (java native interface). JNI is usually used to access code in shared libraries. We can put breakpoints in the shared libraries, which can be triggered when jvm executes the JNI methods","title":"How is gdb used to debug Java programs?","body":"<p>GDB can be used in java programs to debug/trace JNI (java native interface). JNI is usually used to access code in shared libraries. We can put breakpoints in the shared libraries, which can be triggered when jvm executes the JNI methods</p>\n"}],"owner":{"account_id":118372,"reputation":353,"user_id":309359,"display_name":"Javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29544,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":4,"score":18,"last_activity_date":1696868341,"creation_date":1298492972,"question_id":5096707,"body_markdown":"When gdb is used for debugging purposes in Java:\r\n   \r\n&lt;ul&gt;   \r\n&lt;li&gt; What&#39;s its practical use?\r\n&lt;li&gt; What are its limitations?\r\n&lt;li&gt; How is it compared to other debuggers?\r\n&lt;/ul&gt;","title":"How is gdb used to debug Java programs?","body":"<p>When gdb is used for debugging purposes in Java:</p>\n\n<ul>   \n<li> What's its practical use?\n<li> What are its limitations?\n<li> How is it compared to other debuggers?\n</ul>\n"},{"tags":["java","data-binding","jackson","jax-rs","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":311592,"reputation":2016,"user_id":625265,"accept_rate":75,"display_name":"Oz Molaim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696868116,"creation_date":1529224829,"answer_id":50895043,"question_id":50872647,"body_markdown":"You missed a minor thing.\r\nYou should resolve the type to `Map&lt;String, Date&gt;` instead of `Map&lt;String, Object&gt;` as follow:\r\n\r\n    Map&lt;String, Date&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Date&gt;&gt;() {});\r\n\r\n","title":"Jackson ObjectMapper not respecting configured date time format","body":"<p>You missed a minor thing.\nYou should resolve the type to <code>Map&lt;String, Date&gt;</code> instead of <code>Map&lt;String, Object&gt;</code> as follow:</p>\n<pre><code>Map&lt;String, Date&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Date&gt;&gt;() {});\n</code></pre>\n"}],"owner":{"account_id":938568,"reputation":3010,"user_id":967062,"accept_rate":62,"display_name":"Nitin Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2340,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":50895043,"answer_count":1,"score":2,"last_activity_date":1696868116,"creation_date":1529054699,"question_id":50872647,"body_markdown":"There&#39;s high probability I&#39;m missing something, but, I&#39;m unable to configure object mapper to use given date-time format. Parsing date-time string using same date formatter (that is used to configure object mapper) successfully parses the same date-time string. Here&#39;s relevant code.\r\n\r\n        String eventTimeString = &quot;2018-06-13 20:22:00&quot;;\r\n        String jsonString = &quot;{\\&quot;event_time\\&quot;:\\&quot;&quot;+eventTimeString+&quot;\\&quot;}&quot;;\r\n\r\n        // configure date formatter\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n        // configure object mapper\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setDateFormat(sdf);\r\n\r\n        // parse json string using configured object mapper\r\n        Map&lt;String, Object&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\n        // print event time class as parsed by object mapper\r\n        System.out.println(&quot;event time class: &quot; + (jsonDataMap.get(&quot;event_time&quot;).getClass().getName()));\r\n\r\n        // test parsing date time field\r\n        System.out.println(sdf.parse(eventTimeString));\r\n\r\nThe output that I get is:\r\n\r\n    event time class: java.lang.String\r\n    Thu Jun 14 01:52:00 IST 2018\r\n\r\nWhat am I doing wrong here?\r\n\r\nThanks...\r\n","title":"Jackson ObjectMapper not respecting configured date time format","body":"<p>There's high probability I'm missing something, but, I'm unable to configure object mapper to use given date-time format. Parsing date-time string using same date formatter (that is used to configure object mapper) successfully parses the same date-time string. Here's relevant code.</p>\n\n<pre><code>    String eventTimeString = \"2018-06-13 20:22:00\";\n    String jsonString = \"{\\\"event_time\\\":\\\"\"+eventTimeString+\"\\\"}\";\n\n    // configure date formatter\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n    // configure object mapper\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.setDateFormat(sdf);\n\n    // parse json string using configured object mapper\n    Map&lt;String, Object&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n    // print event time class as parsed by object mapper\n    System.out.println(\"event time class: \" + (jsonDataMap.get(\"event_time\").getClass().getName()));\n\n    // test parsing date time field\n    System.out.println(sdf.parse(eventTimeString));\n</code></pre>\n\n<p>The output that I get is:</p>\n\n<pre><code>event time class: java.lang.String\nThu Jun 14 01:52:00 IST 2018\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>Thanks...</p>\n"},{"tags":["java","c#","datetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1438193516,"post_id":31708012,"comment_id":51354294,"body_markdown":"Can I suggest not storing/transmitting data in what is effectively a .NET-centric format to start with? Beyond that - look at the documentation for `DateTime.FromBinary`, which explains what the value is. Note that Java&#39;s `Date` doesn&#39;t have as much precision as `DateTime`, although `java.time.Instant` does (and more).","body":"Can I suggest not storing/transmitting data in what is effectively a .NET-centric format to start with? Beyond that - look at the documentation for <code>DateTime.FromBinary</code>, which explains what the value is. Note that Java&#39;s <code>Date</code> doesn&#39;t have as much precision as <code>DateTime</code>, although <code>java.time.Instant</code> does (and more)."},{"owner":{"account_id":1637743,"reputation":549,"user_id":1510770,"display_name":"Jegg"},"score":0,"creation_date":1438193987,"post_id":31708012,"comment_id":51354595,"body_markdown":"is it the one you are looking for ? http://stackoverflow.com/questions/23670516/what-is-the-equivalent-of-datetime-fromoadate-in-java-double-to-datetime-in-j","body":"is it the one you are looking for ? <a href=\"http://stackoverflow.com/questions/23670516/what-is-the-equivalent-of-datetime-fromoadate-in-java-double-to-datetime-in-j\" title=\"what is the equivalent of datetime fromoadate in java double to datetime in j\">stackoverflow.com/questions/23670516/&hellip;</a>"},{"owner":{"account_id":4746483,"reputation":159,"user_id":3837711,"accept_rate":40,"display_name":"Poonam E"},"score":0,"creation_date":1438194942,"post_id":31708012,"comment_id":51355140,"body_markdown":"No, that&#39;s a different one I guess","body":"No, that&#39;s a different one I guess"}],"answers":[{"tags":[],"owner":{"account_id":410984,"reputation":587,"user_id":783148,"display_name":"kjosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438196546,"creation_date":1438196546,"answer_id":31709007,"question_id":31708012,"body_markdown":"The value .Net (de-)serializes via `To-/FromBinary` seems very specific to .Net, so I don&#39;t think there&#39;s an easy way to convert that value into a `java.util.Date`.\r\n\r\nThe easiest way I can think of from the perspective of a Java developer would be to convert your .Net `DateTime` to Unix time (see [DateTimeOffset.ToUnixTimeMilliseconds](https://msdn.microsoft.com/en-us/library/dn823277(v=vs.110).aspx)) and then use that value for the `java.util.Date` [constructor](https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date(long)) that accepts that value.\r\n","title":"What is the equivalent of Datetime.FromBinary(long) in Java?","body":"<p>The value .Net (de-)serializes via <code>To-/FromBinary</code> seems very specific to .Net, so I don't think there's an easy way to convert that value into a <code>java.util.Date</code>.</p>\n\n<p>The easiest way I can think of from the perspective of a Java developer would be to convert your .Net <code>DateTime</code> to Unix time (see <a href=\"https://msdn.microsoft.com/en-us/library/dn823277(v=vs.110).aspx\" rel=\"nofollow\">DateTimeOffset.ToUnixTimeMilliseconds</a>) and then use that value for the <code>java.util.Date</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date(long)\" rel=\"nofollow\">constructor</a> that accepts that value.</p>\n"},{"tags":[],"owner":{"account_id":29633768,"reputation":1,"user_id":22711582,"display_name":"H Ren"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696867808,"creation_date":1696867714,"answer_id":77260323,"question_id":31708012,"body_markdown":"This worked for me:\r\n\r\nx, = struct.unpack(&#39;q&#39;, File.read(8))\r\n\r\ny=x+8587633342590756227\r\n\r\ndt= datetime.datetime(2015,7,30,10,10,26,0) + datetime.timedelta(microseconds=y/10.)\r\n\t","title":"What is the equivalent of Datetime.FromBinary(long) in Java?","body":"<p>This worked for me:</p>\n<p>x, = struct.unpack('q', File.read(8))</p>\n<p>y=x+8587633342590756227</p>\n<p>dt= datetime.datetime(2015,7,30,10,10,26,0) + datetime.timedelta(microseconds=y/10.)</p>\n"}],"owner":{"account_id":4746483,"reputation":159,"user_id":3837711,"accept_rate":40,"display_name":"Poonam E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696867808,"creation_date":1438193329,"question_id":31708012,"body_markdown":"C# has `Datetime.FromBinary(long)` method which accepts `long`. I have `long data = -8587633342590756227`.\r\n`Datetime.FromBinary(-8587633342590756227)` which gives {7/30/2015 10:10:26 AM}. How to convert it to date-time format in Java?\r\n\r\nThanks","title":"What is the equivalent of Datetime.FromBinary(long) in Java?","body":"<p>C# has <code>Datetime.FromBinary(long)</code> method which accepts <code>long</code>. I have <code>long data = -8587633342590756227</code>.\n<code>Datetime.FromBinary(-8587633342590756227)</code> which gives {7/30/2015 10:10:26 AM}. How to convert it to date-time format in Java?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mongodb","spring-boot","flapdoodle-embed-mongo"],"comments":[{"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"score":0,"creation_date":1620737077,"post_id":66514538,"comment_id":119284155,"body_markdown":"PyhonLearner, any solution?","body":"PyhonLearner, any solution?"},{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":0,"creation_date":1632036520,"post_id":66514538,"comment_id":122381309,"body_markdown":"@Sha I have posted an answer if this is still relevant for you","body":"@Sha I have posted an answer if this is still relevant for you"}],"answers":[{"tags":[],"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632049425,"creation_date":1632036339,"answer_id":69241189,"question_id":66514538,"body_markdown":"As there is no solution for this I will post my solution, keep in mind this happens  **for an embedded mongo db(flapdoodle version 3.0.0) with replica set only** and with the following java &amp; spring mongo drivers:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nthe solution we used is the following busy wait:\r\n```\r\n    private void waitUntilReplicaReady() throws InterruptedException {\r\n        Document document = getRaplicaStatus();\r\n        while (isReplicaInitializing(document)) {\r\n            document = getRaplicaStatus();\r\n            TimeUnit.MILLISECONDS.sleep(100);\r\n        }\r\n    }\r\n\r\n    private boolean isReplicaInitializing(Document document) {\r\n        return document.get(&quot;lastStableCheckpointTimestamp&quot;, BsonTimestamp.class).getTime() == 0;\r\n    }\r\n\r\n    private Document getRaplicaStatus() {\r\n        return getDatabase(&quot;admin&quot;).runCommand(new BasicDBObject(&quot;replSetGetStatus&quot;, &quot;1&quot;));\r\n    }\r\n\r\n```\r\n\r\nWhile ```lastStableCheckpointTimestamp``` time is not set we keep pooling, when ```lastStableCheckpointTimestamp``` is set we allow the program to advance(it takes ~2 seconds for it to populate)","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>As there is no solution for this I will post my solution, keep in mind this happens  <strong>for an embedded mongo db(flapdoodle version 3.0.0) with replica set only</strong> and with the following java &amp; spring mongo drivers:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>the solution we used is the following busy wait:</p>\n<pre><code>    private void waitUntilReplicaReady() throws InterruptedException {\n        Document document = getRaplicaStatus();\n        while (isReplicaInitializing(document)) {\n            document = getRaplicaStatus();\n            TimeUnit.MILLISECONDS.sleep(100);\n        }\n    }\n\n    private boolean isReplicaInitializing(Document document) {\n        return document.get(&quot;lastStableCheckpointTimestamp&quot;, BsonTimestamp.class).getTime() == 0;\n    }\n\n    private Document getRaplicaStatus() {\n        return getDatabase(&quot;admin&quot;).runCommand(new BasicDBObject(&quot;replSetGetStatus&quot;, &quot;1&quot;));\n    }\n\n</code></pre>\n<p>While <code>lastStableCheckpointTimestamp</code> time is not set we keep pooling, when <code>lastStableCheckpointTimestamp</code> is set we allow the program to advance(it takes ~2 seconds for it to populate)</p>\n"},{"tags":[],"owner":{"account_id":12078072,"reputation":747,"user_id":8830813,"display_name":"Jayabharathi Palanisamy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657561600,"creation_date":1657561600,"answer_id":72942663,"question_id":66514538,"body_markdown":"Adding the read preference in connection string resolved above issue \r\n\r\n    mongodb://userName:Password@mongodb0.example.com:27017?ReadPreference=primary","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>Adding the read preference in connection string resolved above issue</p>\n<pre><code>mongodb://userName:Password@mongodb0.example.com:27017?ReadPreference=primary\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8676244,"reputation":21,"user_id":6493593,"display_name":"rzoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683723795,"creation_date":1683723795,"answer_id":76218754,"question_id":66514538,"body_markdown":"Before change this, checking  may help if IPs and ports are valid for the Mongo Db.","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>Before change this, checking  may help if IPs and ports are valid for the Mongo Db.</p>\n"}],"owner":{"account_id":14095561,"reputation":1426,"user_id":10182449,"display_name":"PythonLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10410,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1696867601,"creation_date":1615105544,"question_id":66514538,"body_markdown":"I am getting the following exception while executing my integration test cases for transactional feature of MongoDB.\r\n\r\n    org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}; nested exception is com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\r\n    \tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2874)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:568)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.saveDocument(MongoTemplate.java:1485)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.doSave(MongoTemplate.java:1421)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.save(MongoTemplate.java:1363)\r\n    ....................\r\n    Caused by: com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:244)\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:171)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:302)\r\n\r\nMy test class has the following method.\r\n\r\n    @Test\r\n       @Order(1)\r\n       void testUpdateValidationsById() {\r\n           MyEntity entity = new MyEntity();\r\n           entity.setId(&quot;6030a6e1b32d1f70b4ce8039&quot;);\r\n           entity.setAttributeType(&quot;IP Address, FQDN&quot;);\r\n           entity.setCategory(&quot;NTP&quot;);\r\n           entity.setCategoryLabel(&quot;NTP&quot;);\r\n           entity.setTrueMsgDetails(&quot;It is true&quot;);\r\n           entity.setFalseMsgDetails(&quot;It is false&quot;);\r\n           entity.setCorevalidation(&quot;Core Validation&quot;);\r\n    \r\n           ResponseEntity&lt;?&gt; re = controller.updateValidationsById(entity);\r\n           boolean flag = re.getStatusCode().is2xxSuccessful();\r\n           assertEquals(true, flag);\r\n       }\r\n\r\nMy test configuration class looks like this.\r\n\r\n    @Profile(&quot;test&quot;)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestConfiguration\r\n    public class TestMongoDBConfig implements InitializingBean, DisposableBean {\r\n    \r\n    \tprivate MongodExecutable executable;\r\n    \tprivate String replicaSetName = &quot;rs0&quot;;\r\n    \tprivate int mongoDBPort = 27021;\r\n    \r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \t\tmongoDBPort = Network.getFreeServerPort();\r\n    \t\tIMongoCmdOptions cmdOptions = new MongoCmdOptionsBuilder().useNoPrealloc(false).useSmallFiles(false)\r\n    \t\t\t\t.master(false).verbose(false).useNoJournal(false).syncDelay(0).build();\r\n    \r\n    //\t\tIMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\r\n    \t\tIMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.V4_0)\r\n    //\t\t\t\t.net(new Net(27023, Network.localhostIsIPv6()))\r\n    \t\t\t\t.net(new Net(mongoDBPort, Network.localhostIsIPv6()))\r\n    \t\t\t\t.replication(new Storage(null, replicaSetName, 5000)).configServer(true).cmdOptions(cmdOptions)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tMongodStarter starter = MongodStarter.getDefaultInstance();\r\n    \t\texecutable = starter.prepare(mongodConfig);\r\n    \t\texecutable.start();\r\n    \t}\r\n    \r\n    \t\r\n    \t@Bean(name = &quot;test1&quot;)\r\n    \tpublic MongoClient mongoClient() {\r\n    \t\tConnectionString cs = new ConnectionString(&quot;mongodb://localhost:&quot; + mongoDBPort + &quot;/&quot;);\r\n    \t\tMongoClient mongoClient = MongoClients.create(cs);\r\n    \t\tSystem.out.println(&quot;--------------------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;Mongo Selected ort : &quot; + mongoDBPort);\r\n    \t\tSystem.out.println(&quot;MongoClient : &quot; + mongoClient);\r\n    \t\tSystem.out.println(&quot;--------------------------------------&quot;);\r\n    \t\tmongoClient.getDatabase(&quot;admin&quot;).runCommand(new Document(&quot;replSetInitiate&quot;, new Document()));\r\n    \t\treturn mongoClient;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Destroy.\r\n    \t *\r\n    \t * @throws Exception the exception\r\n    \t */\r\n    \t@Override\r\n    \tpublic void destroy() throws Exception {\r\n    \t\texecutable.stop();\r\n    \t}\r\n    }\r\n\r\n","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>I am getting the following exception while executing my integration test cases for transactional feature of MongoDB.</p>\n<pre><code>org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): 'not master' on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}; nested exception is com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): 'not master' on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\n    at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133)\n    at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2874)\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:568)\n    at org.springframework.data.mongodb.core.MongoTemplate.saveDocument(MongoTemplate.java:1485)\n    at org.springframework.data.mongodb.core.MongoTemplate.doSave(MongoTemplate.java:1421)\n    at org.springframework.data.mongodb.core.MongoTemplate.save(MongoTemplate.java:1363)\n....................\nCaused by: com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): 'not master' on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\n    at com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:244)\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:171)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:302)\n</code></pre>\n<p>My test class has the following method.</p>\n<pre><code>@Test\n   @Order(1)\n   void testUpdateValidationsById() {\n       MyEntity entity = new MyEntity();\n       entity.setId(&quot;6030a6e1b32d1f70b4ce8039&quot;);\n       entity.setAttributeType(&quot;IP Address, FQDN&quot;);\n       entity.setCategory(&quot;NTP&quot;);\n       entity.setCategoryLabel(&quot;NTP&quot;);\n       entity.setTrueMsgDetails(&quot;It is true&quot;);\n       entity.setFalseMsgDetails(&quot;It is false&quot;);\n       entity.setCorevalidation(&quot;Core Validation&quot;);\n\n       ResponseEntity&lt;?&gt; re = controller.updateValidationsById(entity);\n       boolean flag = re.getStatusCode().is2xxSuccessful();\n       assertEquals(true, flag);\n   }\n</code></pre>\n<p>My test configuration class looks like this.</p>\n<pre><code>@Profile(&quot;test&quot;)\n@ActiveProfiles(&quot;test&quot;)\n@TestConfiguration\npublic class TestMongoDBConfig implements InitializingBean, DisposableBean {\n\n    private MongodExecutable executable;\n    private String replicaSetName = &quot;rs0&quot;;\n    private int mongoDBPort = 27021;\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        mongoDBPort = Network.getFreeServerPort();\n        IMongoCmdOptions cmdOptions = new MongoCmdOptionsBuilder().useNoPrealloc(false).useSmallFiles(false)\n                .master(false).verbose(false).useNoJournal(false).syncDelay(0).build();\n\n//      IMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\n        IMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.V4_0)\n//              .net(new Net(27023, Network.localhostIsIPv6()))\n                .net(new Net(mongoDBPort, Network.localhostIsIPv6()))\n                .replication(new Storage(null, replicaSetName, 5000)).configServer(true).cmdOptions(cmdOptions)\n                .build();\n\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n        executable = starter.prepare(mongodConfig);\n        executable.start();\n    }\n\n    \n    @Bean(name = &quot;test1&quot;)\n    public MongoClient mongoClient() {\n        ConnectionString cs = new ConnectionString(&quot;mongodb://localhost:&quot; + mongoDBPort + &quot;/&quot;);\n        MongoClient mongoClient = MongoClients.create(cs);\n        System.out.println(&quot;--------------------------------------&quot;);\n        System.out.println(&quot;Mongo Selected ort : &quot; + mongoDBPort);\n        System.out.println(&quot;MongoClient : &quot; + mongoClient);\n        System.out.println(&quot;--------------------------------------&quot;);\n        mongoClient.getDatabase(&quot;admin&quot;).runCommand(new Document(&quot;replSetInitiate&quot;, new Document()));\n        return mongoClient;\n    }\n\n    /**\n     * Destroy.\n     *\n     * @throws Exception the exception\n     */\n    @Override\n    public void destroy() throws Exception {\n        executable.stop();\n    }\n}\n</code></pre>\n"},{"tags":["java","authentication"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1365101125,"post_id":15819030,"comment_id":22501387,"body_markdown":"I use HtmlUnit for such jobs because it not only supports cookies but also javascript.","body":"I use HtmlUnit for such jobs because it not only supports cookies but also javascript."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1365101722,"post_id":15819030,"comment_id":22501727,"body_markdown":"The page you are trying to access is a simple HTML page - you should be using https://login.szn.cz/loginProcess instead. Also, you need to use an SSL connection. Also, you need to specify the request method as POST and the Content-Type as &#39;application/x-www-form-urlencoded&#39;. Also you need to encode the data you are writing to the request body. Also, you seem to be missing some parameters (at least compared to when you login using the main HTML page). You might want to HtmlUnit, as suggested by @MrSmith42.","body":"The page you are trying to access is a simple HTML page - you should be using <a href=\"https://login.szn.cz/loginProcess\" rel=\"nofollow noreferrer\">login.szn.cz/loginProcess</a> instead. Also, you need to use an SSL connection. Also, you need to specify the request method as POST and the Content-Type as &#39;application/x-www-form-urlencoded&#39;. Also you need to encode the data you are writing to the request body. Also, you seem to be missing some parameters (at least compared to when you login using the main HTML page). You might want to HtmlUnit, as suggested by @MrSmith42."},{"owner":{"account_id":788355,"reputation":1152,"user_id":862441,"display_name":"srkavin"},"score":0,"creation_date":1365101781,"post_id":15819030,"comment_id":22501754,"body_markdown":"You can try casting `connect` to `HttpURLConnection` and then set the request method to POST using `setRequestMethod(&quot;POST&quot;);`","body":"You can try casting <code>connect</code> to <code>HttpURLConnection</code> and then set the request method to POST using <code>setRequestMethod(&quot;POST&quot;);</code>"},{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":2,"creation_date":1365104765,"post_id":15819030,"comment_id":22503287,"body_markdown":"@MrSmith42\nI downloaded htmlUnit and it looks great. With this I&#39;m able to login to my site and it&#39;s more elegant solution. Thanks man :)","body":"@MrSmith42 I downloaded htmlUnit and it looks great. With this I&#39;m able to login to my site and it&#39;s more elegant solution. Thanks man :)"}],"answers":[{"tags":[],"owner":{"account_id":2000370,"reputation":6294,"user_id":1791578,"accept_rate":60,"display_name":"ridoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365103853,"creation_date":1365102488,"answer_id":15819689,"question_id":15819030,"body_markdown":"You can call the `URL` object&#39;s `openConnection` method to get a `URLConnection` object. You can use this `URLConnection` object to setup parameters and general request properties that you may need before connecting. Connection to the remote object represented by the `URL` is only initiated when the `URLConnection.connect` method is called. The following code opens a connection to the site *example.com*:\r\n\r\n    try {\r\n        URL myURL = new URL(&quot;http://login.szn.cz&quot;);\r\n        URLConnection myURLConnection = myURL.openConnection();\r\n        myURLConnection.connect();\r\n    } \r\n    catch (MalformedURLException e) { \r\n        // new URL() failed\r\n        // ...\r\n    } \r\n    catch (IOException e) {   \r\n        // openConnection() failed\r\n        // ...\r\n    }\r\nA new `URLConnection` object is created every time by calling the `openConnection` method of the protocol handler for this `URL`.\r\n\r\nAlso see these links..  \r\n\r\n - http://www.coderanch.com/t/524061/open-source/Java-program-Login-website-url\r\n - https://stackoverflow.com/questions/7622011/login-on-website-with-java\r\n\r\n","title":"Login to a website (Java)","body":"<p>You can call the <code>URL</code> object's <code>openConnection</code> method to get a <code>URLConnection</code> object. You can use this <code>URLConnection</code> object to setup parameters and general request properties that you may need before connecting. Connection to the remote object represented by the <code>URL</code> is only initiated when the <code>URLConnection.connect</code> method is called. The following code opens a connection to the site <em>example.com</em>:</p>\n\n<pre><code>try {\n    URL myURL = new URL(\"http://login.szn.cz\");\n    URLConnection myURLConnection = myURL.openConnection();\n    myURLConnection.connect();\n} \ncatch (MalformedURLException e) { \n    // new URL() failed\n    // ...\n} \ncatch (IOException e) {   \n    // openConnection() failed\n    // ...\n}\n</code></pre>\n\n<p>A new <code>URLConnection</code> object is created every time by calling the <code>openConnection</code> method of the protocol handler for this <code>URL</code>.</p>\n\n<p>Also see these links..  </p>\n\n<ul>\n<li><a href=\"http://www.coderanch.com/t/524061/open-source/Java-program-Login-website-url\" rel=\"nofollow noreferrer\">http://www.coderanch.com/t/524061/open-source/Java-program-Login-website-url</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7622011/login-on-website-with-java\">Login on website with java</a></li>\n</ul>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696867601,"creation_date":1365100578,"question_id":15819030,"body_markdown":"I want to login to a website, but if I try it with this code:\r\npackage URL;\r\n\r\n    //Variables to hold the URL object and its connection to that URL.\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class URLLogin {\r\n    \tprivate static URL URLObj;\r\n    private static URLConnection connect;\r\n    \r\n    public static void main(String[] args) {\r\n        try {\r\n            // Establish a URL and open a connection to it. Set it to output mode.\r\n            URLObj = new URL(&quot;http://login.szn.cz&quot;);\r\n            connect = URLObj.openConnection();\r\n            connect.setDoOutput(true);        \r\n        }\r\n        catch (MalformedURLException ex) {\r\n            System.out.println(&quot;The URL specified was unable to be parsed or uses an invalid protocol. Please try again.&quot;);\r\n            System.exit(1); \r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;An exception occurred. &quot; + ex.getMessage());\r\n            System.exit(1);\r\n        }\r\n    \t\r\n    \t\r\n        try {\r\n            // Create a buffered writer to the URLConnection&#39;s output stream and write our forms parameters.\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(connect.getOutputStream(),&quot;UTF-8&quot;));\r\n            writer.write(&quot;username=S&amp;password=s&amp;login=Přihl&#225;sit se&quot;);\r\n            writer.close();\r\n    \t\t\r\n         // Now establish a buffered reader to read the URLConnection&#39;s input stream.\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connect.getInputStream()));\r\n    \t\t\r\n            String lineRead = &quot;&quot;;\r\n    \t\t\r\n            Read all available lines of data from the URL and print them to screen.\r\n            while ((lineRead = reader.readLine()) != null) {\r\n                System.out.println(lineRead);\r\n            }\r\n    \t\t\r\n            reader.close();  \r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;There was an error reading or writing to the URL: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n    }\r\n\r\nI get this error:\r\n\r\n&gt; There was an error reading or writing to the URL: Server returned HTTP\r\n&gt; response code: 405 for URL: http://login.szn.cz\r\n\r\nIs here a way how I can login to this website? Or maybe I can use cookies in Opera browser with login information?\r\n\r\nThanks for all advices.","title":"Login to a website (Java)","body":"<p>I want to login to a website, but if I try it with this code:\npackage URL;</p>\n\n<pre><code>//Variables to hold the URL object and its connection to that URL.\nimport java.net.*;\nimport java.io.*;\n\npublic class URLLogin {\n    private static URL URLObj;\nprivate static URLConnection connect;\n\npublic static void main(String[] args) {\n    try {\n        // Establish a URL and open a connection to it. Set it to output mode.\n        URLObj = new URL(\"http://login.szn.cz\");\n        connect = URLObj.openConnection();\n        connect.setDoOutput(true);        \n    }\n    catch (MalformedURLException ex) {\n        System.out.println(\"The URL specified was unable to be parsed or uses an invalid protocol. Please try again.\");\n        System.exit(1); \n    }\n    catch (Exception ex) {\n        System.out.println(\"An exception occurred. \" + ex.getMessage());\n        System.exit(1);\n    }\n\n\n    try {\n        // Create a buffered writer to the URLConnection's output stream and write our forms parameters.\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(connect.getOutputStream(),\"UTF-8\"));\n        writer.write(\"username=S&amp;password=s&amp;login=Přihlásit se\");\n        writer.close();\n\n     // Now establish a buffered reader to read the URLConnection's input stream.\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connect.getInputStream()));\n\n        String lineRead = \"\";\n\n        Read all available lines of data from the URL and print them to screen.\n        while ((lineRead = reader.readLine()) != null) {\n            System.out.println(lineRead);\n        }\n\n        reader.close();  \n    }\n    catch (Exception ex) {\n        System.out.println(\"There was an error reading or writing to the URL: \" + ex.getMessage());\n    }\n}\n}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>There was an error reading or writing to the URL: Server returned HTTP\n  response code: 405 for URL: <a href=\"http://login.szn.cz\" rel=\"nofollow\">http://login.szn.cz</a></p>\n</blockquote>\n\n<p>Is here a way how I can login to this website? Or maybe I can use cookies in Opera browser with login information?</p>\n\n<p>Thanks for all advices.</p>\n"},{"tags":["java","objectmapper"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1476092323,"post_id":39955104,"comment_id":67190327,"body_markdown":"From what I gathered, you can use &quot;Configuration Overrides&quot; to do something similar. See [the 2.8 patchnote](https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8#configuration-overrides) and [this github issue](https://github.com/FasterXML/jackson-datatype-joda/issues/12).","body":"From what I gathered, you can use &quot;Configuration Overrides&quot; to do something similar. See <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8#configuration-overrides\" rel=\"nofollow noreferrer\">the 2.8 patchnote</a> and <a href=\"https://github.com/FasterXML/jackson-datatype-joda/issues/12\" rel=\"nofollow noreferrer\">this github issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1476093274,"creation_date":1476092917,"answer_id":39955590,"question_id":39955104,"body_markdown":"You can try the following:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\r\n    \r\n    LocalDateTimeDeserializer dateTimeDeserializer = new LocalDateTimeDeserializer(formatter);\r\n    LocalDateTimeSerializer dateTimeSerializer = new LocalDateTimeSerializer(formatter);\r\n            \r\n    JavaTimeModule javaTimeModule = new JavaTimeModule(); \r\n    javaTimeModule.addDeserializer(LocalDateTime.class, dateTimeDeserializer);\r\n    javaTimeModule.addSerializer(LocalDateTime.class, dateTimeSerializer);\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(javaTimeModule);\r\n\r\nThe [`jackson-datatype-jsr310`][1] dependency is required:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n[1]: https://github.com/FasterXML/jackson-datatype-jsr310","title":"Using DateTimeFormatter with ObjectMapper","body":"<p>You can try the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\n\nLocalDateTimeDeserializer dateTimeDeserializer = new LocalDateTimeDeserializer(formatter);\nLocalDateTimeSerializer dateTimeSerializer = new LocalDateTimeSerializer(formatter);\n\nJavaTimeModule javaTimeModule = new JavaTimeModule(); \njavaTimeModule.addDeserializer(LocalDateTime.class, dateTimeDeserializer);\njavaTimeModule.addSerializer(LocalDateTime.class, dateTimeSerializer);\n\nObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(javaTimeModule);\n</code></pre>\n\n<p>The <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310\" rel=\"noreferrer\"><code>jackson-datatype-jsr310</code></a> dependency is required:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5163377,"reputation":271,"user_id":4134274,"accept_rate":14,"display_name":"DanglingPointer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9743,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1696867292,"creation_date":1476091341,"question_id":39955104,"body_markdown":"Prior to Java8, we used to set DateFormat with ObjectMapper as follows\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n    ObjectMapper mapper = &lt;SomeInstantiation&gt;\r\n    mapper.setDateFormat(df);\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\r\nNow that we have `java.time.format.DateTimeFormatter` which is *thread-safe* and more robust unlike `SimpleDateFormat`. I want to replace above settings on `ObjectMapper`. \r\n\r\nHow do I set `DateTimeFormatter` with `ObjectMapper`?","title":"Using DateTimeFormatter with ObjectMapper","body":"<p>Prior to Java8, we used to set DateFormat with ObjectMapper as follows</p>\n<pre><code>DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;);\nObjectMapper mapper = &lt;SomeInstantiation&gt;\nmapper.setDateFormat(df);\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n<p>Now that we have <code>java.time.format.DateTimeFormatter</code> which is <em>thread-safe</em> and more robust unlike <code>SimpleDateFormat</code>. I want to replace above settings on <code>ObjectMapper</code>.</p>\n<p>How do I set <code>DateTimeFormatter</code> with <code>ObjectMapper</code>?</p>\n"},{"tags":["java","hbase","apache-zookeeper","nosql"],"comments":[{"owner":{"account_id":6476496,"reputation":3045,"user_id":5014959,"accept_rate":62,"display_name":"Alp"},"score":0,"creation_date":1475850640,"post_id":30069125,"comment_id":67123089,"body_markdown":"Have found the reason of the problem ? And have you found a solution to it ?","body":"Have found the reason of the problem ? And have you found a solution to it ?"},{"owner":{"account_id":898124,"reputation":7147,"user_id":934960,"accept_rate":72,"display_name":"Raunak Agarwal"},"score":0,"creation_date":1475865391,"post_id":30069125,"comment_id":67131307,"body_markdown":"@Alp: Hey, I don&#39;t if I really found what caused this issue. But I have a hunch, I was using hbase&#39;s zookeeper and once I had logged in to the Zookeeper CLI: `${HBASE_HOME}/bin/hbase zkcli` and did `ls /hbase`, `master` was missing in the output. So, that explains why it wasn&#39;t able to getdata for that znode. Hope this helps, please share your experience!","body":"@Alp: Hey, I don&#39;t if I really found what caused this issue. But I have a hunch, I was using hbase&#39;s zookeeper and once I had logged in to the Zookeeper CLI: <code>${HBASE_HOME}&#47;bin&#47;hbase zkcli</code> and did <code>ls &#47;hbase</code>, <code>master</code> was missing in the output. So, that explains why it wasn&#39;t able to getdata for that znode. Hope this helps, please share your experience!"},{"owner":{"account_id":6476496,"reputation":3045,"user_id":5014959,"accept_rate":62,"display_name":"Alp"},"score":0,"creation_date":1476359904,"post_id":30069125,"comment_id":67317341,"body_markdown":"Thanks for your response. My case was not exactly the same. I was just suspicious, and was trying to exhaust all possible leads. In my case, I was given a bunch of put mutations, for which I needed to create tables with column families as I go. System worked for a while but at certain point in time, zookeeper died on me. I spent some time to figure out the reason.I couldn&#39;t pin point the issue in a short period of time, but instead, I created all necessary tables upfront and then added mutations. It worked like a charm. I hope this helps others.","body":"Thanks for your response. My case was not exactly the same. I was just suspicious, and was trying to exhaust all possible leads. In my case, I was given a bunch of put mutations, for which I needed to create tables with column families as I go. System worked for a while but at certain point in time, zookeeper died on me. I spent some time to figure out the reason.I couldn&#39;t pin point the issue in a short period of time, but instead, I created all necessary tables upfront and then added mutations. It worked like a charm. I hope this helps others."}],"answers":[{"tags":[],"owner":{"account_id":29633634,"reputation":1,"user_id":22711494,"display_name":"butchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866446,"creation_date":1696866446,"answer_id":77260202,"question_id":30069125,"body_markdown":"    &lt;configuration&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.master.port&lt;/name&gt;\r\n        &lt;value&gt;localhost:16000&lt;/value&gt;\r\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\r\n        &lt;value&gt;16022&lt;/value&gt;\r\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\r\n        &lt;value&gt;file:///data/hbase&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\r\n        &lt;value&gt;/data//hbase/zookeeper&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\r\n        &lt;value&gt;localhost&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;dfs.replication&lt;/name&gt;\r\n        &lt;value&gt;2&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\r\n        &lt;value&gt;2181&lt;/value&gt;\r\n        &lt;description&gt;Property from ZooKeeper&#39;s config zoo.cfg.&lt;/description&gt;              \r\n      &lt;/property&gt;\r\n\r\n&lt;/configuration&gt;","title":"Hbase Zookeeper Standalone mode","body":"<pre><code>&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.master.port&lt;/name&gt;\n    &lt;value&gt;localhost:16000&lt;/value&gt;\n    &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\n    &lt;value&gt;16022&lt;/value&gt;\n    &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.rootdir&lt;/name&gt;\n    &lt;value&gt;file:///data/hbase&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\n    &lt;value&gt;/data//hbase/zookeeper&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n    &lt;value&gt;localhost&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.replication&lt;/name&gt;\n    &lt;value&gt;2&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\n    &lt;value&gt;2181&lt;/value&gt;\n    &lt;description&gt;Property from ZooKeeper's config zoo.cfg.&lt;/description&gt;              \n  &lt;/property&gt;\n</code></pre>\n\n"}],"owner":{"account_id":898124,"reputation":7147,"user_id":934960,"accept_rate":72,"display_name":"Raunak Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696866446,"creation_date":1430893726,"question_id":30069125,"body_markdown":"I have a setup with hbase deployed in standalone mode. Everything works fine initially but after 30 mins or so my zookeeper service dies. I get this exception:\r\n\r\n    2015-05-05 19:52:06,999 ERROR [main] zookeeper.RecoverableZooKeeper: ZooKeeper getData failed after 1 attempts\r\n    2015-05-05 19:52:06,999 WARN  [main] zookeeper.ZKUtil: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Unable to get data of znode /hbase/master\r\n    org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /hbase/master\r\n            at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)\r\n            at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)\r\n            at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1155)\r\n            at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.getData(RecoverableZooKeeper.java:360)\r\n            at org.apache.hadoop.hbase.zookeeper.ZKUtil.getDataNoWatch(ZKUtil.java:775)\r\n            at org.apache.hadoop.hbase.zookeeper.MasterAddressTracker.deleteIfEquals(MasterAddressTracker.java:251)\r\n            at org.apache.hadoop.hbase.ZNodeClearer.clear(ZNodeClearer.java:149)\r\n            at org.apache.hadoop.hbase.master.HMasterCommandLine.run(HMasterCommandLine.java:143)\r\n            at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\r\n            at org.apache.hadoop.hbase.util.ServerCommandLine.doMain(ServerCommandLine.java:126)\r\n            at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:1996)\r\n    2015-05-05 19:52:06,999 WARN  [main-SendThread(agalaxy:2181)] zookeeper.ClientCnxn: Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect\r\n    java.net.ConnectException: Connection refused\r\n            at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n            at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)\r\n            at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)\r\n            at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)\r\n    2015-05-05 19:52:06,999 ERROR [main] zookeeper.ZooKeeperWatcher: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Received unexpected KeeperException, re-throwing exception\r\n\r\nI am pumping stream of continuous data into hbase. I checked zookeeper logs, but much of it is non-readable. I couldn&#39;t trace the reason for the service to die off. Can anyone please help. Thanks! Here&#39;s my config\r\n\r\n \r\n\r\n\r\n    &lt;configuration&gt;\r\n       &lt;property&gt;\r\n            &lt;name&gt;hbase.master&lt;/name&gt;\r\n            &lt;value&gt;localhost:60000&lt;/value&gt;\r\n            &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\r\n            &lt;value&gt;60020&lt;/value&gt;\r\n            &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.rootdir&lt;/name&gt;\r\n            &lt;value&gt;file:///data/hbase&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\r\n            &lt;value&gt;/data/zookeeper&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.tmp.dir&lt;/name&gt;\r\n            &lt;value&gt;/data/hbase/tmp&lt;/value&gt;\r\n     &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\r\n            &lt;value&gt;localhost&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;dfs.replication&lt;/name&gt;\r\n            &lt;value&gt;2&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\r\n            &lt;value&gt;2181&lt;/value&gt;\r\n            &lt;description&gt;Property from ZooKeeper&#39;s config zoo.cfg.\r\n                The port at which the clients will connect.\r\n            &lt;/description&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Hbase Zookeeper Standalone mode","body":"<p>I have a setup with hbase deployed in standalone mode. Everything works fine initially but after 30 mins or so my zookeeper service dies. I get this exception:</p>\n\n<pre><code>2015-05-05 19:52:06,999 ERROR [main] zookeeper.RecoverableZooKeeper: ZooKeeper getData failed after 1 attempts\n2015-05-05 19:52:06,999 WARN  [main] zookeeper.ZKUtil: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Unable to get data of znode /hbase/master\norg.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /hbase/master\n        at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)\n        at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)\n        at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1155)\n        at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.getData(RecoverableZooKeeper.java:360)\n        at org.apache.hadoop.hbase.zookeeper.ZKUtil.getDataNoWatch(ZKUtil.java:775)\n        at org.apache.hadoop.hbase.zookeeper.MasterAddressTracker.deleteIfEquals(MasterAddressTracker.java:251)\n        at org.apache.hadoop.hbase.ZNodeClearer.clear(ZNodeClearer.java:149)\n        at org.apache.hadoop.hbase.master.HMasterCommandLine.run(HMasterCommandLine.java:143)\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\n        at org.apache.hadoop.hbase.util.ServerCommandLine.doMain(ServerCommandLine.java:126)\n        at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:1996)\n2015-05-05 19:52:06,999 WARN  [main-SendThread(agalaxy:2181)] zookeeper.ClientCnxn: Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect\njava.net.ConnectException: Connection refused\n        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)\n2015-05-05 19:52:06,999 ERROR [main] zookeeper.ZooKeeperWatcher: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Received unexpected KeeperException, re-throwing exception\n</code></pre>\n\n<p>I am pumping stream of continuous data into hbase. I checked zookeeper logs, but much of it is non-readable. I couldn't trace the reason for the service to die off. Can anyone please help. Thanks! Here's my config</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;property&gt;\n        &lt;name&gt;hbase.master&lt;/name&gt;\n        &lt;value&gt;localhost:60000&lt;/value&gt;\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\n        &lt;value&gt;60020&lt;/value&gt;\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\n        &lt;value&gt;file:///data/hbase&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\n        &lt;value&gt;/data/zookeeper&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.tmp.dir&lt;/name&gt;\n        &lt;value&gt;/data/hbase/tmp&lt;/value&gt;\n &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n        &lt;value&gt;localhost&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.replication&lt;/name&gt;\n        &lt;value&gt;2&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\n        &lt;value&gt;2181&lt;/value&gt;\n        &lt;description&gt;Property from ZooKeeper's config zoo.cfg.\n            The port at which the clients will connect.\n        &lt;/description&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","google-bigquery","avro","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696866390,"creation_date":1696866390,"answer_id":77260193,"question_id":77245306,"body_markdown":"Using repeated columns in the BigQuery table and arrays in the topic schema do not mean that multiple messages are coalesced into single rows in the table if all that differs is the array/repeated fields. There is no way to do that type of implicit merging of fields via BigQuery subscriptions. You would need to published a message with the repeated fields already merged into a single array.","title":"PubSub to BQ Subscription with Array Data Type on Avro and REPEATED type on BQ","body":"<p>Using repeated columns in the BigQuery table and arrays in the topic schema do not mean that multiple messages are coalesced into single rows in the table if all that differs is the array/repeated fields. There is no way to do that type of implicit merging of fields via BigQuery subscriptions. You would need to published a message with the repeated fields already merged into a single array.</p>\n"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260193,"answer_count":1,"score":0,"last_activity_date":1696866390,"creation_date":1696602844,"question_id":77245306,"body_markdown":"## Avro Schema\r\n\r\nPubsub schema created using below schema.\r\n```\r\n{\r\n  &quot;namespace&quot;: &quot;model&quot;,\r\n  &quot;name&quot;: &quot;Point&quot;,\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;id1&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id2&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id3&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id4&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id5&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;reference&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id6&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;code&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;status1&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;array&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;items&quot;: {\r\n          &quot;name&quot;: &quot;status1&quot;,\r\n          &quot;type&quot;: &quot;record&quot;,\r\n          &quot;default&quot;: null,\r\n          &quot;fields&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;status1&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;status2&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;status3&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;phase&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;array&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;items&quot;: {\r\n          &quot;name&quot;: &quot;phase&quot;,\r\n          &quot;type&quot;: &quot;record&quot;,\r\n          &quot;default&quot;: null,\r\n          &quot;fields&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;phase1&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;created_at&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;amount&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;name&quot;: &quot;Amount&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;amount&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;currency&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;user&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;name&quot;: &quot;User&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;name&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;created_at&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n## BQ Schema\r\n```\r\n  &quot;schema&quot;: {\r\n    &quot;fields&quot;: [\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id1&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id2&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id3&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id4&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id5&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;reference&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id6&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;code&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;status1&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;status2&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;status3&quot;,\r\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;REPEATED&quot;,\r\n        &quot;name&quot;: &quot;status1&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;phase1&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;created_at&quot;,\r\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;REPEATED&quot;,\r\n        &quot;name&quot;: &quot;phase&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;amount&quot;,\r\n            &quot;type&quot;: &quot;BIGNUMERIC&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;currency&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;amount&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;name&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;user&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;created_at&quot;,\r\n        &quot;type&quot;: &quot;TIMESTAMP&quot;\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\n## Pubsub to BQ Subscription\r\nPubsub to BQ Subscription and created\r\n\r\n## Publishing Messages\r\nGenerated Avro classes with Java Avro Plugin and publishing messages from there.\r\n\r\n## Problem\r\nMessages are getting persisted fine to BQ However I can&#39;t see repeated column populated properly, there are still multiple rows created for same data.\r\nFor e.g. phase and status is REPEATED column on BQ side and ARRAY type on AVRO side, so when I am publishing multiple messages where everything except `phase` and `status1` are same, ideally there would be one row and multiple granular rows within `phase` and `status1` but it is not happening and instead there are separate rows with duplicated data.","title":"PubSub to BQ Subscription with Array Data Type on Avro and REPEATED type on BQ","body":"<h2>Avro Schema</h2>\n<p>Pubsub schema created using below schema.</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;model&quot;,\n  &quot;name&quot;: &quot;Point&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;id1&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id2&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id3&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id4&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id5&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;reference&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id6&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;code&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;status1&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;default&quot;: null,\n        &quot;items&quot;: {\n          &quot;name&quot;: &quot;status1&quot;,\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;default&quot;: null,\n          &quot;fields&quot;: [\n            {\n              &quot;name&quot;: &quot;status1&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            },\n            {\n              &quot;name&quot;: &quot;status2&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            },\n            {\n              &quot;name&quot;: &quot;status3&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            }\n          ]\n        }\n      }\n    },\n    {\n      &quot;name&quot;: &quot;phase&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;default&quot;: null,\n        &quot;items&quot;: {\n          &quot;name&quot;: &quot;phase&quot;,\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;default&quot;: null,\n          &quot;fields&quot;: [\n            {\n              &quot;name&quot;: &quot;phase1&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            },\n            {\n              &quot;name&quot;: &quot;created_at&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            }\n          ]\n        }\n      }\n    },\n    {\n      &quot;name&quot;: &quot;amount&quot;,\n      &quot;type&quot;: {\n        &quot;name&quot;: &quot;Amount&quot;,\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;default&quot;: null,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;amount&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          },\n          {\n            &quot;name&quot;: &quot;currency&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;user&quot;,\n      &quot;type&quot;: {\n        &quot;name&quot;: &quot;User&quot;,\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;default&quot;: null,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;name&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;created_at&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<h2>BQ Schema</h2>\n<pre><code>  &quot;schema&quot;: {\n    &quot;fields&quot;: [\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id1&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id2&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id3&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id4&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id5&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;reference&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id6&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;code&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;status1&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;status2&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;status3&quot;,\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;REPEATED&quot;,\n        &quot;name&quot;: &quot;status1&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;phase1&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;created_at&quot;,\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;REPEATED&quot;,\n        &quot;name&quot;: &quot;phase&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;amount&quot;,\n            &quot;type&quot;: &quot;BIGNUMERIC&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;currency&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;amount&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;name&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;user&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;created_at&quot;,\n        &quot;type&quot;: &quot;TIMESTAMP&quot;\n      }\n    ]\n  }\n</code></pre>\n<h2>Pubsub to BQ Subscription</h2>\n<p>Pubsub to BQ Subscription and created</p>\n<h2>Publishing Messages</h2>\n<p>Generated Avro classes with Java Avro Plugin and publishing messages from there.</p>\n<h2>Problem</h2>\n<p>Messages are getting persisted fine to BQ However I can't see repeated column populated properly, there are still multiple rows created for same data.\nFor e.g. phase and status is REPEATED column on BQ side and ARRAY type on AVRO side, so when I am publishing multiple messages where everything except <code>phase</code> and <code>status1</code> are same, ideally there would be one row and multiple granular rows within <code>phase</code> and <code>status1</code> but it is not happening and instead there are separate rows with duplicated data.</p>\n"},{"tags":["java","collections","foreach","java-5"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1235561966,"creation_date":1235561966,"answer_id":585659,"question_id":585654,"body_markdown":"Assuming `K` is your key type and `V` is your value type:\r\n\r\n    for (Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\r\n      K key = entry.getKey();\r\n      V value = entry.getValue();\r\n      // do stuff\r\n    }","title":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","body":"<p>Assuming <code>K</code> is your key type and <code>V</code> is your value type:</p>\n\n<pre><code>for (Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\n  K key = entry.getKey();\n  V value = entry.getValue();\n  // do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20963346,"reputation":51,"user_id":15402266,"display_name":"user123123"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696866246,"creation_date":1691415394,"answer_id":76852272,"question_id":585654,"body_markdown":"While [Joachim Sauer](https://stackoverflow.com/a/585659/42473) is correct for Java 5, there is a simpler option available starting at Java 10:\r\n\r\n    for (var entry : map.entrySet()) {\r\n        // Do something with entry.getKey() and entry.getValue();\r\n    }\r\n\r\nand Java 8 introduced:\r\n\r\n    map.forEach((k, v) -&gt; {\r\n        // Do something with k, v\r\n    });","title":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","body":"<p>While <a href=\"https://stackoverflow.com/a/585659/42473\">Joachim Sauer</a> is correct for Java 5, there is a simpler option available starting at Java 10:</p>\n<pre><code>for (var entry : map.entrySet()) {\n    // Do something with entry.getKey() and entry.getValue();\n}\n</code></pre>\n<p>and Java 8 introduced:</p>\n<pre><code>map.forEach((k, v) -&gt; {\n    // Do something with k, v\n});\n</code></pre>\n"}],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30776,"favorite_count":0,"down_vote_count":2,"up_vote_count":38,"accepted_answer_id":585659,"answer_count":2,"score":36,"last_activity_date":1696866246,"creation_date":1235561806,"question_id":585654,"body_markdown":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","title":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","body":"<p>What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?</p>\n"},{"tags":["java","spring-boot","spring-batch","spring-annotations"],"comments":[{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1539713822,"post_id":52841620,"comment_id":92599219,"body_markdown":"can you add the code for InputItemReader ?","body":"can you add the code for InputItemReader ?"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1539713922,"post_id":52841620,"comment_id":92599279,"body_markdown":"This may help: https://stackoverflow.com/questions/51064214/parameter-0-of-constructor-in-com-din-oss-required-a-bean-of-type-java-lang-str","body":"This may help: <a href=\"https://stackoverflow.com/questions/51064214/parameter-0-of-constructor-in-com-din-oss-required-a-bean-of-type-java-lang-str\" title=\"parameter 0 of constructor in com din oss required a bean of type java lang str\">stackoverflow.com/questions/51064214/&hellip;</a>"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1539713950,"post_id":52841620,"comment_id":92599302,"body_markdown":"there are some articles with similar error messages: https://stackoverflow.com/questions/44058210/caused-by-nosuchbeandefinitionexception-no-qualifying-bean-of-type-xxx-expecte","body":"there are some articles with similar error messages: <a href=\"https://stackoverflow.com/questions/44058210/caused-by-nosuchbeandefinitionexception-no-qualifying-bean-of-type-xxx-expecte\" title=\"caused by nosuchbeandefinitionexception no qualifying bean of type xxx expecte\">stackoverflow.com/questions/44058210/&hellip;</a>"},{"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"score":0,"creation_date":1621480724,"post_id":52841620,"comment_id":119510269,"body_markdown":"With Lombok we can use @NoArgsConstructor annotation.","body":"With Lombok we can use @NoArgsConstructor annotation."},{"owner":{"account_id":6546591,"reputation":1,"user_id":5062407,"display_name":"Marco-Polo"},"score":0,"creation_date":1627101435,"post_id":52841620,"comment_id":121074715,"body_markdown":"This might be so funny, but make sure your &quot;spring stereotypes&quot; imports are spring imports and not from other packages! Happy coding..","body":"This might be so funny, but make sure your &quot;spring stereotypes&quot; imports are spring imports and not from other packages! Happy coding.."},{"owner":{"account_id":3557255,"reputation":5204,"user_id":2970705,"display_name":"JavAlex"},"score":0,"creation_date":1656492187,"post_id":52841620,"comment_id":128583386,"body_markdown":"In my case, the problem was the package structure. The ComponentScan did not find the other class.","body":"In my case, the problem was the package structure. The ComponentScan did not find the other class."}],"answers":[{"tags":[],"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1539717402,"creation_date":1539714286,"answer_id":52841800,"question_id":52841620,"body_markdown":"You defined something like this:\r\n\r\n    @Component\r\n    public class InputItemReader{\r\n\r\n       public InputItemReader(String input){\r\n         ...\r\n       }\r\n    }\r\nThe name of your class suggest that your object is not a bean, just a simple object. You should try to use it in classic way:    \r\n    \r\n    new InputItemReader(myString);\r\nor to have a static method to process the input String.\r\n\r\nExplanation: Spring IoC container will try to instantiate a new InputItemReader object like this : \r\n    \r\n    new InputItemReader( -- WHAT TO PUT HERE? --) \r\nand will fail to call your constructor, because it will not know what you do actually expect and input string.\r\n\r\nUPDATE:\r\n   Your problem can be solved by removing @Component annotation and defining the bean in a configuration like this:\r\n\r\n\t@Bean\r\n\tpublic InputItemReader inputItemReader(InputFileHeaderValidator inputFileHeaderValidator, FileAuditService fileAuditService){\r\n\t\tInputItemReader inputItemReader = new InputItemReader(&quot;--HERE SHOULD BE ACTUAL PATH---&quot;);\r\n\t\t// set the required service, a cleaner approach would be to send them via constructor\r\n\t\tinputItemReader.setFilteAuditService(fileAuditService);\r\n\t\tinputItemReader.setInputFileHeaderValidator(inputFileHeaderValidator);\r\n\t\treturn inputItemReader;\r\n\t}","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>You defined something like this:</p>\n\n<pre><code>@Component\npublic class InputItemReader{\n\n   public InputItemReader(String input){\n     ...\n   }\n}\n</code></pre>\n\n<p>The name of your class suggest that your object is not a bean, just a simple object. You should try to use it in classic way:    </p>\n\n<pre><code>new InputItemReader(myString);\n</code></pre>\n\n<p>or to have a static method to process the input String.</p>\n\n<p>Explanation: Spring IoC container will try to instantiate a new InputItemReader object like this : </p>\n\n<pre><code>new InputItemReader( -- WHAT TO PUT HERE? --) \n</code></pre>\n\n<p>and will fail to call your constructor, because it will not know what you do actually expect and input string.</p>\n\n<p>UPDATE:\n   Your problem can be solved by removing @Component annotation and defining the bean in a configuration like this:</p>\n\n<pre><code>@Bean\npublic InputItemReader inputItemReader(InputFileHeaderValidator inputFileHeaderValidator, FileAuditService fileAuditService){\n    InputItemReader inputItemReader = new InputItemReader(\"--HERE SHOULD BE ACTUAL PATH---\");\n    // set the required service, a cleaner approach would be to send them via constructor\n    inputItemReader.setFilteAuditService(fileAuditService);\n    inputItemReader.setInputFileHeaderValidator(inputFileHeaderValidator);\n    return inputItemReader;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9482930,"reputation":825,"user_id":7050229,"display_name":"schoener"},"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1540824544,"creation_date":1539719784,"answer_id":52843150,"question_id":52841620,"body_markdown":"Since you do not provide the public default constructor and you added your own non-default constructor the instantiation will fail. I would suggest you to define the input file path as property like `@Value(&quot;${inputFilePath}&quot;)`. \r\nIf you need further initialization in your bean define a void method and annotate it with `@PostConstruct` and do the initialization within.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Since you do not provide the public default constructor and you added your own non-default constructor the instantiation will fail. I would suggest you to define the input file path as property like <code>@Value(\"${inputFilePath}\")</code>. \nIf you need further initialization in your bean define a void method and annotate it with <code>@PostConstruct</code> and do the initialization within.</p>\n"},{"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1556349205,"creation_date":1556349205,"answer_id":55878193,"question_id":52841620,"body_markdown":"Add a ***public default constructor*** in your class. For example.\r\n\r\n \r\n\r\n    public User() {\r\n\t}","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Add a <strong><em>public default constructor</em></strong> in your class. For example.</p>\n\n<pre><code>public User() {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8483869,"reputation":1103,"user_id":6362774,"display_name":"Riccardo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579623270,"creation_date":1579623270,"answer_id":59845134,"question_id":52841620,"body_markdown":"I also had the same error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field repository in com.example.controller.CampaignController required a bean of type &#39;com.example.data.CustomerRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.example.data.CustomerRepository&#39; in your configuration.de here\r\n\r\n\r\n\r\nI solved this issue by adding `@EnableMongoRepositories` annotation in the main class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = CustomerRepository.class)\r\n    public class CampaignAPI {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CampaignAPI.class, args);\r\n        }\r\n    }","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I also had the same error:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField repository in com.example.controller.CampaignController required a bean of type 'com.example.data.CustomerRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.data.CustomerRepository' in your configuration.de here\n</code></pre>\n\n<p>I solved this issue by adding <code>@EnableMongoRepositories</code> annotation in the main class:</p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = CustomerRepository.class)\npublic class CampaignAPI {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CampaignAPI.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9478939,"reputation":385,"user_id":7047517,"display_name":"Kailas010"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1696865906,"creation_date":1580060362,"answer_id":59920978,"question_id":52841620,"body_markdown":"Make sure you are using **spring-boot-starter-data-jpa**       \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Make sure you are using <strong>spring-boot-starter-data-jpa</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2608731,"reputation":647,"user_id":2259300,"display_name":"hernanemartinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866009,"creation_date":1584999138,"answer_id":60821829,"question_id":52841620,"body_markdown":"In my case, the issue was way different.\r\n\r\n    @SpringBootApplication\r\n    @EnableNeo4jRepositories(&quot;com.digital.api.repositories&quot;) // &lt;-- This was non-existent.\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nLook at the @EnableNeo4jRepositories annotation. The package defined, was non-existent.\r\nTry defining that package, and be careful that the Repository interfaces are based there.\r\nOtherwise, Spring will not find the repositories classes that it should load up!","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case, the issue was way different.</p>\n<pre><code>@SpringBootApplication\n@EnableNeo4jRepositories(&quot;com.digital.api.repositories&quot;) // &lt;-- This was non-existent.\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Look at the @EnableNeo4jRepositories annotation. The package defined, was non-existent.\nTry defining that package, and be careful that the Repository interfaces are based there.\nOtherwise, Spring will not find the repositories classes that it should load up!</p>\n"},{"tags":[],"owner":{"account_id":7764536,"reputation":332,"user_id":5876113,"display_name":"Kapil Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596723919,"creation_date":1596723919,"answer_id":63285727,"question_id":52841620,"body_markdown":"The issue in my case was a redundant @Autowired, \r\nI initially added a dependency using @Autowired, by eventually commented it out, however I forgot to comment the annotation, due to which the method next to @Autowired was considered as some sort of setter.\r\n\r\nOn removing the redundant annotation it is working fine.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>The issue in my case was a redundant @Autowired,\nI initially added a dependency using @Autowired, by eventually commented it out, however I forgot to comment the annotation, due to which the method next to @Autowired was considered as some sort of setter.</p>\n<p>On removing the redundant annotation it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":4000716,"reputation":1631,"user_id":3296815,"display_name":"Vaibhav Sharma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685320606,"creation_date":1603722688,"answer_id":64539143,"question_id":52841620,"body_markdown":"I was also having the same problem, for me following solution worked perfectly fine:\r\n\r\nI had annotated my class as `@AllArgsConstructor` by importing `import lombok.AllArgsConstructor`\r\n\r\nI had just removed this annotation and the code starts working.\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I was also having the same problem, for me following solution worked perfectly fine:</p>\n<p>I had annotated my class as <code>@AllArgsConstructor</code> by importing <code>import lombok.AllArgsConstructor</code></p>\n<p>I had just removed this annotation and the code starts working.</p>\n"},{"tags":[],"owner":{"account_id":8347580,"reputation":887,"user_id":6270828,"display_name":"ash das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866000,"creation_date":1606387671,"answer_id":65020509,"question_id":52841620,"body_markdown":"I was facing the same issue and it got fixed by removing Constructors from my Model class. Adding sample snippet below:\r\n\r\n\t\r\n\r\n    Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper = new HashMap&lt;&gt;();\r\n    \tA def;\r\n    \tB serviceCharacter;\r\n    \r\n    \t@Autowired\r\n    \tpublic Scan(Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper, A def,\r\n    \t\t\tB serviceCharacter) {\r\n    \t\tsuper();\r\n    \t\tthis.serviceDefinitionMapper = serviceDefinitionMapper;\r\n    \t\tthis.def = def;\r\n    \t\tthis.serviceCharacter = serviceCharacter;\r\n    \t}\r\n\r\nPlease Note: Do not keep any Constructor/@AllArgsConstructor in your Model class unless it is very much needed to be declared. \r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I was facing the same issue and it got fixed by removing Constructors from my Model class. Adding sample snippet below:</p>\n<pre><code>Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper = new HashMap&lt;&gt;();\n    A def;\n    B serviceCharacter;\n\n    @Autowired\n    public Scan(Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper, A def,\n            B serviceCharacter) {\n        super();\n        this.serviceDefinitionMapper = serviceDefinitionMapper;\n        this.def = def;\n        this.serviceCharacter = serviceCharacter;\n    }\n</code></pre>\n<p>Please Note: Do not keep any Constructor/@AllArgsConstructor in your Model class unless it is very much needed to be declared.</p>\n"},{"tags":[],"owner":{"account_id":15684139,"reputation":61,"user_id":11317317,"display_name":"Julien Nowak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608562979,"creation_date":1608562979,"answer_id":65395093,"question_id":52841620,"body_markdown":"I had the same error but the error was generated by **Feign Client**. If you have this error using feign client you must add `@EnableFeignClients` on your main class: \r\n\r\n    @SpringCloudApplication\r\n    @EnableFeignClients\r\n    public class Application {\r\n    ...\r\n    }","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I had the same error but the error was generated by <strong>Feign Client</strong>. If you have this error using feign client you must add <code>@EnableFeignClients</code> on your main class:</p>\n<pre><code>@SpringCloudApplication\n@EnableFeignClients\npublic class Application {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21606261,"reputation":21,"user_id":15933658,"display_name":"Deeksha Cheruku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622799574,"creation_date":1622799262,"answer_id":67834929,"question_id":52841620,"body_markdown":"Even after following the above solutions, if the problem still exists then please check your import statements.\r\n\r\nIn my case it was the wrong import of @service annotation.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Even after following the above solutions, if the problem still exists then please check your import statements.</p>\n<p>In my case it was the wrong import of @service annotation.</p>\n"},{"tags":[],"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625213547,"creation_date":1625213547,"answer_id":68221785,"question_id":52841620,"body_markdown":"In my case annotating fields with lombok `@NonNull` was causing the trouble.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case annotating fields with lombok <code>@NonNull</code> was causing the trouble.</p>\n"},{"tags":[],"owner":{"account_id":19565818,"reputation":21,"user_id":14317996,"display_name":"Aadlani Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630411827,"creation_date":1630411827,"answer_id":68998447,"question_id":52841620,"body_markdown":"  &gt; **import lombok.RequiredArgsConstructor;** \r\n\r\n  &gt; **import lombok.extern.slf4j.Slf4j;**\r\n\r\n    \r\n    @Service\r\n        @RequiredArgsConstructor\r\n        @Transactional\r\n        @Slf4j\r\n        public class UserServiceImp implements UserService, UserDetailsService {\r\n        ....\r\n        }","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<blockquote>\n<p><strong>import lombok.RequiredArgsConstructor;</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>import lombok.extern.slf4j.Slf4j;</strong></p>\n</blockquote>\n<pre><code>@Service\n    @RequiredArgsConstructor\n    @Transactional\n    @Slf4j\n    public class UserServiceImp implements UserService, UserDetailsService {\n    ....\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5638871,"reputation":331,"user_id":4463466,"display_name":"Payam Soudachi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1636902158,"creation_date":1636902158,"answer_id":69964254,"question_id":52841620,"body_markdown":"For me, it was because of using @AllArgsConstructor annotation of the lombok. My code was like this:\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class SampleService {\r\n    \r\n    \t@Value(&quot;${search.page.size}&quot;)\r\n    \tprivate Integer pageSize;\r\n    \r\n    \tprivate final SampleRepository sampleRepository;\r\n\r\n\r\nAnd then, I removed @AllArgsConstructor and added @RequiredArgsConstructor annotation. The problem was solved.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SampleService {\r\n    \r\n    \t@Value(&quot;${search.page.size}&quot;)\r\n    \tprivate Integer pageSize;\r\n    \r\n    \tprivate final BatchRepository batchRepository;","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>For me, it was because of using @AllArgsConstructor annotation of the lombok. My code was like this:</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class SampleService {\n\n    @Value(&quot;${search.page.size}&quot;)\n    private Integer pageSize;\n\n    private final SampleRepository sampleRepository;\n</code></pre>\n<p>And then, I removed @AllArgsConstructor and added @RequiredArgsConstructor annotation. The problem was solved.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SampleService {\n\n    @Value(&quot;${search.page.size}&quot;)\n    private Integer pageSize;\n\n    private final BatchRepository batchRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20448840,"reputation":1,"user_id":15003999,"display_name":"onosj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645105928,"creation_date":1645105928,"answer_id":71159416,"question_id":52841620,"body_markdown":"I faced same issue but with my own created interface repository that could not be found. The answer for me was that Spring 2.6.3 has bugs with Java 8. After i switched java to 11 version everything goes correct.\r\n\r\nMore info about this kind of problems i found here https://github.com/spring-projects/spring-boot/issues/6987","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I faced same issue but with my own created interface repository that could not be found. The answer for me was that Spring 2.6.3 has bugs with Java 8. After i switched java to 11 version everything goes correct.</p>\n<p>More info about this kind of problems i found here <a href=\"https://github.com/spring-projects/spring-boot/issues/6987\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/6987</a></p>\n"},{"tags":[],"owner":{"account_id":7660765,"reputation":31,"user_id":5806135,"display_name":"Usama Iqbal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696865937,"creation_date":1645620399,"answer_id":71237208,"question_id":52841620,"body_markdown":"In my case I missed the @Service annotation so once I placed it works.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case I missed the @Service annotation so once I placed it works.</p>\n"},{"tags":[],"owner":{"account_id":21100465,"reputation":9,"user_id":15510459,"display_name":"Karim Baggari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866042,"creation_date":1647367585,"answer_id":71487008,"question_id":52841620,"body_markdown":"In my case I had this problem but it was because of I added an annotation of ```@Component``` in my Exception code which I shouldn&#39;t because we don&#39;t want it to be scanned really we&#39;re just using it to handle an exception in our service or I don&#39;t know try to delete the annotation in your built-in exception. \r\n\r\nWorked on my machine.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case I had this problem but it was because of I added an annotation of <code>@Component</code> in my Exception code which I shouldn't because we don't want it to be scanned really we're just using it to handle an exception in our service or I don't know try to delete the annotation in your built-in exception.</p>\n<p>Worked on my machine.</p>\n"},{"tags":[],"owner":{"account_id":24964451,"reputation":1,"user_id":18828119,"display_name":"Liubomyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650133441,"creation_date":1650133441,"answer_id":71896432,"question_id":52841620,"body_markdown":"I had this problem while testing with JUnit. It was that I forgot to create @MockBean annotation, that&#39;s why the bean was missing.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I had this problem while testing with JUnit. It was that I forgot to create @MockBean annotation, that's why the bean was missing.</p>\n"},{"tags":[],"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656954942,"creation_date":1656954942,"answer_id":72860136,"question_id":52841620,"body_markdown":"Not related to the above issue but if you have the same error of bean creation in a spring boot application and you are getting the same above error please check whether you have added the class path in @ComponentScan( of the main spring booth application launching class.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Not related to the above issue but if you have the same error of bean creation in a spring boot application and you are getting the same above error please check whether you have added the class path in @ComponentScan( of the main spring booth application launching class.</p>\n"},{"tags":[],"owner":{"account_id":10243930,"reputation":97,"user_id":7560349,"display_name":"Jdslk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668942337,"creation_date":1668942337,"answer_id":74507530,"question_id":52841620,"body_markdown":"For it to work I had to add this ```@RequiredArgsConstructor``` annotation to my class, and then added this ```@Value(&quot;${inputFilePath}&quot;)``` annotation to access the variable. See below:\r\n\r\n```\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \r\n     Object&gt;&gt; implements StepExecutionListener {\r\n\r\n        @Value(&quot;${inputFilePath}&quot;)\r\n        private inputFilePath;\r\n\r\n\r\n        //...\r\n\r\n    }\r\n```","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>For it to work I had to add this <code>@RequiredArgsConstructor</code> annotation to my class, and then added this <code>@Value(&quot;${inputFilePath}&quot;)</code> annotation to access the variable. See below:</p>\n<pre><code>    @Component\n    @RequiredArgsConstructor\n    public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \n     Object&gt;&gt; implements StepExecutionListener {\n\n        @Value(&quot;${inputFilePath}&quot;)\n        private inputFilePath;\n\n\n        //...\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225964,"reputation":11,"user_id":2722345,"display_name":"user2722345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675704463,"creation_date":1675704463,"answer_id":75364628,"question_id":52841620,"body_markdown":"In my case, removing the @EnableJpaRepositories annotation from my config fixed the issue. The repositories are still wired correctly.\r\n\r\nBefore:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories\r\n    @EnableJpaAuditing\r\n    public class PersistenceConfig {\r\n\r\nAfter:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaAuditing\r\n    public class PersistenceConfig {","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case, removing the @EnableJpaRepositories annotation from my config fixed the issue. The repositories are still wired correctly.</p>\n<p>Before:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories\n@EnableJpaAuditing\npublic class PersistenceConfig {\n</code></pre>\n<p>After:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaAuditing\npublic class PersistenceConfig {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27914025,"reputation":1,"user_id":21315550,"display_name":"Grant Dennany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865983,"creation_date":1677796568,"answer_id":75621474,"question_id":52841620,"body_markdown":"Adding to the &quot;services&quot; block of my application-default.yml &amp; application-kubernetes.yml fixed the issue for me.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Adding to the &quot;services&quot; block of my application-default.yml &amp; application-kubernetes.yml fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":11219359,"reputation":55,"user_id":8230968,"display_name":"Natnael Sisay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681217939,"creation_date":1681217939,"answer_id":75986177,"question_id":52841620,"body_markdown":"Check if the `application.properties` file is written correctly.\r\n\r\nFor some reason my application was `spring.profiles.on=test` in the `application.properties` file.\r\n\r\nWhen i change it to the proper value of `spring.profiles.active=test` it worked.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Check if the <code>application.properties</code> file is written correctly.</p>\n<p>For some reason my application was <code>spring.profiles.on=test</code> in the <code>application.properties</code> file.</p>\n<p>When i change it to the proper value of <code>spring.profiles.active=test</code> it worked.</p>\n"},{"tags":[],"owner":{"account_id":28244020,"reputation":1,"user_id":21591362,"display_name":"Sagar Nimbalkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683120762,"creation_date":1683120762,"answer_id":76164476,"question_id":52841620,"body_markdown":"Generate Constructor from Superclass. It worked for me.\r\n\r\ne.g.\r\n\r\n    public UserModel() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Generate Constructor from Superclass. It worked for me.</p>\n<p>e.g.</p>\n<pre><code>public UserModel() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28599422,"reputation":1,"user_id":21896734,"display_name":"PatientlyExpert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684071336,"creation_date":1684071336,"answer_id":76247746,"question_id":52841620,"body_markdown":"If you want to add beans to your context that are defined in some external library then use `@Import` annotation and pass the class file name/bean name.\r\nAdd `@Import` to your main configuration file having `@SpringBootApplication` annotation\r\n\r\nRef : https://www.baeldung.com/spring-import-annotation","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>If you want to add beans to your context that are defined in some external library then use <code>@Import</code> annotation and pass the class file name/bean name.\nAdd <code>@Import</code> to your main configuration file having <code>@SpringBootApplication</code> annotation</p>\n<p>Ref : <a href=\"https://www.baeldung.com/spring-import-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-import-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":28697164,"reputation":1,"user_id":21975143,"display_name":"Nguyễn Đức Khải"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685286894,"creation_date":1685286894,"answer_id":76352167,"question_id":52841620,"body_markdown":"Use:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Use:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28785845,"reputation":11,"user_id":22046326,"display_name":"Premchandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694693527,"creation_date":1694693527,"answer_id":77104761,"question_id":52841620,"body_markdown":"This issue will also occurs when by mistake method is @Autowired in place of @Override but this is a rare case.\r\n\r\nGeneral Case:\r\n1. Missing Bean Definition (Service or any component should be anotated properly)\r\n2. Component Scan Make sure that the package containing your class is included in Spring&#39;s component scan.\r\n3. Bean Configuration: Verify that you have a bean definition (for Instance you are trying to autowire) in your Spring configuration.\r\n4. @Autowired Annotation: Ensure that the @Autowired annotation is correctly used.\r\n\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>This issue will also occurs when by mistake method is @Autowired in place of @Override but this is a rare case.</p>\n<p>General Case:</p>\n<ol>\n<li>Missing Bean Definition (Service or any component should be anotated properly)</li>\n<li>Component Scan Make sure that the package containing your class is included in Spring's component scan.</li>\n<li>Bean Configuration: Verify that you have a bean definition (for Instance you are trying to autowire) in your Spring configuration.</li>\n<li>@Autowired Annotation: Ensure that the @Autowired annotation is correctly used.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27778856,"reputation":1,"user_id":21207603,"display_name":"Tarun tej Daroori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696076884,"creation_date":1696016689,"answer_id":77204461,"question_id":52841620,"body_markdown":"This issue occurred when using spring boot 3.\r\n\r\nI used below dependency for sql connecto.\r\nReplaced javax with Jakarta for @Table and @Entity. This resolved my issue.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;version&gt;8.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>This issue occurred when using spring boot 3.</p>\n<p>I used below dependency for sql connecto.\nReplaced javax with Jakarta for @Table and @Entity. This resolved my issue.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15245376,"reputation":667,"user_id":11000382,"display_name":"Enis Arik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696854218,"creation_date":1696854218,"answer_id":77258812,"question_id":52841620,"body_markdown":"In my case, I had to use `RequiredArgsContructor` annotation and removed `final` keyword for the variable **blobContainerName**. In the end, it looks like this.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AzureStorageServiceImpl implements StorageService {\r\n  \r\n        @Value(&quot;${spring.cloud.azure.storage.blob.container-name}&quot;)\r\n        private String blobContainerName;","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case, I had to use <code>RequiredArgsContructor</code> annotation and removed <code>final</code> keyword for the variable <strong>blobContainerName</strong>. In the end, it looks like this.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class AzureStorageServiceImpl implements StorageService {\n\n    @Value(&quot;${spring.cloud.azure.storage.blob.container-name}&quot;)\n    private String blobContainerName;\n</code></pre>\n"}],"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341075,"favorite_count":0,"down_vote_count":2,"up_vote_count":79,"accepted_answer_id":52843150,"answer_count":29,"score":77,"last_activity_date":1696866042,"creation_date":1539713622,"question_id":52841620,"body_markdown":"I am working on spring batch with spring boot 2.X application, actually its existing code i am checked out from git. While running the application it fails due to below error only for me and same code is working for others.\r\n\r\n    s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inputItemReader&#39; defined in file [C:\\Users\\XYZ\\git\\main\\batch\\CBatchProcessing\\target\\classes\\com\\main\\batchprocessing\\batch\\reader\\InputItemReader.class]: Unsatisfied dependency expressed through **constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations**: {}\r\n    \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-10-16 23:23:37.411 ERROR 2384 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    **Parameter 0 of constructor in com.main.batchprocessing.batch.reader.InputItemReader required a bean of type &#39;java.lang.String&#39; that could not be found.**\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n\r\nI have checked below \r\n\r\n1. All Spring components are correctly annotated with @Component, @Service, @Controller,@Repository, etc...\r\n2. @ComponentScan &amp; @EnableAutoCOnfiguration is also provided.\r\n3. Tried giving &quot;java.lang.String&quot; in declarations.\r\n\r\nCode:\r\n\r\n        import java.util.Map;\r\n        import org.slf4j.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        import org.springframework.batch.core.ExitStatus;\r\n        import org.springframework.batch.core.StepExecution;\r\n        import org.springframework.batch.core.StepExecutionListener;\r\n        import org.springframework.batch.item.file.FlatFileItemReader;\r\n        import org.springframework.batch.item.file.mapping.JsonLineMapper;\r\n        import \r\n        org.springframework.batch.item.file.separator.JsonRecordSeparatorPolicy;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.core.io.FileSystemResource;\r\n        import org.springframework.stereotype.Component;\r\n    \r\n        @Component\r\n        public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \r\n         Object&gt;&gt; implements StepExecutionListener {\r\n    \r\n    \t@Autowired\r\n    \tprivate InputFileHeaderValidator inputFileHeaderValidator; \r\n    \r\n    \t@Autowired\r\n    \tprivate FileAuditService fileAuditService;\r\n    \r\n    \tprivate final Logger log = \r\n        LoggerFactory.getLogger(InputItemReader.class);\r\n    \t\r\n    \tprivate java.lang.String inputFilePath;\r\n     \r\n    \tpublic InputItemReader(String inputFilePath) {\r\n    \t\tsetLineMapper(new JsonLineMapper());\r\n    \t\tsetRecordSeparatorPolicy(new JsonRecordSeparatorPolicy());\r\n    \t\tsetResource(new FileSystemResource(inputFilePath));\r\n    \t\tthis.inputFilePath = inputFilePath;\r\n    \t}\r\n       }\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I am working on spring batch with spring boot 2.X application, actually its existing code i am checked out from git. While running the application it fails due to below error only for me and same code is working for others.</p>\n\n<pre><code>s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inputItemReader' defined in file [C:\\Users\\XYZ\\git\\main\\batch\\CBatchProcessing\\target\\classes\\com\\main\\batchprocessing\\batch\\reader\\InputItemReader.class]: Unsatisfied dependency expressed through **constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations**: {}\n\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-10-16 23:23:37.411 ERROR 2384 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\n**Parameter 0 of constructor in com.main.batchprocessing.batch.reader.InputItemReader required a bean of type 'java.lang.String' that could not be found.**\n\n\nAction:\n\nConsider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n\n<p>I have checked below </p>\n\n<ol>\n<li>All Spring components are correctly annotated with @Component, @Service, @Controller,@Repository, etc...</li>\n<li>@ComponentScan &amp; @EnableAutoCOnfiguration is also provided.</li>\n<li>Tried giving \"java.lang.String\" in declarations.</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>    import java.util.Map;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.batch.core.ExitStatus;\n    import org.springframework.batch.core.StepExecution;\n    import org.springframework.batch.core.StepExecutionListener;\n    import org.springframework.batch.item.file.FlatFileItemReader;\n    import org.springframework.batch.item.file.mapping.JsonLineMapper;\n    import \n    org.springframework.batch.item.file.separator.JsonRecordSeparatorPolicy;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.core.io.FileSystemResource;\n    import org.springframework.stereotype.Component;\n\n    @Component\n    public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \n     Object&gt;&gt; implements StepExecutionListener {\n\n    @Autowired\n    private InputFileHeaderValidator inputFileHeaderValidator; \n\n    @Autowired\n    private FileAuditService fileAuditService;\n\n    private final Logger log = \n    LoggerFactory.getLogger(InputItemReader.class);\n\n    private java.lang.String inputFilePath;\n\n    public InputItemReader(String inputFilePath) {\n        setLineMapper(new JsonLineMapper());\n        setRecordSeparatorPolicy(new JsonRecordSeparatorPolicy());\n        setResource(new FileSystemResource(inputFilePath));\n        this.inputFilePath = inputFilePath;\n    }\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","springdoc","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":16689839,"reputation":557,"user_id":12062831,"display_name":"gsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652480031,"creation_date":1652480031,"answer_id":72235864,"question_id":72235752,"body_markdown":"Consider migration to [springdoc][1]\r\n\r\nMigration is such a smooth process and it is unlikely that you encounter bugs like [that][2].\r\n\r\n\r\n  [1]: https://springdoc.org/#migrating-from-springfox\r\n  [2]: https://github.com/springfox/springfox/issues/3462","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>Consider migration to <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">springdoc</a></p>\n<p>Migration is such a smooth process and it is unlikely that you encounter bugs like <a href=\"https://github.com/springfox/springfox/issues/3462\" rel=\"nofollow noreferrer\">that</a>.</p>\n"},{"tags":[],"owner":{"account_id":10071285,"reputation":2543,"user_id":7444762,"display_name":"Lyncean Patel"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1687765401,"creation_date":1655488295,"answer_id":72663117,"question_id":72235752,"body_markdown":"This problem is caused by the new PathPatternParser introduced in Spring Boot 2.6.\r\nThere are two ways to resolve:\r\n\r\nAs suggested by @gsan in the comment, add following in your `application.yml` or `application.properties`:\r\n   \r\n\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\nOR\r\n\r\nAdd the following bean in your config class:\r\n\r\n```\r\nimport org.springframework.boot.actuate.autoconfigure.endpoint.web.CorsEndpointProperties;\r\nimport org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointProperties;\r\nimport org.springframework.boot.actuate.autoconfigure.web.server.ManagementPortType;\r\nimport org.springframework.boot.actuate.endpoint.ExposableEndpoint;\r\nimport org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver;\r\nimport org.springframework.boot.actuate.endpoint.web.EndpointMapping;\r\nimport org.springframework.boot.actuate.endpoint.web.EndpointMediaTypes;\r\nimport org.springframework.boot.actuate.endpoint.web.ExposableWebEndpoint;\r\nimport org.springframework.boot.actuate.endpoint.web.WebEndpointsSupplier;\r\nimport org.springframework.boot.actuate.endpoint.web.annotation.ControllerEndpointsSupplier;\r\nimport org.springframework.boot.actuate.endpoint.web.annotation.ServletEndpointsSupplier;\r\nimport org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.util.StringUtils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Bean\r\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\r\n        ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\r\n        EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\r\n        WebEndpointProperties webEndpointProperties, Environment environment) {\r\n    List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\r\n    Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n    allEndpoints.addAll(webEndpoints);\r\n    allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n    allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n    String basePath = webEndpointProperties.getBasePath();\r\n    EndpointMapping endpointMapping = new EndpointMapping(basePath);\r\n    boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment,\r\n            basePath);\r\n    return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\r\n            corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath),\r\n            shouldRegisterLinksMapping, null);\r\n}\r\n\r\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment,\r\n        String basePath) {\r\n    return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath)\r\n        || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\r\n}\r\n```\r\n\r\n Reference: [Spring Boot 2.6 + Swagger startup exception: because &quot;this.condition&quot; is null][1]\r\n\r\n\r\n  [1]: https://www.springcloud.io/post/2022-05/springboot-swagger/#gsc.tab=0","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>This problem is caused by the new PathPatternParser introduced in Spring Boot 2.6.\nThere are two ways to resolve:</p>\n<p>As suggested by @gsan in the comment, add following in your <code>application.yml</code> or <code>application.properties</code>:</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>OR</p>\n<p>Add the following bean in your config class:</p>\n<pre><code>import org.springframework.boot.actuate.autoconfigure.endpoint.web.CorsEndpointProperties;\nimport org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointProperties;\nimport org.springframework.boot.actuate.autoconfigure.web.server.ManagementPortType;\nimport org.springframework.boot.actuate.endpoint.ExposableEndpoint;\nimport org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver;\nimport org.springframework.boot.actuate.endpoint.web.EndpointMapping;\nimport org.springframework.boot.actuate.endpoint.web.EndpointMediaTypes;\nimport org.springframework.boot.actuate.endpoint.web.ExposableWebEndpoint;\nimport org.springframework.boot.actuate.endpoint.web.WebEndpointsSupplier;\nimport org.springframework.boot.actuate.endpoint.web.annotation.ControllerEndpointsSupplier;\nimport org.springframework.boot.actuate.endpoint.web.annotation.ServletEndpointsSupplier;\nimport org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.util.StringUtils;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\n@Bean\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\n        ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\n        EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\n        WebEndpointProperties webEndpointProperties, Environment environment) {\n    List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\n    Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n    allEndpoints.addAll(webEndpoints);\n    allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n    allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n    String basePath = webEndpointProperties.getBasePath();\n    EndpointMapping endpointMapping = new EndpointMapping(basePath);\n    boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment,\n            basePath);\n    return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\n            corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath),\n            shouldRegisterLinksMapping, null);\n}\n\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment,\n        String basePath) {\n    return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath)\n        || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.springcloud.io/post/2022-05/springboot-swagger/#gsc.tab=0\" rel=\"noreferrer\">Spring Boot 2.6 + Swagger startup exception: because &quot;this.condition&quot; is null</a></p>\n"},{"tags":[],"owner":{"account_id":13897490,"reputation":21,"user_id":10033929,"display_name":"Max Sampaoli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663354301,"creation_date":1663353853,"answer_id":73749122,"question_id":72235752,"body_markdown":"I had the same issue and it worked by adding configuration in `application.yml` AND creating the bean in my `SwaggerConfig` class.\r\n\r\n - Springboot 2.7.3 \r\n - Java 17 \r\n - springfox-boot-starter 3.0.0\r\n\r\nWhen using springdoc-openapi-ui 1.6.11 you only need to add the `application.yml` configuration, as suggested by @Lyncean Patel.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I had the same issue and it worked by adding configuration in <code>application.yml</code> AND creating the bean in my <code>SwaggerConfig</code> class.</p>\n<ul>\n<li>Springboot 2.7.3</li>\n<li>Java 17</li>\n<li>springfox-boot-starter 3.0.0</li>\n</ul>\n<p>When using springdoc-openapi-ui 1.6.11 you only need to add the <code>application.yml</code> configuration, as suggested by @Lyncean Patel.</p>\n"},{"tags":[],"owner":{"account_id":421634,"reputation":324,"user_id":4051190,"display_name":"Gabriel Jaime Sierra Rua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666646172,"creation_date":1666646172,"answer_id":74186904,"question_id":72235752,"body_markdown":"I solved all these issues by removing all springfox dependencies and adding\r\n`implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.12&#39;`to my `build.gradle` file (if you use maven add the corresponding elements) then my SecurityFilterChain bean will look like\r\n```java\r\n...\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and()\r\n                .authorizeRequests().antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                .and().authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                .and().authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;).permitAll();\r\n        return http.build();\r\n}\r\n...\r\n```\r\nNo extra dependencies or configuration is required.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I solved all these issues by removing all springfox dependencies and adding\n<code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.12'</code>to my <code>build.gradle</code> file (if you use maven add the corresponding elements) then my SecurityFilterChain bean will look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and()\n                .authorizeRequests().antMatchers(&quot;/actuator/**&quot;).permitAll()\n                .and().authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                .and().authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;).permitAll();\n        return http.build();\n}\n...\n</code></pre>\n<p>No extra dependencies or configuration is required.</p>\n"},{"tags":[],"owner":{"account_id":27176163,"reputation":11,"user_id":20712114,"display_name":"sifeng chu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670407560,"creation_date":1670407560,"answer_id":74714865,"question_id":72235752,"body_markdown":"I solved it.\r\nI used spring boot 2.6.12 and swagger3.0\r\nThis is the maven configuration：\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen you should Override WebMvcRequestHandlerProvider.java (Copy and override constructors to filter out abnormal ones) \r\n\r\n     this.handlerMappings = handlerMappings.stream().filter(mapping -&gt; mapping.getPatternParser() == null)\r\n                .collect(Collectors.toList());\r\n\r\nEverything else stays the same\r\nYou need to create a new package in your project home directory with the same name as the class ：**springfox.documentation.spring.web.plugins**\r\n\r\ngood luck！","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I solved it.\nI used spring boot 2.6.12 and swagger3.0\nThis is the maven configuration：</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>then you should Override WebMvcRequestHandlerProvider.java (Copy and override constructors to filter out abnormal ones)</p>\n<pre><code> this.handlerMappings = handlerMappings.stream().filter(mapping -&gt; mapping.getPatternParser() == null)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Everything else stays the same\nYou need to create a new package in your project home directory with the same name as the class ：<strong>springfox.documentation.spring.web.plugins</strong></p>\n<p>good luck！</p>\n"},{"tags":[],"owner":{"account_id":3716230,"reputation":17016,"user_id":3092377,"accept_rate":73,"display_name":"Shashank Vivek"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671525599,"creation_date":1671525599,"answer_id":74860389,"question_id":72235752,"body_markdown":"Well, the answer mentioned by @Lyncean Patel is not 100% correct because there is no OR in fixing this. From [this github issue discussion][1] thread, the way to fix it to do both:\r\n\r\n1. set `spring.mvc.pathmatch.matching-strategy: ant_path_matcher` in application.properties\r\n2. add this bean\r\n```\r\n@Bean\r\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\r\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\r\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n        allEndpoints.addAll(webEndpoints);\r\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n        String basePath = webEndpointProperties.getBasePath();\r\n        EndpointMapping endpointMapping = new EndpointMapping(basePath);\r\n        boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\r\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\r\n    }\r\n\r\n\r\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\r\n        return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\r\n    }\r\n\r\n```\r\n  [1]: https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>Well, the answer mentioned by @Lyncean Patel is not 100% correct because there is no OR in fixing this. From <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223\" rel=\"noreferrer\">this github issue discussion</a> thread, the way to fix it to do both:</p>\n<ol>\n<li>set <code>spring.mvc.pathmatch.matching-strategy: ant_path_matcher</code> in application.properties</li>\n<li>add this bean</li>\n</ol>\n<pre><code>@Bean\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n        allEndpoints.addAll(webEndpoints);\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n        String basePath = webEndpointProperties.getBasePath();\n        EndpointMapping endpointMapping = new EndpointMapping(basePath);\n        boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\n    }\n\n\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\n        return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27488453,"reputation":1,"user_id":20974294,"display_name":"Abhinav Parnami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673356804,"creation_date":1673356775,"answer_id":75070590,"question_id":72235752,"body_markdown":"I have used -&gt;implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;) this dependency in my kts file and there is no use of it for me, after removing\r\nthis dependency this error got resolved .\r\ndependency  : Apache Tomcat ","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I have used -&gt;implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;) this dependency in my kts file and there is no use of it for me, after removing\nthis dependency this error got resolved .\ndependency  : Apache Tomcat</p>\n"},{"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682676699,"creation_date":1682676699,"answer_id":76128554,"question_id":72235752,"body_markdown":"adding below property worked for me as well.\r\n\r\n    spring.mvc.pathmatch.matching-strategy: ant_path_matcher\r\n\r\nBut it didn&#39;t work in another project where spring-actuator dependency was present, so if you&#39;re wondering why it&#39;s not working, perhaps it&#39;s due to actuator&#39;s presence. So, I had to drop swagger.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>adding below property worked for me as well.</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy: ant_path_matcher\n</code></pre>\n<p>But it didn't work in another project where spring-actuator dependency was present, so if you're wondering why it's not working, perhaps it's due to actuator's presence. So, I had to drop swagger.</p>\n"},{"tags":[],"owner":{"account_id":29170437,"reputation":1,"user_id":22346937,"display_name":"Naveen Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691318456,"creation_date":1691318456,"answer_id":76845483,"question_id":72235752,"body_markdown":"I solved it with using spring parent &quot;version 2.6.12&quot; and swagger &quot;3.0.0&quot; version. these are maven configuration.\r\n\r\nNote: this helped you when you will face &quot;this.condition.isNull&quot; error.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I solved it with using spring parent &quot;version 2.6.12&quot; and swagger &quot;3.0.0&quot; version. these are maven configuration.</p>\n<p>Note: this helped you when you will face &quot;this.condition.isNull&quot; error.</p>\n"},{"tags":[],"owner":{"account_id":12227319,"reputation":21,"user_id":8924503,"display_name":"Ramanpreet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865904,"creation_date":1696865904,"answer_id":77260151,"question_id":72235752,"body_markdown":"Above suggested solutions works well i.e to add the bean in config class and adding the property in the application.properties or application.yml . But just to rectify the accepted value for the property added in application.properties or application.yml , should be \r\n\r\n    spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER\r\n\r\nBelow mentioned is not the accepted value .\r\n\r\n    spring.mvc.pathmatch.matching-strategy= ant_path_matcher\r\n\r\nMay be if you are wondering , why your properties file or yml file is showing error .\r\n\r\n","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>Above suggested solutions works well i.e to add the bean in config class and adding the property in the application.properties or application.yml . But just to rectify the accepted value for the property added in application.properties or application.yml , should be</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER\n</code></pre>\n<p>Below mentioned is not the accepted value .</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy= ant_path_matcher\n</code></pre>\n<p>May be if you are wondering , why your properties file or yml file is showing error .</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40539,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":10,"score":27,"last_activity_date":1696865904,"creation_date":1652478823,"question_id":72235752,"body_markdown":"I&#39;m trying to run Springdoc with Spring Boot 2.6.7.\r\n\r\nConfiguration:\r\n\r\n    @Configuration\r\n    public class SwaggerConfiguration {\r\n      \r\n      @Bean\r\n      public GroupedOpenApi publicApi() {\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;springshop-public&quot;)\r\n                .pathsToMatch(&quot;/public/**&quot;)\r\n                .build();\r\n      }\r\n    }\r\n\r\nError stack:\r\n\r\n    00:50:54.956 [main] ERROR SpringApplication[reportFailure:830] - Application run failed\r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n    \tat com.atlas.psp.AtlasRouterApplication.main(AtlasRouterApplication.java:53)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n    \tat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)\r\n    \tat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)\r\n    \tat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)\r\n    \tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473)\r\n    \tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n    \tat java.base/java.util.TimSort.sort(TimSort.java:234)\r\n    \tat java.base/java.util.Arrays.sort(Arrays.java:1307)\r\n    \tat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\r\n    \tat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)\r\n    \tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)\r\n    \tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)\r\n    \tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n    \t... 14 common frames omitted\r\n\r\n\r\nIs there some way to fix this issue?\r\n\r\n","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I'm trying to run Springdoc with Spring Boot 2.6.7.</p>\n<p>Configuration:</p>\n<pre><code>@Configuration\npublic class SwaggerConfiguration {\n  \n  @Bean\n  public GroupedOpenApi publicApi() {\n    return GroupedOpenApi.builder()\n            .group(&quot;springshop-public&quot;)\n            .pathsToMatch(&quot;/public/**&quot;)\n            .build();\n  }\n}\n</code></pre>\n<p>Error stack:</p>\n<pre><code>00:50:54.956 [main] ERROR SpringApplication[reportFailure:830] - Application run failed\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at com.atlas.psp.AtlasRouterApplication.main(AtlasRouterApplication.java:53)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n    at springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)\n    at springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)\n    at springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)\n    at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473)\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n    at java.base/java.util.TimSort.sort(TimSort.java:234)\n    at java.base/java.util.Arrays.sort(Arrays.java:1307)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1721)\n    at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n    ... 14 common frames omitted\n</code></pre>\n<p>Is there some way to fix this issue?</p>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696865051,"post_id":77260024,"comment_id":136204414,"body_markdown":"`@SuperBuilder` is designed for exactly this case. Did you read its [documentation](https://projectlombok.org/features/experimental/SuperBuilder)? If so, what error are you getting?","body":"<code>@SuperBuilder</code> is designed for exactly this case. Did you read its <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">documentation</a>? If so, what error are you getting?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696865453,"post_id":77260024,"comment_id":136204492,"body_markdown":"If the super cannot be modified, then consider using composition instead of inheritance, with manually generated getter methods.  Or manually create your own builder method.","body":"If the super cannot be modified, then consider using composition instead of inheritance, with manually generated getter methods.  Or manually create your own builder method."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1696890670,"post_id":77260024,"comment_id":136208370,"body_markdown":"Does this answer your question? [Using Lombok&#39;s @SuperBuilder concept on a class extended from a 3rd party library](https://stackoverflow.com/questions/61708752/using-lomboks-superbuilder-concept-on-a-class-extended-from-a-3rd-party-librar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61708752/using-lomboks-superbuilder-concept-on-a-class-extended-from-a-3rd-party-librar\">Using Lombok&#39;s @SuperBuilder concept on a class extended from a 3rd party library</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865695,"creation_date":1696865695,"answer_id":77260122,"question_id":77260024,"body_markdown":"From the [documentation](https://projectlombok.org/features/experimental/SuperBuilder):\r\n\r\n&gt; @SuperBuilder also works with fields from superclasses. (...) It requires that all superclasses also have the @SuperBuilder annotation.\r\n\r\nYou mentioned that you cannot change the superclass. If that class is annotated only with `@Builder`, you cannot use `@SuperBuilder` with a subclass. You&#39;ll have to migrate the parent to `@SuperBuilder` as well.\r\n\r\nAlternatively, you can use composition instead of inheritance, and include the parent class as a property instead of a superclass.","title":"Inhertance class annotated by @Builder","body":"<p>From the <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>@SuperBuilder also works with fields from superclasses. (...) It requires that all superclasses also have the @SuperBuilder annotation.</p>\n</blockquote>\n<p>You mentioned that you cannot change the superclass. If that class is annotated only with <code>@Builder</code>, you cannot use <code>@SuperBuilder</code> with a subclass. You'll have to migrate the parent to <code>@SuperBuilder</code> as well.</p>\n<p>Alternatively, you can use composition instead of inheritance, and include the parent class as a property instead of a superclass.</p>\n"}],"owner":{"account_id":10494409,"reputation":407,"user_id":7735168,"accept_rate":50,"display_name":"Sara Selim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696865695,"creation_date":1696864802,"question_id":77260024,"body_markdown":"I need to inherit a super class from a dependency that has @Builder annotation (I can&#39;t modify this class) at the same time I want my sub class to have the builder pattern. I tried to use the @builder and @SuperBuilder annotations in my subclass but both throw an error. ","title":"Inhertance class annotated by @Builder","body":"<p>I need to inherit a super class from a dependency that has @Builder annotation (I can't modify this class) at the same time I want my sub class to have the builder pattern. I tried to use the @builder and @SuperBuilder annotations in my subclass but both throw an error.</p>\n"},{"tags":["java","fonts","awt","java-8"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1433395983,"post_id":30626136,"comment_id":49336302,"body_markdown":"and what&#39;s the URL for the font? You may want to run it through TTX, and see if that throws any errors, as well as try loading it in Font Forge, which is even more finicky when it comes to telling you the font you&#39;re loading has bad values somewhere.","body":"and what&#39;s the URL for the font? You may want to run it through TTX, and see if that throws any errors, as well as try loading it in Font Forge, which is even more finicky when it comes to telling you the font you&#39;re loading has bad values somewhere."},{"owner":{"account_id":6570595,"reputation":2978,"user_id":5078765,"accept_rate":100,"display_name":"ADJenks"},"score":0,"creation_date":1624662766,"post_id":30626136,"comment_id":120428192,"body_markdown":"The openjdk blog explains this problem here: https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/","body":"The openjdk blog explains this problem here: <a href=\"https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/\" rel=\"nofollow noreferrer\">blog.adoptopenjdk.net/2021/01/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1232652,"reputation":11763,"user_id":1196906,"accept_rate":72,"display_name":"Khanetor"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1433438395,"creation_date":1433438395,"answer_id":30650244,"question_id":30626136,"body_markdown":"It turns out that this is a problem with the `openjdk-8-jre-headless` installation. This is the installation in the Docker image for java 8 JRE. I simply install `openjdk-8-jre` (without headless) and the problem goes away.\r\n\r\nIf you look at the error log, the loading of the font require awt X11, which is missing from `headless` version of JRE.","title":"Cannot load font in JRE 8","body":"<p>It turns out that this is a problem with the <code>openjdk-8-jre-headless</code> installation. This is the installation in the Docker image for java 8 JRE. I simply install <code>openjdk-8-jre</code> (without headless) and the problem goes away.</p>\n\n<p>If you look at the error log, the loading of the font require awt X11, which is missing from <code>headless</code> version of JRE.</p>\n"},{"tags":[],"owner":{"account_id":1754365,"reputation":480,"user_id":1602728,"display_name":"Rax"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469720036,"creation_date":1469720036,"answer_id":38640840,"question_id":30626136,"body_markdown":"For me this resolved issue:\r\n\r\n    apt-get install -y libfontconfig1","title":"Cannot load font in JRE 8","body":"<p>For me this resolved issue:</p>\n\n<pre><code>apt-get install -y libfontconfig1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168301,"reputation":1857,"user_id":393672,"display_name":"Vertigo"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1474384962,"creation_date":1474384008,"answer_id":39597643,"question_id":30626136,"body_markdown":"On CentOS headless JRE is missing the `fontconfig` dependency:\r\n\r\n    yum install fontconfig\r\n\r\nAlso one might need to install at least one font (`dejavu`, `liberation`, etc).","title":"Cannot load font in JRE 8","body":"<p>On CentOS headless JRE is missing the <code>fontconfig</code> dependency:</p>\n\n<pre><code>yum install fontconfig\n</code></pre>\n\n<p>Also one might need to install at least one font (<code>dejavu</code>, <code>liberation</code>, etc).</p>\n"},{"tags":[],"owner":{"account_id":362917,"reputation":630,"user_id":706360,"display_name":"leoleozhu"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1587695080,"creation_date":1511158935,"answer_id":47386099,"question_id":30626136,"body_markdown":"I get the same error with openjdk:8-jre-alpine. Switching to openjdk:8-jre helps.\r\n\r\n    --- FROM openjdk:8-jre-alpine\r\n    +++ FROM openjdk:8-jre\r\n\r\n\r\n\r\n","title":"Cannot load font in JRE 8","body":"<p>I get the same error with openjdk:8-jre-alpine. Switching to openjdk:8-jre helps.</p>\n\n<pre><code>--- FROM openjdk:8-jre-alpine\n+++ FROM openjdk:8-jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1528734180,"creation_date":1528734180,"answer_id":50802170,"question_id":30626136,"body_markdown":"We also got that error when using tomcat:8.0.38-jre8-alpine. That image is missing the fontconfig.\r\nInstead of switching to a different image you could also install the `ttf-dejavu` package.\r\n\r\n    apk add --update ttf-dejavu","title":"Cannot load font in JRE 8","body":"<p>We also got that error when using tomcat:8.0.38-jre8-alpine. That image is missing the fontconfig.\nInstead of switching to a different image you could also install the <code>ttf-dejavu</code> package.</p>\n\n<pre><code>apk add --update ttf-dejavu\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4381097,"reputation":3399,"user_id":3572733,"accept_rate":46,"display_name":"Bhagwati Malav"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1560937146,"creation_date":1560937146,"answer_id":56664613,"question_id":30626136,"body_markdown":"For alpine and openjdk : \r\nUse `RUN apk --update add fontconfig ttf-dejavu`\r\nWorked for me.","title":"Cannot load font in JRE 8","body":"<p>For alpine and openjdk : \nUse <code>RUN apk --update add fontconfig ttf-dejavu</code>\nWorked for me.</p>\n"},{"tags":[],"owner":{"account_id":12003063,"reputation":91,"user_id":8782229,"display_name":"Robinson Calder&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597803950,"creation_date":1597803950,"answer_id":63479158,"question_id":30626136,"body_markdown":"I spent days suffering with it until I saw this github thread and made the night happy. it&#39;s practically calling GraphicsEnvironment again\r\n\r\n\r\n[link here][1]\r\n\r\n\r\n  [1]: https://github.com/corretto/corretto-11/issues/124#issuecomment-675629775","title":"Cannot load font in JRE 8","body":"<p>I spent days suffering with it until I saw this github thread and made the night happy. it's practically calling GraphicsEnvironment again</p>\n<p><a href=\"https://github.com/corretto/corretto-11/issues/124#issuecomment-675629775\" rel=\"nofollow noreferrer\">link here</a></p>\n"},{"tags":[],"owner":{"account_id":3314513,"reputation":3779,"user_id":2787184,"accept_rate":65,"display_name":"2787184"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865422,"creation_date":1696856854,"answer_id":77259111,"question_id":30626136,"body_markdown":"Fonts are no longer part of JDK 11, fonts installed on host should be used now. so, you need to install and keep fontconfig in classpath. \r\n\r\nMore detail: https://stackoverflow.com/a/72452775/2787184","title":"Cannot load font in JRE 8","body":"<p>Fonts are no longer part of JDK 11, fonts installed on host should be used now. so, you need to install and keep fontconfig in classpath.</p>\n<p>More detail: <a href=\"https://stackoverflow.com/a/72452775/2787184\">https://stackoverflow.com/a/72452775/2787184</a></p>\n"}],"owner":{"account_id":1232652,"reputation":11763,"user_id":1196906,"accept_rate":72,"display_name":"Khanetor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29291,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":30650244,"answer_count":8,"score":24,"last_activity_date":1696865422,"creation_date":1433350247,"question_id":30626136,"body_markdown":"I cannot load a font from an S3 Inputstream in JRE 8. I do not have issue if a system is installed with JRE 7, JDK 7, or even JDK 8.\r\n\r\n    val fontInputStream = s3Client.getObject(bucketName, objectKey).getObjectContent\r\n    \r\n    val customFont = Font.createFont(Font.TRUETYPE_FONT, fontInputStream).deriveFont(Font.TRUETYPE_FONT, 20F)\r\n\r\nThe error that I got is\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Problem reading font data.\r\n            at java.awt.Font.createFont0(Font.java:1000)\r\n            at java.awt.Font.createFont(Font.java:877)\r\n            at Main$.delayedEndpoint$Main$1(Main.scala:31)\r\n            at Main$delayedInit$body.apply(Main.scala:11)\r\n            at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\r\n            at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.collection.immutable.List.foreach(List.scala:381)\r\n            at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\r\n            at scala.App$class.main(App.scala:76)\r\n            at Main$.main(Main.scala:11)\r\n            at Main.main(Main.scala)\r\n\r\nI tried to load the inputstream to a temp file, but it does not help. I also tried to load a font directly from a local file, but I got a different error with getting font metadata. Here is the error log.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n            at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\r\n            at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219)\r\n            at sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n            at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:776)\r\n            at sun.font.SunFontManager$2.run(SunFontManager.java:431)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:376)\r\n            at sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:57)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n            at java.lang.Class.newInstance(Class.java:442)\r\n            at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n            at java.awt.Font.&lt;init&gt;(Font.java:614)\r\n            at java.awt.Font.createFont(Font.java:1056)\r\n            at Main$.delayedEndpoint$Main$1(Main.scala:32)\r\n            at Main$delayedInit$body.apply(Main.scala:11)\r\n            at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\r\n            at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.collection.immutable.List.foreach(List.scala:381)\r\n            at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\r\n            at scala.App$class.main(App.scala:76)\r\n            at Main$.main(Main.scala:11)\r\n            at Main.main(Main.scala)\r\n\r\nSo, this is not a problem with inputstream, but rather with the loading of the font itself in JRE 8.\r\n\r\nThis seems like a bug in JRE 8 Font.\r\n\r\nI am loading a font to use to draw a string in a picture.\r\nMy code is run in a Docker container using images java:7-jre (ok), java:7-jdk (ok), java:8-jre (fail), java:8-jdk (ok).\r\n","title":"Cannot load font in JRE 8","body":"<p>I cannot load a font from an S3 Inputstream in JRE 8. I do not have issue if a system is installed with JRE 7, JDK 7, or even JDK 8.</p>\n\n<pre><code>val fontInputStream = s3Client.getObject(bucketName, objectKey).getObjectContent\n\nval customFont = Font.createFont(Font.TRUETYPE_FONT, fontInputStream).deriveFont(Font.TRUETYPE_FONT, 20F)\n</code></pre>\n\n<p>The error that I got is</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Problem reading font data.\n        at java.awt.Font.createFont0(Font.java:1000)\n        at java.awt.Font.createFont(Font.java:877)\n        at Main$.delayedEndpoint$Main$1(Main.scala:31)\n        at Main$delayedInit$body.apply(Main.scala:11)\n        at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\n        at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.collection.immutable.List.foreach(List.scala:381)\n        at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\n        at scala.App$class.main(App.scala:76)\n        at Main$.main(Main.scala:11)\n        at Main.main(Main.scala)\n</code></pre>\n\n<p>I tried to load the inputstream to a temp file, but it does not help. I also tried to load a font directly from a local file, but I got a different error with getting font metadata. Here is the error log.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\n        at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\n        at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219)\n        at sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n        at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:776)\n        at sun.font.SunFontManager$2.run(SunFontManager.java:431)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:376)\n        at sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:57)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n        at java.lang.Class.newInstance(Class.java:442)\n        at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\n        at java.awt.Font.&lt;init&gt;(Font.java:614)\n        at java.awt.Font.createFont(Font.java:1056)\n        at Main$.delayedEndpoint$Main$1(Main.scala:32)\n        at Main$delayedInit$body.apply(Main.scala:11)\n        at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\n        at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.collection.immutable.List.foreach(List.scala:381)\n        at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\n        at scala.App$class.main(App.scala:76)\n        at Main$.main(Main.scala:11)\n        at Main.main(Main.scala)\n</code></pre>\n\n<p>So, this is not a problem with inputstream, but rather with the loading of the font itself in JRE 8.</p>\n\n<p>This seems like a bug in JRE 8 Font.</p>\n\n<p>I am loading a font to use to draw a string in a picture.\nMy code is run in a Docker container using images java:7-jre (ok), java:7-jdk (ok), java:8-jre (fail), java:8-jdk (ok).</p>\n"},{"tags":["java","spring","spring-boot","swagger-2.0"],"comments":[{"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"score":0,"creation_date":1574337243,"post_id":58974191,"comment_id":104201960,"body_markdown":"Please share full stacktrace of the error. This can be related with a problem on your classpath.","body":"Please share full stacktrace of the error. This can be related with a problem on your classpath."},{"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"score":0,"creation_date":1574351232,"post_id":58974191,"comment_id":104210503,"body_markdown":"```Caused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2cdf8d8a]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping```","body":"<code>Caused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2Docu&zwnj;&#8203;mentationConfigurati&zwnj;&#8203;on] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2cdf8d8a] Caused by: java.lang.NoClassDefFoundError: org&#47;springframework&#47;web&#47;servlet&#47;HandlerMapping Caused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping</code>"},{"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"score":0,"creation_date":1574351532,"post_id":58974191,"comment_id":104210717,"body_markdown":"Not sure if this is a compatibility issue.","body":"Not sure if this is a compatibility issue."},{"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"score":0,"creation_date":1574351542,"post_id":58974191,"comment_id":104210721,"body_markdown":"Spring Boot version: 2.1.9\nSwagger2: 2.9.2\njava: 11","body":"Spring Boot version: 2.1.9 Swagger2: 2.9.2 java: 11"}],"answers":[{"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574337458,"creation_date":1574337458,"answer_id":58974496,"question_id":58974191,"body_markdown":"Please try below code \r\n\r\n    @Configuration\r\n    public class SwaggerConfig implements WebMvcConfigurer {    \r\n    @Override\r\n        \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        \t    registry.addResourceHandler(&quot;/api/swagger-ui.html**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n        \t    registry.addResourceHandler(&quot;/api/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        \t}\r\n        \t\r\n        \t@Bean\r\n        \tpublic Docket api() {\r\n        \t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n        \t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.org.v1&quot;)).paths(PathSelectors.any())\r\n        \t\t\t\t.build().apiInfo(apiInfo());\r\n        \t}\r\n        \r\n        \tprivate ApiInfo apiInfo() {\r\n        \t\treturn new ApiInfo(&quot;Service Name&quot;, &quot;API Description&quot;, &quot;API&quot;, &quot;Terms of service&quot;,\r\n        \t\t\t\tnew Contact(&quot;name&quot;, &quot;webaddress&quot;, &quot;email&quot;), &quot;License of API&quot;, &quot;API license URL&quot;,\r\n        \t\t\t\tCollections.emptyList());\r\n        \t}\r\n\r\n\r\nSwagger Dependency been used with version &lt;swagger.version&gt;2.7.0&lt;/swagger.version&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n@EnableSwagger2 can be at same place or main application class","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>Please try below code </p>\n\n<pre><code>@Configuration\npublic class SwaggerConfig implements WebMvcConfigurer {    \n@Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(\"/api/swagger-ui.html**\").addResourceLocations(\"classpath:/META-INF/resources/swagger-ui.html\");\n            registry.addResourceHandler(\"/api/webjars/**\").addResourceLocations(\"classpath:/META-INF/resources/webjars/\");\n        }\n\n        @Bean\n        public Docket api() {\n            return new Docket(DocumentationType.SWAGGER_2).select()\n                    .apis(RequestHandlerSelectors.basePackage(\"com.org.v1\")).paths(PathSelectors.any())\n                    .build().apiInfo(apiInfo());\n        }\n\n        private ApiInfo apiInfo() {\n            return new ApiInfo(\"Service Name\", \"API Description\", \"API\", \"Terms of service\",\n                    new Contact(\"name\", \"webaddress\", \"email\"), \"License of API\", \"API license URL\",\n                    Collections.emptyList());\n        }\n</code></pre>\n\n<p>Swagger Dependency been used with version 2.7.0</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>@EnableSwagger2 can be at same place or main application class</p>\n"},{"tags":[],"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1574499609,"creation_date":1574499609,"answer_id":59006050,"question_id":58974191,"body_markdown":"java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping means that you are missing a dependency in your pom.xml, to be precise you are missing spring-webmvc dependency.\r\n\r\nAs you are using Spring Boot, just add this dependency to your pom:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDouble check any other dependencies that may be missing. If you have any problem just post here your pom.xml and we can find the missing ones.","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping means that you are missing a dependency in your pom.xml, to be precise you are missing spring-webmvc dependency.</p>\n\n<p>As you are using Spring Boot, just add this dependency to your pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Double check any other dependencies that may be missing. If you have any problem just post here your pom.xml and we can find the missing ones.</p>\n"},{"tags":[],"owner":{"account_id":16664137,"reputation":1,"user_id":12043319,"display_name":"Mushkan Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365269,"creation_date":1675365033,"answer_id":75327904,"question_id":58974191,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.user-registration&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;registration&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;registration&lt;/name&gt;\r\n\t&lt;description&gt;Registration&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.user-registration&lt;/groupId&gt;\n&lt;artifactId&gt;registration&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;registration&lt;/name&gt;\n&lt;description&gt;Registration&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!--        &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    --&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"}],"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30659,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1696865145,"creation_date":1574336595,"question_id":58974191,"body_markdown":"I&#39;m trying to use swagger2 in my project but getting below error.\r\n\r\n&quot;java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@16f65612]&quot;\r\n\r\n```\r\n//Spring Boot version: 2.1.9\r\n//Swagger2: 2.9.2\r\n//java: 11\r\n\r\npackage path.to.package;\r\n\r\nimport static springfox.documentation.builders.PathSelectors.regex;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n  @Bean\r\n  public Docket OrganizationApi() {\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n        .select()\r\n        .apis(RequestHandlerSelectors.basePackage(&quot;path.to.package&quot;))\r\n        .paths(regex(&quot;/api/.*&quot;))\r\n        .build();\r\n  }\r\n\r\n}\r\n\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n  &lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nFull StackTrace:\r\n```java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@16f65612]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:513)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:604)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:596)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1226)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854)\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841)\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:792)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\r\n\tat com.path.to.package.Application.main(Application.java:25)\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 25 common frames omitted\r\n```","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>I'm trying to use swagger2 in my project but getting below error.</p>\n\n<p>\"java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@16f65612]\"</p>\n\n<pre><code>//Spring Boot version: 2.1.9\n//Swagger2: 2.9.2\n//java: 11\n\npackage path.to.package;\n\nimport static springfox.documentation.builders.PathSelectors.regex;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n  @Bean\n  public Docket OrganizationApi() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.basePackage(\"path.to.package\"))\n        .paths(regex(\"/api/.*\"))\n        .build();\n  }\n\n}\n\n\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n\n<p>Full StackTrace:</p>\n\n<pre><code>    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:604)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:596)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1226)\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866)\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854)\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841)\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:792)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\n    at com.path.to.package.Application.main(Application.java:25)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","org.json"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696862367,"post_id":77259702,"comment_id":136203889,"body_markdown":"Why are you expecting the serializer to magically generate `item` elements?","body":"Why are you expecting the serializer to magically generate <code>item</code> elements?"},{"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"score":0,"creation_date":1696882032,"post_id":77259702,"comment_id":136207378,"body_markdown":"@Jorn Are there options to configure the serializer how to handle JSON array&#39;s? Can we choose to name of the elements?","body":"@Jorn Are there options to configure the serializer how to handle JSON array&#39;s? Can we choose to name of the elements?"}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696863742,"creation_date":1696863742,"answer_id":77259912,"question_id":77259702,"body_markdown":"This should work if you already know the `key` of the `json` array. \r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\nimport org.json.XML;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\r\n        String output = convertJSON2XML(input);\r\n\r\n        // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\r\n\r\n    }\r\n\r\n    public static String convertJSON2XML(String _content){\r\n        String xmlString = &quot;&quot;;\r\n        try{\r\n            JSONObject jsonObject = new JSONObject(_content);\r\n            JSONArray cars = jsonObject.getJSONArray(&quot;cars&quot;);\r\n            xmlString = XML.toString(cars, &quot;item&quot;);\r\n            xmlString = XML.toString(xmlString, &quot;cars&quot;);\r\n            xmlString = XML.unescape(xmlString);\r\n            System.out.println(xmlString);\r\n        }catch(Exception ex){}\r\n        return xmlString;\r\n    }\r\n}\r\n```","title":"Change conversion JSON array to XML when using org.json","body":"<p>This should work if you already know the <code>key</code> of the <code>json</code> array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport org.json.XML;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\n        String output = convertJSON2XML(input);\n\n        // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\n\n    }\n\n    public static String convertJSON2XML(String _content){\n        String xmlString = &quot;&quot;;\n        try{\n            JSONObject jsonObject = new JSONObject(_content);\n            JSONArray cars = jsonObject.getJSONArray(&quot;cars&quot;);\n            xmlString = XML.toString(cars, &quot;item&quot;);\n            xmlString = XML.toString(xmlString, &quot;cars&quot;);\n            xmlString = XML.unescape(xmlString);\n            System.out.println(xmlString);\n        }catch(Exception ex){}\n        return xmlString;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696863742,"creation_date":1696861964,"question_id":77259702,"body_markdown":"I&#39;m converting a complex JSON object to XML and using the org.json framework. Unfortunately, JSON array&#39;s are not converted like expected. How do I change this?\r\n\r\nSample:\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230618&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**sample code**\r\n\r\n    package org.example;\r\n\r\n    import org.json.JSONObject;\r\n    import org.json.XML;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n\r\n            String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\r\n            String output = convertJSON2XML(input);\r\n\r\n            // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\r\n\r\n        }\r\n\r\n        public static String convertJSON2XML(String _content){\r\n            String xmlString = &quot;&quot;;\r\n            try{\r\n                JSONObject jsonObject = new JSONObject(_content);\r\n                xmlString = XML.toString(jsonObject);\r\n\r\n            }catch(Exception ex){}\r\n            return xmlString;\r\n        }\r\n    }\r\n\r\nI like the result to be ...\r\n\r\n    &lt;cars&gt;&lt;item&gt;BMW&lt;/item&gt;&lt;item&gt;Mercedes&lt;/item&gt;&lt;item&gt;Mazda&lt;/item&gt;&lt;/cars&gt;\r\n\r\nDoes anyone know how this can be fixed? Thanx ...","title":"Change conversion JSON array to XML when using org.json","body":"<p>I'm converting a complex JSON object to XML and using the org.json framework. Unfortunately, JSON array's are not converted like expected. How do I change this?</p>\n<p>Sample:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20230618&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>sample code</strong></p>\n<pre><code>package org.example;\n\nimport org.json.JSONObject;\nimport org.json.XML;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\n        String output = convertJSON2XML(input);\n\n        // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\n\n    }\n\n    public static String convertJSON2XML(String _content){\n        String xmlString = &quot;&quot;;\n        try{\n            JSONObject jsonObject = new JSONObject(_content);\n            xmlString = XML.toString(jsonObject);\n\n        }catch(Exception ex){}\n        return xmlString;\n    }\n}\n</code></pre>\n<p>I like the result to be ...</p>\n<pre><code>&lt;cars&gt;&lt;item&gt;BMW&lt;/item&gt;&lt;item&gt;Mercedes&lt;/item&gt;&lt;item&gt;Mazda&lt;/item&gt;&lt;/cars&gt;\n</code></pre>\n<p>Does anyone know how this can be fixed? Thanx ...</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696833973,"post_id":77256361,"comment_id":136198478,"body_markdown":"Looks like a bug to me, although they may not think so. Any password should be supplyable as a `char[]`.","body":"Looks like a bug to me, although they may not think so. Any password should be supplyable as a <code>char[]</code>."},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1696838135,"post_id":77256361,"comment_id":136199162,"body_markdown":"@user207421: That&#39;s what I suspect too. The KafkaProducer and AdminClient constructor itself allows you to pass any Object (which I guess includes char array too). But when you actually run, this fails.","body":"@user207421: That&#39;s what I suspect too. The KafkaProducer and AdminClient constructor itself allows you to pass any Object (which I guess includes char array too). But when you actually run, this fails."}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696863228,"creation_date":1696827901,"question_id":77256361,"body_markdown":"I have a kafka client written in Java.How its done:\r\n\r\n    Properties props;\r\n    char[] keystorepwd = {t,e,s,t};\r\n    props.put(&quot;ssl.keystore.password&quot;,keystorepwd);\r\n    \r\n    KafkaProducer&lt;String,Object&gt; = new KafkaProducer&lt;String,Object&gt;(props);\r\n\r\nI checked the KafkaProducer doc and it says we can pass an Object in Properties instead of String. However, when I actually run it, I get the following error:\r\n\r\n    org.apache.kafka.common.config.ConfigException: Invalid value [C@45bc4219 for configuration ssl.keystore.password: Expected value to be a string, but it was a [C\r\n\r\nI see a similar error for AdminClient too:\r\n\r\n    Map&lt;String,Object&gt; adminClientProps = new HashMap&lt;String,Object&gt;();\r\n    adminClientProps.put(&quot;ssl.keystore.password&quot;,keystorepwd);\r\n    AdminClient admin = AdminClient.create(adminClientProps);\r\n\r\nSame error for this as well.\r\n\r\nI neither get a compilation error and in fact I verified that the code above is in sync with what is there in the Kafka documentation.\r\n\r\nPlease let me know if we can even pass a char array as value in the properties for kafka client or do we have to convert it to String?\r\n\r\nNote: I know that we can pass the char array as a String instead by doing:\r\n\r\n    adminClientProps.put(&quot;ssl.keystore.password&quot;,new String(keystorepwd));\r\n\r\nBut we want the char array to be used as it is while creating the Kafka client instance instead of converting to String.\r\n\r\nThanks,\r\nOm\r\n","title":"Kafka ssl.keystore.password field does not accept value as char array","body":"<p>I have a kafka client written in Java.How its done:</p>\n<pre><code>Properties props;\nchar[] keystorepwd = {t,e,s,t};\nprops.put(&quot;ssl.keystore.password&quot;,keystorepwd);\n\nKafkaProducer&lt;String,Object&gt; = new KafkaProducer&lt;String,Object&gt;(props);\n</code></pre>\n<p>I checked the KafkaProducer doc and it says we can pass an Object in Properties instead of String. However, when I actually run it, I get the following error:</p>\n<pre><code>org.apache.kafka.common.config.ConfigException: Invalid value [C@45bc4219 for configuration ssl.keystore.password: Expected value to be a string, but it was a [C\n</code></pre>\n<p>I see a similar error for AdminClient too:</p>\n<pre><code>Map&lt;String,Object&gt; adminClientProps = new HashMap&lt;String,Object&gt;();\nadminClientProps.put(&quot;ssl.keystore.password&quot;,keystorepwd);\nAdminClient admin = AdminClient.create(adminClientProps);\n</code></pre>\n<p>Same error for this as well.</p>\n<p>I neither get a compilation error and in fact I verified that the code above is in sync with what is there in the Kafka documentation.</p>\n<p>Please let me know if we can even pass a char array as value in the properties for kafka client or do we have to convert it to String?</p>\n<p>Note: I know that we can pass the char array as a String instead by doing:</p>\n<pre><code>adminClientProps.put(&quot;ssl.keystore.password&quot;,new String(keystorepwd));\n</code></pre>\n<p>But we want the char array to be used as it is while creating the Kafka client instance instead of converting to String.</p>\n<p>Thanks,\nOm</p>\n"},{"tags":["java","jenkins-pipeline","maven-plugin","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696863006,"creation_date":1696863006,"answer_id":77259826,"question_id":77258323,"body_markdown":"As for the maven build failure, you would first have to switch to the official maven plugin, the sonatype plugin is no longer developed. You just have to replace \r\n\r\n    &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\r\n\r\nwith\r\n\r\n    &lt;groupId&gt;com.install4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;install4j-maven&lt;/artifactId&gt;\r\n\r\nand add a plugin repository to your POM\r\n\r\n    &lt;pluginRepositories&gt;\r\n      &lt;pluginRepository&gt;\r\n        &lt;id&gt;ej-technologies&lt;/id&gt;\r\n        &lt;url&gt;https://maven.ej-technologies.com/repository&lt;/url&gt;\r\n      &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\nAlso, with the new maven plugin, you can set the &quot;license&quot; parameter to set the license key directly in the invocation. Then, it does not matter which user runs the build.\r\n\r\n","title":"Install4J Jenkins build fails after migration from Install4J 7 to 10","body":"<p>As for the maven build failure, you would first have to switch to the official maven plugin, the sonatype plugin is no longer developed. You just have to replace</p>\n<pre><code>&lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\n&lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;groupId&gt;com.install4j&lt;/groupId&gt;\n&lt;artifactId&gt;install4j-maven&lt;/artifactId&gt;\n</code></pre>\n<p>and add a plugin repository to your POM</p>\n<pre><code>&lt;pluginRepositories&gt;\n  &lt;pluginRepository&gt;\n    &lt;id&gt;ej-technologies&lt;/id&gt;\n    &lt;url&gt;https://maven.ej-technologies.com/repository&lt;/url&gt;\n  &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n<p>Also, with the new maven plugin, you can set the &quot;license&quot; parameter to set the license key directly in the invocation. Then, it does not matter which user runs the build.</p>\n"}],"owner":{"account_id":29631154,"reputation":13,"user_id":22709558,"display_name":"TTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77259826,"answer_count":1,"score":1,"last_activity_date":1696863006,"creation_date":1696849842,"question_id":77258323,"body_markdown":"after the migration from Install4J 7 to 10 we are facing issues while building. \r\n\r\nThe build is done via Jenkins pipeline. There we are using the Maven install4J plugin which is configured as follows\r\n\r\n    &lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;install4j-regular-build&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;projectFile&gt;misc/install4j/regular.install4j&lt;/projectFile&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;winKeystorePassword&gt;SECRETREMOVED&lt;/winKeystorePassword&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;jvmArguments&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.connectTimeout=20000&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.readTimeout=20000&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.counterSignRetry=20&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.timestampUrl=${signing.timestamp-server}&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/jvmArguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n&lt;!-- MORE stuff --&gt;\r\n&lt;/build&gt;\r\n\r\nFor the migration we haven&#39;t changed anything regarding Maven plugin configuration. Except for updating the plugins to the latest releases. \r\nNow the build fails with \r\n&gt; [ERROR] Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project irisplus-client: null returned: 1 -&gt; [Help 1] &lt;br&gt;\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project clientName: null returned: 1\r\n\r\nWe also installed the latest version of the license server and added the new floating license. But in this step we still get the following log output regarding the license\r\n\r\n&gt; [INFO] install4j version 10.0.6 (build 10097), built on 2023-06-19 &lt;br&gt;\r\n&gt; [INFO] Using Java 11.0.10 from /usr/local/openjdk-11 &lt;br&gt;\r\n&gt; [INFO] Please run the command line executable with the -L [license key] option or open the install4j IDE to enter a license key.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;install4JCommon version=&quot;10.0.6&quot; lookAndFeel=&quot;1&quot; mainFrameIconMode=&quot;largeWithText&quot; editorIconMode=&quot;largeWithText&quot; rememberWindowSizes=&quot;true&quot; showMultipleTabsNotice=&quot;true&quot; browserCommand=&quot;&quot; openLastProjectOnStartup=&quot;true&quot; floatingMultiPlatform=&quot;true&quot; useOnlineDocumentation=&quot;false&quot; showIds=&quot;false&quot; printIdsForExport=&quot;false&quot;&gt;\r\n      &lt;licenseKey name=&quot;&quot; company=&quot;&quot; key=&quot;FLOAT:OURHOSTNAME:11862&quot; /&gt;\r\n      &lt;directoryPresets config=&quot;&quot; export=&quot;&quot; /&gt;\r\n      &lt;recentProjects /&gt;\r\n      &lt;codeCompletionSettings codeCompletionAutoImport=&quot;true&quot; codeCompletionAutoPopup=&quot;true&quot; codeCompletionAutoPopupDelay=&quot;1000&quot; codeCompletionLookupHeight=&quot;10&quot; problemsLevel=&quot;all&quot; /&gt;\r\n      &lt;jdks /&gt;\r\n      &lt;beanSelectorSettings&gt;\r\n        &lt;applications largeIcons=&quot;true&quot; /&gt;\r\n        &lt;formComponents largeIcons=&quot;true&quot; /&gt;\r\n        &lt;actionList largeIcons=&quot;true&quot; /&gt;\r\n        &lt;styles largeIcons=&quot;true&quot; /&gt;\r\n      &lt;/beanSelectorSettings&gt;\r\n    &lt;/install4JCommon&gt;\r\n\r\nVia Install4J IDE the DryRun and Build are executed successfully.\r\n\r\n\r\n\r\nAny help and ideas will be appreciated :)","title":"Install4J Jenkins build fails after migration from Install4J 7 to 10","body":"<p>after the migration from Install4J 7 to 10 we are facing issues while building.</p>\n<p>The build is done via Jenkins pipeline. There we are using the Maven install4J plugin which is configured as follows</p>\n<pre><code>&lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;install4j-regular-build&lt;/id&gt;\n                            &lt;phase&gt;validate&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;projectFile&gt;misc/install4j/regular.install4j&lt;/projectFile&gt;\n                                &lt;winKeystorePassword&gt;SECRETREMOVED&lt;/winKeystorePassword&gt;\n                                &lt;jvmArguments&gt;\n                                    &lt;arg&gt;-Dinstall4j.connectTimeout=20000&lt;/arg&gt;\n                                    &lt;arg&gt;-Dinstall4j.readTimeout=20000&lt;/arg&gt;\n                                    &lt;arg&gt;-Dinstall4j.counterSignRetry=20&lt;/arg&gt;\n                                    &lt;arg&gt;-Dinstall4j.timestampUrl=${signing.timestamp-server}&lt;/arg&gt;\n                                &lt;/jvmArguments&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n\n\n<p>For the migration we haven't changed anything regarding Maven plugin configuration. Except for updating the plugins to the latest releases.\nNow the build fails with</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project irisplus-client: null returned: 1 -&gt; [Help 1] <br>\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project clientName: null returned: 1</p>\n</blockquote>\n<p>We also installed the latest version of the license server and added the new floating license. But in this step we still get the following log output regarding the license</p>\n<blockquote>\n<p>[INFO] install4j version 10.0.6 (build 10097), built on 2023-06-19 <br>\n[INFO] Using Java 11.0.10 from /usr/local/openjdk-11 <br>\n[INFO] Please run the command line executable with the -L [license key] option or open the install4j IDE to enter a license key.</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;install4JCommon version=&quot;10.0.6&quot; lookAndFeel=&quot;1&quot; mainFrameIconMode=&quot;largeWithText&quot; editorIconMode=&quot;largeWithText&quot; rememberWindowSizes=&quot;true&quot; showMultipleTabsNotice=&quot;true&quot; browserCommand=&quot;&quot; openLastProjectOnStartup=&quot;true&quot; floatingMultiPlatform=&quot;true&quot; useOnlineDocumentation=&quot;false&quot; showIds=&quot;false&quot; printIdsForExport=&quot;false&quot;&gt;\n  &lt;licenseKey name=&quot;&quot; company=&quot;&quot; key=&quot;FLOAT:OURHOSTNAME:11862&quot; /&gt;\n  &lt;directoryPresets config=&quot;&quot; export=&quot;&quot; /&gt;\n  &lt;recentProjects /&gt;\n  &lt;codeCompletionSettings codeCompletionAutoImport=&quot;true&quot; codeCompletionAutoPopup=&quot;true&quot; codeCompletionAutoPopupDelay=&quot;1000&quot; codeCompletionLookupHeight=&quot;10&quot; problemsLevel=&quot;all&quot; /&gt;\n  &lt;jdks /&gt;\n  &lt;beanSelectorSettings&gt;\n    &lt;applications largeIcons=&quot;true&quot; /&gt;\n    &lt;formComponents largeIcons=&quot;true&quot; /&gt;\n    &lt;actionList largeIcons=&quot;true&quot; /&gt;\n    &lt;styles largeIcons=&quot;true&quot; /&gt;\n  &lt;/beanSelectorSettings&gt;\n&lt;/install4JCommon&gt;\n</code></pre>\n<p>Via Install4J IDE the DryRun and Build are executed successfully.</p>\n<p>Any help and ideas will be appreciated :)</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":2,"creation_date":1559934220,"post_id":56499928,"comment_id":99589032,"body_markdown":"You are asking the same question. Your port 8080 is already bound, you can not run Spring boot in the same port. Go to command prompt in windows and type the command netstat -a, you will get to know which is running in port 8080.","body":"You are asking the same question. Your port 8080 is already bound, you can not run Spring boot in the same port. Go to command prompt in windows and type the command netstat -a, you will get to know which is running in port 8080."},{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1559934349,"post_id":56499928,"comment_id":99589075,"body_markdown":"sorry I am very new to spring boot. But why does it require port. I need it to run as microservice. if I dont add this dependency it is working fine.","body":"sorry I am very new to spring boot. But why does it require port. I need it to run as microservice. if I dont add this dependency it is working fine."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1559934440,"post_id":56499928,"comment_id":99589113,"body_markdown":"Any web server has to use any port to run. This is fundamental concept. First try to spring boot with 1.5.0, take some example from internet.","body":"Any web server has to use any port to run. This is fundamental concept. First try to spring boot with 1.5.0, take some example from internet."},{"owner":{"account_id":106185,"reputation":1126,"user_id":282956,"accept_rate":0,"display_name":"mavriksc"},"score":0,"creation_date":1559934641,"post_id":56499928,"comment_id":99589191,"body_markdown":"@AnonymousCreator if there was no port how would you access your server?","body":"@AnonymousCreator if there was no port how would you access your server?"},{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1559934662,"post_id":56499928,"comment_id":99589194,"body_markdown":"can&#39;t I just use their webclient method? why it is a web server. it is just a console application. which I am using as a microservice. spring boot is not for web application only as what I can see from internet.","body":"can&#39;t I just use their webclient method? why it is a web server. it is just a console application. which I am using as a microservice. spring boot is not for web application only as what I can see from internet."},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":1,"creation_date":1622128526,"post_id":56499928,"comment_id":119707715,"body_markdown":"Even though this question is about using the web client without using the application as a web app, most were led here because of google. For them, you are trying to running two application over the same port. So kill the already running application or run the new application on a different port. You can find more details at https://springhow.com/web-server-failed-to-start-port-8080-was-already-in-use/.","body":"Even though this question is about using the web client without using the application as a web app, most were led here because of google. For them, you are trying to running two application over the same port. So kill the already running application or run the new application on a different port. You can find more details at <a href=\"https://springhow.com/web-server-failed-to-start-port-8080-was-already-in-use/\" rel=\"nofollow noreferrer\">springhow.com/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":13112276,"reputation":353,"user_id":9472846,"display_name":"Dominik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559938155,"creation_date":1559938155,"answer_id":56500677,"question_id":56499928,"body_markdown":"You try to use an already used port. \r\n\r\nPorts are used on the transport layer - `tcp`, `http` is application layer and uses a transport layer to send and receive requests. \r\n\r\nDefault port exposed by spring boot app is `8080`. In your case you have two solutions:\r\n\r\n- change port for your application\r\n- stop the service that uses the port you want to use\r\n ","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You try to use an already used port. </p>\n\n<p>Ports are used on the transport layer - <code>tcp</code>, <code>http</code> is application layer and uses a transport layer to send and receive requests. </p>\n\n<p>Default port exposed by spring boot app is <code>8080</code>. In your case you have two solutions:</p>\n\n<ul>\n<li>change port for your application</li>\n<li>stop the service that uses the port you want to use</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1618871204,"creation_date":1559938739,"answer_id":56500768,"question_id":56499928,"body_markdown":"If you don&#39;t want the embedded server to start, just set the following property in you `application.properties` (or `.yml`):\r\n\r\n```\r\nspring.main.web-application-type=none\r\n```\r\n\r\n&gt; If your classpath contains the necessary bits to start a web server, Spring Boot will automatically start it. To disable this behaviour configure the WebApplicationType in your application.properties\r\n\r\nSource: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html\r\n\r\n\r\n----------\r\n\r\nIf you application really **is** a Web application, then you can easily change the port using the `server.port` property (in your application&#39;s `.properties`/`.yaml` file, as a command line argument at startup, etc).","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If you don't want the embedded server to start, just set the following property in you <code>application.properties</code> (or <code>.yml</code>):</p>\n<pre><code>spring.main.web-application-type=none\n</code></pre>\n<blockquote>\n<p>If your classpath contains the necessary bits to start a web server, Spring Boot will automatically start it. To disable this behaviour configure the WebApplicationType in your application.properties</p>\n</blockquote>\n<p>Source: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html</a></p>\n<hr />\n<p>If you application really <strong>is</strong> a Web application, then you can easily change the port using the <code>server.port</code> property (in your application's <code>.properties</code>/<code>.yaml</code> file, as a command line argument at startup, etc).</p>\n"},{"tags":[],"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559939169,"creation_date":1559939169,"answer_id":56500835,"question_id":56499928,"body_markdown":"Your client application also spring boot application, whats why you have two spring boot application run in 8080 port.\r\nChange port one of them or create a standalone java application with main class, put your web client in it and run.\r\nAs http client you can use Apache Http Client.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Your client application also spring boot application, whats why you have two spring boot application run in 8080 port.\nChange port one of them or create a standalone java application with main class, put your web client in it and run.\nAs http client you can use Apache Http Client.</p>\n"},{"tags":[],"owner":{"account_id":6682070,"reputation":821,"user_id":12512290,"display_name":"jayesh"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1578285025,"creation_date":1578285025,"answer_id":59606696,"question_id":56499928,"body_markdown":"You can change the default port of your application in application.properties by adding the following line:\r\n\r\nserver.port = 8090","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You can change the default port of your application in application.properties by adding the following line:</p>\n\n<p>server.port = 8090</p>\n"},{"tags":[],"owner":{"account_id":17617577,"reputation":1008,"user_id":12784276,"display_name":"Alan Carlyle"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1580029083,"creation_date":1580029083,"answer_id":59916887,"question_id":56499928,"body_markdown":"If on windows and your getting this every time you run the application you need to keep doing:\r\n\r\n    &gt; netstat -ano | findstr *&lt;port used&gt;*\r\n    \r\n      TCP    0.0.0.0:*&lt;port used&gt;*  0.0.0.0:0              LISTENING       *&lt;pid&gt;*\r\n      TCP    [::]:*&lt;port used&gt;*     [::]:0                 LISTENING       *&lt;pid&gt;*\r\n    \r\n    &gt; taskkill /F /PID *&lt;pid&gt;*\r\n    SUCCESS: The process with PID *&lt;pid&gt;* has been terminated.\r\n\r\n\r\nIf netstat above includes something like this;\r\n\r\n    TCP    [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:540yy [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:*&lt;port used&gt;* TIME_WAIT 0\r\n\r\nThen you can either wait for a little while or reconfigure to use another port.\r\n\r\nI suppose we could write some code to randomly generate and check if a port is free when the application runs. Though this will have diminishing returns as they start to get used up. On the other hand could add a resource clean up code that does what we have above once the application stops. \r\n\r\n\r\n\r\n","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If on windows and your getting this every time you run the application you need to keep doing:</p>\n\n<pre><code>&gt; netstat -ano | findstr *&lt;port used&gt;*\n\n  TCP    0.0.0.0:*&lt;port used&gt;*  0.0.0.0:0              LISTENING       *&lt;pid&gt;*\n  TCP    [::]:*&lt;port used&gt;*     [::]:0                 LISTENING       *&lt;pid&gt;*\n\n&gt; taskkill /F /PID *&lt;pid&gt;*\nSUCCESS: The process with PID *&lt;pid&gt;* has been terminated.\n</code></pre>\n\n<p>If netstat above includes something like this;</p>\n\n<pre><code>TCP    [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:540yy [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:*&lt;port used&gt;* TIME_WAIT 0\n</code></pre>\n\n<p>Then you can either wait for a little while or reconfigure to use another port.</p>\n\n<p>I suppose we could write some code to randomly generate and check if a port is free when the application runs. Though this will have diminishing returns as they start to get used up. On the other hand could add a resource clean up code that does what we have above once the application stops. </p>\n"},{"tags":[],"owner":{"account_id":19560889,"reputation":91,"user_id":14314130,"display_name":"Rashmi Kiran"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601393360,"creation_date":1601393360,"answer_id":64122801,"question_id":56499928,"body_markdown":"1. create **/resources** folder inside **src/main**\r\n2. create **application.properties** file inside **/resources**\r\n3. write `server.port=9090`  //(use any port number of your choice)","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<ol>\n<li>create <strong>/resources</strong> folder inside <strong>src/main</strong></li>\n<li>create <strong>application.properties</strong> file inside <strong>/resources</strong></li>\n<li>write <code>server.port=9090</code>  //(use any port number of your choice)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19687604,"reputation":1,"user_id":14413243,"display_name":"Priti Yogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602165762,"creation_date":1602155603,"answer_id":64261344,"question_id":56499928,"body_markdown":"Today I was working in Spring Boot project and I got the same error in my project. So, what I did, I clicked on **stop button** beside the **run last tool button** and run again. Then, my project started working very well.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Today I was working in Spring Boot project and I got the same error in my project. So, what I did, I clicked on <strong>stop button</strong> beside the <strong>run last tool button</strong> and run again. Then, my project started working very well.</p>\n"},{"tags":[],"owner":{"account_id":4822986,"reputation":7,"user_id":3893177,"display_name":"kmantic"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1606836334,"creation_date":1606836334,"answer_id":65093399,"question_id":56499928,"body_markdown":"The best answer to this is to always use the &quot;Relaunch Application&quot; button. That will stop the web server and restart the entire app on the same port as before. \r\n\r\nIt&#39;s the button with the red square and green play icon combined. \r\n\r\n  https://i.stack.imgur.com/ICGtX.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>The best answer to this is to always use the &quot;Relaunch Application&quot; button. That will stop the web server and restart the entire app on the same port as before.</p>\n<p>It's the button with the red square and green play icon combined.</p>\n<p><a href=\"https://i.stack.imgur.com/ICGtX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ICGtX.png</a></p>\n"},{"tags":[],"owner":{"account_id":19813979,"reputation":33,"user_id":14512135,"display_name":"Cihan Icelliler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609846139,"creation_date":1609846139,"answer_id":65578009,"question_id":56499928,"body_markdown":"You can also write services.msc in your search bar in windows.Then you can find Apache Tomcat and then just stop this apache. I think its gonna be work.[![Find Apache TomCat and Stop it][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UVKaL.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You can also write services.msc in your search bar in windows.Then you can find Apache Tomcat and then just stop this apache. I think its gonna be work.<a href=\"https://i.stack.imgur.com/UVKaL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UVKaL.png\" alt=\"Find Apache TomCat and Stop it\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611748809,"creation_date":1611744891,"answer_id":65917668,"question_id":56499928,"body_markdown":"you can set `server.port= #some-available-port number` in application.properties file\r\n\r\nor run command prompt in administrator mode and run  `netstat -a -o -n`.\r\nFind the process id which is using port 8080.\r\n\r\nRun `taskkill /F /PID #Processid` command","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>you can set <code>server.port= #some-available-port number</code> in application.properties file</p>\n<p>or run command prompt in administrator mode and run  <code>netstat -a -o -n</code>.\nFind the process id which is using port 8080.</p>\n<p>Run <code>taskkill /F /PID #Processid</code> command</p>\n"},{"tags":[],"owner":{"account_id":16198346,"reputation":212,"user_id":11695367,"display_name":"Feezan Khattak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614828549,"creation_date":1614828549,"answer_id":66468156,"question_id":56499928,"body_markdown":"It&#39;s easy we have two methods to solve.\r\nFirst one is to change the port number in your *application.properties* i.e\r\n\r\n    server.port=9999 //  something like this...\r\n\r\nand second is, to first stop the available running server and then re-run your server again.\r\n\r\nI am sure it work :)","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>It's easy we have two methods to solve.\nFirst one is to change the port number in your <em>application.properties</em> i.e</p>\n<pre><code>server.port=9999 //  something like this...\n</code></pre>\n<p>and second is, to first stop the available running server and then re-run your server again.</p>\n<p>I am sure it work :)</p>\n"},{"tags":[],"owner":{"account_id":14999313,"reputation":1882,"user_id":10827515,"display_name":"Supun Sandaruwan"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1621781719,"creation_date":1621780033,"answer_id":67660822,"question_id":56499928,"body_markdown":"Some time if you can manually `kill the that port` problem can solve. \r\n\r\nUsing **`CurrPorts`** software you can view what are the running all ports in your machine and you can kill that port if you want. \r\n\r\nYou can download CurrPorts from [here][1]. (download link is in bottom of the page)\r\n\r\n [![enter image description here][2]][2]\r\n\r\n============== OR ==============\r\n\r\nWithout CurrPorts you can do this using like below method also.\r\n\r\n1. CMD as **run as administrator** \r\n2. Enter `netstat -a -o -n` and hit enter. Now you can see like below. Port can see **Local Address** column after **`:`** sign.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n3. select the process id`(not port)` that your port running and type `taskkill /F /PID &lt;process_id_here&gt;` command and hit enter.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.nirsoft.net/utils/cports.html\r\n  [2]: https://i.stack.imgur.com/kXUPY.png\r\n  [3]: https://i.stack.imgur.com/9hE2p.png\r\n  [4]: https://i.stack.imgur.com/nQIXT.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Some time if you can manually <code>kill the that port</code> problem can solve.</p>\n<p>Using <strong><code>CurrPorts</code></strong> software you can view what are the running all ports in your machine and you can kill that port if you want.</p>\n<p>You can download CurrPorts from <a href=\"https://www.nirsoft.net/utils/cports.html\" rel=\"noreferrer\">here</a>. (download link is in bottom of the page)</p>\n<p><a href=\"https://i.stack.imgur.com/kXUPY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kXUPY.png\" alt=\"enter image description here\" /></a></p>\n<p>============== OR ==============</p>\n<p>Without CurrPorts you can do this using like below method also.</p>\n<ol>\n<li>CMD as <strong>run as administrator</strong></li>\n<li>Enter <code>netstat -a -o -n</code> and hit enter. Now you can see like below. Port can see <strong>Local Address</strong> column after <strong><code>:</code></strong> sign.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/9hE2p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9hE2p.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>select the process id<code>(not port)</code> that your port running and type <code>taskkill /F /PID &lt;process_id_here&gt;</code> command and hit enter.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nQIXT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nQIXT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1622472097,"creation_date":1622472097,"answer_id":67775851,"question_id":56499928,"body_markdown":"You can use npm to kill the port \r\n\r\n    **npx kill-port 8080**   //8080 for example\r\n\r\n\r\nRequirement: npm \r\n\r\nread more: https://www.npmjs.com/package/kill-port","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You can use npm to kill the port</p>\n<pre><code>**npx kill-port 8080**   //8080 for example\n</code></pre>\n<p>Requirement: npm</p>\n<p>read more: <a href=\"https://www.npmjs.com/package/kill-port\" rel=\"noreferrer\">https://www.npmjs.com/package/kill-port</a></p>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623656017,"creation_date":1623612203,"answer_id":67961912,"question_id":56499928,"body_markdown":"to catch java.net.BindException e with message: Address already in use and to start on other available port and to use webclient with one of 2 ports. \r\n\r\n    try {\r\n                SpringApplication.run(Application.class, args);\r\n            } catch (org.springframework.boot.web.server.PortInUseException e) {\r\n    //Runtime.exec(&quot;pkil&quot;)..\r\n    //or\r\n    SpringApplication.run(Application.class, otherargs);\r\n    //SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\r\n    //when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\r\n\r\n    }","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>to catch java.net.BindException e with message: Address already in use and to start on other available port and to use webclient with one of 2 ports.</p>\n<pre><code>try {\n            SpringApplication.run(Application.class, args);\n        } catch (org.springframework.boot.web.server.PortInUseException e) {\n//Runtime.exec(&quot;pkil&quot;)..\n//or\nSpringApplication.run(Application.class, otherargs);\n//SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\n//when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623872319,"creation_date":1623872319,"answer_id":68009066,"question_id":56499928,"body_markdown":"If you had previously started the spring boot app and forgot to stop before hitting play again then Go to windows **task manager** and locate the java application(Something like *&quot;OpenJDK Platform binary&quot;* and click on End Task. (Java app not eclipse). Then try running again. It worked for me.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If you had previously started the spring boot app and forgot to stop before hitting play again then Go to windows <strong>task manager</strong> and locate the java application(Something like <em>&quot;OpenJDK Platform binary&quot;</em> and click on End Task. (Java app not eclipse). Then try running again. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21316812,"reputation":67,"user_id":15690535,"display_name":"Afreen Shaikh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1625054314,"creation_date":1625054314,"answer_id":68194307,"question_id":56499928,"body_markdown":"if port:8080 already in use error occurs:\r\n - goto command prompt\r\n.type command&gt; .netstat -ano \r\n.Enter-&gt;this will show all running port check port 8080\r\n.type command&gt; taskkill /F /PID 8080\r\n.process will terminate.\r\n ","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>if port:8080 already in use error occurs:</p>\n<ul>\n<li>goto command prompt\n.type command&gt; .netstat -ano\n.Enter-&gt;this will show all running port check port 8080\n.type command&gt; taskkill /F /PID 8080\n.process will terminate.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21567070,"reputation":671,"user_id":15900644,"display_name":"crwils"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1627316507,"creation_date":1627316195,"answer_id":68533253,"question_id":56499928,"body_markdown":"Another way to do this is by first checking what processes are using that specific port, then killing it using its process ID:\r\n\r\n1. Run `lsof -i :8080`\r\nThis will identify which process is listening on port 8080.\r\n\r\n2. Take note of the process ID (PID) e.g. 63262\r\n\r\n3. Run `kill -9 &lt;PID&gt;` e.g. `kill -9 63262`","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Another way to do this is by first checking what processes are using that specific port, then killing it using its process ID:</p>\n<ol>\n<li><p>Run <code>lsof -i :8080</code>\nThis will identify which process is listening on port 8080.</p>\n</li>\n<li><p>Take note of the process ID (PID) e.g. 63262</p>\n</li>\n<li><p>Run <code>kill -9 &lt;PID&gt;</code> e.g. <code>kill -9 63262</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19168283,"reputation":7,"user_id":14002558,"display_name":"Mohammed Masood Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635523738,"creation_date":1635523738,"answer_id":69771928,"question_id":56499928,"body_markdown":"It is a simple answer.If you are getting this error then go to your project then\r\n\r\nsrc/main/resources and open application.properties file and mention there\r\n\r\nserver.port=8045 you  can give your own number here instead of 8045\r\n\r\nthanks[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OzCG4.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>It is a simple answer.If you are getting this error then go to your project then</p>\n<p>src/main/resources and open application.properties file and mention there</p>\n<p>server.port=8045 you  can give your own number here instead of 8045</p>\n<p>thanks<a href=\"https://i.stack.imgur.com/OzCG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzCG4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17821569,"reputation":21,"user_id":12943830,"display_name":"Murat &#199;elik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671386114,"creation_date":1636403777,"answer_id":69889668,"question_id":56499928,"body_markdown":"To reset port `8080`, you need to find `PID` (*Process ID*) and specify it for the command as, for example, on the screen `10512`:\r\n\r\n    taskkill /F /PID 10512\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w1NsC.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>To reset port <code>8080</code>, you need to find <code>PID</code> (<em>Process ID</em>) and specify it for the command as, for example, on the screen <code>10512</code>:</p>\n<pre><code>taskkill /F /PID 10512\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/w1NsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w1NsC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20209650,"reputation":11,"user_id":14822954,"display_name":"Lakshya Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638175721,"creation_date":1638107942,"answer_id":70144092,"question_id":56499928,"body_markdown":"The error basically means that your port 8080 is occupied. If you are getting this error then go to your project and open application.properties and add the below line and it should work fine:\r\n\r\n    server.port = 8090","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>The error basically means that your port 8080 is occupied. If you are getting this error then go to your project and open application.properties and add the below line and it should work fine:</p>\n<pre><code>server.port = 8090\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24498139,"reputation":1,"user_id":18414111,"display_name":"Kavita"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646792964,"creation_date":1646792964,"answer_id":71403648,"question_id":56499928,"body_markdown":"If you getting this error again and again , then make sure server.port=(your port no) is the first line in application.properties file.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If you getting this error again and again , then make sure server.port=(your port no) is the first line in application.properties file.</p>\n"},{"tags":[],"owner":{"account_id":20409705,"reputation":31,"user_id":14973418,"display_name":"TMB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664284907,"creation_date":1664284907,"answer_id":73868322,"question_id":56499928,"body_markdown":" 1. Open cmd and type &quot;netstat -ano -p tcp.&quot; \r\n 2. Then, look for the port number and PID. \r\n 3. Open up Resource Monitor and search for the PID number\r\n 4. Right Click and &quot;End Process.&quot; \r\n\r\n","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<ol>\n<li>Open cmd and type &quot;netstat -ano -p tcp.&quot;</li>\n<li>Then, look for the port number and PID.</li>\n<li>Open up Resource Monitor and search for the PID number</li>\n<li>Right Click and &quot;End Process.&quot;</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26206668,"reputation":148,"user_id":19886178,"display_name":"Vishal Bramhankar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665845321,"creation_date":1665845207,"answer_id":74080449,"question_id":56499928,"body_markdown":"open command prompt as administrator \r\n\r\nstep1: netstat -ano | findstr :&lt;enter your 4 digit port number&gt;\r\n\r\n    netstat -ano | findstr :8080\r\n\r\n TCP       0.0.0.0:8080              0.0.0.0:0                 LISTENING          6436\r\n\r\n TCP       [::]:8080                 [::]:0                    LISTENING          6436\r\n\r\nstep2: taskkill /PID &lt;enter above pid number(sometimes it shown 3/4/5/6 digits)&gt; /F\r\n\r\n    taskkill /PID 6436 /F\r\nSUCCESS: The process with PID 6436 has been terminated.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>open command prompt as administrator</p>\n<p>step1: netstat -ano | findstr :&lt;enter your 4 digit port number&gt;</p>\n<pre><code>netstat -ano | findstr :8080\n</code></pre>\n<p>TCP       0.0.0.0:8080              0.0.0.0:0                 LISTENING          6436</p>\n<p>TCP       [::]:8080                 [::]:0                    LISTENING          6436</p>\n<p>step2: taskkill /PID &lt;enter above pid number(sometimes it shown 3/4/5/6 digits)&gt; /F</p>\n<pre><code>taskkill /PID 6436 /F\n</code></pre>\n<p>SUCCESS: The process with PID 6436 has been terminated.</p>\n"},{"tags":[],"owner":{"account_id":6393007,"reputation":131,"user_id":4958437,"display_name":"Manish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673588467,"creation_date":1673588467,"answer_id":75105278,"question_id":56499928,"body_markdown":"Restarting my machine solved the issue although I was getting below issue:\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8081 is already in use","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Restarting my machine solved the issue although I was getting below issue:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8081 is already in use\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25798468,"reputation":74,"user_id":19541281,"display_name":"sbrajchuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693646710,"creation_date":1693602964,"answer_id":77026025,"question_id":56499928,"body_markdown":"I repeatedly encountered the same issue on my Windows 10 system, wherein various diagnostic tools consistently reported no other processes utilizing the same port. Strangely, the problem persisted, but a simple reboot consistently resolved it. To avoid restarting and having to relaunch numerous applications, I found an alternative solution: I restarted the Host Network Service (hns) with the following commands:\r\n```\r\nnet stop hns\r\nnet start hns\r\n```\r\nMy research led me to a Stack Overflow post (https://stackoverflow.com/a/62359555/19541281) explaining that Windows reserved specific port ranges as the underlying cause.\r\n\r\nIn my particular case, Windows had reserved the following port range:\r\n\r\n`netsh int ipv4 show dynamicport tcp`\r\n\r\n&gt;Protocol tcp Dynamic Port Range  \r\n&gt;      --------------------------------   \r\n&gt;Start Port      : 1024  \r\nNumber of Ports : 13977  \r\n\r\nI altered the Windows port reservation range by executing this command:\r\n\r\n`netsh int ipv4 set dynamic tcp start=49152 num=16384`\r\n\r\nSubsequently, I performed a host reboot to ensure the changes took effect.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>I repeatedly encountered the same issue on my Windows 10 system, wherein various diagnostic tools consistently reported no other processes utilizing the same port. Strangely, the problem persisted, but a simple reboot consistently resolved it. To avoid restarting and having to relaunch numerous applications, I found an alternative solution: I restarted the Host Network Service (hns) with the following commands:</p>\n<pre><code>net stop hns\nnet start hns\n</code></pre>\n<p>My research led me to a Stack Overflow post (<a href=\"https://stackoverflow.com/a/62359555/19541281\">https://stackoverflow.com/a/62359555/19541281</a>) explaining that Windows reserved specific port ranges as the underlying cause.</p>\n<p>In my particular case, Windows had reserved the following port range:</p>\n<p><code>netsh int ipv4 show dynamicport tcp</code></p>\n<blockquote>\n<p>Protocol tcp Dynamic Port Range<br />\n--------------------------------<br />\nStart Port      : 1024<br />\nNumber of Ports : 13977</p>\n</blockquote>\n<p>I altered the Windows port reservation range by executing this command:</p>\n<p><code>netsh int ipv4 set dynamic tcp start=49152 num=16384</code></p>\n<p>Subsequently, I performed a host reboot to ensure the changes took effect.</p>\n"},{"tags":[],"owner":{"account_id":25448861,"reputation":119,"user_id":19250621,"display_name":"Denis Kinyua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696862319,"creation_date":1696862319,"answer_id":77259743,"question_id":56499928,"body_markdown":"if on windows, open CMD and type `taskkill /im javaw.exe /f`","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>if on windows, open CMD and type <code>taskkill /im javaw.exe /f</code></p>\n"}],"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373243,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":56500768,"answer_count":26,"score":57,"last_activity_date":1696862319,"creation_date":1559934099,"question_id":56499928,"body_markdown":"I am trying to call webAPI from gradle project.\r\n\r\nMy build.gradle is as following.\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.1.4.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \truntimeOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \tcompile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n        compile &#39;org.projectreactor:reactor-spring:1.0.1.RELEASE&#39;\r\n    }\r\n\r\n\r\nIf I remove following dependency\r\n\r\n    compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\r\nIt works, but if I add it back. it gives error as \r\n\r\n    Web server failed to start. Port 8080 was already in use.\r\n\r\n\r\nSo, how do I fix this, so that I can use webclient? Because application is not web application which requires port to run. it is a sort of microservice.\r\n\r\nI just want to use WebClient of Spring Boot. How do i use it without converting my application into web application.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>I am trying to call webAPI from gradle project.</p>\n<p>My build.gradle is as following.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    runtimeOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    compile 'org.springframework.boot:spring-boot-starter-webflux'\n    compile 'org.projectreactor:reactor-spring:1.0.1.RELEASE'\n}\n</code></pre>\n<p>If I remove following dependency</p>\n<pre><code>compile 'org.springframework.boot:spring-boot-starter-webflux'\n</code></pre>\n<p>It works, but if I add it back. it gives error as</p>\n<pre><code>Web server failed to start. Port 8080 was already in use.\n</code></pre>\n<p>So, how do I fix this, so that I can use webclient? Because application is not web application which requires port to run. it is a sort of microservice.</p>\n<p>I just want to use WebClient of Spring Boot. How do i use it without converting my application into web application.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696860321,"post_id":77259380,"comment_id":136203433,"body_markdown":"Yes, it&#39;s a serious error. It means the application is crashing trying to send or receive JSON data. Whether or not that leads to real problems depends on the data that is causing the crash, but it&#39;s very likely. Normal, stable running applications should not have errors like this in the log, but instead handle unexpected requests in a nice way and return a useful error to the front end.","body":"Yes, it&#39;s a serious error. It means the application is crashing trying to send or receive JSON data. Whether or not that leads to real problems depends on the data that is causing the crash, but it&#39;s very likely. Normal, stable running applications should not have errors like this in the log, but instead handle unexpected requests in a nice way and return a useful error to the front end."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696860721,"post_id":77259380,"comment_id":136203528,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696861947,"creation_date":1696861352,"answer_id":77259612,"question_id":77259380,"body_markdown":"The real answer to your question (&quot;Are there any real consequences?&quot;) can only be &quot;It depends.&quot;\r\n\r\nTo help you understand the situation better I try to explain the lingo involved in a very basic way:\r\n\r\n - An *object* is data bundled with code to access the data - you are not supposed to access the objects data in memory in other ways than by the code of the object.\r\n - To save the object to disk, you just *serialize* it, that means you bring its data into a form that can be written to a file or sent over the network. Usually the code is not written or sent.\r\n - The opposite (read object from disk) you *deserialize* it. \r\n - *Lazy loading* means that you initialize / load / deserialize / calculate the data of an object the first time you actually need it. (Since you only access it via the provided code of the object, this code decides that.)\r\n- The opposite would be *eager loading* - means that on the start of the program or creation of the object you load / deserialize / calculate the data in the object.\r\n\r\nThe message you wrote (&quot;No serializer found&quot;) means that it is unknown how to write the data of an object to disk or send it over the network. Depending on the desired function, this can be a big problem or no problem (when nothing actually should be written).\r\n\r\nIn some programs you can configure the method how to serialize from the outside (so the error message signals a wrong configuration), in other cases it&#39;s hardcoded in the program (so the error means that the programmers didn&#39;t test thoroughly or didn&#39;t care about the error).\r\nThe message \r\n\r\n&gt; no properties discovered to create BeanSerializer\r\n\r\nsignals that its probably the externally configurable variant, but without further documentation no guarantee for that.\r\n\r\nOn the other hand `SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS` usually is more likely to be hardcoded.\r\n\r\nSo without a piece of code that creates that error message I could not provide real solutions, but your question indicates that a solution is not your goal anyways.","title":"Are there any real consequences of &quot;No serializer found&quot; in java?","body":"<p>The real answer to your question (&quot;Are there any real consequences?&quot;) can only be &quot;It depends.&quot;</p>\n<p>To help you understand the situation better I try to explain the lingo involved in a very basic way:</p>\n<ul>\n<li>An <em>object</em> is data bundled with code to access the data - you are not supposed to access the objects data in memory in other ways than by the code of the object.</li>\n<li>To save the object to disk, you just <em>serialize</em> it, that means you bring its data into a form that can be written to a file or sent over the network. Usually the code is not written or sent.</li>\n<li>The opposite (read object from disk) you <em>deserialize</em> it.</li>\n<li><em>Lazy loading</em> means that you initialize / load / deserialize / calculate the data of an object the first time you actually need it. (Since you only access it via the provided code of the object, this code decides that.)</li>\n<li>The opposite would be <em>eager loading</em> - means that on the start of the program or creation of the object you load / deserialize / calculate the data in the object.</li>\n</ul>\n<p>The message you wrote (&quot;No serializer found&quot;) means that it is unknown how to write the data of an object to disk or send it over the network. Depending on the desired function, this can be a big problem or no problem (when nothing actually should be written).</p>\n<p>In some programs you can configure the method how to serialize from the outside (so the error message signals a wrong configuration), in other cases it's hardcoded in the program (so the error means that the programmers didn't test thoroughly or didn't care about the error).\nThe message</p>\n<blockquote>\n<p>no properties discovered to create BeanSerializer</p>\n</blockquote>\n<p>signals that its probably the externally configurable variant, but without further documentation no guarantee for that.</p>\n<p>On the other hand <code>SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS</code> usually is more likely to be hardcoded.</p>\n<p>So without a piece of code that creates that error message I could not provide real solutions, but your question indicates that a solution is not your goal anyways.</p>\n"}],"owner":{"account_id":28393827,"reputation":1,"user_id":21719190,"display_name":"barnyard9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77259612,"answer_count":1,"score":-1,"last_activity_date":1696861947,"creation_date":1696859353,"question_id":77259380,"body_markdown":"https://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found\r\nI was looking through these posts. And looks like this is a kind of warning and not a serious issue (People are talking about suppressing it, so that must not be very useful for tracing and debugging the program). I&#39;m not a programmer FYI. But a system administrator who knows little bit of code.\r\n\r\n`org.codehaus.jackson.map.JsonMappingException: No serializer found for class MyPackage.TestA and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )\r\n`\r\nThis is exactly the error that I am getting. I work at a transaction doing app startup.\r\n\r\nFirstly, make me understand what is this error trying to say? People say &quot;lazy loading&quot;...and stuffs. But as a sysadmin, make me understand this.\r\n\r\nI&#39;ve noticed this error is coming in both succeess and failed transactions. But successful transactions later succeed anyway. The only difference there seems is there is something called `senderId` being generated for success transactions and that value is being sent as `NULL` for failure transactions.\r\n\r\nHelp me with this issue.\r\n\r\nI&#39;ve tried reading all the posts and internet. I don&#39;t really want to understand the fix of this. It&#39;s written everywhere in internet. For instance\r\n\r\nhttps://stackoverflow.com/questions/70907689/invaliddefinitionexception-no-serializer-found-in-java-for-generic-class\r\n\r\nI want to understand the cause of this and effects of this from the first principles.\r\n\r\n","title":"Are there any real consequences of &quot;No serializer found&quot; in java?","body":"<p><a href=\"https://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found\">Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?</a>\nI was looking through these posts. And looks like this is a kind of warning and not a serious issue (People are talking about suppressing it, so that must not be very useful for tracing and debugging the program). I'm not a programmer FYI. But a system administrator who knows little bit of code.</p>\n<p><code>org.codehaus.jackson.map.JsonMappingException: No serializer found for class MyPackage.TestA and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) ) </code>\nThis is exactly the error that I am getting. I work at a transaction doing app startup.</p>\n<p>Firstly, make me understand what is this error trying to say? People say &quot;lazy loading&quot;...and stuffs. But as a sysadmin, make me understand this.</p>\n<p>I've noticed this error is coming in both succeess and failed transactions. But successful transactions later succeed anyway. The only difference there seems is there is something called <code>senderId</code> being generated for success transactions and that value is being sent as <code>NULL</code> for failure transactions.</p>\n<p>Help me with this issue.</p>\n<p>I've tried reading all the posts and internet. I don't really want to understand the fix of this. It's written everywhere in internet. For instance</p>\n<p><a href=\"https://stackoverflow.com/questions/70907689/invaliddefinitionexception-no-serializer-found-in-java-for-generic-class\">InvalidDefinitionException No serializer found in java for generic class</a></p>\n<p>I want to understand the cause of this and effects of this from the first principles.</p>\n"},{"tags":["java","swt","jface"],"answers":[{"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347554582,"creation_date":1347553439,"answer_id":12410692,"question_id":12410636,"body_markdown":"Since you want to listen to keyboard input, I would suggest listening to `SWT.KeyUp`.\r\n\r\nThis should be a good starting point:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal Display display = new Display();\r\n\t\tfinal Shell shell = new Shell(display);\r\n\t\tshell.setLayout(new FillLayout());\r\n\r\n\t\tfinal Combo combo = new Combo(shell, SWT.NONE);\r\n\t\t\r\n\t\tcombo.add(&quot;First&quot;);\r\n\t\tcombo.add(&quot;Second&quot;);\r\n\t\t\r\n\t\tcombo.addListener(SWT.Selection, new Listener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void handleEvent(Event arg0) {\r\n\t\t\t\tSystem.out.println(&quot;Selected: &quot; + combo.getItem(combo.getSelectionIndex()));\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tcombo.addListener(SWT.KeyUp, new Listener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void handleEvent(Event arg0) {\r\n\t\t\t\tSystem.out.println(&quot;Typed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tshell.pack();\r\n\t\tshell.open();\r\n\t\twhile (!shell.isDisposed()) {\r\n\t\t\tif (!display.readAndDispatch()) {\r\n\t\t\t\tdisplay.sleep();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdisplay.dispose();\r\n\t}","title":"SWT: Differentiating between selection and typing in a combo","body":"<p>Since you want to listen to keyboard input, I would suggest listening to <code>SWT.KeyUp</code>.</p>\n\n<p>This should be a good starting point:</p>\n\n<pre><code>public static void main(String[] args) {\n    final Display display = new Display();\n    final Shell shell = new Shell(display);\n    shell.setLayout(new FillLayout());\n\n    final Combo combo = new Combo(shell, SWT.NONE);\n\n    combo.add(\"First\");\n    combo.add(\"Second\");\n\n    combo.addListener(SWT.Selection, new Listener() {\n\n        @Override\n        public void handleEvent(Event arg0) {\n            System.out.println(\"Selected: \" + combo.getItem(combo.getSelectionIndex()));\n        }\n    });\n\n    combo.addListener(SWT.KeyUp, new Listener() {\n\n        @Override\n        public void handleEvent(Event arg0) {\n            System.out.println(\"Typed\");\n        }\n    });\n\n    shell.pack();\n    shell.open();\n    while (!shell.isDisposed()) {\n        if (!display.readAndDispatch()) {\n            display.sleep();\n        }\n    }\n    display.dispose();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1347641199,"creation_date":1347641199,"answer_id":12428750,"question_id":12410636,"body_markdown":"    private static ComboViewer createViewer(final Shell shell) {\r\n        final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\r\n        v.setLabelProvider(new LabelProvider());\r\n        v.setContentProvider(new ArrayContentProvider());\r\n        v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\r\n        return v;\r\n      }\r\n      \r\n      private static boolean userTyped;\r\n      private static int index = -1;\r\n      \r\n      public static void main(final String[] args) {\r\n        Display display = new Display();\r\n        Shell shell = new Shell(display);\r\n        shell.setSize(200, 60); \r\n        shell.setLayout(new GridLayout());\r\n        \r\n        final ComboViewer v = createViewer(shell);\r\n        /*\r\n         * invoked multiple times when combo selection happens\r\n         * invoked once when user types\r\n         */\r\n        v.getCombo().addVerifyListener(new VerifyListener() {\r\n          \r\n         \r\n    \r\n          @Override\r\n          public void verifyText(VerifyEvent e) {\r\n             userTyped = (e.keyCode != 0);\r\n          }\r\n        });\r\n        \r\n        \r\n        \r\n     v.getCombo().addModifyListener(new ModifyListener() {\r\n      \r\n      @Override\r\n      public void modifyText(ModifyEvent e) {\r\n      \r\n        Combo c = (Combo)e.widget;\r\n        \r\n        if(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\r\n        {\r\n          userTypedOrEditedSomething();\r\n        }\r\n        index = c.getSelectionIndex();\r\n      }\r\n    });\r\n       \r\n        // This wires up the userSelectedSomething method correctly\r\n        v.addSelectionChangedListener(new ISelectionChangedListener() {\r\n          @Override\r\n          public void selectionChanged(final SelectionChangedEvent event) {\r\n            userSelectedSomething();\r\n          }\r\n        });\r\n      \r\n        shell.open();\r\n        while (!shell.isDisposed()) {\r\n          if (!display.readAndDispatch()) {\r\n            display.sleep();\r\n          }\r\n        }\r\n        display.dispose();\r\n      }\r\n      \r\n      public static void userSelectedSomething() {\r\n        // This should be called *only if* the user selected from the drop-down\r\n        System.out.println(&quot;User selected&quot;);\r\n      }\r\n      \r\n      public static void userTypedOrEditedSomething() {\r\n        // This should be called *only if* the user typed in the combo\r\n        System.out.println(&quot;User typed or edited&quot;);\r\n      }\r\n\r\nI would suggest you to use Verify event instead Key UP as you might endup handling lot of things (arrow keys, magic keys...etc). Verify is also Key Event but it filter out **ALT,CNTRL,SHIFT** combination. When user types just check for keycode!=0.\r\n\r\nAs you pointed out, when you use CNTRL+V ,Right click Menu paste....combo doesn&#39;t consider it as key event but it fires verify event to make sure the clipboard text is valid for combo or not. I think this is how it should work as Menu item selection and Key event on combo are different things.\r\nyou can always monitor all key events for special actions like copy/paste/delete.\r\n\r\nthe above sample code should be able to perform what you are looking for.\r\n\r\n","title":"SWT: Differentiating between selection and typing in a combo","body":"<pre><code>private static ComboViewer createViewer(final Shell shell) {\n    final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\n    v.setLabelProvider(new LabelProvider());\n    v.setContentProvider(new ArrayContentProvider());\n    v.setInput(new String[]{\"value 1\", \"value 2\"});\n    return v;\n  }\n\n  private static boolean userTyped;\n  private static int index = -1;\n\n  public static void main(final String[] args) {\n    Display display = new Display();\n    Shell shell = new Shell(display);\n    shell.setSize(200, 60); \n    shell.setLayout(new GridLayout());\n\n    final ComboViewer v = createViewer(shell);\n    /*\n     * invoked multiple times when combo selection happens\n     * invoked once when user types\n     */\n    v.getCombo().addVerifyListener(new VerifyListener() {\n\n\n\n      @Override\n      public void verifyText(VerifyEvent e) {\n         userTyped = (e.keyCode != 0);\n      }\n    });\n\n\n\n v.getCombo().addModifyListener(new ModifyListener() {\n\n  @Override\n  public void modifyText(ModifyEvent e) {\n\n    Combo c = (Combo)e.widget;\n\n    if(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\n    {\n      userTypedOrEditedSomething();\n    }\n    index = c.getSelectionIndex();\n  }\n});\n\n    // This wires up the userSelectedSomething method correctly\n    v.addSelectionChangedListener(new ISelectionChangedListener() {\n      @Override\n      public void selectionChanged(final SelectionChangedEvent event) {\n        userSelectedSomething();\n      }\n    });\n\n    shell.open();\n    while (!shell.isDisposed()) {\n      if (!display.readAndDispatch()) {\n        display.sleep();\n      }\n    }\n    display.dispose();\n  }\n\n  public static void userSelectedSomething() {\n    // This should be called *only if* the user selected from the drop-down\n    System.out.println(\"User selected\");\n  }\n\n  public static void userTypedOrEditedSomething() {\n    // This should be called *only if* the user typed in the combo\n    System.out.println(\"User typed or edited\");\n  }\n</code></pre>\n\n<p>I would suggest you to use Verify event instead Key UP as you might endup handling lot of things (arrow keys, magic keys...etc). Verify is also Key Event but it filter out <strong>ALT,CNTRL,SHIFT</strong> combination. When user types just check for keycode!=0.</p>\n\n<p>As you pointed out, when you use CNTRL+V ,Right click Menu paste....combo doesn't consider it as key event but it fires verify event to make sure the clipboard text is valid for combo or not. I think this is how it should work as Menu item selection and Key event on combo are different things.\nyou can always monitor all key events for special actions like copy/paste/delete.</p>\n\n<p>the above sample code should be able to perform what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":3769305,"reputation":6314,"user_id":3131939,"accept_rate":71,"display_name":"david.perez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861846,"creation_date":1696861846,"answer_id":77259685,"question_id":12410636,"body_markdown":"A small impovement to @sambi.reddy answer, taking into account not to consider user has typed something when the arrow keys, pg down or pg up are used to select next/previous item:\r\n\r\n    private static ComboViewer createViewer(final Shell shell) {\r\n        final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\r\n        v.setLabelProvider(new LabelProvider());\r\n        v.setContentProvider(new ArrayContentProvider());\r\n        v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\r\n        return v;\r\n      }\r\n    \r\n      private static boolean userTyped;\r\n      private static int index = -1;\r\n    \r\n      public static void main(final String[] args) {\r\n        Display display = new Display();\r\n        Shell shell = new Shell(display);\r\n        shell.setSize(200, 60); \r\n        shell.setLayout(new GridLayout());\r\n    \r\n        final ComboViewer v = createViewer(shell);\r\n        /*\r\n         * invoked multiple times when combo selection happens\r\n         * invoked once when user types\r\n         */\r\n        v.getCombo().addVerifyListener(new VerifyListener() {\r\n          @Override\r\n          public void verifyText(VerifyEvent e) {\r\n             userTyped = if (ev.keyCode != 0 &amp;&amp; !List.of(SWT.ARROW_UP, SWT.ARROW_DOWN, SWT.PAGE_DOWN, SWT.PAGE_UP).contains(ev.keyCode));\r\n          }\r\n        });\r\n    }\r\n\r\n v.getCombo().addModifyListener(new ModifyListener() {\r\n\r\n  @Override\r\n  public void modifyText(ModifyEvent e) {\r\n\r\n    Combo c = (Combo)e.widget;\r\n\r\n    if(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\r\n    {\r\n      userTypedOrEditedSomething();\r\n    }\r\n    index = c.getSelectionIndex();\r\n  }\r\n});\r\n\r\n    // This wires up the userSelectedSomething method correctly\r\n    v.addSelectionChangedListener(new ISelectionChangedListener() {\r\n      @Override\r\n      public void selectionChanged(final SelectionChangedEvent event) {\r\n        userSelectedSomething();\r\n      }\r\n    });\r\n\r\n    shell.open();\r\n    while (!shell.isDisposed()) {\r\n      if (!display.readAndDispatch()) {\r\n        display.sleep();\r\n      }\r\n    }\r\n    display.dispose();\r\n  }\r\n\r\n  public static void userSelectedSomething() {\r\n    // This should be called *only if* the user selected from the drop-down\r\n    System.out.println(&quot;User selected&quot;);\r\n  }\r\n\r\n  public static void userTypedOrEditedSomething() {\r\n    // This should be called *only if* the user typed in the combo\r\n    System.out.println(&quot;User typed or edited&quot;);\r\n  }\r\n","title":"SWT: Differentiating between selection and typing in a combo","body":"<p>A small impovement to @sambi.reddy answer, taking into account not to consider user has typed something when the arrow keys, pg down or pg up are used to select next/previous item:</p>\n<pre><code>private static ComboViewer createViewer(final Shell shell) {\n    final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\n    v.setLabelProvider(new LabelProvider());\n    v.setContentProvider(new ArrayContentProvider());\n    v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\n    return v;\n  }\n\n  private static boolean userTyped;\n  private static int index = -1;\n\n  public static void main(final String[] args) {\n    Display display = new Display();\n    Shell shell = new Shell(display);\n    shell.setSize(200, 60); \n    shell.setLayout(new GridLayout());\n\n    final ComboViewer v = createViewer(shell);\n    /*\n     * invoked multiple times when combo selection happens\n     * invoked once when user types\n     */\n    v.getCombo().addVerifyListener(new VerifyListener() {\n      @Override\n      public void verifyText(VerifyEvent e) {\n         userTyped = if (ev.keyCode != 0 &amp;&amp; !List.of(SWT.ARROW_UP, SWT.ARROW_DOWN, SWT.PAGE_DOWN, SWT.PAGE_UP).contains(ev.keyCode));\n      }\n    });\n}\n</code></pre>\n<p>v.getCombo().addModifyListener(new ModifyListener() {</p>\n<p>@Override\npublic void modifyText(ModifyEvent e) {</p>\n<pre><code>Combo c = (Combo)e.widget;\n\nif(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\n{\n  userTypedOrEditedSomething();\n}\nindex = c.getSelectionIndex();\n</code></pre>\n<p>}\n});</p>\n<pre><code>// This wires up the userSelectedSomething method correctly\nv.addSelectionChangedListener(new ISelectionChangedListener() {\n  @Override\n  public void selectionChanged(final SelectionChangedEvent event) {\n    userSelectedSomething();\n  }\n});\n\nshell.open();\nwhile (!shell.isDisposed()) {\n  if (!display.readAndDispatch()) {\n    display.sleep();\n  }\n}\ndisplay.dispose();\n</code></pre>\n<p>}</p>\n<p>public static void userSelectedSomething() {\n// This should be called <em>only if</em> the user selected from the drop-down\nSystem.out.println(&quot;User selected&quot;);\n}</p>\n<p>public static void userTypedOrEditedSomething() {\n// This should be called <em>only if</em> the user typed in the combo\nSystem.out.println(&quot;User typed or edited&quot;);\n}</p>\n"}],"owner":{"account_id":47195,"reputation":1147,"user_id":139659,"accept_rate":87,"display_name":"David North"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6686,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12410692,"answer_count":3,"score":3,"last_activity_date":1696861846,"creation_date":1347553243,"question_id":12410636,"body_markdown":"Consider the following Java (SWT) code:\r\n\r\n    private static ComboViewer createViewer(final Shell shell) {\r\n      final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\r\n      v.setLabelProvider(new LabelProvider());\r\n      v.setContentProvider(new ArrayContentProvider());\r\n      v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\r\n      return v;\r\n    }\r\n  \r\n    public static void main(final String[] args) {\r\n      Display display = new Display();\r\n      Shell shell = new Shell(display);\r\n      shell.setSize(200, 60); \r\n      shell.setLayout(new GridLayout());\r\n  \r\n      final ComboViewer v = createViewer(shell);\r\n  \r\n      // This wires up the userSelectedSomething method correctly\r\n      v.addSelectionChangedListener(new ISelectionChangedListener() {\r\n        @Override\r\n        public void selectionChanged(final SelectionChangedEvent event) {\r\n          userSelectedSomething();\r\n        }\r\n      });\r\n  \r\n      shell.open();\r\n      while (!shell.isDisposed()) {\r\n        if (!display.readAndDispatch()) {\r\n          display.sleep();\r\n        }\r\n      }\r\n      display.dispose();\r\n    }\r\n  \r\n    public static void userSelectedSomething() {\r\n      // This should be called *only if* the user selected from the drop-down\r\n    }\r\n  \r\n    public static void userTypedSomething() {\r\n      // This should be called *only if* the user typed in the combo\r\n    }\r\n\r\nI want to call the `userTypedSomething` method only if the user typed into the combo (and not when they selected from the drop-down). What listener should I add to achieve this? Adding a modify listener to the combo viewer with `v.getCombo().addModifyListener(...)` is no good as this is triggered for both typing and selection from the combo.","title":"SWT: Differentiating between selection and typing in a combo","body":"<p>Consider the following Java (SWT) code:</p>\n\n<pre><code>private static ComboViewer createViewer(final Shell shell) {\n  final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\n  v.setLabelProvider(new LabelProvider());\n  v.setContentProvider(new ArrayContentProvider());\n  v.setInput(new String[]{\"value 1\", \"value 2\"});\n  return v;\n}\n\npublic static void main(final String[] args) {\n  Display display = new Display();\n  Shell shell = new Shell(display);\n  shell.setSize(200, 60); \n  shell.setLayout(new GridLayout());\n\n  final ComboViewer v = createViewer(shell);\n\n  // This wires up the userSelectedSomething method correctly\n  v.addSelectionChangedListener(new ISelectionChangedListener() {\n    @Override\n    public void selectionChanged(final SelectionChangedEvent event) {\n      userSelectedSomething();\n    }\n  });\n\n  shell.open();\n  while (!shell.isDisposed()) {\n    if (!display.readAndDispatch()) {\n      display.sleep();\n    }\n  }\n  display.dispose();\n}\n\npublic static void userSelectedSomething() {\n  // This should be called *only if* the user selected from the drop-down\n}\n\npublic static void userTypedSomething() {\n  // This should be called *only if* the user typed in the combo\n}\n</code></pre>\n\n<p>I want to call the <code>userTypedSomething</code> method only if the user typed into the combo (and not when they selected from the drop-down). What listener should I add to achieve this? Adding a modify listener to the combo viewer with <code>v.getCombo().addModifyListener(...)</code> is no good as this is triggered for both typing and selection from the combo.</p>\n"},{"tags":["java","spring-boot","build.gradle","bouncycastle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696861989,"post_id":77259667,"comment_id":136203801,"body_markdown":"`X509v3CertificateBuilder` isn&#39;t in the main jar, it&#39;s in `pkix`.","body":"<code>X509v3CertificateBuilder</code> isn&#39;t in the main jar, it&#39;s in <code>pkix</code>."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696862298,"post_id":77259667,"comment_id":136203878,"body_markdown":"You need this one: https://central.sonatype.com/artifact/org.bouncycastle/bcpkix-jdk18on","body":"You need this one: <a href=\"https://central.sonatype.com/artifact/org.bouncycastle/bcpkix-jdk18on\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/org.bouncycastle/bcpkix-jdk18o&zwnj;&#8203;n</a>"}],"owner":{"account_id":448169,"reputation":5643,"user_id":842225,"accept_rate":49,"display_name":"user842225"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696861726,"creation_date":1696861726,"question_id":77259667,"body_markdown":"In my spring Boot project, I would like to use this [X509v3CertificateBuilder][1] class for creating self-signed certificate.\r\n\r\nI have added the dependency in project&#39;s `build.gradle.kts` based on the [maven repo][2]:\r\n```\r\ndependencies {\r\n  ...\r\n  implementation(&quot;org.bouncycastle:bcprov-jdk15on:1.70&quot;)\r\n}\r\n```\r\n\r\nWhen I write code in my project on IntelliJ IDE:\r\n```\r\n// X509v3CertificateBuilder can not be resolved\r\nX509v3CertificateBuilder certBuilder = new X509v3CertificateBuilder(...)\r\n```\r\nThe `X509v3CertificateBuilder` can not be resolved, auto-import can&#39;t find it.\r\n \r\nI also tried explicitly import it:\r\n```\r\n// the &#39;cert&#39; package can not be resolved\r\nimport org.bouncycastle.cert.X509v3CertificateBuilder\r\n```\r\nThe `cert` package can not be resolved.\r\n\r\nWhere am I missing to use the library?  \r\n\r\n(If there are other ways to create self-signed X.509 certificate please also let me know. Thanks.)\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/X509v3CertificateBuilder.html\r\n  [2]: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.70","title":"Using bouncycastle library in my spring boot project but officially documented API can not be resolved when import","body":"<p>In my spring Boot project, I would like to use this <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/X509v3CertificateBuilder.html\" rel=\"nofollow noreferrer\">X509v3CertificateBuilder</a> class for creating self-signed certificate.</p>\n<p>I have added the dependency in project's <code>build.gradle.kts</code> based on the <a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.70\" rel=\"nofollow noreferrer\">maven repo</a>:</p>\n<pre><code>dependencies {\n  ...\n  implementation(&quot;org.bouncycastle:bcprov-jdk15on:1.70&quot;)\n}\n</code></pre>\n<p>When I write code in my project on IntelliJ IDE:</p>\n<pre><code>// X509v3CertificateBuilder can not be resolved\nX509v3CertificateBuilder certBuilder = new X509v3CertificateBuilder(...)\n</code></pre>\n<p>The <code>X509v3CertificateBuilder</code> can not be resolved, auto-import can't find it.</p>\n<p>I also tried explicitly import it:</p>\n<pre><code>// the 'cert' package can not be resolved\nimport org.bouncycastle.cert.X509v3CertificateBuilder\n</code></pre>\n<p>The <code>cert</code> package can not be resolved.</p>\n<p>Where am I missing to use the library?</p>\n<p>(If there are other ways to create self-signed X.509 certificate please also let me know. Thanks.)</p>\n"},{"tags":["java","comparator","comparable"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1696800560,"post_id":77255390,"comment_id":136196156,"body_markdown":"Please [edit] your question to include the full complete assignment.","body":"Please <a href=\"https://stackoverflow.com/posts/77255390/edit\">edit</a> your question to include the full complete assignment."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1696800615,"post_id":77255390,"comment_id":136196159,"body_markdown":"Um, well.... Plagiarism checker checks SO aggressively... @Progman","body":"Um, well.... Plagiarism checker checks SO aggressively... @Progman"},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1696800637,"post_id":77255390,"comment_id":136196160,"body_markdown":"I don&#39;t need code, even a hint might work.","body":"I don&#39;t need code, even a hint might work."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1696800692,"post_id":77255390,"comment_id":136196165,"body_markdown":"There might be information in the original assignment which might make it more clear what you are trying to do or what you are supposed to do. That&#39;s why the original assignment should be in the question.","body":"There might be information in the original assignment which might make it more clear what you are trying to do or what you are supposed to do. That&#39;s why the original assignment should be in the question."}],"answers":[{"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696800795,"creation_date":1696800679,"answer_id":77255408,"question_id":77255390,"body_markdown":"You can use `?` knowns as *wildcard* instead of specifying the type explicitly:\r\n\r\n    class MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\r\n        private int counter; // or any other variable\r\n        \r\n        @Override\r\n        public int compareTo(MyClass&lt;?&gt; o) {\r\n            return counter - o.counter;\r\n        }\r\n    }\r\n\r\nAnd then use it like:\r\n\r\n    MyClass&lt;String&gt; string = new MyClass&lt;&gt;();\r\n    MyClass&lt;Integer&gt; integer = new MyClass&lt;&gt;();\r\n\r\n    int result = string.compareTo(integer);","title":"How to compare two different generic instantiations of a class in Java?","body":"<p>You can use <code>?</code> knowns as <em>wildcard</em> instead of specifying the type explicitly:</p>\n<pre><code>class MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\n    private int counter; // or any other variable\n    \n    @Override\n    public int compareTo(MyClass&lt;?&gt; o) {\n        return counter - o.counter;\n    }\n}\n</code></pre>\n<p>And then use it like:</p>\n<pre><code>MyClass&lt;String&gt; string = new MyClass&lt;&gt;();\nMyClass&lt;Integer&gt; integer = new MyClass&lt;&gt;();\n\nint result = string.compareTo(integer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696861632,"creation_date":1696821742,"answer_id":77256112,"question_id":77255390,"body_markdown":"Based on [Babanin&#39;s](https://stackoverflow.com/a/77255408/1552534) answer I have a few suggestions.\r\n- get rid of the `T extends Comparable&lt;T&gt;` as it doesn&#39;t come into play.\r\n- although it may not matter in this case, don&#39;t get into the habit of subtracting ints for comparisons.  Using `Integer.compare(int a, int b)` will ensure that you won&#39;t get wrong results when you encounter int overflow.\r\n```\r\nclass MyClass&lt;T&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\r\n    T value;\r\n    int counter;\r\n    public MyClass(T val, int v) {\r\n        this.counter = v;\r\n        this.value = val;\r\n    }\r\n    \r\n    @Override\r\n    public int compareTo(MyClass&lt;?&gt; ob) {\r\n        return Integer.compare(this.counter, ob.counter);\r\n    }\r\n}\r\n```\r\nAnd an alternative is to declare an `abstract class` which has the supporting counter methods and values.  Then it just a matter of extending it. Of course, depending on your use case, this alternative may not be useful (and it does use up your single allowable class extension).\r\n```\r\nabstract class MyCounter implements Comparable&lt;MyCounter&gt; {\r\n    protected int counter;\r\n    public int getCounter() {\r\n        return counter;\r\n    }\r\n    public int compareTo(MyCounter obj) {\r\n        return Integer.compare(this.counter, obj.counter);\r\n    }\r\n    // other methods that may be useful to a counter.\r\n}     \r\n\r\nclass MyClass&lt;T&gt; extends MyCounter {\r\n    T value;\r\n    public MyClass(T val, int v) {\r\n        this.counter = v;\r\n        this.value = val;\r\n    }\r\n    // other required code here.\r\n} \r\n```\r\nAnd consider that `MyClass&lt;T&gt;` can&#39;t support operations that would be unique to type `T`.  For example, you can&#39;t have both a `divide` method and a `reverseString` method even though `T` could be `Double` or `String`.&lt;sup&gt;1&lt;/sup&gt; But you can have a `List&lt;T&gt; getList()` method and a `void addToList(T val)` method since lists may hold different types.\r\n___\r\n&lt;sup&gt;1&lt;/sup&gt; For limited types you can do this but you have to check the types, make certain the operation fits that type, and then cast to that type. But this would be a poorly designed class and simply does not scale.","title":"How to compare two different generic instantiations of a class in Java?","body":"<p>Based on <a href=\"https://stackoverflow.com/a/77255408/1552534\">Babanin's</a> answer I have a few suggestions.</p>\n<ul>\n<li>get rid of the <code>T extends Comparable&lt;T&gt;</code> as it doesn't come into play.</li>\n<li>although it may not matter in this case, don't get into the habit of subtracting ints for comparisons.  Using <code>Integer.compare(int a, int b)</code> will ensure that you won't get wrong results when you encounter int overflow.</li>\n</ul>\n<pre><code>class MyClass&lt;T&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\n    T value;\n    int counter;\n    public MyClass(T val, int v) {\n        this.counter = v;\n        this.value = val;\n    }\n    \n    @Override\n    public int compareTo(MyClass&lt;?&gt; ob) {\n        return Integer.compare(this.counter, ob.counter);\n    }\n}\n</code></pre>\n<p>And an alternative is to declare an <code>abstract class</code> which has the supporting counter methods and values.  Then it just a matter of extending it. Of course, depending on your use case, this alternative may not be useful (and it does use up your single allowable class extension).</p>\n<pre><code>abstract class MyCounter implements Comparable&lt;MyCounter&gt; {\n    protected int counter;\n    public int getCounter() {\n        return counter;\n    }\n    public int compareTo(MyCounter obj) {\n        return Integer.compare(this.counter, obj.counter);\n    }\n    // other methods that may be useful to a counter.\n}     \n\nclass MyClass&lt;T&gt; extends MyCounter {\n    T value;\n    public MyClass(T val, int v) {\n        this.counter = v;\n        this.value = val;\n    }\n    // other required code here.\n} \n</code></pre>\n<p>And consider that <code>MyClass&lt;T&gt;</code> can't support operations that would be unique to type <code>T</code>.  For example, you can't have both a <code>divide</code> method and a <code>reverseString</code> method even though <code>T</code> could be <code>Double</code> or <code>String</code>.<sup>1</sup> But you can have a <code>List&lt;T&gt; getList()</code> method and a <code>void addToList(T val)</code> method since lists may hold different types.</p>\n<hr />\n<p><sup>1</sup> For limited types you can do this but you have to check the types, make certain the operation fits that type, and then cast to that type. But this would be a poorly designed class and simply does not scale.</p>\n"}],"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77255408,"answer_count":2,"score":-2,"last_activity_date":1696861632,"creation_date":1696800257,"question_id":77255390,"body_markdown":"MRE because well, assignment... sigh\r\n\r\nThis is the problem I&#39;m stuck on:  \r\nConsider the following class:  \r\n```lang-java\r\nclass MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;T&gt;&gt; {\r\n\r\n... override the compareTo\r\n}\r\n```\r\nThis allows me to compare `MyClass&lt;Integer&gt;` with another `MyClass&lt;Integer&gt;` or even `MyClass&lt;MyClass&lt;Integer&gt;&gt;` with another `MyClass&lt;MyClass&lt;Integer&gt;&gt;`.\r\nHowever, the assignment requires me to be able to compare `MyClass&lt;MyClass&lt;Integer&gt;&gt;` with `MyClass&lt;MyClass&lt;String&gt;&gt;` as the comparison just uses a counter and returns whichever class has the bigger counter as the greater of the two.  \r\nHow would I go about achieving this? My guess is that the Comparator comes into play as is apparent [here][1]. However, I&#39;m not able to quite put my finger on it. Is it as simple as just using the compare(Object,Object) from the Comparator or is it [something else][2]?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1440134/when-should-a-class-be-comparable-and-or-comparator\r\n  [2]: https://stackoverflow.com/questions/34951388/compare-two-generic-types-in-java","title":"How to compare two different generic instantiations of a class in Java?","body":"<p>MRE because well, assignment... sigh</p>\n<p>This is the problem I'm stuck on:<br />\nConsider the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;T&gt;&gt; {\n\n... override the compareTo\n}\n</code></pre>\n<p>This allows me to compare <code>MyClass&lt;Integer&gt;</code> with another <code>MyClass&lt;Integer&gt;</code> or even <code>MyClass&lt;MyClass&lt;Integer&gt;&gt;</code> with another <code>MyClass&lt;MyClass&lt;Integer&gt;&gt;</code>.\nHowever, the assignment requires me to be able to compare <code>MyClass&lt;MyClass&lt;Integer&gt;&gt;</code> with <code>MyClass&lt;MyClass&lt;String&gt;&gt;</code> as the comparison just uses a counter and returns whichever class has the bigger counter as the greater of the two.<br />\nHow would I go about achieving this? My guess is that the Comparator comes into play as is apparent <a href=\"https://stackoverflow.com/questions/1440134/when-should-a-class-be-comparable-and-or-comparator\">here</a>. However, I'm not able to quite put my finger on it. Is it as simple as just using the compare(Object,Object) from the Comparator or is it <a href=\"https://stackoverflow.com/questions/34951388/compare-two-generic-types-in-java\">something else</a>?</p>\n"},{"tags":["java","mysql","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":6093107,"reputation":23142,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1453547137,"creation_date":1453547137,"answer_id":34962649,"question_id":34954890,"body_markdown":"First, you need to subtract `createdOn` from the current date, not vice versa (otherwise, result is always negative and condition always evaluates to `true`).\r\n\r\nSecondly, if date operations don&#39;t work as expected, you can always calculate the date limit before query execution and pass it as parameter:\r\n\r\n    Date date = // current date minus three days\r\n    \r\n    TypedQuery&lt;Person&gt; q = entityManager.createQuery(&quot;SELECT p FROM Person p WHERE p.createdOn &gt;= :date&quot;, Person.class);\r\n    q.setParameter(&quot;date&quot;, date);","title":"JPQL - Calculate difference between Timestamps","body":"<p>First, you need to subtract <code>createdOn</code> from the current date, not vice versa (otherwise, result is always negative and condition always evaluates to <code>true</code>).</p>\n\n<p>Secondly, if date operations don't work as expected, you can always calculate the date limit before query execution and pass it as parameter:</p>\n\n<pre><code>Date date = // current date minus three days\n\nTypedQuery&lt;Person&gt; q = entityManager.createQuery(\"SELECT p FROM Person p WHERE p.createdOn &gt;= :date\", Person.class);\nq.setParameter(\"date\", date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1014824,"reputation":667,"user_id":1026624,"display_name":"marcioggs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861547,"creation_date":1696861547,"answer_id":77259639,"question_id":34954890,"body_markdown":"JPQL:\r\n\r\n```jpql\r\nSELECT p\r\nFROM Person p\r\nWHERE day(CURRENT_TIMESTAMP - p.createdOn) &lt;= :constant))\r\n```","title":"JPQL - Calculate difference between Timestamps","body":"<p>JPQL:</p>\n<pre><code>SELECT p\nFROM Person p\nWHERE day(CURRENT_TIMESTAMP - p.createdOn) &lt;= :constant))\n</code></pre>\n"}],"owner":{"account_id":7115774,"reputation":2538,"user_id":5442132,"accept_rate":25,"display_name":"myselfmiqdad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34962649,"answer_count":2,"score":1,"last_activity_date":1696861547,"creation_date":1453492586,"question_id":34954890,"body_markdown":"I want to calculate the difference between the `TIMESTAMP` saved in the Database with the `CURRENT_TIMSTAMP` and verify if the number of **days** between them is less than a given number.\r\n\r\n    TypedQuery&lt;Person&gt; q = entityManager.createQuery(&quot;SELECT p FROM Person p WHERE (p.createdOn - CURRENT_TIMESTAMP &lt;= :constant))&quot;, Person.class);\r\n\r\nThe `p.createdOn` is automatically set by the Database.\r\n\r\nThe `constant` would be the number of days the difference has to be less than.\r\n\r\n    q.setParameter(&quot;constant&quot;, 14);\r\n\r\nThe query is compiling but not retrieving what it needs to and I am unable to get the number of days between them working in my query. \r\n\r\nAn alternative (inefficient) approach is getting all and looping through them and calculating.\r\n\r\n","title":"JPQL - Calculate difference between Timestamps","body":"<p>I want to calculate the difference between the <code>TIMESTAMP</code> saved in the Database with the <code>CURRENT_TIMSTAMP</code> and verify if the number of <strong>days</strong> between them is less than a given number.</p>\n\n<pre><code>TypedQuery&lt;Person&gt; q = entityManager.createQuery(\"SELECT p FROM Person p WHERE (p.createdOn - CURRENT_TIMESTAMP &lt;= :constant))\", Person.class);\n</code></pre>\n\n<p>The <code>p.createdOn</code> is automatically set by the Database.</p>\n\n<p>The <code>constant</code> would be the number of days the difference has to be less than.</p>\n\n<pre><code>q.setParameter(\"constant\", 14);\n</code></pre>\n\n<p>The query is compiling but not retrieving what it needs to and I am unable to get the number of days between them working in my query. </p>\n\n<p>An alternative (inefficient) approach is getting all and looping through them and calculating.</p>\n"},{"tags":["java","android","exoplayer","background-service"],"answers":[{"tags":[],"owner":{"account_id":3215929,"reputation":485,"user_id":2714637,"display_name":"Ahmed Garhy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647816219,"creation_date":1647816219,"answer_id":71551218,"question_id":71198059,"body_markdown":"just create a channel for the notification before calling \r\n\r\n``` startForeground(notificationId, notification) ```\r\n\r\n``` \r\noverride fun onNotificationPosted(\r\n        notificationId: Int,\r\n        notification: Notification,\r\n        ongoing: Boolean\r\n    ) {\r\n        // create channel for the audio player notificaiton\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val importance = NotificationManager.IMPORTANCE_LOW\r\n            val channel = NotificationChannel(\r\n                &quot;audio_player&quot;,\r\n                &quot;channel_name&quot;,\r\n                importance\r\n            )\r\n            channel.setSound(null, null)\r\n            notificationManager.createNotificationChannel(channel)\r\n        }\r\n\r\n        startForeground(notificationId, notification)\r\n    }\r\n```","title":"Bad notification for startForeground playerNotificationManagerBuilder.setNotificationListener","body":"<p>just create a channel for the notification before calling</p>\n<p><code>startForeground(notificationId, notification)</code></p>\n<pre><code>override fun onNotificationPosted(\n        notificationId: Int,\n        notification: Notification,\n        ongoing: Boolean\n    ) {\n        // create channel for the audio player notificaiton\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val importance = NotificationManager.IMPORTANCE_LOW\n            val channel = NotificationChannel(\n                &quot;audio_player&quot;,\n                &quot;channel_name&quot;,\n                importance\n            )\n            channel.setSound(null, null)\n            notificationManager.createNotificationChannel(channel)\n        }\n\n        startForeground(notificationId, notification)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9143565,"reputation":781,"user_id":6800637,"display_name":"AllanRibas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861467,"creation_date":1695741576,"answer_id":77181352,"question_id":71198059,"body_markdown":"In my case I do it like this\r\n\r\nin your Manifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot; android:maxSdkVersion=&quot;34&quot; /&gt;\r\n\t\r\n\t&lt;service android:name=&quot;.ForegroundService&quot;\r\n\t  android:foregroundServiceType=&quot;mediaPlayback&quot;\r\n\t  android:exported=&quot;false&quot;&gt;\r\n\t  &lt;intent-filter&gt;\r\n\t\t&lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n\t  &lt;/intent-filter&gt;\r\n\t  &lt;property android:name=&quot;android.app.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot;\r\n\t\tandroid:value=&quot;test&quot;/&gt;\r\n\t &lt;/service&gt;\r\n\r\n\r\n\t&lt;receiver android:name=&quot;androidx.media3.session.MediaButtonReceiver&quot;\r\n\t  android:exported=&quot;true&quot;&gt;\r\n\t  &lt;intent-filter&gt;\r\n\t\t&lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n\t  &lt;/intent-filter&gt;\r\n\t&lt;/receiver&gt;\r\n\r\n\r\nin your Service\r\n\r\n    package com.example\r\n\r\n\timport android.app.Notification\r\n\timport android.app.NotificationChannel\r\n\timport android.app.NotificationManager\r\n\timport android.content.Context\r\n\timport android.content.Intent\r\n\timport android.content.pm.ServiceInfo\r\n\timport android.os.Build\r\n\timport androidx.media3.common.util.UnstableApi\r\n\timport androidx.media3.session.MediaSession\r\n\timport androidx.media3.session.MediaSessionService\r\n\timport androidx.media3.ui.PlayerNotificationManager\r\n\r\n\tclass ForegroundService: MediaSessionService() {\r\n\r\n\tprivate var playerNotificationManager: PlayerNotificationManager? = null\r\n\r\n\tprivate var notificationManager: NotificationManager? = null\r\n\r\n\tprivate var descriptionAdapter = DescriptionAdapter()\r\n\r\n\tprivate var notificationListener = notificationListener()\r\n\r\n\t\toverride fun onGetSession(controllerInfo: MediaSession.ControllerInfo): MediaSession? {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\toverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n\t  super.onStartCommand(intent, flags, startId)\r\n\t    addNotificationToPlayer()\r\n\t  return START_NOT_STICKY\r\n\t}\r\n\r\n\t\toverride fun onCreate() {\r\n\t\t\tsuper.onCreate()\r\n\t\t\t createNotificationChannel()            \r\n\t\t}\r\n\r\n        override fun onDestroy() {\r\n          super.onDestroy()      \r\n            playerNotificationManager?.setPlayer(null)\r\n            playerNotificationManager = null\r\n        }\r\n\r\n\t\t@UnstableApi\r\n\t\tprivate fun addNotificationToPlayer() {\r\n\t\t if(playerNotificationManager == null){\r\n\t\t     playerNotificationManager = PlayerNotificationManager.Builder(\r\n\t           this, 1, &quot;NOTIFICATION_CHANNEL_NAME&quot;,)\r\n\t           .setMediaDescriptionAdapter(descriptionAdapter)\r\n\t           .setNotificationListener(notificationListener)\r\n\t        .build()\r\n\t\t\t\r\n\t\t\tplayerNotificationManager?.setPlayer(mediaSession?.player)\r\n\t\t }\r\n    \t   \r\n\t\t}\r\n\t\t\r\n\t\tprivate inner class DescriptionAdapter : MediaDescriptionAdapter {\r\n\t\t\toverride fun getCurrentContentTitle(player: Player): CharSequence {\r\n\t\t\t\treturn player.mediaMetadata.title.toString()\r\n\t\t\t}\r\n\r\n\t\t\toverride fun createCurrentContentIntent(player: Player): PendingIntent? {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\r\n\t\t\toverride fun getCurrentContentText(player: Player): CharSequence? {\r\n\t\t\t\treturn player.mediaMetadata.subtitle\r\n\t\t\t}\r\n\r\n\t\t\toverride fun getCurrentLargeIcon(\r\n\t\t\t\tplayer: Player,\r\n\t\t\t\tcallback: PlayerNotificationManager.BitmapCallback\r\n\t\t\t): Bitmap? {\r\n\t\t\t\treturn getBitmapData(player.mediaMetadata.artworkData!!)\r\n\t\t\t}\r\n          \r\n            private fun getBitmapData(byteArray: ByteArray): Bitmap? {\r\n              val options = BitmapFactory.Options()\r\n              options.inMutable = true\r\n              return try {\r\n                BitmapFactory.decodeByteArray(byteArray, 0, byteArray.size, options)\r\n              } catch (e: Exception) {\r\n                Log.d(&quot;getBitmapData&quot;, &quot;${e.message}&quot;)\r\n                BitmapFactory.decodeResource(\r\n                    this@ForegroundService.resources,\r\n                    R.drawable.app_icon\r\n                )\r\n              }\r\n            }\r\n\r\n        }\r\n\r\n\t\t@UnstableApi\r\n\t\tprivate fun notificationListener() = object : PlayerNotificationManager.NotificationListener {\r\n\t\t\toverride fun onNotificationPosted(\r\n\t\t\t\tnotificationId: Int,\r\n\t\t\t\tnotification: Notification,\r\n\t\t\t\tongoing: Boolean\r\n\t\t\t) {\r\n\t\t\t\tsuper.onNotificationPosted(notificationId, notification, ongoing)\r\n\t\t\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.UPSIDE_DOWN_CAKE) {\r\n\t\t\t\t\tstartForeground(\r\n\t\t\t\t\t\tnotificationId,\r\n\t\t\t\t\t\tnotification,\r\n\t\t\t\t\t\tServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PLAYBACK\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartForeground(\r\n\t\t\t\t\t\tnotificationId,\r\n\t\t\t\t\t\tnotification\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toverride fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\r\n\t\t\t\tsuper.onNotificationCancelled(notificationId, dismissedByUser)\r\n\t\t\t\tstopSelf()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate fun createNotificationChannel(){\r\n\t\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\t\t\t\tval channel = NotificationChannel(\r\n\t\t\t\t\t&quot;NOTIFICATION_CHANNEL_ID&quot;,\r\n\t\t\t\t\t&quot;NOTIFICATION_CHANNEL_NAME&quot;,\r\n\t\t\t\t\tNotificationManager.IMPORTANCE_LOW\r\n\t\t\t\t)\r\n\t\t\t\tgetManager(this).createNotificationChannel(channel)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate fun getManager(context: Context): NotificationManager {\r\n\t\t\tif (notificationManager == null) {\r\n\t\t\t\tnotificationManager =\r\n\t\t\t\t\tcontext.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n\t\t\t}\r\n\t\t\treturn notificationManager as NotificationManager\r\n\t\t}\r\n\t\t\r\n\t}","title":"Bad notification for startForeground playerNotificationManagerBuilder.setNotificationListener","body":"<p>In my case I do it like this</p>\n<p>in your Manifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot; android:maxSdkVersion=&quot;34&quot; /&gt;\n\n&lt;service android:name=&quot;.ForegroundService&quot;\n  android:foregroundServiceType=&quot;mediaPlayback&quot;\n  android:exported=&quot;false&quot;&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n  &lt;/intent-filter&gt;\n  &lt;property android:name=&quot;android.app.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot;\n    android:value=&quot;test&quot;/&gt;\n &lt;/service&gt;\n\n\n&lt;receiver android:name=&quot;androidx.media3.session.MediaButtonReceiver&quot;\n  android:exported=&quot;true&quot;&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n  &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>in your Service</p>\n<pre><code>package com.example\n\nimport android.app.Notification\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.content.Context\nimport android.content.Intent\nimport android.content.pm.ServiceInfo\nimport android.os.Build\nimport androidx.media3.common.util.UnstableApi\nimport androidx.media3.session.MediaSession\nimport androidx.media3.session.MediaSessionService\nimport androidx.media3.ui.PlayerNotificationManager\n\nclass ForegroundService: MediaSessionService() {\n\nprivate var playerNotificationManager: PlayerNotificationManager? = null\n\nprivate var notificationManager: NotificationManager? = null\n\nprivate var descriptionAdapter = DescriptionAdapter()\n\nprivate var notificationListener = notificationListener()\n\n    override fun onGetSession(controllerInfo: MediaSession.ControllerInfo): MediaSession? {\n        return null\n    }\n\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n  super.onStartCommand(intent, flags, startId)\n    addNotificationToPlayer()\n  return START_NOT_STICKY\n}\n\n    override fun onCreate() {\n        super.onCreate()\n         createNotificationChannel()            \n    }\n\n    override fun onDestroy() {\n      super.onDestroy()      \n        playerNotificationManager?.setPlayer(null)\n        playerNotificationManager = null\n    }\n\n    @UnstableApi\n    private fun addNotificationToPlayer() {\n     if(playerNotificationManager == null){\n         playerNotificationManager = PlayerNotificationManager.Builder(\n           this, 1, &quot;NOTIFICATION_CHANNEL_NAME&quot;,)\n           .setMediaDescriptionAdapter(descriptionAdapter)\n           .setNotificationListener(notificationListener)\n        .build()\n        \n        playerNotificationManager?.setPlayer(mediaSession?.player)\n     }\n       \n    }\n    \n    private inner class DescriptionAdapter : MediaDescriptionAdapter {\n        override fun getCurrentContentTitle(player: Player): CharSequence {\n            return player.mediaMetadata.title.toString()\n        }\n\n        override fun createCurrentContentIntent(player: Player): PendingIntent? {\n            return null\n        }\n\n        override fun getCurrentContentText(player: Player): CharSequence? {\n            return player.mediaMetadata.subtitle\n        }\n\n        override fun getCurrentLargeIcon(\n            player: Player,\n            callback: PlayerNotificationManager.BitmapCallback\n        ): Bitmap? {\n            return getBitmapData(player.mediaMetadata.artworkData!!)\n        }\n      \n        private fun getBitmapData(byteArray: ByteArray): Bitmap? {\n          val options = BitmapFactory.Options()\n          options.inMutable = true\n          return try {\n            BitmapFactory.decodeByteArray(byteArray, 0, byteArray.size, options)\n          } catch (e: Exception) {\n            Log.d(&quot;getBitmapData&quot;, &quot;${e.message}&quot;)\n            BitmapFactory.decodeResource(\n                this@ForegroundService.resources,\n                R.drawable.app_icon\n            )\n          }\n        }\n\n    }\n\n    @UnstableApi\n    private fun notificationListener() = object : PlayerNotificationManager.NotificationListener {\n        override fun onNotificationPosted(\n            notificationId: Int,\n            notification: Notification,\n            ongoing: Boolean\n        ) {\n            super.onNotificationPosted(notificationId, notification, ongoing)\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.UPSIDE_DOWN_CAKE) {\n                startForeground(\n                    notificationId,\n                    notification,\n                    ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PLAYBACK\n                )\n            } else {\n                startForeground(\n                    notificationId,\n                    notification\n                )\n            }\n        }\n\n        override fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\n            super.onNotificationCancelled(notificationId, dismissedByUser)\n            stopSelf()\n        }\n    }\n\n    private fun createNotificationChannel(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val channel = NotificationChannel(\n                &quot;NOTIFICATION_CHANNEL_ID&quot;,\n                &quot;NOTIFICATION_CHANNEL_NAME&quot;,\n                NotificationManager.IMPORTANCE_LOW\n            )\n            getManager(this).createNotificationChannel(channel)\n        }\n    }\n\n    private fun getManager(context: Context): NotificationManager {\n        if (notificationManager == null) {\n            notificationManager =\n                context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        }\n        return notificationManager as NotificationManager\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":22397368,"reputation":25,"user_id":16608427,"display_name":"Juan Christopher Bazaldua Rami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71551218,"answer_count":2,"score":1,"last_activity_date":1696861467,"creation_date":1645385740,"question_id":71198059,"body_markdown":"Hello I&#39;m building a stream music app and when I tried to set the setNotificationListener I receive this error and the app crashes\r\n\r\nfor the record, I already can show the notification but after reinstalling the app I receive this error\r\n\r\nthis is my code\r\n    \r\n   \r\n\r\n         public void startToPlay(Context context){\r\n            // Global settings.\r\n\r\n   \r\n            playerNotificationManagerBuilder = new PlayerNotificationManager.Builder(context,\r\n                    PLAYBACK_NOTIFICATION_ID,\r\n                    PLAYBACK_CHANNEL_ID);\r\n    \r\n            playerNotificationManagerBuilder.setSmallIconResourceId(R.drawable.ic_image_ip);\r\n    \r\n    \r\n            playerNotificationManagerBuilder.setNotificationListener(new PlayerNotificationManager.NotificationListener() {\r\n                @Override\r\n                public void onNotificationCancelled(int notificationId, boolean dismissedByUser) {\r\n                    PlayerNotificationManager.NotificationListener.super.onNotificationCancelled(notificationId, dismissedByUser);\r\n                    stopSelf();\r\n                }\r\n                @Override\r\n                public void onNotificationPosted(int notificationId, Notification notification, boolean ongoing) {\r\n                    PlayerNotificationManager.NotificationListener.super.onNotificationPosted(notificationId, notification, ongoing);\r\n                    if (ongoing) {\r\n                        // Here Audio is playing, so we need to make sure the service will not get destroyed by calling startForeground.\r\n                        startForeground(notificationId, notification);\r\n                    } else {\r\n                        //Here audio has stopped playing, so we can make notification dismissible on swipe.\r\n                        stopForeground(false);\r\n                    }\r\n                }\r\n            });","title":"Bad notification for startForeground playerNotificationManagerBuilder.setNotificationListener","body":"<p>Hello I'm building a stream music app and when I tried to set the setNotificationListener I receive this error and the app crashes</p>\n<p>for the record, I already can show the notification but after reinstalling the app I receive this error</p>\n<p>this is my code</p>\n<pre><code>     public void startToPlay(Context context){\n        // Global settings.\n\n\n        playerNotificationManagerBuilder = new PlayerNotificationManager.Builder(context,\n                PLAYBACK_NOTIFICATION_ID,\n                PLAYBACK_CHANNEL_ID);\n\n        playerNotificationManagerBuilder.setSmallIconResourceId(R.drawable.ic_image_ip);\n\n\n        playerNotificationManagerBuilder.setNotificationListener(new PlayerNotificationManager.NotificationListener() {\n            @Override\n            public void onNotificationCancelled(int notificationId, boolean dismissedByUser) {\n                PlayerNotificationManager.NotificationListener.super.onNotificationCancelled(notificationId, dismissedByUser);\n                stopSelf();\n            }\n            @Override\n            public void onNotificationPosted(int notificationId, Notification notification, boolean ongoing) {\n                PlayerNotificationManager.NotificationListener.super.onNotificationPosted(notificationId, notification, ongoing);\n                if (ongoing) {\n                    // Here Audio is playing, so we need to make sure the service will not get destroyed by calling startForeground.\n                    startForeground(notificationId, notification);\n                } else {\n                    //Here audio has stopped playing, so we can make notification dismissible on swipe.\n                    stopForeground(false);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":136380,"reputation":22834,"user_id":339843,"accept_rate":52,"display_name":"tofutim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306172003,"creation_date":1306172003,"answer_id":6100739,"question_id":6100712,"body_markdown":"Traversing the string is probably the most efficient, though using Regex to do this might yield cleaner looking code (though you can always hide your traverse code in a function).","title":"Simple way to count character occurrences in a string","body":"<p>Traversing the string is probably the most efficient, though using Regex to do this might yield cleaner looking code (though you can always hide your traverse code in a function).</p>\n"},{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":1,"up_vote_count":126,"is_accepted":true,"score":125,"last_activity_date":1696861414,"creation_date":1306172015,"answer_id":6100744,"question_id":6100712,"body_markdown":"    public int countChar(String str, char c)\r\n    {\r\n    \tint count = 0;\r\n    \t\r\n    \tfor(int i=0; i &lt; str.length(); i++)\r\n    \t{    if(str.charAt(i) == c)\r\n    \t\t\tcount++;\r\n    \t}\r\n    \t\r\n    \treturn count;\r\n    }\r\n\r\nThis is definitely the fastest way. Regexes are much much slower here, and possibly harder to understand.","title":"Simple way to count character occurrences in a string","body":"<pre><code>public int countChar(String str, char c)\n{\n    int count = 0;\n    \n    for(int i=0; i &lt; str.length(); i++)\n    {    if(str.charAt(i) == c)\n            count++;\n    }\n    \n    return count;\n}\n</code></pre>\n<p>This is definitely the fastest way. Regexes are much much slower here, and possibly harder to understand.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1306172055,"creation_date":1306172055,"answer_id":6100752,"question_id":6100712,"body_markdown":"A character frequency count is a common task for some applications (such as education) but not general enough to warrant inclusion with the core Java APIs.  As such, you&#39;ll probably need to write your own function.","title":"Simple way to count character occurrences in a string","body":"<p>A character frequency count is a common task for some applications (such as education) but not general enough to warrant inclusion with the core Java APIs.  As such, you'll probably need to write your own function.</p>\n"},{"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306172465,"creation_date":1306172067,"answer_id":6100754,"question_id":6100712,"body_markdown":"Well there are a bunch of different utilities for this, e.g. [Apache Commons Lang String Utils][1]\r\n\r\nbut in the end, it has to loop over the string to count the occurrences one way or another.\r\n\r\nNote also that the `countMatches` method above has the following signature so will work for substrings as well.\r\n\r\n`public static int countMatches(String str, String sub)`\r\n\r\nThe source for this is (from [here][2]):\r\n\r\n    public static int countMatches(String str, String sub) {\r\n        if (isEmpty(str) || isEmpty(sub)) {\r\n            return 0;\r\n        }\r\n        int count = 0;\r\n        int idx = 0;\r\n        while ((idx = str.indexOf(sub, idx)) != -1) {\r\n            count++;\r\n            idx += sub.length();\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\nI was curious if they were iterating over the string or using Regex.\r\n\r\n   \r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://www.docjar.com/html/api/org/apache/commons/lang/StringUtils.java.html","title":"Simple way to count character occurrences in a string","body":"<p>Well there are a bunch of different utilities for this, e.g. <a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">Apache Commons Lang String Utils</a></p>\n\n<p>but in the end, it has to loop over the string to count the occurrences one way or another.</p>\n\n<p>Note also that the <code>countMatches</code> method above has the following signature so will work for substrings as well.</p>\n\n<p><code>public static int countMatches(String str, String sub)</code></p>\n\n<p>The source for this is (from <a href=\"http://www.docjar.com/html/api/org/apache/commons/lang/StringUtils.java.html\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>public static int countMatches(String str, String sub) {\n    if (isEmpty(str) || isEmpty(sub)) {\n        return 0;\n    }\n    int count = 0;\n    int idx = 0;\n    while ((idx = str.indexOf(sub, idx)) != -1) {\n        count++;\n        idx += sub.length();\n    }\n    return count;\n}\n</code></pre>\n\n<p>I was curious if they were iterating over the string or using Regex.</p>\n"},{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306172173,"creation_date":1306172173,"answer_id":6100769,"question_id":6100712,"body_markdown":"You can look at sorting the string -- treat it as a char array -- and then do a modified binary search which counts occurrences? But I agree with @tofutim that traversing it is the most efficient -- O(N) versus O(N * logN) + O(logN)","title":"Simple way to count character occurrences in a string","body":"<p>You can look at sorting the string -- treat it as a char array -- and then do a modified binary search which counts occurrences? But I agree with @tofutim that traversing it is the most efficient -- O(N) versus O(N * logN) + O(logN)</p>\n"},{"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1464814674,"creation_date":1306172263,"answer_id":6100785,"question_id":6100712,"body_markdown":"Not optimal, but simple way to count occurrences:\r\n\r\n\tString s = &quot;...&quot;;\r\n\tint counter = s.split(&quot;\\\\$&quot;, -1).length - 1;\r\n\r\n*Note:*\r\n\r\n- Dollar sign is a special Regular Expression symbol, so it must be escaped with a backslash.\r\n- A backslash is a special symbol for escape characters such as newlines, so it must be escaped with a backslash.\r\n- The second argument of split prevents empty trailing strings from being removed.","title":"Simple way to count character occurrences in a string","body":"<p>Not optimal, but simple way to count occurrences:</p>\n\n<pre><code>String s = \"...\";\nint counter = s.split(\"\\\\$\", -1).length - 1;\n</code></pre>\n\n<p><em>Note:</em></p>\n\n<ul>\n<li>Dollar sign is a special Regular Expression symbol, so it must be escaped with a backslash.</li>\n<li>A backslash is a special symbol for escape characters such as newlines, so it must be escaped with a backslash.</li>\n<li>The second argument of split prevents empty trailing strings from being removed.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2290991,"reputation":1,"user_id":2013821,"display_name":"Anil Ganivada"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1359214151,"creation_date":1359214151,"answer_id":14538385,"question_id":6100712,"body_markdown":"  \r\n\r\n   \r\n\r\n     public static int countChars(String input,char find){  \t\r\n            \tif(input.indexOf(find) != -1){    \t\t\r\n            \treturn\tcountChars(input.substring(0, input.indexOf(find)), find)+ \r\n            \t    countChars(input.substring(input.indexOf(find)+1),find) + 1;\r\n            \t}\r\n            \telse {\r\n            \t\treturn 0;\r\n            \t}\r\n            \t\r\n            }","title":"Simple way to count character occurrences in a string","body":"<pre><code> public static int countChars(String input,char find){      \n            if(input.indexOf(find) != -1){          \n            return  countChars(input.substring(0, input.indexOf(find)), find)+ \n                countChars(input.substring(input.indexOf(find)+1),find) + 1;\n            }\n            else {\n                return 0;\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1369896188,"creation_date":1369896188,"answer_id":16829599,"question_id":6100712,"body_markdown":"Since you&#39;re scanning the whole string anyway you can build a full character count and do any number of lookups, all for the same big-Oh cost (n):\r\n\r\n    public static Map&lt;Character,Integer&gt; getCharFreq(String s) {\r\n      Map&lt;Character,Integer&gt; charFreq = new HashMap&lt;Character,Integer&gt;();\r\n      if (s != null) {\r\n        for (Character c : s.toCharArray()) {\r\n          Integer count = charFreq.get(c);\r\n          int newCount = (count==null ? 1 : count+1);\r\n          charFreq.put(c, newCount);\r\n        }\r\n      }\r\n      return charFreq;\r\n    }\r\n\r\n    // ...\r\n    String s = &quot;abdsd3$asda$asasdd$sadas&quot;;\r\n    Map counts = getCharFreq(s);\r\n    counts.get(&#39;$&#39;); // =&gt; 3\r\n    counts.get(&#39;a&#39;); // =&gt; 7\r\n    counts.get(&#39;s&#39;); // =&gt; 6\r\n","title":"Simple way to count character occurrences in a string","body":"<p>Since you're scanning the whole string anyway you can build a full character count and do any number of lookups, all for the same big-Oh cost (n):</p>\n\n<pre><code>public static Map&lt;Character,Integer&gt; getCharFreq(String s) {\n  Map&lt;Character,Integer&gt; charFreq = new HashMap&lt;Character,Integer&gt;();\n  if (s != null) {\n    for (Character c : s.toCharArray()) {\n      Integer count = charFreq.get(c);\n      int newCount = (count==null ? 1 : count+1);\n      charFreq.put(c, newCount);\n    }\n  }\n  return charFreq;\n}\n\n// ...\nString s = \"abdsd3$asda$asasdd$sadas\";\nMap counts = getCharFreq(s);\ncounts.get('$'); // =&gt; 3\ncounts.get('a'); // =&gt; 7\ncounts.get('s'); // =&gt; 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212338,"reputation":149,"user_id":465102,"display_name":"Martin Vatshelle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385246334,"creation_date":1385205070,"answer_id":20161587,"question_id":6100712,"body_markdown":"This is simple code, but of course a little bit slower.\r\n\r\n    String s = ...;\r\n    int countDollar = s.length()-s.replaceAll(&quot;\\\\$&quot;,&quot;&quot;).length();\r\n    int counta = s.length()-s.replaceAll(&quot;a&quot;,&quot;&quot;).length();\r\n\r\nAn even better answer is here in a [duplicate question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/275944/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string","title":"Simple way to count character occurrences in a string","body":"<p>This is simple code, but of course a little bit slower.</p>\n\n<pre><code>String s = ...;\nint countDollar = s.length()-s.replaceAll(\"\\\\$\",\"\").length();\nint counta = s.length()-s.replaceAll(\"a\",\"\").length();\n</code></pre>\n\n<p>An even better answer is here in a <a href=\"https://stackoverflow.com/questions/275944/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string\">duplicate question</a></p>\n"},{"tags":[],"owner":{"account_id":3713326,"reputation":41,"user_id":3090078,"display_name":"user3090078"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1398191503,"creation_date":1386748509,"answer_id":20513512,"question_id":6100712,"body_markdown":"I believe the &quot;one liner&quot; that you expected to get is this:\r\n\r\n    &quot;abdsd3$asda$asasdd$sadas&quot;.replaceAll( &quot;[^$]*($)?&quot;, &quot;$1&quot; ).length();\r\n\r\nRemember that the requirements are:\r\n\r\n&gt; (**instead of traversing manually all the string**, or **loop for indexOf**)\r\n\r\nand let me add: that at the heart of this question it sounds like &quot;any loop&quot; is not wanted and there is no requirement for speed. I believe the subtext of this question is _coolness factor_.","title":"Simple way to count character occurrences in a string","body":"<p>I believe the \"one liner\" that you expected to get is this:</p>\n\n<pre><code>\"abdsd3$asda$asasdd$sadas\".replaceAll( \"[^$]*($)?\", \"$1\" ).length();\n</code></pre>\n\n<p>Remember that the requirements are:</p>\n\n<blockquote>\n  <p>(<strong>instead of traversing manually all the string</strong>, or <strong>loop for indexOf</strong>)</p>\n</blockquote>\n\n<p>and let me add: that at the heart of this question it sounds like \"any loop\" is not wanted and there is no requirement for speed. I believe the subtext of this question is <em>coolness factor</em>.</p>\n"},{"tags":[],"owner":{"account_id":961332,"reputation":928,"user_id":985632,"accept_rate":33,"display_name":"ironmaurus"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1391010167,"creation_date":1391010167,"answer_id":21435779,"question_id":6100712,"body_markdown":"you can also use a for each loop. I think it is simpler to read.   \r\n\r\n    int occurrences = 0;\r\n    for(char c : yourString.toCharArray()){\r\n       if(c == &#39;$&#39;){\r\n          occurrences++;\r\n       }\r\n    }","title":"Simple way to count character occurrences in a string","body":"<p>you can also use a for each loop. I think it is simpler to read.   </p>\n\n<pre><code>int occurrences = 0;\nfor(char c : yourString.toCharArray()){\n   if(c == '$'){\n      occurrences++;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4532731,"reputation":61,"user_id":3682720,"display_name":"srcarro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401265320,"creation_date":1401265320,"answer_id":23906286,"question_id":6100712,"body_markdown":"Something a bit more functional, without Regex:\r\n\r\n    public static int count(String s, char c) {\r\n    \treturn s.length()==0 ? 0 : (s.charAt(0)==c ? 1 : 0) + count(s.substring(1),c);\r\n    }\r\n\r\nIt&#39;s no tail recursive, for the sake of clarity.","title":"Simple way to count character occurrences in a string","body":"<p>Something a bit more functional, without Regex:</p>\n\n<pre><code>public static int count(String s, char c) {\n    return s.length()==0 ? 0 : (s.charAt(0)==c ? 1 : 0) + count(s.substring(1),c);\n}\n</code></pre>\n\n<p>It's no tail recursive, for the sake of clarity.</p>\n"},{"tags":[],"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1477994639,"creation_date":1401266427,"answer_id":23906674,"question_id":6100712,"body_markdown":"Functional style (Java 8, just for fun):\r\n\r\n    str.chars().filter(num -&gt; num == &#39;$&#39;).count()","title":"Simple way to count character occurrences in a string","body":"<p>Functional style (Java 8, just for fun):</p>\n\n<pre><code>str.chars().filter(num -&gt; num == '$').count()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653239,"reputation":1326,"user_id":1523402,"accept_rate":100,"display_name":"thersch"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1406105312,"creation_date":1406104531,"answer_id":24905595,"question_id":6100712,"body_markdown":"You can use [Apache Commons][1]&#39; `StringUtils.countMatches(String string, String subStringToCount)`.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29 &quot;Apache Commons&quot;","title":"Simple way to count character occurrences in a string","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29\">Apache Commons</a>' <code>StringUtils.countMatches(String string, String subStringToCount)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2384697,"reputation":531,"user_id":2085903,"display_name":"PipoTells"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476111327,"creation_date":1413904606,"answer_id":26490240,"question_id":6100712,"body_markdown":"There is another way to count the number of characters in each string.\r\nAssuming we have a String as\r\n`String str = &quot;abfdvdvdfv&quot;` \r\n\r\nWe can then count the number of times each character appears by traversing only once as\r\n\t\t\t\r\n    for (int i = 0; i &lt; str.length(); i++) \r\n    {\r\n\t\tif(null==map.get(str.charAt(i)+&quot;&quot;))\r\n        {\r\n\t\t\tmap.put(str.charAt(i)+&quot;&quot;, new Integer(1));\r\n\t\t}\r\n        else\r\n        {\r\n\t\t   Integer count = map.get(str.charAt(i)+&quot;&quot;);\r\n\t\t   map.put(str.charAt(i)+&quot;&quot;, count+1);\r\n\t    }\r\n    }\r\n\r\nWe can then check the output by traversing the Map as\r\n\r\n\r\n    for (Map.Entry&lt;String, Integer&gt; entry:map.entrySet()) \r\n    {\r\n\t    System.out.println(entry.getKey()+&quot; count is : &quot;+entry.getValue())\r\n\t\r\n    }","title":"Simple way to count character occurrences in a string","body":"<p>There is another way to count the number of characters in each string.\nAssuming we have a String as\n<code>String str = \"abfdvdvdfv\"</code> </p>\n\n<p>We can then count the number of times each character appears by traversing only once as</p>\n\n<pre><code>for (int i = 0; i &lt; str.length(); i++) \n{\n    if(null==map.get(str.charAt(i)+\"\"))\n    {\n        map.put(str.charAt(i)+\"\", new Integer(1));\n    }\n    else\n    {\n       Integer count = map.get(str.charAt(i)+\"\");\n       map.put(str.charAt(i)+\"\", count+1);\n    }\n}\n</code></pre>\n\n<p>We can then check the output by traversing the Map as</p>\n\n<pre><code>for (Map.Entry&lt;String, Integer&gt; entry:map.entrySet()) \n{\n    System.out.println(entry.getKey()+\" count is : \"+entry.getValue())\n\n}\n</code></pre>\n"}],"owner":{"account_id":113414,"reputation":4974,"user_id":298690,"accept_rate":96,"display_name":"George Kastrinis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470284,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"closed_date":1432989600,"accepted_answer_id":6100744,"answer_count":15,"score":75,"last_activity_date":1696861414,"creation_date":1306171849,"question_id":6100712,"body_markdown":"Is there a simple way (instead of traversing manually all the string, or loop for indexOf) in order to find how many times, a character appears in a string?\r\n\r\nSay we have &quot;abdsd3$asda$asasdd$sadas&quot; and we want that $ appears 3 times.","title":"Simple way to count character occurrences in a string","body":"<p>Is there a simple way (instead of traversing manually all the string, or loop for indexOf) in order to find how many times, a character appears in a string?</p>\n\n<p>Say we have \"abdsd3$asda$asasdd$sadas\" and we want that $ appears 3 times.</p>\n"},{"tags":["java","libgdx","static-import"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696831396,"post_id":77256499,"comment_id":136198169,"body_markdown":"The imports you have should do what you want. Please show a complete, minimal example.","body":"The imports you have should do what you want. Please show a complete, minimal example."},{"owner":{"account_id":11290194,"reputation":19,"user_id":8279549,"display_name":"motesolo"},"score":0,"creation_date":1696837734,"post_id":77256499,"comment_id":136199097,"body_markdown":"@tgdavies I edited. class extends Actor and rotateBy() cause name collision of Actor / Actions","body":"@tgdavies I edited. class extends Actor and rotateBy() cause name collision of Actor / Actions"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696860955,"creation_date":1696860955,"answer_id":77259573,"question_id":77256499,"body_markdown":"This is a limitation of Java. You can&#39;t.\r\n\r\nOne possible work-around is to create another class with static pass-through methods for the static methods in Actions, with slightly different names.\r\n\r\n```\r\npublic final class InActorActions {\r\n    static public RotateByAction $rotateBy (float rotationAmount) {\r\n\t\treturn Actions.rotateBy(rotationAmount);\r\n\t}\r\n}\r\n```\r\nThen do a static import of this class and use the different method name.\r\n","title":"how to ignore Actor methods and use static import of Actions?","body":"<p>This is a limitation of Java. You can't.</p>\n<p>One possible work-around is to create another class with static pass-through methods for the static methods in Actions, with slightly different names.</p>\n<pre><code>public final class InActorActions {\n    static public RotateByAction $rotateBy (float rotationAmount) {\n        return Actions.rotateBy(rotationAmount);\n    }\n}\n</code></pre>\n<p>Then do a static import of this class and use the different method name.</p>\n"}],"owner":{"account_id":11290194,"reputation":19,"user_id":8279549,"display_name":"motesolo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77259573,"answer_count":1,"score":-2,"last_activity_date":1696860955,"creation_date":1696830615,"question_id":77256499,"body_markdown":"when I use static import of import com.badlogic.gdx.scenes.scene2d.actions.Actions;\r\n```\r\nimport static com.badlogic.gdx.scenes.scene2d.actions.Actions.*;\r\nimport com.badlogic.gdx.scenes.scene2d.Actor;\r\n\r\n\r\npublic class EnemyCar extends Actor {\r\n\tprivate Rectangle bounds = new Rectangle();\r\n\t\r\n\tpublic EnemyCar(float x, float y) {\r\n\t\tsetWidth(160);\r\n\t\tsetHeight(85);\r\n\t\tsetPosition(x, y - getHeight()/2);\r\n\r\n\t\tint rnd = MathUtils.random(0, 3);\r\n\t\tif (rnd == 0) setColor(Color.RED);\r\n\t\tif (rnd == 1) setColor(Color.GREEN);\r\n\t\tif (rnd == 2) setColor(Color.WHITE);\r\n\t\tif (rnd == 3) setColor(Color.BLUE);\r\n\t\t\r\n\t\taddAction(moveTo(-getWidth(), getY(), MathUtils.random(4.0f, 6.0f)));\r\n\t}\r\n\t\r\n\tpublic void crash(boolean front, boolean above) {\r\n\t\tclearActions();\r\n\t\taddAction(fadeOut(1f));\r\n\r\n        // Here using Actions static import code\r\n\t\tif (front &amp;&amp; above) addAction(sequence(Actions.parallel(Actions.rotateBy(-360, 1.5f), Actions.moveBy(200, 200, 1.5f)), Actions.removeActor()));\r\n\t\tActions.rotate\r\n\t\tif (front &amp;&amp; above) addAction(sequence(parallel(Actions.rotateBy(-360, 1.5f), moveBy(200, 200, 1.5f)), removeActor()));\r\n\t\tif (front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(200, -200, 1.5f)), removeActor()));\r\n\t\tif (!front &amp;&amp; above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(-200, 200, 1.5f)), removeActor()));\r\n\t\tif (!front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(-360, 1.5f), moveBy(-200, -200, 1.5f)), removeActor()));\r\n\t}\r\n}\r\n```\r\nActor.rotateBy() is called but I want to call Actions.rotateBy() \r\nActions.rotateBy() works fine but I need to type Actions. in all methods.\r\n\r\nHow to ignore Actor.rotateBy() and call Actions::rotateBy(), moveBy(), sequence(), etc.\r\n\r\n","title":"how to ignore Actor methods and use static import of Actions?","body":"<p>when I use static import of import com.badlogic.gdx.scenes.scene2d.actions.Actions;</p>\n<pre><code>import static com.badlogic.gdx.scenes.scene2d.actions.Actions.*;\nimport com.badlogic.gdx.scenes.scene2d.Actor;\n\n\npublic class EnemyCar extends Actor {\n    private Rectangle bounds = new Rectangle();\n    \n    public EnemyCar(float x, float y) {\n        setWidth(160);\n        setHeight(85);\n        setPosition(x, y - getHeight()/2);\n\n        int rnd = MathUtils.random(0, 3);\n        if (rnd == 0) setColor(Color.RED);\n        if (rnd == 1) setColor(Color.GREEN);\n        if (rnd == 2) setColor(Color.WHITE);\n        if (rnd == 3) setColor(Color.BLUE);\n        \n        addAction(moveTo(-getWidth(), getY(), MathUtils.random(4.0f, 6.0f)));\n    }\n    \n    public void crash(boolean front, boolean above) {\n        clearActions();\n        addAction(fadeOut(1f));\n\n        // Here using Actions static import code\n        if (front &amp;&amp; above) addAction(sequence(Actions.parallel(Actions.rotateBy(-360, 1.5f), Actions.moveBy(200, 200, 1.5f)), Actions.removeActor()));\n        Actions.rotate\n        if (front &amp;&amp; above) addAction(sequence(parallel(Actions.rotateBy(-360, 1.5f), moveBy(200, 200, 1.5f)), removeActor()));\n        if (front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(200, -200, 1.5f)), removeActor()));\n        if (!front &amp;&amp; above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(-200, 200, 1.5f)), removeActor()));\n        if (!front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(-360, 1.5f), moveBy(-200, -200, 1.5f)), removeActor()));\n    }\n}\n</code></pre>\n<p>Actor.rotateBy() is called but I want to call Actions.rotateBy()\nActions.rotateBy() works fine but I need to type Actions. in all methods.</p>\n<p>How to ignore Actor.rotateBy() and call Actions::rotateBy(), moveBy(), sequence(), etc.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696860663,"creation_date":1696860663,"answer_id":77259536,"question_id":77243984,"body_markdown":"See docs how errors must be handled from now on: https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_handle_error_messages\r\n\r\n    @Bean\r\n    public Consumer&lt;ErrorMessage&gt; myErrorHandler() {\r\n\r\n\r\n    spring.cloud.stream.bindings.destination1-in-0.error-handler-definition=myErrorHandler","title":"How to correctly configure errorChannel in spring cloud (spring integration)?","body":"<p>See docs how errors must be handled from now on: <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_handle_error_messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_handle_error_messages</a></p>\n<pre><code>@Bean\npublic Consumer&lt;ErrorMessage&gt; myErrorHandler() {\n\n\nspring.cloud.stream.bindings.destination1-in-0.error-handler-definition=myErrorHandler\n</code></pre>\n"}],"owner":{"account_id":14861996,"reputation":683,"user_id":10732477,"display_name":"AM13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696860663,"creation_date":1696590698,"question_id":77243984,"body_markdown":"I have a webapp in which I use Kinesis Stream with spring-cloud-stream, spring-cloud-stream-binder-kinesis and spring-cloud-starter-sleuth. What I would like to do is to configure the error handling properly. I would like to:\r\n1) handle a message stream\r\n2) if something go wrong in the point 1 handle the error (specifically for each stream)\r\n3) create a errorChannel that handle all errors globally that happened in point 2.\r\n\r\nProperties:\r\n```\r\nspring:\r\n  cloud:\r\n    stream:\r\n      function:\r\n        definition: destination1\r\n      bindings:\r\n        destination1-in-0:\r\n          destination: destination1\r\n          group: group1\r\n```\r\nThis is the configuration code (in a class annotated with @Configuration):\r\n```\r\n    @Bean\r\n    public Consumer&lt;MyStream&gt; destination1() {\r\n        return message -&gt; {\r\n            if (true) throw new RuntimeException(&quot;test&quot;);\r\n            LOGGER.info(&quot;message: &quot; + message);\r\n        };\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;destination1.group1.errors&quot;)\r\n    public void errorHandle(Message&lt;?&gt; message) {\r\n        // TODO\r\n        LOGGER.error(&quot;Handling ERROR: &quot; + message);\r\n        throw new RuntimeException(&quot;test2&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public PublishSubscribeChannel errorChannel() {\r\n        ErrorHandler errorHandler = throwable -&gt; LOGGER.error(&quot;Handling ERROR in errorChannel error handler: &quot;);\r\n        Executor executor = new ConcurrentTaskExecutor();\r\n        PublishSubscribeChannel publishSubscribeChannel = new PublishSubscribeChannel(executor);\r\n        publishSubscribeChannel.setErrorHandler(errorHandler);\r\n        return publishSubscribeChannel;\r\n    }\r\n```\r\nPlease note that step 1 and step 2 are working. What it is missing is the third step.\r\nAfter the Log &quot;Handling ERROR: ...&quot; I see another info log:\r\n```\r\na.i.k.KinesisMessageDrivenChannelAdapter : Got an exception during sending a &#39;GenericMessage [payload=byte[142], headers={aws_shard=shardId-000000000000, id=bb56042b-240f-43b7-4c69-90de463bfeca, sourceData={SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}, aws_receivedPartitionKey=2007189807, aws_receivedStream=mpeNotificationFraud, aws_receivedSequenceNumber=49645044161965514128638937043897685293310641448383676418, timestamp=1696588898426}]&#39;\r\nfor the &#39;{SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}&#39;.\r\nConsider to use &#39;errorChannel&#39; flow for the compensation logic.\r\n```\r\nThen there is this exception (Caused by: java.lang.RuntimeException: test2):\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred during processing message in &#39;MethodInvokingMessageProcessor&#39; [org.springframework.integration.handler.MethodInvokingMessageProcessor@d13016c]; nested exception is java.lang.RuntimeException: test2\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191) ~[spring-integration-core-5.5.19.jar:5.5.19]\r\n\tat org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:113) ~[spring-integration-core-5.5.19.jar:5.5.19]\r\n```\r\nWhat I want is that the errorChannel I have configured start working, so for this simple example it logs &quot;Handling ERROR in errorChannel error handler&quot;.\r\n","title":"How to correctly configure errorChannel in spring cloud (spring integration)?","body":"<p>I have a webapp in which I use Kinesis Stream with spring-cloud-stream, spring-cloud-stream-binder-kinesis and spring-cloud-starter-sleuth. What I would like to do is to configure the error handling properly. I would like to:</p>\n<ol>\n<li>handle a message stream</li>\n<li>if something go wrong in the point 1 handle the error (specifically for each stream)</li>\n<li>create a errorChannel that handle all errors globally that happened in point 2.</li>\n</ol>\n<p>Properties:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      function:\n        definition: destination1\n      bindings:\n        destination1-in-0:\n          destination: destination1\n          group: group1\n</code></pre>\n<p>This is the configuration code (in a class annotated with @Configuration):</p>\n<pre><code>    @Bean\n    public Consumer&lt;MyStream&gt; destination1() {\n        return message -&gt; {\n            if (true) throw new RuntimeException(&quot;test&quot;);\n            LOGGER.info(&quot;message: &quot; + message);\n        };\n    }\n\n    @ServiceActivator(inputChannel = &quot;destination1.group1.errors&quot;)\n    public void errorHandle(Message&lt;?&gt; message) {\n        // TODO\n        LOGGER.error(&quot;Handling ERROR: &quot; + message);\n        throw new RuntimeException(&quot;test2&quot;);\n    }\n\n    @Bean\n    public PublishSubscribeChannel errorChannel() {\n        ErrorHandler errorHandler = throwable -&gt; LOGGER.error(&quot;Handling ERROR in errorChannel error handler: &quot;);\n        Executor executor = new ConcurrentTaskExecutor();\n        PublishSubscribeChannel publishSubscribeChannel = new PublishSubscribeChannel(executor);\n        publishSubscribeChannel.setErrorHandler(errorHandler);\n        return publishSubscribeChannel;\n    }\n</code></pre>\n<p>Please note that step 1 and step 2 are working. What it is missing is the third step.\nAfter the Log &quot;Handling ERROR: ...&quot; I see another info log:</p>\n<pre><code>a.i.k.KinesisMessageDrivenChannelAdapter : Got an exception during sending a 'GenericMessage [payload=byte[142], headers={aws_shard=shardId-000000000000, id=bb56042b-240f-43b7-4c69-90de463bfeca, sourceData={SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}, aws_receivedPartitionKey=2007189807, aws_receivedStream=mpeNotificationFraud, aws_receivedSequenceNumber=49645044161965514128638937043897685293310641448383676418, timestamp=1696588898426}]'\nfor the '{SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}'.\nConsider to use 'errorChannel' flow for the compensation logic.\n</code></pre>\n<p>Then there is this exception (Caused by: java.lang.RuntimeException: test2):</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred during processing message in 'MethodInvokingMessageProcessor' [org.springframework.integration.handler.MethodInvokingMessageProcessor@d13016c]; nested exception is java.lang.RuntimeException: test2\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191) ~[spring-integration-core-5.5.19.jar:5.5.19]\n    at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:113) ~[spring-integration-core-5.5.19.jar:5.5.19]\n</code></pre>\n<p>What I want is that the errorChannel I have configured start working, so for this simple example it logs &quot;Handling ERROR in errorChannel error handler&quot;.</p>\n"},{"tags":["java","websphere","ejb","open-liberty","message-driven-bean"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1696430583,"post_id":77229433,"comment_id":136152352,"body_markdown":"Provide info to what JMS provider are you trying to connect.","body":"Provide info to what JMS provider are you trying to connect."}],"answers":[{"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696840871,"creation_date":1696423048,"answer_id":77229621,"question_id":77229433,"body_markdown":"There are no `listener port`s in OpenLiberty. MDBs are using `ActiveSpecifications`.  You have to do update bindings to use AS or do it in  `server.xml`. Check docs for using mdbs in OpenLiberty (depending on jms provider you are using) - https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-deploying-message-driven-beans-within\r\n\r\n**Update based on your additional info**:  \r\nLooking at the resources defined, it seems that you are using WebSphere MQ and want your MDB to connect to the queue (although you didnt provide their names - you will have to check ListenerPorts configurations).  \r\nHere are a few changes you need:  \r\n- change feature - you should use **jca-1.7** instead of wasJmsClient (check this https://stackoverflow.com/questions/55612324/open-liberty-cannot-configure-jmsactivationspec)\r\n- add `&lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;`\r\n- add active spec (fix queue/channel/host etc):\r\n```\r\n&lt;!-- jmsActivationSpec configs --&gt;\r\n&lt;jmsActivationSpec id=&quot;my-app-name/MyMessageDrivenBean&quot;&gt;\r\n    &lt;properties.mqJms destinationRef=&quot;jms/MyQueue&quot;\r\n                      destinationType=&quot;javax.jms.Queue&quot;\r\n                      channel=&quot;DEV.APP.SVRCONN&quot;\r\n                      hostName=&quot;${ibm.mq.hostname}&quot;\r\n                      port=&quot;1414&quot;\r\n                      queueManager=&quot;QM1&quot;\r\n                      transportType=&quot;CLIENT&quot; /&gt;\r\n&lt;/jmsActivationSpec&gt;\r\n```\r\nIf your QM requires authentication you need to add these additional props:\r\n```\r\n                      userName=&quot;${ibm.mq.username}&quot;\r\n                      password=&quot;${ibm.mq.password}&quot;\r\n```\r\n`id` in the activeSpec must follow the following naming convention &quot;application name/module name/bean name&quot; in your case it shoiuld be for exampe `id=NAMEOFEAR-1.0.0/ejb/CompanyEventLog`  \r\n\r\n\r\nYou should be able to define this binding also via `xmi` binding file, but I dont have example at hand since its very old. You would need IBM Rational Application Developer, which should still have editor for xmi files.\r\n\r\nIn `xml` format it would look like this:\r\n\r\n```\r\n&lt;ejb-jar-bnd\r\n        xmlns=&quot;http://websphere.ibm.com/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd&quot; \r\n\t(http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd%27) version=&quot;1.1&quot;&gt;\r\n    \r\n\t&lt;message-driven name=&quot;PriceChangeMDBBean&quot;&gt;\r\n        \t&lt;jca-adapter activation-spec-binding-name=&quot;PriceChangeAS&quot; destination-binding-name=&quot;jms/TriggerQ&quot; /&gt;\r\n   \t&lt;/message-driven&gt;\r\n&lt;/ejb-jar-bnd&gt;\r\n```\r\n\r\nSo maybe try first the binding in `server.xml`.","title":"WebSphere to OpenLiberty EJB 3 message driven beans migration from ibm-ejb-jar-bnd.xmi issue","body":"<p>There are no <code>listener port</code>s in OpenLiberty. MDBs are using <code>ActiveSpecifications</code>.  You have to do update bindings to use AS or do it in  <code>server.xml</code>. Check docs for using mdbs in OpenLiberty (depending on jms provider you are using) - <a href=\"https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-deploying-message-driven-beans-within\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-deploying-message-driven-beans-within</a></p>\n<p><strong>Update based on your additional info</strong>:<br />\nLooking at the resources defined, it seems that you are using WebSphere MQ and want your MDB to connect to the queue (although you didnt provide their names - you will have to check ListenerPorts configurations).<br />\nHere are a few changes you need:</p>\n<ul>\n<li>change feature - you should use <strong>jca-1.7</strong> instead of wasJmsClient (check this <a href=\"https://stackoverflow.com/questions/55612324/open-liberty-cannot-configure-jmsactivationspec\">open-liberty : cannot configure jmsActivationSpec</a>)</li>\n<li>add <code>&lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;</code></li>\n<li>add active spec (fix queue/channel/host etc):</li>\n</ul>\n<pre><code>&lt;!-- jmsActivationSpec configs --&gt;\n&lt;jmsActivationSpec id=&quot;my-app-name/MyMessageDrivenBean&quot;&gt;\n    &lt;properties.mqJms destinationRef=&quot;jms/MyQueue&quot;\n                      destinationType=&quot;javax.jms.Queue&quot;\n                      channel=&quot;DEV.APP.SVRCONN&quot;\n                      hostName=&quot;${ibm.mq.hostname}&quot;\n                      port=&quot;1414&quot;\n                      queueManager=&quot;QM1&quot;\n                      transportType=&quot;CLIENT&quot; /&gt;\n&lt;/jmsActivationSpec&gt;\n</code></pre>\n<p>If your QM requires authentication you need to add these additional props:</p>\n<pre><code>                      userName=&quot;${ibm.mq.username}&quot;\n                      password=&quot;${ibm.mq.password}&quot;\n</code></pre>\n<p><code>id</code> in the activeSpec must follow the following naming convention &quot;application name/module name/bean name&quot; in your case it shoiuld be for exampe <code>id=NAMEOFEAR-1.0.0/ejb/CompanyEventLog</code></p>\n<p>You should be able to define this binding also via <code>xmi</code> binding file, but I dont have example at hand since its very old. You would need IBM Rational Application Developer, which should still have editor for xmi files.</p>\n<p>In <code>xml</code> format it would look like this:</p>\n<pre><code>&lt;ejb-jar-bnd\n        xmlns=&quot;http://websphere.ibm.com/xml/ns/javaee&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd&quot; \n    (http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd%27) version=&quot;1.1&quot;&gt;\n    \n    &lt;message-driven name=&quot;PriceChangeMDBBean&quot;&gt;\n            &lt;jca-adapter activation-spec-binding-name=&quot;PriceChangeAS&quot; destination-binding-name=&quot;jms/TriggerQ&quot; /&gt;\n    &lt;/message-driven&gt;\n&lt;/ejb-jar-bnd&gt;\n</code></pre>\n<p>So maybe try first the binding in <code>server.xml</code>.</p>\n"}],"owner":{"account_id":15246298,"reputation":1,"user_id":11001087,"display_name":"Deery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696860429,"creation_date":1696421228,"question_id":77229433,"body_markdown":"During the deployment of our migrated ear with 2 war&#39;s from old Websphere 8.x into OpenLiberty I get this issue regarding unexpected element in the xmi:\r\n\r\n    [ERROR   ] CWWKZ0002E: An exception occurred while starting the application NAMEOFEAR-1.0.0. The exception message was: com.ibm.ws.container.service.metadata.MetaDataException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ejs.container.EJBConfigurationException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ws.javaee.ddmodel.DDParser$ParseException: CWWKC2256E: Unexpected attribute listenerInputPortName encountered parsing element ejbBindings in the NAMEOFEAR-1.0.0.ear : NAMEOFJAR-1.0.0.jar : META-INF/ibm-ejb-jar-bnd.xmi deployment descriptor on line 4.\r\n\r\n\r\nSimply removing the listenerInputPortName attribute worked, but I&#39;m sure it will lead to problems afterwards?\r\n\r\nThe ibm-ejb-jar-bnd.xmi looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ejbbnd:EJBJarBinding xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:ejb=&quot;ejb.xmi&quot; xmlns:ejbbnd=&quot;ejbbnd.xmi&quot; xmi:id=&quot;EJBJarBinding_1&quot;&gt;\r\n  &lt;ejbJar href=&quot;META-INF/ejb-jar.xml#ejb-jar_ID&quot;/&gt;\r\n  &lt;ejbBindings xmi:type=&quot;ejbbnd:MessageDrivenBeanBinding&quot; xmi:id=&quot;MessageDrivenBeanBinding_1&quot; listenerInputPortName=&quot;SMTPMessageListenerPort&quot;&gt;\r\n    &lt;enterpriseBean xmi:type=&quot;ejb:MessageDriven&quot; href=&quot;META-INF/ejb-jar.xml#MessageDriven_1&quot;/&gt;\r\n    &lt;resRefBindings xmi:id=&quot;ResourceRefBinding_1&quot; jndiName=&quot;mail/SMTPMailSession&quot;&gt;\r\n  &lt;/ejbBindings&gt;\r\n&lt;/ejbbnd:EJBJarBinding&gt;\r\n```\r\n\r\n\r\nAlso example ejb-jar.xml:\r\n```\r\n&lt;ejb-jar ...&gt;\r\n\t&lt;display-name&gt;ejb&lt;/display-name&gt;\r\n\t&lt;enterprise-beans&gt;\r\n\t\t&lt;message-driven id=&quot;MessageDriven_1&quot;&gt;\r\n\t\t\t&lt;ejb-name&gt;SMTPSender&lt;/ejb-name&gt;\r\n\t\t\t&lt;ejb-class&gt;com.smtp.SMTPSendBean&lt;/ejb-class&gt;\r\n\t\t\t&lt;transaction-type&gt;Container&lt;/transaction-type&gt;\r\n\t\t\t&lt;message-destination-type&gt;javax.jms.Queue&lt;/message-destination-type&gt;\r\n\t\t\t&lt;activation-config&gt;\r\n              ...\r\n\t\t\t&lt;/activation-config&gt;\r\n\t\t\t&lt;resource-ref id=&quot;ResourceRef_1&quot;&gt;\r\n              ...\r\n\t\t\t&lt;/resource-ref&gt;\r\n\t\t&lt;/message-driven&gt;\r\n\t&lt;/enterprise-beans&gt;\r\n&lt;/ejb-jar&gt;\r\n```\r\n\r\n\r\nJMS-resources.xml (I&#39;m using config-drop ins): \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;server&gt;\r\n ...\r\n\r\n\r\n    &lt;jmsQueueConnectionFactory jndiName=&quot;jms/CompanySMTPMessageConnectionFactory&quot;&gt;\r\n        &lt;properties.mqJMS\r\n                ...\r\n                transportType=&quot;CLIENT&quot;/&gt;\r\n    &lt;/jmsQueueConnectionFactory&gt;\r\n\r\n    &lt;jmsQueue jndiName=&quot;jms/SMTPMessageQueue&quot;&gt;\r\n        &lt;properties.mqJMS baseQueueName=&quot;Q2&quot;/&gt;\r\n    &lt;/jmsQueue&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\nI&#39;m not sure how to migrate it to work with EJB 3.1 and running/deploying in OpenLiberty.\r\n","title":"WebSphere to OpenLiberty EJB 3 message driven beans migration from ibm-ejb-jar-bnd.xmi issue","body":"<p>During the deployment of our migrated ear with 2 war's from old Websphere 8.x into OpenLiberty I get this issue regarding unexpected element in the xmi:</p>\n<pre><code>[ERROR   ] CWWKZ0002E: An exception occurred while starting the application NAMEOFEAR-1.0.0. The exception message was: com.ibm.ws.container.service.metadata.MetaDataException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ejs.container.EJBConfigurationException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ws.javaee.ddmodel.DDParser$ParseException: CWWKC2256E: Unexpected attribute listenerInputPortName encountered parsing element ejbBindings in the NAMEOFEAR-1.0.0.ear : NAMEOFJAR-1.0.0.jar : META-INF/ibm-ejb-jar-bnd.xmi deployment descriptor on line 4.\n</code></pre>\n<p>Simply removing the listenerInputPortName attribute worked, but I'm sure it will lead to problems afterwards?</p>\n<p>The ibm-ejb-jar-bnd.xmi looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ejbbnd:EJBJarBinding xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:ejb=&quot;ejb.xmi&quot; xmlns:ejbbnd=&quot;ejbbnd.xmi&quot; xmi:id=&quot;EJBJarBinding_1&quot;&gt;\n  &lt;ejbJar href=&quot;META-INF/ejb-jar.xml#ejb-jar_ID&quot;/&gt;\n  &lt;ejbBindings xmi:type=&quot;ejbbnd:MessageDrivenBeanBinding&quot; xmi:id=&quot;MessageDrivenBeanBinding_1&quot; listenerInputPortName=&quot;SMTPMessageListenerPort&quot;&gt;\n    &lt;enterpriseBean xmi:type=&quot;ejb:MessageDriven&quot; href=&quot;META-INF/ejb-jar.xml#MessageDriven_1&quot;/&gt;\n    &lt;resRefBindings xmi:id=&quot;ResourceRefBinding_1&quot; jndiName=&quot;mail/SMTPMailSession&quot;&gt;\n  &lt;/ejbBindings&gt;\n&lt;/ejbbnd:EJBJarBinding&gt;\n</code></pre>\n<p>Also example ejb-jar.xml:</p>\n<pre><code>&lt;ejb-jar ...&gt;\n    &lt;display-name&gt;ejb&lt;/display-name&gt;\n    &lt;enterprise-beans&gt;\n        &lt;message-driven id=&quot;MessageDriven_1&quot;&gt;\n            &lt;ejb-name&gt;SMTPSender&lt;/ejb-name&gt;\n            &lt;ejb-class&gt;com.smtp.SMTPSendBean&lt;/ejb-class&gt;\n            &lt;transaction-type&gt;Container&lt;/transaction-type&gt;\n            &lt;message-destination-type&gt;javax.jms.Queue&lt;/message-destination-type&gt;\n            &lt;activation-config&gt;\n              ...\n            &lt;/activation-config&gt;\n            &lt;resource-ref id=&quot;ResourceRef_1&quot;&gt;\n              ...\n            &lt;/resource-ref&gt;\n        &lt;/message-driven&gt;\n    &lt;/enterprise-beans&gt;\n&lt;/ejb-jar&gt;\n</code></pre>\n<p>JMS-resources.xml (I'm using config-drop ins):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;server&gt;\n ...\n\n\n    &lt;jmsQueueConnectionFactory jndiName=&quot;jms/CompanySMTPMessageConnectionFactory&quot;&gt;\n        &lt;properties.mqJMS\n                ...\n                transportType=&quot;CLIENT&quot;/&gt;\n    &lt;/jmsQueueConnectionFactory&gt;\n\n    &lt;jmsQueue jndiName=&quot;jms/SMTPMessageQueue&quot;&gt;\n        &lt;properties.mqJMS baseQueueName=&quot;Q2&quot;/&gt;\n    &lt;/jmsQueue&gt;\n&lt;/server&gt;\n</code></pre>\n<p>I'm not sure how to migrate it to work with EJB 3.1 and running/deploying in OpenLiberty.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1696605704,"post_id":77245336,"comment_id":136179093,"body_markdown":"you can use expression like : @Mapping(target = &quot;address&quot;, expression = &quot;java(null)&quot;) or just ignore this field @Mapping(target = &quot;address&quot;, ignore = true)","body":"you can use expression like : @Mapping(target = &quot;address&quot;, expression = &quot;java(null)&quot;) or just ignore this field @Mapping(target = &quot;address&quot;, ignore = true)"}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696660483,"creation_date":1696660483,"answer_id":77248655,"question_id":77245336,"body_markdown":"The @Mapping annotation specifies to use a custom qualifiedByName method toAddressResponse() for the address field. This method checks if the Address object is null or if all of its fields are null. If so, it returns null; otherwise, it proceeds with the normal mapping.\r\n\r\n\r\n    @Mapper\r\n    public interface OwnerMapper {\r\n    \r\n        @Mapping(target = &quot;address&quot;, qualifiedByName = &quot;toAddressResponse&quot;)\r\n        OwnerResponse toOwnerResponse(Owner owner);\r\n    \r\n        @Named(&quot;toAddressResponse&quot;)\r\n        default AddressResponse toAddressResponse(Address address) {\r\n            if (address == null || (address.getZip() == null &amp;&amp; address.getStreet() == null)) {\r\n                return null;\r\n            }\r\n            return new AddressResponse(address.getZip(), address.getStreet());\r\n        }\r\n    }\r\n\r\n\r\n","title":"Mapstruct set whole property to null instead of all properties in nested class","body":"<p>The @Mapping annotation specifies to use a custom qualifiedByName method toAddressResponse() for the address field. This method checks if the Address object is null or if all of its fields are null. If so, it returns null; otherwise, it proceeds with the normal mapping.</p>\n<pre><code>@Mapper\npublic interface OwnerMapper {\n\n    @Mapping(target = &quot;address&quot;, qualifiedByName = &quot;toAddressResponse&quot;)\n    OwnerResponse toOwnerResponse(Owner owner);\n\n    @Named(&quot;toAddressResponse&quot;)\n    default AddressResponse toAddressResponse(Address address) {\n        if (address == null || (address.getZip() == null &amp;&amp; address.getStreet() == null)) {\n            return null;\n        }\n        return new AddressResponse(address.getZip(), address.getStreet());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696860391,"creation_date":1696860391,"answer_id":77259498,"question_id":77245336,"body_markdown":"The Problem actually was that the mapper had [NullValueMappingStrategy][1] set like this: `@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT, componentModel = &quot;spring&quot;)` Since I had no default values defined, it just put an instance of `Address` there with all properties set to `null`, if the source value was `null`. After I removed this, the `Address` was properly set to `null`.\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueMappingStrategy.html","title":"Mapstruct set whole property to null instead of all properties in nested class","body":"<p>The Problem actually was that the mapper had <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueMappingStrategy.html\" rel=\"nofollow noreferrer\">NullValueMappingStrategy</a> set like this: <code>@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT, componentModel = &quot;spring&quot;)</code> Since I had no default values defined, it just put an instance of <code>Address</code> there with all properties set to <code>null</code>, if the source value was <code>null</code>. After I removed this, the <code>Address</code> was properly set to <code>null</code>.</p>\n"}],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77259498,"answer_count":2,"score":0,"last_activity_date":1696860391,"creation_date":1696603041,"question_id":77245336,"body_markdown":"My current mapper looks like this:\r\n\r\n        public abstract OwnerResponse toOwnerResponse(Owner owner);\r\n\r\n\r\nA `Owner` has basic properties like, `id`, `name` etc. Mapping these works properly.\r\nNow `Owner` also has a `address` property which will be an `Address` class (with `zip`, `street` etc). In some instances, the address can be empty. This will look lile this in json response:\r\n`{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: {&quot;zip&quot;: null, &quot;street&quot;: null}}`\r\n\r\nInstead of that, I would like to have the whole `Owner.address` to be `null` instead of having a whole `Address` class that has a lot of `null` properties. Example:\r\n`{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: null}`\r\n\r\n\r\nHow do I achieve this?","title":"Mapstruct set whole property to null instead of all properties in nested class","body":"<p>My current mapper looks like this:</p>\n<pre><code>    public abstract OwnerResponse toOwnerResponse(Owner owner);\n</code></pre>\n<p>A <code>Owner</code> has basic properties like, <code>id</code>, <code>name</code> etc. Mapping these works properly.\nNow <code>Owner</code> also has a <code>address</code> property which will be an <code>Address</code> class (with <code>zip</code>, <code>street</code> etc). In some instances, the address can be empty. This will look lile this in json response:\n<code>{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: {&quot;zip&quot;: null, &quot;street&quot;: null}}</code></p>\n<p>Instead of that, I would like to have the whole <code>Owner.address</code> to be <code>null</code> instead of having a whole <code>Address</code> class that has a lot of <code>null</code> properties. Example:\n<code>{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: null}</code></p>\n<p>How do I achieve this?</p>\n"},{"tags":["java","eclipse","debian","libpcap","shared-libraries"],"comments":[{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":4,"creation_date":1403472192,"post_id":24355833,"comment_id":37659426,"body_markdown":"If you want to use a 32 bit native library, you must use a 32 bit jvm.","body":"If you want to use a 32 bit native library, you must use a 32 bit jvm."},{"owner":{"account_id":4184803,"reputation":229,"user_id":3428817,"accept_rate":40,"display_name":"Sam  Ben"},"score":0,"creation_date":1403528581,"post_id":24355833,"comment_id":37679455,"body_markdown":"is there any other solution ? using JVM 64 bit","body":"is there any other solution ? using JVM 64 bit"},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":2,"creation_date":1403529084,"post_id":24355833,"comment_id":37679787,"body_markdown":"Get 64 bit version of the native library - check in `/usr/lib64` rather than `/usr/lib`.","body":"Get 64 bit version of the native library - check in <code>&#47;usr&#47;lib64</code> rather than <code>&#47;usr&#47;lib</code>."},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":1,"creation_date":1403529318,"post_id":24355833,"comment_id":37679938,"body_markdown":"You may need to check your `LD_LIBRARY_PATH` environment variable. If you are running with a 64 bit jvm, then `/usr/lib` should not be part of the `LD_LIBRARY_PATH` and `/usr/lib64` should be.","body":"You may need to check your <code>LD_LIBRARY_PATH</code> environment variable. If you are running with a 64 bit jvm, then <code>&#47;usr&#47;lib</code> should not be part of the <code>LD_LIBRARY_PATH</code> and <code>&#47;usr&#47;lib64</code> should be."},{"owner":{"account_id":421354,"reputation":309,"user_id":799552,"accept_rate":40,"display_name":"Kevin"},"score":0,"creation_date":1453326003,"post_id":24355833,"comment_id":57557804,"body_markdown":"@BrettOkken: I have a similar issue in RHEL running 32-bit libraries. How can I use a 32 bit JVM on RHEL 7?","body":"@BrettOkken: I have a similar issue in RHEL running 32-bit libraries. How can I use a 32 bit JVM on RHEL 7?"},{"owner":{"account_id":4184803,"reputation":229,"user_id":3428817,"accept_rate":40,"display_name":"Sam  Ben"},"score":0,"creation_date":1453364296,"post_id":24355833,"comment_id":57571220,"body_markdown":"@BrettOkken make sure you are using the right library. since you have 32 JVM, you should use 32 bit Lib.","body":"@BrettOkken make sure you are using the right library. since you have 32 JVM, you should use 32 bit Lib."}],"answers":[{"tags":[],"owner":{"account_id":1047481,"reputation":19771,"user_id":1069083,"accept_rate":71,"display_name":"rubo77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599728007,"creation_date":1599728007,"answer_id":63826164,"question_id":24355833,"body_markdown":"What does the file ` /usr/lib/libjnetpcap.so.1.3.b0003` contain?\r\n\r\nIf the file is a **0-byte-file**, there is something really wrong, so try to repair your system by reinstalling that library.\r\n\r\nI had the same problem in smartgit, where a library in the local config folder was used, which was somehow corrupted and was a 0 byte file. So deleting the config folder and restarting the app worked for me. This could be a solution here too.","title":"OpenJDK 64-Bit Server VM warning: You have loaded library which might have disabled stack guard","body":"<p>What does the file <code> /usr/lib/libjnetpcap.so.1.3.b0003</code> contain?</p>\n<p>If the file is a <strong>0-byte-file</strong>, there is something really wrong, so try to repair your system by reinstalling that library.</p>\n<p>I had the same problem in smartgit, where a library in the local config folder was used, which was somehow corrupted and was a 0 byte file. So deleting the config folder and restarting the app worked for me. This could be a solution here too.</p>\n"}],"owner":{"account_id":4184803,"reputation":229,"user_id":3428817,"accept_rate":40,"display_name":"Sam  Ben"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32806,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1696860065,"creation_date":1403471936,"question_id":24355833,"body_markdown":"can any one help me with this error message . \r\n\r\nwhile try to compile project in eclipse using jNetpcap API \r\n\r\nI followed all the steps mentioned on the website below ,how to setup the environment on Debian distribution  \r\n\r\nhttp://jnetpcap.com/compile/debian\r\n\r\n\r\nthough I still get the following error message \r\n\r\n&gt; choosedevice ...  OpenJDK 64-Bit Server VM warning: You have loaded\r\n&gt; library        /usr/lib/libjnetpcap.so.1.3.b0003 which might have\r\n&gt; disabled stack guard. The VM will try to   fix the stack guard now.\r\n&gt; It&#39;s highly recommended that you fix the library with &#39;execstack -c\r\n&gt; &lt;libfile&gt;&#39;, or link it with &#39;-z noexecstack&#39;. Exception in thread\r\n&gt; &quot;main&quot; java.lang.UnsatisfiedLinkError:\r\n&gt; /usr/lib/libjnetpcap.so.1.3.b0003: /usr/lib/libjnetpcap.so.1.3.b0003:\r\n&gt; mauvaise classe ELF&#160;:&#160;ELFCLASS32 (Possible cause: architecture word\r\n&gt; width mismatch) \tat java.lang.ClassLoader$NativeLibrary.load(Native\r\n&gt; Method) \tat java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\r\n&gt; \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890) \tat\r\n&gt; java.lang.ClassLoader.loadLibrary(ClassLoader.java:1880) \tat\r\n&gt; java.lang.Runtime.loadLibrary0(Runtime.java:849) \tat\r\n&gt; java.lang.System.loadLibrary(System.java:1088) \tat\r\n&gt; org.jnetpcap.Pcap.&lt;clinit&gt;(Unknown Source) \tat\r\n&gt; main.Main_app.choosedevice(Main_app.java:74) \tat\r\n&gt; main.Main_app.main(Main_app.java:273)\r\n\r\nBy the way I tried to execute &quot; execstac -c &quot; it doesn&#39;t work at all\r\nAlso I spent days trying to figure out the solution , the only conclusion i come up with so far , is i need to use libjnetpcap.so (64 bit) since i have 64 bit architecture on my Debian .\r\nso is that what i need to do ?\r\n\r\nPS : I can&#39;t find any &quot;.deb&quot; to install this library for 64 bit.\r\n\r\n\r\n\r\n","title":"OpenJDK 64-Bit Server VM warning: You have loaded library which might have disabled stack guard","body":"<p>can any one help me with this error message . </p>\n\n<p>while try to compile project in eclipse using jNetpcap API </p>\n\n<p>I followed all the steps mentioned on the website below ,how to setup the environment on Debian distribution  </p>\n\n<p><a href=\"http://jnetpcap.com/compile/debian\" rel=\"noreferrer\">http://jnetpcap.com/compile/debian</a></p>\n\n<p>though I still get the following error message </p>\n\n<blockquote>\n  <p>choosedevice ...  OpenJDK 64-Bit Server VM warning: You have loaded\n  library        /usr/lib/libjnetpcap.so.1.3.b0003 which might have\n  disabled stack guard. The VM will try to   fix the stack guard now.\n  It's highly recommended that you fix the library with 'execstack -c\n  ', or link it with '-z noexecstack'. Exception in thread\n  \"main\" java.lang.UnsatisfiedLinkError:\n  /usr/lib/libjnetpcap.so.1.3.b0003: /usr/lib/libjnetpcap.so.1.3.b0003:\n  mauvaise classe ELF : ELFCLASS32 (Possible cause: architecture word\n  width mismatch)   at java.lang.ClassLoader$NativeLibrary.load(Native\n  Method)   at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890)    at\n  java.lang.ClassLoader.loadLibrary(ClassLoader.java:1880)  at\n  java.lang.Runtime.loadLibrary0(Runtime.java:849)  at\n  java.lang.System.loadLibrary(System.java:1088)    at\n  org.jnetpcap.Pcap.(Unknown Source)    at\n  main.Main_app.choosedevice(Main_app.java:74)  at\n  main.Main_app.main(Main_app.java:273)</p>\n</blockquote>\n\n<p>By the way I tried to execute \" execstac -c \" it doesn't work at all\nAlso I spent days trying to figure out the solution , the only conclusion i come up with so far , is i need to use libjnetpcap.so (64 bit) since i have 64 bit architecture on my Debian .\nso is that what i need to do ?</p>\n\n<p>PS : I can't find any \".deb\" to install this library for 64 bit.</p>\n"},{"tags":["java","maven","servlets","jetty","jetty-9"],"comments":[{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":1,"creation_date":1614246463,"post_id":66361859,"comment_id":117329171,"body_markdown":"I&#39;m making a guess here (since you don&#39;t have any errors), but could it be because Jetty 11 uses the JakartaEE namespace with a servlet version 5.0 and you are still using a `javax` servlet? You have `javax.servlet-api` in your dependencies for the `javax` classes, but maybe Jetty is looking for a `jakarta.servlet.http.HttpServlet` servlet? Again, it&#39;s just a guess. Also, have you tried using Jetty 10 to see if the code still works? (Jetty 10 uses servlet version 4.0)","body":"I&#39;m making a guess here (since you don&#39;t have any errors), but could it be because Jetty 11 uses the JakartaEE namespace with a servlet version 5.0 and you are still using a <code>javax</code> servlet? You have <code>javax.servlet-api</code> in your dependencies for the <code>javax</code> classes, but maybe Jetty is looking for a <code>jakarta.servlet.http.HttpServlet</code> servlet? Again, it&#39;s just a guess. Also, have you tried using Jetty 10 to see if the code still works? (Jetty 10 uses servlet version 4.0)"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1614302961,"post_id":66361859,"comment_id":117351408,"body_markdown":"@Bogdan Thanks for the reply. I believe you&#39;re onto something with the Jakarta suspicion, and that agrees with the answer below. I tried using Jetty 10, as well as the Jakarta servlets dependency (both with Jetty 10 and 11), but I&#39;m still getting a 404. Looks like my only option is to go back to Jetty 9.","body":"@Bogdan Thanks for the reply. I believe you&#39;re onto something with the Jakarta suspicion, and that agrees with the answer below. I tried using Jetty 10, as well as the Jakarta servlets dependency (both with Jetty 10 and 11), but I&#39;m still getting a 404. Looks like my only option is to go back to Jetty 9."},{"owner":{"account_id":1046253,"reputation":180,"user_id":1051180,"accept_rate":50,"display_name":"MazeGen"},"score":0,"creation_date":1623842372,"post_id":66361859,"comment_id":120191727,"body_markdown":"@KevinWorkman I also tried to update your app-engine-hello-world project to Jetty 11 without success. In case of the original project, exec:java clearly scans for the annotations but it won&#39;t scan after upgrade to Jetty 11.","body":"@KevinWorkman I also tried to update your app-engine-hello-world project to Jetty 11 without success. In case of the original project, exec:java clearly scans for the annotations but it won&#39;t scan after upgrade to Jetty 11."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1696858549,"creation_date":1614256226,"answer_id":66368511,"question_id":66361859,"body_markdown":"Jetty 11 is based on Jakarta Servlet 5.0, which is part of Jakarta EE 9.\r\n\r\nJakarta EE 9 underwent the &quot;big bang&quot; change (their name, not mine) to namespace and packaging, there is no longer a `javax.servlet.*` it is now `jakarta.servlet.*`.\r\n\r\nThere is literally nothing in Jetty 11 that looks for `javax.servlet.*`.\r\n\r\nSome quick history ...\r\n\r\n* Oracle owned Java EE.\r\n* Oracle produced Java EE 7.\r\n* Oracle decided it didn&#39;t want to create/manage EE anymore.\r\n* Oracle gave all of EE to the Eclipse Foundation.\r\n* Oracle did not grant the Eclipse Foundation the right to use &quot;java&quot; or &quot;javax&quot; in this new EE reality.\r\n* Eclipse Foundation renamed it to &quot;Jakarta EE&quot; for legal reasons.\r\n* Eclipse Foundation releases &quot;Jakarta EE 8&quot; which is essentially just &quot;Java EE 7&quot; renamed for legal reasons (no package namespace change yet)\r\n* Eclipse Foundation renamed all packaging from `javax.&lt;spec&gt;` to `jakarta.&lt;spec&gt;` for legal reasons.\r\n* Eclipse Foundation releases &quot;Jakarta EE 9&quot; which is essentially just &quot;Jakarta EE 8&quot; but with a namespace change (this is the &quot;big bang&quot; mentioned above)\r\n\r\n(be aware, I skimmed over a lot of other things that happened between these steps)\r\n\r\n`javax.servlet.*` is dead, long live `jakarta.servlet.*`.\r\n\r\nJetty maintains the following versions (currently)\r\n\r\nJetty | Env | Servlet | EE | Namespace\r\n----- | ----- | ------- | ----- | -----\r\nJetty 12.x | `ee10` | Servlet 6.0 | Jakarta EE 10 | `jakarta.servlet`\r\nJetty 12.x | `ee9` | Servlet 5.0 | Jakarta EE 9 | `jakarta.servlet`\r\nJetty 12.x | `ee8` | Servlet 4.0 | Jakarta EE 8 | `javax.servlet`\r\nJetty 11.x | _n/a_ | Servlet 5.0 | Jakarta EE 9 | `jakarta.servlet`\r\nJetty 10.x | _n/a_ | Servlet 4.0 | Jakarta EE 8 | `javax.servlet`\r\n\r\nStarting with Jetty 12.x, Jetty supports the concept of _Environments_ which allows for deploying webapps targeting different EE environments all at the same time on Jetty.  This means you can have a `webapp-legacy.war` deployed to the `ee8` environment that supports `javax.servlet` (on Servlet 4.0) and `webapp-modern.war` deployed to `ee10` environment supporting `jakarta.servlet` (on Servlet 6.0)\r\n\r\nNote: Jetty 11 and Jetty 10 do not have this environment functionality and are stuck on a fixed version of EE per their Jetty version.\r\n","title":"Jetty 11 Doesn&#39;t Detect Servlets","body":"<p>Jetty 11 is based on Jakarta Servlet 5.0, which is part of Jakarta EE 9.</p>\n<p>Jakarta EE 9 underwent the &quot;big bang&quot; change (their name, not mine) to namespace and packaging, there is no longer a <code>javax.servlet.*</code> it is now <code>jakarta.servlet.*</code>.</p>\n<p>There is literally nothing in Jetty 11 that looks for <code>javax.servlet.*</code>.</p>\n<p>Some quick history ...</p>\n<ul>\n<li>Oracle owned Java EE.</li>\n<li>Oracle produced Java EE 7.</li>\n<li>Oracle decided it didn't want to create/manage EE anymore.</li>\n<li>Oracle gave all of EE to the Eclipse Foundation.</li>\n<li>Oracle did not grant the Eclipse Foundation the right to use &quot;java&quot; or &quot;javax&quot; in this new EE reality.</li>\n<li>Eclipse Foundation renamed it to &quot;Jakarta EE&quot; for legal reasons.</li>\n<li>Eclipse Foundation releases &quot;Jakarta EE 8&quot; which is essentially just &quot;Java EE 7&quot; renamed for legal reasons (no package namespace change yet)</li>\n<li>Eclipse Foundation renamed all packaging from <code>javax.&lt;spec&gt;</code> to <code>jakarta.&lt;spec&gt;</code> for legal reasons.</li>\n<li>Eclipse Foundation releases &quot;Jakarta EE 9&quot; which is essentially just &quot;Jakarta EE 8&quot; but with a namespace change (this is the &quot;big bang&quot; mentioned above)</li>\n</ul>\n<p>(be aware, I skimmed over a lot of other things that happened between these steps)</p>\n<p><code>javax.servlet.*</code> is dead, long live <code>jakarta.servlet.*</code>.</p>\n<p>Jetty maintains the following versions (currently)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Jetty</th>\n<th>Env</th>\n<th>Servlet</th>\n<th>EE</th>\n<th>Namespace</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Jetty 12.x</td>\n<td><code>ee10</code></td>\n<td>Servlet 6.0</td>\n<td>Jakarta EE 10</td>\n<td><code>jakarta.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 12.x</td>\n<td><code>ee9</code></td>\n<td>Servlet 5.0</td>\n<td>Jakarta EE 9</td>\n<td><code>jakarta.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 12.x</td>\n<td><code>ee8</code></td>\n<td>Servlet 4.0</td>\n<td>Jakarta EE 8</td>\n<td><code>javax.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 11.x</td>\n<td><em>n/a</em></td>\n<td>Servlet 5.0</td>\n<td>Jakarta EE 9</td>\n<td><code>jakarta.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 10.x</td>\n<td><em>n/a</em></td>\n<td>Servlet 4.0</td>\n<td>Jakarta EE 8</td>\n<td><code>javax.servlet</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Starting with Jetty 12.x, Jetty supports the concept of <em>Environments</em> which allows for deploying webapps targeting different EE environments all at the same time on Jetty.  This means you can have a <code>webapp-legacy.war</code> deployed to the <code>ee8</code> environment that supports <code>javax.servlet</code> (on Servlet 4.0) and <code>webapp-modern.war</code> deployed to <code>ee10</code> environment supporting <code>jakarta.servlet</code> (on Servlet 6.0)</p>\n<p>Note: Jetty 11 and Jetty 10 do not have this environment functionality and are stuck on a fixed version of EE per their Jetty version.</p>\n"}],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8871,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66368511,"answer_count":1,"score":5,"last_activity_date":1696858549,"creation_date":1614222707,"question_id":66361859,"body_markdown":"I have an example project [here](https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world) that uses Jetty to deploy a local server.\r\n\r\nI use the `mvn package exec:java` command to run a local server, and it works fine. It loads HTML files, as well as content from servlets. Here are the pertinent files:\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 11 --&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;jetty.version&gt;9.4.35.v20201120&lt;/jetty.version&gt;\r\n\r\n    &lt;!-- Project-specific properties --&gt;\r\n    &lt;exec.mainClass&gt;io.happycoding.ServerMain&lt;/exec.mainClass&gt;\r\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Java Servlets API --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jetty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${project.build.directory}/classes/META-INF/resources\r\n              &lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Package everything into a single executable jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**ServerMain.java**\r\n\r\n```java\r\npackage io.happycoding;\r\n\r\nimport java.net.URL;\r\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.handler.DefaultHandler;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.DefaultServlet;\r\nimport org.eclipse.jetty.webapp.Configuration;\r\nimport org.eclipse.jetty.webapp.WebAppContext;\r\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\r\n\r\n/**\r\n * Starts up the server, including a DefaultServlet that handles static files,\r\n * and any servlet classes annotated with the @WebServlet annotation.\r\n */\r\npublic class ServerMain {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    // Create a server that listens on port 8080.\r\n    Server server = new Server(8080);\r\n    WebAppContext webAppContext = new WebAppContext();\r\n    server.setHandler(webAppContext);\r\n\r\n    // Load static content from inside the jar file.\r\n    URL webAppDir =\r\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\r\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\r\n\r\n    // Enable annotations so the server sees classes annotated with @WebServlet.\r\n    webAppContext.setConfigurations(new Configuration[]{ \r\n      new AnnotationConfiguration(),\r\n      new WebInfConfiguration(), \r\n    });\r\n\r\n    // Look for annotations in the classes directory (dev server) and in the\r\n    // jar file (live server)\r\n    webAppContext.setAttribute(\r\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \r\n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\r\n\r\n    // Handle static resources, e.g. html files.\r\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\r\n\r\n    // Start the server! &#128640;\r\n    server.start();\r\n    System.out.println(&quot;Server started!&quot;);\r\n\r\n    // Keep the main thread alive while the server is running.\r\n    server.join();\r\n  }\r\n}\r\n```\r\n\r\n**HelloWorldServlet.java**\r\n\r\n```java\r\npackage io.happycoding.servlets;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/hello&quot;)\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n  @Override\r\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n      throws IOException {\r\n    response.setContentType(&quot;text/html;&quot;);\r\n    response.getWriter().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAgain, this works fine... as long as I&#39;m using Jetty 9.\r\n\r\nBut if I update my `pom.xml` file to set my `jetty.version` to `11.0.0`, then suddenly I get a 404 for my servlet URL. I don&#39;t see any errors in the console.\r\n\r\nWhat do I need to change about my code to get servlets to work again in Jetty 11?\r\n\r\n(I&#39;m asking because I got a bunch of dependabot updates to various student projects that all stopped working, and I&#39;m trying to untangle them with the least friction possible.)","title":"Jetty 11 Doesn&#39;t Detect Servlets","body":"<p>I have an example project <a href=\"https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world\" rel=\"noreferrer\">here</a> that uses Jetty to deploy a local server.</p>\n<p>I use the <code>mvn package exec:java</code> command to run a local server, and it works fine. It loads HTML files, as well as content from servlets. Here are the pertinent files:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 11 --&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jetty.version&gt;9.4.35.v20201120&lt;/jetty.version&gt;\n\n    &lt;!-- Project-specific properties --&gt;\n    &lt;exec.mainClass&gt;io.happycoding.ServerMain&lt;/exec.mainClass&gt;\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Java Servlets API --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jetty --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${project.build.directory}/classes/META-INF/resources\n              &lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Package everything into a single executable jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\n          &lt;version&gt;1&lt;/version&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>ServerMain.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding;\n\nimport java.net.URL;\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.handler.DefaultHandler;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.webapp.Configuration;\nimport org.eclipse.jetty.webapp.WebAppContext;\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\n\n/**\n * Starts up the server, including a DefaultServlet that handles static files,\n * and any servlet classes annotated with the @WebServlet annotation.\n */\npublic class ServerMain {\n\n  public static void main(String[] args) throws Exception {\n\n    // Create a server that listens on port 8080.\n    Server server = new Server(8080);\n    WebAppContext webAppContext = new WebAppContext();\n    server.setHandler(webAppContext);\n\n    // Load static content from inside the jar file.\n    URL webAppDir =\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\n\n    // Enable annotations so the server sees classes annotated with @WebServlet.\n    webAppContext.setConfigurations(new Configuration[]{ \n      new AnnotationConfiguration(),\n      new WebInfConfiguration(), \n    });\n\n    // Look for annotations in the classes directory (dev server) and in the\n    // jar file (live server)\n    webAppContext.setAttribute(\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\n\n    // Handle static resources, e.g. html files.\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\n\n    // Start the server! 🚀\n    server.start();\n    System.out.println(&quot;Server started!&quot;);\n\n    // Keep the main thread alive while the server is running.\n    server.join();\n  }\n}\n</code></pre>\n<p><strong>HelloWorldServlet.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding.servlets;\n\nimport java.io.IOException;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/hello&quot;)\npublic class HelloWorldServlet extends HttpServlet {\n\n  @Override\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws IOException {\n    response.setContentType(&quot;text/html;&quot;);\n    response.getWriter().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\n  }\n}\n</code></pre>\n<p>Again, this works fine... as long as I'm using Jetty 9.</p>\n<p>But if I update my <code>pom.xml</code> file to set my <code>jetty.version</code> to <code>11.0.0</code>, then suddenly I get a 404 for my servlet URL. I don't see any errors in the console.</p>\n<p>What do I need to change about my code to get servlets to work again in Jetty 11?</p>\n<p>(I'm asking because I got a bunch of dependabot updates to various student projects that all stopped working, and I'm trying to untangle them with the least friction possible.)</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":1471109,"reputation":2221,"user_id":3182139,"accept_rate":71,"display_name":"LHWizard"},"score":1,"creation_date":1678826865,"post_id":75734389,"comment_id":133608357,"body_markdown":"I&#39;d bump the heap size to 16G since you&#39;re JVM is running out of memory.","body":"I&#39;d bump the heap size to 16G since you&#39;re JVM is running out of memory."},{"owner":{"account_id":238386,"reputation":22323,"user_id":507256,"accept_rate":87,"display_name":"Madhur Ahuja"},"score":0,"creation_date":1696526226,"post_id":75734389,"comment_id":136167765,"body_markdown":"Were you able to figure out the solution. I am having similar problem.","body":"Were you able to figure out the solution. I am having similar problem."}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678896558,"creation_date":1678896558,"answer_id":75747286,"question_id":75734389,"body_markdown":"Echoing what LHWizard said, in looking through your question, it looks like your heap size is slightly less than 8GB.  That means you&#39;re getting the default, computed size, which probably isn&#39;t enough.\r\n\r\nAs you appear to be using the CMS garbage collector, the heap sizing (specified in the `conf/jvm-server.options` file) should look something like this:\r\n\r\n    -Xmx16GB\r\n    -Xms16GB\r\n    -Xmn6GB\r\n\r\nSo `Xmx` is the max heap size.  `Xms` is the initial heap size, but as resizing the heap gives a performance hit, with Cassandra you typically want to set max and initial heap sizes the same.  Also with Cassandra and CMS, you should target a new gen size of 25% to 50% of the heap, which is why I have `Xmn6GB`.\r\n\r\nNote that you should explore the config options in the `jvm11-server.options` for the G1 garbage collector instead. The CMS collector was deprecated in Java 9 and removed in Java 14.  If you do decide to go that route, you only need to worry about `Xmx` and `Xms` (you shouldn&#39;t set the new gen size with G1GC).\r\n\r\n","title":"Java Crashes when running Cassandra 4.0.8","body":"<p>Echoing what LHWizard said, in looking through your question, it looks like your heap size is slightly less than 8GB.  That means you're getting the default, computed size, which probably isn't enough.</p>\n<p>As you appear to be using the CMS garbage collector, the heap sizing (specified in the <code>conf/jvm-server.options</code> file) should look something like this:</p>\n<pre><code>-Xmx16GB\n-Xms16GB\n-Xmn6GB\n</code></pre>\n<p>So <code>Xmx</code> is the max heap size.  <code>Xms</code> is the initial heap size, but as resizing the heap gives a performance hit, with Cassandra you typically want to set max and initial heap sizes the same.  Also with Cassandra and CMS, you should target a new gen size of 25% to 50% of the heap, which is why I have <code>Xmn6GB</code>.</p>\n<p>Note that you should explore the config options in the <code>jvm11-server.options</code> for the G1 garbage collector instead. The CMS collector was deprecated in Java 9 and removed in Java 14.  If you do decide to go that route, you only need to worry about <code>Xmx</code> and <code>Xms</code> (you shouldn't set the new gen size with G1GC).</p>\n"},{"tags":[],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696858420,"creation_date":1696858420,"answer_id":77259253,"question_id":75734389,"body_markdown":"@Madhur Ahuja, The way I solved it is based on all the answers I received.\r\nI bumped up the memory and enabled G1 garbage collector. Also I&#39;m using the latest version which is today: 4.1.3. Since then, I do not have this error.\r\n\r\nI defined:\r\n\r\n    MAX_HEAP_SIZE: &#39;16G&#39;          # Should be between 1/4 to 1/2 of total available memory.\r\n    HEAP_NEWSIZE: &#39;400M&#39;          # Should be 100M * core count.\r\n\r\nAnd modified the jvm11-server.options to use the G1 garbage collectors and disabling CMS using this:\r\n\r\n    ### CMS Settings\r\n    #-XX:+UseConcMarkSweepGC\r\n    #-XX:+CMSParallelRemarkEnabled\r\n    #-XX:SurvivorRatio=8\r\n    #-XX:MaxTenuringThreshold=1\r\n    #-XX:CMSInitiatingOccupancyFraction=75\r\n    #-XX:+UseCMSInitiatingOccupancyOnly\r\n    #-XX:CMSWaitDuration=10000\r\n    #-XX:+CMSParallelInitialMarkEnabled\r\n    #-XX:+CMSEdenChunksRecordAlways\r\n    ## some JVMs will fill up their heap when accessed via JMX, see CASSANDRA-6541\r\n    #-XX:+CMSClassUnloadingEnabled \t\r\n    \r\n    \r\n    \r\n    ### G1 Settings\r\n    ## Use the Hotspot garbage-first collector.\r\n    -XX:+UseG1GC\r\n    -XX:+ParallelRefProcEnabled\r\n    -XX:MaxTenuringThreshold=1\r\n    -XX:G1HeapRegionSize=16m\r\n\r\nHope it helps you.\r\n","title":"Java Crashes when running Cassandra 4.0.8","body":"<p>@Madhur Ahuja, The way I solved it is based on all the answers I received.\nI bumped up the memory and enabled G1 garbage collector. Also I'm using the latest version which is today: 4.1.3. Since then, I do not have this error.</p>\n<p>I defined:</p>\n<pre><code>MAX_HEAP_SIZE: '16G'          # Should be between 1/4 to 1/2 of total available memory.\nHEAP_NEWSIZE: '400M'          # Should be 100M * core count.\n</code></pre>\n<p>And modified the jvm11-server.options to use the G1 garbage collectors and disabling CMS using this:</p>\n<pre><code>### CMS Settings\n#-XX:+UseConcMarkSweepGC\n#-XX:+CMSParallelRemarkEnabled\n#-XX:SurvivorRatio=8\n#-XX:MaxTenuringThreshold=1\n#-XX:CMSInitiatingOccupancyFraction=75\n#-XX:+UseCMSInitiatingOccupancyOnly\n#-XX:CMSWaitDuration=10000\n#-XX:+CMSParallelInitialMarkEnabled\n#-XX:+CMSEdenChunksRecordAlways\n## some JVMs will fill up their heap when accessed via JMX, see CASSANDRA-6541\n#-XX:+CMSClassUnloadingEnabled  \n\n\n\n### G1 Settings\n## Use the Hotspot garbage-first collector.\n-XX:+UseG1GC\n-XX:+ParallelRefProcEnabled\n-XX:MaxTenuringThreshold=1\n-XX:G1HeapRegionSize=16m\n</code></pre>\n<p>Hope it helps you.</p>\n"}],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696858420,"creation_date":1678803576,"question_id":75734389,"body_markdown":"I&#39;m running Cassandra 4.0.8 on CentOS Stream release 8, using Java 11.0.17.\r\nWhen I cleanup after a bootstrap some of my nodes crash. Basically it seems to crash when streaming and compacting a lot of data.\r\n\r\nI believe to be using the latest Java 11 VM and the latest Cassandra 4 versions.\r\n\r\nWould anyone have any suggestions on how to fix this problem.\r\nI cannot reproduce the problem on demand, it happens sometimes when there is lots to do.!!\r\n\r\nThanks for your help,\r\n\r\nJean\r\n\r\nHere is an extract of the core dump:\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGBUS (0x7) at pc=0x00007fe388431daa, pid=3006650, tid=3008039\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.17+10) (build 11.0.17+10-LTS-269)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.17+10-LTS-269, mixed mode, tiered, compressed oops, concurrent mark sweep gc, linux-amd64)\r\n    # Problematic frame:\r\n    # v  ~StubRoutines::updateBytesCRC32\r\n    #\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h %e&quot; (or dumping to /home/cassandra/core.3006650)\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://bugreport.java.com/bugreport/crash.jsp\r\n    #\r\n\r\n    ---------------  S U M M A R Y ------------\r\n\r\n    Command Line: -ea -da:net.openhft... -XX:+UseThreadPriorities -XX:+HeapDumpOnOutOfMemoryError -Xss256k -XX:+AlwaysPreTouch -XX:-UseBiasedLocking -XX:+UseTLAB -XX:+ResizeTLAB -XX:+UseNUMA -XX:+PerfDisableSharedMem -Djava.net.\r\npreferIPv4Stack=true -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=1 -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSWaitDuration=10000 -XX\r\n:+CMSParallelInitialMarkEnabled -XX:+CMSEdenChunksRecordAlways -XX:+CMSClassUnloadingEnabled -Djdk.attach.allowAttachSelf=true --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED --add-exports=java.base/jdk.internal.ref=AL\r\nL-UNNAMED --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-        exports=java.management.rmi/com.sun.jmx.remote.internal.rmi=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.registry=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.server\r\n=ALL-UNNAMED --add-exports=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/java.lang.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens\r\n=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.math=ALL-UNNAMED --add-opens=java.base/jdk.internal.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.jar=ALL-UNNAMED --add-opens=jdk.ma\r\nnagement/com.sun.management.internal=ALL-UNNAMED -Dio.netty.tryReflectionSetAccessible=true -Xlog:gc=info,heap*=trace,age*=debug,safepoint=info,promotion*=trace:file=/home/cassandra/apache-cassandra/logs/gc.log:time,uptime,p\r\nid,tid,level:filecount=10,filesize=10485760 -Xms7961M -Xmx7961M -Xmn400M -XX:+UseCondCardMark -XX:CompileCommandFile=/home/cassandra/apache-cassandra/conf/hotspot_compiler -javaagent:/home/cassandra/apache-cassandra/lib/jamm\r\n-0.3.2.jar -Dcassandra.jmx.remote.port=7199 -Dcom.sun.management.jmxremote.rmi.port=7199 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.password.file=/etc/cassandra/jmxremote.password -Djava\r\n.library.path=/home/cassandra/apache-cassandra/lib/sigar-bin -Dcassandra.libjemalloc=/usr/lib64/libjemalloc.so.2 -XX:OnOutOfMemoryError=kill -9 %p -Dlogback.configurationFile=logback.xml -Dcassandra.logdir=/home/cassandra/ap\r\nache-cassandra/logs -Dcassandra.storagedir=/home/cassandra/apache-cassandra/data org.apache.cassandra.service.CassandraDaemon\r\n\r\n    Host: Intel(R) Core(TM) i5-6260U CPU @ 1.80GHz, 4 cores, 31G, CentOS Stream release 8\r\n    Time: Tue Mar 14 15:01:44 2023 CET elapsed time: 2430.690820 seconds (0d 0h 40m 30s)\r\n\r\n    ---------------  T H R E A D  ---------------\r\n\r\n    Current thread (0x00007f2b75aaee00):  JavaThread &quot;CompactionExecutor:8&quot; daemon [_thread_in_Java, id=3008039, stack(0x00007f25d5ddf000,0x00007f25d5e20000)]\r\n\r\n    Stack: [0x00007f25d5ddf000,0x00007f25d5e20000],  sp=0x00007f25d5e1c6f0,  free space=245k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nv  ~StubRoutines::updateBytesCRC32\r\n\r\n\r\n    siginfo: si_signo: 7 (SIGBUS), si_code: 2 (BUS_ADRERR), si_addr: 0x00007f4556a2d000\r\n\r\n    Register to memory mapping:\r\n\r\n    RAX=0x00000000d8464a00 is an unknown value\r\n    RBX=0x000000061f4c1c90 is an oop: java.nio.DirectByteBufferR\r\n    {0x000000061f4c1c90} - klass: &#39;java/nio/DirectByteBufferR&#39;\r\n    RCX=0x00007fe3a138e9c0: &lt;offset 0x000000000146f9c0&gt; in /usr/jdk-    11.0.17/lib/server/libjvm.so at 0x00007fe39ff1f000\r\n    RDX=0x0000000000000082 is an unknown value\r\n    RSP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\r\n    RBP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\r\n    RSI=0x00007f4556a2cfd0 points into unknown readable memory: 0x4f1f18b0cedc8a28 | 28 8a dc ce b0 18 1f 4f\r\n    RDI=0x00000000d18d1b56 is an unknown value\r\n    R8 =0x0000000029edee07 is an unknown value\r\n    R9 =0x0000000000000a19 is an unknown value","title":"Java Crashes when running Cassandra 4.0.8","body":"<p>I'm running Cassandra 4.0.8 on CentOS Stream release 8, using Java 11.0.17.\nWhen I cleanup after a bootstrap some of my nodes crash. Basically it seems to crash when streaming and compacting a lot of data.</p>\n<p>I believe to be using the latest Java 11 VM and the latest Cassandra 4 versions.</p>\n<p>Would anyone have any suggestions on how to fix this problem.\nI cannot reproduce the problem on demand, it happens sometimes when there is lots to do.!!</p>\n<p>Thanks for your help,</p>\n<p>Jean</p>\n<p>Here is an extract of the core dump:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGBUS (0x7) at pc=0x00007fe388431daa, pid=3006650, tid=3008039\n#\n# JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.17+10) (build 11.0.17+10-LTS-269)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.17+10-LTS-269, mixed mode, tiered, compressed oops, concurrent mark sweep gc, linux-amd64)\n# Problematic frame:\n# v  ~StubRoutines::updateBytesCRC32\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h %e&quot; (or dumping to /home/cassandra/core.3006650)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -ea -da:net.openhft... -XX:+UseThreadPriorities -XX:+HeapDumpOnOutOfMemoryError -Xss256k -XX:+AlwaysPreTouch -XX:-UseBiasedLocking -XX:+UseTLAB -XX:+ResizeTLAB -XX:+UseNUMA -XX:+PerfDisableSharedMem -Djava.net.\n</code></pre>\n<p>preferIPv4Stack=true -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=1 -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSWaitDuration=10000 -XX\n:+CMSParallelInitialMarkEnabled -XX:+CMSEdenChunksRecordAlways -XX:+CMSClassUnloadingEnabled -Djdk.attach.allowAttachSelf=true --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED --add-exports=java.base/jdk.internal.ref=AL\nL-UNNAMED --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-        exports=java.management.rmi/com.sun.jmx.remote.internal.rmi=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.registry=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.server\n=ALL-UNNAMED --add-exports=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/java.lang.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens\n=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.math=ALL-UNNAMED --add-opens=java.base/jdk.internal.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.jar=ALL-UNNAMED --add-opens=jdk.ma\nnagement/com.sun.management.internal=ALL-UNNAMED -Dio.netty.tryReflectionSetAccessible=true -Xlog:gc=info,heap*=trace,age*=debug,safepoint=info,promotion*=trace:file=/home/cassandra/apache-cassandra/logs/gc.log:time,uptime,p\nid,tid,level:filecount=10,filesize=10485760 -Xms7961M -Xmx7961M -Xmn400M -XX:+UseCondCardMark -XX:CompileCommandFile=/home/cassandra/apache-cassandra/conf/hotspot_compiler -javaagent:/home/cassandra/apache-cassandra/lib/jamm\n-0.3.2.jar -Dcassandra.jmx.remote.port=7199 -Dcom.sun.management.jmxremote.rmi.port=7199 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.password.file=/etc/cassandra/jmxremote.password -Djava\n.library.path=/home/cassandra/apache-cassandra/lib/sigar-bin -Dcassandra.libjemalloc=/usr/lib64/libjemalloc.so.2 -XX:OnOutOfMemoryError=kill -9 %p -Dlogback.configurationFile=logback.xml -Dcassandra.logdir=/home/cassandra/ap\nache-cassandra/logs -Dcassandra.storagedir=/home/cassandra/apache-cassandra/data org.apache.cassandra.service.CassandraDaemon</p>\n<pre><code>Host: Intel(R) Core(TM) i5-6260U CPU @ 1.80GHz, 4 cores, 31G, CentOS Stream release 8\nTime: Tue Mar 14 15:01:44 2023 CET elapsed time: 2430.690820 seconds (0d 0h 40m 30s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007f2b75aaee00):  JavaThread &quot;CompactionExecutor:8&quot; daemon [_thread_in_Java, id=3008039, stack(0x00007f25d5ddf000,0x00007f25d5e20000)]\n\nStack: [0x00007f25d5ddf000,0x00007f25d5e20000],  sp=0x00007f25d5e1c6f0,  free space=245k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\n</code></pre>\n<p>v  ~StubRoutines::updateBytesCRC32</p>\n<pre><code>siginfo: si_signo: 7 (SIGBUS), si_code: 2 (BUS_ADRERR), si_addr: 0x00007f4556a2d000\n\nRegister to memory mapping:\n\nRAX=0x00000000d8464a00 is an unknown value\nRBX=0x000000061f4c1c90 is an oop: java.nio.DirectByteBufferR\n{0x000000061f4c1c90} - klass: 'java/nio/DirectByteBufferR'\nRCX=0x00007fe3a138e9c0: &lt;offset 0x000000000146f9c0&gt; in /usr/jdk-    11.0.17/lib/server/libjvm.so at 0x00007fe39ff1f000\nRDX=0x0000000000000082 is an unknown value\nRSP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\nRBP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\nRSI=0x00007f4556a2cfd0 points into unknown readable memory: 0x4f1f18b0cedc8a28 | 28 8a dc ce b0 18 1f 4f\nRDI=0x00000000d18d1b56 is an unknown value\nR8 =0x0000000029edee07 is an unknown value\nR9 =0x0000000000000a19 is an unknown value\n</code></pre>\n"},{"tags":["java","pdf","itext","digital-signature","pkcs#7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696858948,"post_id":77259249,"comment_id":136203113,"body_markdown":"As you mention many more things you eventually want to do, one question: What you&#39;re asking now and here is how to calculate the PDF hash and validate that this calculated document hash is identical to the document hash in the signature?","body":"As you mention many more things you eventually want to do, one question: What you&#39;re asking now and here is how to calculate the PDF hash and validate that this calculated document hash is identical to the document hash in the signature?"},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1696862554,"post_id":77259249,"comment_id":136203930,"body_markdown":"Yes, to start with I think that should be the first step to check whether document has been altered or not. Any insights on how should I go about it?","body":"Yes, to start with I think that should be the first step to check whether document has been altered or not. Any insights on how should I go about it?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696944783,"post_id":77259249,"comment_id":136215282,"body_markdown":"You are aware that that essentially is what `SignatureUtil.readSignatureData` and `PdfPKCS7.verifySignatureIntegrityAndAuthenticity` (iText 8.x) / `AcroFields.verifySignature` and `PdfPKCS7.verify` (iText 5.x) do? Should an answer here explain the use of those methods? Or do you want to independently implement a similar functionality?","body":"You are aware that that essentially is what <code>SignatureUtil.readSignatureData</code> and <code>PdfPKCS7.verifySignatureIntegrityAndAuthenticity</code> (iText 8.x) / <code>AcroFields.verifySignature</code> and <code>PdfPKCS7.verify</code> (iText 5.x) do? Should an answer here explain the use of those methods? Or do you want to independently implement a similar functionality?"}],"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696858380,"creation_date":1696858380,"question_id":77259249,"body_markdown":"I want to validate relevant details of a pdf such as document hash signed, certificate validity and  any changes to document after signing. \r\n\r\nTo validate certificate, I can use pkcs7 to verify. However not sure how to validate document hash signed or compare the document hash in /Sig annotation and the original document? \r\n\r\nPDFDictionary of type /Sig has /Type, /Filter, /SubFilter, /Reason, /ContactInfo, /M, /Name, /ByteRange and /Contents (which contains certificate data), can&#39;t find hash to be verified with. \r\n\r\nTried using several approaches around fetching PDFDictionary objects but couldn&#39;t find much. \r\n\r\nReferred below link: https://stackoverflow.com/questions/49070029/itext-pdf-integrity-check\r\nbut don&#39;t have a clarity on how to implement such thing in iText?","title":"iText check pdf integrity","body":"<p>I want to validate relevant details of a pdf such as document hash signed, certificate validity and  any changes to document after signing.</p>\n<p>To validate certificate, I can use pkcs7 to verify. However not sure how to validate document hash signed or compare the document hash in /Sig annotation and the original document?</p>\n<p>PDFDictionary of type /Sig has /Type, /Filter, /SubFilter, /Reason, /ContactInfo, /M, /Name, /ByteRange and /Contents (which contains certificate data), can't find hash to be verified with.</p>\n<p>Tried using several approaches around fetching PDFDictionary objects but couldn't find much.</p>\n<p>Referred below link: <a href=\"https://stackoverflow.com/questions/49070029/itext-pdf-integrity-check\">iText pdf integrity check</a>\nbut don't have a clarity on how to implement such thing in iText?</p>\n"},{"tags":["java","spring","spring-mvc","datetime","java-8"],"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1469551479,"post_id":38593542,"comment_id":64579043,"body_markdown":"Java-8 only yields a [partial solution](http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME) - for the rfc1123-part. To model the alternative rfc850-part which uses full week-day-names (and the &quot;asc-time-date&quot;), you have probably to catch exceptions in case the first try with rfc1123 fails.","body":"Java-8 only yields a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\">partial solution</a> - for the rfc1123-part. To model the alternative rfc850-part which uses full week-day-names (and the &quot;asc-time-date&quot;), you have probably to catch exceptions in case the first try with rfc1123 fails."}],"answers":[{"tags":[],"owner":{"account_id":9534526,"reputation":21,"user_id":7085098,"display_name":"Gabriel Moraes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696858330,"creation_date":1696858330,"answer_id":77259247,"question_id":38593542,"body_markdown":"You must to use the ISO option inside the interface @DateTimeFormat, as shown in the Spring [documentations][1]\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html","title":"How to bind an HTTP-date request header to ZonedDateTime in Spring MVC?","body":"<p>You must to use the ISO option inside the interface @DateTimeFormat, as shown in the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html\" rel=\"nofollow noreferrer\">documentations</a></p>\n<pre><code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n</code></pre>\n"}],"owner":{"account_id":1092244,"reputation":652,"user_id":1086631,"accept_rate":71,"display_name":"Robert Johnson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1696858330,"creation_date":1469545551,"question_id":38593542,"body_markdown":"In my Spring MVC controller I would like to bind headers in the [HTTP-date format][1] (e.g. for If-Modified-Since) to instances of ZonedDateTime like so:\r\n\r\n    @RequestMapping(value = &quot;/foo&quot;)\r\n    public ResponseEntity&lt;?&gt; someRequest(\r\n        @RequestHeader(value = &quot;If-Modified-Since&quot;) ZonedDateTime modifiedSince)\r\n    {\r\n        ...\r\n    }\r\n\r\nI&#39;ve looked at annotating the parameter with `@DateTimeFormat`, but this does not provide a built-in way to parse all the formats accepted for HTTP dates. Is there some way to get Spring to bind the header parameter correctly?\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1","title":"How to bind an HTTP-date request header to ZonedDateTime in Spring MVC?","body":"<p>In my Spring MVC controller I would like to bind headers in the <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\" rel=\"noreferrer\">HTTP-date format</a> (e.g. for If-Modified-Since) to instances of ZonedDateTime like so:</p>\n\n<pre><code>@RequestMapping(value = \"/foo\")\npublic ResponseEntity&lt;?&gt; someRequest(\n    @RequestHeader(value = \"If-Modified-Since\") ZonedDateTime modifiedSince)\n{\n    ...\n}\n</code></pre>\n\n<p>I've looked at annotating the parameter with <code>@DateTimeFormat</code>, but this does not provide a built-in way to parse all the formats accepted for HTTP dates. Is there some way to get Spring to bind the header parameter correctly?</p>\n"},{"tags":["java","html","spring-boot","spring-security","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696858116,"creation_date":1696857200,"answer_id":77259138,"question_id":77258987,"body_markdown":"My suggestion is to submit the form via `AJAX` [*asynchronously*][1]. \r\n\r\nFirst, you should include in your project an library to make `AJAX` requests, I&#39;ll use [*jQuery*][2], you can add it in your html file this way:\r\n\r\n```html\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nThen, you should modify your HTML form to prevent the default form submission behavior:\r\n\r\n```html\r\n&lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot; th:attr=&quot;data-url=@{/login}&quot;&gt;\r\n```\r\n\r\nAlso, update your controller to return an JSON responses:\r\n\r\n```java\r\n@PostMapping(&quot;/login&quot;)\r\npublic @ResponseBody Map&lt;String, Object&gt; login(Model model, String error, String logout) {\r\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\r\n    // If logged in successfully, return a success response\r\n    if (securityService.isAuthenticated()) {\r\n        response.put(&quot;success&quot;, true);\r\n        return response;\r\n    }\r\n\r\n    // Error example\r\n    if (error != null) {\r\n        response.put(&quot;success&quot;, false);\r\n        response.put(&quot;html&quot;, &quot;&lt;p style=&#39;color: red&#39;&gt;Some error message here!&lt;/p&gt;&quot;);\r\n    }\r\n\r\n    return response;\r\n}\r\n```\r\n\r\n**Note:** I suggest you to do it for all your controller methods.\r\n\r\nNow, you can handle the form submission by using `AJAX`:\r\n\r\n```html\r\n&lt;script&gt;\r\n$(document).ready(function () {\r\n    $(&quot;#loginForm&quot;).submit(function (event) {\r\n        // Prevent the default submission\r\n        event.preventDefault();\r\n\r\n        var form = $(this);\r\n        var url = form.attr(&quot;data-url&quot;);\r\n\r\n        $.ajax({\r\n            type: &quot;POST&quot;,\r\n            url: url,\r\n            data: form.serialize(), // Serialize form data\r\n            success: function (response) {\r\n                // Check the response\r\n                if (response.success) {\r\n                    // Successful login\r\n                    // TODO: Handle\r\n                } else {\r\n                    // Update the modal with the error message\r\n                    $(&quot;#loginModal .modal-body&quot;).html(response.html);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n&lt;/script&gt;\r\n```\r\n\r\nIt&#39;s just an example approach, you can adapt it to your needs.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)\r\n  [2]: https://jquery.com/","title":"HTML Modal Validation with Spring not working because its disappearing","body":"<p>My suggestion is to submit the form via <code>AJAX</code> <a href=\"https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)\" rel=\"nofollow noreferrer\"><em>asynchronously</em></a>.</p>\n<p>First, you should include in your project an library to make <code>AJAX</code> requests, I'll use <a href=\"https://jquery.com/\" rel=\"nofollow noreferrer\"><em>jQuery</em></a>, you can add it in your html file this way:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Then, you should modify your HTML form to prevent the default form submission behavior:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot; th:attr=&quot;data-url=@{/login}&quot;&gt;\n</code></pre>\n<p>Also, update your controller to return an JSON responses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/login&quot;)\npublic @ResponseBody Map&lt;String, Object&gt; login(Model model, String error, String logout) {\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n\n    // If logged in successfully, return a success response\n    if (securityService.isAuthenticated()) {\n        response.put(&quot;success&quot;, true);\n        return response;\n    }\n\n    // Error example\n    if (error != null) {\n        response.put(&quot;success&quot;, false);\n        response.put(&quot;html&quot;, &quot;&lt;p style='color: red'&gt;Some error message here!&lt;/p&gt;&quot;);\n    }\n\n    return response;\n}\n</code></pre>\n<p><strong>Note:</strong> I suggest you to do it for all your controller methods.</p>\n<p>Now, you can handle the form submission by using <code>AJAX</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\n$(document).ready(function () {\n    $(&quot;#loginForm&quot;).submit(function (event) {\n        // Prevent the default submission\n        event.preventDefault();\n\n        var form = $(this);\n        var url = form.attr(&quot;data-url&quot;);\n\n        $.ajax({\n            type: &quot;POST&quot;,\n            url: url,\n            data: form.serialize(), // Serialize form data\n            success: function (response) {\n                // Check the response\n                if (response.success) {\n                    // Successful login\n                    // TODO: Handle\n                } else {\n                    // Update the modal with the error message\n                    $(&quot;#loginModal .modal-body&quot;).html(response.html);\n                }\n            }\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n<p>It's just an example approach, you can adapt it to your needs.</p>\n"}],"owner":{"account_id":29632115,"reputation":21,"user_id":22710316,"display_name":"jCodeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1696858116,"creation_date":1696855660,"question_id":77258987,"body_markdown":"I&#39;ve created a login and registration for a blog website. However, the problem is that when I log in or register, the website reloads. As a result, my modal disappears, preventing any errors from being displayed. Here is the code:\r\n\r\nThe Controller:\r\n\r\n```java\r\n    @PostMapping(&quot;/login&quot;)\r\n    public String login(Model model, String error, String logout){\r\n        //If loggen in successfully go to /home\r\n        if (securityService.isAuthenticated()) {\r\n            return &quot;redirect:/home&quot;;\r\n        }\r\n\r\n        //Error Messages (does not work)\r\n        if (error != null)\r\n            model.addAttribute(&quot;error&quot;, &quot;Your username or password is invalid.&quot;);\r\n\r\n        if (logout != null) {\r\n            model.addAttribute(&quot;logoutMessage&quot;, &quot;You have been logged out successfully.&quot;);\r\n        }\r\n\r\n        return &quot;redirect:/home&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String registration(@ModelAttribute(&quot;userForm&quot;) User userForm, BindingResult bindingResult, Model model) {\r\n        //Validate Input\r\n        userValidator.validate(userForm, bindingResult);\r\n\r\n        //If Error (doesnt work)\r\n        if (bindingResult.hasErrors()) {\r\n            model.addAttribute(&quot;showModal&quot;, &quot;true&quot;);\r\n            return &quot;index&quot;;\r\n        }\r\n\r\n        //Save in User Table\r\n        userService.save(userForm);\r\n        //Autologin after Registration\r\n        //securityService.autoLogin(userForm.getUsername(), userForm.getPasswordConfirm());\r\n\r\n        return &quot;redirect:/home&quot;;\r\n    }\r\n```\r\n\r\nmy html file:\r\n\r\n```html\r\n&lt;!-- Login-Modal --&gt;\r\n&lt;div class=&quot;modal fade&quot; id=&quot;loginModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;loginModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n            &lt;div class=&quot;modal-header&quot;&gt;\r\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;loginModalLabel&quot;&gt;Anmelden&lt;/h5&gt;\r\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                &lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;modal-body&quot;&gt;\r\n                &lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;loginUsername&quot;&gt;Benutzername&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;loginUsername&quot; name=&quot;username&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;loginPassword&quot;&gt;Passwort&lt;/label&gt;\r\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;loginPassword&quot; name=&quot;password&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\r\n\r\n                    &lt;p class=&quot;has-error&quot; th:text=&quot;${error}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;p th:if=&quot;${logoutMessage}&quot; th:text=&quot;${logoutMessage}&quot; style=&quot;color: green&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Login&lt;/button&gt;\r\n                &lt;/form&gt;\r\n                &lt;!-- Link zum Registrierungs-Modal --&gt;\r\n                &lt;p class=&quot;mt-3 text-center&quot;&gt;\r\n                    Noch kein Account?\r\n                    &lt;a href=&quot;#&quot; data-toggle=&quot;modal&quot; data-dismiss=&quot;modal&quot; data-target=&quot;#registerModal&quot;&gt;Jetzt registrieren!&lt;/a&gt;\r\n                &lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;!-- Registrierungs-Modal --&gt;\r\n&lt;div class=&quot;modal fade&quot; id=&quot;registerModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;registerModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n            &lt;div class=&quot;modal-header&quot;&gt;\r\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;registerModalLabel&quot;&gt;Registrieren&lt;/h5&gt;\r\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                &lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;modal-body&quot;&gt;\r\n                &lt;form th:action=&quot;@{/register}&quot; id=&quot;registrationForm&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;registerUsername&quot;&gt;Benutzername&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;registerUsername&quot; th:field=&quot;*{username}&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors(&#39;username&#39;)}&quot; th:errors=&quot;*{username}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort&lt;/label&gt;\r\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPassword&quot; th:field=&quot;*{password}&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot; th:errors=&quot;*{password}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort Wiederholen&lt;/label&gt;\r\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPasswordRepeat&quot; th:field=&quot;*{passwordConfirm}&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;span class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors(&#39;passwordConfirm&#39;)}&quot; th:errors=&quot;*{passwordConfirm}&quot; style=&quot;color: red&quot;&gt;&lt;/span&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Registrieren&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nValidation:\r\n\r\n```java\r\n    @Override\r\n    public void validate(Object o, Errors errors) {\r\n        User user = (User) o;\r\n\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;username&quot;, &quot;NotEmpty&quot;);\r\n        if (user.getUsername().length() &lt; 2 || user.getUsername().length() &gt; 32) {\r\n            errors.rejectValue(&quot;username&quot;, &quot;Size.userForm.username&quot;);\r\n        }\r\n        if (userService.findByUsername(user.getUsername()) != null) {\r\n            errors.rejectValue(&quot;username&quot;, &quot;Duplicate.userForm.username&quot;);\r\n        }\r\n\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;password&quot;, &quot;NotEmpty&quot;);\r\n        if (user.getPassword().length() &lt; 2 || user.getPassword().length() &gt; 32) {\r\n            errors.rejectValue(&quot;password&quot;, &quot;Size.userForm.password&quot;);\r\n        }\r\n\r\n        if (!user.getPasswordConfirm().equals(user.getPassword())) {\r\n            errors.rejectValue(&quot;passwordConfirm&quot;, &quot;Diff.userForm.passwordConfirm&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want the error message to appear below the lines in the modal, something like &quot;too few characters&quot; or similar. This is currently not possible because the page reloads. I&#39;ve also tried using AJAX, but unfortunately, it didn&#39;t work for me.","title":"HTML Modal Validation with Spring not working because its disappearing","body":"<p>I've created a login and registration for a blog website. However, the problem is that when I log in or register, the website reloads. As a result, my modal disappears, preventing any errors from being displayed. Here is the code:</p>\n<p>The Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/login&quot;)\n    public String login(Model model, String error, String logout){\n        //If loggen in successfully go to /home\n        if (securityService.isAuthenticated()) {\n            return &quot;redirect:/home&quot;;\n        }\n\n        //Error Messages (does not work)\n        if (error != null)\n            model.addAttribute(&quot;error&quot;, &quot;Your username or password is invalid.&quot;);\n\n        if (logout != null) {\n            model.addAttribute(&quot;logoutMessage&quot;, &quot;You have been logged out successfully.&quot;);\n        }\n\n        return &quot;redirect:/home&quot;;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public String registration(@ModelAttribute(&quot;userForm&quot;) User userForm, BindingResult bindingResult, Model model) {\n        //Validate Input\n        userValidator.validate(userForm, bindingResult);\n\n        //If Error (doesnt work)\n        if (bindingResult.hasErrors()) {\n            model.addAttribute(&quot;showModal&quot;, &quot;true&quot;);\n            return &quot;index&quot;;\n        }\n\n        //Save in User Table\n        userService.save(userForm);\n        //Autologin after Registration\n        //securityService.autoLogin(userForm.getUsername(), userForm.getPasswordConfirm());\n\n        return &quot;redirect:/home&quot;;\n    }\n</code></pre>\n<p>my html file:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- Login-Modal --&gt;\n&lt;div class=&quot;modal fade&quot; id=&quot;loginModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;loginModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;div class=&quot;modal-header&quot;&gt;\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;loginModalLabel&quot;&gt;Anmelden&lt;/h5&gt;\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;loginUsername&quot;&gt;Benutzername&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;loginUsername&quot; name=&quot;username&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;loginPassword&quot;&gt;Passwort&lt;/label&gt;\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;loginPassword&quot; name=&quot;password&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\n\n                    &lt;p class=&quot;has-error&quot; th:text=&quot;${error}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\n\n                    &lt;p th:if=&quot;${logoutMessage}&quot; th:text=&quot;${logoutMessage}&quot; style=&quot;color: green&quot;&gt;&lt;/p&gt;\n\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Login&lt;/button&gt;\n                &lt;/form&gt;\n                &lt;!-- Link zum Registrierungs-Modal --&gt;\n                &lt;p class=&quot;mt-3 text-center&quot;&gt;\n                    Noch kein Account?\n                    &lt;a href=&quot;#&quot; data-toggle=&quot;modal&quot; data-dismiss=&quot;modal&quot; data-target=&quot;#registerModal&quot;&gt;Jetzt registrieren!&lt;/a&gt;\n                &lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;!-- Registrierungs-Modal --&gt;\n&lt;div class=&quot;modal fade&quot; id=&quot;registerModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;registerModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;div class=&quot;modal-header&quot;&gt;\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;registerModalLabel&quot;&gt;Registrieren&lt;/h5&gt;\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;form th:action=&quot;@{/register}&quot; id=&quot;registrationForm&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;registerUsername&quot;&gt;Benutzername&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;registerUsername&quot; th:field=&quot;*{username}&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors('username')}&quot; th:errors=&quot;*{username}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort&lt;/label&gt;\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPassword&quot; th:field=&quot;*{password}&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors('password')}&quot; th:errors=&quot;*{password}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort Wiederholen&lt;/label&gt;\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPasswordRepeat&quot; th:field=&quot;*{passwordConfirm}&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;span class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors('passwordConfirm')}&quot; th:errors=&quot;*{passwordConfirm}&quot; style=&quot;color: red&quot;&gt;&lt;/span&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Registrieren&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Validation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void validate(Object o, Errors errors) {\n        User user = (User) o;\n\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;username&quot;, &quot;NotEmpty&quot;);\n        if (user.getUsername().length() &lt; 2 || user.getUsername().length() &gt; 32) {\n            errors.rejectValue(&quot;username&quot;, &quot;Size.userForm.username&quot;);\n        }\n        if (userService.findByUsername(user.getUsername()) != null) {\n            errors.rejectValue(&quot;username&quot;, &quot;Duplicate.userForm.username&quot;);\n        }\n\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;password&quot;, &quot;NotEmpty&quot;);\n        if (user.getPassword().length() &lt; 2 || user.getPassword().length() &gt; 32) {\n            errors.rejectValue(&quot;password&quot;, &quot;Size.userForm.password&quot;);\n        }\n\n        if (!user.getPasswordConfirm().equals(user.getPassword())) {\n            errors.rejectValue(&quot;passwordConfirm&quot;, &quot;Diff.userForm.passwordConfirm&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I want the error message to appear below the lines in the modal, something like &quot;too few characters&quot; or similar. This is currently not possible because the page reloads. I've also tried using AJAX, but unfortunately, it didn't work for me.</p>\n"},{"tags":["javascript","java","intellij-idea","nashorn"],"owner":{"account_id":26323032,"reputation":11,"user_id":19984776,"display_name":"SilverLuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696858016,"creation_date":1696857965,"question_id":77259215,"body_markdown":"I am unable to see the variable value from the debug window in IDEA (2023) when I try to debug some JS code. The only thing shown is the message &#39;Collecting data...&#39; and the Evaluate expression is pretty much useless.\r\n\r\nMy current working environment is as follows:\r\n\r\n- My Java code is under src/main/java.\r\n- My JavaScript code is under src/resources/engine. Each file contains only one function with the name equal to the filename.\r\n  My Java code reads the JS files, adds some fixed code (Java imports) to the top, and runs it with eval().\r\n\r\nIs there any way to see those variable values? I am okay even without IDEA.\r\n\r\nI am able to step through the code (only after a Maven clean install) using the following notation on top of the JS file: `//@ sourceURL=&lt;path to JS code&gt;`.\r\n\r\nI have already tried the `debugger;` way, but it seems useless.","title":"Unable to view variable value from IDEA using Nashorn engine","body":"<p>I am unable to see the variable value from the debug window in IDEA (2023) when I try to debug some JS code. The only thing shown is the message 'Collecting data...' and the Evaluate expression is pretty much useless.</p>\n<p>My current working environment is as follows:</p>\n<ul>\n<li>My Java code is under src/main/java.</li>\n<li>My JavaScript code is under src/resources/engine. Each file contains only one function with the name equal to the filename.\nMy Java code reads the JS files, adds some fixed code (Java imports) to the top, and runs it with eval().</li>\n</ul>\n<p>Is there any way to see those variable values? I am okay even without IDEA.</p>\n<p>I am able to step through the code (only after a Maven clean install) using the following notation on top of the JS file: <code>//@ sourceURL=&lt;path to JS code&gt;</code>.</p>\n<p>I have already tried the <code>debugger;</code> way, but it seems useless.</p>\n"},{"tags":["java","hibernate","postgresql","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":5,"up_vote_count":9,"is_accepted":true,"score":4,"last_activity_date":1466388175,"creation_date":1291276467,"answer_id":4332854,"question_id":4332467,"body_markdown":"I have never mapped arrays to hibernate. I always use collections. So, I have slightly changed you class:\r\n\r\n    public class MyClass{\r\n        private Long id;\r\n        private String name;\r\n        private List&lt;Integer&gt; values;\r\n        \r\n        @Id\r\n        // this is only if your id is really auto generated\r\n        @GeneratedValue(strategy=GenerationType.AUTO) \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        \r\n        @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.LAZY)\r\n        public List&lt;Integer&gt; getValues() {\r\n            return values;\r\n        }\t\r\n        ...\r\n","title":"Mapping array with Hibernate","body":"<p>I have never mapped arrays to hibernate. I always use collections. So, I have slightly changed you class:</p>\n\n<pre><code>public class MyClass{\n    private Long id;\n    private String name;\n    private List&lt;Integer&gt; values;\n\n    @Id\n    // this is only if your id is really auto generated\n    @GeneratedValue(strategy=GenerationType.AUTO) \n    public Long getId() {\n        return id;\n    }\n\n    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.LAZY)\n    public List&lt;Integer&gt; getValues() {\n        return values;\n    }   \n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1658956816,"creation_date":1291283457,"answer_id":4333600,"question_id":4332467,"body_markdown":"Hibernate (and JPA) can&#39;t directly map the PostgreSQL array type. &lt;a href=&quot;https://stackoverflow.com/questions/1647583/mapping-a-postgres-array-with-hibernate&quot;&gt;See this question&lt;/a&gt; for how to proceed if you really need to retain your database structure as it is. &lt;a href=&quot;https://forum.hibernate.org/viewtopic.php?t=946973&quot;&gt;This thread&lt;/a&gt; has an example of the required custom type.\r\n\r\n\r\nIf you can change your schema, you can let hibernate create an additional table to handle the collection - `List&lt;Integer&gt;`. Then, depending on the version of hibernate you are using:\r\n\r\n- JPA 2.0 compliant - use &lt;a href=&quot;http://download.oracle.com/javaee/6/api/javax/persistence/ElementCollection.html&quot;&gt;`@ElementCollection`&lt;/a&gt;\r\n- JPA 1.0 compliant - use [`@CollectionOfElements`][1]\r\n\r\n\r\n\r\n  [1]: https://web.archive.org/web/20101126125212/http://docs.jboss.org:80/hibernate/stable/core/api/org/hibernate/annotations/CollectionOfElements.html","title":"Mapping array with Hibernate","body":"<p>Hibernate (and JPA) can't directly map the PostgreSQL array type. <a href=\"https://stackoverflow.com/questions/1647583/mapping-a-postgres-array-with-hibernate\">See this question</a> for how to proceed if you really need to retain your database structure as it is. <a href=\"https://forum.hibernate.org/viewtopic.php?t=946973\" rel=\"nofollow noreferrer\">This thread</a> has an example of the required custom type.</p>\n<p>If you can change your schema, you can let hibernate create an additional table to handle the collection - <code>List&lt;Integer&gt;</code>. Then, depending on the version of hibernate you are using:</p>\n<ul>\n<li>JPA 2.0 compliant - use <a href=\"http://download.oracle.com/javaee/6/api/javax/persistence/ElementCollection.html\" rel=\"nofollow noreferrer\"><code>@ElementCollection</code></a></li>\n<li>JPA 1.0 compliant - use <a href=\"https://web.archive.org/web/20101126125212/http://docs.jboss.org:80/hibernate/stable/core/api/org/hibernate/annotations/CollectionOfElements.html\" rel=\"nofollow noreferrer\"><code>@CollectionOfElements</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4722935,"reputation":187,"user_id":3820369,"display_name":"user3820369"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1444329580,"creation_date":1444329580,"answer_id":33023528,"question_id":4332467,"body_markdown":"Hibernate can map only the primitive types. Check under the org.hibernate.type folder of hibernate jar package. int array is not one of them. So you would have to write a custom type that can implement the UserType interface.\r\n \r\n\r\n    public class MyClass{\r\n         private Long id;\r\n         private String name;\r\n         private Integer[] values;\r\n\r\n         @Type(type = &quot;com.usertype.IntArrayUserType&quot;)\r\n         public Integer[] getValues(){\r\n             return values;\r\n         }\r\n\r\n         public void setValues(Integer[] values){\r\n             this.values = values;\r\n         }\r\n     }\r\n\r\nIntArrayUserType.class\r\n\r\n    package com.usertype.IntArrayUserType;\r\n\r\n    public class IntArrayUserType implements UserType {\r\n\r\n    protected static final int[] SQL_TYPES = { Types.ARRAY };\r\n\r\n    @Override\r\n    public Object assemble(Serializable cached, Object owner) throws HibernateException {\r\n        return this.deepCopy(cached);\r\n    }\r\n\r\n    @Override\r\n    public Object deepCopy(Object value) throws HibernateException {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public Serializable disassemble(Object value) throws HibernateException {\r\n        return (Integer[]) this.deepCopy(value);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object x, Object y) throws HibernateException {\r\n\r\n        if (x == null) {\r\n            return y == null;\r\n        }\r\n        return x.equals(y);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode(Object x) throws HibernateException {\r\n        return x.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean isMutable() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Object nullSafeGet(ResultSet resultSet, String[] names, SessionImplementor session, Object owner)\r\n            throws HibernateException, SQLException {\r\n        if (resultSet.wasNull()) {\r\n            return null;\r\n        }\r\n        if(resultSet.getArray(names[0]) == null){\r\n            return new Integer[0];\r\n        }\r\n\r\n        Array array = resultSet.getArray(names[0]);\r\n        Integer[] javaArray = (Integer[]) array.getArray();\r\n        return javaArray;\r\n    }\r\n\r\n    @Override\r\n    public void nullSafeSet(PreparedStatement statement, Object value, int index, SessionImplementor session)\r\n            throws HibernateException, SQLException {\r\n        Connection connection = statement.getConnection();\r\n        if (value == null) {\r\n            statement.setNull(index, SQL_TYPES[0]);\r\n        } else {\r\n            Integer[] castObject = (Integer[]) value;\r\n            Array array = connection.createArrayOf(&quot;integer&quot;, castObject);\r\n            statement.setArray(index, array);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Object replace(Object original, Object target, Object owner)       throws HibernateException {\r\n        return original;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Integer[]&gt; returnedClass() {\r\n        return Integer[].class;\r\n    }\r\n\r\n    @Override\r\n    public int[] sqlTypes() {\r\n        return new int[] { Types.ARRAY };\r\n    }\r\n\r\n\r\nWhen you query for the MyClass entity you can add something like this:\r\n \r\n    Type intArrayType = new TypeLocatorImpl(new TypeResolver()).custom(IntArrayUserType.class);\r\n    Query query = getSession().createSQLQuery(&quot;select values from MyClass&quot;)\r\n       .addScalar(&quot;values&quot;, intArrayType);\r\n    List&lt;Integer[]&gt; results = (List&lt;Integer[]&gt;) query.list();\r\n","title":"Mapping array with Hibernate","body":"<p>Hibernate can map only the primitive types. Check under the org.hibernate.type folder of hibernate jar package. int array is not one of them. So you would have to write a custom type that can implement the UserType interface.</p>\n\n<pre><code>public class MyClass{\n     private Long id;\n     private String name;\n     private Integer[] values;\n\n     @Type(type = \"com.usertype.IntArrayUserType\")\n     public Integer[] getValues(){\n         return values;\n     }\n\n     public void setValues(Integer[] values){\n         this.values = values;\n     }\n }\n</code></pre>\n\n<p>IntArrayUserType.class</p>\n\n<pre><code>package com.usertype.IntArrayUserType;\n\npublic class IntArrayUserType implements UserType {\n\nprotected static final int[] SQL_TYPES = { Types.ARRAY };\n\n@Override\npublic Object assemble(Serializable cached, Object owner) throws HibernateException {\n    return this.deepCopy(cached);\n}\n\n@Override\npublic Object deepCopy(Object value) throws HibernateException {\n    return value;\n}\n\n@Override\npublic Serializable disassemble(Object value) throws HibernateException {\n    return (Integer[]) this.deepCopy(value);\n}\n\n@Override\npublic boolean equals(Object x, Object y) throws HibernateException {\n\n    if (x == null) {\n        return y == null;\n    }\n    return x.equals(y);\n}\n\n@Override\npublic int hashCode(Object x) throws HibernateException {\n    return x.hashCode();\n}\n\n@Override\npublic boolean isMutable() {\n    return true;\n}\n\n@Override\npublic Object nullSafeGet(ResultSet resultSet, String[] names, SessionImplementor session, Object owner)\n        throws HibernateException, SQLException {\n    if (resultSet.wasNull()) {\n        return null;\n    }\n    if(resultSet.getArray(names[0]) == null){\n        return new Integer[0];\n    }\n\n    Array array = resultSet.getArray(names[0]);\n    Integer[] javaArray = (Integer[]) array.getArray();\n    return javaArray;\n}\n\n@Override\npublic void nullSafeSet(PreparedStatement statement, Object value, int index, SessionImplementor session)\n        throws HibernateException, SQLException {\n    Connection connection = statement.getConnection();\n    if (value == null) {\n        statement.setNull(index, SQL_TYPES[0]);\n    } else {\n        Integer[] castObject = (Integer[]) value;\n        Array array = connection.createArrayOf(\"integer\", castObject);\n        statement.setArray(index, array);\n    }\n}\n\n@Override\npublic Object replace(Object original, Object target, Object owner)       throws HibernateException {\n    return original;\n}\n\n@Override\npublic Class&lt;Integer[]&gt; returnedClass() {\n    return Integer[].class;\n}\n\n@Override\npublic int[] sqlTypes() {\n    return new int[] { Types.ARRAY };\n}\n</code></pre>\n\n<p>When you query for the MyClass entity you can add something like this:</p>\n\n<pre><code>Type intArrayType = new TypeLocatorImpl(new TypeResolver()).custom(IntArrayUserType.class);\nQuery query = getSession().createSQLQuery(\"select values from MyClass\")\n   .addScalar(\"values\", intArrayType);\nList&lt;Integer[]&gt; results = (List&lt;Integer[]&gt;) query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1696858002,"creation_date":1498110756,"answer_id":44691164,"question_id":4332467,"body_markdown":"Maven dependency\r\n----------------\r\n\r\nThe first thing you need to do is to set up the following [Hypersistence Utils][2] Maven dependency in your project `pom.xml` configuration file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\r\n        &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMaven ARRAY columns\r\n-------------------\r\n\r\nAssuming you have this table in your database:\r\n\r\n    create table event (\r\n        id int8 not null, \r\n        version int4, \r\n        sensor_names text[], \r\n        sensor_values integer[], \r\n        primary key (id)\r\n    )\r\n\r\nAnd you want to map it like this:\r\n\r\n    @Entity(name = &quot;Event&quot;)\r\n    @Table(name = &quot;event&quot;)\r\n    public class Event {\r\n\r\n        @Id\r\n        private Long id;\r\n     \r\n        @Type(StringArrayType.class)\r\n        @Column(\r\n            name = &quot;sensor_names&quot;, \r\n            columnDefinition = &quot;text[]&quot;\r\n        )\r\n        private String[] sensorNames;\r\n     \r\n        @Type(IntArrayType.class)\r\n        @Column(\r\n            name = &quot;sensor_values&quot;, \r\n            columnDefinition = &quot;integer[]&quot;\r\n        )\r\n        private int[] sensorValues;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nThe `StringArrayType` and `IntArrayType` are classes offered by the Hypersistence Utils project.\r\n\r\nTesting time\r\n------------\r\n\r\nNow, when you insert a couple of entities:\r\n\r\n    Event nullEvent = new Event();\r\n    nullEvent.setId(0L);\r\n    entityManager.persist(nullEvent);\r\n     \r\n    Event event = new Event();\r\n    event.setId(1L);\r\n    event.setSensorNames(\r\n        new String[] {\r\n            &quot;Temperature&quot;, \r\n            &quot;Pressure&quot;\r\n        }\r\n    );\r\n    event.setSensorValues( \r\n        new int[] {\r\n            12, \r\n            756\r\n        } \r\n    );\r\n    entityManager.persist(event);\r\n\r\nHibernate is going to generate the following SQL statements:\r\n\r\n    INSERT INTO event (\r\n        version, \r\n        sensor_names, \r\n        sensor_values, \r\n        id\r\n    ) \r\n    VALUES (\r\n        0, \r\n        NULL(ARRAY), \r\n        NULL(ARRAY), \r\n        0\r\n    )\r\n         \r\n    INSERT INTO event (\r\n        version, \r\n        sensor_names, \r\n        sensor_values, \r\n        id\r\n    ) \r\n    VALUES ( \r\n        0, \r\n        {&quot;Temperature&quot;,&quot;Pressure&quot;}, \r\n        {&quot;12&quot;,&quot;756&quot;}, \r\n        1\r\n    )\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/hypersistence-utils","title":"Mapping array with Hibernate","body":"<h2>Maven dependency</h2>\n<p>The first thing you need to do is to set up the following <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">Hypersistence Utils</a> Maven dependency in your project <code>pom.xml</code> configuration file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\n    &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Maven ARRAY columns</h2>\n<p>Assuming you have this table in your database:</p>\n<pre><code>create table event (\n    id int8 not null, \n    version int4, \n    sensor_names text[], \n    sensor_values integer[], \n    primary key (id)\n)\n</code></pre>\n<p>And you want to map it like this:</p>\n<pre><code>@Entity(name = &quot;Event&quot;)\n@Table(name = &quot;event&quot;)\npublic class Event {\n\n    @Id\n    private Long id;\n \n    @Type(StringArrayType.class)\n    @Column(\n        name = &quot;sensor_names&quot;, \n        columnDefinition = &quot;text[]&quot;\n    )\n    private String[] sensorNames;\n \n    @Type(IntArrayType.class)\n    @Column(\n        name = &quot;sensor_values&quot;, \n        columnDefinition = &quot;integer[]&quot;\n    )\n    private int[] sensorValues;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>The <code>StringArrayType</code> and <code>IntArrayType</code> are classes offered by the Hypersistence Utils project.</p>\n<h2>Testing time</h2>\n<p>Now, when you insert a couple of entities:</p>\n<pre><code>Event nullEvent = new Event();\nnullEvent.setId(0L);\nentityManager.persist(nullEvent);\n \nEvent event = new Event();\nevent.setId(1L);\nevent.setSensorNames(\n    new String[] {\n        &quot;Temperature&quot;, \n        &quot;Pressure&quot;\n    }\n);\nevent.setSensorValues( \n    new int[] {\n        12, \n        756\n    } \n);\nentityManager.persist(event);\n</code></pre>\n<p>Hibernate is going to generate the following SQL statements:</p>\n<pre><code>INSERT INTO event (\n    version, \n    sensor_names, \n    sensor_values, \n    id\n) \nVALUES (\n    0, \n    NULL(ARRAY), \n    NULL(ARRAY), \n    0\n)\n     \nINSERT INTO event (\n    version, \n    sensor_names, \n    sensor_values, \n    id\n) \nVALUES ( \n    0, \n    {&quot;Temperature&quot;,&quot;Pressure&quot;}, \n    {&quot;12&quot;,&quot;756&quot;}, \n    1\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655818785,"creation_date":1655818785,"answer_id":72701855,"question_id":4332467,"body_markdown":"From Hibernate 6.1 Final, basic arrays and collections may now be mapped to database ARRAY types if possible, or alternatively JSON/XML types.\r\n\r\nhttps://in.relation.to/2022/06/14/orm-61-final/","title":"Mapping array with Hibernate","body":"<p>From Hibernate 6.1 Final, basic arrays and collections may now be mapped to database ARRAY types if possible, or alternatively JSON/XML types.</p>\n<p><a href=\"https://in.relation.to/2022/06/14/orm-61-final/\" rel=\"nofollow noreferrer\">https://in.relation.to/2022/06/14/orm-61-final/</a></p>\n"}],"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64533,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":4332854,"answer_count":5,"score":14,"last_activity_date":1696858002,"creation_date":1291273073,"question_id":4332467,"body_markdown":"Can you please help me to map this class using Hibernate?\r\n\r\n    public class MyClass{\r\n        private Long id;\r\n        private String name;\r\n        private int[] values;\r\n        ...\r\n    }\r\n\r\nI&#39;m using PostgreSQL and the column type in the table is integer[]\r\nHow my array should be mapped?\r\n","title":"Mapping array with Hibernate","body":"<p>Can you please help me to map this class using Hibernate?</p>\n\n<pre><code>public class MyClass{\n    private Long id;\n    private String name;\n    private int[] values;\n    ...\n}\n</code></pre>\n\n<p>I'm using PostgreSQL and the column type in the table is integer[]\nHow my array should be mapped?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1696845671,"post_id":77257737,"comment_id":136200523,"body_markdown":"Are you _sure_ you want `false` for an empty stream? It makes much more sense to return true. See https://en.wikipedia.org/wiki/Vacuous_truth.","body":"Are you <i>sure</i> you want <code>false</code> for an empty stream? It makes much more sense to return true. See <a href=\"https://en.wikipedia.org/wiki/Vacuous_truth\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Vacuous_truth</a>."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":1,"creation_date":1696846050,"post_id":77257737,"comment_id":136200584,"body_markdown":"@k314159 yes. I need a `false`.","body":"@k314159 yes. I need a <code>false</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1696846192,"post_id":77257737,"comment_id":136200603,"body_markdown":"It may help to get a good response if you describe your actual scenario. This looks like an [X-Y Problem](https://xyproblem.info/). There are _very_ few situations in which returning false for an empty stream is the right thing to do.","body":"It may help to get a good response if you describe your actual scenario. This looks like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">X-Y Problem</a>. There are <i>very</i> few situations in which returning false for an empty stream is the right thing to do."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":2,"creation_date":1696850926,"post_id":77257737,"comment_id":136201509,"body_markdown":"@k314159 added explanation about my upper use-case.","body":"@k314159 added explanation about my upper use-case."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696852573,"creation_date":1696852573,"answer_id":77258645,"question_id":77257737,"body_markdown":"Java&#39;s `Stream` design doesn&#39;t make it easy to check in a single pass whether the stream is empty _and_ whether all elements match a given predicate. You can use a local variable to keep track of count (but it must be effectively final, therefore you would have to use a well-known hack such as a 1-element array). This way, you can retain Stream&#39;s short-circuiting behaviour while also checking if the stream is empty.\r\n\r\nHowever, it doesn&#39;t make sense in pure mathematics/logic terms to regard an empty stream as not having elements that all match a predicate. This is the [vacuous truth][1] concept.\r\n\r\n    /**\r\n     * DO NOT USE. This uses the wrong logic: see\r\n     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming&quot;&gt;vacuous truth&lt;/a&gt;.\r\n     */\r\n\tprivate static boolean allMatchExceptReturnFalseIfEmpty(Stream&lt;String&gt; stream) {\r\n        boolean[] empty = { true };\r\n        return stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); }) &amp;&amp; !empty[0];\r\n    }\r\n\r\nThe above method treats the empty stream as a special value that returns the opposite result. In many situations, it may be better to take some special handling in such cases, and that can be done if the method throws an exception:\r\n\r\n    /**\r\n     * Better. Checks that all elements match, at the same time checking that the stream is not empty.\r\n     */\r\n    private static boolean allMatchNonEmptyStream(Stream&lt;String&gt; stream) {\r\n        boolean[] empty = { true };\r\n        boolean result = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\r\n        if (empty[0])\r\n            throw new IllegalArgumentException(&quot;Stream must not be empty&quot;);\r\n        return result;\r\n    }\r\n\r\nAnother way of looking at this problem is that you want a three-state result:\r\n\r\n    enum MatchResult { EMPTY, ALL_MATCH, SOME_DONT_MATCH }\r\n\r\n    private static MatchResult allMatchThreeState(Stream&lt;String&gt; stream) {\r\n        boolean[] empty = { true };\r\n        boolean allMatch = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\r\n        return (empty[0]) ? MatchResult.EMPTY : allMatch ? MatchResult.ALL_MATCH : MatchResult.SOME_DONT_MATCH;\r\n        \r\n    }\r\n\r\nIn your case (following the update to your question), you might want to make use of this 3-state value to show, for example, (1) no indicator; (2) &quot;download in progress&quot;; and (3) &quot;download complete&quot;. Even if you don&#39;t want to have 3 different indicator states right now, having this 3-state method result will give you better flexibility.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming","title":"How to return false for an empty stream using Stream.allMatch()?","body":"<p>Java's <code>Stream</code> design doesn't make it easy to check in a single pass whether the stream is empty <em>and</em> whether all elements match a given predicate. You can use a local variable to keep track of count (but it must be effectively final, therefore you would have to use a well-known hack such as a 1-element array). This way, you can retain Stream's short-circuiting behaviour while also checking if the stream is empty.</p>\n<p>However, it doesn't make sense in pure mathematics/logic terms to regard an empty stream as not having elements that all match a predicate. This is the <a href=\"https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming\" rel=\"nofollow noreferrer\">vacuous truth</a> concept.</p>\n<pre><code>/**\n * DO NOT USE. This uses the wrong logic: see\n * &lt;a href=&quot;https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming&quot;&gt;vacuous truth&lt;/a&gt;.\n */\nprivate static boolean allMatchExceptReturnFalseIfEmpty(Stream&lt;String&gt; stream) {\n    boolean[] empty = { true };\n    return stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); }) &amp;&amp; !empty[0];\n}\n</code></pre>\n<p>The above method treats the empty stream as a special value that returns the opposite result. In many situations, it may be better to take some special handling in such cases, and that can be done if the method throws an exception:</p>\n<pre><code>/**\n * Better. Checks that all elements match, at the same time checking that the stream is not empty.\n */\nprivate static boolean allMatchNonEmptyStream(Stream&lt;String&gt; stream) {\n    boolean[] empty = { true };\n    boolean result = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\n    if (empty[0])\n        throw new IllegalArgumentException(&quot;Stream must not be empty&quot;);\n    return result;\n}\n</code></pre>\n<p>Another way of looking at this problem is that you want a three-state result:</p>\n<pre><code>enum MatchResult { EMPTY, ALL_MATCH, SOME_DONT_MATCH }\n\nprivate static MatchResult allMatchThreeState(Stream&lt;String&gt; stream) {\n    boolean[] empty = { true };\n    boolean allMatch = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\n    return (empty[0]) ? MatchResult.EMPTY : allMatch ? MatchResult.ALL_MATCH : MatchResult.SOME_DONT_MATCH;\n    \n}\n</code></pre>\n<p>In your case (following the update to your question), you might want to make use of this 3-state value to show, for example, (1) no indicator; (2) &quot;download in progress&quot;; and (3) &quot;download complete&quot;. Even if you don't want to have 3 different indicator states right now, having this 3-state method result will give you better flexibility.</p>\n"},{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696857456,"creation_date":1696853603,"answer_id":77258744,"question_id":77257737,"body_markdown":"Maybe not the best code, but it could achieve what you want.\r\n\r\n```\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.stream.*;\r\n\r\nclass Ideone {\r\n  public static void main(String[] args) throws java.lang.Exception {\r\n    System.out.println(testMethod(Stream.empty())); // return false\r\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // return  true\r\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // return false\r\n  }\r\n\r\n  private static boolean testMethod(Stream&lt;String&gt; stream) {\r\n    return allMatchCustom(stream);\r\n  }\r\n\r\n  private static boolean allMatchCustom(Stream&lt;String&gt; stream) {\r\n    AtomicInteger count = new AtomicInteger();\r\n    boolean allMatch = stream.peek(text -&gt; count.incrementAndGet())\r\n      .allMatch(text -&gt; &quot;match&quot;.equals(text));\r\n    return count.get() &gt; 0 &amp;&amp; allMatch;\r\n  }\r\n}\r\n```\r\n\r\nResult\r\n```\r\nfalse\r\ntrue\r\nfalse\r\n```","title":"How to return false for an empty stream using Stream.allMatch()?","body":"<p>Maybe not the best code, but it could achieve what you want.</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.*;\n\nclass Ideone {\n  public static void main(String[] args) throws java.lang.Exception {\n    System.out.println(testMethod(Stream.empty())); // return false\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // return  true\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // return false\n  }\n\n  private static boolean testMethod(Stream&lt;String&gt; stream) {\n    return allMatchCustom(stream);\n  }\n\n  private static boolean allMatchCustom(Stream&lt;String&gt; stream) {\n    AtomicInteger count = new AtomicInteger();\n    boolean allMatch = stream.peek(text -&gt; count.incrementAndGet())\n      .allMatch(text -&gt; &quot;match&quot;.equals(text));\n    return count.get() &gt; 0 &amp;&amp; allMatch;\n  }\n}\n</code></pre>\n<p>Result</p>\n<pre><code>false\ntrue\nfalse\n</code></pre>\n"}],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77258645,"answer_count":2,"score":5,"last_activity_date":1696857456,"creation_date":1696844102,"question_id":77257737,"body_markdown":"I want to use `Stream.allMatch()`, but I need a `false` when the stream is empty.\r\n\r\n```java\r\npublic static void main (String[] args) throws java.lang.Exception\r\n{\r\n   System.out.println(testMethod(Stream.empty())); // &lt;- expected false (but is true)\r\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // &lt;- expected true\r\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // &lt;- expected false\r\n}\r\n\t\r\nprivate static boolean testMethod(Stream&lt;String&gt; stream) {\r\n   return stream.allMatch(text -&gt; &quot;match&quot;.equals(text));\r\n}\r\n```\r\nhttps://ideone.com/8Nsjiw\r\n\r\nI don&#39;t want to use ...\r\n\r\n* `.toList()`, because I want https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\r\n* `.reduce()`, because https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\r\n\r\nI guess, that I have to use `noMatch()`, but I didn&#39;t get the negation to work correclty.\r\n```java\r\nprivate static boolean testMethod(Stream&lt;String&gt; stream) {\r\n   // my guess, but the results are wrong\r\n   return !stream.noneMatch(text -&gt; !&quot;match&quot;.equals(text));\r\n}\r\n```\r\n\r\nThis is not a duplicate of https://stackoverflow.com/questions/55181858/how-to-return-false-for-an-empty-list-if-using-stream-allmatch because I use `Stream`s and not `List`s.\r\n\r\n---\r\n## Maybe X-Y-problem, so here is my upper use-case\r\n\r\nIt&#39;s about status-collecting. Let&#39;s simply this as a download-status indicator for the user. (Not my real use-case, but it is close).  \r\nI have a table `downloads` which looks like this\r\n\r\n| userId | download_name | download_status | data |\r\n| --- | --- | --- | --- |\r\n| 1 | download 1 | loading | null |\r\n| 2 | download 2 | ready | 0x4545475 |\r\n\r\nI can&#39;t change the tables and I&#39;m limited because it is a huge project (sadly not possible to refactor the world).  \r\nAnyways, I want to show the user an indicator about his downloads. The indicator should be only visible, if all downloads are ready. But, if there no downloads yet, then the user should not see the indicator.\r\n\r\nI have a given repository-method `Stream&lt;Downloads&gt; getDownloadsForUser()`. The short-circuit is important to reduce the load.","title":"How to return false for an empty stream using Stream.allMatch()?","body":"<p>I want to use <code>Stream.allMatch()</code>, but I need a <code>false</code> when the stream is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main (String[] args) throws java.lang.Exception\n{\n   System.out.println(testMethod(Stream.empty())); // &lt;- expected false (but is true)\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // &lt;- expected true\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // &lt;- expected false\n}\n    \nprivate static boolean testMethod(Stream&lt;String&gt; stream) {\n   return stream.allMatch(text -&gt; &quot;match&quot;.equals(text));\n}\n</code></pre>\n<p><a href=\"https://ideone.com/8Nsjiw\" rel=\"noreferrer\">https://ideone.com/8Nsjiw</a></p>\n<p>I don't want to use ...</p>\n<ul>\n<li><code>.toList()</code>, because I want <a href=\"https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\">How does short-circuit work for Java 8 Streams?</a></li>\n<li><code>.reduce()</code>, because <a href=\"https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\">How does short-circuit work for Java 8 Streams?</a></li>\n</ul>\n<p>I guess, that I have to use <code>noMatch()</code>, but I didn't get the negation to work correclty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean testMethod(Stream&lt;String&gt; stream) {\n   // my guess, but the results are wrong\n   return !stream.noneMatch(text -&gt; !&quot;match&quot;.equals(text));\n}\n</code></pre>\n<p>This is not a duplicate of <a href=\"https://stackoverflow.com/questions/55181858/how-to-return-false-for-an-empty-list-if-using-stream-allmatch\">How to return false for an empty list if using Stream.allMatch()?</a> because I use <code>Stream</code>s and not <code>List</code>s.</p>\n<hr />\n<h2>Maybe X-Y-problem, so here is my upper use-case</h2>\n<p>It's about status-collecting. Let's simply this as a download-status indicator for the user. (Not my real use-case, but it is close).<br />\nI have a table <code>downloads</code> which looks like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>userId</th>\n<th>download_name</th>\n<th>download_status</th>\n<th>data</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>download 1</td>\n<td>loading</td>\n<td>null</td>\n</tr>\n<tr>\n<td>2</td>\n<td>download 2</td>\n<td>ready</td>\n<td>0x4545475</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I can't change the tables and I'm limited because it is a huge project (sadly not possible to refactor the world).<br />\nAnyways, I want to show the user an indicator about his downloads. The indicator should be only visible, if all downloads are ready. But, if there no downloads yet, then the user should not see the indicator.</p>\n<p>I have a given repository-method <code>Stream&lt;Downloads&gt; getDownloadsForUser()</code>. The short-circuit is important to reduce the load.</p>\n"},{"tags":["java","android","android-notifications","onesignal"],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696856781,"creation_date":1696856781,"question_id":77259103,"body_markdown":"I use to run the OneSignal 4.0 with that code that worked well, but now, impossible to migrate to the 5.0. I cannot find the way to use OSDeviceState, and to get the title and the body of the received notification in the new 5.0\r\n\r\n**OneSignal 4.0**  \r\n\r\n        OSDeviceState deviceState = OneSignal.getDeviceState(); //???\r\n        \r\n        OneSignal.setNotificationWillShowInForegroundHandler(notificationReceivedEvent -&gt; {\r\n                String title = notificationReceivedEvent.getNotification().getTitle();\r\n                String body = notificationReceivedEvent.getNotification().getBody();\r\n                Intent intent = new Intent(&quot;com.xxxx.xxxx.CUSTOM_NOTIFICATION&quot;);\r\n                intent.putExtra(&quot;title&quot;, title);\r\n               \r\n    \r\n        intent.putExtra(&quot;message&quot;, body);\r\n            sendBroadcast(intent);\r\n    \r\n            // ne pas afficher la notification dans le syst&#232;me de notification\r\n            notificationReceivedEvent.complete(null);\r\n        });\r\n\r\n**OneSignal 5.0**  \r\n \r\n\r\n       // Verbose Logging set to help debug issues, remove before releasing your app.\r\n        OneSignal.getDebug().setLogLevel(LogLevel.VERBOSE);\r\n    \r\n        // OneSignal Initialization\r\n        OneSignal.initWithContext(this, ONESIGNAL_APP_ID);\r\n    \r\n        // requestPermission will show the native Android notification permission prompt.\r\n        // NOTE: It&#39;s recommended to use a OneSignal In-App Message to prompt instead.\r\n        OneSignal.getNotifications().requestPermission(true, Continue.with(r -&gt; {\r\n            if (r.isSuccess()) {\r\n                if (r.getData()) {\r\n                    // `requestPermission` completed successfully and the user has accepted permission\r\n                }\r\n                else {\r\n                    // `requestPermission` completed successfully but the user has rejected permission\r\n                }\r\n            }\r\n            else {\r\n                // `requestPermission` completed unsuccessfully, check `r.getThrowable()` for more info on the failure reason\r\n            }\r\n        }));\r\n\r\nThanks in advance","title":"Impossible to migrate from 4.0 to 5.0 in OneSignal. OSDeviceState is not working. I can not retrieve the title and the body of received notifications","body":"<p>I use to run the OneSignal 4.0 with that code that worked well, but now, impossible to migrate to the 5.0. I cannot find the way to use OSDeviceState, and to get the title and the body of the received notification in the new 5.0</p>\n<p><strong>OneSignal 4.0</strong></p>\n<pre><code>    OSDeviceState deviceState = OneSignal.getDeviceState(); //???\n    \n    OneSignal.setNotificationWillShowInForegroundHandler(notificationReceivedEvent -&gt; {\n            String title = notificationReceivedEvent.getNotification().getTitle();\n            String body = notificationReceivedEvent.getNotification().getBody();\n            Intent intent = new Intent(&quot;com.xxxx.xxxx.CUSTOM_NOTIFICATION&quot;);\n            intent.putExtra(&quot;title&quot;, title);\n           \n\n    intent.putExtra(&quot;message&quot;, body);\n        sendBroadcast(intent);\n\n        // ne pas afficher la notification dans le système de notification\n        notificationReceivedEvent.complete(null);\n    });\n</code></pre>\n<p><strong>OneSignal 5.0</strong></p>\n<pre><code>   // Verbose Logging set to help debug issues, remove before releasing your app.\n    OneSignal.getDebug().setLogLevel(LogLevel.VERBOSE);\n\n    // OneSignal Initialization\n    OneSignal.initWithContext(this, ONESIGNAL_APP_ID);\n\n    // requestPermission will show the native Android notification permission prompt.\n    // NOTE: It's recommended to use a OneSignal In-App Message to prompt instead.\n    OneSignal.getNotifications().requestPermission(true, Continue.with(r -&gt; {\n        if (r.isSuccess()) {\n            if (r.getData()) {\n                // `requestPermission` completed successfully and the user has accepted permission\n            }\n            else {\n                // `requestPermission` completed successfully but the user has rejected permission\n            }\n        }\n        else {\n            // `requestPermission` completed unsuccessfully, check `r.getThrowable()` for more info on the failure reason\n        }\n    }));\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":6,"creation_date":1430958519,"post_id":30089761,"comment_id":48292767,"body_markdown":"Take a look at http://stackoverflow.com/a/20507988/1393766","body":"Take a look at <a href=\"http://stackoverflow.com/a/20507988/1393766\">stackoverflow.com/a/20507988/1393766</a>"}],"answers":[{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1430968348,"creation_date":1430958394,"answer_id":30089904,"question_id":30089761,"body_markdown":"Using [`IntStream.range`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#range-int-int-):\r\n\r\n    static List&lt;Integer&gt; findSmallPrecedingValues(List&lt;Integer&gt; values) {\r\n        return IntStream.range(0, values.size() - 1)\r\n            .filter(i -&gt; values.get(i) &lt; values.get(i + 1))\r\n            .mapToObj(values::get)\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nIt&#39;s certainly nicer than an imperative solution with a large loop, but still a bit meh as far as the goal of &quot;using a stream&quot; in an idiomatic way.\r\n\r\n&gt;Is it possible to retrieve the next value in a stream?\r\n\r\nNope, not really. The best cite I know of for that is in the [`java.util.stream` package description](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description):\r\n\r\n&gt;The elements of a stream are only visited once during the life of a stream. Like an `Iterator`, a new stream must be generated to revisit the same elements of the source.\r\n\r\n(Retrieving elements besides the current element being operated on would imply they could be visited more than once.)\r\n\r\nWe could also technically do it in a couple other ways:\r\n\r\n- Statefully (very meh).\r\n- Using a stream&#39;s `iterator` is *technically* still using the stream.","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>Using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#range-int-int-\"><code>IntStream.range</code></a>:</p>\n\n<pre><code>static List&lt;Integer&gt; findSmallPrecedingValues(List&lt;Integer&gt; values) {\n    return IntStream.range(0, values.size() - 1)\n        .filter(i -&gt; values.get(i) &lt; values.get(i + 1))\n        .mapToObj(values::get)\n        .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>It's certainly nicer than an imperative solution with a large loop, but still a bit meh as far as the goal of \"using a stream\" in an idiomatic way.</p>\n\n<blockquote>\n  <p>Is it possible to retrieve the next value in a stream?</p>\n</blockquote>\n\n<p>Nope, not really. The best cite I know of for that is in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description\"><code>java.util.stream</code> package description</a>:</p>\n\n<blockquote>\n  <p>The elements of a stream are only visited once during the life of a stream. Like an <code>Iterator</code>, a new stream must be generated to revisit the same elements of the source.</p>\n</blockquote>\n\n<p>(Retrieving elements besides the current element being operated on would imply they could be visited more than once.)</p>\n\n<p>We could also technically do it in a couple other ways:</p>\n\n<ul>\n<li>Statefully (very meh).</li>\n<li>Using a stream's <code>iterator</code> is <em>technically</em> still using the stream.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1430979452,"creation_date":1430963021,"answer_id":30090523,"question_id":30089761,"body_markdown":"It&#39;s not a one-liner (it&#39;s a two-liner), but this works:\r\n\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    values.stream().reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\r\n\r\nRather than solving it by &quot;looking at the next element&quot;, this solves it by &quot;looking at the *previous* element, which `reduce()` give you for free. I have bent its intended usage by injecting a code fragment that populates the list based on the comparison of previous and current elements, then returns the current so the next iteration will see it as its previous element.\r\n\r\n---\r\n\r\nSome test code:\r\n\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    IntStream.of(10, 1, 15, 30, 2, 6).reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\r\n    System.out.println(result);\r\n\r\nOutput:\r\n\r\n    [1, 15, 2]","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>It's not a one-liner (it's a two-liner), but this works:</p>\n\n<pre><code>List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nvalues.stream().reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\n</code></pre>\n\n<p>Rather than solving it by \"looking at the next element\", this solves it by \"looking at the <em>previous</em> element, which <code>reduce()</code> give you for free. I have bent its intended usage by injecting a code fragment that populates the list based on the comparison of previous and current elements, then returns the current so the next iteration will see it as its previous element.</p>\n\n<hr>\n\n<p>Some test code:</p>\n\n<pre><code>List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nIntStream.of(10, 1, 15, 30, 2, 6).reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\nSystem.out.println(result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1, 15, 2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1430963422,"creation_date":1430963059,"answer_id":30090528,"question_id":30089761,"body_markdown":"That&#39;s not a pure Java8, but recently I&#39;ve published a small library called [StreamEx](https://github.com/amaembo/streamex) which has a method exactly for this task:\r\n\r\n    // Find all numbers where the integer preceded a larger value.\r\n    Collection&lt;Integer&gt; numbers = Arrays.asList(10, 1, 15, 30, 2, 6);\r\n    List&lt;Integer&gt; res = StreamEx.of(numbers).pairMap((a, b) -&gt; a &lt; b ? a : null)\r\n        .nonNull().toList();\r\n    assertEquals(Arrays.asList(1, 15, 2), res);\r\n\r\nThe [pairMap](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-) operation internally implemented using custom [spliterator](https://github.com/amaembo/streamex/blob/master/src/main/java/javax/util/streamex/PairSpliterator.java). As a result you have quite clean code which does not depend on whether the source is `List` or anything else. Of course it works fine with parallel stream as well.\r\n\r\nCommitted a [testcase](https://github.com/amaembo/streamex/commit/236e45ea7da654a9e7b96d74bb8e0fa71242294a) for this task.","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>That's not a pure Java8, but recently I've published a small library called <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> which has a method exactly for this task:</p>\n\n<pre><code>// Find all numbers where the integer preceded a larger value.\nCollection&lt;Integer&gt; numbers = Arrays.asList(10, 1, 15, 30, 2, 6);\nList&lt;Integer&gt; res = StreamEx.of(numbers).pairMap((a, b) -&gt; a &lt; b ? a : null)\n    .nonNull().toList();\nassertEquals(Arrays.asList(1, 15, 2), res);\n</code></pre>\n\n<p>The <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-\" rel=\"noreferrer\">pairMap</a> operation internally implemented using custom <a href=\"https://github.com/amaembo/streamex/blob/master/src/main/java/javax/util/streamex/PairSpliterator.java\" rel=\"noreferrer\">spliterator</a>. As a result you have quite clean code which does not depend on whether the source is <code>List</code> or anything else. Of course it works fine with parallel stream as well.</p>\n\n<p>Committed a <a href=\"https://github.com/amaembo/streamex/commit/236e45ea7da654a9e7b96d74bb8e0fa71242294a\" rel=\"noreferrer\">testcase</a> for this task.</p>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431078877,"creation_date":1430984661,"answer_id":30094831,"question_id":30089761,"body_markdown":"The accepted answer works fine if either the stream is sequential or parallel but can suffer if the underlying `List` is not random access, due to multiple calls to `get`. \r\n\r\nIf your stream is sequential, you might roll this collector:\r\n\r\n    public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\r\n        int[] holder = {Integer.MAX_VALUE};\r\n        return Collector.of(ArrayList::new,\r\n                (l, elem) -&gt; {\r\n                    if (holder[0] &lt; elem) l.add(holder[0]);\r\n                    holder[0] = elem;\r\n                },\r\n                (l1, l2) -&gt; {\r\n                    throw new UnsupportedOperationException(&quot;Don&#39;t run in parallel&quot;);\r\n                });\r\n    }\r\n\r\nand a usage:\r\n\r\n    List&lt;Integer&gt; precedingValues = list.stream().collect(collectPrecedingValues());\r\n\r\nNevertheless you could also implement a collector so thats works for sequential and parallel streams. The only thing is that you need to apply a final transformation, but here you have control over the `List` implementation so you won&#39;t suffer from the `get` performance. \r\n\r\nThe idea is to generate first a list of pairs (represented by a `int[]` array of size 2) which contains the values in the stream sliced by a window of size two with a gap of one. When we need to merge two lists, we check the emptiness and merge the gap of the last element of the first list with the first element of the second list. Then we apply a final transformation to filter only desired values and map them to have the desired output.\r\n\r\nIt might not be as simple as the accepted answer, but well it can be an alternative solution.\r\n\r\n    public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\r\n        return Collectors.collectingAndThen(\r\n                Collector.of(() -&gt; new ArrayList&lt;int[]&gt;(),\r\n                        (l, elem) -&gt; {\r\n                            if (l.isEmpty()) l.add(new int[]{Integer.MAX_VALUE, elem});\r\n                            else l.add(new int[]{l.get(l.size() - 1)[1], elem});\r\n                        },\r\n                        (l1, l2) -&gt; {\r\n                            if (l1.isEmpty()) return l2;\r\n                            if (l2.isEmpty()) return l1;\r\n                            l2.get(0)[0] = l1.get(l1.size() - 1)[1];\r\n                            l1.addAll(l2);\r\n                            return l1;\r\n                        }), l -&gt; l.stream().filter(arr -&gt; arr[0] &lt; arr[1]).map(arr -&gt; arr[0]).collect(Collectors.toList()));\r\n    }\r\n\r\nYou can then wrap these two collectors in a utility collector method, check if the stream is parallel with `isParallel` an then decide which collector to return.","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>The accepted answer works fine if either the stream is sequential or parallel but can suffer if the underlying <code>List</code> is not random access, due to multiple calls to <code>get</code>. </p>\n\n<p>If your stream is sequential, you might roll this collector:</p>\n\n<pre><code>public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\n    int[] holder = {Integer.MAX_VALUE};\n    return Collector.of(ArrayList::new,\n            (l, elem) -&gt; {\n                if (holder[0] &lt; elem) l.add(holder[0]);\n                holder[0] = elem;\n            },\n            (l1, l2) -&gt; {\n                throw new UnsupportedOperationException(\"Don't run in parallel\");\n            });\n}\n</code></pre>\n\n<p>and a usage:</p>\n\n<pre><code>List&lt;Integer&gt; precedingValues = list.stream().collect(collectPrecedingValues());\n</code></pre>\n\n<p>Nevertheless you could also implement a collector so thats works for sequential and parallel streams. The only thing is that you need to apply a final transformation, but here you have control over the <code>List</code> implementation so you won't suffer from the <code>get</code> performance. </p>\n\n<p>The idea is to generate first a list of pairs (represented by a <code>int[]</code> array of size 2) which contains the values in the stream sliced by a window of size two with a gap of one. When we need to merge two lists, we check the emptiness and merge the gap of the last element of the first list with the first element of the second list. Then we apply a final transformation to filter only desired values and map them to have the desired output.</p>\n\n<p>It might not be as simple as the accepted answer, but well it can be an alternative solution.</p>\n\n<pre><code>public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\n    return Collectors.collectingAndThen(\n            Collector.of(() -&gt; new ArrayList&lt;int[]&gt;(),\n                    (l, elem) -&gt; {\n                        if (l.isEmpty()) l.add(new int[]{Integer.MAX_VALUE, elem});\n                        else l.add(new int[]{l.get(l.size() - 1)[1], elem});\n                    },\n                    (l1, l2) -&gt; {\n                        if (l1.isEmpty()) return l2;\n                        if (l2.isEmpty()) return l1;\n                        l2.get(0)[0] = l1.get(l1.size() - 1)[1];\n                        l1.addAll(l2);\n                        return l1;\n                    }), l -&gt; l.stream().filter(arr -&gt; arr[0] &lt; arr[1]).map(arr -&gt; arr[0]).collect(Collectors.toList()));\n}\n</code></pre>\n\n<p>You can then wrap these two collectors in a utility collector method, check if the stream is parallel with <code>isParallel</code> an then decide which collector to return.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452125852,"creation_date":1452122046,"answer_id":34644644,"question_id":30089761,"body_markdown":"If you&#39;re willing to use a third party library and don&#39;t need parallelism, then [jOOλ][1] offers SQL-style window functions as follows\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(10, 1, 15, 30, 2, 6)\r\n       .window()\r\n       .filter(w -&gt; w.lead().isPresent() &amp;&amp; w.value() &lt; w.lead().get())\r\n       .map(w -&gt; w.value())\r\n       .toList()\r\n    );\r\n\r\nYielding\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [1, 15, 2]\r\n\r\nThe `lead()` function accesses the next value in traversal order from the window.\r\n\r\nDisclaimer: I work for the company behind jOOλ\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>If you're willing to use a third party library and don't need parallelism, then <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> offers SQL-style window functions as follows</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(10, 1, 15, 30, 2, 6)\n   .window()\n   .filter(w -&gt; w.lead().isPresent() &amp;&amp; w.value() &lt; w.lead().get())\n   .map(w -&gt; w.value())\n   .toList()\n);\n</code></pre>\n\n<p>Yielding</p>\n\n\n\n<pre><code>[1, 15, 2]\n</code></pre>\n\n<p>The <code>lead()</code> function accesses the next value in traversal order from the window.</p>\n\n<p>Disclaimer: I work for the company behind jOOλ</p>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478606760,"creation_date":1478606760,"answer_id":40486533,"question_id":30089761,"body_markdown":"You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777\r\n\r\nBelows example first defines instance of BoundedQueue class  which will store elements going through the stream (if you don&#39;t like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just examine the two subsequent elements - thanks to the helper class:\r\n\r\n    public class Kata {\r\n      public static void main(String[] args) {\r\n        List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(10, 1, 15, 30, 2, 6));\r\n    \r\n        class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\r\n          public BoundedQueue&lt;T&gt; save(T curElem) {\r\n            if (size() == 2) { // we need to know only two subsequent elements\r\n              pollLast(); // remove last to keep only requested number of elements\r\n            }\r\n    \r\n            offerFirst(curElem);\r\n            return this;\r\n          }\r\n    \r\n          public T getPrevious() {\r\n            return (size() &lt; 2) ? null : getLast();\r\n          }\r\n    \r\n          public T getCurrent() {\r\n            return (size() == 0) ? null : getFirst();\r\n          }\r\n        }\r\n    \r\n        BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\r\n    \r\n        final List&lt;Integer&gt; answer = input.stream()\r\n          .map(i -&gt; streamHistory.save(i))\r\n          .filter(e -&gt; e.getPrevious() != null)\r\n          .filter(e -&gt; e.getCurrent() &gt; e.getPrevious())\r\n          .map(e -&gt; e.getPrevious())\r\n          .collect(Collectors.toList());\r\n    \r\n        answer.forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: <a href=\"https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777\">Is it possible to get next element in the Stream?</a></p>\n\n<p>Belows example first defines instance of BoundedQueue class  which will store elements going through the stream (if you don't like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just examine the two subsequent elements - thanks to the helper class:</p>\n\n<pre><code>public class Kata {\n  public static void main(String[] args) {\n    List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(10, 1, 15, 30, 2, 6));\n\n    class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\n      public BoundedQueue&lt;T&gt; save(T curElem) {\n        if (size() == 2) { // we need to know only two subsequent elements\n          pollLast(); // remove last to keep only requested number of elements\n        }\n\n        offerFirst(curElem);\n        return this;\n      }\n\n      public T getPrevious() {\n        return (size() &lt; 2) ? null : getLast();\n      }\n\n      public T getCurrent() {\n        return (size() == 0) ? null : getFirst();\n      }\n    }\n\n    BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\n\n    final List&lt;Integer&gt; answer = input.stream()\n      .map(i -&gt; streamHistory.save(i))\n      .filter(e -&gt; e.getPrevious() != null)\n      .filter(e -&gt; e.getCurrent() &gt; e.getPrevious())\n      .map(e -&gt; e.getPrevious())\n      .collect(Collectors.toList());\n\n    answer.forEach(System.out::println);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29280853,"reputation":1,"user_id":22433491,"display_name":"Mohan Kadam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1696856778,"creation_date":1696578253,"answer_id":77242657,"question_id":30089761,"body_markdown":"```\r\nList&lt;Integer&gt; listOne= List.of(12,13,67,56,90,62);\r\n\r\nlistOne.stream().filter(val-&gt;val.intValue()&gt;50).collect(Collectors.toList()).forEach(System.out::println);\r\n```","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<pre><code>List&lt;Integer&gt; listOne= List.of(12,13,67,56,90,62);\n\nlistOne.stream().filter(val-&gt;val.intValue()&gt;50).collect(Collectors.toList()).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":3207681,"reputation":3256,"user_id":2708395,"accept_rate":94,"display_name":"Pete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58394,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":30089904,"answer_count":7,"score":38,"last_activity_date":1696856778,"creation_date":1430957294,"question_id":30089761,"body_markdown":"# Use Case\r\n\r\nThrough some coding Katas posted at work, I stumbled on this problem that I&#39;m not sure how to solve.\r\n\r\n&gt; Using Java 8 Streams, given a list of positive integers, produce a\r\n&gt; list of integers where the integer preceded a larger value.\r\n&gt; \r\n&gt;     [10, 1, 15, 30, 2, 6]\r\n&gt; \r\n&gt; The above input would yield:\r\n&gt; \r\n&gt;     [1, 15, 2]\r\n&gt; \r\n&gt; since 1 precedes 15, 15 precedes 30, and 2 precedes 6.\r\n\r\n## Non-Stream Solution\r\n\r\n    public List&lt;Integer&gt; findSmallPrecedingValues(final List&lt;Integer&gt; values) {\r\n\r\n\t\tList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int i = 0; i &lt; values.size(); i++) {\r\n\t\t\tInteger next = (i + 1 &lt; values.size() ? values.get(i + 1) : -1);\r\n\t\t\tInteger current = values.get(i);\r\n\t\t\tif (current &lt; next) {\r\n\t\t\t\tresult.push(current);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n    }\r\n\r\n## What I&#39;ve Tried\r\n\r\nThe problem I have is I can&#39;t figure out how to access next in the lambda.\r\n\r\n    return values.stream().filter(v -&gt; v &lt; next).collect(Collectors.toList());\r\n\r\n## Question\r\n\r\n - Is it possible to retrieve the next value in a stream?\r\n - Should I be using `map` and mapping to a `Pair` in order to access next?","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<h1>Use Case</h1>\n\n<p>Through some coding Katas posted at work, I stumbled on this problem that I'm not sure how to solve.</p>\n\n<blockquote>\n  <p>Using Java 8 Streams, given a list of positive integers, produce a\n  list of integers where the integer preceded a larger value.</p>\n\n<pre><code>[10, 1, 15, 30, 2, 6]\n</code></pre>\n  \n  <p>The above input would yield:</p>\n\n<pre><code>[1, 15, 2]\n</code></pre>\n  \n  <p>since 1 precedes 15, 15 precedes 30, and 2 precedes 6.</p>\n</blockquote>\n\n<h2>Non-Stream Solution</h2>\n\n<pre><code>public List&lt;Integer&gt; findSmallPrecedingValues(final List&lt;Integer&gt; values) {\n\n    List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; values.size(); i++) {\n        Integer next = (i + 1 &lt; values.size() ? values.get(i + 1) : -1);\n        Integer current = values.get(i);\n        if (current &lt; next) {\n            result.push(current);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<h2>What I've Tried</h2>\n\n<p>The problem I have is I can't figure out how to access next in the lambda.</p>\n\n<pre><code>return values.stream().filter(v -&gt; v &lt; next).collect(Collectors.toList());\n</code></pre>\n\n<h2>Question</h2>\n\n<ul>\n<li>Is it possible to retrieve the next value in a stream?</li>\n<li>Should I be using <code>map</code> and mapping to a <code>Pair</code> in order to access next?</li>\n</ul>\n"},{"tags":["java","android","hash","xmlsec"],"owner":{"account_id":2749108,"reputation":11,"user_id":2368857,"display_name":"user2368857"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696856480,"creation_date":1696856480,"question_id":77259075,"body_markdown":"I have simple XML file(String)\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;soapenv:Header&gt;&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; soapenv:mustUnderstand=&quot;1&quot;&gt;\r\n  &lt;/wsse:Security&gt;\r\n&lt;/soapenv:Header&gt;\r\n&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt;\r\n  &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;\r\n&lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\nJava procedure for xml-sign is:\r\n\r\n```\r\n   public static void sign(Document doc,Key signKey, X509Certificate signCert, Element signElement){\r\n        Element e1 =(Element)doc.getElementsByTagName(&quot;soapenv:Body&quot;).item(0);\r\n        e1.setIdAttribute(&quot;soapsec:id&quot;, true);\r\n        String elementId = e1.getAttribute(&quot;soapsec:id&quot;);\r\n        if (elementId == null) {\r\n        }\r\n        String elementRefId = &quot;#&quot; + elementId;\r\n        org.apache.xml.security.Init.init();\r\n        try {\r\n            XMLSignature signature = new XMLSignature(signElement.getOwnerDocument(),\r\n                    elementRefId,   //baseURI\r\n                    XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA256,  // signatureMethodURI\r\n                    Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS); //  canonicalizationMethodURI\r\n            signature.setId(&quot;wsu:Id&quot;);\r\n            signElement.appendChild(signature.getElement());         \r\n            Transforms transforms = new Transforms(signElement.getOwnerDocument());\r\n            transforms.addTransform(Transforms.TRANSFORM_C14N_EXCL_OMIT_COMMENTS);  //  Canonical CN14\r\n            signature.addDocument(elementRefId, transforms, MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA256);              signature.addKeyInfo(signCert);\r\n            signature.addKeyInfo(signCert.getPublicKey());\r\n            signature.sign(signKey);\r\n        } catch (XMLSecurityException xmse) {\r\n            throw new RuntimeException(xmse);\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n```\r\nI call this procedure with signElement parameter &lt;Body...&gt;\r\n\r\nsigned XML is generated, everything looks fine.....but when I try verify this signature, &quot;Reference 1 wrong digest&quot; error occured. But signature is verified. Digest no.\r\n\r\nSo bad reference hash?\r\n\r\nI tried manualy generate SHA 256 from body element. With next Bas64 encoding.\r\n\r\nI tried it from string` &quot;&lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;&quot;`\r\nalso from` &quot;&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt;\r\n  &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;\r\n&lt;/soapenv:Body&gt;&quot;`\r\nalso from canonized (EXC-CN14) canonized strings. But without succed.\r\n\r\nWhat is correct way to make SHA256 digest of XML?\r\nWhy my santuario code calculate wrong digest?\r\n\r\n\r\n\r\n\r\nI tried sign it by santuario xmlsec library, also manualy calculate digest and signature.","title":"Java Android XML sign (santuario)","body":"<p>I have simple XML file(String)</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soapenv:Header&gt;&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; soapenv:mustUnderstand=&quot;1&quot;&gt;\n  &lt;/wsse:Security&gt;\n&lt;/soapenv:Header&gt;\n&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt;\n  &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Java procedure for xml-sign is:</p>\n<pre><code>   public static void sign(Document doc,Key signKey, X509Certificate signCert, Element signElement){\n        Element e1 =(Element)doc.getElementsByTagName(&quot;soapenv:Body&quot;).item(0);\n        e1.setIdAttribute(&quot;soapsec:id&quot;, true);\n        String elementId = e1.getAttribute(&quot;soapsec:id&quot;);\n        if (elementId == null) {\n        }\n        String elementRefId = &quot;#&quot; + elementId;\n        org.apache.xml.security.Init.init();\n        try {\n            XMLSignature signature = new XMLSignature(signElement.getOwnerDocument(),\n                    elementRefId,   //baseURI\n                    XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA256,  // signatureMethodURI\n                    Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS); //  canonicalizationMethodURI\n            signature.setId(&quot;wsu:Id&quot;);\n            signElement.appendChild(signature.getElement());         \n            Transforms transforms = new Transforms(signElement.getOwnerDocument());\n            transforms.addTransform(Transforms.TRANSFORM_C14N_EXCL_OMIT_COMMENTS);  //  Canonical CN14\n            signature.addDocument(elementRefId, transforms, MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA256);              signature.addKeyInfo(signCert);\n            signature.addKeyInfo(signCert.getPublicKey());\n            signature.sign(signKey);\n        } catch (XMLSecurityException xmse) {\n            throw new RuntimeException(xmse);\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n</code></pre>\n<p>I call this procedure with signElement parameter &lt;Body...&gt;</p>\n<p>signed XML is generated, everything looks fine.....but when I try verify this signature, &quot;Reference 1 wrong digest&quot; error occured. But signature is verified. Digest no.</p>\n<p>So bad reference hash?</p>\n<p>I tried manualy generate SHA 256 from body element. With next Bas64 encoding.</p>\n<p>I tried it from string<code> &quot;&lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;&quot;</code>\nalso from<code> &quot;&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt; &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt; &lt;/soapenv:Body&gt;&quot;</code>\nalso from canonized (EXC-CN14) canonized strings. But without succed.</p>\n<p>What is correct way to make SHA256 digest of XML?\nWhy my santuario code calculate wrong digest?</p>\n<p>I tried sign it by santuario xmlsec library, also manualy calculate digest and signature.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","junit5"],"comments":[{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":0,"creation_date":1696824786,"post_id":77255629,"comment_id":136197621,"body_markdown":"It appears it&#39;s looking for your table &quot;role&quot; in a schema or database named &quot;test&quot;.\nDid you cross-check your configuration files, especially if you have one for tests?","body":"It appears it&#39;s looking for your table &quot;role&quot; in a schema or database named &quot;test&quot;. Did you cross-check your configuration files, especially if you have one for tests?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696831396,"post_id":77255629,"comment_id":136198168,"body_markdown":"The fact that you have that `DatabaseConfiguration` makes we wonder. If your `JobSearchApplication` is in the `com.tomholmes.product.jobsearch` you don&#39;t need it (in fact it might even disable parts of the auto-configuration). Please add your `application.properties` to the question.","body":"The fact that you have that <code>DatabaseConfiguration</code> makes we wonder. If your <code>JobSearchApplication</code> is in the <code>com.tomholmes.product.jobsearch</code> you don&#39;t need it (in fact it might even disable parts of the auto-configuration). Please add your <code>application.properties</code> to the question."},{"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"score":0,"creation_date":1696867872,"post_id":77255629,"comment_id":136204965,"body_markdown":"@M.Deinum The Database Configuration is absolutely in the right path/package.  Also, I have added the application.properties as requested.","body":"@M.Deinum The Database Configuration is absolutely in the right path/package.  Also, I have added the application.properties as requested."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696873148,"post_id":77255629,"comment_id":136205915,"body_markdown":"Where do I state it isn&#39;t in the right package, you shouldn&#39;t need that class at all.","body":"Where do I state it isn&#39;t in the right package, you shouldn&#39;t need that class at all."},{"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"score":0,"creation_date":1696890936,"post_id":77255629,"comment_id":136208392,"body_markdown":"@M.Deinum then I misunderstood what you were saying.  I did remove the database configuration, and it removed the issue altogether.  But, I&#39;d like to know what it was about my configuration that was causing the issue.","body":"@M.Deinum then I misunderstood what you were saying.  I did remove the database configuration, and it removed the issue altogether.  But, I&#39;d like to know what it was about my configuration that was causing the issue."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696918386,"post_id":77255629,"comment_id":136210422,"body_markdown":"If your `@SpringBootApplication` class is in the top-level package (as recommended by the Spring Boot team/documentation) you don&#39;t need all those additional configurations (as a general rule of thumb). Adding them disabled (parts) of the auto configuration from Spring Boot. I suspect the combination of `@EntityScan` and `@EnableJpaRepositories` but as stated you won&#39;t need it as it is provided out-of-the-box for you. Generally when you start doing things like this you need to get your hands from the keyboard, take 2 steps back and really think if you need it when using Spring Boot.","body":"If your <code>@SpringBootApplication</code> class is in the top-level package (as recommended by the Spring Boot team/documentation) you don&#39;t need all those additional configurations (as a general rule of thumb). Adding them disabled (parts) of the auto configuration from Spring Boot. I suspect the combination of <code>@EntityScan</code> and <code>@EnableJpaRepositories</code> but as stated you won&#39;t need it as it is provided out-of-the-box for you. Generally when you start doing things like this you need to get your hands from the keyboard, take 2 steps back and really think if you need it when using Spring Boot."}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696856197,"creation_date":1696806852,"question_id":77255629,"body_markdown":"I am creating a new Spring Boot 3.14 application for myself, and I found myself stuck, and I just need a little help in moving forward.   I have a previous Spring Boot 3.0.5 application which does not have this problem.\r\n\r\nThe main Spring Boot application is as follows:\r\n\r\n    @SpringBootApplication\r\n    public class JobSearchApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(JobSearchApplication.class, args);\r\n\t    }\r\n    }\r\n\r\nThe DatabaseConfiguration class is as follows:\r\n\r\n    package com.tomholmes.product.jobsearch.config;\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.tomholmes.product.jobsearch&quot;)\r\n    @EntityScan(&quot;com.tomholmes.product.jobsearch.model&quot;)\r\n    @EnableJpaRepositories(basePackages = &quot;com.tomholmes.product.jobsearch.repository&quot;)\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfiguration {\r\n    }\r\n\r\nMy Hibernate Entity works fine, my Hibernate Repository code works fine, and I have a simple test which shows that the database connection works fine.   Let me show you the simple test:\r\n\r\n    @AutoConfigureTestDatabase(replace=Replace.NONE)\r\n    @DataJpaTest\r\n    public class RoleRepositoryTest {\r\n        @Autowired\r\n        private RoleRepository repository;\r\n    \r\n        @Test\r\n        public void testFindById() {\r\n            long id = 1;\r\n            RoleEntity roleEntity = repository.findById(id).orElse(null);\r\n            assertNotNull(roleEntity);\r\n            assertEquals(id, roleEntity.getId());\r\n         }\r\n    }\r\n\r\nNow it&#39;s time to implement the service code test which I have like this.  And you will notice I am using Constructor Injection as this has become the standard.\r\n\r\n    @Transactional\r\n    @Service(&quot;roleService&quot;)\r\n    public class RoleServiceImpl implements RoleService {\r\n        private RoleRepository roleRepository;\r\n\r\n        public RoleServiceImpl(RoleRepository roleRepository) {\r\n            this.roleRepository = roleRepository;\r\n        }\r\n\r\n        @Override\r\n        public RoleEntity getById(long id) {\r\n            RoleEntity role = roleRepository.findById(id).orElse(null);\r\n            return role;\r\n        }\r\n    }\r\n\r\nNow comes the part where the Integration Test for this should be super-easy, and with my older project (Spring Boot 3.0.5) this worked, but with Spring Boot 3.1.4 something changed.   So, here is the test, and then I will tell you what error message is coming up.   So, first the test code as follows:\r\n\r\n    @SpringBootTest(classes = JobSearchApplication.class)\r\n    @Transactional\r\n    public class RoleServiceTest {\r\n    \r\n        @Autowired\r\n        private RoleService service;\r\n        \r\n        @Test\r\n        public void testGetById() {\r\n            long id = 1;\r\n            RoleEntity entity = service.getById(id);\r\n            assertNotNull(entity);\r\n            assertEquals(id, entity.getId());\r\n        }\r\n    }\r\n\r\nNow the error that I get is as follows:\r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: Table &#39;test.role&#39; doesn&#39;t exist\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t... 156 common frames omitted\r\n\r\nSo, I completely do not understand why the test is looking is looking for a table &#39;test.role&#39; instead of &#39;role&#39;.   I&#39;ve looked at older projects, and I&#39;ve done some searching on Google for an answer to this, but I haven&#39;t seen any ideas on why this is happening.\r\n\r\nI tried to change the test to include:\r\n\r\n    @SpringBootTest(classes = JobSearchApplication.class, DatabaseConfiguration.class)\r\n\r\nand that doesn&#39;t work.   I want to make it clear that I am using MySQL with the latest driver, and I want to use the real database for testing out my business logic.  So, any help with this would be big.  I am sure it might be something small.\r\n\r\nIf I need to provide anything else, please let me know, and I can add more info.\r\nThanks!\r\n\r\nUPDATED: Providing the application.properties file as follows:\r\n\r\n    # Spring Boot - Hibernate6 settings\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/job_search_db?serverTimezone=UTC\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"Spring Boot 3 Test Service cannot find database table","body":"<p>I am creating a new Spring Boot 3.14 application for myself, and I found myself stuck, and I just need a little help in moving forward.   I have a previous Spring Boot 3.0.5 application which does not have this problem.</p>\n<p>The main Spring Boot application is as follows:</p>\n<pre><code>@SpringBootApplication\npublic class JobSearchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JobSearchApplication.class, args);\n    }\n}\n</code></pre>\n<p>The DatabaseConfiguration class is as follows:</p>\n<pre><code>package com.tomholmes.product.jobsearch.config;\n@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.tomholmes.product.jobsearch&quot;)\n@EntityScan(&quot;com.tomholmes.product.jobsearch.model&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.tomholmes.product.jobsearch.repository&quot;)\n@EnableTransactionManagement\npublic class DatabaseConfiguration {\n}\n</code></pre>\n<p>My Hibernate Entity works fine, my Hibernate Repository code works fine, and I have a simple test which shows that the database connection works fine.   Let me show you the simple test:</p>\n<pre><code>@AutoConfigureTestDatabase(replace=Replace.NONE)\n@DataJpaTest\npublic class RoleRepositoryTest {\n    @Autowired\n    private RoleRepository repository;\n\n    @Test\n    public void testFindById() {\n        long id = 1;\n        RoleEntity roleEntity = repository.findById(id).orElse(null);\n        assertNotNull(roleEntity);\n        assertEquals(id, roleEntity.getId());\n     }\n}\n</code></pre>\n<p>Now it's time to implement the service code test which I have like this.  And you will notice I am using Constructor Injection as this has become the standard.</p>\n<pre><code>@Transactional\n@Service(&quot;roleService&quot;)\npublic class RoleServiceImpl implements RoleService {\n    private RoleRepository roleRepository;\n\n    public RoleServiceImpl(RoleRepository roleRepository) {\n        this.roleRepository = roleRepository;\n    }\n\n    @Override\n    public RoleEntity getById(long id) {\n        RoleEntity role = roleRepository.findById(id).orElse(null);\n        return role;\n    }\n}\n</code></pre>\n<p>Now comes the part where the Integration Test for this should be super-easy, and with my older project (Spring Boot 3.0.5) this worked, but with Spring Boot 3.1.4 something changed.   So, here is the test, and then I will tell you what error message is coming up.   So, first the test code as follows:</p>\n<pre><code>@SpringBootTest(classes = JobSearchApplication.class)\n@Transactional\npublic class RoleServiceTest {\n\n    @Autowired\n    private RoleService service;\n    \n    @Test\n    public void testGetById() {\n        long id = 1;\n        RoleEntity entity = service.getById(id);\n        assertNotNull(entity);\n        assertEquals(id, entity.getId());\n    }\n}\n</code></pre>\n<p>Now the error that I get is as follows:</p>\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: Table 'test.role' doesn't exist\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n... 156 common frames omitted\n</code></pre>\n<p>So, I completely do not understand why the test is looking is looking for a table 'test.role' instead of 'role'.   I've looked at older projects, and I've done some searching on Google for an answer to this, but I haven't seen any ideas on why this is happening.</p>\n<p>I tried to change the test to include:</p>\n<pre><code>@SpringBootTest(classes = JobSearchApplication.class, DatabaseConfiguration.class)\n</code></pre>\n<p>and that doesn't work.   I want to make it clear that I am using MySQL with the latest driver, and I want to use the real database for testing out my business logic.  So, any help with this would be big.  I am sure it might be something small.</p>\n<p>If I need to provide anything else, please let me know, and I can add more info.\nThanks!</p>\n<p>UPDATED: Providing the application.properties file as follows:</p>\n<pre><code># Spring Boot - Hibernate6 settings\nspring.datasource.url=jdbc:mysql://localhost:3306/job_search_db?serverTimezone=UTC\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=username\nspring.datasource.password=password\nspring.jpa.show-sql=true\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":["java","react-native","android-studio","gradle","simulator"],"answers":[{"tags":[],"owner":{"account_id":17468562,"reputation":103,"user_id":12664825,"display_name":"jNiuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689796930,"creation_date":1689796930,"answer_id":76724835,"question_id":76723947,"body_markdown":"Just figured this out. My Namespace in android -&gt; app -&gt; build.gradle was somehow SLIGHTLY different then the other package names. Make sure these all are the same.","title":"Build Error when running npx expo run:android","body":"<p>Just figured this out. My Namespace in android -&gt; app -&gt; build.gradle was somehow SLIGHTLY different then the other package names. Make sure these all are the same.</p>\n"}],"owner":{"account_id":17468562,"reputation":103,"user_id":12664825,"display_name":"jNiuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696855723,"creation_date":1689788516,"question_id":76723947,"body_markdown":"Im trying to run a react-native project on the android emulator from Android Studio. However whenever I run npx expo run:android I get a few errors:\r\n\r\n    The Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build. \r\n    This might happen in subprojects that apply the Kotlin plugins with the Gradle &#39;plugins { ... }&#39; DSL if they specify explicit versions, even if the versions are equal.\r\n    Please add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\r\n    If the parent project does not need the plugin, add &#39;apply false&#39; to the plugin line.\r\n    See: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\r\n    The Kotlin plugin was loaded in the following projects: &#39;:expo&#39;, &#39;:expo-av&#39;, &#39;:react-native-gesture-handler&#39;, &#39;:react-native-safe-area-context&#39;, ...\r\n\r\n    &gt; Task :app:compileDebugJavaWithJavac FAILED\r\n    error: cannot find symbol\r\n            return BuildConfig.DEBUG;\r\n\r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nI&#39;ve tried many different post suggestions, cleaning the gradle, adjusting the versions, and much more to no avail. \r\n\r\nIt might be worth mentioning that IOS runs completely fine.","title":"Build Error when running npx expo run:android","body":"<p>Im trying to run a react-native project on the android emulator from Android Studio. However whenever I run npx expo run:android I get a few errors:</p>\n<pre><code>The Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build. \nThis might happen in subprojects that apply the Kotlin plugins with the Gradle 'plugins { ... }' DSL if they specify explicit versions, even if the versions are equal.\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\nIf the parent project does not need the plugin, add 'apply false' to the plugin line.\nSee: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\nThe Kotlin plugin was loaded in the following projects: ':expo', ':expo-av', ':react-native-gesture-handler', ':react-native-safe-area-context', ...\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\nerror: cannot find symbol\n        return BuildConfig.DEBUG;\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n</code></pre>\n<p>I've tried many different post suggestions, cleaning the gradle, adjusting the versions, and much more to no avail.</p>\n<p>It might be worth mentioning that IOS runs completely fine.</p>\n"},{"tags":["java","spring","spring-jdbc"],"comments":[{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":0,"creation_date":1696429190,"post_id":77230240,"comment_id":136151991,"body_markdown":"Note to myself: spring-data-jdbc.jar contains the AbstractJdbcConfiguration.class - will try later","body":"Note to myself: spring-data-jdbc.jar contains the AbstractJdbcConfiguration.class - will try later"}],"answers":[{"tags":[],"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696855235,"creation_date":1696502337,"answer_id":77236363,"question_id":77230240,"body_markdown":"I came up with this solution in my DAO class, where the SimpleJdbcCall objects are used:\r\n\r\n\t@Autowired\r\n\tprivate ConversionService conversionService;\r\n\t//...\r\n\t{\r\n    \t\tBeanPropertyRowMapper&lt;MyDTO&gt; rowMapper1 = new BeanPropertyRowMapper&lt;MyDTO&gt;() {\r\n\t\t\t@Override\r\n\t\t\tprotected void initBeanWrapper(BeanWrapper bw)\r\n\t\t\t{\r\n\t\t\t\tbw.setConversionService(conversionService);\r\n\t\t\t}\r\n\t\t};\r\n\t\trowMapper1.setMappedClass(MyDTO.class);\r\n\t\t\r\n\t\tmySimpleJdbcCall.returningResultSet(&quot;p_my_object&quot;, rowMapper1);\r\n\r\nThis works (in JUnit tests) for reading data from database.\r\n\r\n**Writing**\r\n\r\nI used the solution from here: https://stackoverflow.com/a/50368110\r\n\r\nBasically, override the getValue() method to specially handle my type:\r\n\r\n    BeanPropertySqlParameterSource parameterSource = new BeanPropertySqlParameterSource(pojo) {\r\n        @Override\r\n        public Object getValue(String paramName) throws IllegalArgumentException {\r\n            Object value = super.getValue(paramName);\r\n            if (value instanceof MyIDType) {\r\n                return ((MyIDType) value).getInternalValue();\r\n            }\r\n    \r\n            return value;\r\n        }\r\n    };","title":"How to register a GenericConverter to be used by SimpleJdbcCall objects in Spring 3?","body":"<p>I came up with this solution in my DAO class, where the SimpleJdbcCall objects are used:</p>\n<pre><code>@Autowired\nprivate ConversionService conversionService;\n//...\n{\n        BeanPropertyRowMapper&lt;MyDTO&gt; rowMapper1 = new BeanPropertyRowMapper&lt;MyDTO&gt;() {\n        @Override\n        protected void initBeanWrapper(BeanWrapper bw)\n        {\n            bw.setConversionService(conversionService);\n        }\n    };\n    rowMapper1.setMappedClass(MyDTO.class);\n    \n    mySimpleJdbcCall.returningResultSet(&quot;p_my_object&quot;, rowMapper1);\n</code></pre>\n<p>This works (in JUnit tests) for reading data from database.</p>\n<p><strong>Writing</strong></p>\n<p>I used the solution from here: <a href=\"https://stackoverflow.com/a/50368110\">https://stackoverflow.com/a/50368110</a></p>\n<p>Basically, override the getValue() method to specially handle my type:</p>\n<pre><code>BeanPropertySqlParameterSource parameterSource = new BeanPropertySqlParameterSource(pojo) {\n    @Override\n    public Object getValue(String paramName) throws IllegalArgumentException {\n        Object value = super.getValue(paramName);\n        if (value instanceof MyIDType) {\n            return ((MyIDType) value).getInternalValue();\n        }\n\n        return value;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77236363,"answer_count":1,"score":0,"last_activity_date":1696855235,"creation_date":1696427785,"question_id":77230240,"body_markdown":"Using Spring 3.0.x, I wrote a SimpleJdbcCall defining with returningResultSet() a BeanPropertyRowMapper.\r\n\r\nNow I want to replace the java.lang.Long type used for object IDs with a strongly typed ID, that is defining a PersonId class that holds the actual ID values as a Long variable.\r\n\r\nI wrote a org.springframework.core.convert.converter.GenericConverter implementation that converts from the BigDecimal that is returned by JDBC to PersonID (and some others, for other classes).\r\n\r\nI registered my converter as:\r\n\r\n    &lt;bean id=&quot;conversionService&quot;\r\n\t\tclass=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n\t&lt;property name=&quot;converters&quot;&gt;\r\n\t\t&lt;set&gt;\r\n\t\t\t&lt;bean class=&quot;xxx.impl.IDTypeConverter&quot;/&gt;\r\n\t\t&lt;/set&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n\r\n\r\n**The problem**\r\n\r\nSpring does not use my converter.\r\n\r\nDebugging leads to method org.springframework.beans.TypeConverterDelegate.convertIfNecessary(String, Object, Object, Class&lt;T&gt;, TypeDescriptor) where:\r\n\r\n    ConversionService conversionService = this.propertyEditorRegistry.getConversionService();\r\n\r\nthis method returns null. There are no conversions used.\r\n\r\nSearching the web I found https://stackoverflow.com/a/12798635 where is says:\r\n\r\n&gt; spring was trying to find a custom converter registered with PropertyEditor\r\n\r\nThen it proposes a solution using a property editor but does not go into detail how to actually do it. (I asked there)\r\n\r\nAnother answer https://stackoverflow.com/a/53120800 says to use  the method jdbcCustomConversions() from (Abstract)JdbcConfiguration, but I can&#39;t find those classes in my project.\r\n\r\nI could write a custom RowMapper for each JDBC call, but that is a lot of code.\r\n\r\n\r\nThe question is: how to convert those datatypes with as few code as possible?\r\n","title":"How to register a GenericConverter to be used by SimpleJdbcCall objects in Spring 3?","body":"<p>Using Spring 3.0.x, I wrote a SimpleJdbcCall defining with returningResultSet() a BeanPropertyRowMapper.</p>\n<p>Now I want to replace the java.lang.Long type used for object IDs with a strongly typed ID, that is defining a PersonId class that holds the actual ID values as a Long variable.</p>\n<p>I wrote a org.springframework.core.convert.converter.GenericConverter implementation that converts from the BigDecimal that is returned by JDBC to PersonID (and some others, for other classes).</p>\n<p>I registered my converter as:</p>\n<pre><code>&lt;bean id=&quot;conversionService&quot;\n    class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\n&lt;property name=&quot;converters&quot;&gt;\n    &lt;set&gt;\n        &lt;bean class=&quot;xxx.impl.IDTypeConverter&quot;/&gt;\n    &lt;/set&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p><strong>The problem</strong></p>\n<p>Spring does not use my converter.</p>\n<p>Debugging leads to method org.springframework.beans.TypeConverterDelegate.convertIfNecessary(String, Object, Object, Class, TypeDescriptor) where:</p>\n<pre><code>ConversionService conversionService = this.propertyEditorRegistry.getConversionService();\n</code></pre>\n<p>this method returns null. There are no conversions used.</p>\n<p>Searching the web I found <a href=\"https://stackoverflow.com/a/12798635\">https://stackoverflow.com/a/12798635</a> where is says:</p>\n<blockquote>\n<p>spring was trying to find a custom converter registered with PropertyEditor</p>\n</blockquote>\n<p>Then it proposes a solution using a property editor but does not go into detail how to actually do it. (I asked there)</p>\n<p>Another answer <a href=\"https://stackoverflow.com/a/53120800\">https://stackoverflow.com/a/53120800</a> says to use  the method jdbcCustomConversions() from (Abstract)JdbcConfiguration, but I can't find those classes in my project.</p>\n<p>I could write a custom RowMapper for each JDBC call, but that is a lot of code.</p>\n<p>The question is: how to convert those datatypes with as few code as possible?</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"score":2,"creation_date":1590396384,"post_id":61998747,"comment_id":109654052,"body_markdown":"I recommend you to try your hands on Spring. To check such a scenario yourself, you will need only 1 file and 90% of code you already have written in the question ;)","body":"I recommend you to try your hands on Spring. To check such a scenario yourself, you will need only 1 file and 90% of code you already have written in the question ;)"}],"answers":[{"tags":[],"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696854597,"creation_date":1590396278,"answer_id":61998822,"question_id":61998747,"body_markdown":"Spring will notice a mistake and throw `NoUniqueBeanDefinitionException` during application startup. \r\nIf you remove `@Component` annotation it will work as expected, `@Bean` will be used for initialization.","title":"What is given priority in below scenario @Bean or @Component?","body":"<p>Spring will notice a mistake and throw <code>NoUniqueBeanDefinitionException</code> during application startup.\nIf you remove <code>@Component</code> annotation it will work as expected, <code>@Bean</code> will be used for initialization.</p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":61998822,"answer_count":1,"score":3,"last_activity_date":1696854597,"creation_date":1590395984,"question_id":61998747,"body_markdown":"I am learning concepts of Spring &amp; I came across @Bean &amp; @Component annotations. I want to know what will happen in below scenario:\r\n\r\n    @Configuration\r\n    class ConfigClass {\r\n      \r\n      @Bean\r\n      public ComponentClass ComponentClass() {\r\n        return new ComponentClass(someDependency1, someDependency2, someDependency3);\r\n      }\r\n    }\r\n\r\n    @Component\r\n    class ComponentClass{\r\n      private SomeDependency1 sd1;\r\n      private SomeDependency2 sd2;\r\n      private SomeDependency3 sd3;\r\n    \r\n      public ComponentClass(SomeDependency1 sd1, SomeDependency2 sd2, SomeDependency3 sd3) {\r\n        /* initialize here */\r\n      }\r\n    }\r\n\r\nI have declared *ComponentClass* as @Component which means it is a spring bean now. But I have also defined a @Bean for it in config class separately. \r\n\r\n1. Which of these beans will be actually used as by default Spring is singleton?\r\n\r\n2. What happens when I remove @Component?","title":"What is given priority in below scenario @Bean or @Component?","body":"<p>I am learning concepts of Spring &amp; I came across @Bean &amp; @Component annotations. I want to know what will happen in below scenario:</p>\n\n<pre><code>@Configuration\nclass ConfigClass {\n\n  @Bean\n  public ComponentClass ComponentClass() {\n    return new ComponentClass(someDependency1, someDependency2, someDependency3);\n  }\n}\n\n@Component\nclass ComponentClass{\n  private SomeDependency1 sd1;\n  private SomeDependency2 sd2;\n  private SomeDependency3 sd3;\n\n  public ComponentClass(SomeDependency1 sd1, SomeDependency2 sd2, SomeDependency3 sd3) {\n    /* initialize here */\n  }\n}\n</code></pre>\n\n<p>I have declared <em>ComponentClass</em> as @Component which means it is a spring bean now. But I have also defined a @Bean for it in config class separately. </p>\n\n<ol>\n<li><p>Which of these beans will be actually used as by default Spring is singleton?</p></li>\n<li><p>What happens when I remove @Component?</p></li>\n</ol>\n"},{"tags":["java","hibernate","spring-data-jpa","enums","spring-el"],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696854594,"creation_date":1696854594,"answer_id":77258855,"question_id":77258316,"body_markdown":"The JPA will automatically convert the enum value to its name as a string when constructing the ExampleDto. You don&#39;t need to explicitly call name() on the enum.\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n       SELECT new com.example.project.ExampleDto(e.id, e.type)\r\n       FROM   Example e \r\n       WHERE  e.id = :id&quot;&quot;&quot;)\r\nExampleDto findById(Integer id);\r\n\r\n```","title":"How to get enum&#39;s value within JPQL-query?","body":"<p>The JPA will automatically convert the enum value to its name as a string when constructing the ExampleDto. You don't need to explicitly call name() on the enum.</p>\n<pre><code>@Query(&quot;&quot;&quot;\n       SELECT new com.example.project.ExampleDto(e.id, e.type)\n       FROM   Example e \n       WHERE  e.id = :id&quot;&quot;&quot;)\nExampleDto findById(Integer id);\n\n</code></pre>\n"}],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696854594,"creation_date":1696849790,"question_id":77258316,"body_markdown":"I have the follow entity with enum as field:\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;example&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Example implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;type&quot;)\r\n    private Type type;\r\n}\r\n```\r\nThe enum:\r\n```lang-java\r\npublic enum Type implements Serializable {\r\n    EASY,\r\n    NORMAL,\r\n    HARD\r\n}\r\n```\r\nAt last I have the follow DTO:\r\n```lang-java\r\npublic record ExampleDto(Integer id, String value) {\r\n}\r\n```\r\nIt is important that `ExampleDto#value` has `String` type not `Type` type. I want to use the DTO as projection in `Spring Data JPA` but I have a problem. I do not understand how I can convert enum value to string within JPQL-query. I tried to do something like that:\r\n```lang-java\r\n@Query(&quot;&quot;&quot;\r\n       SELECT new com.example.project.ExampleDto(e.id, e.type.name)\r\n       FROM   Example e \r\n       WHERE  e.id = :id&quot;&quot;&quot;)\r\nExampleDto findById(Integer id);\r\n```\r\nBut it does not work. So how I can convert enum to string within JPQL? Is it possible?","title":"How to get enum&#39;s value within JPQL-query?","body":"<p>I have the follow entity with enum as field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;example&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Example implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;type&quot;)\n    private Type type;\n}\n</code></pre>\n<p>The enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type implements Serializable {\n    EASY,\n    NORMAL,\n    HARD\n}\n</code></pre>\n<p>At last I have the follow DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record ExampleDto(Integer id, String value) {\n}\n</code></pre>\n<p>It is important that <code>ExampleDto#value</code> has <code>String</code> type not <code>Type</code> type. I want to use the DTO as projection in <code>Spring Data JPA</code> but I have a problem. I do not understand how I can convert enum value to string within JPQL-query. I tried to do something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n       SELECT new com.example.project.ExampleDto(e.id, e.type.name)\n       FROM   Example e \n       WHERE  e.id = :id&quot;&quot;&quot;)\nExampleDto findById(Integer id);\n</code></pre>\n<p>But it does not work. So how I can convert enum to string within JPQL? Is it possible?</p>\n"},{"tags":["java","java-8","java-stream","reduce","collectors"],"comments":[{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":0,"creation_date":1477611238,"post_id":40295750,"comment_id":67849968,"body_markdown":"It seems to me that you need some kind of primitive parser for your input and you could handle not only line-breaks but also escaping of quotes.","body":"It seems to me that you need some kind of primitive parser for your input and you could handle not only line-breaks but also escaping of quotes."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1477611297,"post_id":40295750,"comment_id":67849992,"body_markdown":"You only have 1 group in your regex. Also, how do you know if the next line is a new ID or part of the previous string? Do they all have quotes? What if the string contains quotes? You might want to use a CSV parser for this.","body":"You only have 1 group in your regex. Also, how do you know if the next line is a new ID or part of the previous string? Do they all have quotes? What if the string contains quotes? You might want to use a CSV parser for this."},{"owner":{"account_id":9531146,"reputation":23,"user_id":7082785,"display_name":"Daiquiri"},"score":0,"creation_date":1477611477,"post_id":40295750,"comment_id":67850045,"body_markdown":"Strings may contain quotes, for example:\n101, &quot;some &quot;te xt\nand more &quot;\ntext&quot;\n102, &quot;this is the next document&quot;\n\nI need to somehow buffer os accumulate lines using lambdas?","body":"Strings may contain quotes, for example: 101, &quot;some &quot;te xt and more &quot; text&quot; 102, &quot;this is the next document&quot;  I need to somehow buffer os accumulate lines using lambdas?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1477611692,"post_id":40295750,"comment_id":67850093,"body_markdown":"Looks like your input might be a CSV file. Have you considered using a CSV parser?","body":"Looks like your input might be a CSV file. Have you considered using a CSV parser?"},{"owner":{"account_id":9531146,"reputation":23,"user_id":7082785,"display_name":"Daiquiri"},"score":0,"creation_date":1477611954,"post_id":40295750,"comment_id":67850149,"body_markdown":"Thank you for the suggestions. I will try to use https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html","body":"Thank you for the suggestions. I will try to use <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-csv/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1477662867,"post_id":40295750,"comment_id":67870388,"body_markdown":"See also [CSV API for Java](http://stackoverflow.com/questions/101100/csv-api-for-java?rq=1) (does not produce a `Stream` though)","body":"See also <a href=\"http://stackoverflow.com/questions/101100/csv-api-for-java?rq=1\">CSV API for Java</a> (does not produce a <code>Stream</code> though)"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477653844,"creation_date":1477653844,"answer_id":40304028,"question_id":40295750,"body_markdown":"This is a job for `java.util.Scanner`. With the upcoming Java&#160;9, you would write:\r\n\r\n    List&lt;MyClass&gt; result;\r\n    try(Scanner s=new Scanner(Paths.get(&quot;data.txt&quot;))) {\r\n        result = s.findAll(&quot;(\\\\d{1,3}),\\\\s*\\&quot;([^\\&quot;]*)\\&quot;&quot;)\r\n                    //MyClass(int id, String text)\r\n        .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2))) \r\n        .collect(Collectors.toList());\r\n    }\r\n    result.forEach(System.out::println);\r\n\r\nbut since the `Stream` producing `findAll` does not exist under Java&#160;8, we’ll need a helper method:\r\n\r\n    private static Stream&lt;MatchResult&gt; matches(Scanner s, String pattern) {\r\n        Pattern compiled=Pattern.compile(pattern);\r\n        return StreamSupport.stream(\r\n            new Spliterators.AbstractSpliterator&lt;MatchResult&gt;(1000,\r\n                             Spliterator.ORDERED|Spliterator.NONNULL) {\r\n            @Override\r\n            public boolean tryAdvance(Consumer&lt;? super MatchResult&gt; action) {\r\n                if(s.findWithinHorizon(compiled, 0)==null) return false;\r\n                action.accept(s.match());\r\n                return true;\r\n            }\r\n        }, false);\r\n    }\r\n\r\nReplacing `findAll` with this helper method, we get\r\n\r\n    List&lt;MyClass&gt; result;\r\n    try(Scanner s=new Scanner(Paths.get(&quot;data.txt&quot;))) {\r\n\r\n        result = matches(s, &quot;(\\\\d{1,3}),\\\\s*\\&quot;([^\\&quot;]*)\\&quot;&quot;)\r\n                   // MyClass(int id, String text)\r\n        .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2)))\r\n        .collect(Collectors.toList());\r\n    }\r\n\r\n\r\n","title":"Accumulate a Java Stream and only then process it","body":"<p>This is a job for <code>java.util.Scanner</code>. With the upcoming Java 9, you would write:</p>\n\n<pre><code>List&lt;MyClass&gt; result;\ntry(Scanner s=new Scanner(Paths.get(\"data.txt\"))) {\n    result = s.findAll(\"(\\\\d{1,3}),\\\\s*\\\"([^\\\"]*)\\\"\")\n                //MyClass(int id, String text)\n    .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2))) \n    .collect(Collectors.toList());\n}\nresult.forEach(System.out::println);\n</code></pre>\n\n<p>but since the <code>Stream</code> producing <code>findAll</code> does not exist under Java 8, we’ll need a helper method:</p>\n\n<pre><code>private static Stream&lt;MatchResult&gt; matches(Scanner s, String pattern) {\n    Pattern compiled=Pattern.compile(pattern);\n    return StreamSupport.stream(\n        new Spliterators.AbstractSpliterator&lt;MatchResult&gt;(1000,\n                         Spliterator.ORDERED|Spliterator.NONNULL) {\n        @Override\n        public boolean tryAdvance(Consumer&lt;? super MatchResult&gt; action) {\n            if(s.findWithinHorizon(compiled, 0)==null) return false;\n            action.accept(s.match());\n            return true;\n        }\n    }, false);\n}\n</code></pre>\n\n<p>Replacing <code>findAll</code> with this helper method, we get</p>\n\n<pre><code>List&lt;MyClass&gt; result;\ntry(Scanner s=new Scanner(Paths.get(\"data.txt\"))) {\n\n    result = matches(s, \"(\\\\d{1,3}),\\\\s*\\\"([^\\\"]*)\\\"\")\n               // MyClass(int id, String text)\n    .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2)))\n    .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":9531146,"reputation":23,"user_id":7082785,"display_name":"Daiquiri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40304028,"answer_count":1,"score":2,"last_activity_date":1696854321,"creation_date":1477610936,"question_id":40295750,"body_markdown":"I had a document that looked like the following:\r\n\r\ndata.txt\r\n\r\n    100, &quot;some text&quot;\r\n    101, &quot;more text&quot;\r\n    102, &quot;even more text&quot;\r\n\r\nI processed it using regex and returned a new processed documents as follows:\r\n\r\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(data.txt);\r\n    Pattern regex = Pattern.compile(&quot;([\\\\d{1,3}]),(.*)&quot;);\r\n\r\n    List&lt;MyClass&gt; result = \r\n      lines.map(regex::matcher)\r\n           .filter(Matcher::find)\r\n           .map(m -&gt; new MyClass(m.group(1), m.group(2)) //MyClass(int id, String text)\r\n           .collect(Collectors.toList());\r\n\r\nThis returns a list of MyClass processed. Can run in parallel and everything is ok.\r\n\r\nThe problem is that I now have this:\r\n\r\ndata2.txt\r\n\r\n    101, &quot;some text\r\n    the text continues in the next line\r\n    and maybe in the next&quot;\r\n    102, &quot;for a random\r\n    number\r\n    of lines&quot;\r\n    103, &quot;until the new pattern of new id comma appears&quot;\r\n\r\n\r\nSo, I somehow need to join lines that are being read from the stream until a new match appear. (Something like a buffer?)\r\n\r\nI tried to Collect strings and then collect MyClass(), but with no success, because I cannot actually split streams.\r\n\r\nReduce comes to mind to concatenate lines, but I&#39;ll concatenate just lines and I cannot reduce and generate a new stream of lines.\r\n\r\nAny ideas how to solve this with Java 8 streams?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Accumulate a Java Stream and only then process it","body":"<p>I had a document that looked like the following:</p>\n<p>data.txt</p>\n<pre><code>100, &quot;some text&quot;\n101, &quot;more text&quot;\n102, &quot;even more text&quot;\n</code></pre>\n<p>I processed it using regex and returned a new processed documents as follows:</p>\n<pre><code>Stream&lt;String&gt; lines = Files.lines(Paths.get(data.txt);\nPattern regex = Pattern.compile(&quot;([\\\\d{1,3}]),(.*)&quot;);\n\nList&lt;MyClass&gt; result = \n  lines.map(regex::matcher)\n       .filter(Matcher::find)\n       .map(m -&gt; new MyClass(m.group(1), m.group(2)) //MyClass(int id, String text)\n       .collect(Collectors.toList());\n</code></pre>\n<p>This returns a list of MyClass processed. Can run in parallel and everything is ok.</p>\n<p>The problem is that I now have this:</p>\n<p>data2.txt</p>\n<pre><code>101, &quot;some text\nthe text continues in the next line\nand maybe in the next&quot;\n102, &quot;for a random\nnumber\nof lines&quot;\n103, &quot;until the new pattern of new id comma appears&quot;\n</code></pre>\n<p>So, I somehow need to join lines that are being read from the stream until a new match appear. (Something like a buffer?)</p>\n<p>I tried to Collect strings and then collect MyClass(), but with no success, because I cannot actually split streams.</p>\n<p>Reduce comes to mind to concatenate lines, but I'll concatenate just lines and I cannot reduce and generate a new stream of lines.</p>\n<p>Any ideas how to solve this with Java 8 streams?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1551820862,"post_id":15420968,"comment_id":96778290,"body_markdown":"Did it crash your app?","body":"Did it crash your app?"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":1,"up_vote_count":177,"is_accepted":true,"score":176,"last_activity_date":1696853008,"creation_date":1363298412,"answer_id":15421011,"question_id":15420968,"body_markdown":"The [`getField`][1] method will only find the field if it&#39;s `public`.  You will need to use the [`getDeclaredField`][2] method instead, which will find any field that is declared _directly_ on the class, even if it&#39;s not `public`.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getField(java.lang.String)\r\n[2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getDeclaredField(java.lang.String)","title":"NoSuchFieldException when field exists","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getField(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getField</code></a> method will only find the field if it's <code>public</code>.  You will need to use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getDeclaredField(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getDeclaredField</code></a> method instead, which will find any field that is declared <em>directly</em> on the class, even if it's not <code>public</code>.</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1363298427,"creation_date":1363298427,"answer_id":15421018,"question_id":15420968,"body_markdown":"According to the javadoc, `Class.getField()` &quot;Returns a `Field` object that reflects the specified public member field of the class or interface represented by this `Class` object&quot;.\r\nUse `getDeclaredField()` if you want to access non-public fields.","title":"NoSuchFieldException when field exists","body":"<p>According to the javadoc, <code>Class.getField()</code> \"Returns a <code>Field</code> object that reflects the specified public member field of the class or interface represented by this <code>Class</code> object\".\nUse <code>getDeclaredField()</code> if you want to access non-public fields.</p>\n"},{"tags":[],"owner":{"account_id":4435143,"reputation":99,"user_id":3611179,"display_name":"Murali Krishna Valluri"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1636736486,"creation_date":1399449556,"answer_id":23512050,"question_id":15420968,"body_markdown":"Best solutions for `getClass().getField()` problem are:\r\n\r\n1) Use **getDeclaredField**() instead of **getField**():\r\n```java\r\n        String propertyName = &quot;test&quot;;\r\n        Class.forName(this.getClass().getName()).getDeclaredField(propertyName);\r\n```\r\n\r\n2) Replace **&quot;HelloWorld&quot;** with your class name:\r\n```java\r\n        String propertyName = &quot;name&quot;;\r\n        HelloWorld.class.getDeclaredField(propertyName);\r\n```\r\n\r\nIf you want to get the annotation length of the column:\r\n```java\r\nHelloWorld.class.getDeclaredField(propertyName).getAnnotation(Column.class).length();\r\n```","title":"NoSuchFieldException when field exists","body":"<p>Best solutions for <code>getClass().getField()</code> problem are:</p>\n<ol>\n<li>Use <strong>getDeclaredField</strong>() instead of <strong>getField</strong>():</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        String propertyName = &quot;test&quot;;\n        Class.forName(this.getClass().getName()).getDeclaredField(propertyName);\n</code></pre>\n<ol start=\"2\">\n<li>Replace <strong>&quot;HelloWorld&quot;</strong> with your class name:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        String propertyName = &quot;name&quot;;\n        HelloWorld.class.getDeclaredField(propertyName);\n</code></pre>\n<p>If you want to get the annotation length of the column:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HelloWorld.class.getDeclaredField(propertyName).getAnnotation(Column.class).length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491507,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473760035,"creation_date":1473760035,"answer_id":39466961,"question_id":15420968,"body_markdown":"I came to this question based on the title. I was getting the same error (`NoSuchFieldException`) in my Android project but for a different reason. \r\n\r\nSo for others who come here, this error can also potentially be caused by the caches getting out of sync in Android Studio. Go to **File &gt; Invalidate Caches / Restart...**\r\n\r\nSee [this][1] also \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13439486/missing-styles-is-the-correct-theme-chosen-for-this-layout","title":"NoSuchFieldException when field exists","body":"<p>I came to this question based on the title. I was getting the same error (<code>NoSuchFieldException</code>) in my Android project but for a different reason. </p>\n\n<p>So for others who come here, this error can also potentially be caused by the caches getting out of sync in Android Studio. Go to <strong>File > Invalidate Caches / Restart...</strong></p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/13439486/missing-styles-is-the-correct-theme-chosen-for-this-layout\">this</a> also </p>\n"},{"tags":[],"owner":{"account_id":5854221,"reputation":2808,"user_id":5635880,"display_name":"Brian Yencho"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1567193829,"creation_date":1567193829,"answer_id":57732394,"question_id":15420968,"body_markdown":"For any Android developers seeing this that still can&#39;t seem to fix the issue, **check to see if Proguard is enabled.** If it is, it&#39;s possible the class in question is being obfuscated and you&#39;ll need to add rules to prevent that from happening.","title":"NoSuchFieldException when field exists","body":"<p>For any Android developers seeing this that still can't seem to fix the issue, <strong>check to see if Proguard is enabled.</strong> If it is, it's possible the class in question is being obfuscated and you'll need to add rules to prevent that from happening.</p>\n"},{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636737149,"creation_date":1636737149,"answer_id":69946642,"question_id":15420968,"body_markdown":"As mentioned in the accepted answer, using `getDeclaredField` will potentially solve your problem (in case the field wasn&#39;t declared as `public`).\r\n\r\nIf you are still getting the `NoSuchFieldException`, then it might be because that field is actually in the superclass! Indeed, if your class `extends` another class, then you will not get the inherited fields through the `getDeclaredField` method. Here is how to fix that problem:\r\n\r\n```java\r\nString propertyName = &quot;foo&quot;;\r\nyourClass.getClass().getSuperClass().getDeclaredField(propertyName);\r\n```","title":"NoSuchFieldException when field exists","body":"<p>As mentioned in the accepted answer, using <code>getDeclaredField</code> will potentially solve your problem (in case the field wasn't declared as <code>public</code>).</p>\n<p>If you are still getting the <code>NoSuchFieldException</code>, then it might be because that field is actually in the superclass! Indeed, if your class <code>extends</code> another class, then you will not get the inherited fields through the <code>getDeclaredField</code> method. Here is how to fix that problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String propertyName = &quot;foo&quot;;\nyourClass.getClass().getSuperClass().getDeclaredField(propertyName);\n</code></pre>\n"}],"owner":{"account_id":2257919,"reputation":31815,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97519,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":15421011,"answer_count":6,"score":90,"last_activity_date":1696853008,"creation_date":1363298209,"question_id":15420968,"body_markdown":"I&#39;m getting a `java.lang.NoSuchFieldException` when trying to run the following method: \r\n\r\n     public void getTimes(String specialty, String day) {\r\n        ArrayList&lt;Tutor&gt; withSpec = new ArrayList&lt;Tutor&gt;();\r\n        for (Tutor t : tutorList){\r\n            try {\r\n                Time startTime = (Time)t.getClass().getField(day + &quot;Start&quot;).get(t);\r\n            } catch (NoSuchFieldException | SecurityException | IllegalAccessException ex) Logger.getLogger(DBHandler.class.getName()).log(Level.SEVERE, null, ex); }\r\n\r\nThe error is on the line `Time startTime = (Time)t.getClass().getField(day + &quot;Start&quot;).get(t);`\r\n\r\nI don&#39;t understand this error, because monStart is a field of the `Tutor` class: \r\n\r\n    Public class Tutor implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @Basic(optional = false)\r\n    @NotNull\r\n    @Column(name = &quot;tutorID&quot;)\r\n    private Integer tutorID;\r\n\r\n    .... \r\n\r\n    @Column(name = &quot;monStart&quot;)\r\n    @Temporal(TemporalType.TIME)\r\n     Date monStart;\r\n\r\nI&#39;m just learning to use reflection, so I&#39;m sure this is some sort of a syntactical error...","title":"NoSuchFieldException when field exists","body":"<p>I'm getting a <code>java.lang.NoSuchFieldException</code> when trying to run the following method: </p>\n\n<pre><code> public void getTimes(String specialty, String day) {\n    ArrayList&lt;Tutor&gt; withSpec = new ArrayList&lt;Tutor&gt;();\n    for (Tutor t : tutorList){\n        try {\n            Time startTime = (Time)t.getClass().getField(day + \"Start\").get(t);\n        } catch (NoSuchFieldException | SecurityException | IllegalAccessException ex) Logger.getLogger(DBHandler.class.getName()).log(Level.SEVERE, null, ex); }\n</code></pre>\n\n<p>The error is on the line <code>Time startTime = (Time)t.getClass().getField(day + \"Start\").get(t);</code></p>\n\n<p>I don't understand this error, because monStart is a field of the <code>Tutor</code> class: </p>\n\n<pre><code>Public class Tutor implements Serializable {\nprivate static final long serialVersionUID = 1L;\n@Id\n@Basic(optional = false)\n@NotNull\n@Column(name = \"tutorID\")\nprivate Integer tutorID;\n\n.... \n\n@Column(name = \"monStart\")\n@Temporal(TemporalType.TIME)\n Date monStart;\n</code></pre>\n\n<p>I'm just learning to use reflection, so I'm sure this is some sort of a syntactical error...</p>\n"},{"tags":["java","nfc","qr-code","scanning"],"comments":[{"owner":{"account_id":26468897,"reputation":15,"user_id":20109764,"display_name":"takis Paras"},"score":0,"creation_date":1696853211,"post_id":77258684,"comment_id":136201929,"body_markdown":"Ive already made an implementation that makes the problem exist. Ive implemented a camera section at my mobile screen so when i open it and scan a QR Code then it shows me the result. Also Ive implemented the NFC section that when I scan an NFC also shows me the info. The problem comes when I include both of them at my layout, then only the QR scanner is playing and the NFC is not recognisable at all from my logs","body":"Ive already made an implementation that makes the problem exist. Ive implemented a camera section at my mobile screen so when i open it and scan a QR Code then it shows me the result. Also Ive implemented the NFC section that when I scan an NFC also shows me the info. The problem comes when I include both of them at my layout, then only the QR scanner is playing and the NFC is not recognisable at all from my logs"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696853520,"post_id":77258684,"comment_id":136201994,"body_markdown":"That information would already improve the question. You can improve it even further by showing the code that causes the problem.","body":"That information would already improve the question. You can improve it even further by showing the code that causes the problem."},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1696854200,"post_id":77258684,"comment_id":136202142,"body_markdown":"Probably duplicate of https://stackoverflow.com/q/76520588/2373819 It&#39;s seems a hardware issue.","body":"Probably duplicate of <a href=\"https://stackoverflow.com/q/76520588/2373819\">stackoverflow.com/q/76520588/2373819</a> It&#39;s seems a hardware issue."}],"owner":{"account_id":26468897,"reputation":15,"user_id":20109764,"display_name":"takis Paras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696852966,"creation_date":1696852966,"question_id":77258684,"body_markdown":"I&#39;m trying to make an application in Java that will handle qr Scanning from my camera and also Nfc scanning . I&#39;ve seen that android 11 bring problem that when I will open the camera then the NFC ability to scan will get disabled. Anyone know if this issue trully exist? And how can I solve it to make them both work together at the same time?","title":"Can I use NFC Scanner and QR scanner simultaneously in my Java app?","body":"<p>I'm trying to make an application in Java that will handle qr Scanning from my camera and also Nfc scanning . I've seen that android 11 bring problem that when I will open the camera then the NFC ability to scan will get disabled. Anyone know if this issue trully exist? And how can I solve it to make them both work together at the same time?</p>\n"},{"tags":["java","spring","web","intellij-idea","thymeleaf"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1507060720,"post_id":38710585,"comment_id":80059344,"body_markdown":"This should be fixed in IntelliJ 2013.3, see my edited answer.","body":"This should be fixed in IntelliJ 2013.3, see my edited answer."}],"answers":[{"tags":[],"owner":{"account_id":6540819,"reputation":1279,"user_id":5058466,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1470141318,"creation_date":1470141318,"answer_id":38720588,"question_id":38710585,"body_markdown":"This is a problem with IntelliJ: [IDEA-132738][1]. \r\n\r\nBasically IntelliJ is unable to locate the model variables when Spring Boot has been used to autoconfigure everything.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-132738","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This is a problem with IntelliJ: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"noreferrer\">IDEA-132738</a>. </p>\n\n<p>Basically IntelliJ is unable to locate the model variables when Spring Boot has been used to autoconfigure everything.</p>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1654598429,"creation_date":1498656948,"answer_id":44804086,"question_id":38710585,"body_markdown":"# Prerequisites\r\n\r\n* Thymeleaf plugin is installed\r\n* The `html` element has an XML namespace declaration for `th` that is set   to `http://www.thymeleaf.org` (with `www.`), for example:\r\n\r\n   ```\r\n   &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n   ```\r\n\r\n# IntelliJ version &gt;= 2017.3\r\n\r\nDetection should work automatically. However, some people complain that it still does not work for them), the issue [IDEA-132738][2] should be fixed (@FloatOverflow: &quot;I confirm that in version 2017.3 build 25.Oct.2017 the problem has been solved&quot;):\r\n\r\n&gt; Status 2017.3\r\n&gt;\r\n&gt; Support for Spring Boot autoconfigured MVC applications is complete, all bundled autoconfiguration view types are supported.\r\n&gt;\r\n&gt; Fix versions: 2017.3\r\n\r\nIf variables are not automatically detected you can still add the `@thymesVar` annotation as shown below.\r\n\r\n# IntelliJ version &lt; 2017.3\r\n\r\nIt is, as [Andrew wrote][1], a known error [IDEA-132738][2]. There is a workaround how to get rid of the error marks in the IDE. IntelliJ also supports the semi-automatic generation of the below mentioned code: \r\n\r\n&gt; You can use &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; shortcut to invoke intention &quot;Declare external variable in comment annotation&quot; in order to get rid of &quot;unresolved model attribute&quot; in your views.\r\n\r\nAdd the following code to your `html` file:\r\n\r\n    &lt;!--/* Workaround for bug https://youtrack.jetbrains.com/issue/IDEA-132738 --&gt;\r\n        &lt;!--@thymesVar id=&quot;post&quot; type=&quot;your.package.Post&quot;--&gt;\r\n        &lt;!--@thymesVar id=&quot;title&quot; type=&quot;String&quot;--&gt;\r\n        &lt;!--@thymesVar id=&quot;content&quot; type=&quot;String&quot;--&gt;\r\n    &lt;!--*/--&gt;\r\n\r\nIf you use extensions objects constructed automatically by ThymeLeaf, such as `#temporals` from `thymeleaf-extras-java8time` for conversion of `java.time` objects:\r\n\r\n    &lt;span th:text=&quot;${#temporals.format(person.birthDate,&#39;yyyy-MM-dd&#39;)}&quot;&gt;&lt;/span&gt;\r\n\r\nand IntelliJ cannot resolve them, use similar code, and just add `#` in front of the object name:\r\n\r\n    &lt;!--@thymesVar id=&quot;#temporals&quot; type=&quot;org.thymeleaf.extras.java8time.expression.Temporals&quot;--&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38720588/2886891\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-132738","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<h1>Prerequisites</h1>\n<ul>\n<li><p>Thymeleaf plugin is installed</p>\n</li>\n<li><p>The <code>html</code> element has an XML namespace declaration for <code>th</code> that is set   to <code>http://www.thymeleaf.org</code> (with <code>www.</code>), for example:</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n</code></pre>\n</li>\n</ul>\n<h1>IntelliJ version &gt;= 2017.3</h1>\n<p>Detection should work automatically. However, some people complain that it still does not work for them), the issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"nofollow noreferrer\">IDEA-132738</a> should be fixed (@FloatOverflow: &quot;I confirm that in version 2017.3 build 25.Oct.2017 the problem has been solved&quot;):</p>\n<blockquote>\n<p>Status 2017.3</p>\n<p>Support for Spring Boot autoconfigured MVC applications is complete, all bundled autoconfiguration view types are supported.</p>\n<p>Fix versions: 2017.3</p>\n</blockquote>\n<p>If variables are not automatically detected you can still add the <code>@thymesVar</code> annotation as shown below.</p>\n<h1>IntelliJ version &lt; 2017.3</h1>\n<p>It is, as <a href=\"https://stackoverflow.com/a/38720588/2886891\">Andrew wrote</a>, a known error <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"nofollow noreferrer\">IDEA-132738</a>. There is a workaround how to get rid of the error marks in the IDE. IntelliJ also supports the semi-automatic generation of the below mentioned code:</p>\n<blockquote>\n<p>You can use <kbd>Alt</kbd>+<kbd>Enter</kbd> shortcut to invoke intention &quot;Declare external variable in comment annotation&quot; in order to get rid of &quot;unresolved model attribute&quot; in your views.</p>\n</blockquote>\n<p>Add the following code to your <code>html</code> file:</p>\n<pre><code>&lt;!--/* Workaround for bug https://youtrack.jetbrains.com/issue/IDEA-132738 --&gt;\n    &lt;!--@thymesVar id=&quot;post&quot; type=&quot;your.package.Post&quot;--&gt;\n    &lt;!--@thymesVar id=&quot;title&quot; type=&quot;String&quot;--&gt;\n    &lt;!--@thymesVar id=&quot;content&quot; type=&quot;String&quot;--&gt;\n&lt;!--*/--&gt;\n</code></pre>\n<p>If you use extensions objects constructed automatically by ThymeLeaf, such as <code>#temporals</code> from <code>thymeleaf-extras-java8time</code> for conversion of <code>java.time</code> objects:</p>\n<pre><code>&lt;span th:text=&quot;${#temporals.format(person.birthDate,'yyyy-MM-dd')}&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>and IntelliJ cannot resolve them, use similar code, and just add <code>#</code> in front of the object name:</p>\n<pre><code>&lt;!--@thymesVar id=&quot;#temporals&quot; type=&quot;org.thymeleaf.extras.java8time.expression.Temporals&quot;--&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9923697,"reputation":818,"user_id":7346048,"display_name":"user7346048"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1513326908,"creation_date":1513326908,"answer_id":47828528,"question_id":38710585,"body_markdown":"I want to add one more thing. As stated above, the issue has been fixed in **IntelliJ 2017.3**. I can also confirm this.\r\n\r\nHowever, I noticed that this is only true if you define all your attributes **directly** inside the responsible controller function, like e.g. this:\r\n\r\n    @RequestMapping(value = &quot;/userinput&quot;)\r\n    public String showUserForm(Model model){\r\n        model.addAttribute(&quot;method&quot;, &quot;post&quot;);\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;userform&quot;;\r\n    }\r\n\r\nIf you are using a sub-function in which you define the model attributes (see **Example** below), IntelliJ can still not find the attributes in the HTML template.\r\n\r\n**Example**:\r\n\r\n    @RequestMapping(value = &quot;/userinput&quot;)\r\n    public String showUserForm(Model model){\r\n        return doIt(model);\r\n    }\r\n\r\n    private String doIt(Model model) {\r\n        model.addAttribute(&quot;method&quot;, &quot;post&quot;);\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;userform&quot;;\r\n    }\r\n\r\nSo, always make sure you put your code directly inside the view function!","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I want to add one more thing. As stated above, the issue has been fixed in <strong>IntelliJ 2017.3</strong>. I can also confirm this.</p>\n\n<p>However, I noticed that this is only true if you define all your attributes <strong>directly</strong> inside the responsible controller function, like e.g. this:</p>\n\n<pre><code>@RequestMapping(value = \"/userinput\")\npublic String showUserForm(Model model){\n    model.addAttribute(\"method\", \"post\");\n    model.addAttribute(\"user\", new User());\n    return \"userform\";\n}\n</code></pre>\n\n<p>If you are using a sub-function in which you define the model attributes (see <strong>Example</strong> below), IntelliJ can still not find the attributes in the HTML template.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>@RequestMapping(value = \"/userinput\")\npublic String showUserForm(Model model){\n    return doIt(model);\n}\n\nprivate String doIt(Model model) {\n    model.addAttribute(\"method\", \"post\");\n    model.addAttribute(\"user\", new User());\n    return \"userform\";\n}\n</code></pre>\n\n<p>So, always make sure you put your code directly inside the view function!</p>\n"},{"tags":[],"owner":{"account_id":12044286,"reputation":9,"user_id":8809957,"display_name":"zoukun"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1523015097,"creation_date":1523004861,"answer_id":49688997,"question_id":38710585,"body_markdown":"This feature is supported in the Ultimate edition only.\r\n\r\n[Click here][1] for more details\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2017.1/thymeleaf.html","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This feature is supported in the Ultimate edition only.</p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/2017.1/thymeleaf.html\" rel=\"nofollow noreferrer\">Click here</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":2823122,"reputation":248,"user_id":2426383,"display_name":"Ekkelenkamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525348736,"creation_date":1525348736,"answer_id":50154592,"question_id":38710585,"body_markdown":"In my case the problem was that I had the following in my application.properties:\r\n\r\n    spring.thymeleaf.prefix=file:src/main/resources/templates/\r\n    \r\n    spring.thymeleaf.cache=false\r\n\r\nOnce I removed these properties, the spring mvc mappings are detected by Intellij again (in the Ultimate version, I&#39;m using 2018.1). Also the thymeleaf objects are working now.\r\n\r\nI used these properties to support fast development where a refresh would reload the thymeleaf template files.\r\n\r\nTo solve this issue, I use the following -D option in my run configuration of my spring boot application to tell spring boot where my property files are during development:\r\n\r\n    -Dspring.config.location=/dev/application/conf/application.properties\r\n\r\n\r\n","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>In my case the problem was that I had the following in my application.properties:</p>\n\n<pre><code>spring.thymeleaf.prefix=file:src/main/resources/templates/\n\nspring.thymeleaf.cache=false\n</code></pre>\n\n<p>Once I removed these properties, the spring mvc mappings are detected by Intellij again (in the Ultimate version, I'm using 2018.1). Also the thymeleaf objects are working now.</p>\n\n<p>I used these properties to support fast development where a refresh would reload the thymeleaf template files.</p>\n\n<p>To solve this issue, I use the following -D option in my run configuration of my spring boot application to tell spring boot where my property files are during development:</p>\n\n<pre><code>-Dspring.config.location=/dev/application/conf/application.properties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553770216,"creation_date":1553770216,"answer_id":55395723,"question_id":38710585,"body_markdown":"There is one more interesting situation ,if you DONT return directly the object from your controller ,Intellij will not recognize the variable ,but she will still work ","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>There is one more interesting situation ,if you DONT return directly the object from your controller ,Intellij will not recognize the variable ,but she will still work </p>\n"},{"tags":[],"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554127505,"creation_date":1554127505,"answer_id":55457082,"question_id":38710585,"body_markdown":"Manually enabling it, worked for me in Intellij 2018.1.6 Ultimate Edition. Steps followed\r\n\r\n 1. Open the Project tool window (e.g. View | Tool Windows | Project). \r\n   \r\n 2. Right-click the project or the module folder and select Add\r\n        Framework Support.\r\n 3. In the left-hand pane of the Add Frameworks\r\n        Support dialog that opens, select the Thymeleaf checkbox.\r\n\r\nOfficial reference : https://www.jetbrains.com/help/idea/thymeleaf.html#0c8052be ","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>Manually enabling it, worked for me in Intellij 2018.1.6 Ultimate Edition. Steps followed</p>\n\n<ol>\n<li><p>Open the Project tool window (e.g. View | Tool Windows | Project). </p></li>\n<li><p>Right-click the project or the module folder and select Add\n    Framework Support.</p></li>\n<li>In the left-hand pane of the Add Frameworks\n    Support dialog that opens, select the Thymeleaf checkbox.</li>\n</ol>\n\n<p>Official reference : <a href=\"https://www.jetbrains.com/help/idea/thymeleaf.html#0c8052be\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/thymeleaf.html#0c8052be</a> </p>\n"},{"tags":[],"owner":{"account_id":8744779,"reputation":757,"user_id":6540488,"display_name":"Mustapha El Kojji"},"down_vote_count":13,"up_vote_count":67,"is_accepted":false,"score":54,"last_activity_date":1654426055,"creation_date":1557505309,"answer_id":56081436,"question_id":38710585,"body_markdown":"# Update\r\n\r\n**TL;DR:** skip to accepted answer below: https://stackoverflow.com/a/44804086/474034\r\n\r\nAs mentioned in the comments by multiple people, this solution is not correct. The Thymeleaf documentation (see http://thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html), have in all their examples a version with `www.` included:\r\n\r\n```html\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n```\r\n\r\nSee also the [Standard-Dialect.xml](https://github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/resources/org/thymeleaf/xml/thymeleaf/Standard-Dialect.xml) on Github, which declares `namespace-uri` as:\r\n\r\n```xml\r\nnamespace-uri=&quot;http://www.thymeleaf.org&quot; \r\n```\r\n\r\n# Original Answer\r\n\r\nI had two different portions of code: the first was showing the error and the second was not doing it.\r\nI observed that there is a difference in the **xmlns:th** attribute.\r\n\r\n**First Page: Not working!**\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n\r\n**Second Page: Working!**\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n\r\n\r\nI removed the **www.** and it works for me!","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<h1>Update</h1>\n<p><strong>TL;DR:</strong> skip to accepted answer below: <a href=\"https://stackoverflow.com/a/44804086/474034\">https://stackoverflow.com/a/44804086/474034</a></p>\n<p>As mentioned in the comments by multiple people, this solution is not correct. The Thymeleaf documentation (see <a href=\"http://thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\" rel=\"noreferrer\">http://thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a>), have in all their examples a version with <code>www.</code> included:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n</code></pre>\n<p>See also the <a href=\"https://github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/resources/org/thymeleaf/xml/thymeleaf/Standard-Dialect.xml\" rel=\"noreferrer\">Standard-Dialect.xml</a> on Github, which declares <code>namespace-uri</code> as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>namespace-uri=&quot;http://www.thymeleaf.org&quot; \n</code></pre>\n<h1>Original Answer</h1>\n<p>I had two different portions of code: the first was showing the error and the second was not doing it.\nI observed that there is a difference in the <strong>xmlns:th</strong> attribute.</p>\n<p><strong>First Page: Not working!</strong></p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n</code></pre>\n<p><strong>Second Page: Working!</strong></p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\n</code></pre>\n<p>I removed the <strong>www.</strong> and it works for me!</p>\n"},{"tags":[],"owner":{"account_id":11152696,"reputation":105,"user_id":8185392,"display_name":"samet kaya"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1623877279,"creation_date":1623877279,"answer_id":68009948,"question_id":38710585,"body_markdown":"This problem comes from thymeleaf web link.\r\n\r\nThe problem:`xmlns:th=&quot;http://www.thymeleaf.org&quot;`\r\n\r\n[![This is problem link:][1]][1]\r\n\r\n[![This is error area:][2]][2]\r\n\r\nThe solution: `xmlns:th=&quot;http://thymeleaf.org&quot;`\r\n\r\n[![Solution link][3]][3]\r\n\r\n[![Error is gone][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ThfmI.png\r\n  [2]: https://i.stack.imgur.com/MbALE.png\r\n  [3]: https://i.stack.imgur.com/S2J1j.png\r\n  [4]: https://i.stack.imgur.com/eHFLL.png","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This problem comes from thymeleaf web link.</p>\n<p>The problem:<code>xmlns:th=&quot;http://www.thymeleaf.org&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/ThfmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ThfmI.png\" alt=\"This is problem link:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MbALE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbALE.png\" alt=\"This is error area:\" /></a></p>\n<p>The solution: <code>xmlns:th=&quot;http://thymeleaf.org&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/S2J1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2J1j.png\" alt=\"Solution link\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eHFLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eHFLL.png\" alt=\"Error is gone\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630336206,"creation_date":1630336206,"answer_id":68986355,"question_id":38710585,"body_markdown":"For those who come from ReactJS and want to use Springboot as a backend. \r\n\r\nI forgot to add html boilerplate code in the html, that&#39;s why I&#39;m seeing this error. don&#39;t forget adding boilerplate code. \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n        &lt;title&gt;HTML 5 Boilerplate&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n    \t&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>For those who come from ReactJS and want to use Springboot as a backend.</p>\n<p>I forgot to add html boilerplate code in the html, that's why I'm seeing this error. don't forget adding boilerplate code.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;title&gt;HTML 5 Boilerplate&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344172,"reputation":356,"user_id":676337,"display_name":"rdguam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631254711,"creation_date":1631254711,"answer_id":69128030,"question_id":38710585,"body_markdown":"This was happening to me on Ultimate 2021.2.1.\r\n\r\nIn one `@GetMapping` method, I used `@ModelAttribute(&#39;transactionForm&#39;)`.  The Thymeleaf page for that method didn&#39;t have errors.\r\n\r\nBut in another `@GetMapping` method, I didn&#39;t use `@ModelAttribute(&#39;newCustomerForm&#39;)`.  The Thymeleaf page for that method had the errors.  When I added the `@ModelAttribute` to the method, the errors went away.  And when I took it out, the errors came back.\r\n\r\nI know Spring MVC doesn&#39;t require the `@ModelAttribute` if the name of the model is the same as the class name.  So I shouldn&#39;t have to do this, and I&#39;m only doing this to appease the IDE.","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This was happening to me on Ultimate 2021.2.1.</p>\n<p>In one <code>@GetMapping</code> method, I used <code>@ModelAttribute('transactionForm')</code>.  The Thymeleaf page for that method didn't have errors.</p>\n<p>But in another <code>@GetMapping</code> method, I didn't use <code>@ModelAttribute('newCustomerForm')</code>.  The Thymeleaf page for that method had the errors.  When I added the <code>@ModelAttribute</code> to the method, the errors went away.  And when I took it out, the errors came back.</p>\n<p>I know Spring MVC doesn't require the <code>@ModelAttribute</code> if the name of the model is the same as the class name.  So I shouldn't have to do this, and I'm only doing this to appease the IDE.</p>\n"},{"tags":[],"owner":{"display_name":"user14560339"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644365350,"creation_date":1644365350,"answer_id":71042478,"question_id":38710585,"body_markdown":"I had the same problem and fixed it (ultimate 2021.3.2).\r\nIntellij has a hard time guessing the type of the attribute(s).\r\n\r\nKeep **www** in the namespace xmlns:th=&quot;http://www.thymeleaf.org&quot; otherwise Intellij won&#39;t parse thymeleaf tags\r\n\r\nIf you initialize one model in a controler,\r\n\r\n - don&#39;t use a method&#39;s return, declare a variable\r\n\r\n       String titre=post.getTitle();\r\n       model.addAttribute(&quot;title&quot;,titre);\r\n\r\n - don&#39;t add attributes through sub methods, keep it in the main block\r\n\r\n       @GetMapping(&quot;/book&quot;)\r\n       public String ver(Model model) {\r\n       ...\r\n       model.addAttribute(&quot;title&quot;, title);\r\n       return &quot;frontpage&quot;;\r\n       }\r\n\r\n - and don&#39;t use complex operator like the ternary one \r\n\r\n       model.addAttribute(&quot;titles&quot;, titles.size() &gt; 0 ? titles : null);\r\n\r\nIf you initialize 2 or 3 models in you controler,\r\ndon&#39;t push null values \r\n\r\n    model.addAttribute(&quot;employees&quot;, null); ","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I had the same problem and fixed it (ultimate 2021.3.2).\nIntellij has a hard time guessing the type of the attribute(s).</p>\n<p>Keep <strong>www</strong> in the namespace xmlns:th=&quot;http://www.thymeleaf.org&quot; otherwise Intellij won't parse thymeleaf tags</p>\n<p>If you initialize one model in a controler,</p>\n<ul>\n<li><p>don't use a method's return, declare a variable</p>\n<pre><code>String titre=post.getTitle();\nmodel.addAttribute(&quot;title&quot;,titre);\n</code></pre>\n</li>\n<li><p>don't add attributes through sub methods, keep it in the main block</p>\n<pre><code>@GetMapping(&quot;/book&quot;)\npublic String ver(Model model) {\n...\nmodel.addAttribute(&quot;title&quot;, title);\nreturn &quot;frontpage&quot;;\n}\n</code></pre>\n</li>\n<li><p>and don't use complex operator like the ternary one</p>\n<pre><code>model.addAttribute(&quot;titles&quot;, titles.size() &gt; 0 ? titles : null);\n</code></pre>\n</li>\n</ul>\n<p>If you initialize 2 or 3 models in you controler,\ndon't push null values</p>\n<pre><code>model.addAttribute(&quot;employees&quot;, null); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650899640,"creation_date":1650899640,"answer_id":72001819,"question_id":38710585,"body_markdown":"I was resolve like following\r\nclick **Alt + Enter**\r\n\r\nLets try it!!!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uZfqX.png","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I was resolve like following\nclick <strong>Alt + Enter</strong></p>\n<p>Lets try it!!!</p>\n<p><a href=\"https://i.stack.imgur.com/uZfqX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uZfqX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17455756,"reputation":1,"user_id":12654661,"display_name":"Алексей Шелест"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678650334,"creation_date":1678650278,"answer_id":75715936,"question_id":38710585,"body_markdown":"In spring boot + thymeleaf, after adding a custom bean, everything worked. Hope it helps someone!\r\n\r\n\r\n\r\nhttps://i.stack.imgur.com/M8Z6l.png","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>In spring boot + thymeleaf, after adding a custom bean, everything worked. Hope it helps someone!</p>\n<p><a href=\"https://i.stack.imgur.com/M8Z6l.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/M8Z6l.png</a></p>\n"},{"tags":[],"owner":{"account_id":16885396,"reputation":93,"user_id":12210331,"display_name":"Vladimir Titov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695211777,"creation_date":1695210539,"answer_id":77142104,"question_id":38710585,"body_markdown":"I was able to fix this with using another spring-boot-parent version\r\n\r\n\r\n(2.3.2 working version) previously was 2.7.15 (not working)\r\n```\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n```","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I was able to fix this with using another spring-boot-parent version</p>\n<p>(2.3.2 working version) previously was 2.7.15 (not working)</p>\n<pre><code>&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29618100,"reputation":1,"user_id":22699738,"display_name":"windows windows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696851993,"creation_date":1696663653,"answer_id":77248809,"question_id":38710585,"body_markdown":"All problems can be fixed this bean related to Thymeleaf\r\n\r\n```java\r\n@Bean\r\npublic ClassLoaderTemplateResolver templateResolver() {\r\n    ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n    templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n    templateResolver.setSuffix(&quot;.html&quot;);\r\n    templateResolver.setTemplateMode(TemplateMode.HTML);\r\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    templateResolver.setCheckExistence(true);\r\n    return templateResolver;\r\n}\r\n```","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>All problems can be fixed this bean related to Thymeleaf</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ClassLoaderTemplateResolver templateResolver() {\n    ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n    templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    templateResolver.setCheckExistence(true);\n    return templateResolver;\n}\n</code></pre>\n"}],"owner":{"account_id":8934079,"reputation":425,"user_id":6665561,"display_name":"Shuhan Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71635,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":44804086,"answer_count":16,"score":42,"last_activity_date":1696851993,"creation_date":1470102271,"question_id":38710585,"body_markdown":"I&#39;m writing a short web form application using spring boot and thymeleaf on IntelliJ, but it seems that in the html file, all fields in the model cannot be resolved. Here is my code:\r\n\r\nController class:\r\n\r\n    @Controller\r\n    public class IndexController{\r\n    \r\n        @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n        public String index(){\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;/&quot;, method = RequestMethod.POST)\r\n        public String addNewPost(@Valid Post post, BindingResult bindingResult, Model model){\r\n            if(bindingResult.hasErrors()){\r\n                return &quot;index&quot;;\r\n            }\r\n            model.addAttribute(&quot;title&quot;,post.getTitle());\r\n            model.addAttribute(&quot;content&quot;,post.getContent());\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nModel Class:\r\n\r\n    public class Post {\r\n    \r\n        @Size(min=4, max=35)\r\n        private String title;\r\n    \r\n        @Size(min=30, max=1000)\r\n        private String content;\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getContent() {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent(String content) {\r\n            this.content = content;\r\n        }\r\n    }\r\n\r\n\r\nThen is the index.html:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head lang=&quot;en&quot;&gt;\r\n    \r\n        &lt;title&gt;Spring Framework Leo&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;h3&gt;Spring Boot and Thymeleaf&lt;/h3&gt;\r\n    \r\n    \r\n        &lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot;  th:object=&quot;${post}&quot; method=&quot;post&quot;&gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Title:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{title}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td th:if=&quot;${#fields.hasErrors(&#39;title&#39;)}&quot; th:errors=&quot;*{title}&quot;&gt;Title error message&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Content:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{content}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td th:if=&quot;${#fields.hasErrors(&#39;content&#39;)}&quot; th:errors=&quot;*{content}&quot;&gt;Content error message&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;button type=&quot;submit&quot;&gt;Submit post&lt;/button&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form&gt;\r\n\r\nThere are always red lines under &quot;post&quot;, &quot;title&quot;  and &quot;content&quot;, but I don&#39;t know how to solve it. Is it a problem of IntelliJ or just a problem of my code?\r\n","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I'm writing a short web form application using spring boot and thymeleaf on IntelliJ, but it seems that in the html file, all fields in the model cannot be resolved. Here is my code:</p>\n\n<p>Controller class:</p>\n\n<pre><code>@Controller\npublic class IndexController{\n\n    @RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String index(){\n        return \"index\";\n    }\n\n    @RequestMapping(value=\"/\", method = RequestMethod.POST)\n    public String addNewPost(@Valid Post post, BindingResult bindingResult, Model model){\n        if(bindingResult.hasErrors()){\n            return \"index\";\n        }\n        model.addAttribute(\"title\",post.getTitle());\n        model.addAttribute(\"content\",post.getContent());\n        return \"hello\";\n    }\n}\n</code></pre>\n\n<p>Model Class:</p>\n\n<pre><code>public class Post {\n\n    @Size(min=4, max=35)\n    private String title;\n\n    @Size(min=30, max=1000)\n    private String content;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n}\n</code></pre>\n\n<p>Then is the index.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head lang=\"en\"&gt;\n\n    &lt;title&gt;Spring Framework Leo&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h3&gt;Spring Boot and Thymeleaf&lt;/h3&gt;\n\n\n    &lt;form action=\"#\" th:action=\"@{/}\"  th:object=\"${post}\" method=\"post\"&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Title:&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"text\" th:field=\"*{title}\" /&gt;&lt;/td&gt;\n                &lt;td th:if=\"${#fields.hasErrors('title')}\" th:errors=\"*{title}\"&gt;Title error message&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Content:&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"text\" th:field=\"*{content}\" /&gt;&lt;/td&gt;\n                &lt;td th:if=\"${#fields.hasErrors('content')}\" th:errors=\"*{content}\"&gt;Content error message&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;button type=\"submit\"&gt;Submit post&lt;/button&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>There are always red lines under \"post\", \"title\"  and \"content\", but I don't know how to solve it. Is it a problem of IntelliJ or just a problem of my code?</p>\n"},{"tags":["java","android","glsurfaceview","easyar"],"comments":[{"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"score":0,"creation_date":1696851834,"post_id":77258518,"comment_id":136201693,"body_markdown":"The error message eglQueryContext 32c0 EGL_BAD_ATTRIBUTE indicates that the EasyAR library is trying to query a context attribute that is not supported by the GPU. This can happen for a variety of reasons, but it is often caused by a bug in the EasyAR library itself.","body":"The error message eglQueryContext 32c0 EGL_BAD_ATTRIBUTE indicates that the EasyAR library is trying to query a context attribute that is not supported by the GPU. This can happen for a variety of reasons, but it is often caused by a bug in the EasyAR library itself."}],"owner":{"account_id":24363814,"reputation":11,"user_id":18297819,"display_name":"pyroblinchik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696851362,"creation_date":1696851362,"question_id":77258518,"body_markdown":"I have app with AR functionality and I&#39;m using EasyAR lib for ar and GLSurfaceView for camera preview. When android:hardwareAccelerated=&quot;false&quot; in my app it works correctly, but when I switch it to true, I have &quot;white noise&quot; in my preview screen and this errors:\r\n\r\n\r\n\r\n    eglQueryContext 32c0  EGL_BAD_ATTRIBUTE\r\n    eglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)\r\n    \r\n    updateAcquireFence: Did not find frame.\r\n    bindTextureImage: clearing GL error: 0x500\r\n    device/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892\r\n    GL error 0x500 condition\r\n    [!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\r\n    \r\n    device/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892                                                                                                    GL error 0x500 condition\r\n    [!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\r\n    \r\n    eglQueryContext 32c0  EGL_BAD_ATTRIBUTE\r\n    tid 27715: eglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)","title":"EGL_BAD_ATTRIBUTE error while using GlSurfaceView","body":"<p>I have app with AR functionality and I'm using EasyAR lib for ar and GLSurfaceView for camera preview. When android:hardwareAccelerated=&quot;false&quot; in my app it works correctly, but when I switch it to true, I have &quot;white noise&quot; in my preview screen and this errors:</p>\n<pre><code>eglQueryContext 32c0  EGL_BAD_ATTRIBUTE\neglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)\n\nupdateAcquireFence: Did not find frame.\nbindTextureImage: clearing GL error: 0x500\ndevice/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892\nGL error 0x500 condition\n[!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\n\ndevice/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892                                                                                                    GL error 0x500 condition\n[!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\n\neglQueryContext 32c0  EGL_BAD_ATTRIBUTE\ntid 27715: eglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","parallel-processing","testng"],"answers":[{"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535451990,"creation_date":1535449783,"answer_id":52054910,"question_id":52054644,"body_markdown":"You have to define TestNG annotation in each class which you will call to Execute. You can not define @BeforeClass @AfterClass annotation in BaseTest. What you can call is BaseTest method. Refer your code with Example:\r\n\r\n    public class BaseTest {\r\n    \r\n        public WebDriver driver;\r\n        public WebDriverWait wait;\r\n    \r\n        public void setup() {\r\n            ....\r\n        }\r\n        \r\n        public void teardown() {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n   \r\n\r\n     public class HomePageHotelsSearchTest extends BaseTest {    \r\n      \r\n        @BeforeClass\r\n        public void startTest(){\r\n        setup(); \r\n        }\r\n        \r\n        @Test\r\n        public void giveNameProperly() {\r\n                ...\r\n        }\r\n        \r\n        @AfterClass\r\n        public void stopTest(){\r\n        teardown();\r\n        }\r\n    }\r\nYou can directly call BaseTest methods without object, As you have extend BaseTest class.\r\n\r\n----------\r\n\r\n\r\n     public class HomePageHotelsSearchTest {\r\n    \r\n        BaseTest testObj = new BaseTest();\r\n\r\n        @BeforeClass\r\n        public void startTest(){\r\n        testObj.setup(); \r\n        }\r\n        \r\n        @Test\r\n        public void giveNameProperly() {\r\n                ...\r\n        }\r\n        \r\n        @AfterClass\r\n        public void stopTest(){\r\n        testObj.teardown();\r\n        }    \r\n     }\r\n\r\nIf you not extending BaseTest class, You need to call those method with reference to object. \r\n\r\n\r\nThus, in each class there must be @BeforeClass and @AfterClass annotation, So TestNG will call it before @Test execution. ","title":"TestNg parallel tests/classes when using base test class","body":"<p>You have to define TestNG annotation in each class which you will call to Execute. You can not define @BeforeClass @AfterClass annotation in BaseTest. What you can call is BaseTest method. Refer your code with Example:</p>\n\n<pre><code>public class BaseTest {\n\n    public WebDriver driver;\n    public WebDriverWait wait;\n\n    public void setup() {\n        ....\n    }\n\n    public void teardown() {\n        driver.quit();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code> public class HomePageHotelsSearchTest extends BaseTest {    \n\n    @BeforeClass\n    public void startTest(){\n    setup(); \n    }\n\n    @Test\n    public void giveNameProperly() {\n            ...\n    }\n\n    @AfterClass\n    public void stopTest(){\n    teardown();\n    }\n}\n</code></pre>\n\n<p>You can directly call BaseTest methods without object, As you have extend BaseTest class.</p>\n\n<hr>\n\n<pre><code> public class HomePageHotelsSearchTest {\n\n    BaseTest testObj = new BaseTest();\n\n    @BeforeClass\n    public void startTest(){\n    testObj.setup(); \n    }\n\n    @Test\n    public void giveNameProperly() {\n            ...\n    }\n\n    @AfterClass\n    public void stopTest(){\n    testObj.teardown();\n    }    \n }\n</code></pre>\n\n<p>If you not extending BaseTest class, You need to call those method with reference to object. </p>\n\n<p>Thus, in each class there must be @BeforeClass and @AfterClass annotation, So TestNG will call it before @Test execution. </p>\n"},{"tags":[],"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535458554,"creation_date":1535458554,"answer_id":52057660,"question_id":52054644,"body_markdown":"Thank you all for quick replies, it&#39;s working now :-)\r\n\r\nWell, basically now BaseTest class has only methods to initiate/create webdriver objects and start browser session. Later test classes have their own instances of webdriver and use those methods to initiate them ","title":"TestNg parallel tests/classes when using base test class","body":"<p>Thank you all for quick replies, it's working now :-)</p>\n\n<p>Well, basically now BaseTest class has only methods to initiate/create webdriver objects and start browser session. Later test classes have their own instances of webdriver and use those methods to initiate them </p>\n"}],"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2442,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696851143,"creation_date":1535448963,"question_id":52054644,"body_markdown":"I&#39;m trying to run tests in parallel by using TestNg. I have 3 classes (two test classes which extend BaseTest class)\r\n\r\nThe BaseTest class has only &quot;setup&quot; stuff and &quot;teardown&quot;, nothing else.\r\n\r\nWhen i try to run tests in parallel like this, one class with tests runs and for other class only a browser is opened (but test isn&#39;t executed)\r\n\r\nBut!! when i cut code from BaseTest class and put it directly to each of my test classes (and thus not extending BaseClass) then the code works and tests run in parallel\r\n\r\nwhy?? I&#39;m not doing any code change at all... and when i wish to run tests not in parallel(just one by one), then using extend of BaseTest class works just fine\r\n\r\nin testing.xml tried to put parallel=&quot;methods&quot; &quot;tests&quot;,&quot;true&quot;...\r\n\r\nbelow are my classes and testing.xml\r\n\r\n-----------------------\r\n\r\n    public class BaseTest {\r\n    \r\n        public static WebDriver driver;\r\n        public static WebDriverWait wait;\r\n    \r\n        @BeforeClass\r\n        public static void setup() {\r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\files\\\\geckodriver.exe&quot;);\r\n    \r\n            driver = new FirefoxDriver();\r\n    \r\n            wait = new WebDriverWait(driver, 10);\r\n    \r\n            driver.manage().window().maximize();\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void teardown() {\r\n            driver.quit();\r\n        }\r\n    }\r\n    \r\n    -----------------------\r\n    public class HomePageHotelsSearchTest extends BaseTest {\r\n    \r\n        @Test\r\n        public void giveNameProperly() throws IOException {\r\n            HomePage homePage = new HomePage(driver, wait);\r\n    \r\n            homePage.openUrl(&quot;https://www.phptravels.net/&quot;);\r\n    \r\n            homePage.openHotelsSearchTab();\r\n            homePage.inputCityInHotelsSearch(&quot;London&quot;);\r\n            homePage.selectCityFromSearchResult(0);\r\n            homePage.inputCheckInDateInHotelsSearch(&quot;23/08/2018&quot;);\r\n            homePage.inputCheckOutDateInHotelsSearch(&quot;27/08/2018&quot;);\r\n            homePage.openPeopleAmountTabInHotelsSearch();\r\n            homePage.addAdultsInHotelsSearch(1);\r\n            homePage.startSearchingHotels();\r\n            homePage.elementClickable(By.linkText(&quot;Grand Plaza Apartments&quot;));\r\n    \r\n            String firstResult = homePage.readText(By.linkText(&quot;Grand Plaza Apartments&quot;));\r\n            Assert.assertEquals(&quot;Grand Plaza Apartments&quot;, firstResult);\r\n    \r\n            //Reporter.log(&quot;Test owned!&quot;, true);\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    -----------------------\r\n    public class LoginTest extends BaseTest {\r\n    \r\n        @Test\r\n        public void loginTest() throws InterruptedException, IOException {\r\n            HomePage homePage = new HomePage(driver, wait);\r\n    \r\n            homePage.openUrl(&quot;https://www.phptravels.net/&quot;);\r\n    \r\n    \r\n            LoginPage loginPage = homePage.goToLoginPage();\r\n            loginPage.waitForPageToLoad(&quot;Login&quot;);\r\n            loginPage.inputEmail(&quot;user@phptravels.com&quot;);\r\n            loginPage.inputPassword(&quot;demouser&quot;);\r\n    \r\n            loginPage.login();\r\n    \r\n            loginPage.waitForPageToLoad(&quot;My Account&quot;);\r\n    \r\n            String myAccountPageTitle = driver.getTitle();\r\n            Assert.assertEquals(myAccountPageTitle, &quot;My Account&quot;);\r\n    \r\n            //Reporter.log(&quot;Test owned!&quot;, true);\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE suite SYSTEM &quot;http://beust.com/testng/testng-1.0.dtd&quot; &gt;\r\n        &lt;suite name=&quot;Suite&quot; thread-count=&quot;2&quot; parallel=&quot;true&quot;&gt;\r\n            &lt;test name=&quot;test1&quot;&gt;\r\n                &lt;classes&gt;\r\n                    &lt;class name=&quot;tests.LoginTest&quot; /&gt;\r\n                    &lt;class name=&quot;tests.HomePageHotelsSearchTest&quot;/&gt;\r\n                &lt;/classes&gt;\r\n            &lt;/test&gt;\r\n        &lt;/suite&gt;\r\n\r\n","title":"TestNg parallel tests/classes when using base test class","body":"<p>I'm trying to run tests in parallel by using TestNg. I have 3 classes (two test classes which extend BaseTest class)</p>\n\n<p>The BaseTest class has only \"setup\" stuff and \"teardown\", nothing else.</p>\n\n<p>When i try to run tests in parallel like this, one class with tests runs and for other class only a browser is opened (but test isn't executed)</p>\n\n<p>But!! when i cut code from BaseTest class and put it directly to each of my test classes (and thus not extending BaseClass) then the code works and tests run in parallel</p>\n\n<p>why?? I'm not doing any code change at all... and when i wish to run tests not in parallel(just one by one), then using extend of BaseTest class works just fine</p>\n\n<p>in testing.xml tried to put parallel=\"methods\" \"tests\",\"true\"...</p>\n\n<p>below are my classes and testing.xml</p>\n\n<hr>\n\n<pre><code>public class BaseTest {\n\n    public static WebDriver driver;\n    public static WebDriverWait wait;\n\n    @BeforeClass\n    public static void setup() {\n        System.setProperty(\"webdriver.gecko.driver\", System.getProperty(\"user.dir\") + \"\\\\src\\\\files\\\\geckodriver.exe\");\n\n        driver = new FirefoxDriver();\n\n        wait = new WebDriverWait(driver, 10);\n\n        driver.manage().window().maximize();\n    }\n\n    @AfterClass\n    public static void teardown() {\n        driver.quit();\n    }\n}\n\n-----------------------\npublic class HomePageHotelsSearchTest extends BaseTest {\n\n    @Test\n    public void giveNameProperly() throws IOException {\n        HomePage homePage = new HomePage(driver, wait);\n\n        homePage.openUrl(\"https://www.phptravels.net/\");\n\n        homePage.openHotelsSearchTab();\n        homePage.inputCityInHotelsSearch(\"London\");\n        homePage.selectCityFromSearchResult(0);\n        homePage.inputCheckInDateInHotelsSearch(\"23/08/2018\");\n        homePage.inputCheckOutDateInHotelsSearch(\"27/08/2018\");\n        homePage.openPeopleAmountTabInHotelsSearch();\n        homePage.addAdultsInHotelsSearch(1);\n        homePage.startSearchingHotels();\n        homePage.elementClickable(By.linkText(\"Grand Plaza Apartments\"));\n\n        String firstResult = homePage.readText(By.linkText(\"Grand Plaza Apartments\"));\n        Assert.assertEquals(\"Grand Plaza Apartments\", firstResult);\n\n        //Reporter.log(\"Test owned!\", true);\n\n    }\n\n}\n\n-----------------------\npublic class LoginTest extends BaseTest {\n\n    @Test\n    public void loginTest() throws InterruptedException, IOException {\n        HomePage homePage = new HomePage(driver, wait);\n\n        homePage.openUrl(\"https://www.phptravels.net/\");\n\n\n        LoginPage loginPage = homePage.goToLoginPage();\n        loginPage.waitForPageToLoad(\"Login\");\n        loginPage.inputEmail(\"user@phptravels.com\");\n        loginPage.inputPassword(\"demouser\");\n\n        loginPage.login();\n\n        loginPage.waitForPageToLoad(\"My Account\");\n\n        String myAccountPageTitle = driver.getTitle();\n        Assert.assertEquals(myAccountPageTitle, \"My Account\");\n\n        //Reporter.log(\"Test owned!\", true);\n\n\n    }\n\n}\n\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;!DOCTYPE suite SYSTEM \"http://beust.com/testng/testng-1.0.dtd\" &gt;\n    &lt;suite name=\"Suite\" thread-count=\"2\" parallel=\"true\"&gt;\n        &lt;test name=\"test1\"&gt;\n            &lt;classes&gt;\n                &lt;class name=\"tests.LoginTest\" /&gt;\n                &lt;class name=\"tests.HomePageHotelsSearchTest\"/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n    &lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696855721,"post_id":77258425,"comment_id":136202439,"body_markdown":"The question probably should be what&#39;s wrong with your application.","body":"The question probably should be what&#39;s wrong with your application."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696934852,"post_id":77258425,"comment_id":136213278,"body_markdown":"Do you have a specific reason to dictate the New Space size? The first thing I’d do, is to start with the minimal set of options and let the JVM do its job and only add options when I’m confident that I know better than the JVM what’s good in this specific scenario and why. Especially when there’s a large amount of Old Space to reclaim on every GC, forcing a small New Space might have been the wrong thing…","body":"Do you have a specific reason to dictate the New Space size? The first thing I’d do, is to start with the minimal set of options and let the JVM do its job and only add options when I’m confident that I know better than the JVM what’s good in this specific scenario and why. Especially when there’s a large amount of Old Space to reclaim on every GC, forcing a small New Space might have been the wrong thing…"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1697011616,"post_id":77258425,"comment_id":136224348,"body_markdown":"Adding to @Holger, maybe not setting `ms == mx`since that will turn off heap ergonomics.","body":"Adding to @Holger, maybe not setting <code>ms == mx</code>since that will turn off heap ergonomics."},{"owner":{"account_id":8164840,"reputation":121,"user_id":6147582,"display_name":"L.Maple"},"score":0,"creation_date":1697013541,"post_id":77258425,"comment_id":136224738,"body_markdown":"thanks to @Holger  and Erik , I will try to just use the default args and see what will happen. Reply later...","body":"thanks to @Holger  and Erik , I will try to just use the default args and see what will happen. Reply later..."}],"owner":{"account_id":8164840,"reputation":121,"user_id":6147582,"display_name":"L.Maple"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696851011,"creation_date":1696850625,"question_id":77258425,"body_markdown":"I have a backend service using G1 GC, which has started full gc so frequently after running about 2 days.\r\n\r\nthe original application gc params（eliminating gc log params for better readability ）:\r\n```\r\n-Xms32g -Xmx32g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1ReservePercent=15 \r\n-XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 \r\n```\r\n\r\nGC params in gc log:\r\n```\r\nOpenJDK 64-Bit Server VM (25.202-b08) for linux-amd64 JRE (1.8.0_202-b08), built on Jan 22 2019 13:35:07 by &quot;jenkins&quot; with gcc 4.8.2 20140120 (Red Hat 4.8.2-15)\r\nMemory: 4k page, physical 263567564k(2925568k free), swap 0k(0k free)\r\nCommandLine flags: \r\n-XX:CICompilerCount=15 -XX:ConcGCThreads=6 -XX:G1HeapRegionSize=16777216 (16MB)\r\n-XX:G1NewSizePercent=20 -XX:G1ReservePercent=15 -XX:InitialHeapSize=34359738368(32GB) \r\n-XX:MarkStackSize=4194304 -XX:MaxGCPauseMillis=200 -XX:MaxHeapSize=34359738368 \r\n-XX:MaxNewSize=20602421248 -XX:MinHeapDeltaBytes=16777216 \r\n-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \r\n``` \r\nand the full gc logs:\r\n```\r\n2023-10-06T08:31:44.068+0800: 659309.919: \r\n[Full GC (Allocation Failure)  23G-&gt;21G(32G), 19.5437974 secs] [Eden: 16.0M(6000.0M)-&gt;0.0B(6544.0M) Survivors: 544.0M-&gt;0.0B \r\nHeap: 23.8G(32.0G)-&gt;21.3G(32.0G)], [Metaspace: 90182K-&gt;90182K(94208K)] \r\n[Times: user=27.33 sys=1.05, real=19.54 secs] \r\n\r\n2023-10-06T09:15:45.544+0800: 661951.395: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5219354 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.4G(32.0G)], [Metaspace: 90216K-&gt;90216K(94208K)]\r\n [Times: user=19.32 sys=1.00, real=14.52 secs] \r\n\r\n2023-10-06T09:47:37.129+0800: 663862.980: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 15.0624531 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.5G(32.0G)], [Metaspace: 90217K-&gt;90199K(94208K)]\r\n [Times: user=18.48 sys=2.25, real=15.06 secs] \r\n\r\n2023-10-06T10:11:54.450+0800: 665320.301: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5384049 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90217K-&gt;90202K(94208K)]\r\n [Times: user=18.65 sys=1.60, real=14.54 secs] \r\n\r\n2023-10-06T10:36:51.857+0800: 666817.708: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1996159 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90213K-&gt;90205K(94208K)]\r\n [Times: user=18.68 sys=1.30, real=14.20 secs] \r\n\r\n2023-10-06T11:00:10.119+0800: 668215.970: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1973267 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.8G(32.0G)], [Metaspace: 90218K-&gt;90211K(94208K)]\r\n [Times: user=19.31 sys=0.77, real=14.20 secs] \r\n\r\n```\r\n\r\nthe gc param G1ReservePercent=15 means that G1 will ensure at least 15% free space as pointed in [gceasy](https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp#:~:text=The%20default%20value%20is%20200%20milliseconds.&amp;text=Sets%20the%20size%20of%20a,range%20from%201MB%20to%2032MB.)\r\n&gt; Sets the percentage of reserve memory to keep free. The default is 10 percent. G1 Garbage collectors will try to keep 10% of the heap to be free always.\r\n\r\nWhich means g1 will start a (old? mixed?) gc to match the G1ReservePercent constraint when heap grows up to about 27G (85% of 32G).\r\n\r\nBut the full gc log `31.7G(32.0G)-&gt;20.8G(32.0G)` shows that the heap has exhausted, it&#39;s too late to start a non full gc.\r\n\r\nSo what&#39;s wrong with the full gc problem and why G1ReservePercent param doesn&#39;t work.\r\n\r\n","title":"G1 Full GC events happens too often due to Allocation Failure","body":"<p>I have a backend service using G1 GC, which has started full gc so frequently after running about 2 days.</p>\n<p>the original application gc params（eliminating gc log params for better readability ）:</p>\n<pre><code>-Xms32g -Xmx32g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1ReservePercent=15 \n-XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 \n</code></pre>\n<p>GC params in gc log:</p>\n<pre><code>OpenJDK 64-Bit Server VM (25.202-b08) for linux-amd64 JRE (1.8.0_202-b08), built on Jan 22 2019 13:35:07 by &quot;jenkins&quot; with gcc 4.8.2 20140120 (Red Hat 4.8.2-15)\nMemory: 4k page, physical 263567564k(2925568k free), swap 0k(0k free)\nCommandLine flags: \n-XX:CICompilerCount=15 -XX:ConcGCThreads=6 -XX:G1HeapRegionSize=16777216 (16MB)\n-XX:G1NewSizePercent=20 -XX:G1ReservePercent=15 -XX:InitialHeapSize=34359738368(32GB) \n-XX:MarkStackSize=4194304 -XX:MaxGCPauseMillis=200 -XX:MaxHeapSize=34359738368 \n-XX:MaxNewSize=20602421248 -XX:MinHeapDeltaBytes=16777216 \n-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \n</code></pre>\n<p>and the full gc logs:</p>\n<pre><code>2023-10-06T08:31:44.068+0800: 659309.919: \n[Full GC (Allocation Failure)  23G-&gt;21G(32G), 19.5437974 secs] [Eden: 16.0M(6000.0M)-&gt;0.0B(6544.0M) Survivors: 544.0M-&gt;0.0B \nHeap: 23.8G(32.0G)-&gt;21.3G(32.0G)], [Metaspace: 90182K-&gt;90182K(94208K)] \n[Times: user=27.33 sys=1.05, real=19.54 secs] \n\n2023-10-06T09:15:45.544+0800: 661951.395: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5219354 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.4G(32.0G)], [Metaspace: 90216K-&gt;90216K(94208K)]\n [Times: user=19.32 sys=1.00, real=14.52 secs] \n\n2023-10-06T09:47:37.129+0800: 663862.980: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 15.0624531 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.5G(32.0G)], [Metaspace: 90217K-&gt;90199K(94208K)]\n [Times: user=18.48 sys=2.25, real=15.06 secs] \n\n2023-10-06T10:11:54.450+0800: 665320.301: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5384049 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90217K-&gt;90202K(94208K)]\n [Times: user=18.65 sys=1.60, real=14.54 secs] \n\n2023-10-06T10:36:51.857+0800: 666817.708: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1996159 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90213K-&gt;90205K(94208K)]\n [Times: user=18.68 sys=1.30, real=14.20 secs] \n\n2023-10-06T11:00:10.119+0800: 668215.970: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1973267 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.8G(32.0G)], [Metaspace: 90218K-&gt;90211K(94208K)]\n [Times: user=19.31 sys=0.77, real=14.20 secs] \n\n</code></pre>\n<p>the gc param G1ReservePercent=15 means that G1 will ensure at least 15% free space as pointed in <a href=\"https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp#:%7E:text=The%20default%20value%20is%20200%20milliseconds.&amp;text=Sets%20the%20size%20of%20a,range%20from%201MB%20to%2032MB.\" rel=\"nofollow noreferrer\">gceasy</a></p>\n<blockquote>\n<p>Sets the percentage of reserve memory to keep free. The default is 10 percent. G1 Garbage collectors will try to keep 10% of the heap to be free always.</p>\n</blockquote>\n<p>Which means g1 will start a (old? mixed?) gc to match the G1ReservePercent constraint when heap grows up to about 27G (85% of 32G).</p>\n<p>But the full gc log <code>31.7G(32.0G)-&gt;20.8G(32.0G)</code> shows that the heap has exhausted, it's too late to start a non full gc.</p>\n<p>So what's wrong with the full gc problem and why G1ReservePercent param doesn't work.</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696847854,"post_id":77257870,"comment_id":136200903,"body_markdown":"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv","body":"<a href=\"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv\" title=\"how to differentiate between empty string and null with opencsv\">stackoverflow.com/questions/25301620/&hellip;</a>"},{"owner":{"account_id":18109251,"reputation":1,"user_id":13166424,"display_name":"Norlad7"},"score":0,"creation_date":1696849680,"post_id":77257870,"comment_id":136201232,"body_markdown":"@JCompetence this doesn&#39;t answer my question, as it is not about custom values, but simply string vs nothing. It also is not using CsvToBean.","body":"@JCompetence this doesn&#39;t answer my question, as it is not about custom values, but simply string vs nothing. It also is not using CsvToBean."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849792,"post_id":77257870,"comment_id":136201256,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"score":0,"creation_date":1701692599,"post_id":77257870,"comment_id":136803213,"body_markdown":"You would need to &quot;write your own mapping strategy&quot;, but I think that it is totally sufficient if you override the part where the field value is set.","body":"You would need to &quot;write your own mapping strategy&quot;, but I think that it is totally sufficient if you override the part where the field value is set."}],"owner":{"account_id":18109251,"reputation":1,"user_id":13166424,"display_name":"Norlad7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696850747,"creation_date":1696845297,"question_id":77257870,"body_markdown":"I am using OpenCSV&#39;s `CsvToBean` to map rows to my POJOs, but I can&#39;t seem to find a way to define string values that should be converted to `null`.\r\n\r\nSay, if I wanted *&quot;null&quot;*, *&quot;Null&quot;*, *&quot;N/A&quot;* or anything else to be mapped as `null`, how should I proceed?\r\n\r\nI&#39;ve seen `StringProcessors` in the docs, but these would need to be applied with annotations to each and every field of the classes, which sounds tedious.\r\n\r\nI also saw the `.withFieldAsNull` on the `CsvToBeanBuilder`, but it only offers conversion to null for empty separators or empty strings (*&quot;&quot;*).\r\n\r\nThank you very much !","title":"Using OpenCSV&#39;s CsvToBean, how can I define values to be converted to null?","body":"<p>I am using OpenCSV's <code>CsvToBean</code> to map rows to my POJOs, but I can't seem to find a way to define string values that should be converted to <code>null</code>.</p>\n<p>Say, if I wanted <em>&quot;null&quot;</em>, <em>&quot;Null&quot;</em>, <em>&quot;N/A&quot;</em> or anything else to be mapped as <code>null</code>, how should I proceed?</p>\n<p>I've seen <code>StringProcessors</code> in the docs, but these would need to be applied with annotations to each and every field of the classes, which sounds tedious.</p>\n<p>I also saw the <code>.withFieldAsNull</code> on the <code>CsvToBeanBuilder</code>, but it only offers conversion to null for empty separators or empty strings (<em>&quot;&quot;</em>).</p>\n<p>Thank you very much !</p>\n"},{"tags":["java","android","android-studio","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":11416261,"reputation":71,"user_id":8369004,"display_name":"Sermore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696849521,"creation_date":1696849521,"answer_id":77258291,"question_id":75335792,"body_markdown":"Finally i found the answer, there was nothing to do with the bluetooth connections or something like that, it was a TextView wich i am using as log, when i empty the log to append new text for some reason it causes the exception that it posted below, so if someone is strugling with this, check if you are emptying some textview and trying to append text after or something like that.\r\n\r\nThe only thing that gived me a clue was the lines on the exception that mention the textview class;\r\n\r\n    at android.widget.TextView.onDraw(TextView.java:8852)\r\n\r\n","title":"Android app IndexOutOfBoundsException on PackedIntVector","body":"<p>Finally i found the answer, there was nothing to do with the bluetooth connections or something like that, it was a TextView wich i am using as log, when i empty the log to append new text for some reason it causes the exception that it posted below, so if someone is strugling with this, check if you are emptying some textview and trying to append text after or something like that.</p>\n<p>The only thing that gived me a clue was the lines on the exception that mention the textview class;</p>\n<pre><code>at android.widget.TextView.onDraw(TextView.java:8852)\n</code></pre>\n"}],"owner":{"account_id":11416261,"reputation":71,"user_id":8369004,"display_name":"Sermore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696849521,"creation_date":1675427552,"question_id":75335792,"body_markdown":"i am developing an Android app that communicates with Bluetooth sending and receiving raw commands on byte array.\r\n\r\nRandomly the app crashes right after i send some of this command, with the following excepcion;\r\n\r\n     `Process: xxx.xxx.xxx, PID: 19983\r\n        java.lang.IndexOutOfBoundsException: 2, 1\r\n        at android.text.PackedIntVector.getValue(PackedIntVector.java:75)\r\n        at android.text.DynamicLayout.getLineTop(DynamicLayout.java:1010)\r\n        at android.text.Layout.getLineBottom(Layout.java:1725)\r\n        at android.widget.Editor.drawHardwareAcceleratedInner(Editor.java:2310)\r\n        at android.widget.Editor.drawHardwareAccelerated(Editor.java:2251)\r\n        at android.widget.Editor.onDraw(Editor.java:2191)\r\n        at android.widget.TextView.onDraw(TextView.java:8852)\r\n        at android.view.View.draw(View.java:23901)`\r\n  \r\n\r\nAs i understand the problem is on the PackedIntVector.java class, but its an Android class and on the stack trace there isn`t any of my app files, all are from Android classes.\r\n\r\nDoes anybody know what could be happening? The excepcion always happen right after sending a command and not always happen, but i have not found any thtat triggers it, seems &quot;random&quot;.\r\n\r\nThanks in advice!","title":"Android app IndexOutOfBoundsException on PackedIntVector","body":"<p>i am developing an Android app that communicates with Bluetooth sending and receiving raw commands on byte array.</p>\n<p>Randomly the app crashes right after i send some of this command, with the following excepcion;</p>\n<pre><code> `Process: xxx.xxx.xxx, PID: 19983\n    java.lang.IndexOutOfBoundsException: 2, 1\n    at android.text.PackedIntVector.getValue(PackedIntVector.java:75)\n    at android.text.DynamicLayout.getLineTop(DynamicLayout.java:1010)\n    at android.text.Layout.getLineBottom(Layout.java:1725)\n    at android.widget.Editor.drawHardwareAcceleratedInner(Editor.java:2310)\n    at android.widget.Editor.drawHardwareAccelerated(Editor.java:2251)\n    at android.widget.Editor.onDraw(Editor.java:2191)\n    at android.widget.TextView.onDraw(TextView.java:8852)\n    at android.view.View.draw(View.java:23901)`\n</code></pre>\n<p>As i understand the problem is on the PackedIntVector.java class, but its an Android class and on the stack trace there isn`t any of my app files, all are from Android classes.</p>\n<p>Does anybody know what could be happening? The excepcion always happen right after sending a command and not always happen, but i have not found any thtat triggers it, seems &quot;random&quot;.</p>\n<p>Thanks in advice!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9883,"page":134,"page_size":100}
